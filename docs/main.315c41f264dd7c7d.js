"use strict";(self.webpackChunkphotohub=self.webpackChunkphotohub||[]).push([[179],{58:(fs,br,et)=>{et.d(br,{BH:()=>tn,DV:()=>ei,Dv:()=>io,G6:()=>$o,GJ:()=>sr,L:()=>yt,LL:()=>X,P0:()=>yr,Pz:()=>$t,Sg:()=>_i,UG:()=>ae,UI:()=>wc,US:()=>hn,Wj:()=>Ni,Wl:()=>Fe,Yr:()=>js,ZB:()=>ke,ZR:()=>ue,aH:()=>pn,b$:()=>Gn,cI:()=>ye,dS:()=>ms,eu:()=>Y,g5:()=>J,gK:()=>ar,gQ:()=>ti,h$:()=>mr,hl:()=>K,hu:()=>Ge,jU:()=>On,lb:()=>Fi,m9:()=>Ic,ne:()=>_s,p$:()=>fe,pd:()=>eu,r3:()=>Jr,ru:()=>fn,tV:()=>ce,uI:()=>vr,ug:()=>Hs,vZ:()=>gs,w1:()=>jo,w9:()=>Dr,xO:()=>Jl,xb:()=>ki,z$:()=>lt,zd:()=>wo});const T={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Ge=function(N,x){if(!N)throw J(x)},J=function(N){return new Error("Firebase Database ("+T.SDK_VERSION+") INTERNAL ASSERT FAILED: "+N)},Ze=function(N){const x=[];let k=0;for(let re=0;re<N.length;re++){let $=N.charCodeAt(re);$<128?x[k++]=$:$<2048?(x[k++]=$>>6|192,x[k++]=63&$|128):55296==(64512&$)&&re+1<N.length&&56320==(64512&N.charCodeAt(re+1))?($=65536+((1023&$)<<10)+(1023&N.charCodeAt(++re)),x[k++]=$>>18|240,x[k++]=$>>12&63|128,x[k++]=$>>6&63|128,x[k++]=63&$|128):(x[k++]=$>>12|224,x[k++]=$>>6&63|128,x[k++]=63&$|128)}return x},hn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(N,x){if(!Array.isArray(N))throw Error("encodeByteArray takes an array as a parameter");this.init_();const k=x?this.byteToCharMapWebSafe_:this.byteToCharMap_,re=[];for(let $=0;$<N.length;$+=3){const Q=N[$],Qe=$+1<N.length,kt=Qe?N[$+1]:0,it=$+2<N.length,_n=it?N[$+2]:0;let Cr=(15&kt)<<2|_n>>6,Kt=63&_n;it||(Kt=64,Qe||(Cr=64)),re.push(k[Q>>2],k[(3&Q)<<4|kt>>4],k[Cr],k[Kt])}return re.join("")},encodeString(N,x){return this.HAS_NATIVE_SUPPORT&&!x?btoa(N):this.encodeByteArray(Ze(N),x)},decodeString(N,x){return this.HAS_NATIVE_SUPPORT&&!x?atob(N):function(N){const x=[];let k=0,re=0;for(;k<N.length;){const $=N[k++];if($<128)x[re++]=String.fromCharCode($);else if($>191&&$<224){const Q=N[k++];x[re++]=String.fromCharCode((31&$)<<6|63&Q)}else if($>239&&$<365){const it=((7&$)<<18|(63&N[k++])<<12|(63&N[k++])<<6|63&N[k++])-65536;x[re++]=String.fromCharCode(55296+(it>>10)),x[re++]=String.fromCharCode(56320+(1023&it))}else{const Q=N[k++],Qe=N[k++];x[re++]=String.fromCharCode((15&$)<<12|(63&Q)<<6|63&Qe)}}return x.join("")}(this.decodeStringToByteArray(N,x))},decodeStringToByteArray(N,x){this.init_();const k=x?this.charToByteMapWebSafe_:this.charToByteMap_,re=[];for(let $=0;$<N.length;){const Q=k[N.charAt($++)],kt=$<N.length?k[N.charAt($)]:0;++$;const _n=$<N.length?k[N.charAt($)]:64;++$;const Le=$<N.length?k[N.charAt($)]:64;if(++$,null==Q||null==kt||null==_n||null==Le)throw new kn;re.push(Q<<2|kt>>4),64!==_n&&(re.push(kt<<4&240|_n>>2),64!==Le&&re.push(_n<<6&192|Le))}return re},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let N=0;N<this.ENCODED_VALS.length;N++)this.byteToCharMap_[N]=this.ENCODED_VALS.charAt(N),this.charToByteMap_[this.byteToCharMap_[N]]=N,this.byteToCharMapWebSafe_[N]=this.ENCODED_VALS_WEBSAFE.charAt(N),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[N]]=N,N>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(N)]=N,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(N)]=N)}}};class kn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mr=function(N){const x=Ze(N);return hn.encodeByteArray(x,!0)},yt=function(N){return mr(N).replace(/\./g,"")},ce=function(N){try{return hn.decodeString(N,!0)}catch(x){console.error("base64Decode failed: ",x)}return null};function fe(N){return ke(void 0,N)}function ke(N,x){if(!(x instanceof Object))return x;switch(x.constructor){case Date:return new Date(x.getTime());case Object:void 0===N&&(N={});break;case Array:N=[];break;default:return x}for(const k in x)!x.hasOwnProperty(k)||!gt(k)||(N[k]=ke(N[k],x[k]));return N}function gt(N){return"__proto__"!==N}const ct=()=>{try{return function Nt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const N=process.env.__FIREBASE_DEFAULTS__;return N?JSON.parse(N):void 0})()||(()=>{if(typeof document>"u")return;let N;try{N=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const x=N&&ce(N[1]);return x&&JSON.parse(x)})()}catch(N){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${N}`)}},yr=N=>{const x=(N=>{var x,k;return null===(k=null===(x=ct())||void 0===x?void 0:x.emulatorHosts)||void 0===k?void 0:k[N]})(N);if(!x)return;const k=x.lastIndexOf(":");if(k<=0||k+1===x.length)throw new Error(`Invalid host ${x} with no separate hostname and port!`);const re=parseInt(x.substring(k+1),10);return"["===x[0]?[x.substring(1,k-1),re]:[x.substring(0,k),re]},pn=()=>{var N;return null===(N=ct())||void 0===N?void 0:N.config},$t=N=>{var x;return null===(x=ct())||void 0===x?void 0:x[`_${N}`]};class tn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((x,k)=>{this.resolve=x,this.reject=k})}wrapCallback(x){return(k,re)=>{k?this.reject(k):this.resolve(re),"function"==typeof x&&(this.promise.catch(()=>{}),1===x.length?x(k):x(k,re))}}}function _i(N,x){if(N.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const re=x||"demo-project",$=N.iat||0,Q=N.sub||N.user_id;if(!Q)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Qe=Object.assign({iss:`https://securetoken.google.com/${re}`,aud:re,iat:$,exp:$+3600,auth_time:$,sub:Q,user_id:Q,firebase:{sign_in_provider:"custom",identities:{}}},N);return[yt(JSON.stringify({alg:"none",type:"JWT"})),yt(JSON.stringify(Qe)),""].join(".")}function lt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function vr(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lt())}function ae(){var N;const x=null===(N=ct())||void 0===N?void 0:N.forceEnvironment;if("node"===x)return!0;if("browser"===x)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function On(){return"object"==typeof self&&self.self===self}function fn(){const N="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof N&&void 0!==N.id}function Gn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function jo(){const N=lt();return N.indexOf("MSIE ")>=0||N.indexOf("Trident/")>=0}function js(){return!0===T.NODE_CLIENT||!0===T.NODE_ADMIN}function $o(){return!ae()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function K(){try{return"object"==typeof indexedDB}catch{return!1}}function Y(){return new Promise((N,x)=>{try{let k=!0;const re="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(re);$.onsuccess=()=>{$.result.close(),k||self.indexedDB.deleteDatabase(re),N(!0)},$.onupgradeneeded=()=>{k=!1},$.onerror=()=>{var Q;x((null===(Q=$.error)||void 0===Q?void 0:Q.message)||"")}}catch(k){x(k)}})}class ue extends Error{constructor(x,k,re){super(k),this.code=x,this.customData=re,this.name="FirebaseError",Object.setPrototypeOf(this,ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,X.prototype.create)}}class X{constructor(x,k,re){this.service=x,this.serviceName=k,this.errors=re}create(x,...k){const re=k[0]||{},$=`${this.service}/${x}`,Q=this.errors[x],Qe=Q?function Pe(N,x){return N.replace(It,(k,re)=>{const $=x[re];return null!=$?String($):`<${re}?>`})}(Q,re):"Error";return new ue($,`${this.serviceName}: ${Qe} (${$}).`,re)}}const It=/\{\$([^}]+)}/g;function ye(N){return JSON.parse(N)}function Fe(N){return JSON.stringify(N)}const Rt=function(N){let x={},k={},re={},$="";try{const Q=N.split(".");x=ye(ce(Q[0])||""),k=ye(ce(Q[1])||""),$=Q[2],re=k.d||{},delete k.d}catch{}return{header:x,claims:k,data:re,signature:$}},Dr=function(N){const k=Rt(N).claims;return!!k&&"object"==typeof k&&k.hasOwnProperty("iat")},sr=function(N){const x=Rt(N).claims;return"object"==typeof x&&!0===x.admin};function Jr(N,x){return Object.prototype.hasOwnProperty.call(N,x)}function ei(N,x){if(Object.prototype.hasOwnProperty.call(N,x))return N[x]}function ki(N){for(const x in N)if(Object.prototype.hasOwnProperty.call(N,x))return!1;return!0}function wc(N,x,k){const re={};for(const $ in N)Object.prototype.hasOwnProperty.call(N,$)&&(re[$]=x.call(k,N[$],$,N));return re}function gs(N,x){if(N===x)return!0;const k=Object.keys(N),re=Object.keys(x);for(const $ of k){if(!re.includes($))return!1;const Q=N[$],Qe=x[$];if(qn(Q)&&qn(Qe)){if(!gs(Q,Qe))return!1}else if(Q!==Qe)return!1}for(const $ of re)if(!k.includes($))return!1;return!0}function qn(N){return null!==N&&"object"==typeof N}function Jl(N){const x=[];for(const[k,re]of Object.entries(N))Array.isArray(re)?re.forEach($=>{x.push(encodeURIComponent(k)+"="+encodeURIComponent($))}):x.push(encodeURIComponent(k)+"="+encodeURIComponent(re));return x.length?"&"+x.join("&"):""}function wo(N){const x={};return N.replace(/^\?/,"").split("&").forEach(re=>{if(re){const[$,Q]=re.split("=");x[decodeURIComponent($)]=decodeURIComponent(Q)}}),x}function eu(N){const x=N.indexOf("?");if(!x)return"";const k=N.indexOf("#",x);return N.substring(x,k>0?k:void 0)}class ti{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let x=1;x<this.blockSize;++x)this.pad_[x]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(x,k){k||(k=0);const re=this.W_;if("string"==typeof x)for(let Le=0;Le<16;Le++)re[Le]=x.charCodeAt(k)<<24|x.charCodeAt(k+1)<<16|x.charCodeAt(k+2)<<8|x.charCodeAt(k+3),k+=4;else for(let Le=0;Le<16;Le++)re[Le]=x[k]<<24|x[k+1]<<16|x[k+2]<<8|x[k+3],k+=4;for(let Le=16;Le<80;Le++){const Cr=re[Le-3]^re[Le-8]^re[Le-14]^re[Le-16];re[Le]=4294967295&(Cr<<1|Cr>>>31)}let _n,Li,$=this.chain_[0],Q=this.chain_[1],Qe=this.chain_[2],kt=this.chain_[3],it=this.chain_[4];for(let Le=0;Le<80;Le++){Le<40?Le<20?(_n=kt^Q&(Qe^kt),Li=1518500249):(_n=Q^Qe^kt,Li=1859775393):Le<60?(_n=Q&Qe|kt&(Q|Qe),Li=2400959708):(_n=Q^Qe^kt,Li=3395469782);const Cr=($<<5|$>>>27)+_n+it+Li+re[Le]&4294967295;it=kt,kt=Qe,Qe=4294967295&(Q<<30|Q>>>2),Q=$,$=Cr}this.chain_[0]=this.chain_[0]+$&4294967295,this.chain_[1]=this.chain_[1]+Q&4294967295,this.chain_[2]=this.chain_[2]+Qe&4294967295,this.chain_[3]=this.chain_[3]+kt&4294967295,this.chain_[4]=this.chain_[4]+it&4294967295}update(x,k){if(null==x)return;void 0===k&&(k=x.length);const re=k-this.blockSize;let $=0;const Q=this.buf_;let Qe=this.inbuf_;for(;$<k;){if(0===Qe)for(;$<=re;)this.compress_(x,$),$+=this.blockSize;if("string"==typeof x){for(;$<k;)if(Q[Qe]=x.charCodeAt($),++Qe,++$,Qe===this.blockSize){this.compress_(Q),Qe=0;break}}else for(;$<k;)if(Q[Qe]=x[$],++Qe,++$,Qe===this.blockSize){this.compress_(Q),Qe=0;break}}this.inbuf_=Qe,this.total_+=k}digest(){const x=[];let k=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let $=this.blockSize-1;$>=56;$--)this.buf_[$]=255&k,k/=256;this.compress_(this.buf_);let re=0;for(let $=0;$<5;$++)for(let Q=24;Q>=0;Q-=8)x[re]=this.chain_[$]>>Q&255,++re;return x}}function _s(N,x){const k=new $s(N,x);return k.subscribe.bind(k)}class $s{constructor(x,k){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=k,this.task.then(()=>{x(this)}).catch(re=>{this.error(re)})}next(x){this.forEachObserver(k=>{k.next(x)})}error(x){this.forEachObserver(k=>{k.error(x)}),this.close(x)}complete(){this.forEachObserver(x=>{x.complete()}),this.close()}subscribe(x,k,re){let $;if(void 0===x&&void 0===k&&void 0===re)throw new Error("Missing Observer.");$=function Ia(N,x){if("object"!=typeof N||null===N)return!1;for(const k of x)if(k in N&&"function"==typeof N[k])return!0;return!1}(x,["next","error","complete"])?x:{next:x,error:k,complete:re},void 0===$.next&&($.next=gn),void 0===$.error&&($.error=gn),void 0===$.complete&&($.complete=gn);const Q=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch{}}),this.observers.push($),Q}unsubscribeOne(x){void 0===this.observers||void 0===this.observers[x]||(delete this.observers[x],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(x){if(!this.finalized)for(let k=0;k<this.observers.length;k++)this.sendOne(k,x)}sendOne(x,k){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[x])try{k(this.observers[x])}catch(re){typeof console<"u"&&console.error&&console.error(re)}})}close(x){this.finalized||(this.finalized=!0,void 0!==x&&(this.finalError=x),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gn(){}const io=function(N,x,k,re){let $;if(re<x?$="at least "+x:re>k&&($=0===k?"none":"no more than "+k),$)throw new Error(N+" failed: Was called with "+re+(1===re?" argument.":" arguments.")+" Expects "+$+".")};function ar(N,x){return`${N} failed: ${x} argument `}function Ni(N,x,k,re){if((!re||k)&&"function"!=typeof k)throw new Error(ar(N,x)+"must be a valid function.")}function Fi(N,x,k,re){if((!re||k)&&("object"!=typeof k||null===k))throw new Error(ar(N,x)+"must be a valid context object.")}const ms=function(N){const x=[];let k=0;for(let re=0;re<N.length;re++){let $=N.charCodeAt(re);if($>=55296&&$<=56319){const Q=$-55296;re++,Ge(re<N.length,"Surrogate pair missing trail surrogate."),$=65536+(Q<<10)+(N.charCodeAt(re)-56320)}$<128?x[k++]=$:$<2048?(x[k++]=$>>6|192,x[k++]=63&$|128):$<65536?(x[k++]=$>>12|224,x[k++]=$>>6&63|128,x[k++]=63&$|128):(x[k++]=$>>18|240,x[k++]=$>>12&63|128,x[k++]=$>>6&63|128,x[k++]=63&$|128)}return x},Hs=function(N){let x=0;for(let k=0;k<N.length;k++){const re=N.charCodeAt(k);re<128?x++:re<2048?x+=2:re>=55296&&re<=56319?(x+=4,k++):x+=3}return x};function Ic(N){return N&&N._delegate?N._delegate:N}},235:(fs,br,et)=>{function T(t){return"function"==typeof t}function Ge(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const J=Ge(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Ze(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class xt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(T(r))try{r()}catch(o){e=o instanceof J?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{mr(o)}catch(s){e=e??[],s instanceof J?e=[...e,...s.errors]:e.push(s)}}if(e)throw new J(e)}}add(e){var n;if(e&&e!==this)if(this.closed)mr(e);else{if(e instanceof xt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ze(n,e)}remove(e){const{_finalizers:n}=this;n&&Ze(n,e),e instanceof xt&&e._removeParent(this)}}xt.EMPTY=(()=>{const t=new xt;return t.closed=!0,t})();const hn=xt.EMPTY;function kn(t){return t instanceof xt||t&&"closed"in t&&T(t.remove)&&T(t.add)&&T(t.unsubscribe)}function mr(t){T(t)?t():t.unsubscribe()}const yt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ce={setTimeout(t,e,...n){const{delegate:r}=ce;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=ce;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function fe(t){ce.setTimeout(()=>{const{onUnhandledError:e}=yt;if(!e)throw t;e(t)})}function ke(){}const gt=jt("C",void 0,void 0);function jt(t,e,n){return{kind:t,value:e,error:n}}let Ye=null;function ct(t){if(yt.useDeprecatedSynchronousErrorHandling){const e=!Ye;if(e&&(Ye={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Ye;if(Ye=null,n)throw r}}else t()}class yr extends xt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,kn(e)&&e.add(this)):this.destination=On}static create(e,n,r){return new _i(e,n,r)}next(e){this.isStopped?ae(function Tr(t){return jt("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?ae(function Nt(t){return jt("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ae(gt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const pn=Function.prototype.bind;function $t(t,e){return pn.call(t,e)}class tn{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){lt(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){lt(r)}else lt(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){lt(n)}}}class _i extends yr{constructor(e,n,r){let i;if(super(),T(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&yt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&$t(e.next,o),error:e.error&&$t(e.error,o),complete:e.complete&&$t(e.complete,o)}):i=e}this.destination=new tn(i)}}function lt(t){yt.useDeprecatedSynchronousErrorHandling?function Ar(t){yt.useDeprecatedSynchronousErrorHandling&&Ye&&(Ye.errorThrown=!0,Ye.error=t)}(t):fe(t)}function ae(t,e){const{onStoppedNotification:n}=yt;n&&ce.setTimeout(()=>n(t,e))}const On={closed:!0,next:ke,error:function vr(t){throw t},complete:ke},fn="function"==typeof Symbol&&Symbol.observable||"@@observable";function Gn(t){return t}function jo(t){return 0===t.length?Gn:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let ht=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function K(t){return t&&t instanceof yr||function $o(t){return t&&T(t.next)&&T(t.error)&&T(t.complete)}(t)&&kn(t)}(n)?n:new _i(n,r,i);return ct(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=js(r))((i,o)=>{const s=new _i({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[fn](){return this}pipe(...n){return jo(n)(this)}toPromise(n){return new(n=js(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function js(t){var e;return null!==(e=t??yt.Promise)&&void 0!==e?e:Promise}const Y=Ge(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let te=(()=>{class t extends ht{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new ie(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Y}next(n){ct(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){ct(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ct(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?hn:(this.currentObservers=null,o.push(n),new xt(()=>{this.currentObservers=null,Ze(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new ht;return n.source=this,n}}return t.create=(e,n)=>new ie(e,n),t})();class ie extends te{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:hn}}function ue(t){return T(t?.lift)}function X(t){return e=>{if(ue(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Pe(t,e,n,r,i){return new It(t,e,n,r,i)}class It extends yr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ye(t,e){return X((n,r)=>{let i=0;n.subscribe(Pe(r,o=>{r.next(t.call(e,o,i++))}))})}var Fe=et(582);const Rt=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function En(t){return T(t?.then)}function cn(t){return T(t[fn])}function Dr(t){return Symbol.asyncIterator&&T(t?.[Symbol.asyncIterator])}function sr(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ei=function Jr(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ki(t){return T(t?.[ei])}function wc(t){return(0,Fe.FC)(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield(0,Fe.qq)(n.read());if(i)return yield(0,Fe.qq)(void 0);yield yield(0,Fe.qq)(r)}}finally{n.releaseLock()}})}function gs(t){return T(t?.getReader)}function qn(t){if(t instanceof ht)return t;if(null!=t){if(cn(t))return function Pc(t){return new ht(e=>{const n=t[fn]();if(T(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Rt(t))return function Jl(t){return new ht(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(En(t))return function wo(t){return new ht(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,fe)})}(t);if(Dr(t))return ti(t);if(ki(t))return function eu(t){return new ht(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(gs(t))return function _s(t){return ti(wc(t))}(t)}throw sr(t)}function ti(t){return new ht(e=>{(function $s(t,e){var n,r,i,o;return(0,Fe.mG)(this,void 0,void 0,function*(){try{for(n=(0,Fe.KL)(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function jr(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function gn(t,e,n=1/0){return T(e)?gn((r,i)=>ye((o,s)=>e(r,o,i,s))(qn(t(r,i))),n):("number"==typeof e&&(n=e),X((r,i)=>function Ia(t,e,n,r,i,o,s,a){const c=[];let l=0,h=0,f=!1;const y=()=>{f&&!c.length&&!l&&e.complete()},v=b=>l<r?O(b):c.push(b),O=b=>{o&&e.next(b),l++;let D=!1;qn(n(b,h++)).subscribe(Pe(e,U=>{i?.(U),o?v(U):e.next(U)},()=>{D=!0},void 0,()=>{if(D)try{for(l--;c.length&&l<r;){const U=c.shift();s?jr(e,s,()=>O(U)):O(U)}y()}catch(U){e.error(U)}}))};return t.subscribe(Pe(e,v,()=>{f=!0,y()})),()=>{a?.()}}(r,i,t,n)))}function io(t=1/0){return gn(Gn,t)}const ar=new ht(t=>t.complete());function ms(t){return t[t.length-1]}function Hs(t){return T(ms(t))?t.pop():void 0}function zs(t){return function Fi(t){return t&&T(t.schedule)}(ms(t))?t.pop():void 0}function Sr(t,e=0){return X((n,r)=>{n.subscribe(Pe(r,i=>jr(r,t,()=>r.next(i),e),()=>jr(r,t,()=>r.complete(),e),i=>jr(r,t,()=>r.error(i),e)))})}function ni(t,e=0){return X((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Ic(t,e){if(!t)throw new Error("Iterable cannot be null");return new ht(n=>{jr(n,e,()=>{const r=t[Symbol.asyncIterator]();jr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function k(t,e){return e?function x(t,e){if(null!=t){if(cn(t))return function Ws(t,e){return qn(t).pipe(ni(e),Sr(e))}(t,e);if(Rt(t))return function Fd(t,e){return new ht(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(En(t))return function Ec(t,e){return qn(t).pipe(ni(e),Sr(e))}(t,e);if(Dr(t))return Ic(t,e);if(ki(t))return function tu(t,e){return new ht(n=>{let r;return jr(n,e,()=>{r=t[ei](),jr(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>T(r?.return)&&r.return()})}(t,e);if(gs(t))return function N(t,e){return Ic(wc(t),e)}(t,e)}throw sr(t)}(t,e):qn(t)}function re(...t){const e=zs(t),n=function Oc(t,e){return"number"==typeof ms(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?qn(r[0]):io(n)(k(r,e)):ar}class $ extends te{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Q(...t){return k(t,zs(t))}function Qe(t={}){const{connector:e=(()=>new te),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,c,l=0,h=!1,f=!1;const y=()=>{a?.unsubscribe(),a=void 0},v=()=>{y(),s=c=void 0,h=f=!1},O=()=>{const b=s;v(),b?.unsubscribe()};return X((b,D)=>{l++,!f&&!h&&y();const U=c=c??e();D.add(()=>{l--,0===l&&!f&&!h&&(a=kt(O,i))}),U.subscribe(D),!s&&l>0&&(s=new _i({next:L=>U.next(L),error:L=>{f=!0,y(),a=kt(v,n,L),U.error(L)},complete:()=>{h=!0,y(),a=kt(v,r),U.complete()}}),qn(b).subscribe(s))})(o)}}function kt(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new _i({next:()=>{r.unsubscribe(),t()}});return qn(e(...n)).subscribe(r)}function it(t,e){return X((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(Pe(r,c=>{i?.unsubscribe();let l=0;const h=o++;qn(t(c,h)).subscribe(i=Pe(r,f=>r.next(e?e(c,f,h,l++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function _n(t,e=Gn){return t=t??Li,X((n,r)=>{let i,o=!0;n.subscribe(Pe(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function Li(t,e){return t===e}function Le(t){for(let e in t)if(t[e]===Le)return e;throw Error("Could not find renamed property on target object.")}function Cr(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Kt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Kt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function ys(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const ba=Le({__forward_ref__:Le});function z(t){return t.__forward_ref__=z,t.toString=function(){return Kt(this())},t}function V(t){return he(t)?t():t}function he(t){return"function"==typeof t&&t.hasOwnProperty(ba)&&t.__forward_ref__===z}function Ue(t){return t&&!!t.\u0275providers}const _t="https://g.co/ng/security#xss";class ne extends Error{constructor(e,n){super(function cr(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Ne(t){return"string"==typeof t?t:null==t?"":String(t)}function Vf(t,e){throw new ne(-201,!1)}function mi(t,e){null==t&&function qe(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function xe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function lr(t){return{providers:t.providers||[],imports:t.imports||[]}}function ru(t){return Ta(t,iu)||Ta(t,yv)}function Ta(t,e){return t.hasOwnProperty(e)?t[e]:null}function bc(t){return t&&(t.hasOwnProperty(ou)||t.hasOwnProperty(jf))?t[ou]:null}const iu=Le({\u0275prov:Le}),ou=Le({\u0275inj:Le}),yv=Le({ngInjectableDef:Le}),jf=Le({ngInjectorDef:Le});var Ct=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Ct||{});let su;function $r(t){const e=su;return su=t,e}function vv(t,e,n){const r=ru(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Ct.Optional?null:void 0!==e?e:void Vf(Kt(t))}const nn=globalThis,yi={},Gf="__NG_DI_FLAG__",Tc="ngTempTokenPath",qf=/\n/gm,Ud="__source";let Ac;function Ho(t){const e=Ac;return Ac=t,e}function Aa(t,e=Ct.Default){if(void 0===Ac)throw new ne(-203,!1);return null===Ac?vv(t,void 0,e):Ac.get(t,e&Ct.Optional?null:void 0,e)}function se(t,e=Ct.Default){return(function au(){return su}()||Aa)(V(t),e)}function Me(t,e=Ct.Default){return se(t,Kf(e))}function Kf(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function lu(t){const e=[];for(let n=0;n<t.length;n++){const r=V(t[n]);if(Array.isArray(r)){if(0===r.length)throw new ne(900,!1);let i,o=Ct.Default;for(let s=0;s<r.length;s++){const a=r[s],c=Dc(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}e.push(se(i,o))}else e.push(se(r))}return e}function Ui(t,e){return t[Gf]=e,t.prototype[Gf]=e,t}function Dc(t){return t[Gf]}function zo(t){return{toString:t}.toString()}var uu=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(uu||{}),Po=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Po||{});const ri={},Ft=[],Da=Le({\u0275cmp:Le}),Bd=Le({\u0275dir:Le}),jd=Le({\u0275pipe:Le}),$d=Le({\u0275mod:Le}),Kn=Le({\u0275fac:Le}),xc=Le({__NG_ELEMENT_ID__:Le}),Iv=Le({__NG_ENV_ID__:Le});function Hd(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Rc(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];Yf(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function Zf(t){return 3===t||4===t||6===t}function Yf(t){return 64===t.charCodeAt(0)}function du(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||zd(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function zd(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const Wd="ng-template";function Qf(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==Hd(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function hu(t){return 4===t.type&&t.value!==Wd}function Xf(t,e,n){return e===(4!==t.type||n?t.value:Wd)}function bv(t,e,n){let r=4;const i=t.attrs||[],o=function Jf(t){for(let e=0;e<t.length;e++)if(Zf(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!Xf(t,c,n)||""===c&&1===e.length){if(Bi(r))return!1;s=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!Qf(t.attrs,l,n)){if(Bi(r))return!1;s=!0}continue}const f=Tv(8&r?"class":c,i,hu(t),n);if(-1===f){if(Bi(r))return!1;s=!0;continue}if(""!==l){let y;y=f>o?"":i[f+1].toLowerCase();const v=8&r?y:null;if(v&&-1!==Hd(v,l,0)||2&r&&l!==y){if(Bi(r))return!1;s=!0}}}}else{if(!s&&!Bi(r)&&!Bi(c))return!1;if(s&&Bi(c))continue;s=!1,r=c|1&r}}return Bi(r)||s}function Bi(t){return 0==(1&t)}function Tv(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function Av(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Gd(t,e,n=!1){for(let r=0;r<e.length;r++)if(bv(t,e[r],n))return!0;return!1}function eg(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function tg(t,e){return t?":not("+e.trim()+")":e}function ng(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Bi(s)&&(e+=tg(o,i),i=""),r=s,o=o||!Bi(r);n++}return""!==i&&(e+=tg(o,i)),e}function At(t){return zo(()=>{const e=sg(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===uu.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Po.Emulated,styles:t.styles||Ft,_:null,schemas:t.schemas||null,tView:null,id:""};Yd(n);const r=t.dependencies;return n.directiveDefs=Qd(r,!1),n.pipeDefs=Qd(r,!0),n.id=function p1(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function pu(t){return Mt(t)||xr(t)}function og(t){return null!==t}function Zn(t){return zo(()=>({type:t.type,bootstrap:t.bootstrap||Ft,declarations:t.declarations||Ft,imports:t.imports||Ft,exports:t.exports||Ft,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Zd(t,e){if(null==t)return ri;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function We(t){return zo(()=>{const e=sg(t);return Yd(e),e})}function Mt(t){return t[Da]||null}function xr(t){return t[Bd]||null}function Rr(t){return t[jd]||null}function ii(t,e){const n=t[$d]||null;if(!n&&!0===e)throw new Error(`Type ${Kt(t)} does not have '\u0275mod' property.`);return n}function sg(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ri,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Ft,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Zd(t.inputs,e),outputs:Zd(t.outputs)}}function Yd(t){t.features?.forEach(e=>e(t))}function Qd(t,e){if(!t)return null;const n=e?Rr:pu;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(og)}const mn=0,Oe=1,nt=2,rn=3,Mo=4,fu=5,wr=6,Nc=7,bn=8,qs=9,Ks=10,Xe=11,Sa=12,Dv=13,Zs=14,$n=15,xa=16,Fc=17,oo=18,gu=19,Sv=20,Cs=21,Oo=22,_u=23,Wo=24,mt=25,cg=1,xv=2,Go=7,mu=9,Hr=11;function Ci(t){return Array.isArray(t)&&"object"==typeof t[cg]}function oi(t){return Array.isArray(t)&&!0===t[cg]}function kv(t){return 0!=(4&t.flags)}function Lc(t){return t.componentOffset>-1}function lg(t){return 1==(1&t.flags)}function qo(t){return!!t.template}function Nv(t){return 0!=(512&t[nt])}function Na(t,e){return t.hasOwnProperty(Kn)?t[Kn]:null}let kr=null,Vc=!1;function ao(t){const e=kr;return kr=t,e}const eh={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Bv(t){if(!La(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Cu(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function vu(t){t.dirty=!0,function hg(t){if(void 0===t.liveConsumerNode)return;const e=Vc;Vc=!0;try{for(const n of t.liveConsumerNode)n.dirty||vu(n)}finally{Vc=e}}(t),t.consumerMarkedDirty?.(t)}function th(t){return t&&(t.nextProducerIndex=0),ao(t)}function Fa(t,e){if(ao(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(La(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)wu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Cu(t){Uc(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Bv(n),r!==n.version))return!0}return!1}function jv(t){if(Uc(t),La(t))for(let e=0;e<t.producerNode.length;e++)wu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function wu(t,e){if(function rh(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Uc(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)wu(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Uc(i),i.producerIndexOfThis[r]=e}}function La(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Uc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let $v=null;const mg=()=>{},E1=(()=>({...eh,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:mg}))();class I1{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function wi(){return Wv}function Wv(t){return t.type.prototype.ngOnChanges&&(t.setInput=b1),yg}function yg(){const t=Gv(this),e=t?.current;if(e){const n=t.previous;if(n===ri)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function b1(t,e,n,r){const i=this.declaredInputs[n],o=Gv(t)||function vg(t,e){return t[oh]=e}(t,{previous:ri,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new I1(c&&c.currentValue,e,a===ri),t[r]=e}wi.ngInherit=!0;const oh="__ngSimpleChanges__";function Gv(t){return t[oh]||null}const Ko=function(t,e,n){};function Lt(t){for(;Array.isArray(t);)t=t[mn];return t}function ah(t,e){return Lt(e[t])}function Pi(t,e){return Lt(e[t.index])}function ch(t,e){return t.data[e]}function ji(t,e){const n=e[t];return Ci(n)?n:n[mn]}function Zo(t,e){return null==e?null:t[e]}function qv(t){t[Fc]=0}function Pg(t){1024&t[nt]||(t[nt]|=1024,Kv(t,1))}function lh(t){1024&t[nt]&&(t[nt]&=-1025,Kv(t,-1))}function Kv(t,e){let n=t[rn];if(null===n)return;n[fu]+=e;let r=n;for(n=n[rn];null!==n&&(1===e&&1===r[fu]||-1===e&&0===r[fu]);)n[fu]+=e,r=n,n=n[rn]}const Ke={lFrame:eC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Eg(){return Ke.bindingsEnabled}function Ua(){return null!==Ke.skipHydrationRootTNode}function le(){return Ke.lFrame.lView}function Dt(){return Ke.lFrame.tView}function Be(t){return Ke.lFrame.contextLView=t,t[bn]}function Ve(t){return Ke.lFrame.contextLView=null,t}function Nr(){let t=dh();for(;null!==t&&64===t.type;)t=t.parent;return t}function dh(){return Ke.lFrame.currentTNode}function co(t,e){const n=Ke.lFrame;n.currentTNode=t,n.isParent=e}function hh(){return Ke.lFrame.isParent}function Mu(){Ke.lFrame.isParent=!1}function zr(){const t=Ke.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Qs(){return Ke.lFrame.bindingIndex++}function Ps(t){const e=Ke.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Ag(t,e){const n=Ke.lFrame;n.bindingIndex=n.bindingRootIndex=t,Dg(e)}function Dg(t){Ke.lFrame.currentDirectiveIndex=t}function Qv(){return Ke.lFrame.currentQueryIndex}function zc(t){Ke.lFrame.currentQueryIndex=t}function j1(t){const e=t[Oe];return 2===e.type?e.declTNode:1===e.type?t[wr]:null}function Xv(t,e,n){if(n&Ct.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&Ct.Host||(i=j1(o),null===i||(o=o[Zs],10&i.type))););if(null===i)return!1;e=i,t=o}const r=Ke.lFrame=Jv();return r.currentTNode=e,r.lView=t,!0}function Sg(t){const e=Jv(),n=t[Oe];Ke.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Jv(){const t=Ke.lFrame,e=null===t?null:t.child;return null===e?eC(t):e}function eC(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function tC(){const t=Ke.lFrame;return Ke.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const nC=tC;function xg(){const t=tC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function si(){return Ke.lFrame.selectedIndex}function Ba(t){Ke.lFrame.selectedIndex=t}function Tn(){const t=Ke.lFrame;return ch(t.tView,t.selectedIndex)}let oC=!0;function fh(){return oC}function Yo(t){oC=t}function gh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=h&&(t.destroyHooks??=[]).push(n,h)}}function Wc(t,e,n){sC(t,e,3,n)}function _h(t,e,n,r){(3&t[nt])===n&&sC(t,e,n,r)}function mh(t,e){let n=t[nt];(3&n)===e&&(n&=8191,n+=1,t[nt]=n)}function sC(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let c=void 0!==r?65535&t[Fc]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[Fc]+=65536),(a<o||-1==o)&&(G1(t,n,e,c),t[Fc]=(4294901760&t[Fc])+c+2),c++}function yh(t,e){Ko(4,t,e);const n=ao(null);try{e.call(t)}finally{ao(n),Ko(5,t,e)}}function G1(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[nt]>>13<t[Fc]>>16&&(3&t[nt])===e&&(t[nt]+=8192,yh(a,o)):yh(a,o)}const Ou=-1;class ja{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Fg(t){return t!==Ou}function Gc(t){return 32767&t}function Ch(t,e){let n=function Y1(t){return t>>16}(t),r=e;for(;n>0;)r=r[Zs],n--;return r}let Ms=!0;function wh(t){const e=Ms;return Ms=t,e}const Ph=255,cC=5;let Lg=0;const Qo={};function qc(t,e){const n=lC(t,e);if(-1!==n)return n;const r=e[Oe];r.firstCreatePass&&(t.injectorIndex=e.length,Vg(r.data,t),Vg(e,null),Vg(r.blueprint,null));const i=Kc(t,e),o=t.injectorIndex;if(Fg(i)){const s=Gc(i),a=Ch(i,e),c=a[Oe].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Vg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function lC(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Kc(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=fC(i),null===r)return Ou;if(n++,i=i[Zs],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ou}function Ug(t,e,n){!function Q1(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(xc)&&(r=n[xc]),null==r&&(r=n[xc]=Lg++);const i=r&Ph;e.data[t+(i>>cC)]|=1<<i}(t,e,n)}function uC(t,e,n){if(n&Ct.Optional||void 0!==t)return t;Vf()}function dC(t,e,n,r){if(n&Ct.Optional&&void 0===r&&(r=null),!(n&(Ct.Self|Ct.Host))){const i=t[qs],o=$r(void 0);try{return i?i.get(e,r,n&Ct.Optional):vv(e,r,n&Ct.Optional)}finally{$r(o)}}return uC(r,0,n)}function hC(t,e,n,r=Ct.Default,i){if(null!==t){if(2048&e[nt]&&!(r&Ct.Self)){const s=function eO(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[nt]&&!(512&s[nt]);){const a=Bg(o,s,n,r|Ct.Self,Qo);if(a!==Qo)return a;let c=o.parent;if(!c){const l=s[Sv];if(l){const h=l.get(n,Qo,r);if(h!==Qo)return h}c=fC(s),s=s[Zs]}o=c}return i}(t,e,n,r,Qo);if(s!==Qo)return s}const o=Bg(t,e,n,r,Qo);if(o!==Qo)return o}return dC(e,n,r,i)}function Bg(t,e,n,r,i){const o=function $g(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(xc)?t[xc]:void 0;return"number"==typeof e?e>=0?e&Ph:J1:e}(n);if("function"==typeof o){if(!Xv(e,t,r))return r&Ct.Host?uC(i,0,r):dC(e,n,r,i);try{let s;if(s=o(r),null!=s||r&Ct.Optional)return s;Vf()}finally{nC()}}else if("number"==typeof o){let s=null,a=lC(t,e),c=Ou,l=r&Ct.Host?e[$n][wr]:null;for((-1===a||r&Ct.SkipSelf)&&(c=-1===a?Kc(t,e):e[a+8],c!==Ou&&pC(r,!1)?(s=e[Oe],a=Gc(c),e=Ch(c,e)):a=-1);-1!==a;){const h=e[Oe];if(Oh(o,a,h.data)){const f=jg(a,e,n,s,r,l);if(f!==Qo)return f}c=e[a+8],c!==Ou&&pC(r,e[Oe].data[a+8]===l)&&Oh(o,a,e)?(s=h,a=Gc(c),e=Ch(c,e)):a=-1}}return i}function jg(t,e,n,r,i,o){const s=e[Oe],a=s.data[t+8],h=Mh(a,s,n,null==r?Lc(a)&&Ms:r!=s&&0!=(3&a.type),i&Ct.Host&&o===a);return null!==h?$a(e,s,h,a):Qo}function Mh(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,c=t.directiveStart,h=o>>20,y=i?a+h:t.directiveEnd;for(let v=r?a:a+h;v<y;v++){const O=s[v];if(v<c&&n===O||v>=c&&O.type===n)return v}if(i){const v=s[c];if(v&&qo(v)&&v.type===n)return c}return null}function $a(t,e,n,r){let i=t[n];const o=e.data;if(function aC(t){return t instanceof ja}(i)){const s=i;s.resolving&&function nu(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new ne(-200,`Circular dependency in DI detected for ${t}${n}`)}(function vt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ne(t)}(o[n]));const a=wh(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?$r(s.injectImpl):null;Xv(t,r,Ct.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function kg(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=Wv(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==l&&$r(l),wh(a),s.resolving=!1,nC()}}return i}function Oh(t,e,n){return!!(n[e+(t>>cC)]&1<<t)}function pC(t,e){return!(t&Ct.Self||t&Ct.Host&&e)}class ai{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return hC(this._tNode,this._lView,e,Kf(r),n)}}function J1(){return new ai(Nr(),le())}function Fr(t){return zo(()=>{const e=t.prototype.constructor,n=e[Kn]||Ih(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[Kn]||Ih(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ih(t){return he(t)?()=>{const e=Ih(V(t));return e&&e()}:Na(t)}function fC(t){const e=t[Oe],n=e.type;return 2===n?e.declTNode:1===n?t[wr]:null}const Xo="__parameters__";function Qc(t,e,n){return zo(()=>{const r=function zg(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,l,h){const f=c.hasOwnProperty(Xo)?c[Xo]:Object.defineProperty(c,Xo,{value:[]})[Xo];for(;f.length<=h;)f.push(null);return(f[h]=f[h]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function za(t,e){t.forEach(n=>Array.isArray(n)?za(n,e):e(n))}function yC(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Eo(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Jc(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function on(t,e,n){let r=Xs(t,e);return r>=0?t[1|r]=n:(r=~r,function sO(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function bu(t,e){const n=Xs(t,e);if(n>=0)return t[1|n]}function Xs(t,e){return function Jo(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const p=Ui(Qc("Optional"),8),d=Ui(Qc("SkipSelf"),4);function bC(t){return 128==(128&t.flags)}var el=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(el||{});const DW=/^>|^->|<!--|-->|--!>|<!-$/g,SW=/(<|>)/g,xW="\u200b$1\u200b";const pO=new Map;let RW=0;const gO="__ngContext__";function Mi(t,e){Ci(e)?(t[gO]=e[gu],function NW(t){pO.set(t[gu],t)}(e)):t[gO]=e}let _O;function mO(t,e){return _O(t,e)}function Jg(t){const e=t[rn];return oi(e)?e[rn]:e}function ON(t){return IN(t[Sa])}function EN(t){return IN(t[Mo])}function IN(t){for(;null!==t&&!oi(t);)t=t[Mo];return t}function Sh(t,e,n,r,i){if(null!=r){let o,s=!1;oi(r)?o=r:Ci(r)&&(s=!0,r=r[mn]);const a=Lt(r);0===t&&null!==n?null==i?DN(e,n,a):Su(e,n,a,i||null,!0):1===t&&null!==n?Su(e,n,a,i||null,!0):2===t?function kC(t,e,n){const r=xC(t,e);r&&function eG(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function rG(t,e,n,r,i){const o=n[Go];o!==Lt(n)&&Sh(e,t,r,o,i);for(let a=Hr;a<n.length;a++){const c=n[a];t_(c[Oe],c,t,e,r,o)}}(e,t,o,n,i)}}function yO(t,e){return t.createComment(function _N(t){return t.replace(DW,e=>e.replace(SW,xW))}(e))}function DC(t,e,n){return t.createElement(e,n)}function TN(t,e){const n=t[mu],r=n.indexOf(e);lh(e),n.splice(r,1)}function SC(t,e){if(t.length<=Hr)return;const n=Hr+e,r=t[n];if(r){const i=r[xa];null!==i&&i!==t&&TN(i,r),e>0&&(t[n-1][Mo]=r[Mo]);const o=Eo(t,Hr+e);!function GW(t,e){t_(t,e,e[Xe],2,null,null),e[mn]=null,e[wr]=null}(r[Oe],r);const s=o[oo];null!==s&&s.detachView(o[Oe]),r[rn]=null,r[Mo]=null,r[nt]&=-129}return r}function vO(t,e){if(!(256&e[nt])){const n=e[Xe];e[_u]&&jv(e[_u]),e[Wo]&&jv(e[Wo]),n.destroyNode&&t_(t,e,n,3,null,null),function ZW(t){let e=t[Sa];if(!e)return CO(t[Oe],t);for(;e;){let n=null;if(Ci(e))n=e[Sa];else{const r=e[Hr];r&&(n=r)}if(!n){for(;e&&!e[Mo]&&e!==t;)Ci(e)&&CO(e[Oe],e),e=e[rn];null===e&&(e=t),Ci(e)&&CO(e[Oe],e),n=e&&e[Mo]}e=n}}(e)}}function CO(t,e){if(!(256&e[nt])){e[nt]&=-129,e[nt]|=256,function JW(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof ja)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];Ko(4,a,c);try{c.call(a)}finally{Ko(5,a,c)}}else{Ko(4,i,o);try{o.call(i)}finally{Ko(5,i,o)}}}}}(t,e),function XW(t,e){const n=t.cleanup,r=e[Nc];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[Nc]=null);const i=e[Cs];if(null!==i){e[Cs]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[Oe].type&&e[Xe].destroy();const n=e[xa];if(null!==n&&oi(e[rn])){n!==e[rn]&&TN(n,e);const r=e[oo];null!==r&&r.detachView(t)}!function FW(t){pO.delete(t[gu])}(e)}}function wO(t,e,n){return function AN(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[mn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===Po.None||o===Po.Emulated)return null}return Pi(r,n)}}(t,e.parent,n)}function Su(t,e,n,r,i){t.insertBefore(e,n,r,i)}function DN(t,e,n){t.appendChild(e,n)}function SN(t,e,n,r,i){null!==r?Su(t,e,n,r,i):DN(t,e,n)}function xC(t,e){return t.parentNode(e)}function xN(t,e,n){return kN(t,e,n)}let PO,IO,FC,kN=function RN(t,e,n){return 40&t.type?Pi(t,n):null};function RC(t,e,n,r){const i=wO(t,r,e),o=e[Xe],a=xN(r.parent||e[wr],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)SN(o,i,n[c],a,!1);else SN(o,i,n,a,!1);void 0!==PO&&PO(o,r,e,n,i)}function e_(t,e){if(null!==e){const n=e.type;if(3&n)return Pi(e,t);if(4&n)return MO(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return e_(t,r);{const i=t[e.index];return oi(i)?MO(-1,i):Lt(i)}}if(32&n)return mO(e,t)()||Lt(t[e.index]);{const r=FN(t,e);return null!==r?Array.isArray(r)?r[0]:e_(Jg(t[$n]),r):e_(t,e.next)}}return null}function FN(t,e){return null!==e?t[$n][wr].projection[e.projection]:null}function MO(t,e){const n=Hr+t+1;if(n<e.length){const r=e[n],i=r[Oe].firstChild;if(null!==i)return e_(r,i)}return e[Go]}function OO(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;if(s&&0===e&&(a&&Mi(Lt(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)OO(t,e,n.child,r,i,o,!1),Sh(e,t,i,a,o);else if(32&c){const l=mO(n,r);let h;for(;h=l();)Sh(e,t,i,h,o);Sh(e,t,i,a,o)}else 16&c?VN(t,e,r,n,i,o):Sh(e,t,i,a,o);n=s?n.projectionNext:n.next}}function t_(t,e,n,r,i,o){OO(n,r,t.firstChild,e,i,o,!1)}function VN(t,e,n,r,i,o){const s=n[$n],c=s[wr].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Sh(e,t,i,c[l],o);else{let l=c;const h=s[rn];bC(r)&&(l.flags|=128),OO(t,e,l,h,i,o,!0)}}function UN(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function BN(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&Rc(t,e,r),null!==i&&UN(t,e,i),null!==o&&function oG(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}function HN(t){return function bO(){if(void 0===FC&&(FC=null,nn.trustedTypes))try{FC=nn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return FC}()?.createScriptURL(t)||t}class zN{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_t})`}}function tl(t){return t instanceof zN?t.changingThisBreaksApplicationSecurity:t}function n_(t,e){const n=function gG(t){return t instanceof zN&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${_t})`)}return n===e}const vG=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var kh=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(kh||{});function pt(t){const e=i_();return e?e.sanitize(kh.URL,t)||"":n_(t,"URL")?tl(t):function TO(t){return(t=String(t)).match(vG)?t:"unsafe:"+t}(Ne(t))}function QN(t){const e=i_();if(e)return HN(e.sanitize(kh.RESOURCE_URL,t)||"");if(n_(t,"ResourceURL"))return HN(tl(t));throw new ne(904,!1)}function i_(){const t=le();return t&&t[Ks].sanitizer}class _e{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=xe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const o_=new _e("ENVIRONMENT_INITIALIZER"),JN=new _e("INJECTOR",-1),e2=new _e("INJECTOR_DEF_TYPES");class xO{get(e,n=yi){if(n===yi){const r=new Error(`NullInjectorError: No provider for ${Kt(e)}!`);throw r.name="NullInjectorError",r}return n}}function xG(...t){return{\u0275providers:t2(0,t),\u0275fromNgModule:!0}}function t2(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return za(e,s=>{const a=s;VC(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&n2(i,o),n}function n2(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];kO(i,o=>{e(o,r)})}}function VC(t,e,n,r){if(!(t=V(t)))return!1;let i=null,o=bc(t);const s=!o&&Mt(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const c=t.ngModule;if(o=bc(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)VC(l,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;r.add(i);try{za(o.imports,h=>{VC(h,e,n,r)&&(l||=[],l.push(h))})}finally{}void 0!==l&&n2(l,e)}if(!a){const l=Na(i)||(()=>new i);e({provide:i,useFactory:l,deps:Ft},i),e({provide:e2,useValue:i,multi:!0},i),e({provide:o_,useValue:()=>se(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const l=t;kO(c,h=>{e(h,l)})}}}return i!==t&&void 0!==t.providers}function kO(t,e){for(let n of t)Ue(n)&&(n=n.\u0275providers),Array.isArray(n)?kO(n,e):e(n)}const RG=Le({provide:String,useValue:Le});function NO(t){return null!==t&&"object"==typeof t&&RG in t}function xu(t){return"function"==typeof t}const FO=new _e("Set Injector scope."),UC={},NG={};let LO;function BC(){return void 0===LO&&(LO=new xO),LO}class Io{}class jC extends Io{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,UO(e,s=>this.processProvider(s)),this.records.set(JN,Nh(void 0,this)),i.has("environment")&&this.records.set(Io,Nh(void 0,this));const o=this.records.get(FO);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(e2.multi,Ft,Ct.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Ho(this),r=$r(void 0);try{return e()}finally{Ho(n),$r(r)}}get(e,n=yi,r=Ct.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Iv))return e[Iv](this);r=Kf(r);const o=Ho(this),s=$r(void 0);try{if(!(r&Ct.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function BG(t){return"function"==typeof t||"object"==typeof t&&t instanceof _e}(e)&&ru(e);c=l&&this.injectableDefInScope(l)?Nh(VO(e),UC):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&Ct.Self?BC():this.parent).get(e,n=r&Ct.Optional&&n===yi?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Tc]=a[Tc]||[]).unshift(Kt(e)),o)throw a;return function Sc(t,e,n,r){const i=t[Tc];throw e[Ud]&&i.unshift(e[Ud]),t.message=function Ev(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Kt(e);if(Array.isArray(e))i=e.map(Kt).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Kt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(qf,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Tc]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{$r(s),Ho(o)}}resolveInjectorInitializers(){const e=Ho(this),n=$r(void 0);try{const i=this.get(o_.multi,Ft,Ct.Self);for(const o of i)o()}finally{Ho(e),$r(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Kt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ne(205,!1)}processProvider(e){let n=xu(e=V(e))?e:V(e&&e.provide);const r=function LG(t){return NO(t)?Nh(void 0,t.useValue):Nh(o2(t),UC)}(e);if(xu(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Nh(void 0,UC,!0),i.factory=()=>lu(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===UC&&(n.value=NG,n.value=n.factory()),"object"==typeof n.value&&n.value&&function UG(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=V(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function VO(t){const e=ru(t),n=null!==e?e.factory:Na(t);if(null!==n)return n;if(t instanceof _e)throw new ne(204,!1);if(t instanceof Function)return function FG(t){const e=t.length;if(e>0)throw Jc(e,"?"),new ne(204,!1);const n=function mv(t){return t&&(t[iu]||t[yv])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new ne(204,!1)}function o2(t,e,n){let r;if(xu(t)){const i=V(t);return Na(i)||VO(i)}if(NO(t))r=()=>V(t.useValue);else if(function i2(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...lu(t.deps||[]));else if(function r2(t){return!(!t||!t.useExisting)}(t))r=()=>se(V(t.useExisting));else{const i=V(t&&(t.useClass||t.provide));if(!function VG(t){return!!t.deps}(t))return Na(i)||VO(i);r=()=>new i(...lu(t.deps))}return r}function Nh(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function UO(t,e){for(const n of t)Array.isArray(n)?UO(n,e):n&&Ue(n)?UO(n.\u0275providers,e):e(n)}const $C=new _e("AppId",{providedIn:"root",factory:()=>jG}),jG="ng",s2=new _e("Platform Initializer"),bo=new _e("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),a2=new _e("CSP nonce",{providedIn:"root",factory:()=>function Rh(){if(void 0!==IO)return IO;if(typeof document<"u")return document;throw new ne(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let c2=(t,e,n)=>null;function qO(t,e,n=!1){return c2(t,e,n)}class QG{}class d2{}class JG{resolveComponentFactory(e){throw function XG(t){const e=Error(`No component factory found for ${Kt(t)}.`);return e.ngComponent=t,e}(e)}}let KC=(()=>{class e{}return e.NULL=new JG,e})();function eq(){return Vh(Nr(),le())}function Vh(t,e){return new Hi(Pi(t,e))}let Hi=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=eq,e})();function tq(t){return t instanceof Hi?t.nativeElement:t}class p2{}let Ga=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function nq(){const t=le(),n=ji(Nr().index,t);return(Ci(n)?n:t)[Xe]}(),e})(),rq=(()=>{var t;class e{}return(t=e).\u0275prov=xe({token:t,providedIn:"root",factory:()=>null}),e})();class Uh{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const YO=new Uh("16.2.6"),QO={};function m2(t,e=null,n=null,r){const i=y2(t,e,n,r);return i.resolveInjectorInitializers(),i}function y2(t,e=null,n=null,r,i=new Set){const o=[n||Ft,xG(t)];return r=r||("object"==typeof t?void 0:Kt(t)),new jC(o,e||BC(),r||null,i)}let zi=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return m2({name:""},i,r,"");{const o=r.name??"";return m2({name:o},r.parent,r.providers,o)}}}return(t=e).THROW_IF_NOT_FOUND=yi,t.NULL=new xO,t.\u0275prov=xe({token:t,providedIn:"any",factory:()=>se(JN)}),t.__NG_ELEMENT_ID__=-1,e})();function JO(t){return t.ngOriginalError}class qa{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&JO(e);for(;n&&JO(n);)n=JO(n);return n||null}}function tE(t){return e=>{setTimeout(t,void 0,e)}}const Nn=class uq extends te{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=tE(o),i&&(i=tE(i)),s&&(s=tE(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof xt&&e.add(a),a}};function C2(...t){}class Vt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Nn(!1),this.onMicrotaskEmpty=new Nn(!1),this.onStable=new Nn(!1),this.onError=new Nn(!1),typeof Zone>"u")throw new ne(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function dq(){const t="function"==typeof nn.requestAnimationFrame;let e=nn[t?"requestAnimationFrame":"setTimeout"],n=nn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function fq(t){const e=()=>{!function pq(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(nn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,rE(t),t.isCheckStableRunning=!0,nE(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),rE(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function _q(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return w2(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),P2(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return w2(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),P2(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,rE(t),nE(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Vt.isInAngularZone())throw new ne(909,!1)}static assertNotInAngularZone(){if(Vt.isInAngularZone())throw new ne(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,hq,C2,C2);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const hq={};function nE(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function rE(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function w2(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function P2(t){t._nesting--,nE(t)}class gq{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Nn,this.onMicrotaskEmpty=new Nn,this.onStable=new Nn,this.onError=new Nn}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const M2=new _e("",{providedIn:"root",factory:O2});function O2(){const t=Me(Vt);let e=!0;return re(new ht(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new ht(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{Vt.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=t.onUnstable.subscribe(()=>{Vt.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(Qe()))}function E2(t){return t.ownerDocument.defaultView}function Ru(t){return t.ownerDocument}function Ka(t){return t instanceof Function?t():t}let iE=(()=>{var t;class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}}return(t=e).\u0275prov=xe({token:t,providedIn:"root",factory:()=>new t}),e})();function c_(t){for(;t;){t[nt]|=64;const e=Jg(t);if(Nv(t)&&!e)return t;t=e}return null}const D2=new _e("",{providedIn:"root",factory:()=>!1});let YC=null;function k2(t,e){return t[e]??L2()}function N2(t,e){const n=L2();n.producerNode?.length&&(t[e]=YC,n.lView=t,YC=F2())}const Oq={...eh,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{c_(t.lView)},lView:null};function F2(){return Object.create(Oq)}function L2(){return YC??=F2(),YC}const ot={};function P(t){V2(Dt(),le(),si()+t,!1)}function V2(t,e,n,r){if(!r)if(3==(3&e[nt])){const o=t.preOrderCheckHooks;null!==o&&Wc(e,o,n)}else{const o=t.preOrderHooks;null!==o&&_h(e,o,0,n)}Ba(n)}function W(t,e=Ct.Default){const n=le();return null===n?se(t,e):hC(Nr(),n,V(t),e)}function QC(t,e,n,r,i,o,s,a,c,l,h){const f=e.blueprint.slice();return f[mn]=i,f[nt]=140|r,(null!==l||t&&2048&t[nt])&&(f[nt]|=2048),qv(f),f[rn]=f[Zs]=t,f[bn]=n,f[Ks]=s||t&&t[Ks],f[Xe]=a||t&&t[Xe],f[qs]=c||t&&t[qs]||null,f[wr]=o,f[gu]=function kW(){return RW++}(),f[Oo]=h,f[Sv]=l,f[$n]=2==e.type?t[$n]:f,f}function $h(t,e,n,r,i){let o=t.data[e];if(null===o)o=function oE(t,e,n,r,i){const o=dh(),s=hh(),c=t.data[e]=function xq(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Ua()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(t,e,n,r,i),function U1(){return Ke.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Ys(){const t=Ke.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return co(o,!0),o}function l_(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function B2(t,e,n,r,i){const o=k2(e,_u),s=si(),a=2&r;try{Ba(-1),a&&e.length>mt&&V2(t,e,mt,!1),Ko(a?2:0,i);const l=a?o:null,h=th(l);try{null!==l&&(l.dirty=!1),n(r,i)}finally{Fa(l,h)}}finally{a&&null===e[_u]&&N2(e,_u),Ba(s),Ko(a?3:1,i)}}function sE(t,e,n){if(kv(e)){const r=ao(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{ao(r)}}}function aE(t,e,n){Eg()&&(function Uq(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;Lc(n)&&function Gq(t,e,n){const r=Pi(e,t),i=j2(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=XC(t,QC(t,i,null,s,r,e,null,t[Ks].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||qc(n,e),Mi(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const c=t.data[a],l=$a(e,t,a,n);Mi(l,e),null!==s&&qq(0,a-i,l,c,0,s),qo(c)&&(ji(n.index,e)[bn]=$a(e,t,a,n))}}(t,e,n,Pi(n,e)),64==(64&n.flags)&&G2(t,e,n))}function cE(t,e,n=Pi){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function j2(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=lE(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function lE(t,e,n,r,i,o,s,a,c,l,h){const f=mt+r,y=f+i,v=function Iq(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ot);return n}(f,y),O="function"==typeof l?l():l;return v[Oe]={type:t,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:O,incompleteFirstPass:!1,ssrId:h}}let $2=t=>null;function H2(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const o=t[i];null===r?z2(n,e,i,o):r.hasOwnProperty(i)&&z2(n,e,r[i],o)}return n}function z2(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function To(t,e,n,r,i,o,s,a){const c=Pi(e,n);let h,l=e.inputs;!a&&null!=l&&(h=l[r])?(fE(t,n,h,r,i),Lc(e)&&function Nq(t,e){const n=ji(e,t);16&n[nt]||(n[nt]|=64)}(n,e.index)):3&e.type&&(r=function kq(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(c,r,i))}function uE(t,e,n,r){if(Eg()){const i=null===r?null:{"":-1},o=function jq(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(Gd(e,s.selectors,!1))if(r||(r=[]),qo(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),dE(t,e,a.length)}else r.unshift(s),dE(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&W2(t,e,n,s,i,a),i&&function $q(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new ne(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=du(n.mergedAttrs,n.attrs)}function W2(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Ug(qc(n,e),t,r[l].type);!function zq(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,c=l_(t,e,r.length,null);for(let l=0;l<r.length;l++){const h=r[l];n.mergedAttrs=du(n.mergedAttrs,h.hostAttrs),Wq(t,n,e,c,h),Hq(c,h,i),null!==h.contentQueries&&(n.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(n.flags|=64);const f=h.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function Rq(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let c=null,l=null;for(let h=e.directiveStart;h<i;h++){const f=o[h],y=n?n.get(f):null,O=y?y.outputs:null;c=H2(f.inputs,h,c,y?y.inputs:null),l=H2(f.outputs,h,l,O);const b=null===c||null===s||hu(e)?null:Kq(c,h,s);a.push(b)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(t,n,o)}function G2(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function B1(){return Ke.lFrame.currentDirectiveIndex}();try{Ba(o);for(let a=r;a<i;a++){const c=t.data[a],l=e[a];Dg(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&Bq(c,l)}}finally{Ba(-1),Dg(s)}}function Bq(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function dE(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Hq(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;qo(e)&&(n[""]=t)}}function Wq(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=Na(i.type)),s=new ja(o,qo(i),W);t.blueprint[r]=s,n[r]=s,function Lq(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function Vq(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,l_(t,n,i.hostVars,ot),i)}function Js(t,e,n,r,i,o){const s=Pi(t,e);!function hE(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?Ne(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[Xe],s,o,t.value,n,r,i)}function qq(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)q2(r,n,s[a++],s[a++],s[a++])}function q2(t,e,n,r,i){const o=ao(null);try{const s=t.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{ao(o)}}function Kq(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function K2(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function Z2(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=t.data[o];zc(n[r]),s.contentQueries(2,e[o],o)}}}function XC(t,e){return t[Sa]?t[Dv][Mo]=e:t[Sa]=e,t[Dv]=e,e}function pE(t,e,n){zc(0);const r=ao(null);try{e(t,n)}finally{ao(r)}}function Y2(t){return t[Nc]||(t[Nc]=[])}function Q2(t){return t.cleanup||(t.cleanup=[])}function J2(t,e){const n=t[qs],r=n?n.get(qa,null):null;r&&r.handleError(e)}function fE(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];q2(t.data[s],e[s],r,a,i)}}function Zq(t,e){const n=ji(e,t),r=n[Oe];!function Yq(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[mn];null!==i&&null===n[Oo]&&(n[Oo]=qO(i,n[qs])),gE(r,n,n[bn])}function gE(t,e,n){Sg(e);try{const r=t.viewQuery;null!==r&&pE(1,r,n);const i=t.template;null!==i&&B2(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Z2(t,e),t.staticViewQueries&&pE(2,t.viewQuery,n);const o=t.components;null!==o&&function Qq(t,e){for(let n=0;n<e.length;n++)Zq(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[nt]&=-5,xg()}}let eF=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,o){const s=typeof Zone>"u"?null:Zone.current,a=function O1(t,e,n){const r=Object.create(E1);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>vu(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Cu(r))return;r.hasRun=!0;const s=th(r);try{r.cleanupFn(),r.cleanupFn=mg,r.fn(i)}finally{Fa(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(r,h=>{this.all.has(h)&&this.queue.set(h,s)},o);let c;this.all.add(a),a.notify();const l=()=>{a.cleanup(),c?.(),this.all.delete(a),this.queue.delete(a)};return c=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=xe({token:t,providedIn:"root",factory:()=>new t}),e})();function JC(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=ys(i,a):2==o&&(r=ys(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function u_(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];null!==o&&r.push(Lt(o)),oi(o)&&tF(o,r);const s=n.type;if(8&s)u_(t,e,n.child,r);else if(32&s){const a=mO(n,e);let c;for(;c=a();)r.push(c)}else if(16&s){const a=FN(e,n);if(Array.isArray(a))r.push(...a);else{const c=Jg(e[$n]);u_(c[Oe],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function tF(t,e){for(let n=Hr;n<t.length;n++){const r=t[n],i=r[Oe].firstChild;null!==i&&u_(r[Oe],r,i,e)}t[Go]!==t[mn]&&e.push(t[Go])}function e0(t,e,n,r=!0){const i=e[Ks],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{nF(t,e,t.template,n)}catch(c){throw r&&J2(e,c),c}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function nF(t,e,n,r){const i=e[nt];if(256!=(256&i)){e[Ks].effectManager?.flush(),Sg(e);try{qv(e),function Tg(t){return Ke.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&B2(t,e,n,2,r);const s=3==(3&i);if(s){const l=t.preOrderCheckHooks;null!==l&&Wc(e,l,null)}else{const l=t.preOrderHooks;null!==l&&_h(e,l,0,null),mh(e,0)}if(function eK(t){for(let e=ON(t);null!==e;e=EN(e)){if(!e[xv])continue;const n=e[mu];for(let r=0;r<n.length;r++){Pg(n[r])}}}(e),rF(e,2),null!==t.contentQueries&&Z2(t,e),s){const l=t.contentCheckHooks;null!==l&&Wc(e,l)}else{const l=t.contentHooks;null!==l&&_h(e,l,1),mh(e,1)}!function Eq(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=k2(e,Wo);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)Ba(~o);else{const s=o,a=n[++i],c=n[++i];Ag(a,s),r.dirty=!1;const l=th(r);try{c(2,e[s])}finally{Fa(r,l)}}}}finally{null===e[Wo]&&N2(e,Wo),Ba(-1)}}(t,e);const a=t.components;null!==a&&oF(e,a,0);const c=t.viewQuery;if(null!==c&&pE(2,c,r),s){const l=t.viewCheckHooks;null!==l&&Wc(e,l)}else{const l=t.viewHooks;null!==l&&_h(e,l,2),mh(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[nt]&=-73,lh(e)}finally{xg()}}}function rF(t,e){for(let n=ON(t);null!==n;n=EN(n))for(let r=Hr;r<n.length;r++)iF(n[r],e)}function tK(t,e,n){iF(ji(e,t),n)}function iF(t,e){if(!function wg(t){return 128==(128&t[nt])}(t))return;const n=t[Oe],r=t[nt];if(80&r&&0===e||1024&r||2===e)nF(n,t,n.template,t[bn]);else if(t[fu]>0){rF(t,1);const i=n.components;null!==i&&oF(t,i,1)}}function oF(t,e,n){for(let r=0;r<e.length;r++)tK(t,e[r],n)}class d_{get rootNodes(){const e=this._lView,n=e[Oe];return u_(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[bn]}set context(e){this._lView[bn]=e}get destroyed(){return 256==(256&this._lView[nt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[rn];if(oi(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(SC(e,r),Eo(n,r))}this._attachedToViewContainer=!1}vO(this._lView[Oe],this._lView)}onDestroy(e){!function Hc(t,e){if(256==(256&t[nt]))throw new ne(911,!1);null===t[Cs]&&(t[Cs]=[]),t[Cs].push(e)}(this._lView,e)}markForCheck(){c_(this._cdRefInjectingView||this._lView)}detach(){this._lView[nt]&=-129}reattach(){this._lView[nt]|=128}detectChanges(){e0(this._lView[Oe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ne(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function KW(t,e){t_(t,e,e[Xe],2,null,null)}(this._lView[Oe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ne(902,!1);this._appRef=e}}class nK extends d_{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;e0(e[Oe],e,e[bn],!1)}checkNoChanges(){}get context(){return null}}class sF extends KC{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Mt(e);return new h_(n,this.ngModule)}}function aF(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class iK{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Kf(r);const i=this.injector.get(e,QO,r);return i!==QO||n===QO?i:this.parentInjector.get(e,n,r)}}class h_ extends d2{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=aF(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return aF(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function h1(t){return t.map(ng).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof Io?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new iK(e,o):e,a=s.get(p2,null);if(null===a)throw new ne(407,!1);const f={rendererFactory:a,sanitizer:s.get(rq,null),effectManager:s.get(eF,null),afterRenderEventManager:s.get(iE,null)},y=a.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",O=r?function bq(t,e,n,r){const o=r.get(D2,!1)||n===Po.ShadowDom,s=t.selectRootElement(e,o);return function Tq(t){$2(t)}(s),s}(y,r,this.componentDef.encapsulation,s):DC(y,v,function rK(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(v)),U=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let L=null;null!==O&&(L=qO(O,s,!0));const q=lE(0,null,null,1,0,null,null,null,null,null,null),G=QC(null,q,null,U,null,null,f,y,s,null,L);let ge,Te;Sg(G);try{const ft=this.componentDef;let an,Co=null;ft.findHostDirectiveDefs?(an=[],Co=new Map,ft.findHostDirectiveDefs(ft,an,Co),an.push(ft)):an=[ft];const Lf=function sK(t,e){const n=t[Oe],r=mt;return t[r]=e,$h(n,r,2,"#host",null)}(G,O),L1e=function aK(t,e,n,r,i,o,s){const a=i[Oe];!function cK(t,e,n,r){for(const i of t)e.mergedAttrs=du(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(JC(e,e.mergedAttrs,!0),null!==n&&BN(r,n,e))}(r,t,e,s);let c=null;null!==e&&(c=qO(e,i[qs]));const l=o.rendererFactory.createRenderer(e,n);let h=16;n.signals?h=4096:n.onPush&&(h=64);const f=QC(i,j2(n),null,h,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&dE(a,t,r.length-1),XC(i,f),i[t.index]=f}(Lf,O,ft,an,G,f,y);Te=ch(q,mt),O&&function uK(t,e,n,r){if(r)Rc(t,n,["ng-version",YO.full]);else{const{attrs:i,classes:o}=function rg(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Bi(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Rc(t,n,i),o&&o.length>0&&UN(t,n,o.join(" "))}}(y,ft,O,r),void 0!==n&&function dK(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(Te,this.ngContentSelectors,n),ge=function lK(t,e,n,r,i,o){const s=Nr(),a=i[Oe],c=Pi(s,i);W2(a,i,s,n,null,r);for(let h=0;h<n.length;h++)Mi($a(i,a,s.directiveStart+h,s),i);G2(a,i,s),c&&Mi(c,i);const l=$a(i,a,s.directiveStart+s.componentOffset,s);if(t[bn]=i[bn]=l,null!==o)for(const h of o)h(l,e);return sE(a,s,t),l}(L1e,ft,an,Co,G,[hK]),gE(q,G,null)}finally{xg()}return new oK(this.componentType,ge,Vh(Te,G),G,Te)}}class oK extends QG{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new nK(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;fE(o[Oe],o,i,e,n),this.previousInputValues.set(e,n),c_(ji(this._tNode.index,o))}}get injector(){return new ai(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function hK(){const t=Nr();gh(le()[Oe],t)}function Zt(t){let e=function cF(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(qo(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ne(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=t0(t.inputs),s.inputTransforms=t0(t.inputTransforms),s.declaredInputs=t0(t.declaredInputs),s.outputs=t0(t.outputs);const a=i.hostBindings;a&&_K(t,a);const c=i.viewQuery,l=i.contentQueries;if(c&&fK(t,c),l&&gK(t,l),Cr(t.inputs,i.inputs),Cr(t.declaredInputs,i.declaredInputs),Cr(t.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Cr(s.inputTransforms,i.inputTransforms)),qo(i)&&i.data.animation){const h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===Zt&&(n=!1)}}e=Object.getPrototypeOf(e)}!function pK(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=du(i.hostAttrs,n=du(n,i.hostAttrs))}}(r)}function t0(t){return t===ri?{}:t===Ft?[]:t}function fK(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function gK(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function _K(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function hF(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function n0(t){return!!_E(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function _E(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ea(t,e,n){return t[e]=n}function Oi(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Wi(t,e,n,r){const i=le();return Oi(i,Qs(),e)&&(Dt(),Js(Tn(),i,t,e,n,r)),Wi}function zh(t,e,n,r){return Oi(t,Qs(),n)?e+Ne(n)+r:ot}function F(t,e,n,r,i,o,s,a){const c=le(),l=Dt(),h=t+mt,f=l.firstCreatePass?function jK(t,e,n,r,i,o,s,a,c){const l=e.consts,h=$h(e,t,4,s||null,Zo(l,a));uE(e,n,h,Zo(l,c)),gh(e,h);const f=h.tView=lE(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,h),f.queries=e.queries.embeddedTView(h)),h}(h,l,c,e,n,r,i,o,s):l.data[h];co(f,!1);const y=EF(l,c,f,t);fh()&&RC(l,c,y,f),Mi(y,c),XC(c,c[h]=K2(y,c,y,f)),lg(f)&&aE(l,c,f),null!=s&&cE(c,f,a)}let EF=function IF(t,e,n,r){return Yo(!0),e[Xe].createComment("")};function Qn(t){return function Va(t,e){return t[e]}(function L1(){return Ke.lFrame.contextLView}(),mt+t)}function A(t,e,n){const r=le();return Oi(r,Qs(),e)&&To(Dt(),Tn(),r,t,e,r[Xe],n,!1),A}function PE(t,e,n,r,i){const s=i?"class":"style";fE(t,n,e.inputs[s],s,r)}function _(t,e,n,r){const i=le(),o=Dt(),s=mt+t,a=i[Xe],c=o.firstCreatePass?function WK(t,e,n,r,i,o){const s=e.consts,c=$h(e,t,2,r,Zo(s,i));return uE(e,n,c,Zo(s,o)),null!==c.attrs&&JC(c,c.attrs,!1),null!==c.mergedAttrs&&JC(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,e,n,r):o.data[s],l=bF(o,i,c,a,e,t);i[s]=l;const h=lg(c);return co(c,!0),BN(a,l,c),32!=(32&c.flags)&&fh()&&RC(o,i,l,c),0===function Mg(){return Ke.lFrame.elementDepthCount}()&&Mi(l,i),function x1(){Ke.lFrame.elementDepthCount++}(),h&&(aE(o,i,c),sE(o,c,i)),null!==r&&cE(i,c),_}function m(){let t=Nr();hh()?Mu():(t=t.parent,co(t,!1));const e=t;(function R1(t){return Ke.skipHydrationRootTNode===t})(e)&&function F1(){Ke.skipHydrationRootTNode=null}(),function Og(){Ke.lFrame.elementDepthCount--}();const n=Dt();return n.firstCreatePass&&(gh(n,t),kv(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function K1(t){return 0!=(8&t.flags)}(e)&&PE(n,e,le(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Z1(t){return 0!=(16&t.flags)}(e)&&PE(n,e,le(),e.stylesWithoutHost,!1),m}function I(t,e,n,r){return _(t,e,n,r),m(),I}let bF=(t,e,n,r,i,o)=>(Yo(!0),DC(r,i,function iC(){return Ke.lFrame.currentNamespace}()));function De(t,e,n){const r=le(),i=Dt(),o=t+mt,s=i.firstCreatePass?function KK(t,e,n,r,i){const o=e.consts,s=Zo(o,r),a=$h(e,t,8,"ng-container",s);return null!==s&&JC(a,s,!0),uE(e,n,a,Zo(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];co(s,!0);const a=AF(i,r,s,t);return r[o]=a,fh()&&RC(i,r,a,s),Mi(a,r),lg(s)&&(aE(i,r,s),sE(i,s,r)),null!=n&&cE(r,s),De}function Se(){let t=Nr();const e=Dt();return hh()?Mu():(t=t.parent,co(t,!1)),e.firstCreatePass&&(gh(e,t),kv(t)&&e.queries.elementEnd(t)),Se}let AF=(t,e,n,r)=>(Yo(!0),yO(e[Xe],""));function Ot(){return le()}function m_(t){return!!t&&"function"==typeof t.then}function DF(t){return!!t&&"function"==typeof t.subscribe}function j(t,e,n,r){const i=le(),o=Dt(),s=Nr();return function xF(t,e,n,r,i,o,s){const a=lg(r),l=t.firstCreatePass&&Q2(t),h=e[bn],f=Y2(e);let y=!0;if(3&r.type||s){const b=Pi(r,e),D=s?s(b):b,U=f.length,L=s?G=>s(Lt(G[r.index])):r.index;let q=null;if(!s&&a&&(q=function QK(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[Nc],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==q)(q.__ngLastListenerFn__||q).__ngNextListenerFn__=o,q.__ngLastListenerFn__=o,y=!1;else{o=kF(r,e,h,o,!1);const G=n.listen(D,i,o);f.push(o,G),l&&l.push(i,L,U,U+1)}}else o=kF(r,e,h,o,!1);const v=r.outputs;let O;if(y&&null!==v&&(O=v[i])){const b=O.length;if(b)for(let D=0;D<b;D+=2){const ge=e[O[D]][O[D+1]].subscribe(o),Te=f.length;f.push(o,ge),l&&l.push(i,r.index,Te,-(Te+1))}}}(o,i,i[Xe],s,t,e,r),j}function RF(t,e,n,r){try{return Ko(6,e,n),!1!==n(r)}catch(i){return J2(t,i),!1}finally{Ko(7,e,n)}}function kF(t,e,n,r,i){return function o(s){if(s===Function)return r;c_(t.componentOffset>-1?ji(t.index,e):e);let c=RF(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)c=RF(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&s.preventDefault(),c}}function ee(t=1){return function Rg(t){return(Ke.lFrame.contextLView=function $1(t,e){for(;t>0;)e=e[Zs],t--;return e}(t,Ke.lFrame.contextLView))[bn]}(t)}function XK(t,e){let n=null;const r=function qd(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?Gd(t,o,!0):eg(r,o))return i}else n=i}return n}function Ht(t,e,n){return y_(t,"",e,"",n),Ht}function y_(t,e,n,r,i){const o=le(),s=zh(o,e,n,r);return s!==ot&&To(Dt(),Tn(),o,t,s,o[Xe],i,!1),y_}function c0(t,e){return t<<17|e<<2}function nl(t){return t>>17&32767}function ME(t){return 2|t}function Nu(t){return(131068&t)>>2}function OE(t,e){return-131069&t|e<<2}function EE(t){return 1|t}function WF(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?nl(o):Nu(o),c=!1;for(;0!==a&&(!1===c||s);){const h=t[a+1];iZ(t[a],e)&&(c=!0,t[a+1]=r?EE(h):ME(h)),a=r?nl(h):Nu(h)}c&&(t[n+1]=r?ME(o):EE(o))}function iZ(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Xs(t,e)>=0}const Lr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function GF(t){return t.substring(Lr.key,Lr.keyEnd)}function qF(t,e){const n=Lr.textEnd;return n===e?-1:(e=Lr.keyEnd=function cZ(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Lr.key=e,n),Xh(t,e,n))}function Xh(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function IE(t,e,n){return Os(t,e,n,!1),IE}function Ao(t,e){return Os(t,e,null,!0),Ao}function st(t){!function Es(t,e,n,r){const i=Dt(),o=Ps(2);i.firstUpdatePass&&JF(i,null,o,r);const s=le();if(n!==ot&&Oi(s,o,n)){const a=i.data[si()];if(rL(a,r)&&!XF(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(n=ys(c,n||"")),PE(i,a,s,n,r)}else!function yZ(t,e,n,r,i,o,s,a){i===ot&&(i=Ft);let c=0,l=0,h=0<i.length?i[0]:null,f=0<o.length?o[0]:null;for(;null!==h||null!==f;){const y=c<i.length?i[c+1]:void 0,v=l<o.length?o[l+1]:void 0;let b,O=null;h===f?(c+=2,l+=2,y!==v&&(O=f,b=v)):null===f||null!==h&&h<f?(c+=2,O=h):(l+=2,O=f,b=v),null!==O&&tL(t,e,n,r,O,b,s,a),h=c<i.length?i[c]:null,f=l<o.length?o[l]:null}}(i,a,s,s[Xe],s[o+1],s[o+1]=function _Z(t,e,n){if(null==n||""===n)return Ft;const r=[],i=tl(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}(mZ,na,t,!0)}function na(t,e){for(let n=function sZ(t){return function ZF(t){Lr.key=0,Lr.keyEnd=0,Lr.value=0,Lr.valueEnd=0,Lr.textEnd=t.length}(t),qF(t,Xh(t,0,Lr.textEnd))}(e);n>=0;n=qF(e,n))on(t,GF(e),!0)}function Os(t,e,n,r){const i=le(),o=Dt(),s=Ps(2);o.firstUpdatePass&&JF(o,t,s,r),e!==ot&&Oi(i,s,e)&&tL(o,o.data[si()],i,i[Xe],t,i[s+1]=function vZ(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Kt(tl(t)))),t}(e,n),r,s)}function XF(t,e){return e>=t.expandoStartIndex}function JF(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[si()],s=XF(t,n);rL(o,r)&&null===e&&!s&&(e=!1),e=function hZ(t,e,n,r){const i=function ph(t){const e=Ke.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=v_(n=bE(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=bE(i,t,e,n,r),null===o){let c=function pZ(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Nu(r))return t[nl(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=bE(null,t,e,c[1],r),c=v_(c,e.attrs,r),function fZ(t,e,n,r){t[nl(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else o=function gZ(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=v_(r,t[o].hostAttrs,n);return v_(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function nZ(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=nl(s),c=Nu(s);t[r]=n;let h,l=!1;if(Array.isArray(n)?(h=n[1],(null===h||Xs(n,h)>0)&&(l=!0)):h=n,i)if(0!==c){const y=nl(t[a+1]);t[r+1]=c0(y,a),0!==y&&(t[y+1]=OE(t[y+1],r)),t[a+1]=function eZ(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=c0(a,0),0!==a&&(t[a+1]=OE(t[a+1],r)),a=r;else t[r+1]=c0(c,0),0===a?a=r:t[c+1]=OE(t[c+1],r),c=r;l&&(t[r+1]=ME(t[r+1])),WF(t,h,r,!0),WF(t,h,r,!1),function rZ(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Xs(o,e)>=0&&(n[r+1]=EE(n[r+1]))}(e,h,t,r,o),s=c0(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function bE(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=v_(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function v_(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),on(t,s,!!n||e[++o]))}return void 0===t?null:t}function mZ(t,e,n){const r=String(e);""!==r&&!r.includes(" ")&&on(t,r,n)}function tL(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const c=t.data,l=c[a+1],h=function tZ(t){return 1==(1&t)}(l)?nL(c,e,n,i,Nu(l),s):void 0;l0(h)||(l0(o)||function JK(t){return 2==(2&t)}(l)&&(o=nL(c,null,n,i,a,s)),function iG(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:el.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=el.Important),t.setStyle(n,r,i,o))}}(r,s,ah(si(),n),i,o))}function nL(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const c=t[i],l=Array.isArray(c),h=l?c[1]:c,f=null===h;let y=n[i+1];y===ot&&(y=f?Ft:void 0);let v=f?bu(y,r):h===r?y:void 0;if(l&&!l0(v)&&(v=bu(c,r)),l0(v)&&(a=v,s))return a;const O=t[i+1];i=s?nl(O):Nu(O)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=bu(c,r))}return a}function l0(t){return void 0!==t}function rL(t,e){return 0!=(t.flags&(e?8:16))}function w(t,e=""){const n=le(),r=Dt(),i=t+mt,o=r.firstCreatePass?$h(r,i,1,e,null):r.data[i],s=iL(r,n,o,e,t);n[i]=s,fh()&&RC(r,n,s,o),co(o,!1)}let iL=(t,e,n,r,i)=>(Yo(!0),function AC(t,e){return t.createText(e)}(e[Xe],r));function Ee(t){return bt("",t,""),Ee}function bt(t,e,n){const r=le(),i=zh(r,t,e,n);return i!==ot&&function Za(t,e,n){const r=ah(e,t);!function bN(t,e,n){t.setValue(e,n)}(t[Xe],r,n)}(r,si(),i),bt}const ep="en-US";let IL=ep;function DE(t,e,n,r,i){if(t=V(t),Array.isArray(t))for(let o=0;o<t.length;o++)DE(t[o],e,n,r,i);else{const o=Dt(),s=le(),a=Nr();let c=xu(t)?t:V(t.provide);const l=o2(t),h=1048575&a.providerIndexes,f=a.directiveStart,y=a.providerIndexes>>20;if(xu(t)||!t.multi){const v=new ja(l,i,W),O=xE(c,e,i?h:h+y,f);-1===O?(Ug(qc(a,s),o,c),SE(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),s.push(v)):(n[O]=v,s[O]=v)}else{const v=xE(c,e,h+y,f),O=xE(c,e,h,h+y),D=O>=0&&n[O];if(i&&!D||!i&&!(v>=0&&n[v])){Ug(qc(a,s),o,c);const U=function BY(t,e,n,r,i){const o=new ja(t,n,W);return o.multi=[],o.index=e,o.componentProviders=0,QL(o,i,r&&!n),o}(i?UY:VY,n.length,i,r,l);!i&&D&&(n[O].providerFactory=U),SE(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(U),s.push(U)}else SE(o,t,v>-1?v:O,QL(n[i?O:v],l,!i&&r));!i&&r&&D&&n[O].componentProviders++}}}function SE(t,e,n,r){const i=xu(e),o=function kG(t){return!!t.useClass}(e);if(i||o){const c=(o?V(e.useClass):e).prototype.ngOnDestroy;if(c){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const h=l.indexOf(n);-1===h?l.push(n,[r,c]):l[h+1].push(r,c)}else l.push(n,c)}}}function QL(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function xE(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function VY(t,e,n,r){return RE(this.multi,[])}function UY(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=$a(n,n[Oe],this.providerFactory.index,r);o=a.slice(0,s),RE(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],RE(i,o);return o}function RE(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Fn(t,e=[]){return n=>{n.providersResolver=(r,i)=>function LY(t,e,n){const r=Dt();if(r.firstCreatePass){const i=qo(t);DE(n,r.data,r.blueprint,i,!0),DE(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Lu{}class XL{}class kE extends Lu{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new sF(this);const i=ii(e);this._bootstrapComponents=Ka(i.bootstrap),this._r3Injector=y2(e,n,[{provide:Lu,useValue:this},{provide:KC,useValue:this.componentFactoryResolver},...r],Kt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class NE extends XL{constructor(e){super(),this.moduleType=e}create(e){return new kE(this.moduleType,e,[])}}class JL extends Lu{constructor(e){super(),this.componentFactoryResolver=new sF(this),this.instance=null;const n=new jC([...e.providers,{provide:Lu,useValue:this},{provide:KC,useValue:this.componentFactoryResolver}],e.parent||BC(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function FE(t,e,n=null){return new JL({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let HY=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=t2(0,r.type),o=i.length>0?FE([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=xe({token:t,providedIn:"environment",factory:()=>new t(se(Io))}),e})();function eV(t){t.getStandaloneInjector=e=>e.get(HY).getOrCreateStandaloneInjector(t)}function tp(t,e,n){const r=zr()+t,i=le();return i[r]===ot?ea(i,r,n?e.call(n):e()):function p_(t,e){return t[e]}(i,r)}function Pr(t,e,n,r){return function aV(t,e,n,r,i,o){const s=e+n;return Oi(t,s,i)?ea(t,s+1,o?r.call(o,i):r(i)):E_(t,s+1)}(le(),zr(),t,e,n,r)}function f0(t,e,n,r,i){return function cV(t,e,n,r,i,o,s){const a=e+n;return function ku(t,e,n,r){const i=Oi(t,e,n);return Oi(t,e+1,r)||i}(t,a,i,o)?ea(t,a+2,s?r.call(s,i,o):r(i,o)):E_(t,a+2)}(le(),zr(),t,e,n,r,i)}function E_(t,e){const n=t[e];return n===ot?void 0:n}function hQ(){return this._results[Symbol.iterator]()}class VE{get changes(){return this._changes||(this._changes=new Nn)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=VE.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=hQ)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function lo(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Wg(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function fQ(t,e,n,r=!0){const i=e[Oe];if(function YW(t,e,n,r){const i=Hr+r,o=n.length;r>0&&(n[i-1][Mo]=e),r<o-Hr?(e[Mo]=n[i],yC(n,Hr+r,e)):(n.push(e),e[Mo]=null),e[rn]=n;const s=e[xa];null!==s&&n!==s&&function QW(t,e){const n=t[mu];e[$n]!==e[rn][rn][$n]&&(t[xv]=!0),null===n?t[mu]=[e]:n.push(e)}(s,e);const a=e[oo];null!==a&&a.insertView(t),e[nt]|=128}(i,e,t,n),r){const o=MO(n,t),s=e[Xe],a=xC(s,t[Go]);null!==a&&function qW(t,e,n,r,i,o){r[mn]=i,r[wr]=e,t_(t,r,n,1,i,o)}(i,t[wr],s,e,a,o)}}let Ya=(()=>{class e{}return e.__NG_ELEMENT_ID__=mQ,e})();const gQ=Ya,_Q=class extends gQ{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function pQ(t,e,n,r){const i=e.tView,a=QC(t,i,n,4096&t[nt]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[xa]=t[e.index];const l=t[oo];return null!==l&&(a[oo]=l.createEmbeddedView(i)),gE(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new d_(i)}};function mQ(){return g0(Nr(),le())}function g0(t,e){return 4&t.type?new _Q(e,t,Vh(t,e)):null}let Is=(()=>{class e{}return e.__NG_ELEMENT_ID__=MQ,e})();function MQ(){return yV(Nr(),le())}const OQ=Is,_V=class extends OQ{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Vh(this._hostTNode,this._hostLView)}get injector(){return new ai(this._hostTNode,this._hostLView)}get parentInjector(){const e=Kc(this._hostTNode,this._hostLView);if(Fg(e)){const n=Ch(e,this._hostLView),r=Gc(e);return new ai(n[Oe].data[r+8],n)}return new ai(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=mV(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Hr}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,o){const s=e&&!function Ha(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const b=n||{};a=b.index,r=b.injector,i=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef}const c=s?e:new h_(Mt(e)),l=r||this.parentInjector;if(!o&&null==c.ngModule){const D=(s?l:this.parentInjector).get(Io,null);D&&(o=D)}Mt(c.componentType??{});const v=c.create(l,i,null,o);return this.insertImpl(v.hostView,a,false),v}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function D1(t){return oi(t[rn])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=i[rn],h=new _V(l,l[wr],l[rn]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),a=this._lContainer;return fQ(a,i,s,!r),e.attachToViewContainerRef(),yC(UE(a),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=mV(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=SC(this._lContainer,n);r&&(Eo(UE(this._lContainer),n),vO(r[Oe],r))}detach(e){const n=this._adjustIndex(e,-1),r=SC(this._lContainer,n);return r&&null!=Eo(UE(this._lContainer),n)?new d_(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function mV(t){return t[8]}function UE(t){return t[8]||(t[8]=[])}function yV(t,e){let n;const r=e[t.index];return oi(r)?n=r:(n=K2(r,e,null,t),e[t.index]=n,XC(e,n)),vV(n,e,t,r),new _V(n,t,e)}let vV=function CV(t,e,n,r){if(t[Go])return;let i;i=8&n.type?Lt(r):function EQ(t,e){const n=t[Xe],r=n.createComment(""),i=Pi(e,t);return Su(n,xC(n,i),r,function tG(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Go]=i};class BE{constructor(e){this.queryList=e,this.matches=null}clone(){return new BE(this.queryList)}setDirty(){this.queryList.setDirty()}}class jE{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new jE(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==IV(e,n).matches&&this.queries[n].setDirty()}}class wV{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class $E{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new $E(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class HE{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new HE(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,n,TQ(n,o)),this.matchTNodeWithReadOption(e,n,Mh(n,e,o,!1,!1))}else r===Ya?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Mh(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Hi||i===Is||i===Ya&&4&n.type)this.addMatch(n.index,-2);else{const o=Mh(n,e,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function TQ(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function DQ(t,e,n,r){return-1===n?function AQ(t,e){return 11&t.type?Vh(t,e):4&t.type?g0(t,e):null}(e,t):-2===n?function SQ(t,e,n){return n===Hi?Vh(e,t):n===Ya?g0(e,t):n===Is?yV(e,t):void 0}(t,e,r):$a(t,t[Oe],n,e)}function PV(t,e,n,r){const i=e[oo].queries[r];if(null===i.matches){const o=t.data,s=n.matches,a=[];for(let c=0;c<s.length;c+=2){const l=s[c];a.push(l<0?null:DQ(e,o[l],s[c+1],n.metadata.read))}i.matches=a}return i.matches}function zE(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=PV(t,e,i,n);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const l=o[a+1],h=e[-c];for(let f=Hr;f<h.length;f++){const y=h[f];y[xa]===y[rn]&&zE(y[Oe],y,l,r)}if(null!==h[mu]){const f=h[mu];for(let y=0;y<f.length;y++){const v=f[y];zE(v[Oe],v,l,r)}}}}}return r}function Xn(t){const e=le(),n=Dt(),r=Qv();zc(r+1);const i=IV(n,r);if(t.dirty&&function A1(t){return 4==(4&t[nt])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?zE(n,e,r,[]):PV(n,e,i,r);t.reset(o,tq),t.notifyOnChanges()}return!0}return!1}function dr(t,e,n){const r=Dt();r.firstCreatePass&&(function EV(t,e,n){null===t.queries&&(t.queries=new $E),t.queries.track(new HE(e,n))}(r,new wV(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function OV(t,e,n){const r=new VE(4==(4&n));(function Sq(t,e,n,r){const i=Y2(e);i.push(n),t.firstCreatePass&&Q2(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[oo]&&(e[oo]=new jE),e[oo].queries.push(new BE(r))}(r,le(),e)}function Jn(){return function xQ(t,e){return t[oo].queries[e].queryList}(le(),Qv())}function IV(t,e){return t.queries.getByIndex(e)}function er(t,e){return g0(t,e)}const YE=new _e("Application Initializer");let QE=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=Me(YE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const o of this.appInits){const s=o();if(m_(s))r.push(s);else if(DF(s)){const a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=xe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),HV=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=xe({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const Qa=new _e("LocaleId",{providedIn:"root",factory:()=>Me(Qa,Ct.Optional|Ct.SkipSelf)||function eX(){return typeof $localize<"u"&&$localize.locale||ep}()});let y0=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new $(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=xe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class rX{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let zV=(()=>{var t;class e{compileModuleSync(r){return new NE(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),s=Ka(ii(r).declarations).reduce((a,c)=>{const l=Mt(c);return l&&a.push(new h_(l)),a},[]);return new rX(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=xe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const KV=new _e(""),C0=new _e("");let nI,eI=(()=>{var t;class e{constructor(r,i,o){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,nI||(function MX(t){nI=t}(o),o.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Vt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:o})}whenStable(r,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,o){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(se(Vt),se(tI),se(C0))},t.\u0275prov=xe({token:t,factory:t.\u0275fac}),e})(),tI=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return nI?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=xe({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),rl=null;const ZV=new _e("AllowMultipleToken"),rI=new _e("PlatformDestroyListeners"),iI=new _e("appBootstrapListener");class QV{constructor(e,n){this.name=e,this.token=n}}function JV(t,e,n=[]){const r=`Platform: ${e}`,i=new _e(r);return(o=[])=>{let s=oI();if(!s||s.injector.get(ZV,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function IX(t){if(rl&&!rl.get(ZV,!1))throw new ne(400,!1);(function YV(){!function v1(t){$v=t}(()=>{throw new ne(600,!1)})})(),rl=t;const e=t.get(t3);(function XV(t){t.get(s2,null)?.forEach(n=>n())})(t)}(function e3(t=[],e){return zi.create({name:e,providers:[{provide:FO,useValue:"platform"},{provide:rI,useValue:new Set([()=>rl=null])},...t]})}(a,r))}return function TX(t){const e=oI();if(!e)throw new ne(401,!1);return e}()}}function oI(){return rl?.get(t3)??null}let t3=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const o=function AX(t="zone.js",e){return"noop"===t?new gq:"zone.js"===t?new Vt(e):t}(i?.ngZone,function n3(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return o.run(()=>{const s=function $Y(t,e,n){return new kE(t,e,n)}(r.moduleType,this.injector,function a3(t){return[{provide:Vt,useFactory:t},{provide:o_,multi:!0,useFactory:()=>{const e=Me(SX,{optional:!0});return()=>e.initialize()}},{provide:s3,useFactory:DX},{provide:M2,useFactory:O2}]}(()=>o)),a=s.injector.get(qa,null);return o.runOutsideAngular(()=>{const c=o.onError.subscribe({next:l=>{a.handleError(l)}});s.onDestroy(()=>{w0(this._modules,s),c.unsubscribe()})}),function r3(t,e,n){try{const r=n();return m_(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,o,()=>{const c=s.injector.get(QE);return c.runInitializers(),c.donePromise.then(()=>(function bL(t){mi(t,"Expected localeId to be defined"),"string"==typeof t&&(IL=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Qa,ep)||ep),this._moduleDoBootstrap(s),s))})})}bootstrapModule(r,i=[]){const o=i3({},i);return function OX(t,e,n){const r=new NE(n);return Promise.resolve(r)}(0,0,r).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(r){const i=r.injector.get(ip);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(o=>i.bootstrap(o));else{if(!r.instance.ngDoBootstrap)throw new ne(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ne(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(rI,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(se(zi))},t.\u0275prov=xe({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function i3(t,e){return Array.isArray(e)?e.reduce(i3,t):{...t,...e}}let ip=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Me(s3),this.zoneIsStable=Me(M2),this.componentTypes=[],this.components=[],this.isStable=Me(y0).hasPendingTasks.pipe(it(r=>r?Q(!1):this.zoneIsStable),_n(),Qe()),this._injector=Me(Io)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const o=r instanceof d2;if(!this._injector.get(QE).done)throw!o&&function kc(t){const e=Mt(t)||xr(t)||Rr(t);return null!==e&&e.standalone}(r),new ne(405,!1);let a;a=o?r:this._injector.get(KC).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const c=function EX(t){return t.isBoundToModule}(a)?void 0:this._injector.get(Lu),h=a.create(zi.NULL,[],i||a.selector,c),f=h.location.nativeElement,y=h.injector.get(KV,null);return y?.registerApplication(f),h.onDestroy(()=>{this.detachView(h.hostView),w0(this.components,h),y?.unregisterApplication(f)}),this._loadComponent(h),h}tick(){if(this._runningTick)throw new ne(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;w0(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(iI,[]);i.push(...this._bootstrapListeners),i.forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>w0(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new ne(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=xe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function w0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const s3=new _e("",{providedIn:"root",factory:()=>Me(qa).handleError.bind(void 0)});function DX(){const t=Me(Vt),e=Me(qa);return n=>t.runOutsideAngular(()=>e.handleError(n))}let SX=(()=>{var t;class e{constructor(){this.zone=Me(Vt),this.applicationRef=Me(ip)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=xe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let P0=(()=>{class e{}return e.__NG_ELEMENT_ID__=RX,e})();function RX(t){return function kX(t,e,n){if(Lc(t)&&!n){const r=ji(t.index,e);return new d_(r,r)}return 47&t.type?new d_(e[$n],e):null}(Nr(),le(),16==(16&t))}class h3{constructor(){}supports(e){return n0(e)}create(e){return new BX(e)}}const UX=(t,e)=>e;class BX{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||UX}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<f3(r,i,o)?n:r,a=f3(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const l=a-i,h=c-i;if(l!=h){for(let y=0;y<l;y++){const v=y<o.length?o[y]:o[y]=0,O=v+y;h<=O&&O<l&&(o[y]=v+1)}o[s.previousIndex]=h-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!n0(e))throw new ne(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function MK(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new jX(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new p3),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new p3),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class jX{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $X{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class p3{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new $X,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function f3(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class g3{constructor(){}supports(e){return e instanceof Map||_E(e)}create(){return new HX}}class HX{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||_E(e)))throw new ne(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new zX(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class zX{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function _3(){return new E0([new h3])}let E0=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||_3()),deps:[[e,new d,new p]]}}find(r){const i=this.factories.find(o=>o.supports(r));if(null!=i)return i;throw new ne(901,!1)}}return(t=e).\u0275prov=xe({token:t,providedIn:"root",factory:_3}),e})();function m3(){return new A_([new g3])}let A_=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(i){const o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||m3()),deps:[[e,new d,new p]]}}find(r){const i=this.factories.find(o=>o.supports(r));if(i)return i;throw new ne(901,!1)}}return(t=e).\u0275prov=xe({token:t,providedIn:"root",factory:m3}),e})();const qX=JV(null,"core",[]);let KX=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(se(ip))},t.\u0275mod=Zn({type:t}),t.\u0275inj=lr({}),e})();function op(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let dI=null;function il(){return dI}class cJ{}const Do=new _e("DocumentToken");let hI=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=xe({token:t,factory:function(){return Me(uJ)},providedIn:"platform"}),e})();const lJ=new _e("Location Initialized");let uJ=(()=>{var t;class e extends hI{constructor(){super(),this._doc=Me(Do),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return il().getBaseHref(this._doc)}onPopState(r){const i=il().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=il().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=xe({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function pI(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function I3(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Xa(t){return t&&"?"!==t[0]?"?"+t:t}let Uu=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=xe({token:t,factory:function(){return Me(T3)},providedIn:"root"}),e})();const b3=new _e("appBaseHref");let T3=(()=>{var t;class e extends Uu{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Me(Do).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return pI(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+Xa(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){const a=this.prepareExternalUrl(o+Xa(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){const a=this.prepareExternalUrl(o+Xa(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(se(hI),se(b3,8))},t.\u0275prov=xe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),dJ=(()=>{var t;class e extends Uu{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(r){const i=pI(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Xa(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Xa(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(se(hI),se(b3,8))},t.\u0275prov=xe({token:t,factory:t.\u0275fac}),e})(),fI=(()=>{var t;class e{constructor(r){this._subject=new Nn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function fJ(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(I3(A3(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Xa(i))}normalize(r){return e.stripTrailingSlash(function pJ(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,A3(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Xa(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Xa(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}}return(t=e).normalizeQueryParams=Xa,t.joinWithSlash=pI,t.stripTrailingSlash=I3,t.\u0275fac=function(r){return new(r||t)(se(Uu))},t.\u0275prov=xe({token:t,factory:function(){return function hJ(){return new fI(se(Uu))}()},providedIn:"root"}),e})();function A3(t){return t.replace(/\/index.html$/,"")}function V3(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}const OI=/\s+/,U3=[];let Ts=(()=>{var t;class e{constructor(r,i,o,s){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=o,this._renderer=s,this.initialClasses=U3,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(OI):U3}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(OI):r}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const i of r)this._updateState(i,!0);else if(null!=r)for(const i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){const o=this.stateMap.get(r);void 0!==o?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){(r=r.trim()).length>0&&r.split(OI).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return(t=e).\u0275fac=function(r){return new(r||t)(W(E0),W(A_),W(Hi),W(Ga))},t.\u0275dir=We({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class JJ{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Wr=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new JJ(o.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const c=i.get(s);i.move(c,a),j3(c,o)}});for(let o=0,s=i.length;o<s;o++){const c=i.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{j3(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(W(Is),W(Ya),W(E0))},t.\u0275dir=We({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function j3(t,e){t.context.$implicit=e.item}let Vr=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new eee,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){$3("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){$3("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(W(Is),W(Ya))},t.\u0275dir=We({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class eee{constructor(){this.$implicit=null,this.ngIf=null}}function $3(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Kt(e)}'.`)}class EI{constructor(e,n){this._viewContainerRef=e,this._templateRef=n,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let x_=(()=>{var t;class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(r){this._ngSwitch=r,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(r){this._defaultViews.push(r)}_matchCase(r){const i=r==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(r){if(this._defaultViews.length>0&&r!==this._defaultUsed){this._defaultUsed=r;for(const i of this._defaultViews)i.enforceState(r)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=We({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),e})(),II=(()=>{var t;class e{constructor(r,i,o){this.ngSwitch=o,o._addCase(),this._view=new EI(r,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return(t=e).\u0275fac=function(r){return new(r||t)(W(Is),W(Ya),W(x_,9))},t.\u0275dir=We({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),e})(),bI=(()=>{var t;class e{constructor(r,i,o){o._addDefault(new EI(r,i))}}return(t=e).\u0275fac=function(r){return new(r||t)(W(Is),W(Ya),W(x_,9))},t.\u0275dir=We({type:t,selectors:[["","ngSwitchDefault",""]],standalone:!0}),e})(),Mee=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Zn({type:t}),t.\u0275inj=lr({}),e})();function L0(t){return"server"===t}let bee=(()=>{var t;class e{}return(t=e).\u0275prov=xe({token:t,providedIn:"root",factory:()=>new Tee(se(Do),window)}),e})();class Tee{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function Aee(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class G3{}class Xee extends cJ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class xI extends Xee{static makeCurrent(){!function aJ(t){dI||(dI=t)}(new xI)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Jee(){return k_=k_||document.querySelector("base"),k_?k_.getAttribute("href"):null}();return null==n?null:function ete(t){B0=B0||document.createElement("a"),B0.setAttribute("href",t);const e=B0.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){k_=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return V3(document.cookie,e)}}let B0,k_=null,nte=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=xe({token:t,factory:t.\u0275fac}),e})();const RI=new _e("EventManagerPlugins");let Q3=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new ne(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(se(RI),se(Vt))},t.\u0275prov=xe({token:t,factory:t.\u0275fac}),e})();class X3{constructor(e){this._doc=e}}const kI="ng-app-id";let J3=(()=>{var t;class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=L0(s),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${kI}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(o=>{null!=o.textContent&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){const o=this.styleRef;if(o.has(r)){const s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(kI),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(kI,this.appId),a}}addStyleToHost(r,i){const o=this.getStyleElement(r,i);r.appendChild(o);const s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(se(Do),se($C),se(a2,8),se(bo))},t.\u0275prov=xe({token:t,factory:t.\u0275fac}),e})();const NI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},FI=/%COMP%/g,ste=new _e("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function tU(t,e){return e.map(n=>n.replace(FI,t))}let nU=(()=>{var t;class e{constructor(r,i,o,s,a,c,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=L0(c),this.defaultRenderer=new LI(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Po.ShadowDom&&(i={...i,encapsulation:Po.Emulated});const o=this.getOrCreateRenderer(r,i);return o instanceof iU?o.applyToHost(r):o instanceof VI&&o.applyStyles(),o}getOrCreateRenderer(r,i){const o=this.rendererByCompId;let s=o.get(i.id);if(!s){const a=this.doc,c=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(i.encapsulation){case Po.Emulated:s=new iU(l,h,i,this.appId,f,a,c,y);break;case Po.ShadowDom:return new ute(l,h,r,i,a,c,this.nonce,y);default:s=new VI(l,h,i,f,a,c,y)}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(se(Q3),se(J3),se($C),se(ste),se(Do),se(bo),se(Vt),se(a2))},t.\u0275prov=xe({token:t,factory:t.\u0275fac}),e})();class LI{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(NI[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(rU(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(rU(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new ne(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=NI[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=NI[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(el.DashCase|el.Important)?e.style.setProperty(n,r,i&el.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&el.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=il().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function rU(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class ute extends LI{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=tU(i.id,i.styles);for(const h of l){const f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class VI extends LI{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?tU(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class iU extends VI{constructor(e,n,r,i,o,s,a,c){const l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=function ate(t){return"_ngcontent-%COMP%".replace(FI,t)}(l),this.hostAttr=function cte(t){return"_nghost-%COMP%".replace(FI,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let dte=(()=>{var t;class e extends X3{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}}return(t=e).\u0275fac=function(r){return new(r||t)(se(Do))},t.\u0275prov=xe({token:t,factory:t.\u0275fac}),e})();const oU=["alt","control","meta","shift"],hte={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pte={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let fte=(()=>{var t;class e extends X3{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,o){const s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>il().onAndCancel(r,s.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const s=e._normalizeKey(i.pop());let a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),oU.forEach(h=>{const f=i.indexOf(h);f>-1&&(i.splice(f,1),a+=h+".")}),a+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=hte[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),oU.forEach(a=>{a!==o&&(0,pte[a])(r)&&(s+=a+".")}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(se(Do))},t.\u0275prov=xe({token:t,factory:t.\u0275fac}),e})();const aU=[{provide:bo,useValue:"browser"},{provide:s2,useValue:function gte(){xI.makeCurrent()},multi:!0},{provide:Do,useFactory:function mte(){return function lG(t){IO=t}(document),document},deps:[]}],yte=JV(qX,"browser",aU),vte=new _e(""),cU=[{provide:C0,useClass:class tte{addToWindow(e){nn.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new ne(5103,!1);return o},nn.getAllAngularTestabilities=()=>e.getAllTestabilities(),nn.getAllAngularRootElements=()=>e.getAllRootElements(),nn.frameworkStabilizers||(nn.frameworkStabilizers=[]),nn.frameworkStabilizers.push(r=>{const i=nn.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(c){s=s||c,o--,0==o&&r(s)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?il().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:KV,useClass:eI,deps:[Vt,tI,C0]},{provide:eI,useClass:eI,deps:[Vt,tI,C0]}],lU=[{provide:FO,useValue:"root"},{provide:qa,useFactory:function _te(){return new qa},deps:[]},{provide:RI,useClass:dte,multi:!0,deps:[Do,Vt,bo]},{provide:RI,useClass:fte,multi:!0,deps:[Do]},nU,J3,Q3,{provide:p2,useExisting:nU},{provide:G3,useClass:nte,deps:[]},[]];let Cte=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:$C,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(se(vte,12))},t.\u0275mod=Zn({type:t}),t.\u0275inj=lr({providers:[...lU,...cU],imports:[Mee,KX]}),e})(),uU=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(se(Do))},t.\u0275prov=xe({token:t,factory:function(r){let i=null;return i=r?new r:function Pte(){return new uU(se(Do))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;const{isArray:Tte}=Array,{getPrototypeOf:Ate,prototype:Dte,keys:Ste}=Object;function fU(t){if(1===t.length){const e=t[0];if(Tte(e))return{args:e,keys:null};if(function xte(t){return t&&"object"==typeof t&&Ate(t)===Dte}(e)){const n=Ste(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:Rte}=Array;function gU(t){return ye(e=>function kte(t,e){return Rte(e)?t(...e):t(e)}(t,e))}function _U(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function sl(...t){const e=zs(t),n=Hs(t),{args:r,keys:i}=fU(t);if(0===r.length)return k([],e);const o=new ht(function Nte(t,e,n=Gn){return r=>{mU(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)mU(e,()=>{const l=k(t[c],e);let h=!1;l.subscribe(Pe(r,f=>{o[c]=f,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>_U(i,s):Gn));return n?o.pipe(gU(n)):o}function mU(t,e,n){t?jr(n,t,e):e()}const j0=Ge(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function BI(...t){return function Fte(){return io(1)}()(k(t,zs(t)))}function yU(t){return new ht(e=>{qn(t()).subscribe(e)})}function N_(t,e){const n=T(t)?t:()=>t,r=i=>i.error(n());return new ht(e?i=>e.schedule(r,0,i):r)}function jI(){return X((t,e)=>{let n=null;t._refCount++;const r=Pe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class vU extends ht{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ue(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new xt;const n=this.getSubject();e.add(this.source.subscribe(Pe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=xt.EMPTY)}return e}refCount(){return jI()(this)}}function ap(t){return t<=0?()=>ar:X((e,n)=>{let r=0;e.subscribe(Pe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function $0(...t){const e=zs(t);return X((n,r)=>{(e?BI(t,n,e):BI(t,n)).subscribe(r)})}function is(t,e){return X((n,r)=>{let i=0;n.subscribe(Pe(r,o=>t.call(e,o,i++)&&r.next(o)))})}function H0(t){return X((e,n)=>{let r=!1;e.subscribe(Pe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function CU(t=Lte){return X((e,n)=>{let r=!1;e.subscribe(Pe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Lte(){return new j0}function al(t,e){const n=arguments.length>=2;return r=>r.pipe(t?is((i,o)=>t(i,o,r)):Gn,ap(1),n?H0(e):CU(()=>new j0))}function cp(t,e){return T(e)?gn(t,e,1):gn(t,1)}function ci(t,e,n){const r=T(t)||e||n?{next:t,error:e,complete:n}:t;return r?X((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Pe(o,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),o.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Gn}function os(t){return X((e,n)=>{let o,r=null,i=!1;r=e.subscribe(Pe(n,void 0,void 0,s=>{o=qn(t(s,os(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function lp(t,e){return X(function Vte(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(Pe(s,h=>{const f=l++;c=a?t(c,h,f):(a=!0,h),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(t,e,arguments.length>=2,!0))}function $I(t){return t<=0?()=>ar:X((e,n)=>{let r=[];e.subscribe(Pe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function F_(t){return X((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const ut="primary",L_=Symbol("RouteTitle");class $te{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function up(t){return new $te(t)}function Hte(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ra(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!wU(t[i],e[i]))return!1;return!0}function wU(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function PU(t){return t.length>0?t[t.length-1]:null}function cl(t){return function bte(t){return!!t&&(t instanceof ht||T(t.lift)&&T(t.subscribe))}(t)?t:m_(t)?k(Promise.resolve(t)):Q(t)}const Wte={exact:function EU(t,e,n){if(!Bu(t.segments,e.segments)||!z0(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!EU(t.children[r],e.children[r],n))return!1;return!0},subset:IU},MU={exact:function Gte(t,e){return ra(t,e)},subset:function qte(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>wU(t[n],e[n]))},ignored:()=>!0};function OU(t,e,n){return Wte[n.paths](t.root,e.root,n.matrixParams)&&MU[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function IU(t,e,n){return bU(t,e,e.segments,n)}function bU(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Bu(i,n)||e.hasChildren()||!z0(i,n,r))}if(t.segments.length===n.length){if(!Bu(t.segments,n)||!z0(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!IU(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(Bu(t.segments,i)&&z0(t.segments,i,r)&&t.children[ut])&&bU(t.children[ut],e,o,r)}}function z0(t,e,n){return e.every((r,i)=>MU[n](t[i].parameters,r.parameters))}class dp{constructor(e=new Yt([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=up(this.queryParams)),this._queryParamMap}toString(){return Yte.serialize(this)}}class Yt{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return W0(this)}}class V_{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=up(this.parameters)),this._parameterMap}toString(){return DU(this)}}function Bu(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let U_=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=xe({token:t,factory:function(){return new HI},providedIn:"root"}),e})();class HI{parse(e){const n=new ane(e);return new dp(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${B_(e.root,!0)}`,r=function Jte(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${G0(n)}=${G0(i)}`).join("&"):`${G0(n)}=${G0(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function Qte(t){return encodeURI(t)}(e.fragment)}`:""}`}}const Yte=new HI;function W0(t){return t.segments.map(e=>DU(e)).join("/")}function B_(t,e){if(!t.hasChildren())return W0(t);if(e){const n=t.children[ut]?B_(t.children[ut],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ut&&r.push(`${i}:${B_(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Zte(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ut&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ut&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ut?[B_(t.children[ut],!1)]:[`${i}:${B_(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ut]?`${W0(t)}/${n[0]}`:`${W0(t)}/(${n.join("//")})`}}function TU(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function G0(t){return TU(t).replace(/%3B/gi,";")}function zI(t){return TU(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function q0(t){return decodeURIComponent(t)}function AU(t){return q0(t.replace(/\+/g,"%20"))}function DU(t){return`${zI(t.path)}${function Xte(t){return Object.keys(t).map(e=>`;${zI(e)}=${zI(t[e])}`).join("")}(t.parameters)}`}const ene=/^[^\/()?;#]+/;function WI(t){const e=t.match(ene);return e?e[0]:""}const tne=/^[^\/()?;=#]+/,rne=/^[^=?&#]+/,one=/^[^&#]+/;class ane{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yt([],{}):new Yt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ut]=new Yt(e,n)),r}parseSegment(){const e=WI(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new ne(4009,!1);return this.capture(e),new V_(q0(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function nne(t){const e=t.match(tne);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=WI(this.remaining);i&&(r=i,this.capture(r))}e[q0(n)]=q0(r)}parseQueryParam(e){const n=function ine(t){const e=t.match(rne);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function sne(t){const e=t.match(one);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=AU(n),o=AU(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=WI(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new ne(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ut);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[ut]:new Yt([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new ne(4011,!1)}}function SU(t){return t.segments.length>0?new Yt([],{[ut]:t}):t}function xU(t){const e={};for(const r of Object.keys(t.children)){const o=xU(t.children[r]);if(r===ut&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function cne(t){if(1===t.numberOfChildren&&t.children[ut]){const e=t.children[ut];return new Yt(t.segments.concat(e.segments),e.children)}return t}(new Yt(t.segments,e))}function ju(t){return t instanceof dp}function RU(t){let e;const i=SU(function n(o){const s={};for(const c of o.children){const l=n(c);s[c.outlet]=l}const a=new Yt(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function kU(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return GI(i,i,i,n,r);const o=function une(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new FU(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new FU(n,e,r)}(e);if(o.toRoot())return GI(i,i,new Yt([],{}),n,r);const s=function dne(t,e,n){if(t.isAbsolute)return new Z0(e,!0,0);if(!n)return new Z0(e,!1,NaN);if(null===n.parent)return new Z0(n,!0,0);const r=K0(t.commands[0])?0:1;return function hne(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new ne(4005,!1);i=r.segments.length}return new Z0(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?$_(s.segmentGroup,s.index,o.commands):LU(s.segmentGroup,s.index,o.commands);return GI(i,s.segmentGroup,a,n,r)}function K0(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function j_(t){return"object"==typeof t&&null!=t&&t.outlets}function GI(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`}),s=t===e?n:NU(t,e,n);const a=SU(xU(s));return new dp(a,o,i)}function NU(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:NU(o,e,n)}),new Yt(t.segments,r)}class FU{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&K0(r[0]))throw new ne(4003,!1);const i=r.find(j_);if(i&&i!==PU(r))throw new ne(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Z0{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function LU(t,e,n){if(t||(t=new Yt([],{})),0===t.segments.length&&t.hasChildren())return $_(t,e,n);const r=function fne(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(j_(a))break;const c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!UU(c,l,s))return o;r+=2}else{if(!UU(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new Yt(t.segments.slice(0,r.pathIndex),{});return o.children[ut]=new Yt(t.segments.slice(r.pathIndex),t.children),$_(o,0,i)}return r.match&&0===i.length?new Yt(t.segments,{}):r.match&&!t.hasChildren()?qI(t,e,n):r.match?$_(t,0,i):qI(t,e,n)}function $_(t,e,n){if(0===n.length)return new Yt(t.segments,{});{const r=function pne(t){return j_(t[0])?t[0].outlets:{[ut]:t}}(n),i={};if(Object.keys(r).some(o=>o!==ut)&&t.children[ut]&&1===t.numberOfChildren&&0===t.children[ut].segments.length){const o=$_(t.children[ut],e,n);return new Yt(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=LU(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new Yt(t.segments,i)}}function qI(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(j_(o)){const c=gne(o.outlets);return new Yt(r,c)}if(0===i&&K0(n[0])){r.push(new V_(t.segments[e].path,VU(n[0]))),i++;continue}const s=j_(o)?o.outlets[ut]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&K0(a)?(r.push(new V_(s,VU(a))),i+=2):(r.push(new V_(s,{})),i++)}return new Yt(r,{})}function gne(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=qI(new Yt([],{}),0,r))}),e}function VU(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function UU(t,e,n){return t==n.path&&ra(e,n.parameters)}const H_="imperative";class ia{constructor(e,n){this.id=e,this.url=n}}class Y0 extends ia{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ll extends ia{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class z_ extends ia{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class hp extends ia{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Q0 extends ia{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class BU extends ia{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _ne extends ia{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mne extends ia{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yne extends ia{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vne extends ia{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cne{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class wne{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Pne{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mne{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class One{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ene{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jU{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class KI{}class ZI{constructor(e){this.url=e}}class Ine{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new W_,this.attachRef=null}}let W_=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Ine,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=xe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class $U{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=YI(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=YI(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=QI(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return QI(e,this._root).map(n=>n.value)}}function YI(t,e){if(t===e.value)return e;for(const n of e.children){const r=YI(t,n);if(r)return r}return null}function QI(t,e){if(t===e.value)return[e];for(const n of e.children){const r=QI(t,n);if(r.length)return r.unshift(e),r}return[]}class tc{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function pp(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class HU extends $U{constructor(e,n){super(e),this.snapshot=n,XI(this,e)}toString(){return this.snapshot.toString()}}function zU(t,e){const n=function bne(t,e){const s=new X0([],{},{},"",{},ut,e,null,{});return new GU("",new tc(s,[]))}(0,e),r=new $([new V_("",{})]),i=new $({}),o=new $({}),s=new $({}),a=new $(""),c=new xo(r,i,s,a,o,ut,e,n.root);return c.snapshot=n.root,new HU(new tc(c,[]),n)}class xo{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ye(l=>l[L_]))??Q(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ye(e=>up(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ye(e=>up(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function WU(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function Tne(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class X0{get title(){return this.data?.[L_]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=up(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=up(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class GU extends $U{constructor(e,n){super(n),this.url=e,XI(this,n)}toString(){return qU(this._root)}}function XI(t,e){e.value._routerState=t,e.children.forEach(n=>XI(t,n))}function qU(t){const e=t.children.length>0?` { ${t.children.map(qU).join(", ")} } `:"";return`${t.value}${e}`}function JI(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ra(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ra(e.params,n.params)||t.paramsSubject.next(n.params),function zte(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ra(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),ra(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function eb(t,e){const n=ra(t.params,e.params)&&function Kte(t,e){return Bu(t,e)&&t.every((n,r)=>ra(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||eb(t.parent,e.parent))}let ul=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ut,this.activateEvents=new Nn,this.deactivateEvents=new Nn,this.attachEvents=new Nn,this.detachEvents=new Nn,this.parentContexts=Me(W_),this.location=Me(Is),this.changeDetector=Me(P0),this.environmentInjector=Me(Io),this.inputBinder=Me(J0,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ne(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ne(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ne(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new ne(4013,!1);this._activatedRoute=r;const o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new Ane(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=We({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[wi]}),e})();class Ane{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===xo?this.route:e===W_?this.childContexts:this.parent.get(e,n)}}const J0=new _e("");let KU=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:i}=r,o=sl([i.queryParams,i.params,i.data]).pipe(it(([s,a,c],l)=>(c={...s,...a,...c},0===l?Q(c):Promise.resolve(c)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(r);const a=function sJ(t){const e=Mt(t);if(!e)return null;const n=new h_(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(a)for(const{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,s[c]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,o)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=xe({token:t,factory:t.\u0275fac}),e})();function G_(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Sne(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return G_(t,r,i);return G_(t,r)})}(t,e,n);return new tc(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>G_(t,a)),s}}const r=function xne(t){return new xo(new $(t.url),new $(t.params),new $(t.queryParams),new $(t.fragment),new $(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>G_(t,o));return new tc(r,i)}}const tb="ngNavigationCancelingError";function ZU(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=ju(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=YU(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function YU(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[tb]=!0,r.cancellationCode=e,n&&(r.url=n),r}function QU(t){return t&&t[tb]}let XU=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=At({type:t,selectors:[["ng-component"]],standalone:!0,features:[eV],decls:1,vars:0,template:function(r,i){1&r&&I(0,"router-outlet")},dependencies:[ul],encapsulation:2}),e})();function nb(t){const e=t.children&&t.children.map(nb),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ut&&(n.component=XU),n}function Ds(t){return t.outlet||ut}function q_(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Bne{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),JI(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=pp(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=pp(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=pp(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=pp(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Ene(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Mne(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(JI(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),JI(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=q_(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class JU{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ew{constructor(e,n){this.component=e,this.route=n}}function jne(t,e,n){const r=t._root;return K_(r,e?e._root:null,n,[r.value])}function fp(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function c1(t){return null!==ru(t)}(t)?e.get(t):t:r}function K_(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=pp(e);return t.children.forEach(s=>{(function Hne(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function zne(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Bu(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Bu(t.url,e.url)||!ra(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!eb(t,e)||!ra(t.queryParams,e.queryParams);default:return!eb(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new JU(r)):(o.data=s.data,o._resolvedData=s._resolvedData),K_(t,e,o.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ew(a.outlet.component,s))}else s&&Z_(e,a,i),i.canActivateChecks.push(new JU(r)),K_(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Z_(a,n.getContext(s),i)),i}function Z_(t,e,n){const r=pp(t),i=t.value;Object.entries(r).forEach(([o,s])=>{Z_(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new ew(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Y_(t){return"function"==typeof t}function e5(t){return t instanceof j0||"EmptyError"===t?.name}const tw=Symbol("INITIAL_VALUE");function gp(){return it(t=>sl(t.map(e=>e.pipe(ap(1),$0(tw)))).pipe(ye(e=>{for(const n of e)if(!0!==n){if(n===tw)return tw;if(!1===n||n instanceof dp)return n}return!0}),is(e=>e!==tw),ap(1)))}function t5(t){return function Bo(...t){return jo(t)}(ci(e=>{if(ju(e))throw ZU(0,e)}),ye(e=>!0===e))}class nw{constructor(e){this.segmentGroup=e||null}}class n5{constructor(e){this.urlTree=e}}function _p(t){return N_(new nw(t))}function r5(t){return N_(new n5(t))}class ure{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new ne(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Q(r);if(i.numberOfChildren>1||!i.children[ut])return N_(new ne(4e3,!1));i=i.children[ut]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new dp(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Yt(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new ne(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const rb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dre(t,e,n,r,i){const o=ib(t,e,n);return o.matched?(r=function kne(t,e){return t.providers&&!t._injector&&(t._injector=FE(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function are(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?Q(i.map(s=>{const a=fp(s,t);return cl(function Yne(t){return t&&Y_(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(gp(),t5()):Q(!0)}(r,e,n).pipe(ye(s=>!0===s?o:{...rb}))):Q(o)}function ib(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...rb}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Hte)(n,t,e);if(!i)return{...rb};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function i5(t,e,n,r){return n.length>0&&function fre(t,e,n){return n.some(r=>rw(t,e,r)&&Ds(r)!==ut)}(t,n,r)?{segmentGroup:new Yt(e,pre(r,new Yt(n,t.children))),slicedSegments:[]}:0===n.length&&function gre(t,e,n){return n.some(r=>rw(t,e,r))}(t,n,r)?{segmentGroup:new Yt(t.segments,hre(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Yt(t.segments,t.children),slicedSegments:n}}function hre(t,e,n,r,i){const o={};for(const s of r)if(rw(t,n,s)&&!i[Ds(s)]){const a=new Yt([],{});o[Ds(s)]=a}return{...i,...o}}function pre(t,e){const n={};n[ut]=e;for(const r of t)if(""===r.path&&Ds(r)!==ut){const i=new Yt([],{});n[Ds(r)]=i}return n}function rw(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class vre{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new ure(this.urlSerializer,this.urlTree)}noMatchError(e){return new ne(4002,!1)}recognize(){const e=i5(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ut).pipe(os(n=>{if(n instanceof n5)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof nw?this.noMatchError(n):n}),ye(n=>{const r=new X0([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ut,this.rootComponentType,null,{}),i=new tc(r,n),o=new GU("",i),s=function lne(t,e,n=null,r=null){return kU(RU(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ut).pipe(os(r=>{throw r instanceof nw?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=WU(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return k(i).pipe(cp(o=>{const s=r.children[o],a=function Vne(t,e){const n=t.filter(r=>Ds(r)===e);return n.push(...t.filter(r=>Ds(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),lp((o,s)=>(o.push(...s),o)),H0(null),function Ute(t,e){const n=arguments.length>=2;return r=>r.pipe(t?is((i,o)=>t(i,o,r)):Gn,$I(1),n?H0(e):CU(()=>new j0))}(),gn(o=>{if(null===o)return _p(r);const s=o5(o);return function Cre(t){t.sort((e,n)=>e.value.outlet===ut?-1:n.value.outlet===ut?1:e.value.outlet.localeCompare(n.value.outlet))}(s),Q(s)}))}processSegment(e,n,r,i,o,s){return k(n).pipe(cp(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(os(c=>{if(c instanceof nw)return Q(null);throw c}))),al(a=>!!a),os(a=>{if(e5(a))return function mre(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?Q([]):_p(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function _re(t,e,n,r){return!!(Ds(t)===r||r!==ut&&rw(e,n,t))&&("**"===t.path||ib(e,t,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):_p(i):_p(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?r5(o):this.applyRedirects.lineralizeSegments(r,o).pipe(gn(s=>{const a=new Yt(s,{});return this.processSegment(e,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:h}=ib(n,i,o);if(!a)return _p(n);const f=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,h);return i.redirectTo.startsWith("/")?r5(f):this.applyRedirects.lineralizeSegments(i,f).pipe(gn(y=>this.processSegment(e,r,n,y.concat(l),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a;if("**"===r.path){const c=i.length>0?PU(i).parameters:{};a=Q({snapshot:new X0(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,s5(r),Ds(r),r.component??r._loadedComponent??null,r,a5(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=dre(n,r,i,e).pipe(ye(({matched:c,consumedSegments:l,remainingSegments:h,parameters:f})=>c?{snapshot:new X0(l,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,s5(r),Ds(r),r.component??r._loadedComponent??null,r,a5(r)),consumedSegments:l,remainingSegments:h}:null));return a.pipe(it(c=>null===c?_p(n):this.getChildConfig(e=r._injector??e,r,i).pipe(it(({routes:l})=>{const h=r._loadedInjector??e,{snapshot:f,consumedSegments:y,remainingSegments:v}=c,{segmentGroup:O,slicedSegments:b}=i5(n,y,v,l);if(0===b.length&&O.hasChildren())return this.processChildren(h,l,O).pipe(ye(U=>null===U?null:[new tc(f,U)]));if(0===l.length&&0===b.length)return Q([new tc(f,[])]);const D=Ds(r)===o;return this.processSegment(h,l,O,b,D?ut:o,!0).pipe(ye(U=>[new tc(f,U)]))}))))}getChildConfig(e,n,r){return n.children?Q({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?Q({routes:n._loadedRoutes,injector:n._loadedInjector}):function sre(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?Q(!0):Q(i.map(s=>{const a=fp(s,t);return cl(function Gne(t){return t&&Y_(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(gp(),t5())}(e,n,r).pipe(gn(i=>i?this.configLoader.loadChildren(e,n).pipe(ci(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function lre(t){return N_(YU(!1,3))}())):Q({routes:[],injector:e})}}function wre(t){const e=t.value.routeConfig;return e&&""===e.path}function o5(t){const e=[],n=new Set;for(const r of t){if(!wre(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=o5(r.children);e.push(new tc(r.value,i))}return e.filter(r=>!n.has(r))}function s5(t){return t.data||{}}function a5(t){return t.resolve||{}}function c5(t){return"string"==typeof t.title||null===t.title}function ob(t){return it(e=>{const n=t(e);return n?k(n).pipe(ye(()=>e)):Q(e)})}const mp=new _e("ROUTES");let sb=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Me(zV)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Q(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=cl(r.loadComponent()).pipe(ye(l5),ci(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),F_(()=>{this.componentLoaders.delete(r)})),o=new vU(i,()=>new te).pipe(jI());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Q({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function Tre(t,e,n,r){return cl(t.loadChildren()).pipe(ye(l5),gn(i=>i instanceof XL||Array.isArray(i)?Q(i):k(e.compileModuleAsync(i))),ye(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(mp,[],{optional:!0,self:!0}).flat()),{routes:s.map(nb),injector:o}}))}(i,this.compiler,r,this.onLoadEndListener).pipe(F_(()=>{this.childrenLoaders.delete(i)})),a=new vU(s,()=>new te).pipe(jI());return this.childrenLoaders.set(i,a),a}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=xe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function l5(t){return function Are(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let iw=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new te,this.transitionAbortSubject=new te,this.configLoader=Me(sb),this.environmentInjector=Me(Io),this.urlSerializer=Me(U_),this.rootContexts=Me(W_),this.inputBindingEnabled=null!==Me(J0,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Q(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new wne(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new Cne(o))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,o){return this.transitions=new $({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:r.urlHandlingStrategy.extract(i),urlAfterRedirects:r.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:H_,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(is(s=>0!==s.id),ye(s=>({...s,extractedUrl:r.urlHandlingStrategy.extract(s.rawUrl)})),it(s=>{this.currentTransition=s;let a=!1,c=!1;return Q(s).pipe(ci(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),it(l=>{const h=l.currentBrowserUrl.toString(),f=!r.navigated||l.extractedUrl.toString()!==h||h!==l.currentUrlTree.toString();if(!f&&"reload"!==(l.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const v="";return this.events.next(new hp(l.id,this.urlSerializer.serialize(l.rawUrl),v,0)),l.resolve(null),ar}if(r.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Q(l).pipe(it(v=>{const O=this.transitions?.getValue();return this.events.next(new Y0(v.id,this.urlSerializer.serialize(v.extractedUrl),v.source,v.restoredState)),O!==this.transitions?.getValue()?ar:Promise.resolve(v)}),function Pre(t,e,n,r,i,o){return gn(s=>function yre(t,e,n,r,i,o,s="emptyOnly"){return new vre(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(ye(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),ci(v=>{s.targetSnapshot=v.targetSnapshot,s.urlAfterRedirects=v.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:v.urlAfterRedirects};const O=new BU(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(O)}));if(f&&r.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:v,extractedUrl:O,source:b,restoredState:D,extras:U}=l,L=new Y0(v,this.urlSerializer.serialize(O),b,D);this.events.next(L);const q=zU(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:q,urlAfterRedirects:O,extras:{...U,skipLocationChange:!1,replaceUrl:!1}},Q(s)}{const v="";return this.events.next(new hp(l.id,this.urlSerializer.serialize(l.extractedUrl),v,1)),l.resolve(null),ar}}),ci(l=>{const h=new _ne(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),ye(l=>(this.currentTransition=s={...l,guards:jne(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function Xne(t,e){return gn(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Q({...n,guardsResult:!0}):function Jne(t,e,n,r){return k(t).pipe(gn(i=>function ore(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Q(o.map(a=>{const c=q_(e)??i,l=fp(a,c);return cl(function Zne(t){return t&&Y_(t.canDeactivate)}(l)?l.canDeactivate(t,e,n,r):c.runInContext(()=>l(t,e,n,r))).pipe(al())})).pipe(gp()):Q(!0)}(i.component,i.route,n,e,r)),al(i=>!0!==i,!0))}(s,r,i,t).pipe(gn(a=>a&&function Wne(t){return"boolean"==typeof t}(a)?function ere(t,e,n,r){return k(e).pipe(cp(i=>BI(function nre(t,e){return null!==t&&e&&e(new Pne(t)),Q(!0)}(i.route.parent,r),function tre(t,e){return null!==t&&e&&e(new One(t)),Q(!0)}(i.route,r),function ire(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function $ne(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>yU(()=>Q(s.guards.map(c=>{const l=q_(s.node)??n,h=fp(c,l);return cl(function Kne(t){return t&&Y_(t.canActivateChild)}(h)?h.canActivateChild(r,t):l.runInContext(()=>h(r,t))).pipe(al())})).pipe(gp())));return Q(o).pipe(gp())}(t,i.path,n),function rre(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Q(!0);const i=r.map(o=>yU(()=>{const s=q_(e)??n,a=fp(o,s);return cl(function qne(t){return t&&Y_(t.canActivate)}(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t))).pipe(al())}));return Q(i).pipe(gp())}(t,i.route,n))),al(i=>!0!==i,!0))}(r,o,t,e):Q(a)),ye(a=>({...n,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),ci(l=>{if(s.guardsResult=l.guardsResult,ju(l.guardsResult))throw ZU(0,l.guardsResult);const h=new mne(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),is(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),ob(l=>{if(l.guards.canActivateChecks.length)return Q(l).pipe(ci(h=>{const f=new yne(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}),it(h=>{let f=!1;return Q(h).pipe(function Mre(t,e){return gn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Q(n);let o=0;return k(i).pipe(cp(s=>function Ore(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!c5(i)&&(o[L_]=i.title),function Ere(t,e,n,r){const i=function Ire(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return Q({});const o={};return k(i).pipe(gn(s=>function bre(t,e,n,r){const i=q_(e)??r,o=fp(t,i);return cl(o.resolve?o.resolve(e,n):i.runInContext(()=>o(e,n)))}(t[s],e,n,r).pipe(al(),ci(a=>{o[s]=a}))),$I(1),function Bte(t){return ye(()=>t)}(o),os(s=>e5(s)?ar:N_(s)))}(o,t,e,r).pipe(ye(s=>(t._resolvedData=s,t.data=WU(t,n).resolve,i&&c5(i)&&(t.data[L_]=i.title),null)))}(s.route,r,t,e)),ci(()=>o++),$I(1),gn(s=>o===i.length?Q(n):ar))})}(r.paramsInheritanceStrategy,this.environmentInjector),ci({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(h,"",2)}}))}),ci(h=>{const f=new vne(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}))}),ob(l=>{const h=f=>{const y=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(f.routeConfig).pipe(ci(v=>{f.component=v}),ye(()=>{})));for(const v of f.children)y.push(...h(v));return y};return sl(h(l.targetSnapshot.root)).pipe(H0(),ap(1))}),ob(()=>this.afterPreactivation()),ye(l=>{const h=function Dne(t,e,n){const r=G_(t,e._root,n?n._root:void 0);return new HU(r,e)}(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:h},s}),ci(()=>{this.events.next(new KI)}),((t,e,n,r)=>ye(i=>(new Bne(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),ap(1),ci({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ll(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),r.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),function jte(t){return X((e,n)=>{qn(t).subscribe(Pe(n,()=>n.complete(),ke)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(ci(l=>{throw l}))),F_(()=>{a||c||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),os(l=>{if(c=!0,QU(l))this.events.next(new z_(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function Rne(t){return QU(t)&&ju(t.url)}(l)?this.events.next(new ZI(l.url)):s.resolve(!1);else{this.events.next(new Q0(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(h){s.reject(h)}}return ar}))}))}cancelNavigationTransition(r,i,o){const s=new z_(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=xe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function u5(t){return t!==H_}let d5=(()=>{var t;class e{buildTitle(r){let i,o=r.root;for(;void 0!==o;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===ut);return i}getResolvedTitleForRoute(r){return r.data[L_]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=xe({token:t,factory:function(){return Me(Dre)},providedIn:"root"}),e})(),Dre=(()=>{var t;class e extends d5{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(se(uU))},t.\u0275prov=xe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Sre=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=xe({token:t,factory:function(){return Me(Rre)},providedIn:"root"}),e})();class xre{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Rre=(()=>{var t;class e extends xre{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Fr(t)))(i||t)}}(),t.\u0275prov=xe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const ow=new _e("",{providedIn:"root",factory:()=>({})});let kre=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=xe({token:t,factory:function(){return Me(Nre)},providedIn:"root"}),e})(),Nre=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=xe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var Q_=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Q_||{});function h5(t,e){t.events.pipe(is(n=>n instanceof ll||n instanceof z_||n instanceof Q0||n instanceof hp),ye(n=>n instanceof ll||n instanceof hp?Q_.COMPLETE:n instanceof z_&&(0===n.code||1===n.code)?Q_.REDIRECTING:Q_.FAILED),is(n=>n!==Q_.REDIRECTING),ap(1)).subscribe(()=>{e()})}function Fre(t){throw t}function Lre(t,e,n){return e.parse("/")}const Vre={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ure={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let nr=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Me(HV),this.isNgZoneEnabled=!1,this._events=new te,this.options=Me(ow,{optional:!0})||{},this.pendingTasks=Me(y0),this.errorHandler=this.options.errorHandler||Fre,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Lre,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Me(kre),this.routeReuseStrategy=Me(Sre),this.titleStrategy=Me(d5),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Me(mp,{optional:!0})?.flat()??[],this.navigationTransitions=Me(iw),this.urlSerializer=Me(U_),this.location=Me(fI),this.componentInputBindingEnabled=!!Me(J0,{optional:!0}),this.eventsSubscription=new xt,this.isNgZoneEnabled=Me(Vt)instanceof Vt&&Vt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new dp,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=zU(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:o}=this.navigationTransitions;if(null===o)return void(p5(i)&&this._events.next(i));if(i instanceof Y0)u5(o.source)&&(this.browserUrlTree=o.extractedUrl);else if(i instanceof hp)this.rawUrlTree=o.rawUrl;else if(i instanceof BU){if("eager"===this.urlUpdateStrategy){if(!o.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl);this.setBrowserUrl(s,o)}this.browserUrlTree=o.urlAfterRedirects}}else if(i instanceof KI)this.currentUrlTree=o.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o),this.browserUrlTree=o.urlAfterRedirects);else if(i instanceof z_)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(o);else if(i instanceof ZI){const s=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),a={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||u5(o.source)};this.scheduleNavigation(s,H_,null,a,{resolve:o.resolve,reject:o.reject,promise:o.promise})}i instanceof Q0&&this.restoreHistory(o,!0),i instanceof ll&&(this.navigated=!0),p5(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),H_,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,o){const s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){const l={...o};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(nb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a;let y,f=null;switch(c){case"merge":f={...this.currentUrlTree.queryParams,...s};break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}null!==f&&(f=this.removeEmptyProps(f));try{y=RU(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),y=this.currentUrlTree.root}return kU(y,r,f,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){const o=ju(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,H_,null,i)}navigate(r,i={skipLocationChange:!1}){return function Bre(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new ne(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(o){i=this.malformedUriErrorHandler(o,this.urlSerializer,r)}return i}isActive(r,i){let o;if(o=!0===i?{...Vre}:!1===i?{...Ure}:i,ju(r))return OU(this.currentUrlTree,r,o);const s=this.parseUrl(r);return OU(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.keys(r).reduce((i,o)=>{const s=r[o];return null!=s&&(i[o]=s),i},{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,h;a?(c=a.resolve,l=a.reject,h=a.promise):h=new Promise((y,v)=>{c=y,l=v});const f=this.pendingTasks.add();return h5(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:s,resolve:c,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(y=>Promise.reject(y))}setBrowserUrl(r,i){const o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(o,"",a)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(o,"",s)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=xe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function p5(t){return!(t instanceof KI||t instanceof ZI)}let pr=(()=>{var t;class e{constructor(r,i,o,s,a,c){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new te,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof ll&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){null!=r?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){return!!(null===this.urlTree||this.isAnchorElement&&(0!==r||i||o||s||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const r=null===this.href?null:function XN(t,e,n){return function SG(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?QN:pt}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){const o=this.renderer,s=this.el.nativeElement;null!==i?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(t=e).\u0275fac=function(r){return new(r||t)(W(nr),W(xo),function bh(t){return function X1(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(Zf(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}(Nr(),t)}("tabindex"),W(Ga),W(Hi),W(Uu))},t.\u0275dir=We({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&j("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&Wi("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",op],skipLocationChange:["skipLocationChange","skipLocationChange",op],replaceUrl:["replaceUrl","replaceUrl",op],routerLink:"routerLink"},standalone:!0,features:[hF,wi]}),e})();class f5{}let Hre=(()=>{var t;class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(is(r=>r instanceof ll),cp(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){const o=[];for(const s of i){s.providers&&!s._injector&&(s._injector=FE(s.providers,r,`Route: ${s.path}`));const a=s._injector??r,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(c,s.children??s._loadedRoutes))}return k(o).pipe(io())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;o=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(r,i):Q(null);const s=o.pipe(gn(a=>null===a?Q(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));return i.loadComponent&&!i._loadedComponent?k([s,this.loader.loadComponent(i)]).pipe(io()):s})}}return(t=e).\u0275fac=function(r){return new(r||t)(se(nr),se(zV),se(Io),se(f5),se(sb))},t.\u0275prov=xe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const ab=new _e("");let g5=(()=>{var t;class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Y0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof ll?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof hp&&0===r.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof jU&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new jU(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){!function U2(){throw new Error("invalid")}()},t.\u0275prov=xe({token:t,factory:t.\u0275fac}),e})();function nc(t,e){return{\u0275kind:t,\u0275providers:e}}function m5(){const t=Me(zi);return e=>{const n=t.get(ip);if(e!==n.components[0])return;const r=t.get(nr),i=t.get(y5);1===t.get(cb)&&r.initialNavigation(),t.get(v5,null,Ct.Optional)?.setUpPreloading(),t.get(ab,null,Ct.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const y5=new _e("",{factory:()=>new te}),cb=new _e("",{providedIn:"root",factory:()=>1}),v5=new _e("");function qre(t){return nc(0,[{provide:v5,useExisting:Hre},{provide:f5,useExisting:t}])}const C5=new _e("ROUTER_FORROOT_GUARD"),Zre=[fI,{provide:U_,useClass:HI},nr,W_,{provide:xo,useFactory:function _5(t){return t.routerState.root},deps:[nr]},sb,[]];function Yre(){return new QV("Router",nr)}let w5=(()=>{var t;class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[Zre,[],{provide:mp,multi:!0,useValue:r},{provide:C5,useFactory:eie,deps:[[nr,new p,new d]]},{provide:ow,useValue:i||{}},i?.useHash?{provide:Uu,useClass:dJ}:{provide:Uu,useClass:T3},{provide:ab,useFactory:()=>{const t=Me(bee),e=Me(Vt),n=Me(ow),r=Me(iw),i=Me(U_);return n.scrollOffset&&t.setOffset(n.scrollOffset),new g5(i,r,t,e,n)}},i?.preloadingStrategy?qre(i.preloadingStrategy).\u0275providers:[],{provide:QV,multi:!0,useFactory:Yre},i?.initialNavigation?tie(i):[],i?.bindToComponentInputs?nc(8,[KU,{provide:J0,useExisting:KU}]).\u0275providers:[],[{provide:P5,useFactory:m5},{provide:iI,multi:!0,useExisting:P5}]]}}static forChild(r){return{ngModule:e,providers:[{provide:mp,multi:!0,useValue:r}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(se(C5,8))},t.\u0275mod=Zn({type:t}),t.\u0275inj=lr({}),e})();function eie(t){return"guarded"}function tie(t){return["disabled"===t.initialNavigation?nc(3,[{provide:YE,multi:!0,useFactory:()=>{const e=Me(nr);return()=>{e.setUpLocationChangeListener()}}},{provide:cb,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?nc(2,[{provide:cb,useValue:0},{provide:YE,multi:!0,deps:[zi],useFactory:e=>{const n=e.get(lJ,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(nr),o=e.get(y5);h5(i,()=>{r(!0)}),e.get(iw).afterPreactivation=()=>(r(!0),o.closed?Q(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const P5=new _e("");var S=et(861),$e=et(534);(0,$e.registerVersion)("firebase","10.5.2","app");var Ro=et(537),E=et(58),Ei=et(879);const M5="@firebase/database";let lb="";function ub(t){lb=t}class oie{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,E.Wl)(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:(0,E.cI)(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class sie{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return(0,E.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const E5=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new oie(e)}}catch{}return new sie},$u=E5("localStorage"),db=E5("sessionStorage"),yp=new Ei.Yd("@firebase/database"),I5=function(){let t=1;return function(){return t++}}(),b5=function(t){const e=(0,E.dS)(t),n=new E.gQ;n.update(e);const r=n.digest();return E.US.encodeByteArray(r)},X_=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=X_.apply(null,r):e+="object"==typeof r?(0,E.Wl)(r):r,e+=" "}return e};let Hu=null,T5=!0;const A5=function(t,e){(0,E.hu)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(yp.logLevel=Ei.in.VERBOSE,Hu=yp.log.bind(yp),e&&db.set("logging_enabled",!0)):"function"==typeof t?Hu=t:(Hu=null,db.remove("logging_enabled"))},Gr=function(...t){if(!0===T5&&(T5=!1,null===Hu&&!0===db.get("logging_enabled")&&A5(!0)),Hu){const e=X_.apply(null,t);Hu(e)}},J_=function(t){return function(...e){Gr(t,...e)}},hb=function(...t){const e="FIREBASE INTERNAL ERROR: "+X_(...t);yp.error(e)},oa=function(...t){const e=`FIREBASE FATAL ERROR: ${X_(...t)}`;throw yp.error(e),new Error(e)},Ii=function(...t){const e="FIREBASE WARNING: "+X_(...t);yp.warn(e)},sw=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},dl="[MIN_NAME]",rc="[MAX_NAME]",zu=function(t,e){if(t===e)return 0;if(t===dl||e===rc)return-1;if(e===dl||t===rc)return 1;{const n=x5(t),r=x5(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},lie=function(t,e){return t===e?0:t<e?-1:1},em=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+(0,E.Wl)(e))},pb=function(t){if("object"!=typeof t||null===t)return(0,E.Wl)(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=(0,E.Wl)(e[r]),n+=":",n+=pb(t[e[r]]);return n+="}",n},D5=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function qr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const S5=function(t){(0,E.hu)(!sw(t),"Invalid JSON number");const r=1023;let i,o,s,a,c;0===t?(o=0,s=0,i=1/t==-1/0?1:0):(i=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(t/Math.pow(2,-1074))));const l=[];for(c=52;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=11;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();const h=l.join("");let f="";for(c=0;c<64;c+=8){let y=parseInt(h.substr(c,8),2).toString(16);1===y.length&&(y="0"+y),f+=y}return f.toLowerCase()},pie=new RegExp("^-?(0*)\\d{1,10}$"),x5=function(t){if(pie.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},vp=function(t){try{t()}catch(e){setTimeout(()=>{throw Ii("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},tm=function(t,e){const n=setTimeout(t,e);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class mie{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ii(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class yie{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(Gr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ii(e)}}let nm=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const L5=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,B5="websocket",j5="long_polling";class gb{constructor(e,n,r,i,o=!1,s="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=$u.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&$u.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function $5(t,e,n){let r;if((0,E.hu)("string"==typeof e,"typeof type must == string"),(0,E.hu)("object"==typeof n,"typeof params must == object"),e===B5)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==j5)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function vie(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return qr(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}class Cie{constructor(){this.counters_={}}incrementCounter(e,n=1){(0,E.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return(0,E.p$)(this.counters_)}}const _b={},mb={};function yb(t){const e=t.toString();return _b[e]||(_b[e]=new Cie),_b[e]}class Pie{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&vp(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class hl{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=J_(e),this.stats_=yb(n),this.urlFn=c=>(this.appCheckToken&&(c.ac=this.appCheckToken),$5(n,j5,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Pie(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if((0,E.Yr)()||"complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new vb((...o)=>{const[s,a,c,l,h]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=c;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&L5.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){hl.forceAllow_=!0}static forceDisallow(){hl.forceDisallow_=!0}static isAvailable(){return!((0,E.Yr)()||!hl.forceAllow_&&(hl.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=(0,E.Wl)(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=(0,E.h$)(n),i=D5(r,1840);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if((0,E.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=(0,E.Wl)(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class vb{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,E.Yr)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=I5(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=vb.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Gr("frame writing exception"),a.stack&&Gr(a.stack),Gr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Gr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const s=this.pendingSegs.shift();r=r+"&seg"+i+"="+s.seg+"&ts"+i+"="+s.ts+"&d"+i+"="+s.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,n){(0,E.Yr)()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Gr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let cw=null;typeof MozWebSocket<"u"?cw=MozWebSocket:typeof WebSocket<"u"&&(cw=WebSocket);let Cp=(()=>{class t{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=J_(this.connId),this.stats_=yb(r),this.connURL=t.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){const a={v:"5"};return!(0,E.Yr)()&&typeof location<"u"&&location.hostname&&L5.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),o&&(a.ac=o),s&&(a.p=s),$5(n,B5,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$u.set("previous_websocket_failure",!0);try{let i;if((0,E.Yr)()){i={headers:{"User-Agent":`Firebase/5/${lb}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const s=process.env,a=0===this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new cw(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==cw&&!t.forceDisallow_}static previouslyFailed(){return $u.isInMemoryStorage||!0===$u.get("previous_websocket_failure")}markConnectionHealthy(){$u.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,E.cI)(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if((0,E.hu)(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=(0,E.Wl)(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=D5(r,16384);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),Z5=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[hl,Cp]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=Cp&&Cp.isAvailable();let i=r&&!Cp.previouslyFailed();if(n.webSocketOnly&&(r||Ii("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Cp];else{const o=this.transports_=[];for(const s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class n4{constructor(e,n,r,i,o,s,a,c,l,h){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=J_("c:"+this.id+":"),this.transportManager_=new Z5(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=tm(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=em("t",e),r=em("d",e);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=em("t",e),r=em("d",e);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=em("t",e);if("d"in e){const r=e.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?hb("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):hb("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&Ii("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),tm(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):tm(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($u.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class r4{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class i4{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,E.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context))return void i.splice(o,1)}validateEventType_(e){(0,E.hu)(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class lw extends i4{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,E.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new lw}getInitialEvent(e){return(0,E.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class qt{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function zt(){return new qt("")}function wt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function pl(t){return t.pieces_.length-t.pieceNum_}function un(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new qt(t.pieces_,e)}function wb(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function rm(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function a4(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new qt(e,0)}function Ln(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof qt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new qt(n,0)}function Pt(t){return t.pieceNum_>=t.pieces_.length}function Zi(t,e){const n=wt(t),r=wt(e);if(null===n)return e;if(n===r)return Zi(un(t),un(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function zie(t,e){const n=rm(t,0),r=rm(e,0);for(let i=0;i<n.length&&i<r.length;i++){const o=zu(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Pb(t,e){if(pl(t)!==pl(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function ss(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(pl(t)>pl(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Wie{constructor(e,n){this.errorPrefix_=n,this.parts_=rm(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,E.ug)(this.parts_[r]);c4(this)}}function c4(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Wu(t))}function Wu(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class Mb extends i4{constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Mb}getInitialEvent(e){return(0,E.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const im=1e3;let dw,Gu=(()=>{class t extends r4{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=J_("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=im,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!(0,E.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Mb.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&lw.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_((0,E.Wl)(s)),(0,E.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();const r=new E.BH,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const c=a.d;"ok"===a.s?r.resolve(c):r.reject(c)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,o){this.initConnection_();const s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),(0,E.hu)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,E.hu)(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);const s={p:i};n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest("q",s,c=>{const l=c.d,h=c.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),"ok"!==h&&this.removeListen_(i,o),n.onComplete&&n.onComplete(h,l))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&(0,E.r3)(n,"w")){const i=(0,E.DV)(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();Ii(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||(0,E.GJ)(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=(0,E.w9)(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{const s=o.s,a=o.d||"error";this.authToken_===n&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),(0,E.hu)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);const s={p:n};o&&(s.q=i,s.t=o),this.sendRequest("n",s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){const s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();const a={p:r,d:i};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+(0,E.Wl)(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):hb("Unrecognized action received from server: "+(0,E.Wl)(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){(0,E.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=im,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=im,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=im),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return(0,S.Z)(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),o=n.onRealtimeDisconnect_.bind(n),s=n.id+":"+t.nextConnectionId_++,a=n.lastSessionId;let c=!1,l=null;const h=function(){l?l.close():(c=!0,o())};n.realtime_={close:h,sendRequest:function(v){(0,E.hu)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(v)}};const y=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[v,O]=yield Promise.all([n.authTokenProvider_.getToken(y),n.appCheckTokenProvider_.getToken(y)]);c?Gr("getToken() completed but was canceled"):(Gr("getToken() completed. Creating connection."),n.authToken_=v&&v.accessToken,n.appCheckToken_=O&&O.token,l=new n4(s,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,o,b=>{Ii(b+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(v){n.log_("Failed to get token: "+v),c||(n.repoInfo_.nodeAdmin&&Ii(v),h())}}})()}interrupt(n){Gr("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Gr("Resuming connection for reason: "+n),delete this.interruptReasons_[n],(0,E.xb)(this.interruptReasons_)&&(this.reconnectDelay_=im,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(s=>pb(s)).join("$"):"default";const o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){const i=new qt(n).toString();let o;if(this.listens.has(i)){const s=this.listens.get(i);o=s.get(r),s.delete(r),0===s.size&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Gr("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Gr("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";(0,E.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),n["sdk."+r+"."+lb.replace(/\./g,"-")]=1,(0,E.uI)()?n["framework.cordova"]=1:(0,E.b$)()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=lw.getInstance().currentlyOnline();return(0,E.xb)(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class Et{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Et(e,n)}}class uw{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Et(dl,e),i=new Et(dl,n);return 0!==this.compare(r,i)}minPost(){return Et.MIN}}class d4 extends uw{static get __EMPTY_NODE(){return dw}static set __EMPTY_NODE(e){dw=e}compare(e,n){return zu(e.name,n.name)}isDefinedOn(e){throw(0,E.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Et.MIN}maxPost(){return new Et(rc,dw)}makePost(e,n){return(0,E.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Et(e,dw)}toString(){return".key"}}const sa=new d4;class hw{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,i&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let Eb,Ss=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??fo.EMPTY_NODE,this.right=s??fo.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this;const s=i(n,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(n,r,i),null):0===s?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return fo.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return fo.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class fo{constructor(e,n=fo.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new fo(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ss.BLACK,null,null))}remove(e){return new fo(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ss.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new hw(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new hw(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new hw(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new hw(this.root_,null,this.comparator_,!0,e)}}function Jie(t,e){return zu(t.name,e.name)}function Ob(t,e){return zu(t,e)}fo.EMPTY_NODE=new class Xie{copy(e,n,r,i,o){return this}insert(e,n,r){return new Ss(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const h4=function(t){return"number"==typeof t?"number:"+S5(t):"string:"+t},p4=function(t){if(t.isLeafNode()){const e=t.val();(0,E.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,E.r3)(e,".sv"),"Priority must be a string or number.")}else(0,E.hu)(t===Eb||t.isEmpty(),"priority of unexpected type.");(0,E.hu)(t===Eb||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let f4,g4,_4,wp=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,(0,E.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),p4(this.priorityNode_)}static set __childrenNodeConstructor(n){f4=n}static get __childrenNodeConstructor(){return f4}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Pt(n)?this:".priority"===wt(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=wt(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,E.hu)(".priority"!==i||1===pl(n),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(un(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+h4(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?S5(this.value_):this.value_,this.lazyHash_=b5(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:((0,E.hu)(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return(0,E.hu)(o>=0,"Unknown leaf type: "+r),(0,E.hu)(s>=0,"Unknown leaf type: "+i),o===s?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const Cn=new class roe extends uw{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return 0===o?zu(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Et.MIN}maxPost(){return new Et(rc,new wp("[PRIORITY-POST]",_4))}makePost(e,n){const r=g4(e);return new Et(n,new wp("[PRIORITY-POST]",r))}toString(){return".priority"}},ioe=Math.log(2);class ooe{constructor(e){this.count=parseInt(Math.log(e+1)/ioe,10),this.current_=this.count-1;const i=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const pw=function(t,e,n,r){t.sort(e);const i=function(c,l){const h=l-c;let f,y;if(0===h)return null;if(1===h)return f=t[c],y=n?n(f):f,new Ss(y,f.node,Ss.BLACK,null,null);{const v=parseInt(h/2,10)+c,O=i(c,v),b=i(v+1,l);return f=t[v],y=n?n(f):f,new Ss(y,f.node,Ss.BLACK,O,b)}},a=function(c){let l=null,h=null,f=t.length;const y=function(O,b){const D=f-O,U=f;f-=O;const L=i(D+1,U),q=t[D],G=n?n(q):q;v(new Ss(G,q.node,b,null,L))},v=function(O){l?(l.left=O,l=O):(h=O,l=O)};for(let O=0;O<c.count;++O){const b=c.nextBitIsOne(),D=Math.pow(2,c.count-(O+1));b?y(D,Ss.BLACK):(y(D,Ss.BLACK),y(D,Ss.RED))}return h}(new ooe(t.length));return new fo(r||e,a)};let Ib;const Pp={};class ic{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return(0,E.hu)(Pp&&Cn,"ChildrenNode.ts has not been loaded"),Ib=Ib||new ic({".priority":Pp},{".priority":Cn}),Ib}get(e){const n=(0,E.DV)(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof fo?n:null}hasIndex(e){return(0,E.r3)(this.indexSet_,e.toString())}addIndex(e,n){(0,E.hu)(e!==sa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(Et.Wrap);let a,s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();a=i?pw(r,e.getCompare()):Pp;const c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;const h=Object.assign({},this.indexes_);return h[c]=a,new ic(h,l)}addToIndexes(e,n){const r=(0,E.UI)(this.indexes_,(i,o)=>{const s=(0,E.DV)(this.indexSet_,o);if((0,E.hu)(s,"Missing index implementation for "+o),i===Pp){if(s.isDefinedOn(e.node)){const a=[],c=n.getIterator(Et.Wrap);let l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),pw(a,s.getCompare())}return Pp}{const a=n.get(e.name);let c=i;return a&&(c=c.remove(new Et(e.name,a))),c.insert(e,e.node)}});return new ic(r,this.indexSet_)}removeFromIndexes(e,n){const r=(0,E.UI)(this.indexes_,i=>{if(i===Pp)return i;{const o=n.get(e.name);return o?i.remove(new Et(e.name,o)):i}});return new ic(r,this.indexSet_)}}let om,at=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&p4(this.priorityNode_),this.children_.isEmpty()&&(0,E.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return om||(om=new t(new fo(Ob),null,ic.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||om}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?om:r}}getChild(n){const r=wt(n);return null===r?this:this.getImmediateChild(r).getChild(un(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if((0,E.hu)(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new Et(n,r);let o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));const a=o.isEmpty()?om:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){const i=wt(n);if(null===i)return r;{(0,E.hu)(".priority"!==wt(n)||1===pl(n),".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(un(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,o=0,s=!0;if(this.forEachChild(Cn,(a,c)=>{r[a]=c.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){const a=[];for(const c in r)a[c]=r[c];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+h4(this.getPriority().val())+":"),this.forEachChild(Cn,(r,i)=>{const o=i.hash();""!==o&&(n+=":"+r+":"+o)}),this.lazyHash_=""===n?"":b5(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const o=this.resolveIndex_(i);if(o){const s=o.getPredecessorKey(new Et(n,r));return s?s.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new Et(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new Et(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,Et.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,Et.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===sm?-1:0}withIndex(n){if(n===sa||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===sa||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Cn),o=r.getIterator(Cn);let s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(n){return n===sa?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const sm=new class soe extends at{constructor(){super(new fo(Ob),at.EMPTY_NODE,ic.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return at.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Et,{MIN:{value:new Et(dl,at.EMPTY_NODE)},MAX:{value:new Et(rc,sm)}}),d4.__EMPTY_NODE=at.EMPTY_NODE,wp.__childrenNodeConstructor=at,function eoe(t){Eb=t}(sm),function noe(t){_4=t}(sm);const aoe=!0;function Hn(t,e=null){if(null===t)return at.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),(0,E.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new wp(t,Hn(e));if(t instanceof Array||!aoe){let n=at.EMPTY_NODE;return qr(t,(r,i)=>{if((0,E.r3)(t,r)&&"."!==r.substring(0,1)){const o=Hn(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Hn(e))}{const n=[];let r=!1;if(qr(t,(s,a)=>{if("."!==s.substring(0,1)){const c=Hn(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new Et(s,c)))}}),0===n.length)return at.EMPTY_NODE;const o=pw(n,Jie,s=>s.name,Ob);if(r){const s=pw(n,Cn.getCompare());return new at(o,Hn(e),new ic({".priority":s},{".priority":Cn}))}return new at(o,Hn(e),ic.Default)}}!function toe(t){g4=t}(Hn);class bb extends uw{constructor(e){super(),this.indexPath_=e,(0,E.hu)(!Pt(e)&&".priority"!==wt(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return 0===o?zu(e.name,n.name):o}makePost(e,n){const r=Hn(e),i=at.EMPTY_NODE.updateChild(this.indexPath_,r);return new Et(n,i)}maxPost(){const e=at.EMPTY_NODE.updateChild(this.indexPath_,sm);return new Et(rc,e)}toString(){return rm(this.indexPath_,0).join("/")}}const Tb=new class coe extends uw{compare(e,n){const r=e.node.compareTo(n.node);return 0===r?zu(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Et.MIN}maxPost(){return Et.MAX}makePost(e,n){const r=Hn(e);return new Et(n,r)}toString(){return".value"}};function m4(t){return{type:"value",snapshotNode:t}}function Mp(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function am(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function cm(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class Ab{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){(0,E.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(null!=s&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(am(n,a)):(0,E.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Mp(n,r)):s.trackChildChange(cm(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return null!=r&&(e.isLeafNode()||e.forEachChild(Cn,(i,o)=>{n.hasChild(i)||r.trackChildChange(am(i,o))}),n.isLeafNode()||n.forEachChild(Cn,(i,o)=>{if(e.hasChild(i)){const s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(cm(i,o,s))}else r.trackChildChange(Mp(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?at.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class lm{constructor(e){this.indexedFilter_=new Ab(e.getIndex()),this.index_=e.getIndex(),this.startPost_=lm.getStartPost_(e),this.endPost_=lm.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new Et(n,r))||(r=at.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=at.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(at.EMPTY_NODE);const o=this;return n.forEachChild(Cn,(s,a)=>{o.matches(new Et(s,a))||(i=i.updateImmediateChild(s,at.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}return e.getIndex().maxPost()}}class uoe{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new lm(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new Et(n,r))||(r=at.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=at.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<n.numChildren()&&n.isIndexed(this.index_)){let o;i=at.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;i=i.updateImmediateChild(a.name,a.node),s++}}}else{let o;i=n.withIndex(this.index_),i=i.updatePriority(at.EMPTY_NODE),o=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,at.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){const f=this.index_.getCompare();s=(y,v)=>f(v,y)}else s=this.index_.getCompare();const a=e;(0,E.hu)(a.numChildren()===this.limit_,"");const c=new Et(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(a.hasChild(n)){const f=a.getImmediateChild(n);let y=i.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=y&&(y.name===n||a.hasChild(y.name));)y=i.getChildAfterChild(this.index_,y,this.reverse_);const v=null==y?1:s(y,c);if(h&&!r.isEmpty()&&v>=0)return o?.trackChildChange(cm(n,r,f)),a.updateImmediateChild(n,r);{o?.trackChildChange(am(n,f));const b=a.updateImmediateChild(n,at.EMPTY_NODE);return null!=y&&this.rangedFilter_.matches(y)?(o?.trackChildChange(Mp(y.name,y.node)),b.updateImmediateChild(y.name,y.node)):b}}return r.isEmpty()?e:h&&s(l,c)>=0?(null!=o&&(o.trackChildChange(am(l.name,l.node)),o.trackChildChange(Mp(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,at.EMPTY_NODE)):e}}class fw{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Cn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,E.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,E.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:dl}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,E.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,E.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:rc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,E.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Cn}copy(){const e=new fw;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Db(t,e,n){const r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Sb(t,e,n){const r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function gw(t,e){const n=t.copy();return n.index_=e,n}function y4(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Cn?n="$priority":t.index_===Tb?n="$value":t.index_===sa?n="$key":((0,E.hu)(t.index_ instanceof bb,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=(0,E.Wl)(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=(0,E.Wl)(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+(0,E.Wl)(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=(0,E.Wl)(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+(0,E.Wl)(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function v4(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Cn&&(e.i=t.index_.toString()),e}class _w extends r4{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=J_("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:((0,E.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=_w.getListenId_(e,r),a={};this.listens_[s]=a;const c=y4(e._queryParams);this.restRequest_(o+".json",c,(l,h)=>{let f=h;if(404===l&&(f=null,l=null),null===l&&this.onDataUpdate_(o,f,!1,r),(0,E.DV)(this.listens_,s)===a){let y;y=l?401===l?"permission_denied":"rest_error:"+l:"ok",i(y,null)}})}unlisten(e,n){const r=_w.getListenId_(e,n);delete this.listens_[r]}get(e){const n=y4(e._queryParams),r=e._path.toString(),i=new E.BH;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,E.xO)(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=(0,E.cI)(a.responseText)}catch{Ii("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else 401!==a.status&&404!==a.status&&Ii("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}class _oe{constructor(){this.rootNode_=at.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function mw(){return{value:null,children:new Map}}function Op(t,e,n){if(Pt(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=wt(e);t.children.has(r)||t.children.set(r,mw()),Op(t.children.get(r),e=un(e),n)}}function xb(t,e){if(Pt(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(Cn,(r,i)=>{Op(t,new qt(r),i)}),xb(t,e)}}if(t.children.size>0){const n=wt(e);return e=un(e),t.children.has(n)&&xb(t.children.get(n),e)&&t.children.delete(n),0===t.children.size}return!0}function Rb(t,e,n){null!==t.value?n(e,t.value):function moe(t,e){t.children.forEach((n,r)=>{e(r,n)})}(t,(r,i)=>{Rb(i,new qt(e.toString()+"/"+r),n)})}class yoe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&qr(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}class woe{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new yoe(e);const r=1e4+2e4*Math.random();tm(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;qr(e,(i,o)=>{o>0&&(0,E.r3)(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),tm(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var aa=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(aa||{});function Fb(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class yw{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=aa.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Pt(this.path)){if(null!=this.affectedTree.value)return(0,E.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new qt(e));return new yw(zt(),n,this.revert)}}return(0,E.hu)(wt(this.path)===e,"operationForChild called for unrelated child."),new yw(un(this.path),this.affectedTree,this.revert)}}class um{constructor(e,n){this.source=e,this.path=n,this.type=aa.LISTEN_COMPLETE}operationForChild(e){return Pt(this.path)?new um(this.source,zt()):new um(this.source,un(this.path))}}class qu{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=aa.OVERWRITE}operationForChild(e){return Pt(this.path)?new qu(this.source,zt(),this.snap.getImmediateChild(e)):new qu(this.source,un(this.path),this.snap)}}class Ep{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=aa.MERGE}operationForChild(e){if(Pt(this.path)){const n=this.children.subtree(new qt(e));return n.isEmpty()?null:n.value?new qu(this.source,zt(),n.value):new Ep(this.source,zt(),n)}return(0,E.hu)(wt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ep(this.source,un(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class fl{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Pt(e))return this.isFullyInitialized()&&!this.filtered_;const n=wt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Poe{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function dm(t,e,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,c)=>function Eoe(t,e,n){if(null==e.childName||null==n.childName)throw(0,E.g5)("Should only compare child_ events.");const r=new Et(e.childName,e.snapshotNode),i=new Et(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,a,c)),s.forEach(a=>{const c=function Ooe(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,a,o);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,t.query_))})})}function vw(t,e){return{eventCache:t,serverCache:e}}function hm(t,e,n,r){return vw(new fl(e,n,r),t.serverCache)}function w4(t,e,n,r){return vw(t.eventCache,new fl(e,n,r))}function Cw(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ku(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let Lb;class wn{constructor(e,n=(()=>(Lb||(Lb=new fo(lie)),Lb))()){this.value=e,this.children=n}static fromObject(e){let n=new wn(null);return qr(e,(r,i)=>{n=n.set(new qt(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:zt(),value:this.value};if(Pt(e))return null;{const r=wt(e),i=this.children.get(r);if(null!==i){const o=i.findRootMostMatchingPathAndValue(un(e),n);return null!=o?{path:Ln(new qt(r),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Pt(e))return this;{const n=wt(e),r=this.children.get(n);return null!==r?r.subtree(un(e)):new wn(null)}}set(e,n){if(Pt(e))return new wn(n,this.children);{const r=wt(e),o=(this.children.get(r)||new wn(null)).set(un(e),n),s=this.children.insert(r,o);return new wn(this.value,s)}}remove(e){if(Pt(e))return this.children.isEmpty()?new wn(null):new wn(null,this.children);{const n=wt(e),r=this.children.get(n);if(r){const i=r.remove(un(e));let o;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new wn(null):new wn(this.value,o)}return this}}get(e){if(Pt(e))return this.value;{const n=wt(e),r=this.children.get(n);return r?r.get(un(e)):null}}setTree(e,n){if(Pt(e))return n;{const r=wt(e),o=(this.children.get(r)||new wn(null)).setTree(un(e),n);let s;return s=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new wn(this.value,s)}}fold(e){return this.fold_(zt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Ln(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,zt(),n)}findOnPath_(e,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(Pt(e))return null;{const o=wt(e),s=this.children.get(o);return s?s.findOnPath_(un(e),Ln(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,zt(),n)}foreachOnPath_(e,n,r){if(Pt(e))return this;{this.value&&r(n,this.value);const i=wt(e),o=this.children.get(i);return o?o.foreachOnPath_(un(e),Ln(n,i),r):new wn(null)}}foreach(e){this.foreach_(zt(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ln(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class xs{constructor(e){this.writeTree_=e}static empty(){return new xs(new wn(null))}}function pm(t,e,n){if(Pt(e))return new xs(new wn(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let o=r.value;const s=Zi(i,e);return o=o.updateChild(s,n),new xs(t.writeTree_.set(i,o))}{const i=new wn(n),o=t.writeTree_.setTree(e,i);return new xs(o)}}}function Vb(t,e,n){let r=t;return qr(n,(i,o)=>{r=pm(r,Ln(e,i),o)}),r}function P4(t,e){if(Pt(e))return xs.empty();{const n=t.writeTree_.setTree(e,new wn(null));return new xs(n)}}function Ub(t,e){return null!=Zu(t,e)}function Zu(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(Zi(n.path,e)):null}function M4(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Cn,(r,i)=>{e.push(new Et(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new Et(r,i.value))}),e}function gl(t,e){if(Pt(e))return t;{const n=Zu(t,e);return new xs(null!=n?new wn(n):t.writeTree_.subtree(e))}}function Bb(t){return t.writeTree_.isEmpty()}function Ip(t,e){return O4(zt(),t.writeTree_,e)}function O4(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{".priority"===i?((0,E.hu)(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=O4(Ln(t,i),o,n)}),!n.getChild(t).isEmpty()&&null!==r&&(n=n.updateChild(Ln(t,".priority"),r)),n}}function ww(t,e){return A4(e,t)}function Soe(t,e){if(t.snap)return ss(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&ss(Ln(t.path,n),e))return!0;return!1}function Roe(t){return t.visible}function E4(t,e,n){let r=xs.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let a;if(o.snap)ss(n,s)?(a=Zi(n,s),r=pm(r,a,o.snap)):ss(s,n)&&(a=Zi(s,n),r=pm(r,zt(),o.snap.getChild(a)));else{if(!o.children)throw(0,E.g5)("WriteRecord should have .snap or .children");if(ss(n,s))a=Zi(n,s),r=Vb(r,a,o.children);else if(ss(s,n))if(a=Zi(s,n),Pt(a))r=Vb(r,zt(),o.children);else{const c=(0,E.DV)(o.children,wt(a));if(c){const l=c.getChild(un(a));r=pm(r,zt(),l)}}}}}return r}function I4(t,e,n,r,i){if(r||i){const o=gl(t.visibleWrites,e);return!i&&Bb(o)?n:i||null!=n||Ub(o,zt())?Ip(E4(t.allWrites,function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(ss(l.path,e)||ss(e,l.path))},e),n||at.EMPTY_NODE):null}{const o=Zu(t.visibleWrites,e);if(null!=o)return o;{const s=gl(t.visibleWrites,e);return Bb(s)?n:null!=n||Ub(s,zt())?Ip(s,n||at.EMPTY_NODE):null}}}function Pw(t,e,n,r){return I4(t.writeTree,t.treePath,e,n,r)}function jb(t,e){return function koe(t,e,n){let r=at.EMPTY_NODE;const i=Zu(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Cn,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=gl(t.visibleWrites,e);return n.forEachChild(Cn,(s,a)=>{const c=Ip(gl(o,new qt(s)),a);r=r.updateImmediateChild(s,c)}),M4(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}return M4(gl(t.visibleWrites,e)).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}(t.writeTree,t.treePath,e)}function b4(t,e,n,r){return function Noe(t,e,n,r,i){(0,E.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Ln(e,n);if(Ub(t.visibleWrites,o))return null;{const s=gl(t.visibleWrites,o);return Bb(s)?i.getChild(n):Ip(s,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function Mw(t,e){return function Loe(t,e){return Zu(t.visibleWrites,e)}(t.writeTree,Ln(t.treePath,e))}function $b(t,e,n){return function Foe(t,e,n,r){const i=Ln(e,n),o=Zu(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?Ip(gl(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function T4(t,e){return A4(Ln(t.treePath,e),t.writeTree)}function A4(t,e){return{treePath:t,writeTree:e}}class joe{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;(0,E.hu)("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),(0,E.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if("child_added"===n&&"child_removed"===o)this.changeMap.set(r,cm(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===o)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===o)this.changeMap.set(r,am(r,i.oldSnap));else if("child_changed"===n&&"child_added"===o)this.changeMap.set(r,Mp(r,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==o)throw(0,E.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,cm(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const D4=new class $oe{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}};class Hb{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new fl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return $b(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ku(this.viewCache_),o=function Boe(t,e,n,r,i,o){return function Voe(t,e,n,r,i,o,s){let a;const c=gl(t.visibleWrites,e),l=Zu(c,zt());if(null!=l)a=l;else{if(null==n)return[];a=Ip(c,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const h=[],f=s.getCompare(),y=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let v=y.getNext();for(;v&&h.length<i;)0!==f(v,r)&&h.push(v),v=y.getNext();return h}}(t.writeTree,t.treePath,e,n,r,i,o)}(this.writes_,i,n,1,r,e);return 0===o.length?null:o[0]}}function S4(t,e,n,r,i,o){const s=e.eventCache;if(null!=Mw(r,n))return e;{let a,c;if(Pt(n))if((0,E.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const l=Ku(e),f=jb(r,l instanceof at?l:at.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{const l=Pw(r,Ku(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{const l=wt(n);if(".priority"===l){(0,E.hu)(1===pl(n),"Can't have a priority with additional path components");const h=s.getNode();c=e.serverCache.getNode();const f=b4(r,n,h,c);a=null!=f?t.filter.updatePriority(h,f):s.getNode()}else{const h=un(n);let f;if(s.isCompleteForChild(l)){c=e.serverCache.getNode();const y=b4(r,n,s.getNode(),c);f=null!=y?s.getNode().getImmediateChild(l).updateChild(h,y):s.getNode().getImmediateChild(l)}else f=$b(r,l,e.serverCache);a=null!=f?t.filter.updateChild(s.getNode(),l,f,h,i,o):s.getNode()}}return hm(e,a,s.isFullyInitialized()||Pt(n),t.filter.filtersNodes())}}function Ow(t,e,n,r,i,o,s,a){const c=e.serverCache;let l;const h=s?t.filter:t.filter.getIndexedFilter();if(Pt(n))l=h.updateFullNode(c.getNode(),r,null);else if(h.filtersNodes()&&!c.isFiltered()){const v=c.getNode().updateChild(n,r);l=h.updateFullNode(c.getNode(),v,null)}else{const v=wt(n);if(!c.isCompleteForPath(n)&&pl(n)>1)return e;const O=un(n),D=c.getNode().getImmediateChild(v).updateChild(O,r);l=".priority"===v?h.updatePriority(c.getNode(),D):h.updateChild(c.getNode(),v,D,O,D4,null)}const f=w4(e,l,c.isFullyInitialized()||Pt(n),h.filtersNodes());return S4(t,f,n,i,new Hb(i,f,o),a)}function zb(t,e,n,r,i,o,s){const a=e.eventCache;let c,l;const h=new Hb(i,e,o);if(Pt(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,s),c=hm(e,l,!0,t.filter.filtersNodes());else{const f=wt(n);if(".priority"===f)l=t.filter.updatePriority(e.eventCache.getNode(),r),c=hm(e,l,a.isFullyInitialized(),a.isFiltered());else{const y=un(n),v=a.getNode().getImmediateChild(f);let O;if(Pt(y))O=r;else{const b=h.getCompleteChild(f);O=null!=b?".priority"===wb(y)&&b.getChild(a4(y)).isEmpty()?b:b.updateChild(y,r):at.EMPTY_NODE}c=v.equals(O)?e:hm(e,t.filter.updateChild(a.getNode(),f,O,y,h,s),a.isFullyInitialized(),t.filter.filtersNodes())}}return c}function x4(t,e){return t.eventCache.isCompleteForChild(e)}function R4(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Wb(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l,c=e;l=Pt(n)?r:new wn(null).setTree(n,r);const h=e.serverCache.getNode();return l.children.inorderTraversal((f,y)=>{if(h.hasChild(f)){const O=R4(0,e.serverCache.getNode().getImmediateChild(f),y);c=Ow(t,c,new qt(f),O,i,o,s,a)}}),l.children.inorderTraversal((f,y)=>{const v=!e.serverCache.isCompleteForChild(f)&&null===y.value;if(!h.hasChild(f)&&!v){const b=R4(0,e.serverCache.getNode().getImmediateChild(f),y);c=Ow(t,c,new qt(f),b,i,o,s,a)}}),c}class Qoe{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Ab(r.getIndex()),o=function doe(t){return t.loadsAllData()?new Ab(t.getIndex()):t.hasLimit()?new uoe(t):new lm(t)}(r);this.processor_=function Hoe(t){return{filter:t}}(o);const s=n.serverCache,a=n.eventCache,c=i.updateFullNode(at.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(at.EMPTY_NODE,a.getNode(),null),h=new fl(c,s.isFullyInitialized(),i.filtersNodes()),f=new fl(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=vw(f,h),this.eventGenerator_=new Poe(this.query_)}get query(){return this.query_}}function ese(t,e){const n=Ku(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Pt(e)&&!n.getImmediateChild(wt(e)).isEmpty())?n.getChild(e):null}function k4(t){return 0===t.eventRegistrations_.length}function N4(t,e,n){const r=[];if(n){(0,E.hu)(null==e,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){const s=t.eventRegistrations_[o];if(s.matches(e)){if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}else i.push(s)}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function F4(t,e,n,r){e.type===aa.MERGE&&null!==e.source.queryId&&((0,E.hu)(Ku(t.viewCache_),"We should always have a full cache before handling merges"),(0,E.hu)(Cw(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=function Woe(t,e,n,r,i){const o=new joe;let s,a;if(n.type===aa.OVERWRITE){const l=n;l.source.fromUser?s=zb(t,e,l.path,l.snap,r,i,o):((0,E.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!Pt(l.path),s=Ow(t,e,l.path,l.snap,r,i,a,o))}else if(n.type===aa.MERGE){const l=n;l.source.fromUser?s=function qoe(t,e,n,r,i,o,s){let a=e;return r.foreach((c,l)=>{const h=Ln(n,c);x4(e,wt(h))&&(a=zb(t,a,h,l,i,o,s))}),r.foreach((c,l)=>{const h=Ln(n,c);x4(e,wt(h))||(a=zb(t,a,h,l,i,o,s))}),a}(t,e,l.path,l.children,r,i,o):((0,E.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=Wb(t,e,l.path,l.children,r,i,a,o))}else if(n.type===aa.ACK_USER_WRITE){const l=n;s=l.revert?function Yoe(t,e,n,r,i,o){let s;if(null!=Mw(r,n))return e;{const a=new Hb(r,e,i),c=e.eventCache.getNode();let l;if(Pt(n)||".priority"===wt(n)){let h;if(e.serverCache.isFullyInitialized())h=Pw(r,Ku(e));else{const f=e.serverCache.getNode();(0,E.hu)(f instanceof at,"serverChildren would be complete if leaf node"),h=jb(r,f)}l=t.filter.updateFullNode(c,h,o)}else{const h=wt(n);let f=$b(r,h,e.serverCache);null==f&&e.serverCache.isCompleteForChild(h)&&(f=c.getImmediateChild(h)),l=null!=f?t.filter.updateChild(c,h,f,un(n),a,o):e.eventCache.getNode().hasChild(h)?t.filter.updateChild(c,h,at.EMPTY_NODE,un(n),a,o):c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Pw(r,Ku(e)),s.isLeafNode()&&(l=t.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||null!=Mw(r,zt()),hm(e,l,s,t.filter.filtersNodes())}}(t,e,l.path,r,i,o):function Koe(t,e,n,r,i,o,s){if(null!=Mw(i,n))return e;const a=e.serverCache.isFiltered(),c=e.serverCache;if(null!=r.value){if(Pt(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Ow(t,e,n,c.getNode().getChild(n),i,o,a,s);if(Pt(n)){let l=new wn(null);return c.getNode().forEachChild(sa,(h,f)=>{l=l.set(new qt(h),f)}),Wb(t,e,n,l,i,o,a,s)}return e}{let l=new wn(null);return r.foreach((h,f)=>{const y=Ln(n,h);c.isCompleteForPath(y)&&(l=l.set(h,c.getNode().getChild(y)))}),Wb(t,e,n,l,i,o,a,s)}}(t,e,l.path,l.affectedTree,r,i,o)}else{if(n.type!==aa.LISTEN_COMPLETE)throw(0,E.g5)("Unknown operation type: "+n.type);s=function Zoe(t,e,n,r,i){const o=e.serverCache;return S4(t,w4(e,o.getNode(),o.isFullyInitialized()||Pt(n),o.isFiltered()),n,r,D4,i)}(t,e,n.path,r,o)}const c=o.getChanges();return function Goe(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Cw(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(m4(Cw(e)))}}(e,s,c),{viewCache:s,changes:c}}(t.processor_,i,e,n,r);return function zoe(t,e){(0,E.hu)(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),(0,E.hu)(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,o.viewCache),(0,E.hu)(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,L4(t,o.changes,o.viewCache.eventCache.getNode(),null)}function L4(t,e,n,r){return function Moe(t,e,n,r){const i=[],o=[];return e.forEach(s=>{"child_changed"===s.type&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function loe(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(s.childName,s.snapshotNode))}),dm(t,i,"child_removed",e,r,n),dm(t,i,"child_added",e,r,n),dm(t,i,"child_moved",o,r,n),dm(t,i,"child_changed",e,r,n),dm(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}let Ew,bw;class V4{constructor(){this.views=new Map}}function Gb(t,e,n,r){const i=e.source.queryId;if(null!==i){const o=t.views.get(i);return(0,E.hu)(null!=o,"SyncTree gave us an op for an invalid query."),F4(o,e,n,r)}{let o=[];for(const s of t.views.values())o=o.concat(F4(s,e,n,r));return o}}function U4(t,e,n,r,i){const s=t.views.get(e._queryIdentifier);if(!s){let a=Pw(n,i?r:null),c=!1;a?c=!0:r instanceof at?(a=jb(n,r),c=!1):(a=at.EMPTY_NODE,c=!1);const l=vw(new fl(a,c,!1),new fl(r,i,!1));return new Qoe(e,l)}return s}function B4(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function _l(t,e){let n=null;for(const r of t.views.values())n=n||ese(r,e);return n}function j4(t,e){return e._queryParams.loadsAllData()?Iw(t):t.views.get(e._queryIdentifier)}function $4(t,e){return null!=j4(t,e)}function ml(t){return null!=Iw(t)}function Iw(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let use=1;class H4{constructor(e){this.listenProvider_=e,this.syncPointTree_=new wn(null),this.pendingWriteTree_=function Uoe(){return{visibleWrites:xs.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function qb(t,e,n,r,i){return function boe(t,e,n,r,i){(0,E.hu)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=pm(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?bp(t,new qu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function yl(t,e,n=!1){const r=function Aoe(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function Doe(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);(0,E.hu)(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&Soe(a,r.path)?i=!1:ss(r.path,a.path)&&(o=!0)),s--}return!!i&&(o?(function xoe(t){t.visibleWrites=E4(t.allWrites,Roe,zt()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=P4(t.visibleWrites,r.path):qr(r.children,c=>{t.visibleWrites=P4(t.visibleWrites,Ln(r.path,c))}),!0))}(t.pendingWriteTree_,e)){let o=new wn(null);return null!=r.snap?o=o.set(zt(),!0):qr(r.children,s=>{o=o.set(new qt(s),!0)}),bp(t,new yw(r.path,o,n))}return[]}function fm(t,e,n){return bp(t,new qu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function Tw(t,e,n,r,i=!1){const o=e._path,s=t.syncPointTree_.get(o);let a=[];if(s&&("default"===e._queryIdentifier||$4(s,e))){const c=function ase(t,e,n,r){const i=e._queryIdentifier,o=[];let s=[];const a=ml(t);if("default"===i)for(const[c,l]of t.views.entries())s=s.concat(N4(l,n,r)),k4(l)&&(t.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{const c=t.views.get(i);c&&(s=s.concat(N4(c,n,r)),k4(c)&&(t.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!ml(t)&&o.push(new(function ise(){return(0,E.hu)(Ew,"Reference.ts has not been loaded"),Ew}())(e._repo,e._path)),{removed:o,events:s}}(s,e,n,r);(function ose(t){return 0===t.views.size})(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const l=c.removed;if(a=c.events,!i){const h=-1!==l.findIndex(y=>y._queryParams.loadsAllData()),f=t.syncPointTree_.findOnPath(o,(y,v)=>ml(v));if(h&&!f){const y=t.syncPointTree_.subtree(o);if(!y.isEmpty()){const v=function mse(t){return t.fold((e,n,r)=>{if(n&&ml(n))return[Iw(n)];{let i=[];return n&&(i=B4(n)),qr(r,(o,s)=>{i=i.concat(s)}),i}})}(y);for(let O=0;O<v.length;++O){const b=v[O],D=b.query,U=q4(t,b);t.listenProvider_.startListening(_m(D),gm(t,D),U.hashFn,U.onComplete)}}}!f&&l.length>0&&!r&&(h?t.listenProvider_.stopListening(_m(e),null):l.forEach(y=>{const v=t.queryToTagMap.get(Dw(y));t.listenProvider_.stopListening(_m(y),v)}))}!function yse(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Dw(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,l)}return a}function z4(t,e,n,r){const i=Zb(t,r);if(null!=i){const o=Yb(i),s=o.path,a=o.queryId,c=Zi(s,e);return Qb(t,s,new qu(Fb(a),c,n))}return[]}function Kb(t,e,n,r=!1){const i=e._path;let o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(y,v)=>{const O=Zi(y,i);o=o||_l(v,O),s=s||ml(v)});let c,a=t.syncPointTree_.get(i);a?(s=s||ml(a),o=o||_l(a,zt())):(a=new V4,t.syncPointTree_=t.syncPointTree_.set(i,a)),null!=o?c=!0:(c=!1,o=at.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((v,O)=>{const b=_l(O,zt());b&&(o=o.updateImmediateChild(v,b))}));const l=$4(a,e);if(!l&&!e._queryParams.loadsAllData()){const y=Dw(e);(0,E.hu)(!t.queryToTagMap.has(y),"View does not exist, but we have a tag");const v=function vse(){return use++}();t.queryToTagMap.set(y,v),t.tagToQueryMap.set(v,y)}let f=function sse(t,e,n,r,i,o){const s=U4(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),function tse(t,e){t.eventRegistrations_.push(e)}(s,n),function nse(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Cn,(o,s)=>{r.push(Mp(o,s))}),n.isFullyInitialized()&&r.push(m4(n.getNode())),L4(t,r,n.getNode(),e)}(s,n)}(a,e,n,ww(t.pendingWriteTree_,i),o,c);if(!l&&!s&&!r){const y=j4(a,e);f=f.concat(function Cse(t,e,n){const r=e._path,i=gm(t,e),o=q4(t,n),s=t.listenProvider_.startListening(_m(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)(0,E.hu)(!ml(a.value),"If we're adding a query, it shouldn't be shadowed");else{const c=a.fold((l,h,f)=>{if(!Pt(l)&&h&&ml(h))return[Iw(h).query];{let y=[];return h&&(y=y.concat(B4(h).map(v=>v.query))),qr(f,(v,O)=>{y=y.concat(O)}),y}});for(let l=0;l<c.length;++l){const h=c[l];t.listenProvider_.stopListening(_m(h),gm(t,h))}}return s}(t,e,y))}return f}function Aw(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const l=_l(a,Zi(s,e));if(l)return l});return I4(i,e,o,n,!0)}function bp(t,e){return W4(e,t.syncPointTree_,null,ww(t.pendingWriteTree_,zt()))}function W4(t,e,n,r){if(Pt(t.path))return G4(t,e,n,r);{const i=e.get(zt());null==n&&null!=i&&(n=_l(i,zt()));let o=[];const s=wt(t.path),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){const l=n?n.getImmediateChild(s):null,h=T4(r,s);o=o.concat(W4(a,c,l,h))}return i&&(o=o.concat(Gb(i,t,r,n))),o}}function G4(t,e,n,r){const i=e.get(zt());null==n&&null!=i&&(n=_l(i,zt()));let o=[];return e.children.inorderTraversal((s,a)=>{const c=n?n.getImmediateChild(s):null,l=T4(r,s),h=t.operationForChild(s);h&&(o=o.concat(G4(h,a,c,l)))}),i&&(o=o.concat(Gb(i,t,r,n))),o}function q4(t,e){const n=e.query,r=gm(t,n);return{hashFn:()=>(function Xoe(t){return t.viewCache_.serverCache.getNode()}(e)||at.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function fse(t,e,n){const r=Zb(t,n);if(r){const i=Yb(r),o=i.path,s=i.queryId,a=Zi(o,e);return Qb(t,o,new um(Fb(s),a))}return[]}(t,n._path,r):function pse(t,e){return bp(t,new um({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);{const o=function hie(t,e){let n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(i,n);return Tw(t,n,null,o)}}}}function gm(t,e){const n=Dw(e);return t.queryToTagMap.get(n)}function Dw(t){return t._path.toString()+"$"+t._queryIdentifier}function Zb(t,e){return t.tagToQueryMap.get(e)}function Yb(t){const e=t.indexOf("$");return(0,E.hu)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new qt(t.substr(0,e))}}function Qb(t,e,n){const r=t.syncPointTree_.get(e);return(0,E.hu)(r,"Missing sync point for query tag that we're tracking"),Gb(r,n,ww(t.pendingWriteTree_,e),null)}function _m(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(function lse(){return(0,E.hu)(bw,"Reference.ts has not been loaded"),bw}())(t._repo,t._path):t}class Xb{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Xb(n)}node(){return this.node_}}class Jb{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ln(this.path_,e);return new Jb(this.syncTree_,n)}node(){return Aw(this.syncTree_,this.path_)}}const wse=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},K4=function(t,e,n){return t&&"object"==typeof t?((0,E.hu)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?Pse(t[".sv"],e,n):"object"==typeof t[".sv"]?Mse(t[".sv"],e):void(0,E.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Pse=function(t,e,n){if("timestamp"===t)return n.timestamp;(0,E.hu)(!1,"Unexpected server value: "+t)},Mse=function(t,e,n){t.hasOwnProperty("increment")||(0,E.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&(0,E.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,E.hu)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!=typeof s?r:s+r},Z4=function(t,e,n,r){return tT(e,new Jb(n,t),r)},eT=function(t,e,n){return tT(t,new Xb(e),n)};function tT(t,e,n){const r=t.getPriority().val(),i=K4(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=K4(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new wp(a,Hn(i)):t}{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new wp(i))),s.forEachChild(Cn,(a,c)=>{const l=tT(c,e.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}class nT{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Sw(t,e){let n=e instanceof qt?e:new qt(e),r=t,i=wt(n);for(;null!==i;){const o=(0,E.DV)(r.node.children,i)||{children:{},childCount:0};r=new nT(i,r,o),n=un(n),i=wt(n)}return r}function Yu(t){return t.node.value}function rT(t,e){t.node.value=e,iT(t)}function Y4(t){return t.node.childCount>0}function xw(t,e){qr(t.node.children,(n,r)=>{e(new nT(n,t,r))})}function Q4(t,e,n,r){n&&!r&&e(t),xw(t,i=>{Q4(i,e,!0,r)}),n&&r&&e(t)}function mm(t){return new qt(null===t.parent?t.name:mm(t.parent)+"/"+t.name)}function iT(t){null!==t.parent&&function Ise(t,e,n){const r=function Ose(t){return void 0===Yu(t)&&!Y4(t)}(n),i=(0,E.r3)(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,iT(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,iT(t))}(t.parent,t.name,t)}const bse=/[\[\].#$\/\u0000-\u001F\u007F]/,Tse=/[\[\].#$\u0000-\u001F\u007F]/,oT=10485760,Rw=function(t){return"string"==typeof t&&0!==t.length&&!bse.test(t)},X4=function(t){return"string"==typeof t&&0!==t.length&&!Tse.test(t)},ym=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!sw(t)||t&&"object"==typeof t&&(0,E.r3)(t,".sv")},ca=function(t,e,n,r){r&&void 0===e||vm((0,E.gK)(t,"value"),e,n)},vm=function(t,e,n){const r=n instanceof qt?new Wie(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+Wu(r));if("function"==typeof e)throw new Error(t+"contains a function "+Wu(r)+" with contents = "+e.toString());if(sw(e))throw new Error(t+"contains "+e.toString()+" "+Wu(r));if("string"==typeof e&&e.length>oT/3&&(0,E.ug)(e)>oT)throw new Error(t+"contains a string greater than "+oT+" utf8 bytes "+Wu(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,o=!1;if(qr(e,(s,a)=>{if(".value"===s)i=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!Rw(s)))throw new Error(t+" contains an invalid key ("+s+") "+Wu(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Gie(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=(0,E.ug)(e),c4(t)})(r,s),vm(t,a,r),function qie(t){const e=t.parts_.pop();t.byteLength_-=(0,E.ug)(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&o)throw new Error(t+' contains ".value" child '+Wu(r)+" in addition to actual children.")}},J4=function(t,e,n,r){if(r&&void 0===e)return;const i=(0,E.gK)(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const o=[];qr(e,(s,a)=>{const c=new qt(s);if(vm(i,a,Ln(n,c)),".priority"===wb(c)&&!ym(a))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(c)}),function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const o=rm(r);for(let s=0;s<o.length;s++)if((".priority"!==o[s]||s!==o.length-1)&&!Rw(o[s]))throw new Error(t+"contains an invalid key ("+o[s]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(zie);let i=null;for(n=0;n<e.length;n++){if(r=e[n],null!==i&&ss(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,o)},sT=function(t,e,n){if(!n||void 0!==e){if(sw(e))throw new Error((0,E.gK)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ym(e))throw new Error((0,E.gK)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Cm=function(t,e,n,r){if(!(r&&void 0===n||Rw(n)))throw new Error((0,E.gK)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},wm=function(t,e,n,r){if(!(r&&void 0===n||X4(n)))throw new Error((0,E.gK)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Sse=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),wm(t,e,n,r)},as=function(t,e){if(".info"===wt(e))throw new Error(t+" failed = Can't modify data under /.info/")},eB=function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Rw(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),X4(t)}(n))throw new Error((0,E.gK)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class xse{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function kw(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();null!==n&&!Pb(o,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function tB(t,e,n){kw(t,n),nB(t,r=>Pb(r,e))}function ko(t,e,n){kw(t,n),nB(t,r=>ss(r,e)||ss(e,r))}function nB(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(Rse(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function Rse(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();Hu&&Gr("event: "+n.toString()),vp(r)}}}const rB="repo_interrupt",kse=25;class Nse{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new xse,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=mw(),this.transactionQueueTree_=new nT,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function iB(t){const n=t.infoData_.getNode(new qt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function Pm(t){return wse({timestamp:iB(t)})}function oB(t,e,n,r,i){t.dataUpdateCount++;const o=new qt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const c=(0,E.UI)(n,l=>Hn(l));s=function gse(t,e,n,r){const i=Zb(t,r);if(i){const o=Yb(i),s=o.path,a=o.queryId,c=Zi(s,e),l=wn.fromObject(n);return Qb(t,s,new Ep(Fb(a),c,l))}return[]}(t.serverSyncTree_,o,c,i)}else{const c=Hn(n);s=z4(t.serverSyncTree_,o,c,i)}else if(r){const c=(0,E.UI)(n,l=>Hn(l));s=function hse(t,e,n){const r=wn.fromObject(n);return bp(t,new Ep({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,o,c)}else{const c=Hn(n);s=fm(t.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=Ap(t,o)),ko(t.eventQueue_,a,s)}function sB(t,e){aT(t,"connected",e),!1===e&&function Bse(t){Tp(t,"onDisconnectEvents");const e=Pm(t),n=mw();Rb(t.onDisconnect_,zt(),(i,o)=>{const s=Z4(i,o,t.serverSyncTree_,e);Op(n,i,s)});let r=[];Rb(n,zt(),(i,o)=>{r=r.concat(fm(t.serverSyncTree_,i,o));const s=dT(t,i);Ap(t,s)}),t.onDisconnect_=mw(),ko(t.eventQueue_,zt(),r)}(t)}function aT(t,e,n){const r=new qt("/.info/"+e),i=Hn(n);t.infoData_.updateSnapshot(r,i);const o=fm(t.infoSyncTree_,r,i);ko(t.eventQueue_,r,o)}function Nw(t){return t.nextWriteId_++}function cT(t,e,n,r,i){Tp(t,"set",{path:e.toString(),value:n,priority:r});const o=Pm(t),s=Hn(n,r),a=Aw(t.serverSyncTree_,e),c=eT(s,a,o),l=Nw(t),h=qb(t.serverSyncTree_,e,c,l,!0);kw(t.eventQueue_,h),t.server_.put(e.toString(),s.val(!0),(y,v)=>{const O="ok"===y;O||Ii("set at "+e+" failed: "+y);const b=yl(t.serverSyncTree_,l,!O);ko(t.eventQueue_,e,b),vl(0,i,y,v)});const f=dT(t,e);Ap(t,f),ko(t.eventQueue_,f,[])}function jse(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{"ok"===r&&xb(t.onDisconnect_,e),vl(0,n,r,i)})}function aB(t,e,n,r){const i=Hn(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(o,s)=>{"ok"===o&&Op(t.onDisconnect_,e,i),vl(0,r,o,s)})}function lT(t,e,n){let r;r=".info"===wt(e._path)?Tw(t.infoSyncTree_,e,n):Tw(t.serverSyncTree_,e,n),tB(t.eventQueue_,e._path,r)}function cB(t){t.persistentConnection_&&t.persistentConnection_.interrupt(rB)}function Tp(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Gr(n,...e)}function vl(t,e,n,r){e&&vp(()=>{if("ok"===n)e(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,e(s)}})}function uT(t,e,n){return Aw(t.serverSyncTree_,e,n)||at.EMPTY_NODE}function Fw(t,e=t.transactionQueueTree_){if(e||Lw(t,e),Yu(e)){const n=uB(t,e);(0,E.hu)(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function qse(t,e,n){const r=n.map(l=>l.currentWriteId),i=uT(t,e,r);let o=i;const s=i.hash();for(let l=0;l<n.length;l++){const h=n[l];(0,E.hu)(0===h.status,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const f=Zi(e,h.path);o=o.updateChild(f,h.currentOutputSnapshotRaw)}const a=o.val(!0),c=e;t.server_.put(c.toString(),a,l=>{Tp(t,"transaction put response",{path:c.toString(),status:l});let h=[];if("ok"===l){const f=[];for(let y=0;y<n.length;y++)n[y].status=2,h=h.concat(yl(t.serverSyncTree_,n[y].currentWriteId)),n[y].onComplete&&f.push(()=>n[y].onComplete(null,!0,n[y].currentOutputSnapshotResolved)),n[y].unwatcher();Lw(t,Sw(t.transactionQueueTree_,e)),Fw(t,t.transactionQueueTree_),ko(t.eventQueue_,e,h);for(let y=0;y<f.length;y++)vp(f[y])}else{if("datastale"===l)for(let f=0;f<n.length;f++)n[f].status=3===n[f].status?4:0;else{Ii("transaction at "+c.toString()+" failed: "+l);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=l}Ap(t,e)}},s)}(t,mm(e),n)}else Y4(e)&&xw(e,n=>{Fw(t,n)})}function Ap(t,e){const n=lB(t,e),r=mm(n);return function Kse(t,e,n){if(0===e.length)return;const r=[];let i=[];const s=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const c=e[a],l=Zi(n,c.path);let f,h=!1;if((0,E.hu)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)h=!0,f=c.abortReason,i=i.concat(yl(t.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=kse)h=!0,f="maxretry",i=i.concat(yl(t.serverSyncTree_,c.currentWriteId,!0));else{const y=uT(t,c.path,s);c.currentInputSnapshot=y;const v=e[a].update(y.val());if(void 0!==v){vm("transaction failed: Data returned ",v,c.path);let O=Hn(v);"object"==typeof v&&null!=v&&(0,E.r3)(v,".priority")||(O=O.updatePriority(y.getPriority()));const D=c.currentWriteId,U=Pm(t),L=eT(O,y,U);c.currentOutputSnapshotRaw=O,c.currentOutputSnapshotResolved=L,c.currentWriteId=Nw(t),s.splice(s.indexOf(D),1),i=i.concat(qb(t.serverSyncTree_,c.path,L,c.currentWriteId,c.applyLocally)),i=i.concat(yl(t.serverSyncTree_,D,!0))}else h=!0,f="nodata",i=i.concat(yl(t.serverSyncTree_,c.currentWriteId,!0))}ko(t.eventQueue_,n,i),i=[],h&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===f?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(f),!1,null)))}Lw(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)vp(r[a]);Fw(t,t.transactionQueueTree_)}(t,uB(t,n),r),r}function lB(t,e){let n,r=t.transactionQueueTree_;for(n=wt(e);null!==n&&void 0===Yu(r);)r=Sw(r,n),n=wt(e=un(e));return r}function uB(t,e){const n=[];return dB(t,e,n),n.sort((r,i)=>r.order-i.order),n}function dB(t,e,n){const r=Yu(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);xw(e,i=>{dB(t,i,n)})}function Lw(t,e){const n=Yu(e);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,rT(e,n.length>0?n:void 0)}xw(e,r=>{Lw(t,r)})}function dT(t,e){const n=mm(lB(t,e)),r=Sw(t.transactionQueueTree_,e);return function Ese(t,e,n){let r=n?t:t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{hT(t,i)}),hT(t,r),Q4(r,i=>{hT(t,i)}),n}function hT(t,e){const n=Yu(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,E.hu)(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):((0,E.hu)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(yl(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?rT(e,void 0):n.length=o+1,ko(t.eventQueue_,mm(e),i);for(let s=0;s<r.length;s++)vp(r[s])}}const pT=function(t,e){const n=Qse(t),r=n.namespace;return"firebase.com"===n.domain&&oa(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&oa("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ii("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new gb(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,e,"",r!==n.subdomain),path:new qt(n.pathString)}},Qse=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",c=443;if("string"==typeof t){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let h=t.indexOf("/");-1===h&&(h=t.length);let f=t.indexOf("?");-1===f&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(i=function Zse(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(t.substring(h,f)));const y=function Yse(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ii(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,f)));l=e.indexOf(":"),l>=0?(s="https"===a||"wss"===a,c=parseInt(e.substring(l+1),10)):l=e.length;const v=e.slice(0,l);if("localhost"===v.toLowerCase())n="localhost";else if(v.split(".").length<=2)n=v;else{const O=e.indexOf(".");r=e.substring(0,O).toLowerCase(),n=e.substring(O+1),o=r}"ns"in y&&(o=y.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},hB="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Xse=function(){let t=0;const e=[];return function(n){const r=n===t;let i;t=n;const o=new Array(8);for(i=7;i>=0;i--)o[i]=hB.charAt(n%64),n=Math.floor(n/64);(0,E.hu)(0===n,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&63===e[i];i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)s+=hB.charAt(e[i]);return(0,E.hu)(20===s.length,"nextPushId: Length should be 20."),s}}();class pB{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,E.Wl)(this.snapshot.exportVal())}}class fB{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class fT{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return(0,E.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class gB{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new E.BH;return jse(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){as("OnDisconnect.remove",this._path);const e=new E.BH;return aB(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){as("OnDisconnect.set",this._path),ca("OnDisconnect.set",e,this._path,!1);const n=new E.BH;return aB(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){as("OnDisconnect.setWithPriority",this._path),ca("OnDisconnect.setWithPriority",e,this._path,!1),sT("OnDisconnect.setWithPriority",n,!1);const r=new E.BH;return function $se(t,e,n,r,i){const o=Hn(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),(s,a)=>{"ok"===s&&Op(t.onDisconnect_,e,o),vl(0,i,s,a)})}(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){as("OnDisconnect.update",this._path),J4("OnDisconnect.update",e,this._path,!1);const n=new E.BH;return function Hse(t,e,n,r){if((0,E.xb)(n))return Gr("onDisconnect().update() called with empty data.  Don't do anything."),void vl(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,(i,o)=>{"ok"===i&&qr(n,(s,a)=>{const c=Hn(a);Op(t.onDisconnect_,Ln(e,s),c)}),vl(0,r,i,o)})}(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}}class go{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Pt(this._path)?null:wb(this._path)}get ref(){return new cs(this._repo,this._path)}get _queryIdentifier(){const e=v4(this._queryParams),n=pb(e);return"{}"===n?"default":n}get _queryObject(){return v4(this._queryParams)}isEqual(e){if(!((e=(0,E.m9)(e))instanceof go))return!1;const n=this._repo===e._repo,r=Pb(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Hie(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}function Vw(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Cl(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===sa){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==dl)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==rc)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Cn){if(null!=e&&!ym(e)||null!=n&&!ym(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,E.hu)(t.getIndex()instanceof bb||t.getIndex()===Tb,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Uw(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class cs extends go{constructor(e,n){super(e,n,new fw,!1)}get parent(){const e=a4(this._path);return null===e?null:new cs(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Qu{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new qt(e),r=Xu(this.ref,e);return new Qu(this._node.getChild(n),r,Cn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new Qu(i,Xu(this.ref,r),Cn)))}hasChild(e){const n=new qt(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Qt(t,e){return(t=(0,E.m9)(t))._checkNotDeleted("ref"),void 0!==e?Xu(t._root,e):t._root}function _B(t,e){(t=(0,E.m9)(t))._checkNotDeleted("refFromURL");const n=pT(e,t._repo.repoInfo_.nodeAdmin);eB("refFromURL",n);const r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&oa("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),Qt(t,n.path.toString())}function Xu(t,e){return null===wt((t=(0,E.m9)(t))._path)?Sse("child","path",e,!1):wm("child","path",e,!1),new cs(t._repo,Ln(t._path,e))}function Yi(t,e){t=(0,E.m9)(t),as("set",t._path),ca("set",e,t._path,!1);const n=new E.BH;return cT(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function rae(t,e){J4("update",e,t._path,!1);const n=new E.BH;return function Use(t,e,n,r){Tp(t,"update",{path:e.toString(),value:n});let i=!0;const o=Pm(t),s={};if(qr(n,(a,c)=>{i=!1,s[a]=Z4(Ln(e,a),Hn(c),t.serverSyncTree_,o)}),i)Gr("update() called with empty data.  Don't do anything."),vl(0,r,"ok",void 0);else{const a=Nw(t),c=function dse(t,e,n,r){!function Toe(t,e,n,r){(0,E.hu)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Vb(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);const i=wn.fromObject(n);return bp(t,new Ep({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,e,s,a);kw(t.eventQueue_,c),t.server_.merge(e.toString(),n,(l,h)=>{const f="ok"===l;f||Ii("update at "+e+" failed: "+l);const y=yl(t.serverSyncTree_,a,!f),v=y.length>0?Ap(t,e):e;ko(t.eventQueue_,v,y),vl(0,r,l,h)}),qr(n,l=>{const h=dT(t,Ln(e,l));Ap(t,h)}),ko(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Ju(t){t=(0,E.m9)(t);const e=new fT(()=>{}),n=new Mm(e);return function Vse(t,e,n){const r=function _se(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(l,h)=>{const f=Zi(l,n);r=r||_l(h,f)});let i=t.syncPointTree_.get(n);i?r=r||_l(i,zt()):(i=new V4,t.syncPointTree_=t.syncPointTree_.set(n,i));const o=null!=r,s=o?new fl(r,!0,!1):null;return function Joe(t){return Cw(t.viewCache_)}(U4(i,e,ww(t.pendingWriteTree_,e._path),o?s.getNode():at.EMPTY_NODE,o))}(t.serverSyncTree_,e);return null!=r?Promise.resolve(r):t.server_.get(e).then(i=>{const o=Hn(i).withIndex(e._queryParams.getIndex());let s;if(Kb(t.serverSyncTree_,e,n,!0),e._queryParams.loadsAllData())s=fm(t.serverSyncTree_,e._path,o);else{const a=gm(t.serverSyncTree_,e);s=z4(t.serverSyncTree_,e._path,o,a)}return ko(t.eventQueue_,e._path,s),Tw(t.serverSyncTree_,e,n,null,!0),o},i=>(Tp(t,"get for query "+(0,E.Wl)(e)+" failed: "+i),Promise.reject(new Error(i))))}(t._repo,t,n).then(r=>new Qu(r,new cs(t._repo,t._path),t._queryParams.getIndex()))}class Mm{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,n){const r=n._queryParams.getIndex();return new pB("value",this,new Qu(e.snapshotNode,new cs(n._repo,n._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new fB(this,e,n):null}matches(e){return e instanceof Mm&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Bw{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n="children_added"===e?"child_added":e;return n="children_removed"===n?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new fB(this,e,n):null}createEvent(e,n){(0,E.hu)(null!=e.childName,"Child events should have a childName.");const r=Xu(new cs(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new pB(e.type,this,new Qu(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Bw&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Om(t,e,n,r,i){let o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){const c=n,l=(h,f)=>{lT(t._repo,t,a),c(h,f)};l.userCallback=n.userCallback,l.context=n.context,n=l}const s=new fT(n,o||void 0),a="value"===e?new Mm(s):new Bw(e,s);return function zse(t,e,n){let r;r=".info"===wt(e._path)?Kb(t.infoSyncTree_,e,n):Kb(t.serverSyncTree_,e,n),tB(t.eventQueue_,e._path,r)}(t._repo,t,a),()=>lT(t._repo,t,a)}function ls(t,e,n,r){return Om(t,"value",e,n,r)}function mB(t,e,n,r){return Om(t,"child_added",e,n,r)}function yB(t,e,n,r){return Om(t,"child_changed",e,n,r)}function vB(t,e,n,r){return Om(t,"child_moved",e,n,r)}function CB(t,e,n,r){return Om(t,"child_removed",e,n,r)}function wB(t,e,n){let r=null;const i=n?new fT(n):null;"value"===e?r=new Mm(i):e&&(r=new Bw(e,i)),lT(t._repo,t,r)}class Rs{}class PB extends Rs{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){ca("endAt",this._value,e._path,!0);const n=Sb(e._queryParams,this._value,this._key);if(Uw(n),Cl(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new go(e._repo,e._path,n,e._orderByCalled)}}class oae extends Rs{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){ca("endBefore",this._value,e._path,!1);const n=function goe(t,e,n){let r;return r=Sb(t,e,t.index_===sa||n?n:dl),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(Uw(n),Cl(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new go(e._repo,e._path,n,e._orderByCalled)}}class MB extends Rs{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){ca("startAt",this._value,e._path,!0);const n=Db(e._queryParams,this._value,this._key);if(Uw(n),Cl(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new go(e._repo,e._path,n,e._orderByCalled)}}class cae extends Rs{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){ca("startAfter",this._value,e._path,!1);const n=function foe(t,e,n){let r;return r=Db(t,e,t.index_===sa||n?n:rc),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Uw(n),Cl(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new go(e._repo,e._path,n,e._orderByCalled)}}class uae extends Rs{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new go(e._repo,e._path,function hoe(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}class hae extends Rs{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new go(e._repo,e._path,function poe(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}class fae extends Rs{constructor(e){super(),this._path=e}_apply(e){Vw(e,"orderByChild");const n=new qt(this._path);if(Pt(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new bb(n),i=gw(e._queryParams,r);return Cl(i),new go(e._repo,e._path,i,!0)}}class _ae extends Rs{_apply(e){Vw(e,"orderByKey");const n=gw(e._queryParams,sa);return Cl(n),new go(e._repo,e._path,n,!0)}}class yae extends Rs{_apply(e){Vw(e,"orderByPriority");const n=gw(e._queryParams,Cn);return Cl(n),new go(e._repo,e._path,n,!0)}}class Cae extends Rs{_apply(e){Vw(e,"orderByValue");const n=gw(e._queryParams,Tb);return Cl(n),new go(e._repo,e._path,n,!0)}}class Pae extends Rs{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){if(ca("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new PB(this._value,this._key)._apply(new MB(this._value,this._key)._apply(e))}}function ks(t,...e){let n=(0,E.m9)(t);for(const r of e)n=r._apply(n);return n}(function rse(t){(0,E.hu)(!Ew,"__referenceConstructor has already been defined"),Ew=t})(cs),function cse(t){(0,E.hu)(!bw,"__referenceConstructor has already been defined"),bw=t}(cs);const gT={};function _T(t,e,n,r,i){let o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||oa("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Gr("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let c,l,s=pT(o,i),a=s.repoInfo;typeof process<"u"&&process.env&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=pT(o,i),a=s.repoInfo):c=!s.repoInfo.secure;const h=i&&c?new nm(nm.OWNER):new yie(t.name,t.options,e);eB("Invalid Firebase Database URL",s),Pt(s.path)||oa("Database URL must point to the root of a Firebase Database (not including a child path).");const f=function bae(t,e,n,r){let i=gT[e.name];i||(i={},gT[e.name]=i);let o=i[t.toURLString()];return o&&oa("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Nse(t,false,n,r),i[t.toURLString()]=o,o}(a,t,h,new mie(t.name,n));return new Aae(f,t)}class Aae{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Fse(t,e,n){if(t.stats_=yb(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new _w(t.repoInfo_,(r,i,o,s)=>{oB(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>sB(t,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,E.Wl)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Gu(t.repoInfo_,e,(r,i,o,s)=>{oB(t,r,i,o,s)},r=>{sB(t,r)},r=>{!function Lse(t,e){qr(e,(n,r)=>{aT(t,n,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function wie(t,e){const n=t.toString();return mb[n]||(mb[n]=e()),mb[n]}(t.repoInfo_,()=>new woe(t.stats_,t.server_)),t.infoData_=new _oe,t.infoSyncTree_=new H4({startListening:(r,i,o,s)=>{let a=[];const c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=fm(t.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),aT(t,"connected",!1),t.serverSyncTree_=new H4({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,c)=>{const l=s(a,c);ko(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new cs(this._repo,zt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Iae(t,e){const n=gT[e];(!n||n[t.key]!==t)&&oa(`Database ${e}(${t.repoInfo_}) has already been deleted.`),cB(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&oa("Cannot call "+e+" on a deleted database.")}}function EB(){Z5.IS_TRANSPORT_INITIALIZED&&Ii("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Dae(){EB(),hl.forceDisallow()}function Sae(){EB(),Cp.forceDisallow(),hl.forceAllow()}function dn(t=(0,$e.getApp)(),e){const n=(0,$e._getProvider)(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=(0,E.P0)("database");r&&IB(n,...r)}return n}function IB(t,e,n,r={}){(t=(0,E.m9)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&oa("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&oa('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new nm(nm.OWNER);else if(r.mockUserToken){const s="string"==typeof r.mockUserToken?r.mockUserToken:(0,E.Sg)(r.mockUserToken,t.app.options.projectId);o=new nm(s)}!function Eae(t,e,n,r){t.repoInfo_=new gb(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}(i,e,n,o)}function kae(t,e){A5(t,e)}const Fae={".sv":"timestamp"};class Uae{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Gu.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Gu.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},function Nae(t){ub($e.SDK_VERSION),(0,$e._registerComponent)(new Ro.wA("database",(e,{instanceIdentifier:n})=>_T(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),(0,$e.registerVersion)(M5,"1.0.1",t),(0,$e.registerVersion)(M5,"1.0.1","esm2017")}();const Xt_firebaseConfig={apiKey:"AIzaSyBAbOn_DL4wzdJtwKluPbbuaigV-4At9WY",authDomain:"photohub-4d669.firebaseapp.com",databaseURL:"https://photohub-4d669-default-rtdb.firebaseio.com",projectId:"photohub-4d669",storageBucket:"photohub-4d669.appspot.com",messagingSenderId:"825330385142",appId:"1:825330385142:web:b2b6add9e9f69aed14acd7",measurementId:"G-6K792J2R3M"};let ed=(()=>{var t;class e{getUsers(){return new Promise((r,i)=>{ls(Qt(dn((0,$e.initializeApp)(Xt_firebaseConfig)),"users/"),c=>{const l=c.val(),h=[];for(const f in l)if(l.hasOwnProperty(f)){const y=l[f];h.push({id:y.id,username:y.username||"",password:y.password||"",full_name:y.full_name||"",email:y.email||"",phone_number:y.phone_number||"",address:y.address||"",avatar:y.avatar||"",role_id:y.role_id||0,exp:y.exp||0})}r(h)})})}getUserById(r){var i=this;return(0,S.Z)(function*(){try{return(yield i.getUsers()).find(a=>a.id===r)||null}catch(o){return console.error("Error fetching user by ID:",o),null}})()}getUserByUsername(r){var i=this;return(0,S.Z)(function*(){try{return(yield i.getUsers()).find(a=>a.username===r)||null}catch(o){return console.error("Error fetching user by username",o),null}})()}createUser(r){var i=this;return(0,S.Z)(function*(){try{if(!(yield i.isUsernameUnique(r.username)))return console.log("The username is not unique"),null;const a=dn((0,$e.initializeApp)(Xt_firebaseConfig)),c=yield i.generateNewId(),l=Qt(a,"users/"+c),h={id:c,username:r.username,password:r.password,full_name:r.full_name,email:r.email,phone_number:r.phone_number,address:r.address,exp:r.exp,avatar:r.avatar,role_id:r.role_id};return yield Yi(l,h),h}catch(o){return console.error("Error creating user:",o),null}})()}updateUser(r){var i=this;return(0,S.Z)(function*(){try{if(null===(yield i.getUserById(r.id)))return console.error("User information not found for ID:",r.id),null;const a=dn((0,$e.initializeApp)(Xt_firebaseConfig)),c={id:r.id,username:r.username,password:r.password,full_name:r.full_name,email:r.email,phone_number:r.phone_number,address:r.address,avatar:r.avatar,role_id:r.role_id,exp:r.exp},l=Qt(a,`users/${r.id}`);return yield Yi(l,c),r}catch(o){return console.error("Error updating user:",o),null}})()}generateNewId(){var r=this;return(0,S.Z)(function*(){const i=yield r.getUsers();return(0===i.length?0:Math.max(...i.map(s=>s.id)))+1})()}isUsernameUnique(r){return(0,S.Z)(function*(){const s=Qt(dn((0,$e.initializeApp)(Xt_firebaseConfig)),"users"),c=(yield Ju(s)).val();if(c)for(const l in c)if(c.hasOwnProperty(l)&&c[l].username===r)return!1;return!0})()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=xe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),mT=(()=>{var t;class e{getUserInfos(){return new Promise((r,i)=>{ls(Qt(dn((0,$e.initializeApp)(Xt_firebaseConfig)),"user_info/"),c=>{const l=c.val(),h=[];for(const f in l)if(l.hasOwnProperty(f)){const y=l[f];h.push({id:y.id,user_id:y.user_id,img1:y.img1||"",img2:y.img2||"",img3:y.img3||"",cost:y.cost||0,description:y.description||"",prize:y.prize||"",interest:y.interest||"",language:y.language||"",camera:y.camera||"",portfolio:y.portfolio||[],typeOfPhoto:y.typeOfPhoto||[]})}r(h)})})}getUserInfoById(r){var i=this;return(0,S.Z)(function*(){try{return(yield i.getUserInfos()).find(a=>a.id===r)||null}catch(o){return console.error("Error fetching user info by ID:",o),null}})()}getUserInfoByUserId(r){var i=this;return(0,S.Z)(function*(){try{return(yield i.getUserInfos()).find(a=>a.user_id===r)||null}catch(o){return console.error("Error fetching user info by ID:",o),null}})()}createUserInfo(r){var i=this;return(0,S.Z)(function*(){try{if(!(yield i.isUserIdUnique(r.user_id)))return console.log("The id is not unique"),null;const a=dn((0,$e.initializeApp)(Xt_firebaseConfig)),c=yield i.generateNewId(),l=Qt(a,"user_info/"+c),h={id:c,user_id:r.user_id,img1:r.img1||"",img2:r.img2||"",img3:r.img3||"",cost:r.cost||0,description:r.description||"",prize:r.prize||"",interest:r.interest||"",language:r.language||"",camera:r.camera||"",portfolio:r.portfolio||[],typeOfPhoto:r.typeOfPhoto||[]};return yield Yi(l,h),h}catch(o){return console.error("Error creating user:",o),null}})()}updateUserInfo(r){var i=this;return(0,S.Z)(function*(){try{const s=dn((0,$e.initializeApp)(Xt_firebaseConfig));if(null===(yield i.getUserInfoById(r.id)))return console.error("User information not found for ID:",r.id),null;const c={id:r.id,user_id:r.user_id,img1:r.img1||"",img2:r.img2||"",img3:r.img3||"",cost:r.cost||0,description:r.description||"",prize:r.prize||"",interest:r.interest||"",language:r.language||"",camera:r.camera||"",portfolio:r.portfolio||[],typeOfPhoto:r.typeOfPhoto||[]},l=Qt(s,`user_info/${r.id}`);return yield Yi(l,c),c}catch(o){return console.error("Error updating user information:",o),null}})()}generateNewId(){var r=this;return(0,S.Z)(function*(){const i=yield r.getUserInfos();return(0===i.length?0:Math.max(...i.map(s=>s.id)))+1})()}generateNewTyOfPhotoId(r){return(0,S.Z)(function*(){const i=r.typeOfPhoto;return(0===i?.length?0:Math.max(...i.map(s=>s.id)))+1})()}isUserIdUnique(r){return(0,S.Z)(function*(){const s=Qt(dn((0,$e.initializeApp)(Xt_firebaseConfig)),"user_info"),c=(yield Ju(s)).val();if(c)for(const l in c)if(c.hasOwnProperty(l)&&c[l].user_id===r)return!1;return!0})()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=xe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),jw=(()=>{var t;class e{constructor(r,i){this.userService=r,this.userInfoService=i}getUserInfoDTOs(){return sl([this.userService.getUsers(),this.userInfoService.getUserInfos()]).pipe(ye(([r,i])=>{const o=[];for(const s of r){const a=i.find(c=>c.user_id===s.id);a&&o.push({user:s,userInfo:a})}return o}),os(r=>[]))}getUserInfoDTOsByRole(r){return sl([this.userService.getUsers(),this.userInfoService.getUserInfos()]).pipe(ye(([i,o])=>{const s=[];for(const a of i){const c=o.find(l=>l.user_id===a.id&&a.role_id===r);c&&s.push({user:a,userInfo:c})}return s}),os(i=>[]))}getUserInfoDTOsById(r){return sl([this.userService.getUsers(),this.userInfoService.getUserInfos()]).pipe(ye(([i,o])=>{const s=[];for(const c of i){const l=o.find(h=>h.user_id===c.id);l&&s.push({user:c,userInfo:l})}return s.find(c=>c.user.id===r)||null}),os(i=>Q(null)))}}return(t=e).\u0275fac=function(r){return new(r||t)(se(ed),se(mT))},t.\u0275prov=xe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function jae(t,e){if(1&t&&(_(0,"div",80)(1,"a",81)(2,"div",82)(3,"div",83)(4,"div",84),I(5,"img",85),m(),_(6,"div",86)(7,"div",87),I(8,"img",85),m(),_(9,"div",88),I(10,"img",85),m()()(),_(11,"div",89)(12,"div",90)(13,"h4",91),w(14),m(),_(15,"span",92),w(16),m()(),_(17,"div",93)(18,"p",94),w(19),m(),_(20,"div",95)(21,"div",96),I(22,"img",97)(23,"img",97)(24,"img",97)(25,"img",97)(26,"img",97),m(),_(27,"span",98),w(28,"5.0"),m()()()(),_(29,"div",99),I(30,"img",100),m()()()()),2&t){const n=e.$implicit;P(1),y_("routerLink","/profile/",n.user.id,""),P(4),Ht("src",n.userInfo.img1,pt),P(3),Ht("src",n.userInfo.img2,pt),P(2),Ht("src",n.userInfo.img3,pt),P(4),Ee(n.user.full_name),P(2),Ee(n.user.address),P(3),bt("",n.userInfo.cost,"/h"),P(11),Ht("src",n.user.avatar,pt)}}let bB=(()=>{var t;class e{constructor(r){this.userInfoDTOService=r,this.userInfoData=[]}ngOnInit(){this.loadUserInfoData()}loadUserInfoData(){this.userInfoDTOService.getUserInfoDTOsByRole(2).subscribe(r=>{this.userInfoData=r},r=>{console.error("Error fetching user information: ",r)})}}return(t=e).\u0275fac=function(r){return new(r||t)(W(jw))},t.\u0275cmp=At({type:t,selectors:[["app-home"]],decls:141,vars:1,consts:[[1,"home-content"],[1,"banner-wrapper"],[1,"banner-container"],[1,"banner-content"],["src","./assets/images/banner.jpg","alt","banner",1,"banner-image"],[1,"banner-search"],[1,"bsearch-title"],[1,"stitle"],[1,"slogan"],[1,"bsearch-content"],[1,"bsearch-quest-wrapper"],["type","text","name","","id","bsearch-quest","placeholder","D\u1ecbch v\u1ee5 b\u1ea1n \u0111ang t\xecm ki\u1ebfm ?"],[1,"bsearch-locate-wrapper"],["href","javascript:void(0)",1,"locate-icon"],[1,"bx","bxs-map"],["type","text","name","","id","bsearch-locate","placeholder","\u0110\u1ecba \u0111i\u1ec3m"],["href","javascript:void(0)","id","bsearch-icon"],[1,"bx","bx-search"],[1,"bsearch-suggest"],[1,"content-wrapper"],[1,"forUs-wrapper"],[1,"forUs-title"],[1,"fu-content-wrapper"],[1,"fu-content"],[1,"icon-wrapper"],["src","./assets/images/icons/icon1.png","alt","",1,"fu-icon"],[1,"fu-txt"],["src","./assets/images/icons/icon2.png","alt","",1,"fu-icon"],["src","./assets/images/icons/icon3.png","alt","",1,"fu-icon"],[1,"photo-popular-wrapper"],[1,"ppopular-title"],[1,"ppopular-wrapper"],["class","ppopular-item ",4,"ngFor","ngForOf"],[1,"ppopular-detail"],["routerLink","/collection",1,"ppopular-detail-link"],[1,"bx","bx-chevron-right"],[1,"category-wrapper"],[1,"category-title"],[1,"cate-content-wrapper"],[1,"cate-content"],["routerLink","/collection"],[1,"cate-picture"],[1,"picture-wrapper"],["src","./assets/images/user/Rectangle 23.png","alt",""],[1,"cate-name"],[1,"text-name"],["src","./assets/images/user/Rectangle 24.png","alt",""],["src","./assets/images/user/Rectangle 25.png","alt",""],["src","./assets/images/user/Rectangle 26.png","alt",""],[1,"description-wrapper"],[1,"des-title"],[1,"des-content-wrapper"],[1,"des-content"],[1,"des-left"],[1,"des-attention"],[1,"des-atten-title"],[1,"des-atten-text"],[1,"bx","bx-calendar-check"],[1,"bx","bx-smile"],[1,"des-right"],[1,"right-picture-first"],[1,"rf-left"],[1,"rf-left-first"],["src","./assets/images/user/Rectangle 28.png","alt",""],[1,"rf-left-second"],["src","./assets/images/user/Rectangle 34.png","alt",""],["src","./assets/images/user/Rectangle 35.png","alt",""],[1,"rf-right"],["src","./assets/images/user/Rectangle 29.png","alt","",1,"rf-right-img1"],["src","./assets/images/user/Rectangle 30.png","alt","",1,"rf-right-img2"],[1,"right-picture-second"],["src","./assets/images/user/Rectangle 32.png","alt",""],["src","./assets/images/user/Rectangle 47.png","alt",""],["src","./assets/images/user/Rectangle 33.png","alt",""],[1,"call-contact-warpper"],[1,"contact-bg"],["src","./assets/images/user/Rectangle 36.png","alt",""],[1,"contact-text"],[1,"contact-title"],["routerLink","",1,"contact-link"],[1,"ppopular-item"],[1,"ppopular-link",3,"routerLink"],[1,"ppopular-content"],[1,"pp-picture"],[1,"picture-1"],["alt","",3,"src"],[1,"picture-right"],[1,"picture-2"],[1,"picture-3"],[1,"pp-info"],[1,"info-left"],[1,"info-title"],[1,"info-address"],[1,"info-right"],[1,"info-price"],[1,"info-rate"],[1,"rate-star"],["src","./assets/images/icons/star-fill.png","alt",""],[1,"rate-text"],[1,"pp-avatar"],["alt","avatar",3,"src"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),I(4,"img",4),m()(),_(5,"div",5)(6,"div",6)(7,"h1",7),w(8,"PhotoHub"),m(),_(9,"p",8),w(10,"Picture - Perfect Memory, Just a Click Away"),m()(),_(11,"div",9)(12,"div",10),I(13,"input",11),m(),_(14,"div",12)(15,"a",13),I(16,"i",14),m(),I(17,"input",15),m(),_(18,"a",16),I(19,"i",17),m()(),I(20,"div",18),m()(),_(21,"div",19)(22,"div",20)(23,"h2",21),w(24,"\u0110\u1ebfn v\u1edbi ch\xfang t\xf4i"),m(),_(25,"div",22)(26,"div",23)(27,"div",24),I(28,"img",25),m(),_(29,"p",26),w(30,"\u0110\u1ed9i ng\u0169 nhi\u1ebfp \u1ea3nh chuy\xean nghi\u1ec7p"),m()(),_(31,"div",23)(32,"div",24),I(33,"img",27),m(),_(34,"p",26),w(35,"\u0110\u1ea3m b\u1ea3o h\xe0i l\xf2ng kh\xe1ch h\xe0ng ho\u1eb7c ho\xe0n tr\u1ea3 ti\u1ec1n n\u1ebfu kh\xf4ng \u0111\xe1p \u1ee9ng \u0111\u1ee7 y\xeau c\u1ea7u"),m()(),_(36,"div",23)(37,"div",24),I(38,"img",28),m(),_(39,"p",26),w(40,"C\xf3 \u0111\u1ebfn 800+ nhi\u1ebfp \u1ea3nh tr\xean PhotoHub v\u1edbi 4.5+ start \u0111\xe1nh gi\xe1"),m()()()(),_(41,"div",29)(42,"h2",30),w(43,"Nhi\u1ebfp \u1ea3nh gia ph\u1ed5 bi\u1ebfn"),m(),_(44,"div",31),F(45,jae,31,8,"div",32),m(),_(46,"div",33)(47,"a",34),w(48,"Xem t\u1ea5t c\u1ea3 "),I(49,"i",35),m()()(),_(50,"div",36)(51,"h2",37),w(52,"Th\u1ec3 lo\u1ea1i"),m(),_(53,"div",38)(54,"div",39)(55,"a",40)(56,"div",41)(57,"div",42),I(58,"img",43),m()(),_(59,"div",44)(60,"div",45)(61,"h4"),w(62,"Du l\u1ecbch"),m()()()()(),_(63,"div",39)(64,"a",40)(65,"div",41)(66,"div",42),I(67,"img",46),m()(),_(68,"div",44)(69,"div",45)(70,"h4"),w(71,"LookBook"),m()()()()(),_(72,"div",39)(73,"a",40)(74,"div",41)(75,"div",42),I(76,"img",47),m()(),_(77,"div",44)(78,"div",45)(79,"h4"),w(80,"Catalogue"),m()()()()(),_(81,"div",39)(82,"a",40)(83,"div",41)(84,"div",42),I(85,"img",48),m()(),_(86,"div",44)(87,"div",45)(88,"h4"),w(89,"Kh\xe1c"),m()()()()()()(),_(90,"div",49)(91,"h2",50),w(92,"N\u1eafm b\u1eaft kho\u1ea3nh kh\u1eafc c\u1ee7a b\u1ea1n "),_(93,"span"),w(94,"ch\u1ec9 v\u1edbi 3 b\u01b0\u1edbc"),m()(),_(95,"div",51)(96,"div",52)(97,"div",53)(98,"div",54)(99,"h4",55),I(100,"i",17),w(101," T\xecm ki\u1ebfm nhi\u1ebfp \u1ea3nh gia "),m(),_(102,"div",56),w(103," T\xecm ki\u1ebfm nh\u1eefng nhi\u1ebfp \u1ea3nh gia xung quanh khu v\u1ef1c b\u1ea1n v\u1edbi gi\xe1 c\u1ea3 h\u1ee3p l\xfd, ph\xf9 h\u1ee3p v\u1edbi nhu c\u1ea7u c\u1ee7a b\u1ea1n. Tham kh\u1ea3o h\u1ed3 s\u01a1 v\xe0 th\xeam ngay c\xe1c nhi\u1ebfp \u1ea3nh gia v\xe0o danh m\u1ee5c y\xeau th\xedch. "),m()(),_(104,"div",54)(105,"h4",55),I(106,"i",57),w(107," \u0110\u1eb7t l\u1ecbch h\u1eb9n "),m(),_(108,"div",56),w(109," Sau khi l\u1ef1a ch\u1ecdn xong nhi\u1ebfp \u1ea3nh gia ph\xf9 h\u1ee3p, nhanh ch\xf3ng \u0111\u1eb7t l\u1ecbch ch\u1ec9 b\u1eb1ng v\xe0i thao t\xe1c chu\u1ed9t. Nhi\u1ebfp \u1ea3nh gia s\u1ebd x\xe1c nh\u1eadn v\xe0 c\xf9ng ch\u1edd \u0111\u1ee3i \u0111\u1ebfn ng\xe0y ch\u1ee5p \u1ea3nh. "),m()(),_(110,"div",54)(111,"h4",55),I(112,"i",58),w(113," Chia s\u1ebb kho\u1ea3nh kh\u1eafc tuy\u1ec7t v\u1eddi c\u1ee7a b\u1ea1n "),m(),_(114,"div",56),w(115," H\xe3y gi\u1eef li\xean l\u1ea1c v\u1edbi nhi\u1ebfp \u1ea3nh gia c\u1ee7a b\u1ea1n trong v\xe0 sau khi nh\u1eadn booking. Sau ng\xe0y ch\u1ee5p \u1ea3nh, b\u1ea1n c\xf3 th\u1ec3 l\u1ef1a ch\u1ecdn v\xe0 chia s\u1ebb c\xe1c b\u1ee9c h\xecnh \u0111\u1eb9p m\xe0 nhi\u1ebfp \u1ea3nh gia \u0111\xe3 ch\u1ee5p v\xe0 x\u1eed l\xfd. "),m()()(),_(116,"div",59)(117,"div",60)(118,"div",61)(119,"div",62),I(120,"img",63),m(),_(121,"div",64),I(122,"img",65)(123,"img",66),m()(),_(124,"div",67),I(125,"img",68)(126,"img",69),m()(),_(127,"div",70),I(128,"img",71)(129,"img",72)(130,"img",73),m()()()()(),_(131,"div",74)(132,"div",75),I(133,"img",76),m(),_(134,"div",77)(135,"h3",78),w(136," B\u1ea1n c\xf3 ph\u1ea3i l\xe0 m\u1ed9t nhi\u1ebfp \u1ea3nh gia chuy\xean nghi\u1ec7p v\xe0 \u0111\u1ea7y tham v\u1ecdng? "),m(),_(137,"p"),w(138,"Tham gia c\u1ed9ng \u0111\u1ed3ng PhotoHub v\xe0 nh\u1eadn booking job ngay h\xf4m nay"),m(),_(139,"a",79),w(140," \u0110\u0103ng k\xfd ngay "),m()()()()()),2&r&&(P(45),A("ngForOf",i.userInfoData))},dependencies:[Wr,pr],styles:['@charset "UTF-8";.banner-wrapper[_ngcontent-%COMP%]{height:calc(100vh - 10.75rem);max-height:800px;position:relative}.banner-wrapper[_ngcontent-%COMP%]   .banner-container[_ngcontent-%COMP%], .banner-wrapper[_ngcontent-%COMP%]   .banner-container[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]{height:100%}.banner-wrapper[_ngcontent-%COMP%]   .banner-container[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-image[_ngcontent-%COMP%]{height:100%;width:100%}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]{width:100%;position:absolute;top:20%;left:50%;transform:translateY(-50%);transform:translate(-50%)}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-title[_ngcontent-%COMP%]{margin-bottom:2rem}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-title[_ngcontent-%COMP%]   .stitle[_ngcontent-%COMP%]{color:var(--color-primary);text-transform:uppercase;margin:1rem 0;text-align:center}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-title[_ngcontent-%COMP%]   .slogan[_ngcontent-%COMP%]{margin:.5rem 0;text-align:center;font-weight:600;font-size:22px}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]{width:80%;margin:0 auto;display:flex;justify-content:center}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-quest-wrapper[_ngcontent-%COMP%]{width:calc(60% - 1.14rem);height:2.25rem;background-color:var(--color-light);border-right:2px solid var(--color-primary);border-top-left-radius:.3rem!important;border-bottom-left-radius:.3rem!important}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-quest-wrapper[_ngcontent-%COMP%]   #bsearch-quest[_ngcontent-%COMP%]{width:100%;height:100%;border:0;outline:none;color:var(--color-text-body);padding-left:1.25rem}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-quest-wrapper[_ngcontent-%COMP%]   #bsearch-quest[_ngcontent-%COMP%]::placeholder{color:var(--color-text-body)}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-locate-wrapper[_ngcontent-%COMP%]{width:calc(40% - 1.14rem);height:2.25rem;background-color:var(--color-light);display:flex;justify-content:center}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-locate-wrapper[_ngcontent-%COMP%]   .locate-icon[_ngcontent-%COMP%]{height:2.25rem;width:2.25rem;color:var(--color-primary);font-size:22px;display:flex;justify-content:center;align-items:center;text-decoration:none}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-locate-wrapper[_ngcontent-%COMP%]   #bsearch-locate[_ngcontent-%COMP%]{width:100%;height:100%;border:0;outline:none;color:var(--color-text-body);padding-left:.25rem}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-locate-wrapper[_ngcontent-%COMP%]   #bsearch-locate[_ngcontent-%COMP%]::placeholder{color:var(--color-text-body)}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   #bsearch-icon[_ngcontent-%COMP%]{height:2.28rem;width:2.28rem;background-color:var(--color-primary);border-top-right-radius:.3rem;border-bottom-right-radius:.3rem;display:flex;justify-content:center;align-items:center;font-size:24px;text-decoration:none;color:var(--color-secondary)}@media (min-width: 1200px){.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]{max-width:600px}}@media (max-width: 575.98px){.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-title[_ngcontent-%COMP%]   .slogan[_ngcontent-%COMP%]{padding-left:10%;padding-right:10%}}.forUs-wrapper[_ngcontent-%COMP%]   .forUs-title[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:700;text-align:center;margin-bottom:2.5rem}.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:2rem}.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]   .fu-content[_ngcontent-%COMP%]{margin-bottom:2rem}.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]   .fu-content[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:.75rem}.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]   .fu-content[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .fu-icon[_ngcontent-%COMP%]{height:40px;object-fit:cover}.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]   .fu-content[_ngcontent-%COMP%]   .fu-txt[_ngcontent-%COMP%]{text-align:center}@media (max-width: 991.98px){.forUs-wrapper[_ngcontent-%COMP%]   .forUs-title[_ngcontent-%COMP%]{text-align:left!important}.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 767.98px){.forUs-wrapper[_ngcontent-%COMP%]{margin-top:1.5rem!important}}@media (max-width: 575.98px){.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}}.photo-popular-wrapper[_ngcontent-%COMP%]{margin-top:4rem;position:relative}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-title[_ngcontent-%COMP%]{color:var(--color-primary);margin-bottom:2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]{position:relative;max-height:300px;border-radius:.3rem;margin-bottom:2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]{color:var(--color-text-body)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]{position:relative;height:100%;width:100%;border-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]{height:100%;display:flex;column-gap:.2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-1[_ngcontent-%COMP%]{flex:calc(60% - .1rem);border-right:1px solid var(--color-light)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-top-left-radius:.3rem;border-bottom-left-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]{flex:calc(40% - .1rem);display:flex;row-gap:.1rem;flex-direction:column}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%], .photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]{height:calc(100% - .1rem)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:calc(100% - .15rem);width:100%;object-fit:cover}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%]{height:40%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-top-right-radius:.3rem;border-bottom:1px solid var(--color-light)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]{height:60%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-bottom-right-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;left:0;min-height:4.5rem;display:flex;justify-content:space-between;background-color:#ededed;border-bottom-left-radius:.3rem;border-bottom-right-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-left[_ngcontent-%COMP%]{padding-left:1rem;padding-top:.75rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-left[_ngcontent-%COMP%]   .info-title[_ngcontent-%COMP%]{flex:0 0 100%;width:100%;margin:0 0 .25rem;font-size:20px}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-left[_ngcontent-%COMP%]   .info-address[_ngcontent-%COMP%]{flex:0 0 100%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]{padding-top:.75rem;padding-right:.5rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-price[_ngcontent-%COMP%]{width:100%;font-size:14px;text-align:right;margin:0;margin-bottom:.75rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]{margin-right:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:12px;object-fit:cover}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]   .rate-text[_ngcontent-%COMP%]{font-size:14px;padding-top:2px}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-avatar[_ngcontent-%COMP%]{width:3em;height:3em;border-radius:50%;position:absolute;bottom:3.75rem;left:1rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]:hover:before{content:"Xem h\\1ed3  s\\1a1";position:absolute;inset:0;background-color:#000000b3;color:var(--color-light);font-size:20px;padding:10px;transition:opacity .3s;opacity:0;z-index:1;border-radius:.3rem;display:flex;justify-content:center;align-items:center}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]:hover:before{opacity:1}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]{position:absolute;right:0;top:2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]{text-decoration:none;display:flex;align-items:center;color:var(--color-primary)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:-1px;left:0;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}@media (max-width: 1100px){.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 767.98px){.photo-popular-wrapper[_ngcontent-%COMP%]{margin-top:1.5rem!important}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]{height:7rem;justify-content:flex-start;flex-direction:column}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;padding-left:1rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-price[_ngcontent-%COMP%]{text-align:left;width:auto;margin-right:1.5rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]{justify-content:flex-start}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-avatar[_ngcontent-%COMP%]{bottom:6.26rem}}@media (max-width: 575.98px){.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}}.category-wrapper[_ngcontent-%COMP%]{margin-top:4rem}.category-wrapper[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]{color:var(--color-primary);margin-bottom:2rem}.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);grid-auto-rows:1fr;column-gap:2rem}.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-text-body)}.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]   .cate-content[_ngcontent-%COMP%]{position:relative;margin-bottom:2rem}.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]   .cate-content[_ngcontent-%COMP%]   .cate-picture[_ngcontent-%COMP%], .category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]   .cate-content[_ngcontent-%COMP%]   .cate-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]{height:100%}.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]   .cate-content[_ngcontent-%COMP%]   .cate-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:.3rem}.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]   .cate-content[_ngcontent-%COMP%]   .cate-name[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;left:0;height:4.5rem;width:100%;background-color:#ededed;display:flex;justify-content:center;align-items:center;border-bottom-left-radius:.3rem;border-bottom-right-radius:.3rem}@media (max-width: 991.98px){.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 767.98px){.category-wrapper[_ngcontent-%COMP%]{margin-top:1.5rem!important}}@media (max-width: 575.98px){.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}}.description-wrapper[_ngcontent-%COMP%]   .des-title[_ngcontent-%COMP%]{color:var(--color-primary);margin-bottom:2rem}.description-wrapper[_ngcontent-%COMP%]   .des-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;color:var(--color-warning)}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:3rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-left[_ngcontent-%COMP%]   .des-attention[_ngcontent-%COMP%]{margin-bottom:2rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-left[_ngcontent-%COMP%]   .des-attention[_ngcontent-%COMP%]   .des-atten-title[_ngcontent-%COMP%]{font-size:19px;margin:0;margin-bottom:1rem;display:flex;align-items:center;color:var(--color-primary);font-weight:600}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-left[_ngcontent-%COMP%]   .des-attention[_ngcontent-%COMP%]   .des-atten-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:25px;margin-right:1rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-left[_ngcontent-%COMP%]   .des-attention[_ngcontent-%COMP%]   .des-atten-text[_ngcontent-%COMP%]{padding-left:2.5rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]{max-height:600px;display:flex;flex-direction:column;row-gap:.5rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]{height:calc(60% - .25rem);width:100%;display:flex;column-gap:.5rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-left[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;row-gap:.5rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-left[_ngcontent-%COMP%]   .rf-left-first[_ngcontent-%COMP%]{width:100%;height:calc(70% - .25rem)}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-left[_ngcontent-%COMP%]   .rf-left-first[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-left[_ngcontent-%COMP%]   .rf-left-second[_ngcontent-%COMP%]{width:100%;height:calc(30% - .25rem);display:grid;grid-template-columns:repeat(2,1fr);grid-auto-rows:1fr;column-gap:.5rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-left[_ngcontent-%COMP%]   .rf-left-second[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-right[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;row-gap:.5rem;img-object-fit:cover}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-right[_ngcontent-%COMP%]   .rf-right-img1[_ngcontent-%COMP%]{height:calc(35% - .25rem);width:100%}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-right[_ngcontent-%COMP%]   .rf-right-img2[_ngcontent-%COMP%]{height:calc(65% - .25rem);width:100%}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-second[_ngcontent-%COMP%]{height:calc(40% - .25rem);width:100%;display:flex;column-gap:.5rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-second[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:calc(33.3333333333% - (.25rem + 1px));height:100%;object-fit:cover}@media (max-width: 991.98px){.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}}@media (max-width: 767.98px){.description-wrapper[_ngcontent-%COMP%]{margin-top:1.5rem!important}}@media (max-width: 575.98px){.description-wrapper[_ngcontent-%COMP%]   .des-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline!important}}.call-contact-warpper[_ngcontent-%COMP%]{margin-top:6rem;position:relative}.call-contact-warpper[_ngcontent-%COMP%]   .contact-bg[_ngcontent-%COMP%]{width:100%}.call-contact-warpper[_ngcontent-%COMP%]   .contact-bg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-height:400px;object-fit:fill;object-position:center}.call-contact-warpper[_ngcontent-%COMP%]   .contact-text[_ngcontent-%COMP%]{height:calc(100% - 3rem);width:80%;position:absolute;top:3rem;left:50%;transform:translate(-50%);text-align:center;display:flex;flex-direction:column}.call-contact-warpper[_ngcontent-%COMP%]   .contact-text[_ngcontent-%COMP%]   .contact-title[_ngcontent-%COMP%]{margin-bottom:0}.call-contact-warpper[_ngcontent-%COMP%]   .contact-text[_ngcontent-%COMP%]   .contact-link[_ngcontent-%COMP%]{margin-top:2rem;font-size:18px;font-weight:700;text-decoration:none;color:var(--color-primary);padding:1rem;border:1px solid var(--color-primary);border-radius:.3rem;width:13rem;margin:0 auto}@media (max-width: 767.98px){.call-contact-warpper[_ngcontent-%COMP%]{margin-top:1.5rem!important}}@media (max-width: 575.98px){.call-contact-warpper[_ngcontent-%COMP%]   .contact-bg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:350px}.call-contact-warpper[_ngcontent-%COMP%]   .contact-text[_ngcontent-%COMP%]{width:95%;top:1rem!important}.call-contact-warpper[_ngcontent-%COMP%]   .contact-text[_ngcontent-%COMP%]   .contact-title[_ngcontent-%COMP%]{font-size:20px}}.home-content[_ngcontent-%COMP%]{position:relative}.home-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 4rem 0}@media (max-width: 767.98px){.home-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 2rem 0!important}}']}),e})();function $ae(t,e){if(1&t&&(_(0,"div",6)(1,"a",7)(2,"div",8)(3,"div",9)(4,"div",10),I(5,"img",11),m(),_(6,"div",12)(7,"div",13),I(8,"img",11),m(),_(9,"div",14),I(10,"img",11),m()()(),_(11,"div",15)(12,"div",16)(13,"h4",17),w(14),m(),_(15,"span",18),w(16),m()(),_(17,"div",19)(18,"p",20),w(19),m(),_(20,"div",21)(21,"div",22),I(22,"img",23)(23,"img",23)(24,"img",23)(25,"img",23)(26,"img",23),m(),_(27,"span",24),w(28,"5.0"),m()()()(),_(29,"div",25),I(30,"img",26),m()()()()),2&t){const n=e.$implicit;P(1),A("routerLink","/profile/"+n.user.id),P(4),A("src",n.userInfo.img1,pt),P(3),A("src",n.userInfo.img2,pt),P(2),A("src",n.userInfo.img3,pt),P(4),Ee(n.user.full_name),P(2),Ee(n.user.address),P(3),bt("",n.userInfo.cost,"/h"),P(11),A("src",n.user.avatar,pt)}}let TB=(()=>{var t;class e{constructor(r){this.userInfoDTOService=r,this.userInfoData=[],this.userCount=0}ngOnInit(){this.loadUserInfoData()}loadUserInfoData(){this.userInfoDTOService.getUserInfoDTOsByRole(2).subscribe(r=>{this.userInfoData=r,this.userCount=this.userInfoData.length},r=>{console.error("Error fetching user information: ",r)})}}return(t=e).\u0275fac=function(r){return new(r||t)(W(jw))},t.\u0275cmp=At({type:t,selectors:[["app-shop"]],decls:7,vars:2,consts:[[1,"shop-content"],[1,"content-wrapper"],[1,"photo-popular-wrapper"],[1,"ppopular-title"],[1,"ppopular-wrapper"],["class","ppopular-item",4,"ngFor","ngForOf"],[1,"ppopular-item"],[1,"ppopular-link",3,"routerLink"],[1,"ppopular-content"],[1,"pp-picture"],[1,"picture-1"],["alt","",3,"src"],[1,"picture-right"],[1,"picture-2"],[1,"picture-3"],[1,"pp-info"],[1,"info-left"],[1,"info-title"],[1,"info-address"],[1,"info-right"],[1,"info-price"],[1,"info-rate"],[1,"rate-star"],["src","./assets/images/icons/star-fill.png","alt",""],[1,"rate-text"],[1,"pp-avatar"],["alt","avatar",3,"src"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),w(4),m(),_(5,"div",4),F(6,$ae,31,8,"div",5),m()()()()),2&r&&(P(4),bt("",i.userCount," nhi\u1ebfp \u1ea3nh gia"),P(2),A("ngForOf",i.userInfoData))},dependencies:[Wr,pr],styles:['@charset "UTF-8";.shop-content[_ngcontent-%COMP%]{position:relative}.shop-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 4rem 0}@media (max-width: 767.98px){.shop-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 2rem 0!important}}.photo-popular-wrapper[_ngcontent-%COMP%]{margin-top:4rem;position:relative}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-title[_ngcontent-%COMP%]{color:var(--color-primary);margin-bottom:2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:3.5rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]{position:relative;max-height:300px;border-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]{color:var(--color-text-body)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]{position:relative;height:100%;width:100%;border-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]{height:100%;display:flex;column-gap:.2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-1[_ngcontent-%COMP%]{flex:calc(60% - .1rem);border-right:1px solid var(--color-light)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-top-left-radius:.3rem;border-bottom-left-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]{flex:calc(40% - .1rem);display:flex;row-gap:.1rem;flex-direction:column}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%], .photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]{height:calc(100% - .1rem)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:calc(100% - .15rem);width:100%;object-fit:cover}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%]{height:40%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-top-right-radius:.3rem;border-bottom:1px solid var(--color-light)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]{height:60%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-bottom-right-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;left:0;min-height:4.5rem;display:flex;justify-content:space-between;background-color:#ededed;border-bottom-left-radius:.3rem;border-bottom-right-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-left[_ngcontent-%COMP%]{padding-left:1rem;padding-top:.75rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-left[_ngcontent-%COMP%]   .info-title[_ngcontent-%COMP%]{flex:0 0 100%;width:100%;margin:0 0 .25rem;font-size:20px}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-left[_ngcontent-%COMP%]   .info-address[_ngcontent-%COMP%]{flex:0 0 100%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]{padding-top:.75rem;padding-right:.5rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-price[_ngcontent-%COMP%]{width:100%;font-size:14px;text-align:right;margin:0;margin-bottom:.75rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]{margin-right:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:12px;object-fit:cover}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]   .rate-text[_ngcontent-%COMP%]{font-size:14px;padding-top:2px}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-avatar[_ngcontent-%COMP%]{width:3em;height:3em;border-radius:50%;position:absolute;bottom:3.75rem;left:1rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]:hover:before{content:"Xem h\\1ed3  s\\1a1";position:absolute;inset:0;background-color:#000000b3;color:var(--color-light);font-size:20px;padding:10px;transition:opacity .3s;opacity:0;z-index:1;border-radius:.3rem;display:flex;justify-content:center;align-items:center}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]:hover:before{opacity:1}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]{position:absolute;right:0;top:2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]{text-decoration:none;display:flex;align-items:center;color:var(--color-primary)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:-1px;left:0;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}@media (max-width: 1350px){.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)!important}}@media (max-width: 1100px){.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 767.98px){.photo-popular-wrapper[_ngcontent-%COMP%]{margin-top:1.5rem!important}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]{height:7rem;justify-content:flex-start;flex-direction:column}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;padding-left:1rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-price[_ngcontent-%COMP%]{text-align:left;width:auto;margin-right:1.5rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]{justify-content:flex-start}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-avatar[_ngcontent-%COMP%]{bottom:6.26rem}}@media (max-width: 575.98px){.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}}']}),e})(),AB=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(W(Ga),W(Hi))},t.\u0275dir=We({type:t}),e})(),td=(()=>{var t;class e extends AB{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Fr(t)))(i||t)}}(),t.\u0275dir=We({type:t,features:[Zt]}),e})();const la=new _e("NgValueAccessor"),Wae={provide:la,useExisting:z(()=>Ns),multi:!0},qae=new _e("CompositionEventMode");let Ns=(()=>{var t;class e extends AB{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Gae(){const t=il()?il().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(W(Ga),W(Hi),W(qae,8))},t.\u0275dir=We({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&j("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Fn([Wae]),Zt]}),e})();function wl(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}const bi=new _e("NgValidators"),Pl=new _e("NgAsyncValidators");function kB(t){return wl(t.value)?{required:!0}:null}function $w(t){return null}function BB(t){return null!=t}function jB(t){return m_(t)?k(t):t}function $B(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function HB(t,e){return e.map(n=>n(t))}function zB(t){return t.map(e=>function Zae(t){return!t.validate}(e)?e:n=>e.validate(n))}function yT(t){return null!=t?function WB(t){if(!t)return null;const e=t.filter(BB);return 0==e.length?null:function(n){return $B(HB(n,e))}}(zB(t)):null}function vT(t){return null!=t?function GB(t){if(!t)return null;const e=t.filter(BB);return 0==e.length?null:function(n){return function Hae(...t){const e=Hs(t),{args:n,keys:r}=fU(t),i=new ht(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let h=0;h<s;h++){let f=!1;qn(n[h]).subscribe(Pe(o,y=>{f||(f=!0,l--),a[h]=y},()=>c--,void 0,()=>{(!c||!f)&&(l||o.next(r?_U(r,a):a),o.complete())}))}});return e?i.pipe(gU(e)):i}(HB(n,e).map(jB)).pipe(ye($B))}}(zB(t)):null}function qB(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function CT(t){return t?Array.isArray(t)?t:[t]:[]}function Hw(t,e){return Array.isArray(t)?t.includes(e):t===e}function YB(t,e){const n=CT(e);return CT(t).forEach(i=>{Hw(n,i)||n.push(i)}),n}function QB(t,e){return CT(e).filter(n=>!Hw(t,n))}class XB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=yT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=vT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Qi extends XB{get formDirective(){return null}get path(){return null}}class Ml extends XB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class JB{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ua=(()=>{var t;class e extends JB{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(W(Ml,2))},t.\u0275dir=We({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Ao("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Zt]}),e})(),Em=(()=>{var t;class e extends JB{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(W(Qi,10))},t.\u0275dir=We({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Ao("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Zt]}),e})();const Im="VALID",Ww="INVALID",Dp="PENDING",bm="DISABLED";function MT(t){return(Gw(t)?t.validators:t)||null}function OT(t,e){return(Gw(e)?e.asyncValidators:t)||null}function Gw(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class rj{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Im}get invalid(){return this.status===Ww}get pending(){return this.status==Dp}get disabled(){return this.status===bm}get enabled(){return this.status!==bm}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(YB(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(YB(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(QB(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(QB(e,this._rawAsyncValidators))}hasValidator(e){return Hw(this._rawValidators,e)}hasAsyncValidator(e){return Hw(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Dp,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=bm,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Im,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Im||this.status===Dp)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bm:Im}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Dp,this._hasOwnPendingAsyncValidator=!0;const n=jB(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Nn,this.statusChanges=new Nn}_calculateStatus(){return this._allControlsDisabled()?bm:this.errors?Ww:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Dp)?Dp:this._anyControlsHaveStatus(Ww)?Ww:Im}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Gw(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Jae(t){return Array.isArray(t)?yT(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function ece(t){return Array.isArray(t)?vT(t):t||null}(this._rawAsyncValidators)}}class ET extends rj{constructor(e,n,r){super(MT(n),OT(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function nj(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new ne(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function tj(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new ne(1e3,"");if(!r[n])throw new ne(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Sp=new _e("CallSetDisabledState",{providedIn:"root",factory:()=>qw}),qw="always";function Tm(t,e,n=qw){IT(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function rce(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&ij(t,e)})}(t,e),function oce(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function ice(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&ij(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function nce(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Yw(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function IT(t,e){const n=function KB(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(qB(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function ZB(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(qB(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Yw(e._rawValidators,i),Yw(e._rawAsyncValidators,i)}function ij(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const uce={provide:Qi,useExisting:z(()=>nd)},Am=(()=>Promise.resolve())();let nd=(()=>{var t;class e extends Qi{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Nn,this.form=new ET({},yT(r),vT(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Am.then(()=>{const i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),Tm(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Am.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Am.then(()=>{const i=this._findContainer(r.path),o=new ET({});(function oj(t,e){IT(t,e)})(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Am.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Am.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,function sj(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return(t=e).\u0275fac=function(r){return new(r||t)(W(bi,10),W(Pl,10),W(Sp,8))},t.\u0275dir=We({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&j("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Fn([uce]),Zt]}),e})();function aj(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function cj(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const lj=class extends rj{constructor(e=null,n,r){super(MT(n),OT(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Gw(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=cj(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){aj(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){aj(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){cj(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},pce={provide:Ml,useExisting:z(()=>Fs)},hj=(()=>Promise.resolve())();let Fs=(()=>{var t;class e extends Ml{constructor(r,i,o,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new lj,this._registered=!1,this.name="",this.update=new Nn,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=function AT(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===Ns?n=o:function cce(t){return Object.getPrototypeOf(t.constructor)===td}(o)?r=o:i=o}),i||r||n||null}(0,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),function TT(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Tm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){hj.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,o=0!==i&&op(i);hj.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?function Kw(t,e){return[...e.path,t]}(r,this._parent):[r]}}return(t=e).\u0275fac=function(r){return new(r||t)(W(Qi,9),W(bi,10),W(Pl,10),W(la,10),W(P0,8),W(Sp,8))},t.\u0275dir=We({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Fn([pce]),Zt,wi]}),e})(),Dm=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=We({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const fce={provide:la,useExisting:z(()=>DT),multi:!0};let DT=(()=>{var t;class e extends td{writeValue(r){this.setProperty("value",r??"")}registerOnChange(r){this.onChange=i=>{r(""==i?null:parseFloat(i))}}}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Fr(t)))(i||t)}}(),t.\u0275dir=We({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&j("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[Fn([fce]),Zt]}),e})(),pj=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Zn({type:t}),t.\u0275inj=lr({}),e})();const Mce={provide:la,useExisting:z(()=>Xw),multi:!0};function Cj(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Xw=(()=>{var t;class e extends td{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;const o=Cj(this._getOptionId(r),r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){const i=function Oce(t){return t.split(":")[0]}(r);return this._optionMap.has(i)?this._optionMap.get(i):r}}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Fr(t)))(i||t)}}(),t.\u0275dir=We({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&j("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Fn([Mce]),Zt]}),e})(),kT=(()=>{var t;class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){null!=this._select&&(this._select._optionMap.set(this.id,r),this._setElementValue(Cj(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(t=e).\u0275fac=function(r){return new(r||t)(W(Hi),W(Ga),W(Xw,9))},t.\u0275dir=We({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const Ece={provide:la,useExisting:z(()=>NT),multi:!0};function wj(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let NT=(()=>{var t;class e extends td{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){let i;if(this.value=r,Array.isArray(r)){const o=r.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{const o=[],s=i.selectedOptions;if(void 0!==s){const a=s;for(let c=0;c<a.length;c++){const h=this._getOptionValue(a[c].value);o.push(h)}}else{const a=i.options;for(let c=0;c<a.length;c++){const l=a[c];if(l.selected){const h=this._getOptionValue(l.value);o.push(h)}}}this.value=o,r(o)}}_registerOption(r){const i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){const i=function Ice(t){return t.split(":")[0]}(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Fr(t)))(i||t)}}(),t.\u0275dir=We({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&j("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Fn([Ece]),Zt]}),e})(),FT=(()=>{var t;class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){null!=this._select&&(this._value=r,this._setElementValue(wj(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(wj(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(t=e).\u0275fac=function(r){return new(r||t)(W(Hi),W(Ga),W(NT,9))},t.\u0275dir=We({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})(),rd=(()=>{var t;class e{constructor(){this._validator=$w}ngOnChanges(r){if(this.inputName in r){const i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):$w,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return null!=r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=We({type:t,features:[wi]}),e})();const Ace={provide:bi,useExisting:z(()=>Jw),multi:!0};let Jw=(()=>{var t;class e extends rd{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=op,this.createValidator=r=>kB}enabled(r){return r}}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Fr(t)))(i||t)}}(),t.\u0275dir=We({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&Wi("required",i._enabled?"":null)},inputs:{required:"required"},features:[Fn([Ace]),Zt]}),e})();const kce={provide:bi,useExisting:z(()=>LT),multi:!0};let LT=(()=>{var t;class e extends rd{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=r=>r,this.createValidator=r=>function UB(t){if(!t)return $w;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(wl(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(r)}}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Fr(t)))(i||t)}}(),t.\u0275dir=We({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Wi("pattern",i._enabled?i.pattern:null)},inputs:{pattern:"pattern"},features:[Fn([kce]),Zt]}),e})(),Nce=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Zn({type:t}),t.\u0275inj=lr({imports:[pj]}),e})(),Lce=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:Sp,useValue:r.callSetDisabledState??qw}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Zn({type:t}),t.\u0275inj=lr({imports:[Nce]}),e})();function Vce(t,e){1&t&&(_(0,"span",37),w(1,"Vui l\xf2ng nh\u1eadp email h\u1ee3p l\u1ec7."),m())}function Uce(t,e){1&t&&(_(0,"span",37),w(1,"M\u1eadt kh\u1ea9u ph\u1ea3i c\xf3 \xedt nh\u1ea5t 6 k\xfd t\u1ef1."),m())}let Bce=(()=>{var t;class e{constructor(r,i){this.userService=r,this.router=i,this.isShowPassword=!1,this.invalidEmail=!1,this.invalidPassword=!1,this.email="",this.password="",this.loginMessage=""}onChangeEmail(r){this.email=r.target.value,this.validateEmail()}onChangePassword(r){this.password=r.target.value,this.validatePassword()}togglePassword(){this.isShowPassword=!this.isShowPassword}onSubmit(){var r=this;return(0,S.Z)(function*(){if(r.validateEmail()&&r.validatePassword()){var i=yield r.userService.getUserByUsername(r.email);i?r.router.navigate(1===i.role_id?["/admin/home"]:2===i.role_id?["/partner/"+i.id]:["/home"]):r.loginMessage="Sai email ho\u1eb7c m\u1eadt kh\u1ea9u"}else r.validateEmail(),r.validatePassword()})()}validateEmail(){const i=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(this.email);return this.invalidEmail=!i,i}validatePassword(){return this.invalidPassword=this.password.length<6,!this.invalidPassword}}return(t=e).\u0275fac=function(r){return new(r||t)(W(ed),W(nr))},t.\u0275cmp=At({type:t,selectors:[["app-login"]],decls:53,vars:8,consts:[[1,"login-wrapper"],[1,"login-container"],[1,"login-header"],[1,"go-home"],["routerLink","/home",1,"go-home-link"],[1,"bx","bxs-chevron-left"],[1,"login-title"],[1,"brand"],["routerLink","/home",1,"brand-link"],["src","./assets/images/logo2.png","alt","logo",1,"brand-image"],[1,"login-message"],[1,"login-content"],[3,"ngSubmit"],[1,"form-group"],["for","username"],["type","text","id","username","name","username","required","","placeholder","quang@gmail.com",3,"input"],["class","validate-message",4,"ngIf"],["for","password"],[1,"password-wrapper"],["id","password","name","password","required","",3,"type","input"],["id","showPassword","href","javascript:void(0)",3,"click"],[1,"bx","bx-show"],["id","hidePassword","href","javascript:void(0)",3,"click"],[1,"bx","bx-hide"],["routerLink","",1,"forgot-password"],["type","submit"],[1,"wall-login"],[1,"line-left"],[1,"line-right"],[1,"login-footer"],[1,"login-option"],["href","javascript:void(0)",1,"login-option-icon"],[1,"bx","bxl-google"],[1,"bx","bxl-facebook"],[1,"bx","bxl-instagram-alt"],[1,"sign-in"],["routerLink","/auth/register"],[1,"validate-message"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),I(5,"i",5),w(6," Trang ch\u1ee7 "),m()(),_(7,"h3",6),w(8," \u0110\u0103ng nh\u1eadp "),m(),_(9,"div",7)(10,"a",8),I(11,"img",9),m()()(),_(12,"div",10),w(13),m(),_(14,"div",11)(15,"form",12),j("ngSubmit",function(){return i.onSubmit()}),_(16,"div",13)(17,"label",14),w(18,"Email"),m(),_(19,"input",15),j("input",function(s){return i.onChangeEmail(s)}),m(),F(20,Vce,2,0,"span",16),m(),_(21,"div",13)(22,"label",17),w(23,"M\u1eadt kh\u1ea9u"),m(),_(24,"div",18)(25,"input",19),j("input",function(s){return i.onChangePassword(s)}),m(),_(26,"a",20),j("click",function(){return i.togglePassword()}),I(27,"i",21),m(),_(28,"a",22),j("click",function(){return i.togglePassword()}),I(29,"i",23),m()(),F(30,Uce,2,0,"span",16),_(31,"a",24),w(32,"Qu\xean m\u1eadt kh\u1ea9u?"),m()(),_(33,"button",25),w(34,"\u0110\u0103ng nh\u1eadp"),m()()(),_(35,"div",26),I(36,"div",27),_(37,"span"),w(38,"Ho\u1eb7c \u0111\u0103ng nh\u1eadp b\u1eb1ng"),m(),I(39,"div",28),m(),_(40,"div",29)(41,"div",30)(42,"a",31),I(43,"i",32),m(),_(44,"a",31),I(45,"i",33),m(),_(46,"a",31),I(47,"i",34),m()(),_(48,"div",35)(49,"div"),w(50,"B\u1ea1n ch\u01b0a c\xf3 t\xe0i kho\u1ea3n?"),_(51,"a",36),w(52," \u0110\u0103ng k\xfd"),m()()()()()()),2&r&&(P(13),Ee(i.loginMessage),P(7),A("ngIf",i.invalidEmail),P(5),A("type",i.isShowPassword?"text":"password"),P(1),Ao("show",i.isShowPassword),P(2),Ao("show",!i.isShowPassword),P(2),A("ngIf",i.invalidPassword))},dependencies:[Vr,pr,Dm,Em,nd],styles:['.login-wrapper[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;min-height:100vh;background-image:url(/assets/images/banner.jpg);background-size:cover;background-repeat:no-repeat;background-position:center;padding:2rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]{padding:2rem;border-radius:.5rem;width:700px;margin:auto;min-height:calc(100vh - 4rem);height:100%;background-color:#ffffffa8;box-shadow:0 0 10px #0000004d}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem;position:relative}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{position:absolute;top:0rem;left:0rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]   .go-home-link[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;text-decoration:none;color:var(--color-primary);font-weight:700;position:relative}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   .login-title[_ngcontent-%COMP%]{text-align:center;color:var(--color-primary);font-size:32px;font-weight:700}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{display:flex;justify-content:center}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]   .brand-image[_ngcontent-%COMP%]{width:5rem;height:5rem;object-fit:cover}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-message[_ngcontent-%COMP%]{color:red;margin-bottom:1.5rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:15px}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:gray;font-weight:600;font-size:18px}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 10px;border:2px solid gray;border-radius:5px;background-color:transparent;outline:none}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--color-primary)}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]{position:relative}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #hidePassword[_ngcontent-%COMP%], .login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #showPassword[_ngcontent-%COMP%]{position:absolute;right:10px;top:calc(50% + 3px);transform:translateY(-50%);text-decoration:none;font-size:20px;color:var(--color-primary);display:none}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #hidePassword.show[_ngcontent-%COMP%], .login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #showPassword.show[_ngcontent-%COMP%]{display:block}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{width:100%;font-size:14px;color:#ff1818}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{position:absolute;top:100%;color:var(--color-primary);width:100%;right:0;text-align:right}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:3rem;display:block;width:100%;padding:15px 10px;background-color:var(--color-primary);color:#fff;border:none;border-radius:5px;font-size:20px;cursor:pointer}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]{margin:2rem 0;display:flex;align-items:center}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]   .line-left[_ngcontent-%COMP%], .login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]   .line-right[_ngcontent-%COMP%]{flex-grow:1;height:2px;background-color:var(--color-primary)}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 10px;white-space:nowrap}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .login-option[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;justify-content:center;column-gap:1.5rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .login-option[_ngcontent-%COMP%]   .login-option-icon[_ngcontent-%COMP%]{font-size:42px;color:var(--color-primary);text-decoration:none}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%]{color:var(--color-primary)}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;text-decoration:none;color:var(--color-primary)}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:-1px;left:0}@media (max-width: 767.98px){.login-wrapper[_ngcontent-%COMP%]{width:100%;left:50%;transform:translate(-50%);padding:1rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]{width:100%;min-height:calc(100vh - 2rem)}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{top:-.5rem;left:-1rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{font-size:12px}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2rem;padding:10px;font-size:17px}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]{margin:1rem 0}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .login-option[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;justify-content:center;column-gap:1.5rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .login-option[_ngcontent-%COMP%]   .login-option-icon[_ngcontent-%COMP%]{font-size:26px;color:var(--color-primary);text-decoration:none}}']}),e})();const Dj={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let eP;const jce=new Uint8Array(16);function $ce(){if(!eP&&(eP=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!eP))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return eP(jce)}const li=[];for(let t=0;t<256;++t)li.push((t+256).toString(16).slice(1));const xp=function Hce(t,e,n){if(Dj.randomUUID&&!e&&!t)return Dj.randomUUID();const r=(t=t||{}).random||(t.rng||$ce)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return function Sj(t,e=0){return li[t[e+0]]+li[t[e+1]]+li[t[e+2]]+li[t[e+3]]+"-"+li[t[e+4]]+li[t[e+5]]+"-"+li[t[e+6]]+li[t[e+7]]+"-"+li[t[e+8]]+li[t[e+9]]+"-"+li[t[e+10]]+li[t[e+11]]+li[t[e+12]]+li[t[e+13]]+li[t[e+14]]+li[t[e+15]]}(r)};function Sm(t){return(Sm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ze(t,e,n){return(e=function Wce(t){var e=function zce(t,e){if("object"!==Sm(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Sm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Sm(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Gce extends xt{constructor(e,n){super()}schedule(e,n=0){return this}}const tP={setInterval(t,e,...n){const{delegate:r}=tP;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=tP;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class xj extends Gce{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return tP.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&tP.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ze(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const VT={now:()=>(VT.delegate||Date).now(),delegate:void 0};class xm{constructor(e,n=xm.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}xm.now=VT.now;class Rj extends xm{constructor(e,n=xm.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Zce=new class Kce extends Rj{}(class qce extends xj{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),nP=new Rj(xj),Ol=new Uh("ANGULARFIRE2_VERSION");const UT=(t,e)=>{const n=e?[e]:(0,$e.getApps)(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};class Rm{constructor(){return UT(Yce)}}const Yce="app-check";function Rp(){}class Nj{constructor(e,n=Zce){ze(this,"zone",void 0),ze(this,"delegate",void 0),this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class Qce{constructor(e){ze(this,"zone",void 0),ze(this,"task",null),this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Rp,{},Rp,Rp)),n.pipe(ci({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let kp=(()=>{var t;class e{constructor(r){ze(this,"ngZone",void 0),ze(this,"outsideAngular",void 0),ze(this,"insideAngular",void 0),this.ngZone=r,this.outsideAngular=r.runOutsideAngular(()=>new Nj(Zone.current)),this.insideAngular=r.run(()=>new Nj(Zone.current,nP)),globalThis.\u0275AngularFireScheduler||=this}}return t=e,ze(e,"\u0275fac",function(r){return new(r||t)(se(Vt))}),ze(e,"\u0275prov",xe({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();function Np(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function id(t){return Np().ngZone.run(()=>t())}function Fj(t){return t.pipe(Sr(Np().outsideAngular))}function fr(t){return function Jce(t){return function(n){return(n=n.lift(new Qce(t.ngZone))).pipe(ni(t.outsideAngular),Sr(t.insideAngular))}}(Np())(t)}const ele=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),id(()=>t.apply(void 0,r))},tle=(t,e)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(n||=id(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Rp,{},Rp,Rp))),r[o]=ele(r[o],n));const i=function Xce(t){return Np().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof ht){const o=Np();return i.pipe(ni(o.outsideAngular),Sr(o.insideAngular))}return id(()=>i)}return i instanceof ht?i.pipe(fr):i instanceof Promise?id(()=>new Promise((o,s)=>i.then(a=>id(()=>o(a)),a=>id(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:id(()=>i)};var us=et(106);us.Z.registerVersion("firebase","10.5.2","app-compat");const ole=["ngOnDestroy"];class Lj{constructor(e){return e}}const Fp=new _e("angularfire2.app.options"),Lp=new _e("angularfire2.app.name");function km(t,e,n){const i="object"==typeof n&&n||{};i.name=i.name||"string"==typeof n&&n||"[DEFAULT]";const s=us.Z.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>us.Z.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){const a=!!module.hot;cle("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Lj(s)}const cle=(t,...e)=>{},lle={provide:Lj,useFactory:km,deps:[Fp,Vt,[new p,Lp]]};let ule=(()=>{var t;class e{static initializeApp(r,i){return{ngModule:e,providers:[{provide:Fp,useValue:r},{provide:Lp,useValue:i}]}}constructor(r){us.Z.registerVersion("angularfire",Ol.full,"core"),us.Z.registerVersion("angularfire",Ol.full,"app-compat"),us.Z.registerVersion("angular",YO.full,r.toString())}}return t=e,ze(e,"\u0275fac",function(r){return new(r||t)(se(bo))}),ze(e,"\u0275mod",Zn({type:t})),ze(e,"\u0275inj",lr({providers:[lle]})),e})();function rP(t,e,n,r,i){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return function dle(t,e){try{return t.toString()===e.toString()}catch{return t===e}}(i,s)||(Vj("error",`${e} was already initialized on the ${n} Firebase App with different settings.${hle?" You may need to reload as Firebase is not HMR aware.":""}`),Vj("warn",{is:i,was:s})),o;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}const hle=typeof module<"u"&&!!module.hot,Vj=(t,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[];const Uj="firebasestorage.googleapis.com",Bj="storageBucket";class zn extends E.ZR{constructor(e,n,r=0){super(BT(e),`Firebase Storage: ${n} (${BT(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,zn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return BT(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Vn=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Vn||{});function BT(t){return"storage/"+t}function jT(){return new zn(Vn.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function jj(){return new zn(Vn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function $j(){return new zn(Vn.CANCELED,"User canceled the upload/download.")}function Hj(){return new zn(Vn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Vp(t){return new zn(Vn.INVALID_ARGUMENT,t)}function zj(){return new zn(Vn.APP_DELETED,"The Firebase app was deleted.")}function Wj(t){return new zn(Vn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Nm(t,e){return new zn(Vn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Fm(t){throw new zn(Vn.INTERNAL_ERROR,"Internal error: "+t)}class Ti{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ti.makeFromUrl(e,n)}catch{return new Ti(e,"")}if(""===r.path)return r;throw function Ple(t){return new zn(Vn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function l(G){G.path_=decodeURIComponent(G.path)}const f=n.replace(/[.]/g,"\\."),q=[{regex:a,indices:{bucket:1,path:3},postModify:function o(G){"/"===G.path.charAt(G.path.length-1)&&(G.path_=G.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${f}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:l},{regex:new RegExp(`^https?://${n===Uj?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:l}];for(let G=0;G<q.length;G++){const ge=q[G],Te=ge.regex.exec(e);if(Te){let an=Te[ge.indices.path];an||(an=""),r=new Ti(Te[ge.indices.bucket],an),ge.postModify(r);break}}if(null==r)throw function wle(t){return new zn(Vn.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r}}class ble{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function iP(t){return"string"==typeof t||t instanceof String}function Gj(t){return $T()&&t instanceof Blob}function $T(){return typeof Blob<"u"&&!(0,E.UG)()}function HT(t,e,n,r){if(r<e)throw Vp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Vp(`Invalid value for '${t}'. Expected ${n} or less.`)}function oc(t,e,n){let r=e;return null==n&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function qj(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}var Up=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Up||{});function Kj(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),o=-1!==e.indexOf(t);return n||i||o}class Rle{constructor(e,n,r,i,o,s,a,c,l,h,f,y=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=h,this.connectionFactory_=f,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,O)=>{this.resolve_=v,this.reject_=O,this.start_()})}start_(){const n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());!function Dle(t){return void 0!==t}(c)?o():o(c)}catch(c){s(c)}else if(null!==a){const c=jT();c.serverResponse=a.getErrorText(),s(this.errorCallback_?this.errorCallback_(a,c):c)}else s(i.canceled?this.appDelete_?zj():$j():jj())};this.canceled_?n(0,new oP(!1,null,!0)):this.backoffId_=function Tle(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function c(){return 2===a}let l=!1;function h(...D){l||(l=!0,e.apply(null,D))}function f(D){i=setTimeout(()=>{i=null,t(v,c())},D)}function y(){o&&clearTimeout(o)}function v(D,...U){if(l)return void y();if(D)return y(),void h.call(null,D,...U);if(c()||s)return y(),void h.call(null,D,...U);let q;r<64&&(r*=2),1===a?(a=2,q=0):q=1e3*(r+Math.random()),f(q)}let O=!1;function b(D){O||(O=!0,y(),!l&&(null!==i?(D||(a=2),clearTimeout(i),f(0)):D||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,b(!0)},n),b}((r,i)=>{if(i)return void r(!1,new oP(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Up.NO_ERROR,c=o.getStatus();if(!a||Kj(c,this.additionalRetryCodes_)&&this.retry){const h=o.getErrorCode()===Up.ABORT;return void r(!1,new oP(!1,null,h))}const l=-1!==this.successCodes_.indexOf(c);r(!0,new oP(l,o))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Ale(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class oP{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Ble(...t){const e=function Ule(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}if($T())return new Blob(t);throw new zn(Vn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const No={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class zT{constructor(e,n){this.data=e,this.contentType=n||null}}function WT(t,e){switch(t){case No.RAW:return new zT(Zj(e));case No.BASE64:case No.BASE64URL:return new zT(Yj(t,e));case No.DATA_URL:return new zT(function zle(t){const e=new Qj(t);return e.base64?Yj(No.BASE64,e.rest):function Hle(t){let e;try{e=decodeURIComponent(t)}catch{throw Nm(No.DATA_URL,"Malformed data URL.")}return Zj(e)}(e.rest)}(e),function Wle(t){return new Qj(t).contentType}(e))}throw jT()}function Zj(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?n<t.length-1&&56320==(64512&t.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Yj(t,e){switch(t){case No.BASE64:{const i=-1!==e.indexOf("-"),o=-1!==e.indexOf("_");if(i||o)throw Nm(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case No.BASE64URL:{const i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw Nm(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function $le(t){if(typeof atob>"u")throw function Ile(t){return new zn(Vn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(t)}(e)}catch(i){throw i.message.includes("polyfill")?i:Nm(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Qj{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(null===n)throw Nm(No.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;null!=r&&(this.base64=function Gle(t,e){return t.length>=e.length&&t.substring(t.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class da{constructor(e,n){let r=0,i="";Gj(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Gj(this.data_)){const i=function jle(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===i?null:new da(i)}{const r=new Uint8Array(this.data_.buffer,e,n-e);return new da(r,!0)}}static getBlob(...e){if($T()){const n=e.map(r=>r instanceof da?r.data_:r);return new da(Ble.apply(null,n))}{const n=e.map(s=>iP(s)?WT(No.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new da(i,!0)}}uploadData(){return this.data_}}function GT(t){let e;try{e=JSON.parse(t)}catch{return null}return function xle(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function Xj(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Zle(t,e){return e}class Xi{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Zle}}let sP=null;function Lm(){if(sP)return sP;const t=[];t.push(new Xi("bucket")),t.push(new Xi("generation")),t.push(new Xi("metageneration")),t.push(new Xi("name","fullPath",!0));const n=new Xi("name");n.xform=function e(o,s){return function Yle(t){return!iP(t)||t.length<2?t:Xj(t)}(s)},t.push(n);const i=new Xi("size");return i.xform=function r(o,s){return void 0!==s?Number(s):s},t.push(i),t.push(new Xi("timeCreated")),t.push(new Xi("updated")),t.push(new Xi("md5Hash",null,!0)),t.push(new Xi("cacheControl",null,!0)),t.push(new Xi("contentDisposition",null,!0)),t.push(new Xi("contentEncoding",null,!0)),t.push(new Xi("contentLanguage",null,!0)),t.push(new Xi("contentType",null,!0)),t.push(new Xi("metadata","customMetadata",!0)),sP=t,sP}function Jj(t,e,n){const r=GT(e);return null===r?null:function Xle(t,e,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return function Qle(t,e){Object.defineProperty(t,"ref",{get:function n(){const o=new Ti(t.bucket,t.fullPath);return e._makeStorageReference(o)}})}(r,t),r}(t,r,n)}function qT(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}const e9="prefixes",t9="items";class ha{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function pa(t){if(!t)throw jT()}function aP(t,e){return function n(r,i){const o=Jj(t,i,e);return pa(null!==o),o}}function Bp(t){return function e(n,r){let i;return i=401===n.getStatus()?n.getErrorText().includes("Firebase App Check token is invalid")?function vle(){return new zn(Vn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function yle(){return new zn(Vn.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===n.getStatus()?function mle(t){return new zn(Vn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(t.bucket):403===n.getStatus()?function Cle(t){return new zn(Vn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}(t.path):r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}}function Vm(t){const e=Bp(t);return function n(r,i){let o=e(r,i);return 404===r.getStatus()&&(o=function _le(t){return new zn(Vn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}(t.path)),o.serverResponse=i.serverResponse,o}}function n9(t,e,n){const i=oc(e.fullServerUrl(),t.host,t._protocol),s=t.maxOperationRetryTime,a=new ha(i,"GET",aP(t,n),s);return a.errorHandler=Vm(e),a}function iue(t,e,n,r,i){const o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const a=oc(e.bucketOnlyServerUrl(),t.host,t._protocol),l=t.maxOperationRetryTime,h=new ha(a,"GET",function nue(t,e){return function n(r,i){const o=function tue(t,e,n){const r=GT(n);return null===r?null:function eue(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[e9])for(const i of n[e9]){const o=i.replace(/\/$/,""),s=t._makeStorageReference(new Ti(e,o));r.prefixes.push(s)}if(n[t9])for(const i of n[t9]){const o=t._makeStorageReference(new Ti(e,i.name));r.items.push(o)}return r}(t,e,r)}(t,e,i);return pa(null!==o),o}}(t,e.bucket),l);return h.urlParams=o,h.errorHandler=Bp(e),h}function i9(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function cue(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class cP{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function KT(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{pa(!1)}return pa(!!n&&-1!==(e||["active"]).indexOf(n)),n}const hue={STATE_CHANGED:"state_changed"},Ji={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ZT(t){switch(t){case"running":case"pausing":case"canceling":return Ji.RUNNING;case"paused":return Ji.PAUSED;case"success":return Ji.SUCCESS;case"canceled":return Ji.CANCELED;default:return Ji.ERROR}}class pue{constructor(e,n,r){if(function Sle(t){return"function"==typeof t}(e)||null!=n||null!=r)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function jp(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}let a9=null;class fue{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Up.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Up.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Up.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Fm("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),void 0!==i)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Fm("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Fm("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Fm("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Fm("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class gue extends fue{initXhr(){this.xhr_.responseType="text"}}function Ls(){return a9?a9():new gue}class c9{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Lm(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Vn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(Kj(i.status,[])){if(!o)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=jj()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Vn.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,n)=>{const r=function lue(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s=i9(e,r,i),a={name:s.fullPath},c=oc(o,t.host,t._protocol),h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},f=qT(s,n),O=new ha(c,"POST",function v(b){let D;KT(b);try{D=b.getResponseHeader("X-Goog-Upload-URL")}catch{pa(!1)}return pa(iP(D)),D},t.maxUploadRetryTime);return O.urlParams=a,O.headers=h,O.body=f,O.errorHandler=Bp(e),O}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ls,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=function uue(t,e,n,r){const c=new ha(n,"POST",function o(l){const h=KT(l,["active","final"]);let f=null;try{f=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{pa(!1)}f||pa(!1);const y=Number(f);return pa(!isNaN(y)),new cP(y,r.size(),"final"===h)},t.maxUploadRetryTime);return c.headers={"X-Goog-Upload-Command":"query"},c.errorHandler=Bp(e),c}(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(i,Ls,n,r);this._request=o,o.getPromise().then(s=>{this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,n=new cP(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,o)=>{let s;try{s=function due(t,e,n,r,i,o,s,a){const c=new cP(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw function Ole(){return new zn(Vn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const l=c.total-c.current;let h=l;i>0&&(h=Math.min(h,i));const f=c.current;let v="";v=0===h?"finalize":l===h?"upload, finalize":"upload";const O={"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":`${c.current}`},b=r.slice(f,f+h);if(null===b)throw Hj();const q=new ha(n,"POST",function D(G,ge){const Te=KT(G,["active","final"]),ft=c.current+h,an=r.size();let Co;return Co="final"===Te?aP(e,o)(G,ge):null,new cP(ft,an,"final"===Te,Co)},e.maxUploadRetryTime);return q.headers=O,q.body=b.uploadData(),q.progressCallback=a||null,q.errorHandler=Bp(t),q}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(c){return this._error=c,void this._transition("error")}const a=this._ref.storage._makeRequest(s,Ls,i,o,!1);this._request=a,a.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=n9(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Ls,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=function o9(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},c=function a(){let q="";for(let G=0;G<2;G++)q+=Math.random().toString().slice(2);return q}();s["Content-Type"]="multipart/related; boundary="+c;const l=i9(e,r,i),h=qT(l,n),v=da.getBlob("--"+c+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+h+"\r\n--"+c+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",r,"\r\n--"+c+"--");if(null===v)throw Hj();const O={name:l.fullPath},b=oc(o,t.host,t._protocol),U=t.maxUploadRetryTime,L=new ha(b,"POST",aP(t,n),U);return L.urlParams=O,L.headers=s,L.body=v.uploadData(),L.errorHandler=Bp(e),L}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ls,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n="paused"===this._state;this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=$j(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=ZT(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const o=new pue(n||void 0,r||void 0,i||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);-1!==n&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(ZT(this._state)){case Ji.SUCCESS:jp(this._resolve.bind(null,this.snapshot))();break;case Ji.CANCELED:case Ji.ERROR:jp(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(ZT(this._state)){case Ji.RUNNING:case Ji.PAUSED:e.next&&jp(e.next.bind(e,this.snapshot))();break;case Ji.SUCCESS:e.complete&&jp(e.complete.bind(e))();break;default:e.error&&jp(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class od{constructor(e,n){this._service=e,this._location=n instanceof Ti?n:Ti.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new od(e,n)}get root(){const e=new Ti(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Xj(this._location.path)}get storage(){return this._service}get parent(){const e=function qle(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new Ti(this._location.bucket,e);return new od(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw Wj(e)}}function u9(t,e,n){return YT.apply(this,arguments)}function YT(){return(YT=(0,S.Z)(function*(t,e,n){const i=yield d9(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield u9(t,e,i.nextPageToken))})).apply(this,arguments)}function d9(t,e){null!=e&&"number"==typeof e.maxResults&&HT("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=iue(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,Ls)}function bue(t){t._throwIfRoot("getDownloadURL");const e=function oue(t,e,n){const i=oc(e.fullServerUrl(),t.host,t._protocol),s=t.maxOperationRetryTime,a=new ha(i,"GET",function rue(t,e){return function n(r,i){const o=Jj(t,i,e);return pa(null!==o),function Jle(t,e,n,r){const i=GT(e);if(null===i||!iP(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map(l=>{const f=t.fullPath;return oc("/b/"+s(t.bucket)+"/o/"+s(f),n,r)+qj({alt:"media",token:l})})[0]}(o,i,t.host,t._protocol)}}(t,n),s);return a.errorHandler=Vm(e),a}(t.storage,t._location,Lm());return t.storage.makeRequestWithTokens(e,Ls).then(n=>{if(null===n)throw function Ele(){return new zn(Vn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return n})}function h9(t,e){const n=function Kle(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new Ti(t._location.bucket,n);return new od(t.storage,r)}function p9(t,e){if(t instanceof QT){const n=t;if(null==n._bucket)throw function Mle(){return new zn(Vn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Bj+"' property when initializing the app?")}();const r=new od(n,n._bucket);return null!=e?p9(r,e):r}return void 0!==e?h9(t,e):t}function Sue(t,e){if(e&&function Aue(t){return/^[A-Za-z]+:\/\//.test(t)}(e)){if(t instanceof QT)return function Due(t,e){return new od(t,e)}(t,e);throw Vp("To use ref(service, url), the first argument must be a Storage instance.")}return p9(t,e)}function f9(t,e){const n=e?.[Bj];return null==n?null:Ti.makeFromBucketSpec(n,t)}class QT{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=Uj,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Ti.makeFromBucketSpec(i,this._host):f9(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Ti.makeFromBucketSpec(this._url,e):f9(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){HT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){HT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,S.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,S.Z)(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new od(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new ble(zj());{const s=function Vle(t,e,n,r,i,o,s=!0){const a=qj(t.urlParams),c=t.url+a,l=Object.assign({},t.headers);return function Fle(t,e){e&&(t["X-Firebase-GMPID"]=e)}(l,e),function kle(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(l,n),function Nle(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(l,o),function Lle(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(l,r),new Rle(c,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){var r=this;return(0,S.Z)(function*(){const[i,o]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,o).getPromise()})()}}const g9="@firebase/storage";function y9(t,e){return Sue(t=(0,E.m9)(t),e)}function jue(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new QT(n,r,i,e,$e.SDK_VERSION)}!function $ue(){(0,$e._registerComponent)(new Ro.wA("storage",jue,"PUBLIC").setMultipleInstances(!0)),(0,$e.registerVersion)(g9,"0.11.2",""),(0,$e.registerVersion)(g9,"0.11.2","esm2017")}();class lP{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class C9{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new lP(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new lP(r,this,this._ref))},n)}on(e,n,r,i){let o;return n&&(o="function"==typeof n?s=>n(new lP(s,this,this._ref)):{next:n.next?s=>n.next(new lP(s,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,o,r||void 0,i||void 0)}}class w9{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new sc(e,this._service))}get items(){return this._delegate.items.map(e=>new sc(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class sc{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=function Bue(t,e){return h9(t,e)}(this._delegate,e);return new sc(n,this.storage)}get root(){return new sc(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new sc(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new C9(function Rue(t,e,n){return function Pue(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new c9(t,new da(e),n)}(t=(0,E.m9)(t),e,n)}(this._delegate,e,n),this)}putString(e,n=No.RAW,r){this._throwIfRoot("putString");const i=WT(n,e),o=Object.assign({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new C9(new c9(this._delegate,new da(i.data,!0),o),this)}listAll(){return function Lue(t){return function Oue(t){const e={prefixes:[],items:[]};return u9(t,e).then(()=>e)}(t=(0,E.m9)(t))}(this._delegate).then(e=>new w9(e,this.storage))}list(e){return function Fue(t,e){return d9(t=(0,E.m9)(t),e)}(this._delegate,e||void 0).then(n=>new w9(n,this.storage))}getMetadata(){return function kue(t){return function Eue(t){t._throwIfRoot("getMetadata");const e=n9(t.storage,t._location,Lm());return t.storage.makeRequestWithTokens(e,Ls)}(t=(0,E.m9)(t))}(this._delegate)}updateMetadata(e){return function Nue(t,e){return function Iue(t,e){t._throwIfRoot("updateMetadata");const n=function sue(t,e,n,r){const o=oc(e.fullServerUrl(),t.host,t._protocol),a=qT(n,r),l=t.maxOperationRetryTime,h=new ha(o,"PATCH",aP(t,r),l);return h.headers={"Content-Type":"application/json; charset=utf-8"},h.body=a,h.errorHandler=Vm(e),h}(t.storage,t._location,e,Lm());return t.storage.makeRequestWithTokens(n,Ls)}(t=(0,E.m9)(t),e)}(this._delegate,e)}getDownloadURL(){return function Vue(t){return bue(t=(0,E.m9)(t))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Uue(t){return function Tue(t){t._throwIfRoot("deleteObject");const e=function aue(t,e){const r=oc(e.fullServerUrl(),t.host,t._protocol),a=new ha(r,"DELETE",function s(c,l){},t.maxOperationRetryTime);return a.successCodes=[200,204],a.errorHandler=Vm(e),a}(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Ls)}(t=(0,E.m9)(t))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw Wj(e)}}class P9{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(M9(e))throw Vp("ref() expected a child path but got a URL, use refFromURL instead.");return new sc(y9(this._delegate,e),this)}refFromURL(e){if(!M9(e))throw Vp("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ti.makeFromUrl(e,this._delegate.host)}catch{throw Vp("refFromUrl() expected a valid full URL but got an invalid one.")}return new sc(y9(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){!function v9(t,e,n,r={}){!function xue(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:(0,E.Sg)(i,t.app.options.projectId))}(t,e,n,r)}(this._delegate,e,n,r)}}function M9(t){return/^[A-Za-z]+:\/\//.test(t)}function Gue(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new P9(n,r)}function O9(t){const e=function Kue(t){return new ht(e=>{const n=s=>e.next(s);n(t.snapshot);const o=t.on("state_changed",n);return t.then(s=>{n(s),e.complete()},s=>{n(t.snapshot),(s=>{e.error(s)})(s)}),function(){o()}}).pipe(function nle(t,e=nP){return X((n,r)=>{let i=null,o=null,s=null;const a=()=>{if(i){i.unsubscribe(),i=null;const l=o;o=null,r.next(l)}};function c(){const l=s+t,h=e.now();if(h<l)return i=this.schedule(void 0,l-h),void r.add(i);a()}n.subscribe(Pe(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(ye(n=>n.bytesTransferred/n.totalBytes*100))}}function uP(t){return{getDownloadURL:()=>Q(void 0).pipe(Fj,it(()=>t.getDownloadURL()),fr),getMetadata:()=>Q(void 0).pipe(Fj,it(()=>t.getMetadata()),fr),delete:()=>k(t.delete()),child:e=>uP(t.child(e)),updateMetadata:e=>k(t.updateMetadata(e)),put:(e,n)=>O9(t.put(e,n)),putString:(e,n,r)=>O9(t.putString(e,n,r)),list:e=>k(t.list(e)),listAll:()=>k(t.listAll())}}!function que(t){const e={TaskState:Ji,TaskEvent:hue,StringFormat:No,Storage:P9,Reference:sc};t.INTERNAL.registerComponent(new Ro.wA("storage-compat",Gue,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage-compat","0.3.2")}(us.Z);const Zue=new _e("angularfire2.storageBucket"),Yue=new _e("angularfire2.storage.maxUploadRetryTime"),Que=new _e("angularfire2.storage.maxOperationRetryTime"),Xue=new _e("angularfire2.storage.use-emulator");let dP=(()=>{var t;class e{constructor(r,i,o,s,a,c,l,h,f,y){ze(this,"storage",void 0);const v=km(r,a,i);this.storage=rP(`${v.name}.storage.${o}`,"AngularFireStorage",v.name,()=>{const O=a.runOutsideAngular(()=>v.storage(o||void 0)),b=f;return b&&O.useEmulator(...b),l&&O.setMaxUploadRetryTime(l),h&&O.setMaxOperationRetryTime(h),O},[l,h])}ref(r){return uP(this.storage.ref(r))}refFromURL(r){return uP(this.storage.refFromURL(r))}upload(r,i,o){return uP(this.storage.ref(r)).put(i,o)}}return t=e,ze(e,"\u0275fac",function(r){return new(r||t)(se(Fp),se(Lp,8),se(Zue,8),se(bo),se(Vt),se(kp),se(Yue,8),se(Que,8),se(Xue,8),se(Rm,8))}),ze(e,"\u0275prov",xe({token:t,factory:t.\u0275fac,providedIn:"any"})),e})(),Jue=(()=>{var t;class e{}return t=e,ze(e,"\u0275fac",function(r){return new(r||t)}),ze(e,"\u0275mod",Zn({type:t})),ze(e,"\u0275inj",lr({})),e})(),ede=(()=>{var t;class e{constructor(){us.Z.registerVersion("angularfire",Ol.full,"gcs-compat")}}return t=e,ze(e,"\u0275fac",function(r){return new(r||t)}),ze(e,"\u0275mod",Zn({type:t})),ze(e,"\u0275inj",lr({providers:[dP],imports:[Jue]})),e})();function tde(t,e){1&t&&(_(0,"span",58),w(1,"Vui l\xf2ng nh\u1eadp email h\u1ee3p l\u1ec7."),m())}function nde(t,e){1&t&&(_(0,"span",58),w(1,"Vui l\xf2ng nh\u1eadp h\u1ecd t\xean."),m())}function rde(t,e){1&t&&(_(0,"span",58),w(1,"M\u1eadt kh\u1ea9u ph\u1ea3i c\xf3 \xedt nh\u1ea5t 6 k\xfd t\u1ef1."),m())}function ide(t,e){1&t&&(_(0,"span",58),w(1,"M\u1eadt kh\u1ea9u ph\u1ea3i c\xf3 \xedt nh\u1ea5t 6 k\xfd t\u1ef1 v\xe0 tr\xf9ng m\u1edbi m\u1eadt kh\u1ea9u \u1edf tr\xean."),m())}function ode(t,e){1&t&&(_(0,"span",58),w(1,"Vui lo\u0300ng nh\xe2\u0323p s\xf4\u0301 n\u0103m kinh nghi\xea\u0323m"),m())}function sde(t,e){1&t&&(_(0,"span",58),w(1,"Vui lo\u0300ng nh\xe2\u0323p gia\u0301 chu\u0323p a\u0309nh"),m())}function ade(t,e){1&t&&(_(0,"span",58),w(1,"Vui lo\u0300ng nh\xe2\u0323p \u0111i\u0323a chi\u0309"),m())}function cde(t,e){1&t&&(_(0,"span",58),w(1,"Vui lo\u0300ng cho\u0323n a\u0309nh \u0111a\u0323i di\xea\u0323n"),m())}function lde(t,e){if(1&t&&(_(0,"div"),I(1,"img",61),m()),2&t){const n=e.$implicit;P(1),A("src",n,pt)}}function ude(t,e){if(1&t&&(_(0,"div",59),F(1,lde,2,1,"div",60),m()),2&t){const n=ee();P(1),A("ngForOf",n.avatarPreview)}}function dde(t,e){1&t&&(_(0,"span",58),w(1,"Vui lo\u0300ng cho\u0323n 3 a\u0309nh bi\u0300a"),m())}function hde(t,e){if(1&t){const n=Ot();_(0,"div"),I(1,"img",61),_(2,"a",63),j("click",function(){const o=Be(n).index;return Ve(ee(2).deletePicture(o))}),I(3,"i",64),m()()}if(2&t){const n=e.$implicit;P(1),A("src",n,pt)}}function pde(t,e){if(1&t&&(_(0,"div",62),F(1,hde,4,1,"div",60),m()),2&t){const n=ee();P(1),A("ngForOf",n.picturePreview)}}let fde=(()=>{var t;class e{constructor(r,i,o,s){this.userService=r,this.userInfoService=i,this.router=o,this.fileStorage=s,this.isShowPassword=!1,this.isShowConfirmPassword=!1,this.invalidEmail=!1,this.invalidPassword=!1,this.invalidConfirmPassword=!1,this.invalidFullName=!1,this.invalidExp=!1,this.invalidAvatar=!1,this.invalidPicture=!1,this.invalidCost=!1,this.invalidAddress=!1,this.email="",this.password="",this.confirmPassword="",this.fullName="",this.exp="",this.cost="",this.address="",this.registerMessage="",this.filesAddAvatar=[],this.avatarPreview=[],this.filesAddPicture=[],this.picturePreview=[]}onChangeEmail(r){this.email=r.target.value,this.validateEmail()}onChangePassword(r){this.password=r.target.value,this.validatePassword(),this.confirmPassword.length>0&&this.validateConfirmPassword()}onChangeConfirmPassword(r){this.confirmPassword=r.target.value,this.validateConfirmPassword()}onChangeFullName(r){this.fullName=r.target.value,this.validateFullName()}onChangeExp(r){this.exp=r.target.value,this.validateExp()}onChangeCost(r){this.cost=r.target.value,this.validateExp()}onChangeAddress(r){this.address=r.target.value,this.validateExp()}togglePassword(){this.isShowPassword=!this.isShowPassword}toggleConfirmPassword(){this.isShowConfirmPassword=!this.isShowConfirmPassword}validateEmail(){const i=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(this.email);return this.invalidEmail=!i,i}validateFullName(){return this.invalidFullName=this.fullName.length<1,!this.invalidFullName}validatePassword(){return this.invalidPassword=this.password.length<6,!this.invalidPassword}validateConfirmPassword(){return this.invalidConfirmPassword=this.confirmPassword.length<6||this.confirmPassword!==this.password,!this.invalidConfirmPassword}validateCost(){return this.invalidCost=this.cost.length<1,!this.invalidCost}validateAddress(){return this.invalidAddress=this.address.length<1,!this.invalidAddress}validateExp(){const i=/^\d+$/.test(this.exp);return this.invalidExp=!i,i}previewAvatar(r){const o=r.target.files;if(o&&o.length>0){this.filesAddAvatar=Array.from(o).slice(0,1),this.avatarPreview=[];for(let s=0;s<this.filesAddAvatar.length;s++){const a=this.filesAddAvatar[s],c=new FileReader;c.onload=l=>{this.avatarPreview.push(l.target?.result)},c.readAsDataURL(a)}}else this.avatarPreview=[];this.validateAvatar()}previewPicture(r){const o=r.target.files;if(o&&o.length>0){const s=3-this.filesAddPicture.length;if(s>0){const a=Array.from(o).slice(0,s);this.filesAddPicture.push(...a)}this.picturePreview=[];for(let a=0;a<this.filesAddPicture.length;a++){const c=this.filesAddPicture[a],l=new FileReader;l.onload=h=>{this.picturePreview.push(h.target?.result)},l.readAsDataURL(c)}}else this.picturePreview=[];this.validatePicture()}deletePicture(r){r>=0&&r<this.picturePreview.length&&(this.picturePreview.splice(r,1),this.filesAddPicture.splice(r,1))}onSubmit(){var r=this;return(0,S.Z)(function*(){if(r.validateEmail()&&r.validatePassword()&&r.validateConfirmPassword()&&r.validateFullName()&&r.validateExp()&&r.validateAvatar()&&r.validatePicture()&&r.validateCost()&&r.validateAddress())if(yield r.userService.isUsernameUnique(r.email)){var o=yield r.uploadAvatar();const h={id:0,username:r.email,password:r.password,full_name:r.fullName,role_id:2,email:"",phone_number:"",address:r.address,avatar:o[0],exp:parseFloat(r.exp)};var s=yield r.userService.createUser(h);if(null!=s){var a=yield r.uploadPicture(),c=parseFloat(r.cost);const f={id:0,user_id:s.id,img1:a[0]||"",img2:a[1]||"",img3:a[2]||"",cost:c,description:"T\xf4i \u0111\xe3 ch\u1ee5p \u1ea3nh c\u1ea3 \u0111\u1eddi nh\u01b0ng quy\u1ebft \u0111\u1ecbnh ch\u1ee5p \u1ea3nh chuy\xean nghi\u1ec7p v\xe0o n\u0103m 2010 v\xe0 t\xf4i c\xe0ng y\xeau th\xedch n\xf3 h\u01a1n m\u1ed7i ng\xe0y. T\xf4i r\u1ea5t l\xe0 ng\u01b0\u1eddi c\u1ee7a m\u1ecdi ng\u01b0\u1eddi nh\u01b0ng tr\u1edb tr\xeau thay chuy\xean m\xf4n c\u1ee7a t\xf4i l\u1ea1i l\xe0 ch\u1ee5p \u1ea3nh s\u1ea3n ph\u1ea9m, \u0111\u1ed3 \u0103n v\xe0 \u0111\u1ed3 u\u1ed1ng. Ch\u1ec9 v\xec t\xf4i chuy\xean ch\u1ee5p \u0111\u1ed3 kh\xf4ng c\xf3 ngh\u0129a l\xe0 t\xf4i thi\u1ebfu ch\u1ee5p \u1ea3nh ch\xe2n dung, th\u1ee9 duy nh\u1ea5t t\xf4i kh\xf4ng ch\u1ee5p l\xe0 \u0111\xe1m c\u01b0\u1edbi ;)",prize:"Nhi\u1ebfp \u1ea3nh gia t\xe0i n\u0103ng khu v\u1ef1c mi\u1ec1n B\u1eafc n\u0103m 2023",interest:"T\xf4i b\u1ecb \xe1m \u1ea3nh b\u1edfi m\xe1y \u1ea3nh t\u1eeb khi l\xean 3 v\xe0 m\u1eb9 t\xf4i \u0111\xe3 cho t\xf4i ch\u01a1i v\u1edbi m\xe1y \u1ea3nh Polaroid :)",language:"Ti\xea\u0301ng Vi\xea\u0323t",camera:"Sony A7iii, LUMIX G9, Panasonic GH5",portfolio:[],typeOfPhoto:[{id:1,name:"Ch\u1ee5p ch\xe2n dung",cost:"500000"},{id:2,name:"Ch\u1ee5p s\u1ea3n ph\u1ea9m",cost:"400000"},{id:3,name:"Ch\u1ee5p c\u1ea3nh",cost:"300000"},{id:4,name:"Ch\u1ee5p s\u1ef1 ki\u1ec7n",cost:"800000"},{id:5,name:"Ch\u1ee5p beauty",cost:"550000"}]};(yield r.userInfoService.createUserInfo(f))?(r.registerMessage="Th\xeam ng\u01b0\u1eddi d\xf9ng th\xe0nh c\xf4ng.",window.alert(r.registerMessage),r.router.navigate(["/auth/login"])):(r.registerMessage="Th\xeam th\xf4ng tin kh\xf4ng th\xe0nh c\xf4ng.",window.alert(r.registerMessage))}else r.registerMessage="Th\xeam ng\u01b0\u1eddi d\xf9ng kh\xf4ng th\xe0nh c\xf4ng.",window.alert(r.registerMessage)}else r.registerMessage="Ng\u01b0\u1eddi d\xf9ng \u0111\xe3 t\u1ed3n t\u1ea1i.",window.alert(r.registerMessage);else r.validateEmail(),r.validateFullName(),r.validatePassword(),r.validateConfirmPassword(),r.validateExp(),r.validateAvatar(),r.validatePicture(),r.validateCost(),r.validateAddress()})()}uploadAvatar(){var r=this;return(0,S.Z)(function*(){var i=[],o=[];for(let s=0;s<r.filesAddAvatar.length;s++){const a=r.filesAddAvatar[s],c=a.name.split(".").pop(),l=xp()+"."+c;o.push(new File([a],l,{type:a.type}))}for(let s=0;s<o.length;s++){const a=o[s],c=`avatar/${a.name}`,h=yield(yield r.fileStorage.upload(c,a)).ref.getDownloadURL();i.push(h)}return i})()}uploadPicture(){var r=this;return(0,S.Z)(function*(){var i=[],o=[];for(let s=0;s<r.filesAddPicture.length;s++){const a=r.filesAddPicture[s],c=a.name.split(".").pop(),l=xp()+"."+c;o.push(new File([a],l,{type:a.type}))}for(let s=0;s<o.length;s++){const a=o[s],c=`bias/${a.name}`,h=yield(yield r.fileStorage.upload(c,a)).ref.getDownloadURL();i.push(h)}return i})()}validateAvatar(){return this.invalidAvatar=this.filesAddAvatar.length<1,!this.invalidAvatar}validatePicture(){return this.invalidPicture=3!==this.filesAddPicture.length,!this.invalidPicture}}return(t=e).\u0275fac=function(r){return new(r||t)(W(ed),W(mT),W(nr),W(dP))},t.\u0275cmp=At({type:t,selectors:[["app-register"]],decls:100,vars:22,consts:[[1,"register-wrapper"],[1,"register-container"],[1,"register-header"],[1,"go-home"],["routerLink","/home",1,"go-home-link"],[1,"bx","bxs-chevron-left"],[1,"register-title"],[1,"brand"],["routerLink","/home",1,"brand-link"],["src","./assets/images/logo2.png","alt","logo",1,"brand-image"],[1,"register-message"],[1,"register-content"],[3,"ngSubmit"],[1,"form-content"],[1,"form-left"],[1,"form-group"],["for","username"],["type","text","id","username","name","username","required","","placeholder","quang@gmail.com",3,"input"],["class","validate-message",4,"ngIf"],["for","fullName"],["type","text","id","fullName","name","fullName","required","","placeholder","Nguyen Quang Nam",3,"input"],["for","password"],[1,"password-wrapper"],["id","password","name","password","required","",3,"type","input"],["id","showPassword","href","javascript:void(0)",3,"click"],[1,"bx","bx-show"],["id","hidePassword","href","javascript:void(0)",3,"click"],[1,"bx","bx-hide"],["for","confirmPassword"],["name","password","required","",3,"type","input"],["id","showConfirmPassword","href","javascript:void(0)",3,"click"],["id","hideConfirmPassword","href","javascript:void(0)",3,"click"],[1,"form-right"],["for","exprire"],["min","0","type","number","required","",3,"input"],["for","cost"],["for","address"],["type","text","required","",3,"input"],[1,"form-groupk"],["for","avatar",1,"label-input-file"],["type","file","accept","image/*","id","avatar","required","","multiple","",2,"display","none",3,"change"],["class","avatar-preview",4,"ngIf"],["for","picture"],["for","picture-3",1,"label-input-file"],["multiple","","type","file","id","picture-3","accept","image/*","required","","placeholder","Cho\u0323n 3 a\u0309nh bi\u0300a",2,"display","none",3,"change"],["class","picture-review",4,"ngIf"],["type","submit"],[1,"wall-login"],[1,"line-left"],[1,"line-right"],[1,"register-footer"],[1,"register-option"],["href","javascript:void(0)",1,"register-option-icon"],[1,"bx","bxl-google"],[1,"bx","bxl-facebook"],[1,"bx","bxl-instagram-alt"],[1,"login"],["routerLink","/auth/login"],[1,"validate-message"],[1,"avatar-preview"],[4,"ngFor","ngForOf"],["alt","Preview Image",3,"src"],[1,"picture-review"],["href","javascript:void(0)",1,"btn-del-image",3,"click"],[1,"bx","bx-x"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),I(5,"i",5),w(6," Trang ch\u1ee7 "),m()(),_(7,"h3",6),w(8," \u0110\u0103ng k\xfd "),m(),_(9,"div",7)(10,"a",8),I(11,"img",9),m()()(),_(12,"div",10),w(13),m(),_(14,"div",11)(15,"form",12),j("ngSubmit",function(){return i.onSubmit()}),_(16,"div",13)(17,"div",14)(18,"div",15)(19,"label",16),w(20,"Email"),m(),_(21,"input",17),j("input",function(s){return i.onChangeEmail(s)}),m(),F(22,tde,2,0,"span",18),m(),_(23,"div",15)(24,"label",19),w(25,"H\u1ecd t\xean"),m(),_(26,"input",20),j("input",function(s){return i.onChangeFullName(s)}),m(),F(27,nde,2,0,"span",18),m(),_(28,"div",15)(29,"label",21),w(30,"M\u1eadt kh\u1ea9u"),m(),_(31,"div",22)(32,"input",23),j("input",function(s){return i.onChangePassword(s)}),m(),_(33,"a",24),j("click",function(){return i.togglePassword()}),I(34,"i",25),m(),_(35,"a",26),j("click",function(){return i.togglePassword()}),I(36,"i",27),m()(),F(37,rde,2,0,"span",18),m(),_(38,"div",15)(39,"label",28),w(40,"X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u"),m(),_(41,"div",22)(42,"input",29),j("input",function(s){return i.onChangeConfirmPassword(s)}),m(),_(43,"a",30),j("click",function(){return i.toggleConfirmPassword()}),I(44,"i",25),m(),_(45,"a",31),j("click",function(){return i.toggleConfirmPassword()}),I(46,"i",27),m()(),F(47,ide,2,0,"span",18),m()(),_(48,"div",32)(49,"div",15)(50,"label",33),w(51,"S\xf4\u0301 n\u0103m kinh nghi\xea\u0323m"),m(),_(52,"input",34),j("input",function(s){return i.onChangeExp(s)}),m(),F(53,ode,2,0,"span",18),m(),_(54,"div",15)(55,"label",35),w(56,"Gia\u0301 chu\u0323p c\u01a1 ba\u0309n(x/1 ti\xea\u0301ng)"),m(),_(57,"input",34),j("input",function(s){return i.onChangeCost(s)}),m(),F(58,sde,2,0,"span",18),m(),_(59,"div",15)(60,"label",36),w(61,"\u0110i\u0323a chi\u0309 cu\u0309a ba\u0323n"),m(),_(62,"input",37),j("input",function(s){return i.onChangeAddress(s)}),m(),F(63,ade,2,0,"span",18),m()()(),_(64,"div",38)(65,"label"),w(66,"A\u0309nh \u0111a\u0323i di\xea\u0323n"),m(),_(67,"label",39),w(68,"Cho\u0323n"),m(),_(69,"input",40),j("change",function(s){return i.previewAvatar(s)}),m(),F(70,cde,2,0,"span",18),F(71,ude,2,1,"div",41),m(),_(72,"div",38)(73,"label",42),w(74,"A\u0309nh bi\u0300a cu\u0309a ba\u0323n(3/3 a\u0309nh)"),m(),_(75,"label",43),w(76,"Cho\u0323n"),m(),_(77,"input",44),j("change",function(s){return i.previewPicture(s)}),m(),F(78,dde,2,0,"span",18),F(79,pde,2,1,"div",45),m(),_(80,"button",46),w(81,"\u0110\u0103ng k\xfd"),m()()(),_(82,"div",47),I(83,"div",48),_(84,"span"),w(85,"Ho\u1eb7c \u0111\u0103ng nh\u1eadp b\u1eb1ng"),m(),I(86,"div",49),m(),_(87,"div",50)(88,"div",51)(89,"a",52),I(90,"i",53),m(),_(91,"a",52),I(92,"i",54),m(),_(93,"a",52),I(94,"i",55),m()(),_(95,"div",56)(96,"div"),w(97," B\u1ea1n \u0111\xe3 c\xf3 t\xe0i kho\u1ea3n? "),_(98,"a",57),w(99," \u0110\u0103ng nh\u1eadp"),m()()()()()()),2&r&&(P(13),Ee(i.registerMessage),P(9),A("ngIf",i.invalidEmail),P(5),A("ngIf",i.invalidFullName),P(5),A("type",i.isShowPassword?"text":"password"),P(1),Ao("show",i.isShowPassword),P(2),Ao("show",!i.isShowPassword),P(2),A("ngIf",i.invalidPassword),P(5),A("type",i.isShowConfirmPassword?"text":"password"),P(1),Ao("show",i.isShowConfirmPassword),P(2),Ao("show",!i.isShowConfirmPassword),P(2),A("ngIf",i.invalidConfirmPassword),P(6),A("ngIf",i.invalidExp),P(5),A("ngIf",i.invalidCost),P(5),A("ngIf",i.invalidAddress),P(7),A("ngIf",i.invalidAvatar),P(1),A("ngIf",i.avatarPreview.length>0),P(7),A("ngIf",i.invalidPicture),P(1),A("ngIf",i.picturePreview.length>0))},dependencies:[Wr,Vr,pr,Dm,Em,nd],styles:['.register-wrapper[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;min-height:100vh;background-image:url(/assets/images/banner.jpg);background-size:cover;background-repeat:no-repeat;background-position:center;padding:2rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]{padding:2rem;border-radius:.5rem;width:700px;margin:auto;min-height:calc(100vh - 4rem);height:100%;background-color:#ffffffa8;box-shadow:0 0 10px #0000004d}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem;position:relative}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{position:absolute;top:0rem;left:0rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]   .go-home-link[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;text-decoration:none;color:var(--color-primary);font-weight:700;position:relative}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]   .register-title[_ngcontent-%COMP%]{text-align:center;color:var(--color-primary);font-size:32px;font-weight:700}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{display:flex;justify-content:center}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]   .brand-image[_ngcontent-%COMP%]{width:5rem;height:5rem;object-fit:cover}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-message[_ngcontent-%COMP%]{color:red;margin-bottom:1.5rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:1rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-left[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-right[_ngcontent-%COMP%]{grid-column:span 1}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:15px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:gray;font-weight:600;font-size:18px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 10px;border:2px solid gray;border-radius:5px;background-color:transparent;outline:none}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--color-primary)}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]{position:relative}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #hidePassword[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #showPassword[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #hideConfirmPassword[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #showConfirmPassword[_ngcontent-%COMP%]{position:absolute;right:10px;top:calc(50% + 3px);transform:translateY(-50%);text-decoration:none;font-size:20px;color:var(--color-primary);display:none}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #hidePassword.show[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #showPassword.show[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #hideConfirmPassword.show[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #showConfirmPassword.show[_ngcontent-%COMP%]{display:block}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{width:100%;font-size:14px;color:#ff1818}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{position:absolute;top:100%;color:var(--color-primary);width:100%;right:0;text-align:right}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]{position:relative;margin-bottom:15px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{width:100%;font-size:14px;color:#ff1818}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:gray;font-weight:600;font-size:18px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]   .label-input-file[_ngcontent-%COMP%]{background-color:var(--color-secondary);padding:5px;width:70px;border:1px solid black;border-radius:5px;display:flex;justify-content:center;align-items:center;cursor:pointer;font-size:14px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]   .picture-review[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;gap:1rem;padding-top:1rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]   .picture-review[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:200px;object-fit:cover}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]   .picture-review[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:relative}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]   .picture-review[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .btn-del-image[_ngcontent-%COMP%]{position:absolute;top:-.4rem;right:-.3rem;font-size:22px;width:22px;height:22px;display:flex;justify-content:center;align-items:center;border-radius:50%;background-color:var(--color-secondary);text-decoration:none;color:#000;padding-top:1px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]   .avatar-preview[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]   .avatar-preview[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:200px;object-fit:cover;border-radius:50%}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:3rem;display:block;width:100%;padding:15px 10px;background-color:var(--color-primary);color:#fff;border:none;border-radius:5px;font-size:20px;cursor:pointer}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]{margin:2rem 0;display:flex;align-items:center}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]   .line-left[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]   .line-right[_ngcontent-%COMP%]{flex-grow:1;height:2px;background-color:var(--color-primary)}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 10px;white-space:nowrap}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-footer[_ngcontent-%COMP%]   .register-option[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;justify-content:center;column-gap:1.5rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-footer[_ngcontent-%COMP%]   .register-option[_ngcontent-%COMP%]   .register-option-icon[_ngcontent-%COMP%]{font-size:42px;color:var(--color-primary);text-decoration:none}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-footer[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;text-decoration:none;color:var(--color-primary)}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-footer[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:-1px;left:0}@media (max-width: 767.98px){.register-wrapper[_ngcontent-%COMP%]{width:100%;left:50%;transform:translate(-50%);padding:1rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]{width:100%;min-height:calc(100vh - 2rem)}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{top:-.5rem;left:-1rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{font-size:12px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2rem;padding:10px;font-size:17px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]{margin:1rem 0}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-footer[_ngcontent-%COMP%]   .register-option[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;justify-content:center;column-gap:1.5rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-footer[_ngcontent-%COMP%]   .register-option[_ngcontent-%COMP%]   .register-option-icon[_ngcontent-%COMP%]{font-size:26px;color:var(--color-primary);text-decoration:none}.form-content[_ngcontent-%COMP%]   .form-left[_ngcontent-%COMP%], .form-content[_ngcontent-%COMP%]   .form-right[_ngcontent-%COMP%]{grid-column:span 2!important}}']}),e})();function gde(t,e){if(1&t&&(_(0,"tr")(1,"td"),w(2),m(),_(3,"td"),w(4),m(),_(5,"td"),w(6),m()()),2&t){const n=e.$implicit;P(2),Ee(n.id),P(2),Ee(n.username),P(2),Ee(n.email)}}let E9=(()=>{var t;class e{constructor(r){this.userService=r,this.users=[]}ngOnInit(){var r=this;return(0,S.Z)(function*(){r.users=yield r.userService.getUsers()})()}}return(t=e).\u0275fac=function(r){return new(r||t)(W(ed))},t.\u0275cmp=At({type:t,selectors:[["app-user-list"]],decls:13,vars:1,consts:[[4,"ngFor","ngForOf"]],template:function(r,i){1&r&&(_(0,"h1"),w(1,"User List"),m(),_(2,"table")(3,"thead")(4,"tr")(5,"th"),w(6,"ID"),m(),_(7,"th"),w(8,"Username"),m(),_(9,"th"),w(10,"Email"),m()()(),_(11,"tbody"),F(12,gde,7,3,"tr",0),m()()),2&r&&(P(12),A("ngForOf",i.users))},dependencies:[Wr]}),e})(),I9=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=At({type:t,selectors:[["app-home-admin"]],decls:2,vars:0,template:function(r,i){1&r&&(_(0,"p"),w(1,"home-admin works!"),m())}}),e})(),El=(()=>{var t;class e{getOrders(){return new Promise((r,i)=>{ls(Qt(dn((0,$e.initializeApp)(Xt_firebaseConfig)),"orders/"),c=>{const l=c.val(),h=[];for(const f in l)if(l.hasOwnProperty(f)){const y=l[f];h.push({id:y.id,order_date:y.order_date,time:y.time,appoi_time:y.appoi_time,shooting_type:y.shooting_type,partner_id:y.partner_id,cust_name:y.cust_name,cust_email:y.cust_email,cust_phone:y.cust_phone,address:y.address,price:y.price,status:y.status,code:y.code,link_down:y.link_down,des_refund:y.des_refund})}r(h)})})}getOrderByPartnerId(r){return new Promise((i,o)=>{ls(Qt(dn((0,$e.initializeApp)(Xt_firebaseConfig)),"orders/"),l=>{const h=l.val(),f=[];for(const y in h)if(h.hasOwnProperty(y)){const v=h[y];v.partner_id===r&&f.push({id:v.id,order_date:v.order_date,time:v.time,appoi_time:v.appoi_time,shooting_type:v.shooting_type,partner_id:v.partner_id,cust_name:v.cust_name,cust_email:v.cust_email,cust_phone:v.cust_phone,address:v.address,price:v.price,status:v.status,code:v.code,link_down:v.link_down,des_refund:v.des_refund})}i(f)})})}getOrderByStatus(r){return new Promise((i,o)=>{ls(Qt(dn((0,$e.initializeApp)(Xt_firebaseConfig)),"orders/"),l=>{const h=l.val(),f=[];for(const y in h)if(h.hasOwnProperty(y)){const v=h[y];v.status===r&&f.push({id:v.id,order_date:v.order_date,time:v.time,appoi_time:v.appoi_time,shooting_type:v.shooting_type,partner_id:v.partner_id,cust_name:v.cust_name,cust_email:v.cust_email,cust_phone:v.cust_phone,address:v.address,price:v.price,status:v.status,code:v.code,link_down:v.link_down,des_refund:v.des_refund})}i(f)})})}getOrderById(r){var i=this;return(0,S.Z)(function*(){try{return(yield i.getOrders()).find(a=>a.id===r)||null}catch(o){return console.error("Error fetching Order by ID:",o),null}})()}getOrderByCode(r){var i=this;return(0,S.Z)(function*(){try{return(yield i.getOrders()).find(a=>a.code===r)||null}catch(o){return console.error("Error fetching Order by code:",o),null}})()}createOrder(r){var i=this;return(0,S.Z)(function*(){try{const s=dn((0,$e.initializeApp)(Xt_firebaseConfig)),a=yield i.generateNewId(),c=Qt(s,"orders/"+a),l={id:a,order_date:r.order_date,time:r.time,appoi_time:r.appoi_time,shooting_type:r.shooting_type,partner_id:r.partner_id,cust_name:r.cust_name,cust_email:r.cust_email,cust_phone:r.cust_phone,address:r.address,price:r.price,status:r.status,code:r.code,link_down:r.link_down,des_refund:r.des_refund};return yield Yi(c,l),l}catch(o){return console.error("Error creating Order:",o),null}})()}updateOrder(r){var i=this;return(0,S.Z)(function*(){try{if(null===(yield i.getOrderById(r.id)))return console.error("Order information not found for ID:",r.id),null;const a=dn((0,$e.initializeApp)(Xt_firebaseConfig)),c={id:r.id,order_date:r.order_date,time:r.time,appoi_time:r.appoi_time,shooting_type:r.shooting_type,partner_id:r.partner_id,cust_name:r.cust_name,cust_email:r.cust_email,cust_phone:r.cust_phone,address:r.address,price:r.price,status:r.status,code:r.code,link_down:r.link_down,des_refund:r.des_refund},l=Qt(a,`orders/${r.id}`);return yield Yi(l,c),r}catch(o){return console.error("Error updating Order:",o),null}})()}generateNewId(){var r=this;return(0,S.Z)(function*(){const i=yield r.getOrders();return(0===i.length?0:Math.max(...i.map(s=>s.id)))+1})()}isOrderCodeUnique(r){return(0,S.Z)(function*(){const s=Qt(dn((0,$e.initializeApp)(Xt_firebaseConfig)),"orders"),c=(yield Ju(s)).val();if(c)for(const l in c)if(c.hasOwnProperty(l)&&c[l].code===r)return!1;return!0})()}generateUniqueOrderCode(){var r=this;return(0,S.Z)(function*(){const i=r.generateRandomOrderCode(6);return(yield r.isOrderCodeUnique(i))?Q(i):r.generateUniqueOrderCode()})()}generateRandomOrderCode(r){let o="";for(let s=0;s<r;s++)o+="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(36*Math.random()));return o}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=xe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),b9=(()=>{var t;class e{constructor(r,i){this.orderService=r,this.userService=i}getOrderDTOs(){return sl([this.orderService.getOrders(),this.userService.getUsers()]).pipe(ye(([r,i])=>{const o=[];for(const s of r){const a=i.find(c=>c.id===s.partner_id);a&&o.push({order:s,user:a})}return o}),os(r=>[]))}getOrderDTOsByStatus(r){return sl([this.orderService.getOrders(),this.userService.getUsers()]).pipe(ye(([i,o])=>{const s=[];for(const a of i){const c=o.find(l=>l.id===a.partner_id&&a.status===r);c&&s.push({order:a,user:c})}return s}),os(i=>[]))}getOrderDTOsById(r){return this.getOrderDTOs().pipe(ye(i=>i.find(o=>o.order.id===r)||null))}updateOrder(r){var i=this;return(0,S.Z)(function*(){var o=yield i.orderService.getOrderById(r.order.id);return o?(r.order.status="da_duyet",(o=yield i.orderService.updateOrder(r.order))?(r.order=o,Q(r)):Q(null)):Q(null)})()}}return(t=e).\u0275fac=function(r){return new(r||t)(se(El),se(ed))},t.\u0275prov=xe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function _de(t,e){1&t&&(De(0),w(1," Ch\u1edd duy\u1ec7t "),Se())}function mde(t,e){}function yde(t,e){1&t&&(De(0),w(1," \u0110\xe3 duy\u1ec7t "),Se())}function vde(t,e){}function Cde(t,e){1&t&&(De(0),w(1," \u0110\xe3 tr\u1ea3 "),Se())}function wde(t,e){}function Pde(t,e){1&t&&(De(0),w(1," Y\xeau c\u1ea7u s\u1eeda "),Se())}function Mde(t,e){}function Ode(t,e){1&t&&(De(0),w(1," Ch\u01b0a \u0111i\u1ec1n th\xf4ng tin "),Se())}function Ede(t,e){}function Ide(t,e){if(1&t&&(_(0,"tr",16)(1,"td",17),w(2),m(),_(3,"td",17),w(4),m(),_(5,"td",17),w(6),m(),_(7,"td",17),w(8),m(),_(9,"td",17),w(10),m(),_(11,"td",17),w(12),m(),_(13,"td",17),w(14),m(),_(15,"td",17),w(16),m(),_(17,"td",17),w(18),m(),_(19,"td",17),w(20),m(),_(21,"td",17),w(22),m(),_(23,"td",17),F(24,_de,2,0,"ng-container",9),F(25,mde,0,0,"ng-template",null,18,er),F(27,yde,2,0,"ng-container",9),F(28,vde,0,0,"ng-template",null,19,er),F(30,Cde,2,0,"ng-container",9),F(31,wde,0,0,"ng-template",null,20,er),F(33,Pde,2,0,"ng-container",9),F(34,Mde,0,0,"ng-template",null,21,er),F(36,Ode,2,0,"ng-container",9),F(37,Ede,0,0,"ng-template",null,22,er),m()()),2&t){const n=e.$implicit,r=e.index,i=Qn(26),o=Qn(29),s=Qn(32),a=Qn(35),c=Qn(38);P(2),Ee(r+1),P(2),Ee(n.order.cust_name),P(2),Ee(n.order.cust_phone),P(2),Ee(n.order.cust_email),P(2),Ee(n.order.order_date),P(2),Ee(n.order.appoi_time),P(2),Ee(n.order.time),P(2),Ee(n.order.shooting_type),P(2),Ee(n.user.full_name),P(2),Ee(n.order.price),P(2),Ee(n.order.code),P(2),A("ngIf","cho_duyet"===n.order.status)("ngIfElse",i),P(3),A("ngIf","da_duyet"===n.order.status)("ngIfElse",o),P(3),A("ngIf","da_tra"===n.order.status)("ngIfElse",s),P(3),A("ngIf","yc_sua"===n.order.status)("ngIfElse",a),P(3),A("ngIf","chua_dien_tt"===n.order.status)("ngIfElse",c)}}function bde(t,e){if(1&t&&(De(0),_(1,"div",11)(2,"table",12)(3,"thead")(4,"tr",13)(5,"th",14),w(6,"#"),m(),_(7,"th",14),w(8,"T\xean kh\xe1ch"),m(),_(9,"th",14),w(10,"SDT kh\xe1ch"),m(),_(11,"th",14),w(12,"Email kh\xe1ch"),m(),_(13,"th",14),w(14,"Ng\xe0y"),m(),_(15,"th",14),w(16,"Th\u1eddi gian"),m(),_(17,"th",14),w(18,"Th\u1eddi l\u01b0\u1ee3ng"),m(),_(19,"th",14),w(20,"Lo\u1ea1i ch\u1ee5p"),m(),_(21,"th",14),w(22,"Ng\u01b0\u1eddi ch\u1ee5p"),m(),_(23,"th",14),w(24,"T\xf4\u0309ng ti\xea\u0300n"),m(),_(25,"th",14),w(26,"Ma\u0303"),m(),_(27,"th",14),w(28,"Tr\u1ea1ng th\xe1i"),m()()(),_(29,"tbody"),F(30,Ide,39,21,"tr",15),m()()(),Se()),2&t){const n=ee();P(30),A("ngForOf",n.orderData)}}function Tde(t,e){1&t&&(_(0,"div",23)(1,"h4"),w(2,"Ch\u01b0a co\u0301 kha\u0301ch \u0111\u0103\u0323t li\u0323ch"),m()())}let Ade=(()=>{var t;class e{constructor(r){this.orderDTOService=r,this.orderData=[]}ngOnInit(){this.loadOrderData()}loadOrderData(){this.orderDTOService.getOrderDTOs().subscribe(r=>{this.orderData=r,console.log("orderData:",this.orderData)},r=>{console.error("Error fetching order: ",r)})}onAccept(r){var i=this;console.log(r),this.orderDTOService.getOrderDTOsById(r).subscribe(function(){var o=(0,S.Z)(function*(s){null!==s?(console.log("D\u1eef li\u1ec7u \u0111\xe3 t\xecm th\u1ea5y:",s),(yield i.orderDTOService.updateOrder(s)).subscribe(a=>{null!==a?i.loadOrderData():console.log("C\u1eadp nh\u1eadt th\u1ea5t b\u1ea1i.")},a=>{console.error("L\u1ed7i khi c\u1eadp nh\u1eadt:",a)})):console.log("D\u1eef li\u1ec7u kh\xf4ng t\u1ed3n t\u1ea1i.")});return function(s){return o.apply(this,arguments)}}(),o=>{console.error("L\u1ed7i x\u1ea3y ra:",o)})}}return(t=e).\u0275fac=function(r){return new(r||t)(W(b9))},t.\u0275cmp=At({type:t,selectors:[["app-order-list-admin"]],decls:14,vars:2,consts:[[1,"layout-list-booking"],[1,"list-booking-wrapper"],[1,"list-booking-container"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/admin/home"],["aria-current","page",1,"breadcrumb-item","active"],[1,"list-booking-content"],[4,"ngIf","ngIfElse"],["elseBlock",""],[1,"table-wrapper"],[1,"table"],[1,"col-header"],[1,"row-header"],["class","col-content",4,"ngFor","ngForOf"],[1,"col-content"],[1,"row-content"],["notChoDuyet",""],["notDaDuyet",""],["notDaTra",""],["notYeuCauSua",""],["notChuaDienTT",""],[1,"empty-row"]],template:function(r,i){if(1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"nav",3)(4,"ol",4)(5,"li",5)(6,"a",6),w(7,"Trang chu"),m()(),_(8,"li",7),w(9,"Danh sach booking"),m()()(),_(10,"div",8),F(11,bde,31,1,"ng-container",9),F(12,Tde,3,0,"ng-template",null,10,er),m()()()()),2&r){const o=Qn(13);P(11),A("ngIf",i.orderData.length>0)("ngIfElse",o)}},dependencies:[Wr,Vr,pr],styles:['@charset "UTF-8";.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{padding:0}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]{display:inline}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item.active[_ngcontent-%COMP%]{color:#333}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{padding:8px;color:#000;content:"/\\a0"}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{width:100%;max-width:100%;overflow-x:auto;position:relative}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;height:12px}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cccccc;border-radius:6px}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#bbbbbb}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border:1px solid #ddd}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:transparent}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-color:inherit;border-style:solid;border-width:0}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr.col-header[_ngcontent-%COMP%]{background-color:#f2f2f2;font-weight:700}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr.col-header[_ngcontent-%COMP%]   th.row-header[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td.row-content[_ngcontent-%COMP%]{padding:.625rem 1.25rem;text-align:left;white-space:nowrap}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td.row-content[_ngcontent-%COMP%]:last-child{text-align:center}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.btn-accept[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:6px 12px;border:none;border-radius:4px;text-align:center;text-decoration:none;display:inline-block;cursor:pointer}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.btn-accept[_ngcontent-%COMP%]:hover{background-color:#45a049}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .empty-row[_ngcontent-%COMP%]{text-align:center}']}),e})();function Dde(t,e){1&t&&(De(0),w(1," Ch\u1edd duy\u1ec7t "),Se())}function Sde(t,e){}function xde(t,e){1&t&&(De(0),w(1," \u0110\xe3 duy\u1ec7t "),Se())}function Rde(t,e){}function kde(t,e){1&t&&(De(0),w(1," \u0110\xe3 tr\u1ea3 "),Se())}function Nde(t,e){}function Fde(t,e){1&t&&(De(0),w(1," Y\xeau c\u1ea7u s\u1eeda "),Se())}function Lde(t,e){}function Vde(t,e){1&t&&(De(0),w(1," Ch\u01b0a \u0111i\u1ec1n th\xf4ng tin "),Se())}function Ude(t,e){}function Bde(t,e){if(1&t){const n=Ot();_(0,"tr",17)(1,"td",18),w(2),m(),_(3,"td",18),w(4),m(),_(5,"td",18),w(6),m(),_(7,"td",18),w(8),m(),_(9,"td",18),w(10),m(),_(11,"td",18),w(12),m(),_(13,"td",18),w(14),m(),_(15,"td",18),w(16),m(),_(17,"td",18),w(18),m(),_(19,"td",18),F(20,Dde,2,0,"ng-container",9),F(21,Sde,0,0,"ng-template",null,19,er),F(23,xde,2,0,"ng-container",9),F(24,Rde,0,0,"ng-template",null,20,er),F(26,kde,2,0,"ng-container",9),F(27,Nde,0,0,"ng-template",null,21,er),F(29,Fde,2,0,"ng-container",9),F(30,Lde,0,0,"ng-template",null,22,er),F(32,Vde,2,0,"ng-container",9),F(33,Ude,0,0,"ng-template",null,23,er),m(),_(35,"td",18),w(36),m(),_(37,"td",18),w(38),m(),_(39,"td",24)(40,"a",25),j("click",function(){const o=Be(n).$implicit;return Ve(ee(2).onAccept(o.order.id))}),w(41,"Duy\u1ec7t"),m()()()}if(2&t){const n=e.$implicit,r=e.index,i=Qn(22),o=Qn(25),s=Qn(28),a=Qn(31),c=Qn(34);P(2),Ee(r+1),P(2),Ee(n.order.cust_name),P(2),Ee(n.order.cust_phone),P(2),Ee(n.order.cust_email),P(2),Ee(n.order.order_date),P(2),Ee(n.order.appoi_time),P(2),Ee(n.order.time),P(2),Ee(n.order.shooting_type),P(1),Wi("data-id",n.user.id),P(1),Ee(n.user.full_name),P(2),A("ngIf","cho_duyet"===n.order.status)("ngIfElse",i),P(3),A("ngIf","da_duyet"===n.order.status)("ngIfElse",o),P(3),A("ngIf","da_tra"===n.order.status)("ngIfElse",s),P(3),A("ngIf","yc_sua"===n.order.status)("ngIfElse",a),P(3),A("ngIf","chua_dien_tt"===n.order.status)("ngIfElse",c),P(4),Ee(n.order.price),P(2),Ee(n.order.code)}}function jde(t,e){if(1&t&&(De(0),_(1,"div",11)(2,"table",12)(3,"thead")(4,"tr",13)(5,"th",14),w(6,"#"),m(),_(7,"th",14),w(8,"T\xean kh\xe1ch"),m(),_(9,"th",14),w(10,"SDT kh\xe1ch"),m(),_(11,"th",14),w(12,"Email kh\xe1ch"),m(),_(13,"th",14),w(14,"Ng\xe0y"),m(),_(15,"th",14),w(16,"Th\u1eddi gian"),m(),_(17,"th",14),w(18,"Th\u1eddi l\u01b0\u1ee3ng"),m(),_(19,"th",14),w(20,"Lo\u1ea1i ch\u1ee5p"),m(),_(21,"th",14),w(22,"Ng\u01b0\u1eddi ch\u1ee5p"),m(),_(23,"th",14),w(24,"Tr\u1ea1ng th\xe1i"),m(),_(25,"th",14),w(26,"T\xf4\u0309ng ti\xea\u0300n"),m(),_(27,"th",14),w(28,"Ma\u0303"),m(),_(29,"th",15),w(30,"Ch\u1ee9c n\u0103ng"),m()()(),_(31,"tbody"),F(32,Bde,42,22,"tr",16),m()()(),Se()),2&t){const n=ee();P(32),A("ngForOf",n.orderData)}}function $de(t,e){1&t&&(_(0,"div",26)(1,"h4"),w(2,"Ch\u01b0a co\u0301 kha\u0301ch \u0111\u0103\u0323t li\u0323ch"),m()())}let Hde=(()=>{var t;class e{constructor(r){this.orderDTOService=r,this.orderData=[]}ngOnInit(){this.loadOrderData()}loadOrderData(){this.orderDTOService.getOrderDTOsByStatus("cho_duyet").subscribe(r=>{this.orderData=r},r=>{console.error("Error fetching order: ",r)})}onAccept(r){var i=this;console.log(r),this.orderDTOService.getOrderDTOsById(r).subscribe(function(){var o=(0,S.Z)(function*(s){null!==s?(console.log("D\u1eef li\u1ec7u \u0111\xe3 t\xecm th\u1ea5y:",s),(yield i.orderDTOService.updateOrder(s)).subscribe(a=>{null!==a?i.loadOrderData():console.log("C\u1eadp nh\u1eadt th\u1ea5t b\u1ea1i.")},a=>{console.error("L\u1ed7i khi c\u1eadp nh\u1eadt:",a)})):console.log("D\u1eef li\u1ec7u kh\xf4ng t\u1ed3n t\u1ea1i.")});return function(s){return o.apply(this,arguments)}}(),o=>{console.error("L\u1ed7i x\u1ea3y ra:",o)})}}return(t=e).\u0275fac=function(r){return new(r||t)(W(b9))},t.\u0275cmp=At({type:t,selectors:[["app-order-accept-admin"]],decls:14,vars:2,consts:[[1,"layout-list-booking"],[1,"list-booking-wrapper"],[1,"list-booking-container"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/admin/home"],["aria-current","page",1,"breadcrumb-item","active"],[1,"list-booking-content"],[4,"ngIf","ngIfElse"],["elseBlock",""],[1,"table-wrapper"],[1,"table"],[1,"col-header"],[1,"row-header"],[1,"row-header",".col-fixed"],["class","col-content",4,"ngFor","ngForOf"],[1,"col-content"],[1,"row-content"],["notChoDuyet",""],["notDaDuyet",""],["notDaTra",""],["notYeuCauSua",""],["notChuaDienTT",""],[1,"row-content",".col-fixed"],["href","javascript:void(0)",1,"btn","btn-accept",3,"click"],[1,"empty-row"]],template:function(r,i){if(1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"nav",3)(4,"ol",4)(5,"li",5)(6,"a",6),w(7,"Trang chu"),m()(),_(8,"li",7),w(9,"Duyet booking"),m()()(),_(10,"div",8),F(11,jde,33,1,"ng-container",9),F(12,$de,3,0,"ng-template",null,10,er),m()()()()),2&r){const o=Qn(13);P(11),A("ngIf",i.orderData.length>0)("ngIfElse",o)}},dependencies:[Wr,Vr,pr],styles:['@charset "UTF-8";.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{padding:0}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]{display:inline}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item.active[_ngcontent-%COMP%]{color:#333}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{padding:8px;color:#000;content:"/\\a0"}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{width:100%;max-width:100%;overflow-x:auto;position:relative}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;height:12px}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cccccc;border-radius:6px}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#bbbbbb}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border:1px solid #ddd}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:transparent}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-color:inherit;border-style:solid;border-width:0}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr.col-header[_ngcontent-%COMP%]{background-color:#f2f2f2;font-weight:700}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr.col-header[_ngcontent-%COMP%]   th.row-header[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td.row-content[_ngcontent-%COMP%]{padding:.625rem 1.25rem;text-align:left;white-space:nowrap}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td.row-content[_ngcontent-%COMP%]:last-child{text-align:center}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.btn-accept[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:6px 12px;border:none;border-radius:4px;text-align:center;text-decoration:none;display:inline-block;cursor:pointer}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.btn-accept[_ngcontent-%COMP%]:hover{background-color:#45a049}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .empty-row[_ngcontent-%COMP%]{text-align:center}']}),e})(),Um=(()=>{var t;class e{constructor(){this.eventMap={}}registerEvent(r){return this.eventMap[r]||(this.eventMap[r]=new $(null)),this.eventMap[r].asObservable()}emitEvent(r,i){this.eventMap[r]&&this.eventMap[r].next(i)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=xe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),XT=(()=>{var t;class e{getReviews(){return new Promise((r,i)=>{ls(Qt(dn((0,$e.initializeApp)(Xt_firebaseConfig)),"reviews/"),c=>{const l=c.val(),h=[];for(const f in l)if(l.hasOwnProperty(f)){const y=l[f];h.push({id:y.id,partner_id:y.partner_id,rate:y.rate||"",description:y.description||"",order_id:y.order_id,cus_name:y.cus_name||"",date:y.date||""})}r(h)})})}getReviewByPartnerId(r){return new Promise((i,o)=>{ls(Qt(dn((0,$e.initializeApp)(Xt_firebaseConfig)),"reviews/"),l=>{const h=l.val(),f=[];for(const y in h)if(h.hasOwnProperty(y)){const v=h[y];v.partner_id===r&&f.push({id:v.id,partner_id:v.partner_id,rate:v.rate||"",description:v.description||"",order_id:v.order_id,cus_name:v.cus_name||"",date:v.date||""})}i(f)})})}getReviewById(r){var i=this;return(0,S.Z)(function*(){try{return(yield i.getReviews()).find(a=>a.id===r)||null}catch(o){return console.error("Error fetching user by ID:",o),null}})()}getReviewByOrderId(r){var i=this;return(0,S.Z)(function*(){try{return(yield i.getReviews()).find(a=>a.order_id===r)||null}catch(o){return console.error("Error fetching user by ID:",o),null}})()}createReview(r){var i=this;return(0,S.Z)(function*(){try{if(!(yield i.isOderUnique(r.order_id)))return console.log("The order is not unique"),null;const a=dn((0,$e.initializeApp)(Xt_firebaseConfig)),c=yield i.generateNewId(),l=Qt(a,"reviews/"+c),h={id:c,partner_id:r.partner_id,rate:r.rate,description:r.description,order_id:r.order_id,cus_name:r.cus_name,date:r.date};return yield Yi(l,h),h}catch(o){return console.error("Error creating user:",o),null}})()}updateReview(r){var i=this;return(0,S.Z)(function*(){try{if(null===(yield i.getReviewById(r.id)))return console.error("User information not found for ID:",r.id),null;const a=dn((0,$e.initializeApp)(Xt_firebaseConfig)),c={id:r.id,partner_id:r.partner_id,rate:r.rate,description:r.description,order_id:r.order_id,cus_name:r.cus_name,date:r.date},l=Qt(a,`reviews/${r.id}`);return yield Yi(l,c),r}catch(o){return console.error("Error updating user:",o),null}})()}generateNewId(){var r=this;return(0,S.Z)(function*(){const i=yield r.getReviews();return(0===i.length?0:Math.max(...i.map(s=>s.id)))+1})()}isOderUnique(r){return(0,S.Z)(function*(){const s=Qt(dn((0,$e.initializeApp)(Xt_firebaseConfig)),"reviews"),c=(yield Ju(s)).val();if(c)for(const l in c)if(c.hasOwnProperty(l)&&c[l].order_id===r)return!1;return!0})()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=xe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),T9=(()=>{var t;class e{getDeces(){return new Promise((r,i)=>{ls(Qt(dn((0,$e.initializeApp)(Xt_firebaseConfig)),"deces/"),c=>{const l=c.val(),h=[];for(const f in l)if(l.hasOwnProperty(f)){const y=l[f];h.push({id:y.id,partner_id:y.partner_id,category:y.category})}r(h)})})}getDecesByPartnerId(r){var i=this;return(0,S.Z)(function*(){try{return(yield i.getDeces()).find(a=>a.partner_id===r)||null}catch(o){return console.error("Error fetching user by ID:",o),null}})()}getDecesById(r){var i=this;return(0,S.Z)(function*(){try{return(yield i.getDeces()).find(a=>a.id===r)||null}catch(o){return console.error("Error fetching user by ID:",o),null}})()}createDeces(r){var i=this;return(0,S.Z)(function*(){try{if(!(yield i.isPartnerUnique(r.partner_id)))return console.log("The order is not unique"),null;const a=dn((0,$e.initializeApp)(Xt_firebaseConfig)),c=yield i.generateNewId(),l=Qt(a,"deces/"+c),h={id:c,partner_id:r.partner_id,category:r.category};return yield Yi(l,h),h}catch(o){return console.error("Error creating user:",o),null}})()}updateDeces(r){var i=this;return(0,S.Z)(function*(){try{if(null===(yield i.getDecesById(r.id)))return console.error("User information not found for ID:",r.id),null;const a=dn((0,$e.initializeApp)(Xt_firebaseConfig)),c={id:r.id,partner_id:r.partner_id,category:r.category},l=Qt(a,`deces/${r.id}`);return yield Yi(l,c),r}catch(o){return console.error("Error updating user:",o),null}})()}generateNewId(){var r=this;return(0,S.Z)(function*(){const i=yield r.getDeces();return(0===i.length?0:Math.max(...i.map(s=>s.id)))+1})()}isPartnerUnique(r){return(0,S.Z)(function*(){const s=Qt(dn((0,$e.initializeApp)(Xt_firebaseConfig)),"deces"),c=(yield Ju(s)).val();if(c)for(const l in c)if(c.hasOwnProperty(l)&&c[l].partner_id===r)return!1;return!0})()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=xe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),A9=(()=>{var t;class e{getWalls(){return new Promise((r,i)=>{ls(Qt(dn((0,$e.initializeApp)(Xt_firebaseConfig)),"wall/"),c=>{const l=c.val(),h=[];for(const f in l)if(l.hasOwnProperty(f)){const y=l[f];h.push({id:y.id,images:y.images,user_id:y.user_id})}r(h)})})}getWallById(r){var i=this;return(0,S.Z)(function*(){try{return(yield i.getWalls()).find(a=>a.id===r)||null}catch(o){return console.error("Error fetching user by ID:",o),null}})()}getWallByUserId(r){var i=this;return(0,S.Z)(function*(){try{return(yield i.getWalls()).find(a=>a.user_id===r)||null}catch(o){return console.error("Error fetching user by username",o),null}})()}createWall(r){var i=this;return(0,S.Z)(function*(){try{if(!(yield i.isUserIdUnique(r.user_id)))return console.log("The username is not unique"),null;const a=dn((0,$e.initializeApp)(Xt_firebaseConfig)),c=yield i.generateNewId(),l=Qt(a,"wall/"+c),h={id:c,images:r.images,user_id:r.user_id};return yield Yi(l,h),h}catch(o){return console.error("Error creating user:",o),null}})()}updateWall(r){var i=this;return(0,S.Z)(function*(){try{if(null===(yield i.getWallById(r.id)))return console.error("User information not found for ID:",r.id),null;const a=dn((0,$e.initializeApp)(Xt_firebaseConfig)),c={id:r.id,images:r.images,user_id:r.user_id},l=Qt(a,`wall/${r.id}`);return yield Yi(l,c),r}catch(o){return console.error("Error updating user:",o),null}})()}generateNewId(){var r=this;return(0,S.Z)(function*(){const i=yield r.getWalls();return(0===i.length?0:Math.max(...i.map(s=>s.id)))+1})()}isUserIdUnique(r){return(0,S.Z)(function*(){const s=Qt(dn((0,$e.initializeApp)(Xt_firebaseConfig)),"users"),c=(yield Ju(s)).val();if(c)for(const l in c)if(c.hasOwnProperty(l)&&c[l].user_id===r)return!1;return!0})()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=xe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function zde(t,e){if(1&t&&(De(0),_(1,"div",120)(2,"div",121)(3,"div",122),I(4,"img",123),m(),_(5,"div",124),I(6,"img",123),m()(),_(7,"div",125),I(8,"img",123),m(),_(9,"div",126)(10,"div",127),I(11,"img",123),m(),_(12,"div",128),I(13,"img",123),m()(),_(14,"div",129),I(15,"img",123),m(),_(16,"div",130)(17,"div",131),I(18,"img",123),m(),_(19,"div",132),I(20,"img",123),m()()(),Se()),2&t){const n=ee();P(4),Ht("src",n.wallImages[0]||"",pt),P(2),Ht("src",n.wallImages[1]||"",pt),P(2),Ht("src",n.wallImages[2]||"",pt),P(3),Ht("src",n.wallImages[3]||"",pt),P(2),Ht("src",n.wallImages[4]||"",pt),P(2),Ht("src",n.wallImages[5]||"",pt),P(3),Ht("src",n.wallImages[6]||"",pt),P(2),Ht("src",n.wallImages[7]||"",pt)}}function Wde(t,e){1&t&&(_(0,"div",120)(1,"div",121)(2,"div",122),I(3,"img",133),m(),_(4,"div",124),I(5,"img",134),m()(),_(6,"div",125),I(7,"img",135),m(),_(8,"div",126)(9,"div",127),I(10,"img",136),m(),_(11,"div",128),I(12,"img",137),m()(),_(13,"div",129),I(14,"img",138),m(),_(15,"div",130)(16,"div",131),I(17,"img",139),m(),_(18,"div",132),I(19,"img",140),m()()())}function Gde(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function qde(t,e){if(1&t&&(De(0),F(1,Gde,1,2,"i",141),Se()),2&t){const n=ee();P(1),A("ngForOf",n.review1Star)}}function Kde(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function Zde(t,e){if(1&t&&(De(0),F(1,Kde,1,2,"i",141),Se()),2&t){const n=ee();P(1),A("ngForOf",n.review2Star)}}function Yde(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function Qde(t,e){if(1&t&&(De(0),F(1,Yde,1,2,"i",141),Se()),2&t){const n=ee();P(1),A("ngForOf",n.review3Star)}}function Xde(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function Jde(t,e){if(1&t&&(De(0),F(1,Xde,1,2,"i",141),Se()),2&t){const n=ee();P(1),A("ngForOf",n.review4Star)}}function ehe(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function the(t,e){if(1&t&&(De(0),F(1,ehe,1,2,"i",141),Se()),2&t){const n=ee();P(1),A("ngForOf",n.review5Star)}}function nhe(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function rhe(t,e){if(1&t&&(De(0),F(1,nhe,1,2,"i",141),Se()),2&t){const n=ee();P(1),A("ngForOf",n.review0Star)}}function ihe(t,e){if(1&t){const n=Ot();_(0,"div",142)(1,"a",143)(2,"div",144),I(3,"img",123),m(),_(4,"div",145)(5,"h3",146),w(6),m(),_(7,"span",147),w(8),m(),_(9,"div",148),j("click",function(){const o=Be(n).$implicit;return Ve(ee().toggleAsk(o.name))}),I(10,"i",13),m()()()()}if(2&t){const n=e.$implicit;P(3),Ht("src",n.images[0],pt),P(3),Ee(n.name),P(2),Ee(n.images.length)}}function ohe(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function she(t,e){if(1&t&&(De(0),F(1,ohe,1,2,"i",141),Se()),2&t){const n=ee();P(1),A("ngForOf",n.review1Star)}}function ahe(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function che(t,e){if(1&t&&(De(0),F(1,ahe,1,2,"i",141),Se()),2&t){const n=ee();P(1),A("ngForOf",n.review2Star)}}function lhe(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function uhe(t,e){if(1&t&&(De(0),F(1,lhe,1,2,"i",141),Se()),2&t){const n=ee();P(1),A("ngForOf",n.review3Star)}}function dhe(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function hhe(t,e){if(1&t&&(De(0),F(1,dhe,1,2,"i",141),Se()),2&t){const n=ee();P(1),A("ngForOf",n.review4Star)}}function phe(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function fhe(t,e){if(1&t&&(De(0),F(1,phe,1,2,"i",141),Se()),2&t){const n=ee();P(1),A("ngForOf",n.review5Star)}}function ghe(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function _he(t,e){if(1&t&&(De(0),F(1,ghe,1,2,"i",141),Se()),2&t){const n=ee();P(1),A("ngForOf",n.review5Star)}}function mhe(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function yhe(t,e){if(1&t&&(De(0),F(1,mhe,1,2,"i",141),Se()),2&t){const n=ee(2);P(1),A("ngForOf",n.review1Star)}}function vhe(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function Che(t,e){if(1&t&&(De(0),F(1,vhe,1,2,"i",141),Se()),2&t){const n=ee(2);P(1),A("ngForOf",n.review2Star)}}function whe(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function Phe(t,e){if(1&t&&(De(0),F(1,whe,1,2,"i",141),Se()),2&t){const n=ee(2);P(1),A("ngForOf",n.review3Star)}}function Mhe(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function Ohe(t,e){if(1&t&&(De(0),F(1,Mhe,1,2,"i",141),Se()),2&t){const n=ee(2);P(1),A("ngForOf",n.review4Star)}}function Ehe(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function Ihe(t,e){if(1&t&&(De(0),F(1,Ehe,1,2,"i",141),Se()),2&t){const n=ee(2);P(1),A("ngForOf",n.review5Star)}}function bhe(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function The(t,e){if(1&t&&(De(0),F(1,bhe,1,2,"i",141),Se()),2&t){const n=ee(2);P(1),A("ngForOf",n.review5Star)}}function Ahe(t,e){if(1&t&&(_(0,"div",149)(1,"div",150)(2,"div",151),I(3,"img",152),_(4,"span",153),w(5),m(),_(6,"div",154),De(7,155),F(8,yhe,2,1,"ng-container",156),F(9,Che,2,1,"ng-container",156),F(10,Phe,2,1,"ng-container",156),F(11,Ohe,2,1,"ng-container",156),F(12,Ihe,2,1,"ng-container",156),F(13,The,2,1,"ng-container",157),Se(),m()(),_(14,"div",158),w(15),m()(),_(16,"div",159)(17,"p"),w(18),m()()()),2&t){const n=e.$implicit;P(5),Ee(n.cus_name),P(2),A("ngSwitch",n.rate),P(1),A("ngSwitchCase",1),P(1),A("ngSwitchCase",2),P(1),A("ngSwitchCase",3),P(1),A("ngSwitchCase",4),P(1),A("ngSwitchCase",5),P(3),Ee(n.date),P(3),Ee(n.description)}}function Dhe(t,e){if(1&t){const n=Ot();_(0,"a",167),j("click",function(){return Be(n),Ve(ee(2).hideOrder())}),I(1,"i",95),m()}}function She(t,e){if(1&t){const n=Ot();_(0,"div",160)(1,"div",161)(2,"h4"),w(3,"C\xe2\u0323p nh\xe2\u0323t"),m(),_(4,"div",162)(5,"div",163),j("click",function(){return Be(n),Ve(ee().showAddCate())}),_(6,"a",164),w(7,"Th\xeam danh mu\u0323c chu\u0323p a\u0309nh"),m()(),_(8,"div",163),j("click",function(){return Be(n),Ve(ee().showEditCate())}),_(9,"a",164),w(10,"C\xe2\u0323p nh\xe2\u0323t danh mu\u0323c chu\u0323p a\u0309nh"),m()(),_(11,"div")(12,"a",165),j("click",function(){return Be(n),Ve(ee().showEditAvatar())}),w(13,"C\xe2\u0323p nh\xe2\u0323t a\u0309nh \u0111a\u0323i di\xea\u0323n"),m()(),_(14,"div")(15,"a",165),j("click",function(){return Be(n),Ve(ee().showAddWallImages())}),w(16,"C\xe2\u0323p nh\xe2\u0323t a\u0309nh cu\u0309a ba\u0323n"),m()()()(),F(17,Dhe,2,0,"a",166),m()}if(2&t){const n=ee();P(17),A("ngIf",n.isShowBtnCloseOrder)}}function xhe(t,e){if(1&t){const n=Ot();_(0,"div",168),j("click",function(){return Be(n),Ve(ee().showOrder())}),I(1,"i",57),m()}}function Rhe(t,e){if(1&t){const n=Ot();_(0,"div",169),I(1,"img",170),_(2,"a",171),j("click",function(){const o=Be(n).index;return Ve(ee().delPicture(o))}),I(3,"i",95),m()()}if(2&t){const n=e.$implicit;P(1),Ht("src",n,pt)}}function khe(t,e){if(1&t){const n=Ot();_(0,"div",169),I(1,"img",170),_(2,"a",172),j("click",function(){const o=Be(n).index;return Ve(ee().deleteImageFromAsk(o))}),I(3,"i",95),m()()}if(2&t){const n=e.$implicit;P(1),Ht("src",n.url,pt)}}function Nhe(t,e){if(1&t){const n=Ot();_(0,"div",173)(1,"div",174),I(2,"img",175),_(3,"a",176),j("click",function(){const o=Be(n).index;return Ve(ee().deleteImageOfNewPortfo(o))}),I(4,"i",95),m()()()}if(2&t){const n=e.$implicit;P(2),A("src",n,pt)}}function Fhe(t,e){if(1&t){const n=Ot();_(0,"div",177),j("click",function(){return Be(n),Ve(ee().toggleWarehouse())}),I(1,"i",178),m()}}function Lhe(t,e){if(1&t){const n=Ot();_(0,"a",183),j("click",function(){return Be(n),Ve(ee(2).hideWarehouse())}),I(1,"i",95),m()}}const Vhe=function(t){return["/ware-house-picture",t]},Uhe=function(t){return["/ware-house-repair",t]};function Bhe(t,e){if(1&t&&(_(0,"div",179)(1,"div",180)(2,"div")(3,"a",181),w(4,"Kho a\u0309nh tra\u0309"),m()(),_(5,"div")(6,"a",181),w(7,"Kho a\u0309nh y\xeau c\xe2\u0300u s\u01b0\u0309a"),m()()(),F(8,Lhe,2,0,"a",182),m()),2&t){const n=ee();P(3),A("routerLink",Pr(3,Vhe,n.partnerId)),P(3),A("routerLink",Pr(5,Uhe,n.partnerId)),P(2),A("ngIf",n.isShowBtnCloseWarehouse)}}function jhe(t,e){if(1&t){const n=Ot();_(0,"div",184)(1,"div",97)(2,"div",98)(3,"div",99)(4,"h2"),w(5,"Th\xeam m\u1edbi"),m(),I(6,"div",32),m(),_(7,"div",100)(8,"table")(9,"thead")(10,"tr")(11,"td")(12,"label",185),w(13,"T\xean danh m\u1ee5c chu\u0323p"),m()(),_(14,"td")(15,"label",186),w(16,"Gia\u0301"),m()()()(),_(17,"tbody")(18,"tr")(19,"td")(20,"input",187),j("ngModelChange",function(i){return Be(n),Ve(ee().cate_name=i)}),m()(),_(21,"td")(22,"input",188),j("ngModelChange",function(i){return Be(n),Ve(ee().cate_cost=i)}),m()()()()(),_(23,"a",189),j("click",function(){return Be(n),Ve(ee().addNewCate())}),w(24," Th\xeam "),m()(),_(25,"a",113),j("click",function(){return Be(n),Ve(ee().closeNewCate())}),I(26,"i",95),m()()()()}if(2&t){const n=ee();P(20),A("ngModel",n.cate_name),P(2),A("ngModel",n.cate_cost)}}function $he(t,e){if(1&t){const n=Ot();De(0),_(1,"td")(2,"input",192),j("ngModelChange",function(i){return Be(n),Ve(ee().$implicit.name=i)}),m()(),_(3,"td")(4,"input",193),j("ngModelChange",function(i){return Be(n),Ve(ee().$implicit.cost=i)}),m()(),Se()}if(2&t){const n=ee().$implicit;P(2),A("ngModel",n.name),P(2),A("ngModel",n.cost)}}function Hhe(t,e){if(1&t&&(_(0,"tr"),F(1,$he,5,2,"ng-container",17),m()),2&t){const n=e.$implicit;P(1),A("ngIf",n)}}function zhe(t,e){if(1&t){const n=Ot();_(0,"div",190)(1,"div",97)(2,"div",98)(3,"div",99)(4,"h2"),w(5,"C\xe2\u0323p nh\xe2\u0323p"),m(),I(6,"div",32),m(),_(7,"div",100)(8,"table")(9,"thead")(10,"tr")(11,"td"),w(12," T\xean danh m\u1ee5c chu\u0323p "),m(),_(13,"td"),w(14," Gia\u0301 "),m()()(),_(15,"tbody"),F(16,Hhe,2,1,"tr",191),m()(),_(17,"a",189),j("click",function(){return Be(n),Ve(ee().editCate())}),w(18," C\xe2\u0323p nh\xe2\u0323t "),m()(),_(19,"a",113),j("click",function(){return Be(n),Ve(ee().closeEditCate())}),I(20,"i",95),m()()()()}if(2&t){const n=ee();P(16),A("ngForOf",null==n.infoData?null:n.infoData.typeOfPhoto)}}function Whe(t,e){if(1&t){const n=Ot();_(0,"div",194)(1,"div",97)(2,"div",98)(3,"div",99)(4,"h2"),w(5,"S\u01b0\u0309a a\u0309nh \u0111a\u0323i di\xea\u0323n"),m(),I(6,"div",32),m(),_(7,"div",100)(8,"div")(9,"input",195),j("ngModelChange",function(i){return Be(n),Ve(ee().editAvatarFile=i)})("change",function(i){return Be(n),Ve(ee().onChooseAvatarEdit(i))}),m()(),_(10,"div",196),I(11,"img",123),m(),_(12,"a",189),j("click",function(){return Be(n),Ve(ee().onEditAvatar())}),w(13," Th\xeam "),m()(),_(14,"a",113),j("click",function(){return Be(n),Ve(ee().hideEditAvatar())}),I(15,"i",95),m()()()()}if(2&t){const n=ee();P(9),A("ngModel",n.editAvatarFile),P(2),Ht("src",n.previewAvatarEdit,pt)}}function Ghe(t,e){if(1&t){const n=Ot();_(0,"div",169),I(1,"img",170),_(2,"a",172),j("click",function(){const o=Be(n).index;return Ve(ee(2).deleteImageFromWall(o))}),I(3,"i",95),m()()}if(2&t){const n=e.$implicit;P(1),Ht("src",n,pt)}}function qhe(t,e){if(1&t){const n=Ot();_(0,"div",197)(1,"div",81)(2,"div",82)(3,"div",83)(4,"h2"),w(5,"C\xe2\u0323p nh\xe2\u0323t a\u0309nh"),m(),_(6,"span"),w(7,"(8/8 a\u0309nh)"),m(),I(8,"div",32),m(),_(9,"div",84)(10,"div",85)(11,"div",86),F(12,Ghe,4,1,"div",87),m()()(),_(13,"div",88)(14,"div",89)(15,"input",198),j("change",function(i){return Be(n),Ve(ee().onFileInputWallChange(i))}),m(),_(16,"a",91),j("click",function(){return Be(n),Ve(ee().triggerAddFileWall())}),w(17,"Ta\u0309i l\xean"),m()(),_(18,"div",92)(19,"a",93),j("click",function(){return Be(n),Ve(ee().submitAddWall())}),w(20,"C\xe2\u0323p nh\xe2\u0323t"),m()()(),_(21,"a",94),j("click",function(){return Be(n),Ve(ee().hideAddWall())}),I(22,"i",95),m()()()()}if(2&t){const n=ee();P(12),A("ngForOf",n.addWallUrl)}}let Khe=(()=>{var t;class e{toggleAsk(r){this.isShowAskRepair=!this.isShowAskRepair,this.modalName=r,this.decesData?.category.forEach(i=>{i.name!==r||(this.modalImagesRepair=i.images)})}closeAsk(){this.isShowAskRepair=!1}constructor(r,i,o,s,a,c,l,h,f,y,v){this.router=r,this.route=i,this.eventService=o,this.orderService=s,this.userInfoDTOService=a,this.userInfoService=c,this.userService=l,this.reviewService=h,this.decesService=f,this.walltService=y,this.fileStorage=v,this.userData=null,this.decesData=null,this.reviewData=[],this.wallImages=[],this.selectedDateU="",this.selectedOptionTL="",this.selectedOptionType="",this.errorMessage="",this.isError=!1,this.dateVal="",this.selectedOptionTLVal="",this.selectedOptionTypeVal="",this.setTimeVal="",this.partnerId=0,this.isShowOrder=!0,this.isShowBtnCloseOrder=!1,this.isShowForMeEdit=!1,this.isShowIcEdit=!1,this.isShowFeEdit=!1,this.nameText="",this.expText="",this.addressText="",this.desText="",this.prizeText="",this.interestText="",this.languageText="",this.cameraText="",this.isShowAskRepair=!1,this.isShowAddPortfo=!1,this.isShowWarehouse=!0,this.isShowBtnCloseWarehouse=!1,this.modalName="",this.modalImagesRepair=[],this.review0Star=["bx bx-star","bx bx-star","bx bx-star","bx bx-star","bx bx-star"],this.review1Star=["bx bxs-star","bx bx-star","bx bx-star","bx bx-star","bx bx-star"],this.review2Star=["bx bxs-star","bx bxs-star","bx bx-star","bx bx-star","bx bx-star"],this.review3Star=["bx bxs-star","bx bxs-star","bx bxs-star","bx bx-star","bx bx-star"],this.review4Star=["bx bxs-star","bx bxs-star","bx bxs-star","bx bxs-star","bx bx-star"],this.review5Star=["bx bxs-star","bx bxs-star","bx bxs-star","bx bxs-star","bx bxs-star"],this.countRate=0,this.imagePreviews=[],this.filesAddPortfo=[],this.portfo_name="",this.imageData=[],this.isShowAddCate=!1,this.cate_name="",this.cate_cost="",this.isShowEditCate=!1,this.isShowEditAvatar=!1,this.previewAvatarEdit="",this.isShowAddWall=!1,this.addWallUrl=[],this.fileWall=[],this.checkScreenSize(),this.route.params.subscribe(O=>{const b=O.id;b?this.partnerId=parseInt(b,10):console.error("ID not found in URL")})}onResize(r){this.checkScreenSize()}checkScreenSize(){window.innerWidth<992?(this.isShowWarehouse=!1,this.isShowBtnCloseWarehouse=!0,this.isShowOrder=!1,this.isShowBtnCloseOrder=!0):(this.isShowWarehouse=!0,this.isShowBtnCloseWarehouse=!1,this.isShowOrder=!0,this.isShowBtnCloseOrder=!1)}ngOnInit(){this.route.params.subscribe(r=>{const i=r.id;if(i){const o=parseInt(i,10);this.loadUserInfoData(o),this.loadDecesData(o),this.loadReviewData(o),this.loadInfo(o),this.loadWall(o)}else console.error("ID not found in URL")})}loadWall(r){var i=this;return(0,S.Z)(function*(){i.wallData=yield i.walltService.getWallByUserId(r),i.wallData&&(i.wallImages=i.wallData?.images)})()}loadReviewData(r){var i=this;return(0,S.Z)(function*(){i.reviewData=yield i.reviewService.getReviewByPartnerId(r);var o=0,s=0;i.reviewData.forEach(a=>{o+=a.rate,s++}),i.countRate=s>0?parseFloat((o/s).toFixed(1)):0})()}loadUserInfoData(r){this.userInfoDTOService.getUserInfoDTOsById(r).subscribe(i=>{this.userData=i,this.nameText=this.userData?.user.full_name||"",this.addressText=this.userData?.user.address||"",this.expText=this.userData?.user.exp.toString()||"",this.desText=this.userData?.userInfo.description||"",this.prizeText=this.userData?.userInfo.prize||"",this.interestText=this.userData?.userInfo.interest||"",this.languageText=this.userData?.userInfo.language||"",this.cameraText=this.userData?.userInfo.camera||""},i=>{console.error("Error loading user info:",i)})}loadDecesData(r){var i=this;return(0,S.Z)(function*(){i.decesData=yield i.decesService.getDecesByPartnerId(r),console.log(i.decesData)})()}onDateChange(r){this.dateVal=r}onOptionTLChange(r){this.selectedOptionTLVal=r}onOptionTypeChange(r){this.selectedOptionTypeVal=r}onSubmit(){var r=this;return(0,S.Z)(function*(){if(r.isError=!1,r.selectedDateU&&r.selectedOptionTL&&r.selectedOptionType){if(0!==r.partnerId){console.log("true");const o={id:0,order_date:r.dateVal,time:r.selectedOptionTLVal,appoi_time:r.setTimeVal,shooting_type:r.selectedOptionTypeVal,partner_id:r.partnerId,cust_name:"",cust_email:"",cust_phone:"",code:"",status:"cho_duyet",address:"",price:"",link_down:"",des_refund:""};var i=yield r.orderService.createOrder(o);i&&(localStorage.setItem("order_id",i.id.toString()),r.router.navigate(["/contact"]))}}else r.errorMessage="Vui l\xf2ng \u0111i\u1ec1n \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin",r.isError=!0,console.log(r.dateVal),console.log(r.setTimeVal)})()}showForMeEdit(){this.isShowForMeEdit=!0}showIcEdit(){this.isShowIcEdit=!0}showFeEdit(){this.isShowFeEdit=!0}hideForMeEdit(){this.isShowForMeEdit=!1}hideIcEdit(){this.isShowIcEdit=!1}hideFeEdit(){this.isShowFeEdit=!1}showOrder(){this.isShowOrder=!this.isShowOrder}hideOrder(){this.isShowOrder=!1}toggleWarehouse(){this.isShowWarehouse=!this.isShowWarehouse}hideWarehouse(){this.isShowWarehouse=!1}updateValue(r,i){switch(r){case"nameText":this.nameText=i;break;case"desText":this.desText=i;break;case"prizeText":this.prizeText=i;break;case"interestText":this.interestText=i;break;case"addressText":this.addressText=i;break;case"expText":this.expText=i}}saveIc(){var r=this;return(0,S.Z)(function*(){if(void 0!==r.userData?.user.id){const s=r.userData?.userInfo.id;var i=yield r.userInfoService.getUserInfoById(s);if(i)if(void 0!==r.desText&&void 0!==r.prizeText&&void 0!==r.interestText){i.description=r.desText,i.prize=r.prizeText,i.interest=r.interestText,console.log(i);var o=yield r.userInfoService.updateUserInfo(i);o?(console.log("Th\xf4ng tin ng\u01b0\u1eddi d\xf9ng \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt th\xe0nh c\xf4ng",o),window.alert("Th\xf4ng tin ng\u01b0\u1eddi d\xf9ng \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt th\xe0nh c\xf4ng")):(console.error("L\u1ed7i khi c\u1eadp nh\u1eadt th\xf4ng tin ng\u01b0\u1eddi d\xf9ng"),window.alert("L\u1ed7i khi c\u1eadp nh\u1eadt th\xf4ng tin ng\u01b0\u1eddi d\xf9ng"))}else console.error("M\u1ed9t trong c\xe1c tr\u01b0\u1eddng d\u1eef li\u1ec7u l\xe0 undefined"),window.alert("M\u1ed9t trong c\xe1c tr\u01b0\u1eddng d\u1eef li\u1ec7u l\xe0 undefined");else console.error("Kh\xf4ng t\xf4\u0300n ta\u0323i ta\u0323i th\xf4ng tin cu\u0309a ta\u0300i khoa\u0309n na\u0300y"),window.alert("Kh\xf4ng t\xf4\u0300n ta\u0323i ta\u0323i th\xf4ng tin cu\u0309a ta\u0300i khoa\u0309n na\u0300y")}else console.error("User ID is undefined"),window.alert("User ID is undefined")})()}saveForMe(){var r=this;return(0,S.Z)(function*(){if(void 0!==r.userData?.user.id){const s=r.userData?.user.id;var i=yield r.userService.getUserById(s);if(i)if(void 0!==r.nameText&&void 0!==r.addressText&&void 0!==r.expText){i.full_name=r.nameText,i.address=r.addressText,i.exp=parseFloat(r.expText);var o=yield r.userService.updateUser(i);o?(console.log("Th\xf4ng tin ng\u01b0\u1eddi d\xf9ng \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt th\xe0nh c\xf4ng",o),window.alert("Th\xf4ng tin ng\u01b0\u1eddi d\xf9ng \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt th\xe0nh c\xf4ng")):(console.error("L\u1ed7i khi c\u1eadp nh\u1eadt th\xf4ng tin ng\u01b0\u1eddi d\xf9ng"),window.alert("L\u1ed7i khi c\u1eadp nh\u1eadt th\xf4ng tin ng\u01b0\u1eddi d\xf9ng"))}else console.error("M\u1ed9t trong c\xe1c tr\u01b0\u1eddng d\u1eef li\u1ec7u l\xe0 undefined"),window.alert("M\u1ed9t trong c\xe1c tr\u01b0\u1eddng d\u1eef li\u1ec7u l\xe0 undefined");else console.error("Kh\xf4ng t\xf4\u0300n ta\u0323i ta\u0323i th\xf4ng tin cu\u0309a ta\u0300i khoa\u0309n na\u0300y"),window.alert("Kh\xf4ng t\xf4\u0300n ta\u0323i ta\u0323i th\xf4ng tin cu\u0309a ta\u0300i khoa\u0309n na\u0300y")}else console.error("User ID is undefined"),window.alert("User ID is undefined")})()}saveFe(){var r=this;return(0,S.Z)(function*(){if(void 0!==r.userData?.user.id){const s=r.userData?.userInfo.id;var i=yield r.userInfoService.getUserInfoById(s);if(i)if(void 0!==r.languageText&&void 0!==r.cameraText){i.language=r.languageText,i.prize=r.languageText;var o=yield r.userInfoService.updateUserInfo(i);o?(console.log("Th\xf4ng tin ng\u01b0\u1eddi d\xf9ng \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt th\xe0nh c\xf4ng",o),window.alert("Th\xf4ng tin ng\u01b0\u1eddi d\xf9ng \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt th\xe0nh c\xf4ng")):(console.error("L\u1ed7i khi c\u1eadp nh\u1eadt th\xf4ng tin ng\u01b0\u1eddi d\xf9ng"),window.alert("L\u1ed7i khi c\u1eadp nh\u1eadt th\xf4ng tin ng\u01b0\u1eddi d\xf9ng"))}else console.error("M\u1ed9t trong c\xe1c tr\u01b0\u1eddng d\u1eef li\u1ec7u l\xe0 undefined"),window.alert("M\u1ed9t trong c\xe1c tr\u01b0\u1eddng d\u1eef li\u1ec7u l\xe0 undefined");else console.error("Kh\xf4ng t\xf4\u0300n ta\u0323i ta\u0323i th\xf4ng tin cu\u0309a ta\u0300i khoa\u0309n na\u0300y"),window.alert("Kh\xf4ng t\xf4\u0300n ta\u0323i ta\u0323i th\xf4ng tin cu\u0309a ta\u0300i khoa\u0309n na\u0300y")}else console.error("User ID is undefined"),window.alert("User ID is undefined")})()}showAddPortfo(){this.isShowAddPortfo=!this.isShowAddPortfo}closeNewPortfo(){this.isShowAddPortfo=!1}previewImages(r){const o=r.target.files;if(o&&o.length>0){this.filesAddPortfo=Array.from(o),this.imagePreviews=[];for(let s=0;s<o.length;s++){const a=o[s],c=new FileReader;c.onload=l=>{this.imagePreviews.push(l.target?.result)},c.readAsDataURL(a)}}else this.imagePreviews=[]}deleteImageOfNewPortfo(r){r>=0&&r<this.imagePreviews.length&&(this.imagePreviews.splice(r,1),this.filesAddPortfo.splice(r,1),document.getElementById("image").value="")}addNewPortfo(){var r=this;return(0,S.Z)(function*(){if(""!==r.portfo_name&&r.filesAddPortfo.length>0){var i=[],o=[];for(let f=0;f<r.filesAddPortfo.length;f++){const y=r.filesAddPortfo[f],v=y.name.split(".").pop(),O=xp()+"."+v;o.push(new File([y],O,{type:y.type}))}for(let f=0;f<o.length;f++){const y=o[f],v=`images/${y.name}`,b=yield(yield r.fileStorage.upload(v,y)).ref.getDownloadURL();i.push(b)}var s=yield r.decesService.getDecesByPartnerId(r.partnerId);if(s){var a=!1;s.category.forEach(f=>{f.name!==r.portfo_name||(a=!0)}),a||s.category.push({name:r.portfo_name,images:i}),yield r.decesService.updateDeces(s),window.alert("Category added successfully"),yield r.loadDecesData(r.partnerId)}else{var l=[];l.push({name:r.portfo_name,images:i});var h={id:0,partner_id:r.partnerId,category:l};yield r.decesService.createDeces(h),window.alert("Category added successfully"),yield r.loadDecesData(r.partnerId)}}})()}delPicture(r){r>=0&&r<this.modalImagesRepair.length&&this.modalImagesRepair.splice(r,1)}addImageFromAsk(r,i){this.imageData.push({url:r,file:i})}deleteImageFromAsk(r){r>=0&&r<this.imageData.length&&this.imageData.splice(r,1)}onFileInputChange(r){const i=r.target.files;if(i)for(let o=0;o<i.length;o++){const s=i[o],a=URL.createObjectURL(s);this.addImageFromAsk(a,s)}}triggerFileInput(){document.getElementById("hiddenFileInput").click()}submitRepair(){var r=this;return(0,S.Z)(function*(){if(r.imageData.length>0){var i=[],o=[];for(let c=0;c<r.imageData.length;c++){const l=r.imageData[c].file,h=l.name.split(".").pop(),f=xp()+"."+h;o.push(new File([l],f,{type:l.type}))}for(let c=0;c<o.length;c++){const l=o[c],h=`images/${l.name}`,y=yield(yield r.fileStorage.upload(h,l)).ref.getDownloadURL();i.push(y)}var s=yield r.decesService.getDecesByPartnerId(r.partnerId);if(s)for(let c=0;c<s.category.length;c++){const l=s.category[c];if(l.name===r.modalName){l.images=[...l.images,...i],yield r.decesService.updateDeces(s),window.alert("Category added successfully"),yield r.loadDecesData(r.partnerId),r.decesData?.category.forEach(h=>{h.name!==r.modalName||(r.modalImagesRepair=h.images)}),r.imageData=[];break}}}})()}showAddCate(){this.isShowAddCate=!this.isShowAddCate}closeNewCate(){this.isShowAddCate=!this.isShowAddCate}addNewCate(){var r=this;return(0,S.Z)(function*(){if(""==r.cate_cost||""==r.cate_name)window.alert("Nh\xe2\u0323p \u0111u\u0309 t\xean va\u0300 gia\u0301");else{var i=yield r.userInfoService.getUserInfoByUserId(r.partnerId);if(i){var o=yield r.userInfoService.generateNewTyOfPhotoId(i);i.typeOfPhoto.push({id:o,name:r.cate_name,cost:r.cate_cost}),(yield r.userInfoService.updateUserInfo(i))?window.alert("Tha\u0300nh c\xf4ng"):window.alert("Th\xe2\u0301t ba\u0323i")}}})()}loadInfo(r){var i=this;return(0,S.Z)(function*(){i.infoData=yield i.userInfoService.getUserInfoByUserId(r),null==i.infoData?console.log("hu"):(console.log("hui"),console.log(i.infoData))})()}showEditCate(){this.isShowEditCate=!this.isShowEditCate}closeEditCate(){this.isShowEditCate=!this.isShowEditCate}editCate(){var r=this;return(0,S.Z)(function*(){r.infoData&&(r.validTypeOfPhoto(r.infoData.typeOfPhoto)?(yield r.userInfoService.updateUserInfo(r.infoData))?window.alert("Tha\u0300nh c\xf4ng"):window.alert("Th\xe2\u0301t ba\u0323i"):window.alert("Nh\xe2\u0323p \u0111u\u0309 t\xean va\u0300 gia\u0301"))})()}validTypeOfPhoto(r){var i=!0;return r.forEach(o=>{o&&(""===o.name||""===o.cost)&&(i=!1)}),i}showEditAvatar(){this.isShowEditAvatar=!this.isShowEditAvatar}hideEditAvatar(){this.isShowEditAvatar=!1}onChooseAvatarEdit(r){const i=r.target.files[0];if(i){this.editAvatarFile=i;const o=new FileReader;o.onload=s=>{this.previewAvatarEdit=s.target.result},o.readAsDataURL(i)}}onEditAvatar(){var r=this;return(0,S.Z)(function*(){if(r.editAvatarFile){const a=r.editAvatarFile.name.split(".").pop(),c=xp()+"."+a;var i;const l=`avatar/${(i=new File([r.editAvatarFile],c,{type:r.editAvatarFile.type})).name}`,f=yield(yield r.fileStorage.upload(l,i)).ref.getDownloadURL();var o=yield r.userService.getUserById(r.partnerId);o?(o.avatar=f,(yield r.userService.updateUser(o))?(window.alert("Tha\u0300nh c\xf4ng"),r.eventService.emitEvent("avatarEdited","success"),r.loadUserInfoData(r.partnerId),r.previewAvatarEdit=""):window.alert("Th\xe2\u0301t ba\u0323i")):window.alert("Th\xe2\u0301t ba\u0323i")}})()}hideAddWall(){this.isShowAddWall=!1}showAddWallImages(){this.isShowAddWall=!this.isShowAddWall}triggerAddFileWall(){document.getElementById("hiddenFileInputWall").click()}onFileInputWallChange(r){const i=r.target.files;if(i&&i.length>0){const o=8-this.fileWall.length;if(o>0){const s=Array.from(i).slice(0,o);this.fileWall.push(...s)}for(let s=0;s<this.fileWall.length;s++){const c=URL.createObjectURL(i[s]);this.addWallUrl.push(c)}}}deleteImageFromWall(r){r>=0&&r<this.addWallUrl.length&&this.addWallUrl.splice(r,1)}submitAddWall(){var r=this;return(0,S.Z)(function*(){if(8===r.fileWall.length){var i=[],o=[];for(let c=0;c<r.fileWall.length;c++){const l=r.fileWall[c],h=l.name.split(".").pop(),f=xp()+"."+h;o.push(new File([l],f,{type:l.type}))}for(let c=0;c<o.length;c++){const l=o[c],h=`wall/${l.name}`,y=yield(yield r.fileStorage.upload(h,l)).ref.getDownloadURL();i.push(y)}var s=yield r.walltService.getWallByUserId(r.partnerId);if(s)s.images=i,(yield r.walltService.updateWall(s))?(window.alert("Tha\u0300nh c\xf4ng"),r.loadWall(r.partnerId)):window.alert("Th\xe2\u0301t ba\u0323i");else{const c={id:0,images:i,user_id:r.partnerId};(yield r.walltService.createWall(c))?(window.alert("Tha\u0300nh c\xf4ng"),r.loadWall(r.partnerId)):window.alert("Th\xe2\u0301t ba\u0323i")}}else window.alert("Ha\u0303y cho\u0323n \u0111u\u0309 8 b\u01b0\u0301c a\u0309nh")})()}}return(t=e).\u0275fac=function(r){return new(r||t)(W(nr),W(xo),W(Um),W(El),W(jw),W(mT),W(ed),W(XT),W(T9),W(A9),W(dP))},t.\u0275cmp=At({type:t,selectors:[["app-partner-profile"]],hostBindings:function(r,i){1&r&&j("resize",function(s){return i.onResize(s)},0,E2)},decls:258,vars:58,consts:[[1,"profile-content"],[1,"wall-wrapper"],[4,"ngIf","ngIfElse"],["elseEmptyWall",""],[1,"content-wrapper"],[1,"forMe-wrapper"],[1,"forMe-content"],[1,"avatar-wrapper"],[1,"avatar"],["alt","",1,"avatar-image",3,"src"],[1,"des-forMe-wrapper"],[1,"des-forMe-name"],[1,"btn-edit-forMe",3,"click"],[1,"bx","bx-edit-alt"],[1,"des-forMe-address"],[1,"des-forMe-rate"],[1,"rate-star"],[4,"ngIf"],[1,"rate-text"],[1,"des-forMe-exp"],[1,"forMe-edit",3,"ngClass"],[3,"ngModel","ngModelChange"],[1,"des-forMe-address",3,"ngModel","ngModelChange"],[1,"des-forMe-exp",3,"ngModel","ngModelChange"],[1,"btn-edit-control"],["href","javascript:void(0)",1,"btn-save",3,"click"],["href","javascript:void(0)",1,"btn-cancel",3,"click"],[1,"info-wrapper"],[1,"infor-title-list"],[1,"title-list"],[1,"it-item"],["href","javascript:void(0)",1,"it-link"],[1,"deliver-line"],[1,"infor-content-list"],[1,"ic-item"],[1,"text-description"],[1,"prize"],[1,"prize-title"],[1,"interest"],[1,"interest-title"],[1,"btn-ic-edit",3,"click"],[1,"ic-edit",2,"overflow-y","auto",3,"ngClass"],[1,"feature-wrapper"],[1,"feature-title"],[1,"feature-content"],[1,"language"],[1,"language-title"],["src","./assets/images/icons/translate.png","alt",""],[1,"camera"],[1,"camera-title"],["src","./assets/images/icons/camera.png","alt",""],[1,"btn-feature-edit",3,"click"],[1,"feature-edit",3,"ngClass"],[3,"ngModel"],[1,"portfolio"],[1,"portfolio-title"],["href","javascript:void(0);",3,"click"],[1,"bx","bx-plus-circle"],[1,"portfolio-content"],["class","portfolio-item",4,"ngFor","ngForOf"],[1,"appraise"],[1,"appraise-title"],[1,"rate"],[1,"appraise-content"],["class","appraise-item",4,"ngFor","ngForOf"],[1,"how-it-works"],[1,"hiw-title"],[1,"hiw-content"],[1,"hiw-item"],[1,"item-title"],[1,"title-icon"],[1,"bx","bx-calendar-check"],[1,"title-text"],[1,"item-content"],[1,"content-deliver"],[1,"content-text"],[1,"bx","bxs-camera"],[1,"bx","bx-happy-alt"],["class","order-wrapper",4,"ngIf"],["class","toggle-order-wrapper",3,"click",4,"ngIf"],[1,"ask-repair-wrapper",3,"ngClass"],[1,"ask-repair-container"],[1,"ask-repair-content"],[1,"repair-title"],[1,"repair-cont"],[1,"repair-picture"],[1,"picture-wrapper"],["class","picture-item",4,"ngFor","ngForOf"],[1,"ask-repair-button"],[1,"rs-left"],["type","file","id","hiddenFileInput","accept","image/*","multiple","",2,"display","none",3,"change"],["href","javascript:void(0)",1,"btn-upload-repair",3,"click"],[1,"rs-right"],["href","javascript:void(0)",1,"btn-submit-repair",3,"click"],["href","javascript:void(0)",1,"btn-close-ask",3,"click"],[1,"bx","bx-x"],[1,"add-new-portfo",3,"ngClass"],[1,"new-portfo-container"],[1,"new-portfo-content"],[1,"new-portfo-title"],[1,"new-portfo-cont"],[1,"name-wapper"],["for","name"],["type","text","name","name","id","name",3,"ngModel","ngModelChange"],[1,"image-wrapper"],[1,"upload-control"],["for","image"],["type","file","name","image","id","image","accept","image/*","multiple","",3,"change"],[1,"list-preview"],["class","preview-item",4,"ngFor","ngForOf"],[1,"submit-portfo-wrapper"],[1,"btn-add-portfo",3,"click"],["href","javascript:void(0);",1,""],["href","javascript:void(0)",1,"btn-close-newPortfo",3,"click"],["class","toggle-warehouse-wrapper",3,"click",4,"ngIf"],["class","warehouse-menu",4,"ngIf"],["class","add-new-cate",4,"ngIf"],["class","edit-new-cate",4,"ngIf"],["class","edit-avatar",4,"ngIf"],["class","add-wall-wrapper",4,"ngIf"],[1,"wall-content"],[1,"wall1"],[1,"wall1-1"],["alt","",3,"src"],[1,"wall1-2"],[1,"wall2"],[1,"wall3"],[1,"wall3-1"],[1,"wall3-2"],[1,"wall4"],[1,"wall5"],[1,"wall5-1"],[1,"wall5-2"],["src","./assets/images/profile/pf1.jpg","alt",""],["src","./assets/images/profile/pf2.jpg","alt",""],["src","./assets/images/profile/pf3.jpg","alt",""],["src","./assets/images/profile/pf4.jpg","alt",""],["src","./assets/images/profile/pf5.jpg","alt",""],["src","./assets/images/profile/pf6.jpg","alt",""],["src","./assets/images/profile/pf7.jpg","alt",""],["src","./assets/images/profile/pf8.jpg","alt",""],[3,"class",4,"ngFor","ngForOf"],[1,"portfolio-item"],["href","javascript:void(0);"],[1,"it-header"],[1,"it-footer"],[1,"it-cate"],[1,"it-count-picture"],[1,"btn-portfolio-edit",3,"click"],[1,"appraise-item"],[1,"ai-header"],[1,"header-avatar"],["src","./assets/images/avatar_review.jpg","alt",""],[1,"header-name"],[1,"header-rate"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"header-date"],[1,"ai-comment"],[1,"order-wrapper"],[1,"order-container"],[1,"order-content"],[3,"click"],["href","javascript:void(0)"],["href","javascript:void(0)",3,"click"],["class","btn-close-order",3,"click",4,"ngIf"],[1,"btn-close-order",3,"click"],[1,"toggle-order-wrapper",3,"click"],[1,"picture-item"],["alt","","srcset","",3,"src"],["href","javascript:void(0;)",1,"btn-del-image",3,"click"],["href","javascript:void(0)",1,"btn-del-image",3,"click"],[1,"preview-item"],[1,"preview-content"],["alt","Preview Image",2,"max-width","100%","max-height","200px",3,"src"],["href","javascript:void(0);",1,"item-close",3,"click"],[1,"toggle-warehouse-wrapper",3,"click"],[1,"bx","bx-left-arrow-circle"],[1,"warehouse-menu"],[1,"warehouse-content"],[3,"routerLink"],["href","javascript:void(0);","class","close-warehouse",3,"click",4,"ngIf"],["href","javascript:void(0);",1,"close-warehouse",3,"click"],[1,"add-new-cate"],["for","cate_name"],["for","cate_cost"],["type","text","name","cate_name","id","cate_name",3,"ngModel","ngModelChange"],["type","number","name","cate_cost","id","cate_cost",3,"ngModel","ngModelChange"],["href","javascript:void(0)",1,"btn-add-newPortfo",3,"click"],[1,"edit-new-cate"],[4,"ngFor","ngForOf"],["type","text",3,"ngModel","ngModelChange"],["type","number",3,"ngModel","ngModelChange"],[1,"edit-avatar"],["type","file","name","","id","avatarInput",3,"ngModel","ngModelChange","change"],[1,"preview-edit-avatar"],[1,"add-wall-wrapper"],["type","file","id","hiddenFileInputWall","accept","image/*","multiple","",2,"display","none",3,"change"]],template:function(r,i){if(1&r&&(_(0,"div",0)(1,"div",1),F(2,zde,21,8,"ng-container",2),F(3,Wde,20,0,"ng-template",null,3,er),m(),_(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),I(10,"img",9),m()(),_(11,"div",10)(12,"div",11)(13,"h2"),w(14),m(),_(15,"div",12),j("click",function(){return i.showForMeEdit()}),I(16,"i",13),m()(),_(17,"p",14),w(18),m(),_(19,"div",15)(20,"div",16),F(21,qde,2,1,"ng-container",17),F(22,Zde,2,1,"ng-container",17),F(23,Qde,2,1,"ng-container",17),F(24,Jde,2,1,"ng-container",17),F(25,the,2,1,"ng-container",17),F(26,rhe,2,1,"ng-container",17),m(),_(27,"span",18),w(28),m()(),_(29,"p",19),w(30),m(),_(31,"div",20)(32,"div",11)(33,"input",21),j("ngModelChange",function(s){return i.updateValue("nameText",s)}),m()(),_(34,"input",22),j("ngModelChange",function(s){return i.updateValue("addressText",s)}),m(),_(35,"input",23),j("ngModelChange",function(s){return i.updateValue("expText",s)}),m(),_(36,"div",24)(37,"a",25),j("click",function(){return i.saveForMe()}),w(38,"L\u01b0u"),m(),_(39,"a",26),j("click",function(){return i.hideForMeEdit()}),w(40,"Hu\u0309y"),m()()()()()(),_(41,"div",27)(42,"div",28)(43,"div",29)(44,"li",30)(45,"a",31),w(46,"V\u1ec1 t\xf4i"),m()(),_(47,"li",30)(48,"a",31),w(49,"H\u1ed3 s\u01a1"),m()(),_(50,"li",30)(51,"a",31),w(52,"\u0110\xe1nh gi\xe1"),m()(),_(53,"li",30)(54,"a",31),w(55,"How it works"),m()()()(),I(56,"div",32),_(57,"div",33)(58,"div",34)(59,"div",35)(60,"p"),w(61),m()(),_(62,"div",36)(63,"h3",37),w(64," Gi\u1ea3i th\u01b0\u1edfng "),m(),_(65,"p"),w(66),m()(),_(67,"div",38)(68,"h3",39),w(69," \u0110i\u1ec1u th\xfa v\u1ecb v\u1ec1 t\xf4i "),m(),_(70,"p"),w(71),m()(),_(72,"div",40),j("click",function(){return i.showIcEdit()}),I(73,"i",13),m(),_(74,"div",41)(75,"div",35)(76,"textarea",21),j("ngModelChange",function(s){return i.updateValue("desText",s)}),w(77),m()(),_(78,"div",36)(79,"h3",37),w(80," Gi\u1ea3i th\u01b0\u1edfng "),m(),_(81,"textarea",21),j("ngModelChange",function(s){return i.updateValue("prizeText",s)}),w(82),m()(),_(83,"div",38)(84,"h3",39),w(85," \u0110i\u1ec1u th\xfa v\u1ecb v\u1ec1 t\xf4i "),m(),_(86,"textarea",21),j("ngModelChange",function(s){return i.updateValue("interestText",s)}),w(87),m()(),_(88,"div",24)(89,"a",25),j("click",function(){return i.saveIc()}),w(90,"L\u01b0u"),m(),_(91,"a",26),j("click",function(){return i.hideIcEdit()}),w(92,"Hu\u0309y"),m()()()()(),I(93,"div",32),_(94,"div",42)(95,"h3",43),w(96,"Ng\xf4n ng\u1eef & M\xe1y \u1ea3nh"),m(),_(97,"div",44)(98,"div",45)(99,"div",46),I(100,"img",47),_(101,"h3"),w(102,"Ng\xf4n ng\u1eef"),m()(),_(103,"p"),w(104),m()(),_(105,"div",48)(106,"div",49),I(107,"img",50),_(108,"h3"),w(109,"M\xe1y \u1ea3nh"),m()(),_(110,"p"),w(111),m()(),_(112,"div",51),j("click",function(){return i.showFeEdit()}),I(113,"i",13),m()(),_(114,"div",52)(115,"h3",43),w(116,"Ng\xf4n ng\u1eef & M\xe1y \u1ea3nh"),m(),_(117,"div",44)(118,"div",45)(119,"div",46),I(120,"img",47),_(121,"h3"),w(122,"Ng\xf4n ng\u1eef"),m()(),_(123,"textarea",53),w(124),m()(),_(125,"div",48)(126,"div",49),I(127,"img",50),_(128,"h3"),w(129,"M\xe1y \u1ea3nh"),m()(),_(130,"textarea",53),w(131),m()()(),_(132,"div",24)(133,"a",25),j("click",function(){return i.saveFe()}),w(134,"L\u01b0u"),m(),_(135,"a",26),j("click",function(){return i.hideFeEdit()}),w(136,"Hu\u0309y"),m()()()(),I(137,"div",32),_(138,"div",54)(139,"div",55)(140,"h3"),w(141," My Portfolio "),m(),_(142,"a",56),j("click",function(){return i.showAddPortfo()}),I(143,"i",57),m()(),_(144,"div",58),F(145,ihe,11,3,"div",59),m()(),I(146,"div",32),_(147,"div",60)(148,"div",61)(149,"h3"),w(150,"\u0110\xe1nh Gi\xe1"),m(),_(151,"div",62)(152,"div",16),F(153,she,2,1,"ng-container",17),F(154,che,2,1,"ng-container",17),F(155,uhe,2,1,"ng-container",17),F(156,hhe,2,1,"ng-container",17),F(157,fhe,2,1,"ng-container",17),F(158,_he,2,1,"ng-container",17),m(),_(159,"span",18),w(160),m()()(),_(161,"div",63),F(162,Ahe,19,9,"div",64),m()(),I(163,"div",32),_(164,"div",65)(165,"h3",66),w(166,"How it Works"),m(),_(167,"div",67)(168,"div",68)(169,"div",69)(170,"div",70),I(171,"i",71),m(),_(172,"h3",72),w(173,"Book."),m()(),_(174,"div",73)(175,"div",74),I(176,"p"),m(),_(177,"div",75)(178,"p"),w(179,"Nhanh ch\xf3ng t\xecm th\u1ea5y m\u1ed9t nhi\u1ebfp \u1ea3nh gia \u0111\u01b0\u1ee3c x\u1ebfp h\u1ea1ng h\xe0ng \u0111\u1ea7u g\u1ea7n b\u1ea1n. \u0110\u1eb7t ch\u1ed7 ph\xf9 h\u1ee3p cho kho\u1ea3nh kh\u1eafc \u0111\u1eb7c bi\u1ec7t c\u1ee7a b\u1ea1n ch\u1ec9 b\u1eb1ng v\xe0i c\xfa nh\u1ea5p chu\u1ed9t \u0111\u01a1n gi\u1ea3n."),m()()()(),_(180,"div",68)(181,"div",69)(182,"div",70),I(183,"i",76),m(),_(184,"h3",72),w(185,"Sheet."),m()(),_(186,"div",73)(187,"div",74),I(188,"p"),m(),_(189,"div",75)(190,"p"),w(191,"H\xe3y th\u01b0 gi\xe3n v\xe0 t\u1eadn h\u01b0\u1edfng kho\u1ea3nh kh\u1eafc khi m\u1ed9t nhi\u1ebfp \u1ea3nh gia gi\xe0u kinh nghi\u1ec7m ch\u1ee5p \u1ea3nh cho b\u1ea1n. H\u1ecd s\u1ebd ch\u0103m s\xf3c t\u1ea5t c\u1ea3 c\xe1c chi ti\u1ebft."),m()()()(),_(192,"div",68)(193,"div",69)(194,"div",70),I(195,"i",77),m(),_(196,"h3",72),w(197,"Enjoy!."),m()(),_(198,"div",73),I(199,"div",74),_(200,"div",75)(201,"p"),w(202," Trong v\xf2ng 2 ng\xe0y l\xe0m vi\u1ec7c k\u1ec3 t\u1eeb ng\xe0y ch\u1ee5p \u1ea3nh, b\u1ea1n s\u1ebd c\xf3 th\u1ec3 xem, t\u1ea3i xu\u1ed1ng v\xe0 chia s\u1ebb. T\u1eadn h\u01b0\u1edfng t\u1ea5t c\u1ea3 m\u1ed9t l\u1ea7n n\u1eefa v\xe0 m\u1ed9t l\u1ea7n n\u1eefa. "),m()()()()()()()(),F(203,She,18,1,"div",78),F(204,xhe,2,0,"div",79),_(205,"div",80)(206,"div",81)(207,"div",82)(208,"div",83)(209,"h2"),w(210),m(),I(211,"div",32),m(),_(212,"div",84)(213,"div",85)(214,"div",86),F(215,Rhe,4,1,"div",87),F(216,khe,4,1,"div",87),m()()(),_(217,"div",88)(218,"div",89)(219,"input",90),j("change",function(s){return i.onFileInputChange(s)}),m(),_(220,"a",91),j("click",function(){return i.triggerFileInput()}),w(221,"Ta\u0309i l\xean"),m()(),_(222,"div",92)(223,"a",93),j("click",function(){return i.submitRepair()}),w(224,"C\xe2\u0323p nh\xe2\u0323t"),m()()(),_(225,"a",94),j("click",function(){return i.closeAsk()}),I(226,"i",95),m()()()(),_(227,"div",96)(228,"div",97)(229,"div",98)(230,"div",99)(231,"h2"),w(232,"Th\xeam m\u1edbi"),m(),I(233,"div",32),m(),_(234,"div",100)(235,"div",101)(236,"label",102),w(237,"T\xean"),m(),_(238,"input",103),j("ngModelChange",function(s){return i.portfo_name=s}),m()(),_(239,"div",104)(240,"div",105)(241,"label",106),w(242,"\u1ea2nh"),m(),_(243,"input",107),j("change",function(s){return i.previewImages(s)}),m()(),_(244,"div",108),F(245,Nhe,5,1,"div",109),m()(),_(246,"div",110)(247,"div",111),j("click",function(){return i.addNewPortfo()}),_(248,"a",112),w(249,"Th\xeam"),m()()()(),_(250,"a",113),j("click",function(){return i.closeNewPortfo()}),I(251,"i",95),m()()()(),F(252,Fhe,2,0,"div",114),F(253,Bhe,9,7,"div",115),F(254,jhe,27,2,"div",116),F(255,zhe,21,1,"div",117),F(256,Whe,16,2,"div",118),F(257,qhe,23,1,"div",119),m()),2&r){const o=Qn(4);P(2),A("ngIf",i.wallImages.length>0)("ngIfElse",o),P(8),Ht("src",null==i.userData||null==i.userData.user?null:i.userData.user.avatar,pt),P(4),bt(" ",i.nameText," "),P(4),bt(" ",i.addressText," "),P(3),A("ngIf",i.countRate>0&&i.countRate<=1),P(1),A("ngIf",i.countRate>1&&i.countRate<=2),P(1),A("ngIf",i.countRate>2&&i.countRate<=3),P(1),A("ngIf",i.countRate>3&&i.countRate<=4),P(1),A("ngIf",i.countRate>4&&i.countRate<=5),P(1),A("ngIf",0===i.countRate),P(2),Ee(i.countRate),P(2),bt("",i.expText," n\u0103m kinh nghi\xea\u0323m"),P(1),A("ngClass",i.isShowForMeEdit?"show":""),P(2),A("ngModel",i.nameText),P(1),A("ngModel",i.addressText),P(1),A("ngModel",i.expText),P(26),bt(" ",i.desText," "),P(5),bt(" ",i.prizeText," "),P(5),bt(" ",i.interestText," "),P(3),A("ngClass",i.isShowIcEdit?"show":""),P(2),A("ngModel",i.desText),P(1),bt("                                ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.description,"\n                            "),P(4),A("ngModel",i.prizeText),P(1),bt("                                ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.prize,"\n                            "),P(4),A("ngModel",i.interestText),P(1),bt("                                ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.interest,"\n                            "),P(17),bt(" ",i.languageText," "),P(7),bt(" ",i.cameraText," "),P(3),A("ngClass",i.isShowFeEdit?"show":""),P(9),A("ngModel",i.languageText),P(1),bt("                                ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.language,"\n                            "),P(6),A("ngModel",i.cameraText),P(1),bt("                                ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.camera,"\n                            "),P(14),A("ngForOf",null==i.decesData?null:i.decesData.category),P(8),A("ngIf",i.countRate>0&&i.countRate<=1),P(1),A("ngIf",i.countRate>1&&i.countRate<=2),P(1),A("ngIf",i.countRate>2&&i.countRate<=3),P(1),A("ngIf",i.countRate>3&&i.countRate<=4),P(1),A("ngIf",i.countRate>4&&i.countRate<=5),P(1),A("ngIf",0===i.countRate),P(2),Ee(i.countRate),P(2),A("ngForOf",i.reviewData),P(41),A("ngIf",i.isShowOrder),P(1),A("ngIf",!i.isShowOrder),P(1),A("ngClass",i.isShowAskRepair?"active":""),P(5),Ee(i.modalName),P(5),A("ngForOf",i.modalImagesRepair),P(1),A("ngForOf",i.imageData),P(11),A("ngClass",i.isShowAddPortfo?"active":""),P(11),A("ngModel",i.portfo_name),P(7),A("ngForOf",i.imagePreviews),P(7),A("ngIf",!i.isShowWarehouse),P(1),A("ngIf",i.isShowWarehouse),P(1),A("ngIf",i.isShowAddCate),P(1),A("ngIf",i.isShowEditCate),P(1),A("ngIf",i.isShowEditAvatar),P(1),A("ngIf",i.isShowAddWall)}},dependencies:[Ts,Wr,Vr,x_,II,bI,pr,Ns,DT,ua,Fs],styles:[".forMe-wrapper[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:5rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:3rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   .avatar-image[_ngcontent-%COMP%]{height:130px;width:130px;object-fit:cover;border-radius:50%}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]{width:100%;position:relative}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-name[_ngcontent-%COMP%]{width:100%;position:relative;display:flex;justify-content:flex-start;align-items:center;column-gap:2rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-name[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:2px 0;color:var(--color-primary);font-weight:700;font-size:28px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-name[_ngcontent-%COMP%]   .btn-edit-forMe[_ngcontent-%COMP%]{cursor:pointer;width:28px;height:28px;font-size:28px;display:flex;justify-content:center;align-items:center}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-address[_ngcontent-%COMP%]{margin:4px 0;font-size:15px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-rate[_ngcontent-%COMP%]{margin:.5rem 0;display:flex;justify-content:flex-start;column-gap:.75rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--color-warning)}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-rate[_ngcontent-%COMP%]   .rate-text[_ngcontent-%COMP%]{font-size:15px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-exp[_ngcontent-%COMP%]{margin:4px 0}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .forMe-edit[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#e8e8e8;border-radius:.3rem;overflow-y:auto;padding:1rem 2rem;display:none}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .forMe-edit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-top:1em;width:100%;height:40px;border:none;outline:none;border-radius:.3rem;background-color:#ddd;padding:5px 10px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .forMe-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]{position:sticky;right:0;bottom:0rem;display:flex;justify-content:flex-end;column-gap:.5rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .forMe-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{line-height:35px;color:var(--color-light);padding:0 15px;background-color:var(--color-primary);text-decoration:none;border-radius:.3rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .forMe-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background-color:#b8b8b8;color:#000}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .forMe-edit.show[_ngcontent-%COMP%]{display:block}.infor-title-list[_ngcontent-%COMP%]{padding-left:2rem}.infor-title-list[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:4rem;flex-wrap:wrap;row-gap:2rem}.infor-title-list[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]   .it-item[_ngcontent-%COMP%]{list-style:none;display:inline}.infor-title-list[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]   .it-item[_ngcontent-%COMP%]   .it-link[_ngcontent-%COMP%]{text-decoration:none;display:block;font-weight:700;color:var(--color-primary);font-size:20px;text-wrap:nowrap}.infor-content-list[_ngcontent-%COMP%]{padding-top:1.5rem;padding-left:2rem;position:relative}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .prize[_ngcontent-%COMP%]   .prize-title[_ngcontent-%COMP%]{color:var(--color-primary);font-size:20px;font-weight:700}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .interest[_ngcontent-%COMP%]   .interest-title[_ngcontent-%COMP%]{font-weight:700;font-size:20px;color:var(--color-primary)}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .btn-ic-edit[_ngcontent-%COMP%]{cursor:pointer;width:100%;display:flex;justify-content:center;font-size:28px}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .ic-edit[_ngcontent-%COMP%]{display:none;position:absolute;top:0;left:0;width:100%;height:100%;background-color:#e8e8e8;border-radius:.5rem;padding:1.5rem 2rem}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .ic-edit[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin-top:1em;width:100%;height:80px;border:none;outline:none;border-radius:.3rem;background-color:#ddd;padding:5px 10px}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .ic-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]{position:sticky;right:0;bottom:0;display:flex;justify-content:flex-end;column-gap:.5rem}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .ic-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{line-height:35px;color:var(--color-light);padding:0 15px;background-color:var(--color-primary);text-decoration:none;border-radius:.3rem}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .ic-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background-color:#b8b8b8;color:#000}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .ic-edit.show[_ngcontent-%COMP%]{display:block}.feature-wrapper[_ngcontent-%COMP%]{padding-left:2rem;padding-top:.5rem;position:relative}.feature-wrapper[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:700;font-size:20px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]{position:relative}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   .language-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   .language-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   .language-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:var(--color-primary);font-weight:700}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-left:3rem;font-size:18px;margin-top:0}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   .camera-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   .camera-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   .camera-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:var(--color-primary);font-weight:700}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:0;padding-left:3rem;font-size:18px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .btn-feature-edit[_ngcontent-%COMP%]{cursor:pointer;width:100%;display:flex;justify-content:center;font-size:28px}.feature-wrapper[_ngcontent-%COMP%]   .feature-edit[_ngcontent-%COMP%]{display:none;position:absolute;top:0;left:0;width:100%;height:100%;background-color:#e8e8e8;border-radius:.5rem;padding:.5rem 2rem;overflow-y:auto}.feature-wrapper[_ngcontent-%COMP%]   .feature-edit[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin-top:1em;width:100%;height:80px;border:none;outline:none;border-radius:.3rem;background-color:#ddd;padding:5px 10px}.feature-wrapper[_ngcontent-%COMP%]   .feature-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]{position:sticky;right:0;bottom:1rem;display:flex;justify-content:flex-end;column-gap:.5rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{line-height:35px;color:var(--color-light);padding:0 15px;background-color:var(--color-primary);text-decoration:none;border-radius:.3rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background-color:#b8b8b8;color:#000}.feature-wrapper[_ngcontent-%COMP%]   .feature-edit.show[_ngcontent-%COMP%]{display:block}.portfolio[_ngcontent-%COMP%]{padding-left:2rem;padding-right:25%;padding-top:.5rem}.portfolio[_ngcontent-%COMP%]   .portfolio-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:2rem;align-items:center}.portfolio[_ngcontent-%COMP%]   .portfolio-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;color:var(--color-warning)}.portfolio[_ngcontent-%COMP%]   .portfolio-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:25px;display:flex;justify-content:center;align-items:center;text-decoration:none;color:var(--color-text-body)}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-auto-rows:1fr;gap:2rem}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-text-body);text-decoration:none}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   .portfolio-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:250px;object-fit:cover}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   .it-footer[_ngcontent-%COMP%]{position:relative}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   .it-footer[_ngcontent-%COMP%]   .it-cate[_ngcontent-%COMP%]{font-size:20px;margin-bottom:10px}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   .it-footer[_ngcontent-%COMP%]   .btn-portfolio-edit[_ngcontent-%COMP%]{cursor:pointer;width:100%;display:flex;justify-content:flex-end;font-size:28px;position:absolute;right:1.5rem;top:50%;transform:translateY(-50%);z-index:1}.appraise[_ngcontent-%COMP%]{padding-left:2rem;padding-top:.5rem}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--color-warning);font-weight:700}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;column-gap:.5rem}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--color-warning)}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   .rate-text[_ngcontent-%COMP%]{font-weight:700}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]{margin-bottom:1rem}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;flex-direction:column;align-items:center;column-gap:.75rem}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]   .header-avatar[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-start;column-gap:.5rem}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]   .header-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;object-fit:cover}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]   .header-avatar[_ngcontent-%COMP%]   .header-name[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:300}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]   .header-avatar[_ngcontent-%COMP%]   .header-rate[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:13px;color:var(--color-warning)}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]   .header-date[_ngcontent-%COMP%]{width:100%;font-weight:300;font-size:12px;padding-left:3rem}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-comment[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;margin-top:.75rem;padding-left:2.25rem;font-size:14px}.how-it-works[_ngcontent-%COMP%]{padding-left:1.5rem;padding-top:.5rem}.how-it-works[_ngcontent-%COMP%]   .hiw-title[_ngcontent-%COMP%]{color:var(--color-warning);font-weight:700}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;flex-direction:column}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{font-size:30px;color:var(--color-primary)}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]   .title-text[_ngcontent-%COMP%]{margin:8px 0;font-size:20px;font-weight:700;color:var(--color-primary)}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:2rem;align-items:center;height:100%}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .content-deliver[_ngcontent-%COMP%]{display:flex;justify-content:center;height:auto;width:3px;margin-left:12px;background-color:var(--color-primary)}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .content-deliver[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;height:100%}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .content-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 400px 0 4rem}.content-wrapper[_ngcontent-%COMP%]   .info-wrapper[_ngcontent-%COMP%]   .deliver-line[_ngcontent-%COMP%]{height:2px;width:100%;margin:1.5rem 0;background-color:var(--color-primary)}.order-wrapper[_ngcontent-%COMP%]{background-color:var(--color-bg-body);position:fixed;top:150px;right:50px;border-radius:.3rem;box-shadow:0 2px 5px #0003;z-index:600}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]{width:300px;min-height:calc(100vh - 400px);max-height:calc(100vh - 150px);overflow-y:auto}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--color-light)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--color-secondary);border-radius:4px;border:2px solid var(--color-light)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;color:#333;font-size:20px;margin-bottom:1rem}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]{padding:1.5rem 1rem;display:flex;flex-direction:column;row-gap:1rem}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:var(--color-warning);border-radius:.3rem;display:flex;justify-content:center}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:100%;font-size:16px;text-decoration:none;color:var(--color-light);line-height:2.5em;position:relative;text-align:center}.order-wrapper[_ngcontent-%COMP%]   .btn-close-order[_ngcontent-%COMP%]{position:absolute;top:-.4rem;right:-.3rem;font-size:22px;width:22px;height:22px;display:flex;justify-content:center;align-items:center;border-radius:50%;background-color:var(--color-secondary);text-decoration:none;color:#000;padding-top:1px}.toggle-order-wrapper[_ngcontent-%COMP%]{position:fixed;bottom:5rem;right:1rem;width:40px;height:40px;background-color:var(--color-primary);z-index:999;font-size:30px;border-radius:50%;padding-top:3.5px;padding-left:5px;color:var(--color-light)}.ask-repair-wrapper[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;z-index:999}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]{width:100%;height:100vh;padding-top:100px;display:flex;justify-content:center;align-items:center;position:relative}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]{height:80%;width:90%;margin:auto;background-color:var(--color-light);position:absolute;transform:translateY(-200%);padding:0 1rem}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-title[_ngcontent-%COMP%]{height:100px}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .deliver-line[_ngcontent-%COMP%]{height:2px;width:100%;margin:1.5rem 0;background-color:var(--color-primary)}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]{max-height:calc(100% - 150px);overflow-y:auto;padding-top:1rem}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-picture[_ngcontent-%COMP%]{height:100%;padding-right:1rem}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]{height:100%;display:grid;grid-template-columns:repeat(4,1fr);gap:1rem}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-item[_ngcontent-%COMP%]{grid-column:span 1;width:100%;position:relative}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-item[_ngcontent-%COMP%]   .btn-del-image[_ngcontent-%COMP%]{position:absolute;top:-.4rem;right:-.3rem;font-size:22px;width:22px;height:22px;display:flex;justify-content:center;align-items:center;border-radius:50%;background-color:var(--color-secondary);text-decoration:none;color:#000;padding-top:1px}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-item.hide[_ngcontent-%COMP%]{display:none}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .ask-repair-button[_ngcontent-%COMP%]{position:absolute;bottom:1.5rem;right:1.5rem;color:#000;border-radius:50%;display:flex;justify-content:center;align-items:center;column-gap:1rem}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .ask-repair-button[_ngcontent-%COMP%]   .rs-left[_ngcontent-%COMP%]{border-radius:.35rem;background-color:var(--color-warning);display:flex;justify-content:center;align-items:center;padding:5px 8px}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .ask-repair-button[_ngcontent-%COMP%]   .rs-left[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--color-light)}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .ask-repair-button[_ngcontent-%COMP%]   .rs-right[_ngcontent-%COMP%]{border-radius:.35rem;background-color:var(--color-primary);display:flex;justify-content:center;align-items:center;padding:5px 8px}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .ask-repair-button[_ngcontent-%COMP%]   .rs-right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--color-light)}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .btn-close-ask[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;color:#000;font-weight:700;font-size:28px;width:25px;height:25px;border-radius:50%;display:flex;justify-content:center;align-items:center;text-decoration:none}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .btn-close-ask[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary);color:#000;transform:rotate(35deg)}.ask-repair-wrapper.active[_ngcontent-%COMP%]{display:block}.ask-repair-wrapper.active[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]{transform:translateY(0)}.add-new-portfo[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;z-index:999}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]{width:100%;height:100vh;padding-top:100px;display:flex;justify-content:center;align-items:center;position:relative}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]{height:80%;width:90%;margin:auto;background-color:var(--color-light);position:absolute;transform:translateY(-200%);padding:0 1rem;border:1px solid #ddd;border-radius:5px;display:flex;flex-direction:column;gap:20px}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-title[_ngcontent-%COMP%]{text-align:center;font-size:24px;height:100px}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .deliver-line[_ngcontent-%COMP%]{width:100%;height:2px;background-color:#333;margin:10px 0}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]{max-height:calc(100% - 150px);overflow-y:auto;padding-top:1rem;display:flex;flex-direction:column;gap:20px}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .name-wapper[_ngcontent-%COMP%]{display:flex}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .name-wapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-right:1rem}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .name-wapper[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:5px;border:1px solid #ccc;border-radius:3px}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   .upload-control[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-right:1rem}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   .upload-control[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{padding:5px;border:1px solid #ccc;border-radius:3px}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   .list-preview[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;gap:10px}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   .list-preview[_ngcontent-%COMP%]   .preview-item[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]{position:relative}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   .list-preview[_ngcontent-%COMP%]   .preview-item[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:200px;object-fit:cover}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   .list-preview[_ngcontent-%COMP%]   .preview-item[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .item-close[_ngcontent-%COMP%]{position:absolute;top:-.4rem;right:-.3rem;font-size:22px;width:22px;height:22px;display:flex;justify-content:center;align-items:center;border-radius:50%;background-color:var(--color-secondary);text-decoration:none;color:#000;padding-top:1px}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .submit-portfo-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .submit-portfo-wrapper[_ngcontent-%COMP%]   .btn-add-portfo[_ngcontent-%COMP%]{border-radius:.35rem;background-color:var(--color-primary);display:flex;justify-content:center;align-items:center;padding:10px 25px;margin-top:2rem;cursor:pointer}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .submit-portfo-wrapper[_ngcontent-%COMP%]   .btn-add-portfo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--color-light)}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .btn-close-newPortfo[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;color:#000;font-weight:700;font-size:28px;width:25px;height:25px;border-radius:50%;display:flex;justify-content:center;align-items:center;text-decoration:none}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .btn-close-newPortfo[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary);color:#000;transform:rotate(35deg)}.add-new-portfo.active[_ngcontent-%COMP%]{display:block!important}.add-new-portfo.active[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]{transform:translateY(0)}.add-new-cate[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;z-index:999}.add-new-cate[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]{width:100%;height:100vh;padding-top:100px;display:flex;justify-content:center;align-items:center;position:relative}.add-new-cate[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]{height:80%;width:60%;margin:auto;background-color:var(--color-light);position:absolute;padding:0 1rem;border:1px solid #ddd;border-radius:5px;display:flex;flex-direction:column;gap:20px}.add-new-cate[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-title[_ngcontent-%COMP%]{text-align:center;font-size:24px;height:100px}.add-new-cate[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .deliver-line[_ngcontent-%COMP%]{width:100%;height:2px;background-color:#333;margin:10px 0}.add-new-cate[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center;width:100%;height:100%;row-gap:2rem;padding:1rem}.add-new-cate[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.3rem 1rem}.add-new-cate[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;border:2px solid var(--color-primary);padding:.5rem}.add-new-cate[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .btn-add-newPortfo[_ngcontent-%COMP%]{line-height:40px;padding:0 1rem;background-color:var(--color-primary);text-decoration:none;color:var(--color-light)}.add-new-cate[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .btn-close-newPortfo[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;color:#000;font-weight:700;font-size:28px;width:25px;height:25px;border-radius:50%;display:flex;justify-content:center;align-items:center;text-decoration:none}.add-new-cate[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .btn-close-newPortfo[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary);color:#000;transform:rotate(35deg)}.edit-new-cate[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;z-index:999}.edit-new-cate[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]{width:100%;height:100vh;padding-top:100px;display:flex;justify-content:center;align-items:center;position:relative}.edit-new-cate[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]{height:80%;width:60%;min-height:400px;overflow-y:auto;margin:auto;background-color:var(--color-light);position:absolute;padding:0 1rem;border:1px solid #ddd;border-radius:5px;display:flex;flex-direction:column;gap:20px}.edit-new-cate[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-title[_ngcontent-%COMP%]{text-align:center;font-size:24px;height:100px}.edit-new-cate[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .deliver-line[_ngcontent-%COMP%]{width:100%;height:2px;background-color:#333;margin:10px 0}.edit-new-cate[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center;width:100%;height:100%;row-gap:2rem;padding:1rem}.edit-new-cate[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.3rem 1rem}.edit-new-cate[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;border:2px solid var(--color-primary);padding:.5rem}.edit-new-cate[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .btn-add-newPortfo[_ngcontent-%COMP%]{line-height:40px;padding:0 1rem;background-color:var(--color-primary);text-decoration:none;color:var(--color-light)}.edit-new-cate[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .btn-close-newPortfo[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;color:#000;font-weight:700;font-size:28px;width:25px;height:25px;border-radius:50%;display:flex;justify-content:center;align-items:center;text-decoration:none}.edit-new-cate[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .btn-close-newPortfo[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary);color:#000;transform:rotate(35deg)}.edit-avatar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;z-index:999}.edit-avatar[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]{width:100%;height:100vh;padding-top:100px;display:flex;justify-content:center;align-items:center;position:relative}.edit-avatar[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]{height:80%;width:60%;margin:auto;background-color:var(--color-light);position:absolute;padding:0 1rem;border:1px solid #ddd;border-radius:5px;display:flex;flex-direction:column;gap:20px}.edit-avatar[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-title[_ngcontent-%COMP%]{text-align:center;font-size:24px;height:100px}.edit-avatar[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .deliver-line[_ngcontent-%COMP%]{width:100%;height:2px;background-color:#333;margin:10px 0}.edit-avatar[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center;width:100%;height:100%;row-gap:2rem;padding:1rem}.edit-avatar[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .preview-edit-avatar[_ngcontent-%COMP%]{width:200px;height:200px;border-radius:50%}.edit-avatar[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .preview-edit-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover}.edit-avatar[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .btn-add-newPortfo[_ngcontent-%COMP%]{line-height:40px;padding:0 1rem;background-color:var(--color-primary);text-decoration:none;color:var(--color-light)}.edit-avatar[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .btn-close-newPortfo[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;color:#000;font-weight:700;font-size:28px;width:25px;height:25px;border-radius:50%;display:flex;justify-content:center;align-items:center;text-decoration:none}.edit-avatar[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .btn-close-newPortfo[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary);color:#000;transform:rotate(35deg)}@media only screen and (max-width: 991.98px){.new-portfo-content[_ngcontent-%COMP%]{height:80%;width:90%!important}}.add-wall-wrapper[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;z-index:999}.add-wall-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]{width:100%;height:100vh;padding-top:100px;display:flex;justify-content:center;align-items:center;position:relative}.add-wall-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]{height:80%;width:90%;margin:auto;background-color:var(--color-light);position:absolute;padding:0 1rem}.add-wall-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-title[_ngcontent-%COMP%]{height:100px}.add-wall-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .deliver-line[_ngcontent-%COMP%]{height:2px;width:100%;margin:1.5rem 0;background-color:var(--color-primary)}.add-wall-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]{max-height:calc(100% - 150px);overflow-y:auto;padding-top:1rem}.add-wall-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-picture[_ngcontent-%COMP%]{height:100%;padding-right:1rem}.add-wall-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]{height:100%;display:grid;grid-template-columns:repeat(4,1fr);gap:1rem}.add-wall-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-item[_ngcontent-%COMP%]{grid-column:span 1;width:100%;position:relative}.add-wall-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.add-wall-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-item[_ngcontent-%COMP%]   .btn-del-image[_ngcontent-%COMP%]{position:absolute;top:-.4rem;right:-.3rem;font-size:22px;width:22px;height:22px;display:flex;justify-content:center;align-items:center;border-radius:50%;background-color:var(--color-secondary);text-decoration:none;color:#000;padding-top:1px}.add-wall-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .ask-repair-button[_ngcontent-%COMP%]{position:absolute;bottom:1.5rem;right:1.5rem;color:#000;border-radius:50%;display:flex;justify-content:center;align-items:center;column-gap:1rem}.add-wall-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .ask-repair-button[_ngcontent-%COMP%]   .rs-left[_ngcontent-%COMP%]{border-radius:.35rem;background-color:var(--color-warning);display:flex;justify-content:center;align-items:center;padding:5px 8px}.add-wall-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .ask-repair-button[_ngcontent-%COMP%]   .rs-left[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--color-light)}.add-wall-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .ask-repair-button[_ngcontent-%COMP%]   .rs-right[_ngcontent-%COMP%]{border-radius:.35rem;background-color:var(--color-primary);display:flex;justify-content:center;align-items:center;padding:5px 8px}.add-wall-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .ask-repair-button[_ngcontent-%COMP%]   .rs-right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--color-light)}.add-wall-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .btn-close-ask[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;color:#000;font-weight:700;font-size:28px;width:25px;height:25px;border-radius:50%;display:flex;justify-content:center;align-items:center;text-decoration:none}.add-wall-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .btn-close-ask[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary);color:#000;transform:rotate(35deg)}.profile-content[_ngcontent-%COMP%]{position:relative;margin-top:6rem}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(9,1fr);column-gap:.3rem;height:500px}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall2[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall4[_ngcontent-%COMP%]{grid-column:span 2;height:500px}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall4[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:.3rem}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-2[_ngcontent-%COMP%]{height:calc(250px - .15rem)}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-2[_ngcontent-%COMP%]{height:calc(250px - .15rem)}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-2[_ngcontent-%COMP%]{height:calc(250px - .15rem)}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.toggle-warehouse-wrapper[_ngcontent-%COMP%]{position:fixed;bottom:2rem;right:1rem;width:40px;height:40px;background-color:var(--color-primary);z-index:999;font-size:30px;border-radius:50%;padding-top:3.5px;padding-left:5px;color:var(--color-light)}.warehouse-menu[_ngcontent-%COMP%]{position:fixed;right:50px;bottom:2rem;background-color:var(--color-light);border-radius:.3rem;box-shadow:0 2px 5px #0003;z-index:600}.warehouse-menu[_ngcontent-%COMP%]   .warehouse-content[_ngcontent-%COMP%]{width:300px;padding:1.5rem 1rem;display:flex;flex-direction:column;row-gap:1rem}.warehouse-menu[_ngcontent-%COMP%]   .warehouse-content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:var(--color-warning);border-radius:.3rem;display:flex;justify-content:center}.warehouse-menu[_ngcontent-%COMP%]   .warehouse-content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:100%;font-size:16px;text-decoration:none;color:var(--color-light);line-height:2.5em;position:relative;text-align:center}.warehouse-menu[_ngcontent-%COMP%]   .close-warehouse[_ngcontent-%COMP%]{position:absolute;top:-.4rem;right:-.3rem;font-size:22px;width:22px;height:22px;display:flex;justify-content:center;align-items:center;border-radius:50%;background-color:var(--color-warning);text-decoration:none;color:var(--color-light);padding-top:1px}@media (max-width: 1200px){.picture-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)!important}}@media (max-width: 991.98px){.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 2rem 0!important}.profile-content[_ngcontent-%COMP%]   .ic-edit[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .feature-edit[_ngcontent-%COMP%]{padding-right:0!important}.picture-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 767.98px){.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 2rem 0!important}.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]{flex-direction:column;row-gap:2rem}.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .info-wrapper[_ngcontent-%COMP%]   .portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}@media (max-width: 575.98px){.picture-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}}"]}),e})();const Zhe=[{path:"",component:bB,title:"Home"},{path:"home",component:bB,title:"Home"}],Yhe=[{path:"",component:TB,title:"Collection"},{path:"all",component:TB,title:"Collection"}],Qhe=[{path:"login",component:Bce,title:"Login"},{path:"register",component:fde,title:"Register"}],Xhe=[{path:"",component:E9,title:"User"},{path:"all",component:E9,title:"User"}],Jhe=[{path:"",component:Khe,title:"Partner | Profile"}],epe=[{path:"",component:I9,title:"Admin | Home"},{path:"home",component:I9,title:"Admin | Home"},{path:"order",component:Ade,title:"Admin | Order List"},{path:"order-accept",component:Hde,title:"Admin | Order Accept"}],tpe=["iconToggle"],npe=["headerContentMobile"],rpe=["inputSearchMobile"],ipe=["menuDropdown"],ope=["menuDropdown1"],spe=["itemDropdown"],ape=["itemDropdown1"];function cpe(t,e){1&t&&(_(0,"div",42)(1,"p"),w(2,"H\xe0 N\u1ed9i"),m(),_(3,"p"),w(4,"H\u1ed3 Ch\xed Minh"),m(),_(5,"p"),w(6,"Ch\xe2n dung"),m(),_(7,"p"),w(8,"S\u1ef1 ki\u1ec7n"),m()())}function lpe(t,e){1&t&&(_(0,"div",55)(1,"a",56),w(2,"\u0110\u0103ng xu\u1ea5t"),m()())}function upe(t,e){if(1&t){const n=Ot();De(0),_(1,"li",43),j("click",function(){return Be(n),Ve(ee().toggleDropdownLo())}),_(2,"div",44),I(3,"img",45),m(),F(4,lpe,3,0,"div",46),m(),_(5,"li",47)(6,"a",48),w(7),m()(),_(8,"div",49),I(9,"p",50),m(),_(10,"li",51)(11,"a",52),I(12,"i",53),m()(),_(13,"li",51)(14,"a",52),I(15,"i",54),m()(),Se()}if(2&t){const n=ee();P(3),Ht("src",null==n.user?null:n.user.avatar,pt),P(1),A("ngIf",n.showDropdown),P(3),Ee(null==n.user?null:n.user.full_name)}}function dpe(t,e){1&t&&(_(0,"li",47)(1,"a",57),w(2,"\u1ea2nh c\u1ee7a t\xf4i"),m()(),_(3,"li",47)(4,"a",58),w(5,"\u0110\u0103ng nh\u1eadp"),m()(),_(6,"li",47)(7,"a",59),w(8,"\u0110\u0103ng k\xfd"),m()())}function hpe(t,e){1&t&&(_(0,"div",60)(1,"p"),w(2,"H\xe0 N\u1ed9i"),m(),_(3,"p"),w(4,"H\u1ed3 Ch\xed Minh"),m(),_(5,"p"),w(6,"Ch\xe2n dung"),m(),_(7,"p"),w(8,"S\u1ef1 ki\u1ec7n"),m()())}function ppe(t,e){1&t&&I(0,"i",67)}function fpe(t,e){1&t&&I(0,"i",68)}const D9=function(){return["/collection"]},gpe=function(t,e){return{category:t,subcategory:e}};function _pe(t,e){if(1&t&&(De(0),_(1,"li",69)(2,"a",70),w(3),m()(),Se()),2&t){const n=e.$implicit,r=ee(2).$implicit;P(2),A("routerLink",tp(3,D9))("queryParams",f0(4,gpe,r.key,n.key)),P(1),Ee(n.value)}}const mpe=function(t){return{active:t}},hP=function(t){return{show:t}};function ype(t,e){if(1&t){const n=Ot();De(0),_(1,"li",62)(2,"a",63),j("click",function(){Be(n);const i=ee().index;return Ve(ee().toggleDropdown(i))}),w(3),F(4,ppe,1,0,"i",64),F(5,fpe,1,0,"i",65),m(),_(6,"ul",66),F(7,_pe,4,7,"ng-container",37),m()(),Se()}if(2&t){const n=ee(),r=n.index,i=n.$implicit,o=ee();P(1),A("ngClass",Pr(8,mpe,o.isDropdownVisible[r])),Wi("data-index",r),P(2),bt(" ",i.value," "),P(1),A("ngIf",!o.isDropdownVisible[r]),P(1),A("ngIf",o.isDropdownVisible[r]),P(1),A("ngClass",Pr(10,hP,o.isDropdownVisible[r])),Wi("id","menuDropdown"+r),P(1),A("ngForOf",i.children)}}const vpe=function(t){return{category:t}};function Cpe(t,e){if(1&t&&(_(0,"li",71)(1,"a",72),w(2),m()()),2&t){const n=ee(),i=n.$implicit;Wi("data-index",n.index),P(1),A("routerLink",tp(4,D9))("queryParams",Pr(5,vpe,i.key)),P(1),bt(" ",i.value," ")}}function wpe(t,e){if(1&t&&(De(0),F(1,ype,8,12,"ng-container",16),F(2,Cpe,3,7,"ng-template",null,61,er),Se()),2&t){const n=e.$implicit,r=Qn(3);P(1),A("ngIf",n.children)("ngIfElse",r)}}function Ppe(t,e){1&t&&(_(0,"div",79)(1,"a",56),w(2,"\u0110\u0103ng xu\u1ea5t"),m()())}function Mpe(t,e){if(1&t){const n=Ot();De(0),_(1,"div",73)(2,"li",74),j("click",function(){return Be(n),Ve(ee().toggleDropdownLo())}),_(3,"div",44),I(4,"img",45),m(),F(5,Ppe,3,0,"div",75),m(),_(6,"li",76)(7,"a",77),w(8),m()(),_(9,"li",78)(10,"a",52),I(11,"i",53),m()(),_(12,"li",78)(13,"a",52),I(14,"i",54),m()()(),Se()}if(2&t){const n=ee();P(4),A("src",null==n.user?null:n.user.avatar,pt),P(1),A("ngIf",n.showDropdown),P(3),Ee(null==n.user?null:n.user.full_name)}}function Ope(t,e){1&t&&(_(0,"div",80)(1,"li",81)(2,"a",82),w(3,"\u1ea2nh c\u1ee7a t\xf4i"),m()(),_(4,"li",83)(5,"a",84),w(6," \u0110\u0103ng nh\u1eadp "),m()(),_(7,"li",83)(8,"a",85),w(9," \u0110\u0103ng k\xfd "),m()()())}let JT=(()=>{var t;class e{constructor(r,i,o,s){this.eventService=r,this.router=i,this.route=o,this.userService=s,this.user=null,this.isMenuVisible=!1,this.isSearchMobileVisible=!1,this.isDropdownVisible=[],this.isDropdown1Visible=!1,this.inputSearchMobileValue="",this.inputSearchValue="",this.toggleSuggestMobile=!1,this.toggleSuggest=!1,this.loggedIn=!1,this.showDropdown=!1,this.urls=[{key:"du-lich",value:"Du li\u0323ch",children:[{key:"chan-dung",value:"Ch\xe2n dung"},{key:"the-thao",value:"Th\xea\u0309 thao"},{key:"duong-pho",value:"\u0110\u01b0\u1eddng ph\u1ed1"},{key:"phong-canh",value:"Phong c\u1ea3nh"},{key:"ky-yeu",value:"K\u1ef7 y\u1ebfu"}]},{key:"lookbook",value:"Lookbook",children:[{key:"thoi-trang",value:"Th\u01a1\u0300i trang"},{key:"phu-kien",value:"Ph\u1ee5 ki\u1ec7n"},{key:"my-pham",value:"M\u1ef9 ph\u1ea9m"},{key:"thuc-pham",value:"Th\u1ef1c ph\u1ea9m"}]},{key:"catalogue",value:"Catalogue"},{key:"khac",value:"Kha\u0301c"}],this.route.url.subscribe(a=>{a.length>0&&"partner"===a[0].path&&(this.route.params.subscribe(l=>{const h=l.id;h?(this.userId=parseInt(h,10),this.loadUser(parseInt(h,10))):console.error("ID not found in URL")}),this.loggedIn=!0,console.log('This route has a "/partner/" prefix.'))})}ngOnInit(){this.eventService.registerEvent("avatarEdited").subscribe(()=>{this.loadUser(this.userId)})}loadUser(r){var i=this;return(0,S.Z)(function*(){console.log(r),i.user=yield i.userService.getUserById(r)})()}showMenu(){this.isMenuVisible=!0}hideMenu(){this.isMenuVisible=!1}showSearchMobile(){this.isSearchMobileVisible=!0,this.isSearchMobileVisible&&setTimeout(()=>{this.inputSearchMobile.nativeElement.focus()})}hideSearchMobile(){this.isSearchMobileVisible=!1,this.toggleSuggestMobile=!1,this.inputSearchMobileValue=""}toggleDropdown(r){if(this.isDropdownVisible[r]=!this.isDropdownVisible[r],1==this.isDropdownVisible[r])for(let i=0;i<this.isDropdownVisible.length;i++)i!==r&&(this.isDropdownVisible[i]=!1)}onChangeInputSearchMobile(r){this.inputSearchMobileValue=r.target.value,this.toggleSuggestMobile=""!==this.inputSearchMobileValue.trim()}onChangeInputSearch(r){this.inputSearchValue=r.target.value,this.toggleSuggest=""!==this.inputSearchValue.trim()}closeDropdown(r){!this.headerContentMobile.nativeElement.contains(r.target)&&!this.iconToggle.nativeElement.contains(r.target)&&this.isMenuVisible&&(this.isMenuVisible=!1)}toggleDropdownLo(){this.showDropdown=!this.showDropdown}logout(){this.loggedIn=!1}}return(t=e).\u0275fac=function(r){return new(r||t)(W(Um),W(nr),W(xo),W(ed))},t.\u0275cmp=At({type:t,selectors:[["app-header"]],viewQuery:function(r,i){if(1&r&&(dr(tpe,5),dr(npe,5),dr(rpe,5),dr(ipe,5),dr(ope,5),dr(spe,5),dr(ape,5)),2&r){let o;Xn(o=Jn())&&(i.iconToggle=o.first),Xn(o=Jn())&&(i.headerContentMobile=o.first),Xn(o=Jn())&&(i.inputSearchMobile=o.first),Xn(o=Jn())&&(i.menuDropdown0=o.first),Xn(o=Jn())&&(i.menuDropdown1=o.first),Xn(o=Jn())&&(i.itemDropdown0=o.first),Xn(o=Jn())&&(i.itemDropdown1=o.first)}},hostBindings:function(r,i){1&r&&j("mousedown",function(s){return i.closeDropdown(s)},0,Ru)},decls:48,vars:18,consts:[[1,"layout-header"],[1,"header-container"],[1,"header-content"],[1,"brand"],[1,"brand-logo"],["routerLink","/home"],["src","./assets/images/logoo.png","alt","",1,"brand-image"],[1,"search-bar"],[1,"search-container"],[1,"search-content"],["id","search-input","type","text","placeholder","D\u1ecbch v\u1ee5 b\u1ea1n \u0111ang t\xecm ki\u1ebfm ?",3,"ngModel","ngModelChange","input"],["inputSearch",""],["id","search-icon","href","javascript:void(0)"],[1,"bx","bx-search"],["class","search-suggest",4,"ngIf"],[1,"header-content-right"],[4,"ngIf","ngIfElse"],["notLoggedInBlock",""],[1,"icon-toggle-bar"],["href","javascript:void(0)",1,"toggle-search",3,"click"],["href","javascript:void(0)",1,"toggle-menu",3,"click"],["iconToggle",""],[1,"bx","bx-menu"],[1,"search-mobile",3,"ngClass"],[1,"search-bar-mobile"],["type","text","name","","id","","placeholder","D\u1ecbch v\u1ee5 b\u1ea1n \u0111ang t\xecm ki\u1ebfm ?",1,"search-input-mobile",3,"ngModel","ngModelChange","input"],["inputSearchMobile",""],["href","javascript:void(0)",1,"search-iconClose-mobile",3,"click"],[1,"bx","bx-x"],["class","search-suggest-mobile",4,"ngIf"],[1,"header-content-mobile",3,"ngClass"],["headerContentMobile",""],[1,"header-mobile-inner"],[1,"brand-mobile"],[1,"brand-logo-mobile"],["src","./assets/images/logoo.png","alt","",1,"brand-image-mobile"],[1,"menu-container-mobile"],[4,"ngFor","ngForOf"],["nottLoggedInBlock",""],[1,"close-menu"],["href","javascript:void(0)",1,"close-menu-icon",3,"click"],[1,"header-overlay",3,"ngClass"],[1,"search-suggest"],[1,"cright-item","cright-itemm",2,"position","relative",3,"click"],[1,"avatar",2,"width","40px","height","40px","border-radius","50%"],["alt","Avatar",2,"width","40px","height","40px","object-fit","cover","border-radius","50%",3,"src"],["class","dropdown-menu","style","position: absolute; top:100%;right: 50%; padding: 1rem .5rem; background-color: white; min-width: 100px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); display: flex; justify-content: center;align-items: center;",4,"ngIf"],[1,"cright-item"],["href","javascript:void(0)",1,"cright-link"],[1,"content-deliver",2,"width","2px","height","30px !important","background-color","black","height","100%"],[2,"width","2px","background-color","black"],[1,"cright-item",2,"padding-right","5px"],["href","javascript:void(0)",1,"",2,"font-size","24px","color","black","text-decoration","none"],[1,"bx","bx-bell"],[1,"bx","bx-chevron-down-circle"],[1,"dropdown-menu",2,"position","absolute","top","100%","right","50%","padding","1rem .5rem","background-color","white","min-width","100px","box-shadow","0 2px 4px rgba(0, 0, 0, 0.2)","display","flex","justify-content","center","align-items","center"],["routerLink","/auth/login",1,"dropdown-item",2,"color","black","text-decoration","none"],["routerLink","/refund-picture",1,"cright-link"],["routerLink","/auth/login",1,"cright-link"],["routerLink","/auth/register",1,"cright-link"],[1,"search-suggest-mobile"],["el",""],[1,"menu-item",3,"ngClass"],["href","javascript:void(0)",1,"menu-link",3,"click"],["class","bx bx-collapse-vertical",4,"ngIf"],["class","bx bx-expand-vertical",4,"ngIf"],[1,"menu-dropdown",3,"ngClass"],[1,"bx","bx-collapse-vertical"],[1,"bx","bx-expand-vertical"],[1,"menu-dropdown-item"],[1,"menu-dropdown-link",3,"routerLink","queryParams"],[1,"menu-item"],[1,"menu-link",3,"routerLink","queryParams"],[1,"control-mobile",2,"row-gap","1rem"],[1,"control-ite",2,"position","relative","list-style","none",3,"click"],["class","dropdown-menu","style","position: absolute; bottom:100%;left: 50%; padding: 1rem .5rem; background-color: white; min-width: 100px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); display: flex; justify-content: center;align-items: center;",4,"ngIf"],[1,"control-ite",2,"list-style","none","display","flex","align-items","center"],["href","javascript:void(0)",1,"cright-link",2,"color","black","text-decoration","none"],[1,"control-ite",2,"padding-right","5px","list-style","none"],[1,"dropdown-menu",2,"position","absolute","bottom","100%","left","50%","padding","1rem .5rem","background-color","white","min-width","100px","box-shadow","0 2px 4px rgba(0, 0, 0, 0.2)","display","flex","justify-content","center","align-items","center"],[1,"control-mobile"],[1,"control-item","item-col"],["routerLink","/refund-picture",1,"control-link"],[1,"control-item"],["routerLink","/auth/login",1,"control-link"],["routerLink","/auth/register",1,"control-link"]],template:function(r,i){if(1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5),I(6,"img",6),m()()(),_(7,"div",7)(8,"div",8)(9,"div",9)(10,"input",10,11),j("ngModelChange",function(s){return i.inputSearchValue=s})("input",function(s){return i.onChangeInputSearch(s)}),m(),_(12,"a",12),I(13,"i",13),m()(),F(14,cpe,9,0,"div",14),m()(),_(15,"div",15),F(16,upe,16,3,"ng-container",16),F(17,dpe,9,0,"ng-template",null,17,er),m(),_(19,"div",18)(20,"a",19),j("click",function(){return i.showSearchMobile()}),I(21,"i",13),m(),_(22,"a",20,21),j("click",function(){return i.showMenu()}),I(24,"i",22),m()(),_(25,"div",23)(26,"div",24)(27,"input",25,26),j("ngModelChange",function(s){return i.inputSearchMobileValue=s})("input",function(s){return i.onChangeInputSearchMobile(s)}),m(),_(29,"a",27),j("click",function(){return i.hideSearchMobile()}),I(30,"i",28),m()(),F(31,hpe,9,0,"div",29),m()(),_(32,"div",30,31)(34,"div",32)(35,"div",33)(36,"div",34)(37,"a",5),I(38,"img",35),m()()(),_(39,"div",36),F(40,wpe,4,2,"ng-container",37),m(),F(41,Mpe,15,3,"ng-container",16),F(42,Ope,10,0,"ng-template",null,38,er),_(44,"div",39)(45,"a",40),j("click",function(){return i.hideMenu()}),I(46,"i",28),m()()()()(),I(47,"div",41),m()),2&r){const o=Qn(18),s=Qn(43);P(10),A("ngModel",i.inputSearchValue),P(4),A("ngIf",i.toggleSuggest),P(2),A("ngIf",i.loggedIn)("ngIfElse",o),P(9),A("ngClass",Pr(12,hP,i.isSearchMobileVisible)),P(2),A("ngModel",i.inputSearchMobileValue),P(4),A("ngIf",i.toggleSuggestMobile),P(1),A("ngClass",Pr(14,hP,i.isMenuVisible)),P(8),A("ngForOf",i.urls),P(1),A("ngIf",i.loggedIn)("ngIfElse",s),P(6),A("ngClass",Pr(16,hP,i.isMenuVisible))}},dependencies:[Ts,Wr,Vr,pr,Ns,ua,Fs],styles:['.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;position:relative}.header-content[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%]{display:flex;align-items:center}.header-content[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%]   .brand-image[_ngcontent-%COMP%]{width:5.5rem;height:5.5rem;margin-left:1.5rem;margin-right:1.5rem}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{width:100%;margin:0 2rem}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{position:relative;width:100%;display:flex;justify-content:center}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]{width:100%;height:3rem;position:relative;display:flex;justify-content:center}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   #search-input[_ngcontent-%COMP%]{width:100%;height:100%;border:0;outline:none;background-color:#f0f0f0;border-radius:.3rem;color:var(--color-text-body);padding-left:1.25rem;padding-right:2.75rem}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   #search-input[_ngcontent-%COMP%]::placeholder{color:var(--color-text-body)}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   #search-icon[_ngcontent-%COMP%]{position:absolute;right:1rem;top:50%;transform:translateY(-50%);color:var(--color-text-body);display:flex;justify-content:center;align-items:center;text-decoration:none;font-weight:700;font-size:26px;border-radius:.3rem;padding-top:2px}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-suggest[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 1.5rem - 1.5px);left:0;background-color:var(--color-bg-body);width:100%;min-height:250px;border-radius:.5rem;box-shadow:0 2px 5px #0003;padding:20px}.header-content[_ngcontent-%COMP%]   .header-content-right[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end}.header-content[_ngcontent-%COMP%]   .header-content-right[_ngcontent-%COMP%]   .cright-item[_ngcontent-%COMP%]{text-wrap:nowrap;list-style:none;padding:0 1rem}.header-content[_ngcontent-%COMP%]   .header-content-right[_ngcontent-%COMP%]   .cright-item[_ngcontent-%COMP%]   .cright-link[_ngcontent-%COMP%]{position:relative;text-decoration:none;color:var(--color-text-body);font-size:18px}.header-content[_ngcontent-%COMP%]   .header-content-right[_ngcontent-%COMP%]   .cright-item[_ngcontent-%COMP%]   .cright-link[_ngcontent-%COMP%]:hover{font-size:600;color:var(--color-primary)}.header-content[_ngcontent-%COMP%]   .header-content-right[_ngcontent-%COMP%]   .cright-item[_ngcontent-%COMP%]   .cright-link[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:-.3rem;left:0;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.header-content[_ngcontent-%COMP%]   .header-content-right[_ngcontent-%COMP%]   .cright-item[_ngcontent-%COMP%]   .cright-link[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.header-content[_ngcontent-%COMP%]   .icon-toggle-bar[_ngcontent-%COMP%]{padding-right:1.5rem;display:flex}.header-content[_ngcontent-%COMP%]   .icon-toggle-bar[_ngcontent-%COMP%]   .toggle-menu[_ngcontent-%COMP%]{color:var(--color-dark);font-size:32px;text-align:center;text-decoration:none;display:none}.header-content[_ngcontent-%COMP%]   .icon-toggle-bar[_ngcontent-%COMP%]   .toggle-search[_ngcontent-%COMP%]{color:var(--color-dark);font-size:28px;text-align:center;text-decoration:none;display:none;margin-top:.25rem;margin-right:.75rem}.header-content[_ngcontent-%COMP%]   .search-mobile[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0rem;right:0;left:0;background-color:var(--color-light);display:none}.header-content[_ngcontent-%COMP%]   .search-mobile[_ngcontent-%COMP%]   .search-bar-mobile[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;justify-content:center;align-items:center;position:relative;padding:.5rem 0}.header-content[_ngcontent-%COMP%]   .search-mobile[_ngcontent-%COMP%]   .search-bar-mobile[_ngcontent-%COMP%]   .search-input-mobile[_ngcontent-%COMP%]{height:100%;width:100%;border:0;outline:none;background-color:#f0f0f0;color:var(--color-text-body);padding-left:1.25rem}.header-content[_ngcontent-%COMP%]   .search-mobile[_ngcontent-%COMP%]   .search-bar-mobile[_ngcontent-%COMP%]   .search-input-mobile[_ngcontent-%COMP%]::placeholder{color:var(--color-text-body)}.header-content[_ngcontent-%COMP%]   .search-mobile[_ngcontent-%COMP%]   .search-bar-mobile[_ngcontent-%COMP%]   .search-iconClose-mobile[_ngcontent-%COMP%]{height:2.25rem;width:3rem;padding-right:.75rem;color:var(--color-dark);font-size:28px;text-align:center;position:absolute;right:0rem;top:50%;transform:translateY(-50%);display:flex;justify-content:center;align-items:center;text-decoration:none;font-weight:700;background-color:#f0f0f0}.header-content[_ngcontent-%COMP%]   .search-mobile[_ngcontent-%COMP%]   .search-suggest-mobile[_ngcontent-%COMP%]{position:absolute;width:100vw;height:100vh;background-color:var(--color-light);padding:20px}@media (max-width:991.98px){.header-content[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%]   .brand-image[_ngcontent-%COMP%]{width:4rem!important;height:4rem!important;margin-left:1.5rem!important;margin-right:1rem!important}.header-content[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.search-bar, .header-content-right)[_ngcontent-%COMP%]{display:none!important}.header-content[_ngcontent-%COMP%]   .search-mobile.show[_ngcontent-%COMP%]{display:block!important}.header-content[_ngcontent-%COMP%]   .icon-toggle-bar[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.toggle-menu, .toggle-search)[_ngcontent-%COMP%]{display:block!important}}.header-content-mobile[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:16.25rem;height:100vh;background-color:var(--color-bg-body);display:none;padding-bottom:2.5rem;z-index:1080}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .brand-mobile[_ngcontent-%COMP%]{padding-top:.5rem;position:sticky;top:0;left:0;right:0;margin-bottom:1.5rem;background-color:var(--color-bg-body)}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .brand-mobile[_ngcontent-%COMP%]   .brand-logo-mobile[_ngcontent-%COMP%]{display:flex;justify-content:center}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .brand-mobile[_ngcontent-%COMP%]   .brand-logo-mobile[_ngcontent-%COMP%]   .brand-image-mobile[_ngcontent-%COMP%]{width:5rem;height:5rem;object-fit:cover}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]{margin-bottom:2rem;min-height:calc(100vh - 17.5rem)}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{display:block;list-style:none}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]{padding-left:1.5rem;line-height:2.5rem;width:100%;display:flex;justify-content:space-between;align-items:center;column-gap:.5rem;text-decoration:none;color:var(--color-primary);font-size:18px;padding-right:1.5rem}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]{display:none;margin:0;padding:0}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-item[_ngcontent-%COMP%]{list-style:none}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-item[_ngcontent-%COMP%]   .menu-dropdown-link[_ngcontent-%COMP%]{padding-left:2.25rem;color:var(--color-primary);line-height:2.5rem;width:100%;display:block;text-decoration:none;font-size:17px}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-dropdown.show[_ngcontent-%COMP%]{display:block!important}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   .menu-dropdown[_ngcontent-%COMP%]{background-color:var(--color-bg-body)}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-item[_ngcontent-%COMP%]:hover, .header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item.active[_ngcontent-%COMP%]{background-color:#f5f5f5}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item.active[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]{background-color:var(--color-bg-body)}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .control-mobile[_ngcontent-%COMP%]{padding:0 1.5rem;display:grid;grid-template-columns:repeat(2,1fr);column-gap:.5rem}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .control-mobile[_ngcontent-%COMP%]   .control-item[_ngcontent-%COMP%]{grid-column:span 1;list-style:none;display:flex;justify-content:flex-start;align-items:center}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .control-mobile[_ngcontent-%COMP%]   .control-item[_ngcontent-%COMP%]   .control-link[_ngcontent-%COMP%]{position:relative;line-height:2.5rem;display:block;text-align:center;text-decoration:none;color:var(--color-primary);font-size:18px}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .control-mobile[_ngcontent-%COMP%]   .control-item[_ngcontent-%COMP%]   .control-link[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:.3rem;left:0;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .control-mobile[_ngcontent-%COMP%]   .control-item[_ngcontent-%COMP%]   .control-link[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .control-mobile[_ngcontent-%COMP%]   .item-col[_ngcontent-%COMP%]{justify-content:flex-start;grid-column:span 2}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .close-menu[_ngcontent-%COMP%]{position:absolute;width:2.25rem;height:2.25rem;top:10px;right:10px;border-radius:50%;background-color:#f6f6f6}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .close-menu[_ngcontent-%COMP%]   .close-menu-icon[_ngcontent-%COMP%]{color:var(--color-primary);text-decoration:none;font-size:28px;display:flex;justify-content:center;align-items:center;padding-top:4px}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .close-menu[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;transform:rotate(22.5deg)}@media (max-width:991.98px){.header-content-mobile[_ngcontent-%COMP%]{display:block!important;transform:translate(-200%)}.header-content-mobile.show[_ngcontent-%COMP%]{transform:translate(0)!important}}.layout-header[_ngcontent-%COMP%]{height:5.75rem;background-color:var(--color-bg-body);width:100%;display:flex;align-items:center;position:fixed;top:0;z-index:1025}.layout-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]{width:100%;margin:0 auto}.layout-header[_ngcontent-%COMP%]   .header-overlay[_ngcontent-%COMP%]{width:100vw;height:100vh;position:fixed;inset:0;display:none;background:#435971;opacity:.5;cursor:pointer;z-index:999}@media (min-width: 1400px){.layout-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.layout-header[_ngcontent-%COMP%]{box-shadow:0 .5rem 1rem #00000013!important}.layout-header[_ngcontent-%COMP%]   .header-overlay.show[_ngcontent-%COMP%]{display:block!important}}']}),e})(),eA=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=At({type:t,selectors:[["app-footer"]],decls:33,vars:0,consts:[[1,"layout-footer"],[1,"footer-wrapper"],[1,"footer-container"],[1,"footer-content"],[1,"ft-content-left"],[1,"ft-l-title"],[1,"ft-l-text"],["routerLink","",1,"ft-l-link"],[1,"ft-content-middle"],[1,"ft-m-item"],["routerLink","",1,"ft-m-link"],[1,"dots"],[1,"bx","bxs-circle"],[1,"ft-content-right"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),w(6,"V\u1ec1 PhotoHub"),m(),_(7,"p",6),w(8,"PhotoHub l\xe0 trang web h\xe0ng \u0111\u1ea7u Vi\u1ec7t Nam v\u1ec1 k\u1ebft n\u1ed1i nh\u1eefng ng\u01b0\u1eddi \u0111am m\xea v\xe0 chuy\xean nghi\u1ec7p v\u1ec1 nhi\u1ebfp \u1ea3nh v\u1edbi nh\u1eefng qu\xfd kh\xe1ch h\xe0ng mu\u1ed1n l\u01b0u gi\u1eef nh\u1eefng kho\u1ea3nh kh\u1eafc \u0111\u1eb9p nh\u1ea5t trong cu\u1ed9c \u0111\u1eddi "),m(),_(9,"a",7),w(10,"Xem th\xeam"),m()(),_(11,"div",8)(12,"li",9)(13,"a",10),w(14,"Blog"),m()(),_(15,"p",11),I(16,"i",12),m(),_(17,"li",9)(18,"a",10),w(19,"Support"),m()(),_(20,"p",11),I(21,"i",12),m(),_(22,"li",9)(23,"a",10),w(24,"Term"),m()(),_(25,"p",11),I(26,"i",12),m(),_(27,"li",9)(28,"a",10),w(29,"Policy"),m()()(),_(30,"div",13)(31,"p"),w(32,"@2003 PhotoHub"),m()()()()()())},dependencies:[pr],styles:['.layout-footer[_ngcontent-%COMP%]{margin-top:4rem;background-color:var(--color-primary)}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]{width:100%;margin:0 auto;padding:1.5rem 0}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]{padding:0 4rem}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(10,1fr);column-gap:2rem;color:var(--color-light)}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-left[_ngcontent-%COMP%]{grid-column:span 5}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-left[_ngcontent-%COMP%]   .ft-l-title[_ngcontent-%COMP%]{font-size:18px;margin-top:0;margin-bottom:.5rem}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-left[_ngcontent-%COMP%]   .ft-l-link[_ngcontent-%COMP%]{color:var(--color-info);text-decoration:none;position:relative}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-left[_ngcontent-%COMP%]   .ft-l-link[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-info);bottom:-1px;left:0;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-left[_ngcontent-%COMP%]   .ft-l-link[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%]{grid-column:span 3;display:flex;justify-content:center;align-items:center}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%]   .ft-m-item[_ngcontent-%COMP%]{display:inline-block}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%]   .ft-m-item[_ngcontent-%COMP%]   .ft-m-link[_ngcontent-%COMP%]{display:block;text-decoration:none;color:var(--color-light);padding:.75rem 1rem;position:relative}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%]   .ft-m-item[_ngcontent-%COMP%]   .ft-m-link[_ngcontent-%COMP%]:after{content:"";position:absolute;width:calc(100% - 2rem);height:1.5px;background-color:var(--color-light);bottom:.6rem;left:1rem;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%]   .ft-m-item[_ngcontent-%COMP%]   .ft-m-link[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%]   .dots[_ngcontent-%COMP%]{font-size:8px;margin:0}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-right[_ngcontent-%COMP%]{grid-column:span 2;display:flex;justify-content:center;align-items:center}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-right[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}@media (min-width: 1400px){.footer-wrapper[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.footer-wrapper[_ngcontent-%COMP%]{padding:1.5rem 0 2.5rem!important}.ft-content-middle[_ngcontent-%COMP%]{display:block!important}.ft-content-middle[_ngcontent-%COMP%]   .ft-m-item[_ngcontent-%COMP%]{width:100%}.ft-content-middle[_ngcontent-%COMP%]   .ft-m-item[_ngcontent-%COMP%]   .ft-m-link[_ngcontent-%COMP%]{padding-top:0!important;text-align:left!important}.ft-content-middle[_ngcontent-%COMP%]   .dots[_ngcontent-%COMP%]{display:none}.ft-content-right[_ngcontent-%COMP%]{align-items:flex-start!important}}@media (max-width: 767.98px){.footer-container[_ngcontent-%COMP%]{padding:0 1.5rem!important}}@media (max-width: 575.98px){.footer-container[_ngcontent-%COMP%]{column-gap:.5rem}.footer-container[_ngcontent-%COMP%]   .ft-content-left[_ngcontent-%COMP%]{grid-column:span 4!important}.footer-container[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%], .footer-container[_ngcontent-%COMP%]   .ft-content-right[_ngcontent-%COMP%]{grid-column:span 3!important}}']}),e})();const S9=function(){return["/collection"]},Epe=function(t,e){return{category:t,subcategory:e}};function Ipe(t,e){if(1&t&&(De(0),_(1,"li",10)(2,"a",11),w(3),m()(),Se()),2&t){const n=e.$implicit,r=ee(2).$implicit;P(2),A("routerLink",tp(3,S9))("queryParams",f0(4,Epe,r.key,n.key)),P(1),Ee(n.value)}}function bpe(t,e){if(1&t&&(De(0),_(1,"li",5)(2,"a",6),w(3),I(4,"i",7)(5,"i",8),m(),_(6,"ul",9),F(7,Ipe,4,7,"ng-container",2),m()(),Se()),2&t){const n=ee().$implicit;P(3),bt("",n.value," "),P(4),A("ngForOf",n.children)}}const Tpe=function(t){return{category:t}};function Ape(t,e){if(1&t&&(_(0,"li",12)(1,"a",13),w(2),m()()),2&t){const n=ee().$implicit;P(1),A("routerLink",tp(3,S9))("queryParams",Pr(4,Tpe,n.key)),P(1),bt(" ",n.value," ")}}function Dpe(t,e){if(1&t&&(De(0),F(1,bpe,8,2,"ng-container",3),F(2,Ape,3,6,"ng-template",null,4,er),Se()),2&t){const n=e.$implicit,r=Qn(3);P(1),A("ngIf",n.children)("ngIfElse",r)}}let Spe=(()=>{var t;class e{constructor(){this.urls=[{key:"du-lich",value:"Du li\u0323ch",children:[{key:"chan-dung",value:"Ch\xe2n dung"},{key:"the-thao",value:"Th\xea\u0309 thao"},{key:"duong-pho",value:"\u0110\u01b0\u1eddng ph\u1ed1"},{key:"phong-canh",value:"Phong c\u1ea3nh"},{key:"ky-yeu",value:"K\u1ef7 y\u1ebfu"}]},{key:"lookbook",value:"Lookbook",children:[{key:"thoi-trang",value:"Th\u01a1\u0300i trang"},{key:"phu-kien",value:"Ph\u1ee5 ki\u1ec7n"},{key:"my-pham",value:"M\u1ef9 ph\u1ea9m"},{key:"thuc-pham",value:"Th\u1ef1c ph\u1ea9m"}]},{key:"catalogue",value:"Catalogue"},{key:"khac",value:"Kha\u0301c"}]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=At({type:t,selectors:[["app-menu"]],decls:3,vars:1,consts:[[1,"layout-menu"],[1,"menu-container"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["el",""],[1,"menu-item","dropdown"],[1,"menu-link"],[1,"bx","bx-collapse-vertical","icon-collapse"],[1,"bx","bx-expand-vertical","icon-expand"],[1,"dropdown-menu"],[1,"dropdown-item"],[1,"dropdown-link",3,"routerLink","queryParams"],[1,"menu-item"],[1,"menu-link",3,"routerLink","queryParams"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1),F(2,Dpe,4,2,"ng-container",2),m()()),2&r&&(P(2),A("ngForOf",i.urls))},dependencies:[Wr,Vr,pr],styles:['.layout-menu[_ngcontent-%COMP%]{position:fixed;top:5.75rem;width:100%;height:5rem;background-color:var(--color-bg-body);z-index:1024;box-shadow:0 .5rem 1rem #00000013!important}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]{height:3.25rem;width:100%;margin:0 auto;display:flex;align-items:center;justify-content:center;column-gap:2rem;border:1px solid var(--color-secondary);border-left:0;border-right:0}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{position:relative;list-style:none;height:100%;display:flex;justify-items:flex-start;column-gap:.75rem;align-items:center}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]{height:100%;text-decoration:none;color:var(--color-text-body);font-weight:700;font-size:20px;line-height:3.25rem;display:flex;justify-content:center;align-items:center;column-gap:.5rem}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]   .icon-expand[_ngcontent-%COMP%], .layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]   .icon-collapse[_ngcontent-%COMP%]{font-size:16px;color:var(--color-primary)}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]   .icon-expand[_ngcontent-%COMP%]{display:none}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   .menu-link[_ngcontent-%COMP%]{color:var(--color-primary)}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   .menu-link[_ngcontent-%COMP%]   .icon-expand[_ngcontent-%COMP%]{display:block}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   .menu-link[_ngcontent-%COMP%]   .icon-collapse[_ngcontent-%COMP%]{display:none}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:0;left:0;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.dropdown[_ngcontent-%COMP%]{position:relative;display:inline-block}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{margin:0;padding:0;display:none;position:absolute;top:100%;left:0;background-color:var(--color-bg-body);box-shadow:0 2px 5px #0003;min-width:150px;border-radius:.3rem}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{list-style:none;padding:10px}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .dropdown-link[_ngcontent-%COMP%]{text-decoration:none;color:var(--color-text-body)}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover   .dropdown-link[_ngcontent-%COMP%]{color:var(--color-primary)}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:first-of-type{border-top-right-radius:.3rem;border-top-left-radius:.3rem}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:last-of-type{border-bottom-left-radius:.3rem;border-bottom-right-radius:.3rem}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:100%;left:50%;transform:translate(-50%);border-width:8px;border-style:solid;border-color:transparent transparent var(--color-bg-body) transparent}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-menu[_ngcontent-%COMP%]{display:block}@media (min-width: 1400px){.menu-container[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.layout-menu[_ngcontent-%COMP%]{display:none!important}}']}),e})(),xpe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=At({type:t,selectors:[["app-layout-client"]],decls:8,vars:0,consts:[[1,"layout-wrapper"],[1,"layout-container"],[1,"content-wrapper"],[1,"content-container"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1),I(2,"app-header")(3,"app-menu"),_(4,"div",2)(5,"div",3),I(6,"router-outlet"),m()(),I(7,"app-footer"),m()())},dependencies:[ul,JT,eA,Spe],styles:[".layout-wrapper[_ngcontent-%COMP%], .layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%], .layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{width:100%}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{width:100%;margin:0 auto;margin-top:10.75rem}@media (min-width: 1400px){.content-container[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.content-container[_ngcontent-%COMP%]{margin-top:5rem!important}}"]}),e})();function Rpe(t,e){if(1&t){const n=Ot();_(0,"div",18),j("click",function(){const o=Be(n).$implicit;return Ve(ee(2).selectDate(o))}),w(1),m()}if(2&t){const n=e.$implicit,r=ee(2);Ao("calendar-day-hover",null!==n)("selected-date",null!==n&&n===r.selectedDay)("curr-date",r.isCurrentDate(n)),P(1),bt(" ",n," ")}}function kpe(t,e){if(1&t){const n=Ot();_(0,"div",19),j("click",function(){const o=Be(n).index;return Ve(ee(2).selectMonth(o))}),w(1),m()}if(2&t){const n=e.$implicit;P(1),bt("",n," ")}}function Npe(t,e){if(1&t){const n=Ot();_(0,"div",6)(1,"div",7)(2,"span",8),j("click",function(){return Be(n),Ve(ee().toggleMonthList())}),w(3),m(),_(4,"div",9)(5,"span",10),j("click",function(){return Be(n),Ve(ee().prevYear())}),w(6,"<"),m(),_(7,"span",11),w(8),m(),_(9,"span",10),j("click",function(){return Be(n),Ve(ee().nextYear())}),w(10,">"),m()()(),_(11,"div",12)(12,"div",13)(13,"div"),w(14,"CN"),m(),_(15,"div"),w(16,"T2"),m(),_(17,"div"),w(18,"T3"),m(),_(19,"div"),w(20,"T4"),m(),_(21,"div"),w(22,"T5"),m(),_(23,"div"),w(24,"T6"),m(),_(25,"div"),w(26,"T7"),m()(),_(27,"div",14),F(28,Rpe,2,7,"div",15),m()(),_(29,"div",16),F(30,kpe,2,1,"div",17),m()()}if(2&t){const n=ee();P(3),Ee(n.monthNames[n.currMonth]),P(5),Ee(n.currYear),P(20),A("ngForOf",n.calendarDays),P(1),Ao("show",n.isMonthListVisible),P(1),A("ngForOf",n.monthNames)}}let x9=(()=>{var t;class e{constructor(r){this.el=r,this.textDefault="DD-MM-YYYY",this.selectedDate="",this.selectedDateChange=new Nn,this.isCalendarVisible=!1,this.monthNames=["Th\xe1ng 1","Th\xe1ng 2","Th\xe1ng 3","Th\xe1ng 4","Th\xe1ng 5","Th\xe1ng 6","Th\xe1ng 7","Th\xe1ng 8","Th\xe1ng 9","Th\xe1ng 10","Th\xe1ng 11","Th\xe1ng 12"],this.calendarDays=[],this.isMonthListVisible=!1,this.selectedDay=null}ngAfterViewInit(){}ngOnInit(){const r=new Date;this.currMonth=r.getMonth(),this.currYear=r.getFullYear(),this.generateCalendar(this.currMonth,this.currYear),this.selectedDateChange.subscribe(i=>{const o=new Date;this.currMonth=o.getMonth(),this.currYear=o.getFullYear(),this.generateCalendar(this.currMonth,this.currYear)})}toggleCalendar(){this.isCalendarVisible=!this.isCalendarVisible,this.isCalendarVisible||(this.isMonthListVisible=!1)}prevYear(){this.currYear--,this.generateCalendar(this.currMonth,this.currYear),this.selectedDay=null}nextYear(){this.currYear++,this.generateCalendar(this.currMonth,this.currYear),this.selectedDay=null}toggleMonthList(){this.isMonthListVisible=!this.isMonthListVisible}selectMonth(r){this.isMonthListVisible=!1,this.currMonth=r,this.generateCalendar(this.currMonth,this.currYear),this.selectedDay=null}isLeapYear(r){return r%4==0&&r%100!=0||r%400==0}getFebDays(r){return this.isLeapYear(r)?29:28}generateCalendar(r,i){const o=[31,this.getFebDays(i),31,30,31,30,31,31,30,31,30,31];this.calendarDays=[];const s=new Date(i,r,1);for(let a=0;a<=o[r]+s.getDay()-1;a++)a>=s.getDay()?this.calendarDays.push(a-s.getDay()+1):this.calendarDays.push(null)}selectDate(r){if(null!==r){this.selectedDay=r;const i=new Date(this.currYear,this.currMonth,r);this.selectedDate=i.toLocaleDateString(),this.isCalendarVisible=!1}this.selectedDateChange.emit(this.selectedDate)}isCurrentDate(r){if(null===r)return!1;const i=new Date;return r===i.getDate()&&this.currYear===i.getFullYear()&&this.currMonth===i.getMonth()}onDocumentClick(r){!this.el.nativeElement.contains(r.target)&&this.isCalendarVisible&&(this.isCalendarVisible=!1,this.isMonthListVisible=!1,this.selectedDateChange.subscribe(i=>{const o=new Date;this.currMonth=o.getMonth(),this.currYear=o.getFullYear(),this.generateCalendar(this.currMonth,this.currYear)}))}}return(t=e).\u0275fac=function(r){return new(r||t)(W(Hi))},t.\u0275cmp=At({type:t,selectors:[["app-date-picker"]],hostBindings:function(r,i){1&r&&j("click",function(s){return i.onDocumentClick(s)},0,Ru)},inputs:{textDefault:"textDefault",selectedDate:"selectedDate"},outputs:{selectedDateChange:"selectedDateChange"},decls:8,vars:3,consts:[[1,"calendar-wrapper"],[1,"select-button",3,"click"],["selectButton",""],[1,"bx","bx-calendar"],["class","calendar",4,"ngIf"],["type","text",2,"display","none",3,"ngModel","ngModelChange"],[1,"calendar"],[1,"calendar-header"],[1,"month-picker",3,"click"],[1,"year-picker"],[1,"year-change",3,"click"],["id","year"],[1,"calendar-body"],[1,"calendar-week-day"],[1,"calendar-days"],[3,"calendar-day-hover","selected-date","curr-date","click",4,"ngFor","ngForOf"],[1,"month-list"],["class","month-item",3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"month-item",3,"click"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1,2),j("click",function(){return i.toggleCalendar()}),_(3,"span"),w(4),m(),I(5,"i",3),m(),F(6,Npe,31,6,"div",4),_(7,"input",5),j("ngModelChange",function(s){return i.selectedDate=s}),m()()),2&r&&(P(4),Ee(i.selectedDate||i.textDefault),P(2),A("ngIf",i.isCalendarVisible),P(1),A("ngModel",i.selectedDate))},dependencies:[Wr,Vr,Ns,ua,Fs],styles:[".calendar-wrapper[_ngcontent-%COMP%]{position:relative;min-width:150px}.calendar-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.calendar-wrapper[_ngcontent-%COMP%]   .select-button[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;padding:8px 12px;border:1px solid var(--color-primary);border-radius:4px;background-color:var(--color-light);display:flex;justify-content:space-between;column-gap:.75rem;align-items:center;color:var(--color-primary)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]{position:absolute;top:calc(100% + .3rem);left:0;background-color:var(--color-bg-body);width:260px;height:290px;border-radius:.5rem;padding:.5rem;overflow:hidden;box-shadow:0 2px 5px #0003;z-index:2}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:17px;font-weight:700;padding:10px 0}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]   .month-picker[_ngcontent-%COMP%]{color:var(--color-primary);padding:5px 10px;border-radius:10px;cursor:pointer}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]   .month-picker[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]   .year-picker[_ngcontent-%COMP%]{display:flex;align-items:center;color:var(--color-primary)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]   .year-picker[_ngcontent-%COMP%]   .year-change[_ngcontent-%COMP%]{height:30px;width:30px;border-radius:50%;display:grid;place-items:center;margin:0 10px;cursor:pointer;color:var(--color-primary)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]   .year-picker[_ngcontent-%COMP%]   .year-change[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]{padding:10px}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-week-day[_ngcontent-%COMP%]{height:30px;display:grid;grid-template-columns:repeat(7,1fr);font-weight:600}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-week-day[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:grid;place-items:center;color:var(--color-dark)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:2px;color:#151426}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:30px;height:30px;display:flex;align-items:center;justify-content:center;padding:5px;position:relative;animation:_ngcontent-%COMP%_to-top 1s forwards}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div.calendar-day-hover[_ngcontent-%COMP%]{cursor:pointer;border-radius:50%}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div.calendar-day-hover[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary);color:var(--color-primary);font-weight:600}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div.curr-date[_ngcontent-%COMP%], .calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div.curr-date[_ngcontent-%COMP%]:hover{background-color:var(--color-primary);color:#fff}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div.selected-date[_ngcontent-%COMP%], .calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div.selected-date[_ngcontent-%COMP%]:hover{background-color:var(--color-info)!important;color:#fff}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month-list[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background-color:var(--color-bg-body);padding:.5rem;grid-template-columns:repeat(3,auto);gap:7px;display:grid;transform:scale(1.5);visibility:hidden;pointer-events:none}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;place-items:center;width:100%;border-radius:10px;cursor:pointer;color:var(--color-primary);font-weight:700}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month-list.show[_ngcontent-%COMP%]{transform:scale(1);visibility:visible;pointer-events:visible;transition:all .2s ease-in-out}@keyframes _ngcontent-%COMP%_to-top{0%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}"]}),e})();const Fpe=["selectElement"],Lpe=["selectButton"],Vpe=["selectOptions"];function Upe(t,e){1&t&&I(0,"i",10)}function Bpe(t,e){1&t&&I(0,"i",11)}function jpe(t,e){if(1&t){const n=Ot();_(0,"li",12),j("click",function(){const o=Be(n).$implicit;return Ve(ee().selectOption(o.value))}),w(1),m()}if(2&t){const n=e.$implicit;P(1),bt(" ",n.textContent," ")}}const $pe=[[["","custom-option",""]]],Hpe=function(t){return{active:t}},zpe=["[custom-option]"];let R9=(()=>{var t;class e{constructor(){this.textDefault="-- Choose --",this.selectedOption="",this.selectedOptionChange=new Nn,this.selectedOptionText="",this.options=[],this.isDropdownOpen=!1,this.dropdownPosition={top:"0",left:"0"}}ngOnInit(){}ngAfterViewInit(){const r=this.selectElement.nativeElement;for(let i=0;i<r.options.length;i++){const o=r.options[i];this.options.push({value:o.value,textContent:o.textContent})}}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen}selectOption(r){this.selectedOption=r,this.selectedOptionText=this.options.find(i=>i.value===this.selectedOption)?.textContent||"",this.selectedOptionChange.emit(this.selectedOption),this.isDropdownOpen=!1}onClickOutside(r){!this.selectButton.nativeElement.contains(r.target)&&!this.selectOptions.nativeElement.contains(r.target)&&(this.isDropdownOpen=!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=At({type:t,selectors:[["app-custom-select"]],viewQuery:function(r,i){if(1&r&&(dr(Fpe,5),dr(Lpe,5),dr(Vpe,5)),2&r){let o;Xn(o=Jn())&&(i.selectElement=o.first),Xn(o=Jn())&&(i.selectButton=o.first),Xn(o=Jn())&&(i.selectOptions=o.first)}},hostBindings:function(r,i){1&r&&j("click",function(s){return i.onClickOutside(s)},0,Ru)},inputs:{textDefault:"textDefault",selectedOption:"selectedOption"},outputs:{selectedOptionChange:"selectedOptionChange"},ngContentSelectors:zpe,decls:13,vars:8,consts:[[1,"custom-select"],[1,"select-button",3,"click"],["selectButton",""],["class","bx bx-collapse-vertical",4,"ngIf"],["class","bx bx-expand-vertical",4,"ngIf"],[1,"select-options",3,"ngClass"],["selectOptions",""],[3,"click",4,"ngFor","ngForOf"],[2,"display","none",3,"ngModel","ngModelChange"],["selectElement",""],[1,"bx","bx-collapse-vertical"],[1,"bx","bx-expand-vertical"],[3,"click"]],template:function(r,i){1&r&&(function NF(t){const e=le()[$n][wr];if(!e.projection){const r=e.projection=Jc(t?t.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=t?XK(o,t):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}($pe),_(0,"div",0)(1,"div",1,2),j("click",function(){return i.toggleDropdown()}),_(3,"span"),w(4),m(),F(5,Upe,1,0,"i",3),F(6,Bpe,1,0,"i",4),m(),_(7,"ul",5,6),F(9,jpe,2,1,"li",7),m(),_(10,"select",8,9),j("ngModelChange",function(s){return i.selectedOption=s}),function FF(t,e=0,n){const r=le(),i=Dt(),o=$h(i,mt+t,16,null,n||null);null===o.projection&&(o.projection=e),Mu(),(!r[Oo]||Ua())&&32!=(32&o.flags)&&function nG(t,e,n){VN(e[Xe],0,e,n,wO(t,n,e),xN(n.parent||e[wr],n,e))}(i,r,o)}(12),m()()),2&r&&(P(4),Ee(i.selectedOptionText||i.textDefault),P(1),A("ngIf",!i.isDropdownOpen),P(1),A("ngIf",i.isDropdownOpen),P(1),A("ngClass",Pr(6,Hpe,i.isDropdownOpen)),P(2),A("ngForOf",i.options),P(1),A("ngModel",i.selectedOption))},dependencies:[Ts,Wr,Vr,Xw,ua,Fs],styles:[".custom-select[_ngcontent-%COMP%]{position:relative;min-width:150px}.custom-select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{display:none}.custom-select[_ngcontent-%COMP%]   .select-button[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;padding:8px 12px;border:1px solid var(--color-primary);border-radius:4px;background-color:var(--color-light);display:flex;justify-content:space-between;align-items:center;column-gap:.75rem;color:var(--color-primary);text-wrap:nowrap}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;position:absolute;top:calc(100% + .3rem);left:0;background-color:var(--color-light);border-top:none;border-radius:.3rem;box-shadow:0 2px 5px #0003;display:none;z-index:2;min-width:150px;max-height:200px;overflow-y:auto;scrollbar-width:thin;scrollbar-color:var(--color-primary) var(--color-light)}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--color-light)}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#f6f6f6;border-radius:4px;border:2px solid var(--color-light)}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px 12px;cursor:pointer;color:var(--color-primary);text-wrap:nowrap}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-of-type{border-top-right-radius:.3rem;border-top-left-radius:.3rem}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-of-type{border-bottom-right-radius:.3rem;border-bottom-left-radius:.3rem}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f6f6f6}.custom-select[_ngcontent-%COMP%]   .select-options.active[_ngcontent-%COMP%]{display:block}"]}),e})();const Wpe=["sortSelectButton"],Gpe=["sortSelectOptions"],qpe=["addressButton"],Kpe=["addressBar"];function Zpe(t,e){if(1&t&&(De(0),_(1,"span"),w(2," / "),m(),_(3,"span"),w(4),m(),Se()),2&t){const n=ee(2);P(4),Ee(n.category)}}function Ype(t,e){if(1&t&&(De(0),F(1,Zpe,5,1,"ng-container",57),Se()),2&t){const n=ee();P(1),A("ngIf",void 0!==n.category)}}const Qpe=function(){return["/collection"]},Xpe=function(t){return{category:t}};function Jpe(t,e){if(1&t){const n=Ot();_(0,"span"),w(1," / "),m(),_(2,"a",58),j("click",function(){return Be(n),Ve(ee().goCategory())}),w(3),m(),_(4,"span"),w(5," / "),m(),_(6,"span"),w(7),m()}if(2&t){const n=ee();P(2),A("routerLink",tp(4,Qpe))("queryParams",Pr(5,Xpe,n.categoryKey)),P(1),Ee(n.category),P(4),Ee(n.subcategory)}}function efe(t,e){if(1&t&&(_(0,"option",59),w(1),m()),2&t){const n=e.$implicit;A("value",n),P(1),Ee(n)}}function tfe(t,e){1&t&&I(0,"i",60)}function nfe(t,e){1&t&&I(0,"i",61)}function rfe(t,e){1&t&&I(0,"i",60)}function ife(t,e){1&t&&I(0,"i",61)}function ofe(t,e){1&t&&I(0,"i",60)}function sfe(t,e){1&t&&I(0,"i",61)}function afe(t,e){1&t&&I(0,"i",60)}function cfe(t,e){1&t&&I(0,"i",61)}function lfe(t,e){1&t&&I(0,"i",60)}function ufe(t,e){1&t&&I(0,"i",61)}const k9=function(t){return{show:t}};let dfe=(()=>{var t;class e{constructor(r,i){this.route=r,this.router=i,this.urls=[{key:"du-lich",value:"Du li\u0323ch",children:[{key:"chan-dung",value:"Ch\xe2n dung"},{key:"the-thao",value:"Th\xea\u0309 thao"},{key:"duong-pho",value:"\u0110\u01b0\u1eddng ph\u1ed1"},{key:"phong-canh",value:"Phong c\u1ea3nh"},{key:"ky-yeu",value:"K\u1ef7 y\u1ebfu"}]},{key:"lookbook",value:"Lookbook",children:[{key:"thoi-trang",value:"Th\u01a1\u0300i trang"},{key:"phu-kien",value:"Ph\u1ee5 ki\u1ec7n"},{key:"my-pham",value:"M\u1ef9 ph\u1ea9m"},{key:"thuc-pham",value:"Th\u1ef1c ph\u1ea9m"}]},{key:"catalogue",value:"Catalogue"},{key:"khac",value:"Kha\u0301c"}],this.timeOptions=["12:30 am","1:00 am","1:30 am","2:00 am","2:30 am","3:00 am","4:00 am","4:30 am","5:00 am","5:30 am","6:00 am","6:30 am","7:00 am","7:30 am","8:00 am","8:30 am","9:00 am","9:30 am","10:00 am","10:30 am","11:00 am","11:30 am","12:00 pm","12:30 pm","1:00 pm","1:30 pm","2:00 pm","2:30 pm","3:00 pm","3:30 pm","4:00 pm","4:30 pm","5:00 pm","5:30 pm","6:00 pm","6:30 pm","7:00 pm","7:30 pm","8:00 pm","8:30 pm","9:00 pm","9:30 pm","10:00 pm","10:30 pm","11:00 pm","11:30 pm"],this.selectedDateY="",this.selectedOptionTL="",this.selectedOptionTime="",this.selectedOptionPrice="",this.isShowSortMenu=!1,this.checkedSortText="",this.checkedSortValue=null,this.addressValue="",this.isShowAddressBar=!1}ngOnInit(){this.route.queryParams.subscribe(r=>{const i=r.category,o=r.subcategory;if(this.route.snapshot.url.some(s=>"collection"===s.path)){const s=this.urls.find(a=>a.key===i);s&&(this.category=s.value),o&&(this.categoryKey=i,this.subcategory=s?.children?.find(a=>a.key===o)?.value)}})}goCategory(){this.subcategory=void 0}ngAfterViewInit(){}toggleSort(){this.isShowSortMenu=!this.isShowSortMenu}checked(r,i){this.checkedSortValue=r,this.checkedSortText=i,this.isShowSortMenu=!1}toggleAddress(){this.isShowAddressBar=!this.isShowAddressBar}clearAddress(){this.addressValue=""}resetFilter(){this.addressValue="",this.isShowSortMenu=!1,this.selectedOptionTL="",this.selectedOptionTime="",this.selectedDateY=""}onClickOutside(r){!this.sortSelectButton.nativeElement.contains(r.target)&&!this.sortSelectOptions.nativeElement.contains(r.target)&&(this.isShowSortMenu=!1),!this.addressButton.nativeElement.contains(r.target)&&!this.addressBar.nativeElement.contains(r.target)&&(this.isShowAddressBar=!1)}}return(t=e).\u0275fac=function(r){return new(r||t)(W(xo),W(nr))},t.\u0275cmp=At({type:t,selectors:[["app-filter-bar"]],viewQuery:function(r,i){if(1&r&&(dr(Wpe,5),dr(Gpe,5),dr(qpe,5),dr(Kpe,5)),2&r){let o;Xn(o=Jn())&&(i.sortSelectButton=o.first),Xn(o=Jn())&&(i.sortSelectOptions=o.first),Xn(o=Jn())&&(i.addressButton=o.first),Xn(o=Jn())&&(i.addressBar=o.first)}},hostBindings:function(r,i){1&r&&j("mousedown",function(s){return i.onClickOutside(s)},0,Ru)},decls:119,vars:30,consts:[[1,"layout-filter"],[1,"cumb-wrapper"],[1,"cumb"],["routerLink","",1,"text-muted"],[4,"ngIf","ngIfElse"],["elseSub",""],[1,"filter-container"],[1,"filter-content"],[1,"filter-left"],[1,"filter-param"],[1,"filter-date-picker"],[3,"selectedDate","textDefault","selectedDateChange"],[1,"filter-tl"],[3,"selectedOption","textDefault","selectedOptionChange"],["custom-option","","value","1"],["custom-option","","value","2"],["custom-option","","value","3"],["custom-option","","value","4"],["custom-option","","value","5"],["custom-option","","value","6"],["custom-option","","value","7"],["custom-option","","value","8"],[1,"filter-time"],["custom-option","",3,"value",4,"ngFor","ngForOf"],[1,"filter-address"],[1,"filter-address-content"],[1,"address-button",3,"click"],["addressButton",""],[1,"bx","bxs-navigation"],[1,"address-bar",3,"ngClass"],["addressBar",""],[1,"address-form"],[1,"address-form-first"],["type","text",1,"address-input",3,"ngModel","ngModelChange"],["id","clearAddress",1,"bx","bx-x",3,"click"],["id","iconAddress",1,"bx","bxs-navigation"],[1,"address-form-second"],[1,"bx","bx-time-five"],[1,"horizontal-line"],[1,"address-suggest"],[1,"suggest-text"],[1,"filter-price"],[1,"filter-reset"],["href","javascript:void(0)","id","filter-icon-reset",3,"click"],[1,"filter-right"],[1,"filter-sort"],[1,"sort-tilte"],[1,"sort-content"],[1,"sort-text",3,"click"],["sortSelectButton",""],[1,"sort-menu",3,"ngClass"],["sortSelectOptions",""],[1,"sort-item",3,"click"],["href","javascript:void(0)",1,"sort-link","sort-default"],["class","bx bxs-check-circle sort-icon-checked",4,"ngIf"],["class","bx bx-circle sort-icon-unchecked",4,"ngIf"],["href","javascript:void(0)",1,"sort-link"],[4,"ngIf"],[1,"text-muted",3,"routerLink","queryParams","click"],["custom-option","",3,"value"],[1,"bx","bxs-check-circle","sort-icon-checked"],[1,"bx","bx-circle","sort-icon-unchecked"]],template:function(r,i){if(1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4")(4,"a",3),w(5,"Trang chu\u0309"),m(),F(6,Ype,2,1,"ng-container",4),F(7,Jpe,8,7,"ng-template",null,5,er),m()()(),_(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"app-date-picker",11),j("selectedDateChange",function(s){return i.selectedDateY=s}),m()(),_(15,"div",12)(16,"app-custom-select",13),j("selectedOptionChange",function(s){return i.selectedOptionTL=s}),_(17,"option",14),w(18,"1 gi\u1edd"),m(),_(19,"option",15),w(20,"2 gi\u1edd"),m(),_(21,"option",16),w(22,"3 gi\u1edd"),m(),_(23,"option",17),w(24,"4 gi\u1edd"),m(),_(25,"option",18),w(26,"5 gi\u1edd"),m(),_(27,"option",19),w(28,"6 gi\u1edd"),m(),_(29,"option",20),w(30,"7 gi\u1edd"),m(),_(31,"option",21),w(32,"8 gi\u1edd"),m()()(),_(33,"div",22)(34,"app-custom-select",13),j("selectedOptionChange",function(s){return i.selectedOptionTime=s}),F(35,efe,2,2,"option",23),m()(),_(36,"div",24)(37,"div",25)(38,"div",26,27),j("click",function(){return i.toggleAddress()}),I(40,"i",28),_(41,"span"),w(42),m()(),_(43,"div",29,30)(45,"div",31)(46,"div",32)(47,"input",33),j("ngModelChange",function(s){return i.addressValue=s}),m(),_(48,"i",34),j("click",function(){return i.clearAddress()}),m(),I(49,"i",35),m(),_(50,"div",36),I(51,"i",37),w(52," H\u1ed3 T\xe2y, H\xe0 N\u1ed9i "),m()(),I(53,"div",38),_(54,"div",39)(55,"p",40),I(56,"i",28),w(57," C\xf4ng vi\xean Y\xean S\u1edf, Ho\xe0ng Mai, H\xe0 N\u1ed9i "),m(),_(58,"p",40),I(59,"i",28),w(60," C\xf4ng vi\xean Th\u1ed1ng Nh\u1ea5t, H\xe0 N\u1ed9i "),m(),_(61,"p",40),I(62,"i",28),w(63," Ph\u1ed1 \u0111i b\u1ed9 Nguy\u1ec5n Hu\u1ec7, H\u1ed3 Ch\xed Minh "),m(),_(64,"p",40),I(65,"i",28),w(66," H\u1ed3 H\xf2a Trung, \u0110\xe0 N\u1eb5ng "),m()()()()(),_(67,"div",41)(68,"app-custom-select",13),j("selectedOptionChange",function(s){return i.selectedOptionPrice=s}),_(69,"option",14),w(70,"D\u01b0\u1edbi 300.000 VN\u0110"),m(),_(71,"option",15),w(72,"300.000 - 500.000 VN\u0110"),m(),_(73,"option",16),w(74,"500.000 - 800.000 VN\u0110"),m(),_(75,"option",17),w(76,"800.000 - 1200.000 VN\u0110"),m(),_(77,"option",18),w(78,"Tr\xean 1200.000 VN\u0110"),m()()(),_(79,"div",42)(80,"a",43),j("click",function(){return i.resetFilter()}),w(81," C\xe0i l\u1ea1i "),m()()()(),_(82,"div",44)(83,"div",45)(84,"div",46)(85,"span"),w(86,"S\u1eafp x\u1ebfp theo"),m()(),_(87,"div",47)(88,"div",48,49),j("click",function(){return i.toggleSort()}),_(90,"span"),w(91),m()(),_(92,"div",50,51)(94,"li",52),j("click",function(){return i.checked(0,"M\u1eb7c \u0111\u1ecbnh")}),_(95,"a",53),F(96,tfe,1,0,"i",54),F(97,nfe,1,0,"i",55),w(98," M\u1eb7c \u0111\u1ecbnh "),m()(),_(99,"li",52),j("click",function(){return i.checked(1,"Gi\xe1 : Th\u1ea5p - Cao")}),_(100,"a",56),F(101,rfe,1,0,"i",54),F(102,ife,1,0,"i",55),w(103," Gi\xe1 : Th\u1ea5p - Cao "),m()(),_(104,"li",52),j("click",function(){return i.checked(2,"Gi\xe1: Cao - Th\u1ea5p")}),_(105,"a",56),F(106,ofe,1,0,"i",54),F(107,sfe,1,0,"i",55),w(108," Gi\xe1: Cao - Th\u1ea5p "),m()(),_(109,"li",52),j("click",function(){return i.checked(3,"\u0110\xe1nh gi\xe1 : Th\u1ea5p - Cao")}),_(110,"a",56),F(111,afe,1,0,"i",54),F(112,cfe,1,0,"i",55),w(113," \u0110\xe1nh gi\xe1 : Th\u1ea5p - Cao "),m()(),_(114,"li",52),j("click",function(){return i.checked(4,"\u0110\xe1nh gi\xe1 : Cao - Th\u1ea5p")}),_(115,"a",56),F(116,lfe,1,0,"i",54),F(117,ufe,1,0,"i",55),w(118," \u0110\xe1nh gi\xe1 : Cao - Th\u1ea5p "),m()()()()()()()()()),2&r){const o=Qn(8);P(6),A("ngIf",void 0===i.subcategory)("ngIfElse",o),P(8),A("selectedDate",i.selectedDateY)("textDefault","Ng\xe0y"),P(2),A("selectedOption",i.selectedOptionTL)("textDefault","Th\u1eddi l\u01b0\u1ee3ng"),P(18),A("selectedOption",i.selectedOptionTime)("textDefault","Th\u1eddi gian"),P(1),A("ngForOf",i.timeOptions),P(7),Ee(i.addressValue||"\u0110\u1ecba \u0111i\u1ec3m ch\u1ee5p \u1ea3nh"),P(1),A("ngClass",Pr(26,k9,i.isShowAddressBar)),P(4),A("ngModel",i.addressValue),P(21),A("selectedOption",i.selectedOptionPrice)("textDefault","Gi\xe1"),P(23),Ee(i.checkedSortText||"M\u1eb7c \u0111\u1ecbnh"),P(1),A("ngClass",Pr(28,k9,i.isShowSortMenu)),P(4),A("ngIf",!i.checkedSortValue||0===i.checkedSortValue),P(1),A("ngIf",i.checkedSortValue&&0!==i.checkedSortValue),P(4),A("ngIf",i.checkedSortValue&&1===i.checkedSortValue),P(1),A("ngIf",!i.checkedSortValue||1!==i.checkedSortValue),P(4),A("ngIf",i.checkedSortValue&&2===i.checkedSortValue),P(1),A("ngIf",!i.checkedSortValue||2!==i.checkedSortValue),P(4),A("ngIf",i.checkedSortValue&&3===i.checkedSortValue),P(1),A("ngIf",!i.checkedSortValue||3!==i.checkedSortValue),P(4),A("ngIf",i.checkedSortValue&&4===i.checkedSortValue),P(1),A("ngIf",!i.checkedSortValue||4!==i.checkedSortValue)}},dependencies:[Ts,Wr,Vr,pr,kT,FT,Ns,ua,Fs,x9,R9],styles:['.filter-left[_ngcontent-%COMP%]{width:calc(100% - 350px)}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(6,1fr);gap:.5rem}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]{position:relative;min-width:12rem}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-button[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;padding:8px 12px;border:1px solid var(--color-primary);border-radius:4px;background-color:var(--color-light);display:flex;justify-content:flex-start;column-gap:.75rem;align-items:center;color:var(--color-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]{position:absolute;top:calc(100% + .3rem);left:0%;min-width:13rem;background-color:var(--color-bg-body);box-shadow:0 2px 5px #0003;border-radius:.3rem;padding:.5rem 1.5rem;z-index:1;display:none}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]{margin-top:1.5rem;width:100%;display:flex;flex-direction:column}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]   .address-form-first[_ngcontent-%COMP%]{position:relative}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]   .address-form-first[_ngcontent-%COMP%]   .address-input[_ngcontent-%COMP%]{width:100%;padding:10px 1.25rem 10px 1.5rem;outline:none;border:1px solid var(--color-primary);color:var(--color-primary);border-radius:.3rem}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]   .address-form-first[_ngcontent-%COMP%]   #iconAddress[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);left:.3rem}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]   .address-form-first[_ngcontent-%COMP%]   #clearAddress[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);right:.3rem;cursor:pointer;border-radius:50%}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]   .address-form-first[_ngcontent-%COMP%]   #clearAddress[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]   .address-form-second[_ngcontent-%COMP%]{padding:8px 0;display:flex;justify-content:flex-start;column-gap:.75rem;align-items:center;color:var(--color-primary);font-size:14px}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .horizontal-line[_ngcontent-%COMP%]{height:2px;background-color:#e6e6e6;margin:.1rem 0}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-suggest[_ngcontent-%COMP%]{margin-top:.5rem}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-suggest[_ngcontent-%COMP%]   .suggest-text[_ngcontent-%COMP%]{margin:5px 0!important;font-size:14px}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar.show[_ngcontent-%COMP%]{display:block!important}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-reset[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-reset[_ngcontent-%COMP%]   #filter-icon-reset[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;text-decoration:none;color:var(--color-primary);font-size:18px;border-radius:.3rem;padding:0 1.5rem;background-color:var(--color-secondary);text-wrap:nowrap}@media (max-width: 1400px){.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)!important}}@media (max-width: 1200px){.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)!important}}@media (max-width: 991.98px){.filter-left[_ngcontent-%COMP%]{width:100%;order:2}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)!important}}@media (max-width: 600px){.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 470px){.filter-left[_ngcontent-%COMP%]{width:200px}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-reset[_ngcontent-%COMP%]   #filter-icon-reset[_ngcontent-%COMP%]{padding:.5rem 1.5rem}}.filter-right[_ngcontent-%COMP%]{min-width:350px}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:8px}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-tilte[_ngcontent-%COMP%]{text-wrap:nowrap;margin-right:1rem;color:var(--color-primary)}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]{position:relative}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-text[_ngcontent-%COMP%]{min-width:200px;font-weight:700;color:var(--color-primary);cursor:pointer}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;display:inline-block}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;bottom:-.25rem;width:100%;height:2px;background-color:#000;transition:all .3s ease}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-text[_ngcontent-%COMP%]   span.active[_ngcontent-%COMP%]:after{width:0}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]{position:absolute;top:calc(100% + .3rem);right:10%;min-width:13rem;background-color:var(--color-bg-body);box-shadow:0 2px 5px #0003;border-radius:.3rem;padding:.5rem 0;z-index:2;display:none}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]   .sort-item[_ngcontent-%COMP%]{list-style:none;display:block;padding-left:1rem}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]   .sort-item[_ngcontent-%COMP%]   .sort-link[_ngcontent-%COMP%]{color:var(--color-primary);display:block;text-decoration:none;text-align:center;line-height:2.5rem;display:flex;flex-wrap:nowrap;align-items:center}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]   .sort-item[_ngcontent-%COMP%]   .sort-link[_ngcontent-%COMP%]   .sort-icon-checked[_ngcontent-%COMP%], .filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]   .sort-item[_ngcontent-%COMP%]   .sort-link[_ngcontent-%COMP%]   .sort-icon-unchecked[_ngcontent-%COMP%]{margin-bottom:3px;margin-right:.5rem}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]   .sort-item[_ngcontent-%COMP%]:hover{background-color:#f6f6f6}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu.show[_ngcontent-%COMP%]{display:block!important}@media (max-width: 991.98px){.filter-right[_ngcontent-%COMP%]{order:1;min-width:auto;width:100%;margin-bottom:2rem}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]{justify-content:flex-start}}.layout-filter[_ngcontent-%COMP%]{margin-top:5.57rem}.layout-filter[_ngcontent-%COMP%]   .cumb-wrapper[_ngcontent-%COMP%]{width:100%;margin:0 auto}.layout-filter[_ngcontent-%COMP%]   .cumb-wrapper[_ngcontent-%COMP%]   .cumb[_ngcontent-%COMP%]{padding:1rem 2.5rem;color:var(--color-primary)}.layout-filter[_ngcontent-%COMP%]   .cumb-wrapper[_ngcontent-%COMP%]   .cumb[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{font-weight:500;text-decoration:none;position:relative;color:var(--color-primary)}.layout-filter[_ngcontent-%COMP%]   .cumb-wrapper[_ngcontent-%COMP%]   .cumb[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:-1px;left:0;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.layout-filter[_ngcontent-%COMP%]   .cumb-wrapper[_ngcontent-%COMP%]   .cumb[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.layout-filter[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]{width:100%;margin:0 auto}.layout-filter[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   .filter-content[_ngcontent-%COMP%]{padding:0rem 2.5rem 2rem;display:flex;justify-content:space-between}@media (min-width: 1400px){.cumb-wrapper[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.layout-filter[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   .filter-content[_ngcontent-%COMP%]{flex-direction:column}}']}),e})(),N9=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=At({type:t,selectors:[["app-layout-shop"]],decls:8,vars:0,consts:[[1,"layout-wrapper"],[1,"layout-container"],[1,"content-wrapper"],[1,"content-container"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1),I(2,"app-header")(3,"app-filter-bar"),_(4,"div",2)(5,"div",3),I(6,"router-outlet"),m()(),I(7,"app-footer"),m()())},dependencies:[ul,JT,eA,dfe],styles:[".layout-wrapper[_ngcontent-%COMP%], .layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%], .layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{width:100%}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{width:100%;margin:0 auto}@media (min-width: 1400px){.content-container[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.content-container[_ngcontent-%COMP%]{margin-top:5rem!important}}"]}),e})(),tA=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=At({type:t,selectors:[["app-layout-auth"]],decls:3,vars:0,consts:[[1,"layout-auth"],[1,"auth-wrapper"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1),I(2,"router-outlet"),m()())},dependencies:[ul],styles:[".layout-auth[_ngcontent-%COMP%]{width:100%;height:100%}"]}),e})(),F9=(()=>{var t;class e{constructor(r){this.el=r}onInputChange(r){const i=this.el.nativeElement.value,o=i.replace(/[^0-9]/g,"");i!==o&&(this.el.nativeElement.value=o,r.preventDefault())}}return(t=e).\u0275fac=function(r){return new(r||t)(W(Hi))},t.\u0275dir=We({type:t,selectors:[["","appOnlyNumbers",""]],hostBindings:function(r,i){1&r&&j("input",function(s){return i.onInputChange(s)})}}),e})();function hfe(t,e){1&t&&(_(0,"span",24),w(1,"Vui l\xf2ng nh\u1eadp t\xean."),m())}function pfe(t,e){1&t&&(_(0,"span",24),w(1,"Vui l\xf2ng nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i h\u1ee3p l\u1ec7."),m())}function ffe(t,e){1&t&&(_(0,"span",24),w(1,"Vui l\xf2ng nh\u1eadp email h\u1ee3p l\u1ec7."),m())}function gfe(t,e){1&t&&(_(0,"span",24),w(1,"Vui l\xf2ng nh\u1eadp \u0111i\u0323a chi\u0309 h\u1ee3p l\u1ec7."),m())}let _fe=(()=>{var t;class e{constructor(r){this.orderService=r,this.invalidEmail=!1,this.invalidPhone=!1,this.invalidName=!1,this.invalidAddress=!1,this.email="",this.phone="",this.name="",this.address="",this.messageText="",this.isSuccess=!0}onChangeName(r){this.name=r.target.value,this.validateName()}onChangePhone(r){this.phone=r.target.value,this.validatePhone()}onChangeEmail(r){this.email=r.target.value,this.validateEmail()}onChangeAddress(r){this.address=r.target.value,this.validateAddress()}onSubmit(){var r=this;return(0,S.Z)(function*(){if(r.validateName()&&r.validatePhone()&&r.validateEmail()&&r.validateAddress()){const a=localStorage.getItem("order_id");if(a){const c=parseInt(a,10);var i=yield r.orderService.getOrderById(c);if(i){i.cust_name=r.name,i.cust_email=r.email,i.cust_phone=r.phone,i.address=r.address,i.status="cho_duyet";var o="";(yield r.orderService.generateUniqueOrderCode()).subscribe(l=>{o=l}),i.code=o,(yield r.orderService.updateOrder(i))?(r.isSuccess=!0,r.messageText="Th\xe0nh c\xf4ng.",window.alert(r.messageText)):(r.messageText="Th\u1ea5t b\u1ea1i.",r.isSuccess=!1,window.alert(r.messageText))}else r.messageText="Th\u1ea5t b\u1ea1i.",r.isSuccess=!1,window.alert(r.messageText);localStorage.removeItem("order_id")}else r.messageText="Th\u1ea5t b\u1ea1i.",r.isSuccess=!1,window.alert(r.messageText)}else r.validateName(),r.validatePhone(),r.validateEmail(),r.validateAddress()})()}validateName(){return this.invalidName=this.name.length<1,!this.invalidName}validateAddress(){return this.invalidAddress=this.address.length<1,!this.invalidAddress}validatePhone(){const i=/^0[0-9]{9,10}$/.test(this.phone);return this.invalidPhone=!i,i}validateEmail(){const i=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(this.email);return this.invalidEmail=!i,i}}return(t=e).\u0275fac=function(r){return new(r||t)(W(El))},t.\u0275cmp=At({type:t,selectors:[["app-send-contact"]],decls:38,vars:6,consts:[[1,"send-ct-wrapper"],[1,"send-ct-container"],[1,"send-ct-header"],[1,"go-home"],["routerLink","/home",1,"go-home-link"],[1,"bx","bxs-chevron-left"],[1,"brand"],["routerLink","/home",1,"brand-link"],["src","./assets/images/logo2.png","alt","logo",1,"brand-image"],[1,"send-ct-title"],[1,"message",3,"ngClass"],[1,"send-ct-content"],[3,"ngSubmit"],[1,"form-group"],["for","fullname"],["type","text","id","fullname","name","fullname","required","","placeholder","Nguyen Quang Nam",3,"input"],["class","validate-message",4,"ngIf"],["for","phone"],["type","text","id","phone","name","phone","required","","placeholder","0123456789","appOnlyNumbers","",3,"input"],["for","username"],["type","text","id","username","name","username","required","","placeholder","quang@gmail.com",3,"input"],["for","address"],["type","text","id","address","name","address","required","","placeholder","",3,"input"],["type","submit"],[1,"validate-message"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),I(5,"i",5),w(6," Trang ch\u1ee7 "),m()(),_(7,"div",6)(8,"a",7),I(9,"img",8),m()(),_(10,"h3",9),w(11," Vui l\xf2ng \u0111\u1ec3 l\u1ea1i th\xf4ng tin li\xean h\u1ec7. "),m()(),_(12,"div",10),w(13),m(),_(14,"div",11)(15,"form",12),j("ngSubmit",function(){return i.onSubmit()}),_(16,"div",13)(17,"label",14),w(18,"H\u1ecd v\xe0 t\xean"),m(),_(19,"input",15),j("input",function(s){return i.onChangeName(s)}),m(),F(20,hfe,2,0,"span",16),m(),_(21,"div",13)(22,"label",17),w(23,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),m(),_(24,"input",18),j("input",function(s){return i.onChangePhone(s)}),m(),F(25,pfe,2,0,"span",16),m(),_(26,"div",13)(27,"label",19),w(28,"Email"),m(),_(29,"input",20),j("input",function(s){return i.onChangeEmail(s)}),m(),F(30,ffe,2,0,"span",16),m(),_(31,"div",13)(32,"label",21),w(33,"\u0110i\u0323a chi\u0309 chu\u0323p a\u0309nh"),m(),_(34,"input",22),j("input",function(s){return i.onChangeAddress(s)}),m(),F(35,gfe,2,0,"span",16),m(),_(36,"button",23),w(37,"G\u1eedi"),m()()()()()),2&r&&(P(12),A("ngClass",i.isSuccess?"success":"error"),P(1),bt(" ",i.messageText," "),P(7),A("ngIf",i.invalidName),P(5),A("ngIf",i.invalidPhone),P(5),A("ngIf",i.invalidEmail),P(5),A("ngIf",i.invalidAddress))},dependencies:[Ts,Vr,pr,Dm,Em,nd,F9],styles:[".send-ct-wrapper[_ngcontent-%COMP%]{width:100%;margin:0 auto;min-height:500px;min-height:100vh;padding:2rem;background-image:url(/assets/images/banner.jpg);background-size:cover;background-repeat:no-repeat;background-position:center}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]{padding:2rem;border-radius:.5rem;width:700px;margin:auto;min-height:calc(100vh - 4rem);height:100%;background-color:#ffffffa8;box-shadow:0 0 10px #0000004d}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem;position:relative}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{position:absolute;top:0rem;left:0rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]   .go-home-link[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;text-decoration:none;color:var(--color-primary);font-weight:700;position:relative}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .send-ct-title[_ngcontent-%COMP%]{text-align:center;color:var(--color-primary);font-size:32px;font-weight:700}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{display:flex;justify-content:center}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]   .brand-image[_ngcontent-%COMP%]{width:5rem;height:5rem;object-fit:cover}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin-bottom:1rem;font-weight:600}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .message.error[_ngcontent-%COMP%]{color:red}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .message.success[_ngcontent-%COMP%]{color:green}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:15px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:gray;font-weight:600;font-size:18px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 10px;border:2px solid gray;border-radius:5px;background-color:transparent;outline:none}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--color-primary)}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{width:100%;font-size:14px;color:#ff1818}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 auto;margin-top:3rem;display:block;padding:15px 25px;background-color:var(--color-primary);color:#fff;border:none;border-radius:5px;font-size:20px;cursor:pointer}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}@media (max-width: 767.98px){.send-ct-wrapper[_ngcontent-%COMP%]{width:100%!important;padding:1rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]{width:100%;min-height:calc(100vh - 2rem)}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{position:absolute;top:-.5rem;left:-1rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .send-ct-title[_ngcontent-%COMP%]{font-size:26px!important}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{padding-top:1rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{font-size:12px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2rem;padding:10px 15px;font-size:20px!important}}"]}),e})();function mfe(t,e){if(1&t){const n=Ot();_(0,"a",5),j("click",function(){return Be(n),Ve(ee().prevSlide())}),I(1,"i",6),m()}}function yfe(t,e){if(1&t&&(De(0),I(1,"img",7),Se()),2&t){const n=e.$implicit,r=e.index,i=ee();P(1),IE("transform","translateX("+i.transform+"px)"),Ao("active",r===i.currentSlide),y_("alt","Image ",r+1,""),A("src",n,pt)}}function vfe(t,e){if(1&t){const n=Ot();_(0,"a",8),j("click",function(){return Be(n),Ve(ee().nextSlide())}),I(1,"i",9),m()}}let Cfe=(()=>{var t;class e{constructor(){this.images=[],this.currentSlide=0,this.transform=0}ngOnInit(){}prevSlide(){this.currentSlide=(this.currentSlide-1+this.images.length)%this.images.length,this.transform+=300}nextSlide(){this.currentSlide=(this.currentSlide+1)%this.images.length,this.transform-=300}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=At({type:t,selectors:[["app-image-carousel"]],inputs:{images:"images"},decls:5,vars:3,consts:[[1,"carousel-container"],["class","prev-button",3,"click",4,"ngIf"],[1,"image-slider"],[4,"ngFor","ngForOf"],["class","next-button",3,"click",4,"ngIf"],[1,"prev-button",3,"click"],[1,"bx","bx-left-arrow-alt"],[1,"carousel-image",3,"src","alt"],[1,"next-button",3,"click"],[1,"bx","bx-right-arrow-alt"]],template:function(r,i){1&r&&(_(0,"div",0),F(1,mfe,2,0,"a",1),_(2,"div",2),F(3,yfe,2,6,"ng-container",3),m(),F(4,vfe,2,0,"a",4),m()),2&r&&(P(1),A("ngIf",i.currentSlide>0),P(2),A("ngForOf",i.images),P(1),A("ngIf",i.currentSlide<i.images.length-1))},dependencies:[Wr,Vr],styles:[".carousel-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;position:relative;height:100%}.image-slider[_ngcontent-%COMP%]{display:flex;overflow:hidden;position:relative;width:300px;max-width:100%;max-height:100%}.carousel-image[_ngcontent-%COMP%]{width:300px;max-width:100%;object-fit:cover;transition:transform .5s}.carousel-image.active[_ngcontent-%COMP%]{transform:translate(0)}.prev-button[_ngcontent-%COMP%], .next-button[_ngcontent-%COMP%]{background-color:#333;color:#fff;width:30px;height:30px;display:flex;justify-content:center;align-items:center;border-radius:50%;position:absolute;transform:translateY(-50%);top:50%;z-index:1}.prev-button[_ngcontent-%COMP%]{left:0}.next-button[_ngcontent-%COMP%]{right:0}"]}),e})();function wfe(t,e){if(1&t&&(De(0),_(1,"div",92)(2,"div",93)(3,"div",94),I(4,"img",95),m(),_(5,"div",96),I(6,"img",95),m()(),_(7,"div",97),I(8,"img",95),m(),_(9,"div",98)(10,"div",99),I(11,"img",95),m(),_(12,"div",100),I(13,"img",95),m()(),_(14,"div",101),I(15,"img",95),m(),_(16,"div",102)(17,"div",103),I(18,"img",95),m(),_(19,"div",104),I(20,"img",95),m()()(),Se()),2&t){const n=ee();P(4),Ht("src",n.wallImages[0]||"",pt),P(2),Ht("src",n.wallImages[1]||"",pt),P(2),Ht("src",n.wallImages[2]||"",pt),P(3),Ht("src",n.wallImages[3]||"",pt),P(2),Ht("src",n.wallImages[4]||"",pt),P(2),Ht("src",n.wallImages[5]||"",pt),P(3),Ht("src",n.wallImages[6]||"",pt),P(2),Ht("src",n.wallImages[7]||"",pt)}}function Pfe(t,e){1&t&&(_(0,"div",92)(1,"div",93)(2,"div",94),I(3,"img",105),m(),_(4,"div",96),I(5,"img",106),m()(),_(6,"div",97),I(7,"img",107),m(),_(8,"div",98)(9,"div",99),I(10,"img",108),m(),_(11,"div",100),I(12,"img",109),m()(),_(13,"div",101),I(14,"img",110),m(),_(15,"div",102)(16,"div",103),I(17,"img",111),m(),_(18,"div",104),I(19,"img",112),m()()())}function Mfe(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function Ofe(t,e){if(1&t&&(De(0),F(1,Mfe,1,2,"i",113),Se()),2&t){const n=ee();P(1),A("ngForOf",n.review1Star)}}function Efe(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function Ife(t,e){if(1&t&&(De(0),F(1,Efe,1,2,"i",113),Se()),2&t){const n=ee();P(1),A("ngForOf",n.review2Star)}}function bfe(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function Tfe(t,e){if(1&t&&(De(0),F(1,bfe,1,2,"i",113),Se()),2&t){const n=ee();P(1),A("ngForOf",n.review3Star)}}function Afe(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function Dfe(t,e){if(1&t&&(De(0),F(1,Afe,1,2,"i",113),Se()),2&t){const n=ee();P(1),A("ngForOf",n.review4Star)}}function Sfe(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function xfe(t,e){if(1&t&&(De(0),F(1,Sfe,1,2,"i",113),Se()),2&t){const n=ee();P(1),A("ngForOf",n.review5Star)}}function Rfe(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function kfe(t,e){if(1&t&&(De(0),F(1,Rfe,1,2,"i",113),Se()),2&t){const n=ee();P(1),A("ngForOf",n.review0Star)}}function Nfe(t,e){if(1&t){const n=Ot();_(0,"div",114)(1,"a",115),j("click",function(){const o=Be(n).index;return Ve(ee().showReview(o))}),_(2,"div",116),I(3,"img",95),m(),_(4,"div",117)(5,"h3",118),w(6),m(),_(7,"span",119),w(8),m()()()()}if(2&t){const n=e.$implicit;P(3),Ht("src",n.images[0],pt),P(3),Ee(n.name),P(2),Ee(n.images.length)}}function Ffe(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function Lfe(t,e){if(1&t&&(De(0),F(1,Ffe,1,2,"i",113),Se()),2&t){const n=ee();P(1),A("ngForOf",n.review1Star)}}function Vfe(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function Ufe(t,e){if(1&t&&(De(0),F(1,Vfe,1,2,"i",113),Se()),2&t){const n=ee();P(1),A("ngForOf",n.review2Star)}}function Bfe(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function jfe(t,e){if(1&t&&(De(0),F(1,Bfe,1,2,"i",113),Se()),2&t){const n=ee();P(1),A("ngForOf",n.review3Star)}}function $fe(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function Hfe(t,e){if(1&t&&(De(0),F(1,$fe,1,2,"i",113),Se()),2&t){const n=ee();P(1),A("ngForOf",n.review4Star)}}function zfe(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function Wfe(t,e){if(1&t&&(De(0),F(1,zfe,1,2,"i",113),Se()),2&t){const n=ee();P(1),A("ngForOf",n.review5Star)}}function Gfe(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function qfe(t,e){if(1&t&&(De(0),F(1,Gfe,1,2,"i",113),Se()),2&t){const n=ee();P(1),A("ngForOf",n.review5Star)}}function Kfe(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function Zfe(t,e){if(1&t&&(De(0),F(1,Kfe,1,2,"i",113),Se()),2&t){const n=ee(2);P(1),A("ngForOf",n.review1Star)}}function Yfe(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function Qfe(t,e){if(1&t&&(De(0),F(1,Yfe,1,2,"i",113),Se()),2&t){const n=ee(2);P(1),A("ngForOf",n.review2Star)}}function Xfe(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function Jfe(t,e){if(1&t&&(De(0),F(1,Xfe,1,2,"i",113),Se()),2&t){const n=ee(2);P(1),A("ngForOf",n.review3Star)}}function ege(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function tge(t,e){if(1&t&&(De(0),F(1,ege,1,2,"i",113),Se()),2&t){const n=ee(2);P(1),A("ngForOf",n.review4Star)}}function nge(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function rge(t,e){if(1&t&&(De(0),F(1,nge,1,2,"i",113),Se()),2&t){const n=ee(2);P(1),A("ngForOf",n.review5Star)}}function ige(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function oge(t,e){if(1&t&&(De(0),F(1,ige,1,2,"i",113),Se()),2&t){const n=ee(2);P(1),A("ngForOf",n.review5Star)}}function sge(t,e){if(1&t&&(_(0,"div",120)(1,"div",121)(2,"div",122),I(3,"img",123),_(4,"span",124),w(5),m(),_(6,"div",125),De(7,126),F(8,Zfe,2,1,"ng-container",127),F(9,Qfe,2,1,"ng-container",127),F(10,Jfe,2,1,"ng-container",127),F(11,tge,2,1,"ng-container",127),F(12,rge,2,1,"ng-container",127),F(13,oge,2,1,"ng-container",128),Se(),m()(),_(14,"div",129),w(15),m()(),_(16,"div",130)(17,"p"),w(18),m()()()),2&t){const n=e.$implicit;P(5),Ee(n.cus_name),P(2),A("ngSwitch",n.rate),P(1),A("ngSwitchCase",1),P(1),A("ngSwitchCase",2),P(1),A("ngSwitchCase",3),P(1),A("ngSwitchCase",4),P(1),A("ngSwitchCase",5),P(3),Ee(n.date),P(3),Ee(n.description)}}function age(t,e){if(1&t&&(_(0,"div",131),w(1),m()),2&t){const n=ee();P(1),bt(" ",n.errorMessage," ")}}function cge(t,e){if(1&t&&(_(0,"option",133),w(1),m()),2&t){const n=e.$implicit;A("value",n.id),P(1),bt(" ",n.name," ")}}function lge(t,e){if(1&t){const n=Ot();De(0),_(1,"app-custom-select",74),j("selectedOptionChange",function(i){return Be(n),Ve(ee().onOptionTypeChange(i))})("selectedOptionChange",function(i){return Be(n),Ve(ee().selectedOptionType=i)}),F(2,cge,2,2,"option",132),m(),Se()}if(2&t){const n=ee();P(1),A("selectedOption",n.selectedOptionType)("textDefault","Ch\u1ecdn lo\u1ea1i ch\u1ee5p"),P(1),A("ngForOf",n.typeOfPhoto)}}function uge(t,e){if(1&t&&(De(0),_(1,"p",134),w(2),_(3,"span"),w(4),m()(),Se()),2&t){const n=ee();P(2),bt(" ",n.costPreview," "),P(2),bt("/",""!==n.selectedOptionTLVal&&""!==n.selectedOptionTypeVal?n.selectedOptionTLVal:1," ti\u1ebfng")}}function dge(t,e){if(1&t){const n=Ot();_(0,"div",135)(1,"div",136)(2,"div",137)(3,"div",138)(4,"div"),I(5,"app-image-carousel",139),m()(),_(6,"a",140),j("click",function(){return Be(n),Ve(ee().closeReview())}),I(7,"i",88),m()()()()}if(2&t){const n=ee();P(5),A("images",n.imagesForCarousel)}}let hge=(()=>{var t;class e{constructor(r,i,o,s,a,c,l){this.router=r,this.route=i,this.orderService=o,this.userInfoDTOService=s,this.reviewService=a,this.wallService=c,this.decesService=l,this.userData=null,this.decesData=null,this.reviewData=[],this.orderData=[],this.wallImages=[],this.selectedDateU="",this.selectedOptionTL="",this.selectedOptionType="",this.errorMessage="",this.isError=!1,this.dateVal="",this.selectedOptionTLVal="",this.selectedOptionTypeVal="",this.setTimeVal="",this.partnerId=0,this.isShowOrder=!1,this.isValidOrderTime=!0,this.typeOfPhoto=[],this.costPreview=3e5,this.review0Star=["bx bx-star","bx bx-star","bx bx-star","bx bx-star","bx bx-star"],this.review1Star=["bx bxs-star","bx bx-star","bx bx-star","bx bx-star","bx bx-star"],this.review2Star=["bx bxs-star","bx bxs-star","bx bx-star","bx bx-star","bx bx-star"],this.review3Star=["bx bxs-star","bx bxs-star","bx bxs-star","bx bx-star","bx bx-star"],this.review4Star=["bx bxs-star","bx bxs-star","bx bxs-star","bx bxs-star","bx bx-star"],this.review5Star=["bx bxs-star","bx bxs-star","bx bxs-star","bx bxs-star","bx bxs-star"],this.countRate=0,this.isShowReview=!1,this.imagesForCarousel=[],this.route.params.subscribe(h=>{const f=h.id;f?this.partnerId=parseInt(f,10):console.error("ID not found in URL")})}ngOnInit(){this.route.params.subscribe(r=>{const i=r.id;if(i){const o=parseInt(i,10);this.loadUserInfoData(o),this.loadDecesData(o),this.loadReviewData(o),this.loadOrderData(o)}else console.error("ID not found in URL")})}loadWall(r){var i=this;return(0,S.Z)(function*(){i.wallData=yield i.wallService.getWallByUserId(r),i.wallData&&(i.wallImages=i.wallData.images)})()}loadUserInfoData(r){this.userInfoDTOService.getUserInfoDTOsById(r).subscribe(i=>{this.userData=i,this.typeOfPhoto=this.userData?.userInfo.typeOfPhoto||[]},i=>{console.error("Error loading user info:",i)})}loadDecesData(r){var i=this;return(0,S.Z)(function*(){i.decesData=yield i.decesService.getDecesByPartnerId(r),console.log(i.decesData)})()}loadOrderData(r){var i=this;return(0,S.Z)(function*(){i.orderData=yield i.orderService.getOrderByPartnerId(r)})()}loadReviewData(r){var i=this;return(0,S.Z)(function*(){i.reviewData=yield i.reviewService.getReviewByPartnerId(r);var o=0,s=0;i.reviewData.forEach(a=>{o+=a.rate,s++}),i.countRate=s>0?parseFloat((o/s).toFixed(1)):0})()}onDateChange(r){this.dateVal=r,this.validBook()}onOptionTLChange(r){this.selectedOptionTLVal=r,console.log(r);var i=parseInt(this.selectedOptionTLVal,10);if(""!==this.selectedOptionTypeVal){var o=parseInt(this.selectedOptionTypeVal,10);const a=this.typeOfPhoto.find(c=>c.id===o);if(a){var s=parseInt(a.cost,10);this.costPreview=s*i}}this.validBook()}onSetTimeChange(){this.validBook()}onOptionTypeChange(r){this.selectedOptionTypeVal=r;const i=parseInt(r.trim(),10),o=this.typeOfPhoto.find(c=>c.id===i);if(o){var s=parseInt(o.cost,10);if(""!==this.selectedOptionTLVal){var a=parseInt(this.selectedOptionTLVal,10);this.costPreview=s*a}else this.costPreview=s}}validBook(){if(""!==this.dateVal&&""!==this.setTimeVal&&""!==this.selectedOptionTLVal){const i=this.orderData.filter(o=>o.order_date===this.dateVal);if(i.length>0){var r=this.setTimeVal.split(":");console.log(r[0]),console.log(r[1]);const o=3600*parseInt(r[0].trim())+60*parseInt(r[1].trim()),s=3600*parseInt(this.selectedOptionTLVal),a=o+s;let c=!0;i.forEach(l=>{var h=l.appoi_time.split(":");const f=3600*parseInt(h[0].trim())+60*parseInt(h[1].trim()),v=f+3600*parseInt(l.time);return console.log(o),console.log(a),console.log(f),console.log(v),o>=f&&o<=v||a>=f&&a<=v||f>=o&&f<=a||v>=o&&v<=a?(c=!1,this.errorMessage=`Ti\xea\u0301c qua\u0301 \u0111a\u0303 co\u0301 ng\u01b0\u01a1\u0300i \u0111\u0103\u0323t t\u01b0\u0300: ${this.formatTimeFromSeconds(f)} \u0111\xea\u0301n ${this.formatTimeFromSeconds(v)}`,this.isError=!0,void(this.isValidOrderTime=!1)):void 0}),c?(console.log("Kho\u1ea3ng th\u1eddi gian h\u1ee3p l\u1ec7."),this.isError=!1,this.isValidOrderTime=!0):console.log("Kho\u1ea3ng th\u1eddi gian kh\xf4ng h\u1ee3p l\u1ec7 v\u1edbi \u0111\u01a1n \u0111\u1eb7t h\xe0ng hi\u1ec7n t\u1ea1i.")}}}formatTimeFromSeconds(r){const i=Math.floor(r/3600),o=Math.floor(r%3600/60);return`${String(i).padStart(2,"0")}:${String(o).padStart(2,"0")}`}onSubmit(){var r=this;return(0,S.Z)(function*(){if(r.selectedDateU&&r.selectedOptionTL&&r.selectedOptionType&&r.setTimeVal&&r.isValidOrderTime){if(0!==r.partnerId){console.log("true");const o=r.costPreview,s=r.typeOfPhoto.find(c=>c.id==parseInt(r.selectedOptionTLVal))?.name,a={id:0,order_date:r.dateVal,time:r.selectedOptionTLVal,appoi_time:r.setTimeVal,shooting_type:s||"",partner_id:r.partnerId,cust_name:"",cust_email:"",cust_phone:"",code:"",status:"chua_dien_tt",address:"",price:o.toString(),link_down:"",des_refund:""};var i=yield r.orderService.createOrder(a);i&&(localStorage.setItem("order_id",i.id.toString()),r.router.navigate(["/contact"]))}}else r.isValidOrderTime&&(r.errorMessage="Vui l\xf2ng \u0111i\u1ec1n \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin"),r.isError=!0})()}showOrder(){this.isShowOrder=!0}hideOrder(){this.isShowOrder=!1}showReview(r){this.imagesForCarousel=[];const i=this.decesData?.category[r]?.images||[];i.length>0&&(this.imagesForCarousel=this.imagesForCarousel.concat(i)),this.isShowReview=!this.isShowReview}closeReview(){this.isShowReview=!1}}return(t=e).\u0275fac=function(r){return new(r||t)(W(nr),W(xo),W(El),W(jw),W(XT),W(A9),W(T9))},t.\u0275cmp=At({type:t,selectors:[["app-profile"]],decls:198,vars:39,consts:[[1,"profile-content"],[1,"wall-wrapper"],[4,"ngIf","ngIfElse"],["elseEmptyWall",""],[1,"content-wrapper"],[1,"forMe-wrapper"],[1,"forMe-content"],[1,"avatar-wrapper"],[1,"avatar"],["alt","",1,"avatar-image",3,"src"],[1,"des-forMe-wrapper"],[1,"des-forMe-name"],[1,"des-forMe-address"],[1,"des-forMe-rate"],[1,"rate-star"],[4,"ngIf"],[1,"rate-text"],[1,"des-forMe-exp"],[1,"info-wrapper"],[1,"infor-title-list"],[1,"title-list"],[1,"it-item"],["href","javascript:void(0)",1,"it-link"],[1,"deliver-line"],[1,"infor-content-list"],[1,"ic-item"],[1,"text-description"],[1,"prize"],[1,"prize-title"],[1,"interest"],[1,"interest-title"],[1,"feature-wrapper"],[1,"feature-title"],[1,"feature-content"],[1,"language"],[1,"language-title"],["src","./assets/images/icons/translate.png","alt",""],[1,"camera"],[1,"camera-title"],["src","./assets/images/icons/camera.png","alt",""],[1,"portfolio"],[1,"portfolio-title"],[1,"portfolio-content"],["class","portfolio-item",4,"ngFor","ngForOf"],[1,"appraise"],[1,"appraise-title"],[1,"rate"],[1,"appraise-content"],["class","appraise-item",4,"ngFor","ngForOf"],[1,"how-it-works"],[1,"hiw-title"],[1,"hiw-content"],[1,"hiw-item"],[1,"item-title"],[1,"title-icon"],[1,"bx","bx-calendar-check"],[1,"title-text"],[1,"item-content"],[1,"content-deliver"],[1,"content-text"],[1,"bx","bxs-camera"],[1,"bx","bx-happy-alt"],[1,"order-wrapper",3,"ngClass"],[1,"order-container"],["class","mess-valid",4,"ngIf"],[1,"order-content"],[1,"filter-date-picker"],["for","ngay-chup"],[3,"selectedDate","textDefault","selectedDateChange"],[1,"set-time"],["for","gio-hen"],["type","time","id","gio-hen","name","gio-hen","pattern","^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$","placeholder","hh:mm","required","",3,"ngModel","ngModelChange","change"],[1,"filter-tl"],["for","thoi-luong"],[3,"selectedOption","textDefault","selectedOptionChange"],["custom-option","","value","1"],["custom-option","","value","2"],["custom-option","","value","3"],["custom-option","","value","4"],["custom-option","","value","5"],["custom-option","","value","6"],["custom-option","","value","7"],["custom-option","","value","8"],[1,"filter-type"],["href","javascript:void(0)",3,"click"],[1,"sug-foot"],[1,"bx","bx-check"],[1,"btn-close-order",3,"click"],[1,"bx","bx-x"],[1,"toggle-order-wrapper",3,"ngClass","click"],[1,"bx","bx-plus-circle"],["class","review-repair-wrapper",4,"ngIf"],[1,"wall-content"],[1,"wall1"],[1,"wall1-1"],["alt","",3,"src"],[1,"wall1-2"],[1,"wall2"],[1,"wall3"],[1,"wall3-1"],[1,"wall3-2"],[1,"wall4"],[1,"wall5"],[1,"wall5-1"],[1,"wall5-2"],["src","./assets/images/profile/pf1.jpg","alt",""],["src","./assets/images/profile/pf2.jpg","alt",""],["src","./assets/images/profile/pf3.jpg","alt",""],["src","./assets/images/profile/pf4.jpg","alt",""],["src","./assets/images/profile/pf5.jpg","alt",""],["src","./assets/images/profile/pf6.jpg","alt",""],["src","./assets/images/profile/pf7.jpg","alt",""],["src","./assets/images/profile/pf8.jpg","alt",""],[3,"class",4,"ngFor","ngForOf"],[1,"portfolio-item"],["href","javascript:void(0);",3,"click"],[1,"it-header"],[1,"it-footer"],[1,"it-cate"],[1,"it-count-picture"],[1,"appraise-item"],[1,"ai-header"],[1,"header-avatar"],["src","./assets/images/avatar_review.jpg","alt",""],[1,"header-name"],[1,"header-rate"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"header-date"],[1,"ai-comment"],[1,"mess-valid"],["custom-option","",3,"value",4,"ngFor","ngForOf"],["custom-option","",3,"value"],[1,"p-footer"],[1,"review-repair-wrapper"],[1,"ask-repair-container"],[1,"ask-repair-content"],[1,"repair-cont"],[3,"images"],["href","javascript:void(0)",1,"btn-close-ask",3,"click"]],template:function(r,i){if(1&r&&(_(0,"div",0)(1,"div",1),F(2,wfe,21,8,"ng-container",2),F(3,Pfe,20,0,"ng-template",null,3,er),m(),_(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),I(10,"img",9),m()(),_(11,"div",10)(12,"h2",11),w(13),m(),_(14,"p",12),w(15),m(),_(16,"div",13)(17,"div",14),F(18,Ofe,2,1,"ng-container",15),F(19,Ife,2,1,"ng-container",15),F(20,Tfe,2,1,"ng-container",15),F(21,Dfe,2,1,"ng-container",15),F(22,xfe,2,1,"ng-container",15),F(23,kfe,2,1,"ng-container",15),m(),_(24,"span",16),w(25),m()(),_(26,"p",17),w(27),m()()()(),_(28,"div",18)(29,"div",19)(30,"div",20)(31,"li",21)(32,"a",22),w(33,"V\u1ec1 t\xf4i"),m()(),_(34,"li",21)(35,"a",22),w(36,"H\u1ed3 s\u01a1"),m()(),_(37,"li",21)(38,"a",22),w(39,"\u0110\xe1nh gi\xe1"),m()(),_(40,"li",21)(41,"a",22),w(42,"How it works"),m()()()(),I(43,"div",23),_(44,"div",24)(45,"div",25)(46,"div",26)(47,"p"),w(48),m()(),_(49,"div",27)(50,"h3",28),w(51," Gi\u1ea3i th\u01b0\u1edfng "),m(),_(52,"p"),w(53),m()(),_(54,"div",29)(55,"h3",30),w(56," \u0110i\u1ec1u th\xfa v\u1ecb v\u1ec1 t\xf4i "),m(),_(57,"p"),w(58),m()()()(),I(59,"div",23),_(60,"div",31)(61,"h3",32),w(62,"Ng\xf4n ng\u1eef & M\xe1y \u1ea3nh"),m(),_(63,"div",33)(64,"div",34)(65,"div",35),I(66,"img",36),_(67,"h3"),w(68,"Ng\xf4n ng\u1eef"),m()(),_(69,"p"),w(70),m()(),_(71,"div",37)(72,"div",38),I(73,"img",39),_(74,"h3"),w(75,"M\xe1y \u1ea3nh"),m()(),_(76,"p"),w(77),m()()()(),I(78,"div",23),_(79,"div",40)(80,"h3",41),w(81,"My Portfolio"),m(),_(82,"div",42),F(83,Nfe,9,3,"div",43),m()(),I(84,"div",23),_(85,"div",44)(86,"div",45)(87,"h3"),w(88,"\u0110\xe1nh Gi\xe1"),m(),_(89,"div",46)(90,"div",14),F(91,Lfe,2,1,"ng-container",15),F(92,Ufe,2,1,"ng-container",15),F(93,jfe,2,1,"ng-container",15),F(94,Hfe,2,1,"ng-container",15),F(95,Wfe,2,1,"ng-container",15),F(96,qfe,2,1,"ng-container",15),m(),_(97,"span",16),w(98),m()()(),_(99,"div",47),F(100,sge,19,9,"div",48),m()(),I(101,"div",23),_(102,"div",49)(103,"h3",50),w(104,"How it Works"),m(),_(105,"div",51)(106,"div",52)(107,"div",53)(108,"div",54),I(109,"i",55),m(),_(110,"h3",56),w(111,"Book."),m()(),_(112,"div",57)(113,"div",58),I(114,"p"),m(),_(115,"div",59)(116,"p"),w(117,"Nhanh ch\xf3ng t\xecm th\u1ea5y m\u1ed9t nhi\u1ebfp \u1ea3nh gia \u0111\u01b0\u1ee3c x\u1ebfp h\u1ea1ng h\xe0ng \u0111\u1ea7u g\u1ea7n b\u1ea1n. \u0110\u1eb7t ch\u1ed7 ph\xf9 h\u1ee3p cho kho\u1ea3nh kh\u1eafc \u0111\u1eb7c bi\u1ec7t c\u1ee7a b\u1ea1n ch\u1ec9 b\u1eb1ng v\xe0i c\xfa nh\u1ea5p chu\u1ed9t \u0111\u01a1n gi\u1ea3n."),m()()()(),_(118,"div",52)(119,"div",53)(120,"div",54),I(121,"i",60),m(),_(122,"h3",56),w(123,"Sheet."),m()(),_(124,"div",57)(125,"div",58),I(126,"p"),m(),_(127,"div",59)(128,"p"),w(129,"H\xe3y th\u01b0 gi\xe3n v\xe0 t\u1eadn h\u01b0\u1edfng kho\u1ea3nh kh\u1eafc khi m\u1ed9t nhi\u1ebfp \u1ea3nh gia gi\xe0u kinh nghi\u1ec7m ch\u1ee5p \u1ea3nh cho b\u1ea1n. H\u1ecd s\u1ebd ch\u0103m s\xf3c t\u1ea5t c\u1ea3 c\xe1c chi ti\u1ebft."),m()()()(),_(130,"div",52)(131,"div",53)(132,"div",54),I(133,"i",61),m(),_(134,"h3",56),w(135,"Enjoy!."),m()(),_(136,"div",57),I(137,"div",58),_(138,"div",59)(139,"p"),w(140," Trong v\xf2ng 2 ng\xe0y l\xe0m vi\u1ec7c k\u1ec3 t\u1eeb ng\xe0y ch\u1ee5p \u1ea3nh, b\u1ea1n s\u1ebd c\xf3 th\u1ec3 xem, t\u1ea3i xu\u1ed1ng v\xe0 chia s\u1ebb. T\u1eadn h\u01b0\u1edfng t\u1ea5t c\u1ea3 m\u1ed9t l\u1ea7n n\u1eefa v\xe0 m\u1ed9t l\u1ea7n n\u1eefa. "),m()()()()()()()(),_(141,"div",62)(142,"div",63)(143,"h4"),w(144,"\u0110\u1eb7t l\u1ecbch ch\u1ee5p t\u1ef1 \u0111\u1ed9ng"),m(),F(145,age,2,1,"div",64),_(146,"div",65)(147,"div",66)(148,"label",67),w(149,"Ng\xe0y ch\u1ee5p:"),m(),_(150,"app-date-picker",68),j("selectedDateChange",function(s){return i.onDateChange(s)})("selectedDateChange",function(s){return i.selectedDateU=s}),m()(),_(151,"div",69)(152,"label",70),w(153,"Gi\u1edd h\u1eb9n:"),m(),_(154,"input",71),j("ngModelChange",function(s){return i.setTimeVal=s})("change",function(){return i.onSetTimeChange()}),m()(),_(155,"div",72)(156,"label",73),w(157,"Th\u1eddi l\u01b0\u1ee3ng (gi\u1edd):"),m(),_(158,"app-custom-select",74),j("selectedOptionChange",function(s){return i.onOptionTLChange(s)})("selectedOptionChange",function(s){return i.selectedOptionTL=s}),_(159,"option",75),w(160,"1 gi\u1edd"),m(),_(161,"option",76),w(162,"2 gi\u1edd"),m(),_(163,"option",77),w(164,"3 gi\u1edd"),m(),_(165,"option",78),w(166,"4 gi\u1edd"),m(),_(167,"option",79),w(168,"5 gi\u1edd"),m(),_(169,"option",80),w(170,"6 gi\u1edd"),m(),_(171,"option",81),w(172,"7 gi\u1edd"),m(),_(173,"option",82),w(174,"8 gi\u1edd"),m()()(),_(175,"div",83)(176,"label",73),w(177,"Lo\u1ea1i ch\u1ee5p"),m(),F(178,lge,3,3,"ng-container",15),m(),_(179,"a",84),j("click",function(){return i.onSubmit()}),w(180,"\u0110\u1eb7t l\u1ecbch"),m(),I(181,"div",23),F(182,uge,5,2,"ng-container",15),I(183,"div",23),_(184,"span",85),I(185,"i",86),w(186," 15 \u1ea3nh c\xf3 \u0111\u1ed9 ph\xe2n gi\u1ea3i cao \u1edf \u0111\u1ecbnh d\u1ea1ng JPEG "),m(),_(187,"span",85),I(188,"i",86),w(189," \u0110\xe3 ch\u1ec9nh s\u1eeda v\xe0 ch\u1ec9nh m\xe0u "),m(),_(190,"span",85),I(191,"i",86),w(192," Giao h\xe0ng sau 2 ng\xe0y l\xe0m vi\u1ec7c "),m()()(),_(193,"div",87),j("click",function(){return i.hideOrder()}),I(194,"i",88),m()(),_(195,"div",89),j("click",function(){return i.showOrder()}),I(196,"i",90),m(),F(197,dge,8,1,"div",91),m()),2&r){const o=Qn(4);P(2),A("ngIf",i.wallImages.length>0)("ngIfElse",o),P(8),Ht("src",null==i.userData||null==i.userData.user?null:i.userData.user.avatar,pt),P(3),bt(" ",null==i.userData||null==i.userData.user?null:i.userData.user.full_name," "),P(2),bt(" ",null==i.userData||null==i.userData.user?null:i.userData.user.address," "),P(3),A("ngIf",i.countRate>0&&i.countRate<=1),P(1),A("ngIf",i.countRate>1&&i.countRate<=2),P(1),A("ngIf",i.countRate>2&&i.countRate<=3),P(1),A("ngIf",i.countRate>3&&i.countRate<=4),P(1),A("ngIf",i.countRate>4&&i.countRate<=5),P(1),A("ngIf",0===i.countRate),P(2),Ee(i.countRate),P(2),bt("",null==i.userData||null==i.userData.user?null:i.userData.user.exp," n\u0103m kinh nghi\u1ec7m"),P(21),bt(" ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.description," "),P(5),bt(" ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.prize," "),P(5),bt(" ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.interest," "),P(12),Ee(null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.language),P(7),Ee(null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.camera),P(6),A("ngForOf",null==i.decesData?null:i.decesData.category),P(8),A("ngIf",i.countRate>0&&i.countRate<=1),P(1),A("ngIf",i.countRate>1&&i.countRate<=2),P(1),A("ngIf",i.countRate>2&&i.countRate<=3),P(1),A("ngIf",i.countRate>3&&i.countRate<=4),P(1),A("ngIf",i.countRate>4&&i.countRate<=5),P(1),A("ngIf",0===i.countRate),P(2),Ee(i.countRate),P(2),A("ngForOf",i.reviewData),P(41),A("ngClass",i.isShowOrder?"show":""),P(2),Wi("data-id",null==i.userData||null==i.userData.user?null:i.userData.user.id),P(2),A("ngIf",i.isError),P(5),A("selectedDate",i.selectedDateU)("textDefault","Ng\xe0y"),P(4),A("ngModel",i.setTimeVal),P(4),A("selectedOption",i.selectedOptionTL)("textDefault","Th\u1eddi l\u01b0\u1ee3ng"),P(20),A("ngIf",i.typeOfPhoto.length>0),P(4),A("ngIf",i.costPreview),P(13),A("ngClass",i.isShowOrder?"hide":""),P(2),A("ngIf",i.isShowReview)}},dependencies:[Ts,Wr,Vr,x_,II,bI,kT,FT,Ns,ua,Jw,LT,Fs,x9,R9,Cfe],styles:['@charset "UTF-8";.forMe-wrapper[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:5rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:3rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   .avatar-image[_ngcontent-%COMP%]{height:130px;width:130px;object-fit:cover;border-radius:50%}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-name[_ngcontent-%COMP%]{margin:2px 0;color:var(--color-primary);font-weight:700;font-size:28px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-address[_ngcontent-%COMP%]{margin:4px 0;font-size:15px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-rate[_ngcontent-%COMP%]{margin:.5rem 0;display:flex;justify-content:flex-start;column-gap:.75rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--color-warning)}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-rate[_ngcontent-%COMP%]   .rate-text[_ngcontent-%COMP%]{font-size:15px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-exp[_ngcontent-%COMP%]{margin:4px 0}.infor-title-list[_ngcontent-%COMP%]{padding-left:2rem}.infor-title-list[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:4rem;flex-wrap:wrap;row-gap:2rem}.infor-title-list[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]   .it-item[_ngcontent-%COMP%]{list-style:none;display:inline}.infor-title-list[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]   .it-item[_ngcontent-%COMP%]   .it-link[_ngcontent-%COMP%]{text-decoration:none;display:block;font-weight:700;color:var(--color-primary);font-size:20px;text-wrap:nowrap}.infor-content-list[_ngcontent-%COMP%]{padding-top:1.5rem;padding-left:2rem}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .prize[_ngcontent-%COMP%]   .prize-title[_ngcontent-%COMP%]{color:var(--color-primary);font-size:20px;font-weight:700}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .interest[_ngcontent-%COMP%]   .interest-title[_ngcontent-%COMP%]{font-weight:700;font-size:20px;color:var(--color-primary)}.feature-wrapper[_ngcontent-%COMP%]{padding-left:2rem;padding-top:.5rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:700;font-size:20px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   .language-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   .language-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   .language-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:var(--color-primary);font-weight:700}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-left:3rem;font-size:18px;margin-top:0}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   .camera-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   .camera-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   .camera-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:var(--color-primary);font-weight:700}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:0;padding-left:3rem;font-size:18px}.portfolio[_ngcontent-%COMP%]{padding-left:2rem;padding-right:25%;padding-top:.5rem}.portfolio[_ngcontent-%COMP%]   .portfolio-title[_ngcontent-%COMP%]{font-weight:700;color:var(--color-warning)}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-auto-rows:1fr;gap:2rem}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-text-body);text-decoration:none}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   .portfolio-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:250px;object-fit:cover}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   .it-footer[_ngcontent-%COMP%]   .it-cate[_ngcontent-%COMP%]{font-size:20px;margin-bottom:10px}.appraise[_ngcontent-%COMP%]{padding-left:2rem;padding-top:.5rem}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--color-warning);font-weight:700}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;column-gap:.5rem}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--color-warning)}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   .rate-text[_ngcontent-%COMP%]{font-weight:700}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]{margin-bottom:1rem}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;flex-direction:column;align-items:center;column-gap:.75rem}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]   .header-avatar[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-start;column-gap:.5rem}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]   .header-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;object-fit:cover}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]   .header-avatar[_ngcontent-%COMP%]   .header-name[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:300}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]   .header-avatar[_ngcontent-%COMP%]   .header-rate[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:13px;color:var(--color-warning)}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]   .header-date[_ngcontent-%COMP%]{width:100%;font-weight:300;font-size:12px;padding-left:3rem}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-comment[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;margin-top:.75rem;padding-left:2.25rem;font-size:14px}.how-it-works[_ngcontent-%COMP%]{padding-left:1.5rem;padding-top:.5rem}.how-it-works[_ngcontent-%COMP%]   .hiw-title[_ngcontent-%COMP%]{color:var(--color-warning);font-weight:700}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;flex-direction:column}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{font-size:30px;color:var(--color-primary)}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]   .title-text[_ngcontent-%COMP%]{margin:8px 0;font-size:20px;font-weight:700;color:var(--color-primary)}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:2rem;align-items:center;height:100%}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .content-deliver[_ngcontent-%COMP%]{display:flex;justify-content:center;height:auto;width:3px;margin-left:12px;background-color:var(--color-primary)}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .content-deliver[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;height:100%}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .content-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 400px 0 4rem}.content-wrapper[_ngcontent-%COMP%]   .info-wrapper[_ngcontent-%COMP%]   .deliver-line[_ngcontent-%COMP%]{height:2px;width:100%;margin:1.5rem 0;background-color:var(--color-primary)}.order-wrapper[_ngcontent-%COMP%]{background-color:var(--color-bg-body);position:fixed;top:100px;right:50px;border-radius:.3rem;box-shadow:0 2px 5px #0003;z-index:600}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]{width:300px;min-height:500px;max-height:calc(100vh - 100px);padding:20px;overflow-y:auto}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--color-light)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--color-secondary);border-radius:4px;border:2px solid var(--color-light)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;color:#333;font-size:20px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .mess-valid[_ngcontent-%COMP%]{font-size:14px;color:red}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .filter-date-picker[_ngcontent-%COMP%]{z-index:999}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;margin-top:.5rem}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%], .order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   input[type=time][_ngcontent-%COMP%], .order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:4px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   input[type=time][_ngcontent-%COMP%]::-webkit-datetime-edit-second-field{display:none}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:10px 15px;border:none;border-radius:4px;text-decoration:none;margin-top:1rem;text-align:center}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#0056b3}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .deliver-line[_ngcontent-%COMP%]{height:2px;width:100%;margin:1rem 0;background-color:var(--color-secondary)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .p-footer[_ngcontent-%COMP%]{color:var(--color-warning);font-weight:700;margin:0;padding-left:.5rem}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .p-footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--color-text-body)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .sug-foot[_ngcontent-%COMP%]{font-size:13px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .sug-foot[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--color-warning);font-size:18px}.order-wrapper[_ngcontent-%COMP%]   .btn-close-order[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-8px;font-size:30px;color:#000;cursor:pointer;height:30px;width:30px;border-radius:50%;background-color:var(--color-secondary);display:none}.review-repair-wrapper[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;z-index:999}.review-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]{width:100%;height:100vh;padding-top:100px;display:flex;justify-content:center;align-items:center;position:relative}.review-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]{height:80%;width:90%;margin:auto;background-color:var(--color-light);position:absolute;padding:0 1rem}.review-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-title[_ngcontent-%COMP%]{height:100px}.review-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .deliver-line[_ngcontent-%COMP%]{height:2px;width:100%;margin:1.5rem 0;background-color:var(--color-primary)}.review-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center;padding-top:1rem}.review-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .btn-close-ask[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;color:#000;font-weight:700;font-size:28px;width:25px;height:25px;border-radius:50%;display:flex;justify-content:center;align-items:center;text-decoration:none}.review-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .btn-close-ask[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary);color:#000;transform:rotate(35deg)}.profile-content[_ngcontent-%COMP%]{position:relative;margin-top:6rem}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(9,1fr);column-gap:.3rem;height:500px}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall2[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall4[_ngcontent-%COMP%]{grid-column:span 2;height:500px}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall4[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:.3rem}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-2[_ngcontent-%COMP%]{height:calc(250px - .15rem)}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-2[_ngcontent-%COMP%]{height:calc(250px - .15rem)}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-2[_ngcontent-%COMP%]{height:calc(250px - .15rem)}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .toggle-order-wrapper[_ngcontent-%COMP%]{position:fixed;bottom:5rem;right:1rem;width:40px;height:40px;background-color:var(--color-primary);z-index:999;display:none;font-size:30px;border-radius:50%;padding-top:3.5px;padding-left:5px;color:var(--color-light)}@media (max-width: 991.98px){.order-wrapper[_ngcontent-%COMP%]{display:none}.order-wrapper.show[_ngcontent-%COMP%]{display:block}.toggle-order-wrapper[_ngcontent-%COMP%]{display:block!important}.toggle-order-wrapper.hide[_ngcontent-%COMP%]{display:none!important}.btn-close-order[_ngcontent-%COMP%]{display:block!important}.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 2rem 0!important}}@media (max-width: 767.98px){.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 2rem 0!important}.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]{flex-direction:column;row-gap:2rem}.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .info-wrapper[_ngcontent-%COMP%]   .portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}']}),e})(),L9=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=At({type:t,selectors:[["app-layout-profile"]],decls:7,vars:0,consts:[[1,"layout-wrapper"],[1,"layout-container"],[1,"content-wrapper"],[1,"content-container"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1),I(2,"app-header"),_(3,"div",2)(4,"div",3),I(5,"router-outlet"),m()(),I(6,"app-footer"),m()())},dependencies:[ul,JT,eA],styles:[".layout-wrapper[_ngcontent-%COMP%], .layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%], .layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{width:100%}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{width:100%;margin:0 auto}@media (min-width: 1400px){.content-container[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.content-container[_ngcontent-%COMP%]{margin-top:5rem!important}}"]}),e})();function pge(t,e){1&t&&(_(0,"span",22),w(1,"Vui l\xf2ng nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i h\u1ee3p l\u1ec7."),m())}function fge(t,e){1&t&&(_(0,"span",22),w(1,"Vui l\xf2ng nh\u1eadp email h\u1ee3p l\u1ec7."),m())}function gge(t,e){1&t&&(_(0,"span",22),w(1,"Vui l\xf2ng nh\u1eadp 6 ky\u0301 t\u01b0\u0323."),m())}function _ge(t,e){if(1&t){const n=Ot();_(0,"div",23)(1,"div",24),I(2,"i",25),w(3," B\u1ea1n kh\xf4ng c\xf3 \u1ea3nh tr\u1ea3. "),m(),_(4,"a",26),j("click",function(){return Be(n),Ve(ee().closeError())}),w(5," Th\u1eed l\u1ea1i "),m()()}}let mge=(()=>{var t;class e{constructor(r,i){this.orderService=r,this.router=i,this.invalidEmail=!1,this.invalidPhone=!1,this.invalidCode=!1,this.isError=!1,this.email="",this.phone="",this.code=""}onChangePhone(r){let i=r.target.value;i=i.replace(/[^0-9]/g,""),this.phone=i,this.validatePhone()}onChangeEmail(r){this.email=r.target.value,this.validateEmail()}onChangeCode(r){this.code=r.target.value,this.validateCode()}onSubmit(){var r=this;return(0,S.Z)(function*(){if(r.validateEmail()&&r.validatePhone()&&r.validateCode()){const o=yield r.orderService.getOrderByCode(r.code);o?(window.alert("Tha\u0300nh c\xf4ng"),r.router.navigate(["/refund-pc/"+o.id])):r.isError=!0}else r.validateEmail(),r.validatePhone(),r.validateCode()})()}validateEmail(){const i=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(this.email);return this.invalidEmail=!i,i}validatePhone(){const i=/^0[0-9]{9,10}$/.test(this.phone);return this.invalidPhone=!i,i}validateCode(){const r=6===this.code.length;return this.invalidCode=!r,r}closeError(){this.isError=!1}}return(t=e).\u0275fac=function(r){return new(r||t)(W(El),W(nr))},t.\u0275cmp=At({type:t,selectors:[["app-refund-picture"]],decls:32,vars:4,consts:[[1,"send-ct-wrapper"],[1,"send-ct-container"],[1,"send-ct-header"],[1,"go-home"],["routerLink","/home",1,"go-home-link"],[1,"bx","bxs-chevron-left"],[1,"brand"],["routerLink","/home",1,"brand-link"],["src","./assets/images/logo2.png","alt","logo",1,"brand-image"],[1,"send-ct-title"],[1,"send-ct-content"],[3,"ngSubmit"],[1,"form-group"],["for","phone"],["type","text","id","phone","name","phone","required","","placeholder","0123456789","appOnlyNumbers","",3,"input"],["class","validate-message",4,"ngIf"],["for","username"],["type","text","id","username","name","username","required","","placeholder","quang@gmail.com",3,"input"],["for","code"],["type","text","id","code","name","code","required","","placeholder","xxxxxx",3,"input"],["type","submit"],["class","error",4,"ngIf"],[1,"validate-message"],[1,"error"],[1,"icon-error-wr"],[1,"bx","bx-error-circle","icon-error"],["href","javascript:void(0)",1,"close-error",3,"click"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),I(5,"i",5),w(6," Trang ch\u1ee7 "),m()(),_(7,"div",6)(8,"a",7),I(9,"img",8),m()(),_(10,"h3",9),w(11," Vui l\xf2ng \u0111i\u1ec1n th\xf4ng tin c\u1ee7a b\u1ea1n. "),m()(),_(12,"div",10)(13,"form",11),j("ngSubmit",function(){return i.onSubmit()}),_(14,"div",12)(15,"label",13),w(16,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),m(),_(17,"input",14),j("input",function(s){return i.onChangePhone(s)}),m(),F(18,pge,2,0,"span",15),m(),_(19,"div",12)(20,"label",16),w(21,"Email"),m(),_(22,"input",17),j("input",function(s){return i.onChangeEmail(s)}),m(),F(23,fge,2,0,"span",15),m(),_(24,"div",12)(25,"label",18),w(26,"Ma\u0303"),m(),_(27,"input",19),j("input",function(s){return i.onChangeCode(s)}),m(),F(28,gge,2,0,"span",15),m(),_(29,"button",20),w(30,"G\u1eedi"),m()()(),F(31,_ge,6,0,"div",21),m()()),2&r&&(P(18),A("ngIf",i.invalidPhone),P(5),A("ngIf",i.invalidEmail),P(5),A("ngIf",i.invalidCode),P(3),A("ngIf",i.isError))},dependencies:[Vr,pr,Dm,Em,nd,F9],styles:[".send-ct-wrapper[_ngcontent-%COMP%]{width:100%;margin:0 auto;min-height:100vh;padding:2rem;background-image:url(/assets/images/banner.jpg);background-size:cover;background-repeat:no-repeat;background-position:center}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]{padding:2rem;border-radius:.5rem;width:700px;margin:auto;min-height:calc(100vh - 4rem);background-color:#ffffffa8;box-shadow:0 0 10px #0000004d;position:relative}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem;position:relative}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{position:absolute;top:0rem;left:0rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]   .go-home-link[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;text-decoration:none;color:var(--color-primary);font-weight:700;position:relative}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .send-ct-title[_ngcontent-%COMP%]{text-align:center;color:var(--color-primary);font-size:32px;font-weight:700}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{display:flex;justify-content:center}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]   .brand-image[_ngcontent-%COMP%]{width:5rem;height:5rem;object-fit:cover}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:15px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:gray;font-weight:600;font-size:18px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 10px;border:2px solid gray;border-radius:5px;background-color:transparent;outline:none}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--color-primary)}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{width:100%;font-size:14px;color:#ff1818}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 auto;margin-top:3rem;display:block;padding:15px 25px;background-color:var(--color-primary);color:#fff;border:none;border-radius:5px;font-size:20px;cursor:pointer}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;background-color:#fff;box-shadow:0 0 10px #0000004d;display:flex;flex-direction:column;justify-content:center;row-gap:5rem;align-items:center;border-radius:.5rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]   .icon-error-wr[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:1rem;justify-content:center;align-items:center;font-weight:700;font-size:25px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]   .icon-error-wr[_ngcontent-%COMP%]   .icon-error[_ngcontent-%COMP%]{font-size:100px;color:red}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]   .close-error[_ngcontent-%COMP%]{text-decoration:none;padding:15px 20px;background-color:var(--color-primary);color:#fff;border:none;border-radius:5px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]   .close-error[_ngcontent-%COMP%]:hover{background-color:#0056b3}@media (max-width: 767.98px){.send-ct-wrapper[_ngcontent-%COMP%]{width:100%!important;padding:1rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]{width:100%;min-height:calc(100vh - 2rem)}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{top:-.5rem;left:-1rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .send-ct-title[_ngcontent-%COMP%]{font-size:26px!important}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{font-size:12px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2rem;padding:10px 15px;font-size:20px!important}}"]}),e})();function yge(t,e){if(1&t&&(De(0),_(1,"a",49),w(2," Link Download "),m(),Se()),2&t){const n=ee();P(1),Ht("href",n.order.link_down,pt)}}function vge(t,e){1&t&&(_(0,"a",50),w(1," Link Download "),m())}function Cge(t,e){if(1&t&&(De(0),I(1,"i"),Se()),2&t){const n=e.$implicit;P(1),st(n)}}function wge(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function Pge(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function Mge(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function Oge(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function Ege(t,e){1&t&&I(0,"i"),2&t&&st(e.$implicit)}function Ige(t,e){if(1&t){const n=Ot();_(0,"div",51)(1,"li",52),j("click",function(){return Be(n),Ve(ee().chooseRate(1))}),F(2,wge,1,2,"i",53),m(),_(3,"li",52),j("click",function(){return Be(n),Ve(ee().chooseRate(2))}),F(4,Pge,1,2,"i",53),m(),_(5,"li",52),j("click",function(){return Be(n),Ve(ee().chooseRate(3))}),F(6,Mge,1,2,"i",53),m(),_(7,"li",52),j("click",function(){return Be(n),Ve(ee().chooseRate(4))}),F(8,Oge,1,2,"i",53),m(),_(9,"li",52),j("click",function(){return Be(n),Ve(ee().chooseRate(5))}),F(10,Ege,1,2,"i",53),m()()}if(2&t){const n=ee();P(2),A("ngForOf",n.selected1Stars),P(2),A("ngForOf",n.selected2Stars),P(2),A("ngForOf",n.selected3Stars),P(2),A("ngForOf",n.selected4Stars),P(2),A("ngForOf",n.selected5Stars)}}function bge(t,e){1&t&&I(0,"i",54)}function Tge(t,e){1&t&&I(0,"i",55)}let Age=(()=>{var t;class e{constructor(r,i,o,s){this.router=r,this.route=i,this.orderService=o,this.reviewService=s,this.isShowAskRepair=!1,this.isDropdownOpen=!1,this.des_refund="",this.isHideInfo=!1,this.comment="",this.selectedStars=["bx bxs-star","bx bx-star","bx bx-star","bx bx-star","bx bx-star"],this.selected1Stars=["bx bxs-star","bx bx-star","bx bx-star","bx bx-star","bx bx-star"],this.selected2Stars=["bx bxs-star","bx bxs-star","bx bx-star","bx bx-star","bx bx-star"],this.selected3Stars=["bx bxs-star","bx bxs-star","bx bxs-star","bx bx-star","bx bx-star"],this.selected4Stars=["bx bxs-star","bx bxs-star","bx bxs-star","bx bxs-star","bx bx-star"],this.selected5Stars=["bx bxs-star","bx bxs-star","bx bxs-star","bx bxs-star","bx bxs-star"],this.countStars=0,this.route.params.subscribe(a=>{const c=a.id;c?this.orderId=parseInt(c,10):console.error("ID not found in URL")})}ngOnInit(){var r=this;this.route.params.subscribe(function(){var i=(0,S.Z)(function*(o){const s=o.id;if(s){const a=parseInt(s,10);r.orderService.getOrderById(a).then(c=>{null!==c&&(r.order=c)}).catch(c=>{console.error("Error:",c)})}else console.error("ID not found in URL")});return function(o){return i.apply(this,arguments)}}())}toggleAsk(){this.isShowAskRepair=!this.isShowAskRepair}closeAsk(){this.isShowAskRepair=!1}sendAsk(){var r=this;return(0,S.Z)(function*(){if(""!==r.des_refund){var i=yield r.orderService.getOrderById(r.orderId);i?(i.des_refund=r.des_refund,i.status="yc_sua",(yield r.orderService.updateOrder(i))?window.alert("Y\xeau c\xe2\u0300u s\u01b0\u0309a a\u0309nh tha\u0300nh c\xf4ng"):window.alert("Y\xeau c\xe2\u0300u th\xe2\u0301t ba\u0323i")):window.alert("Y\xeau c\xe2\u0300u th\xe2\u0301t ba\u0323i")}else window.alert("Ha\u0303y nh\xe2\u0323p y\xeau c\xe2\u0300u")})()}toggleHideInfo(){this.isHideInfo=!this.isHideInfo}chooseRate(r){switch(r){case 1:this.selectedStars=this.selected1Stars,this.countStars=1;break;case 2:this.selectedStars=this.selected2Stars,this.countStars=2;break;case 3:this.selectedStars=this.selected3Stars,this.countStars=3;break;case 4:this.selectedStars=this.selected4Stars,this.countStars=4;break;case 5:this.selectedStars=this.selected5Stars,this.countStars=5}this.isDropdownOpen=!this.isDropdownOpen}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen}onReview(){var r=this;return(0,S.Z)(function*(){if(r.countStars>0&&""!==r.comment){var i=yield r.orderService.getOrderById(r.orderId);if(i){var o=yield r.reviewService.getReviewByOrderId(i.id),s=r.isHideInfo?"\xe2\u0309n danh":i.cust_name||"\xe2\u0309n danh";const c=new Date,l=`${c.getFullYear()}-${(c.getMonth()+1).toString().padStart(2,"0")}-${c.getDate().toString().padStart(2,"0")}`;if(null===o){const h={id:0,partner_id:i.partner_id,cus_name:s,order_id:i.id,description:r.comment,rate:r.countStars,date:l};(yield r.reviewService.createReview(h))?window.alert("\u0110a\u0301nh gia\u0301 tha\u0300nh c\xf4ng"):window.alert("\u0110a\u0301nh gia\u0301 kh\xf4ng tha\u0300nh c\xf4ng")}else{const h={id:o.id,partner_id:i.partner_id,cus_name:s,order_id:i.id,description:r.comment,rate:r.countStars,date:l};(yield r.reviewService.updateReview(h))?window.alert("\u0110a\u0301nh gia\u0301 tha\u0300nh c\xf4ng"):window.alert("\u0110a\u0301nh gia\u0301 kh\xf4ng tha\u0300nh c\xf4ng")}}}})()}}return(t=e).\u0275fac=function(r){return new(r||t)(W(nr),W(xo),W(El),W(XT))},t.\u0275cmp=At({type:t,selectors:[["app-page-picture-refund"]],decls:80,vars:9,consts:[[1,"page-pr-wrapper"],[1,"page-header"],[1,"header-content"],[1,"header-left"],[1,"header-right"],["routerLink","/home"],[1,"page-content"],[1,"link-dow-wrapper"],[1,"link-dow-content"],[4,"ngIf","ngIfElse"],["elseBlock",""],[1,"link-dow-footer"],["href","javascript:void(0)",3,"click"],[1,"review-wrapper"],[1,"review-title"],[1,"review-content"],[1,"review-content-first"],[1,"rating"],[4,"ngFor","ngForOf"],["class","dropdownRate",4,"ngIf"],[1,"comment"],["name","comment","id","","cols","30","rows","5",3,"ngModel","ngModelChange"],[1,"sub-t"],[1,"review-content-second"],["href","javascript:void(0)",1,"btn","btn-hide-inf",3,"click"],["class","bx bx-toggle-left",4,"ngIf"],["class","bx bx-toggle-right",4,"ngIf"],["href","javascript:void(0)",1,"btn","btn-submit",3,"click"],[1,"ask-repair-wrapper",3,"ngClass"],[1,"ask-repair-container"],[1,"ask-repair-content"],[1,"repair-header"],[1,"bx","bx-chevron-left"],[1,"repair-cont"],[1,"repair-content"],[1,"enter-code-picture"],[1,"ecp-title"],[1,"po-title"],[1,"repair-police"],[1,"ecp-content"],["name","","id","ecp-code","cols","30","rows","10",3,"ngModel","ngModelChange"],[1,"po-content-wr"],[1,"po-content"],[1,"repair-submit"],[1,"rs-left"],[1,"rs-right"],["href","javascript:void(0)",1,"btn-submit-repair",3,"click"],["href","javascript:void(0)",1,"btn-close-ask",3,"click"],[1,"bx","bx-x"],["target","_blank",1,"btn-get-link",3,"href"],["href","javascript:void(0);",1,"btn-get-link"],[1,"dropdownRate"],[3,"click"],[3,"class",4,"ngFor","ngForOf"],[1,"bx","bx-toggle-left"],[1,"bx","bx-toggle-right"]],template:function(r,i){if(1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),w(5,"B\u1ed9 s\u01b0u t\u1eadp \u1ea3nh"),m(),_(6,"p"),w(7,"H\xe3y c\xf9ng th\u01b0\u1edfng th\u1ee9c b\u1ee9c h\xecnh tuy\u1ec7t v\u1eddi c\u1ee7a b\u1ea1n!"),m()(),_(8,"div",4)(9,"a",5),w(10,"Trang ch\u1ee7"),m()()()(),_(11,"div",6)(12,"div",7)(13,"div",8),F(14,yge,3,1,"ng-container",9),F(15,vge,2,0,"ng-template",null,10,er),_(17,"span"),w(18,"File \u1ea3nh c\xf3 \u0111\u1ecbnh dang JPEG"),m()(),_(19,"div",11)(20,"a",12),j("click",function(){return i.toggleAsk()}),w(21,"Y\xeau c\u1ea7u s\u1eeda \u1ea3nh"),m()()(),_(22,"div",13)(23,"div",14)(24,"p"),w(25," \u0110\xe1nh gi\xe1 c\u1ee7a b\u1ea1n "),m()(),_(26,"div",15)(27,"div",16)(28,"div",17)(29,"span"),w(30,"Ch\u1ea5t l\u01b0\u1ee3ng: "),m(),_(31,"a",12),j("click",function(){return i.toggleDropdown()}),F(32,Cge,2,2,"ng-container",18),m(),F(33,Ige,11,5,"div",19),m(),_(34,"div",20)(35,"p"),w(36,"Vi\u1ebft \u0111\xe1nh gi\xe1"),m(),_(37,"textarea",21),j("ngModelChange",function(s){return i.comment=s}),m()(),_(38,"div",22)(39,"span"),w(40,"T\u1ed1i \u0111a 450 ch\u1eef"),m()()(),_(41,"div",23)(42,"a",24),j("click",function(){return i.toggleHideInfo()}),w(43," \u1ea8n danh "),F(44,bge,1,0,"i",25),F(45,Tge,1,0,"i",26),m(),_(46,"a",27),j("click",function(){return i.onReview()}),w(47,"\u0110\u0103ng"),m()()()()(),_(48,"div",28)(49,"div",29)(50,"div",30)(51,"div",31)(52,"h2"),I(53,"i",32),w(54,"Y\xeau c\u1ea7u s\u1eeda \u1ea3nh"),m()(),_(55,"div",33)(56,"div",34)(57,"div",35)(58,"div",36),w(59,"Nh\xe2\u0323p y\xeau c\xe2\u0300u s\u01b0\u0309a a\u0309nh"),m(),_(60,"div",37),w(61," Ch\xednh s\xe1ch y\xeau c\u1ea7u s\u1eeda \u1ea3nh "),m()(),_(62,"div",38)(63,"div",39)(64,"textarea",40),j("ngModelChange",function(s){return i.des_refund=s}),m()(),_(65,"div",41)(66,"div",42)(67,"li"),w(68,"Kh\xe1ch h\xe0ng \u0111i\u1ec1n m\xe3 \u1ea3nh \u0111\u1ed1i v\u1edbi nh\u1eefng b\u1ee9c \u1ea3nh m\xe0 m\xecnh mu\u1ed1n ch\u1ec9nh s\u1eeda"),m(),_(69,"li"),w(70,"S\u1ed1 l\u01b0\u1ee3ng b\u1ee9c \u1ea3nh \u0111\u01b0\u1ee3c s\u1eeda ph\u1ee5 thu\u1ed9c v\xe0o g\xf3i ch\u1ee5p \u1ea3nh \u0111\xe3 th\u1ecfa thu\u1eadn v\u1edbi nhi\u1ebfp \u1ea3nh gia tr\u01b0\u1edbc \u0111\xf3"),m(),_(71,"li"),w(72,"Truy c\u1eadp l\u1ea1i file nh\u1eadn \u1ea3nh \u0111\u1ec3 nh\u1eefng b\u1ee9c \u1ea3nh \u0111\xe3 \u0111\u01b0\u1ee3c ch\u1ec9nh s\u1eeda sau 2-3 ng\xe0y"),m()()()()(),_(73,"div",43),I(74,"div",44),_(75,"div",45)(76,"a",46),j("click",function(){return i.sendAsk()}),w(77,"G\u1eedi y\xeau c\u1ea7u"),m()()()(),_(78,"a",47),j("click",function(){return i.closeAsk()}),I(79,"i",48),m()()()()()),2&r){const o=Qn(16);P(14),A("ngIf",""!==i.order.link_down)("ngIfElse",o),P(18),A("ngForOf",i.selectedStars),P(1),A("ngIf",i.isDropdownOpen),P(4),A("ngModel",i.comment),P(7),A("ngIf",i.isHideInfo),P(1),A("ngIf",!i.isHideInfo),P(3),A("ngClass",i.isShowAskRepair?"active":""),P(16),A("ngModel",i.des_refund)}},dependencies:[Ts,Wr,Vr,pr,Ns,ua,Fs],styles:[".page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{background-color:var(--color-primary);height:140px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;height:100%;padding:0 2rem;margin:0 auto}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{padding-bottom:2rem;display:flex;flex-direction:column;justify-content:flex-end}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:700;color:var(--color-light)}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-light);font-weight:100;margin:.3rem 0 0}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:300;color:var(--color-light);text-decoration:none}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:4rem 2rem;margin:0 auto}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .btn-control-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:.5rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .btn-control-wrapper[_ngcontent-%COMP%]   .btn-control[_ngcontent-%COMP%]{line-height:40px;padding:0 30px;border:2px solid var(--color-primary);border-radius:.3rem;color:#000;background-color:var(--color-light);text-decoration:none}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .btn-control-wrapper[_ngcontent-%COMP%]   .btn-control.active[_ngcontent-%COMP%]{background-color:var(--color-info);border-color:var(--color-info);color:var(--color-light)}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]{padding-top:3.5rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-content[_ngcontent-%COMP%]   .picture-item[_ngcontent-%COMP%]{width:100%}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-content[_ngcontent-%COMP%]   .picture-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .link-dow-wrapper[_ngcontent-%COMP%]{margin-top:3rem;border:2px solid black;border-radius:.3rem;height:250px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .link-dow-wrapper[_ngcontent-%COMP%]   .link-dow-content[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .link-dow-wrapper[_ngcontent-%COMP%]   .link-dow-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{line-height:50px;padding:0 70px;background-color:var(--color-info);border-color:var(--color-info);color:var(--color-light);text-decoration:none;font-size:22px;font-weight:700;border-radius:.2rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .link-dow-wrapper[_ngcontent-%COMP%]   .link-dow-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:1rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .link-dow-wrapper[_ngcontent-%COMP%]   .link-dow-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:.5rem 0}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .link-dow-wrapper[_ngcontent-%COMP%]   .link-dow-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:600}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]{padding:3rem 0}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]{border:2px solid black;border-radius:.3rem;background-color:var(--color-light);height:200px;padding:.3rem 1rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]{position:relative}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-warning)}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]   .dropdownRate[_ngcontent-%COMP%]{position:absolute;left:5rem;background-color:var(--color-light);border-radius:.3rem;box-shadow:0 0 .5rem;padding:0 5px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]   .dropdownRate[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:30px;list-style:none;color:var(--color-warning);cursor:pointer;display:block}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:4px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;border:none;outline:none;resize:none;padding:.25rem .5rem;background-color:var(--color-secondary)}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--color-light)}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--color-secondary);border-radius:4px;border:2px solid var(--color-light)}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .sub-t[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;font-size:14px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-second[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:1rem;column-gap:1rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-second[_ngcontent-%COMP%]   .btn-hide-inf[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;text-decoration:none;color:var(--color-text-body)}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-second[_ngcontent-%COMP%]   .btn-hide-inf[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:.3rem;font-size:40px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-second[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]{line-height:40px;background-color:var(--color-primary);color:var(--color-light);border-radius:.3rem;padding:0 25px;text-decoration:none}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;z-index:900}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;justify-content:center;align-items:center;position:relative}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]{height:90%;width:90%;margin:auto;background-color:var(--color-light);position:relative;transform:translateY(-200%)}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-header[_ngcontent-%COMP%]{background-color:var(--color-primary);height:120px;display:flex;justify-content:flex-start;align-items:flex-end;padding:1rem 2rem}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:var(--color-light);font-weight:500;display:flex;align-items:center}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:50px}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]{max-height:calc(100% - 120px);overflow-y:auto;position:relative}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]{padding:2rem 3rem}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .enter-code-picture[_ngcontent-%COMP%]{display:grid;column-gap:1rem;grid-template-columns:repeat(2,1fr);margin-bottom:1.5rem}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .enter-code-picture[_ngcontent-%COMP%]   .ecp-title[_ngcontent-%COMP%], .page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .enter-code-picture[_ngcontent-%COMP%]   .po-title[_ngcontent-%COMP%]{grid-column:span 1}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .repair-police[_ngcontent-%COMP%]{display:grid;column-gap:1rem;grid-template-columns:repeat(2,1fr)}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .repair-police[_ngcontent-%COMP%]   .ecp-content[_ngcontent-%COMP%]{grid-column:span 1;width:100%;height:100%}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .repair-police[_ngcontent-%COMP%]   .ecp-content[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:100%;width:100%;outline:none;border:2px solid var(--color-secondary);padding:.5rem;resize:none}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .repair-police[_ngcontent-%COMP%]   .po-content-wr[_ngcontent-%COMP%]{grid-column:span 1;padding:1rem;display:flex;justify-content:center;align-items:center;background-color:var(--color-secondary);height:100%}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-submit[_ngcontent-%COMP%]{padding:0 3rem;margin-bottom:3rem;display:flex;justify-content:space-between}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-submit[_ngcontent-%COMP%]   .rs-right[_ngcontent-%COMP%]{width:calc(50% - .5rem);height:40px;display:flex}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-submit[_ngcontent-%COMP%]   .rs-right[_ngcontent-%COMP%]   .btn-submit-repair[_ngcontent-%COMP%]{border-radius:.3rem;height:100%;background-color:var(--color-primary);color:var(--color-light);width:100%;text-align:center;text-decoration:none;line-height:40px}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .btn-close-ask[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;color:var(--color-light);font-weight:700;font-size:28px;width:25px;height:25px;border-radius:50%;display:flex;justify-content:center;align-items:center;text-decoration:none}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .btn-close-ask[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary);color:#000;transform:rotate(35deg)}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper.active[_ngcontent-%COMP%]{display:block}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper.active[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]{transform:translateY(0)}@media (min-width: 1400px){.header-content[_ngcontent-%COMP%], .page-content[_ngcontent-%COMP%], .ask-repair-content[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.page-pr-wrapper[_ngcontent-%COMP%]   .picture-content[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}"]}),e})();const Dge=["iconToggle"],Sge=["searchInput"],xge=["searchBarToggle"],Rge=["navSearch"];function kge(t,e){1&t&&(_(0,"ul",35)(1,"li",36)(2,"a",37),w(3," \u0110\u0103ng xu\xe2\u0301t "),m()()())}function Nge(t,e){1&t&&(_(0,"div",38)(1,"p"),w(2,"hk"),m(),_(3,"p"),w(4,"hk"),m(),_(5,"p"),w(6,"hk"),m(),_(7,"p"),w(8,"hk"),m()())}const Fge=function(t){return{"search-bar-block":t}};let V9=(()=>{var t;class e{constructor(r){this.eventService=r,this.isShowSearchBar=!1,this.isMenuVisible=!1,this.inputValue="",this.toggleSuggest=!1,this.isShowDrop=!1}showMenu(){this.isMenuVisible=!0,this.eventService.emitEvent("showMenuFromNavbar",this.isMenuVisible)}toggleSearch(){this.isShowSearchBar=!this.isShowSearchBar,this.isShowSearchBar&&setTimeout(()=>{this.searchInput.nativeElement.focus()}),this.inputValue="",this.toggleSuggest=!1,this.eventService.emitEvent("toggleSuggestSearch",this.toggleSuggest)}onInputChange(r){this.inputValue=r.target.value,this.toggleSuggest=""!==this.inputValue.trim(),this.eventService.emitEvent("toggleSuggestSearch",this.toggleSuggest)}closeDropdown(r){!this.searchBarToggle.nativeElement.contains(r.target)&&!this.navSearch.nativeElement.contains(r.target)&&this.isShowSearchBar&&(this.toggleSuggest=!1,this.inputValue="",this.isShowSearchBar=!1,this.eventService.emitEvent("toggleSuggestSearch",this.toggleSuggest))}toggleDrop(){this.isShowDrop=!this.isShowDrop}}return(t=e).\u0275fac=function(r){return new(r||t)(W(Um))},t.\u0275cmp=At({type:t,selectors:[["app-navbar-admin"]],viewQuery:function(r,i){if(1&r&&(dr(Dge,5),dr(Sge,5),dr(xge,5),dr(Rge,5)),2&r){let o;Xn(o=Jn())&&(i.iconToggle=o.first),Xn(o=Jn())&&(i.searchInput=o.first),Xn(o=Jn())&&(i.searchBarToggle=o.first),Xn(o=Jn())&&(i.navSearch=o.first)}},hostBindings:function(r,i){1&r&&j("click",function(s){return i.closeDropdown(s)},0,Ru)},decls:40,vars:6,consts:[[1,"navbar-container"],[1,"toggle-menu"],[1,"toggle-icon"],["href","javascript:void(0)",1,"toggle-link","nav-link",3,"click"],["iconToggle",""],[1,"bx","bx-menu","bx-sm"],[1,"navbar-content"],[1,"nav-left"],[1,"nav-search-wrapper"],["navSearch",""],[1,"nav-search-icon"],["href","javascript:void(0)",1,"search-link","nav-link",3,"click"],[1,"bx","bx-search","bx-sm"],[1,"search-placeholder"],[1,"nav-right"],[1,"language","language-dropdown","nav-item"],["href","javascript:void(0)",1,"nav-link"],[1,"bx","bx-globe","bx-sm"],[1,"nav-item"],[1,"bx","bx-grid-alt","bx-sm"],[1,"bx","bx-bell","bx-sm"],[1,"badge-notifications"],[1,"nav-item","navbar-dropdown","dropdown-user","dropdown",2,"position","relative",3,"click"],["href","javascript:void(0);","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle","hide-arrow"],[1,"avatar","avatar-online"],["src","./assets/images/avatar_review.jpg","alt","",1,"w-px-40","h-auto","rounded-circle"],["class","dropdown-menu dropdown-menu-end","style","position: absolute; top:100%;right: 10%;padding: 0;min-width: 150px; height: 50px;display: flex;justify-content: center; align-items: center; background-color: white; box-shadow: 0 0 0.375rem 0.25rem rgba(161, 172, 184, 0.15);",4,"ngIf"],[1,"search-toggle",3,"ngClass"],["searchBarToggle",""],[1,"search-toggle-content"],["type","text","id","ip","placeholder","Search...",3,"value","input"],["searchInput",""],["href","javascript:void(0)",1,"nav-link","search-close",3,"click"],[1,"bx","bx-x","bx-sm"],["class","search-suggest",4,"ngIf"],[1,"dropdown-menu","dropdown-menu-end",2,"position","absolute","top","100%","right","10%","padding","0","min-width","150px","height","50px","display","flex","justify-content","center","align-items","center","background-color","white","box-shadow","0 0 0.375rem 0.25rem rgba(161, 172, 184, 0.15)"],[2,"list-style","none"],["routerLink","/auth/login",1,"dropdown-item",2,"text-decoration","none","color","#697a8d","list-style","60px"],[1,"search-suggest"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3,4),j("click",function(){return i.showMenu()}),I(5,"i",5),m()()(),_(6,"div",6)(7,"div",7)(8,"div",8,9)(10,"div",10)(11,"a",11),j("click",function(){return i.toggleSearch()}),I(12,"i",12),_(13,"span",13),w(14,"Search (Ctrl+/)"),m()()()()(),_(15,"div",14)(16,"li",15)(17,"a",16),I(18,"i",17),m()(),_(19,"li",18)(20,"a",16),I(21,"i",19),m()(),_(22,"li",18)(23,"a",16),I(24,"i",20),_(25,"span",21),w(26,"5"),m()()(),_(27,"li",22),j("click",function(){return i.toggleDrop()}),_(28,"a",23)(29,"div",24),I(30,"img",25),m()(),F(31,kge,4,0,"ul",26),m()()(),_(32,"div",27,28)(34,"div",29)(35,"input",30,31),j("input",function(s){return i.onInputChange(s)}),m(),_(37,"a",32),j("click",function(){return i.toggleSearch()}),I(38,"i",33),m(),F(39,Nge,9,0,"div",34),m()()()),2&r&&(P(31),A("ngIf",i.isShowDrop),P(1),A("ngClass",Pr(4,Fge,i.isShowSearchBar)),P(3),A("value",i.inputValue),P(4),A("ngIf",i.toggleSuggest))},dependencies:[Ts,Vr,pr],styles:['.nav-link[_ngcontent-%COMP%]{padding:.5rem 0;display:flex;align-items:center;text-decoration:none;color:#697a8d}.nav-item[_ngcontent-%COMP%]{list-style-type:none}.search-bar-block[_ngcontent-%COMP%]{display:block!important;opacity:1;transform:translateY(0)}.navbar-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center}.navbar-container[_ngcontent-%COMP%]   i.bx[_ngcontent-%COMP%]{padding-top:.125rem}.navbar-container[_ngcontent-%COMP%]   .toggle-menu[_ngcontent-%COMP%]{margin-right:1.2rem}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]{display:flex;flex-basis:100%}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-left[_ngcontent-%COMP%]{display:flex;align-items:center}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-left[_ngcontent-%COMP%]   .search-placeholder[_ngcontent-%COMP%]{display:none;text-wrap:nowrap;color:#a1acb8!important;opacity:1;padding-left:.25rem}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:auto!important}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{margin-right:1rem;position:relative}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .badge-notifications[_ngcontent-%COMP%]{border-radius:100%;position:absolute;top:3px;right:-7px;background-color:var(--bs-red);width:1.1rem;height:1.1rem;color:var(--bs-white);font-size:10px;display:flex;justify-content:center;align-items:center;font-weight:700}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%]   li.dropdown-user[_ngcontent-%COMP%]{margin-right:0}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%]   li.dropdown-user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:2.375rem;height:2.375rem;position:relative}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%]   li.dropdown-user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;border-radius:50%}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%]   li.dropdown-user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]:after{content:"";width:8px;height:8px;position:absolute;right:3px;bottom:0;background-color:var(--bs-success);border-radius:50%}.navbar-container[_ngcontent-%COMP%]   .search-toggle[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:var(--bs-white);padding-left:1.5rem;padding-right:.5rem;border-radius:.375rem;box-shadow:0 0 .375rem .25rem #a1acb826;display:none}.navbar-container[_ngcontent-%COMP%]   .search-toggle[_ngcontent-%COMP%]   .search-toggle-content[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%}.navbar-container[_ngcontent-%COMP%]   .search-toggle[_ngcontent-%COMP%]   .search-toggle-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:0!important;outline:none!important;font-family:var(--bs-body-font-family);font-size:var(--bs-body-font-size);font-weight:var(--bs-body-font-weight);color:var(--bs-body-color);opacity:1}.navbar-container[_ngcontent-%COMP%]   .search-toggle[_ngcontent-%COMP%]   .search-toggle-content[_ngcontent-%COMP%]   .search-close[_ngcontent-%COMP%]{margin-left:auto;margin-right:.5rem}.navbar-container[_ngcontent-%COMP%]   .search-toggle[_ngcontent-%COMP%]   .search-toggle-content[_ngcontent-%COMP%]   .search-suggest[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 3px);left:0;right:0;background-color:var(--bs-white);border-radius:.375rem;box-shadow:0 0 .375rem .25rem #a1acb826}@media (min-width: 1200px){.navbar-container[_ngcontent-%COMP%]   .toggle-menu[_ngcontent-%COMP%]{display:none}}@media (min-width: 768px){.search-placeholder[_ngcontent-%COMP%]{display:inline-block!important}}']}),e})(),Lge=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=At({type:t,selectors:[["app-footer-admin"]],decls:2,vars:0,template:function(r,i){1&r&&(_(0,"p"),w(1,"footer-admin works!"),m())}}),e})(),Vge=(()=>{var t;class e{constructor(r){this.eventService=r,this.isShow=!1}toggleMenuDropdown(){this.isShow=!this.isShow}hideMenu(){this.eventService.emitEvent("hideMenuFromIconClose",!1)}}return(t=e).\u0275fac=function(r){return new(r||t)(W(Um))},t.\u0275cmp=At({type:t,selectors:[["app-menu-admin"]],decls:38,vars:1,consts:[[1,"layout-menu"],[1,"brand-wrapper"],["routerLink","/admin/home",1,"brand-link"],["src","./assets/images/logo2.png","alt","logo",1,"brand-img"],[1,"brand-text"],["href","javascript:void(0)",1,"btn-close-menu",3,"click"],[1,"bx","bx-chevron-left","bx-sm","align-middle"],[1,"menu-container"],[1,"menu-content"],[1,"menu-list"],[1,"menu-item"],["routerLink","/admin/home",1,"menu-link"],[1,"menu-icon","bx","bx-home-circle"],[1,"text-truncate"],[1,"menu-item","menu-dropdown",3,"ngClass","click"],["href","javascript:void(0)",1,"menu-link"],[1,"menu-icon","bx","bx-list-ul"],[1,"menu-dropdown-list"],[1,"menu-dropdown-item"],["routerLink","/admin/order",1,"menu-dropdown-link"],[1,"menu-icon","bx","bxs-circle"],["routerLink","/admin/order-accept",1,"menu-dropdown-link"],["routerLink","",1,"menu-link"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"a",2),I(3,"img",3),_(4,"span",4),w(5,"PhotoHub"),m()(),_(6,"a",5),j("click",function(){return i.hideMenu()}),I(7,"i",6),m()(),_(8,"div",7)(9,"div",8)(10,"ul",9)(11,"li",10)(12,"a",11),I(13,"i",12),_(14,"div",13),w(15,"Trang ch\u1ee7"),m()()(),_(16,"li",14),j("click",function(){return i.toggleMenuDropdown()}),_(17,"a",15),I(18,"i",16),_(19,"div",13),w(20,"Qu\u1ea3n l\xfd booking"),m()(),_(21,"ul",17)(22,"li",18)(23,"a",19),I(24,"i",20),_(25,"div",13),w(26,"Danh s\xe1ch booking"),m()()(),_(27,"li",18)(28,"a",21),I(29,"i",20),_(30,"div",13),w(31,"Duy\u1ec7t booking"),m()()()()(),_(32,"li",10),I(33,"a",22),m(),_(34,"li",10),I(35,"a",22),m(),_(36,"li",10),I(37,"a",22),m()()()()()),2&r&&(P(16),A("ngClass",i.isShow?"show":""))},dependencies:[Ts,pr],styles:['.layout-menu[_ngcontent-%COMP%]{width:100%;position:relative}.layout-menu[_ngcontent-%COMP%]   .brand-wrapper[_ngcontent-%COMP%]{position:relative;padding:0 2rem;display:flex;align-items:center;margin-top:2rem;margin-bottom:1rem}.layout-menu[_ngcontent-%COMP%]   .brand-wrapper[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]{color:#566a7f;text-decoration:none;display:flex;align-items:center}.layout-menu[_ngcontent-%COMP%]   .brand-wrapper[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]   .brand-img[_ngcontent-%COMP%]{height:40px;width:40px;object-fit:cover;border-radius:50%}.layout-menu[_ngcontent-%COMP%]   .brand-wrapper[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]   .brand-text[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700!important;opacity:1;margin-left:.75rem}.layout-menu[_ngcontent-%COMP%]   .brand-wrapper[_ngcontent-%COMP%]   .btn-close-menu[_ngcontent-%COMP%]{position:absolute;right:-10px;background-color:var(--bs-dark);color:var(--bs-white);font-weight:700;border-radius:50%;width:26px;height:26px}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]{margin:0;padding:0}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{display:block}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]{display:block;margin:0 1rem;padding:0 1rem;line-height:2.5rem;text-decoration:none;color:var(--bs-body-color);font-weight:600;display:flex;justify-content:flex-start;align-items:center}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{width:1.5rem;flex-grow:0;flex-shrink:0;margin-right:.5rem;font-size:1.25rem}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]{margin:0;padding:0;display:none}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-item[_ngcontent-%COMP%]{display:block}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-item[_ngcontent-%COMP%]   .menu-dropdown-link[_ngcontent-%COMP%]{position:relative;display:block;margin:0 1rem;padding:0 1rem 0 2rem;line-height:2.5rem;text-decoration:none;color:var(--bs-body-color);font-weight:600;display:flex;justify-content:flex-start;align-items:center}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-item[_ngcontent-%COMP%]   .menu-dropdown-link[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{width:1.5rem;flex-grow:0;flex-shrink:0;margin-right:.5rem;font-size:.75rem}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-link[_ngcontent-%COMP%]{padding-left:3rem}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-link[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{font-size:.5rem}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item.menu-dropdown[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]{position:relative}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item.menu-dropdown[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;display:block;width:.42em;height:.42em;border:1px solid;border-bottom:0;right:.5rem;border-left:0;transform:translateY(-50%) rotate(45deg)}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown-item.menu-dropdown[_ngcontent-%COMP%] > .menu-dropdown-link[_ngcontent-%COMP%]{position:relative}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown-item.menu-dropdown[_ngcontent-%COMP%] > .menu-dropdown-link[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;display:block;width:.42em;height:.42em;border:1px solid;border-bottom:0;right:.5rem;border-left:0;transform:translateY(-50%) rotate(45deg)}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown.show[_ngcontent-%COMP%] > .menu-dropdown-list[_ngcontent-%COMP%]{display:block!important}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown.show[_ngcontent-%COMP%] > .menu-link[_ngcontent-%COMP%]:after{transform:translateY(-50%) rotate(135deg)!important}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown.show[_ngcontent-%COMP%] > .menu-dropdown-link[_ngcontent-%COMP%]:after{transform:translateY(-50%) rotate(135deg)!important}@media (max-width: 1199.98px){.brand-wrapper[_ngcontent-%COMP%]:before{content:"";position:absolute;right:-16px;width:38px;height:38px;background-color:var(--bs-body-bg);border-radius:50%}}@media (min-width: 1200px){.brand-wrapper[_ngcontent-%COMP%]   .btn-close-menu[_ngcontent-%COMP%]{display:none!important}}']}),e})();const Uge=["layoutMenu"],Bge=function(t){return{"layout-menu-toggle":t}},jge=function(t,e){return{"layout-overlay-toggle":t,"layout-overlay-increase-zindex":e}};let $ge=(()=>{var t;class e{constructor(r){this.eventService=r,this.isShowOverlay=!1,this.isShowMenu=!1}ngOnInit(){this.eventService.registerEvent("toggleSuggestSearch").subscribe(r=>{this.isShowOverlay=r}),this.eventService.registerEvent("showMenuFromNavbar").subscribe(r=>{this.isShowMenu=r,this.isShowOverlay=r}),this.eventService.registerEvent("hideMenuFromIconClose").subscribe(r=>{this.isShowMenu=r,this.isShowOverlay=r})}closeDropdown(r){const i=this.navbar?.iconToggle.nativeElement;!this.layoutMenu.nativeElement.contains(r.target)&&!i.contains(r.target)&&this.isShowMenu&&(this.isShowMenu=!1,this.isShowOverlay=!1)}}return(t=e).\u0275fac=function(r){return new(r||t)(W(Um))},t.\u0275cmp=At({type:t,selectors:[["app-layout-admin"]],viewQuery:function(r,i){if(1&r&&(dr(V9,5),dr(Uge,5)),2&r){let o;Xn(o=Jn())&&(i.navbar=o.first),Xn(o=Jn())&&(i.layoutMenu=o.first)}},hostBindings:function(r,i){1&r&&j("click",function(s){return i.closeDropdown(s)},0,Ru)},decls:14,vars:7,consts:[[1,"layout-wrapper"],[1,"layout-container"],[1,"layout-menu",3,"ngClass"],["layoutMenu",""],[1,"layout-page"],[1,"layout-navbar"],[1,"content-wrapper"],[1,"content-container"],[1,"layout-footer"],[1,"layout-overlay",3,"ngClass"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2,3),I(4,"app-menu-admin"),m(),_(5,"div",4)(6,"div",5),I(7,"app-navbar-admin"),m(),_(8,"div",6)(9,"div",7),I(10,"router-outlet"),m(),_(11,"div",8),I(12,"app-footer-admin"),m()()()(),I(13,"div",9),m()),2&r&&(P(2),A("ngClass",Pr(2,Bge,i.isShowMenu)),P(11),A("ngClass",f0(4,jge,i.isShowOverlay,i.isShowMenu)))},dependencies:[Ts,ul,Lge,Vge,V9],styles:["[_ngcontent-%COMP%]:root{font-size:var(--bs-root-font-size)}@media (prefers-reduced-motion: no-preference){[_ngcontent-%COMP%]:root{scroll-behavior:smooth}}body[_ngcontent-%COMP%]{margin:0;font-family:var(--bs-body-font-family);font-size:var(--bs-body-font-size);font-weight:var(--bs-body-font-weight);line-height:var(--bs-body-line-height);color:var(--bs-body-color);text-align:var(--bs-body-text-align);background-color:var(--bs-body-bg);-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(67,89,113,0)}.bg-light[_ngcontent-%COMP%]{background-color:var(--bs-white)}.layout-overlay-toggle[_ngcontent-%COMP%]{display:block!important}.layout-overlay-increase-zindex[_ngcontent-%COMP%]{z-index:1050!important}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]{display:flex;align-items:stretch}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-menu[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;width:16.25rem;background-color:var(--bs-white);box-shadow:0 .125rem .375rem #a1acb81f;z-index:1080}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]{width:100%;padding:4.625rem 0 0}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]   .layout-navbar[_ngcontent-%COMP%]{position:fixed;top:0;right:0;left:16.25rem;padding:0 1.5rem;margin:.75rem auto 0;width:calc(100% - 19.5rem);height:3.875rem;background-color:var(--bs-white);border-radius:.375rem;box-shadow:0 0 .375rem .25rem #a1acb826;z-index:1024}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding-left:16.25rem;margin-top:0}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{min-height:calc(100vh - 4.625rem);margin:0 auto;padding:1.675rem 1.675rem 0}.layout-wrapper[_ngcontent-%COMP%]   .layout-overlay[_ngcontent-%COMP%]{position:fixed;top:0;right:0;height:100%!important;left:0;display:none;background:#435971;opacity:.5;cursor:pointer;z-index:999}@media (max-width: 1199.98px){.layout-menu-toggle[_ngcontent-%COMP%]{transform:translateZ(0)!important}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-menu[_ngcontent-%COMP%]{position:fixed!important;top:0;left:0;transition:transform .5s ease;transform:translate3d(-200%,0,0);will-change:transform -webkit-transform}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]{width:100%}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]   .layout-navbar[_ngcontent-%COMP%]{left:0;width:calc(100% - 3.25rem)}}@media (min-width: 1400px){.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]   .layout-navbar[_ngcontent-%COMP%]{max-width:calc(1440px - 3.35rem)}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{max-width:1440px}}"]}),e})(),Hge=(()=>{var t;class e{constructor(r){this.fileStorage=r}onChangeFile(r){this.file=r.target.files[0],this.file&&console.log(this.file)}onUpload(){var r=this;return(0,S.Z)(function*(){const i=`yt/${r.file.name}`,s=yield(yield r.fileStorage.upload(i,r.file)).ref.getDownloadURL();console.log(s)})()}}return(t=e).\u0275fac=function(r){return new(r||t)(W(dP))},t.\u0275cmp=At({type:t,selectors:[["app-test1"]],decls:5,vars:0,consts:[["for","ig1"],["type","file","name","image","id","ig1",3,"change"],["type","button",3,"click"]],template:function(r,i){1&r&&(_(0,"label",0),w(1,"Upload"),m(),_(2,"input",1),j("change",function(s){return i.onChangeFile(s)}),m(),_(3,"button",2),j("click",function(){return i.onUpload()}),w(4,"Up"),m())}}),e})();function zge(t,e){if(1&t){const n=Ot();_(0,"a",20),j("click",function(){Be(n);const i=ee().$implicit;return Ve(ee().onAccept(i.id))}),w(1," Tra\u0309 a\u0309nh "),m()}}function Wge(t,e){if(1&t){const n=Ot();_(0,"a",20),j("click",function(){Be(n);const i=ee().$implicit;return Ve(ee().onRepair(i.id))}),w(1," S\u01b0\u0309a link "),m()}}function Gge(t,e){if(1&t){const n=Ot();_(0,"tr",15)(1,"td",16),w(2),m(),_(3,"td",16),w(4),m(),_(5,"td",16),w(6),m(),_(7,"td",16),w(8),m(),_(9,"td",17)(10,"input",18),j("ngModelChange",function(i){return Ve(Be(n).$implicit.link_down=i)}),m(),_(11,"p"),w(12),m()(),_(13,"td",16),F(14,zge,2,0,"a",19),F(15,Wge,2,0,"a",19),m()()}if(2&t){const n=e.$implicit,r=e.index,i=ee();P(2),Ee(r+1),P(2),Ee(n.code),P(2),Ee(n.cust_name),P(2),Ee(n.order_date),P(2),A("ngModel",n.link_down),P(2),Ee(i.linkText),P(2),A("ngIf","da_duyet"===n.status),P(1),A("ngIf","da_tra"===n.status||"yc_sua"===n.status)}}const U9=function(t){return["/partner",t]};let qge=(()=>{var t;class e{constructor(r,i,o){this.router=r,this.route=i,this.orderService=o,this.orders=[],this.linkText="",this.isShowAskRepair=!1,this.isDropdownOpen=!1,this.route.params.subscribe(s=>{const a=s.id;a?this.partnerId=parseInt(a,10):console.error("ID not found in URL")})}ngOnInit(){var r=this;this.route.params.subscribe(function(){var i=(0,S.Z)(function*(o){const s=o.id;if(s){const a=parseInt(s,10);r.orders=yield r.orderService.getOrderByPartnerId(a),r.orders=r.orders.filter(c=>"da_duyet"===c.status||"da_tra"===c.status||"yc_sua"===c.status)}else console.error("ID not found in URL")});return function(o){return i.apply(this,arguments)}}())}onAccept(r){var i=this;return(0,S.Z)(function*(){var o=i.orders.find(a=>a.id===r);o&&(""!==o.link_down?(o.status="da_tra",(yield i.orderService.updateOrder(o))?(window.alert("Tra\u0309 a\u0309nh tha\u0300nh c\xf4ng"),i.orders=yield i.orderService.getOrderByPartnerId(i.partnerId)):window.alert("Kh\xf4ng tha\u0300nh c\xf4ng")):window.alert("Vui lo\u0300ng \u0111i\xea\u0300n link"))})()}onRepair(r){var i=this;return(0,S.Z)(function*(){var o=i.orders.find(a=>a.id===r);o&&(""!==o.link_down?(yield i.orderService.updateOrder(o))?(window.alert("Tra\u0309 a\u0309nh tha\u0300nh c\xf4ng"),i.orders=yield i.orderService.getOrderByPartnerId(i.partnerId)):window.alert("Kh\xf4ng tha\u0300nh c\xf4ng"):window.alert("Vui lo\u0300ng \u0111i\xea\u0300n link"))})()}toggleAsk(){this.isShowAskRepair=!this.isShowAskRepair}closeAsk(){this.isShowAskRepair=!1}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen}}return(t=e).\u0275fac=function(r){return new(r||t)(W(nr),W(xo),W(El))},t.\u0275cmp=At({type:t,selectors:[["app-warehouse-picture"]],decls:34,vars:7,consts:[[1,"page-pr-wrapper"],[1,"page-header"],[1,"header-content"],[1,"header-left"],[3,"routerLink"],[1,"bx","bx-left-arrow-alt"],[1,"header-right"],[1,"bx","bx-chevron-left"],[1,"page-content"],[1,"list-order-wrapper"],[1,"table-wrapper"],[1,"table"],[1,"col-header"],[1,"row-header"],["class","col-content",4,"ngFor","ngForOf"],[1,"col-content"],[1,"row-content"],[1,"row-content","row-link-down"],["type","text","name","link_down","id","","placeholder","Nh\xe2\u0323p link a\u0309nh",3,"ngModel","ngModelChange"],["href","javascript:void(0)","class","btn btn-accept",3,"click",4,"ngIf"],["href","javascript:void(0)",1,"btn","btn-accept",3,"click"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2")(5,"a",4),I(6,"i",5),m(),w(7," Kho tra\u0309 a\u0309nh kha\u0301ch ha\u0300ng "),m(),_(8,"p"),w(9,"Nhi\xea\u0301p a\u0309nh gia tra\u0309 a\u0309nh cho kha\u0301ch ha\u0300ng cu\u0309a mi\u0300nh ta\u0323i \u0111\xe2y."),m()(),_(10,"div",6)(11,"a",4),I(12,"i",7),w(13,"Quay la\u0323i"),m()()()(),_(14,"div",8)(15,"div",9)(16,"div",10)(17,"table",11)(18,"thead")(19,"tr",12)(20,"th",13),w(21,"#"),m(),_(22,"th",13),w(23,"Ma\u0303 a\u0309nh"),m(),_(24,"th",13),w(25,"T\xean kh\xe1ch"),m(),_(26,"th",13),w(27,"Nga\u0300y chu\u0323p"),m(),_(28,"th",13),w(29,"Link ta\u0309i a\u0309nh"),m(),_(30,"th",13),w(31,"Tr\u1ea1ng th\xe1i"),m()()(),_(32,"tbody"),F(33,Gge,16,8,"tr",14),m()()()()()()),2&r&&(P(5),A("routerLink",Pr(3,U9,i.partnerId)),P(6),A("routerLink",Pr(5,U9,i.partnerId)),P(22),A("ngForOf",i.orders))},dependencies:[Wr,Vr,pr,Ns,ua,Fs],styles:[".page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{background-color:var(--color-light);height:140px;position:fixed;top:0;left:0;right:0;box-shadow:0 3px 3px #a4a4a433}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;height:100%;padding:0 2rem;margin:0 auto}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{padding-bottom:2rem;display:flex;flex-direction:column;justify-content:flex-end}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:700;color:var(--color-primary);display:flex;align-items:center}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-primary);text-decoration:none;margin-right:1rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-primary);padding-left:2.5rem;margin:.3rem 0 0}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-primary);text-decoration:none;font-weight:600;display:flex;align-items:center}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:2rem;margin:140px auto 0}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{width:100%;max-width:100%;overflow-x:auto;position:relative}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;height:12px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cccccc;border-radius:6px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#bbbbbb}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border:1px solid #ddd}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:transparent}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], .page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-color:inherit;border-style:solid;border-width:0}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr.col-header[_ngcontent-%COMP%]{background-color:#f2f2f2;font-weight:700}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr.col-header[_ngcontent-%COMP%]   th.row-header[_ngcontent-%COMP%], .page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td.row-content[_ngcontent-%COMP%]{padding:.625rem 1.25rem;text-align:left;white-space:nowrap}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.btn-accept[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:6px 12px;border:none;border-radius:4px;text-align:center;text-decoration:none;display:inline-block;cursor:pointer}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.btn-accept[_ngcontent-%COMP%]:hover{background-color:#45a049}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td.row-link-down[_ngcontent-%COMP%]{display:flex;align-items:center}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td.row-link-down[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;padding:8px 12px;border-radius:4px;background-color:#f8f8f8;border:1px solid #f2f2f2;width:100%}@media (min-width: 1400px){.header-content[_ngcontent-%COMP%], .page-content[_ngcontent-%COMP%]{max-width:1440px}}"]}),e})();function Kge(t,e){if(1&t){const n=Ot();_(0,"a",22),j("click",function(){Be(n);const i=ee().$implicit;return Ve(ee(2).onConfirm(i.id))}),w(1," Xa\u0301c nh\xe2\u0323n "),m()}}function Zge(t,e){if(1&t){const n=Ot();_(0,"tr",17)(1,"td",18),w(2),m(),_(3,"td",18),w(4),m(),_(5,"td",18),w(6),m(),_(7,"td",18),w(8),m(),_(9,"td",18),w(10),m(),_(11,"td",19)(12,"input",20),j("ngModelChange",function(i){return Ve(Be(n).$implicit.link_down=i)}),m(),_(13,"p"),w(14),m()(),_(15,"td",18),F(16,Kge,2,0,"a",21),m()()}if(2&t){const n=e.$implicit,r=e.index,i=ee(2);P(2),Ee(r+1),P(2),Ee(n.code),P(2),Ee(n.cust_name),P(2),Ee(n.order_date),P(2),Ee(n.des_refund),P(2),A("ngModel",n.link_down),P(2),Ee(i.linkText),P(2),A("ngIf","yc_sua"===n.status)}}function Yge(t,e){if(1&t&&(De(0),_(1,"div",12)(2,"table",13)(3,"thead")(4,"tr",14)(5,"th",15),w(6,"#"),m(),_(7,"th",15),w(8,"Ma\u0303 a\u0309nh"),m(),_(9,"th",15),w(10,"T\xean kh\xe1ch"),m(),_(11,"th",15),w(12,"Nga\u0300y chu\u0323p"),m(),_(13,"th",15),w(14,"N\xf4\u0323i dung y\xeau c\xe2\u0300u"),m(),_(15,"th",15),w(16,"Link ta\u0309i a\u0309nh"),m(),_(17,"th",15),w(18,"Tr\u1ea1ng th\xe1i"),m()()(),_(19,"tbody"),F(20,Zge,17,8,"tr",16),m()()(),Se()),2&t){const n=ee();P(20),A("ngForOf",n.orders)}}function Qge(t,e){1&t&&(_(0,"div",23)(1,"h4"),w(2,"Kh\xf4ng co\u0301 y\xeau c\xe2\u0300u s\u01b0\u0309a na\u0300o."),m()())}const B9=function(t){return["/partner",t]},Xge=[{path:"",component:xpe,children:Zhe},{path:"collection",component:N9,children:Yhe},{path:"auth",component:tA,children:Qhe},{path:"contact",component:tA,children:[{path:"",component:_fe,title:"Contact send"}]},{path:"refund-picture",component:tA,children:[{path:"",component:mge,title:"Refund pictures"}]},{path:"profile/:id",component:L9,children:[{path:"",component:hge,title:"Profile"}]},{path:"user",component:N9,children:Xhe},{path:"refund-pc/:id",component:Age},{path:"partner/:id",component:L9,children:Jhe},{path:"ware-house-picture/:id",component:qge},{path:"ware-house-repair/:id",component:(()=>{var t;class e{constructor(r,i,o){this.router=r,this.route=i,this.orderService=o,this.orders=[],this.linkText="",this.isShowAskRepair=!1,this.isDropdownOpen=!1,this.route.params.subscribe(s=>{const a=s.id;a?this.partnerId=parseInt(a,10):console.error("ID not found in URL")})}ngOnInit(){var r=this;this.route.params.subscribe(function(){var i=(0,S.Z)(function*(o){const s=o.id;if(s){const a=parseInt(s,10);r.loadData(a)}else console.error("ID not found in URL")});return function(o){return i.apply(this,arguments)}}())}loadData(r){var i=this;return(0,S.Z)(function*(){i.orders=yield i.orderService.getOrderByPartnerId(r),i.orders=i.orders.filter(o=>"yc_sua"===o.status)})()}onConfirm(r){var i=this;return(0,S.Z)(function*(){var o=i.orders.find(a=>a.id===r);if(o){o.status="da_tra";var s=yield i.orderService.updateOrder(o);s?(window.alert("Xa\u0301c nh\xe2\u0323n tha\u0300nh c\xf4ng"),i.loadData(s.partner_id)):window.alert("l\xf4\u0303i h\xea\u0323 th\xf4\u0301ng")}})()}toggleAsk(){this.isShowAskRepair=!this.isShowAskRepair}closeAsk(){this.isShowAskRepair=!1}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen}}return(t=e).\u0275fac=function(r){return new(r||t)(W(nr),W(xo),W(El))},t.\u0275cmp=At({type:t,selectors:[["app-warehouse-repair"]],decls:19,vars:8,consts:[[1,"page-pr-wrapper"],[1,"page-header"],[1,"header-content"],[1,"header-left"],[3,"routerLink"],[1,"bx","bx-left-arrow-alt"],[1,"header-right"],[1,"bx","bx-chevron-left"],[1,"page-content"],[1,"list-order-wrapper"],[4,"ngIf","ngIfElse"],["elseBlock",""],[1,"table-wrapper"],[1,"table"],[1,"col-header"],[1,"row-header"],["class","col-content",4,"ngFor","ngForOf"],[1,"col-content"],[1,"row-content"],[1,"row-content","row-link-down"],["type","text","name","link_down","id","","placeholder","Nh\xe2\u0323p link a\u0309nh",3,"ngModel","ngModelChange"],["href","javascript:void(0)","class","btn btn-accept",3,"click",4,"ngIf"],["href","javascript:void(0)",1,"btn","btn-accept",3,"click"],[1,"empty-row"]],template:function(r,i){if(1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2")(5,"a",4),I(6,"i",5),m(),w(7," Y\xeau c\xe2\u0300u s\u01b0\u0309a a\u0309nh cu\u0309a kha\u0301ch ha\u0300ng "),m(),_(8,"p"),w(9,"Nhi\xea\u0301p a\u0309nh gia xa\u0301c nh\xe2\u0323n \u0111a\u0303 s\u01b0\u0309a a\u0309nh theo y\xeau c\xe2\u0300u cu\u0309a kha\u0301ch ha\u0300ng."),m()(),_(10,"div",6)(11,"a",4),I(12,"i",7),w(13,"Quay la\u0323i"),m()()()(),_(14,"div",8)(15,"div",9),F(16,Yge,21,1,"ng-container",10),F(17,Qge,3,0,"ng-template",null,11,er),m()()()),2&r){const o=Qn(18);P(5),A("routerLink",Pr(4,B9,i.partnerId)),P(6),A("routerLink",Pr(6,B9,i.partnerId)),P(5),A("ngIf",i.orders.length>0)("ngIfElse",o)}},dependencies:[Wr,Vr,pr,Ns,ua,Fs],styles:[".page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{background-color:var(--color-light);height:140px;position:fixed;top:0;left:0;right:0;box-shadow:0 3px 3px #a4a4a433}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;height:100%;padding:0 2rem;margin:0 auto}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{padding-bottom:2rem;display:flex;flex-direction:column;justify-content:flex-end}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:700;color:var(--color-primary);display:flex;align-items:center}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-primary);text-decoration:none;margin-right:1rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-primary);padding-left:2.5rem;margin:.3rem 0 0}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-primary);text-decoration:none;font-weight:600;display:flex;align-items:center}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:2rem;margin:140px auto 0}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{width:100%;max-width:100%;overflow-x:auto;position:relative}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;height:12px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cccccc;border-radius:6px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#bbbbbb}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border:1px solid #ddd}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:transparent}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], .page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-color:inherit;border-style:solid;border-width:0}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr.col-header[_ngcontent-%COMP%]{background-color:#f2f2f2;font-weight:700}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr.col-header[_ngcontent-%COMP%]   th.row-header[_ngcontent-%COMP%], .page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td.row-content[_ngcontent-%COMP%]{padding:.625rem 1.25rem;text-align:left;white-space:nowrap}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.btn-accept[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:6px 12px;border:none;border-radius:4px;text-align:center;text-decoration:none;display:inline-block;cursor:pointer}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.btn-accept[_ngcontent-%COMP%]:hover{background-color:#45a049}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td.row-link-down[_ngcontent-%COMP%]{display:flex;align-items:center}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td.row-link-down[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;padding:8px 12px;border-radius:4px;background-color:#f8f8f8;border:1px solid #f2f2f2;width:100%}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .empty-row[_ngcontent-%COMP%]{text-align:center}@media (min-width: 1400px){.header-content[_ngcontent-%COMP%], .page-content[_ngcontent-%COMP%]{max-width:1440px}}"]}),e})()},{path:"admin",component:$ge,children:epe},{path:"test",component:Hge}];let Jge=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Zn({type:t}),t.\u0275inj=lr({imports:[w5.forRoot(Xge),w5]}),e})(),e_e=(()=>{var t;class e{constructor(){this.title="photohub"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=At({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&I(0,"router-outlet")},dependencies:[ul]}),e})();class pP{}class fP{}class fa{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof fa?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new fa;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof fa?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(n);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class t_e{encodeKey(e){return j9(e)}encodeValue(e){return j9(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const r_e=/%(\d[a-f0-9])/gi,i_e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function j9(t){return encodeURIComponent(t).replace(r_e,(e,n)=>i_e[n]??e)}function gP(t){return`${t}`}class Il{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new t_e,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function n_e(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(gP):[gP(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new Il({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(gP(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(gP(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class o_e{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function $9(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function H9(t){return typeof Blob<"u"&&t instanceof Blob}function z9(t){return typeof FormData<"u"&&t instanceof FormData}class Bm{constructor(e,n,r,i){let o;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function s_e(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new fa),this.context||(this.context=new o_e),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new Il,this.urlWithParams=n}serializeBody(){return null===this.body?null:$9(this.body)||H9(this.body)||z9(this.body)||function a_e(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Il?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||z9(this.body)?null:H9(this.body)?this.body.type||null:$9(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Il?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const h=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((f,y)=>f.set(y,e.setHeaders[y]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((f,y)=>f.set(y,e.setParams[y]),l)),new Bm(n,r,o,{params:l,headers:c,context:h,reportProgress:a,responseType:i,withCredentials:s})}}var $p=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}($p||{});class nA{constructor(e,n=200,r="OK"){this.headers=e.headers||new fa,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class rA extends nA{constructor(e={}){super(e),this.type=$p.ResponseHeader}clone(e={}){return new rA({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Hp extends nA{constructor(e={}){super(e),this.type=$p.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Hp({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class W9 extends nA{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function iA(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let c_e=(()=>{var t;class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof Bm)s=r;else{let l,h;l=o.headers instanceof fa?o.headers:new fa(o.headers),o.params&&(h=o.params instanceof Il?o.params:new Il({fromObject:o.params})),s=new Bm(r,i,void 0!==o.body?o.body:null,{headers:l,context:o.context,params:h,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const a=Q(s).pipe(cp(l=>this.handler.handle(l)));if(r instanceof Bm||"events"===o.observe)return a;const c=a.pipe(is(l=>l instanceof Hp));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(ye(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(ye(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(ye(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return c.pipe(ye(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:(new Il).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,iA(o,i))}post(r,i,o={}){return this.request("POST",r,iA(o,i))}put(r,i,o={}){return this.request("PUT",r,iA(o,i))}}return(t=e).\u0275fac=function(r){return new(r||t)(se(pP))},t.\u0275prov=xe({token:t,factory:t.\u0275fac}),e})();function K9(t,e){return e(t)}function u_e(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const h_e=new _e(""),jm=new _e(""),Z9=new _e("");function p_e(){let t=null;return(e,n)=>{null===t&&(t=(Me(h_e,{optional:!0})??[]).reduceRight(u_e,K9));const r=Me(y0),i=r.add();return t(e,n).pipe(F_(()=>r.remove(i)))}}let Y9=(()=>{var t;class e extends pP{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=Me(y0)}handle(r){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(jm),...this.injector.get(Z9,[])]));this.chain=o.reduceRight((s,a)=>function d_e(t,e,n){return(r,i)=>n.runInContext(()=>e(r,o=>t(o,i)))}(s,a,this.injector),K9)}const i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(F_(()=>this.pendingTasks.remove(i)))}}return(t=e).\u0275fac=function(r){return new(r||t)(se(fP),se(Io))},t.\u0275prov=xe({token:t,factory:t.\u0275fac}),e})();const m_e=/^\)\]\}',?\n/;let X9=(()=>{var t;class e{constructor(r){this.xhrFactory=r}handle(r){if("JSONP"===r.method)throw new ne(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?k(i.\u0275loadImpl()):Q(null)).pipe(it(()=>new ht(s=>{const a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((D,U)=>a.setRequestHeader(D,U.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const D=r.detectContentTypeHeader();null!==D&&a.setRequestHeader("Content-Type",D)}if(r.responseType){const D=r.responseType.toLowerCase();a.responseType="json"!==D?D:"text"}const c=r.serializeBody();let l=null;const h=()=>{if(null!==l)return l;const D=a.statusText||"OK",U=new fa(a.getAllResponseHeaders()),L=function y_e(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(a)||r.url;return l=new rA({headers:U,status:a.status,statusText:D,url:L}),l},f=()=>{let{headers:D,status:U,statusText:L,url:q}=h(),G=null;204!==U&&(G=typeof a.response>"u"?a.responseText:a.response),0===U&&(U=G?200:0);let ge=U>=200&&U<300;if("json"===r.responseType&&"string"==typeof G){const Te=G;G=G.replace(m_e,"");try{G=""!==G?JSON.parse(G):null}catch(ft){G=Te,ge&&(ge=!1,G={error:ft,text:G})}}ge?(s.next(new Hp({body:G,headers:D,status:U,statusText:L,url:q||void 0})),s.complete()):s.error(new W9({error:G,headers:D,status:U,statusText:L,url:q||void 0}))},y=D=>{const{url:U}=h(),L=new W9({error:D,status:a.status||0,statusText:a.statusText||"Unknown Error",url:U||void 0});s.error(L)};let v=!1;const O=D=>{v||(s.next(h()),v=!0);let U={type:$p.DownloadProgress,loaded:D.loaded};D.lengthComputable&&(U.total=D.total),"text"===r.responseType&&a.responseText&&(U.partialText=a.responseText),s.next(U)},b=D=>{let U={type:$p.UploadProgress,loaded:D.loaded};D.lengthComputable&&(U.total=D.total),s.next(U)};return a.addEventListener("load",f),a.addEventListener("error",y),a.addEventListener("timeout",y),a.addEventListener("abort",y),r.reportProgress&&(a.addEventListener("progress",O),null!==c&&a.upload&&a.upload.addEventListener("progress",b)),a.send(c),s.next({type:$p.Sent}),()=>{a.removeEventListener("error",y),a.removeEventListener("abort",y),a.removeEventListener("load",f),a.removeEventListener("timeout",y),r.reportProgress&&(a.removeEventListener("progress",O),null!==c&&a.upload&&a.upload.removeEventListener("progress",b)),a.readyState!==a.DONE&&a.abort()}})))}}return(t=e).\u0275fac=function(r){return new(r||t)(se(G3))},t.\u0275prov=xe({token:t,factory:t.\u0275fac}),e})();const oA=new _e("XSRF_ENABLED"),J9=new _e("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),e6=new _e("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class t6{}let w_e=(()=>{var t;class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=V3(r,this.cookieName),this.lastCookieString=r),this.lastToken}}return(t=e).\u0275fac=function(r){return new(r||t)(se(Do),se(bo),se(J9))},t.\u0275prov=xe({token:t,factory:t.\u0275fac}),e})();function P_e(t,e){const n=t.url.toLowerCase();if(!Me(oA)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=Me(t6).getToken(),i=Me(e6);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var bl=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(bl||{});function sd(t,e){return{\u0275kind:t,\u0275providers:e}}function M_e(...t){const e=[c_e,X9,Y9,{provide:pP,useExisting:Y9},{provide:fP,useExisting:X9},{provide:jm,useValue:P_e,multi:!0},{provide:oA,useValue:!0},{provide:t6,useClass:w_e}];for(const n of t)e.push(...n.\u0275providers);return function RO(t){return{\u0275providers:t}}(e)}const n6=new _e("LEGACY_INTERCEPTOR_FN");let E_e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Zn({type:t}),t.\u0275inj=lr({providers:[M_e(sd(bl.LegacyInterceptors,[{provide:n6,useFactory:p_e},{provide:jm,useExisting:n6,multi:!0}]))]}),e})();class $m{constructor(e){return e}}class r6{constructor(){return(0,$e.getApps)()}}const sA=new _e("angularfire2._apps"),x_e={provide:$m,useFactory:function S_e(t){return t&&1===t.length?t[0]:new $m((0,$e.getApp)())},deps:[[new p,sA]]},R_e={provide:r6,deps:[[new p,sA]]};function k_e(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new $m(r)}}let N_e=(()=>{var t;class e{constructor(r){(0,$e.registerVersion)("angularfire",Ol.full,"core"),(0,$e.registerVersion)("angularfire",Ol.full,"app"),(0,$e.registerVersion)("angular",YO.full,r.toString())}}return t=e,ze(e,"\u0275fac",function(r){return new(r||t)(se(bo))}),ze(e,"\u0275mod",Zn({type:t})),ze(e,"\u0275inj",lr({providers:[x_e,R_e]})),e})();function F_e(t,...e){return{ngModule:N_e,providers:[{provide:sA,useFactory:k_e(t),multi:!0,deps:[Vt,zi,kp,...e]}]}}const L_e=function i6(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},o6=new E.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),mP=new Ei.Yd("@firebase/auth");function yP(t,...e){mP.logLevel<=Ei.in.ERROR&&mP.error(`Auth (${$e.SDK_VERSION}): ${t}`,...e)}function _o(t,...e){throw aA(t,...e)}function ga(t,...e){return aA(t,...e)}function aA(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return o6.create(t,...e)}function me(t,e,...n){if(!t)throw aA(e,...n)}function _a(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yP(e),new Error(e)}function Tl(t,e){t||_a(e)}function a6(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class zm{constructor(e,n){this.shortDelay=e,this.longDelay=n,Tl(n>e,"Short delay should be less than long delay!"),this.isMobile=(0,E.uI)()||(0,E.b$)()}get(){return function U_e(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function cA(){return"http:"===a6()||"https:"===a6()}()||(0,E.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class c6{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void _a("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void _a("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void _a("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const j_e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},$_e=new zm(3e4,6e4);function Wn(t,e,n,r){return uA.apply(this,arguments)}function uA(){return(uA=(0,S.Z)(function*(t,e,n,r,i={}){return l6(t,i,(0,S.Z)(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=(0,E.xO)(Object.assign({key:t.config.apiKey},s)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),c6.fetch()(u6(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function l6(t,e,n){return dA.apply(this,arguments)}function dA(){return(dA=(0,S.Z)(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},j_e),e);try{const i=new z_e(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw Wm(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw Wm(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw Wm(t,"email-already-in-use",s);if("USER_DISABLED"===c)throw Wm(t,"user-disabled",s);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw function s6(t,e,n){const r=Object.assign(Object.assign({},L_e()),{[e]:n});return new E.LL("auth","Firebase",r).create(e,{appName:t.name})}(t,h,l);_o(t,h)}}catch(i){if(i instanceof E.ZR)throw i;_o(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function u6(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function lA(t,e){Tl(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class z_e{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ga(this.auth,"network-request-failed")),$_e.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ga(t,e,r);return i.customData._tokenResponse=n,i}function gA(){return(gA=(0,S.Z)(function*(t,e){return Wn(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function mA(){return(mA=(0,S.Z)(function*(t,e){return Wn(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Gm(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function yA(){return(yA=(0,S.Z)(function*(t,e=!1){const n=(0,E.m9)(t),r=yield n.getIdToken(e),i=vP(r);me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Gm(vA(i.auth_time)),issuedAtTime:Gm(vA(i.iat)),expirationTime:Gm(vA(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function vA(t){return 1e3*Number(t)}function vP(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return yP("JWT malformed, contained fewer than 3 sections"),null;try{const i=(0,E.tV)(n);return i?JSON.parse(i):(yP("Failed to decode base64 JWT payload"),null)}catch(i){return yP("Caught error parsing JWT payload as JSON",i?.toString()),null}}function cc(t,e){return CA.apply(this,arguments)}function CA(){return(CA=(0,S.Z)(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof E.ZR&&function Q_e({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class X_e{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,S.Z)(function*(){yield n.iteration()}),r)}iteration(){var e=this;return(0,S.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class g6{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gm(this.lastLoginAt),this.creationTime=Gm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function qm(t){return wA.apply(this,arguments)}function wA(){return wA=(0,S.Z)(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield cc(t,function K_e(t,e){return mA.apply(this,arguments)}(n,{idToken:r}));me(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function tme(t){return t.map(e=>{var{providerId:n}=e,r=(0,Fe._T)(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function eme(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),h=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new g6(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,f)}),wA.apply(this,arguments)}function PA(){return(PA=(0,S.Z)(function*(t){const e=(0,E.m9)(t);yield qm(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function MA(){return(MA=(0,S.Z)(function*(t,e){const n=yield l6(t,{},(0,S.Z)(function*(){const r=(0,E.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=u6(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",c6.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Km{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Y_e(t){const e=vP(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return(0,S.Z)(function*(){return me(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return(0,S.Z)(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function nme(t,e){return MA.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Km;return r&&(me("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(me("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(me("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Km,this.toJSON())}_performRefresh(){return _a("not implemented")}}function Al(t,e){me("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class ad{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=(0,Fe._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new X_e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new g6(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return(0,S.Z)(function*(){const r=yield cc(n,n.stsTokenManager.getToken(n.auth,e));return me(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Z_e(t){return yA.apply(this,arguments)}(this,e)}reload(){return function J_e(t){return PA.apply(this,arguments)}(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ad(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return(0,S.Z)(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield qm(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,S.Z)(function*(){const n=yield e.getIdToken();return yield cc(e,function G_e(t,e){return gA.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,h;const f=null!==(r=n.displayName)&&void 0!==r?r:void 0,y=null!==(i=n.email)&&void 0!==i?i:void 0,v=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,O=null!==(s=n.photoURL)&&void 0!==s?s:void 0,b=null!==(a=n.tenantId)&&void 0!==a?a:void 0,D=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,U=null!==(l=n.createdAt)&&void 0!==l?l:void 0,L=null!==(h=n.lastLoginAt)&&void 0!==h?h:void 0,{uid:q,emailVerified:G,isAnonymous:ge,providerData:Te,stsTokenManager:ft}=n;me(q&&ft,e,"internal-error");const an=Km.fromJSON(this.name,ft);me("string"==typeof q,e,"internal-error"),Al(f,e.name),Al(y,e.name),me("boolean"==typeof G,e,"internal-error"),me("boolean"==typeof ge,e,"internal-error"),Al(v,e.name),Al(O,e.name),Al(b,e.name),Al(D,e.name),Al(U,e.name),Al(L,e.name);const Co=new ad({uid:q,auth:e,email:y,emailVerified:G,displayName:f,isAnonymous:ge,photoURL:O,phoneNumber:v,tenantId:b,stsTokenManager:an,createdAt:U,lastLoginAt:L});return Te&&Array.isArray(Te)&&(Co.providerData=Te.map(Lf=>Object.assign({},Lf))),D&&(Co._redirectEventId=D),Co}static _fromIdTokenResponse(e,n,r=!1){return(0,S.Z)(function*(){const i=new Km;i.updateFromServerResponse(n);const o=new ad({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield qm(o),o})()}}const _6=new Map;function lc(t){Tl(t instanceof Function,"Expected a class definition");let e=_6.get(t);return e?(Tl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_6.set(t,e),e)}const m6=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,S.Z)(function*(){return!0})()}_set(n,r){var i=this;return(0,S.Z)(function*(){i.storage[n]=r})()}_get(n){var r=this;return(0,S.Z)(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return(0,S.Z)(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function CP(t,e,n){return`firebase:${t}:${e}:${n}`}class Wp{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=CP(this.userKey,i.apiKey,o),this.fullPersistenceKey=CP("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,S.Z)(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?ad._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return(0,S.Z)(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return(0,S.Z)(function*(){if(!n.length)return new Wp(lc(m6),e,r);const i=(yield Promise.all(n.map(function(){var l=(0,S.Z)(function*(h){if(yield h._isAvailable())return h});return function(h){return l.apply(this,arguments)}}()))).filter(l=>l);let o=i[0]||lc(m6);const s=CP(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const h=yield l._get(s);if(h){const f=ad._fromJSON(e,h);l!==o&&(a=f),o=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return o._shouldAllowMigration&&c.length?(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var l=(0,S.Z)(function*(h){if(h!==o)try{yield h._remove(s)}catch{}});return function(h){return l.apply(this,arguments)}}())),new Wp(o,e,r)):new Wp(o,e,r)})()}}function y6(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function w6(t=(0,E.z$)()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function v6(t=(0,E.z$)()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function M6(t=(0,E.z$)()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function O6(t=(0,E.z$)()){return/webos/i.test(t)}(e))return"Webos";if(function OA(t=(0,E.z$)()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function C6(t=(0,E.z$)()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function P6(t=(0,E.z$)()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function E6(t,e=[]){let n;switch(t){case"Browser":n=y6((0,E.z$)());break;case"Worker":n=`${y6((0,E.z$)())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$e.SDK_VERSION}/${r}`}class ome{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return(0,S.Z)(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function EA(){return(EA=(0,S.Z)(function*(t,e={}){return Wn(t,"GET","/v2/passwordPolicy",function Un(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))})).apply(this,arguments)}class cme{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=s.minPasswordLength)&&void 0!==n?n:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=null===(n=c.meetsMinPasswordLength)||void 0===n||n),c.isValid&&(c.isValid=null===(r=c.meetsMaxPasswordLength)||void 0===r||r),c.isValid&&(c.isValid=null===(i=c.containsLowercaseLetter)||void 0===i||i),c.isValid&&(c.isValid=null===(o=c.containsUppercaseLetter)||void 0===o||o),c.isValid&&(c.isValid=null===(s=c.containsNumericCharacter)||void 0===s||s),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class lme{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new I6(this),this.idTokenSubscription=new I6(this),this.beforeStateQueue=new ome(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=o6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=lc(n)),this._initializationPromise=this.queue((0,S.Z)(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Wp.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,S.Z)(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return(0,S.Z)(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=o?._redirectEventId,l=yield n.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(o=l.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return me(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return(0,S.Z)(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return(0,S.Z)(function*(){try{yield qm(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function B_e(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return(0,S.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return(0,S.Z)(function*(){const r=e?(0,E.m9)(e):null;return r&&me(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return(0,S.Z)(function*(){if(!r._deleted)return e&&me(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,S.Z)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,S.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue((0,S.Z)(function*(){yield n.assertedPersistence.setPersistence(lc(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return(0,S.Z)(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return(0,S.Z)(function*(){const n=yield function sme(t){return EA.apply(this,arguments)}(e),r=new cme(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new E.LL("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return(0,S.Z)(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return(0,S.Z)(function*(){if(!n.redirectPersistenceManager){const r=e&&lc(e)||n._popupRedirectResolver;me(r,n,"argument-error"),n.redirectPersistenceManager=yield Wp.create(n,[lc(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return(0,S.Z)(function*(){var r,i;return n._isInitialized&&(yield n.queue((0,S.Z)(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return(0,S.Z)(function*(){if(e===n.currentUser)return n.queue((0,S.Z)(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof n){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}{const c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){var n=this;return(0,S.Z)(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=E6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,S.Z)(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return(0,S.Z)(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function V_e(t,...e){mP.logLevel<=Ei.in.WARN&&mP.warn(`Auth (${$e.SDK_VERSION}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}class I6{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,E.ne)(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function b6(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new zm(3e4,6e4),new zm(2e3,1e4),new zm(3e4,6e4),new zm(5e3,15e3),encodeURIComponent("fac");var o$="@firebase/auth";class lve{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return(0,S.Z)(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,E.Pz)("authIdTokenMaxAge"),function dve(t){(0,$e._registerComponent)(new Ro.wA("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;me(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:E6(t)},l=new lme(r,i,o,c);return function _me(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(lc);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),(0,$e._registerComponent)(new Ro.wA("auth-internal",e=>{const n=function Or(t){return(0,E.m9)(t)}(e.getProvider("auth").getImmediate());return new lve(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,$e.registerVersion)(o$,"1.3.2",function uve(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),(0,$e.registerVersion)(o$,"1.3.2","esm2017")}("Browser");class l${constructor(){return UT("auth")}}var Ie,yve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Vs={},_S=_S||{},rt=yve||self;function kP(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Jm(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var mS="closure_uid_"+(1e9*Math.random()>>>0),Cve=0;function wve(t,e,n){return t.call.apply(t.bind,arguments)}function Pve(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ai(t,e,n){return(Ai=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wve:Pve).apply(null,arguments)}function NP(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Kr(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Dl(){this.s=this.s,this.o=this.o}Dl.prototype.s=!1,Dl.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function vve(t){Object.prototype.hasOwnProperty.call(t,mS)&&t[mS]||(t[mS]=++Cve)}(this)},Dl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const u$=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function yS(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function d$(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(kP(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Di(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Di.prototype.h=function(){this.defaultPrevented=!0};var Ove=function(){if(!rt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{rt.addEventListener("test",()=>{},e),rt.removeEventListener("test",()=>{},e)}catch{}return t}();function ey(t){return/^[\s\xa0]*$/.test(t)}function FP(){var t=rt.navigator;return t&&(t=t.userAgent)?t:""}function ma(t){return-1!=FP().indexOf(t)}function vS(t){return vS[" "](t),t}vS[" "]=function(){};var wS,t,Ive=ma("Opera"),Gp=ma("Trident")||ma("MSIE"),h$=ma("Edge"),CS=h$||Gp,p$=ma("Gecko")&&!(-1!=FP().toLowerCase().indexOf("webkit")&&!ma("Edge"))&&!(ma("Trident")||ma("MSIE"))&&!ma("Edge"),bve=-1!=FP().toLowerCase().indexOf("webkit")&&!ma("Edge");function f$(){var t=rt.document;return t?t.documentMode:void 0}e:{var PS="",MS=(t=FP(),p$?/rv:([^\);]+)(\)|;)/.exec(t):h$?/Edge\/([\d\.]+)/.exec(t):Gp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):bve?/WebKit\/(\S+)/.exec(t):Ive?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(MS&&(PS=MS?MS[1]:""),Gp){var OS=f$();if(null!=OS&&OS>parseFloat(PS)){wS=String(OS);break e}}wS=PS}var Tve=rt.document&&Gp&&(f$()||parseInt(wS,10))||void 0;function ty(t,e){if(Di.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(p$){e:{try{vS(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ave[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ty.$.h.call(this)}}Kr(ty,Di);var Ave={2:"touch",3:"pen",4:"mouse"};ty.prototype.h=function(){ty.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ny="closure_listenable_"+(1e6*Math.random()|0),Dve=0;function Sve(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Dve,this.fa=this.ia=!1}function LP(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function IS(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function _$(t){const e={};for(const n in t)e[n]=t[n];return e}const m$="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function y$(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let o=0;o<m$.length;o++)n=m$[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function VP(t){this.src=t,this.g={},this.h=0}function bS(t,e){var n=e.type;if(n in t.g){var o,r=t.g[n],i=u$(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(LP(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function TS(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}VP.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=TS(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):((e=new Sve(e,this.src,o,!!r,i)).ia=n,t.push(e)),e};var AS="closure_lm_"+(1e6*Math.random()|0),DS={};function v$(t,e,n,r,i){if(r&&r.once)return w$(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)v$(t,e[o],n,r,i);return null}return n=kS(n),t&&t[ny]?t.O(e,n,Jm(r)?!!r.capture:!!r,i):C$(t,e,n,!1,r,i)}function C$(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Jm(i)?!!i.capture:!!i,a=xS(t);if(a||(t[AS]=a=new VP(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function Rve(){const e=kve;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ove||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(M$(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function w$(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)w$(t,e[o],n,r,i);return null}return n=kS(n),t&&t[ny]?t.P(e,n,Jm(r)?!!r.capture:!!r,i):C$(t,e,n,!0,r,i)}function P$(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)P$(t,e[o],n,r,i);else r=Jm(r)?!!r.capture:!!r,n=kS(n),t&&t[ny]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=TS(o=t.g[e],n,r,i))&&(LP(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=xS(t))&&(e=t.g[e.toString()],t=-1,e&&(t=TS(e,n,r,i)),(n=-1<t?e[t]:null)&&SS(n))}function SS(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[ny])bS(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(M$(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=xS(e))?(bS(n,t),0==n.h&&(n.src=null,e[AS]=null)):LP(t)}}}function M$(t){return t in DS?DS[t]:DS[t]="on"+t}function kve(t,e){if(t.fa)t=!0;else{e=new ty(e,this);var n=t.listener,r=t.la||t.src;t.ia&&SS(t),t=n.call(r,e)}return t}function xS(t){return(t=t[AS])instanceof VP?t:null}var RS="__closure_events_fn_"+(1e9*Math.random()>>>0);function kS(t){return"function"==typeof t?t:(t[RS]||(t[RS]=function(e){return t.handleEvent(e)}),t[RS])}function Zr(){Dl.call(this),this.i=new VP(this),this.S=this,this.J=null}function ui(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Di(e,t);else if(e instanceof Di)e.target=e.target||t;else{var i=e;y$(e=new Di(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=UP(s,r,!0,e)&&i}if(i=UP(s=e.g=t,r,!0,e)&&i,i=UP(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=UP(s=e.g=n[o],r,!1,e)&&i}function UP(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&bS(t.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Kr(Zr,Dl),Zr.prototype[ny]=!0,Zr.prototype.removeEventListener=function(t,e,n,r){P$(this,t,e,n,r)},Zr.prototype.N=function(){if(Zr.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)LP(n[r]);delete t.g[e],t.h--}}this.J=null},Zr.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Zr.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var NS=rt.JSON.stringify;function Fve(){var t=FS;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var O$=new class Nve{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Vve,t=>t.reset());class Vve{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Uve(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Bve(t){rt.setTimeout(()=>{throw t},0)}let ry,iy=!1,FS=new class Lve{constructor(){this.h=this.g=null}add(e,n){const r=O$.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},E$=()=>{const t=rt.Promise.resolve(void 0);ry=()=>{t.then(jve)}};var jve=()=>{for(var t;t=Fve();){try{t.h.call(t.g)}catch(n){Bve(n)}var e=O$;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}iy=!1};function BP(t,e){Zr.call(this),this.h=t||1,this.g=e||rt,this.j=Ai(this.qb,this),this.l=Date.now()}function LS(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function VS(t,e,n){if("function"==typeof t)n&&(t=Ai(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ai(t.handleEvent,t)}return 2147483647<Number(e)?-1:rt.setTimeout(t,e||0)}function I$(t){t.g=VS(()=>{t.g=null,t.i&&(t.i=!1,I$(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Kr(BP,Zr),(Ie=BP.prototype).ga=!1,Ie.T=null,Ie.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ui(this,"tick"),this.ga&&(LS(this),this.start()))}},Ie.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ie.N=function(){BP.$.N.call(this),LS(this),delete this.g};class $ve extends Dl{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:I$(this)}N(){super.N(),this.g&&(rt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oy(t){Dl.call(this),this.h=t,this.g={}}Kr(oy,Dl);var b$=[];function T$(t,e,n,r){Array.isArray(n)||(n&&(b$[0]=n.toString()),n=b$);for(var i=0;i<n.length;i++){var o=v$(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function A$(t){IS(t.g,function(e,n){this.g.hasOwnProperty(n)&&SS(e)},t),t.g={}}function jP(){this.g=!0}function qp(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Gve(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return NS(n)}catch{return e}}(t,n)+(r?" "+r:"")})}oy.prototype.N=function(){oy.$.N.call(this),A$(this)},oy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},jP.prototype.Ea=function(){this.g=!1},jP.prototype.info=function(){};var dd={},D$=null;function $P(){return D$=D$||new Zr}function S$(t){Di.call(this,dd.Ta,t)}function sy(t){const e=$P();ui(e,new S$(e))}function x$(t,e){Di.call(this,dd.STAT_EVENT,t),this.stat=e}function eo(t){const e=$P();ui(e,new x$(e,t))}function R$(t,e){Di.call(this,dd.Ua,t),this.size=e}function ay(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return rt.setTimeout(function(){t()},e)}dd.Ta="serverreachability",Kr(S$,Di),dd.STAT_EVENT="statevent",Kr(x$,Di),dd.Ua="timingevent",Kr(R$,Di);var HP={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},k$={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function US(){}function F$(){}US.prototype.h=null;var $S,cy={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function BS(){Di.call(this,"d")}function jS(){Di.call(this,"c")}function zP(){}function ly(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new oy(this),this.P=qve,this.V=new BP(t=CS?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new L$}function L$(){this.i=null,this.g="",this.h=!1}Kr(BS,Di),Kr(jS,Di),Kr(zP,US),zP.prototype.g=function(){return new XMLHttpRequest},zP.prototype.i=function(){return{}},$S=new zP;var qve=45e3,HS={},WP={};function zS(t,e,n){t.L=1,t.v=ZP(dc(e)),t.s=n,t.S=!0,V$(t,null)}function V$(t,e){t.G=Date.now(),uy(t),t.A=dc(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),K$(n.i,"t",r),t.C=0,n=t.l.J,t.h=new L$,t.g=y8(t.l,n?e:null,!t.s),0<t.O&&(t.M=new $ve(Ai(t.Pa,t,t.g),t.O)),T$(t.U,t.g,"readystatechange",t.nb),e=t.I?_$(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),sy(),function Hve(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var h=l[0];l=l[1];var f=h.split("_");s=2<=f.length&&"type"==f[1]?s+(h+"=")+l+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.W,t.s)}function U$(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function B$(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Kve(t,n),i==WP){4==e&&(t.o=4,eo(14),r=!1),qp(t.j,t.m,null,"[Incomplete Response]");break}if(i==HS){t.o=4,eo(15),qp(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}qp(t.j,t.m,i,null),WS(t,i)}U$(t)&&i!=WP&&i!=HS&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,eo(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),XS(e),e.M=!0,eo(11))):(qp(t.j,t.m,n,"[Invalid Chunked Response]"),hd(t),dy(t))}function Kve(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?WP:(n=Number(e.substring(n,r)),isNaN(n)?HS:(r+=1)+n>e.length?WP:(e=e.slice(r,r+n),t.C=r+n,e))}function uy(t){t.Y=Date.now()+t.P,j$(t,t.P)}function j$(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=ay(Ai(t.lb,t),e)}function GP(t){t.B&&(rt.clearTimeout(t.B),t.B=null)}function dy(t){0==t.l.H||t.J||f8(t.l,t)}function hd(t){GP(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,LS(t.V),A$(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function WS(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||GS(n.i,t)))if(!t.K&&GS(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;tM(n),JP(n)}QS(n),eo(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=ay(Ai(n.ib,n),6e3));if(1>=Q$(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else fd(n,11)}else if((t.K||n.g==t)&&tM(n),!ey(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const h=l[3];null!=h&&(n.ra=h,n.l.info("VER="+n.ra));const f=l[4];null!=f&&(n.Ga=f,n.l.info("SVER="+n.Ga));const y=l[5];null!=y&&"number"==typeof y&&0<y&&(n.L=r=1.5*y,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const v=t.g;if(v){const O=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(O){var o=r.i;o.g||-1==O.indexOf("spdy")&&-1==O.indexOf("quic")&&-1==O.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(qS(o,o.h),o.h=null))}if(r.F){const b=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;b&&(r.Da=b,Dn(r.I,r.F,b))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=t;if((r=n).wa=m8(r,r.J?r.pa:null,r.Y),s.K){X$(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.B&&(GP(a),uy(a)),r.g=s}else h8(r);0<n.j.length&&eM(n)}else"stop"!=l[0]&&"close"!=l[0]||fd(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?fd(n,7):YS(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}sy()}catch{}}function $$(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(kP(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Yve(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(kP(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Zve(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(kP(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(Ie=ly.prototype).setTimeout=function(t){this.P=t},Ie.nb=function(t){t=t.target;const e=this.M;e&&3==ya(t)?e.l():this.Pa(t)},Ie.Pa=function(t){try{if(t==this.g)e:{const h=ya(this.g);var e=this.g.Ia();if(this.g.da(),!(3>h)&&(3!=h||CS||this.g&&(this.h.h||this.g.ja()||s8(this.g)))){this.J||4!=h||7==e||sy(),GP(this);var n=this.g.da();this.ca=n;t:if(U$(this)){var r=s8(this.g);t="";var i=r.length,o=4==ya(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){hd(this),dy(this);var s="";break t}this.h.i=new rt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function zve(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,h,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ey(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,eo(12),hd(this),dy(this);break e}qp(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,WS(this,n)}this.S?(B$(this,h,s),CS&&this.i&&3==h&&(T$(this.U,this.V,"tick",this.mb),this.V.start())):(qp(this.j,this.m,s,null),WS(this,s)),4==h&&hd(this),this.i&&!this.J&&(4==h?f8(this.l,this):(this.i=!1,uy(this)))}else(function fCe(t){const e={};t=(t.g&&2<=ya(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(ey(t[r]))continue;var n=Uve(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}!function xve(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.o=3,eo(12)):(this.o=0,eo(13)),hd(this),dy(this)}}}catch{}},Ie.mb=function(){if(this.g){var t=ya(this.g),e=this.g.ja();this.C<e.length&&(GP(this),B$(this,t,e),this.i&&4!=t&&uy(this))}},Ie.cancel=function(){this.J=!0,hd(this)},Ie.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function Wve(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(sy(),eo(17)),hd(this),this.o=2,dy(this)):j$(this,this.Y-t)};var H$=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pd(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof pd){this.h=t.h,qP(this,t.j),this.s=t.s,this.g=t.g,KP(this,t.m),this.l=t.l;var e=t.i,n=new fy;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),z$(this,n),this.o=t.o}else t&&(e=String(t).match(H$))?(this.h=!1,qP(this,e[1]||"",!0),this.s=hy(e[2]||""),this.g=hy(e[3]||"",!0),KP(this,e[4]),this.l=hy(e[5]||"",!0),z$(this,e[6]||"",!0),this.o=hy(e[7]||"")):(this.h=!1,this.i=new fy(null,this.h))}function dc(t){return new pd(t)}function qP(t,e,n){t.j=n?hy(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function KP(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function z$(t,e,n){e instanceof fy?(t.i=e,function rCe(t,e){e&&!t.j&&(Sl(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(G$(this,r),K$(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=py(e,tCe)),t.i=new fy(e,t.h))}function Dn(t,e,n){t.i.set(e,n)}function ZP(t){return Dn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function hy(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function py(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Xve),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Xve(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}pd.prototype.toString=function(){var t=[],e=this.j;e&&t.push(py(e,W$,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(py(e,W$,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(py(n,"/"==n.charAt(0)?eCe:Jve,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",py(n,nCe)),t.join("")};var W$=/[#\/\?@]/g,Jve=/[#\?:]/g,eCe=/[#\?]/g,tCe=/[#\?@]/g,nCe=/#/g;function fy(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Sl(t){t.g||(t.g=new Map,t.h=0,t.i&&function Qve(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function G$(t,e){Sl(t),e=Kp(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function q$(t,e){return Sl(t),e=Kp(t,e),t.g.has(e)}function K$(t,e,n){G$(t,e),0<n.length&&(t.i=null,t.g.set(Kp(t,e),yS(n)),t.h+=n.length)}function Kp(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Z$(t){this.l=t||oCe,t=rt.PerformanceNavigationTiming?0<(t=rt.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(rt.g&&rt.g.Ka&&rt.g.Ka()&&rt.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ie=fy.prototype).add=function(t,e){Sl(this),this.i=null,t=Kp(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Ie.forEach=function(t,e){Sl(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},Ie.ta=function(){Sl(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n},Ie.Z=function(t){Sl(this);let e=[];if("string"==typeof t)q$(this,t)&&(e=e.concat(this.g.get(Kp(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},Ie.set=function(t,e){return Sl(this),this.i=null,q$(this,t=Kp(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Ie.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},Ie.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};var oCe=10;function Y$(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Q$(t){return t.h?1:t.g?t.g.size:0}function GS(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function qS(t,e){t.g?t.g.add(e):t.h=e}function X$(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function J$(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return yS(t.i)}Z$.prototype.cancel=function(){if(this.i=J$(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var sCe=class{stringify(t){return rt.JSON.stringify(t,void 0)}parse(t){return rt.JSON.parse(t,void 0)}};function aCe(){this.g=new sCe}function cCe(t,e,n){const r=n||"";try{$$(t,function(i,o){let s=i;Jm(i)&&(s=NS(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function YP(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function gy(t){this.l=t.ec||null,this.j=t.ob||!1}function QP(t,e){Zr.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=KS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Kr(gy,US),gy.prototype.g=function(){return new QP(this.l,this.j)},gy.prototype.i=function(t){return function(){return t}}({}),Kr(QP,Zr);var KS=0;function e8(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function _y(t){t.readyState=4,t.l=null,t.j=null,t.A=null,my(t)}function my(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Ie=QP.prototype).open=function(t,e){if(this.readyState!=KS)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,my(this)},Ie.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||rt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ie.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,_y(this)),this.readyState=KS},Ie.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,my(this)),this.g&&(this.readyState=3,my(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof rt.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;e8(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},Ie.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?_y(this):my(this),3==this.readyState&&e8(this)}},Ie.Za=function(t){this.g&&(this.response=this.responseText=t,_y(this))},Ie.Ya=function(t){this.g&&(this.response=t,_y(this))},Ie.ka=function(){this.g&&_y(this)},Ie.setRequestHeader=function(t,e){this.v.append(t,e)},Ie.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Ie.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(QP.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var uCe=rt.JSON.parse;function rr(t){Zr.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=t8,this.L=this.M=!1}Kr(rr,Zr);var t8="",dCe=/^https?$/i,hCe=["POST","PUT"];function n8(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,r8(t),XP(t)}function r8(t){t.F||(t.F=!0,ui(t,"complete"),ui(t,"error"))}function i8(t){if(t.h&&typeof _S<"u"&&(!t.C[1]||4!=ya(t)||2!=t.da()))if(t.v&&4==ya(t))VS(t.La,0,t);else if(ui(t,"readystatechange"),4==ya(t)){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===s){var i=String(t.I).match(H$)[1]||null;!i&&rt.self&&rt.self.location&&(i=rt.self.location.protocol.slice(0,-1)),r=!dCe.test(i?i.toLowerCase():"")}n=r}if(n)ui(t,"complete"),ui(t,"success");else{t.m=6;try{var o=2<ya(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",r8(t)}}finally{XP(t)}}}function XP(t,e){if(t.g){o8(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ui(t,"ready");try{n.onreadystatechange=r}catch{}}}function o8(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(rt.clearTimeout(t.A),t.A=null)}function ya(t){return t.g?t.g.readyState:0}function s8(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case t8:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function a8(t){let e="";return IS(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function ZS(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=a8(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Dn(t,e,n))}function yy(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function c8(t){this.Ga=0,this.j=[],this.l=new jP,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=yy("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=yy("baseRetryDelayMs",5e3,t),this.hb=yy("retryDelaySeedMs",1e4,t),this.eb=yy("forwardChannelMaxRetries",2,t),this.xa=yy("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Z$(t&&t.concurrentRequestLimit),this.Ja=new aCe,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function YS(t){if(l8(t),3==t.H){var e=t.W++,n=dc(t.I);if(Dn(n,"SID",t.K),Dn(n,"RID",e),Dn(n,"TYPE","terminate"),vy(t,n),(e=new ly(t,t.l,e)).L=2,e.v=ZP(dc(n)),n=!1,rt.navigator&&rt.navigator.sendBeacon)try{n=rt.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&rt.Image&&((new Image).src=e.v,n=!0),n||(e.g=y8(e.l,null),e.g.ha(e.v)),e.G=Date.now(),uy(e)}_8(t)}function JP(t){t.g&&(XS(t),t.g.cancel(),t.g=null)}function l8(t){JP(t),t.u&&(rt.clearTimeout(t.u),t.u=null),tM(t),t.i.cancel(),t.m&&("number"==typeof t.m&&rt.clearTimeout(t.m),t.m=null)}function eM(t){if(!Y$(t.i)&&!t.m){t.m=!0;var e=t.Na;ry||E$(),iy||(ry(),iy=!0),FS.add(e,t),t.C=0}}function u8(t,e){var n;n=e?e.m:t.W++;const r=dc(t.I);Dn(r,"SID",t.K),Dn(r,"RID",n),Dn(r,"AID",t.V),vy(t,r),t.o&&t.s&&ZS(r,t.o,t.s),n=new ly(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=d8(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),qS(t.i,n),zS(n,r,e)}function vy(t,e){t.na&&IS(t.na,function(n,r){Dn(e,r,n)}),t.h&&$$({},function(n,r){Dn(e,r,n)})}function d8(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ai(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];-1==o?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let l=i[c].g;const h=i[c].map;if(l-=o,0>l)o=Math.max(0,i[c].g-100),a=!1;else try{cCe(h,s,"req"+l+"_")}catch{r&&r(h)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function h8(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ry||E$(),iy||(ry(),iy=!0),FS.add(e,t),t.A=0}}function QS(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=ay(Ai(t.Ma,t),g8(t,t.A)),t.A++,0))}function XS(t){null!=t.B&&(rt.clearTimeout(t.B),t.B=null)}function p8(t){t.g=new ly(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=dc(t.wa);Dn(e,"RID","rpc"),Dn(e,"SID",t.K),Dn(e,"AID",t.V),Dn(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Dn(e,"TO",t.qa),Dn(e,"TYPE","xmlhttp"),vy(t,e),t.o&&t.s&&ZS(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=ZP(dc(e)),n.s=null,n.S=!0,V$(n,t)}function tM(t){null!=t.v&&(rt.clearTimeout(t.v),t.v=null)}function f8(t,e){var n=null;if(t.g==e){tM(t),XS(t),t.g=null;var r=2}else{if(!GS(t.i,e))return;n=e.F,X$(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;ui(r=$P(),new R$(r,n)),eM(t)}else h8(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function gCe(t,e){return!(Q$(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=ay(Ai(t.Na,t,e),g8(t,t.C)),t.C++,0)))}(t,e)||2==r&&QS(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:fd(t,5);break;case 4:fd(t,10);break;case 3:fd(t,6);break;default:fd(t,2)}}function g8(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function fd(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Ai(t.pb,t);n||(n=new pd("//www.google.com/images/cleardot.gif"),rt.location&&"http"==rt.location.protocol||qP(n,"https"),ZP(n)),function lCe(t,e){const n=new jP;if(rt.Image){const r=new Image;r.onload=NP(YP,n,r,"TestLoadImage: loaded",!0,e),r.onerror=NP(YP,n,r,"TestLoadImage: error",!1,e),r.onabort=NP(YP,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=NP(YP,n,r,"TestLoadImage: timeout",!1,e),rt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else eo(2);t.H=0,t.h&&t.h.za(e),_8(t),l8(t)}function _8(t){if(t.H=0,t.ma=[],t.h){const e=J$(t.i);(0!=e.length||0!=t.j.length)&&(d$(t.ma,e),d$(t.ma,t.j),t.i.i.length=0,yS(t.j),t.j.length=0),t.h.ya()}}function m8(t,e,n){var r=n instanceof pd?dc(n):new pd(n);if(""!=r.g)e&&(r.g=e+"."+r.g),KP(r,r.m);else{var i=rt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new pd(null);r&&qP(o,r),e&&(o.g=e),i&&KP(o,i),n&&(o.l=n),r=o}return e=t.Da,(n=t.F)&&e&&Dn(r,n,e),Dn(r,"VER",t.ra),vy(t,r),r}function y8(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new rr(n&&t.Ha&&!t.va?new gy({ob:!0}):t.va)).Oa(t.J),e}function v8(){}function nM(){if(Gp&&!(10<=Number(Tve)))throw Error("Environmental error: no available transport.")}function Fo(t,e){Zr.call(this),this.g=new c8(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ey(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ey(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Zp(this)}function C8(t){BS.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function w8(){jS.call(this),this.status=1}function Zp(t){this.g=t}function Us(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function JS(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var o=t.g[3],s=(e=t.g[0])+(o^(n=t.g[1])&((i=t.g[2])^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=n+((s=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function Jt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}(Ie=rr.prototype).Oa=function(t){this.M=t},Ie.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():$S.g(),this.C=function N$(t){return t.h||(t.h=t.i())}(this.u?this.u:$S),this.g.onreadystatechange=Ai(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void n8(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())n.set(o,r.get(o))}r=Array.from(n.keys()).find(o=>"content-type"==o.toLowerCase()),i=rt.FormData&&t instanceof rt.FormData,!(0<=u$(hCe,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{o8(this),0<this.B&&((this.L=function pCe(t){return Gp&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ai(this.ua,this)):this.A=VS(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){n8(this,o)}},Ie.ua=function(){typeof _S<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ui(this,"timeout"),this.abort(8))},Ie.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ui(this,"complete"),ui(this,"abort"),XP(this))},Ie.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),XP(this,!0)),rr.$.N.call(this)},Ie.La=function(){this.s||(this.G||this.v||this.l?i8(this):this.kb())},Ie.kb=function(){i8(this)},Ie.isActive=function(){return!!this.g},Ie.da=function(){try{return 2<ya(this)?this.g.status:-1}catch{return-1}},Ie.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ie.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),uCe(e)}},Ie.Ia=function(){return this.m},Ie.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ie=c8.prototype).ra=8,Ie.H=1,Ie.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new ly(this,this.l,t);let o=this.s;if(this.U&&(o?(o=_$(o),y$(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=d8(this,i,e),Dn(n=dc(this.I),"RID",t),Dn(n,"CVER",22),this.F&&Dn(n,"X-HTTP-Session-Id",this.F),vy(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(a8(o)))+"&"+e:this.o&&ZS(n,this.o,o)),qS(this.i,i),this.bb&&Dn(n,"TYPE","init"),this.P?(Dn(n,"$req",e),Dn(n,"SID","null"),i.aa=!0,zS(i,n,null)):zS(i,n,e),this.H=2}}else 3==this.H&&(t?u8(this,t):0==this.j.length||Y$(this.i)||u8(this))},Ie.Ma=function(){if(this.u=null,p8(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ay(Ai(this.jb,this),t)}},Ie.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,eo(10),JP(this),p8(this))},Ie.ib=function(){null!=this.v&&(this.v=null,JP(this),QS(this),eo(19))},Ie.pb=function(t){t?(this.l.info("Successfully pinged google.com"),eo(2)):(this.l.info("Failed to ping google.com"),eo(1))},Ie.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ie=v8.prototype).Ba=function(){},Ie.Aa=function(){},Ie.za=function(){},Ie.ya=function(){},Ie.isActive=function(){return!0},Ie.Va=function(){},nM.prototype.g=function(t,e){return new Fo(t,e)},Kr(Fo,Zr),Fo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;eo(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=m8(t,null,t.Y),eM(t)},Fo.prototype.close=function(){YS(this.g)},Fo.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=NS(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&eM(e)},Fo.prototype.N=function(){this.g.h=null,delete this.j,YS(this.g),delete this.g,Fo.$.N.call(this)},Kr(C8,BS),Kr(w8,jS),Kr(Zp,v8),Zp.prototype.Ba=function(){ui(this.g,"a")},Zp.prototype.Aa=function(t){ui(this.g,new C8(t))},Zp.prototype.za=function(t){ui(this.g,new w8)},Zp.prototype.ya=function(){ui(this.g,"b")},Kr(Us,function _Ce(){this.blockSize=-1}),Us.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Us.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=n;)JS(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){JS(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){JS(this,r),i=0;break}}this.h=i,this.i+=e},Us.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var mCe={};function ex(t){return-128<=t&&128>t?function Eve(t,e){var n=mCe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Jt([0|e],0>e?-1:0)}):new Jt([0|t],0>t?-1:0)}function va(t){if(isNaN(t)||!isFinite(t))return Yp;if(0>t)return di(va(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=tx;return new Jt(e,0)}var tx=4294967296,Yp=ex(0),nx=ex(1),M8=ex(16777216);function hc(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function hs(t){return-1==t.h}function di(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Jt(n,~t.h).add(nx)}function rM(t,e){return t.add(di(e))}function iM(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Cy(t,e){this.g=t,this.h=e}function oM(t,e){if(hc(e))throw Error("division by zero");if(hc(t))return new Cy(Yp,Yp);if(hs(t))return e=oM(di(t),e),new Cy(di(e.g),di(e.h));if(hs(e))return e=oM(t,di(e)),new Cy(di(e.g),e.h);if(30<t.g.length){if(hs(t)||hs(e))throw Error("slowDivide_ only works with positive integers.");for(var n=nx,r=e;0>=r.X(t);)n=O8(n),r=O8(r);var i=Qp(n,1),o=Qp(r,1);for(r=Qp(r,2),n=Qp(n,2);!hc(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Qp(r,1),n=Qp(n,1)}return e=rM(t,i.R(e)),new Cy(i,e)}for(i=Yp;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=va(n)).R(e);hs(s)||0<s.X(t);)s=(o=va(n-=r)).R(e);hc(o)&&(o=nx),i=i.add(o),t=rM(t,s)}return new Cy(i,t)}function O8(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Jt(n,t.h)}function Qp(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Jt(i,t.h)}(Ie=Jt.prototype).ea=function(){if(hs(this))return-di(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:tx+r)*e,e*=tx}return t},Ie.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(hc(this))return"0";if(hs(this))return"-"+di(this).toString(t);for(var e=va(Math.pow(t,6)),n=this,r="";;){var i=oM(n,e).g,o=((0<(n=rM(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(hc(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},Ie.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},Ie.X=function(t){return hs(t=rM(this,t))?-1:hc(t)?0:1},Ie.abs=function(){return hs(this)?di(this):this},Ie.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&t.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,n[i]=(s&=65535)<<16|(o&=65535)}return new Jt(n,-2147483648&n[n.length-1]?-1:0)},Ie.R=function(t){if(hc(this)||hc(t))return Yp;if(hs(this))return hs(t)?di(this).R(di(t)):di(di(this).R(t));if(hs(t))return di(this.R(di(t)));if(0>this.X(M8)&&0>t.X(M8))return va(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=s*c,iM(n,2*r+2*i),n[2*r+2*i+1]+=o*c,iM(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,iM(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,iM(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Jt(n,0)},Ie.gb=function(t){return oM(this,t).h},Ie.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Jt(n,this.h&t.h)},Ie.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Jt(n,this.h|t.h)},Ie.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Jt(n,this.h^t.h)},nM.prototype.createWebChannel=nM.prototype.g,Fo.prototype.send=Fo.prototype.u,Fo.prototype.open=Fo.prototype.m,Fo.prototype.close=Fo.prototype.close,HP.NO_ERROR=0,HP.TIMEOUT=8,HP.HTTP_ERROR=6,k$.COMPLETE="complete",F$.EventType=cy,cy.OPEN="a",cy.CLOSE="b",cy.ERROR="c",cy.MESSAGE="d",Zr.prototype.listen=Zr.prototype.O,rr.prototype.listenOnce=rr.prototype.P,rr.prototype.getLastError=rr.prototype.Sa,rr.prototype.getLastErrorCode=rr.prototype.Ia,rr.prototype.getStatus=rr.prototype.da,rr.prototype.getResponseJson=rr.prototype.Wa,rr.prototype.getResponseText=rr.prototype.ja,rr.prototype.send=rr.prototype.ha,rr.prototype.setWithCredentials=rr.prototype.Oa,Us.prototype.digest=Us.prototype.l,Us.prototype.reset=Us.prototype.reset,Us.prototype.update=Us.prototype.j,Jt.prototype.add=Jt.prototype.add,Jt.prototype.multiply=Jt.prototype.R,Jt.prototype.modulo=Jt.prototype.gb,Jt.prototype.compare=Jt.prototype.X,Jt.prototype.toNumber=Jt.prototype.ea,Jt.prototype.toString=Jt.prototype.toString,Jt.prototype.getBits=Jt.prototype.D,Jt.fromNumber=va,Jt.fromString=function P8(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return di(P8(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=va(Math.pow(e,8)),r=Yp,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=va(Math.pow(e,o)),r=r.R(o).add(va(s))):r=(r=r.R(n)).add(va(s))}return r};var yCe=Vs.createWebChannelTransport=function(){return new nM},vCe=Vs.getStatEventTarget=function(){return $P()},rx=Vs.ErrorCode=HP,CCe=Vs.EventType=k$,wCe=Vs.Event=dd,E8=Vs.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},PCe=Vs.FetchXmlHttpFactory=gy,sM=Vs.WebChannel=F$,MCe=Vs.XhrIo=rr,OCe=Vs.Md5=Us,Xp=Vs.Integer=Jt;const I8="@firebase/firestore";class Yr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yr.UNAUTHENTICATED=new Yr(null),Yr.GOOGLE_CREDENTIALS=new Yr("google-credentials-uid"),Yr.FIRST_PARTY=new Yr("first-party-uid"),Yr.MOCK_USER=new Yr("mock-user");let Jp="10.5.2";const xl=new Ei.Yd("@firebase/firestore");function ef(){return xl.logLevel}function pe(t,...e){if(xl.logLevel<=Ei.in.DEBUG){const n=e.map(ix);xl.debug(`Firestore (${Jp}): ${t}`,...n)}}function gr(t,...e){if(xl.logLevel<=Ei.in.ERROR){const n=e.map(ix);xl.error(`Firestore (${Jp}): ${t}`,...n)}}function mo(t,...e){if(xl.logLevel<=Ei.in.WARN){const n=e.map(ix);xl.warn(`Firestore (${Jp}): ${t}`,...n)}}function ix(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function Re(t="Unexpected state"){const e=`FIRESTORE (${Jp}) INTERNAL ASSERTION FAILED: `+t;throw gr(e),new Error(e)}function je(t,e){t||Re()}function Ce(t,e){return t}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends E.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ur{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class b8{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bCe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yr.UNAUTHENTICATED))}shutdown(){}}class TCe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ACe{constructor(e){this.t=e,this.currentUser=Yr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const o=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ur,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable((0,S.Z)(function*(){yield l.promise,yield o(r.currentUser)}))},c=l=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ur)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je("string"==typeof r.accessToken),new b8(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return je(null===e||"string"==typeof e),new Yr(e)}}class DCe{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Yr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class SCe{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new DCe(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Yr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class T8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xCe{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{null!=o.error&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,pe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(je("string"==typeof n.token),this.R=n.token,new T8(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function RCe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class A8{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=RCe(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function Je(t,e){return t<e?-1:t>e?1:0}function tf(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function D8(t){return t+"\0"}class Bn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new de(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Bn.fromMillis(Date.now())}static fromDate(e){return Bn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Bn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class He{constructor(e){this.timestamp=e}static fromTimestamp(e){return new He(e)}static min(){return new He(new Bn(0,0))}static max(){return new He(new Bn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class wy{constructor(e,n,r){void 0===n?n=0:n>e.length&&Re(),void 0===r?r=e.length-n:r>e.length-n&&Re(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===wy.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof wy?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ut extends wy{construct(e,n,r){return new Ut(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ut(n)}static emptyPath(){return new Ut([])}}const kCe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sn extends wy{construct(e,n,r){return new Sn(e,n,r)}static isValidIdentifier(e){return kCe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Sn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new de(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new de(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new de(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new de(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sn(n)}static emptyPath(){return new Sn([])}}class we{constructor(e){this.path=e}static fromPath(e){return new we(Ut.fromString(e))}static fromName(e){return new we(Ut.fromString(e).popFirst(5))}static empty(){return new we(Ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ut.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new Ut(e.slice()))}}class nf{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function ox(t){return t.fields.find(e=>2===e.kind)}function gd(t){return t.fields.filter(e=>2!==e.kind)}nf.UNKNOWN_ID=-1;class _d{constructor(e,n){this.fieldPath=e,this.kind=n}}class rf{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new rf(0,Lo.min())}}function S8(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=He.fromTimestamp(1e9===r?new Bn(n+1,0):new Bn(n,r));return new Lo(i,we.empty(),e)}function x8(t){return new Lo(t.readTime,t.key,-1)}class Lo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Lo(He.min(),we.empty(),-1)}static max(){return new Lo(He.max(),we.empty(),-1)}}function sx(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=we.comparator(t.documentKey,e.documentKey),0!==n?n:Je(t.largestBatchId,e.largestBatchId))}const R8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class k8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Rl(t){return ax.apply(this,arguments)}function ax(){return ax=(0,S.Z)(function*(t){if(t.code!==Z.FAILED_PRECONDITION||t.message!==R8)throw t;pe("LocalStore","Unexpectedly lost primary lease")}),ax.apply(this,arguments)}class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(i=>i?H.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new H((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const l=c;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new H((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}class aM{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Ur,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Py(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=cx(r.target.error);this.V.reject(new Py(e,i))}}static open(e,n,r,i){try{return new aM(n,e.transaction(i,r))}catch(o){throw new Py(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(pe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new VCe(n)}}class Bs{constructor(e,n,r){this.name=e,this.version=n,this.p=r,12.2===Bs.S((0,E.z$)())&&gr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return pe("SimpleDb","Removing database:",e),md(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,E.hl)())return!1;if(Bs.C())return!0;const e=(0,E.z$)(),n=Bs.S(e),r=0<n&&n<10,i=Bs.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var n=this;return(0,S.Z)(function*(){return n.db||(pe("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,i)=>{const o=indexedDB.open(n.name,n.version);o.onsuccess=s=>{r(s.target.result)},o.onblocked=()=>{i(new Py(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;i("VersionError"===a.name?new de(Z.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new de(Z.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Py(e,a))},o.onupgradeneeded=s=>{pe("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',s.oldVersion),n.p.N(s.target.result,o.transaction,s.oldVersion,n.version).next(()=>{pe("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=r=>n.B(r)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){var o=this;return(0,S.Z)(function*(){const s="readonly"===n;let a=0;for(;;){++a;try{o.db=yield o.O(e);const c=aM.open(o.db,e,s?"readonly":"readwrite",r),l=i(c).next(h=>(c.g(),h)).catch(h=>(c.abort(h),H.reject(h))).toPromise();return l.catch(()=>{}),yield c.m,l}catch(c){const l=c,h="FirebaseError"!==l.name&&a<3;if(pe("SimpleDb","Transaction failed with error:",l.message,"Retrying:",h),o.close(),!h)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class LCe{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return md(this.k.delete())}}class Py extends de{constructor(e,n){super(Z.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function kl(t){return"IndexedDbTransactionError"===t.name}class VCe{constructor(e){this.store=e}put(e,n){let r;return void 0!==n?(pe("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(pe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),md(r)}add(e){return pe("SimpleDb","ADD",this.store.name,e,e),md(this.store.add(e))}get(e){return md(this.store.get(e)).next(n=>(void 0===n&&(n=null),pe("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return pe("SimpleDb","DELETE",this.store.name,e),md(this.store.delete(e))}count(){return pe("SimpleDb","COUNT",this.store.name),md(this.store.count())}W(e,n){const r=this.options(e,n);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),o=[];return this.G(i,(s,a)=>{o.push(a)}).next(()=>o)}{const i=this.store.getAll(r.range);return new H((o,s)=>{i.onerror=a=>{s(a.target.error)},i.onsuccess=a=>{o(a.target.result)}})}}j(e,n){const r=this.store.getAll(e,null===n?void 0:n);return new H((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){pe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new H((r,i)=>{n.onerror=o=>{const s=cx(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){const r=[];return new H((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const c=new LCe(a),l=n(a.primaryKey,a.value,c);if(l instanceof H){const h=l.catch(f=>(c.done(),H.reject(f)));r.push(h)}c.isDone?i():null===c.$?a.continue():a.continue(c.$)}}).next(()=>H.waitFor(r))}options(e,n){let r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function md(t){return new H((e,n)=>{t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{const i=cx(r.target.error);n(i)}})}let N8=!1;function cx(t){const e=Bs.S((0,E.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new de("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return N8||(N8=!0,setTimeout(()=>{throw r},0)),r}}return t}class UCe{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var n=this;pe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,S.Z)(function*(){n.task=null;try{pe("IndexBackiller",`Documents written: ${yield n.X.te()}`)}catch(r){kl(r)?pe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Rl(r)}yield n.ee(6e4)}))}}class BCe{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){var n=this;return(0,S.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>n.ne(r,e))})()}ne(e,n){const r=new Set;let i=n,o=!0;return H.doWhile(()=>!0===o&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!r.has(s))return pe("IndexBackiller",`Processing collection: ${s}`),this.re(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.ie(i,o)).next(a=>(pe("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,o)=>{const s=x8(o);sx(s,r)>0&&(r=s)}),new Lo(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}let Vo=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function My(t){return null==t}function Oy(t){return 0===t&&1/t==-1/0}function F8(t){return"number"==typeof t&&Number.isInteger(t)&&!Oy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Si(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=L8(e)),e=jCe(t.get(n),e);return L8(e)}function jCe(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function L8(t){return t+"\x01\x01"}function Ca(t){const e=t.length;if(je(e>=2),2===e)return je("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Ut.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const s=t.indexOf("\x01",o);switch((s<0||s>n)&&Re(),t.charAt(s+1)){case"\x01":const a=t.substring(o,s);let c;0===i.length?c=a:(i+=a,c=i,i=""),r.push(c);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Re()}o=s+2}return new Ut(r)}const V8=["userId","batchId"];function cM(t,e){return[t,Si(e)]}function U8(t,e,n){return[t,Si(e),n]}const $Ce={},HCe=["prefixPath","collectionGroup","readTime","documentId"],zCe=["prefixPath","collectionGroup","documentId"],WCe=["collectionGroup","readTime","prefixPath","documentId"],GCe=["canonicalId","targetId"],qCe=["targetId","path"],KCe=["path","targetId"],ZCe=["collectionId","parent"],YCe=["indexId","uid"],QCe=["uid","sequenceNumber"],XCe=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],JCe=["indexId","uid","orderedDocumentKey"],e0e=["userId","collectionPath","documentId"],t0e=["userId","collectionPath","largestBatchId"],n0e=["userId","collectionGroup","largestBatchId"],B8=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],r0e=[...B8,"documentOverlays"],j8=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],$8=j8,i0e=[...$8,"indexConfiguration","indexState","indexEntries"];class lx extends k8{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function Qr(t,e){const n=Ce(t);return Bs.M(n.ae,e)}function H8(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Nl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function z8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Pn{constructor(e,n){this.comparator=e,this.root=n||hi.EMPTY}insert(e,n){return new Pn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,hi.BLACK,null,null))}remove(e){return new Pn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lM(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lM(this.root,e,this.comparator,!1)}getReverseIterator(){return new lM(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lM(this.root,e,this.comparator,!0)}}class lM{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hi{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??hi.RED,this.left=i??hi.EMPTY,this.right=o??hi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new hi(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return hi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return hi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}hi.EMPTY=null,hi.RED=!0,hi.BLACK=!1,hi.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,n,r,i,o){return this}insert(e,n,r){return new hi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class sn{constructor(e){this.comparator=e,this.data=new Pn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new W8(this.data.getIterator())}getIteratorFrom(e){return new W8(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof sn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new sn(this.comparator);return n.data=e,n}}class W8{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function sf(t){return t.hasNext()?t.getNext():void 0}class yo{constructor(e){this.fields=e,e.sort(Sn.comparator)}static empty(){return new yo([])}unionWith(e){let n=new sn(Sn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new yo(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return tf(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class G8 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Br{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new G8("Invalid base64 string: "+o):o}}(e);return new Br(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Br(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Br.EMPTY_BYTE_STRING=new Br("");const s0e=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fl(t){if(je(!!t),"string"==typeof t){let e=0;const n=s0e.exec(t);if(je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ir(t.seconds),nanos:ir(t.nanos)}}function ir(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function pc(t){return"string"==typeof t?Br.fromBase64String(t):Br.fromUint8Array(t)}function uM(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function dM(t){const e=t.mapValue.fields.__previous_value__;return uM(e)?dM(e):e}function Ey(t){const e=Fl(t.mapValue.fields.__local_write_time__.timestampValue);return new Bn(e.seconds,e.nanos)}class a0e{constructor(e,n,r,i,o,s,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class Ll{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ll("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ll&&e.projectId===this.projectId&&e.database===this.database}}const Vl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},hM={nullValue:"NULL_VALUE"};function Ul(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?uM(t)?4:Y8(t)?9007199254740991:10:Re()}function wa(t,e){if(t===e)return!0;const n=Ul(t);if(n!==Ul(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ey(t).isEqual(Ey(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Fl(i.timestampValue),a=Fl(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return o=e,pc(t.bytesValue).isEqual(pc(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ir(i.geoPointValue.latitude)===ir(o.geoPointValue.latitude)&&ir(i.geoPointValue.longitude)===ir(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ir(i.integerValue)===ir(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=ir(i.doubleValue),a=ir(o.doubleValue);return s===a?Oy(s)===Oy(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return tf(t.arrayValue.values||[],e.arrayValue.values||[],wa);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(H8(s)!==H8(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===a[c]||!wa(s[c],a[c])))return!1;return!0}(t,e);default:return Re()}var o}function Iy(t,e){return void 0!==(t.values||[]).find(n=>wa(n,e))}function Bl(t,e){if(t===e)return 0;const n=Ul(t),r=Ul(e);if(n!==r)return Je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Je(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=ir(o.integerValue||o.doubleValue),c=ir(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return q8(t.timestampValue,e.timestampValue);case 4:return q8(Ey(t),Ey(e));case 5:return Je(t.stringValue,e.stringValue);case 6:return function(o,s){const a=pc(o),c=pc(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){const h=Je(a[l],c[l]);if(0!==h)return h}return Je(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Je(ir(o.latitude),ir(s.latitude));return 0!==a?a:Je(ir(o.longitude),ir(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],c=s.values||[];for(let l=0;l<a.length&&l<c.length;++l){const h=Bl(a[l],c[l]);if(h)return h}return Je(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Vl.mapValue&&s===Vl.mapValue)return 0;if(o===Vl.mapValue)return 1;if(s===Vl.mapValue)return-1;const a=o.fields||{},c=Object.keys(a),l=s.fields||{},h=Object.keys(l);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const y=Je(c[f],h[f]);if(0!==y)return y;const v=Bl(a[c[f]],l[h[f]]);if(0!==v)return v}return Je(c.length,h.length)}(t.mapValue,e.mapValue);default:throw Re()}}function q8(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Je(t,e);const n=Fl(t),r=Fl(e),i=Je(n.seconds,r.seconds);return 0!==i?i:Je(n.nanos,r.nanos)}function af(t){return ux(t)}function ux(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Fl(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?pc(t.bytesValue).toBase64():"referenceValue"in t?we.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=ux(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${ux(n.fields[s])}`;return i+"}"}(t.mapValue):Re()}function yd(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dx(t){return!!t&&"integerValue"in t}function by(t){return!!t&&"arrayValue"in t}function K8(t){return!!t&&"nullValue"in t}function Z8(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fM(t){return!!t&&"mapValue"in t}function Ty(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Nl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ty(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ty(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Y8(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function c0e(t){return"nullValue"in t?hM:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?yd(Ll.empty(),we.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Re()}function l0e(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?yd(Ll.empty(),we.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Vl:Re()}function Q8(t,e){const n=Bl(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function X8(t,e){const n=Bl(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class pi{constructor(e){this.value=e}static empty(){return new pi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!fM(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ty(n)}setAll(e){let n=Sn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ty(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());fM(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];fM(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Nl(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new pi(Ty(this.value))}}function J8(t){const e=[];return Nl(t.fields,(n,r)=>{const i=new Sn([n]);if(fM(r)){const o=J8(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new yo(e)}class xn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new xn(e,0,He.min(),He.min(),He.min(),pi.empty(),0)}static newFoundDocument(e,n,r,i){return new xn(e,1,n,He.min(),r,i,0)}static newNoDocument(e,n){return new xn(e,2,n,He.min(),He.min(),pi.empty(),0)}static newUnknownDocument(e,n){return new xn(e,3,n,He.min(),He.min(),pi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(He.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class jl{constructor(e,n){this.position=e,this.inclusive=n}}function eH(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?we.comparator(we.fromName(s.referenceValue),n.key):Bl(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function tH(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!wa(t.position[n],e.position[n]))return!1;return!0}class Ay{constructor(e,n="asc"){this.field=e,this.dir=n}}function u0e(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class nH{}class St extends nH{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new d0e(e,n,r):"array-contains"===n?new f0e(e,r):"in"===n?new cH(e,r):"not-in"===n?new g0e(e,r):"array-contains-any"===n?new _0e(e,r):new St(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new h0e(e,r):new p0e(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Bl(n,this.value)):null!==n&&Ul(this.value)===Ul(n)&&this.matchesComparison(Bl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class en extends nH{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new en(e,n)}matches(e){return cf(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function cf(t){return"and"===t.op}function hx(t){return"or"===t.op}function px(t){return rH(t)&&cf(t)}function rH(t){for(const e of t.filters)if(e instanceof en)return!1;return!0}function fx(t){if(t instanceof St)return t.field.canonicalString()+t.op.toString()+af(t.value);if(px(t))return t.filters.map(e=>fx(e)).join(",");{const e=t.filters.map(n=>fx(n)).join(",");return`${t.op}(${e})`}}function iH(t,e){return t instanceof St?(r=t,(i=e)instanceof St&&r.op===i.op&&r.field.isEqual(i.field)&&wa(r.value,i.value)):t instanceof en?function(r,i){return i instanceof en&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&iH(s,i.filters[a]),!0)}(t,e):void Re();var r,i}function oH(t,e){const n=t.filters.concat(e);return en.create(n,t.op)}function sH(t){return t instanceof St?`${(n=t).field.canonicalString()} ${n.op} ${af(n.value)}`:t instanceof en?function(n){return n.op.toString()+" {"+n.getFilters().map(sH).join(" ,")+"}"}(t):"Filter";var n}class d0e extends St{constructor(e,n,r){super(e,n,r),this.key=we.fromName(r.referenceValue)}matches(e){const n=we.comparator(e.key,this.key);return this.matchesComparison(n)}}class h0e extends St{constructor(e,n){super(e,"in",n),this.keys=aH(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class p0e extends St{constructor(e,n){super(e,"not-in",n),this.keys=aH(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function aH(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>we.fromName(r.referenceValue))}class f0e extends St{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return by(n)&&Iy(n.arrayValue,this.value)}}class cH extends St{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Iy(this.value.arrayValue,n)}}class g0e extends St{constructor(e,n){super(e,"not-in",n)}matches(e){if(Iy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Iy(this.value.arrayValue,n)}}class _0e extends St{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!by(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Iy(this.value.arrayValue,r))}}class m0e{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function gx(t,e=null,n=[],r=[],i=null,o=null,s=null){return new m0e(t,e,n,r,i,o,s)}function vd(t){const e=Ce(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>fx(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),My(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>af(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>af(r)).join(",")),e.ce=n}return e.ce}function Dy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!u0e(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!iH(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tH(t.startAt,e.startAt)&&tH(t.endAt,e.endAt)}function gM(t){return we.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function _M(t,e){return t.filters.filter(n=>n instanceof St&&n.field.isEqual(e))}function lH(t,e,n){let r=hM,i=!0;for(const o of _M(t,e)){let s=hM,a=!0;switch(o.op){case"<":case"<=":s=c0e(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=hM}Q8({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(null!==n)for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];Q8({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}return{value:r,inclusive:i}}function uH(t,e,n){let r=Vl,i=!0;for(const o of _M(t,e)){let s=Vl,a=!0;switch(o.op){case">=":case">":s=l0e(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Vl}X8({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(null!==n)for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];X8({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}return{value:r,inclusive:i}}class fc{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null}}function dH(t,e,n,r,i,o,s,a){return new fc(t,e,n,r,i,o,s,a)}function lf(t){return new fc(t)}function hH(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function _x(t){return null!==t.collectionGroup}function uf(t){const e=Ce(t);if(null===e.le){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new sn(Sn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Ay(o,r))}),n.has(Sn.keyField().canonicalString())||e.le.push(new Ay(Sn.keyField(),r))}return e.le}function to(t){const e=Ce(t);return e.he||(e.he=function pH(t,e){if("F"===t.limitType)return gx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new Ay(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new jl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new jl(t.startAt.position,t.startAt.inclusive):null;return gx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,uf(t))),e.he}function mx(t,e){const n=t.filters.concat([e]);return new fc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function mM(t,e,n){return new fc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sy(t,e){return Dy(to(t),to(e))&&t.limitType===e.limitType}function fH(t){return`${vd(to(t))}|lt:${t.limitType}`}function df(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>sH(i)).join(", ")}]`),My(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>af(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>af(i)).join(",")),`Target(${r})`}(to(t))}; limitType=${t.limitType})`}function xy(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):we.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of uf(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(s,a,c){const l=eH(s,a,c);return s.inclusive?l<=0:l<0}(r.startAt,uf(r),i)||r.endAt&&!function(s,a,c){const l=eH(s,a,c);return s.inclusive?l>=0:l>0}(r.endAt,uf(r),i)));var r,i}function gH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _H(t){return(e,n)=>{let r=!1;for(const i of uf(t)){const o=y0e(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function y0e(t,e,n){const r=t.field.isKeyField()?we.comparator(e.key,n.key):function(o,s,a){const c=s.data.field(o),l=a.data.field(o);return null!==c&&null!==l?Bl(c,l):Re()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Re()}}class gc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Nl(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return z8(this.inner)}size(){return this.innerSize}}const v0e=new Pn(we.comparator);function vo(){return v0e}const mH=new Pn(we.comparator);function Ry(...t){let e=mH;for(const n of t)e=e.insert(n.key,n);return e}function yH(t){let e=mH;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Pa(){return ky()}function vH(){return ky()}function ky(){return new gc(t=>t.toString(),(t,e)=>t.isEqual(e))}const C0e=new Pn(we.comparator),w0e=new sn(we.comparator);function dt(...t){let e=w0e;for(const n of t)e=e.add(n);return e}const P0e=new sn(Je);function yx(){return P0e}function CH(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oy(e)?"-0":e}}function wH(t){return{integerValue:""+t}}function PH(t,e){return F8(e)?wH(e):CH(t,e)}class yM{constructor(){this._=void 0}}function M0e(t,e,n){return t instanceof hf?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&uM(o)&&(o=dM(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Cd?OH(t,e):t instanceof wd?EH(t,e):function(i,o){const s=MH(i,o),a=IH(s)+IH(i.Ie);return dx(s)&&dx(i.Ie)?wH(a):CH(i.serializer,a)}(t,e)}function O0e(t,e,n){return t instanceof Cd?OH(t,e):t instanceof wd?EH(t,e):n}function MH(t,e){return t instanceof pf?dx(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class hf extends yM{}class Cd extends yM{constructor(e){super(),this.elements=e}}function OH(t,e){const n=bH(e);for(const r of t.elements)n.some(i=>wa(i,r))||n.push(r);return{arrayValue:{values:n}}}class wd extends yM{constructor(e){super(),this.elements=e}}function EH(t,e){let n=bH(e);for(const r of t.elements)n=n.filter(i=>!wa(i,r));return{arrayValue:{values:n}}}class pf extends yM{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function IH(t){return ir(t.integerValue||t.doubleValue)}function bH(t){return by(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Ny{constructor(e,n){this.field=e,this.transform=n}}class I0e{constructor(e,n){this.version=e,this.transformResults=n}}class jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new jn}static exists(e){return new jn(void 0,e)}static updateTime(e){return new jn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vM(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class CM{}function TH(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new gf(t.key,jn.none()):new ff(t.key,t.data,jn.none());{const n=t.data,r=pi.empty();let i=new sn(Sn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new _c(t.key,r,new yo(i.toArray()),jn.none())}}function b0e(t,e,n){t instanceof ff?function(i,o,s){const a=i.value.clone(),c=SH(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof _c?function(i,o,s){if(!vM(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=SH(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(DH(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Fy(t,e,n,r){return t instanceof ff?function(o,s,a,c){if(!vM(o.precondition,s))return a;const l=o.value.clone(),h=xH(o.fieldTransforms,c,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof _c?function(o,s,a,c){if(!vM(o.precondition,s))return a;const l=xH(o.fieldTransforms,c,s),h=s.data;return h.setAll(DH(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):(a=n,vM(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function T0e(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=MH(r.transform,i||null);null!=o&&(null===n&&(n=pi.empty()),n.set(r.field,o))}return n||null}function AH(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&tf(r,i,(o,s)=>function E0e(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof Cd&&i instanceof Cd||r instanceof wd&&i instanceof wd?tf(r.elements,i.elements,wa):r instanceof pf&&i instanceof pf?wa(r.Ie,i.Ie):r instanceof hf&&i instanceof hf);var r,i}(o,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class ff extends CM{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _c extends CM{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function DH(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function SH(t,e,n){const r=new Map;je(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,O0e(s,a,n[i]))}return r}function xH(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,M0e(o,s,e))}return r}class gf extends CM{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vx extends CM{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Cx{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&b0e(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fy(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fy(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=vH();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const c=TH(s,a);null!==c&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(He.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),dt())}isEqual(e){return this.batchId===e.batchId&&tf(this.mutations,e.mutations,(n,r)=>AH(n,r))&&tf(this.baseMutations,e.baseMutations,(n,r)=>AH(n,r))}}class wx{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){je(e.mutations.length===r.length);let i=C0e;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new wx(e,n,r,i)}}class Px{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class D0e{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ir,Bt;function RH(t){switch(t){default:return Re();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0}}function kH(t){if(void 0===t)return gr("GRPC error has no .code"),Z.UNKNOWN;switch(t){case Ir.OK:return Z.OK;case Ir.CANCELLED:return Z.CANCELLED;case Ir.UNKNOWN:return Z.UNKNOWN;case Ir.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ir.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ir.INTERNAL:return Z.INTERNAL;case Ir.UNAVAILABLE:return Z.UNAVAILABLE;case Ir.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ir.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ir.NOT_FOUND:return Z.NOT_FOUND;case Ir.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ir.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ir.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ir.ABORTED:return Z.ABORTED;case Ir.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ir.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ir.DATA_LOSS:return Z.DATA_LOSS;default:return Re()}}(Bt=Ir||(Ir={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";function NH(){return new TextEncoder}const S0e=new Xp([4294967295,4294967295],0);function FH(t){const e=NH().encode(t),n=new OCe;return n.update(e),new Uint8Array(n.digest())}function LH(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Xp([n,r],0),new Xp([i,o],0)]}class Mx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ly(`Invalid padding: ${n}`);if(r<0)throw new Ly(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Ly(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Ly(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Xp.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Xp.fromNumber(r)));return 1===i.compare(S0e)&&(i=new Xp([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=FH(e),[r,i]=LH(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Mx(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const n=FH(e),[r,i]=LH(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Ly extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vy{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Uy.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Vy(He.min(),i,new Pn(Je),vo(),dt())}}class Uy{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Uy(r,n,dt(),dt(),dt())}}class PM{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class VH{constructor(e,n){this.targetId=e,this.fe=n}}class UH{constructor(e,n,r=Br.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class BH{constructor(){this.ge=0,this.pe=$H(),this.ye=Br.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=dt(),n=dt(),r=dt();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Re()}}),new Uy(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=$H()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class x0e{constructor(e){this.Le=e,this.ke=new Map,this.qe=vo(),this.Qe=jH(),this.Ke=new Pn(Je)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(gM(o))if(0===r){const s=new we(o.path);this.We(n,s,xn.newNoDocument(s,He.min()))}else je(1===r);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),c=a?this.et(a,e,s):1;0!==c&&(this.He(n),this.Ke=this.Ke.insert(n,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=pc(r).toUint8Array()}catch(c){if(c instanceof G8)return mo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Mx(s,i,o)}catch(c){return mo(c instanceof Ly?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&gM(a.target)){const c=new we(a.target.path);null!==this.qe.get(c)||this.st(s,c)||this.We(s,c,xn.newNoDocument(c,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=dt();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const l=this.Ye(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new Vy(e,n,this.Ke,this.qe,r);return this.qe=vo(),this.Qe=jH(),this.Ke=new Pn(Je),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new BH,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new sn(Je),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||pe("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new BH),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function jH(){return new Pn(we.comparator)}function $H(){return new Pn(we.comparator)}const R0e={asc:"ASCENDING",desc:"DESCENDING"},k0e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},N0e={and:"AND",or:"OR"};class F0e{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ox(t,e){return t.useProto3Json||My(e)?e:{value:e}}function _f(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HH(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function L0e(t,e){return _f(t,e.toTimestamp())}function _r(t){return je(!!t),He.fromTimestamp(function(n){const r=Fl(n);return new Bn(r.seconds,r.nanos)}(t))}function Ex(t,e){return(r=t,new Ut(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function zH(t){const e=Ut.fromString(t);return je(JH(e)),e}function By(t,e){return Ex(t.databaseId,e.path)}function Ma(t,e){const n=zH(e);if(n.get(1)!==t.databaseId.projectId)throw new de(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new we(GH(n))}function Ix(t,e){return Ex(t.databaseId,e)}function WH(t){const e=zH(t);return 4===e.length?Ut.emptyPath():GH(e)}function jy(t){return new Ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function GH(t){return je(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function qH(t,e,n){return{name:By(t,e),fields:n.value.mapValue.fields}}function KH(t,e,n){const r=Ma(t,e.name),i=_r(e.updateTime),o=e.createTime?_r(e.createTime):He.min(),s=new pi({mapValue:{fields:e.fields}}),a=xn.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function $y(t,e){let n;if(e instanceof ff)n={update:qH(t,e.key,e.value)};else if(e instanceof gf)n={delete:By(t,e.key)};else if(e instanceof _c)n={update:qH(t,e.key,e.data),updateMask:W0e(e.fieldMask)};else{if(!(e instanceof vx))return Re();n={verify:By(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof hf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Cd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof wd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof pf)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw Re()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:L0e(t,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Re()),n;var o}function bx(t,e){const n=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?jn.updateTime(_r(o.updateTime)):void 0!==o.exists?jn.exists(o.exists):jn.none():jn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let c=null;"setToServerValue"in a?(je("REQUEST_TIME"===a.setToServerValue),c=new hf):"appendMissingElements"in a?c=new Cd(a.appendMissingElements.values||[]):"removeAllFromArray"in a?c=new wd(a.removeAllFromArray.values||[]):"increment"in a?c=new pf(s,a.increment):Re();const l=Sn.fromServerFormat(a.fieldPath);return new Ny(l,c)}(t,i)):[];var o;if(e.update){const i=Ma(t,e.update.name),o=new pi({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new yo((e.updateMask.fieldPaths||[]).map(h=>Sn.fromServerFormat(h)));return new _c(i,o,s,n,r)}return new ff(i,o,n,r)}if(e.delete){const i=Ma(t,e.delete);return new gf(i,n)}if(e.verify){const i=Ma(t,e.verify);return new vx(i,n)}return Re()}function ZH(t,e){return{documents:[Ix(t,e.path)]}}function Tx(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Ix(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ix(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return XH(en.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(0!==c.length)return c.map(l=>{return{field:$l((f=l).field),direction:$0e(f.dir)};var f})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=Ox(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n;var c}function YH(t){let e=WH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){je(1===r);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(f){const y=QH(f);return y instanceof en&&px(y)?y.getFilters():[y]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(y=>{return new Ay(mf((O=y).field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction));var O}));let a=null;n.limit&&(a=function(f){let y;return y="object"==typeof f?f.value:f,My(y)?null:y}(n.limit));let c=null;var f;n.startAt&&(c=new jl((f=n.startAt).values||[],!!f.before));let l=null;return n.endAt&&(l=function(f){return new jl(f.values||[],!f.before)}(n.endAt)),dH(e,i,s,o,a,"F",c,l)}function QH(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=mf(n.unaryFilter.field);return St.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=mf(n.unaryFilter.field);return St.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=mf(n.unaryFilter.field);return St.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=mf(n.unaryFilter.field);return St.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(t):void 0!==t.fieldFilter?St.create(mf((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return en.create(n.compositeFilter.filters.map(r=>QH(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Re()}}(n.compositeFilter.op))}(t):Re();var n}function $0e(t){return R0e[t]}function H0e(t){return k0e[t]}function z0e(t){return N0e[t]}function $l(t){return{fieldPath:t.canonicalString()}}function mf(t){return Sn.fromServerFormat(t.fieldPath)}function XH(t){return t instanceof St?function(n){if("=="===n.op){if(Z8(n.value))return{unaryFilter:{field:$l(n.field),op:"IS_NAN"}};if(K8(n.value))return{unaryFilter:{field:$l(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(Z8(n.value))return{unaryFilter:{field:$l(n.field),op:"IS_NOT_NAN"}};if(K8(n.value))return{unaryFilter:{field:$l(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$l(n.field),op:H0e(n.op),value:n.value}}}(t):t instanceof en?function(n){const r=n.getFilters().map(i=>XH(i));return 1===r.length?r[0]:{compositeFilter:{op:z0e(n.op),filters:r}}}(t):Re()}function W0e(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function JH(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class mc{constructor(e,n,r,i,o=He.min(),s=He.min(),a=Br.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new mc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new mc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ez{constructor(e){this.ut=e}}function tz(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:MM(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:By(o=t.ut,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:_f(o,s.version.toTimestamp()),createTime:_f(o,s.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Pd(e.version)};else{if(!e.isUnknownDocument())return Re();r.unknownDocument={path:n.path.toArray(),version:Pd(e.version)}}var o,s;return r}function MM(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Pd(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Md(t){const e=new Bn(t.seconds,t.nanoseconds);return He.fromTimestamp(e)}function Od(t,e){const n=(e.baseMutations||[]).map(o=>bx(t.ut,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const r=e.mutations.map(o=>bx(t.ut,o)),i=Bn.fromMillis(e.localWriteTimeMs);return new Cx(e.batchId,i,n,r)}function Hy(t){const e=Md(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?Md(t.lastLimboFreeSnapshotVersion):He.min();let r;return r=void 0!==t.query.documents?(je(1===(o=t.query).documents.length),to(lf(WH(o.documents[0])))):function(o){return to(YH(o))}(t.query),new mc(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Br.fromBase64String(t.resumeToken));var o}function nz(t,e){const n=Pd(e.snapshotVersion),r=Pd(e.lastLimboFreeSnapshotVersion);let i;i=gM(e.target)?ZH(t.ut,e.target):Tx(t.ut,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:vd(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Ax(t){const e=YH({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?mM(e,e.limit,"L"):e}function Dx(t,e){return new Px(e.largestBatchId,bx(t.ut,e.overlayMutation))}function rz(t,e){const n=e.path.lastSegment();return[t,Si(e.path.popLast()),n]}function iz(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:Pd(r.readTime),documentKey:Si(r.documentKey.path),largestBatchId:r.largestBatchId}}class q0e{getBundleMetadata(e,n){return oz(e).get(n).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Md(o.createTime),version:o.version};var o})}saveBundleMetadata(e,n){return oz(e).put({bundleId:(i=n).id,createTime:Pd(_r(i.createTime)),version:i.version});var i}getNamedQuery(e,n){return sz(e).get(n).next(r=>{if(r)return{name:(o=r).name,query:Ax(o.bundledQuery),readTime:Md(o.readTime)};var o})}saveNamedQuery(e,n){return sz(e).put({name:(i=n).name,readTime:Pd(_r(i.readTime)),bundledQuery:i.bundledQuery});var i}}function oz(t){return Qr(t,"bundles")}function sz(t){return Qr(t,"namedQueries")}class OM{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){return new OM(e,n.uid||"")}getOverlay(e,n){return zy(e).get(rz(this.userId,n)).next(r=>r?Dx(this.serializer,r):null)}getOverlays(e,n){const r=Pa();return H.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((o,s)=>{const a=new Px(n,s);i.push(this.lt(e,a))}),H.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(s=>i.add(Si(s.getCollectionPath())));const o=[];return i.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(zy(e).H("collectionPathOverlayIndex",a))}),H.waitFor(o)}getOverlaysForCollection(e,n,r){const i=Pa(),o=Si(n),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return zy(e).W("collectionPathOverlayIndex",s).next(a=>{for(const c of a){const l=Dx(this.serializer,c);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const o=Pa();let s;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return zy(e).Y({index:"collectionGroupOverlayIndex",range:a},(c,l,h)=>{const f=Dx(this.serializer,l);o.size()<i||f.largestBatchId===s?(o.set(f.getKey(),f),s=f.largestBatchId):h.done()}).next(()=>o)}lt(e,n){return zy(e).put(function(i,o,s){const[a,c,l]=rz(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:$y(i.ut,s.mutation)}}(this.serializer,this.userId,n))}}function zy(t){return Qr(t,"documentOverlays")}class Ed{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(ir(e.integerValue));else if("doubleValue"in e){const r=ir(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),Oy(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),"string"==typeof r?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(pc(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?Y8(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):Re()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),we.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}function K0e(t){if(0===t)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function az(t){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const s=K0e(255&r[o]);if(i+=s,8!==s)break}return i}(t);return Math.ceil(e/8)}Ed.St=new Ed;class Z0e{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Dt(r.value),r=n.next();this.Ct()}vt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{const i=n.codePointAt(0);this.Dt(240|i>>>18),this.Dt(128|63&i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i)}}this.Ct()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Nt(e){const n=this.Bt(e),r=az(n);this.Lt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}kt(e){const n=this.Bt(e),r=az(n);this.Lt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=0!=(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Dt(e){const n=255&e;0===n?(this.Qt(0),this.Qt(255)):255===n?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){const n=255&e;0===n?(this.$t(0),this.$t(255)):255===n?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Y0e{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class Q0e{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Wy{constructor(){this.Wt=new Z0e,this.Gt=new Y0e(this.Wt),this.zt=new Q0e(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Id{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Ht(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Id(this.indexId,this.documentKey,this.arrayValue,r)}}function Hl(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=cz(t.arrayValue,e.arrayValue),0!==n?n:(n=cz(t.directionalValue,e.directionalValue),0!==n?n:we.comparator(t.documentKey,e.documentKey)))}function cz(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(0!==r)return r}return t.length-e.length}class lz{constructor(e){this.Jt=new sn((n,r)=>Sn.comparator(n.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(je(e.collectionGroup===this.collectionId),this.Xt)return!1;const n=ox(e);if(void 0!==n&&!this.tn(n))return!1;const r=gd(e);let i=new Set,o=0,s=0;for(;o<r.length&&this.tn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const c=r[o];if(!this.nn(a,c)||!this.rn(this.Yt[s++],c))return!1}++o}for(;o<r.length;++o)if(s>=this.Yt.length||!this.rn(this.Yt[s++],r[o]))return!1;return!0}sn(){if(this.Xt)return null;let e=new sn(Sn.comparator);const n=[];for(const r of this.Zt)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)n.push(new _d(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new _d(r.field,0))}for(const r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new _d(r.field,"asc"===r.dir?0:1)));return new nf(nf.UNKNOWN_ID,this.collectionId,n,rf.empty())}tn(e){for(const n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function uz(t){var e,n;if(je(t instanceof St||t instanceof en),t instanceof St){if(t instanceof cH){const i=(null===(n=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(o=>St.create(t.field,"==",o)))||[];return en.create(i,"or")}return t}const r=t.filters.map(i=>uz(i));return en.create(r,t.op)}function X0e(t){if(0===t.getFilters().length)return[];const e=Rx(uz(t));return je(dz(e)),Sx(e)||xx(e)?[e]:e.getFilters()}function Sx(t){return t instanceof St}function xx(t){return t instanceof en&&px(t)}function dz(t){return Sx(t)||xx(t)||function(n){if(n instanceof en&&hx(n)){for(const r of n.getFilters())if(!Sx(r)&&!xx(r))return!1;return!0}return!1}(t)}function Rx(t){if(je(t instanceof St||t instanceof en),t instanceof St)return t;if(1===t.filters.length)return Rx(t.filters[0]);const e=t.filters.map(r=>Rx(r));let n=en.create(e,t.op);return n=EM(n),dz(n)?n:(je(n instanceof en),je(cf(n)),je(n.filters.length>1),n.filters.reduce((r,i)=>kx(r,i)))}function kx(t,e){let n;return je(t instanceof St||t instanceof en),je(e instanceof St||e instanceof en),n=t instanceof St?e instanceof St?en.create([t,e],"and"):hz(t,e):e instanceof St?hz(e,t):function(i,o){if(je(i.filters.length>0&&o.filters.length>0),cf(i)&&cf(o))return oH(i,o.getFilters());const s=hx(i)?i:o,a=hx(i)?o:i,c=s.filters.map(l=>kx(l,a));return en.create(c,"or")}(t,e),EM(n)}function hz(t,e){if(cf(e))return oH(e,t.getFilters());{const n=e.filters.map(r=>kx(t,r));return en.create(n,"or")}}function EM(t){if(je(t instanceof St||t instanceof en),t instanceof St)return t;const e=t.getFilters();if(1===e.length)return EM(e[0]);if(rH(t))return t;const n=e.map(i=>EM(i)),r=[];return n.forEach(i=>{i instanceof St?r.push(i):i instanceof en&&(i.op===t.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:en.create(r,t.op)}class J0e{constructor(){this.on=new Nx}addToCollectionParentIndex(e,n){return this.on.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(Lo.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(Lo.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class Nx{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new sn(Ut.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new sn(Ut.comparator)).toArray()}}const IM=new Uint8Array(0);class ewe{constructor(e,n){this.user=e,this.databaseId=n,this._n=new Nx,this.an=new gc(r=>vd(r),(r,i)=>Dy(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});const o={collectionId:r,parent:Si(i)};return pz(e).put(o)}return H.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[D8(n),""],!1,!0);return pz(e).W(i).next(o=>{for(const s of o){if(s.collectionId!==n)break;r.push(Ca(s.parent))}return r})}addFieldIndex(e,n){const r=Gy(e),i={indexId:(a=n).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;delete i.indexId;const o=r.add(i);if(n.indexState){const s=vf(e);return o.next(a=>{s.put(iz(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const r=Gy(e),i=vf(e),o=yf(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Gy(e),r=yf(e),i=vf(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return H.forEach(this.un(n),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const o=new lz(r).sn();if(null!=o)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){const r=yf(e);let i=!0;const o=new Map;return H.forEach(this.un(n),s=>this.cn(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=dt();const a=[];return H.forEach(o,(c,l)=>{var q;pe("IndexedDbIndexManager",`Using index ${q=c,`id=${q.indexId}|cg=${q.collectionGroup}|f=${q.fields.map(G=>`${G.fieldPath}:${G.kind}`).join(",")}`} to execute ${vd(n)}`);const h=function(q,G){const ge=ox(G);if(void 0===ge)return null;for(const Te of _M(q,ge.fieldPath))switch(Te.op){case"array-contains-any":return Te.value.arrayValue.values||[];case"array-contains":return[Te.value]}return null}(l,c),f=function(q,G){const ge=new Map;for(const Te of gd(G))for(const ft of _M(q,Te.fieldPath))switch(ft.op){case"==":case"in":ge.set(Te.fieldPath.canonicalString(),ft.value);break;case"not-in":case"!=":return ge.set(Te.fieldPath.canonicalString(),ft.value),Array.from(ge.values())}return null}(l,c),y=function(q,G){const ge=[];let Te=!0;for(const ft of gd(G)){const an=0===ft.kind?lH(q,ft.fieldPath,q.startAt):uH(q,ft.fieldPath,q.startAt);ge.push(an.value),Te&&(Te=an.inclusive)}return new jl(ge,Te)}(l,c),v=function(q,G){const ge=[];let Te=!0;for(const ft of gd(G)){const an=0===ft.kind?uH(q,ft.fieldPath,q.endAt):lH(q,ft.fieldPath,q.endAt);ge.push(an.value),Te&&(Te=an.inclusive)}return new jl(ge,Te)}(l,c),O=this.ln(c,l,y),b=this.ln(c,l,v),D=this.hn(c,l,f),U=this.Pn(c.indexId,h,O,y.inclusive,b,v.inclusive,D);return H.forEach(U,L=>r.j(L,n.limit).next(q=>{q.forEach(G=>{const ge=we.fromSegments(G.documentKey);s.has(ge)||(s=s.add(ge),a.push(ge))})}))}).next(()=>a)}return H.resolve(null)})}un(e){let n=this.an.get(e);return n||(n=0===e.filters.length?[e]:X0e(en.create(e.filters,"and")).map(r=>gx(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,r,i,o,s,a){const c=(null!=n?n.length:1)*Math.max(r.length,o.length),l=c/(null!=n?n.length:1),h=[];for(let f=0;f<c;++f){const y=n?this.In(n[f/l]):IM,v=this.Tn(e,y,r[f%l],i),O=this.En(e,y,o[f%l],s),b=a.map(D=>this.Tn(e,y,D,!0));h.push(...this.createRange(v,O,b))}return h}Tn(e,n,r,i){const o=new Id(e,we.empty(),n,r);return i?o:o.Ht()}En(e,n,r,i){const o=new Id(e,we.empty(),n,r);return i?o.Ht():o}cn(e,n){const r=new lz(n),i=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(const a of o)r.en(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let r=2;const i=this.un(n);return H.forEach(i,o=>this.cn(e,o).next(s=>{s?0!==r&&s.fields.length<function(c){let l=new sn(Sn.comparator),h=!1;for(const f of c.filters)for(const y of f.getFlattenedFilters())y.field.isKeyField()||("array-contains"===y.op||"array-contains-any"===y.op?h=!0:l=l.add(y.field));for(const f of c.orderBy)f.field.isKeyField()||(l=l.add(f.field));return l.size+(h?1:0)}(o)&&(r=1):r=0})).next(()=>null!==n.limit&&i.length>1&&2===r?1:r)}dn(e,n){const r=new Wy;for(const i of gd(e)){const o=n.data.field(i.fieldPath);if(null==o)return null;const s=r.jt(i.kind);Ed.St.ht(o,s)}return r.Ut()}In(e){const n=new Wy;return Ed.St.ht(e,n.jt(0)),n.Ut()}An(e,n){const r=new Wy;return Ed.St.ht(yd(this.databaseId,n),r.jt(function(o){const s=gd(o);return 0===s.length?0:s[s.length-1].kind}(e))),r.Ut()}hn(e,n,r){if(null===r)return[];let i=[];i.push(new Wy);let o=0;for(const s of gd(e)){const a=r[o++];for(const c of i)if(this.Rn(n,s.fieldPath)&&by(a))i=this.Vn(i,s,a);else{const l=c.jt(s.kind);Ed.St.ht(a,l)}}return this.mn(i)}ln(e,n,r){return this.hn(e,n,r.position)}mn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Ut();return n}Vn(e,n,r){const i=[...e],o=[];for(const s of r.arrayValue.values||[])for(const a of i){const c=new Wy;c.seed(a.Ut()),Ed.St.ht(s,c.jt(n.kind)),o.push(c)}return o}Rn(e,n){return!!e.filters.find(r=>r instanceof St&&r.field.isEqual(n)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,n){const r=Gy(e),i=vf(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(o=>{const s=[];return H.forEach(o,a=>i.get([a.indexId,this.uid]).next(c=>{s.push(function(h,f){const y=f?new rf(f.sequenceNumber,new Lo(Md(f.readTime),new we(Ca(f.documentKey)),f.largestBatchId)):rf.empty(),v=h.fields.map(([O,b])=>new _d(Sn.fromServerFormat(O),b));return new nf(h.indexId,h.collectionGroup,v,y)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==o?o:Je(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Gy(e),o=vf(e);return this.fn(e).next(s=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>H.forEach(a,c=>o.put(iz(c.indexId,this.user,s,r)))))}updateIndexEntries(e,n){const r=new Map;return H.forEach(n,(i,o)=>{const s=r.get(i.collectionGroup);return(s?H.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),H.forEach(a,c=>this.gn(e,i,c).next(l=>{const h=this.pn(o,c);return l.isEqual(h)?H.resolve():this.yn(e,o,c,l,h)}))))})}wn(e,n,r,i){return yf(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.An(r,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,r,i){return yf(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.An(r,n.key),n.key.path.toArray()])}gn(e,n,r){const i=yf(e);let o=new sn(Hl);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,n)])},(s,a)=>{o=o.add(new Id(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}pn(e,n){let r=new sn(Hl);const i=this.dn(n,e);if(null==i)return r;const o=ox(n);if(null!=o){const s=e.data.field(o.fieldPath);if(by(s))for(const a of s.arrayValue.values||[])r=r.add(new Id(n.indexId,e.key,this.In(a),i))}else r=r.add(new Id(n.indexId,e.key,IM,i));return r}yn(e,n,r,i,o){pe("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const s=[];return function(c,l,h,f,y){const v=c.getIterator(),O=l.getIterator();let b=sf(v),D=sf(O);for(;b||D;){let U=!1,L=!1;if(b&&D){const q=h(b,D);q<0?L=!0:q>0&&(U=!0)}else null!=b?L=!0:U=!0;U?(f(D),D=sf(O)):L?(y(b),b=sf(v)):(b=sf(v),D=sf(O))}}(i,o,Hl,a=>{s.push(this.wn(e,n,r,a))},a=>{s.push(this.Sn(e,n,r,a))}),H.waitFor(s)}fn(e){let n=1;return vf(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,a)=>Hl(s,a)).filter((s,a,c)=>!a||0!==Hl(s,c[a-1]));const i=[];i.push(e);for(const s of r){const a=Hl(s,e),c=Hl(s,n);if(0===a)i[0]=e.Ht();else if(a>0&&c<0)i.push(s),i.push(s.Ht());else if(c>0)break}i.push(n);const o=[];for(let s=0;s<i.length;s+=2){if(this.bn(i[s],i[s+1]))return[];o.push(IDBKeyRange.bound([i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,IM,[]],[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,IM,[]]))}return o}bn(e,n){return Hl(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(fz)}getMinOffset(e,n){return H.mapArray(this.un(n),r=>this.cn(e,r).next(i=>i||Re())).next(fz)}}function pz(t){return Qr(t,"collectionParents")}function yf(t){return Qr(t,"indexEntries")}function Gy(t){return Qr(t,"indexConfiguration")}function vf(t){return Qr(t,"indexState")}function fz(t){je(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;sx(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Lo(e.readTime,e.documentKey,n)}const gz={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class xi{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new xi(e,xi.DEFAULT_COLLECTION_PERCENTILE,xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function _z(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const c=r.Y({range:s},(h,f,y)=>(a++,y.delete()));o.push(c.next(()=>{je(1===a)}));const l=[];for(const h of n.mutations){const f=U8(e,h.key.path,n.batchId);o.push(i.delete(f)),l.push(h.key)}return H.waitFor(o).next(()=>l)}function bM(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Re();e=t.noDocument}return JSON.stringify(e).length}xi.DEFAULT_COLLECTION_PERCENTILE=10,xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xi.DEFAULT=new xi(41943040,xi.DEFAULT_COLLECTION_PERCENTILE,xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xi.DISABLED=new xi(-1,0,0);class TM{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}static ct(e,n,r,i){je(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new TM(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return zl(e).Y({index:"userMutationsIndex",range:r},(i,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const o=Cf(e),s=zl(e);return s.add({}).next(a=>{je("number"==typeof a);const c=new Cx(a,n,r,i),l=function(v,O,b){const D=b.baseMutations.map(L=>$y(v.ut,L)),U=b.mutations.map(L=>$y(v.ut,L));return{userId:O,batchId:b.batchId,localWriteTimeMs:b.localWriteTime.toMillis(),baseMutations:D,mutations:U}}(this.serializer,this.userId,c),h=[];let f=new sn((y,v)=>Je(y.canonicalString(),v.canonicalString()));for(const y of i){const v=U8(this.userId,y.key.path,a);f=f.add(y.key.path.popLast()),h.push(s.put(l)),h.push(o.put(v,$Ce))}return f.forEach(y=>{h.push(this.indexManager.addToCollectionParentIndex(e,y))}),e.addOnCommittedListener(()=>{this.Dn[a]=c.keys()}),H.waitFor(h).next(()=>c)})}lookupMutationBatch(e,n){return zl(e).get(n).next(r=>r?(je(r.userId===this.userId),Od(this.serializer,r)):null)}Cn(e,n){return this.Dn[n]?H.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Dn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return zl(e).Y({index:"userMutationsIndex",range:i},(s,a,c)=>{a.userId===this.userId&&(je(a.batchId>=r),o=Od(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return zl(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return zl(e).W("userMutationsIndex",n).next(r=>r.map(i=>Od(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=cM(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return Cf(e).Y({range:i},(s,a,c)=>{const[l,h,f]=s,y=Ca(h);if(l===this.userId&&n.path.isEqual(y))return zl(e).get(f).next(v=>{if(!v)throw Re();je(v.userId===this.userId),o.push(Od(this.serializer,v))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new sn(Je);const i=[];return n.forEach(o=>{const s=cM(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=Cf(e).Y({range:a},(l,h,f)=>{const[y,v,O]=l,b=Ca(v);y===this.userId&&o.path.isEqual(b)?r=r.add(O):f.done()});i.push(c)}),H.waitFor(i).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=cM(this.userId,r),s=IDBKeyRange.lowerBound(o);let a=new sn(Je);return Cf(e).Y({range:s},(c,l,h)=>{const[f,y,v]=c,O=Ca(y);f===this.userId&&r.isPrefixOf(O)?O.length===i&&(a=a.add(v)):h.done()}).next(()=>this.vn(e,a))}vn(e,n){const r=[],i=[];return n.forEach(o=>{i.push(zl(e).get(o).next(s=>{if(null===s)throw Re();je(s.userId===this.userId),r.push(Od(this.serializer,s))}))}),H.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return _z(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),H.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return H.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Cf(e).Y({range:r},(o,s,a)=>{if(o[0]===this.userId){const c=Ca(o[1]);i.push(c)}else a.done()}).next(()=>{je(0===i.length)})})}containsKey(e,n){return mz(e,this.userId,n)}Mn(e){return yz(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function mz(t,e,n){const r=cM(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return Cf(t).Y({range:o,J:!0},(a,c,l)=>{const[h,f,y]=a;h===e&&f===i&&(s=!0),l.done()}).next(()=>s)}function zl(t){return Qr(t,"mutations")}function Cf(t){return Qr(t,"documentMutations")}function yz(t){return Qr(t,"mutationQueues")}class bd{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new bd(0)}static Nn(){return new bd(-1)}}class twe{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new bd(n.highestTargetId);return n.highestTargetId=r.next(),this.Ln(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>He.fromTimestamp(new Bn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Ln(e,i)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.qn(n,r),this.Ln(e,r))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>wf(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(je(r.targetCount>0),r.targetCount-=1,this.Ln(e,r)))}removeTargets(e,n,r){let i=0;const o=[];return wf(e).Y((s,a)=>{const c=Hy(a);c.sequenceNumber<=n&&null===r.get(c.targetId)&&(i++,o.push(this.removeTargetData(e,c)))}).next(()=>H.waitFor(o)).next(()=>i)}forEachTarget(e,n){return wf(e).Y((r,i)=>{const o=Hy(i);n(o)})}Bn(e){return vz(e).get("targetGlobalKey").next(n=>(je(null!==n),n))}Ln(e,n){return vz(e).put("targetGlobalKey",n)}kn(e,n){return wf(e).put(nz(this.serializer,n))}qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=vd(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return wf(e).Y({range:i,index:"queryTargetsIndex"},(s,a,c)=>{const l=Hy(a);Dy(n,l.target)&&(o=l,c.done())}).next(()=>o)}addMatchingKeys(e,n,r){const i=[],o=Wl(e);return n.forEach(s=>{const a=Si(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),H.waitFor(i)}removeMatchingKeys(e,n,r){const i=Wl(e);return H.forEach(n,o=>{const s=Si(o.path);return H.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){const r=Wl(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Wl(e);let o=dt();return i.Y({range:r,J:!0},(s,a,c)=>{const l=Ca(s[1]),h=new we(l);o=o.add(h)}).next(()=>o)}containsKey(e,n){const r=Si(n.path),i=IDBKeyRange.bound([r],[D8(r)],!1,!0);let o=0;return Wl(e).Y({index:"documentTargetsIndex",J:!0,range:i},([s,a],c,l)=>{0!==s&&(o++,l.done())}).next(()=>o>0)}_t(e,n){return wf(e).get(n).next(r=>r?Hy(r):null)}}function wf(t){return Qr(t,"targets")}function vz(t){return Qr(t,"targetGlobal")}function Wl(t){return Qr(t,"targetDocuments")}function Cz([t,e],[n,r]){const i=Je(t,n);return 0===i?Je(e,r):i}class nwe{constructor(e){this.Qn=e,this.buffer=new sn(Cz),this.Kn=0}$n(){return++this.Kn}Un(e){const n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Cz(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class wz{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var n=this;pe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,S.Z)(function*(){n.Wn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){kl(r)?pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Rl(r)}yield n.Gn(3e5)}))}}class rwe{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return H.resolve(Vo._e);const r=new nwe(n);return this.zn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.zn.Hn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(gz)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gz):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let r,i,o,s,a,c,l;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(l=Date.now(),ef()<=Ei.in.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-h}ms\n\tDetermined least recently used ${i} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(c-a)+`ms\n\tRemoved ${f} documents in `+(l-c)+`ms\nTotal Duration: ${l-h}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}class iwe{constructor(e,n){this.db=e,this.garbageCollector=function Pz(t,e){return new rwe(t,e)}(this,n)}jn(e){const n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Yn(e){let n=0;return this.Hn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(r,i)=>n(i))}addReference(e,n,r){return AM(e,r)}removeReference(e,n,r){return AM(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return AM(e,n)}Xn(e,n){return function(i,o){let s=!1;return yz(i).Z(a=>mz(i,a,o).next(c=>(c&&(s=!0),H.resolve(!c)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Zn(e,(s,a)=>{if(a<=n){const c=this.Xn(e,s).next(l=>{if(!l)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,He.min()),Wl(e).delete([0,Si(s.path)])))});i.push(c)}}).next(()=>H.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return AM(e,n)}Zn(e,n){const r=Wl(e);let i,o=Vo._e;return r.Y({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:l})=>{0===s?(o!==Vo._e&&n(new we(Ca(i)),o),o=l,i=c):o=Vo._e}).next(()=>{o!==Vo._e&&n(new we(Ca(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function AM(t,e){return Wl(t).put((i=t.currentSequenceNumber,{targetId:0,path:Si(e.path),sequenceNumber:i}));var i}class Mz{constructor(){this.changes=new gc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class owe{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Td(e).put(r)}removeEntry(e,n,r){return Td(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],MM(s),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.er(e,r)))}getEntry(e,n){let r=xn.newInvalidDocument(n);return Td(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(qy(n))},(i,o)=>{r=this.tr(n,o)}).next(()=>r)}nr(e,n){let r={size:0,document:xn.newInvalidDocument(n)};return Td(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(qy(n))},(i,o)=>{r={document:this.tr(n,o),size:bM(o)}}).next(()=>r)}getEntries(e,n){let r=vo();return this.rr(e,n,(i,o)=>{const s=this.tr(i,o);r=r.insert(i,s)}).next(()=>r)}ir(e,n){let r=vo(),i=new Pn(we.comparator);return this.rr(e,n,(o,s)=>{const a=this.tr(o,s);r=r.insert(o,a),i=i.insert(o,bM(s))}).next(()=>({documents:r,sr:i}))}rr(e,n,r){if(n.isEmpty())return H.resolve();let i=new sn(bz);n.forEach(c=>i=i.add(c));const o=IDBKeyRange.bound(qy(i.first()),qy(i.last())),s=i.getIterator();let a=s.getNext();return Td(e).Y({index:"documentKeyIndex",range:o},(c,l,h)=>{const f=we.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&bz(a,f)<0;)r(a,null),a=s.getNext();a&&a.isEqual(f)&&(r(a,l),a=s.hasNext()?s.getNext():null),a?h.U(qy(a)):h.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,o){const s=n.path,a=[s.popLast().toArray(),s.lastSegment(),MM(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Td(e).W(IDBKeyRange.bound(a,c,!0)).next(l=>{o?.incrementDocumentReadCount(l.length);let h=vo();for(const f of l){const y=this.tr(we.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);y.isFoundDocument()&&(xy(n,y)||i.has(y.key))&&(h=h.insert(y.key,y))}return h})}getAllFromCollectionGroup(e,n,r,i){let o=vo();const s=Iz(n,r),a=Iz(n,Lo.max());return Td(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,l,h)=>{const f=this.tr(we.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(f.key,f),o.size===i&&h.done()}).next(()=>o)}newChangeBuffer(e){return new swe(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return Ez(e).get("remoteDocumentGlobalKey").next(n=>(je(!!n),n))}er(e,n){return Ez(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){const r=function G0e(t,e){let n;if(e.document)n=KH(t.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=we.fromSegments(e.noDocument.path),i=Md(e.noDocument.readTime);n=xn.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Re();{const r=we.fromSegments(e.unknownDocument.path),i=Md(e.unknownDocument.version);n=xn.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const o=new Bn(i[0],i[1]);return He.fromTimestamp(o)}(e.readTime)),n}(this.serializer,n);if(!r.isNoDocument()||!r.version.isEqual(He.min()))return r}return xn.newInvalidDocument(e)}}function Oz(t){return new owe(t)}class swe extends Mz{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new gc(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new sn((o,s)=>Je(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ar.get(o);if(n.push(this._r.removeEntry(e,o,a.readTime)),s.isValidDocument()){const c=tz(this._r.serializer,s);i=i.add(o.path.popLast());const l=bM(c);r+=l-a.size,n.push(this._r.addEntry(e,o,c))}else if(r-=a.size,this.trackRemovals){const c=tz(this._r.serializer,s.convertToNoDocument(He.min()));n.push(this._r.addEntry(e,o,c))}}),i.forEach(o=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,o))}),n.push(this._r.updateMetadata(e,r)),H.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(r=>(this.ar.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:r,sr:i})=>(i.forEach((o,s)=>{this.ar.set(o,{size:s,readTime:r.get(o).readTime})}),r))}}function Ez(t){return Qr(t,"remoteDocumentGlobal")}function Td(t){return Qr(t,"remoteDocumentsV14")}function qy(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Iz(t,e){const n=e.documentKey.path.toArray();return[t,MM(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function bz(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=Je(n[o],r[o]),i)return i;return i=Je(n.length,r.length),i||(i=Je(n[n.length-2],r[r.length-2]),i||Je(n[n.length-1],r[r.length-1]))}class awe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Tz{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Fy(r.mutation,i,yo.empty(),Bn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,dt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=dt()){const i=Pa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ry();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Pa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,dt()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=vo();const s=ky(),a=ky();return n.forEach((c,l)=>{const h=r.get(l.key);i.has(l.key)&&(void 0===h||h.mutation instanceof _c)?o=o.insert(l.key,l):void 0!==h?(s.set(l.key,h.mutation.getFieldMask()),Fy(h.mutation,l,h.mutation.getFieldMask(),Bn.now())):s.set(l.key,yo.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var f;return a.set(l,new awe(h,null!==(f=s.get(l))&&void 0!==f?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ky();let i=new Pn((s,a)=>s-a),o=dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(c=>{const l=n.get(c);if(null===l)return;let h=r.get(c)||yo.empty();h=a.applyToLocalView(l,h),r.set(c,h);const f=(i.get(a.batchId)||dt()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,h=c.value,f=vH();h.forEach(y=>{if(!o.has(y)){const v=TH(n.get(y),r.get(y));null!==v&&f.set(y,v),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,f))}return H.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return we.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):_x(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var s}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):H.resolve(Pa());let a=-1,c=o;return s.next(l=>H.forEach(l,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(h)?H.resolve():this.remoteDocumentCache.getEntry(e,h).next(y=>{c=c.insert(h,y)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,dt())).next(h=>({batchId:a,changes:yH(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next(r=>{let i=Ry();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Ry();return this.indexManager.getCollectionParents(e,o).next(a=>H.forEach(a,c=>{const l=(f=n,y=c.child(o),new fc(y,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt));var f,y;return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((f,y)=>{s=s.insert(f,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,l)=>{const h=l.getKey();null===s.get(h)&&(s=s.insert(h,xn.newInvalidDocument(h)))});let a=Ry();return s.forEach((c,l)=>{const h=o.get(c);void 0!==h&&Fy(h.mutation,l,yo.empty(),Bn.now()),xy(n,l)&&(a=a.insert(c,l))}),a})}}class cwe{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return H.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(i=n).id,version:i.version,createTime:_r(i.createTime)}),H.resolve();var i}getNamedQuery(e,n){return H.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(i=n).name,query:Ax(i.bundledQuery),readTime:_r(i.readTime)}),H.resolve();var i}}class lwe{constructor(){this.overlays=new Pn(we.comparator),this.lr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Pa();return H.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.lt(e,n,o)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const i=Pa(),o=n.length+1,s=new we(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return H.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Pn((l,h)=>l-h);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);null===h&&(h=Pa(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}const a=Pa(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return H.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Px(n,r));let o=this.lr.get(n);void 0===o&&(o=dt(),this.lr.set(n,o)),this.lr.set(n,o.add(r.key))}}class Fx{constructor(){this.hr=new sn(Xr.Pr),this.Ir=new sn(Xr.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Xr(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Xr(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new we(new Ut([])),r=new Xr(n,e),i=new Xr(n,e+1),o=[];return this.Ir.forEachInRange([r,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new we(new Ut([])),r=new Xr(n,e),i=new Xr(n,e+1);let o=dt();return this.Ir.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Xr(e,0),r=this.hr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Xr{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return we.comparator(e.key,n.key)||Je(e.gr,n.gr)}static Tr(e,n){return Je(e.gr,n.gr)||we.comparator(e.key,n.key)}}class uwe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new sn(Xr.Pr)}checkEmpty(e){return H.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.pr;this.pr++;const s=new Cx(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.yr=this.yr.add(new Xr(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(s)}lookupMutationBatch(e,n){return H.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Sr(n+1),o=i<0?0:i;return H.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xr(n,0),i=new Xr(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,i],s=>{const a=this.wr(s.gr);o.push(a)}),H.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new sn(Je);return n.forEach(i=>{const o=new Xr(i,0),s=new Xr(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{r=r.add(a.gr)})}),H.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;we.isDocumentKey(o)||(o=o.child(""));const s=new Xr(new we(o),0);let a=new sn(Je);return this.yr.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.gr)),!0)},s),H.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){je(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return H.forEach(n.mutations,i=>{const o=new Xr(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Xr(n,0),i=this.yr.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return H.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class dwe{constructor(e){this.Cr=e,this.docs=new Pn(we.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():xn.newInvalidDocument(n))}getEntries(e,n){let r=vo();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():xn.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=vo();const s=n.path,a=new we(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:h}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||sx(x8(h),r)<=0||(i.has(h.key)||xy(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return H.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Re()}vr(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new hwe(this)}getSize(e){return H.resolve(this.size)}}class hwe extends Mz{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class pwe{constructor(e){this.persistence=e,this.Fr=new gc(n=>vd(n),Dy),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Fx,this.targetCount=0,this.Nr=bd.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),H.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new bd(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.kn(n),H.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),H.waitFor(o).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),H.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.Or.containsKey(n))}}class Lx{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Vo(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new pwe(this),this.indexManager=new J0e,this.remoteDocumentCache=new dwe(r=>this.referenceDelegate.Qr(r)),this.serializer=new ez(n),this.Kr=new cwe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lwe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new uwe(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){pe("MemoryPersistence","Starting transaction:",e);const i=new fwe(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(e,n){return H.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class fwe extends k8{constructor(e){super(),this.currentSequenceNumber=e}}class DM{constructor(e){this.persistence=e,this.Gr=new Fx,this.zr=null}static jr(e){return new DM(e)}get Hr(){if(this.zr)return this.zr;throw Re()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),H.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Hr,r=>{const i=we.fromPath(r);return this.Jr(e,i).next(o=>{o||n.removeEntry(i,He.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return H.or([()=>H.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class gwe{constructor(e){this.serializer=e}N(e,n,r,i){const o=new aM("createOrUpgrade",n);var c;r<1&&i>=1&&(e.createObjectStore("owner"),(c=e).createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",V8,{unique:!0}),c.createObjectStore("documentMutations"),Az(e),function(c){c.createObjectStore("remoteDocuments")}(e));let s=H.resolve();return r<3&&i>=3&&(0!==r&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),Az(e)),s=s.next(()=>function(c){const l=c.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:He.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",h)}(o))),r<4&&i>=4&&(0!==r&&(s=s.next(()=>function(c,l){return l.store("mutations").W().next(h=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",V8,{unique:!0});const f=l.store("mutations"),y=h.map(v=>f.put(v));return H.waitFor(y)})}(e,o))),s=s.next(()=>{!function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(s=s.next(()=>this.Zr(o))),r<6&&i>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(o)))),r<7&&i>=7&&(s=s.next(()=>this.ei(o))),r<8&&i>=8&&(s=s.next(()=>this.ti(e,o))),r<9&&i>=9&&(s=s.next(()=>{!function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(s=s.next(()=>this.ni(o))),r<11&&i>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{!function(c){const l=c.createObjectStore("documentOverlays",{keyPath:e0e});l.createIndex("collectionPathOverlayIndex",t0e,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",n0e,{unique:!1})}(e)})),r<13&&i>=13&&(s=s.next(()=>function(c){const l=c.createObjectStore("remoteDocumentsV14",{keyPath:HCe});l.createIndex("documentKeyIndex",zCe),l.createIndex("collectionGroupIndex",WCe)}(e)).next(()=>this.ri(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.ii(e,o))),r<15&&i>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:YCe}).createIndex("sequenceNumberIndex",QCe,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:XCe}).createIndex("documentKeyIndex",JCe,{unique:!1})}(e))),s}Xr(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=bM(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>H.forEach(i,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",s).next(a=>H.forEach(a,c=>{je(c.userId===o.userId);const l=Od(this.serializer,c);return _z(e,o.userId,l).next(()=>{})}))}))}ei(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.Y((s,a)=>{const c=new Ut(s),l=[0,Si(c)];o.push(n.get(l).next(h=>h?H.resolve():n.put({targetId:0,path:Si(c),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>H.waitFor(o))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:ZCe});const r=n.store("collectionParents"),i=new Nx,o=s=>{if(i.add(s)){const a=s.lastSegment(),c=s.popLast();return r.put({collectionId:a,parent:Si(c)})}};return n.store("remoteDocuments").Y({J:!0},(s,a)=>{const c=new Ut(s);return o(c.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([s,a,c],l)=>{const h=Ca(a);return o(h.popLast())}))}ni(e){const n=e.store("targets");return n.Y((r,i)=>{const o=Hy(i),s=nz(this.serializer,o);return n.put(s)})}ri(e,n){const r=n.store("remoteDocuments"),i=[];return r.Y((o,s)=>{const a=n.store("remoteDocumentsV14"),c=(f=s,f.document?new we(Ut.fromString(f.document.name).popFirst(5)):f.noDocument?we.fromSegments(f.noDocument.path):f.unknownDocument?we.fromSegments(f.unknownDocument.path):Re()).path.toArray(),l={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var f;i.push(a.put(l))}).next(()=>H.waitFor(i))}ii(e,n){const r=n.store("mutations"),i=Oz(this.serializer),o=new Lx(DM.jr,this.serializer.ut);return r.W().next(s=>{const a=new Map;return s.forEach(c=>{var l;let h=null!==(l=a.get(c.userId))&&void 0!==l?l:dt();Od(this.serializer,c).keys().forEach(f=>h=h.add(f)),a.set(c.userId,h)}),H.forEach(a,(c,l)=>{const h=new Yr(l),f=OM.ct(this.serializer,h),y=o.getIndexManager(h),v=TM.ct(h,this.serializer,y,o.referenceDelegate);return new Tz(i,v,f,y).recalculateAndSaveOverlaysForDocumentKeys(new lx(n,Vo._e),c).next()})})}}function Az(t){t.createObjectStore("targetDocuments",{keyPath:qCe}).createIndex("documentTargetsIndex",KCe,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",GCe,{unique:!0}),t.createObjectStore("targetGlobal")}const Vx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ux{constructor(e,n,r,i,o,s,a,c,l,h,f=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.si=o,this.window=s,this.document=a,this.oi=l,this._i=h,this.ai=f,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=y=>Promise.resolve(),!Ux.D())throw new de(Z.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new iwe(this,i),this.Ii=n+"main",this.serializer=new ez(c),this.Ti=new Bs(this.Ii,this.ai,new gwe(this.serializer)),this.qr=new twe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Oz(this.serializer),this.Kr=new q0e,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===h&&gr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new de(Z.FAILED_PRECONDITION,Vx);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new Vo(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var n=this;return this.Pi=function(){var r=(0,S.Z)(function*(i){if(n.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var n=(0,S.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,S.Z)(function*(){n.started&&(yield n.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>xM(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(kl(e))return pe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return Ky(e).get("owner").next(n=>H.resolve(this.wi(n)))}Si(e){return xM(e).delete(this.clientId)}bi(){var e=this;return(0,S.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Qr(r,"clientMetadata");return i.W().next(o=>{const s=e.Ci(o,18e5),a=o.filter(c=>-1===s.indexOf(c));return H.forEach(a,c=>i.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Ei)for(const r of n)e.Ei.removeItem(e.vi(r.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?H.resolve(!0):Ky(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new de(Z.FAILED_PRECONDITION,Vx);return!1}}return!(!this.networkEnabled||!this.inForeground)||xM(e).W().next(r=>void 0===this.Ci(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(n=>(this.isPrimary!==n&&pe("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,S.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const r=new lx(n,Vo._e);return e.pi(r).next(()=>e.Si(r))}),e.Ti.close(),e.Ni()})()}Ci(e,n){return e.filter(r=>this.Di(r.updateTimeMs,n)&&!this.Fi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>xM(e).W().next(n=>this.Ci(n,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return TM.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ewe(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return OM.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,r){pe("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===n?"readonly":"readwrite",o=15===(c=this.ai)?i0e:14===c?$8:13===c?j8:12===c?r0e:11===c?B8:void Re();var c;let s;return this.Ti.runTransaction(e,i,o,a=>(s=new lx(a,this.Lr?this.Lr.next():Vo._e),"readwrite-primary"===n?this.fi(s).next(c=>!!c||this.gi(s)).next(c=>{if(!c)throw gr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new de(Z.FAILED_PRECONDITION,R8);return r(s)}).next(c=>this.yi(s).next(()=>c)):this.Li(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Li(e){return Ky(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new de(Z.FAILED_PRECONDITION,Vx)})}yi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ky(e).put("owner",n)}static D(){return Bs.D()}pi(e){const n=Ky(e);return n.get("owner").next(r=>this.wi(r)?(pe("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):H.resolve())}Di(e,n){const r=Date.now();return!(e<r-n||e>r&&(gr(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const n=/(?:Version|Mobile)\/1[456]/;(0,E.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{const r=null!==(null===(n=this.Ei)||void 0===n?void 0:n.getItem(this.vi(e)));return pe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return gr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){gr("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ky(t){return Qr(t,"owner")}function xM(t){return Qr(t,"clientMetadata")}function Bx(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class jx{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=dt(),i=dt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new jx(e,n.fromCache,r,i)}}class _we{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Dz{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.zi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new _we;return this.Hi(e,n,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,n,s,a.size)})}).next(()=>o.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(ef()<=Ei.in.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",df(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),H.resolve()):(ef()<=Ei.in.DEBUG&&pe("QueryEngine","Query:",df(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(ef()<=Ei.in.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",df(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,to(n))):H.resolve())}zi(e,n){if(hH(n))return H.resolve(null);let r=to(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=mM(n,null,"F"),r=to(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=dt(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.Yi(n,a);return this.Zi(n,l,s,c.readTime)?this.zi(e,mM(n,null,"F")):this.Xi(e,l,n,c)}))})))}ji(e,n,r,i){return hH(n)||i.isEqual(He.min())?H.resolve(null):this.Gi.getDocuments(e,r).next(o=>{const s=this.Yi(n,o);return this.Zi(n,s,r,i)?H.resolve(null):(ef()<=Ei.in.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),df(n)),this.Xi(e,s,n,S8(i,-1)).next(a=>a))})}Yi(e,n){let r=new sn(_H(e));return n.forEach((i,o)=>{xy(e,o)&&(r=r.add(o))}),r}Zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(e,n,r){return ef()<=Ei.in.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",df(n)),this.Gi.getDocumentsMatchingQuery(e,n,Lo.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class mwe{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Pn(Je),this.ns=new gc(o=>vd(o),Dy),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Tz(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function Sz(t,e,n,r){return new mwe(t,e,n,r)}function xz(t,e){return $x.apply(this,arguments)}function $x(){return $x=(0,S.Z)(function*(t,e){const n=Ce(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let c=dt();for(const l of i){s.push(l.batchId);for(const h of l.mutations)c=c.add(h.key)}for(const l of o){a.push(l.batchId);for(const h of l.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(l=>({_s:l,removedBatchIds:s,addedBatchIds:a}))})})}),$x.apply(this,arguments)}function Rz(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function kz(t,e,n){let r=dt(),i=dt();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=vo();return n.forEach((a,c)=>{const l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(He.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):pe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{us:s,cs:i}})}function Cwe(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Pf(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(o=>o?(i=o,H.resolve(i)):n.qr.allocateTargetId(r).next(s=>(i=new mc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}function Mf(t,e,n){return Hx.apply(this,arguments)}function Hx(){return Hx=(0,S.Z)(function*(t,e,n){const r=Ce(t),i=r.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!kl(s))throw s;pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),Hx.apply(this,arguments)}function RM(t,e,n){const r=Ce(t);let i=He.min(),o=dt();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,h){const f=Ce(c),y=f.ns.get(h);return void 0!==y?H.resolve(f.ts.get(y)):f.qr.getTargetData(l,h)}(r,s,to(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.es.getDocumentsMatchingQuery(s,e,n?i:He.min(),n?o:dt())).next(a=>(Lz(r,gH(e),a),{documents:a,ls:o})))}function Nz(t,e){const n=Ce(t),r=Ce(n.qr),i=n.ts.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",o=>r._t(o,e).next(s=>s?s.target:null))}function Fz(t,e){const n=Ce(t),r=n.rs.get(e)||He.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.ss.getAllFromCollectionGroup(i,e,S8(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(Lz(n,e,i),i))}function Lz(t,e,n){let r=t.rs.get(e)||He.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.rs.set(e,r)}function zx(){return zx=(0,S.Z)(function*(t,e,n,r){const i=Ce(t);let o=dt(),s=vo();for(const l of n){const h=e.hs(l.metadata.name);l.document&&(o=o.add(h));const f=e.Ps(l);f.setReadTime(e.Is(l.metadata.readTime)),s=s.insert(h,f)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),c=yield Pf(i,(h=r,to(lf(Ut.fromString(`__bundle__/docs/${h}`)))));var h;return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>kz(l,a,s).next(h=>(a.apply(l),h)).next(h=>i.qr.removeMatchingKeysForTargetId(l,c.targetId).next(()=>i.qr.addMatchingKeys(l,o,c.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,h.us,h.cs)).next(()=>h.us)))}),zx.apply(this,arguments)}function Pwe(t,e){return Wx.apply(this,arguments)}function Wx(){return Wx=(0,S.Z)(function*(t,e,n=dt()){const r=yield Pf(t,to(Ax(e.bundledQuery))),i=Ce(t);return i.persistence.runTransaction("Save named query","readwrite",o=>{const s=_r(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Kr.saveNamedQuery(o,e);const a=r.withResumeToken(Br.EMPTY_BYTE_STRING,s);return i.ts=i.ts.insert(a.targetId,a),i.qr.updateTargetData(o,a).next(()=>i.qr.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.qr.addMatchingKeys(o,n,r.targetId)).next(()=>i.Kr.saveNamedQuery(o,e))})}),Wx.apply(this,arguments)}function Vz(t,e){return`firestore_clients_${t}_${e}`}function Uz(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Gx(t,e){return`firestore_targets_${t}_${e}`}class kM{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ts(e,n,r){const i=JSON.parse(r);let o,s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(o=new de(i.error.code,i.error.message))),s?new kM(e,n,i.state,o):(gr("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Zy{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ts(e,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new de(r.error.code,r.error.message))),o?new Zy(e,r.state,i):(gr("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class NM{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ts(e,n){const r=JSON.parse(n);let i="object"==typeof r&&r.activeTargetIds instanceof Array,o=yx();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=F8(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new NM(e,o):(gr("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class qx{constructor(e,n){this.clientId=e,this.onlineState=n}static Ts(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new qx(n.clientId,n.onlineState):(gr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Kx{constructor(){this.activeTargetIds=yx()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Zx{constructor(e,n,r,i,o){this.window=e,this.si=n,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Pn(Je),this.started=!1,this.ps=[];const s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ys=Vz(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new Kx),this.Ss=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,S.Z)(function*(){const n=yield e.syncEngine.Bi();for(const i of n){if(i===e.Rs)continue;const o=e.getItem(Vz(e.persistenceKey,i));if(o){const s=NM.Ts(i,o);s&&(e.gs=e.gs.insert(s.clientId,s))}}e.Fs();const r=e.storage.getItem(e.Cs);if(r){const i=e.Ms(r);i&&e.xs(i)}for(const i of e.ps)e.fs(i);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let n=!1;return this.gs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,n,r){this.Ns(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Gx(this.persistenceKey,e));if(r){const i=Zy.Ts(e,r);i&&(n=i.state)}}return this.Ls.ds(e),this.Fs(),n}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Gx(this.persistenceKey,e))}updateQueryState(e,n,r){this.ks(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return pe("SharedClientState","READ",e,n),n}setItem(e,n){pe("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){pe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var n=this;const r=e;if(r.storageArea===this.storage){if(pe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ys)return void gr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,S.Z)(function*(){if(n.started){if(null!==r.key)if(n.Ss.test(r.key)){if(null==r.newValue){const i=n.Ks(r.key);return n.$s(i,null)}{const i=n.Us(r.key,r.newValue);if(i)return n.$s(i.clientId,i)}}else if(n.bs.test(r.key)){if(null!==r.newValue){const i=n.Ws(r.key,r.newValue);if(i)return n.Gs(i)}}else if(n.Ds.test(r.key)){if(null!==r.newValue){const i=n.zs(r.key,r.newValue);if(i)return n.js(i)}}else if(r.key===n.Cs){if(null!==r.newValue){const i=n.Ms(r.newValue);if(i)return n.xs(i)}}else if(r.key===n.ws){const i=function(s){let a=Vo._e;if(null!=s)try{const c=JSON.parse(s);je("number"==typeof c),a=c}catch(c){gr("SharedClientState","Failed to read sequence number from WebStorage",c)}return a}(r.newValue);i!==Vo._e&&n.sequenceNumberHandler(i)}else if(r.key===n.vs){const i=n.Hs(r.newValue);yield Promise.all(i.map(o=>n.syncEngine.Js(o)))}}else n.ps.push(r)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,n,r){const i=new kM(this.currentUser,e,n,r),o=Uz(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Es())}Bs(e){const n=Uz(this.persistenceKey,this.currentUser,e);this.removeItem(n)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,n,r){const i=Gx(this.persistenceKey,e),o=new Zy(e,n,r);this.setItem(i,o.Es())}Qs(e){const n=JSON.stringify(Array.from(e));this.setItem(this.vs,n)}Ks(e){const n=this.Ss.exec(e);return n?n[1]:null}Us(e,n){const r=this.Ks(e);return NM.Ts(r,n)}Ws(e,n){const r=this.bs.exec(e),i=Number(r[1]);return kM.Ts(new Yr(void 0!==r[2]?r[2]:null),i,n)}zs(e,n){const r=this.Ds.exec(e),i=Number(r[1]);return Zy.Ts(i,n)}Ms(e){return qx.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var n=this;return(0,S.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Ys(e.batchId,e.state,e.error);pe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,n){const r=n?this.gs.insert(e,n):this.gs.remove(e),i=this.Os(this.gs),o=this.Os(r),s=[],a=[];return o.forEach(c=>{i.has(c)||s.push(c)}),i.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.Xs(s,a).then(()=>{this.gs=r})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let n=yx();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class Bz{constructor(){this.eo=new Kx,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Kx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Mwe{ro(e){}shutdown(){}}class jz{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let FM=null;function Yx(){return null===FM?FM=268435456+Math.round(2147483648*Math.random()):FM++,"0x"+FM.toString(16)}const Owe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ewe{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Ri="WebChannelConnection";class Iwe extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${o}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get yo(){return!1}wo(n,r,i,o,s){const a=Yx(),c=this.So(n,r);pe("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,o,s),this.Do(n,c,l,i).then(h=>(pe("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw mo("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",c,"request:",i),h})}Co(n,r,i,o,s,a){return this.wo(n,r,i,o,s)}bo(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+Jp,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}So(n,r){return`${this.mo}/v1/${r}:${Owe[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const o=Yx();return new Promise((s,a)=>{const c=new MCe;c.setWithCredentials(!0),c.listenOnce(CCe.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case rx.NO_ERROR:const h=c.getResponseJson();pe(Ri,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case rx.TIMEOUT:pe(Ri,`RPC '${e}' ${o} timed out`),a(new de(Z.DEADLINE_EXCEEDED,"Request time out"));break;case rx.HTTP_ERROR:const f=c.getStatus();if(pe(Ri,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const v=y?.error;if(v&&v.status&&v.message){const O=function(D){const U=D.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(U)>=0?U:Z.UNKNOWN}(v.status);a(new de(O,v.message))}else a(new de(Z.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new de(Z.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{pe(Ri,`RPC '${e}' ${o} completed.`)}});const l=JSON.stringify(i);pe(Ri,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",l,r,15)})}vo(e,n,r){const i=Yx(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=yCe(),a=vCe(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new PCe({})),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=o.join("");pe(Ri,`Creating RPC '${e}' stream ${i}: ${h}`,c);const f=s.createWebChannel(h,c);let y=!1,v=!1;const O=new Ewe({co:D=>{v?pe(Ri,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(y||(pe(Ri,`Opening RPC '${e}' stream ${i} transport.`),f.open(),y=!0),pe(Ri,`RPC '${e}' stream ${i} sending:`,D),f.send(D))},lo:()=>f.close()}),b=(D,U,L)=>{D.listen(U,q=>{try{L(q)}catch(G){setTimeout(()=>{throw G},0)}})};return b(f,sM.EventType.OPEN,()=>{v||pe(Ri,`RPC '${e}' stream ${i} transport opened.`)}),b(f,sM.EventType.CLOSE,()=>{v||(v=!0,pe(Ri,`RPC '${e}' stream ${i} transport closed`),O.Ro())}),b(f,sM.EventType.ERROR,D=>{v||(v=!0,mo(Ri,`RPC '${e}' stream ${i} transport errored:`,D),O.Ro(new de(Z.UNAVAILABLE,"The operation could not be completed")))}),b(f,sM.EventType.MESSAGE,D=>{var U;if(!v){const L=D.data[0];je(!!L);const G=L.error||(null===(U=L[0])||void 0===U?void 0:U.error);if(G){pe(Ri,`RPC '${e}' stream ${i} received error:`,G);const ge=G.status;let Te=function(Co){const Lf=Ir[Co];if(void 0!==Lf)return kH(Lf)}(ge),ft=G.message;void 0===Te&&(Te=Z.INTERNAL,ft="Unknown error status: "+ge+" with message "+G.message),v=!0,O.Ro(new de(Te,ft)),f.close()}else pe(Ri,`RPC '${e}' stream ${i} received:`,L),O.Vo(L)}}),b(a,wCe.STAT_EVENT,D=>{D.stat===E8.PROXY?pe(Ri,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===E8.NOPROXY&&pe(Ri,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{O.Ao()},0),O}}function $z(){return typeof window<"u"?window:null}function LM(){return typeof document<"u"?document:null}function Yy(t){return new F0e(t,!0)}class Qx{constructor(e,n,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Hz{constructor(e,n,r,i,o,s,a,c){this.si=e,this.Ko=r,this.$o=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Qx(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,S.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,S.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var r=this;return(0,S.Z)(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(gr(n.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):n&&n.code===Z.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new de(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko((0,S.Z)(function*(){e.state=0,e.start()}))}o_(e){return pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bwe extends Hz{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function U0e(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:Re(),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(je(void 0===h||"string"==typeof h),Br.fromBase64String(h||"")):(je(void 0===h||h instanceof Uint8Array),Br.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const h=void 0===l.code?Z.UNKNOWN:kH(l.code);return new de(h,l.message||"")}(s);n=new UH(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Ma(t,r.document.name),o=_r(r.document.updateTime),s=r.document.createTime?_r(r.document.createTime):He.min(),a=new pi({mapValue:{fields:r.document.fields}}),c=xn.newFoundDocument(i,o,s,a);n=new PM(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=Ma(t,r.document),o=r.readTime?_r(r.readTime):He.min(),s=xn.newNoDocument(i,o);n=new PM([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=Ma(t,r.document);n=new PM([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Re();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new D0e(i,o);n=new VH(r.targetId,s)}}var l;return n}(this.serializer,e),r=function(o){if(!("targetChange"in o))return He.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?He.min():s.readTime?_r(s.readTime):He.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=jy(this.serializer),n.addTarget=function(o,s){let a;const c=s.target;if(a=gM(c)?{documents:ZH(o,c)}:{query:Tx(o,c)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=HH(o,s.resumeToken);const l=Ox(o,s.expectedCount);null!==l&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(He.min())>0){a.readTime=_f(o,s.snapshotVersion.toTimestamp());const l=Ox(o,s.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,e);const r=function j0e(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=jy(this.serializer),n.removeTarget=e,this.e_(n)}}class Twe extends Hz{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function B0e(t,e){return t&&t.length>0?(je(void 0!==e),t.map(n=>function(i,o){let s=_r(i.updateTime?i.updateTime:o);return s.isEqual(He.min())&&(s=_r(o)),new I0e(s,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=_r(e.commitTime);return this.listener.I_(r,n)}return je(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=jy(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>$y(this.serializer,r))};this.e_(n)}}class Awe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new de(Z.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.wo(e,n,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new de(Z.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,n,r,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new de(Z.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class Swe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(gr(n),this.f_=!1):pe("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class xwe{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{r.enqueueAndForget((0,S.Z)(function*(){var c;Gl(s)&&(pe("RemoteStore","Restarting streams for network reachability change."),yield(c=(0,S.Z)(function*(h){const f=Ce(h);f.C_.add(4),yield Of(f),f.M_.set("Unknown"),f.C_.delete(4),yield Qy(f)}),function l(h){return c.apply(this,arguments)})(s))}))}),this.M_=new Swe(r,i)}}function Qy(t){return Jx.apply(this,arguments)}function Jx(){return Jx=(0,S.Z)(function*(t){if(Gl(t))for(const e of t.v_)yield e(!0)}),Jx.apply(this,arguments)}function Of(t){return eR.apply(this,arguments)}function eR(){return eR=(0,S.Z)(function*(t){for(const e of t.v_)yield e(!1)}),eR.apply(this,arguments)}function VM(t,e){const n=Ce(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),rR(n)?nR(n):If(n).Ho()&&tR(n,e))}function Xy(t,e){const n=Ce(t),r=If(n);n.D_.delete(e),r.Ho()&&zz(n,e),0===n.D_.size&&(r.Ho()?r.Zo():Gl(n)&&n.M_.set("Unknown"))}function tR(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}If(t).u_(e)}function zz(t,e){t.x_.Oe(e),If(t).c_(e)}function nR(t){t.x_=new x0e({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),If(t).start(),t.M_.g_()}function rR(t){return Gl(t)&&!If(t).jo()&&t.D_.size>0}function Gl(t){return 0===Ce(t).C_.size}function Wz(t){t.x_=void 0}function Rwe(t){return iR.apply(this,arguments)}function iR(){return iR=(0,S.Z)(function*(t){t.D_.forEach((e,n)=>{tR(t,e)})}),iR.apply(this,arguments)}function kwe(t,e){return oR.apply(this,arguments)}function oR(){return oR=(0,S.Z)(function*(t,e){Wz(t),rR(t)?(t.M_.w_(e),nR(t)):t.M_.set("Unknown")}),oR.apply(this,arguments)}function Nwe(t,e,n){return sR.apply(this,arguments)}function sR(){return sR=(0,S.Z)(function*(t,e,n){if(t.M_.set("Online"),e instanceof UH&&2===e.state&&e.cause)try{yield(r=(0,S.Z)(function*(o,s){const a=s.cause;for(const c of s.targetIds)o.D_.has(c)&&(yield o.remoteSyncer.rejectListen(c,a),o.D_.delete(c),o.x_.removeTarget(c))}),function i(o,s){return r.apply(this,arguments)})(t,e)}catch(r){pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield UM(t,r)}else if(e instanceof PM?t.x_.$e(e):e instanceof VH?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(He.min()))try{const r=yield Rz(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const h=o.D_.get(l);h&&o.D_.set(l,h.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{const h=o.D_.get(c);if(!h)return;o.D_.set(c,h.withResumeToken(Br.EMPTY_BYTE_STRING,h.snapshotVersion)),zz(o,c);const f=new mc(h.target,c,l,h.sequenceNumber);tR(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){pe("RemoteStore","Failed to raise snapshot:",r),yield UM(t,r)}var r}),sR.apply(this,arguments)}function UM(t,e,n){return aR.apply(this,arguments)}function aR(){return aR=(0,S.Z)(function*(t,e,n){if(!kl(e))throw e;t.C_.add(1),yield Of(t),t.M_.set("Offline"),n||(n=()=>Rz(t.localStore)),t.asyncQueue.enqueueRetryable((0,S.Z)(function*(){pe("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield Qy(t)}))}),aR.apply(this,arguments)}function Gz(t,e){return e().catch(n=>UM(t,n,e))}function Ef(t){return cR.apply(this,arguments)}function cR(){return cR=(0,S.Z)(function*(t){const e=Ce(t),n=ql(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Fwe(e);)try{const i=yield Cwe(e.localStore,r);if(null===i){0===e.b_.length&&n.Zo();break}r=i.batchId,Lwe(e,i)}catch(i){yield UM(e,i)}qz(e)&&Kz(e)}),cR.apply(this,arguments)}function Fwe(t){return Gl(t)&&t.b_.length<10}function Lwe(t,e){t.b_.push(e);const n=ql(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function qz(t){return Gl(t)&&!ql(t).jo()&&t.b_.length>0}function Kz(t){ql(t).start()}function Vwe(t){return lR.apply(this,arguments)}function lR(){return lR=(0,S.Z)(function*(t){ql(t).E_()}),lR.apply(this,arguments)}function Uwe(t){return uR.apply(this,arguments)}function uR(){return uR=(0,S.Z)(function*(t){const e=ql(t);for(const n of t.b_)e.P_(n.mutations)}),uR.apply(this,arguments)}function Bwe(t,e,n){return dR.apply(this,arguments)}function dR(){return dR=(0,S.Z)(function*(t,e,n){const r=t.b_.shift(),i=wx.from(r,e,n);yield Gz(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Ef(t)}),dR.apply(this,arguments)}function jwe(t,e){return hR.apply(this,arguments)}function hR(){return hR=(0,S.Z)(function*(t,e){var n;e&&ql(t).h_&&(yield(n=(0,S.Z)(function*(i,o){if(RH(a=o.code)&&a!==Z.ABORTED){const s=i.b_.shift();ql(i).Yo(),yield Gz(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield Ef(i)}var a}),function r(i,o){return n.apply(this,arguments)})(t,e)),qz(t)&&Kz(t)}),hR.apply(this,arguments)}function Zz(t,e){return pR.apply(this,arguments)}function pR(){return pR=(0,S.Z)(function*(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),pe("RemoteStore","RemoteStore received new credentials");const r=Gl(n);n.C_.add(3),yield Of(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield Qy(n)}),pR.apply(this,arguments)}function fR(t,e){return gR.apply(this,arguments)}function gR(){return gR=(0,S.Z)(function*(t,e){const n=Ce(t);e?(n.C_.delete(2),yield Qy(n)):e||(n.C_.add(2),yield Of(n),n.M_.set("Unknown"))}),gR.apply(this,arguments)}function If(t){return t.O_||(t.O_=function(n,r,i){const o=Ce(n);return o.A_(),new bwe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:Rwe.bind(null,t),Io:kwe.bind(null,t),a_:Nwe.bind(null,t)}),t.v_.push(function(){var e=(0,S.Z)(function*(n){n?(t.O_.Yo(),rR(t)?nR(t):t.M_.set("Unknown")):(yield t.O_.stop(),Wz(t))});return function(n){return e.apply(this,arguments)}}())),t.O_}function ql(t){return t.N_||(t.N_=function(n,r,i){const o=Ce(n);return o.A_(),new Twe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:Vwe.bind(null,t),Io:jwe.bind(null,t),T_:Uwe.bind(null,t),I_:Bwe.bind(null,t)}),t.v_.push(function(){var e=(0,S.Z)(function*(n){n?(t.N_.Yo(),yield Ef(t)):(yield t.N_.stop(),t.b_.length>0&&(pe("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))});return function(n){return e.apply(this,arguments)}}())),t.N_}class _R{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new _R(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new de(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bf(t,e){if(gr("AsyncQueue",`${e}: ${t}`),kl(t))return new de(Z.UNAVAILABLE,`${e}: ${t}`);throw t}class Tf{constructor(e){this.comparator=e?(n,r)=>e(n,r)||we.comparator(n.key,r.key):(n,r)=>we.comparator(n.key,r.key),this.keyedMap=Ry(),this.sortedSet=new Pn(this.comparator)}static emptySet(e){return new Tf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Tf)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Tf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Yz{constructor(){this.B_=new Pn(we.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(n):1===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Re():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Af{constructor(e,n,r,i,o,s,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Af(e,n,Tf.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class $we{constructor(){this.k_=void 0,this.listeners=[]}}class Hwe{constructor(){this.queries=new gc(e=>fH(e),Sy),this.onlineState="Unknown",this.q_=new Set}}function mR(t,e){return yR.apply(this,arguments)}function yR(){return yR=(0,S.Z)(function*(t,e){const n=Ce(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new $we),i)try{o.k_=yield n.onListen(r)}catch(s){const a=bf(s,`Initialization of query '${df(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Q_(n.onlineState),o.k_&&e.K_(o.k_)&&wR(n)}),yR.apply(this,arguments)}function vR(t,e){return CR.apply(this,arguments)}function CR(){return CR=(0,S.Z)(function*(t,e){const n=Ce(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),CR.apply(this,arguments)}function zwe(t,e){const n=Ce(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.listeners)a.K_(i)&&(r=!0);s.k_=i}}r&&wR(n)}function Wwe(t,e,n){const r=Ce(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function wR(t){t.q_.forEach(e=>{e.next()})}class PR{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Af(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Af.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class Gwe{constructor(e,n){this.Y_=e,this.byteLength=n}Z_(){return"metadata"in this.Y_}}class Qz{constructor(e){this.serializer=e}hs(e){return Ma(this.serializer,e)}Ps(e){return e.metadata.exists?KH(this.serializer,e.document,!1):xn.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return _r(e)}}class qwe{constructor(e,n,r){this.X_=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Xz(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++n;const r=Ut.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ta(e){const n=new Map,r=new Qz(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.hs(i.metadata.name);for(const s of i.metadata.queries){const a=(n.get(s)||dt()).add(o);n.set(s,a)}}return n}complete(){var e=this;return(0,S.Z)(function*(){const n=yield function wwe(t,e,n,r){return zx.apply(this,arguments)}(e.localStore,new Qz(e.serializer),e.documents,e.X_.id),r=e.ta(e.documents);for(const i of e.queries)yield Pwe(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:n}})()}}function Xz(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class Jz{constructor(e){this.key=e}}class e7{constructor(e){this.key=e}}class t7{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=dt(),this.mutatedKeys=dt(),this._a=_H(e),this.aa=new Tf(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new Yz,i=n?n.aa:this.aa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const y=i.get(h),v=xy(this.query,f)?f:null,O=!!y&&this.mutatedKeys.has(y.key),b=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let D=!1;y&&v?y.data.isEqual(v.data)?O!==b&&(r.track({type:3,doc:v}),D=!0):this.ha(y,v)||(r.track({type:2,doc:v}),D=!0,(c&&this._a(v,c)>0||l&&this._a(v,l)<0)&&(a=!0)):!y&&v?(r.track({type:0,doc:v}),D=!0):y&&!v&&(r.track({type:1,doc:y}),D=!0,(c||l)&&(a=!0)),D&&(v?(s=s.add(v),o=b?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const h="F"===this.query.limitType?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{aa:s,la:r,Zi:a,mutatedKeys:o}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((l,h)=>function(y,v){const O=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return O(y)-O(v)}(l.type,h.type)||this._a(l.doc,h.doc)),this.Pa(r);const s=n?this.Ia():[],a=0===this.oa.size&&this.current?1:0,c=a!==this.sa;return this.sa=a,0!==o.length||c?{snapshot:new Af(this.query,e.aa,i,o,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new Yz,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=dt(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new e7(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new Jz(r))}),n}da(e){this.ia=e.ls,this.oa=dt();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Af.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Kwe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Zwe{constructor(e){this.key=e,this.Ra=!1}}class Ywe{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new gc(a=>fH(a),Sy),this.fa=new Map,this.ga=new Set,this.pa=new Pn(we.comparator),this.ya=new Map,this.wa=new Fx,this.Sa={},this.ba=new Map,this.Da=bd.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function Qwe(t,e){return MR.apply(this,arguments)}function MR(){return MR=(0,S.Z)(function*(t,e){const n=GR(t);let r,i;const o=n.ma.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{const s=yield Pf(n.localStore,to(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield OR(n,e,r,"current"===a,s.resumeToken),n.isPrimaryClient&&VM(n.remoteStore,s)}return i}),MR.apply(this,arguments)}function OR(t,e,n,r,i){return ER.apply(this,arguments)}function ER(){return ER=(0,S.Z)(function*(t,e,n,r,i){t.va=(f,y,v)=>{return(O=(0,S.Z)(function*(D,U,L,q){let G=U.view.ca(L);G.Zi&&(G=yield RM(D.localStore,U.query,!1).then(({documents:ft})=>U.view.ca(ft,G)));const ge=q&&q.targetChanges.get(U.targetId),Te=U.view.applyChanges(G,D.isPrimaryClient,ge);return NR(D,U.targetId,Te.Ta),Te.snapshot}),function b(D,U,L,q){return O.apply(this,arguments)})(t,f,y,v);var O};const o=yield RM(t.localStore,e,!0),s=new t7(e,o.ls),a=s.ca(o.documents),c=Uy.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=s.applyChanges(a,t.isPrimaryClient,c);NR(t,n,l.Ta);const h=new Kwe(e,n,s);return t.ma.set(e,h),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),l.snapshot}),ER.apply(this,arguments)}function Xwe(t,e){return IR.apply(this,arguments)}function IR(){return IR=(0,S.Z)(function*(t,e){const n=Ce(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(o=>!Sy(o,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Mf(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Xy(n.remoteStore,r.targetId),Df(n,r.targetId)}).catch(Rl))):(Df(n,r.targetId),yield Mf(n.localStore,r.targetId,!0))}),IR.apply(this,arguments)}function bR(){return bR=(0,S.Z)(function*(t,e,n){const r=qR(t);try{const i=yield function(s,a){const c=Ce(s),l=Bn.now(),h=a.reduce((v,O)=>v.add(O.key),dt());let f,y;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let O=vo(),b=dt();return c.ss.getEntries(v,h).next(D=>{O=D,O.forEach((U,L)=>{L.isValidDocument()||(b=b.add(U))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,O)).next(D=>{f=D;const U=[];for(const L of a){const q=T0e(L,f.get(L.key).overlayedDocument);null!=q&&U.push(new _c(L.key,q,J8(q.value.mapValue),jn.exists(!0)))}return c.mutationQueue.addMutationBatch(v,l,U,a)}).next(D=>{y=D;const U=D.applyToLocalDocumentSet(f,b);return c.documentOverlayCache.saveOverlays(v,D.batchId,U)})}).then(()=>({batchId:y.batchId,changes:yH(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let l=s.Sa[s.currentUser.toKey()];l||(l=new Pn(Je)),l=l.insert(a,c),s.Sa[s.currentUser.toKey()]=l}(r,i.batchId,n),yield yc(r,i.changes),yield Ef(r.remoteStore)}catch(i){const o=bf(i,"Failed to persist write");n.reject(o)}}),bR.apply(this,arguments)}function n7(t,e){return TR.apply(this,arguments)}function TR(){return TR=(0,S.Z)(function*(t,e){const n=Ce(t);try{const r=yield function vwe(t,e){const n=Ce(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((h,f)=>{const y=i.get(f);if(!y)return;a.push(n.qr.removeMatchingKeys(o,h.removedDocuments,f).next(()=>n.qr.addMatchingKeys(o,h.addedDocuments,f)));let v=y.withSequenceNumber(o.currentSequenceNumber);var b,D,U;null!==e.targetMismatches.get(f)?v=v.withResumeToken(Br.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(f,v),D=v,U=h,(0===(b=y).resumeToken.approximateByteSize()||D.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8||U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0)&&a.push(n.qr.updateTargetData(o,v))});let c=vo(),l=dt();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(kz(o,s,e.documentUpdates).next(h=>{c=h.us,l=h.cs})),!r.isEqual(He.min())){const h=n.qr.getLastRemoteSnapshotVersion(o).next(f=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return H.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(n.ts=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.ya.get(o);s&&(je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ra=!0:i.modifiedDocuments.size>0?je(s.Ra):i.removedDocuments.size>0&&(je(s.Ra),s.Ra=!1))}),yield yc(n,r,e)}catch(r){yield Rl(r)}}),TR.apply(this,arguments)}function r7(t,e,n){const r=Ce(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const c=Ce(s);c.onlineState=a;let l=!1;c.queries.forEach((h,f)=>{for(const y of f.listeners)y.Q_(a)&&(l=!0)}),l&&wR(c)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ePe(t,e,n){return AR.apply(this,arguments)}function AR(){return AR=(0,S.Z)(function*(t,e,n){const r=Ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),o=i&&i.key;if(o){let s=new Pn(we.comparator);s=s.insert(o,xn.newNoDocument(o,He.min()));const a=dt().add(o),c=new Vy(He.min(),new Map,new Pn(Je),s,a);yield n7(r,c),r.pa=r.pa.remove(o),r.ya.delete(e),FR(r)}else yield Mf(r.localStore,e,!1).then(()=>Df(r,e,n)).catch(Rl)}),AR.apply(this,arguments)}function tPe(t,e){return DR.apply(this,arguments)}function DR(){return DR=(0,S.Z)(function*(t,e){const n=Ce(t),r=e.batch.batchId;try{const i=yield function ywe(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,h){const f=l.batch,y=f.keys();let v=H.resolve();return y.forEach(O=>{v=v.next(()=>h.getEntry(c,O)).next(b=>{const D=l.docVersions.get(O);je(null!==D),b.version.compareTo(D)<0&&(f.applyToRemoteDocument(b,l),b.isValidDocument()&&(b.setReadTime(l.commitVersion),h.addEntry(b)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=dt();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);kR(n,r,null),RR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield yc(n,i)}catch(i){yield Rl(i)}}),DR.apply(this,arguments)}function nPe(t,e,n){return SR.apply(this,arguments)}function SR(){return SR=(0,S.Z)(function*(t,e,n){const r=Ce(t);try{const i=yield function(s,a){const c=Ce(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return c.mutationQueue.lookupMutationBatch(l,a).next(f=>(je(null!==f),h=f.keys(),c.mutationQueue.removeMutationBatch(l,f))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>c.localDocuments.getDocuments(l,h))})}(r.localStore,e);kR(r,e,n),RR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield yc(r,i)}catch(i){yield Rl(i)}}),SR.apply(this,arguments)}function xR(){return xR=(0,S.Z)(function*(t,e){const n=Ce(t);Gl(n.remoteStore)||pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const a=Ce(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(n.localStore);if(-1===r)return void e.resolve();const i=n.ba.get(r)||[];i.push(e),n.ba.set(r,i)}catch(r){const i=bf(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),xR.apply(this,arguments)}function RR(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function kR(t,e,n){const r=Ce(t);let i=r.Sa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Df(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||i7(t,r)})}function i7(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);null!==n&&(Xy(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),FR(t))}function NR(t,e,n){for(const r of n)r instanceof Jz?(t.wa.addReference(r.key,e),iPe(t,r)):r instanceof e7?(pe("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||i7(t,r.key)):Re()}function iPe(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(pe("SyncEngine","New document in limbo: "+n),t.ga.add(r),FR(t))}function FR(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new we(Ut.fromString(e)),r=t.Da.next();t.ya.set(r,new Zwe(n)),t.pa=t.pa.insert(n,r),VM(t.remoteStore,new mc(to(lf(n.path)),r,"TargetPurposeLimboResolution",Vo._e))}}function yc(t,e,n){return LR.apply(this,arguments)}function LR(){return LR=(0,S.Z)(function*(t,e,n){const r=Ce(t),i=[],o=[],s=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,c)=>{s.push(r.va(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const h=jx.Qi(c.targetId,l);o.push(h)}}))}),yield Promise.all(s),r.Va.a_(i),yield(a=(0,S.Z)(function*(l,h){const f=Ce(l);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>H.forEach(h,v=>H.forEach(v.ki,O=>f.persistence.referenceDelegate.addReference(y,v.targetId,O)).next(()=>H.forEach(v.qi,O=>f.persistence.referenceDelegate.removeReference(y,v.targetId,O)))))}catch(y){if(!kl(y))throw y;pe("LocalStore","Failed to update sequence numbers: "+y)}for(const y of h){const v=y.targetId;if(!y.fromCache){const O=f.ts.get(v),D=O.withLastLimboFreeSnapshotVersion(O.snapshotVersion);f.ts=f.ts.insert(v,D)}}}),function c(l,h){return a.apply(this,arguments)})(r.localStore,o))}),LR.apply(this,arguments)}function oPe(t,e){return VR.apply(this,arguments)}function VR(){return VR=(0,S.Z)(function*(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){pe("SyncEngine","User change. New user:",e.toKey());const r=yield xz(n.localStore,e);n.currentUser=e,(o=n).ba.forEach(a=>{a.forEach(c=>{c.reject(new de(Z.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ba.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield yc(n,r._s)}var o}),VR.apply(this,arguments)}function sPe(t,e){const n=Ce(t),r=n.ya.get(e);if(r&&r.Ra)return dt().add(r.key);{let i=dt();const o=n.fa.get(e);if(!o)return i;for(const s of o){const a=n.ma.get(s);i=i.unionWith(a.view.ua)}return i}}function aPe(t,e){return UR.apply(this,arguments)}function UR(){return UR=(0,S.Z)(function*(t,e){const n=Ce(t),r=yield RM(n.localStore,e.query,!0),i=e.view.da(r);return n.isPrimaryClient&&NR(n,e.targetId,i.Ta),i}),UR.apply(this,arguments)}function cPe(t,e){return BR.apply(this,arguments)}function BR(){return BR=(0,S.Z)(function*(t,e){const n=Ce(t);return Fz(n.localStore,e).then(r=>yc(n,r))}),BR.apply(this,arguments)}function lPe(t,e,n,r){return jR.apply(this,arguments)}function jR(){return jR=(0,S.Z)(function*(t,e,n,r){const i=Ce(t),o=yield function(a,c){const l=Ce(a),h=Ce(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",f=>h.Cn(f,c).next(y=>y?l.localDocuments.getDocuments(f,y):H.resolve(null)))}(i.localStore,e);var c;null!==o?("pending"===n?yield Ef(i.remoteStore):"acknowledged"===n||"rejected"===n?(kR(i,e,r||null),RR(i,e),c=e,Ce(Ce(i.localStore).mutationQueue).Fn(c)):Re(),yield yc(i,o)):pe("SyncEngine","Cannot apply mutation batch with id: "+e)}),jR.apply(this,arguments)}function $R(){return $R=(0,S.Z)(function*(t,e){const n=Ce(t);if(GR(n),qR(n),!0===e&&!0!==n.Ca){const r=n.sharedClientState.getAllActiveQueryTargets(),i=yield o7(n,r.toArray());n.Ca=!0,yield fR(n.remoteStore,!0);for(const o of i)VM(n.remoteStore,o)}else if(!1===e&&!1!==n.Ca){const r=[];let i=Promise.resolve();n.fa.forEach((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(Df(n,s),Mf(n.localStore,s,!0))),Xy(n.remoteStore,s)}),yield i,yield o7(n,r),function(s){const a=Ce(s);a.ya.forEach((c,l)=>{Xy(a.remoteStore,l)}),a.wa.Vr(),a.ya=new Map,a.pa=new Pn(we.comparator)}(n),n.Ca=!1,yield fR(n.remoteStore,!1)}}),$R.apply(this,arguments)}function o7(t,e,n){return HR.apply(this,arguments)}function HR(){return HR=(0,S.Z)(function*(t,e,n){const r=Ce(t),i=[],o=[];for(const s of e){let a;const c=r.fa.get(s);if(c&&0!==c.length){a=yield Pf(r.localStore,to(c[0]));for(const l of c){const h=r.ma.get(l),f=yield aPe(r,h);f.snapshot&&o.push(f.snapshot)}}else{const l=yield Nz(r.localStore,s);a=yield Pf(r.localStore,l),yield OR(r,s7(l),s,!1,a.resumeToken)}i.push(a)}return r.Va.a_(o),i}),HR.apply(this,arguments)}function s7(t){return dH(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function dPe(t){return n=Ce(t).localStore,Ce(Ce(n).persistence).Bi();var n}function hPe(t,e,n,r){return zR.apply(this,arguments)}function zR(){return zR=(0,S.Z)(function*(t,e,n,r){const i=Ce(t);if(i.Ca)return void pe("SyncEngine","Ignoring unexpected query state notification.");const o=i.fa.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{const s=yield Fz(i.localStore,gH(o[0])),a=Vy.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,Br.EMPTY_BYTE_STRING);yield yc(i,s,a);break}case"rejected":yield Mf(i.localStore,e,!0),Df(i,e,r);break;default:Re()}}),zR.apply(this,arguments)}function pPe(t,e,n){return WR.apply(this,arguments)}function WR(){return WR=(0,S.Z)(function*(t,e,n){const r=GR(t);if(r.Ca){for(const i of e){if(r.fa.has(i)){pe("SyncEngine","Adding an already active target "+i);continue}const o=yield Nz(r.localStore,i),s=yield Pf(r.localStore,o);yield OR(r,s7(o),s.targetId,!1,s.resumeToken),VM(r.remoteStore,s)}for(const i of n)r.fa.has(i)&&(yield Mf(r.localStore,i,!1).then(()=>{Xy(r.remoteStore,i),Df(r,i)}).catch(Rl))}}),WR.apply(this,arguments)}function GR(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=n7.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sPe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ePe.bind(null,e),e.Va.a_=zwe.bind(null,e.eventManager),e.Va.Fa=Wwe.bind(null,e.eventManager),e}function qR(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tPe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nPe.bind(null,e),e}class Jy{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,S.Z)(function*(){n.serializer=Yy(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Sz(this.persistence,new Dz,e.initialUser,this.serializer)}createPersistence(e){return new Lx(DM.jr,this.serializer)}createSharedClientState(e){return new Bz}terminate(){var e=this;return(0,S.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class KR extends Jy{constructor(e,n,r){super(),this.xa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,r=this;return(0,S.Z)(function*(){yield n().call(r,e),yield r.xa.initialize(r,e),yield qR(r.xa.syncEngine),yield Ef(r.xa.remoteStore),yield r.persistence.mi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Sz(this.persistence,new Dz,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new wz(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new BCe(n,this.persistence);return new UCe(e.asyncQueue,r)}createPersistence(e){const n=Bx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?xi.withCacheSize(this.cacheSizeBytes):xi.DEFAULT;return new Ux(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,$z(),LM(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Bz}}class a7 extends KR{constructor(e,n){super(e,n,!1),this.xa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,r=this;return(0,S.Z)(function*(){yield n().call(r,e);const i=r.xa.syncEngine;r.sharedClientState instanceof Zx&&(r.sharedClientState.syncEngine={Ys:lPe.bind(null,i),Zs:hPe.bind(null,i),Xs:pPe.bind(null,i),Bi:dPe.bind(null,i),Js:cPe.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.mi(function(){var o=(0,S.Z)(function*(s){yield function uPe(t,e){return $R.apply(this,arguments)}(r.xa.syncEngine,s),r.gcScheduler&&(s&&!r.gcScheduler.started?r.gcScheduler.start():s||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(s&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():s||r.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const n=$z();if(!Zx.D(n))throw new de(Z.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Bx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Zx(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Sf{initialize(e,n){var r=this;return(0,S.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>r7(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=oPe.bind(null,r.syncEngine),yield fR(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Hwe}createDatastore(e){const n=Yy(e.databaseInfo.databaseId),r=new Iwe(e.databaseInfo);return new Awe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,o=e.asyncQueue,s=n=>r7(this.syncEngine,n,0),a=jz.D()?new jz:new Mwe,new xwe(r,i,o,s,a);var r,i,o,s,a}createSyncEngine(e,n){return function(i,o,s,a,c,l,h){const f=new Ywe(i,o,s,a,c,l);return h&&(f.Ca=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,S.Z)(function*(r){const i=Ce(r);pe("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield Of(i),i.F_.shutdown(),i.M_.set("Unknown")}),function n(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function c7(t,e=10240){let n=0;return{read:()=>(0,S.Z)(function*(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})(),cancel:()=>(0,S.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class BM{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):gr("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class _Pe{constructor(e,n){this.Ba=e,this.serializer=n,this.metadata=new Ur,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(r=>{r&&r.Z_()?this.metadata.resolve(r.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Y_)}`))},r=>this.metadata.reject(r))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,S.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,S.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,S.Z)(function*(){const n=yield e.qa();if(null===n)return null;const r=e.La.decode(n),i=Number(r);isNaN(i)&&e.Qa(`length string (${r}) is not valid number`);const o=yield e.Ka(i);return new Gwe(JSON.parse(o),n.length+i)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,S.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const n=e.$a();n<0&&e.Qa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),r})()}Ka(e){var n=this;return(0,S.Z)(function*(){for(;n.buffer.length<e;)(yield n.Ua())&&n.Qa("Reached the end of bundle when more is expected.");const r=n.La.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),r})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,S.Z)(function*(){const n=yield e.Ba.read();if(!n.done){const r=new Uint8Array(e.buffer.length+n.value.length);r.set(e.buffer),r.set(n.value,e.buffer.length),e.buffer=r}return n.done})()}}class mPe{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,S.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new de(Z.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,S.Z)(function*(s,a){const c=Ce(s),l=jy(c.serializer)+"/documents",h={documents:a.map(O=>By(c.serializer,O))},f=yield c.Co("BatchGetDocuments",l,h,a.length),y=new Map;f.forEach(O=>{const b=function V0e(t,e){return"found"in e?function(r,i){je(!!i.found);const o=Ma(r,i.found.name),s=_r(i.found.updateTime),a=i.found.createTime?_r(i.found.createTime):He.min(),c=new pi({mapValue:{fields:i.found.fields}});return xn.newFoundDocument(o,s,a,c)}(t,e):"missing"in e?function(r,i){je(!!i.missing),je(!!i.readTime);const o=Ma(r,i.missing),s=_r(i.readTime);return xn.newNoDocument(o,s)}(t,e):Re()}(c.serializer,O);y.set(b.key.toString(),b)});const v=[];return a.forEach(O=>{const b=y.get(O.toString());je(!!b),v.push(b)}),v}),function o(s,a){return i.apply(this,arguments)})(n.datastore,e);var i;return r.forEach(i=>n.recordVersion(i)),r})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new gf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,S.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var r;e.mutations.forEach(r=>{n.delete(r.key.toString())}),n.forEach((r,i)=>{const o=we.fromPath(i);e.mutations.push(new vx(o,e.precondition(o)))}),yield(r=(0,S.Z)(function*(o,s){const a=Ce(o),c=jy(a.serializer)+"/documents",l={writes:s.map(h=>$y(a.serializer,h))};yield a.wo("Commit",c,l)}),function i(o,s){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Re();n=He.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new de(Z.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(He.min())?jn.exists(!1):jn.updateTime(n):jn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(He.min()))throw new de(Z.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return jn.updateTime(n)}return jn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class yPe{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this.Wa=r.maxAttempts,this.zo=new Qx(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,S.Z)(function*(){const n=new mPe(e.datastore),r=e.za(n);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(i)}).catch(o=>{e.ja(o)}))}).catch(i=>{e.ja(i)})}))}za(e){try{const n=this.updateFunction(e);return!My(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!RH(n)}return!1}}class vPe{constructor(e,n,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Yr.UNAUTHENTICATED,this.clientId=A8.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=(0,S.Z)(function*(a){pe("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(pe("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return(0,S.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new de(Z.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,S.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=bf(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function jM(t,e){return ZR.apply(this,arguments)}function ZR(){return ZR=(0,S.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),pe("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=(0,S.Z)(function*(o){r.isEqual(o)||(yield xz(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),ZR.apply(this,arguments)}function YR(t,e){return QR.apply(this,arguments)}function QR(){return QR=(0,S.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield XR(t);pe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>Zz(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>Zz(e.remoteStore,o)),t._onlineComponents=e}),QR.apply(this,arguments)}function l7(t){return"FirebaseError"===t.name?t.code===Z.FAILED_PRECONDITION||t.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function XR(t){return JR.apply(this,arguments)}function JR(){return JR=(0,S.Z)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield jM(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!l7(n))throw n;mo("Error using user provided cache. Falling back to memory cache: "+n),yield jM(t,new Jy)}}else pe("FirestoreClient","Using default OfflineComponentProvider"),yield jM(t,new Jy);return t._offlineComponents}),JR.apply(this,arguments)}function $M(t){return ek.apply(this,arguments)}function ek(){return ek=(0,S.Z)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe("FirestoreClient","Using user provided OnlineComponentProvider"),yield YR(t,t._uninitializedComponentsProvider._online)):(pe("FirestoreClient","Using default OnlineComponentProvider"),yield YR(t,new Sf))),t._onlineComponents}),ek.apply(this,arguments)}function u7(t){return XR(t).then(e=>e.persistence)}function xf(t){return XR(t).then(e=>e.localStore)}function d7(t){return $M(t).then(e=>e.remoteStore)}function tk(t){return $M(t).then(e=>e.syncEngine)}function Rf(t){return nk.apply(this,arguments)}function nk(){return nk=(0,S.Z)(function*(t){const e=yield $M(t),n=e.eventManager;return n.onListen=Qwe.bind(null,e.syncEngine),n.onUnlisten=Xwe.bind(null,e.syncEngine),n}),nk.apply(this,arguments)}function p7(t,e,n={}){const r=new Ur;return t.asyncQueue.enqueueAndForget((0,S.Z)(function*(){return function(o,s,a,c,l){const h=new BM({next:y=>{s.enqueueAndForget(()=>vR(o,f));const v=y.docs.has(a);!v&&y.fromCache?l.reject(new de(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&y.fromCache&&c&&"server"===c.source?l.reject(new de(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(y)},error:y=>l.reject(y)}),f=new PR(lf(a.path),h,{includeMetadataChanges:!0,J_:!0});return mR(o,f)}(yield Rf(t),t.asyncQueue,e,n,r)})),r.promise}function f7(t,e,n={}){const r=new Ur;return t.asyncQueue.enqueueAndForget((0,S.Z)(function*(){return function(o,s,a,c,l){const h=new BM({next:y=>{s.enqueueAndForget(()=>vR(o,f)),y.fromCache&&"server"===c.source?l.reject(new de(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(y)},error:y=>l.reject(y)}),f=new PR(a,h,{includeMetadataChanges:!0,J_:!0});return mR(o,f)}(yield Rf(t),t.asyncQueue,e,n,r)})),r.promise}function g7(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const _7=new Map;function rk(t,e,n){if(!n)throw new de(Z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function m7(t,e,n,r){if(!0===e&&!0===r)throw new de(Z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function y7(t){if(!we.isDocumentKey(t))throw new de(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function v7(t){if(we.isDocumentKey(t))throw new de(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function HM(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":Re()}function Tt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=HM(t);throw new de(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function C7(t,e){if(e<=0)throw new de(Z.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class w7{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new de(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new de(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}m7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=g7(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new de(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new de(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new de(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ev{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w7({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new de(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new de(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w7(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new bCe;switch(r.type){case"firstParty":return new SCe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=_7.get(n);r&&(pe("ComponentProvider","Removing Datastore"),_7.delete(n),r.terminate())}(this),Promise.resolve()}}function P7(t,e,n,r={}){var i;const o=(t=Tt(t,ev))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=Yr.MOCK_USER;else{a=(0,E.Sg)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new de(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Yr(l)}t._authCredentials=new TCe(new b8(a,c))}}class fi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fi(this.firestore,e,this._query)}}class Rn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class Oa extends fi{constructor(e,n,r){super(e,n,lf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new we(e))}withConverter(e){return new Oa(this.firestore,e,this._path)}}function M7(t,e,...n){if(t=(0,E.m9)(t),rk("collection","path",e),t instanceof ev){const r=Ut.fromString(e,...n);return v7(r),new Oa(t,null,r)}{if(!(t instanceof Rn||t instanceof Oa))throw new de(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ut.fromString(e,...n));return v7(r),new Oa(t.firestore,null,r)}}function zM(t,e,...n){if(t=(0,E.m9)(t),1===arguments.length&&(e=A8.newId()),rk("doc","path",e),t instanceof ev){const r=Ut.fromString(e,...n);return y7(r),new Rn(t,null,new we(r))}{if(!(t instanceof Rn||t instanceof Oa))throw new de(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ut.fromString(e,...n));return y7(r),new Rn(t.firestore,t instanceof Oa?t.converter:null,new we(r))}}function O7(t,e){return t=(0,E.m9)(t),e=(0,E.m9)(e),(t instanceof Rn||t instanceof Oa)&&(e instanceof Rn||e instanceof Oa)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function ik(t,e){return t=(0,E.m9)(t),e=(0,E.m9)(e),t instanceof fi&&e instanceof fi&&t.firestore===e.firestore&&Sy(t._query,e._query)&&t.converter===e.converter}class SPe{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Qx(this,"async_queue_retry"),this.iu=()=>{const n=LM();n&&pe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=LM();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=LM();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Ur;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,S.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!kl(n))throw n;pe("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,gr("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=_R.createAndSchedule(this,e,n,r,o=>this.au(o));return this.Xa.push(i),i}su(){this.eu&&Re()}verifyOperationInProgress(){}uu(){var e=this;return(0,S.Z)(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function ok(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(t)}class xPe{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ur,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Mn extends ev{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new SPe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||E7(this),this._firestoreClient.terminate()}}function kPe(t,e){const n="object"==typeof t?t:(0,$e.getApp)(),r="string"==typeof t?t:e||"(default)",i=(0,$e._getProvider)(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(0,E.P0)("firestore");o&&P7(i,...o)}return i}function or(t){return t._firestoreClient||E7(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function E7(t){var e,n,r;const i=t._freezeSettings(),o=(c=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new a0e(t._databaseId,c,t._persistenceKey,(h=i).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,g7(h.experimentalLongPollingOptions),h.useFetchStreams));var c,h;t._firestoreClient=new vPe(t._authCredentials,t._appCheckCredentials,t._queue,o),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function I7(t,e,n){const r=new Ur;return t.asyncQueue.enqueue((0,S.Z)(function*(){try{yield jM(t,n),yield YR(t,e),r.resolve()}catch(i){const o=i;if(!l7(o))throw o;mo("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}})).then(()=>r.promise)}function b7(t){if(t._initialized||t._terminated)throw new de(Z.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ea{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ea(Br.fromBase64String(e))}catch(n){throw new de(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ea(Br.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class vc{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new de(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ad{constructor(e){this._methodName=e}}class WM{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}}const zPe=/^__.*__$/;class WPe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new _c(e,this.data,this.fieldMask,n,this.fieldTransforms):new ff(e,this.data,n,this.fieldTransforms)}}class T7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new _c(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function A7(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class GM{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new GM(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return ZM(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(A7(this.Iu)&&zPe.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class GPe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Yy(e)}pu(e,n,r,i=!1){return new GM({Iu:e,methodName:n,gu:r,path:Sn.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dd(t){const e=t._freezeSettings(),n=Yy(t._databaseId);return new GPe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qM(t,e,n,r,i,o={}){const s=t.pu(o.merge||o.mergeFields?2:0,e,n,i);lk("Data must be an object, but it was:",s,r);const a=x7(r,s);let c,l;if(o.merge)c=new yo(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const f of o.mergeFields){const y=rv(e,f,n);if(!s.contains(y))throw new de(Z.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);k7(h,y)||h.push(y)}c=new yo(h),l=s.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,l=s.fieldTransforms;return new WPe(new pi(a),c,l)}class nv extends Ad{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nv}}function D7(t,e,n){return new GM({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class sk extends Ad{_toFieldTransform(e){return new Ny(e.path,new hf)}isEqual(e){return e instanceof sk}}class qPe extends Ad{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=D7(this,e,!0),r=this.yu.map(o=>Sd(o,n)),i=new Cd(r);return new Ny(e.path,i)}isEqual(e){return this===e}}class KPe extends Ad{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=D7(this,e,!0),r=this.yu.map(o=>Sd(o,n)),i=new wd(r);return new Ny(e.path,i)}isEqual(e){return this===e}}class ZPe extends Ad{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=new pf(e.serializer,PH(e.serializer,this.wu));return new Ny(e.path,n)}isEqual(e){return this===e}}function ak(t,e,n,r){const i=t.pu(1,e,n);lk("Data must be an object, but it was:",i,r);const o=[],s=pi.empty();Nl(r,(c,l)=>{const h=KM(e,c,n);l=(0,E.m9)(l);const f=i.Ru(h);if(l instanceof nv)o.push(h);else{const y=Sd(l,f);null!=y&&(o.push(h),s.set(h,y))}});const a=new yo(o);return new T7(s,a,i.fieldTransforms)}function ck(t,e,n,r,i,o){const s=t.pu(1,e,n),a=[rv(e,r,n)],c=[i];if(o.length%2!=0)throw new de(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)a.push(rv(e,o[y])),c.push(o[y+1]);const l=[],h=pi.empty();for(let y=a.length-1;y>=0;--y)if(!k7(l,a[y])){const v=a[y];let O=c[y];O=(0,E.m9)(O);const b=s.Ru(v);if(O instanceof nv)l.push(v);else{const D=Sd(O,b);null!=D&&(l.push(v),h.set(v,D))}}const f=new yo(l);return new T7(h,f,s.fieldTransforms)}function S7(t,e,n,r=!1){return Sd(n,t.pu(r?4:3,e))}function Sd(t,e){if(R7(t=(0,E.m9)(t)))return lk("Unsupported field value:",e,t),x7(t,e);if(t instanceof Ad)return function(r,i){if(!A7(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let c=Sd(a,i.Vu(s));null==c&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if(null===(r=(0,E.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return PH(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=Bn.fromDate(r);return{timestampValue:_f(i.serializer,o)}}if(r instanceof Bn){const o=new Bn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_f(i.serializer,o)}}if(r instanceof WM)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ea)return{bytesValue:HH(i.serializer,r._byteString)};if(r instanceof Rn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ex(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${HM(r)}`)}(t,e)}function x7(t,e){const n={};return z8(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Nl(t,(r,i)=>{const o=Sd(i,e.Eu(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function R7(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Bn||t instanceof WM||t instanceof Ea||t instanceof Rn||t instanceof Ad)}function lk(t,e,n){if(!R7(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=HM(n);throw e.mu("an object"===r?t+" a custom object":t+" "+r)}var i}function rv(t,e,n){if((e=(0,E.m9)(e))instanceof vc)return e._internalPath;if("string"==typeof e)return KM(t,e);throw ZM("Field path arguments must be of type string or ",t,!1,void 0,n)}const YPe=new RegExp("[~\\*/\\[\\]]");function KM(t,e,n){if(e.search(YPe)>=0)throw ZM(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vc(...e.split("."))._internalPath}catch{throw ZM(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ZM(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new de(Z.INVALID_ARGUMENT,a+t+c)}function k7(t,e){return t.some(n=>n.isEqual(e))}class iv{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new QPe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(YM("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class QPe extends iv{data(){return super.data()}}function YM(t,e){return"string"==typeof e?KM(t,e):e instanceof vc?e._internalPath:e._delegate._internalPath}function N7(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new de(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uk{}class ov extends uk{}function Kl(t,e,...n){let r=[];e instanceof uk&&r.push(e),r=r.concat(n),function(o){const s=o.filter(c=>c instanceof kf).length,a=o.filter(c=>c instanceof sv).length;if(s>1||s>0&&a>0)throw new de(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class sv extends ov{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new sv(e,n,r)}_apply(e){const n=this._parse(e);return U7(e._query,n),new fi(e.firestore,e.converter,mx(e._query,n))}_parse(e){const n=Dd(e.firestore);return function(o,s,a,c,l,h,f){let y;if(l.isKeyField()){if("array-contains"===h||"array-contains-any"===h)throw new de(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if("in"===h||"not-in"===h){V7(f,h);const v=[];for(const O of f)v.push(L7(c,o,O));y={arrayValue:{values:v}}}else y=L7(c,o,f)}else"in"!==h&&"not-in"!==h&&"array-contains-any"!==h||V7(f,h),y=S7(a,"where",f,"in"===h||"not-in"===h);return St.create(l,h,y)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class kf extends uk{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new kf(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:en.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const c of a)U7(s,c),s=mx(s,c)}(e._query,n),new fi(e.firestore,e.converter,mx(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class dk extends ov{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new dk(e,n)}_apply(e){const n=function(i,o,s){if(null!==i.startAt)throw new de(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new de(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ay(o,s)}(e._query,this._field,this._direction);return new fi(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new fc(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}class QM extends ov{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new QM(e,n,r)}_apply(e){return new fi(e.firestore,e.converter,mM(e._query,this._limit,this._limitType))}}class XM extends ov{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new XM(e,n,r)}_apply(e){const n=F7(e,this.type,this._docOrFields,this._inclusive);return new fi(e.firestore,e.converter,(o=n,new fc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)));var i,o}}class JM extends ov{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new JM(e,n,r)}_apply(e){const n=F7(e,this.type,this._docOrFields,this._inclusive);return new fi(e.firestore,e.converter,(o=n,new fc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)));var i,o}}function F7(t,e,n,r){if(n[0]=(0,E.m9)(n[0]),n[0]instanceof iv)return function(o,s,a,c,l){if(!c)throw new de(Z.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const f of uf(o))if(f.field.isKeyField())h.push(yd(s,c.key));else{const y=c.data.field(f.field);if(uM(y))throw new de(Z.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===y){const v=f.field.canonicalString();throw new de(Z.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}h.push(y)}return new jl(h,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Dd(t.firestore);return function(s,a,c,l,h,f){const y=s.explicitOrderBy;if(h.length>y.length)throw new de(Z.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const v=[];for(let O=0;O<h.length;O++){const b=h[O];if(y[O].field.isKeyField()){if("string"!=typeof b)throw new de(Z.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof b}`);if(!_x(s)&&-1!==b.indexOf("/"))throw new de(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${b}' contains a slash.`);const D=s.path.child(Ut.fromString(b));if(!we.isDocumentKey(D))throw new de(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${D}' is not because it contains an odd number of segments.`);const U=new we(D);v.push(yd(a,U))}else{const D=S7(c,l,b);v.push(D)}}return new jl(v,f)}(t._query,t.firestore._databaseId,i,e,n,r)}}function L7(t,e,n){if("string"==typeof(n=(0,E.m9)(n))){if(""===n)throw new de(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_x(e)&&-1!==n.indexOf("/"))throw new de(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ut.fromString(n));if(!we.isDocumentKey(r))throw new de(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yd(t,new we(r))}if(n instanceof Rn)return yd(t,n._key);throw new de(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${HM(n)}.`)}function V7(t,e){if(!Array.isArray(t)||0===t.length)throw new de(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function U7(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new de(Z.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class hk{convertValue(e,n="none"){switch(Ul(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ir(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(pc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Re()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Nl(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new WM(ir(e.latitude),ir(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=dM(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ey(e));default:return null}}convertTimestamp(e){const n=Fl(e);return new Bn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ut.fromString(e);je(JH(r));const i=new Ll(r.get(1),r.get(3)),o=new we(r.popFirst(5));return i.isEqual(n)||gr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function e1(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class sMe extends hk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ea(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,n)}}class xd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cc extends iv{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new av(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(YM("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class av extends Cc{data(e={}){return super.data(e)}}class Zl{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new av(this._firestore,this._userDataWriter,r.key,r,new xd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new av(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const c=new av(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,h=-1;return 0!==a.type&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:cMe(a.type),doc:c,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function cMe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}function j7(t,e){return t instanceof Cc&&e instanceof Cc?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Zl&&e instanceof Zl&&t._firestore===e._firestore&&ik(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}class Yl extends hk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ea(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,n)}}function $7(t,e,n){t=Tt(t,Rn);const r=Tt(t.firestore,Mn),i=e1(t.converter,e,n);return Nf(r,[qM(Dd(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,jn.none())])}function H7(t,e,n,...r){t=Tt(t,Rn);const i=Tt(t.firestore,Mn),o=Dd(i);let s;return s="string"==typeof(e=(0,E.m9)(e))||e instanceof vc?ck(o,"updateDoc",t._key,e,n,r):ak(o,"updateDoc",t._key,e),Nf(i,[s.toMutation(t._key,jn.exists(!0))])}function z7(t,...e){var n,r,i;t=(0,E.m9)(t);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||ok(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(ok(e[s])){const f=e[s];e[s]=null===(n=f.next)||void 0===n?void 0:n.bind(f),e[s+1]=null===(r=f.error)||void 0===r?void 0:r.bind(f),e[s+2]=null===(i=f.complete)||void 0===i?void 0:i.bind(f)}let c,l,h;if(t instanceof Rn)l=Tt(t.firestore,Mn),h=lf(t._key.path),c={next:f=>{e[s]&&e[s](pk(l,t,f))},error:e[s+1],complete:e[s+2]};else{const f=Tt(t,fi);l=Tt(f.firestore,Mn),h=f._query;const y=new Yl(l);c={next:v=>{e[s]&&e[s](new Zl(l,y,f,v))},error:e[s+1],complete:e[s+2]},N7(t._query)}return function(y,v,O,b){const D=new BM(b),U=new PR(v,D,O);return y.asyncQueue.enqueueAndForget((0,S.Z)(function*(){return mR(yield Rf(y),U)})),()=>{D.Na(),y.asyncQueue.enqueueAndForget((0,S.Z)(function*(){return vR(yield Rf(y),U)}))}}(or(l),h,a,c)}function Nf(t,e){return function(r,i){const o=new Ur;return r.asyncQueue.enqueueAndForget((0,S.Z)(function*(){return function Jwe(t,e,n){return bR.apply(this,arguments)}(yield tk(r),i,o)})),o.promise}(or(t),e)}function pk(t,e,n){const r=n.docs.get(e._key),i=new Yl(t);return new Cc(t,i,e._key,r,new xd(n.hasPendingWrites,n.fromCache),e.converter)}const IMe={maxAttempts:5};class W7{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Dd(e)}set(e,n,r){this._verifyNotCommitted();const i=Ql(e,this._firestore),o=e1(i.converter,n,r),s=qM(this._dataReader,"WriteBatch.set",i._key,o,null!==i.converter,r);return this._mutations.push(s.toMutation(i._key,jn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=Ql(e,this._firestore);let s;return s="string"==typeof(n=(0,E.m9)(n))||n instanceof vc?ck(this._dataReader,"WriteBatch.update",o._key,n,r,i):ak(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,jn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Ql(e,this._firestore);return this._mutations=this._mutations.concat(new gf(n._key,jn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new de(Z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ql(t,e){if((t=(0,E.m9)(t)).firestore!==e)throw new de(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class bMe extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Dd(n)}get(n){const r=Ql(n,this._firestore),i=new sMe(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||1!==o.length)return Re();const s=o[0];if(s.isFoundDocument())return new iv(this._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new iv(this._firestore,i,r._key,null,r.converter);throw Re()})}set(n,r,i){const o=Ql(n,this._firestore),s=e1(o.converter,r,i),a=qM(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,i);return this._transaction.set(o._key,a),this}update(n,r,i,...o){const s=Ql(n,this._firestore);let a;return a="string"==typeof(r=(0,E.m9)(r))||r instanceof vc?ck(this._dataReader,"Transaction.update",s._key,r,i,o):ak(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(n){const r=Ql(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Ql(e,this._firestore),r=new Yl(this._firestore);return super.get(e).then(i=>new Cc(this._firestore,r,n._key,i._document,new xd(!1,!1),n.converter))}}!function(e,n=!0){Jp=$e.SDK_VERSION,(0,$e._registerComponent)(new Ro.wA("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Mn(new ACe(r.getProvider("auth-internal")),new xCe(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new de(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,$e.registerVersion)(I8,"4.3.2",e),(0,$e.registerVersion)(I8,"4.3.2","esm2017")}();class gk{constructor(e){return e}}const Z7="firestore",_k=new _e("angularfire2.firestore-instances");function LMe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new gk(r)}}const VMe={provide:class NMe{constructor(){return UT(Z7)}},deps:[[new p,_k]]},UMe={provide:gk,useFactory:function FMe(t,e){const n=function kj(t,e,n){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(Z7,t,e);return n&&new gk(n)},deps:[[new p,_k],$m]};let Y7=(()=>{var t;class e{constructor(){(0,$e.registerVersion)("angularfire",Ol.full,"fst")}}return t=e,ze(e,"\u0275fac",function(r){return new(r||t)}),ze(e,"\u0275mod",Zn({type:t})),ze(e,"\u0275inj",lr({providers:[UMe,VMe]})),e})();function BMe(t,...e){return{ngModule:Y7,providers:[{provide:_k,useFactory:LMe(t),multi:!0,deps:[Vt,zi,kp,r6,[new p,l$],[new p,Rm],...e]}]}}const jMe=tle(kPe,!0);et(643);class $Me extends te{constructor(e=1/0,n=1/0,r=VT){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const s=n.now();let a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}}function Q7(t,e,n){let r,i=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t):r=t??1/0,Qe({connector:()=>new $Me(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function X7(t,e){return T(e)?it(()=>t,e):it(()=>t)}const mk=new _e("angularfire2.auth.use-emulator"),yk=new _e("angularfire2.auth.settings"),vk=new _e("angularfire2.auth.tenant-id"),Ck=new _e("angularfire2.auth.langugage-code"),wk=new _e("angularfire2.auth.use-device-language"),Pk=new _e("angularfire.auth.persistence"),Mk=(t,e,n,r,i,o,s,a)=>rP(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const c=e.runOutsideAngular(()=>t.auth());if(n&&c.useEmulator(...n),r&&(c.tenantId=r),c.languageCode=i,o&&c.useDeviceLanguage(),s)for(const[l,h]of Object.entries(s))c.settings[l]=h;return a&&c.setPersistence(a),c},[n,r,i,o,s,a]);let Ok=(()=>{var t;class e{constructor(r,i,o,s,a,c,l,h,f,y,v,O){ze(this,"authState",void 0),ze(this,"idToken",void 0),ze(this,"user",void 0),ze(this,"idTokenResult",void 0),ze(this,"credential",void 0);const b=new te,D=Q(void 0).pipe(Sr(a.outsideAngular),it(()=>s.runOutsideAngular(()=>Promise.resolve().then(et.bind(et,643)))),ye(()=>km(r,s,i)),ye(U=>Mk(U,s,c,h,f,y,l,v)),Q7({bufferSize:1,refCount:!1}));if(L0(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Q(null);else{D.pipe(al()).subscribe();const U=D.pipe(it(G=>G.getRedirectResult().then(ge=>ge,()=>null)),fr,Q7({bufferSize:1,refCount:!1})),L=D.pipe(it(G=>new ht(ge=>({unsubscribe:s.runOutsideAngular(()=>G.onAuthStateChanged(Te=>ge.next(Te),Te=>ge.error(Te),()=>ge.complete()))})))),q=D.pipe(it(G=>new ht(ge=>({unsubscribe:s.runOutsideAngular(()=>G.onIdTokenChanged(Te=>ge.next(Te),Te=>ge.error(Te),()=>ge.complete()))}))));this.authState=U.pipe(X7(L),ni(a.outsideAngular),Sr(a.insideAngular)),this.user=U.pipe(X7(q),ni(a.outsideAngular),Sr(a.insideAngular)),this.idToken=this.user.pipe(it(G=>G?k(G.getIdToken()):Q(null))),this.idTokenResult=this.user.pipe(it(G=>G?k(G.getIdTokenResult()):Q(null))),this.credential=re(U,b,this.authState.pipe(is(G=>!G))).pipe(ye(G=>G?.user?G:null),ni(a.outsideAngular),Sr(a.insideAngular))}return((t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{if(t[o])return r?.spy?.get&&r.spy.get(o,t[o]),t[o];if(ole.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(a=>{const c=a?.[o];return"function"==typeof c?c.bind(a):c?.then?c.then(l=>n.run(()=>l)):n.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,l)=>s.then(h=>{const f=h?.(...l);return r?.spy?.apply&&r.spy.apply(o,l,f),f})})})}))(this,D,s,{spy:{apply:(U,L,q)=>{(U.startsWith("signIn")||U.startsWith("createUser"))&&q.then(G=>b.next(G))}}})}}return t=e,ze(e,"\u0275fac",function(r){return new(r||t)(se(Fp),se(Lp,8),se(bo),se(Vt),se(kp),se(mk,8),se(yk,8),se(vk,8),se(Ck,8),se(wk,8),se(Pk,8),se(Rm,8))}),ze(e,"\u0275prov",xe({token:t,factory:t.\u0275fac,providedIn:"any"})),e})();const KMe=new Ei.Yd("@firebase/database-compat"),J7=function(t){KMe.warn("FIREBASE WARNING: "+t)};class QMe{constructor(e){this._delegate=e}cancel(e){(0,E.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,E.Wj)("OnDisconnect.cancel","onComplete",e,!0);const n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){(0,E.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,E.Wj)("OnDisconnect.remove","onComplete",e,!0);const n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){(0,E.Dv)("OnDisconnect.set",1,2,arguments.length),(0,E.Wj)("OnDisconnect.set","onComplete",n,!0);const r=this._delegate.set(e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){(0,E.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,E.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,n);return r&&i.then(()=>r(null),o=>r(o)),i}update(e,n){if((0,E.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,J7("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,E.Wj)("OnDisconnect.update","onComplete",n,!0);const r=this._delegate.update(e);return n&&r.then(()=>n(null),i=>n(i)),r}}class XMe{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return(0,E.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Xl{constructor(e,n){this._database=e,this._delegate=n}val(){return(0,E.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,E.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,E.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,E.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,E.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),wm("DataSnapshot.child","path",e,!1),new Xl(this._database,this._delegate.child(e))}hasChild(e){return(0,E.Dv)("DataSnapshot.hasChild",1,1,arguments.length),wm("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,E.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,E.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,E.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new Xl(this._database,n)))}hasChildren(){return(0,E.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,E.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,E.Dv)("DataSnapshot.ref",0,0,arguments.length),new Uo(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class gi{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,i){var o;(0,E.Dv)("Query.on",2,4,arguments.length),(0,E.Wj)("Query.on","callback",n,!1);const s=gi.getCancelAndContextArgs_("Query.on",r,i),a=(l,h)=>{n.call(s.context,new Xl(this.database,l),h)};a.userCallback=n,a.context=s.context;const c=null===(o=s.cancel)||void 0===o?void 0:o.bind(s.context);switch(e){case"value":return ls(this._delegate,a,c),n;case"child_added":return mB(this._delegate,a,c),n;case"child_removed":return CB(this._delegate,a,c),n;case"child_changed":return yB(this._delegate,a,c),n;case"child_moved":return vB(this._delegate,a,c),n;default:throw new Error((0,E.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if((0,E.Dv)("Query.off",0,3,arguments.length),function(t,e,n){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,E.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,E.Wj)("Query.off","callback",n,!0),(0,E.lb)("Query.off","context",r,!0),n){const i=()=>{};i.userCallback=n,i.context=r,wB(this._delegate,e,i)}else wB(this._delegate,e)}get(){return Ju(this._delegate).then(e=>new Xl(this.database,e))}once(e,n,r,i){(0,E.Dv)("Query.once",1,4,arguments.length),(0,E.Wj)("Query.once","callback",n,!0);const o=gi.getCancelAndContextArgs_("Query.once",r,i),s=new E.BH,a=(l,h)=>{const f=new Xl(this.database,l);n&&n.call(o.context,f,h),s.resolve(f)};a.userCallback=n,a.context=o.context;const c=l=>{o.cancel&&o.cancel.call(o.context,l),s.reject(l)};switch(e){case"value":ls(this._delegate,a,c,{onlyOnce:!0});break;case"child_added":mB(this._delegate,a,c,{onlyOnce:!0});break;case"child_removed":CB(this._delegate,a,c,{onlyOnce:!0});break;case"child_changed":yB(this._delegate,a,c,{onlyOnce:!0});break;case"child_moved":vB(this._delegate,a,c,{onlyOnce:!0});break;default:throw new Error((0,E.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(e){return(0,E.Dv)("Query.limitToFirst",1,1,arguments.length),new gi(this.database,ks(this._delegate,function dae(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new uae(t)}(e)))}limitToLast(e){return(0,E.Dv)("Query.limitToLast",1,1,arguments.length),new gi(this.database,ks(this._delegate,function pae(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new hae(t)}(e)))}orderByChild(e){return(0,E.Dv)("Query.orderByChild",1,1,arguments.length),new gi(this.database,ks(this._delegate,function gae(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return wm("orderByChild","path",t,!1),new fae(t)}(e)))}orderByKey(){return(0,E.Dv)("Query.orderByKey",0,0,arguments.length),new gi(this.database,ks(this._delegate,function mae(){return new _ae}()))}orderByPriority(){return(0,E.Dv)("Query.orderByPriority",0,0,arguments.length),new gi(this.database,ks(this._delegate,function vae(){return new yae}()))}orderByValue(){return(0,E.Dv)("Query.orderByValue",0,0,arguments.length),new gi(this.database,ks(this._delegate,function wae(){return new Cae}()))}startAt(e=null,n){return(0,E.Dv)("Query.startAt",0,2,arguments.length),new gi(this.database,ks(this._delegate,function aae(t=null,e){return Cm("startAt","key",e,!0),new MB(t,e)}(e,n)))}startAfter(e=null,n){return(0,E.Dv)("Query.startAfter",0,2,arguments.length),new gi(this.database,ks(this._delegate,function lae(t,e){return Cm("startAfter","key",e,!0),new cae(t,e)}(e,n)))}endAt(e=null,n){return(0,E.Dv)("Query.endAt",0,2,arguments.length),new gi(this.database,ks(this._delegate,function iae(t,e){return Cm("endAt","key",e,!0),new PB(t,e)}(e,n)))}endBefore(e=null,n){return(0,E.Dv)("Query.endBefore",0,2,arguments.length),new gi(this.database,ks(this._delegate,function sae(t,e){return Cm("endBefore","key",e,!0),new oae(t,e)}(e,n)))}equalTo(e,n){return(0,E.Dv)("Query.equalTo",1,2,arguments.length),new gi(this.database,ks(this._delegate,function Mae(t,e){return Cm("equalTo","key",e,!0),new Pae(t,e)}(e,n)))}toString(){return(0,E.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,E.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,E.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof gi))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){const i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,(0,E.Wj)(e,"cancel",i.cancel,!0),i.context=r,(0,E.lb)(e,"context",i.context,!0);else if(n)if("object"==typeof n&&null!==n)i.context=n;else{if("function"!=typeof n)throw new Error((0,E.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=n}return i}get ref(){return new Uo(this.database,new cs(this._delegate._repo,this._delegate._path))}}class Uo extends gi{constructor(e,n){super(e,new go(n._repo,n._path,new fw,!1)),this.database=e,this._delegate=n}getKey(){return(0,E.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,E.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new Uo(this.database,Xu(this._delegate,e))}getParent(){(0,E.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Uo(this.database,e):null}getRoot(){return(0,E.Dv)("Reference.root",0,0,arguments.length),new Uo(this.database,this._delegate.root)}set(e,n){(0,E.Dv)("Reference.set",1,2,arguments.length),(0,E.Wj)("Reference.set","onComplete",n,!0);const r=Yi(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}update(e,n){if((0,E.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,J7("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}as("Reference.update",this._delegate._path),(0,E.Wj)("Reference.update","onComplete",n,!0);const r=rae(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){(0,E.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,E.Wj)("Reference.setWithPriority","onComplete",r,!0);const i=function nae(t,e,n){if(as("setWithPriority",t._path),ca("setWithPriority",e,t._path,!1),sT("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";const r=new E.BH;return cT(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}(this._delegate,e,n);return r&&i.then(()=>r(null),o=>r(o)),i}remove(e){(0,E.Dv)("Reference.remove",0,1,arguments.length),(0,E.Wj)("Reference.remove","onComplete",e,!0);const n=function eae(t){return as("remove",t._path),Yi(t,null)}(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){(0,E.Dv)("Reference.transaction",1,3,arguments.length),(0,E.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,E.Wj)("Reference.transaction","onComplete",n,!0),function(t,e,n,r){if(void 0!==n&&"boolean"!=typeof n)throw new Error((0,E.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const i=function Bae(t,e,n){var r;if(t=(0,E.m9)(t),as("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";const i=null===(r=n?.applyLocally)||void 0===r||r,o=new E.BH,a=ls(t,()=>{});return function Gse(t,e,n,r,i,o){Tp(t,"transaction on "+e);const s={path:e,update:n,onComplete:r,status:null,order:I5(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=uT(t,e,void 0);s.currentInputSnapshot=a;const c=s.update(a.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{vm("transaction failed: Data returned ",c,s.path),s.status=0;const l=Sw(t.transactionQueueTree_,e),h=Yu(l)||[];let f;h.push(s),rT(l,h),"object"==typeof c&&null!==c&&(0,E.r3)(c,".priority")?(f=(0,E.DV)(c,".priority"),(0,E.hu)(ym(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(Aw(t.serverSyncTree_,e)||at.EMPTY_NODE).getPriority().val();const y=Pm(t),v=Hn(c,f),O=eT(v,a,y);s.currentOutputSnapshotRaw=v,s.currentOutputSnapshotResolved=O,s.currentWriteId=Nw(t);const b=qb(t.serverSyncTree_,e,O,s.currentWriteId,s.applyLocally);ko(t.eventQueue_,e,b),Fw(t,t.transactionQueueTree_)}}(t._repo,t._path,e,(c,l,h)=>{let f=null;c?o.reject(c):(f=new Qu(h,new cs(t._repo,t._path),Cn),o.resolve(new Uae(l,f)))},a,i),o.promise}(this._delegate,e,{applyLocally:r}).then(o=>new XMe(o.committed,new Xl(this.database,o.snapshot)));return n&&i.then(o=>n(null,o.committed,o.snapshot),o=>n(o,!1,null)),i}setPriority(e,n){(0,E.Dv)("Reference.setPriority",1,2,arguments.length),(0,E.Wj)("Reference.setPriority","onComplete",n,!0);const r=function tae(t,e){t=(0,E.m9)(t),as("setPriority",t._path),sT("setPriority",e,!1);const n=new E.BH;return cT(t._repo,Ln(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}push(e,n){(0,E.Dv)("Reference.push",0,2,arguments.length),(0,E.Wj)("Reference.push","onComplete",n,!0);const r=function Jse(t,e){t=(0,E.m9)(t),as("push",t._path),ca("push",e,t._path,!0);const n=iB(t._repo),r=Xse(n),i=Xu(t,r),o=Xu(t,r);let s;return s=null!=e?Yi(o,e).then(()=>o):Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}(this._delegate,e),i=r.then(s=>new Uo(this.database,s));n&&i.then(()=>n(null),s=>n(s));const o=new Uo(this.database,r);return o.then=i.then.bind(i),o.catch=i.catch.bind(i,void 0),o}onDisconnect(){return as("Reference.onDisconnect",this._delegate._path),new QMe(new gB(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class cv{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Dae,forceLongPolling:Sae}}useEmulator(e,n,r={}){IB(this._delegate,e,n,r)}ref(e){if((0,E.Dv)("database.ref",0,1,arguments.length),e instanceof Uo){const n=_B(this._delegate,e.toString());return new Uo(this,n)}{const n=Qt(this._delegate,e);return new Uo(this,n)}}refFromURL(e){(0,E.Dv)("database.refFromURL",1,1,arguments.length);const r=_B(this._delegate,e);return new Uo(this,r)}goOffline(){return(0,E.Dv)("database.goOffline",0,0,arguments.length),function xae(t){(t=(0,E.m9)(t))._checkNotDeleted("goOffline"),cB(t._repo)}(this._delegate)}goOnline(){return(0,E.Dv)("database.goOnline",0,0,arguments.length),function Rae(t){(t=(0,E.m9)(t))._checkNotDeleted("goOnline"),function Wse(t){t.persistentConnection_&&t.persistentConnection_.resume(rB)}(t._repo)}(this._delegate)}}cv.ServerValue={TIMESTAMP:function Lae(){return Fae}(),increment:t=>function Vae(t){return{".sv":{increment:t}}}(t)};var e1e=Object.freeze({__proto__:null,initStandalone:function JMe({app:t,url:e,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:o,nodeAdmin:s=!1}){ub(n);const a=new Ro.H0("database-standalone"),c=new Ro.zt("auth-internal",a);let l;return c.setComponent(new Ro.wA("auth-internal",()=>r,"PRIVATE")),i&&(l=new Ro.zt("app-check-internal",a),l.setComponent(new Ro.wA("app-check-internal",()=>i,"PRIVATE"))),{instance:new cv(_T(t,c,l,e,s),t),namespace:o}}});const t1e=cv.ServerValue;function lv(t,e,n="on",r=nP){return new ht(i=>{let o=null;return o=t[n](e,(s,a)=>{r.schedule(()=>{i.next({snapshot:s,prevKey:a})}),"once"===n&&r.schedule(()=>i.complete())},s=>{r.schedule(()=>i.error(s))}),"on"===n?{unsubscribe(){null!=o&&t.off(e,o)}}:{unsubscribe(){}}}).pipe(ye(i=>{const{snapshot:o,prevKey:s}=i;let a=null;return o.exists()&&(a=o.key),{type:e,payload:o,prevKey:s,key:a}}),Qe())}function eW(t){return null==t}function tW(t){return"function"==typeof t.set}function nW(t,e){return tW(e)?e:t.ref(e)}function rW(t,e){if(function r1e(t){return"string"==typeof t}(t))return e.stringCase();if(tW(t))return e.firebaseCase();if(function i1e(t){return"function"==typeof t.exportVal}(t))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function iW(t){return(eW(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function oW(t,e,n){return re(...(e=iW(e)).map(i=>lv(t,i,"on",n)))}function sW(t,e){return function(r,i){return rW(r,{stringCase:()=>t.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function c1e(t){return function(n){return n?rW(n,{stringCase:()=>t.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):t.remove()}}function aW(t,e){const n=t.length;for(let r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function d1e(t,e){const{payload:n,prevKey:r,key:i}=e,o=aW(t,i),s=function u1e(t,e){if(eW(e))return 0;{const n=aW(t,e);return-1===n?t.length:n+1}}(t,r);switch(e.type){case"value":if(e.payload?.exists()){let a=null;e.payload.forEach(c=>{const l={payload:c,type:"value",prevKey:a,key:c.key};return a=c.key,t=[...t,l],!1})}return t;case"child_added":if(o>-1)(t[o-1]?.key||null)!==r&&(t=t.filter(c=>c.payload.key!==n.key)).splice(s,0,e);else{if(null==r)return[e,...t];(t=t.slice()).splice(s,0,e)}return t;case"child_removed":return t.filter(a=>a.payload.key!==n.key);case"child_changed":return t.map(a=>a.payload.key===i?e:a);case"child_moved":if(o>-1){const a=t.splice(o,1)[0];return(t=t.slice()).splice(s,0,a),t}return t;default:return t}}function cW(t,e,n){return function l1e(t,e,n){return lv(t,"value","once",n).pipe(it(r=>{const i=[Q(r)];return e.forEach(o=>i.push(lv(t,o,"on",n))),re(...i).pipe(lp(d1e,[]))}),_n())}(t,e=iW(e),n)}function lW(t,e){return function(){return lv(t,"value","on",e)}}!function n1e(t){t.INTERNAL.registerComponent(new Ro.wA("database-compat",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new cv(i,r)},"PUBLIC").setServiceProps({Reference:Uo,Query:gi,Database:cv,DataSnapshot:Xl,enableLogging:kae,INTERNAL:e1e,ServerValue:t1e}).setMultipleInstances(!0)),t.registerVersion("@firebase/database-compat","1.0.1")}(us.Z);const f1e=new _e("angularfire2.realtimeDatabaseURL"),g1e=new _e("angularfire2.database.use-emulator");let _1e=(()=>{var t;class e{constructor(r,i,o,s,a,c,l,h,f,y,v,O,b,D,U){ze(this,"schedulers",void 0),ze(this,"database",void 0),this.schedulers=c;const L=l,q=km(r,a,i);h&&Mk(q,a,f,v,O,b,y,D),this.database=rP(`${q.name}.database.${o}`,"AngularFireDatabase",q.name,()=>{const G=a.runOutsideAngular(()=>q.database(o||void 0));return L&&G.useEmulator(...L),G},[L])}list(r,i){const o=this.schedulers.ngZone.runOutsideAngular(()=>nW(this.database,r));let s=o;return i&&(s=i(o)),function h1e(t,e){const n=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:sW(r,"update"),set:sW(r,"set"),push:i=>r.push(i),remove:c1e(r),snapshotChanges:i=>cW(t,i,n).pipe(fr),stateChanges:i=>oW(t,i,n).pipe(fr),auditTrail:i=>function o1e(t,e,n){return function a1e(t,e,n){return function s1e(t,e){return lv(t,"value","on",e).pipe(ye(n=>{let r;return n.payload.forEach(i=>(r=i.key,!1)),{data:n,lastKeyToLoad:r}}))}(t,n).pipe(function zMe(...t){const e=Hs(t);return X((n,r)=>{const i=t.length,o=new Array(i);let s=t.map(()=>!1),a=!1;for(let c=0;c<i;c++)qn(t[c]).subscribe(Pe(r,l=>{o[c]=l,!a&&!s[c]&&(s[c]=!0,(a=s.every(Gn))&&(s=null))},ke));n.subscribe(Pe(r,c=>{if(a){const l=[c,...o];r.next(e?e(...l):l)}}))})}(e),ye(([i,o])=>{const s=i.lastKeyToLoad,a=o.map(c=>c.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),function WMe(t){return X((e,n)=>{let r=!1,i=0;e.subscribe(Pe(n,o=>(r||(r=!t(o,i++)))&&n.next(o)))})}(i=>-1===i.loadedKeys.indexOf(i.lastKeyToLoad)),ye(i=>i.actions))}(t,oW(t,e).pipe(lp((i,o)=>[...i,o],[])),n)}(t,i,n).pipe(fr),valueChanges:(i,o)=>cW(t,i,n).pipe(ye(a=>a.map(c=>o&&o.idField?{...c.payload.val(),[o.idField]:c.key}:c.payload.val())),fr)}}(s,this)}object(r){return function p1e(t,e){return{query:t,snapshotChanges:()=>lW(t,e.schedulers.outsideAngular)().pipe(fr),update:n=>t.ref.update(n),set:n=>t.ref.set(n),remove:()=>t.ref.remove(),valueChanges:()=>lW(t,e.schedulers.outsideAngular)().pipe(fr,ye(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>nW(this.database,r)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t=e,ze(e,"\u0275fac",function(r){return new(r||t)(se(Fp),se(Lp,8),se(f1e,8),se(bo),se(Vt),se(kp),se(g1e,8),se(Ok,8),se(mk,8),se(yk,8),se(vk,8),se(Ck,8),se(wk,8),se(Pk,8),se(Rm,8))}),ze(e,"\u0275prov",xe({token:t,factory:t.\u0275fac,providedIn:"any"})),e})(),m1e=(()=>{var t;class e{constructor(){us.Z.registerVersion("angularfire",Ol.full,"rtdb-compat")}}return t=e,ze(e,"\u0275fac",function(r){return new(r||t)}),ze(e,"\u0275mod",Zn({type:t})),ze(e,"\u0275inj",lr({providers:[_1e]})),e})();function Ek(){return X((t,e)=>{let n,r=!1;t.subscribe(Pe(e,i=>{const o=n;n=i,r&&e.next([o,i]),r=!0}))})}function Ik(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new de("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function uW(){if(typeof Uint8Array>"u")throw new de("unimplemented","Uint8Arrays are not available in this environment.")}function dW(){if(!function o0e(){return typeof atob<"u"}())throw new de("unimplemented","Blobs are unavailable in Firestore in this environment.")}class uv{constructor(e){this._delegate=e}static fromBase64String(e){return dW(),new uv(Ea.fromBase64String(e))}static fromUint8Array(e){return uW(),new uv(Ea.fromUint8Array(e))}toBase64(){return dW(),this._delegate.toBase64()}toUint8Array(){return uW(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function bk(t){return function C1e(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}(t,["next","error","complete"])}class w1e{enableIndexedDbPersistence(e,n){return function NPe(t,e){b7(t=Tt(t,Mn));const n=or(t);if(n._uninitializedComponentsProvider)throw new de(Z.FAILED_PRECONDITION,"SDK cache is already specified.");mo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new Sf;return I7(n,i,new KR(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function FPe(t){b7(t=Tt(t,Mn));const e=or(t);if(e._uninitializedComponentsProvider)throw new de(Z.FAILED_PRECONDITION,"SDK cache is already specified.");mo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new Sf;return I7(e,r,new a7(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function LPe(t){if(t._initialized&&!t._terminated)throw new de(Z.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ur;return t._queue.enqueueAndForgetEvenWhileRestricted((0,S.Z)(function*(){try{yield(n=(0,S.Z)(function*(i){if(!Bs.D())return Promise.resolve();const o=i+"main";yield Bs.delete(o)}),function r(i){return n.apply(this,arguments)})(Bx(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class hW{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ll||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&mo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,r={}){P7(this._delegate,e,n,r)}enableNetwork(){return function UPe(t){return function CPe(t){return t.asyncQueue.enqueue((0,S.Z)(function*(){const e=yield u7(t),n=yield d7(t);return e.setNetworkEnabled(!0),function(i){const o=Ce(i);return o.C_.delete(0),Qy(o)}(n)}))}(or(t=Tt(t,Mn)))}(this._delegate)}disableNetwork(){return function BPe(t){return function wPe(t){return t.asyncQueue.enqueue((0,S.Z)(function*(){const e=yield u7(t),n=yield d7(t);return e.setNetworkEnabled(!1),(r=(0,S.Z)(function*(o){const s=Ce(o);s.C_.add(0),yield Of(s),s.M_.set("Offline")}),function i(o){return r.apply(this,arguments)})(n);var r}))}(or(t=Tt(t,Mn)))}(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,m7("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function VPe(t){return function(n){const r=new Ur;return n.asyncQueue.enqueueAndForget((0,S.Z)(function*(){return function rPe(t,e){return xR.apply(this,arguments)}(yield tk(n),r)})),r.promise}(or(t=Tt(t,Mn)))}(this._delegate)}onSnapshotsInSync(e){return function mMe(t,e){return function OPe(t,e){const n=new BM(e);return t.asyncQueue.enqueueAndForget((0,S.Z)(function*(){return i=yield Rf(t),o=n,Ce(i).q_.add(o),void o.next();var i,o})),()=>{n.Na(),t.asyncQueue.enqueueAndForget((0,S.Z)(function*(){return i=yield Rf(t),o=n,void Ce(i).q_.delete(o);var i,o}))}}(or(t=Tt(t,Mn)),ok(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new de("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ff(this,M7(this._delegate,e))}catch(n){throw no(n,"collection()","Firestore.collection()")}}doc(e){try{return new ps(this,zM(this._delegate,e))}catch(n){throw no(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ro(this,function DPe(t,e){if(t=Tt(t,ev),rk("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new de(Z.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new fi(t,null,(r=e,new fc(Ut.emptyPath(),r)));var r}(this._delegate,e))}catch(n){throw no(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function TMe(t,e,n){t=Tt(t,Mn);const r=Object.assign(Object.assign({},IMe),n);return function(o){if(o.maxAttempts<1)throw new de(Z.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){const c=new Ur;return o.asyncQueue.enqueueAndForget((0,S.Z)(function*(){const l=yield function h7(t){return $M(t).then(e=>e.datastore)}(o);new yPe(o.asyncQueue,l,a,s,c).run()})),c.promise}(or(t),i=>e(new bMe(t,i)),r)}(this._delegate,n=>e(new pW(this,n)))}batch(){return or(this._delegate),new fW(new W7(this._delegate,e=>Nf(this._delegate,e)))}loadBundle(e){return function jPe(t,e){const n=or(t=Tt(t,Mn)),r=new xPe;return function EPe(t,e,n,r){const i=function(s,a){let c;return c="string"==typeof s?NH().encode(s):s,h=function(h,f){if(h instanceof Uint8Array)return c7(h,f);if(h instanceof ArrayBuffer)return c7(new Uint8Array(h),f);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),new _Pe(h,a);var h}(n,Yy(e));t.asyncQueue.enqueueAndForget((0,S.Z)(function*(){!function fPe(t,e,n){const r=Ce(t);var i;(i=(0,S.Z)(function*(s,a,c){try{const l=yield a.getMetadata();if(yield function(O,b){const D=Ce(O),U=_r(b.createTime);return D.persistence.runTransaction("hasNewerBundle","readonly",L=>D.Kr.getBundleMetadata(L,b.id)).then(L=>!!L&&L.createTime.compareTo(U)>=0)}(s.localStore,l))return yield a.close(),c._completeWith({taskState:"Success",documentsLoaded:(O=l).totalDocuments,bytesLoaded:O.totalBytes,totalDocuments:O.totalDocuments,totalBytes:O.totalBytes}),Promise.resolve(new Set);c._updateProgress(Xz(l));const h=new qwe(l,s.localStore,a.serializer);let f=yield a.Ma();for(;f;){const v=yield h.ea(f);v&&c._updateProgress(v),f=yield a.Ma()}const y=yield h.complete();return yield yc(s,y.ra,void 0),yield function(O,b){const D=Ce(O);return D.persistence.runTransaction("Save bundle","readwrite",U=>D.Kr.saveBundleMetadata(U,b))}(s.localStore,l),c._completeWith(y.progress),Promise.resolve(y.na)}catch(l){return mo("SyncEngine",`Loading bundle failed with ${l}`),c._failWith(l),Promise.resolve(new Set)}var O}),function o(s,a,c){return i.apply(this,arguments)})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield tk(t),i,r)}))}(n,t._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function $Pe(t,e){return function IPe(t,e){return t.asyncQueue.enqueue((0,S.Z)(function*(){return function(r,i){const o=Ce(r);return o.persistence.runTransaction("Get named query","readonly",s=>o.Kr.getNamedQuery(s,i))}(yield xf(t),e)}))}(or(t=Tt(t,Mn)),e).then(n=>n?new fi(t,null,n.query):null)}(this._delegate,e).then(n=>n?new ro(this,n):null)}}class n1 extends hk{constructor(e){super(),this.firestore=e}convertBytes(e){return new uv(new Ea(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return ps.forKey(n,this.firestore,null)}}class pW{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new n1(e)}get(e){const n=kd(e);return this._delegate.get(n).then(r=>new dv(this._firestore,new Cc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=kd(e);return r?(Ik("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=kd(e);return 2===arguments.length?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=kd(e);return this._delegate.delete(n),this}}class fW{constructor(e){this._delegate=e}set(e,n,r){const i=kd(e);return r?(Ik("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=kd(e);return 2===arguments.length?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=kd(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Rd{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new av(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new hv(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Rd.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(n);return o||(o=new Rd(e,new n1(e),n),i.set(n,o)),o}}Rd.INSTANCES=new WeakMap;class ps{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new n1(e)}static forPath(e,n,r){if(e.length%2!=0)throw new de("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ps(n,new Rn(n._delegate,r,new we(e)))}static forKey(e,n,r){return new ps(n,new Rn(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Ff(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ff(this.firestore,M7(this._delegate,e))}catch(n){throw no(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,E.m9)(e))instanceof Rn&&O7(this._delegate,e)}set(e,n){n=Ik("DocumentReference.set",n);try{return n?$7(this._delegate,e,n):$7(this._delegate,e)}catch(r){throw no(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return 1===arguments.length?H7(this._delegate,e):H7(this._delegate,e,n,...r)}catch(i){throw no(i,"updateDoc()","DocumentReference.update()")}}delete(){return function gMe(t){return Nf(Tt(t.firestore,Mn),[new gf(t._key,jn.none())])}(this._delegate)}onSnapshot(...e){const n=gW(e),r=_W(e,i=>new dv(this.firestore,new Cc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return z7(this._delegate,n,r)}get(e){let n;return n="cache"===e?.source?function uMe(t){t=Tt(t,Rn);const e=Tt(t.firestore,Mn),n=or(e),r=new Yl(e);return function PPe(t,e){const n=new Ur;return t.asyncQueue.enqueueAndForget((0,S.Z)(function*(){return(r=(0,S.Z)(function*(o,s,a){try{const c=yield function(h,f){const y=Ce(h);return y.persistence.runTransaction("read document","readonly",v=>y.localDocuments.getDocument(v,f))}(o,s);c.isFoundDocument()?a.resolve(c):c.isNoDocument()?a.resolve(null):a.reject(new de(Z.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const l=bf(c,`Failed to get document '${s} from cache`);a.reject(l)}}),function i(o,s,a){return r.apply(this,arguments)})(yield xf(t),e,n);var r})),n.promise}(n,t._key).then(i=>new Cc(e,r,t._key,i,new xd(null!==i&&i.hasLocalMutations,!0),t.converter))}(this._delegate):"server"===e?.source?function dMe(t){t=Tt(t,Rn);const e=Tt(t.firestore,Mn);return p7(or(e),t._key,{source:"server"}).then(n=>pk(e,t,n))}(this._delegate):function lMe(t){t=Tt(t,Rn);const e=Tt(t.firestore,Mn);return p7(or(e),t._key).then(n=>pk(e,t,n))}(this._delegate),n.then(r=>new dv(this.firestore,new Cc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ps(this.firestore,this._delegate.withConverter(e?Rd.getInstance(this.firestore,e):null))}}function no(t,e,n){return t.message=t.message.replace(e,n),t}function gW(t){for(const e of t)if("object"==typeof e&&!bk(e))return e;return{}}function _W(t,e){var n,r;let i;return i=bk(t[0])?t[0]:bk(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:o=>{i.next&&i.next(e(o))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class dv{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new ps(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return j7(this._delegate,e._delegate)}}class hv extends dv{data(e){const n=this._delegate.data(e);return function ICe(t,e){t||Re()}(void 0!==n),n}}class ro{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new n1(e)}where(e,n,r){try{return new ro(this.firestore,Kl(this._delegate,function XPe(t,e,n){const r=e,i=YM("where",t);return sv._create(i,r,n)}(e,n,r)))}catch(i){throw no(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new ro(this.firestore,Kl(this._delegate,function JPe(t,e="asc"){const n=e,r=YM("orderBy",t);return dk._create(r,n)}(e,n)))}catch(r){throw no(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ro(this.firestore,Kl(this._delegate,function eMe(t){return C7("limit",t),QM._create("limit",t,"F")}(e)))}catch(n){throw no(n,"limit()","Query.limit()")}}limitToLast(e){try{return new ro(this.firestore,Kl(this._delegate,function tMe(t){return C7("limitToLast",t),QM._create("limitToLast",t,"L")}(e)))}catch(n){throw no(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ro(this.firestore,Kl(this._delegate,function nMe(...t){return XM._create("startAt",t,!0)}(...e)))}catch(n){throw no(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ro(this.firestore,Kl(this._delegate,function rMe(...t){return XM._create("startAfter",t,!1)}(...e)))}catch(n){throw no(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ro(this.firestore,Kl(this._delegate,function iMe(...t){return JM._create("endBefore",t,!1)}(...e)))}catch(n){throw no(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ro(this.firestore,Kl(this._delegate,function oMe(...t){return JM._create("endAt",t,!0)}(...e)))}catch(n){throw no(n,"endAt()","Query.endAt()")}}isEqual(e){return ik(this._delegate,e._delegate)}get(e){let n;return n="cache"===e?.source?function pMe(t){t=Tt(t,fi);const e=Tt(t.firestore,Mn),n=or(e),r=new Yl(e);return function MPe(t,e){const n=new Ur;return t.asyncQueue.enqueueAndForget((0,S.Z)(function*(){return(r=(0,S.Z)(function*(o,s,a){try{const c=yield RM(o,s,!0),l=new t7(s,c.ls),h=l.ca(c.documents),f=l.applyChanges(h,!1);a.resolve(f.snapshot)}catch(c){const l=bf(c,`Failed to execute query '${s} against cache`);a.reject(l)}}),function i(o,s,a){return r.apply(this,arguments)})(yield xf(t),e,n);var r})),n.promise}(n,t._query).then(i=>new Zl(e,r,t,i))}(this._delegate):"server"===e?.source?function fMe(t){t=Tt(t,fi);const e=Tt(t.firestore,Mn),n=or(e),r=new Yl(e);return f7(n,t._query,{source:"server"}).then(i=>new Zl(e,r,t,i))}(this._delegate):function hMe(t){t=Tt(t,fi);const e=Tt(t.firestore,Mn),n=or(e),r=new Yl(e);return N7(t._query),f7(n,t._query).then(i=>new Zl(e,r,t,i))}(this._delegate),n.then(r=>new Tk(this.firestore,new Zl(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=gW(e),r=_W(e,i=>new Tk(this.firestore,new Zl(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return z7(this._delegate,n,r)}withConverter(e){return new ro(this.firestore,this._delegate.withConverter(e?Rd.getInstance(this.firestore,e):null))}}class M1e{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new hv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Tk{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new ro(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new hv(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new M1e(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new hv(this._firestore,r))})}isEqual(e){return j7(this._delegate,e._delegate)}}class Ff extends ro{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ps(this.firestore,e):null}doc(e){try{return new ps(this.firestore,void 0===e?zM(this._delegate):zM(this._delegate,e))}catch(n){throw no(n,"doc()","CollectionReference.doc()")}}add(e){return function _Me(t,e){const n=Tt(t.firestore,Mn),r=zM(t),i=e1(t.converter,e);return Nf(n,[qM(Dd(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,jn.exists(!1))]).then(()=>r)}(this._delegate,e).then(n=>new ps(this.firestore,n))}isEqual(e){return O7(this._delegate,e._delegate)}withConverter(e){return new Ff(this.firestore,this._delegate.withConverter(e?Rd.getInstance(this.firestore,e):null))}}function kd(t){return Tt(t,Rn)}class Ak{constructor(...e){this._delegate=new vc(...e)}static documentId(){return new Ak(Sn.keyField().canonicalString())}isEqual(e){return(e=(0,E.m9)(e))instanceof vc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Nd{constructor(e){this._delegate=e}static serverTimestamp(){const e=function DMe(){return new sk("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Nd(e)}static delete(){const e=function AMe(){return new nv("deleteField")}();return e._methodName="FieldValue.delete",new Nd(e)}static arrayUnion(...e){const n=function SMe(...t){return new qPe("arrayUnion",t)}(...e);return n._methodName="FieldValue.arrayUnion",new Nd(n)}static arrayRemove(...e){const n=function xMe(...t){return new KPe("arrayRemove",t)}(...e);return n._methodName="FieldValue.arrayRemove",new Nd(n)}static increment(e){const n=function RMe(t){return new ZPe("increment",t)}(e);return n._methodName="FieldValue.increment",new Nd(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const O1e={Firestore:hW,GeoPoint:WM,Timestamp:Bn,Blob:uv,Transaction:pW,WriteBatch:fW,DocumentReference:ps,DocumentSnapshot:dv,Query:ro,QueryDocumentSnapshot:hv,QuerySnapshot:Tk,CollectionReference:Ff,FieldPath:Ak,FieldValue:Nd,setLogLevel:function P1e(t){!function ECe(t){xl.setLogLevel(t)}(t)},CACHE_SIZE_UNLIMITED:-1};function mW(t,e){return function b1e(t,e=nP){return new ht(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{r?.()}})}(t,e)}function Dk(t,e){return mW(t,e).pipe(ye(n=>({payload:n,type:"query"})))}!function I1e(t){(function E1e(t,e){t.INTERNAL.registerComponent(new Ro.wA("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},O1e)))})(t,(e,n)=>new hW(e,n,new w1e)),t.registerVersion("@firebase/firestore-compat","0.3.21")}(us.Z);class yW{constructor(e,n){ze(this,"ref",void 0),ze(this,"afs",void 0),this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const r=this.ref.collection(e),{ref:i,query:o}=OW(r,n);return new wW(i,o,this.afs)}snapshotChanges(){return function T1e(t,e){return mW(t,e).pipe($0(void 0),Ek(),ye(n=>{const[r,i]=n;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(fr)}valueChanges(e={}){return this.snapshotChanges().pipe(ye(({payload:n})=>e.idField?{...n.data(),[e.idField]:n.id}:n.data()))}get(e){return k(this.ref.get(e)).pipe(fr)}}function r1(t,e){return Dk(t,e).pipe($0(void 0),Ek(),ye(n=>{const[r,i]=n,o=i.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,c)=>{const l=o.find(f=>f.doc.ref.isEqual(a.ref)),h=r?.payload.docs.find(f=>f.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function vW(t,e,n){return r1(t,n).pipe(lp((r,i)=>function A1e(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=function D1e(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Sk(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Sk(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Sk(t,e.oldIndex,1)}return t}(t,r))}),t}(r,i.map(o=>o.payload),e),[]),_n(),ye(r=>r.map(i=>({type:i.type,payload:i}))))}function Sk(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function CW(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class wW{constructor(e,n,r){ze(this,"ref",void 0),ze(this,"query",void 0),ze(this,"afs",void 0),this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=r1(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(ye(r=>r.filter(i=>e.indexOf(i.type)>-1)))),n.pipe($0(void 0),Ek(),is(([r,i])=>i.length>0||!r),ye(([,r])=>r),fr)}auditTrail(e){return this.stateChanges(e).pipe(lp((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=CW(e);return vW(this.query,n,this.afs.schedulers.outsideAngular).pipe(fr)}valueChanges(e={}){return Dk(this.query,this.afs.schedulers.outsideAngular).pipe(ye(n=>n.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),fr)}get(e){return k(this.query.get(e)).pipe(fr)}add(e){return this.ref.add(e)}doc(e){return new yW(this.ref.doc(e),this.afs)}}class S1e{constructor(e,n){ze(this,"query",void 0),ze(this,"afs",void 0),this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?r1(this.query,this.afs.schedulers.outsideAngular).pipe(ye(n=>n.filter(r=>e.indexOf(r.type)>-1)),is(n=>n.length>0),fr):r1(this.query,this.afs.schedulers.outsideAngular).pipe(fr)}auditTrail(e){return this.stateChanges(e).pipe(lp((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=CW(e);return vW(this.query,n,this.afs.schedulers.outsideAngular).pipe(fr)}valueChanges(e={}){return Dk(this.query,this.afs.schedulers.outsideAngular).pipe(ye(r=>r.payload.docs.map(i=>e.idField?{[e.idField]:i.id,...i.data()}:i.data())),fr)}get(e){return k(this.query.get(e)).pipe(fr)}}const PW=new _e("angularfire2.enableFirestorePersistence"),MW=new _e("angularfire2.firestore.persistenceSettings"),x1e=new _e("angularfire2.firestore.settings"),R1e=new _e("angularfire2.firestore.use-emulator");function OW(t,e=(n=>n)){return{query:e(t),ref:t}}let k1e=(()=>{var t;class e{constructor(r,i,o,s,a,c,l,h,f,y,v,O,b,D,U,L,q){ze(this,"schedulers",void 0),ze(this,"firestore",void 0),ze(this,"persistenceEnabled$",void 0),this.schedulers=l;const G=km(r,c,i),ge=f;y&&Mk(G,c,v,b,D,U,O,L),[this.firestore,this.persistenceEnabled$]=rP(`${G.name}.firestore`,"AngularFirestore",G.name,()=>{const Te=c.runOutsideAngular(()=>G.firestore());if(s&&Te.settings(s),ge&&Te.useEmulator(...ge),o&&!L0(a)){const ft=()=>{try{return k(Te.enablePersistence(h||void 0).then(()=>!0,()=>!1))}catch(an){return typeof console<"u"&&console.warn(an),Q(!1)}};return[Te,c.runOutsideAngular(ft)]}return[Te,Q(!1)]},[s,ge,o])}collection(r,i){let o;o="string"==typeof r?this.firestore.collection(r):r;const{ref:s,query:a}=OW(o,i),c=this.schedulers.ngZone.run(()=>s);return new wW(c,a,this)}collectionGroup(r,i){const o=i||(a=>a),s=this.firestore.collectionGroup(r);return new S1e(o(s),this)}doc(r){let i;i="string"==typeof r?this.firestore.doc(r):r;const o=this.schedulers.ngZone.run(()=>i);return new yW(o,this)}createId(){return this.firestore.collection("_").doc().id}}return t=e,ze(e,"\u0275fac",function(r){return new(r||t)(se(Fp),se(Lp,8),se(PW,8),se(x1e,8),se(bo),se(Vt),se(kp),se(MW,8),se(R1e,8),se(Ok,8),se(mk,8),se(yk,8),se(vk,8),se(Ck,8),se(wk,8),se(Pk,8),se(Rm,8))}),ze(e,"\u0275prov",xe({token:t,factory:t.\u0275fac,providedIn:"any"})),e})(),N1e=(()=>{var t;class e{constructor(){us.Z.registerVersion("angularfire",Ol.full,"fst-compat")}static enablePersistence(r){return{ngModule:e,providers:[{provide:PW,useValue:!0},{provide:MW,useValue:r}]}}}return t=e,ze(e,"\u0275fac",function(r){return new(r||t)}),ze(e,"\u0275mod",Zn({type:t})),ze(e,"\u0275inj",lr({providers:[k1e]})),e})(),F1e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Zn({type:t,bootstrap:[e_e]}),t.\u0275inj=lr({imports:[Cte,Jge,Lce,E_e,F_e(()=>(0,$e.initializeApp)(Xt_firebaseConfig)),BMe(()=>jMe()),ule.initializeApp(Xt_firebaseConfig),ede,Y7,m1e,N1e]}),e})();yte().bootstrapModule(F1e).catch(t=>console.error(t))},106:(fs,br,et)=>{et.d(br,{Z:()=>Tr});var T=et(58),Ge=et(537),J=et(534),Ze=et(879);class xt{constructor(Ye,ct){this._delegate=Ye,this.firebase=ct,(0,J._addComponent)(Ye,new Ge.wA("app-compat",()=>this,"PUBLIC")),this.container=Ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ye){this._delegate.automaticDataCollectionEnabled=Ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ye=>{this._delegate.checkDestroyed(),Ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,J.deleteApp)(this._delegate)))}_getService(Ye,ct=J._DEFAULT_ENTRY_NAME){var Ar;this._delegate.checkDestroyed();const yr=this._delegate.container.getProvider(Ye);return!yr.isInitialized()&&"EXPLICIT"===(null===(Ar=yr.getComponent())||void 0===Ar?void 0:Ar.instantiationMode)&&yr.initialize(),yr.getImmediate({identifier:ct})}_removeServiceInstance(Ye,ct=J._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ye).clearInstance(ct)}_addComponent(Ye){(0,J._addComponent)(this._delegate,Ye)}_addOrOverwriteComponent(Ye){(0,J._addOrOverwriteComponent)(this._delegate,Ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const kn=new T.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ce=function yt(){const jt=function mr(jt){const Ye={},ct={__esModule:!0,initializeApp:function pn(lt,vr={}){const ae=J.initializeApp(lt,vr);if((0,T.r3)(Ye,ae.name))return Ye[ae.name];const On=new jt(ae,ct);return Ye[ae.name]=On,On},app:yr,registerVersion:J.registerVersion,setLogLevel:J.setLogLevel,onLog:J.onLog,apps:null,SDK_VERSION:J.SDK_VERSION,INTERNAL:{registerComponent:function tn(lt){const vr=lt.name,ae=vr.replace("-compat","");if(J._registerComponent(lt)&&"PUBLIC"===lt.type){const On=(fn=yr())=>{if("function"!=typeof fn[ae])throw kn.create("invalid-app-argument",{appName:vr});return fn[ae]()};void 0!==lt.serviceProps&&(0,T.ZB)(On,lt.serviceProps),ct[ae]=On,jt.prototype[ae]=function(...fn){return this._getService.bind(this,vr).apply(this,lt.multipleInstances?fn:[])}}return"PUBLIC"===lt.type?ct[ae]:null},removeApp:function Ar(lt){delete Ye[lt]},useAsService:function _i(lt,vr){return"serverAuth"===vr?null:vr},modularAPIs:J}};function yr(lt){if(!(0,T.r3)(Ye,lt=lt||J._DEFAULT_ENTRY_NAME))throw kn.create("no-app",{appName:lt});return Ye[lt]}return ct.default=ct,Object.defineProperty(ct,"apps",{get:function $t(){return Object.keys(Ye).map(lt=>Ye[lt])}}),yr.App=jt,ct}(xt);return jt.INTERNAL=Object.assign(Object.assign({},jt.INTERNAL),{createFirebaseNamespace:yt,extendNamespace:function Ye(ct){(0,T.ZB)(jt,ct)},createSubscribe:T.ne,ErrorFactory:T.LL,deepExtend:T.ZB}),jt}(),fe=new Ze.Yd("@firebase/app-compat");if((0,T.jU)()&&void 0!==self.firebase){fe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const jt=self.firebase.SDK_VERSION;jt&&jt.indexOf("LITE")>=0&&fe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Tr=ce;!function Nt(jt){(0,J.registerVersion)("@firebase/app-compat","0.2.22",jt)}()},534:(fs,br,et)=>{et.r(br),et.d(br,{FirebaseError:()=>Ze.ZR,SDK_VERSION:()=>ms,_DEFAULT_ENTRY_NAME:()=>wo,_addComponent:()=>$s,_addOrOverwriteComponent:()=>jr,_apps:()=>ti,_clearComponents:()=>ar,_components:()=>_s,_getProvider:()=>gn,_registerComponent:()=>Ia,_removeServiceInstance:()=>io,deleteApp:()=>Sr,getApp:()=>zs,getApps:()=>Oc,initializeApp:()=>Hs,onLog:()=>Ec,registerVersion:()=>Ws,setLogLevel:()=>Fd});var T=et(861),Ge=et(537),J=et(879),Ze=et(58);const xt=(z,V)=>V.some(he=>z instanceof he);let hn,kn;const ce=new WeakMap,fe=new WeakMap,ke=new WeakMap,gt=new WeakMap,Nt=new WeakMap;let Ye={get(z,V,he){if(z instanceof IDBTransaction){if("done"===V)return fe.get(z);if("objectStoreNames"===V)return z.objectStoreNames||ke.get(z);if("store"===V)return he.objectStoreNames[1]?void 0:he.objectStore(he.objectStoreNames[0])}return pn(z[V])},set:(z,V,he)=>(z[V]=he,!0),has:(z,V)=>z instanceof IDBTransaction&&("done"===V||"store"===V)||V in z};function yr(z){return"function"==typeof z?function Ar(z){return z!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function yt(){return kn||(kn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(z)?function(...V){return z.apply($t(this),V),pn(ce.get(this))}:function(...V){return pn(z.apply($t(this),V))}:function(V,...he){const Ue=z.call($t(this),V,...he);return ke.set(Ue,V.sort?V.sort():[V]),pn(Ue)}}(z):(z instanceof IDBTransaction&&function jt(z){if(fe.has(z))return;const V=new Promise((he,Ue)=>{const tt=()=>{z.removeEventListener("complete",_t),z.removeEventListener("error",ne),z.removeEventListener("abort",ne)},_t=()=>{he(),tt()},ne=()=>{Ue(z.error||new DOMException("AbortError","AbortError")),tt()};z.addEventListener("complete",_t),z.addEventListener("error",ne),z.addEventListener("abort",ne)});fe.set(z,V)}(z),xt(z,function mr(){return hn||(hn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(z,Ye):z)}function pn(z){if(z instanceof IDBRequest)return function Tr(z){const V=new Promise((he,Ue)=>{const tt=()=>{z.removeEventListener("success",_t),z.removeEventListener("error",ne)},_t=()=>{he(pn(z.result)),tt()},ne=()=>{Ue(z.error),tt()};z.addEventListener("success",_t),z.addEventListener("error",ne)});return V.then(he=>{he instanceof IDBCursor&&ce.set(he,z)}).catch(()=>{}),Nt.set(V,z),V}(z);if(gt.has(z))return gt.get(z);const V=yr(z);return V!==z&&(gt.set(z,V),Nt.set(V,z)),V}const $t=z=>Nt.get(z),lt=["get","getKey","getAll","getAllKeys","count"],vr=["put","add","delete","clear"],ae=new Map;function On(z,V){if(!(z instanceof IDBDatabase)||V in z||"string"!=typeof V)return;if(ae.get(V))return ae.get(V);const he=V.replace(/FromIndex$/,""),Ue=V!==he,tt=vr.includes(he);if(!(he in(Ue?IDBIndex:IDBObjectStore).prototype)||!tt&&!lt.includes(he))return;const _t=function(){var ne=(0,T.Z)(function*(cr,...Ne){const vt=this.transaction(cr,tt?"readwrite":"readonly");let nu=vt.store;return Ue&&(nu=nu.index(Ne.shift())),(yield Promise.all([nu[he](...Ne),tt&&vt.done]))[0]});return function(Ne){return ne.apply(this,arguments)}}();return ae.set(V,_t),_t}!function ct(z){Ye=z(Ye)}(z=>({...z,get:(V,he,Ue)=>On(V,he)||z.get(V,he,Ue),has:(V,he)=>!!On(V,he)||z.has(V,he)}));class fn{constructor(V){this.container=V}getPlatformInfoString(){return this.container.getProviders().map(he=>{if(function Gn(z){const V=z.getComponent();return"VERSION"===V?.type}(he)){const Ue=he.getImmediate();return`${Ue.library}/${Ue.version}`}return null}).filter(he=>he).join(" ")}}const Bo="@firebase/app",ht=new J.Yd("@firebase/app"),wo="[DEFAULT]",eu={[Bo]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ti=new Map,_s=new Map;function $s(z,V){try{z.container.addComponent(V)}catch(he){ht.debug(`Component ${V.name} failed to register with FirebaseApp ${z.name}`,he)}}function jr(z,V){z.container.addOrOverwriteComponent(V)}function Ia(z){const V=z.name;if(_s.has(V))return ht.debug(`There were multiple attempts to register component ${V}.`),!1;_s.set(V,z);for(const he of ti.values())$s(he,z);return!0}function gn(z,V){const he=z.container.getProvider("heartbeat").getImmediate({optional:!0});return he&&he.triggerHeartbeat(),z.container.getProvider(V)}function io(z,V,he=wo){gn(z,V).clearInstance(he)}function ar(){_s.clear()}const Ni=new Ze.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Fi{constructor(V,he,Ue){this._isDeleted=!1,this._options=Object.assign({},V),this._config=Object.assign({},he),this._name=he.name,this._automaticDataCollectionEnabled=he.automaticDataCollectionEnabled,this._container=Ue,this.container.addComponent(new Ge.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(V){this.checkDestroyed(),this._automaticDataCollectionEnabled=V}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(V){this._isDeleted=V}checkDestroyed(){if(this.isDeleted)throw Ni.create("app-deleted",{appName:this._name})}}const ms="10.5.2";function Hs(z,V={}){let he=z;"object"!=typeof V&&(V={name:V});const Ue=Object.assign({name:wo,automaticDataCollectionEnabled:!1},V),tt=Ue.name;if("string"!=typeof tt||!tt)throw Ni.create("bad-app-name",{appName:String(tt)});if(he||(he=(0,Ze.aH)()),!he)throw Ni.create("no-options");const _t=ti.get(tt);if(_t){if((0,Ze.vZ)(he,_t.options)&&(0,Ze.vZ)(Ue,_t.config))return _t;throw Ni.create("duplicate-app",{appName:tt})}const ne=new Ge.H0(tt);for(const Ne of _s.values())ne.addComponent(Ne);const cr=new Fi(he,Ue,ne);return ti.set(tt,cr),cr}function zs(z=wo){const V=ti.get(z);if(!V&&z===wo&&(0,Ze.aH)())return Hs();if(!V)throw Ni.create("no-app",{appName:z});return V}function Oc(){return Array.from(ti.values())}function Sr(z){return ni.apply(this,arguments)}function ni(){return(ni=(0,T.Z)(function*(z){const V=z.name;ti.has(V)&&(ti.delete(V),yield Promise.all(z.container.getProviders().map(he=>he.delete())),z.isDeleted=!0)})).apply(this,arguments)}function Ws(z,V,he){var Ue;let tt=null!==(Ue=eu[z])&&void 0!==Ue?Ue:z;he&&(tt+=`-${he}`);const _t=tt.match(/\s|\//),ne=V.match(/\s|\//);if(_t||ne){const cr=[`Unable to register library "${tt}" with version "${V}":`];return _t&&cr.push(`library name "${tt}" contains illegal characters (whitespace or "/")`),_t&&ne&&cr.push("and"),ne&&cr.push(`version name "${V}" contains illegal characters (whitespace or "/")`),void ht.warn(cr.join(" "))}Ia(new Ge.wA(`${tt}-version`,()=>({library:tt,version:V}),"VERSION"))}function Ec(z,V){if(null!==z&&"function"!=typeof z)throw Ni.create("invalid-log-argument");(0,J.Am)(z,V)}function Fd(z){(0,J.Ub)(z)}const tu="firebase-heartbeat-database",Ic=1,N="firebase-heartbeat-store";let x=null;function k(){return x||(x=function tn(z,V,{blocked:he,upgrade:Ue,blocking:tt,terminated:_t}={}){const ne=indexedDB.open(z,V),cr=pn(ne);return Ue&&ne.addEventListener("upgradeneeded",Ne=>{Ue(pn(ne.result),Ne.oldVersion,Ne.newVersion,pn(ne.transaction),Ne)}),he&&ne.addEventListener("blocked",Ne=>he(Ne.oldVersion,Ne.newVersion,Ne)),cr.then(Ne=>{_t&&Ne.addEventListener("close",()=>_t()),tt&&Ne.addEventListener("versionchange",vt=>tt(vt.oldVersion,vt.newVersion,vt))}).catch(()=>{}),cr}(tu,Ic,{upgrade:(z,V)=>{0===V&&z.createObjectStore(N)}}).catch(z=>{throw Ni.create("idb-open",{originalErrorMessage:z.message})})),x}function $(){return($=(0,T.Z)(function*(z){try{return yield(yield k()).transaction(N).objectStore(N).get(kt(z))}catch(V){if(V instanceof Ze.ZR)ht.warn(V.message);else{const he=Ni.create("idb-get",{originalErrorMessage:V?.message});ht.warn(he.message)}}})).apply(this,arguments)}function Q(z,V){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,T.Z)(function*(z,V){try{const Ue=(yield k()).transaction(N,"readwrite");yield Ue.objectStore(N).put(V,kt(z)),yield Ue.done}catch(he){if(he instanceof Ze.ZR)ht.warn(he.message);else{const Ue=Ni.create("idb-set",{originalErrorMessage:he?.message});ht.warn(Ue.message)}}})).apply(this,arguments)}function kt(z){return`${z.name}!${z.options.appId}`}class Li{constructor(V){this.container=V,this._heartbeatsCache=null;const he=this.container.getProvider("app").getImmediate();this._storage=new Kt(he),this._heartbeatsCachePromise=this._storage.read().then(Ue=>(this._heartbeatsCache=Ue,Ue))}triggerHeartbeat(){var V=this;return(0,T.Z)(function*(){const Ue=V.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),tt=Le();if(null===V._heartbeatsCache&&(V._heartbeatsCache=yield V._heartbeatsCachePromise),V._heartbeatsCache.lastSentHeartbeatDate!==tt&&!V._heartbeatsCache.heartbeats.some(_t=>_t.date===tt))return V._heartbeatsCache.heartbeats.push({date:tt,agent:Ue}),V._heartbeatsCache.heartbeats=V._heartbeatsCache.heartbeats.filter(_t=>{const ne=new Date(_t.date).valueOf();return Date.now()-ne<=2592e6}),V._storage.overwrite(V._heartbeatsCache)})()}getHeartbeatsHeader(){var V=this;return(0,T.Z)(function*(){if(null===V._heartbeatsCache&&(yield V._heartbeatsCachePromise),null===V._heartbeatsCache||0===V._heartbeatsCache.heartbeats.length)return"";const he=Le(),{heartbeatsToSend:Ue,unsentEntries:tt}=function Cr(z,V=1024){const he=[];let Ue=z.slice();for(const tt of z){const _t=he.find(ne=>ne.agent===tt.agent);if(_t){if(_t.dates.push(tt.date),ys(he)>V){_t.dates.pop();break}}else if(he.push({agent:tt.agent,dates:[tt.date]}),ys(he)>V){he.pop();break}Ue=Ue.slice(1)}return{heartbeatsToSend:he,unsentEntries:Ue}}(V._heartbeatsCache.heartbeats),_t=(0,Ze.L)(JSON.stringify({version:2,heartbeats:Ue}));return V._heartbeatsCache.lastSentHeartbeatDate=he,tt.length>0?(V._heartbeatsCache.heartbeats=tt,yield V._storage.overwrite(V._heartbeatsCache)):(V._heartbeatsCache.heartbeats=[],V._storage.overwrite(V._heartbeatsCache)),_t})()}}function Le(){return(new Date).toISOString().substring(0,10)}class Kt{constructor(V){this.app=V,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,T.Z)(function*(){return!!(0,Ze.hl)()&&(0,Ze.eu)().then(()=>!0).catch(()=>!1)})()}read(){var V=this;return(0,T.Z)(function*(){return(yield V._canUseIndexedDBPromise)&&(yield function re(z){return $.apply(this,arguments)}(V.app))||{heartbeats:[]}})()}overwrite(V){var he=this;return(0,T.Z)(function*(){var Ue;if(yield he._canUseIndexedDBPromise){const _t=yield he.read();return Q(he.app,{lastSentHeartbeatDate:null!==(Ue=V.lastSentHeartbeatDate)&&void 0!==Ue?Ue:_t.lastSentHeartbeatDate,heartbeats:V.heartbeats})}})()}add(V){var he=this;return(0,T.Z)(function*(){var Ue;if(yield he._canUseIndexedDBPromise){const _t=yield he.read();return Q(he.app,{lastSentHeartbeatDate:null!==(Ue=V.lastSentHeartbeatDate)&&void 0!==Ue?Ue:_t.lastSentHeartbeatDate,heartbeats:[..._t.heartbeats,...V.heartbeats]})}})()}}function ys(z){return(0,Ze.L)(JSON.stringify({version:2,heartbeats:z})).length}!function ba(z){Ia(new Ge.wA("platform-logger",V=>new fn(V),"PRIVATE")),Ia(new Ge.wA("heartbeat",V=>new Li(V),"PRIVATE")),Ws(Bo,"0.9.22",z),Ws(Bo,"0.9.22","esm2017"),Ws("fire-js","")}("")},537:(fs,br,et)=>{et.d(br,{H0:()=>mr,wA:()=>J,zt:()=>xt});var T=et(861),Ge=et(58);class J{constructor(ce,fe,ke){this.name=ce,this.instanceFactory=fe,this.type=ke,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ce){return this.instantiationMode=ce,this}setMultipleInstances(ce){return this.multipleInstances=ce,this}setServiceProps(ce){return this.serviceProps=ce,this}setInstanceCreatedCallback(ce){return this.onInstanceCreated=ce,this}}const Ze="[DEFAULT]";class xt{constructor(ce,fe){this.name=ce,this.container=fe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ce){const fe=this.normalizeInstanceIdentifier(ce);if(!this.instancesDeferred.has(fe)){const ke=new Ge.BH;if(this.instancesDeferred.set(fe,ke),this.isInitialized(fe)||this.shouldAutoInitialize())try{const gt=this.getOrInitializeService({instanceIdentifier:fe});gt&&ke.resolve(gt)}catch{}}return this.instancesDeferred.get(fe).promise}getImmediate(ce){var fe;const ke=this.normalizeInstanceIdentifier(ce?.identifier),gt=null!==(fe=ce?.optional)&&void 0!==fe&&fe;if(!this.isInitialized(ke)&&!this.shouldAutoInitialize()){if(gt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ke})}catch(Nt){if(gt)return null;throw Nt}}getComponent(){return this.component}setComponent(ce){if(ce.name!==this.name)throw Error(`Mismatching Component ${ce.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ce,this.shouldAutoInitialize()){if(function kn(yt){return"EAGER"===yt.instantiationMode}(ce))try{this.getOrInitializeService({instanceIdentifier:Ze})}catch{}for(const[fe,ke]of this.instancesDeferred.entries()){const gt=this.normalizeInstanceIdentifier(fe);try{const Nt=this.getOrInitializeService({instanceIdentifier:gt});ke.resolve(Nt)}catch{}}}}clearInstance(ce=Ze){this.instancesDeferred.delete(ce),this.instancesOptions.delete(ce),this.instances.delete(ce)}delete(){var ce=this;return(0,T.Z)(function*(){const fe=Array.from(ce.instances.values());yield Promise.all([...fe.filter(ke=>"INTERNAL"in ke).map(ke=>ke.INTERNAL.delete()),...fe.filter(ke=>"_delete"in ke).map(ke=>ke._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ce=Ze){return this.instances.has(ce)}getOptions(ce=Ze){return this.instancesOptions.get(ce)||{}}initialize(ce={}){const{options:fe={}}=ce,ke=this.normalizeInstanceIdentifier(ce.instanceIdentifier);if(this.isInitialized(ke))throw Error(`${this.name}(${ke}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const gt=this.getOrInitializeService({instanceIdentifier:ke,options:fe});for(const[Nt,Tr]of this.instancesDeferred.entries())ke===this.normalizeInstanceIdentifier(Nt)&&Tr.resolve(gt);return gt}onInit(ce,fe){var ke;const gt=this.normalizeInstanceIdentifier(fe),Nt=null!==(ke=this.onInitCallbacks.get(gt))&&void 0!==ke?ke:new Set;Nt.add(ce),this.onInitCallbacks.set(gt,Nt);const Tr=this.instances.get(gt);return Tr&&ce(Tr,gt),()=>{Nt.delete(ce)}}invokeOnInitCallbacks(ce,fe){const ke=this.onInitCallbacks.get(fe);if(ke)for(const gt of ke)try{gt(ce,fe)}catch{}}getOrInitializeService({instanceIdentifier:ce,options:fe={}}){let ke=this.instances.get(ce);if(!ke&&this.component&&(ke=this.component.instanceFactory(this.container,{instanceIdentifier:(yt=ce,yt===Ze?void 0:yt),options:fe}),this.instances.set(ce,ke),this.instancesOptions.set(ce,fe),this.invokeOnInitCallbacks(ke,ce),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ce,ke)}catch{}var yt;return ke||null}normalizeInstanceIdentifier(ce=Ze){return this.component?this.component.multipleInstances?ce:Ze:ce}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class mr{constructor(ce){this.name=ce,this.providers=new Map}addComponent(ce){const fe=this.getProvider(ce.name);if(fe.isComponentSet())throw new Error(`Component ${ce.name} has already been registered with ${this.name}`);fe.setComponent(ce)}addOrOverwriteComponent(ce){this.getProvider(ce.name).isComponentSet()&&this.providers.delete(ce.name),this.addComponent(ce)}getProvider(ce){if(this.providers.has(ce))return this.providers.get(ce);const fe=new xt(ce,this);return this.providers.set(ce,fe),fe}getProviders(){return Array.from(this.providers.values())}}},879:(fs,br,et)=>{et.d(br,{Am:()=>yt,Ub:()=>mr,Yd:()=>kn,in:()=>Ge});const T=[];var Ge=function(ce){return ce[ce.DEBUG=0]="DEBUG",ce[ce.VERBOSE=1]="VERBOSE",ce[ce.INFO=2]="INFO",ce[ce.WARN=3]="WARN",ce[ce.ERROR=4]="ERROR",ce[ce.SILENT=5]="SILENT",ce}(Ge||{});const J={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},Ze=Ge.INFO,xt={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},hn=(ce,fe,...ke)=>{if(fe<ce.logLevel)return;const gt=(new Date).toISOString(),Nt=xt[fe];if(!Nt)throw new Error(`Attempted to log a message with an invalid logType (value: ${fe})`);console[Nt](`[${gt}]  ${ce.name}:`,...ke)};class kn{constructor(fe){this.name=fe,this._logLevel=Ze,this._logHandler=hn,this._userLogHandler=null,T.push(this)}get logLevel(){return this._logLevel}set logLevel(fe){if(!(fe in Ge))throw new TypeError(`Invalid value "${fe}" assigned to \`logLevel\``);this._logLevel=fe}setLogLevel(fe){this._logLevel="string"==typeof fe?J[fe]:fe}get logHandler(){return this._logHandler}set logHandler(fe){if("function"!=typeof fe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=fe}get userLogHandler(){return this._userLogHandler}set userLogHandler(fe){this._userLogHandler=fe}debug(...fe){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...fe),this._logHandler(this,Ge.DEBUG,...fe)}log(...fe){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...fe),this._logHandler(this,Ge.VERBOSE,...fe)}info(...fe){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...fe),this._logHandler(this,Ge.INFO,...fe)}warn(...fe){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...fe),this._logHandler(this,Ge.WARN,...fe)}error(...fe){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...fe),this._logHandler(this,Ge.ERROR,...fe)}}function mr(ce){T.forEach(fe=>{fe.setLogLevel(ce)})}function yt(ce,fe){for(const ke of T){let gt=null;fe&&fe.level&&(gt=J[fe.level]),ke.userLogHandler=null===ce?null:(Nt,Tr,...jt)=>{const Ye=jt.map(ct=>{if(null==ct)return null;if("string"==typeof ct)return ct;if("number"==typeof ct||"boolean"==typeof ct)return ct.toString();if(ct instanceof Error)return ct.message;try{return JSON.stringify(ct)}catch{return null}}).filter(ct=>ct).join(" ");Tr>=(gt??Nt.logLevel)&&ce({level:Ge[Tr].toLowerCase(),message:Ye,args:jt,type:Nt.name})}}}},643:(fs,br,et)=>{et.r(br);var T=et(861),Ge=et(106),J=et(58),Ze=et(534),xt=et(879),hn=et(582),kn=et(537);const yt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Tr=function gt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},jt=function Nt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ye=new J.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ar=new xt.Yd("@firebase/auth");function pn(p,...u){Ar.logLevel<=xt.in.ERROR&&Ar.error(`Auth (${Ze.SDK_VERSION}): ${p}`,...u)}function $t(p,...u){throw vr(p,...u)}function tn(p,...u){return vr(p,...u)}function _i(p,u,d){const g=Object.assign(Object.assign({},jt()),{[u]:d});return new J.LL("auth","Firebase",g).create(u,{appName:p.name})}function lt(p,u,d){if(!(u instanceof d))throw d.name!==u.constructor.name&&$t(p,"argument-error"),_i(p,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vr(p,...u){if("string"!=typeof p){const d=u[0],g=[...u.slice(1)];return g[0]&&(g[0].appName=p.name),p._errorFactory.create(d,...g)}return Ye.create(p,...u)}function ae(p,u,...d){if(!p)throw vr(u,...d)}function On(p){const u="INTERNAL ASSERTION FAILED: "+p;throw pn(u),new Error(u)}function fn(p,u){p||On(u)}function Gn(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.href)||""}function Bo(){return"http:"===jo()||"https:"===jo()}function jo(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.protocol)||null}class $o{constructor(u,d){this.shortDelay=u,this.longDelay=d,fn(d>u,"Short delay should be less than long delay!"),this.isMobile=(0,J.uI)()||(0,J.b$)()}get(){return function ht(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Bo()||(0,J.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function K(p,u){fn(p.emulator,"Emulator should always be set here");const{url:d}=p.emulator;return u?`${d}${u.startsWith("/")?u.slice(1):u}`:d}class Y{static initialize(u,d,g){this.fetchImpl=u,d&&(this.headersImpl=d),g&&(this.responseImpl=g)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void On("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void On("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void On("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const te={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ie=new $o(3e4,6e4);function ue(p,u){return p.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:p.tenantId}):u}function X(p,u,d,g){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,T.Z)(function*(p,u,d,g,C={}){return It(p,C,(0,T.Z)(function*(){let M={},R={};g&&("GET"===u?R=g:M={body:JSON.stringify(g)});const B=(0,J.xO)(Object.assign({key:p.config.apiKey},R)).slice(1),oe=yield p._getAdditionalHeaders();return oe["Content-Type"]="application/json",p.languageCode&&(oe["X-Firebase-Locale"]=p.languageCode),Y.fetch()(En(p,p.config.apiHost,d,B),Object.assign({method:u,headers:oe,referrerPolicy:"no-referrer"},M))}))})).apply(this,arguments)}function It(p,u,d){return ye.apply(this,arguments)}function ye(){return(ye=(0,T.Z)(function*(p,u,d){p._canInitEmulator=!1;const g=Object.assign(Object.assign({},te),u);try{const C=new Dr(p),M=yield Promise.race([d(),C.promise]);C.clearNetworkTimeout();const R=yield M.json();if("needConfirmation"in R)throw sr(p,"account-exists-with-different-credential",R);if(M.ok&&!("errorMessage"in R))return R;{const B=M.ok?R.errorMessage:R.error.message,[oe,ve]=B.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===oe)throw sr(p,"credential-already-in-use",R);if("EMAIL_EXISTS"===oe)throw sr(p,"email-already-in-use",R);if("USER_DISABLED"===oe)throw sr(p,"user-disabled",R);const be=g[oe]||oe.toLowerCase().replace(/[_\s]+/g,"-");if(ve)throw _i(p,be,ve);$t(p,be)}}catch(C){if(C instanceof J.ZR)throw C;$t(p,"network-request-failed",{message:String(C)})}})).apply(this,arguments)}function Fe(p,u,d,g){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,T.Z)(function*(p,u,d,g,C={}){const M=yield X(p,u,d,g,C);return"mfaPendingCredential"in M&&$t(p,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function En(p,u,d,g){const C=`${u}${d}?${g}`;return p.config.emulator?K(p.config,C):`${p.config.apiScheme}://${C}`}function cn(p){switch(p){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Dr{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((d,g)=>{this.timer=setTimeout(()=>g(tn(this.auth,"network-request-failed")),ie.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sr(p,u,d){const g={appName:p.name};d.email&&(g.email=d.email),d.phoneNumber&&(g.phoneNumber=d.phoneNumber);const C=tn(p,u,g);return C.customData._tokenResponse=d,C}function Jr(p){return void 0!==p&&void 0!==p.getResponse}function ei(p){return void 0!==p&&void 0!==p.enterprise}class ki{constructor(u){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===u.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=u.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=u.recaptchaEnforcementState}getProviderEnforcementState(u){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const d of this.recaptchaEnforcementState)if(d.provider&&d.provider===u)return cn(d.enforcementState);return null}isProviderEnabled(u){return"ENFORCE"===this.getProviderEnforcementState(u)||"AUDIT"===this.getProviderEnforcementState(u)}}function gs(){return(gs=(0,T.Z)(function*(p){return(yield X(p,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function qn(p,u){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,T.Z)(function*(p,u){return X(p,"GET","/v2/recaptchaConfig",ue(p,u))})).apply(this,arguments)}function wo(){return(wo=(0,T.Z)(function*(p,u){return X(p,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function ti(){return(ti=(0,T.Z)(function*(p,u){return X(p,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function $s(){return($s=(0,T.Z)(function*(p,u){return X(p,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function jr(p){if(p)try{const u=new Date(Number(p));if(!isNaN(u.getTime()))return u.toUTCString()}catch{}}function io(){return(io=(0,T.Z)(function*(p,u=!1){const d=(0,J.m9)(p),g=yield d.getIdToken(u),C=Mc(g);ae(C&&C.exp&&C.auth_time&&C.iat,d.auth,"internal-error");const M="object"==typeof C.firebase?C.firebase:void 0,R=M?.sign_in_provider;return{claims:C,token:g,authTime:jr(ar(C.auth_time)),issuedAtTime:jr(ar(C.iat)),expirationTime:jr(ar(C.exp)),signInProvider:R||null,signInSecondFactor:M?.sign_in_second_factor||null}})).apply(this,arguments)}function ar(p){return 1e3*Number(p)}function Mc(p){const[u,d,g]=p.split(".");if(void 0===u||void 0===d||void 0===g)return pn("JWT malformed, contained fewer than 3 sections"),null;try{const C=(0,J.tV)(d);return C?JSON.parse(C):(pn("Failed to decode base64 JWT payload"),null)}catch(C){return pn("Caught error parsing JWT payload as JSON",C?.toString()),null}}function Fi(p,u){return ms.apply(this,arguments)}function ms(){return(ms=(0,T.Z)(function*(p,u,d=!1){if(d)return u;try{return yield u}catch(g){throw g instanceof J.ZR&&function Hs({code:p}){return"auth/user-disabled"===p||"auth/user-token-expired"===p}(g)&&p.auth.currentUser===p&&(yield p.auth.signOut()),g}})).apply(this,arguments)}class zs{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var d;if(u){const g=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),g}{this.errorBackoff=3e4;const C=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,C)}}schedule(u=!1){var d=this;if(!this.isRunning)return;const g=this.getInterval(u);this.timerId=setTimeout((0,T.Z)(function*(){yield d.iteration()}),g)}iteration(){var u=this;return(0,T.Z)(function*(){try{yield u.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&u.schedule(!0))}u.schedule()})()}}class Oc{constructor(u,d){this.createdAt=u,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=jr(this.lastLoginAt),this.creationTime=jr(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Sr(p){return ni.apply(this,arguments)}function ni(){return ni=(0,T.Z)(function*(p){var u;const d=p.auth,g=yield p.getIdToken(),C=yield Fi(p,function _s(p,u){return $s.apply(this,arguments)}(d,{idToken:g}));ae(C?.users.length,d,"internal-error");const M=C.users[0];p._notifyReloadListener(M);const R=null!==(u=M.providerUserInfo)&&void 0!==u&&u.length?function tu(p){return p.map(u=>{var{providerId:d}=u,g=(0,hn._T)(u,["providerId"]);return{providerId:d,uid:g.rawId||"",displayName:g.displayName||null,email:g.email||null,phoneNumber:g.phoneNumber||null,photoURL:g.photoUrl||null}})}(M.providerUserInfo):[],B=function Fd(p,u){return[...p.filter(g=>!u.some(C=>C.providerId===g.providerId)),...u]}(p.providerData,R),be=!!p.isAnonymous&&!(p.email&&M.passwordHash||B?.length),Ae={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:B,metadata:new Oc(M.createdAt,M.lastLoginAt),isAnonymous:be};Object.assign(p,Ae)}),ni.apply(this,arguments)}function Ec(){return(Ec=(0,T.Z)(function*(p){const u=(0,J.m9)(p);yield Sr(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function N(){return(N=(0,T.Z)(function*(p,u){const d=yield It(p,{},(0,T.Z)(function*(){const g=(0,J.xO)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:C,apiKey:M}=p.config,R=En(p,C,"/v1/token",`key=${M}`),B=yield p._getAdditionalHeaders();return B["Content-Type"]="application/x-www-form-urlencoded",Y.fetch()(R,{method:"POST",headers:B,body:g})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}class x{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){ae(u.idToken,"internal-error"),ae(typeof u.idToken<"u","internal-error"),ae(typeof u.refreshToken<"u","internal-error");const d="expiresIn"in u&&typeof u.expiresIn<"u"?Number(u.expiresIn):function Ni(p){const u=Mc(p);return ae(u,"internal-error"),ae(typeof u.exp<"u","internal-error"),ae(typeof u.iat<"u","internal-error"),Number(u.exp)-Number(u.iat)}(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,d)}getToken(u,d=!1){var g=this;return(0,T.Z)(function*(){return ae(!g.accessToken||g.refreshToken,u,"user-token-expired"),d||!g.accessToken||g.isExpired?g.refreshToken?(yield g.refresh(u,g.refreshToken),g.accessToken):null:g.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,d){var g=this;return(0,T.Z)(function*(){const{accessToken:C,refreshToken:M,expiresIn:R}=yield function Ic(p,u){return N.apply(this,arguments)}(u,d);g.updateTokensAndExpiration(C,M,Number(R))})()}updateTokensAndExpiration(u,d,g){this.refreshToken=d||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*g}static fromJSON(u,d){const{refreshToken:g,accessToken:C,expirationTime:M}=d,R=new x;return g&&(ae("string"==typeof g,"internal-error",{appName:u}),R.refreshToken=g),C&&(ae("string"==typeof C,"internal-error",{appName:u}),R.accessToken=C),M&&(ae("number"==typeof M,"internal-error",{appName:u}),R.expirationTime=M),R}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new x,this.toJSON())}_performRefresh(){return On("not implemented")}}function k(p,u){ae("string"==typeof p||typeof p>"u","internal-error",{appName:u})}class re{constructor(u){var{uid:d,auth:g,stsTokenManager:C}=u,M=(0,hn._T)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=g,this.stsTokenManager=C,this.accessToken=C.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new Oc(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(u){var d=this;return(0,T.Z)(function*(){const g=yield Fi(d,d.stsTokenManager.getToken(d.auth,u));return ae(g,d.auth,"internal-error"),d.accessToken!==g&&(d.accessToken=g,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),g})()}getIdTokenResult(u){return function gn(p){return io.apply(this,arguments)}(this,u)}reload(){return function Ws(p){return Ec.apply(this,arguments)}(this)}_assign(u){this!==u&&(ae(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(d=>Object.assign({},d)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){const d=new re(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(u){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,d=!1){var g=this;return(0,T.Z)(function*(){let C=!1;u.idToken&&u.idToken!==g.stsTokenManager.accessToken&&(g.stsTokenManager.updateFromServerResponse(u),C=!0),d&&(yield Sr(g)),yield g.auth._persistUserIfCurrent(g),C&&g.auth._notifyListenersIfCurrent(g)})()}delete(){var u=this;return(0,T.Z)(function*(){const d=yield u.getIdToken();return yield Fi(u,function Jl(p,u){return wo.apply(this,arguments)}(u.auth,{idToken:d})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,d){var g,C,M,R,B,oe,ve,be;const Ae=null!==(g=d.displayName)&&void 0!==g?g:void 0,An=null!==(C=d.email)&&void 0!==C?C:void 0,es=null!==(M=d.phoneNumber)&&void 0!==M?M:void 0,Au=null!==(R=d.photoURL)&&void 0!==R?R:void 0,wC=null!==(B=d.tenantId)&&void 0!==B?B:void 0,PC=null!==(oe=d._redirectEventId)&&void 0!==oe?oe:void 0,MC=null!==(ve=d.createdAt)&&void 0!==ve?ve:void 0,OC=null!==(be=d.lastLoginAt)&&void 0!==be?be:void 0,{uid:Kg,emailVerified:Du,isAnonymous:Zg,providerData:Yg,stsTokenManager:Qg}=d;ae(Kg&&Qg,u,"internal-error");const lN=x.fromJSON(this.name,Qg);ae("string"==typeof Kg,u,"internal-error"),k(Ae,u.name),k(An,u.name),ae("boolean"==typeof Du,u,"internal-error"),ae("boolean"==typeof Zg,u,"internal-error"),k(es,u.name),k(Au,u.name),k(wC,u.name),k(PC,u.name),k(MC,u.name),k(OC,u.name);const Ah=new re({uid:Kg,auth:u,email:An,emailVerified:Du,displayName:Ae,isAnonymous:Zg,photoURL:Au,phoneNumber:es,tenantId:wC,stsTokenManager:lN,createdAt:MC,lastLoginAt:OC});return Yg&&Array.isArray(Yg)&&(Ah.providerData=Yg.map(uN=>Object.assign({},uN))),PC&&(Ah._redirectEventId=PC),Ah}static _fromIdTokenResponse(u,d,g=!1){return(0,T.Z)(function*(){const C=new x;C.updateFromServerResponse(d);const M=new re({uid:d.localId,auth:u,stsTokenManager:C,isAnonymous:g});return yield Sr(M),M})()}}const $=new Map;function Q(p){fn(p instanceof Function,"Expected a class definition");let u=$.get(p);return u?(fn(u instanceof p,"Instance stored in cache mismatched with class"),u):(u=new p,$.set(p,u),u)}const kt=(()=>{class p{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,T.Z)(function*(){return!0})()}_set(d,g){var C=this;return(0,T.Z)(function*(){C.storage[d]=g})()}_get(d){var g=this;return(0,T.Z)(function*(){const C=g.storage[d];return void 0===C?null:C})()}_remove(d){var g=this;return(0,T.Z)(function*(){delete g.storage[d]})()}_addListener(d,g){}_removeListener(d,g){}}return p.type="NONE",p})();function it(p,u,d){return`firebase:${p}:${u}:${d}`}class _n{constructor(u,d,g){this.persistence=u,this.auth=d,this.userKey=g;const{config:C,name:M}=this.auth;this.fullUserKey=it(this.userKey,C.apiKey,M),this.fullPersistenceKey=it("persistence",C.apiKey,M),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,T.Z)(function*(){const d=yield u.persistence._get(u.fullUserKey);return d?re._fromJSON(u.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var d=this;return(0,T.Z)(function*(){if(d.persistence===u)return;const g=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=u,g?d.setCurrentUser(g):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,d,g="authUser"){return(0,T.Z)(function*(){if(!d.length)return new _n(Q(kt),u,g);const C=(yield Promise.all(d.map(function(){var ve=(0,T.Z)(function*(be){if(yield be._isAvailable())return be});return function(be){return ve.apply(this,arguments)}}()))).filter(ve=>ve);let M=C[0]||Q(kt);const R=it(g,u.config.apiKey,u.name);let B=null;for(const ve of d)try{const be=yield ve._get(R);if(be){const Ae=re._fromJSON(u,be);ve!==M&&(B=Ae),M=ve;break}}catch{}const oe=C.filter(ve=>ve._shouldAllowMigration);return M._shouldAllowMigration&&oe.length?(M=oe[0],B&&(yield M._set(R,B.toJSON())),yield Promise.all(d.map(function(){var ve=(0,T.Z)(function*(be){if(be!==M)try{yield be._remove(R)}catch{}});return function(be){return ve.apply(this,arguments)}}())),new _n(M,u,g)):new _n(M,u,g)})()}}function Li(p){const u=p.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(ys(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if(Le(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(z(u))return"Blackberry";if(V(u))return"Webos";if(Cr(u))return"Safari";if((u.includes("chrome/")||Kt(u))&&!u.includes("edge/"))return"Chrome";if(ba(u))return"Android";{const g=p.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===g?.length)return g[1]}return"Other"}function Le(p=(0,J.z$)()){return/firefox\//i.test(p)}function Cr(p=(0,J.z$)()){const u=p.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function Kt(p=(0,J.z$)()){return/crios\//i.test(p)}function ys(p=(0,J.z$)()){return/iemobile/i.test(p)}function ba(p=(0,J.z$)()){return/android/i.test(p)}function z(p=(0,J.z$)()){return/blackberry/i.test(p)}function V(p=(0,J.z$)()){return/webos/i.test(p)}function he(p=(0,J.z$)()){return/iphone|ipad|ipod/i.test(p)||/macintosh/i.test(p)&&/mobile/i.test(p)}function ne(p=(0,J.z$)()){return he(p)||ba(p)||V(p)||z(p)||/windows phone/i.test(p)||ys(p)}function Ne(p,u=[]){let d;switch(p){case"Browser":d=Li((0,J.z$)());break;case"Worker":d=`${Li((0,J.z$)())}-${p}`;break;default:d=p}const g=u.length?u.join(","):"FirebaseCore-web";return`${d}/JsCore/${Ze.SDK_VERSION}/${g}`}class vt{constructor(u){this.auth=u,this.queue=[]}pushCallback(u,d){const g=M=>new Promise((R,B)=>{try{R(u(M))}catch(oe){B(oe)}});g.onAbort=d,this.queue.push(g);const C=this.queue.length-1;return()=>{this.queue[C]=()=>Promise.resolve()}}runMiddleware(u){var d=this;return(0,T.Z)(function*(){if(d.auth.currentUser===u)return;const g=[];try{for(const C of d.queue)yield C(u),C.onAbort&&g.push(C.onAbort)}catch(C){g.reverse();for(const M of g)try{M()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:C?.message})}})()}}function pv(){return(pv=(0,T.Z)(function*(p,u={}){return X(p,"GET","/v2/passwordPolicy",ue(p,u))})).apply(this,arguments)}class Vf{constructor(u){var d,g,C,M;const R=u.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(d=R.minPasswordLength)&&void 0!==d?d:6,R.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=R.maxPasswordLength),void 0!==R.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=R.containsLowercaseCharacter),void 0!==R.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=R.containsUppercaseCharacter),void 0!==R.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=R.containsNumericCharacter),void 0!==R.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=R.containsNonAlphanumericCharacter),this.enforcementState=u.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(C=null===(g=u.allowedNonAlphanumericCharacters)||void 0===g?void 0:g.join(""))&&void 0!==C?C:"",this.forceUpgradeOnSignin=null!==(M=u.forceUpgradeOnSignin)&&void 0!==M&&M,this.schemaVersion=u.schemaVersion}validatePassword(u){var d,g,C,M,R,B;const oe={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(u,oe),this.validatePasswordCharacterOptions(u,oe),oe.isValid&&(oe.isValid=null===(d=oe.meetsMinPasswordLength)||void 0===d||d),oe.isValid&&(oe.isValid=null===(g=oe.meetsMaxPasswordLength)||void 0===g||g),oe.isValid&&(oe.isValid=null===(C=oe.containsLowercaseLetter)||void 0===C||C),oe.isValid&&(oe.isValid=null===(M=oe.containsUppercaseLetter)||void 0===M||M),oe.isValid&&(oe.isValid=null===(R=oe.containsNumericCharacter)||void 0===R||R),oe.isValid&&(oe.isValid=null===(B=oe.containsNonAlphanumericCharacter)||void 0===B||B),oe}validatePasswordLengthOptions(u,d){const g=this.customStrengthOptions.minPasswordLength,C=this.customStrengthOptions.maxPasswordLength;g&&(d.meetsMinPasswordLength=u.length>=g),C&&(d.meetsMaxPasswordLength=u.length<=C)}validatePasswordCharacterOptions(u,d){let g;this.updatePasswordCharacterOptionsStatuses(d,!1,!1,!1,!1);for(let C=0;C<u.length;C++)g=u.charAt(C),this.updatePasswordCharacterOptionsStatuses(d,g>="a"&&g<="z",g>="A"&&g<="Z",g>="0"&&g<="9",this.allowedNonAlphanumericCharacters.includes(g))}updatePasswordCharacterOptionsStatuses(u,d,g,C,M){this.customStrengthOptions.containsLowercaseLetter&&(u.containsLowercaseLetter||(u.containsLowercaseLetter=d)),this.customStrengthOptions.containsUppercaseLetter&&(u.containsUppercaseLetter||(u.containsUppercaseLetter=g)),this.customStrengthOptions.containsNumericCharacter&&(u.containsNumericCharacter||(u.containsNumericCharacter=C)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(u.containsNonAlphanumericCharacter||(u.containsNonAlphanumericCharacter=M))}}class Vi{constructor(u,d,g,C){this.app=u,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=g,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fv(this),this.idTokenSubscription=new fv(this),this.beforeStateQueue=new vt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ye,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(u,d){var g=this;return d&&(this._popupRedirectResolver=Q(d)),this._initializationPromise=this.queue((0,T.Z)(function*(){var C,M;if(!g._deleted&&(g.persistenceManager=yield _n.create(g,u),!g._deleted)){if(null!==(C=g._popupRedirectResolver)&&void 0!==C&&C._shouldInitProactively)try{yield g._popupRedirectResolver._initialize(g)}catch{}yield g.initializeCurrentUser(d),g.lastNotifiedUid=(null===(M=g.currentUser)||void 0===M?void 0:M.uid)||null,!g._deleted&&(g._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,T.Z)(function*(){if(u._deleted)return;const d=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||d){if(u.currentUser&&d&&u.currentUser.uid===d.uid)return u._currentUser._assign(d),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(d,!0)}})()}initializeCurrentUser(u){var d=this;return(0,T.Z)(function*(){var g;const C=yield d.assertedPersistence.getCurrentUser();let M=C,R=!1;if(u&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const B=null===(g=d.redirectUser)||void 0===g?void 0:g._redirectEventId,oe=M?._redirectEventId,ve=yield d.tryRedirectSignIn(u);(!B||B===oe)&&ve?.user&&(M=ve.user,R=!0)}if(!M)return d.directlySetCurrentUser(null);if(!M._redirectEventId){if(R)try{yield d.beforeStateQueue.runMiddleware(M)}catch(B){M=C,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(B))}return M?d.reloadAndSetCurrentUserOrClear(M):d.directlySetCurrentUser(null)}return ae(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===M._redirectEventId?d.directlySetCurrentUser(M):d.reloadAndSetCurrentUserOrClear(M)})()}tryRedirectSignIn(u){var d=this;return(0,T.Z)(function*(){let g=null;try{g=yield d._popupRedirectResolver._completeRedirectFn(d,u,!0)}catch{yield d._setRedirectUser(null)}return g})()}reloadAndSetCurrentUserOrClear(u){var d=this;return(0,T.Z)(function*(){try{yield Sr(u)}catch(g){if("auth/network-request-failed"!==g?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function js(){if(typeof navigator>"u")return null;const p=navigator;return p.languages&&p.languages[0]||p.language||null}()}_delete(){var u=this;return(0,T.Z)(function*(){u._deleted=!0})()}updateCurrentUser(u){var d=this;return(0,T.Z)(function*(){const g=u?(0,J.m9)(u):null;return g&&ae(g.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(g&&g._clone(d))})()}_updateCurrentUser(u,d=!1){var g=this;return(0,T.Z)(function*(){if(!g._deleted)return u&&ae(g.tenantId===u.tenantId,g,"tenant-id-mismatch"),d||(yield g.beforeStateQueue.runMiddleware(u)),g.queue((0,T.Z)(function*(){yield g.directlySetCurrentUser(u),g.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,T.Z)(function*(){return yield u.beforeStateQueue.runMiddleware(null),(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null,!0)})()}setPersistence(u){var d=this;return this.queue((0,T.Z)(function*(){yield d.assertedPersistence.setPersistence(Q(u))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(u){var d=this;return(0,T.Z)(function*(){d._getPasswordPolicyInternal()||(yield d._updatePasswordPolicy());const g=d._getPasswordPolicyInternal();return g.schemaVersion!==d.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(d._errorFactory.create("unsupported-password-policy-schema-version",{})):g.validatePassword(u)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var u=this;return(0,T.Z)(function*(){const d=yield function nu(p){return pv.apply(this,arguments)}(u),g=new Vf(d);null===u.tenantId?u._projectPasswordPolicy=g:u._tenantPasswordPolicies[u.tenantId]=g})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new J.LL("auth","Firebase",u())}onAuthStateChanged(u,d,g){return this.registerStateListener(this.authStateSubscription,u,d,g)}beforeAuthStateChanged(u,d){return this.beforeStateQueue.pushCallback(u,d)}onIdTokenChanged(u,d,g){return this.registerStateListener(this.idTokenSubscription,u,d,g)}authStateReady(){return new Promise((u,d)=>{if(this.currentUser)u();else{const g=this.onAuthStateChanged(()=>{g(),u()},d)}})}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,d){var g=this;return(0,T.Z)(function*(){const C=yield g.getOrInitRedirectPersistenceManager(d);return null===u?C.removeCurrentUser():C.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var d=this;return(0,T.Z)(function*(){if(!d.redirectPersistenceManager){const g=u&&Q(u)||d._popupRedirectResolver;ae(g,d,"argument-error"),d.redirectPersistenceManager=yield _n.create(d,[Q(g._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(u){var d=this;return(0,T.Z)(function*(){var g,C;return d._isInitialized&&(yield d.queue((0,T.Z)(function*(){}))),(null===(g=d._currentUser)||void 0===g?void 0:g._redirectEventId)===u?d._currentUser:(null===(C=d.redirectUser)||void 0===C?void 0:C._redirectEventId)===u?d.redirectUser:null})()}_persistUserIfCurrent(u){var d=this;return(0,T.Z)(function*(){if(u===d.currentUser)return d.queue((0,T.Z)(function*(){return d.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const g=null!==(d=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==g&&(this.lastNotifiedUid=g,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,d,g,C){if(this._deleted)return()=>{};const M="function"==typeof d?d:d.next.bind(d);let R=!1;const B=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(B,this,"internal-error"),B.then(()=>{R||M(this.currentUser)}),"function"==typeof d){const oe=u.addObserver(d,g,C);return()=>{R=!0,oe()}}{const oe=u.addObserver(d);return()=>{R=!0,oe()}}}directlySetCurrentUser(u){var d=this;return(0,T.Z)(function*(){d.currentUser&&d.currentUser!==u&&d._currentUser._stopProactiveRefresh(),u&&d.isProactiveRefreshEnabled&&u._startProactiveRefresh(),d.currentUser=u,u?yield d.assertedPersistence.setCurrentUser(u):yield d.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=Ne(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,T.Z)(function*(){var d;const g={"X-Client-Version":u.clientVersion};u.app.options.appId&&(g["X-Firebase-gmpid"]=u.app.options.appId);const C=yield null===(d=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();C&&(g["X-Firebase-Client"]=C);const M=yield u._getAppCheckToken();return M&&(g["X-Firebase-AppCheck"]=M),g})()}_getAppCheckToken(){var u=this;return(0,T.Z)(function*(){var d;const g=yield null===(d=u.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return g?.error&&function yr(p,...u){Ar.logLevel<=xt.in.WARN&&Ar.warn(`Auth (${Ze.SDK_VERSION}): ${p}`,...u)}(`Error while retrieving App Check token: ${g.error}`),g?.token})()}}function In(p){return(0,J.m9)(p)}class fv{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,J.ne)(d=>this.observer=d)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function vs(p){return new Promise((u,d)=>{const g=document.createElement("script");g.setAttribute("src",p),g.onload=u,g.onerror=C=>{const M=tn("internal-error");M.customData=C,d(M)},g.type="text/javascript",g.charset="UTF-8",function xk(){var p,u;return null!==(u=null===(p=document.getElementsByTagName("head"))||void 0===p?void 0:p[0])&&void 0!==u?u:document}().appendChild(g)})}function o1(p){return`__${p}${Math.floor(1e6*Math.random())}`}class gv{constructor(u){this.type="recaptcha-enterprise",this.auth=In(u)}verify(u="verify",d=!1){var g=this;return(0,T.Z)(function*(){function M(){return M=(0,T.Z)(function*(B){if(!d){if(null==B.tenantId&&null!=B._agentRecaptchaConfig)return B._agentRecaptchaConfig.siteKey;if(null!=B.tenantId&&void 0!==B._tenantRecaptchaConfigs[B.tenantId])return B._tenantRecaptchaConfigs[B.tenantId].siteKey}return new Promise(function(){var oe=(0,T.Z)(function*(ve,be){qn(B,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ae=>{if(void 0!==Ae.recaptchaKey){const An=new ki(Ae);return null==B.tenantId?B._agentRecaptchaConfig=An:B._tenantRecaptchaConfigs[B.tenantId]=An,ve(An.siteKey)}be(new Error("recaptcha Enterprise site key undefined"))}).catch(Ae=>{be(Ae)})});return function(ve,be){return oe.apply(this,arguments)}}())}),M.apply(this,arguments)}function R(B,oe,ve){const be=window.grecaptcha;ei(be)?be.enterprise.ready(()=>{be.enterprise.execute(B,{action:u}).then(Ae=>{oe(Ae)}).catch(()=>{oe("NO_RECAPTCHA")})}):ve(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((B,oe)=>{(function C(B){return M.apply(this,arguments)})(g.auth).then(ve=>{if(!d&&ei(window.grecaptcha))R(ve,B,oe);else{if(typeof window>"u")return void oe(new Error("RecaptchaVerifier is only supported in browser"));vs("https://www.google.com/recaptcha/enterprise.js?render="+ve).then(()=>{R(ve,B,oe)}).catch(be=>{oe(be)})}}).catch(ve=>{oe(ve)})})})()}}function s1(p,u,d){return Uf.apply(this,arguments)}function Uf(){return(Uf=(0,T.Z)(function*(p,u,d,g=!1){const C=new gv(p);let M;try{M=yield C.verify(d)}catch{M=yield C.verify(d,!0)}const R=Object.assign({},u);return Object.assign(R,g?{captchaResp:M}:{captchaResponse:M}),Object.assign(R,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(R,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),R})).apply(this,arguments)}function Bf(p,u,d,g){return mi.apply(this,arguments)}function mi(){return mi=(0,T.Z)(function*(p,u,d,g){var C;if(null!==(C=p._getRecaptchaConfig())&&void 0!==C&&C.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const M=yield s1(p,u,d,"getOobCode"===d);return g(p,M)}return g(p,u).catch(function(){var M=(0,T.Z)(function*(R){if("auth/missing-recaptcha-token"===R.code){console.log(`${d} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const B=yield s1(p,u,d,"getOobCode"===d);return g(p,B)}return Promise.reject(R)});return function(R){return M.apply(this,arguments)}}())}),mi.apply(this,arguments)}function a1(p){const u=p.indexOf(":");return u<0?"":p.substr(0,u+1)}function ru(p){if(!p)return null;const u=Number(p);return isNaN(u)?null:u}class Ta{constructor(u,d){this.providerId=u,this.signInMethod=d}toJSON(){return On("not implemented")}_getIdTokenResponse(u){return On("not implemented")}_linkToIdToken(u,d){return On("not implemented")}_getReauthenticationResolver(u){return On("not implemented")}}function mv(p,u){return bc.apply(this,arguments)}function bc(){return(bc=(0,T.Z)(function*(p,u){return X(p,"POST","/v1/accounts:resetPassword",ue(p,u))})).apply(this,arguments)}function iu(p,u){return ou.apply(this,arguments)}function ou(){return(ou=(0,T.Z)(function*(p,u){return X(p,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function jf(){return(jf=(0,T.Z)(function*(p,u){return X(p,"POST","/v1/accounts:update",ue(p,u))})).apply(this,arguments)}function Ct(p,u){return su.apply(this,arguments)}function su(){return(su=(0,T.Z)(function*(p,u){return Fe(p,"POST","/v1/accounts:signInWithPassword",ue(p,u))})).apply(this,arguments)}function au(p,u){return $r.apply(this,arguments)}function $r(){return($r=(0,T.Z)(function*(p,u){return X(p,"POST","/v1/accounts:sendOobCode",ue(p,u))})).apply(this,arguments)}function Cv(){return(Cv=(0,T.Z)(function*(p,u){return au(p,u)})).apply(this,arguments)}function nn(p,u){return wv.apply(this,arguments)}function wv(){return(wv=(0,T.Z)(function*(p,u){return au(p,u)})).apply(this,arguments)}function Vk(p,u){return cu.apply(this,arguments)}function cu(){return(cu=(0,T.Z)(function*(p,u){return au(p,u)})).apply(this,arguments)}function Ld(){return(Ld=(0,T.Z)(function*(p,u){return au(p,u)})).apply(this,arguments)}function zf(){return(zf=(0,T.Z)(function*(p,u){return Fe(p,"POST","/v1/accounts:signInWithEmailLink",ue(p,u))})).apply(this,arguments)}function Pv(){return(Pv=(0,T.Z)(function*(p,u){return Fe(p,"POST","/v1/accounts:signInWithEmailLink",ue(p,u))})).apply(this,arguments)}class Vd extends Ta{constructor(u,d,g,C=null){super("password",g),this._email=u,this._password=d,this._tenantId=C}static _fromEmailAndPassword(u,d){return new Vd(u,d,"password")}static _fromEmailAndCode(u,d,g=null){return new Vd(u,d,"emailLink",g)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(u){var d=this;return(0,T.Z)(function*(){switch(d.signInMethod){case"password":return Bf(u,{returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ct);case"emailLink":return function Hf(p,u){return zf.apply(this,arguments)}(u,{email:d._email,oobCode:d._password});default:$t(u,"internal-error")}})()}_linkToIdToken(u,d){var g=this;return(0,T.Z)(function*(){switch(g.signInMethod){case"password":return iu(u,{idToken:d,returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Wf(p,u){return Pv.apply(this,arguments)}(u,{idToken:d,email:g._email,oobCode:g._password});default:$t(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function Gs(p,u){return Mv.apply(this,arguments)}function Mv(){return(Mv=(0,T.Z)(function*(p,u){return Fe(p,"POST","/v1/accounts:signInWithIdp",ue(p,u))})).apply(this,arguments)}class yi extends Ta{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const d=new yi(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(d.idToken=u.idToken),u.accessToken&&(d.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(d.nonce=u.nonce),u.pendingToken&&(d.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(d.accessToken=u.oauthToken,d.secret=u.oauthTokenSecret):$t("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:g,signInMethod:C}=d,M=(0,hn._T)(d,["providerId","signInMethod"]);if(!g||!C)return null;const R=new yi(g,C);return R.idToken=M.idToken||void 0,R.accessToken=M.accessToken||void 0,R.secret=M.secret,R.nonce=M.nonce,R.pendingToken=M.pendingToken||null,R}_getIdTokenResponse(u){return Gs(u,this.buildRequest())}_linkToIdToken(u,d){const g=this.buildRequest();return g.idToken=d,Gs(u,g)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,Gs(u,d)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),u.postBody=(0,J.xO)(d)}return u}}function Tc(){return(Tc=(0,T.Z)(function*(p,u){return X(p,"POST","/v1/accounts:sendVerificationCode",ue(p,u))})).apply(this,arguments)}function qf(){return(qf=(0,T.Z)(function*(p,u){return Fe(p,"POST","/v1/accounts:signInWithPhoneNumber",ue(p,u))})).apply(this,arguments)}function Ud(){return(Ud=(0,T.Z)(function*(p,u){const d=yield Fe(p,"POST","/v1/accounts:signInWithPhoneNumber",ue(p,u));if(d.temporaryProof)throw sr(p,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const Ac={USER_NOT_FOUND:"user-not-found"};function Ho(){return(Ho=(0,T.Z)(function*(p,u){return Fe(p,"POST","/v1/accounts:signInWithPhoneNumber",ue(p,Object.assign(Object.assign({},u),{operation:"REAUTH"})),Ac)})).apply(this,arguments)}class Aa extends Ta{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,d){return new Aa({verificationId:u,verificationCode:d})}static _fromTokenResponse(u,d){return new Aa({phoneNumber:u,temporaryProof:d})}_getIdTokenResponse(u){return function l1(p,u){return qf.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,d){return function u1(p,u){return Ud.apply(this,arguments)}(u,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function d1(p,u){return Ho.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:d,verificationId:g,verificationCode:C}=this.params;return u&&d?{temporaryProof:u,phoneNumber:d}:{sessionInfo:g,code:C}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:d,verificationCode:g,phoneNumber:C,temporaryProof:M}=u;return g||d||C||M?new Aa({verificationId:d,verificationCode:g,phoneNumber:C,temporaryProof:M}):null}}class Me{constructor(u){var d,g,C,M,R,B;const oe=(0,J.zd)((0,J.pd)(u)),ve=null!==(d=oe.apiKey)&&void 0!==d?d:null,be=null!==(g=oe.oobCode)&&void 0!==g?g:null,Ae=function se(p){switch(p){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(C=oe.mode)&&void 0!==C?C:null);ae(ve&&be&&Ae,"argument-error"),this.apiKey=ve,this.operation=Ae,this.code=be,this.continueUrl=null!==(M=oe.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(R=oe.languageCode)&&void 0!==R?R:null,this.tenantId=null!==(B=oe.tenantId)&&void 0!==B?B:null}static parseLink(u){const d=function Ov(p){const u=(0,J.zd)((0,J.pd)(p)).link,d=u?(0,J.zd)((0,J.pd)(u)).deep_link_id:null,g=(0,J.zd)((0,J.pd)(p)).deep_link_id;return(g?(0,J.zd)((0,J.pd)(g)).link:null)||g||d||u||p}(u);try{return new Me(d)}catch{return null}}}let lu=(()=>{class p{constructor(){this.providerId=p.PROVIDER_ID}static credential(d,g){return Vd._fromEmailAndPassword(d,g)}static credentialWithLink(d,g){const C=Me.parseLink(g);return ae(C,"argument-error"),Vd._fromEmailAndCode(d,C.code,C.tenantId)}}return p.PROVIDER_ID="password",p.EMAIL_PASSWORD_SIGN_IN_METHOD="password",p.EMAIL_LINK_SIGN_IN_METHOD="emailLink",p})();class Ui{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class Dc extends Ui{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class Sc extends Dc{static credentialFromJSON(u){const d="string"==typeof u?JSON.parse(u):u;return ae("providerId"in d&&"signInMethod"in d,"argument-error"),yi._fromParams(d)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return ae(u.idToken||u.accessToken,"argument-error"),yi._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return Sc.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return Sc.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:d,oauthAccessToken:g,oauthTokenSecret:C,pendingToken:M,nonce:R,providerId:B}=u;if(!g&&!C&&!d&&!M||!B)return null;try{return new Sc(B)._credential({idToken:d,accessToken:g,nonce:R,pendingToken:M})}catch{return null}}}let Ev=(()=>{class p extends Dc{constructor(){super("facebook.com")}static credential(d){return yi._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return p.credential(d.oauthAccessToken)}catch{return null}}}return p.FACEBOOK_SIGN_IN_METHOD="facebook.com",p.PROVIDER_ID="facebook.com",p})(),zo=(()=>{class p extends Dc{constructor(){super("google.com"),this.addScope("profile")}static credential(d,g){return yi._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:g})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:g,oauthAccessToken:C}=d;if(!g&&!C)return null;try{return p.credential(g,C)}catch{return null}}}return p.GOOGLE_SIGN_IN_METHOD="google.com",p.PROVIDER_ID="google.com",p})(),uu=(()=>{class p extends Dc{constructor(){super("github.com")}static credential(d){return yi._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return p.credential(d.oauthAccessToken)}catch{return null}}}return p.GITHUB_SIGN_IN_METHOD="github.com",p.PROVIDER_ID="github.com",p})();class ri extends Ta{constructor(u,d){super(u,u),this.pendingToken=d}_getIdTokenResponse(u){return Gs(u,this.buildRequest())}_linkToIdToken(u,d){const g=this.buildRequest();return g.idToken=d,Gs(u,g)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,Gs(u,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:g,signInMethod:C,pendingToken:M}=d;return g&&C&&M&&g===C?new ri(g,M):null}static _create(u,d){return new ri(u,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Da extends Ui{constructor(u){ae(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return Da.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return Da.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const d=ri.fromJSON(u);return ae(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:d,providerId:g}=u;if(!d||!g)return null;try{return ri._create(g,d)}catch{return null}}}let Bd=(()=>{class p extends Dc{constructor(){super("twitter.com")}static credential(d,g){return yi._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:g})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:g,oauthTokenSecret:C}=d;if(!g||!C)return null;try{return p.credential(g,C)}catch{return null}}}return p.TWITTER_SIGN_IN_METHOD="twitter.com",p.PROVIDER_ID="twitter.com",p})();function jd(p,u){return $d.apply(this,arguments)}function $d(){return($d=(0,T.Z)(function*(p,u){return Fe(p,"POST","/v1/accounts:signUp",ue(p,u))})).apply(this,arguments)}class Kn{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,d,g,C=!1){return(0,T.Z)(function*(){const M=yield re._fromIdTokenResponse(u,g,C),R=xc(g);return new Kn({user:M,providerId:R,_tokenResponse:g,operationType:d})})()}static _forOperation(u,d,g){return(0,T.Z)(function*(){yield u._updateTokensIfNecessary(g,!0);const C=xc(g);return new Kn({user:u,providerId:C,_tokenResponse:g,operationType:d})})()}}function xc(p){return p.providerId?p.providerId:"phoneNumber"in p?"phone":null}function Hd(){return(Hd=(0,T.Z)(function*(p){var u;const d=In(p);if(yield d._initializationPromise,null!==(u=d.currentUser)&&void 0!==u&&u.isAnonymous)return new Kn({user:d.currentUser,providerId:null,operationType:"signIn"});const g=yield jd(d,{returnSecureToken:!0}),C=yield Kn._fromIdTokenResponse(d,"signIn",g,!0);return yield d._updateCurrentUser(C.user),C})).apply(this,arguments)}class Rc extends J.ZR{constructor(u,d,g,C){var M;super(d.code,d.message),this.operationType=g,this.user=C,Object.setPrototypeOf(this,Rc.prototype),this.customData={appName:u.name,tenantId:null!==(M=u.tenantId)&&void 0!==M?M:void 0,_serverResponse:d.customData._serverResponse,operationType:g}}static _fromErrorAndOperation(u,d,g,C){return new Rc(u,d,g,C)}}function Zf(p,u,d,g){return("reauthenticate"===u?d._getReauthenticationResolver(p):d._getIdTokenResponse(p)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?Rc._fromErrorAndOperation(p,M,u,g):M})}function Yf(p){return new Set(p.map(({providerId:u})=>u).filter(u=>!!u))}function zd(){return zd=(0,T.Z)(function*(p,u){const d=(0,J.m9)(p);yield hu(!0,d,u);const{providerUserInfo:g}=yield function eu(p,u){return ti.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[u]}),C=Yf(g||[]);return d.providerData=d.providerData.filter(M=>C.has(M.providerId)),C.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),zd.apply(this,arguments)}function Wd(p,u){return Qf.apply(this,arguments)}function Qf(){return(Qf=(0,T.Z)(function*(p,u,d=!1){const g=yield Fi(p,u._linkToIdToken(p.auth,yield p.getIdToken()),d);return Kn._forOperation(p,"link",g)})).apply(this,arguments)}function hu(p,u,d){return Xf.apply(this,arguments)}function Xf(){return(Xf=(0,T.Z)(function*(p,u,d){yield Sr(u);const C=!1===p?"provider-already-linked":"no-such-provider";ae(Yf(u.providerData).has(d)===p,u.auth,C)})).apply(this,arguments)}function bv(p,u){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,T.Z)(function*(p,u,d=!1){const{auth:g}=p,C="reauthenticate";try{const M=yield Fi(p,Zf(g,C,u,p),d);ae(M.idToken,g,"internal-error");const R=Mc(M.idToken);ae(R,g,"internal-error");const{sub:B}=R;return ae(p.uid===B,g,"user-mismatch"),Kn._forOperation(p,C,M)}catch(M){throw"auth/user-not-found"===M?.code&&$t(g,"user-mismatch"),M}})).apply(this,arguments)}function Tv(p,u){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,T.Z)(function*(p,u,d=!1){const g="signIn",C=yield Zf(p,g,u),M=yield Kn._fromIdTokenResponse(p,g,C);return d||(yield p._updateCurrentUser(M.user)),M})).apply(this,arguments)}function qd(p,u){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,T.Z)(function*(p,u){return Tv(In(p),u)})).apply(this,arguments)}function Av(p,u){return eg.apply(this,arguments)}function eg(){return(eg=(0,T.Z)(function*(p,u){const d=(0,J.m9)(p);return yield hu(!1,d,u.providerId),Wd(d,u)})).apply(this,arguments)}function tg(p,u){return ng.apply(this,arguments)}function ng(){return(ng=(0,T.Z)(function*(p,u){return bv((0,J.m9)(p),u)})).apply(this,arguments)}function rg(){return(rg=(0,T.Z)(function*(p,u){return Fe(p,"POST","/v1/accounts:signInWithCustomToken",ue(p,u))})).apply(this,arguments)}function ig(){return ig=(0,T.Z)(function*(p,u){const d=In(p),g=yield function h1(p,u){return rg.apply(this,arguments)}(d,{token:u,returnSecureToken:!0}),C=yield Kn._fromIdTokenResponse(d,"signIn",g);return yield d._updateCurrentUser(C.user),C}),ig.apply(this,arguments)}class pu{constructor(u,d){this.factorId=u,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(u,d){return"phoneInfo"in d?og._fromServerResponse(u,d):"totpInfo"in d?Zn._fromServerResponse(u,d):$t(u,"internal-error")}}class og extends pu{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,d){return new og(d)}}class Zn extends pu{constructor(u){super("totp",u)}static _fromServerResponse(u,d){return new Zn(d)}}function Kd(p,u,d){var g;ae((null===(g=d.url)||void 0===g?void 0:g.length)>0,p,"invalid-continue-uri"),ae(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,p,"invalid-dynamic-link-domain"),u.continueUrl=d.url,u.dynamicLinkDomain=d.dynamicLinkDomain,u.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(ae(d.iOS.bundleId.length>0,p,"missing-ios-bundle-id"),u.iOSBundleId=d.iOS.bundleId),d.android&&(ae(d.android.packageName.length>0,p,"missing-android-pkg-name"),u.androidInstallApp=d.android.installApp,u.androidMinimumVersionCode=d.android.minimumVersion,u.androidPackageName=d.android.packageName)}function Zd(p){return We.apply(this,arguments)}function We(){return(We=(0,T.Z)(function*(p){const u=In(p);u._getPasswordPolicyInternal()&&(yield u._updatePasswordPolicy())})).apply(this,arguments)}function Mt(){return(Mt=(0,T.Z)(function*(p,u,d){const g=In(p),C={requestType:"PASSWORD_RESET",email:u,clientType:"CLIENT_TYPE_WEB"};d&&Kd(g,C,d),yield Bf(g,C,"getOobCode",nn)})).apply(this,arguments)}function Rr(){return Rr=(0,T.Z)(function*(p,u,d){yield mv((0,J.m9)(p),{oobCode:u,newPassword:d}).catch(function(){var g=(0,T.Z)(function*(C){throw"auth/password-does-not-meet-requirements"===C.code&&Zd(p),C});return function(C){return g.apply(this,arguments)}}())}),Rr.apply(this,arguments)}function ii(){return ii=(0,T.Z)(function*(p,u){yield function yv(p,u){return jf.apply(this,arguments)}((0,J.m9)(p),{oobCode:u})}),ii.apply(this,arguments)}function sg(p,u){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,T.Z)(function*(p,u){const d=(0,J.m9)(p),g=yield mv(d,{oobCode:u}),C=g.requestType;switch(ae(C,d,"internal-error"),C){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ae(g.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ae(g.mfaInfo,d,"internal-error");default:ae(g.email,d,"internal-error")}let M=null;return g.mfaInfo&&(M=pu._fromServerResponse(In(d),g.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.newEmail:g.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.email:g.newEmail)||null,multiFactorInfo:M},operation:C}})).apply(this,arguments)}function ag(){return(ag=(0,T.Z)(function*(p,u){const{data:d}=yield sg((0,J.m9)(p),u);return d.email})).apply(this,arguments)}function mn(){return(mn=(0,T.Z)(function*(p,u,d){const g=In(p),R=yield Bf(g,{returnSecureToken:!0,email:u,password:d,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jd).catch(oe=>{throw"auth/password-does-not-meet-requirements"===oe.code&&Zd(p),oe}),B=yield Kn._fromIdTokenResponse(g,"signIn",R);return yield g._updateCurrentUser(B.user),B})).apply(this,arguments)}function rn(){return(rn=(0,T.Z)(function*(p,u,d){const g=In(p),C={requestType:"EMAIL_SIGNIN",email:u,clientType:"CLIENT_TYPE_WEB"};(function M(R,B){ae(B.handleCodeInApp,g,"argument-error"),B&&Kd(g,R,B)})(C,d),yield Bf(g,C,"getOobCode",Vk)})).apply(this,arguments)}function wr(){return(wr=(0,T.Z)(function*(p,u,d){const g=(0,J.m9)(p),C=lu.credentialWithLink(u,d||Gn());return ae(C._tenantId===(g.tenantId||null),g,"tenant-id-mismatch"),qd(g,C)})).apply(this,arguments)}function bn(){return(bn=(0,T.Z)(function*(p,u){return X(p,"POST","/v1/accounts:createAuthUri",ue(p,u))})).apply(this,arguments)}function Ks(){return Ks=(0,T.Z)(function*(p,u){const g={identifier:u,continueUri:Bo()?Gn():"http://localhost"},{signinMethods:C}=yield function Nc(p,u){return bn.apply(this,arguments)}((0,J.m9)(p),g);return C||[]}),Ks.apply(this,arguments)}function Sa(){return Sa=(0,T.Z)(function*(p,u){const d=(0,J.m9)(p),C={requestType:"VERIFY_EMAIL",idToken:yield p.getIdToken()};u&&Kd(d.auth,C,u);const{email:M}=yield function vv(p,u){return Cv.apply(this,arguments)}(d.auth,C);M!==p.email&&(yield p.reload())}),Sa.apply(this,arguments)}function Zs(){return Zs=(0,T.Z)(function*(p,u,d){const g=(0,J.m9)(p),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield p.getIdToken(),newEmail:u};d&&Kd(g.auth,M,d);const{email:R}=yield function $f(p,u){return Ld.apply(this,arguments)}(g.auth,M);R!==p.email&&(yield p.reload())}),Zs.apply(this,arguments)}function xa(){return(xa=(0,T.Z)(function*(p,u){return X(p,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function oo(){return oo=(0,T.Z)(function*(p,{displayName:u,photoURL:d}){if(void 0===u&&void 0===d)return;const g=(0,J.m9)(p),M={idToken:yield g.getIdToken(),displayName:u,photoUrl:d,returnSecureToken:!0},R=yield Fi(g,function $n(p,u){return xa.apply(this,arguments)}(g.auth,M));g.displayName=R.displayName||null,g.photoURL=R.photoUrl||null;const B=g.providerData.find(({providerId:oe})=>"password"===oe);B&&(B.displayName=g.displayName,B.photoURL=g.photoURL),yield g._updateTokensIfNecessary(R)}),oo.apply(this,arguments)}function Cs(p,u,d){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,T.Z)(function*(p,u,d){const{auth:g}=p,M={idToken:yield p.getIdToken(),returnSecureToken:!0};u&&(M.email=u),d&&(M.password=d);const R=yield Fi(p,iu(g,M));yield p._updateTokensIfNecessary(R,!0)})).apply(this,arguments)}class Wo{constructor(u,d,g={}){this.isNewUser=u,this.providerId=d,this.profile=g}}class mt extends Wo{constructor(u,d,g,C){super(u,d,g),this.username=C}}class Bk extends Wo{constructor(u,d){super(u,"facebook.com",d)}}class cg extends mt{constructor(u,d){super(u,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class xv extends Wo{constructor(u,d){super(u,"google.com",d)}}class Go extends mt{constructor(u,d,g){super(u,"twitter.com",d,g)}}function Xd(p){const{user:u,_tokenResponse:d}=p;return u.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function _u(p){var u,d;if(!p)return null;const{providerId:g}=p,C=p.rawUserInfo?JSON.parse(p.rawUserInfo):{},M=p.isNewUser||"identitytoolkit#SignupNewUserResponse"===p.kind;if(!g&&p?.idToken){const R=null===(d=null===(u=Mc(p.idToken))||void 0===u?void 0:u.firebase)||void 0===d?void 0:d.sign_in_provider;if(R)return new Wo(M,"anonymous"!==R&&"custom"!==R?R:null)}if(!g)return null;switch(g){case"facebook.com":return new Bk(M,C);case"github.com":return new cg(M,C);case"google.com":return new xv(M,C);case"twitter.com":return new Go(M,C,p.screenName||null);case"custom":case"anonymous":return new Wo(M,null);default:return new Wo(M,g,C)}}(d)}class Ra{constructor(u,d,g){this.type=u,this.credential=d,this.user=g}static _fromIdtoken(u,d){return new Ra("enroll",u,d)}static _fromMfaPendingCredential(u){return new Ra("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var d,g;if(u?.multiFactorSession){if(null!==(d=u.multiFactorSession)&&void 0!==d&&d.pendingCredential)return Ra._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null!==(g=u.multiFactorSession)&&void 0!==g&&g.idToken)return Ra._fromIdtoken(u.multiFactorSession.idToken)}return null}}class Fv{constructor(u,d,g){this.session=u,this.hints=d,this.signInResolver=g}static _fromError(u,d){const g=In(u),C=d.customData._serverResponse,M=(C.mfaInfo||[]).map(B=>pu._fromServerResponse(g,B));ae(C.mfaPendingCredential,g,"internal-error");const R=Ra._fromMfaPendingCredential(C.mfaPendingCredential);return new Fv(R,M,function(){var B=(0,T.Z)(function*(oe){const ve=yield oe._process(g,R);delete C.mfaInfo,delete C.mfaPendingCredential;const be=Object.assign(Object.assign({},C),{idToken:ve.idToken,refreshToken:ve.refreshToken});switch(d.operationType){case"signIn":const Ae=yield Kn._fromIdTokenResponse(g,d.operationType,be);return yield g._updateCurrentUser(Ae.user),Ae;case"reauthenticate":return ae(d.user,g,"internal-error"),Kn._forOperation(d.user,d.operationType,be);default:$t(g,"internal-error")}});return function(oe){return B.apply(this,arguments)}}())}resolveSignIn(u){var d=this;return(0,T.Z)(function*(){return d.signInResolver(u)})()}}class Lv{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(g=>pu._fromServerResponse(u.auth,g)))})}static _fromUser(u){return new Lv(u)}getSession(){var u=this;return(0,T.Z)(function*(){return Ra._fromIdtoken(yield u.user.getIdToken(),u.user)})()}enroll(u,d){var g=this;return(0,T.Z)(function*(){const C=u,M=yield g.getSession(),R=yield Fi(g.user,C._process(g.user.auth,M,d));return yield g.user._updateTokensIfNecessary(R),g.user.reload()})()}unenroll(u){var d=this;return(0,T.Z)(function*(){const g="string"==typeof u?u:u.uid,C=yield d.user.getIdToken();try{const M=yield Fi(d.user,function Hk(p,u){return X(p,"POST","/v2/accounts/mfaEnrollment:withdraw",ue(p,u))}(d.user.auth,{idToken:C,mfaEnrollmentId:g}));d.enrolledFactors=d.enrolledFactors.filter(({uid:R})=>R!==g),yield d.user._updateTokensIfNecessary(M),yield d.user.reload()}catch(M){throw M}})()}}const Vv=new WeakMap,dg="__sak";class _1{constructor(u,d){this.storageRetriever=u,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(dg,"1"),this.storage.removeItem(dg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(u,d){return this.storage.setItem(u,JSON.stringify(d)),Promise.resolve()}_get(u){const d=this.storage.getItem(u);return Promise.resolve(d?JSON.parse(d):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const yu=(()=>{class p extends _1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,g)=>this.onStorageEvent(d,g),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Wk(){const p=(0,J.z$)();return Cr(p)||he(p)}()&&function cr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ne(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const g of Object.keys(this.listeners)){const C=this.storage.getItem(g),M=this.localCache[g];C!==M&&d(g,M,C)}}onStorageEvent(d,g=!1){if(!d.key)return void this.forAllChangedKeys((B,oe,ve)=>{this.notifyListeners(B,ve)});const C=d.key;if(g?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const B=this.storage.getItem(C);if(d.newValue!==B)null!==d.newValue?this.storage.setItem(C,d.newValue):this.storage.removeItem(C);else if(this.localCache[C]===d.newValue&&!g)return}const M=()=>{const B=this.storage.getItem(C);!g&&this.localCache[C]===B||this.notifyListeners(C,B)},R=this.storage.getItem(C);!function _t(){return(0,J.w1)()&&10===document.documentMode}()||R===d.newValue||d.newValue===d.oldValue?M():setTimeout(M,10)}notifyListeners(d,g){this.localCache[d]=g;const C=this.listeners[d];if(C)for(const M of Array.from(C))M(g&&JSON.parse(g))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,g,C)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:g,newValue:C}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,g){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(g)}_removeListener(d,g){this.listeners[d]&&(this.listeners[d].delete(g),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,g){var C=()=>super._set,M=this;return(0,T.Z)(function*(){yield C().call(M,d,g),M.localCache[d]=JSON.stringify(g)})()}_get(d){var g=()=>super._get,C=this;return(0,T.Z)(function*(){const M=yield g().call(C,d);return C.localCache[d]=JSON.stringify(M),M})()}_remove(d){var g=()=>super._remove,C=this;return(0,T.Z)(function*(){yield g().call(C,d),delete C.localCache[d]})()}}return p.type="LOCAL",p})(),ka=(()=>{class p extends _1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,g){}_removeListener(d,g){}}return p.type="SESSION",p})();let Na=(()=>{class p{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const g=this.receivers.find(M=>M.isListeningto(d));if(g)return g;const C=new p(d);return this.receivers.push(C),C}isListeningto(d){return this.eventTarget===d}handleEvent(d){var g=this;return(0,T.Z)(function*(){const C=d,{eventId:M,eventType:R,data:B}=C.data,oe=g.handlersMap[R];if(!oe?.size)return;C.ports[0].postMessage({status:"ack",eventId:M,eventType:R});const ve=Array.from(oe).map(function(){var Ae=(0,T.Z)(function*(An){return An(C.origin,B)});return function(An){return Ae.apply(this,arguments)}}()),be=yield function Kk(p){return Promise.all(p.map(function(){var u=(0,T.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(g){return{fulfilled:!1,reason:g}}});return function(d){return u.apply(this,arguments)}}()))}(ve);C.ports[0].postMessage({status:"done",eventId:M,eventType:R,response:be})})()}_subscribe(d,g){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(g)}_unsubscribe(d,g){this.handlersMap[d]&&g&&this.handlersMap[d].delete(g),(!g||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return p.receivers=[],p})();function so(p="",u=10){let d="";for(let g=0;g<u;g++)d+=Math.floor(10*Math.random());return p+d}class Zk{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,d,g=50){var C=this;return(0,T.Z)(function*(){const M=typeof MessageChannel<"u"?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let R,B;return new Promise((oe,ve)=>{const be=so("",20);M.port1.start();const Ae=setTimeout(()=>{ve(new Error("unsupported_event"))},g);B={messageChannel:M,onMessage(An){const es=An;if(es.data.eventId===be)switch(es.data.status){case"ack":clearTimeout(Ae),R=setTimeout(()=>{ve(new Error("timeout"))},3e3);break;case"done":clearTimeout(R),oe(es.data.response);break;default:clearTimeout(Ae),clearTimeout(R),ve(new Error("invalid_response"))}}},C.handlers.add(B),M.port1.addEventListener("message",B.onMessage),C.target.postMessage({eventType:u,eventId:be,data:d},[M.port2])}).finally(()=>{B&&C.removeMessageHandler(B)})})()}}function ur(){return window}function Vc(){return typeof ur().WorkerGlobalScope<"u"&&"function"==typeof ur().importScripts}function eh(){return(eh=(0,T.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const hg="firebaseLocalStorageDb",vu="firebaseLocalStorage",th="fbase_key";class Fa{constructor(u){this.request=u}toPromise(){return new Promise((u,d)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function Cu(p,u){return p.transaction([vu],u?"readwrite":"readonly").objectStore(vu)}function nh(){const p=indexedDB.open(hg,1);return new Promise((u,d)=>{p.addEventListener("error",()=>{d(p.error)}),p.addEventListener("upgradeneeded",()=>{const g=p.result;try{g.createObjectStore(vu,{keyPath:th})}catch(C){d(C)}}),p.addEventListener("success",(0,T.Z)(function*(){const g=p.result;g.objectStoreNames.contains(vu)?u(g):(g.close(),yield function jv(){const p=indexedDB.deleteDatabase(hg);return new Fa(p).toPromise()}(),u(yield nh()))}))})}function wu(p,u,d){return La.apply(this,arguments)}function La(){return(La=(0,T.Z)(function*(p,u,d){const g=Cu(p,!0).put({[th]:u,value:d});return new Fa(g).toPromise()})).apply(this,arguments)}function rh(){return(rh=(0,T.Z)(function*(p,u){const d=Cu(p,!1).get(u),g=yield new Fa(d).toPromise();return void 0===g?null:g.value})).apply(this,arguments)}function y1(p,u){const d=Cu(p,!0).delete(u);return new Fa(d).toPromise()}const Bc=(()=>{class p{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,T.Z)(function*(){return d.db||(d.db=yield nh()),d.db})()}_withRetries(d){var g=this;return(0,T.Z)(function*(){let C=0;for(;;)try{const M=yield g._openDb();return yield d(M)}catch(M){if(C++>3)throw M;g.db&&(g.db.close(),g.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,T.Z)(function*(){return Vc()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,T.Z)(function*(){d.receiver=Na._getInstance(function Bv(){return Vc()?self:null}()),d.receiver._subscribe("keyChanged",function(){var g=(0,T.Z)(function*(C,M){return{keyProcessed:(yield d._poll()).includes(M.key)}});return function(C,M){return g.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var g=(0,T.Z)(function*(C,M){return["keyChanged"]});return function(C,M){return g.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,T.Z)(function*(){var g,C;if(d.activeServiceWorker=yield function ao(){return eh.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new Zk(d.activeServiceWorker);const M=yield d.sender._send("ping",{},800);M&&null!==(g=M[0])&&void 0!==g&&g.fulfilled&&null!==(C=M[0])&&void 0!==C&&C.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var g=this;return(0,T.Z)(function*(){if(g.sender&&g.activeServiceWorker&&function Uv(){var p;return(null===(p=navigator?.serviceWorker)||void 0===p?void 0:p.controller)||null}()===g.activeServiceWorker)try{yield g.sender._send("keyChanged",{key:d},g.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,T.Z)(function*(){try{if(!indexedDB)return!1;const d=yield nh();return yield wu(d,dg,"1"),yield y1(d,dg),!0}catch{}return!1})()}_withPendingWrite(d){var g=this;return(0,T.Z)(function*(){g.pendingWrites++;try{yield d()}finally{g.pendingWrites--}})()}_set(d,g){var C=this;return(0,T.Z)(function*(){return C._withPendingWrite((0,T.Z)(function*(){return yield C._withRetries(M=>wu(M,d,g)),C.localCache[d]=g,C.notifyServiceWorker(d)}))})()}_get(d){var g=this;return(0,T.Z)(function*(){const C=yield g._withRetries(M=>function Uc(p,u){return rh.apply(this,arguments)}(M,d));return g.localCache[d]=C,C})()}_remove(d){var g=this;return(0,T.Z)(function*(){return g._withPendingWrite((0,T.Z)(function*(){return yield g._withRetries(C=>y1(C,d)),delete g.localCache[d],g.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,T.Z)(function*(){const g=yield d._withRetries(R=>{const B=Cu(R,!1).getAll();return new Fa(B).toPromise()});if(!g)return[];if(0!==d.pendingWrites)return[];const C=[],M=new Set;for(const{fbase_key:R,value:B}of g)M.add(R),JSON.stringify(d.localCache[R])!==JSON.stringify(B)&&(d.notifyListeners(R,B),C.push(R));for(const R of Object.keys(d.localCache))d.localCache[R]&&!M.has(R)&&(d.notifyListeners(R,null),C.push(R));return C})()}notifyListeners(d,g){this.localCache[d]=g;const C=this.listeners[d];if(C)for(const M of Array.from(C))M(g)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,T.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,g){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(g)}_removeListener(d,g){this.listeners[d]&&(this.listeners[d].delete(g),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return p.type="LOCAL",p})(),_g=1e12;class eN{constructor(u){this.auth=u,this.counter=_g,this._widgets=new Map}render(u,d){const g=this.counter;return this._widgets.set(g,new C1(u,this.auth.name,d||{})),this.counter++,g}reset(u){var d;const g=u||_g;null===(d=this._widgets.get(g))||void 0===d||d.delete(),this._widgets.delete(g)}getResponse(u){var d;return(null===(d=this._widgets.get(u||_g))||void 0===d?void 0:d.getResponse())||""}execute(u){var d=this;return(0,T.Z)(function*(){var g;return null===(g=d._widgets.get(u||_g))||void 0===g||g.execute(),""})()}}class C1{constructor(u,d,g){this.params=g,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const C="string"==typeof u?document.getElementById(u):u;ae(C,"argument-error",{appName:d}),this.container=C,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Hv(p){const u=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<p;g++)u.push(d.charAt(Math.floor(62*Math.random())));return u.join("")}(50);const{callback:u,"expired-callback":d}=this.params;if(u)try{u(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ih=o1("rcb"),w1=new $o(3e4,6e4);class M1{constructor(){var u;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(u=ur().grecaptcha)||void 0===u||!u.render)}load(u,d=""){return ae(function zv(p){return p.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(p)}(d),u,"argument-error"),this.shouldResolveImmediately(d)&&Jr(ur().grecaptcha)?Promise.resolve(ur().grecaptcha):new Promise((g,C)=>{const M=ur().setTimeout(()=>{C(tn(u,"network-request-failed"))},w1.get());ur()[ih]=()=>{ur().clearTimeout(M),delete ur()[ih];const B=ur().grecaptcha;if(!B||!Jr(B))return void C(tn(u,"internal-error"));const oe=B.render;B.render=(ve,be)=>{const Ae=oe(ve,be);return this.counter++,Ae},this.hostLanguage=d,g(B)},vs(`https://www.google.com/recaptcha/api.js??${(0,J.xO)({onload:ih,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(M),C(tn(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){var d;return!(null===(d=ur().grecaptcha)||void 0===d||!d.render)&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class O1{load(u){return(0,T.Z)(function*(){return new eN(u)})()}clearedOneInstance(){}}const mg="recaptcha",E1={theme:"light",type:"image"};class tN{constructor(u,d,g=Object.assign({},E1)){this.parameters=g,this.type=mg,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=In(u),this.isInvisible="invisible"===this.parameters.size,ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const C="string"==typeof d?document.getElementById(d):d;ae(C,this.auth,"argument-error"),this.container=C,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new O1:new M1,this.validateStartingState()}verify(){var u=this;return(0,T.Z)(function*(){u.assertNotDestroyed();const d=yield u.render(),g=u.getAssertedRecaptcha();return g.getResponse(d)||new Promise(M=>{const R=B=>{B&&(u.tokenChangeListeners.delete(R),M(B))};u.tokenChangeListeners.add(R),u.isInvisible&&g.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){ae(!this.parameters.sitekey,this.auth,"argument-error"),ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return d=>{if(this.tokenChangeListeners.forEach(g=>g(d)),"function"==typeof u)u(d);else if("string"==typeof u){const g=ur()[u];"function"==typeof g&&g(d)}}}assertNotDestroyed(){ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,T.Z)(function*(){if(yield u.init(),!u.widgetId){let d=u.container;if(!u.isInvisible){const g=document.createElement("div");d.appendChild(g),d=g}u.widgetId=u.getAssertedRecaptcha().render(d,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,T.Z)(function*(){ae(Bo()&&!Vc(),u.auth,"internal-error"),yield function I1(){let p=null;return new Promise(u=>{"complete"!==document.readyState?(p=()=>u(),window.addEventListener("load",p)):u()}).catch(u=>{throw p&&window.removeEventListener("load",p),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const d=yield function wc(p){return gs.apply(this,arguments)}(u.auth);ae(d,u.auth,"internal-error"),u.parameters.sitekey=d})()}getAssertedRecaptcha(){return ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class wi{constructor(u,d){this.verificationId=u,this.onConfirmation=d}confirm(u){const d=Aa._fromVerification(this.verificationId,u);return this.onConfirmation(d)}}function yg(){return(yg=(0,T.Z)(function*(p,u,d){const g=In(p),C=yield jc(g,u,(0,J.m9)(d));return new wi(C,M=>qd(g,M))})).apply(this,arguments)}function oh(){return(oh=(0,T.Z)(function*(p,u,d){const g=(0,J.m9)(p);yield hu(!1,g,"phone");const C=yield jc(g.auth,u,(0,J.m9)(d));return new wi(C,M=>Av(g,M))})).apply(this,arguments)}function vg(){return(vg=(0,T.Z)(function*(p,u,d){const g=(0,J.m9)(p),C=yield jc(g.auth,u,(0,J.m9)(d));return new wi(C,M=>tg(g,M))})).apply(this,arguments)}function jc(p,u,d){return Cg.apply(this,arguments)}function Cg(){return Cg=(0,T.Z)(function*(p,u,d){var g;const C=yield d.verify();try{let M;if(ae("string"==typeof C,p,"argument-error"),ae(d.type===mg,p,"argument-error"),M="string"==typeof u?{phoneNumber:u}:u,"session"in M){const R=M.session;if("phoneNumber"in M)return ae("enroll"===R.type,p,"internal-error"),(yield function g1(p,u){return X(p,"POST","/v2/accounts/mfaEnrollment:start",ue(p,u))}(p,{idToken:R.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:C}})).phoneSessionInfo.sessionInfo;{ae("signin"===R.type,p,"internal-error");const B=(null===(g=M.multiFactorHint)||void 0===g?void 0:g.uid)||M.multiFactorUid;return ae(B,p,"missing-multi-factor-info"),(yield function Jk(p,u){return X(p,"POST","/v2/accounts/mfaSignIn:start",ue(p,u))}(p,{mfaPendingCredential:R.credential,mfaEnrollmentId:B,phoneSignInInfo:{recaptchaToken:C}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:R}=yield function Gf(p,u){return Tc.apply(this,arguments)}(p,{phoneNumber:M.phoneNumber,recaptchaToken:C});return R}}finally{d._reset()}}),Cg.apply(this,arguments)}function sh(){return(sh=(0,T.Z)(function*(p,u){yield Wd((0,J.m9)(p),u)})).apply(this,arguments)}let $c=(()=>{class p{constructor(d){this.providerId=p.PROVIDER_ID,this.auth=In(d)}verifyPhoneNumber(d,g){return jc(this.auth,d,(0,J.m9)(g))}static credential(d,g){return Aa._fromVerification(d,g)}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:g,temporaryProof:C}=d;return g&&C?Aa._fromTokenResponse(g,C):null}}return p.PROVIDER_ID="phone",p.PHONE_SIGN_IN_METHOD="phone",p})();function Lt(p,u){return u?Q(u):(ae(p._popupRedirectResolver,p,"argument-error"),p._popupRedirectResolver)}class Pu extends Ta{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return Gs(u,this._buildIdpRequest())}_linkToIdToken(u,d){return Gs(u,this._buildIdpRequest(d))}_getReauthenticationResolver(u){return Gs(u,this._buildIdpRequest())}_buildIdpRequest(u){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(d.idToken=u),d}}function ah(p){return Tv(p.auth,new Pu(p),p.bypassAuthState)}function Pi(p){const{auth:u,user:d}=p;return ae(d,u,"internal-error"),bv(d,new Pu(p),p.bypassAuthState)}function T1(p){return ch.apply(this,arguments)}function ch(){return(ch=(0,T.Z)(function*(p){const{auth:u,user:d}=p;return ae(d,u,"internal-error"),Wd(d,new Pu(p),p.bypassAuthState)})).apply(this,arguments)}class Va{constructor(u,d,g,C,M=!1){this.auth=u,this.resolver=g,this.user=C,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var u=this;return new Promise(function(){var d=(0,T.Z)(function*(g,C){u.pendingPromise={resolve:g,reject:C};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(M){u.reject(M)}});return function(g,C){return d.apply(this,arguments)}}())}onAuthEvent(u){var d=this;return(0,T.Z)(function*(){const{urlResponse:g,sessionId:C,postBody:M,tenantId:R,error:B,type:oe}=u;if(B)return void d.reject(B);const ve={auth:d.auth,requestUri:g,sessionId:C,tenantId:R||void 0,postBody:M||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(oe)(ve))}catch(be){d.reject(be)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return ah;case"linkViaPopup":case"linkViaRedirect":return T1;case"reauthViaPopup":case"reauthViaRedirect":return Pi;default:$t(this.auth,"internal-error")}}resolve(u){fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ji=new $o(2e3,1e4);function wg(){return(wg=(0,T.Z)(function*(p,u,d){const g=In(p);lt(p,u,Ui);const C=Lt(g,d);return new lh(g,"signInViaPopup",u,C).executeNotNull()})).apply(this,arguments)}function Zo(){return(Zo=(0,T.Z)(function*(p,u,d){const g=(0,J.m9)(p);lt(g.auth,u,Ui);const C=Lt(g.auth,d);return new lh(g.auth,"reauthViaPopup",u,C,g).executeNotNull()})).apply(this,arguments)}function Pg(){return(Pg=(0,T.Z)(function*(p,u,d){const g=(0,J.m9)(p);lt(g.auth,u,Ui);const C=Lt(g.auth,d);return new lh(g.auth,"linkViaPopup",u,C,g).executeNotNull()})).apply(this,arguments)}let lh=(()=>{class p extends Va{constructor(d,g,C,M,R){super(d,g,M,R),this.provider=C,this.authWindow=null,this.pollId=null,p.currentPopupAction&&p.currentPopupAction.cancel(),p.currentPopupAction=this}executeNotNull(){var d=this;return(0,T.Z)(function*(){const g=yield d.execute();return ae(g,d.auth,"internal-error"),g})()}onExecution(){var d=this;return(0,T.Z)(function*(){fn(1===d.filter.length,"Popup operations only handle one event");const g=so();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],g),d.authWindow.associatedEvent=g,d.resolver._originValidation(d.auth).catch(C=>{d.reject(C)}),d.resolver._isIframeWebStorageSupported(d.auth,C=>{C||d.reject(tn(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(tn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,p.currentPopupAction=null}pollUserCancellation(){const d=()=>{var g,C;this.pollId=null!==(C=null===(g=this.authWindow)||void 0===g?void 0:g.window)&&void 0!==C&&C.closed?window.setTimeout(()=>{this.pollId=null,this.reject(tn(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,ji.get())};d()}}return p.currentPopupAction=null,p})();const Kv="pendingRedirect",Hc=new Map;class S1 extends Va{constructor(u,d,g=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,g),this.eventId=null}execute(){var u=()=>super.execute,d=this;return(0,T.Z)(function*(){let g=Hc.get(d.auth._key());if(!g){try{const M=(yield function Ke(p,u){return uh.apply(this,arguments)}(d.resolver,d.auth))?yield u().call(d):null;g=()=>Promise.resolve(M)}catch(C){g=()=>Promise.reject(C)}Hc.set(d.auth._key(),g)}return d.bypassAuthState||Hc.set(d.auth._key(),()=>Promise.resolve(null)),g()})()}onAuthEvent(u){var d=()=>super.onAuthEvent,g=this;return(0,T.Z)(function*(){if("signInViaRedirect"===u.type)return d().call(g,u);if("unknown"!==u.type){if(u.eventId){const C=yield g.auth._redirectUserForId(u.eventId);if(C)return g.user=C,d().call(g,u);g.resolve(null)}}else g.resolve(null)})()}onExecution(){return(0,T.Z)(function*(){})()}cleanUp(){}}function uh(){return(uh=(0,T.Z)(function*(p,u){const d=Ua(u),g=Eg(p);if(!(yield g._isAvailable()))return!1;const C="true"===(yield g._get(d));return yield g._remove(d),C})).apply(this,arguments)}function Zv(p,u){return Mg.apply(this,arguments)}function Mg(){return(Mg=(0,T.Z)(function*(p,u){return Eg(p)._set(Ua(u),"true")})).apply(this,arguments)}function Og(p,u){Hc.set(p._key(),u)}function Eg(p){return Q(p._redirectPersistence)}function Ua(p){return it(Kv,p.config.apiKey,p.name)}function R1(p,u,d){return function k1(p,u,d){return Ig.apply(this,arguments)}(p,u,d)}function Ig(){return(Ig=(0,T.Z)(function*(p,u,d){const g=In(p);lt(p,u,Ui),yield g._initializationPromise;const C=Lt(g,d);return yield Zv(C,g),C._openRedirect(g,u,"signInViaRedirect")})).apply(this,arguments)}function N1(p,u,d){return function F1(p,u,d){return le.apply(this,arguments)}(p,u,d)}function le(){return(le=(0,T.Z)(function*(p,u,d){const g=(0,J.m9)(p);lt(g.auth,u,Ui),yield g.auth._initializationPromise;const C=Lt(g.auth,d);yield Zv(C,g.auth);const M=yield hh(g);return C._openRedirect(g.auth,u,"reauthViaRedirect",M)})).apply(this,arguments)}function Dt(p,u,d){return function Be(p,u,d){return Ve.apply(this,arguments)}(p,u,d)}function Ve(){return(Ve=(0,T.Z)(function*(p,u,d){const g=(0,J.m9)(p);lt(g.auth,u,Ui),yield g.auth._initializationPromise;const C=Lt(g.auth,d);yield hu(!1,g,u.providerId),yield Zv(C,g.auth);const M=yield hh(g);return C._openRedirect(g.auth,u,"linkViaRedirect",M)})).apply(this,arguments)}function dh(){return(dh=(0,T.Z)(function*(p,u){return yield In(p)._initializationPromise,Ys(p,u,!1)})).apply(this,arguments)}function Ys(p,u){return co.apply(this,arguments)}function co(){return(co=(0,T.Z)(function*(p,u,d=!1){const g=In(p),C=Lt(g,u),R=yield new S1(g,C,d).execute();return R&&!d&&(delete R.user._redirectEventId,yield g._persistUserIfCurrent(R.user),yield g._setRedirectUser(null,u)),R})).apply(this,arguments)}function hh(p){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,T.Z)(function*(p){const u=so(`${p.uid}:::`);return p._redirectEventId=u,yield p.auth._setRedirectUser(p),yield p.auth._persistUserIfCurrent(p),u})).apply(this,arguments)}class V1{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let d=!1;return this.consumers.forEach(g=>{this.isEventForConsumer(u,g)&&(d=!0,this.sendToConsumer(u,g),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function ws(p){switch(p.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zr(p);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=u,d=!0)),d}sendToConsumer(u,d){var g;if(u.error&&!zr(u)){const C=(null===(g=u.error.code)||void 0===g?void 0:g.split("auth/")[1])||"internal-error";d.onError(tn(this.auth,C))}else d.onAuthEvent(u)}isEventForConsumer(u,d){const g=null===d.eventId||!!u.eventId&&u.eventId===d.eventId;return d.filter.includes(u.type)&&g}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(bg(u))}saveEventToCache(u){this.cachedEventUids.add(bg(u)),this.lastProcessedEventTime=Date.now()}}function bg(p){return[p.type,p.eventId,p.sessionId,p.tenantId].filter(u=>u).join("-")}function zr({type:p,error:u}){return"unknown"===p&&"auth/no-auth-event"===u?.code}function Tg(p){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,T.Z)(function*(p,u={}){return X(p,"GET","/v1/projects",u)})).apply(this,arguments)}const Ps=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,U1=/^https?/;function Ag(){return(Ag=(0,T.Z)(function*(p){if(p.config.emulator)return;const{authorizedDomains:u}=yield Tg(p);for(const d of u)try{if(B1(d))return}catch{}$t(p,"unauthorized-domain")})).apply(this,arguments)}function B1(p){const u=Gn(),{protocol:d,hostname:g}=new URL(u);if(p.startsWith("chrome-extension://")){const R=new URL(p);return""===R.hostname&&""===g?"chrome-extension:"===d&&p.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===d&&R.hostname===g}if(!U1.test(d))return!1;if(Ps.test(p))return g===p;const C=p.replace(/\./g,"\\.");return new RegExp("^(.+\\."+C+"|"+C+")$","i").test(g)}const Dg=new $o(3e4,6e4);function ph(){const p=ur().___jsl;if(p?.H)for(const u of Object.keys(p.H))if(p.H[u].r=p.H[u].r||[],p.H[u].L=p.H[u].L||[],p.H[u].r=[...p.H[u].L],p.CP)for(let d=0;d<p.CP.length;d++)p.CP[d]=null}let zc=null;const Xv=new $o(5e3,15e3),Sg="__/auth/iframe",Jv="emulator/auth/iframe",eC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nC(p){const u=p.config;ae(u.authDomain,p,"auth-domain-config-required");const d=u.emulator?K(u,Jv):`https://${p.config.authDomain}/${Sg}`,g={apiKey:u.apiKey,appName:p.name,v:Ze.SDK_VERSION},C=tC.get(p.config.apiHost);C&&(g.eid=C);const M=p._getFrameworks();return M.length&&(g.fw=M.join(",")),`${d}?${(0,J.xO)(g).slice(1)}`}function Rg(){return Rg=(0,T.Z)(function*(p){const u=yield function j1(p){return zc=zc||function Qv(p){return new Promise((u,d)=>{var g,C,M;function R(){ph(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{ph(),d(tn(p,"network-request-failed"))},timeout:Dg.get()})}if(null!==(C=null===(g=ur().gapi)||void 0===g?void 0:g.iframes)&&void 0!==C&&C.Iframe)u(gapi.iframes.getContext());else{if(null===(M=ur().gapi)||void 0===M||!M.load){const B=o1("iframefcb");return ur()[B]=()=>{gapi.load?R():d(tn(p,"network-request-failed"))},vs(`https://apis.google.com/js/api.js?onload=${B}`).catch(oe=>d(oe))}R()}}).catch(u=>{throw zc=null,u})}(p),zc}(p),d=ur().gapi;return ae(d,p,"internal-error"),u.open({where:document.body,url:nC(p),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eC,dontclear:!0},g=>new Promise(function(){var C=(0,T.Z)(function*(M,R){yield g.restyle({setHideOnLeave:!1});const B=tn(p,"network-request-failed"),oe=ur().setTimeout(()=>{R(B)},Xv.get());function ve(){ur().clearTimeout(oe),M(g)}g.ping(ve).then(ve,()=>{R(B)})});return function(M,R){return C.apply(this,arguments)}}()))}),Rg.apply(this,arguments)}const $1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class rC{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const iC="__/auth/handler",oC="emulator/auth/handler",fh=encodeURIComponent("fac");function Yo(p,u,d,g,C,M){return kg.apply(this,arguments)}function kg(){return(kg=(0,T.Z)(function*(p,u,d,g,C,M){ae(p.config.authDomain,p,"auth-domain-config-required"),ae(p.config.apiKey,p,"invalid-api-key");const R={apiKey:p.config.apiKey,appName:p.name,authType:d,redirectUrl:g,v:Ze.SDK_VERSION,eventId:C};if(u instanceof Ui){u.setDefaultLanguage(p.languageCode),R.providerId=u.providerId||"",(0,J.xb)(u.getCustomParameters())||(R.customParameters=JSON.stringify(u.getCustomParameters()));for(const[be,Ae]of Object.entries(M||{}))R[be]=Ae}if(u instanceof Dc){const be=u.getScopes().filter(Ae=>""!==Ae);be.length>0&&(R.scopes=be.join(","))}p.tenantId&&(R.tid=p.tenantId);const B=R;for(const be of Object.keys(B))void 0===B[be]&&delete B[be];const oe=yield p._getAppCheckToken(),ve=oe?`#${fh}=${encodeURIComponent(oe)}`:"";return`${function gh({config:p}){return p.emulator?K(p,oC):`https://${p.authDomain}/${iC}`}(p)}?${(0,J.xO)(B).slice(1)}${ve}`})).apply(this,arguments)}const Wc="webStorageSupport",mh=class _h{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ka,this._completeRedirectFn=Ys,this._overrideRedirectResult=Og}_openPopup(u,d,g,C){var M=this;return(0,T.Z)(function*(){var R;fn(null===(R=M.eventManagers[u._key()])||void 0===R?void 0:R.manager,"_initialize() not called before _openPopup()");const B=yield Yo(u,d,g,Gn(),C);return function z1(p,u,d,g=500,C=600){const M=Math.max((window.screen.availHeight-C)/2,0).toString(),R=Math.max((window.screen.availWidth-g)/2,0).toString();let B="";const oe=Object.assign(Object.assign({},$1),{width:g.toString(),height:C.toString(),top:M,left:R}),ve=(0,J.z$)().toLowerCase();d&&(B=Kt(ve)?"_blank":d),Le(ve)&&(u=u||"http://localhost",oe.scrollbars="yes");const be=Object.entries(oe).reduce((An,[es,Au])=>`${An}${es}=${Au},`,"");if(function tt(p=(0,J.z$)()){var u;return he(p)&&!(null===(u=window.navigator)||void 0===u||!u.standalone)}(ve)&&"_self"!==B)return function W1(p,u){const d=document.createElement("a");d.href=p,d.target=u;const g=document.createEvent("MouseEvent");g.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(g)}(u||"",B),new rC(null);const Ae=window.open(u||"",B,be);ae(Ae,p,"popup-blocked");try{Ae.focus()}catch{}return new rC(Ae)}(u,B,so())})()}_openRedirect(u,d,g,C){var M=this;return(0,T.Z)(function*(){return yield M._originValidation(u),function kr(p){ur().location.href=p}(yield Yo(u,d,g,Gn(),C)),new Promise(()=>{})})()}_initialize(u){const d=u._key();if(this.eventManagers[d]){const{manager:C,promise:M}=this.eventManagers[d];return C?Promise.resolve(C):(fn(M,"If manager is not set, promise should be"),M)}const g=this.initAndGetManager(u);return this.eventManagers[d]={promise:g},g.catch(()=>{delete this.eventManagers[d]}),g}initAndGetManager(u){var d=this;return(0,T.Z)(function*(){const g=yield function xg(p){return Rg.apply(this,arguments)}(u),C=new V1(u);return g.register("authEvent",M=>(ae(M?.authEvent,u,"invalid-auth-event"),{status:C.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[u._key()]={manager:C},d.iframes[u._key()]=g,C})()}_isIframeWebStorageSupported(u,d){this.iframes[u._key()].send(Wc,{type:Wc},C=>{var M;const R=null===(M=C?.[0])||void 0===M?void 0:M[Wc];void 0!==R&&d(!!R),$t(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const d=u._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function Yv(p){return Ag.apply(this,arguments)}(u)),this.originValidationPromises[d]}get _shouldInitProactively(){return ne()||Cr()||he()}};class sC{constructor(u){this.factorId=u}_process(u,d,g){switch(d.type){case"enroll":return this._finalizeEnroll(u,d.credential,g);case"signin":return this._finalizeSignIn(u,d.credential);default:return On("unexpected MultiFactorSessionType")}}}class yh extends sC{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new yh(u)}_finalizeEnroll(u,d,g){return function jk(p,u){return X(p,"POST","/v2/accounts/mfaEnrollment:finalize",ue(p,u))}(u,{idToken:d,displayName:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,d){return function $v(p,u){return X(p,"POST","/v2/accounts/mfaSignIn:finalize",ue(p,u))}(u,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let G1=(()=>{class p{constructor(){}static assertion(d){return yh._fromCredential(d)}}return p.FACTOR_ID="phone",p})();var vh="@firebase/auth";class K1{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var d=this;return(0,T.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const d=this.auth.onIdTokenChanged(g=>{u(g?.stsTokenManager.accessToken||null)});this.internalListeners.set(u,d),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const d=this.internalListeners.get(u);d&&(this.internalListeners.delete(u),d(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ms(){return window}(0,J.Pz)("authIdTokenMaxAge"),function nN(p){(0,Ze._registerComponent)(new kn.wA("auth",(u,{options:d})=>{const g=u.getProvider("app").getImmediate(),C=u.getProvider("heartbeat"),M=u.getProvider("app-check-internal"),{apiKey:R,authDomain:B}=g.options;ae(R&&!R.includes(":"),"invalid-api-key",{appName:g.name});const oe={apiKey:R,authDomain:B,clientPlatform:p,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ne(p)},ve=new Vi(g,C,M,oe);return function Lk(p,u){const d=u?.persistence||[],g=(Array.isArray(d)?d:[d]).map(Q);u?.errorMap&&p._updateErrorMap(u.errorMap),p._initializeWithPersistence(g,u?.popupRedirectResolver)}(ve,d),ve},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,d,g)=>{u.getProvider("auth-internal").initialize()})),(0,Ze._registerComponent)(new kn.wA("auth-internal",u=>{const d=In(u.getProvider("auth").getImmediate());return new K1(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ze.registerVersion)(vh,"1.3.2",function Z1(p){switch(p){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(p)),(0,Ze.registerVersion)(vh,"1.3.2","esm2017")}("Browser");function Ph(){return Ph=(0,T.Z)(function*(p,u,d){var g;const{BuildInfo:C}=Ms();fn(u.sessionId,"AuthEvent did not contain a session ID");const M=yield function lC(p){return Kc.apply(this,arguments)}(u.sessionId),R={};return he()?R.ibi=C.packageName:ba()?R.apn=C.packageName:$t(p,"operation-not-supported-in-this-environment"),C.displayName&&(R.appDisplayName=C.displayName),R.sessionId=M,Yo(p,d,u.type,void 0,null!==(g=u.eventId)&&void 0!==g?g:void 0,R)}),Ph.apply(this,arguments)}function Lg(){return(Lg=(0,T.Z)(function*(p){const{BuildInfo:u}=Ms(),d={};he()?d.iosBundleId=u.packageName:ba()?d.androidPackageName=u.packageName:$t(p,"operation-not-supported-in-this-environment"),yield Tg(p,d)})).apply(this,arguments)}function qc(){return(qc=(0,T.Z)(function*(p,u,d){const{cordova:g}=Ms();let C=()=>{};try{yield new Promise((M,R)=>{let B=null;function oe(){var Ae;M();const An=null===(Ae=g.plugins.browsertab)||void 0===Ae?void 0:Ae.close;"function"==typeof An&&An(),"function"==typeof d?.close&&d.close()}function ve(){B||(B=window.setTimeout(()=>{R(tn(p,"redirect-cancelled-by-user"))},2e3))}function be(){"visible"===document?.visibilityState&&ve()}u.addPassiveListener(oe),document.addEventListener("resume",ve,!1),ba()&&document.addEventListener("visibilitychange",be,!1),C=()=>{u.removePassiveListener(oe),document.removeEventListener("resume",ve,!1),document.removeEventListener("visibilitychange",be,!1),B&&window.clearTimeout(B)}})}finally{C()}})).apply(this,arguments)}function Kc(){return(Kc=(0,T.Z)(function*(p){const u=function Ug(p){if(fn(/[0-9a-zA-Z]+/.test(p),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(p);const u=new ArrayBuffer(p.length),d=new Uint8Array(u);for(let g=0;g<p.length;g++)d[g]=p.charCodeAt(g);return d}(p),d=yield crypto.subtle.digest("SHA-256",u);return Array.from(new Uint8Array(d)).map(C=>C.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class uC extends V1{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(u=>{this.resolveInialized=u})}addPassiveListener(u){this.passiveListeners.add(u)}removePassiveListener(u){this.passiveListeners.delete(u)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(u){return this.resolveInialized(),this.passiveListeners.forEach(d=>d(u)),super.onEvent(u)}initialized(){var u=this;return(0,T.Z)(function*(){yield u.initPromise})()}}function Bg(p){return jg.apply(this,arguments)}function jg(){return(jg=(0,T.Z)(function*(p){const u=yield $g()._get(Oh(p));return u&&(yield $g()._remove(Oh(p))),u})).apply(this,arguments)}function $a(){const p=[];for(let d=0;d<20;d++){const g=Math.floor(62*Math.random());p.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(g))}return p.join("")}function $g(){return Q(yu)}function Oh(p){return it("authEvent",p.config.apiKey,p.name)}function Eh(p){if(!p?.includes("?"))return{};const[u,...d]=p.split("?");return(0,J.zd)(d.join("?"))}const Fr=class J1{constructor(){this._redirectPersistence=ka,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ys,this._overrideRedirectResult=Og}_initialize(u){var d=this;return(0,T.Z)(function*(){const g=u._key();let C=d.eventManagers.get(g);return C||(C=new uC(u),d.eventManagers.set(g,C),d.attachCallbackListeners(u,C)),C})()}_openPopup(u){$t(u,"operation-not-supported-in-this-environment")}_openRedirect(u,d,g,C){var M=this;return(0,T.Z)(function*(){!function Vg(p){var u,d,g,C,M,R,B,oe,ve,be;const Ae=Ms();ae("function"==typeof(null===(u=Ae?.universalLinks)||void 0===u?void 0:u.subscribe),p,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ae(typeof(null===(d=Ae?.BuildInfo)||void 0===d?void 0:d.packageName)<"u",p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ae("function"==typeof(null===(M=null===(C=null===(g=Ae?.cordova)||void 0===g?void 0:g.plugins)||void 0===C?void 0:C.browsertab)||void 0===M?void 0:M.openUrl),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ae("function"==typeof(null===(oe=null===(B=null===(R=Ae?.cordova)||void 0===R?void 0:R.plugins)||void 0===B?void 0:B.browsertab)||void 0===oe?void 0:oe.isAvailable),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ae("function"==typeof(null===(be=null===(ve=Ae?.cordova)||void 0===ve?void 0:ve.InAppBrowser)||void 0===be?void 0:be.open),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(u);const R=yield M._initialize(u);yield R.initialized(),R.resetRedirect(),function x1(){Hc.clear()}(),yield M._originValidation(u);const B=function dC(p,u,d=null){return{type:u,eventId:d,urlResponse:null,sessionId:$a(),postBody:null,tenantId:p.tenantId,error:tn(p,"no-auth-event")}}(u,g,C);yield function hC(p,u){return $g()._set(Oh(p),u)}(u,B);const oe=yield function iN(p,u,d){return Ph.apply(this,arguments)}(u,B,d),ve=yield function Qo(p){const{cordova:u}=Ms();return new Promise(d=>{u.plugins.browsertab.isAvailable(g=>{let C=null;g?u.plugins.browsertab.openUrl(p):C=u.InAppBrowser.open(p,function Ue(p=(0,J.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(p)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(p)}()?"_blank":"_system","location=yes"),d(C)})})}(oe);return function Q1(p,u,d){return qc.apply(this,arguments)}(u,R,ve)})()}_isIframeWebStorageSupported(u,d){throw new Error("Method not implemented.")}_originValidation(u){const d=u._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function cC(p){return Lg.apply(this,arguments)}(u)),this.originValidationPromises[d]}attachCallbackListeners(u,d){const{universalLinks:g,handleOpenURL:C,BuildInfo:M}=Ms(),R=setTimeout((0,T.Z)(function*(){yield Bg(u),d.onEvent(Ih())}),500),B=function(){var be=(0,T.Z)(function*(Ae){clearTimeout(R);const An=yield Bg(u);let es=null;An&&Ae?.url&&(es=function Mh(p,u){var d,g;const C=function Eu(p){const u=Eh(p),d=u.link?decodeURIComponent(u.link):void 0,g=Eh(d).link,C=u.deep_link_id?decodeURIComponent(u.deep_link_id):void 0;return Eh(C).link||C||g||d||p}(u);if(C.includes("/__/auth/callback")){const M=Eh(C),R=M.firebaseError?function pC(p){try{return JSON.parse(p)}catch{return null}}(decodeURIComponent(M.firebaseError)):null,B=null===(g=null===(d=R?.code)||void 0===d?void 0:d.split("auth/"))||void 0===g?void 0:g[1],oe=B?tn(B):null;return oe?{type:p.type,eventId:p.eventId,tenantId:p.tenantId,error:oe,urlResponse:null,sessionId:null,postBody:null}:{type:p.type,eventId:p.eventId,tenantId:p.tenantId,sessionId:p.sessionId,urlResponse:C,postBody:null}}return null}(An,Ae.url)),d.onEvent(es||Ih())});return function(An){return be.apply(this,arguments)}}();typeof g<"u"&&"function"==typeof g.subscribe&&g.subscribe(null,B);const oe=C,ve=`${M.packageName.toLowerCase()}://`;Ms().handleOpenURL=function(){var be=(0,T.Z)(function*(Ae){if(Ae.toLowerCase().startsWith(ve)&&B({url:Ae}),"function"==typeof oe)try{oe(Ae)}catch(An){console.error(An)}});return function(Ae){return be.apply(this,arguments)}}()}};function Ih(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:tn("no-auth-event")}}function Xo(){var p;return(null===(p=self?.location)||void 0===p?void 0:p.protocol)||null}function Hg(p=(0,J.z$)()){return!("file:"!==Xo()&&"ionic:"!==Xo()&&"capacitor:"!==Xo()||!p.toLowerCase().match(/iphone|ipad|ipod|android/))}function nO(){try{const p=self.localStorage,u=so();if(p)return p.setItem(u,"1"),p.removeItem(u),!function tO(p=(0,J.z$)()){return function Qc(){return(0,J.w1)()&&11===document?.documentMode}()||function oN(p=(0,J.z$)()){return/Edge\/\d+/.test(p)}(p)}()||(0,J.hl)()}catch{return gC()&&(0,J.hl)()}return!1}function gC(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function _C(){return(function Yc(){return"http:"===Xo()||"https:"===Xo()}()||(0,J.ru)()||Hg())&&!function zg(){return(0,J.b$)()||(0,J.UG)()}()&&nO()&&!gC()}function rO(){return Hg()&&typeof document<"u"}function mC(){return(mC=(0,T.Z)(function*(){return!!rO()&&new Promise(p=>{const u=setTimeout(()=>{p(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(u),p(!0)})})})).apply(this,arguments)}const $i={LOCAL:"local",NONE:"none",SESSION:"session"},Iu=ae,Yn="persistence";function Ha(p){return Wg.apply(this,arguments)}function Wg(){return(Wg=(0,T.Z)(function*(p){yield p._initializationPromise;const u=za(),d=it(Yn,p.config.apiKey,p.name);u&&u.setItem(d,p._getPersistence())})).apply(this,arguments)}function za(){var p;try{return(null===(p=function Xc(){return typeof window<"u"?window:null}())||void 0===p?void 0:p.sessionStorage)||null}catch{return null}}const yC=ae;class Eo{constructor(){this.browserResolver=Q(mh),this.cordovaResolver=Q(Fr),this.underlyingResolver=null,this._redirectPersistence=ka,this._completeRedirectFn=Ys,this._overrideRedirectResult=Og}_initialize(u){var d=this;return(0,T.Z)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(u)})()}_openPopup(u,d,g,C){var M=this;return(0,T.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openPopup(u,d,g,C)})()}_openRedirect(u,d,g,C){var M=this;return(0,T.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openRedirect(u,d,g,C)})()}_isIframeWebStorageSupported(u,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(u,d)}_originValidation(u){return this.assertedUnderlyingResolver._originValidation(u)}get _shouldInitProactively(){return rO()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return yC(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var u=this;return(0,T.Z)(function*(){if(u.underlyingResolver)return;const d=yield function sN(){return mC.apply(this,arguments)}();u.underlyingResolver=d?u.cordovaResolver:u.browserResolver})()}}function Jc(p){return p.unwrap()}function aN(p){return aO(p)}function aO(p){const{_tokenResponse:u}=p instanceof J.ZR?p.customData:p;if(!u)return null;if(!(p instanceof J.ZR)&&"temporaryProof"in u&&"phoneNumber"in u)return $c.credentialFromResult(p);const d=u.providerId;if(!d||d===yt.PASSWORD)return null;let g;switch(d){case yt.GOOGLE:g=zo;break;case yt.FACEBOOK:g=Ev;break;case yt.GITHUB:g=uu;break;case yt.TWITTER:g=Bd;break;default:const{oauthIdToken:C,oauthAccessToken:M,oauthTokenSecret:R,pendingToken:B,nonce:oe}=u;return M||R||C||B?B?d.startsWith("saml.")?ri._create(d,B):yi._fromParams({providerId:d,signInMethod:d,pendingToken:B,idToken:C,accessToken:M}):new Sc(d).credential({idToken:C,accessToken:M,rawNonce:oe}):null}return p instanceof J.ZR?g.credentialFromError(p):g.credentialFromResult(p)}function on(p,u){return u.catch(d=>{throw d instanceof J.ZR&&function sO(p,u){var d;const g=null===(d=u.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===u?.code)u.resolver=new cN(p,function f1(p,u){var d;const g=(0,J.m9)(p),C=u;return ae(u.customData.operationType,g,"argument-error"),ae(null===(d=C.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,g,"argument-error"),Fv._fromError(g,C)}(p,u));else if(g){const C=aO(u),M=u;C&&(M.credential=C,M.tenantId=g.tenantId||void 0,M.email=g.email||void 0,M.phoneNumber=g.phoneNumber||void 0)}}(p,d),d}).then(d=>{const C=d.user;return{operationType:d.operationType,credential:aN(d),additionalUserInfo:Xd(d),user:Jo.getOrCreate(C)}})}function bu(p,u){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,T.Z)(function*(p,u){const d=yield u;return{verificationId:d.verificationId,confirm:g=>on(p,d.confirm(g))}})).apply(this,arguments)}class cN{constructor(u,d){this.resolver=d,this.auth=function oO(p){return p.wrapped()}(u)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(u){return on(Jc(this.auth),this.resolver.resolveSignIn(u))}}class Jo{constructor(u){this._delegate=u,this.multiFactor=function zk(p){const u=(0,J.m9)(p);return Vv.has(u)||Vv.set(u,Lv._fromUser(u)),Vv.get(u)}(u)}static getOrCreate(u){return Jo.USER_MAP.has(u)||Jo.USER_MAP.set(u,new Jo(u)),Jo.USER_MAP.get(u)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(u){return this._delegate.getIdTokenResult(u)}getIdToken(u){return this._delegate.getIdToken(u)}linkAndRetrieveDataWithCredential(u){return this.linkWithCredential(u)}linkWithCredential(u){var d=this;return(0,T.Z)(function*(){return on(d.auth,Av(d._delegate,u))})()}linkWithPhoneNumber(u,d){var g=this;return(0,T.Z)(function*(){return bu(g.auth,function b1(p,u,d){return oh.apply(this,arguments)}(g._delegate,u,d))})()}linkWithPopup(u){var d=this;return(0,T.Z)(function*(){return on(d.auth,function qv(p,u,d){return Pg.apply(this,arguments)}(d._delegate,u,Eo))})()}linkWithRedirect(u){var d=this;return(0,T.Z)(function*(){return yield Ha(In(d.auth)),Dt(d._delegate,u,Eo)})()}reauthenticateAndRetrieveDataWithCredential(u){return this.reauthenticateWithCredential(u)}reauthenticateWithCredential(u){var d=this;return(0,T.Z)(function*(){return on(d.auth,tg(d._delegate,u))})()}reauthenticateWithPhoneNumber(u,d){return bu(this.auth,function Gv(p,u,d){return vg.apply(this,arguments)}(this._delegate,u,d))}reauthenticateWithPopup(u){return on(this.auth,function D1(p,u,d){return Zo.apply(this,arguments)}(this._delegate,u,Eo))}reauthenticateWithRedirect(u){var d=this;return(0,T.Z)(function*(){return yield Ha(In(d.auth)),N1(d._delegate,u,Eo)})()}sendEmailVerification(u){return function Xe(p,u){return Sa.apply(this,arguments)}(this._delegate,u)}unlink(u){var d=this;return(0,T.Z)(function*(){return yield function du(p,u){return zd.apply(this,arguments)}(d._delegate,u),d})()}updateEmail(u){return function gu(p,u){return Cs((0,J.m9)(p),u,null)}(this._delegate,u)}updatePassword(u){return function Sv(p,u){return Cs((0,J.m9)(p),null,u)}(this._delegate,u)}updatePhoneNumber(u){return function Ko(p,u){return sh.apply(this,arguments)}(this._delegate,u)}updateProfile(u){return function Fc(p,u){return oo.apply(this,arguments)}(this._delegate,u)}verifyBeforeUpdateEmail(u,d){return function Dv(p,u,d){return Zs.apply(this,arguments)}(this._delegate,u,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Jo.USER_MAP=new WeakMap;const Tu=ae;let vC=(()=>{class p{constructor(d,g){if(this.app=d,g.isInitialized())return this._delegate=g.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:C}=d.options;Tu(C,"invalid-api-key",{appName:d.name}),Tu(C,"invalid-api-key",{appName:d.name});const M=typeof window<"u"?Eo:void 0;this._delegate=g.initialize({options:{persistence:cO(C,d.name),popupRedirectResolver:M}}),this._delegate._updateErrorMap(Tr),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Jo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,g){!function xe(p,u,d){const g=In(p);ae(g._canInitEmulator,g,"emulator-config-failed"),ae(/^https?:\/\//.test(u),g,"invalid-emulator-scheme");const C=!!d?.disableWarnings,M=a1(u),{host:R,port:B}=function lr(p){const u=a1(p),d=/(\/\/)?([^?#/]+)/.exec(p.substr(u.length));if(!d)return{host:"",port:null};const g=d[2].split("@").pop()||"",C=/^(\[[^\]]+\])(:|$)/.exec(g);if(C){const M=C[1];return{host:M,port:ru(g.substr(M.length+1))}}{const[M,R]=g.split(":");return{host:M,port:ru(R)}}}(u);g.config.emulator={url:`${M}//${R}${null===B?"":`:${B}`}/`},g.settings.appVerificationDisabledForTesting=!0,g.emulatorConfig=Object.freeze({host:R,port:B,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:C})}),C||function c1(){function p(){const u=document.createElement("p"),d=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p())}()}(this._delegate,d,g)}applyActionCode(d){return function kc(p,u){return ii.apply(this,arguments)}(this._delegate,d)}checkActionCode(d){return sg(this._delegate,d)}confirmPasswordReset(d,g){return function xr(p,u,d){return Rr.apply(this,arguments)}(this._delegate,d,g)}createUserWithEmailAndPassword(d,g){var C=this;return(0,T.Z)(function*(){return on(C._delegate,function p1(p,u,d){return mn.apply(this,arguments)}(C._delegate,d,g))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return function qs(p,u){return Ks.apply(this,arguments)}(this._delegate,d)}isSignInWithEmailLink(d){return function Mo(p,u){const d=Me.parseLink(u);return"EMAIL_SIGNIN"===d?.operation}(0,d)}getRedirectResult(){var d=this;return(0,T.Z)(function*(){Tu(_C(),d._delegate,"operation-not-supported-in-this-environment");const g=yield function Nr(p,u){return dh.apply(this,arguments)}(d._delegate,Eo);return g?on(d._delegate,Promise.resolve(g)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function eO(p,u){In(p)._logFramework(u)}(this._delegate,d)}onAuthStateChanged(d,g,C){const{next:M,error:R,complete:B}=CC(d,g,C);return this._delegate.onAuthStateChanged(M,R,B)}onIdTokenChanged(d,g,C){const{next:M,error:R,complete:B}=CC(d,g,C);return this._delegate.onIdTokenChanged(M,R,B)}sendSignInLinkToEmail(d,g){return function nt(p,u,d){return rn.apply(this,arguments)}(this._delegate,d,g)}sendPasswordResetEmail(d,g){return function vi(p,u,d){return Mt.apply(this,arguments)}(this._delegate,d,g||void 0)}setPersistence(d){var g=this;return(0,T.Z)(function*(){let C;switch(function iO(p,u){Iu(Object.values($i).includes(u),p,"invalid-persistence-type"),(0,J.b$)()?Iu(u!==$i.SESSION,p,"unsupported-persistence-type"):(0,J.UG)()?Iu(u===$i.NONE,p,"unsupported-persistence-type"):gC()?Iu(u===$i.NONE||u===$i.LOCAL&&(0,J.hl)(),p,"unsupported-persistence-type"):Iu(u===$i.NONE||nO(),p,"unsupported-persistence-type")}(g._delegate,d),d){case $i.SESSION:C=ka;break;case $i.LOCAL:C=(yield Q(Bc)._isAvailable())?Bc:yu;break;case $i.NONE:C=kt;break;default:return $t("argument-error",{appName:g._delegate.name})}return g._delegate.setPersistence(C)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return on(this._delegate,function Iv(p){return Hd.apply(this,arguments)}(this._delegate))}signInWithCredential(d){return on(this._delegate,qd(this._delegate,d))}signInWithCustomToken(d){return on(this._delegate,function At(p,u){return ig.apply(this,arguments)}(this._delegate,d))}signInWithEmailAndPassword(d,g){return on(this._delegate,function Oe(p,u,d){return qd((0,J.m9)(p),lu.credential(u,d)).catch(function(){var g=(0,T.Z)(function*(C){throw"auth/password-does-not-meet-requirements"===C.code&&Zd(p),C});return function(C){return g.apply(this,arguments)}}())}(this._delegate,d,g))}signInWithEmailLink(d,g){return on(this._delegate,function fu(p,u,d){return wr.apply(this,arguments)}(this._delegate,d,g))}signInWithPhoneNumber(d,g){return bu(this._delegate,function Wv(p,u,d){return yg.apply(this,arguments)}(this._delegate,d,g))}signInWithPopup(d){var g=this;return(0,T.Z)(function*(){return Tu(_C(),g._delegate,"operation-not-supported-in-this-environment"),on(g._delegate,function A1(p,u,d){return wg.apply(this,arguments)}(g._delegate,d,Eo))})()}signInWithRedirect(d){var g=this;return(0,T.Z)(function*(){return Tu(_C(),g._delegate,"operation-not-supported-in-this-environment"),yield Ha(g._delegate),R1(g._delegate,d,Eo)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return function Qd(p,u){return ag.apply(this,arguments)}(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return p.Persistence=$i,p})();function CC(p,u,d){let g=p;"function"!=typeof p&&({next:g,error:u,complete:d}=p);const C=g;return{next:R=>C(R&&Jo.getOrCreate(R)),error:u,complete:d}}function cO(p,u){const d=function lo(p,u){const d=za();if(!d)return[];const g=it(Yn,p,u);switch(d.getItem(g)){case $i.NONE:return[kt];case $i.LOCAL:return[Bc,ka];case $i.SESSION:return[ka];default:return[]}}(p,u);if(typeof self<"u"&&!d.includes(Bc)&&d.push(Bc),typeof window<"u")for(const g of[yu,ka])d.includes(g)||d.push(g);return d.includes(kt)||d.push(kt),d}class Gg{constructor(){this.providerId="phone",this._delegate=new $c(Jc(Ge.Z.auth()))}static credential(u,d){return $c.credential(u,d)}verifyPhoneNumber(u,d){return this._delegate.verifyPhoneNumber(u,d)}unwrap(){return this._delegate}}Gg.PHONE_SIGN_IN_METHOD=$c.PHONE_SIGN_IN_METHOD,Gg.PROVIDER_ID=$c.PROVIDER_ID;const lO=ae;class qg{constructor(u,d,g=Ge.Z.app()){var C;lO(null===(C=g.options)||void 0===C?void 0:C.apiKey,"invalid-api-key",{appName:g.name}),this._delegate=new tN(g.auth(),u,d),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function uO(p){p.INTERNAL.registerComponent(new kn.wA("auth-compat",u=>{const d=u.getProvider("app-compat").getImmediate(),g=u.getProvider("auth");return new vC(d,g)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:lu,FacebookAuthProvider:Ev,GithubAuthProvider:uu,GoogleAuthProvider:zo,OAuthProvider:Sc,SAMLAuthProvider:Da,PhoneAuthProvider:Gg,PhoneMultiFactorGenerator:G1,RecaptchaVerifier:qg,TwitterAuthProvider:Bd,Auth:vC,AuthCredential:Ta,Error:J.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),p.registerVersion("@firebase/auth-compat","0.4.8")}(Ge.Z)},861:(fs,br,et)=>{function T(J,Ze,xt,hn,kn,mr,yt){try{var ce=J[mr](yt),fe=ce.value}catch(ke){return void xt(ke)}ce.done?Ze(fe):Promise.resolve(fe).then(hn,kn)}function Ge(J){return function(){var Ze=this,xt=arguments;return new Promise(function(hn,kn){var mr=J.apply(Ze,xt);function yt(fe){T(mr,hn,kn,yt,ce,"next",fe)}function ce(fe){T(mr,hn,kn,yt,ce,"throw",fe)}yt(void 0)})}}et.d(br,{Z:()=>Ge})},582:(fs,br,et)=>{function Ze(K,Y){var te={};for(var ie in K)Object.prototype.hasOwnProperty.call(K,ie)&&Y.indexOf(ie)<0&&(te[ie]=K[ie]);if(null!=K&&"function"==typeof Object.getOwnPropertySymbols){var ue=0;for(ie=Object.getOwnPropertySymbols(K);ue<ie.length;ue++)Y.indexOf(ie[ue])<0&&Object.prototype.propertyIsEnumerable.call(K,ie[ue])&&(te[ie[ue]]=K[ie[ue]])}return te}function ke(K,Y,te,ie){return new(te||(te=Promise))(function(X,Pe){function It(Rt){try{Fe(ie.next(Rt))}catch(En){Pe(En)}}function ye(Rt){try{Fe(ie.throw(Rt))}catch(En){Pe(En)}}function Fe(Rt){Rt.done?X(Rt.value):function ue(X){return X instanceof te?X:new te(function(Pe){Pe(X)})}(Rt.value).then(It,ye)}Fe((ie=ie.apply(K,Y||[])).next())})}function pn(K){return this instanceof pn?(this.v=K,this):new pn(K)}function $t(K,Y,te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,ie=te.apply(K,Y||[]),X=[];return ue={},Pe("next"),Pe("throw"),Pe("return"),ue[Symbol.asyncIterator]=function(){return this},ue;function Pe(cn){ie[cn]&&(ue[cn]=function(Dr){return new Promise(function(sr,Jr){X.push([cn,Dr,sr,Jr])>1||It(cn,Dr)})})}function It(cn,Dr){try{!function ye(cn){cn.value instanceof pn?Promise.resolve(cn.value.v).then(Fe,Rt):En(X[0][2],cn)}(ie[cn](Dr))}catch(sr){En(X[0][3],sr)}}function Fe(cn){It("next",cn)}function Rt(cn){It("throw",cn)}function En(cn,Dr){cn(Dr),X.shift(),X.length&&It(X[0][0],X[0][1])}}function _i(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,Y=K[Symbol.asyncIterator];return Y?Y.call(K):(K=function jt(K){var Y="function"==typeof Symbol&&Symbol.iterator,te=Y&&K[Y],ie=0;if(te)return te.call(K);if(K&&"number"==typeof K.length)return{next:function(){return K&&ie>=K.length&&(K=void 0),{value:K&&K[ie++],done:!K}}};throw new TypeError(Y?"Object is not iterable.":"Symbol.iterator is not defined.")}(K),te={},ie("next"),ie("throw"),ie("return"),te[Symbol.asyncIterator]=function(){return this},te);function ie(X){te[X]=K[X]&&function(Pe){return new Promise(function(It,ye){!function ue(X,Pe,It,ye){Promise.resolve(ye).then(function(Fe){X({value:Fe,done:It})},Pe)}(It,ye,(Pe=K[X](Pe)).done,Pe.value)})}}}et.d(br,{FC:()=>$t,KL:()=>_i,_T:()=>Ze,mG:()=>ke,qq:()=>pn}),"function"==typeof SuppressedError&&SuppressedError}},fs=>{fs(fs.s=235)}]);