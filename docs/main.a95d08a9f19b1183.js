"use strict";(self.webpackChunkphotohub=self.webpackChunkphotohub||[]).push([[179],{58:(os,pr,Ke)=>{Ke.d(pr,{BH:()=>zt,DV:()=>jr,Dv:()=>Wi,G6:()=>So,GJ:()=>Wn,L:()=>dt,LL:()=>K,P0:()=>ir,Pz:()=>Rt,Sg:()=>ri,UG:()=>oe,UI:()=>uc,US:()=>Jt,Wj:()=>Mi,Wl:()=>Se,Yr:()=>Rs,ZB:()=>Ae,ZR:()=>ce,aH:()=>en,b$:()=>Nn,cI:()=>ge,dS:()=>cs,eu:()=>q,g5:()=>Z,gK:()=>qn,gQ:()=>$r,h$:()=>rr,hl:()=>z,hu:()=>Ue,jU:()=>hn,lb:()=>Oi,m9:()=>gc,ne:()=>as,p$:()=>he,pd:()=>Gl,r3:()=>Br,ru:()=>tn,tV:()=>se,uI:()=>or,ug:()=>ks,vZ:()=>ss,w1:()=>Do,w9:()=>mr,xO:()=>zl,xb:()=>Ei,z$:()=>rt,zd:()=>lo});const O={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Ue=function(R,A){if(!R)throw Z(A)},Z=function(R){return new Error("Firebase Database ("+O.SDK_VERSION+") INTERNAL ASSERT FAILED: "+R)},$e=function(R){const A=[];let S=0;for(let ee=0;ee<R.length;ee++){let U=R.charCodeAt(ee);U<128?A[S++]=U:U<2048?(A[S++]=U>>6|192,A[S++]=63&U|128):55296==(64512&U)&&ee+1<R.length&&56320==(64512&R.charCodeAt(ee+1))?(U=65536+((1023&U)<<10)+(1023&R.charCodeAt(++ee)),A[S++]=U>>18|240,A[S++]=U>>12&63|128,A[S++]=U>>6&63|128,A[S++]=63&U|128):(A[S++]=U>>12|224,A[S++]=U>>6&63|128,A[S++]=63&U|128)}return A},Jt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(R,A){if(!Array.isArray(R))throw Error("encodeByteArray takes an array as a parameter");this.init_();const S=A?this.byteToCharMapWebSafe_:this.byteToCharMap_,ee=[];for(let U=0;U<R.length;U+=3){const W=R[U],ze=U+1<R.length,Mt=ze?R[U+1]:0,Ze=U+2<R.length,rn=Ze?R[U+2]:0;let sr=(15&Mt)<<2|rn>>6,Ut=63&rn;Ze||(Ut=64,ze||(sr=64)),ee.push(S[W>>2],S[(3&W)<<4|Mt>>4],S[sr],S[Ut])}return ee.join("")},encodeString(R,A){return this.HAS_NATIVE_SUPPORT&&!A?btoa(R):this.encodeByteArray($e(R),A)},decodeString(R,A){return this.HAS_NATIVE_SUPPORT&&!A?atob(R):function(R){const A=[];let S=0,ee=0;for(;S<R.length;){const U=R[S++];if(U<128)A[ee++]=String.fromCharCode(U);else if(U>191&&U<224){const W=R[S++];A[ee++]=String.fromCharCode((31&U)<<6|63&W)}else if(U>239&&U<365){const Ze=((7&U)<<18|(63&R[S++])<<12|(63&R[S++])<<6|63&R[S++])-65536;A[ee++]=String.fromCharCode(55296+(Ze>>10)),A[ee++]=String.fromCharCode(56320+(1023&Ze))}else{const W=R[S++],ze=R[S++];A[ee++]=String.fromCharCode((15&U)<<12|(63&W)<<6|63&ze)}}return A.join("")}(this.decodeStringToByteArray(R,A))},decodeStringToByteArray(R,A){this.init_();const S=A?this.charToByteMapWebSafe_:this.charToByteMap_,ee=[];for(let U=0;U<R.length;){const W=S[R.charAt(U++)],Mt=U<R.length?S[R.charAt(U)]:0;++U;const rn=U<R.length?S[R.charAt(U)]:64;++U;const Re=U<R.length?S[R.charAt(U)]:64;if(++U,null==W||null==Mt||null==rn||null==Re)throw new Pn;ee.push(W<<2|Mt>>4),64!==rn&&(ee.push(Mt<<4&240|rn>>2),64!==Re&&ee.push(rn<<6&192|Re))}return ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let R=0;R<this.ENCODED_VALS.length;R++)this.byteToCharMap_[R]=this.ENCODED_VALS.charAt(R),this.charToByteMap_[this.byteToCharMap_[R]]=R,this.byteToCharMapWebSafe_[R]=this.ENCODED_VALS_WEBSAFE.charAt(R),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[R]]=R,R>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(R)]=R,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(R)]=R)}}};class Pn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rr=function(R){const A=$e(R);return Jt.encodeByteArray(A,!0)},dt=function(R){return rr(R).replace(/\./g,"")},se=function(R){try{return Jt.decodeString(R,!0)}catch(A){console.error("base64Decode failed: ",A)}return null};function he(R){return Ae(void 0,R)}function Ae(R,A){if(!(A instanceof Object))return A;switch(A.constructor){case Date:return new Date(A.getTime());case Object:void 0===R&&(R={});break;case Array:R=[];break;default:return A}for(const S in A)!A.hasOwnProperty(S)||!ct(S)||(R[S]=Ae(R[S],A[S]));return R}function ct(R){return"__proto__"!==R}const nt=()=>{try{return function Ot(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const R=process.env.__FIREBASE_DEFAULTS__;return R?JSON.parse(R):void 0})()||(()=>{if(typeof document>"u")return;let R;try{R=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const A=R&&se(R[1]);return A&&JSON.parse(A)})()}catch(R){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${R}`)}},ir=R=>{const A=(R=>{var A,S;return null===(S=null===(A=nt())||void 0===A?void 0:A.emulatorHosts)||void 0===S?void 0:S[R]})(R);if(!A)return;const S=A.lastIndexOf(":");if(S<=0||S+1===A.length)throw new Error(`Invalid host ${A} with no separate hostname and port!`);const ee=parseInt(A.substring(S+1),10);return"["===A[0]?[A.substring(1,S-1),ee]:[A.substring(0,S),ee]},en=()=>{var R;return null===(R=nt())||void 0===R?void 0:R.config},Rt=R=>{var A;return null===(A=nt())||void 0===A?void 0:A[`_${R}`]};class zt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((A,S)=>{this.resolve=A,this.reject=S})}wrapCallback(A){return(S,ee)=>{S?this.reject(S):this.resolve(ee),"function"==typeof A&&(this.promise.catch(()=>{}),1===A.length?A(S):A(S,ee))}}}function ri(R,A){if(R.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ee=A||"demo-project",U=R.iat||0,W=R.sub||R.user_id;if(!W)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ze=Object.assign({iss:`https://securetoken.google.com/${ee}`,aud:ee,iat:U,exp:U+3600,auth_time:U,sub:W,user_id:W,firebase:{sign_in_provider:"custom",identities:{}}},R);return[dt(JSON.stringify({alg:"none",type:"JWT"})),dt(JSON.stringify(ze)),""].join(".")}function rt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function or(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rt())}function oe(){var R;const A=null===(R=nt())||void 0===R?void 0:R.forceEnvironment;if("node"===A)return!0;if("browser"===A)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function hn(){return"object"==typeof self&&self.self===self}function tn(){const R="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof R&&void 0!==R.id}function Nn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Do(){const R=rt();return R.indexOf("MSIE ")>=0||R.indexOf("Trident/")>=0}function Rs(){return!0===O.NODE_CLIENT||!0===O.NODE_ADMIN}function So(){return!oe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function z(){try{return"object"==typeof indexedDB}catch{return!1}}function q(){return new Promise((R,A)=>{try{let S=!0;const ee="validate-browser-context-for-indexeddb-analytics-module",U=self.indexedDB.open(ee);U.onsuccess=()=>{U.result.close(),S||self.indexedDB.deleteDatabase(ee),R(!0)},U.onupgradeneeded=()=>{S=!1},U.onerror=()=>{var W;A((null===(W=U.error)||void 0===W?void 0:W.message)||"")}}catch(S){A(S)}})}class ce extends Error{constructor(A,S,ee){super(S),this.code=A,this.customData=ee,this.name="FirebaseError",Object.setPrototypeOf(this,ce.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,K.prototype.create)}}class K{constructor(A,S,ee){this.service=A,this.serviceName=S,this.errors=ee}create(A,...S){const ee=S[0]||{},U=`${this.service}/${A}`,W=this.errors[A],ze=W?function Ce(R,A){return R.replace(yt,(S,ee)=>{const U=A[ee];return null!=U?String(U):`<${ee}?>`})}(W,ee):"Error";return new ce(U,`${this.serviceName}: ${ze} (${U}).`,ee)}}const yt=/\{\$([^}]+)}/g;function ge(R){return JSON.parse(R)}function Se(R){return JSON.stringify(R)}const Et=function(R){let A={},S={},ee={},U="";try{const W=R.split(".");A=ge(se(W[0])||""),S=ge(se(W[1])||""),U=W[2],ee=S.d||{},delete S.d}catch{}return{header:A,claims:S,data:ee,signature:U}},mr=function(R){const S=Et(R).claims;return!!S&&"object"==typeof S&&S.hasOwnProperty("iat")},Wn=function(R){const A=Et(R).claims;return"object"==typeof A&&!0===A.admin};function Br(R,A){return Object.prototype.hasOwnProperty.call(R,A)}function jr(R,A){if(Object.prototype.hasOwnProperty.call(R,A))return R[A]}function Ei(R){for(const A in R)if(Object.prototype.hasOwnProperty.call(R,A))return!1;return!0}function uc(R,A,S){const ee={};for(const U in R)Object.prototype.hasOwnProperty.call(R,U)&&(ee[U]=A.call(S,R[U],U,R));return ee}function ss(R,A){if(R===A)return!0;const S=Object.keys(R),ee=Object.keys(A);for(const U of S){if(!ee.includes(U))return!1;const W=R[U],ze=A[U];if(Fn(W)&&Fn(ze)){if(!ss(W,ze))return!1}else if(W!==ze)return!1}for(const U of ee)if(!S.includes(U))return!1;return!0}function Fn(R){return null!==R&&"object"==typeof R}function zl(R){const A=[];for(const[S,ee]of Object.entries(R))Array.isArray(ee)?ee.forEach(U=>{A.push(encodeURIComponent(S)+"="+encodeURIComponent(U))}):A.push(encodeURIComponent(S)+"="+encodeURIComponent(ee));return A.length?"&"+A.join("&"):""}function lo(R){const A={};return R.replace(/^\?/,"").split("&").forEach(ee=>{if(ee){const[U,W]=ee.split("=");A[decodeURIComponent(U)]=decodeURIComponent(W)}}),A}function Gl(R){const A=R.indexOf("?");if(!A)return"";const S=R.indexOf("#",A);return R.substring(A,S>0?S:void 0)}class $r{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let A=1;A<this.blockSize;++A)this.pad_[A]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(A,S){S||(S=0);const ee=this.W_;if("string"==typeof A)for(let Re=0;Re<16;Re++)ee[Re]=A.charCodeAt(S)<<24|A.charCodeAt(S+1)<<16|A.charCodeAt(S+2)<<8|A.charCodeAt(S+3),S+=4;else for(let Re=0;Re<16;Re++)ee[Re]=A[S]<<24|A[S+1]<<16|A[S+2]<<8|A[S+3],S+=4;for(let Re=16;Re<80;Re++){const sr=ee[Re-3]^ee[Re-8]^ee[Re-14]^ee[Re-16];ee[Re]=4294967295&(sr<<1|sr>>>31)}let rn,Ii,U=this.chain_[0],W=this.chain_[1],ze=this.chain_[2],Mt=this.chain_[3],Ze=this.chain_[4];for(let Re=0;Re<80;Re++){Re<40?Re<20?(rn=Mt^W&(ze^Mt),Ii=1518500249):(rn=W^ze^Mt,Ii=1859775393):Re<60?(rn=W&ze|Mt&(W|ze),Ii=2400959708):(rn=W^ze^Mt,Ii=3395469782);const sr=(U<<5|U>>>27)+rn+Ze+Ii+ee[Re]&4294967295;Ze=Mt,Mt=ze,ze=4294967295&(W<<30|W>>>2),W=U,U=sr}this.chain_[0]=this.chain_[0]+U&4294967295,this.chain_[1]=this.chain_[1]+W&4294967295,this.chain_[2]=this.chain_[2]+ze&4294967295,this.chain_[3]=this.chain_[3]+Mt&4294967295,this.chain_[4]=this.chain_[4]+Ze&4294967295}update(A,S){if(null==A)return;void 0===S&&(S=A.length);const ee=S-this.blockSize;let U=0;const W=this.buf_;let ze=this.inbuf_;for(;U<S;){if(0===ze)for(;U<=ee;)this.compress_(A,U),U+=this.blockSize;if("string"==typeof A){for(;U<S;)if(W[ze]=A.charCodeAt(U),++ze,++U,ze===this.blockSize){this.compress_(W),ze=0;break}}else for(;U<S;)if(W[ze]=A[U],++ze,++U,ze===this.blockSize){this.compress_(W),ze=0;break}}this.inbuf_=ze,this.total_+=S}digest(){const A=[];let S=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let U=this.blockSize-1;U>=56;U--)this.buf_[U]=255&S,S/=256;this.compress_(this.buf_);let ee=0;for(let U=0;U<5;U++)for(let W=24;W>=0;W-=8)A[ee]=this.chain_[U]>>W&255,++ee;return A}}function as(R,A){const S=new xs(R,A);return S.subscribe.bind(S)}class xs{constructor(A,S){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=S,this.task.then(()=>{A(this)}).catch(ee=>{this.error(ee)})}next(A){this.forEachObserver(S=>{S.next(A)})}error(A){this.forEachObserver(S=>{S.error(A)}),this.close(A)}complete(){this.forEachObserver(A=>{A.complete()}),this.close()}subscribe(A,S,ee){let U;if(void 0===A&&void 0===S&&void 0===ee)throw new Error("Missing Observer.");U=function ga(R,A){if("object"!=typeof R||null===R)return!1;for(const S of A)if(S in R&&"function"==typeof R[S])return!0;return!1}(A,["next","error","complete"])?A:{next:A,error:S,complete:ee},void 0===U.next&&(U.next=nn),void 0===U.error&&(U.error=nn),void 0===U.complete&&(U.complete=nn);const W=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?U.error(this.finalError):U.complete()}catch{}}),this.observers.push(U),W}unsubscribeOne(A){void 0===this.observers||void 0===this.observers[A]||(delete this.observers[A],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(A){if(!this.finalized)for(let S=0;S<this.observers.length;S++)this.sendOne(S,A)}sendOne(A,S){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[A])try{S(this.observers[A])}catch(ee){typeof console<"u"&&console.error&&console.error(ee)}})}close(A){this.finalized||(this.finalized=!0,void 0!==A&&(this.finalError=A),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nn(){}const Wi=function(R,A,S,ee){let U;if(ee<A?U="at least "+A:ee>S&&(U=0===S?"none":"no more than "+S),U)throw new Error(R+" failed: Was called with "+ee+(1===ee?" argument.":" arguments.")+" Expects "+U+".")};function qn(R,A){return`${R} failed: ${A} argument `}function Mi(R,A,S,ee){if((!ee||S)&&"function"!=typeof S)throw new Error(qn(R,A)+"must be a valid function.")}function Oi(R,A,S,ee){if((!ee||S)&&("object"!=typeof S||null===S))throw new Error(qn(R,A)+"must be a valid context object.")}const cs=function(R){const A=[];let S=0;for(let ee=0;ee<R.length;ee++){let U=R.charCodeAt(ee);if(U>=55296&&U<=56319){const W=U-55296;ee++,Ue(ee<R.length,"Surrogate pair missing trail surrogate."),U=65536+(W<<10)+(R.charCodeAt(ee)-56320)}U<128?A[S++]=U:U<2048?(A[S++]=U>>6|192,A[S++]=63&U|128):U<65536?(A[S++]=U>>12|224,A[S++]=U>>6&63|128,A[S++]=63&U|128):(A[S++]=U>>18|240,A[S++]=U>>12&63|128,A[S++]=U>>6&63|128,A[S++]=63&U|128)}return A},ks=function(R){let A=0;for(let S=0;S<R.length;S++){const ee=R.charCodeAt(S);ee<128?A++:ee<2048?A+=2:ee>=55296&&ee<=56319?(A+=4,S++):A+=3}return A};function gc(R){return R&&R._delegate?R._delegate:R}},622:(os,pr,Ke)=>{function O(t){return"function"==typeof t}function Ue(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Z=Ue(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function $e(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Pt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(O(r))try{r()}catch(o){e=o instanceof Z?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{rr(o)}catch(s){e=e??[],s instanceof Z?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Z(e)}}add(e){var n;if(e&&e!==this)if(this.closed)rr(e);else{if(e instanceof Pt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&$e(n,e)}remove(e){const{_finalizers:n}=this;n&&$e(n,e),e instanceof Pt&&e._removeParent(this)}}Pt.EMPTY=(()=>{const t=new Pt;return t.closed=!0,t})();const Jt=Pt.EMPTY;function Pn(t){return t instanceof Pt||t&&"closed"in t&&O(t.remove)&&O(t.add)&&O(t.unsubscribe)}function rr(t){O(t)?t():t.unsubscribe()}const dt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},se={setTimeout(t,e,...n){const{delegate:r}=se;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=se;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function he(t){se.setTimeout(()=>{const{onUnhandledError:e}=dt;if(!e)throw t;e(t)})}function Ae(){}const ct=St("C",void 0,void 0);function St(t,e,n){return{kind:t,value:e,error:n}}let He=null;function nt(t){if(dt.useDeprecatedSynchronousErrorHandling){const e=!He;if(e&&(He={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=He;if(He=null,n)throw r}}else t()}class ir extends Pt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Pn(e)&&e.add(this)):this.destination=hn}static create(e,n,r){return new ri(e,n,r)}next(e){this.isStopped?oe(function fr(t){return St("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?oe(function Ot(t){return St("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?oe(ct,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const en=Function.prototype.bind;function Rt(t,e){return en.call(t,e)}class zt{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){rt(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){rt(r)}else rt(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){rt(n)}}}class ri extends ir{constructor(e,n,r){let i;if(super(),O(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&dt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Rt(e.next,o),error:e.error&&Rt(e.error,o),complete:e.complete&&Rt(e.complete,o)}):i=e}this.destination=new zt(i)}}function rt(t){dt.useDeprecatedSynchronousErrorHandling?function gr(t){dt.useDeprecatedSynchronousErrorHandling&&He&&(He.errorThrown=!0,He.error=t)}(t):he(t)}function oe(t,e){const{onStoppedNotification:n}=dt;n&&se.setTimeout(()=>n(t,e))}const hn={closed:!0,next:Ae,error:function or(t){throw t},complete:Ae},tn="function"==typeof Symbol&&Symbol.observable||"@@observable";function Nn(t){return t}function Do(t){return 0===t.length?Nn:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let st=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function z(t){return t&&t instanceof ir||function So(t){return t&&O(t.next)&&O(t.error)&&O(t.complete)}(t)&&Pn(t)}(n)?n:new ri(n,r,i);return nt(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Rs(r))((i,o)=>{const s=new ri({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[tn](){return this}pipe(...n){return Do(n)(this)}toPromise(n){return new(n=Rs(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Rs(t){var e;return null!==(e=t??dt.Promise)&&void 0!==e?e:Promise}const q=Ue(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Y=(()=>{class t extends st{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new te(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new q}next(n){nt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){nt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){nt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?Jt:(this.currentObservers=null,o.push(n),new Pt(()=>{this.currentObservers=null,$e(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new st;return n.source=this,n}}return t.create=(e,n)=>new te(e,n),t})();class te extends Y{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Jt}}function ce(t){return O(t?.lift)}function K(t){return e=>{if(ce(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ce(t,e,n,r,i){return new yt(t,e,n,r,i)}class yt extends ir{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ge(t,e){return K((n,r)=>{let i=0;n.subscribe(Ce(r,o=>{r.next(t.call(e,o,i++))}))})}var Se=Ke(582);const Et=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function pn(t){return O(t?.then)}function Yt(t){return O(t[tn])}function mr(t){return Symbol.asyncIterator&&O(t?.[Symbol.asyncIterator])}function Wn(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const jr=function Br(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ei(t){return O(t?.[jr])}function uc(t){return(0,Se.FC)(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield(0,Se.qq)(n.read());if(i)return yield(0,Se.qq)(void 0);yield yield(0,Se.qq)(r)}}finally{n.releaseLock()}})}function ss(t){return O(t?.getReader)}function Fn(t){if(t instanceof st)return t;if(null!=t){if(Yt(t))return function dc(t){return new st(e=>{const n=t[tn]();if(O(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Et(t))return function zl(t){return new st(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(pn(t))return function lo(t){return new st(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,he)})}(t);if(mr(t))return $r(t);if(Ei(t))return function Gl(t){return new st(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(ss(t))return function as(t){return $r(uc(t))}(t)}throw Wn(t)}function $r(t){return new st(e=>{(function xs(t,e){var n,r,i,o;return(0,Se.mG)(this,void 0,void 0,function*(){try{for(n=(0,Se.KL)(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function br(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function nn(t,e,n=1/0){return O(e)?nn((r,i)=>ge((o,s)=>e(r,o,i,s))(Fn(t(r,i))),n):("number"==typeof e&&(n=e),K((r,i)=>function ga(t,e,n,r,i,o,s,a){const c=[];let l=0,h=0,f=!1;const m=()=>{f&&!c.length&&!l&&e.complete()},v=I=>l<r?E(I):c.push(I),E=I=>{o&&e.next(I),l++;let b=!1;Fn(n(I,h++)).subscribe(Ce(e,L=>{i?.(L),o?v(L):e.next(L)},()=>{b=!0},void 0,()=>{if(b)try{for(l--;c.length&&l<r;){const L=c.shift();s?br(e,s,()=>E(L)):E(L)}m()}catch(L){e.error(L)}}))};return t.subscribe(Ce(e,v,()=>{f=!0,m()})),()=>{a?.()}}(r,i,t,n)))}function Wi(t=1/0){return nn(Nn,t)}const qn=new st(t=>t.complete());function cs(t){return t[t.length-1]}function ks(t){return O(cs(t))?t.pop():void 0}function Ns(t){return function Oi(t){return t&&O(t.schedule)}(cs(t))?t.pop():void 0}function _r(t,e=0){return K((n,r)=>{n.subscribe(Ce(r,i=>br(r,t,()=>r.next(i),e),()=>br(r,t,()=>r.complete(),e),i=>br(r,t,()=>r.error(i),e)))})}function Hr(t,e=0){return K((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function gc(t,e){if(!t)throw new Error("Iterable cannot be null");return new st(n=>{br(n,e,()=>{const r=t[Symbol.asyncIterator]();br(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function S(t,e){return e?function A(t,e){if(null!=t){if(Yt(t))return function Fs(t,e){return Fn(t).pipe(Hr(e),_r(e))}(t,e);if(Et(t))return function bd(t,e){return new st(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(pn(t))return function fc(t,e){return Fn(t).pipe(Hr(e),_r(e))}(t,e);if(mr(t))return gc(t,e);if(Ei(t))return function Wl(t,e){return new st(n=>{let r;return br(n,e,()=>{r=t[jr](),br(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>O(r?.return)&&r.return()})}(t,e);if(ss(t))return function R(t,e){return gc(uc(t),e)}(t,e)}throw Wn(t)}(t,e):Fn(t)}function ee(...t){const e=Ns(t),n=function pc(t,e){return"number"==typeof cs(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Fn(r[0]):Wi(n)(S(r,e)):qn}class U extends Y{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function W(...t){return S(t,Ns(t))}function ze(t={}){const{connector:e=(()=>new Y),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,c,l=0,h=!1,f=!1;const m=()=>{a?.unsubscribe(),a=void 0},v=()=>{m(),s=c=void 0,h=f=!1},E=()=>{const I=s;v(),I?.unsubscribe()};return K((I,b)=>{l++,!f&&!h&&m();const L=c=c??e();b.add(()=>{l--,0===l&&!f&&!h&&(a=Mt(E,i))}),L.subscribe(b),!s&&l>0&&(s=new ri({next:k=>L.next(k),error:k=>{f=!0,m(),a=Mt(v,n,k),L.error(k)},complete:()=>{h=!0,m(),a=Mt(v,r),L.complete()}}),Fn(I).subscribe(s))})(o)}}function Mt(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new ri({next:()=>{r.unsubscribe(),t()}});return Fn(e(...n)).subscribe(r)}function Ze(t,e){return K((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(Ce(r,c=>{i?.unsubscribe();let l=0;const h=o++;Fn(t(c,h)).subscribe(i=Ce(r,f=>r.next(e?e(c,f,h,l++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function rn(t,e=Nn){return t=t??Ii,K((n,r)=>{let i,o=!0;n.subscribe(Ce(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function Ii(t,e){return t===e}function Re(t){for(let e in t)if(t[e]===Re)return e;throw Error("Could not find renamed property on target object.")}function sr(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ut(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ut).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function ls(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const ma=Re({__forward_ref__:Re});function j(t){return t.__forward_ref__=j,t.toString=function(){return Ut(this())},t}function N(t){return ue(t)?t():t}function ue(t){return"function"==typeof t&&t.hasOwnProperty(ma)&&t.__forward_ref__===j}function xe(t){return t&&!!t.\u0275providers}const lt="https://g.co/ng/security#xss";class Q extends Error{constructor(e,n){super(function Kn(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function De(t){return"string"==typeof t?t:null==t?"":String(t)}function Df(t,e){throw new Q(-201,!1)}function ii(t,e){null==t&&function Be(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function be(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Zn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Kl(t){return _a(t,Zl)||_a(t,hv)}function _a(t,e){return t.hasOwnProperty(e)?t[e]:null}function mc(t){return t&&(t.hasOwnProperty(Yl)||t.hasOwnProperty(xf))?t[Yl]:null}const Zl=Re({\u0275prov:Re}),Yl=Re({\u0275inj:Re}),hv=Re({ngInjectableDef:Re}),xf=Re({ngInjectorDef:Re});var pt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(pt||{});let Ql;function Tr(t){const e=Ql;return Ql=t,e}function pv(t,e,n){const r=Kl(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&pt.Optional?null:void 0!==e?e:void Df(Ut(t))}const Gt=globalThis,oi={},Vf="__NG_DI_FLAG__",_c="ngTempTokenPath",Uf=/\n/gm,Dd="__source";let yc;function Ro(t){const e=yc;return yc=t,e}function ya(t,e=pt.Default){if(void 0===yc)throw new Q(-203,!1);return null===yc?pv(t,void 0,e):yc.get(t,e&pt.Optional?null:void 0,e)}function re(t,e=pt.Default){return(function Xl(){return Ql}()||ya)(N(t),e)}function we(t,e=pt.Default){return re(t,Bf(e))}function Bf(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function eu(t){const e=[];for(let n=0;n<t.length;n++){const r=N(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Q(900,!1);let i,o=pt.Default;for(let s=0;s<r.length;s++){const a=r[s],c=vc(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}e.push(re(i,o))}else e.push(re(r))}return e}function Ti(t,e){return t[Vf]=e,t.prototype[Vf]=e,t}function vc(t){return t[Vf]}function xo(t){return{toString:t}.toString()}var tu=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(tu||{}),uo=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(uo||{});const zr={},It=[],va=Re({\u0275cmp:Re}),Sd=Re({\u0275dir:Re}),Rd=Re({\u0275pipe:Re}),xd=Re({\u0275mod:Re}),Ln=Re({\u0275fac:Re}),wc=Re({__NG_ELEMENT_ID__:Re}),Cv=Re({__NG_ENV_ID__:Re});function kd(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Pc(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];$f(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function jf(t){return 3===t||4===t||6===t}function $f(t){return 64===t.charCodeAt(0)}function nu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Nd(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Nd(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const Fd="ng-template";function Hf(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==kd(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function ru(t){return 4===t.type&&t.value!==Fd}function zf(t,e,n){return e===(4!==t.type||n?t.value:Fd)}function wv(t,e,n){let r=4;const i=t.attrs||[],o=function Gf(t){for(let e=0;e<t.length;e++)if(jf(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!zf(t,c,n)||""===c&&1===e.length){if(Ai(r))return!1;s=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!Hf(t.attrs,l,n)){if(Ai(r))return!1;s=!0}continue}const f=Pv(8&r?"class":c,i,ru(t),n);if(-1===f){if(Ai(r))return!1;s=!0;continue}if(""!==l){let m;m=f>o?"":i[f+1].toLowerCase();const v=8&r?m:null;if(v&&-1!==kd(v,l,0)||2&r&&l!==m){if(Ai(r))return!1;s=!0}}}}else{if(!s&&!Ai(r)&&!Ai(c))return!1;if(s&&Ai(c))continue;s=!1,r=c|1&r}}return Ai(r)||s}function Ai(t){return 0==(1&t)}function Pv(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function Ev(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Ld(t,e,n=!1){for(let r=0;r<e.length;r++)if(wv(t,e[r],n))return!0;return!1}function Wf(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function qf(t,e){return t?":not("+e.trim()+")":e}function Kf(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Ai(s)&&(e+=qf(o,i),i=""),r=s,o=o||!Ai(r);n++}return""!==i&&(e+=qf(o,i)),e}function xt(t){return xo(()=>{const e=Xf(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===tu.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||uo.Emulated,styles:t.styles||It,_:null,schemas:t.schemas||null,tView:null,id:""};jd(n);const r=t.dependencies;return n.directiveDefs=$d(r,!1),n.pipeDefs=$d(r,!0),n.id=function sM(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function iu(t){return mt(t)||yr(t)}function Qf(t){return null!==t}function Vn(t){return xo(()=>({type:t.type,bootstrap:t.bootstrap||It,declarations:t.declarations||It,imports:t.imports||It,exports:t.exports||It,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Bd(t,e){if(null==t)return zr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function Ve(t){return xo(()=>{const e=Xf(t);return jd(e),e})}function mt(t){return t[va]||null}function yr(t){return t[Sd]||null}function vr(t){return t[Rd]||null}function Gr(t,e){const n=t[xd]||null;if(!n&&!0===e)throw new Error(`Type ${Ut(t)} does not have '\u0275mod' property.`);return n}function Xf(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||zr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||It,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Bd(t.inputs,e),outputs:Bd(t.outputs)}}function jd(t){t.features?.forEach(e=>e(t))}function $d(t,e){if(!t)return null;const n=e?vr:iu;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(Qf)}const on=0,Pe=1,Qe=2,Wt=3,ho=4,ou=5,ar=6,Mc=7,gn=8,Vs=9,Us=10,We=11,Ca=12,Mv=13,Bs=14,Sn=15,wa=16,Oc=17,qi=18,su=19,Ov=20,ds=21,po=22,au=23,ko=24,ut=25,eg=1,Iv=2,No=7,cu=9,Ar=11;function ai(t){return Array.isArray(t)&&"object"==typeof t[eg]}function Wr(t){return Array.isArray(t)&&!0===t[eg]}function Tv(t){return 0!=(4&t.flags)}function Ic(t){return t.componentOffset>-1}function tg(t){return 1==(1&t.flags)}function Fo(t){return!!t.template}function Av(t){return 0!=(512&t[Qe])}function Ma(t,e){return t.hasOwnProperty(Ln)?t[Ln]:null}let Cr=null,bc=!1;function Zi(t){const e=Cr;return Cr=t,e}const Gd={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function kv(t){if(!Ia(t)||t.dirty){if(!t.producerMustRecompute(t)&&!du(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function uu(t){t.dirty=!0,function ig(t){if(void 0===t.liveConsumerNode)return;const e=bc;bc=!0;try{for(const n of t.liveConsumerNode)n.dirty||uu(n)}finally{bc=e}}(t),t.consumerMarkedDirty?.(t)}function Wd(t){return t&&(t.nextProducerIndex=0),Zi(t)}function Oa(t,e){if(Zi(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Ia(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)hu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function du(t){Tc(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(kv(n),r!==n.version))return!0}return!1}function Nv(t){if(Tc(t),Ia(t))for(let e=0;e<t.producerNode.length;e++)hu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function hu(t,e){if(function Kd(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Tc(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)hu(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Tc(i),i.producerIndexOfThis[r]=e}}function Ia(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Tc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Fv=null;const lg=()=>{},yM=(()=>({...Gd,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:lg}))();class vM{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function ci(){return Uv}function Uv(t){return t.type.prototype.ngOnChanges&&(t.setInput=CM),ug}function ug(){const t=Bv(this),e=t?.current;if(e){const n=t.previous;if(n===zr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function CM(t,e,n,r){const i=this.declaredInputs[n],o=Bv(t)||function dg(t,e){return t[Yd]=e}(t,{previous:zr,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new vM(c&&c.currentValue,e,a===zr),t[r]=e}ci.ngInherit=!0;const Yd="__ngSimpleChanges__";function Bv(t){return t[Yd]||null}const Lo=function(t,e,n){};function bt(t){for(;Array.isArray(t);)t=t[on];return t}function Xd(t,e){return bt(e[t])}function li(t,e){return bt(e[t.index])}function Jd(t,e){return t.data[e]}function Di(t,e){const n=e[t];return ai(n)?n:n[on]}function Vo(t,e){return null==e?null:t[e]}function jv(t){t[Oc]=0}function fg(t){1024&t[Qe]||(t[Qe]|=1024,$v(t,1))}function eh(t){1024&t[Qe]&&(t[Qe]&=-1025,$v(t,-1))}function $v(t,e){let n=t[Wt];if(null===n)return;n[ou]+=e;let r=n;for(n=n[Wt];null!==n&&(1===e&&1===r[ou]||-1===e&&0===r[ou]);)n[ou]+=e,r=n,n=n[Wt]}const je={lFrame:Kv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function _g(){return je.bindingsEnabled}function Ta(){return null!==je.skipHydrationRootTNode}function ae(){return je.lFrame.lView}function Ct(){return je.lFrame.tView}function wr(t){return je.lFrame.contextLView=t,t[gn]}function Qn(t){return je.lFrame.contextLView=null,t}function Pr(){let t=nh();for(;null!==t&&64===t.type;)t=t.parent;return t}function nh(){return je.lFrame.currentTNode}function Yi(t,e){const n=je.lFrame;n.currentTNode=t,n.isParent=e}function rh(){return je.lFrame.isParent}function fu(){je.lFrame.isParent=!1}function Dr(){const t=je.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function $s(){return je.lFrame.bindingIndex++}function wg(t,e){const n=je.lFrame;n.bindingIndex=n.bindingRootIndex=t,Pg(e)}function Pg(t){je.lFrame.currentDirectiveIndex=t}function Gv(){return je.lFrame.currentQueryIndex}function xc(t){je.lFrame.currentQueryIndex=t}function kM(t){const e=t[Pe];return 2===e.type?e.declTNode:1===e.type?t[ar]:null}function Wv(t,e,n){if(n&pt.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&pt.Host||(i=kM(o),null===i||(o=o[Bs],10&i.type))););if(null===i)return!1;e=i,t=o}const r=je.lFrame=qv();return r.currentTNode=e,r.lView=t,!0}function Eg(t){const e=qv(),n=t[Pe];je.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function qv(){const t=je.lFrame,e=null===t?null:t.child;return null===e?Kv(t):e}function Kv(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Zv(){const t=je.lFrame;return je.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Yv=Zv;function Mg(){const t=Zv();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function qr(){return je.lFrame.selectedIndex}function Aa(t){je.lFrame.selectedIndex=t}function mn(){const t=je.lFrame;return Jd(t.tView,t.selectedIndex)}let Jv=!0;function oh(){return Jv}function Uo(t){Jv=t}function sh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=h&&(t.destroyHooks??=[]).push(n,h)}}function kc(t,e,n){eC(t,e,3,n)}function ah(t,e,n,r){(3&t[Qe])===n&&eC(t,e,n,r)}function ch(t,e){let n=t[Qe];(3&n)===e&&(n&=8191,n+=1,t[Qe]=n)}function eC(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let c=void 0!==r?65535&t[Oc]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[Oc]+=65536),(a<o||-1==o)&&(UM(t,n,e,c),t[Oc]=(4294901760&t[Oc])+c+2),c++}function lh(t,e){Lo(4,t,e);const n=Zi(null);try{e.call(t)}finally{Zi(n),Lo(5,t,e)}}function UM(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[Qe]>>13<t[Oc]>>16&&(3&t[Qe])===e&&(t[Qe]+=8192,lh(a,o)):lh(a,o)}const gu=-1;class Da{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Tg(t){return t!==gu}function Nc(t){return 32767&t}function dh(t,e){let n=function HM(t){return t>>16}(t),r=e;for(;n>0;)r=r[Bs],n--;return r}let fs=!0;function hh(t){const e=fs;return fs=t,e}const ph=255,nC=5;let Ag=0;const Bo={};function Fc(t,e){const n=rC(t,e);if(-1!==n)return n;const r=e[Pe];r.firstCreatePass&&(t.injectorIndex=e.length,Dg(r.data,t),Dg(e,null),Dg(r.blueprint,null));const i=Lc(t,e),o=t.injectorIndex;if(Tg(i)){const s=Nc(i),a=dh(i,e),c=a[Pe].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Dg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function rC(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Lc(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=cC(i),null===r)return gu;if(n++,i=i[Bs],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return gu}function Sg(t,e,n){!function zM(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(wc)&&(r=n[wc]),null==r&&(r=n[wc]=Ag++);const i=r&ph;e.data[t+(i>>nC)]|=1<<i}(t,e,n)}function iC(t,e,n){if(n&pt.Optional||void 0!==t)return t;Df()}function oC(t,e,n,r){if(n&pt.Optional&&void 0===r&&(r=null),!(n&(pt.Self|pt.Host))){const i=t[Vs],o=Tr(void 0);try{return i?i.get(e,r,n&pt.Optional):pv(e,r,n&pt.Optional)}finally{Tr(o)}}return iC(r,0,n)}function sC(t,e,n,r=pt.Default,i){if(null!==t){if(2048&e[Qe]&&!(r&pt.Self)){const s=function qM(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[Qe]&&!(512&s[Qe]);){const a=Rg(o,s,n,r|pt.Self,Bo);if(a!==Bo)return a;let c=o.parent;if(!c){const l=s[Ov];if(l){const h=l.get(n,Bo,r);if(h!==Bo)return h}c=cC(s),s=s[Bs]}o=c}return i}(t,e,n,r,Bo);if(s!==Bo)return s}const o=Rg(t,e,n,r,Bo);if(o!==Bo)return o}return oC(e,n,r,i)}function Rg(t,e,n,r,i){const o=function kg(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(wc)?t[wc]:void 0;return"number"==typeof e?e>=0?e&ph:WM:e}(n);if("function"==typeof o){if(!Wv(e,t,r))return r&pt.Host?iC(i,0,r):oC(e,n,r,i);try{let s;if(s=o(r),null!=s||r&pt.Optional)return s;Df()}finally{Yv()}}else if("number"==typeof o){let s=null,a=rC(t,e),c=gu,l=r&pt.Host?e[Sn][ar]:null;for((-1===a||r&pt.SkipSelf)&&(c=-1===a?Lc(t,e):e[a+8],c!==gu&&aC(r,!1)?(s=e[Pe],a=Nc(c),e=dh(c,e)):a=-1);-1!==a;){const h=e[Pe];if(gh(o,a,h.data)){const f=xg(a,e,n,s,r,l);if(f!==Bo)return f}c=e[a+8],c!==gu&&aC(r,e[Pe].data[a+8]===l)&&gh(o,a,e)?(s=h,a=Nc(c),e=dh(c,e)):a=-1}}return i}function xg(t,e,n,r,i,o){const s=e[Pe],a=s.data[t+8],h=fh(a,s,n,null==r?Ic(a)&&fs:r!=s&&0!=(3&a.type),i&pt.Host&&o===a);return null!==h?Sa(e,s,h,a):Bo}function fh(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,c=t.directiveStart,h=o>>20,m=i?a+h:t.directiveEnd;for(let v=r?a:a+h;v<m;v++){const E=s[v];if(v<c&&n===E||v>=c&&E.type===n)return v}if(i){const v=s[c];if(v&&Fo(v)&&v.type===n)return c}return null}function Sa(t,e,n,r){let i=t[n];const o=e.data;if(function tC(t){return t instanceof Da}(i)){const s=i;s.resolving&&function ql(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Q(-200,`Circular dependency in DI detected for ${t}${n}`)}(function ht(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():De(t)}(o[n]));const a=hh(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Tr(s.injectImpl):null;Wv(t,r,pt.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function Ig(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=Uv(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==l&&Tr(l),hh(a),s.resolving=!1,Yv()}}return i}function gh(t,e,n){return!!(n[e+(t>>nC)]&1<<t)}function aC(t,e){return!(t&pt.Self||t&pt.Host&&e)}class Kr{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return sC(this._tNode,this._lView,e,Bf(r),n)}}function WM(){return new Kr(Pr(),ae())}function Er(t){return xo(()=>{const e=t.prototype.constructor,n=e[Ln]||_h(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[Ln]||_h(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function _h(t){return ue(t)?()=>{const e=_h(N(t));return e&&e()}:Ma(t)}function cC(t){const e=t[Pe],n=e.type;return 2===n?e.declTNode:1===n?t[ar]:null}const jo="__parameters__";function Bc(t,e,n){return xo(()=>{const r=function Fg(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,l,h){const f=c.hasOwnProperty(jo)?c[jo]:Object.defineProperty(c,jo,{value:[]})[jo];for(;f.length<=h;)f.push(null);return(f[h]=f[h]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function xa(t,e){t.forEach(n=>Array.isArray(n)?xa(n,e):e(n))}function hC(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function fo(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function $c(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function qt(t,e,n){let r=Hs(t,e);return r>=0?t[1|r]=n:(r=~r,function JM(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function yu(t,e){const n=Hs(t,e);if(n>=0)return t[1|n]}function Hs(t,e){return function $o(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const p=Ti(Bc("Optional"),8),d=Ti(Bc("SkipSelf"),4);function wC(t){return 128==(128&t.flags)}var Hc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Hc||{});const wG=/^>|^->|<!--|-->|--!>|<!-$/g,PG=/(<|>)/g,EG="\u200b$1\u200b";const sO=new Map;let MG=0;const cO="__ngContext__";function ui(t,e){ai(e)?(t[cO]=e[su],function IG(t){sO.set(t[su],t)}(e)):t[cO]=e}let lO;function uO(t,e){return lO(t,e)}function Gg(t){const e=t[Wt];return Wr(e)?e[Wt]:e}function mN(t){return yN(t[Ca])}function _N(t){return yN(t[ho])}function yN(t){for(;null!==t&&!Wr(t);)t=t[ho];return t}function Ph(t,e,n,r,i){if(null!=r){let o,s=!1;Wr(r)?o=r:ai(r)&&(s=!0,r=r[on]);const a=bt(r);0===t&&null!==n?null==i?PN(e,n,a):Pu(e,n,a,i||null,!0):1===t&&null!==n?Pu(e,n,a,i||null,!0):2===t?function TC(t,e,n){const r=IC(t,e);r&&function GG(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function KG(t,e,n,r,i){const o=n[No];o!==bt(n)&&Ph(e,t,r,o,i);for(let a=Ar;a<n.length;a++){const c=n[a];qg(c[Pe],c,t,e,r,o)}}(e,t,o,n,i)}}function dO(t,e){return t.createComment(function cN(t){return t.replace(wG,e=>e.replace(PG,EG))}(e))}function MC(t,e,n){return t.createElement(e,n)}function CN(t,e){const n=t[cu],r=n.indexOf(e);eh(e),n.splice(r,1)}function OC(t,e){if(t.length<=Ar)return;const n=Ar+e,r=t[n];if(r){const i=r[wa];null!==i&&i!==t&&CN(i,r),e>0&&(t[n-1][ho]=r[ho]);const o=fo(t,Ar+e);!function LG(t,e){qg(t,e,e[We],2,null,null),e[on]=null,e[ar]=null}(r[Pe],r);const s=o[qi];null!==s&&s.detachView(o[Pe]),r[Wt]=null,r[ho]=null,r[Qe]&=-129}return r}function hO(t,e){if(!(256&e[Qe])){const n=e[We];e[au]&&Nv(e[au]),e[ko]&&Nv(e[ko]),n.destroyNode&&qg(t,e,n,3,null,null),function BG(t){let e=t[Ca];if(!e)return pO(t[Pe],t);for(;e;){let n=null;if(ai(e))n=e[Ca];else{const r=e[Ar];r&&(n=r)}if(!n){for(;e&&!e[ho]&&e!==t;)ai(e)&&pO(e[Pe],e),e=e[Wt];null===e&&(e=t),ai(e)&&pO(e[Pe],e),n=e&&e[ho]}e=n}}(e)}}function pO(t,e){if(!(256&e[Qe])){e[Qe]&=-129,e[Qe]|=256,function zG(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Da)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];Lo(4,a,c);try{c.call(a)}finally{Lo(5,a,c)}}else{Lo(4,i,o);try{o.call(i)}finally{Lo(5,i,o)}}}}}(t,e),function HG(t,e){const n=t.cleanup,r=e[Mc];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[Mc]=null);const i=e[ds];if(null!==i){e[ds]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[Pe].type&&e[We].destroy();const n=e[wa];if(null!==n&&Wr(e[Wt])){n!==e[Wt]&&CN(n,e);const r=e[qi];null!==r&&r.detachView(t)}!function bG(t){sO.delete(t[su])}(e)}}function fO(t,e,n){return function wN(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[on];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===uo.None||o===uo.Emulated)return null}return li(r,n)}}(t,e.parent,n)}function Pu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function PN(t,e,n){t.appendChild(e,n)}function EN(t,e,n,r,i){null!==r?Pu(t,e,n,r,i):PN(t,e,n)}function IC(t,e){return t.parentNode(e)}function MN(t,e,n){return IN(t,e,n)}let gO,vO,DC,IN=function ON(t,e,n){return 40&t.type?li(t,n):null};function bC(t,e,n,r){const i=fO(t,r,e),o=e[We],a=MN(r.parent||e[ar],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)EN(o,i,n[c],a,!1);else EN(o,i,n,a,!1);void 0!==gO&&gO(o,r,e,n,i)}function Wg(t,e){if(null!==e){const n=e.type;if(3&n)return li(e,t);if(4&n)return mO(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Wg(t,r);{const i=t[e.index];return Wr(i)?mO(-1,i):bt(i)}}if(32&n)return uO(e,t)()||bt(t[e.index]);{const r=TN(t,e);return null!==r?Array.isArray(r)?r[0]:Wg(Gg(t[Sn]),r):Wg(t,e.next)}}return null}function TN(t,e){return null!==e?t[Sn][ar].projection[e.projection]:null}function mO(t,e){const n=Ar+t+1;if(n<e.length){const r=e[n],i=r[Pe].firstChild;if(null!==i)return Wg(r,i)}return e[No]}function _O(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;if(s&&0===e&&(a&&ui(bt(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)_O(t,e,n.child,r,i,o,!1),Ph(e,t,i,a,o);else if(32&c){const l=uO(n,r);let h;for(;h=l();)Ph(e,t,i,h,o);Ph(e,t,i,a,o)}else 16&c?DN(t,e,r,n,i,o):Ph(e,t,i,a,o);n=s?n.projectionNext:n.next}}function qg(t,e,n,r,i,o){_O(n,r,t.firstChild,e,i,o,!1)}function DN(t,e,n,r,i,o){const s=n[Sn],c=s[ar].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Ph(e,t,i,c[l],o);else{let l=c;const h=s[Wt];wC(r)&&(l.flags|=128),_O(t,e,l,h,i,o,!0)}}function SN(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function RN(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&Pc(t,e,r),null!==i&&SN(t,e,i),null!==o&&function YG(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}function NN(t){return function CO(){if(void 0===DC&&(DC=null,Gt.trustedTypes))try{DC=Gt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return DC}()?.createScriptURL(t)||t}class FN{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lt})`}}function zc(t){return t instanceof FN?t.changingThisBreaksApplicationSecurity:t}function Kg(t,e){const n=function sW(t){return t instanceof FN&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${lt})`)}return n===e}const uW=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Oh=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Oh||{});function zo(t){const e=Yg();return e?e.sanitize(Oh.URL,t)||"":Kg(t,"URL")?zc(t):function wO(t){return(t=String(t)).match(uW)?t:"unsafe:"+t}(De(t))}function HN(t){const e=Yg();if(e)return NN(e.sanitize(Oh.RESOURCE_URL,t)||"");if(Kg(t,"ResourceURL"))return NN(zc(t));throw new Q(904,!1)}function Yg(){const t=ae();return t&&t[Us].sanitizer}class fe{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=be({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Qg=new fe("ENVIRONMENT_INITIALIZER"),GN=new fe("INJECTOR",-1),WN=new fe("INJECTOR_DEF_TYPES");class OO{get(e,n=oi){if(n===oi){const r=new Error(`NullInjectorError: No provider for ${Ut(e)}!`);throw r.name="NullInjectorError",r}return n}}function EW(...t){return{\u0275providers:qN(0,t),\u0275fromNgModule:!0}}function qN(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return xa(e,s=>{const a=s;RC(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&KN(i,o),n}function KN(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];bO(i,o=>{e(o,r)})}}function RC(t,e,n,r){if(!(t=N(t)))return!1;let i=null,o=mc(t);const s=!o&&mt(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const c=t.ngModule;if(o=mc(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)RC(l,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;r.add(i);try{xa(o.imports,h=>{RC(h,e,n,r)&&(l||=[],l.push(h))})}finally{}void 0!==l&&KN(l,e)}if(!a){const l=Ma(i)||(()=>new i);e({provide:i,useFactory:l,deps:It},i),e({provide:WN,useValue:i,multi:!0},i),e({provide:Qg,useValue:()=>re(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const l=t;bO(c,h=>{e(h,l)})}}}return i!==t&&void 0!==t.providers}function bO(t,e){for(let n of t)xe(n)&&(n=n.\u0275providers),Array.isArray(n)?bO(n,e):e(n)}const MW=Re({provide:String,useValue:Re});function TO(t){return null!==t&&"object"==typeof t&&MW in t}function Eu(t){return"function"==typeof t}const AO=new fe("Set Injector scope."),xC={},IW={};let DO;function kC(){return void 0===DO&&(DO=new OO),DO}class go{}class NC extends go{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,RO(e,s=>this.processProvider(s)),this.records.set(GN,Ih(void 0,this)),i.has("environment")&&this.records.set(go,Ih(void 0,this));const o=this.records.get(AO);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(WN.multi,It,pt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Ro(this),r=Tr(void 0);try{return e()}finally{Ro(n),Tr(r)}}get(e,n=oi,r=pt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Cv))return e[Cv](this);r=Bf(r);const o=Ro(this),s=Tr(void 0);try{if(!(r&pt.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function SW(t){return"function"==typeof t||"object"==typeof t&&t instanceof fe}(e)&&Kl(e);c=l&&this.injectableDefInScope(l)?Ih(SO(e),xC):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&pt.Self?kC():this.parent).get(e,n=r&pt.Optional&&n===oi?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[_c]=a[_c]||[]).unshift(Ut(e)),o)throw a;return function Cc(t,e,n,r){const i=t[_c];throw e[Dd]&&i.unshift(e[Dd]),t.message=function vv(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Ut(e);if(Array.isArray(e))i=e.map(Ut).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Ut(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Uf,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[_c]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Tr(s),Ro(o)}}resolveInjectorInitializers(){const e=Ro(this),n=Tr(void 0);try{const i=this.get(Qg.multi,It,pt.Self);for(const o of i)o()}finally{Ro(e),Tr(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Ut(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Q(205,!1)}processProvider(e){let n=Eu(e=N(e))?e:N(e&&e.provide);const r=function TW(t){return TO(t)?Ih(void 0,t.useValue):Ih(QN(t),xC)}(e);if(Eu(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Ih(void 0,xC,!0),i.factory=()=>eu(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===xC&&(n.value=IW,n.value=n.factory()),"object"==typeof n.value&&n.value&&function DW(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=N(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function SO(t){const e=Kl(t),n=null!==e?e.factory:Ma(t);if(null!==n)return n;if(t instanceof fe)throw new Q(204,!1);if(t instanceof Function)return function bW(t){const e=t.length;if(e>0)throw $c(e,"?"),new Q(204,!1);const n=function dv(t){return t&&(t[Zl]||t[hv])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Q(204,!1)}function QN(t,e,n){let r;if(Eu(t)){const i=N(t);return Ma(i)||SO(i)}if(TO(t))r=()=>N(t.useValue);else if(function YN(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...eu(t.deps||[]));else if(function ZN(t){return!(!t||!t.useExisting)}(t))r=()=>re(N(t.useExisting));else{const i=N(t&&(t.useClass||t.provide));if(!function AW(t){return!!t.deps}(t))return Ma(i)||SO(i);r=()=>new i(...eu(t.deps))}return r}function Ih(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function RO(t,e){for(const n of t)Array.isArray(n)?RO(n,e):n&&xe(n)?RO(n.\u0275providers,e):e(n)}const FC=new fe("AppId",{providedIn:"root",factory:()=>RW}),RW="ng",XN=new fe("Platform Initializer"),mo=new fe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),JN=new fe("CSP nonce",{providedIn:"root",factory:()=>function Mh(){if(void 0!==vO)return vO;if(typeof document<"u")return document;throw new Q(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let e2=(t,e,n)=>null;function BO(t,e,n=!1){return e2(t,e,n)}class $W{}class r2{}class zW{resolveComponentFactory(e){throw function HW(t){const e=Error(`No component factory found for ${Ut(t)}.`);return e.ngComponent=t,e}(e)}}let $C=(()=>{class e{}return e.NULL=new zW,e})();function GW(){return Ah(Pr(),ae())}function Ah(t,e){return new Ri(li(t,e))}let Ri=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=GW,e})();function WW(t){return t instanceof Ri?t.nativeElement:t}class o2{}let Na=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function qW(){const t=ae(),n=Di(Pr().index,t);return(ai(n)?n:t)[We]}(),e})(),KW=(()=>{var t;class e{}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:()=>null}),e})();class Dh{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const HO=new Dh("16.2.6"),zO={};function l2(t,e=null,n=null,r){const i=u2(t,e,n,r);return i.resolveInjectorInitializers(),i}function u2(t,e=null,n=null,r,i=new Set){const o=[n||It,EW(t)];return r=r||("object"==typeof t?void 0:Ut(t)),new NC(o,e||kC(),r||null,i)}let xi=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return l2({name:""},i,r,"");{const o=r.name??"";return l2({name:o},r.parent,r.providers,o)}}}return(t=e).THROW_IF_NOT_FOUND=oi,t.NULL=new OO,t.\u0275prov=be({token:t,providedIn:"any",factory:()=>re(GN)}),t.__NG_ELEMENT_ID__=-1,e})();function WO(t){return t.ngOriginalError}class Fa{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&WO(e);for(;n&&WO(n);)n=WO(n);return n||null}}function KO(t){return e=>{setTimeout(t,void 0,e)}}const En=class tq extends Y{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=KO(o),i&&(i=KO(i)),s&&(s=KO(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Pt&&e.add(a),a}};function h2(...t){}class Tt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new En(!1),this.onMicrotaskEmpty=new En(!1),this.onStable=new En(!1),this.onError=new En(!1),typeof Zone>"u")throw new Q(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function nq(){const t="function"==typeof Gt.requestAnimationFrame;let e=Gt[t?"requestAnimationFrame":"setTimeout"],n=Gt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function oq(t){const e=()=>{!function iq(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Gt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,YO(t),t.isCheckStableRunning=!0,ZO(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),YO(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function aq(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return p2(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),f2(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return p2(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),f2(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,YO(t),ZO(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Tt.isInAngularZone())throw new Q(909,!1)}static assertNotInAngularZone(){if(Tt.isInAngularZone())throw new Q(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,rq,h2,h2);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const rq={};function ZO(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function YO(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function p2(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function f2(t){t._nesting--,ZO(t)}class sq{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new En,this.onMicrotaskEmpty=new En,this.onStable=new En,this.onError=new En}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const g2=new fe("",{providedIn:"root",factory:m2});function m2(){const t=we(Tt);let e=!0;return ee(new st(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new st(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{Tt.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=t.onUnstable.subscribe(()=>{Tt.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(ze()))}function Mu(t){return t.ownerDocument}function La(t){return t instanceof Function?t():t}let QO=(()=>{var t;class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:()=>new t}),e})();function em(t){for(;t;){t[Qe]|=64;const e=Gg(t);if(Av(t)&&!e)return t;t=e}return null}const w2=new fe("",{providedIn:"root",factory:()=>!1});let zC=null;function O2(t,e){return t[e]??T2()}function I2(t,e){const n=T2();n.producerNode?.length&&(t[e]=zC,n.lView=t,zC=b2())}const mq={...Gd,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{em(t.lView)},lView:null};function b2(){return Object.create(mq)}function T2(){return zC??=b2(),zC}const Je={};function F(t){A2(Ct(),ae(),qr()+t,!1)}function A2(t,e,n,r){if(!r)if(3==(3&e[Qe])){const o=t.preOrderCheckHooks;null!==o&&kc(e,o,n)}else{const o=t.preOrderHooks;null!==o&&ah(e,o,0,n)}Aa(n)}function X(t,e=pt.Default){const n=ae();return null===n?re(t,e):sC(Pr(),n,N(t),e)}function GC(t,e,n,r,i,o,s,a,c,l,h){const f=e.blueprint.slice();return f[on]=i,f[Qe]=140|r,(null!==l||t&&2048&t[Qe])&&(f[Qe]|=2048),jv(f),f[Wt]=f[Bs]=t,f[gn]=n,f[Us]=s||t&&t[Us],f[We]=a||t&&t[We],f[Vs]=c||t&&t[Vs]||null,f[ar]=o,f[su]=function OG(){return MG++}(),f[po]=h,f[Ov]=l,f[Sn]=2==e.type?t[Sn]:f,f}function xh(t,e,n,r,i){let o=t.data[e];if(null===o)o=function XO(t,e,n,r,i){const o=nh(),s=rh(),c=t.data[e]=function Mq(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Ta()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(t,e,n,r,i),function RM(){return je.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function js(){const t=je.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Yi(o,!0),o}function tm(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function S2(t,e,n,r,i){const o=O2(e,au),s=qr(),a=2&r;try{Aa(-1),a&&e.length>ut&&A2(t,e,ut,!1),Lo(a?2:0,i);const l=a?o:null,h=Wd(l);try{null!==l&&(l.dirty=!1),n(r,i)}finally{Oa(l,h)}}finally{a&&null===e[au]&&I2(e,au),Aa(s),Lo(a?3:1,i)}}function JO(t,e,n){if(Tv(e)){const r=Zi(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{Zi(r)}}}function eI(t,e,n){_g()&&(function Sq(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;Ic(n)&&function Vq(t,e,n){const r=li(e,t),i=R2(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=WC(t,GC(t,i,null,s,r,e,null,t[Us].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Fc(n,e),ui(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const c=t.data[a],l=Sa(e,t,a,n);ui(l,e),null!==s&&Uq(0,a-i,l,c,0,s),Fo(c)&&(Di(n.index,e)[gn]=Sa(e,t,a,n))}}(t,e,n,li(n,e)),64==(64&n.flags)&&L2(t,e,n))}function tI(t,e,n=li){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function R2(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=nI(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function nI(t,e,n,r,i,o,s,a,c,l,h){const f=ut+r,m=f+i,v=function yq(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Je);return n}(f,m),E="function"==typeof l?l():l;return v[Pe]={type:t,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:E,incompleteFirstPass:!1,ssrId:h}}let x2=t=>null;function k2(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const o=t[i];null===r?N2(n,e,i,o):r.hasOwnProperty(i)&&N2(n,e,r[i],o)}return n}function N2(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function _o(t,e,n,r,i,o,s,a){const c=li(e,n);let h,l=e.inputs;!a&&null!=l&&(h=l[r])?(aI(t,n,h,r,i),Ic(e)&&function bq(t,e){const n=Di(e,t);16&n[Qe]||(n[Qe]|=64)}(n,e.index)):3&e.type&&(r=function Iq(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(c,r,i))}function rI(t,e,n,r){if(_g()){const i=null===r?null:{"":-1},o=function xq(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(Ld(e,s.selectors,!1))if(r||(r=[]),Fo(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),iI(t,e,a.length)}else r.unshift(s),iI(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&F2(t,e,n,s,i,a),i&&function kq(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new Q(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=nu(n.mergedAttrs,n.attrs)}function F2(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Sg(Fc(n,e),t,r[l].type);!function Fq(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,c=tm(t,e,r.length,null);for(let l=0;l<r.length;l++){const h=r[l];n.mergedAttrs=nu(n.mergedAttrs,h.hostAttrs),Lq(t,n,e,c,h),Nq(c,h,i),null!==h.contentQueries&&(n.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(n.flags|=64);const f=h.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function Oq(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let c=null,l=null;for(let h=e.directiveStart;h<i;h++){const f=o[h],m=n?n.get(f):null,E=m?m.outputs:null;c=k2(f.inputs,h,c,m?m.inputs:null),l=k2(f.outputs,h,l,E);const I=null===c||null===s||ru(e)?null:Bq(c,h,s);a.push(I)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(t,n,o)}function L2(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function xM(){return je.lFrame.currentDirectiveIndex}();try{Aa(o);for(let a=r;a<i;a++){const c=t.data[a],l=e[a];Pg(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&Rq(c,l)}}finally{Aa(-1),Pg(s)}}function Rq(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function iI(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Nq(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Fo(e)&&(n[""]=t)}}function Lq(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=Ma(i.type)),s=new Da(o,Fo(i),X);t.blueprint[r]=s,n[r]=s,function Aq(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function Dq(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,tm(t,n,i.hostVars,Je),i)}function zs(t,e,n,r,i,o){const s=li(t,e);!function oI(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?De(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[We],s,o,t.value,n,r,i)}function Uq(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)V2(r,n,s[a++],s[a++],s[a++])}function V2(t,e,n,r,i){const o=Zi(null);try{const s=t.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{Zi(o)}}function Bq(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function U2(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function B2(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=t.data[o];xc(n[r]),s.contentQueries(2,e[o],o)}}}function WC(t,e){return t[Ca]?t[Mv][ho]=e:t[Ca]=e,t[Mv]=e,e}function sI(t,e,n){xc(0);const r=Zi(null);try{e(t,n)}finally{Zi(r)}}function j2(t){return t[Mc]||(t[Mc]=[])}function $2(t){return t.cleanup||(t.cleanup=[])}function z2(t,e){const n=t[Vs],r=n?n.get(Fa,null):null;r&&r.handleError(e)}function aI(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];V2(t.data[s],e[s],r,a,i)}}function jq(t,e){const n=Di(e,t),r=n[Pe];!function $q(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[on];null!==i&&null===n[po]&&(n[po]=BO(i,n[Vs])),cI(r,n,n[gn])}function cI(t,e,n){Eg(e);try{const r=t.viewQuery;null!==r&&sI(1,r,n);const i=t.template;null!==i&&S2(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&B2(t,e),t.staticViewQueries&&sI(2,t.viewQuery,n);const o=t.components;null!==o&&function Hq(t,e){for(let n=0;n<e.length;n++)jq(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Qe]&=-5,Mg()}}let G2=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,o){const s=typeof Zone>"u"?null:Zone.current,a=function _M(t,e,n){const r=Object.create(yM);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>uu(r),run:()=>{if(r.dirty=!1,r.hasRun&&!du(r))return;r.hasRun=!0;const s=Wd(r);try{r.cleanupFn(),r.cleanupFn=lg,r.fn(i)}finally{Oa(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(r,h=>{this.all.has(h)&&this.queue.set(h,s)},o);let c;this.all.add(a),a.notify();const l=()=>{a.cleanup(),c?.(),this.all.delete(a),this.queue.delete(a)};return c=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:()=>new t}),e})();function qC(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=ls(i,a):2==o&&(r=ls(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function nm(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];null!==o&&r.push(bt(o)),Wr(o)&&W2(o,r);const s=n.type;if(8&s)nm(t,e,n.child,r);else if(32&s){const a=uO(n,e);let c;for(;c=a();)r.push(c)}else if(16&s){const a=TN(e,n);if(Array.isArray(a))r.push(...a);else{const c=Gg(e[Sn]);nm(c[Pe],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function W2(t,e){for(let n=Ar;n<t.length;n++){const r=t[n],i=r[Pe].firstChild;null!==i&&nm(r[Pe],r,i,e)}t[No]!==t[on]&&e.push(t[No])}function KC(t,e,n,r=!0){const i=e[Us],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{q2(t,e,t.template,n)}catch(c){throw r&&z2(e,c),c}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function q2(t,e,n,r){const i=e[Qe];if(256!=(256&i)){e[Us].effectManager?.flush(),Eg(e);try{jv(e),function Cg(t){return je.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&S2(t,e,n,2,r);const s=3==(3&i);if(s){const l=t.preOrderCheckHooks;null!==l&&kc(e,l,null)}else{const l=t.preOrderHooks;null!==l&&ah(e,l,0,null),ch(e,0)}if(function Wq(t){for(let e=mN(t);null!==e;e=_N(e)){if(!e[Iv])continue;const n=e[cu];for(let r=0;r<n.length;r++){fg(n[r])}}}(e),K2(e,2),null!==t.contentQueries&&B2(t,e),s){const l=t.contentCheckHooks;null!==l&&kc(e,l)}else{const l=t.contentHooks;null!==l&&ah(e,l,1),ch(e,1)}!function _q(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=O2(e,ko);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)Aa(~o);else{const s=o,a=n[++i],c=n[++i];wg(a,s),r.dirty=!1;const l=Wd(r);try{c(2,e[s])}finally{Oa(r,l)}}}}finally{null===e[ko]&&I2(e,ko),Aa(-1)}}(t,e);const a=t.components;null!==a&&Y2(e,a,0);const c=t.viewQuery;if(null!==c&&sI(2,c,r),s){const l=t.viewCheckHooks;null!==l&&kc(e,l)}else{const l=t.viewHooks;null!==l&&ah(e,l,2),ch(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[Qe]&=-73,eh(e)}finally{Mg()}}}function K2(t,e){for(let n=mN(t);null!==n;n=_N(n))for(let r=Ar;r<n.length;r++)Z2(n[r],e)}function qq(t,e,n){Z2(Di(e,t),n)}function Z2(t,e){if(!function pg(t){return 128==(128&t[Qe])}(t))return;const n=t[Pe],r=t[Qe];if(80&r&&0===e||1024&r||2===e)q2(n,t,n.template,t[gn]);else if(t[ou]>0){K2(t,1);const i=n.components;null!==i&&Y2(t,i,1)}}function Y2(t,e,n){for(let r=0;r<e.length;r++)qq(t,e[r],n)}class rm{get rootNodes(){const e=this._lView,n=e[Pe];return nm(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[gn]}set context(e){this._lView[gn]=e}get destroyed(){return 256==(256&this._lView[Qe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Wt];if(Wr(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(OC(e,r),fo(n,r))}this._attachedToViewContainer=!1}hO(this._lView[Pe],this._lView)}onDestroy(e){!function Rc(t,e){if(256==(256&t[Qe]))throw new Q(911,!1);null===t[ds]&&(t[ds]=[]),t[ds].push(e)}(this._lView,e)}markForCheck(){em(this._cdRefInjectingView||this._lView)}detach(){this._lView[Qe]&=-129}reattach(){this._lView[Qe]|=128}detectChanges(){KC(this._lView[Pe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function UG(t,e){qg(t,e,e[We],2,null,null)}(this._lView[Pe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Q(902,!1);this._appRef=e}}class Kq extends rm{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;KC(e[Pe],e,e[gn],!1)}checkNoChanges(){}get context(){return null}}class Q2 extends $C{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=mt(e);return new im(n,this.ngModule)}}function X2(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Yq{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Bf(r);const i=this.injector.get(e,zO,r);return i!==zO||n===zO?i:this.parentInjector.get(e,n,r)}}class im extends r2{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=X2(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return X2(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function oM(t){return t.map(Kf).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof go?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new Yq(e,o):e,a=s.get(o2,null);if(null===a)throw new Q(407,!1);const f={rendererFactory:a,sanitizer:s.get(KW,null),effectManager:s.get(G2,null),afterRenderEventManager:s.get(QO,null)},m=a.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",E=r?function vq(t,e,n,r){const o=r.get(w2,!1)||n===uo.ShadowDom,s=t.selectRootElement(e,o);return function Cq(t){x2(t)}(s),s}(m,r,this.componentDef.encapsulation,s):MC(m,v,function Zq(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(v)),L=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let k=null;null!==E&&(k=BO(E,s,!0));const H=nI(0,null,null,1,0,null,null,null,null,null,null),$=GC(null,H,null,L,null,null,f,m,s,null,k);let pe,Oe;Eg($);try{const at=this.componentDef;let Zt,co=null;at.findHostDirectiveDefs?(Zt=[],co=new Map,at.findHostDirectiveDefs(at,Zt,co),Zt.push(at)):Zt=[at];const Af=function Xq(t,e){const n=t[Pe],r=ut;return t[r]=e,xh(n,r,2,"#host",null)}($,E),M0e=function Jq(t,e,n,r,i,o,s){const a=i[Pe];!function eK(t,e,n,r){for(const i of t)e.mergedAttrs=nu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(qC(e,e.mergedAttrs,!0),null!==n&&RN(r,n,e))}(r,t,e,s);let c=null;null!==e&&(c=BO(e,i[Vs]));const l=o.rendererFactory.createRenderer(e,n);let h=16;n.signals?h=4096:n.onPush&&(h=64);const f=GC(i,R2(n),null,h,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&iI(a,t,r.length-1),WC(i,f),i[t.index]=f}(Af,E,at,Zt,$,f,m);Oe=Jd(H,ut),E&&function nK(t,e,n,r){if(r)Pc(t,n,["ng-version",HO.full]);else{const{attrs:i,classes:o}=function Zf(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Ai(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Pc(t,n,i),o&&o.length>0&&SN(t,n,o.join(" "))}}(m,at,E,r),void 0!==n&&function rK(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(Oe,this.ngContentSelectors,n),pe=function tK(t,e,n,r,i,o){const s=Pr(),a=i[Pe],c=li(s,i);F2(a,i,s,n,null,r);for(let h=0;h<n.length;h++)ui(Sa(i,a,s.directiveStart+h,s),i);L2(a,i,s),c&&ui(c,i);const l=Sa(i,a,s.directiveStart+s.componentOffset,s);if(t[gn]=i[gn]=l,null!==o)for(const h of o)h(l,e);return JO(a,s,t),l}(M0e,at,Zt,co,$,[iK]),cI(H,$,null)}finally{Mg()}return new Qq(this.componentType,pe,Ah(Oe,$),$,Oe)}}class Qq extends $W{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Kq(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;aI(o[Pe],o,i,e,n),this.previousInputValues.set(e,n),em(Di(this._tNode.index,o))}}get injector(){return new Kr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function iK(){const t=Pr();sh(ae()[Pe],t)}function Bt(t){let e=function J2(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Fo(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Q(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=ZC(t.inputs),s.inputTransforms=ZC(t.inputTransforms),s.declaredInputs=ZC(t.declaredInputs),s.outputs=ZC(t.outputs);const a=i.hostBindings;a&&cK(t,a);const c=i.viewQuery,l=i.contentQueries;if(c&&sK(t,c),l&&aK(t,l),sr(t.inputs,i.inputs),sr(t.declaredInputs,i.declaredInputs),sr(t.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),sr(s.inputTransforms,i.inputTransforms)),Fo(i)&&i.data.animation){const h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===Bt&&(n=!1)}}e=Object.getPrototypeOf(e)}!function oK(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=nu(i.hostAttrs,n=nu(n,i.hostAttrs))}}(r)}function ZC(t){return t===zr?{}:t===It?[]:t}function sK(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function aK(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function cK(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function rF(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function YC(t){return!!lI(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function lI(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Gs(t,e,n){return t[e]=n}function di(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Wo(t,e,n,r){const i=ae();return di(i,$s(),e)&&(Ct(),zs(mn(),i,t,e,n,r)),Wo}function Nh(t,e,n,r){return di(t,$s(),n)?e+De(n)+r:Je}function Fe(t,e,n,r,i,o,s,a){const c=ae(),l=Ct(),h=t+ut,f=l.firstCreatePass?function xK(t,e,n,r,i,o,s,a,c){const l=e.consts,h=xh(e,t,4,s||null,Vo(l,a));rI(e,n,h,Vo(l,c)),sh(e,h);const f=h.tView=nI(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,h),f.queries=e.queries.embeddedTView(h)),h}(h,l,c,e,n,r,i,o,s):l.data[h];Yi(f,!1);const m=mF(l,c,f,t);oh()&&bC(l,c,m,f),ui(m,c),WC(c,c[h]=U2(m,c,m,f)),tg(f)&&eI(l,c,f),null!=s&&tI(c,f,a)}let mF=function _F(t,e,n,r){return Uo(!0),e[We].createComment("")};function ie(t,e,n){const r=ae();return di(r,$s(),e)&&_o(Ct(),mn(),r,t,e,r[We],n,!1),ie}function gI(t,e,n,r,i){const s=i?"class":"style";aI(t,n,e.inputs[s],s,r)}function _(t,e,n,r){const i=ae(),o=Ct(),s=ut+t,a=i[We],c=o.firstCreatePass?function LK(t,e,n,r,i,o){const s=e.consts,c=xh(e,t,2,r,Vo(s,i));return rI(e,n,c,Vo(s,o)),null!==c.attrs&&qC(c,c.attrs,!1),null!==c.mergedAttrs&&qC(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,e,n,r):o.data[s],l=vF(o,i,c,a,e,t);i[s]=l;const h=tg(c);return Yi(c,!0),RN(a,l,c),32!=(32&c.flags)&&oh()&&bC(o,i,l,c),0===function gg(){return je.lFrame.elementDepthCount}()&&ui(l,i),function OM(){je.lFrame.elementDepthCount++}(),h&&(eI(o,i,c),JO(o,c,i)),null!==r&&tI(i,c),_}function y(){let t=Pr();rh()?fu():(t=t.parent,Yi(t,!1));const e=t;(function IM(t){return je.skipHydrationRootTNode===t})(e)&&function AM(){je.skipHydrationRootTNode=null}(),function mg(){je.lFrame.elementDepthCount--}();const n=Ct();return n.firstCreatePass&&(sh(n,t),Tv(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function jM(t){return 0!=(8&t.flags)}(e)&&gI(n,e,ae(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function $M(t){return 0!=(16&t.flags)}(e)&&gI(n,e,ae(),e.stylesWithoutHost,!1),y}function T(t,e,n,r){return _(t,e,n,r),y(),T}let vF=(t,e,n,r,i,o)=>(Uo(!0),MC(r,i,function Xv(){return je.lFrame.currentNamespace}()));function Hh(t,e,n){const r=ae(),i=Ct(),o=t+ut,s=i.firstCreatePass?function BK(t,e,n,r,i){const o=e.consts,s=Vo(o,r),a=xh(e,t,8,"ng-container",s);return null!==s&&qC(a,s,!0),rI(e,n,a,Vo(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];Yi(s,!0);const a=wF(i,r,s,t);return r[o]=a,oh()&&bC(i,r,a,s),ui(a,r),tg(s)&&(eI(i,r,s),JO(i,s,r)),null!=n&&tI(r,s),Hh}function zh(){let t=Pr();const e=Ct();return rh()?fu():(t=t.parent,Yi(t,!1)),e.firstCreatePass&&(sh(e,t),Tv(t)&&e.queries.elementEnd(t)),zh}let wF=(t,e,n,r)=>(Uo(!0),dO(e[We],""));function Ji(){return ae()}function lm(t){return!!t&&"function"==typeof t.then}function PF(t){return!!t&&"function"==typeof t.subscribe}function J(t,e,n,r){const i=ae(),o=Ct(),s=Pr();return function MF(t,e,n,r,i,o,s){const a=tg(r),l=t.firstCreatePass&&$2(t),h=e[gn],f=j2(e);let m=!0;if(3&r.type||s){const I=li(r,e),b=s?s(I):I,L=f.length,k=s?$=>s(bt($[r.index])):r.index;let H=null;if(!s&&a&&(H=function HK(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[Mc],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==H)(H.__ngLastListenerFn__||H).__ngNextListenerFn__=o,H.__ngLastListenerFn__=o,m=!1;else{o=IF(r,e,h,o,!1);const $=n.listen(b,i,o);f.push(o,$),l&&l.push(i,k,L,L+1)}}else o=IF(r,e,h,o,!1);const v=r.outputs;let E;if(m&&null!==v&&(E=v[i])){const I=E.length;if(I)for(let b=0;b<I;b+=2){const pe=e[E[b]][E[b+1]].subscribe(o),Oe=f.length;f.push(o,pe),l&&l.push(i,r.index,Oe,-(Oe+1))}}}(o,i,i[We],s,t,e,r),J}function OF(t,e,n,r){try{return Lo(6,e,n),!1!==n(r)}catch(i){return z2(t,i),!1}finally{Lo(7,e,n)}}function IF(t,e,n,r,i){return function o(s){if(s===Function)return r;em(t.componentOffset>-1?Di(t.index,e):e);let c=OF(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)c=OF(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&s.preventDefault(),c}}function Mn(t=1){return function Og(t){return(je.lFrame.contextLView=function NM(t,e){for(;t>0;)e=e[Bs],t--;return e}(t,je.lFrame.contextLView))[gn]}(t)}function zK(t,e){let n=null;const r=function Vd(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?Ld(t,o,!0):Wf(r,o))return i}else n=i}return n}function um(t,e,n){return dm(t,"",e,"",n),um}function dm(t,e,n,r,i){const o=ae(),s=Nh(o,e,n,r);return s!==Je&&_o(Ct(),mn(),o,t,s,o[We],i,!1),dm}function tw(t,e){return t<<17|e<<2}function Gc(t){return t>>17&32767}function mI(t){return 2|t}function Iu(t){return(131068&t)>>2}function _I(t,e){return-131069&t|e<<2}function yI(t){return 1|t}function LF(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Gc(o):Iu(o),c=!1;for(;0!==a&&(!1===c||s);){const h=t[a+1];YK(t[a],e)&&(c=!0,t[a+1]=r?yI(h):mI(h)),a=r?Gc(h):Iu(h)}c&&(t[n+1]=r?mI(o):yI(o))}function YK(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Hs(t,e)>=0}function qo(t,e){return function gs(t,e,n,r){const i=ae(),o=Ct(),s=function ps(t){const e=je.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);o.firstUpdatePass&&function WF(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[qr()],s=function GF(t,e){return e>=t.expandoStartIndex}(t,n);(function YF(t,e){return 0!=(t.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function oZ(t,e,n,r){const i=function ih(t){const e=je.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=hm(n=vI(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=vI(i,t,e,n,r),null===o){let c=function sZ(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Iu(r))return t[Gc(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=vI(null,t,e,c[1],r),c=hm(c,e.attrs,r),function aZ(t,e,n,r){t[Gc(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else o=function cZ(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=hm(r,t[o].hostAttrs,n);return hm(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function KK(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Gc(s),c=Iu(s);t[r]=n;let h,l=!1;if(Array.isArray(n)?(h=n[1],(null===h||Hs(n,h)>0)&&(l=!0)):h=n,i)if(0!==c){const m=Gc(t[a+1]);t[r+1]=tw(m,a),0!==m&&(t[m+1]=_I(t[m+1],r)),t[a+1]=function WK(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=tw(a,0),0!==a&&(t[a+1]=_I(t[a+1],r)),a=r;else t[r+1]=tw(c,0),0===a?a=r:t[c+1]=_I(t[c+1],r),c=r;l&&(t[r+1]=mI(t[r+1])),LF(t,h,r,!0),LF(t,h,r,!1),function ZK(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Hs(o,e)>=0&&(n[r+1]=yI(n[r+1]))}(e,h,t,r,o),s=tw(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==Je&&di(i,s,e)&&function KF(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const c=t.data,l=c[a+1],h=function qK(t){return 1==(1&t)}(l)?ZF(c,e,n,i,Iu(l),s):void 0;nw(h)||(nw(o)||function GK(t){return 2==(2&t)}(l)&&(o=ZF(c,null,n,i,a,s)),function ZG(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:Hc.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Hc.Important),t.setStyle(n,r,i,o))}}(r,s,Xd(qr(),n),i,o))}(o,o.data[qr()],i,i[We],t,i[s+1]=function hZ(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Ut(zc(t)))),t}(e,n),r,s)}(t,e,null,!0),qo}function vI(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=hm(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function hm(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),qt(t,s,!!n||e[++o]))}return void 0===t?null:t}function ZF(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const c=t[i],l=Array.isArray(c),h=l?c[1]:c,f=null===h;let m=n[i+1];m===Je&&(m=f?It:void 0);let v=f?yu(m,r):h===r?m:void 0;if(l&&!nw(v)&&(v=yu(c,r)),nw(v)&&(a=v,s))return a;const E=t[i+1];i=s?Gc(E):Iu(E)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=yu(c,r))}return a}function nw(t){return void 0!==t}function w(t,e=""){const n=ae(),r=Ct(),i=t+ut,o=r.firstCreatePass?xh(r,i,1,e,null):r.data[i],s=QF(r,n,o,e,t);n[i]=s,oh()&&bC(r,n,s,o),Yi(o,!1)}let QF=(t,e,n,r,i)=>(Uo(!0),function EC(t,e){return t.createText(e)}(e[We],r));function et(t){return Lt("",t,""),et}function Lt(t,e,n){const r=ae(),i=Nh(r,t,e,n);return i!==Je&&function Va(t,e,n){const r=Xd(e,t);!function vN(t,e,n){t.setValue(e,n)}(t[We],r,n)}(r,qr(),i),Lt}const qh="en-US";let vL=qh;function PI(t,e,n,r,i){if(t=N(t),Array.isArray(t))for(let o=0;o<t.length;o++)PI(t[o],e,n,r,i);else{const o=Ct(),s=ae(),a=Pr();let c=Eu(t)?t:N(t.provide);const l=QN(t),h=1048575&a.providerIndexes,f=a.directiveStart,m=a.providerIndexes>>20;if(Eu(t)||!t.multi){const v=new Da(l,i,X),E=MI(c,e,i?h:h+m,f);-1===E?(Sg(Fc(a,s),o,c),EI(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),s.push(v)):(n[E]=v,s[E]=v)}else{const v=MI(c,e,h+m,f),E=MI(c,e,h,h+m),b=E>=0&&n[E];if(i&&!b||!i&&!(v>=0&&n[v])){Sg(Fc(a,s),o,c);const L=function xY(t,e,n,r,i){const o=new Da(t,n,X);return o.multi=[],o.index=e,o.componentProviders=0,zL(o,i,r&&!n),o}(i?RY:SY,n.length,i,r,l);!i&&b&&(n[E].providerFactory=L),EI(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(L),s.push(L)}else EI(o,t,v>-1?v:E,zL(n[i?E:v],l,!i&&r));!i&&r&&b&&n[E].componentProviders++}}}function EI(t,e,n,r){const i=Eu(e),o=function OW(t){return!!t.useClass}(e);if(i||o){const c=(o?N(e.useClass):e).prototype.ngOnDestroy;if(c){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const h=l.indexOf(n);-1===h?l.push(n,[r,c]):l[h+1].push(r,c)}else l.push(n,c)}}}function zL(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function MI(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function SY(t,e,n,r){return OI(this.multi,[])}function RY(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Sa(n,n[Pe],this.providerFactory.index,r);o=a.slice(0,s),OI(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],OI(i,o);return o}function OI(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function On(t,e=[]){return n=>{n.providersResolver=(r,i)=>function DY(t,e,n){const r=Ct();if(r.firstCreatePass){const i=Fo(t);PI(n,r.data,r.blueprint,i,!0),PI(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Tu{}class GL{}class II extends Tu{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Q2(this);const i=Gr(e);this._bootstrapComponents=La(i.bootstrap),this._r3Injector=u2(e,n,[{provide:Tu,useValue:this},{provide:$C,useValue:this.componentFactoryResolver},...r],Ut(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class bI extends GL{constructor(e){super(),this.moduleType=e}create(e){return new II(this.moduleType,e,[])}}class WL extends Tu{constructor(e){super(),this.componentFactoryResolver=new Q2(this),this.instance=null;const n=new NC([...e.providers,{provide:Tu,useValue:this},{provide:$C,useValue:this.componentFactoryResolver}],e.parent||kC(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function TI(t,e,n=null){return new WL({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let FY=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=qN(0,r.type),o=i.length>0?TI([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=be({token:t,providedIn:"environment",factory:()=>new t(re(go))}),e})();function qL(t){t.getStandaloneInjector=e=>e.get(FY).getOrCreateStandaloneInjector(t)}function yo(t,e,n,r){return function tV(t,e,n,r,i,o){const s=e+n;return di(t,s,i)?Gs(t,s+1,o?r.call(o,i):r(i)):ym(t,s+1)}(ae(),Dr(),t,e,n,r)}function eV(t,e,n,r,i){return function nV(t,e,n,r,i,o,s){const a=e+n;return function Ou(t,e,n,r){const i=di(t,e,n);return di(t,e+1,r)||i}(t,a,i,o)?Gs(t,a+2,s?r.call(s,i,o):r(i,o)):ym(t,a+2)}(ae(),Dr(),t,e,n,r,i)}function ym(t,e){const n=t[e];return n===Je?void 0:n}function sQ(){return this._results[Symbol.iterator]()}class DI{get changes(){return this._changes||(this._changes=new En)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=DI.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=sQ)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function Qi(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Lg(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function cQ(t,e,n,r=!0){const i=e[Pe];if(function jG(t,e,n,r){const i=Ar+r,o=n.length;r>0&&(n[i-1][ho]=e),r<o-Ar?(e[ho]=n[i],hC(n,Ar+r,e)):(n.push(e),e[ho]=null),e[Wt]=n;const s=e[wa];null!==s&&n!==s&&function $G(t,e){const n=t[cu];e[Sn]!==e[Wt][Wt][Sn]&&(t[Iv]=!0),null===n?t[cu]=[e]:n.push(e)}(s,e);const a=e[qi];null!==a&&a.insertView(t),e[Qe]|=128}(i,e,t,n),r){const o=mO(n,t),s=e[We],a=IC(s,t[No]);null!==a&&function VG(t,e,n,r,i,o){r[on]=i,r[ar]=e,qg(t,r,n,1,i,o)}(i,t[ar],s,e,a,o)}}let Ua=(()=>{class e{}return e.__NG_ELEMENT_ID__=dQ,e})();const lQ=Ua,uQ=class extends lQ{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function aQ(t,e,n,r){const i=e.tView,a=GC(t,i,n,4096&t[Qe]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[wa]=t[e.index];const l=t[qi];return null!==l&&(a[qi]=l.createEmbeddedView(i)),cI(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new rm(i)}};function dQ(){return aw(Pr(),ae())}function aw(t,e){return 4&t.type?new uQ(e,t,Ah(t,e)):null}let _s=(()=>{class e{}return e.__NG_ELEMENT_ID__=_Q,e})();function _Q(){return hV(Pr(),ae())}const yQ=_s,uV=class extends yQ{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ah(this._hostTNode,this._hostLView)}get injector(){return new Kr(this._hostTNode,this._hostLView)}get parentInjector(){const e=Lc(this._hostTNode,this._hostLView);if(Tg(e)){const n=dh(e,this._hostLView),r=Nc(e);return new Kr(n[Pe].data[r+8],n)}return new Kr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=dV(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Ar}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,o){const s=e&&!function Ra(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const I=n||{};a=I.index,r=I.injector,i=I.projectableNodes,o=I.environmentInjector||I.ngModuleRef}const c=s?e:new im(mt(e)),l=r||this.parentInjector;if(!o&&null==c.ngModule){const b=(s?l:this.parentInjector).get(go,null);b&&(o=b)}mt(c.componentType??{});const v=c.create(l,i,null,o);return this.insertImpl(v.hostView,a,false),v}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function EM(t){return Wr(t[Wt])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=i[Wt],h=new uV(l,l[ar],l[Wt]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),a=this._lContainer;return cQ(a,i,s,!r),e.attachToViewContainerRef(),hC(SI(a),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=dV(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=OC(this._lContainer,n);r&&(fo(SI(this._lContainer),n),hO(r[Pe],r))}detach(e){const n=this._adjustIndex(e,-1),r=OC(this._lContainer,n);return r&&null!=fo(SI(this._lContainer),n)?new rm(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function dV(t){return t[8]}function SI(t){return t[8]||(t[8]=[])}function hV(t,e){let n;const r=e[t.index];return Wr(r)?n=r:(n=U2(r,e,null,t),e[t.index]=n,WC(e,n)),pV(n,e,t,r),new uV(n,t,e)}let pV=function fV(t,e,n,r){if(t[No])return;let i;i=8&n.type?bt(r):function vQ(t,e){const n=t[We],r=n.createComment(""),i=li(e,t);return Pu(n,IC(n,i),r,function WG(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[No]=i};class RI{constructor(e){this.queryList=e,this.matches=null}clone(){return new RI(this.queryList)}setDirty(){this.queryList.setDirty()}}class xI{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new xI(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==CV(e,n).matches&&this.queries[n].setDirty()}}class gV{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class kI{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new kI(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class NI{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new NI(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,n,PQ(n,o)),this.matchTNodeWithReadOption(e,n,fh(n,e,o,!1,!1))}else r===Ua?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,fh(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Ri||i===_s||i===Ua&&4&n.type)this.addMatch(n.index,-2);else{const o=fh(n,e,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function PQ(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function MQ(t,e,n,r){return-1===n?function EQ(t,e){return 11&t.type?Ah(t,e):4&t.type?aw(t,e):null}(e,t):-2===n?function OQ(t,e,n){return n===Ri?Ah(e,t):n===Ua?aw(e,t):n===_s?hV(e,t):void 0}(t,e,r):Sa(t,t[Pe],n,e)}function mV(t,e,n,r){const i=e[qi].queries[r];if(null===i.matches){const o=t.data,s=n.matches,a=[];for(let c=0;c<s.length;c+=2){const l=s[c];a.push(l<0?null:MQ(e,o[l],s[c+1],n.metadata.read))}i.matches=a}return i.matches}function FI(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=mV(t,e,i,n);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const l=o[a+1],h=e[-c];for(let f=Ar;f<h.length;f++){const m=h[f];m[wa]===m[Wt]&&FI(m[Pe],m,l,r)}if(null!==h[cu]){const f=h[cu];for(let m=0;m<f.length;m++){const v=f[m];FI(v[Pe],v,l,r)}}}}}return r}function Bn(t){const e=ae(),n=Ct(),r=Gv();xc(r+1);const i=CV(n,r);if(t.dirty&&function PM(t){return 4==(4&t[Qe])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?FI(n,e,r,[]):mV(n,e,i,r);t.reset(o,WW),t.notifyOnChanges()}return!0}return!1}function Xn(t,e,n){const r=Ct();r.firstCreatePass&&(function vV(t,e,n){null===t.queries&&(t.queries=new kI),t.queries.track(new NI(e,n))}(r,new gV(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function yV(t,e,n){const r=new DI(4==(4&n));(function Eq(t,e,n,r){const i=j2(e);i.push(n),t.firstCreatePass&&$2(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[qi]&&(e[qi]=new xI),e[qi].queries.push(new RI(r))}(r,ae(),e)}function jn(){return function IQ(t,e){return t[qi].queries[e].queryList}(ae(),Gv())}function CV(t,e){return t.queries.getByIndex(e)}function wV(t,e){return aw(t,e)}const $I=new fe("Application Initializer");let HI=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=we($I,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const o of this.appInits){const s=o();if(lm(s))r.push(s);else if(PF(s)){const a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),VV=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const Ba=new fe("LocaleId",{providedIn:"root",factory:()=>we(Ba,pt.Optional|pt.SkipSelf)||function KQ(){return typeof $localize<"u"&&$localize.locale||qh}()});let uw=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new U(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class QQ{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let UV=(()=>{var t;class e{compileModuleSync(r){return new bI(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),s=La(Gr(r).declarations).reduce((a,c)=>{const l=mt(c);return l&&a.push(new im(l)),a},[]);return new QQ(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const HV=new fe(""),hw=new fe("");let KI,WI=(()=>{var t;class e{constructor(r,i,o){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,KI||(function _X(t){KI=t}(o),o.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Tt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:o})}whenStable(r,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,o){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(re(Tt),re(qI),re(hw))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})(),qI=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return KI?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Wc=null;const zV=new fe("AllowMultipleToken"),ZI=new fe("PlatformDestroyListeners"),YI=new fe("appBootstrapListener");class WV{constructor(e,n){this.name=e,this.token=n}}function KV(t,e,n=[]){const r=`Platform: ${e}`,i=new fe(r);return(o=[])=>{let s=QI();if(!s||s.injector.get(zV,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function CX(t){if(Wc&&!Wc.get(zV,!1))throw new Q(400,!1);(function GV(){!function hM(t){Fv=t}(()=>{throw new Q(600,!1)})})(),Wc=t;const e=t.get(YV);(function qV(t){t.get(XN,null)?.forEach(n=>n())})(t)}(function ZV(t=[],e){return xi.create({name:e,providers:[{provide:AO,useValue:"platform"},{provide:ZI,useValue:new Set([()=>Wc=null])},...t]})}(a,r))}return function PX(t){const e=QI();if(!e)throw new Q(401,!1);return e}()}}function QI(){return Wc?.get(YV)??null}let YV=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const o=function EX(t="zone.js",e){return"noop"===t?new sq:"zone.js"===t?new Tt(e):t}(i?.ngZone,function QV(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return o.run(()=>{const s=function NY(t,e,n){return new II(t,e,n)}(r.moduleType,this.injector,function n3(t){return[{provide:Tt,useFactory:t},{provide:Qg,multi:!0,useFactory:()=>{const e=we(OX,{optional:!0});return()=>e.initialize()}},{provide:t3,useFactory:MX},{provide:g2,useFactory:m2}]}(()=>o)),a=s.injector.get(Fa,null);return o.runOutsideAngular(()=>{const c=o.onError.subscribe({next:l=>{a.handleError(l)}});s.onDestroy(()=>{pw(this._modules,s),c.unsubscribe()})}),function XV(t,e,n){try{const r=n();return lm(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,o,()=>{const c=s.injector.get(HI);return c.runInitializers(),c.donePromise.then(()=>(function CL(t){ii(t,"Expected localeId to be defined"),"string"==typeof t&&(vL=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Ba,qh)||qh),this._moduleDoBootstrap(s),s))})})}bootstrapModule(r,i=[]){const o=JV({},i);return function yX(t,e,n){const r=new bI(n);return Promise.resolve(r)}(0,0,r).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(r){const i=r.injector.get(Yh);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(o=>i.bootstrap(o));else{if(!r.instance.ngDoBootstrap)throw new Q(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Q(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(ZI,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(re(xi))},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function JV(t,e){return Array.isArray(e)?e.reduce(JV,t):{...t,...e}}let Yh=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=we(t3),this.zoneIsStable=we(g2),this.componentTypes=[],this.components=[],this.isStable=we(uw).hasPendingTasks.pipe(Ze(r=>r?W(!1):this.zoneIsStable),rn(),ze()),this._injector=we(go)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const o=r instanceof r2;if(!this._injector.get(HI).done)throw!o&&function Ec(t){const e=mt(t)||yr(t)||vr(t);return null!==e&&e.standalone}(r),new Q(405,!1);let a;a=o?r:this._injector.get($C).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const c=function vX(t){return t.isBoundToModule}(a)?void 0:this._injector.get(Tu),h=a.create(xi.NULL,[],i||a.selector,c),f=h.location.nativeElement,m=h.injector.get(HV,null);return m?.registerApplication(f),h.onDestroy(()=>{this.detachView(h.hostView),pw(this.components,h),m?.unregisterApplication(f)}),this._loadComponent(h),h}tick(){if(this._runningTick)throw new Q(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;pw(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(YI,[]);i.push(...this._bootstrapListeners),i.forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>pw(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new Q(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function pw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const t3=new fe("",{providedIn:"root",factory:()=>we(Fa).handleError.bind(void 0)});function MX(){const t=we(Tt),e=we(Fa);return n=>t.runOutsideAngular(()=>e.handleError(n))}let OX=(()=>{var t;class e{constructor(){this.zone=we(Tt),this.applicationRef=we(Yh)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let fw=(()=>{class e{}return e.__NG_ELEMENT_ID__=bX,e})();function bX(t){return function TX(t,e,n){if(Ic(t)&&!n){const r=Di(t.index,e);return new rm(r,r)}return 47&t.type?new rm(e[Sn],e):null}(Pr(),ae(),16==(16&t))}class a3{constructor(){}supports(e){return YC(e)}create(e){return new kX(e)}}const xX=(t,e)=>e;class kX{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||xX}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<l3(r,i,o)?n:r,a=l3(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const l=a-i,h=c-i;if(l!=h){for(let m=0;m<l;m++){const v=m<o.length?o[m]:o[m]=0,E=v+m;h<=E&&E<l&&(o[m]=v+1)}o[s.previousIndex]=h-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!YC(e))throw new Q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function gK(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new NX(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new c3),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new c3),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class NX{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class FX{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class c3{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new FX,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function l3(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class u3{constructor(){}supports(e){return e instanceof Map||lI(e)}create(){return new LX}}class LX{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||lI(e)))throw new Q(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new VX(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class VX{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function d3(){return new _w([new a3])}let _w=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||d3()),deps:[[e,new d,new p]]}}find(r){const i=this.factories.find(o=>o.supports(r));if(null!=i)return i;throw new Q(901,!1)}}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:d3}),e})();function h3(){return new Pm([new u3])}let Pm=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(i){const o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||h3()),deps:[[e,new d,new p]]}}find(r){const i=this.factories.find(o=>o.supports(r));if(i)return i;throw new Q(901,!1)}}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:h3}),e})();const jX=KV(null,"core",[]);let $X=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(re(Yh))},t.\u0275mod=Vn({type:t}),t.\u0275inj=Zn({}),e})();function Qh(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let r1=null;function qc(){return r1}class nJ{}const vo=new fe("DocumentToken");let i1=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return we(iJ)},providedIn:"platform"}),e})();const rJ=new fe("Location Initialized");let iJ=(()=>{var t;class e extends i1{constructor(){super(),this._doc=we(vo),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return qc().getBaseHref(this._doc)}onPopState(r){const i=qc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=qc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function o1(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function w3(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function ja(t){return t&&"?"!==t[0]?"?"+t:t}let Du=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return we(E3)},providedIn:"root"}),e})();const P3=new fe("appBaseHref");let E3=(()=>{var t;class e extends Du{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??we(vo).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return o1(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+ja(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){const a=this.prepareExternalUrl(o+ja(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){const a=this.prepareExternalUrl(o+ja(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(re(i1),re(P3,8))},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),oJ=(()=>{var t;class e extends Du{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(r){const i=o1(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+ja(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+ja(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(re(i1),re(P3,8))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})(),s1=(()=>{var t;class e{constructor(r){this._subject=new En,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function cJ(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(w3(M3(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+ja(i))}normalize(r){return e.stripTrailingSlash(function aJ(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,M3(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ja(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ja(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}}return(t=e).normalizeQueryParams=ja,t.joinWithSlash=o1,t.stripTrailingSlash=w3,t.\u0275fac=function(r){return new(r||t)(re(Du))},t.\u0275prov=be({token:t,factory:function(){return function sJ(){return new s1(re(Du))}()},providedIn:"root"}),e})();function M3(t){return t.replace(/\/index.html$/,"")}function x3(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}const m1=/\s+/,k3=[];let vs=(()=>{var t;class e{constructor(r,i,o,s){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=o,this._renderer=s,this.initialClasses=k3,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(m1):k3}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(m1):r}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const i of r)this._updateState(i,!0);else if(null!=r)for(const i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){const o=this.stateMap.get(r);void 0!==o?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){(r=r.trim()).length>0&&r.split(m1).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return(t=e).\u0275fac=function(r){return new(r||t)(X(_w),X(Pm),X(Ri),X(Na))},t.\u0275dir=Ve({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class qJ{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Cs=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new qJ(o.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const c=i.get(s);i.move(c,a),F3(c,o)}});for(let o=0,s=i.length;o<s;o++){const c=i.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{F3(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(X(_s),X(Ua),X(_w))},t.\u0275dir=Ve({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function F3(t,e){t.context.$implicit=e.item}let wo=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new KJ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){L3("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){L3("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(X(_s),X(Ua))},t.\u0275dir=Ve({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class KJ{constructor(){this.$implicit=null,this.ngIf=null}}function L3(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Ut(e)}'.`)}let vee=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Vn({type:t}),t.\u0275inj=Zn({}),e})();function Aw(t){return"server"===t}let Eee=(()=>{var t;class e{}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:()=>new Mee(re(vo),window)}),e})();class Mee{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function Oee(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class j3{}class Kee extends nJ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class E1 extends Kee{static makeCurrent(){!function tJ(t){r1||(r1=t)}(new E1)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Zee(){return Im=Im||document.querySelector("base"),Im?Im.getAttribute("href"):null}();return null==n?null:function Yee(t){Rw=Rw||document.createElement("a"),Rw.setAttribute("href",t);const e=Rw.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Im=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return x3(document.cookie,e)}}let Rw,Im=null,Xee=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const M1=new fe("EventManagerPlugins");let W3=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new Q(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(re(M1),re(Tt))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();class q3{constructor(e){this._doc=e}}const O1="ng-app-id";let K3=(()=>{var t;class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Aw(s),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${O1}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(o=>{null!=o.textContent&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){const o=this.styleRef;if(o.has(r)){const s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(O1),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(O1,this.appId),a}}addStyleToHost(r,i){const o=this.getStyleElement(r,i);r.appendChild(o);const s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(re(vo),re(FC),re(JN,8),re(mo))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const I1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},b1=/%COMP%/g,nte=new fe("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Y3(t,e){return e.map(n=>n.replace(b1,t))}let Q3=(()=>{var t;class e{constructor(r,i,o,s,a,c,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=Aw(c),this.defaultRenderer=new T1(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===uo.ShadowDom&&(i={...i,encapsulation:uo.Emulated});const o=this.getOrCreateRenderer(r,i);return o instanceof J3?o.applyToHost(r):o instanceof A1&&o.applyStyles(),o}getOrCreateRenderer(r,i){const o=this.rendererByCompId;let s=o.get(i.id);if(!s){const a=this.doc,c=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case uo.Emulated:s=new J3(l,h,i,this.appId,f,a,c,m);break;case uo.ShadowDom:return new ste(l,h,r,i,a,c,this.nonce,m);default:s=new A1(l,h,i,f,a,c,m)}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(re(W3),re(K3),re(FC),re(nte),re(vo),re(mo),re(Tt),re(JN))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();class T1{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(I1[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(X3(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(X3(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new Q(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=I1[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=I1[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Hc.DashCase|Hc.Important)?e.style.setProperty(n,r,i&Hc.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Hc.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=qc().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function X3(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class ste extends T1{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Y3(i.id,i.styles);for(const h of l){const f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class A1 extends T1{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?Y3(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class J3 extends A1{constructor(e,n,r,i,o,s,a,c){const l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=function rte(t){return"_ngcontent-%COMP%".replace(b1,t)}(l),this.hostAttr=function ite(t){return"_nghost-%COMP%".replace(b1,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let ate=(()=>{var t;class e extends q3{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}}return(t=e).\u0275fac=function(r){return new(r||t)(re(vo))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const eU=["alt","control","meta","shift"],cte={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lte={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ute=(()=>{var t;class e extends q3{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,o){const s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>qc().onAndCancel(r,s.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const s=e._normalizeKey(i.pop());let a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),eU.forEach(h=>{const f=i.indexOf(h);f>-1&&(i.splice(f,1),a+=h+".")}),a+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=cte[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),eU.forEach(a=>{a!==o&&(0,lte[a])(r)&&(s+=a+".")}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(re(vo))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const nU=[{provide:mo,useValue:"browser"},{provide:XN,useValue:function dte(){E1.makeCurrent()},multi:!0},{provide:vo,useFactory:function pte(){return function eW(t){vO=t}(document),document},deps:[]}],fte=KV(jX,"browser",nU),gte=new fe(""),rU=[{provide:hw,useClass:class Qee{addToWindow(e){Gt.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Q(5103,!1);return o},Gt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Gt.getAllAngularRootElements=()=>e.getAllRootElements(),Gt.frameworkStabilizers||(Gt.frameworkStabilizers=[]),Gt.frameworkStabilizers.push(r=>{const i=Gt.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(c){s=s||c,o--,0==o&&r(s)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?qc().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:HV,useClass:WI,deps:[Tt,qI,hw]},{provide:WI,useClass:WI,deps:[Tt,qI,hw]}],iU=[{provide:AO,useValue:"root"},{provide:Fa,useFactory:function hte(){return new Fa},deps:[]},{provide:M1,useClass:ate,multi:!0,deps:[vo,Tt,mo]},{provide:M1,useClass:ute,multi:!0,deps:[vo]},Q3,K3,W3,{provide:o2,useExisting:Q3},{provide:j3,useClass:Xee,deps:[]},[]];let mte=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:FC,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(re(gte,12))},t.\u0275mod=Vn({type:t}),t.\u0275inj=Zn({providers:[...iU,...rU],imports:[vee,$X]}),e})(),oU=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(re(vo))},t.\u0275prov=be({token:t,factory:function(r){let i=null;return i=r?new r:function yte(){return new oU(re(vo))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;const{isArray:Mte}=Array,{getPrototypeOf:Ote,prototype:Ite,keys:bte}=Object;function lU(t){if(1===t.length){const e=t[0];if(Mte(e))return{args:e,keys:null};if(function Tte(t){return t&&"object"==typeof t&&Ote(t)===Ite}(e)){const n=bte(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:Ate}=Array;function uU(t){return ge(e=>function Dte(t,e){return Ate(e)?t(...e):t(e)}(t,e))}function dU(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Zc(...t){const e=Ns(t),n=ks(t),{args:r,keys:i}=lU(t);if(0===r.length)return S([],e);const o=new st(function Ste(t,e,n=Nn){return r=>{hU(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)hU(e,()=>{const l=S(t[c],e);let h=!1;l.subscribe(Ce(r,f=>{o[c]=f,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>dU(i,s):Nn));return n?o.pipe(uU(n)):o}function hU(t,e,n){t?br(n,t,e):e()}const xw=Ue(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function S1(...t){return function Rte(){return Wi(1)}()(S(t,Ns(t)))}function pU(t){return new st(e=>{Fn(t()).subscribe(e)})}function Jh(t,e){const n=O(t)?t:()=>t,r=i=>i.error(n());return new st(e?i=>e.schedule(r,0,i):r)}function R1(){return K((t,e)=>{let n=null;t._refCount++;const r=Ce(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class fU extends st{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ce(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pt;const n=this.getSubject();e.add(this.source.subscribe(Ce(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pt.EMPTY)}return e}refCount(){return R1()(this)}}function ep(t){return t<=0?()=>qn:K((e,n)=>{let r=0;e.subscribe(Ce(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function kw(...t){const e=Ns(t);return K((n,r)=>{(e?S1(t,n,e):S1(t,n)).subscribe(r)})}function Yo(t,e){return K((n,r)=>{let i=0;n.subscribe(Ce(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Nw(t){return K((e,n)=>{let r=!1;e.subscribe(Ce(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function gU(t=xte){return K((e,n)=>{let r=!1;e.subscribe(Ce(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function xte(){return new xw}function Yc(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Yo((i,o)=>t(i,o,r)):Nn,ep(1),n?Nw(e):gU(()=>new xw))}function tp(t,e){return O(e)?nn(t,e,1):nn(t,1)}function lr(t,e,n){const r=O(t)||e||n?{next:t,error:e,complete:n}:t;return r?K((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Ce(o,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),o.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Nn}function Li(t){return K((e,n)=>{let o,r=null,i=!1;r=e.subscribe(Ce(n,void 0,void 0,s=>{o=Fn(t(s,Li(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function np(t,e){return K(function kte(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(Ce(s,h=>{const f=l++;c=a?t(c,h,f):(a=!0,h),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(t,e,arguments.length>=2,!0))}function x1(t){return t<=0?()=>qn:K((e,n)=>{let r=[];e.subscribe(Ce(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function bm(t){return K((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const it="primary",Tm=Symbol("RouteTitle");class Vte{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function rp(t){return new Vte(t)}function Ute(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ks(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!mU(t[i],e[i]))return!1;return!0}function mU(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function _U(t){return t.length>0?t[t.length-1]:null}function Qc(t){return function Ete(t){return!!t&&(t instanceof st||O(t.lift)&&O(t.subscribe))}(t)?t:lm(t)?S(Promise.resolve(t)):W(t)}const jte={exact:function CU(t,e,n){if(!Su(t.segments,e.segments)||!Fw(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!CU(t.children[r],e.children[r],n))return!1;return!0},subset:wU},yU={exact:function $te(t,e){return Ks(t,e)},subset:function Hte(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>mU(t[n],e[n]))},ignored:()=>!0};function vU(t,e,n){return jte[n.paths](t.root,e.root,n.matrixParams)&&yU[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function wU(t,e,n){return PU(t,e,e.segments,n)}function PU(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Su(i,n)||e.hasChildren()||!Fw(i,n,r))}if(t.segments.length===n.length){if(!Su(t.segments,n)||!Fw(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!wU(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(Su(t.segments,i)&&Fw(t.segments,i,r)&&t.children[it])&&PU(t.children[it],e,o,r)}}function Fw(t,e,n){return e.every((r,i)=>yU[n](t[i].parameters,r.parameters))}class ip{constructor(e=new jt([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rp(this.queryParams)),this._queryParamMap}toString(){return Wte.serialize(this)}}class jt{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lw(this)}}class Am{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=rp(this.parameters)),this._parameterMap}toString(){return OU(this)}}function Su(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Dm=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return new k1},providedIn:"root"}),e})();class k1{parse(e){const n=new rne(e);return new ip(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Sm(e.root,!0)}`,r=function Zte(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Vw(n)}=${Vw(i)}`).join("&"):`${Vw(n)}=${Vw(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function qte(t){return encodeURI(t)}(e.fragment)}`:""}`}}const Wte=new k1;function Lw(t){return t.segments.map(e=>OU(e)).join("/")}function Sm(t,e){if(!t.hasChildren())return Lw(t);if(e){const n=t.children[it]?Sm(t.children[it],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==it&&r.push(`${i}:${Sm(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Gte(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===it&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==it&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===it?[Sm(t.children[it],!1)]:[`${i}:${Sm(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[it]?`${Lw(t)}/${n[0]}`:`${Lw(t)}/(${n.join("//")})`}}function EU(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vw(t){return EU(t).replace(/%3B/gi,";")}function N1(t){return EU(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Uw(t){return decodeURIComponent(t)}function MU(t){return Uw(t.replace(/\+/g,"%20"))}function OU(t){return`${N1(t.path)}${function Kte(t){return Object.keys(t).map(e=>`;${N1(e)}=${N1(t[e])}`).join("")}(t.parameters)}`}const Yte=/^[^\/()?;#]+/;function F1(t){const e=t.match(Yte);return e?e[0]:""}const Qte=/^[^\/()?;=#]+/,Jte=/^[^=?&#]+/,tne=/^[^&#]+/;class rne{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new jt([],{}):new jt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[it]=new jt(e,n)),r}parseSegment(){const e=F1(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Q(4009,!1);return this.capture(e),new Am(Uw(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function Xte(t){const e=t.match(Qte);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=F1(this.remaining);i&&(r=i,this.capture(r))}e[Uw(n)]=Uw(r)}parseQueryParam(e){const n=function ene(t){const e=t.match(Jte);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function nne(t){const e=t.match(tne);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=MU(n),o=MU(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=F1(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Q(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=it);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[it]:new jt([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Q(4011,!1)}}function IU(t){return t.segments.length>0?new jt([],{[it]:t}):t}function bU(t){const e={};for(const r of Object.keys(t.children)){const o=bU(t.children[r]);if(r===it&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function ine(t){if(1===t.numberOfChildren&&t.children[it]){const e=t.children[it];return new jt(t.segments.concat(e.segments),e.children)}return t}(new jt(t.segments,e))}function Ru(t){return t instanceof ip}function TU(t){let e;const i=IU(function n(o){const s={};for(const c of o.children){const l=n(c);s[c.outlet]=l}const a=new jt(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function AU(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return L1(i,i,i,n,r);const o=function sne(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new SU(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new SU(n,e,r)}(e);if(o.toRoot())return L1(i,i,new jt([],{}),n,r);const s=function ane(t,e,n){if(t.isAbsolute)return new jw(e,!0,0);if(!n)return new jw(e,!1,NaN);if(null===n.parent)return new jw(n,!0,0);const r=Bw(t.commands[0])?0:1;return function cne(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Q(4005,!1);i=r.segments.length}return new jw(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?xm(s.segmentGroup,s.index,o.commands):RU(s.segmentGroup,s.index,o.commands);return L1(i,s.segmentGroup,a,n,r)}function Bw(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Rm(t){return"object"==typeof t&&null!=t&&t.outlets}function L1(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`}),s=t===e?n:DU(t,e,n);const a=IU(bU(s));return new ip(a,o,i)}function DU(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:DU(o,e,n)}),new jt(t.segments,r)}class SU{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Bw(r[0]))throw new Q(4003,!1);const i=r.find(Rm);if(i&&i!==_U(r))throw new Q(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class jw{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function RU(t,e,n){if(t||(t=new jt([],{})),0===t.segments.length&&t.hasChildren())return xm(t,e,n);const r=function une(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(Rm(a))break;const c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!kU(c,l,s))return o;r+=2}else{if(!kU(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new jt(t.segments.slice(0,r.pathIndex),{});return o.children[it]=new jt(t.segments.slice(r.pathIndex),t.children),xm(o,0,i)}return r.match&&0===i.length?new jt(t.segments,{}):r.match&&!t.hasChildren()?V1(t,e,n):r.match?xm(t,0,i):V1(t,e,n)}function xm(t,e,n){if(0===n.length)return new jt(t.segments,{});{const r=function lne(t){return Rm(t[0])?t[0].outlets:{[it]:t}}(n),i={};if(Object.keys(r).some(o=>o!==it)&&t.children[it]&&1===t.numberOfChildren&&0===t.children[it].segments.length){const o=xm(t.children[it],e,n);return new jt(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=RU(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new jt(t.segments,i)}}function V1(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Rm(o)){const c=dne(o.outlets);return new jt(r,c)}if(0===i&&Bw(n[0])){r.push(new Am(t.segments[e].path,xU(n[0]))),i++;continue}const s=Rm(o)?o.outlets[it]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Bw(a)?(r.push(new Am(s,xU(a))),i+=2):(r.push(new Am(s,{})),i++)}return new jt(r,{})}function dne(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=V1(new jt([],{}),0,r))}),e}function xU(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function kU(t,e,n){return t==n.path&&Ks(e,n.parameters)}const km="imperative";class Zs{constructor(e,n){this.id=e,this.url=n}}class $w extends Zs{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Xc extends Zs{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Nm extends Zs{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class op extends Zs{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Hw extends Zs{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class NU extends Zs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hne extends Zs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pne extends Zs{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class fne extends Zs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gne extends Zs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mne{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _ne{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class yne{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vne{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cne{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wne{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FU{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class U1{}class B1{constructor(e){this.url=e}}class Pne{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Fm,this.attachRef=null}}let Fm=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Pne,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class LU{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=j1(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=j1(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=$1(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return $1(e,this._root).map(n=>n.value)}}function j1(t,e){if(t===e.value)return e;for(const n of e.children){const r=j1(t,n);if(r)return r}return null}function $1(t,e){if(t===e.value)return[e];for(const n of e.children){const r=$1(t,n);if(r.length)return r.unshift(e),r}return[]}class za{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function sp(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class VU extends LU{constructor(e,n){super(e),this.snapshot=n,H1(this,e)}toString(){return this.snapshot.toString()}}function UU(t,e){const n=function Ene(t,e){const s=new zw([],{},{},"",{},it,e,null,{});return new jU("",new za(s,[]))}(0,e),r=new U([new Am("",{})]),i=new U({}),o=new U({}),s=new U({}),a=new U(""),c=new Jc(r,i,s,a,o,it,e,n.root);return c.snapshot=n.root,new VU(new za(c,[]),n)}class Jc{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ge(l=>l[Tm]))??W(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ge(e=>rp(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ge(e=>rp(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function BU(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function Mne(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class zw{get title(){return this.data?.[Tm]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=rp(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rp(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class jU extends LU{constructor(e,n){super(n),this.url=e,H1(this,n)}toString(){return $U(this._root)}}function H1(t,e){e.value._routerState=t,e.children.forEach(n=>H1(t,n))}function $U(t){const e=t.children.length>0?` { ${t.children.map($U).join(", ")} } `:"";return`${t.value}${e}`}function z1(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ks(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Ks(e.params,n.params)||t.paramsSubject.next(n.params),function Bte(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ks(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Ks(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function G1(t,e){const n=Ks(t.params,e.params)&&function zte(t,e){return Su(t,e)&&t.every((n,r)=>Ks(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||G1(t.parent,e.parent))}let el=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=it,this.activateEvents=new En,this.deactivateEvents=new En,this.attachEvents=new En,this.detachEvents=new En,this.parentContexts=we(Fm),this.location=we(_s),this.changeDetector=we(fw),this.environmentInjector=we(go),this.inputBinder=we(Gw,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Q(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new Q(4013,!1);this._activatedRoute=r;const o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new One(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Ve({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ci]}),e})();class One{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Jc?this.route:e===Fm?this.childContexts:this.parent.get(e,n)}}const Gw=new fe("");let HU=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:i}=r,o=Zc([i.queryParams,i.params,i.data]).pipe(Ze(([s,a,c],l)=>(c={...s,...a,...c},0===l?W(c):Promise.resolve(c)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(r);const a=function eJ(t){const e=mt(t);if(!e)return null;const n=new im(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(a)for(const{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,s[c]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,o)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();function Lm(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function bne(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Lm(t,r,i);return Lm(t,r)})}(t,e,n);return new za(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Lm(t,a)),s}}const r=function Tne(t){return new Jc(new U(t.url),new U(t.params),new U(t.queryParams),new U(t.fragment),new U(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>Lm(t,o));return new za(r,i)}}const W1="ngNavigationCancelingError";function zU(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Ru(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=GU(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function GU(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[W1]=!0,r.cancellationCode=e,n&&(r.url=n),r}function WU(t){return t&&t[W1]}let qU=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=xt({type:t,selectors:[["ng-component"]],standalone:!0,features:[qL],decls:1,vars:0,template:function(r,i){1&r&&T(0,"router-outlet")},dependencies:[el],encapsulation:2}),e})();function q1(t){const e=t.children&&t.children.map(q1),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==it&&(n.component=qU),n}function Ps(t){return t.outlet||it}function Vm(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Fne{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),z1(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=sp(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=sp(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=sp(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=sp(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new wne(o.value.snapshot))}),e.children.length&&this.forwardEvent(new vne(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(z1(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),z1(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Vm(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class KU{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ww{constructor(e,n){this.component=e,this.route=n}}function Lne(t,e,n){const r=t._root;return Um(r,e?e._root:null,n,[r.value])}function ap(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function tM(t){return null!==Kl(t)}(t)?e.get(t):t:r}function Um(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=sp(e);return t.children.forEach(s=>{(function Une(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function Bne(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Su(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Su(t.url,e.url)||!Ks(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!G1(t,e)||!Ks(t.queryParams,e.queryParams);default:return!G1(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new KU(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Um(t,e,o.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ww(a.outlet.component,s))}else s&&Bm(e,a,i),i.canActivateChecks.push(new KU(r)),Um(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Bm(a,n.getContext(s),i)),i}function Bm(t,e,n){const r=sp(t),i=t.value;Object.entries(r).forEach(([o,s])=>{Bm(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Ww(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function jm(t){return"function"==typeof t}function ZU(t){return t instanceof xw||"EmptyError"===t?.name}const qw=Symbol("INITIAL_VALUE");function cp(){return Ze(t=>Zc(t.map(e=>e.pipe(ep(1),kw(qw)))).pipe(ge(e=>{for(const n of e)if(!0!==n){if(n===qw)return qw;if(!1===n||n instanceof ip)return n}return!0}),Yo(e=>e!==qw),ep(1)))}function YU(t){return function Ao(...t){return Do(t)}(lr(e=>{if(Ru(e))throw zU(0,e)}),ge(e=>!0===e))}class Kw{constructor(e){this.segmentGroup=e||null}}class QU{constructor(e){this.urlTree=e}}function lp(t){return Jh(new Kw(t))}function XU(t){return Jh(new QU(t))}class sre{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new Q(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return W(r);if(i.numberOfChildren>1||!i.children[it])return Jh(new Q(4e3,!1));i=i.children[it]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new ip(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new jt(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new Q(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const K1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function are(t,e,n,r,i){const o=Z1(t,e,n);return o.matched?(r=function Dne(t,e){return t.providers&&!t._injector&&(t._injector=TI(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function rre(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?W(i.map(s=>{const a=ap(s,t);return Qc(function Wne(t){return t&&jm(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(cp(),YU()):W(!0)}(r,e,n).pipe(ge(s=>!0===s?o:{...K1}))):W(o)}function Z1(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...K1}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Ute)(n,t,e);if(!i)return{...K1};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function JU(t,e,n,r){return n.length>0&&function ure(t,e,n){return n.some(r=>Zw(t,e,r)&&Ps(r)!==it)}(t,n,r)?{segmentGroup:new jt(e,lre(r,new jt(n,t.children))),slicedSegments:[]}:0===n.length&&function dre(t,e,n){return n.some(r=>Zw(t,e,r))}(t,n,r)?{segmentGroup:new jt(t.segments,cre(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new jt(t.segments,t.children),slicedSegments:n}}function cre(t,e,n,r,i){const o={};for(const s of r)if(Zw(t,n,s)&&!i[Ps(s)]){const a=new jt([],{});o[Ps(s)]=a}return{...i,...o}}function lre(t,e){const n={};n[it]=e;for(const r of t)if(""===r.path&&Ps(r)!==it){const i=new jt([],{});n[Ps(r)]=i}return n}function Zw(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class gre{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new sre(this.urlSerializer,this.urlTree)}noMatchError(e){return new Q(4002,!1)}recognize(){const e=JU(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,it).pipe(Li(n=>{if(n instanceof QU)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Kw?this.noMatchError(n):n}),ge(n=>{const r=new zw([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},it,this.rootComponentType,null,{}),i=new za(r,n),o=new jU("",i),s=function one(t,e,n=null,r=null){return AU(TU(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,it).pipe(Li(r=>{throw r instanceof Kw?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=BU(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return S(i).pipe(tp(o=>{const s=r.children[o],a=function kne(t,e){const n=t.filter(r=>Ps(r)===e);return n.push(...t.filter(r=>Ps(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),np((o,s)=>(o.push(...s),o)),Nw(null),function Nte(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Yo((i,o)=>t(i,o,r)):Nn,x1(1),n?Nw(e):gU(()=>new xw))}(),nn(o=>{if(null===o)return lp(r);const s=e5(o);return function mre(t){t.sort((e,n)=>e.value.outlet===it?-1:n.value.outlet===it?1:e.value.outlet.localeCompare(n.value.outlet))}(s),W(s)}))}processSegment(e,n,r,i,o,s){return S(n).pipe(tp(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(Li(c=>{if(c instanceof Kw)return W(null);throw c}))),Yc(a=>!!a),Li(a=>{if(ZU(a))return function pre(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?W([]):lp(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function hre(t,e,n,r){return!!(Ps(t)===r||r!==it&&Zw(e,n,t))&&("**"===t.path||Z1(e,t,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):lp(i):lp(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?XU(o):this.applyRedirects.lineralizeSegments(r,o).pipe(nn(s=>{const a=new jt(s,{});return this.processSegment(e,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:h}=Z1(n,i,o);if(!a)return lp(n);const f=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,h);return i.redirectTo.startsWith("/")?XU(f):this.applyRedirects.lineralizeSegments(i,f).pipe(nn(m=>this.processSegment(e,r,n,m.concat(l),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a;if("**"===r.path){const c=i.length>0?_U(i).parameters:{};a=W({snapshot:new zw(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,t5(r),Ps(r),r.component??r._loadedComponent??null,r,n5(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=are(n,r,i,e).pipe(ge(({matched:c,consumedSegments:l,remainingSegments:h,parameters:f})=>c?{snapshot:new zw(l,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,t5(r),Ps(r),r.component??r._loadedComponent??null,r,n5(r)),consumedSegments:l,remainingSegments:h}:null));return a.pipe(Ze(c=>null===c?lp(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Ze(({routes:l})=>{const h=r._loadedInjector??e,{snapshot:f,consumedSegments:m,remainingSegments:v}=c,{segmentGroup:E,slicedSegments:I}=JU(n,m,v,l);if(0===I.length&&E.hasChildren())return this.processChildren(h,l,E).pipe(ge(L=>null===L?null:[new za(f,L)]));if(0===l.length&&0===I.length)return W([new za(f,[])]);const b=Ps(r)===o;return this.processSegment(h,l,E,I,b?it:o,!0).pipe(ge(L=>[new za(f,L)]))}))))}getChildConfig(e,n,r){return n.children?W({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?W({routes:n._loadedRoutes,injector:n._loadedInjector}):function nre(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?W(!0):W(i.map(s=>{const a=ap(s,t);return Qc(function $ne(t){return t&&jm(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(cp(),YU())}(e,n,r).pipe(nn(i=>i?this.configLoader.loadChildren(e,n).pipe(lr(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function ore(t){return Jh(GU(!1,3))}())):W({routes:[],injector:e})}}function _re(t){const e=t.value.routeConfig;return e&&""===e.path}function e5(t){const e=[],n=new Set;for(const r of t){if(!_re(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=e5(r.children);e.push(new za(r.value,i))}return e.filter(r=>!n.has(r))}function t5(t){return t.data||{}}function n5(t){return t.resolve||{}}function r5(t){return"string"==typeof t.title||null===t.title}function Y1(t){return Ze(e=>{const n=t(e);return n?S(n).pipe(ge(()=>e)):W(e)})}const up=new fe("ROUTES");let Q1=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=we(UV)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return W(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=Qc(r.loadComponent()).pipe(ge(i5),lr(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),bm(()=>{this.componentLoaders.delete(r)})),o=new fU(i,()=>new Y).pipe(R1());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return W({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function Mre(t,e,n,r){return Qc(t.loadChildren()).pipe(ge(i5),nn(i=>i instanceof GL||Array.isArray(i)?W(i):S(e.compileModuleAsync(i))),ge(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(up,[],{optional:!0,self:!0}).flat()),{routes:s.map(q1),injector:o}}))}(i,this.compiler,r,this.onLoadEndListener).pipe(bm(()=>{this.childrenLoaders.delete(i)})),a=new fU(s,()=>new Y).pipe(R1());return this.childrenLoaders.set(i,a),a}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function i5(t){return function Ore(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Yw=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Y,this.transitionAbortSubject=new Y,this.configLoader=we(Q1),this.environmentInjector=we(go),this.urlSerializer=we(Dm),this.rootContexts=we(Fm),this.inputBindingEnabled=null!==we(Gw,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>W(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new _ne(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new mne(o))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,o){return this.transitions=new U({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:r.urlHandlingStrategy.extract(i),urlAfterRedirects:r.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:km,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Yo(s=>0!==s.id),ge(s=>({...s,extractedUrl:r.urlHandlingStrategy.extract(s.rawUrl)})),Ze(s=>{this.currentTransition=s;let a=!1,c=!1;return W(s).pipe(lr(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ze(l=>{const h=l.currentBrowserUrl.toString(),f=!r.navigated||l.extractedUrl.toString()!==h||h!==l.currentUrlTree.toString();if(!f&&"reload"!==(l.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const v="";return this.events.next(new op(l.id,this.urlSerializer.serialize(l.rawUrl),v,0)),l.resolve(null),qn}if(r.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return W(l).pipe(Ze(v=>{const E=this.transitions?.getValue();return this.events.next(new $w(v.id,this.urlSerializer.serialize(v.extractedUrl),v.source,v.restoredState)),E!==this.transitions?.getValue()?qn:Promise.resolve(v)}),function yre(t,e,n,r,i,o){return nn(s=>function fre(t,e,n,r,i,o,s="emptyOnly"){return new gre(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(ge(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),lr(v=>{s.targetSnapshot=v.targetSnapshot,s.urlAfterRedirects=v.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:v.urlAfterRedirects};const E=new NU(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(E)}));if(f&&r.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:v,extractedUrl:E,source:I,restoredState:b,extras:L}=l,k=new $w(v,this.urlSerializer.serialize(E),I,b);this.events.next(k);const H=UU(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:H,urlAfterRedirects:E,extras:{...L,skipLocationChange:!1,replaceUrl:!1}},W(s)}{const v="";return this.events.next(new op(l.id,this.urlSerializer.serialize(l.extractedUrl),v,1)),l.resolve(null),qn}}),lr(l=>{const h=new hne(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),ge(l=>(this.currentTransition=s={...l,guards:Lne(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function Kne(t,e){return nn(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?W({...n,guardsResult:!0}):function Zne(t,e,n,r){return S(t).pipe(nn(i=>function tre(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?W(o.map(a=>{const c=Vm(e)??i,l=ap(a,c);return Qc(function Gne(t){return t&&jm(t.canDeactivate)}(l)?l.canDeactivate(t,e,n,r):c.runInContext(()=>l(t,e,n,r))).pipe(Yc())})).pipe(cp()):W(!0)}(i.component,i.route,n,e,r)),Yc(i=>!0!==i,!0))}(s,r,i,t).pipe(nn(a=>a&&function jne(t){return"boolean"==typeof t}(a)?function Yne(t,e,n,r){return S(e).pipe(tp(i=>S1(function Xne(t,e){return null!==t&&e&&e(new yne(t)),W(!0)}(i.route.parent,r),function Qne(t,e){return null!==t&&e&&e(new Cne(t)),W(!0)}(i.route,r),function ere(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function Vne(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>pU(()=>W(s.guards.map(c=>{const l=Vm(s.node)??n,h=ap(c,l);return Qc(function zne(t){return t&&jm(t.canActivateChild)}(h)?h.canActivateChild(r,t):l.runInContext(()=>h(r,t))).pipe(Yc())})).pipe(cp())));return W(o).pipe(cp())}(t,i.path,n),function Jne(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return W(!0);const i=r.map(o=>pU(()=>{const s=Vm(e)??n,a=ap(o,s);return Qc(function Hne(t){return t&&jm(t.canActivate)}(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t))).pipe(Yc())}));return W(i).pipe(cp())}(t,i.route,n))),Yc(i=>!0!==i,!0))}(r,o,t,e):W(a)),ge(a=>({...n,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),lr(l=>{if(s.guardsResult=l.guardsResult,Ru(l.guardsResult))throw zU(0,l.guardsResult);const h=new pne(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),Yo(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),Y1(l=>{if(l.guards.canActivateChecks.length)return W(l).pipe(lr(h=>{const f=new fne(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}),Ze(h=>{let f=!1;return W(h).pipe(function vre(t,e){return nn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return W(n);let o=0;return S(i).pipe(tp(s=>function Cre(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!r5(i)&&(o[Tm]=i.title),function wre(t,e,n,r){const i=function Pre(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return W({});const o={};return S(i).pipe(nn(s=>function Ere(t,e,n,r){const i=Vm(e)??r,o=ap(t,i);return Qc(o.resolve?o.resolve(e,n):i.runInContext(()=>o(e,n)))}(t[s],e,n,r).pipe(Yc(),lr(a=>{o[s]=a}))),x1(1),function Fte(t){return ge(()=>t)}(o),Li(s=>ZU(s)?qn:Jh(s)))}(o,t,e,r).pipe(ge(s=>(t._resolvedData=s,t.data=BU(t,n).resolve,i&&r5(i)&&(t.data[Tm]=i.title),null)))}(s.route,r,t,e)),lr(()=>o++),x1(1),nn(s=>o===i.length?W(n):qn))})}(r.paramsInheritanceStrategy,this.environmentInjector),lr({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(h,"",2)}}))}),lr(h=>{const f=new gne(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}))}),Y1(l=>{const h=f=>{const m=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(f.routeConfig).pipe(lr(v=>{f.component=v}),ge(()=>{})));for(const v of f.children)m.push(...h(v));return m};return Zc(h(l.targetSnapshot.root)).pipe(Nw(),ep(1))}),Y1(()=>this.afterPreactivation()),ge(l=>{const h=function Ine(t,e,n){const r=Lm(t,e._root,n?n._root:void 0);return new VU(r,e)}(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:h},s}),lr(()=>{this.events.next(new U1)}),((t,e,n,r)=>ge(i=>(new Fne(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),ep(1),lr({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Xc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),r.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),function Lte(t){return K((e,n)=>{Fn(t).subscribe(Ce(n,()=>n.complete(),Ae)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(lr(l=>{throw l}))),bm(()=>{a||c||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Li(l=>{if(c=!0,WU(l))this.events.next(new Nm(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function Ane(t){return WU(t)&&Ru(t.url)}(l)?this.events.next(new B1(l.url)):s.resolve(!1);else{this.events.next(new Hw(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(h){s.reject(h)}}return qn}))}))}cancelNavigationTransition(r,i,o){const s=new Nm(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function o5(t){return t!==km}let s5=(()=>{var t;class e{buildTitle(r){let i,o=r.root;for(;void 0!==o;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===it);return i}getResolvedTitleForRoute(r){return r.data[Tm]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return we(Ire)},providedIn:"root"}),e})(),Ire=(()=>{var t;class e extends s5{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(re(oU))},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),bre=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return we(Are)},providedIn:"root"}),e})();class Tre{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Are=(()=>{var t;class e extends Tre{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Er(t)))(i||t)}}(),t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Qw=new fe("",{providedIn:"root",factory:()=>({})});let Dre=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return we(Sre)},providedIn:"root"}),e})(),Sre=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var $m=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}($m||{});function a5(t,e){t.events.pipe(Yo(n=>n instanceof Xc||n instanceof Nm||n instanceof Hw||n instanceof op),ge(n=>n instanceof Xc||n instanceof op?$m.COMPLETE:n instanceof Nm&&(0===n.code||1===n.code)?$m.REDIRECTING:$m.FAILED),Yo(n=>n!==$m.REDIRECTING),ep(1)).subscribe(()=>{e()})}function Rre(t){throw t}function xre(t,e,n){return e.parse("/")}const kre={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Nre={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let hi=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=we(VV),this.isNgZoneEnabled=!1,this._events=new Y,this.options=we(Qw,{optional:!0})||{},this.pendingTasks=we(uw),this.errorHandler=this.options.errorHandler||Rre,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||xre,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=we(Dre),this.routeReuseStrategy=we(bre),this.titleStrategy=we(s5),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=we(up,{optional:!0})?.flat()??[],this.navigationTransitions=we(Yw),this.urlSerializer=we(Dm),this.location=we(s1),this.componentInputBindingEnabled=!!we(Gw,{optional:!0}),this.eventsSubscription=new Pt,this.isNgZoneEnabled=we(Tt)instanceof Tt&&Tt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ip,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=UU(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:o}=this.navigationTransitions;if(null===o)return void(c5(i)&&this._events.next(i));if(i instanceof $w)o5(o.source)&&(this.browserUrlTree=o.extractedUrl);else if(i instanceof op)this.rawUrlTree=o.rawUrl;else if(i instanceof NU){if("eager"===this.urlUpdateStrategy){if(!o.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl);this.setBrowserUrl(s,o)}this.browserUrlTree=o.urlAfterRedirects}}else if(i instanceof U1)this.currentUrlTree=o.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o),this.browserUrlTree=o.urlAfterRedirects);else if(i instanceof Nm)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(o);else if(i instanceof B1){const s=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),a={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||o5(o.source)};this.scheduleNavigation(s,km,null,a,{resolve:o.resolve,reject:o.reject,promise:o.promise})}i instanceof Hw&&this.restoreHistory(o,!0),i instanceof Xc&&(this.navigated=!0),c5(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),km,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,o){const s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){const l={...o};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(q1),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a;let m,f=null;switch(c){case"merge":f={...this.currentUrlTree.queryParams,...s};break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}null!==f&&(f=this.removeEmptyProps(f));try{m=TU(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),m=this.currentUrlTree.root}return AU(m,r,f,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){const o=Ru(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,km,null,i)}navigate(r,i={skipLocationChange:!1}){return function Fre(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new Q(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(o){i=this.malformedUriErrorHandler(o,this.urlSerializer,r)}return i}isActive(r,i){let o;if(o=!0===i?{...kre}:!1===i?{...Nre}:i,Ru(r))return vU(this.currentUrlTree,r,o);const s=this.parseUrl(r);return vU(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.keys(r).reduce((i,o)=>{const s=r[o];return null!=s&&(i[o]=s),i},{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,h;a?(c=a.resolve,l=a.reject,h=a.promise):h=new Promise((m,v)=>{c=m,l=v});const f=this.pendingTasks.add();return a5(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:s,resolve:c,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}setBrowserUrl(r,i){const o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(o,"",a)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(o,"",s)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function c5(t){return!(t instanceof U1||t instanceof B1)}let Zr=(()=>{var t;class e{constructor(r,i,o,s,a,c){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new Y,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof Xc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){null!=r?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){return!!(null===this.urlTree||this.isAnchorElement&&(0!==r||i||o||s||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const r=null===this.href?null:function zN(t,e,n){return function PW(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?HN:zo}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){const o=this.renderer,s=this.el.nativeElement;null!==i?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(t=e).\u0275fac=function(r){return new(r||t)(X(hi),X(Jc),function yh(t){return function GM(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(jf(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}(Pr(),t)}("tabindex"),X(Na),X(Ri),X(Du))},t.\u0275dir=Ve({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&J("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&Wo("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Qh],skipLocationChange:["skipLocationChange","skipLocationChange",Qh],replaceUrl:["replaceUrl","replaceUrl",Qh],routerLink:"routerLink"},standalone:!0,features:[rF,ci]}),e})();class l5{}let Ure=(()=>{var t;class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Yo(r=>r instanceof Xc),tp(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){const o=[];for(const s of i){s.providers&&!s._injector&&(s._injector=TI(s.providers,r,`Route: ${s.path}`));const a=s._injector??r,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(c,s.children??s._loadedRoutes))}return S(o).pipe(Wi())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;o=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(r,i):W(null);const s=o.pipe(nn(a=>null===a?W(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));return i.loadComponent&&!i._loadedComponent?S([s,this.loader.loadComponent(i)]).pipe(Wi()):s})}}return(t=e).\u0275fac=function(r){return new(r||t)(re(hi),re(UV),re(go),re(l5),re(Q1))},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const X1=new fe("");let u5=(()=>{var t;class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof $w?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Xc?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof op&&0===r.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof FU&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new FU(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){!function D2(){throw new Error("invalid")}()},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();function Ga(t,e){return{\u0275kind:t,\u0275providers:e}}function h5(){const t=we(xi);return e=>{const n=t.get(Yh);if(e!==n.components[0])return;const r=t.get(hi),i=t.get(p5);1===t.get(J1)&&r.initialNavigation(),t.get(f5,null,pt.Optional)?.setUpPreloading(),t.get(X1,null,pt.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const p5=new fe("",{factory:()=>new Y}),J1=new fe("",{providedIn:"root",factory:()=>1}),f5=new fe("");function Hre(t){return Ga(0,[{provide:f5,useExisting:Ure},{provide:l5,useExisting:t}])}const g5=new fe("ROUTER_FORROOT_GUARD"),Gre=[s1,{provide:Dm,useClass:k1},hi,Fm,{provide:Jc,useFactory:function d5(t){return t.routerState.root},deps:[hi]},Q1,[]];function Wre(){return new WV("Router",hi)}let m5=(()=>{var t;class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[Gre,[],{provide:up,multi:!0,useValue:r},{provide:g5,useFactory:Yre,deps:[[hi,new p,new d]]},{provide:Qw,useValue:i||{}},i?.useHash?{provide:Du,useClass:oJ}:{provide:Du,useClass:E3},{provide:X1,useFactory:()=>{const t=we(Eee),e=we(Tt),n=we(Qw),r=we(Yw),i=we(Dm);return n.scrollOffset&&t.setOffset(n.scrollOffset),new u5(i,r,t,e,n)}},i?.preloadingStrategy?Hre(i.preloadingStrategy).\u0275providers:[],{provide:WV,multi:!0,useFactory:Wre},i?.initialNavigation?Qre(i):[],i?.bindToComponentInputs?Ga(8,[HU,{provide:Gw,useExisting:HU}]).\u0275providers:[],[{provide:_5,useFactory:h5},{provide:YI,multi:!0,useExisting:_5}]]}}static forChild(r){return{ngModule:e,providers:[{provide:up,multi:!0,useValue:r}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(re(g5,8))},t.\u0275mod=Vn({type:t}),t.\u0275inj=Zn({}),e})();function Yre(t){return"guarded"}function Qre(t){return["disabled"===t.initialNavigation?Ga(3,[{provide:$I,multi:!0,useFactory:()=>{const e=we(hi);return()=>{e.setUpLocationChangeListener()}}},{provide:J1,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Ga(2,[{provide:J1,useValue:0},{provide:$I,multi:!0,deps:[xi],useFactory:e=>{const n=e.get(rJ,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(hi),o=e.get(p5);a5(i,()=>{r(!0)}),e.get(Yw).afterPreactivation=()=>(r(!0),o.closed?W(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const _5=new fe("");var x=Ke(861),Ge=Ke(534),Po=Ke(537),M=Ke(58),pi=Ke(879);const y5="@firebase/database";let eb="";function tb(t){eb=t}class Jre{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,M.Wl)(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:(0,M.cI)(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class eie{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return(0,M.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const C5=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Jre(e)}}catch{}return new eie},xu=C5("localStorage"),nb=C5("sessionStorage"),dp=new pi.Yd("@firebase/database"),w5=function(){let t=1;return function(){return t++}}(),P5=function(t){const e=(0,M.dS)(t),n=new M.gQ;n.update(e);const r=n.digest();return M.US.encodeByteArray(r)},Hm=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=Hm.apply(null,r):e+="object"==typeof r?(0,M.Wl)(r):r,e+=" "}return e};let ku=null,E5=!0;const M5=function(t,e){(0,M.hu)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(dp.logLevel=pi.in.VERBOSE,ku=dp.log.bind(dp),e&&nb.set("logging_enabled",!0)):"function"==typeof t?ku=t:(ku=null,nb.remove("logging_enabled"))},Sr=function(...t){if(!0===E5&&(E5=!1,null===ku&&!0===nb.get("logging_enabled")&&M5(!0)),ku){const e=Hm.apply(null,t);ku(e)}},zm=function(t){return function(...e){Sr(t,...e)}},rb=function(...t){const e="FIREBASE INTERNAL ERROR: "+Hm(...t);dp.error(e)},Ys=function(...t){const e=`FIREBASE FATAL ERROR: ${Hm(...t)}`;throw dp.error(e),new Error(e)},fi=function(...t){const e="FIREBASE WARNING: "+Hm(...t);dp.warn(e)},Xw=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},tl="[MIN_NAME]",Wa="[MAX_NAME]",Nu=function(t,e){if(t===e)return 0;if(t===tl||e===Wa)return-1;if(e===tl||t===Wa)return 1;{const n=b5(t),r=b5(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},rie=function(t,e){return t===e?0:t<e?-1:1},Gm=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+(0,M.Wl)(e))},ib=function(t){if("object"!=typeof t||null===t)return(0,M.Wl)(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=(0,M.Wl)(e[r]),n+=":",n+=ib(t[e[r]]);return n+="}",n},O5=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function Rr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const I5=function(t){(0,M.hu)(!Xw(t),"Invalid JSON number");const r=1023;let i,o,s,a,c;0===t?(o=0,s=0,i=1/t==-1/0?1:0):(i=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(t/Math.pow(2,-1074))));const l=[];for(c=52;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=11;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();const h=l.join("");let f="";for(c=0;c<64;c+=8){let m=parseInt(h.substr(c,8),2).toString(16);1===m.length&&(m="0"+m),f+=m}return f.toLowerCase()},aie=new RegExp("^-?(0*)\\d{1,10}$"),b5=function(t){if(aie.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},hp=function(t){try{t()}catch(e){setTimeout(()=>{throw fi("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Wm=function(t,e){const n=setTimeout(t,e);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class die{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){fi(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class hie{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(Sr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',fi(e)}}let qm=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const R5=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,N5="websocket",F5="long_polling";class sb{constructor(e,n,r,i,o=!1,s="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=xu.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&xu.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function L5(t,e,n){let r;if((0,M.hu)("string"==typeof e,"typeof type must == string"),(0,M.hu)("object"==typeof n,"typeof params must == object"),e===N5)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==F5)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function pie(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return Rr(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}class fie{constructor(){this.counters_={}}incrementCounter(e,n=1){(0,M.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return(0,M.p$)(this.counters_)}}const ab={},cb={};function lb(t){const e=t.toString();return ab[e]||(ab[e]=new fie),ab[e]}class mie{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&hp(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class nl{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=zm(e),this.stats_=lb(n),this.urlFn=c=>(this.appCheckToken&&(c.ac=this.appCheckToken),L5(n,F5,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new mie(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if((0,M.Yr)()||"complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ub((...o)=>{const[s,a,c,l,h]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=c;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&R5.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){nl.forceAllow_=!0}static forceDisallow(){nl.forceDisallow_=!0}static isAvailable(){return!((0,M.Yr)()||!nl.forceAllow_&&(nl.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=(0,M.Wl)(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=(0,M.h$)(n),i=O5(r,1840);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if((0,M.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=(0,M.Wl)(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class ub{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,M.Yr)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=w5(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=ub.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Sr("frame writing exception"),a.stack&&Sr(a.stack),Sr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Sr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const s=this.pendingSegs.shift();r=r+"&seg"+i+"="+s.seg+"&ts"+i+"="+s.ts+"&d"+i+"="+s.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,n){(0,M.Yr)()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Sr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let e0=null;typeof MozWebSocket<"u"?e0=MozWebSocket:typeof WebSocket<"u"&&(e0=WebSocket);let pp=(()=>{class t{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=zm(this.connId),this.stats_=lb(r),this.connURL=t.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){const a={v:"5"};return!(0,M.Yr)()&&typeof location<"u"&&location.hostname&&R5.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),o&&(a.ac=o),s&&(a.p=s),L5(n,N5,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,xu.set("previous_websocket_failure",!0);try{let i;if((0,M.Yr)()){i={headers:{"User-Agent":`Firebase/5/${eb}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const s=process.env,a=0===this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new e0(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==e0&&!t.forceDisallow_}static previouslyFailed(){return xu.isInMemoryStorage||!0===xu.get("previous_websocket_failure")}markConnectionHealthy(){xu.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,M.cI)(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if((0,M.hu)(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=(0,M.Wl)(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=O5(r,16384);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),z5=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[nl,pp]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=pp&&pp.isAvailable();let i=r&&!pp.previouslyFailed();if(n.webSocketOnly&&(r||fi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[pp];else{const o=this.transports_=[];for(const s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class Q5{constructor(e,n,r,i,o,s,a,c,l,h){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=zm("c:"+this.id+":"),this.transportManager_=new z5(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Wm(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Gm("t",e),r=Gm("d",e);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Gm("t",e),r=Gm("d",e);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Gm("t",e);if("d"in e){const r=e.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?rb("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):rb("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&fi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Wm(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Wm(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(xu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class X5{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class J5{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,M.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context))return void i.splice(o,1)}validateEventType_(e){(0,M.hu)(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class t0 extends J5{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,M.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t0}getInitialEvent(e){return(0,M.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Vt{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function kt(){return new Vt("")}function ft(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function rl(t){return t.pieces_.length-t.pieceNum_}function Xt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Vt(t.pieces_,e)}function hb(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Km(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function nB(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Vt(e,0)}function In(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Vt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Vt(n,0)}function gt(t){return t.pieceNum_>=t.pieces_.length}function Vi(t,e){const n=ft(t),r=ft(e);if(null===n)return e;if(n===r)return Vi(Xt(t),Xt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Vie(t,e){const n=Km(t,0),r=Km(e,0);for(let i=0;i<n.length&&i<r.length;i++){const o=Nu(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function pb(t,e){if(rl(t)!==rl(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Qo(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(rl(t)>rl(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Uie{constructor(e,n){this.errorPrefix_=n,this.parts_=Km(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,M.ug)(this.parts_[r]);rB(this)}}function rB(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Fu(t))}function Fu(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class fb extends J5{constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new fb}getInitialEvent(e){return(0,M.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Zm=1e3;let r0,Lu=(()=>{class t extends X5{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=zm("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Zm,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!(0,M.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");fb.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&t0.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_((0,M.Wl)(s)),(0,M.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();const r=new M.BH,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const c=a.d;"ok"===a.s?r.resolve(c):r.reject(c)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,o){this.initConnection_();const s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),(0,M.hu)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,M.hu)(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);const s={p:i};n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest("q",s,c=>{const l=c.d,h=c.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),"ok"!==h&&this.removeListen_(i,o),n.onComplete&&n.onComplete(h,l))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&(0,M.r3)(n,"w")){const i=(0,M.DV)(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();fi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||(0,M.GJ)(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=(0,M.w9)(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{const s=o.s,a=o.d||"error";this.authToken_===n&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),(0,M.hu)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);const s={p:n};o&&(s.q=i,s.t=o),this.sendRequest("n",s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){const s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();const a={p:r,d:i};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+(0,M.Wl)(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):rb("Unrecognized action received from server: "+(0,M.Wl)(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){(0,M.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Zm,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Zm,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Zm),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return(0,x.Z)(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),o=n.onRealtimeDisconnect_.bind(n),s=n.id+":"+t.nextConnectionId_++,a=n.lastSessionId;let c=!1,l=null;const h=function(){l?l.close():(c=!0,o())};n.realtime_={close:h,sendRequest:function(v){(0,M.hu)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(v)}};const m=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[v,E]=yield Promise.all([n.authTokenProvider_.getToken(m),n.appCheckTokenProvider_.getToken(m)]);c?Sr("getToken() completed but was canceled"):(Sr("getToken() completed. Creating connection."),n.authToken_=v&&v.accessToken,n.appCheckToken_=E&&E.token,l=new Q5(s,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,o,I=>{fi(I+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(v){n.log_("Failed to get token: "+v),c||(n.repoInfo_.nodeAdmin&&fi(v),h())}}})()}interrupt(n){Sr("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Sr("Resuming connection for reason: "+n),delete this.interruptReasons_[n],(0,M.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Zm,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(s=>ib(s)).join("$"):"default";const o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){const i=new Vt(n).toString();let o;if(this.listens.has(i)){const s=this.listens.get(i);o=s.get(r),s.delete(r),0===s.size&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Sr("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Sr("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";(0,M.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),n["sdk."+r+"."+eb.replace(/\./g,"-")]=1,(0,M.uI)()?n["framework.cordova"]=1:(0,M.b$)()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=t0.getInstance().currentlyOnline();return(0,M.xb)(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class _t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new _t(e,n)}}class n0{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new _t(tl,e),i=new _t(tl,n);return 0!==this.compare(r,i)}minPost(){return _t.MIN}}class sB extends n0{static get __EMPTY_NODE(){return r0}static set __EMPTY_NODE(e){r0=e}compare(e,n){return Nu(e.name,n.name)}isDefinedOn(e){throw(0,M.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return _t.MIN}maxPost(){return new _t(Wa,r0)}makePost(e,n){return(0,M.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new _t(e,r0)}toString(){return".key"}}const Qs=new sB;class o0{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,i&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let mb,Es=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??no.EMPTY_NODE,this.right=s??no.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this;const s=i(n,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(n,r,i),null):0===s?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return no.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return no.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class no{constructor(e,n=no.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new no(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Es.BLACK,null,null))}remove(e){return new no(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Es.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new o0(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new o0(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new o0(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new o0(this.root_,null,this.comparator_,!0,e)}}function qie(t,e){return Nu(t.name,e.name)}function gb(t,e){return Nu(t,e)}no.EMPTY_NODE=new class Wie{copy(e,n,r,i,o){return this}insert(e,n,r){return new Es(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const aB=function(t){return"number"==typeof t?"number:"+I5(t):"string:"+t},cB=function(t){if(t.isLeafNode()){const e=t.val();(0,M.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,M.r3)(e,".sv"),"Priority must be a string or number.")}else(0,M.hu)(t===mb||t.isEmpty(),"priority of unexpected type.");(0,M.hu)(t===mb||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let lB,uB,dB,fp=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,(0,M.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),cB(this.priorityNode_)}static set __childrenNodeConstructor(n){lB=n}static get __childrenNodeConstructor(){return lB}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return gt(n)?this:".priority"===ft(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=ft(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,M.hu)(".priority"!==i||1===rl(n),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Xt(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+aB(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?I5(this.value_):this.value_,this.lazyHash_=P5(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:((0,M.hu)(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return(0,M.hu)(o>=0,"Unknown leaf type: "+r),(0,M.hu)(s>=0,"Unknown leaf type: "+i),o===s?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const cn=new class Qie extends n0{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return 0===o?Nu(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return _t.MIN}maxPost(){return new _t(Wa,new fp("[PRIORITY-POST]",dB))}makePost(e,n){const r=uB(e);return new _t(n,new fp("[PRIORITY-POST]",r))}toString(){return".priority"}},Xie=Math.log(2);class Jie{constructor(e){this.count=parseInt(Math.log(e+1)/Xie,10),this.current_=this.count-1;const i=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const s0=function(t,e,n,r){t.sort(e);const i=function(c,l){const h=l-c;let f,m;if(0===h)return null;if(1===h)return f=t[c],m=n?n(f):f,new Es(m,f.node,Es.BLACK,null,null);{const v=parseInt(h/2,10)+c,E=i(c,v),I=i(v+1,l);return f=t[v],m=n?n(f):f,new Es(m,f.node,Es.BLACK,E,I)}},a=function(c){let l=null,h=null,f=t.length;const m=function(E,I){const b=f-E,L=f;f-=E;const k=i(b+1,L),H=t[b],$=n?n(H):H;v(new Es($,H.node,I,null,k))},v=function(E){l?(l.left=E,l=E):(h=E,l=E)};for(let E=0;E<c.count;++E){const I=c.nextBitIsOne(),b=Math.pow(2,c.count-(E+1));I?m(b,Es.BLACK):(m(b,Es.BLACK),m(b,Es.RED))}return h}(new Jie(t.length));return new no(r||e,a)};let _b;const gp={};class qa{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return(0,M.hu)(gp&&cn,"ChildrenNode.ts has not been loaded"),_b=_b||new qa({".priority":gp},{".priority":cn}),_b}get(e){const n=(0,M.DV)(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof no?n:null}hasIndex(e){return(0,M.r3)(this.indexSet_,e.toString())}addIndex(e,n){(0,M.hu)(e!==Qs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(_t.Wrap);let a,s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();a=i?s0(r,e.getCompare()):gp;const c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;const h=Object.assign({},this.indexes_);return h[c]=a,new qa(h,l)}addToIndexes(e,n){const r=(0,M.UI)(this.indexes_,(i,o)=>{const s=(0,M.DV)(this.indexSet_,o);if((0,M.hu)(s,"Missing index implementation for "+o),i===gp){if(s.isDefinedOn(e.node)){const a=[],c=n.getIterator(_t.Wrap);let l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),s0(a,s.getCompare())}return gp}{const a=n.get(e.name);let c=i;return a&&(c=c.remove(new _t(e.name,a))),c.insert(e,e.node)}});return new qa(r,this.indexSet_)}removeFromIndexes(e,n){const r=(0,M.UI)(this.indexes_,i=>{if(i===gp)return i;{const o=n.get(e.name);return o?i.remove(new _t(e.name,o)):i}});return new qa(r,this.indexSet_)}}let Ym,tt=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&cB(this.priorityNode_),this.children_.isEmpty()&&(0,M.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ym||(Ym=new t(new no(gb),null,qa.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ym}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?Ym:r}}getChild(n){const r=ft(n);return null===r?this:this.getImmediateChild(r).getChild(Xt(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if((0,M.hu)(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new _t(n,r);let o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));const a=o.isEmpty()?Ym:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){const i=ft(n);if(null===i)return r;{(0,M.hu)(".priority"!==ft(n)||1===rl(n),".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(Xt(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,o=0,s=!0;if(this.forEachChild(cn,(a,c)=>{r[a]=c.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){const a=[];for(const c in r)a[c]=r[c];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+aB(this.getPriority().val())+":"),this.forEachChild(cn,(r,i)=>{const o=i.hash();""!==o&&(n+=":"+r+":"+o)}),this.lazyHash_=""===n?"":P5(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const o=this.resolveIndex_(i);if(o){const s=o.getPredecessorKey(new _t(n,r));return s?s.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new _t(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new _t(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,_t.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,_t.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Qm?-1:0}withIndex(n){if(n===Qs||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Qs||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(cn),o=r.getIterator(cn);let s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(n){return n===Qs?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const Qm=new class eoe extends tt{constructor(){super(new no(gb),tt.EMPTY_NODE,qa.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return tt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(_t,{MIN:{value:new _t(tl,tt.EMPTY_NODE)},MAX:{value:new _t(Wa,Qm)}}),sB.__EMPTY_NODE=tt.EMPTY_NODE,fp.__childrenNodeConstructor=tt,function Kie(t){mb=t}(Qm),function Yie(t){dB=t}(Qm);const toe=!0;function Rn(t,e=null){if(null===t)return tt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),(0,M.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new fp(t,Rn(e));if(t instanceof Array||!toe){let n=tt.EMPTY_NODE;return Rr(t,(r,i)=>{if((0,M.r3)(t,r)&&"."!==r.substring(0,1)){const o=Rn(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Rn(e))}{const n=[];let r=!1;if(Rr(t,(s,a)=>{if("."!==s.substring(0,1)){const c=Rn(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new _t(s,c)))}}),0===n.length)return tt.EMPTY_NODE;const o=s0(n,qie,s=>s.name,gb);if(r){const s=s0(n,cn.getCompare());return new tt(o,Rn(e),new qa({".priority":s},{".priority":cn}))}return new tt(o,Rn(e),qa.Default)}}!function Zie(t){uB=t}(Rn);class yb extends n0{constructor(e){super(),this.indexPath_=e,(0,M.hu)(!gt(e)&&".priority"!==ft(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return 0===o?Nu(e.name,n.name):o}makePost(e,n){const r=Rn(e),i=tt.EMPTY_NODE.updateChild(this.indexPath_,r);return new _t(n,i)}maxPost(){const e=tt.EMPTY_NODE.updateChild(this.indexPath_,Qm);return new _t(Wa,e)}toString(){return Km(this.indexPath_,0).join("/")}}const vb=new class noe extends n0{compare(e,n){const r=e.node.compareTo(n.node);return 0===r?Nu(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return _t.MIN}maxPost(){return _t.MAX}makePost(e,n){const r=Rn(e);return new _t(n,r)}toString(){return".value"}};function hB(t){return{type:"value",snapshotNode:t}}function mp(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Xm(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Jm(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class Cb{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){(0,M.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(null!=s&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(Xm(n,a)):(0,M.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(mp(n,r)):s.trackChildChange(Jm(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return null!=r&&(e.isLeafNode()||e.forEachChild(cn,(i,o)=>{n.hasChild(i)||r.trackChildChange(Xm(i,o))}),n.isLeafNode()||n.forEachChild(cn,(i,o)=>{if(e.hasChild(i)){const s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(Jm(i,o,s))}else r.trackChildChange(mp(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?tt.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class e_{constructor(e){this.indexedFilter_=new Cb(e.getIndex()),this.index_=e.getIndex(),this.startPost_=e_.getStartPost_(e),this.endPost_=e_.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new _t(n,r))||(r=tt.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=tt.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(tt.EMPTY_NODE);const o=this;return n.forEachChild(cn,(s,a)=>{o.matches(new _t(s,a))||(i=i.updateImmediateChild(s,tt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}return e.getIndex().maxPost()}}class ioe{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new e_(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new _t(n,r))||(r=tt.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=tt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<n.numChildren()&&n.isIndexed(this.index_)){let o;i=tt.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;i=i.updateImmediateChild(a.name,a.node),s++}}}else{let o;i=n.withIndex(this.index_),i=i.updatePriority(tt.EMPTY_NODE),o=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,tt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){const f=this.index_.getCompare();s=(m,v)=>f(v,m)}else s=this.index_.getCompare();const a=e;(0,M.hu)(a.numChildren()===this.limit_,"");const c=new _t(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(a.hasChild(n)){const f=a.getImmediateChild(n);let m=i.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=m&&(m.name===n||a.hasChild(m.name));)m=i.getChildAfterChild(this.index_,m,this.reverse_);const v=null==m?1:s(m,c);if(h&&!r.isEmpty()&&v>=0)return o?.trackChildChange(Jm(n,r,f)),a.updateImmediateChild(n,r);{o?.trackChildChange(Xm(n,f));const I=a.updateImmediateChild(n,tt.EMPTY_NODE);return null!=m&&this.rangedFilter_.matches(m)?(o?.trackChildChange(mp(m.name,m.node)),I.updateImmediateChild(m.name,m.node)):I}}return r.isEmpty()?e:h&&s(l,c)>=0?(null!=o&&(o.trackChildChange(Xm(l.name,l.node)),o.trackChildChange(mp(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,tt.EMPTY_NODE)):e}}class a0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=cn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,M.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,M.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:tl}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,M.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,M.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Wa}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,M.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===cn}copy(){const e=new a0;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function wb(t,e,n){const r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Pb(t,e,n){const r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function c0(t,e){const n=t.copy();return n.index_=e,n}function pB(t){const e={};if(t.isDefault())return e;let n;if(t.index_===cn?n="$priority":t.index_===vb?n="$value":t.index_===Qs?n="$key":((0,M.hu)(t.index_ instanceof yb,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=(0,M.Wl)(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=(0,M.Wl)(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+(0,M.Wl)(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=(0,M.Wl)(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+(0,M.Wl)(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function fB(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==cn&&(e.i=t.index_.toString()),e}class l0 extends X5{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=zm("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:((0,M.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=l0.getListenId_(e,r),a={};this.listens_[s]=a;const c=pB(e._queryParams);this.restRequest_(o+".json",c,(l,h)=>{let f=h;if(404===l&&(f=null,l=null),null===l&&this.onDataUpdate_(o,f,!1,r),(0,M.DV)(this.listens_,s)===a){let m;m=l?401===l?"permission_denied":"rest_error:"+l:"ok",i(m,null)}})}unlisten(e,n){const r=l0.getListenId_(e,n);delete this.listens_[r]}get(e){const n=pB(e._queryParams),r=e._path.toString(),i=new M.BH;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,M.xO)(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=(0,M.cI)(a.responseText)}catch{fi("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else 401!==a.status&&404!==a.status&&fi("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}class uoe{constructor(){this.rootNode_=tt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function u0(){return{value:null,children:new Map}}function _p(t,e,n){if(gt(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=ft(e);t.children.has(r)||t.children.set(r,u0()),_p(t.children.get(r),e=Xt(e),n)}}function Eb(t,e){if(gt(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(cn,(r,i)=>{_p(t,new Vt(r),i)}),Eb(t,e)}}if(t.children.size>0){const n=ft(e);return e=Xt(e),t.children.has(n)&&Eb(t.children.get(n),e)&&t.children.delete(n),0===t.children.size}return!0}function Mb(t,e,n){null!==t.value?n(e,t.value):function doe(t,e){t.children.forEach((n,r)=>{e(r,n)})}(t,(r,i)=>{Mb(i,new Vt(e.toString()+"/"+r),n)})}class hoe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Rr(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}class goe{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new hoe(e);const r=1e4+2e4*Math.random();Wm(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Rr(e,(i,o)=>{o>0&&(0,M.r3)(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Wm(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Xs=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Xs||{});function bb(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class d0{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Xs.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(gt(this.path)){if(null!=this.affectedTree.value)return(0,M.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Vt(e));return new d0(kt(),n,this.revert)}}return(0,M.hu)(ft(this.path)===e,"operationForChild called for unrelated child."),new d0(Xt(this.path),this.affectedTree,this.revert)}}class t_{constructor(e,n){this.source=e,this.path=n,this.type=Xs.LISTEN_COMPLETE}operationForChild(e){return gt(this.path)?new t_(this.source,kt()):new t_(this.source,Xt(this.path))}}class Vu{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Xs.OVERWRITE}operationForChild(e){return gt(this.path)?new Vu(this.source,kt(),this.snap.getImmediateChild(e)):new Vu(this.source,Xt(this.path),this.snap)}}class yp{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Xs.MERGE}operationForChild(e){if(gt(this.path)){const n=this.children.subtree(new Vt(e));return n.isEmpty()?null:n.value?new Vu(this.source,kt(),n.value):new yp(this.source,kt(),n)}return(0,M.hu)(ft(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new yp(this.source,Xt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class il{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(gt(e))return this.isFullyInitialized()&&!this.filtered_;const n=ft(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class moe{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function n_(t,e,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,c)=>function voe(t,e,n){if(null==e.childName||null==n.childName)throw(0,M.g5)("Should only compare child_ events.");const r=new _t(e.childName,e.snapshotNode),i=new _t(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,a,c)),s.forEach(a=>{const c=function yoe(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,a,o);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,t.query_))})})}function h0(t,e){return{eventCache:t,serverCache:e}}function r_(t,e,n,r){return h0(new il(e,n,r),t.serverCache)}function mB(t,e,n,r){return h0(t.eventCache,new il(e,n,r))}function p0(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Uu(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let Tb;class ln{constructor(e,n=(()=>(Tb||(Tb=new no(rie)),Tb))()){this.value=e,this.children=n}static fromObject(e){let n=new ln(null);return Rr(e,(r,i)=>{n=n.set(new Vt(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:kt(),value:this.value};if(gt(e))return null;{const r=ft(e),i=this.children.get(r);if(null!==i){const o=i.findRootMostMatchingPathAndValue(Xt(e),n);return null!=o?{path:In(new Vt(r),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(gt(e))return this;{const n=ft(e),r=this.children.get(n);return null!==r?r.subtree(Xt(e)):new ln(null)}}set(e,n){if(gt(e))return new ln(n,this.children);{const r=ft(e),o=(this.children.get(r)||new ln(null)).set(Xt(e),n),s=this.children.insert(r,o);return new ln(this.value,s)}}remove(e){if(gt(e))return this.children.isEmpty()?new ln(null):new ln(null,this.children);{const n=ft(e),r=this.children.get(n);if(r){const i=r.remove(Xt(e));let o;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new ln(null):new ln(this.value,o)}return this}}get(e){if(gt(e))return this.value;{const n=ft(e),r=this.children.get(n);return r?r.get(Xt(e)):null}}setTree(e,n){if(gt(e))return n;{const r=ft(e),o=(this.children.get(r)||new ln(null)).setTree(Xt(e),n);let s;return s=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new ln(this.value,s)}}fold(e){return this.fold_(kt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(In(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,kt(),n)}findOnPath_(e,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(gt(e))return null;{const o=ft(e),s=this.children.get(o);return s?s.findOnPath_(Xt(e),In(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,kt(),n)}foreachOnPath_(e,n,r){if(gt(e))return this;{this.value&&r(n,this.value);const i=ft(e),o=this.children.get(i);return o?o.foreachOnPath_(Xt(e),In(n,i),r):new ln(null)}}foreach(e){this.foreach_(kt(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(In(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class Ms{constructor(e){this.writeTree_=e}static empty(){return new Ms(new ln(null))}}function i_(t,e,n){if(gt(e))return new Ms(new ln(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let o=r.value;const s=Vi(i,e);return o=o.updateChild(s,n),new Ms(t.writeTree_.set(i,o))}{const i=new ln(n),o=t.writeTree_.setTree(e,i);return new Ms(o)}}}function Ab(t,e,n){let r=t;return Rr(n,(i,o)=>{r=i_(r,In(e,i),o)}),r}function _B(t,e){if(gt(e))return Ms.empty();{const n=t.writeTree_.setTree(e,new ln(null));return new Ms(n)}}function Db(t,e){return null!=Bu(t,e)}function Bu(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(Vi(n.path,e)):null}function yB(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(cn,(r,i)=>{e.push(new _t(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new _t(r,i.value))}),e}function ol(t,e){if(gt(e))return t;{const n=Bu(t,e);return new Ms(null!=n?new ln(n):t.writeTree_.subtree(e))}}function Sb(t){return t.writeTree_.isEmpty()}function vp(t,e){return vB(kt(),t.writeTree_,e)}function vB(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{".priority"===i?((0,M.hu)(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=vB(In(t,i),o,n)}),!n.getChild(t).isEmpty()&&null!==r&&(n=n.updateChild(In(t,".priority"),r)),n}}function f0(t,e){return MB(e,t)}function Ooe(t,e){if(t.snap)return Qo(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Qo(In(t.path,n),e))return!0;return!1}function boe(t){return t.visible}function CB(t,e,n){let r=Ms.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let a;if(o.snap)Qo(n,s)?(a=Vi(n,s),r=i_(r,a,o.snap)):Qo(s,n)&&(a=Vi(s,n),r=i_(r,kt(),o.snap.getChild(a)));else{if(!o.children)throw(0,M.g5)("WriteRecord should have .snap or .children");if(Qo(n,s))a=Vi(n,s),r=Ab(r,a,o.children);else if(Qo(s,n))if(a=Vi(s,n),gt(a))r=Ab(r,kt(),o.children);else{const c=(0,M.DV)(o.children,ft(a));if(c){const l=c.getChild(Xt(a));r=i_(r,kt(),l)}}}}}return r}function wB(t,e,n,r,i){if(r||i){const o=ol(t.visibleWrites,e);return!i&&Sb(o)?n:i||null!=n||Db(o,kt())?vp(CB(t.allWrites,function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(Qo(l.path,e)||Qo(e,l.path))},e),n||tt.EMPTY_NODE):null}{const o=Bu(t.visibleWrites,e);if(null!=o)return o;{const s=ol(t.visibleWrites,e);return Sb(s)?n:null!=n||Db(s,kt())?vp(s,n||tt.EMPTY_NODE):null}}}function g0(t,e,n,r){return wB(t.writeTree,t.treePath,e,n,r)}function Rb(t,e){return function Toe(t,e,n){let r=tt.EMPTY_NODE;const i=Bu(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(cn,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=ol(t.visibleWrites,e);return n.forEachChild(cn,(s,a)=>{const c=vp(ol(o,new Vt(s)),a);r=r.updateImmediateChild(s,c)}),yB(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}return yB(ol(t.visibleWrites,e)).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}(t.writeTree,t.treePath,e)}function PB(t,e,n,r){return function Aoe(t,e,n,r,i){(0,M.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=In(e,n);if(Db(t.visibleWrites,o))return null;{const s=ol(t.visibleWrites,o);return Sb(s)?i.getChild(n):vp(s,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function m0(t,e){return function Soe(t,e){return Bu(t.visibleWrites,e)}(t.writeTree,In(t.treePath,e))}function xb(t,e,n){return function Doe(t,e,n,r){const i=In(e,n),o=Bu(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?vp(ol(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function EB(t,e){return MB(In(t.treePath,e),t.writeTree)}function MB(t,e){return{treePath:t,writeTree:e}}class Noe{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;(0,M.hu)("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),(0,M.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if("child_added"===n&&"child_removed"===o)this.changeMap.set(r,Jm(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===o)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===o)this.changeMap.set(r,Xm(r,i.oldSnap));else if("child_changed"===n&&"child_added"===o)this.changeMap.set(r,mp(r,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==o)throw(0,M.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,Jm(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const OB=new class Foe{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}};class kb{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new il(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return xb(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Uu(this.viewCache_),o=function koe(t,e,n,r,i,o){return function Roe(t,e,n,r,i,o,s){let a;const c=ol(t.visibleWrites,e),l=Bu(c,kt());if(null!=l)a=l;else{if(null==n)return[];a=vp(c,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const h=[],f=s.getCompare(),m=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let v=m.getNext();for(;v&&h.length<i;)0!==f(v,r)&&h.push(v),v=m.getNext();return h}}(t.writeTree,t.treePath,e,n,r,i,o)}(this.writes_,i,n,1,r,e);return 0===o.length?null:o[0]}}function IB(t,e,n,r,i,o){const s=e.eventCache;if(null!=m0(r,n))return e;{let a,c;if(gt(n))if((0,M.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const l=Uu(e),f=Rb(r,l instanceof tt?l:tt.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{const l=g0(r,Uu(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{const l=ft(n);if(".priority"===l){(0,M.hu)(1===rl(n),"Can't have a priority with additional path components");const h=s.getNode();c=e.serverCache.getNode();const f=PB(r,n,h,c);a=null!=f?t.filter.updatePriority(h,f):s.getNode()}else{const h=Xt(n);let f;if(s.isCompleteForChild(l)){c=e.serverCache.getNode();const m=PB(r,n,s.getNode(),c);f=null!=m?s.getNode().getImmediateChild(l).updateChild(h,m):s.getNode().getImmediateChild(l)}else f=xb(r,l,e.serverCache);a=null!=f?t.filter.updateChild(s.getNode(),l,f,h,i,o):s.getNode()}}return r_(e,a,s.isFullyInitialized()||gt(n),t.filter.filtersNodes())}}function _0(t,e,n,r,i,o,s,a){const c=e.serverCache;let l;const h=s?t.filter:t.filter.getIndexedFilter();if(gt(n))l=h.updateFullNode(c.getNode(),r,null);else if(h.filtersNodes()&&!c.isFiltered()){const v=c.getNode().updateChild(n,r);l=h.updateFullNode(c.getNode(),v,null)}else{const v=ft(n);if(!c.isCompleteForPath(n)&&rl(n)>1)return e;const E=Xt(n),b=c.getNode().getImmediateChild(v).updateChild(E,r);l=".priority"===v?h.updatePriority(c.getNode(),b):h.updateChild(c.getNode(),v,b,E,OB,null)}const f=mB(e,l,c.isFullyInitialized()||gt(n),h.filtersNodes());return IB(t,f,n,i,new kb(i,f,o),a)}function Nb(t,e,n,r,i,o,s){const a=e.eventCache;let c,l;const h=new kb(i,e,o);if(gt(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,s),c=r_(e,l,!0,t.filter.filtersNodes());else{const f=ft(n);if(".priority"===f)l=t.filter.updatePriority(e.eventCache.getNode(),r),c=r_(e,l,a.isFullyInitialized(),a.isFiltered());else{const m=Xt(n),v=a.getNode().getImmediateChild(f);let E;if(gt(m))E=r;else{const I=h.getCompleteChild(f);E=null!=I?".priority"===hb(m)&&I.getChild(nB(m)).isEmpty()?I:I.updateChild(m,r):tt.EMPTY_NODE}c=v.equals(E)?e:r_(e,t.filter.updateChild(a.getNode(),f,E,m,h,s),a.isFullyInitialized(),t.filter.filtersNodes())}}return c}function bB(t,e){return t.eventCache.isCompleteForChild(e)}function TB(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Fb(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l,c=e;l=gt(n)?r:new ln(null).setTree(n,r);const h=e.serverCache.getNode();return l.children.inorderTraversal((f,m)=>{if(h.hasChild(f)){const E=TB(0,e.serverCache.getNode().getImmediateChild(f),m);c=_0(t,c,new Vt(f),E,i,o,s,a)}}),l.children.inorderTraversal((f,m)=>{const v=!e.serverCache.isCompleteForChild(f)&&null===m.value;if(!h.hasChild(f)&&!v){const I=TB(0,e.serverCache.getNode().getImmediateChild(f),m);c=_0(t,c,new Vt(f),I,i,o,s,a)}}),c}class Goe{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Cb(r.getIndex()),o=function ooe(t){return t.loadsAllData()?new Cb(t.getIndex()):t.hasLimit()?new ioe(t):new e_(t)}(r);this.processor_=function Loe(t){return{filter:t}}(o);const s=n.serverCache,a=n.eventCache,c=i.updateFullNode(tt.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(tt.EMPTY_NODE,a.getNode(),null),h=new il(c,s.isFullyInitialized(),i.filtersNodes()),f=new il(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=h0(f,h),this.eventGenerator_=new moe(this.query_)}get query(){return this.query_}}function Koe(t,e){const n=Uu(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!gt(e)&&!n.getImmediateChild(ft(e)).isEmpty())?n.getChild(e):null}function AB(t){return 0===t.eventRegistrations_.length}function DB(t,e,n){const r=[];if(n){(0,M.hu)(null==e,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){const s=t.eventRegistrations_[o];if(s.matches(e)){if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}else i.push(s)}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function SB(t,e,n,r){e.type===Xs.MERGE&&null!==e.source.queryId&&((0,M.hu)(Uu(t.viewCache_),"We should always have a full cache before handling merges"),(0,M.hu)(p0(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=function Uoe(t,e,n,r,i){const o=new Noe;let s,a;if(n.type===Xs.OVERWRITE){const l=n;l.source.fromUser?s=Nb(t,e,l.path,l.snap,r,i,o):((0,M.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!gt(l.path),s=_0(t,e,l.path,l.snap,r,i,a,o))}else if(n.type===Xs.MERGE){const l=n;l.source.fromUser?s=function joe(t,e,n,r,i,o,s){let a=e;return r.foreach((c,l)=>{const h=In(n,c);bB(e,ft(h))&&(a=Nb(t,a,h,l,i,o,s))}),r.foreach((c,l)=>{const h=In(n,c);bB(e,ft(h))||(a=Nb(t,a,h,l,i,o,s))}),a}(t,e,l.path,l.children,r,i,o):((0,M.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=Fb(t,e,l.path,l.children,r,i,a,o))}else if(n.type===Xs.ACK_USER_WRITE){const l=n;s=l.revert?function zoe(t,e,n,r,i,o){let s;if(null!=m0(r,n))return e;{const a=new kb(r,e,i),c=e.eventCache.getNode();let l;if(gt(n)||".priority"===ft(n)){let h;if(e.serverCache.isFullyInitialized())h=g0(r,Uu(e));else{const f=e.serverCache.getNode();(0,M.hu)(f instanceof tt,"serverChildren would be complete if leaf node"),h=Rb(r,f)}l=t.filter.updateFullNode(c,h,o)}else{const h=ft(n);let f=xb(r,h,e.serverCache);null==f&&e.serverCache.isCompleteForChild(h)&&(f=c.getImmediateChild(h)),l=null!=f?t.filter.updateChild(c,h,f,Xt(n),a,o):e.eventCache.getNode().hasChild(h)?t.filter.updateChild(c,h,tt.EMPTY_NODE,Xt(n),a,o):c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=g0(r,Uu(e)),s.isLeafNode()&&(l=t.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||null!=m0(r,kt()),r_(e,l,s,t.filter.filtersNodes())}}(t,e,l.path,r,i,o):function $oe(t,e,n,r,i,o,s){if(null!=m0(i,n))return e;const a=e.serverCache.isFiltered(),c=e.serverCache;if(null!=r.value){if(gt(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return _0(t,e,n,c.getNode().getChild(n),i,o,a,s);if(gt(n)){let l=new ln(null);return c.getNode().forEachChild(Qs,(h,f)=>{l=l.set(new Vt(h),f)}),Fb(t,e,n,l,i,o,a,s)}return e}{let l=new ln(null);return r.foreach((h,f)=>{const m=In(n,h);c.isCompleteForPath(m)&&(l=l.set(h,c.getNode().getChild(m)))}),Fb(t,e,n,l,i,o,a,s)}}(t,e,l.path,l.affectedTree,r,i,o)}else{if(n.type!==Xs.LISTEN_COMPLETE)throw(0,M.g5)("Unknown operation type: "+n.type);s=function Hoe(t,e,n,r,i){const o=e.serverCache;return IB(t,mB(e,o.getNode(),o.isFullyInitialized()||gt(n),o.isFiltered()),n,r,OB,i)}(t,e,n.path,r,o)}const c=o.getChanges();return function Boe(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=p0(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(hB(p0(e)))}}(e,s,c),{viewCache:s,changes:c}}(t.processor_,i,e,n,r);return function Voe(t,e){(0,M.hu)(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),(0,M.hu)(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,o.viewCache),(0,M.hu)(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,RB(t,o.changes,o.viewCache.eventCache.getNode(),null)}function RB(t,e,n,r){return function _oe(t,e,n,r){const i=[],o=[];return e.forEach(s=>{"child_changed"===s.type&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function roe(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(s.childName,s.snapshotNode))}),n_(t,i,"child_removed",e,r,n),n_(t,i,"child_added",e,r,n),n_(t,i,"child_moved",o,r,n),n_(t,i,"child_changed",e,r,n),n_(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}let y0,C0;class xB{constructor(){this.views=new Map}}function Lb(t,e,n,r){const i=e.source.queryId;if(null!==i){const o=t.views.get(i);return(0,M.hu)(null!=o,"SyncTree gave us an op for an invalid query."),SB(o,e,n,r)}{let o=[];for(const s of t.views.values())o=o.concat(SB(s,e,n,r));return o}}function kB(t,e,n,r,i){const s=t.views.get(e._queryIdentifier);if(!s){let a=g0(n,i?r:null),c=!1;a?c=!0:r instanceof tt?(a=Rb(n,r),c=!1):(a=tt.EMPTY_NODE,c=!1);const l=h0(new il(a,c,!1),new il(r,i,!1));return new Goe(e,l)}return s}function NB(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function sl(t,e){let n=null;for(const r of t.views.values())n=n||Koe(r,e);return n}function FB(t,e){return e._queryParams.loadsAllData()?v0(t):t.views.get(e._queryIdentifier)}function LB(t,e){return null!=FB(t,e)}function al(t){return null!=v0(t)}function v0(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let ise=1;class VB{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ln(null),this.pendingWriteTree_=function xoe(){return{visibleWrites:Ms.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Vb(t,e,n,r,i){return function woe(t,e,n,r,i){(0,M.hu)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=i_(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?Cp(t,new Vu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function cl(t,e,n=!1){const r=function Eoe(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function Moe(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);(0,M.hu)(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&Ooe(a,r.path)?i=!1:Qo(r.path,a.path)&&(o=!0)),s--}return!!i&&(o?(function Ioe(t){t.visibleWrites=CB(t.allWrites,boe,kt()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=_B(t.visibleWrites,r.path):Rr(r.children,c=>{t.visibleWrites=_B(t.visibleWrites,In(r.path,c))}),!0))}(t.pendingWriteTree_,e)){let o=new ln(null);return null!=r.snap?o=o.set(kt(),!0):Rr(r.children,s=>{o=o.set(new Vt(s),!0)}),Cp(t,new d0(r.path,o,n))}return[]}function o_(t,e,n){return Cp(t,new Vu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function w0(t,e,n,r,i=!1){const o=e._path,s=t.syncPointTree_.get(o);let a=[];if(s&&("default"===e._queryIdentifier||LB(s,e))){const c=function tse(t,e,n,r){const i=e._queryIdentifier,o=[];let s=[];const a=al(t);if("default"===i)for(const[c,l]of t.views.entries())s=s.concat(DB(l,n,r)),AB(l)&&(t.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{const c=t.views.get(i);c&&(s=s.concat(DB(c,n,r)),AB(c)&&(t.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!al(t)&&o.push(new(function Xoe(){return(0,M.hu)(y0,"Reference.ts has not been loaded"),y0}())(e._repo,e._path)),{removed:o,events:s}}(s,e,n,r);(function Joe(t){return 0===t.views.size})(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const l=c.removed;if(a=c.events,!i){const h=-1!==l.findIndex(m=>m._queryParams.loadsAllData()),f=t.syncPointTree_.findOnPath(o,(m,v)=>al(v));if(h&&!f){const m=t.syncPointTree_.subtree(o);if(!m.isEmpty()){const v=function dse(t){return t.fold((e,n,r)=>{if(n&&al(n))return[v0(n)];{let i=[];return n&&(i=NB(n)),Rr(r,(o,s)=>{i=i.concat(s)}),i}})}(m);for(let E=0;E<v.length;++E){const I=v[E],b=I.query,L=$B(t,I);t.listenProvider_.startListening(a_(b),s_(t,b),L.hashFn,L.onComplete)}}}!f&&l.length>0&&!r&&(h?t.listenProvider_.stopListening(a_(e),null):l.forEach(m=>{const v=t.queryToTagMap.get(E0(m));t.listenProvider_.stopListening(a_(m),v)}))}!function hse(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=E0(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,l)}return a}function UB(t,e,n,r){const i=Bb(t,r);if(null!=i){const o=jb(i),s=o.path,a=o.queryId,c=Vi(s,e);return $b(t,s,new Vu(bb(a),c,n))}return[]}function Ub(t,e,n,r=!1){const i=e._path;let o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(m,v)=>{const E=Vi(m,i);o=o||sl(v,E),s=s||al(v)});let c,a=t.syncPointTree_.get(i);a?(s=s||al(a),o=o||sl(a,kt())):(a=new xB,t.syncPointTree_=t.syncPointTree_.set(i,a)),null!=o?c=!0:(c=!1,o=tt.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((v,E)=>{const I=sl(E,kt());I&&(o=o.updateImmediateChild(v,I))}));const l=LB(a,e);if(!l&&!e._queryParams.loadsAllData()){const m=E0(e);(0,M.hu)(!t.queryToTagMap.has(m),"View does not exist, but we have a tag");const v=function pse(){return ise++}();t.queryToTagMap.set(m,v),t.tagToQueryMap.set(v,m)}let f=function ese(t,e,n,r,i,o){const s=kB(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),function Zoe(t,e){t.eventRegistrations_.push(e)}(s,n),function Yoe(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(cn,(o,s)=>{r.push(mp(o,s))}),n.isFullyInitialized()&&r.push(hB(n.getNode())),RB(t,r,n.getNode(),e)}(s,n)}(a,e,n,f0(t.pendingWriteTree_,i),o,c);if(!l&&!s&&!r){const m=FB(a,e);f=f.concat(function fse(t,e,n){const r=e._path,i=s_(t,e),o=$B(t,n),s=t.listenProvider_.startListening(a_(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)(0,M.hu)(!al(a.value),"If we're adding a query, it shouldn't be shadowed");else{const c=a.fold((l,h,f)=>{if(!gt(l)&&h&&al(h))return[v0(h).query];{let m=[];return h&&(m=m.concat(NB(h).map(v=>v.query))),Rr(f,(v,E)=>{m=m.concat(E)}),m}});for(let l=0;l<c.length;++l){const h=c[l];t.listenProvider_.stopListening(a_(h),s_(t,h))}}return s}(t,e,m))}return f}function P0(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const l=sl(a,Vi(s,e));if(l)return l});return wB(i,e,o,n,!0)}function Cp(t,e){return BB(e,t.syncPointTree_,null,f0(t.pendingWriteTree_,kt()))}function BB(t,e,n,r){if(gt(t.path))return jB(t,e,n,r);{const i=e.get(kt());null==n&&null!=i&&(n=sl(i,kt()));let o=[];const s=ft(t.path),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){const l=n?n.getImmediateChild(s):null,h=EB(r,s);o=o.concat(BB(a,c,l,h))}return i&&(o=o.concat(Lb(i,t,r,n))),o}}function jB(t,e,n,r){const i=e.get(kt());null==n&&null!=i&&(n=sl(i,kt()));let o=[];return e.children.inorderTraversal((s,a)=>{const c=n?n.getImmediateChild(s):null,l=EB(r,s),h=t.operationForChild(s);h&&(o=o.concat(jB(h,a,c,l)))}),i&&(o=o.concat(Lb(i,t,r,n))),o}function $B(t,e){const n=e.query,r=s_(t,n);return{hashFn:()=>(function Woe(t){return t.viewCache_.serverCache.getNode()}(e)||tt.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function cse(t,e,n){const r=Bb(t,n);if(r){const i=jb(r),o=i.path,s=i.queryId,a=Vi(o,e);return $b(t,o,new t_(bb(s),a))}return[]}(t,n._path,r):function ase(t,e){return Cp(t,new t_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);{const o=function sie(t,e){let n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(i,n);return w0(t,n,null,o)}}}}function s_(t,e){const n=E0(e);return t.queryToTagMap.get(n)}function E0(t){return t._path.toString()+"$"+t._queryIdentifier}function Bb(t,e){return t.tagToQueryMap.get(e)}function jb(t){const e=t.indexOf("$");return(0,M.hu)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Vt(t.substr(0,e))}}function $b(t,e,n){const r=t.syncPointTree_.get(e);return(0,M.hu)(r,"Missing sync point for query tag that we're tracking"),Lb(r,n,f0(t.pendingWriteTree_,e),null)}function a_(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(function rse(){return(0,M.hu)(C0,"Reference.ts has not been loaded"),C0}())(t._repo,t._path):t}class Hb{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Hb(n)}node(){return this.node_}}class zb{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=In(this.path_,e);return new zb(this.syncTree_,n)}node(){return P0(this.syncTree_,this.path_)}}const gse=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},HB=function(t,e,n){return t&&"object"==typeof t?((0,M.hu)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?mse(t[".sv"],e,n):"object"==typeof t[".sv"]?_se(t[".sv"],e):void(0,M.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},mse=function(t,e,n){if("timestamp"===t)return n.timestamp;(0,M.hu)(!1,"Unexpected server value: "+t)},_se=function(t,e,n){t.hasOwnProperty("increment")||(0,M.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&(0,M.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,M.hu)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!=typeof s?r:s+r},zB=function(t,e,n,r){return Wb(e,new zb(n,t),r)},Gb=function(t,e,n){return Wb(t,new Hb(e),n)};function Wb(t,e,n){const r=t.getPriority().val(),i=HB(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=HB(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new fp(a,Rn(i)):t}{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new fp(i))),s.forEachChild(cn,(a,c)=>{const l=Wb(c,e.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}class qb{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function M0(t,e){let n=e instanceof Vt?e:new Vt(e),r=t,i=ft(n);for(;null!==i;){const o=(0,M.DV)(r.node.children,i)||{children:{},childCount:0};r=new qb(i,r,o),n=Xt(n),i=ft(n)}return r}function ju(t){return t.node.value}function Kb(t,e){t.node.value=e,Zb(t)}function GB(t){return t.node.childCount>0}function O0(t,e){Rr(t.node.children,(n,r)=>{e(new qb(n,t,r))})}function WB(t,e,n,r){n&&!r&&e(t),O0(t,i=>{WB(i,e,!0,r)}),n&&r&&e(t)}function c_(t){return new Vt(null===t.parent?t.name:c_(t.parent)+"/"+t.name)}function Zb(t){null!==t.parent&&function Cse(t,e,n){const r=function yse(t){return void 0===ju(t)&&!GB(t)}(n),i=(0,M.r3)(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Zb(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Zb(t))}(t.parent,t.name,t)}const wse=/[\[\].#$\/\u0000-\u001F\u007F]/,Pse=/[\[\].#$\u0000-\u001F\u007F]/,Yb=10485760,I0=function(t){return"string"==typeof t&&0!==t.length&&!wse.test(t)},qB=function(t){return"string"==typeof t&&0!==t.length&&!Pse.test(t)},l_=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!Xw(t)||t&&"object"==typeof t&&(0,M.r3)(t,".sv")},Js=function(t,e,n,r){r&&void 0===e||u_((0,M.gK)(t,"value"),e,n)},u_=function(t,e,n){const r=n instanceof Vt?new Uie(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+Fu(r));if("function"==typeof e)throw new Error(t+"contains a function "+Fu(r)+" with contents = "+e.toString());if(Xw(e))throw new Error(t+"contains "+e.toString()+" "+Fu(r));if("string"==typeof e&&e.length>Yb/3&&(0,M.ug)(e)>Yb)throw new Error(t+"contains a string greater than "+Yb+" utf8 bytes "+Fu(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,o=!1;if(Rr(e,(s,a)=>{if(".value"===s)i=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!I0(s)))throw new Error(t+" contains an invalid key ("+s+") "+Fu(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Bie(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=(0,M.ug)(e),rB(t)})(r,s),u_(t,a,r),function jie(t){const e=t.parts_.pop();t.byteLength_-=(0,M.ug)(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&o)throw new Error(t+' contains ".value" child '+Fu(r)+" in addition to actual children.")}},KB=function(t,e,n,r){if(r&&void 0===e)return;const i=(0,M.gK)(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const o=[];Rr(e,(s,a)=>{const c=new Vt(s);if(u_(i,a,In(n,c)),".priority"===hb(c)&&!l_(a))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(c)}),function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const o=Km(r);for(let s=0;s<o.length;s++)if((".priority"!==o[s]||s!==o.length-1)&&!I0(o[s]))throw new Error(t+"contains an invalid key ("+o[s]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(Vie);let i=null;for(n=0;n<e.length;n++){if(r=e[n],null!==i&&Qo(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,o)},Qb=function(t,e,n){if(!n||void 0!==e){if(Xw(e))throw new Error((0,M.gK)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!l_(e))throw new Error((0,M.gK)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},d_=function(t,e,n,r){if(!(r&&void 0===n||I0(n)))throw new Error((0,M.gK)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},h_=function(t,e,n,r){if(!(r&&void 0===n||qB(n)))throw new Error((0,M.gK)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ose=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),h_(t,e,n,r)},Xo=function(t,e){if(".info"===ft(e))throw new Error(t+" failed = Can't modify data under /.info/")},ZB=function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!I0(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),qB(t)}(n))throw new Error((0,M.gK)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Ise{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function b0(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();null!==n&&!pb(o,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function YB(t,e,n){b0(t,n),QB(t,r=>pb(r,e))}function Eo(t,e,n){b0(t,n),QB(t,r=>Qo(r,e)||Qo(e,r))}function QB(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(bse(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function bse(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();ku&&Sr("event: "+n.toString()),hp(r)}}}const XB="repo_interrupt",Tse=25;class Ase{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ise,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=u0(),this.transactionQueueTree_=new qb,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function JB(t){const n=t.infoData_.getNode(new Vt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function p_(t){return gse({timestamp:JB(t)})}function e4(t,e,n,r,i){t.dataUpdateCount++;const o=new Vt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const c=(0,M.UI)(n,l=>Rn(l));s=function lse(t,e,n,r){const i=Bb(t,r);if(i){const o=jb(i),s=o.path,a=o.queryId,c=Vi(s,e),l=ln.fromObject(n);return $b(t,s,new yp(bb(a),c,l))}return[]}(t.serverSyncTree_,o,c,i)}else{const c=Rn(n);s=UB(t.serverSyncTree_,o,c,i)}else if(r){const c=(0,M.UI)(n,l=>Rn(l));s=function sse(t,e,n){const r=ln.fromObject(n);return Cp(t,new yp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,o,c)}else{const c=Rn(n);s=o_(t.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=Pp(t,o)),Eo(t.eventQueue_,a,s)}function t4(t,e){Xb(t,"connected",e),!1===e&&function kse(t){wp(t,"onDisconnectEvents");const e=p_(t),n=u0();Mb(t.onDisconnect_,kt(),(i,o)=>{const s=zB(i,o,t.serverSyncTree_,e);_p(n,i,s)});let r=[];Mb(n,kt(),(i,o)=>{r=r.concat(o_(t.serverSyncTree_,i,o));const s=nT(t,i);Pp(t,s)}),t.onDisconnect_=u0(),Eo(t.eventQueue_,kt(),r)}(t)}function Xb(t,e,n){const r=new Vt("/.info/"+e),i=Rn(n);t.infoData_.updateSnapshot(r,i);const o=o_(t.infoSyncTree_,r,i);Eo(t.eventQueue_,r,o)}function T0(t){return t.nextWriteId_++}function Jb(t,e,n,r,i){wp(t,"set",{path:e.toString(),value:n,priority:r});const o=p_(t),s=Rn(n,r),a=P0(t.serverSyncTree_,e),c=Gb(s,a,o),l=T0(t),h=Vb(t.serverSyncTree_,e,c,l,!0);b0(t.eventQueue_,h),t.server_.put(e.toString(),s.val(!0),(m,v)=>{const E="ok"===m;E||fi("set at "+e+" failed: "+m);const I=cl(t.serverSyncTree_,l,!E);Eo(t.eventQueue_,e,I),ll(0,i,m,v)});const f=nT(t,e);Pp(t,f),Eo(t.eventQueue_,f,[])}function Nse(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{"ok"===r&&Eb(t.onDisconnect_,e),ll(0,n,r,i)})}function n4(t,e,n,r){const i=Rn(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(o,s)=>{"ok"===o&&_p(t.onDisconnect_,e,i),ll(0,r,o,s)})}function eT(t,e,n){let r;r=".info"===ft(e._path)?w0(t.infoSyncTree_,e,n):w0(t.serverSyncTree_,e,n),YB(t.eventQueue_,e._path,r)}function r4(t){t.persistentConnection_&&t.persistentConnection_.interrupt(XB)}function wp(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Sr(n,...e)}function ll(t,e,n,r){e&&hp(()=>{if("ok"===n)e(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,e(s)}})}function tT(t,e,n){return P0(t.serverSyncTree_,e,n)||tt.EMPTY_NODE}function A0(t,e=t.transactionQueueTree_){if(e||D0(t,e),ju(e)){const n=o4(t,e);(0,M.hu)(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function jse(t,e,n){const r=n.map(l=>l.currentWriteId),i=tT(t,e,r);let o=i;const s=i.hash();for(let l=0;l<n.length;l++){const h=n[l];(0,M.hu)(0===h.status,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const f=Vi(e,h.path);o=o.updateChild(f,h.currentOutputSnapshotRaw)}const a=o.val(!0),c=e;t.server_.put(c.toString(),a,l=>{wp(t,"transaction put response",{path:c.toString(),status:l});let h=[];if("ok"===l){const f=[];for(let m=0;m<n.length;m++)n[m].status=2,h=h.concat(cl(t.serverSyncTree_,n[m].currentWriteId)),n[m].onComplete&&f.push(()=>n[m].onComplete(null,!0,n[m].currentOutputSnapshotResolved)),n[m].unwatcher();D0(t,M0(t.transactionQueueTree_,e)),A0(t,t.transactionQueueTree_),Eo(t.eventQueue_,e,h);for(let m=0;m<f.length;m++)hp(f[m])}else{if("datastale"===l)for(let f=0;f<n.length;f++)n[f].status=3===n[f].status?4:0;else{fi("transaction at "+c.toString()+" failed: "+l);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=l}Pp(t,e)}},s)}(t,c_(e),n)}else GB(e)&&O0(e,n=>{A0(t,n)})}function Pp(t,e){const n=i4(t,e),r=c_(n);return function $se(t,e,n){if(0===e.length)return;const r=[];let i=[];const s=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const c=e[a],l=Vi(n,c.path);let f,h=!1;if((0,M.hu)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)h=!0,f=c.abortReason,i=i.concat(cl(t.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=Tse)h=!0,f="maxretry",i=i.concat(cl(t.serverSyncTree_,c.currentWriteId,!0));else{const m=tT(t,c.path,s);c.currentInputSnapshot=m;const v=e[a].update(m.val());if(void 0!==v){u_("transaction failed: Data returned ",v,c.path);let E=Rn(v);"object"==typeof v&&null!=v&&(0,M.r3)(v,".priority")||(E=E.updatePriority(m.getPriority()));const b=c.currentWriteId,L=p_(t),k=Gb(E,m,L);c.currentOutputSnapshotRaw=E,c.currentOutputSnapshotResolved=k,c.currentWriteId=T0(t),s.splice(s.indexOf(b),1),i=i.concat(Vb(t.serverSyncTree_,c.path,k,c.currentWriteId,c.applyLocally)),i=i.concat(cl(t.serverSyncTree_,b,!0))}else h=!0,f="nodata",i=i.concat(cl(t.serverSyncTree_,c.currentWriteId,!0))}Eo(t.eventQueue_,n,i),i=[],h&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===f?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(f),!1,null)))}D0(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)hp(r[a]);A0(t,t.transactionQueueTree_)}(t,o4(t,n),r),r}function i4(t,e){let n,r=t.transactionQueueTree_;for(n=ft(e);null!==n&&void 0===ju(r);)r=M0(r,n),n=ft(e=Xt(e));return r}function o4(t,e){const n=[];return s4(t,e,n),n.sort((r,i)=>r.order-i.order),n}function s4(t,e,n){const r=ju(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);O0(e,i=>{s4(t,i,n)})}function D0(t,e){const n=ju(e);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Kb(e,n.length>0?n:void 0)}O0(e,r=>{D0(t,r)})}function nT(t,e){const n=c_(i4(t,e)),r=M0(t.transactionQueueTree_,e);return function vse(t,e,n){let r=n?t:t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{rT(t,i)}),rT(t,r),WB(r,i=>{rT(t,i)}),n}function rT(t,e){const n=ju(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,M.hu)(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):((0,M.hu)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(cl(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?Kb(e,void 0):n.length=o+1,Eo(t.eventQueue_,c_(e),i);for(let s=0;s<r.length;s++)hp(r[s])}}const iT=function(t,e){const n=Gse(t),r=n.namespace;return"firebase.com"===n.domain&&Ys(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&Ys("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&fi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new sb(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,e,"",r!==n.subdomain),path:new Vt(n.pathString)}},Gse=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",c=443;if("string"==typeof t){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let h=t.indexOf("/");-1===h&&(h=t.length);let f=t.indexOf("?");-1===f&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(i=function Hse(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(t.substring(h,f)));const m=function zse(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):fi(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,f)));l=e.indexOf(":"),l>=0?(s="https"===a||"wss"===a,c=parseInt(e.substring(l+1),10)):l=e.length;const v=e.slice(0,l);if("localhost"===v.toLowerCase())n="localhost";else if(v.split(".").length<=2)n=v;else{const E=e.indexOf(".");r=e.substring(0,E).toLowerCase(),n=e.substring(E+1),o=r}"ns"in m&&(o=m.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},a4="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Wse=function(){let t=0;const e=[];return function(n){const r=n===t;let i;t=n;const o=new Array(8);for(i=7;i>=0;i--)o[i]=a4.charAt(n%64),n=Math.floor(n/64);(0,M.hu)(0===n,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&63===e[i];i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)s+=a4.charAt(e[i]);return(0,M.hu)(20===s.length,"nextPushId: Length should be 20."),s}}();class c4{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,M.Wl)(this.snapshot.exportVal())}}class l4{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class oT{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return(0,M.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class u4{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new M.BH;return Nse(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Xo("OnDisconnect.remove",this._path);const e=new M.BH;return n4(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Xo("OnDisconnect.set",this._path),Js("OnDisconnect.set",e,this._path,!1);const n=new M.BH;return n4(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){Xo("OnDisconnect.setWithPriority",this._path),Js("OnDisconnect.setWithPriority",e,this._path,!1),Qb("OnDisconnect.setWithPriority",n,!1);const r=new M.BH;return function Fse(t,e,n,r,i){const o=Rn(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),(s,a)=>{"ok"===s&&_p(t.onDisconnect_,e,o),ll(0,i,s,a)})}(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){Xo("OnDisconnect.update",this._path),KB("OnDisconnect.update",e,this._path,!1);const n=new M.BH;return function Lse(t,e,n,r){if((0,M.xb)(n))return Sr("onDisconnect().update() called with empty data.  Don't do anything."),void ll(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,(i,o)=>{"ok"===i&&Rr(n,(s,a)=>{const c=Rn(a);_p(t.onDisconnect_,In(e,s),c)}),ll(0,r,i,o)})}(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}}class ro{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return gt(this._path)?null:hb(this._path)}get ref(){return new Jo(this._repo,this._path)}get _queryIdentifier(){const e=fB(this._queryParams),n=ib(e);return"{}"===n?"default":n}get _queryObject(){return fB(this._queryParams)}isEqual(e){if(!((e=(0,M.m9)(e))instanceof ro))return!1;const n=this._repo===e._repo,r=pb(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Lie(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}function S0(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function ul(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Qs){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==tl)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==Wa)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===cn){if(null!=e&&!l_(e)||null!=n&&!l_(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,M.hu)(t.getIndex()instanceof yb||t.getIndex()===vb,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function R0(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Jo extends ro{constructor(e,n){super(e,n,new a0,!1)}get parent(){const e=nB(this._path);return null===e?null:new Jo(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class $u{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Vt(e),r=Hu(this.ref,e);return new $u(this._node.getChild(n),r,cn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new $u(i,Hu(this.ref,r),cn)))}hasChild(e){const n=new Vt(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function xr(t,e){return(t=(0,M.m9)(t))._checkNotDeleted("ref"),void 0!==e?Hu(t._root,e):t._root}function d4(t,e){(t=(0,M.m9)(t))._checkNotDeleted("refFromURL");const n=iT(e,t._repo.repoInfo_.nodeAdmin);ZB("refFromURL",n);const r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&Ys("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),xr(t,n.path.toString())}function Hu(t,e){return null===ft((t=(0,M.m9)(t))._path)?Ose("child","path",e,!1):h_("child","path",e,!1),new Jo(t._repo,In(t._path,e))}function Os(t,e){t=(0,M.m9)(t),Xo("set",t._path),Js("set",e,t._path,!1);const n=new M.BH;return Jb(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Qse(t,e){KB("update",e,t._path,!1);const n=new M.BH;return function xse(t,e,n,r){wp(t,"update",{path:e.toString(),value:n});let i=!0;const o=p_(t),s={};if(Rr(n,(a,c)=>{i=!1,s[a]=zB(In(e,a),Rn(c),t.serverSyncTree_,o)}),i)Sr("update() called with empty data.  Don't do anything."),ll(0,r,"ok",void 0);else{const a=T0(t),c=function ose(t,e,n,r){!function Poe(t,e,n,r){(0,M.hu)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Ab(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);const i=ln.fromObject(n);return Cp(t,new yp({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,e,s,a);b0(t.eventQueue_,c),t.server_.merge(e.toString(),n,(l,h)=>{const f="ok"===l;f||fi("update at "+e+" failed: "+l);const m=cl(t.serverSyncTree_,a,!f),v=m.length>0?Pp(t,e):e;Eo(t.eventQueue_,v,m),ll(0,r,l,h)}),Rr(n,l=>{const h=nT(t,In(e,l));Pp(t,h)}),Eo(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function f_(t){t=(0,M.m9)(t);const e=new oT(()=>{}),n=new g_(e);return function Rse(t,e,n){const r=function use(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(l,h)=>{const f=Vi(l,n);r=r||sl(h,f)});let i=t.syncPointTree_.get(n);i?r=r||sl(i,kt()):(i=new xB,t.syncPointTree_=t.syncPointTree_.set(n,i));const o=null!=r,s=o?new il(r,!0,!1):null;return function qoe(t){return p0(t.viewCache_)}(kB(i,e,f0(t.pendingWriteTree_,e._path),o?s.getNode():tt.EMPTY_NODE,o))}(t.serverSyncTree_,e);return null!=r?Promise.resolve(r):t.server_.get(e).then(i=>{const o=Rn(i).withIndex(e._queryParams.getIndex());let s;if(Ub(t.serverSyncTree_,e,n,!0),e._queryParams.loadsAllData())s=o_(t.serverSyncTree_,e._path,o);else{const a=s_(t.serverSyncTree_,e);s=UB(t.serverSyncTree_,e._path,o,a)}return Eo(t.eventQueue_,e._path,s),w0(t.serverSyncTree_,e,n,null,!0),o},i=>(wp(t,"get for query "+(0,M.Wl)(e)+" failed: "+i),Promise.reject(new Error(i))))}(t._repo,t,n).then(r=>new $u(r,new Jo(t._repo,t._path),t._queryParams.getIndex()))}class g_{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,n){const r=n._queryParams.getIndex();return new c4("value",this,new $u(e.snapshotNode,new Jo(n._repo,n._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new l4(this,e,n):null}matches(e){return e instanceof g_&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class x0{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n="children_added"===e?"child_added":e;return n="children_removed"===n?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new l4(this,e,n):null}createEvent(e,n){(0,M.hu)(null!=e.childName,"Child events should have a childName.");const r=Hu(new Jo(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new c4(e.type,this,new $u(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof x0&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function m_(t,e,n,r,i){let o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){const c=n,l=(h,f)=>{eT(t._repo,t,a),c(h,f)};l.userCallback=n.userCallback,l.context=n.context,n=l}const s=new oT(n,o||void 0),a="value"===e?new g_(s):new x0(e,s);return function Vse(t,e,n){let r;r=".info"===ft(e._path)?Ub(t.infoSyncTree_,e,n):Ub(t.serverSyncTree_,e,n),YB(t.eventQueue_,e._path,r)}(t._repo,t,a),()=>eT(t._repo,t,a)}function zu(t,e,n,r){return m_(t,"value",e,n,r)}function h4(t,e,n,r){return m_(t,"child_added",e,n,r)}function p4(t,e,n,r){return m_(t,"child_changed",e,n,r)}function f4(t,e,n,r){return m_(t,"child_moved",e,n,r)}function g4(t,e,n,r){return m_(t,"child_removed",e,n,r)}function m4(t,e,n){let r=null;const i=n?new oT(n):null;"value"===e?r=new g_(i):e&&(r=new x0(e,i)),eT(t._repo,t,r)}class Is{}class _4 extends Is{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Js("endAt",this._value,e._path,!0);const n=Pb(e._queryParams,this._value,this._key);if(R0(n),ul(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ro(e._repo,e._path,n,e._orderByCalled)}}class Jse extends Is{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Js("endBefore",this._value,e._path,!1);const n=function loe(t,e,n){let r;return r=Pb(t,e,t.index_===Qs||n?n:tl),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(R0(n),ul(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ro(e._repo,e._path,n,e._orderByCalled)}}class y4 extends Is{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Js("startAt",this._value,e._path,!0);const n=wb(e._queryParams,this._value,this._key);if(R0(n),ul(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ro(e._repo,e._path,n,e._orderByCalled)}}class nae extends Is{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Js("startAfter",this._value,e._path,!1);const n=function coe(t,e,n){let r;return r=wb(t,e,t.index_===Qs||n?n:Wa),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(R0(n),ul(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ro(e._repo,e._path,n,e._orderByCalled)}}class iae extends Is{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ro(e._repo,e._path,function soe(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}class sae extends Is{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ro(e._repo,e._path,function aoe(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}class cae extends Is{constructor(e){super(),this._path=e}_apply(e){S0(e,"orderByChild");const n=new Vt(this._path);if(gt(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new yb(n),i=c0(e._queryParams,r);return ul(i),new ro(e._repo,e._path,i,!0)}}class uae extends Is{_apply(e){S0(e,"orderByKey");const n=c0(e._queryParams,Qs);return ul(n),new ro(e._repo,e._path,n,!0)}}class hae extends Is{_apply(e){S0(e,"orderByPriority");const n=c0(e._queryParams,cn);return ul(n),new ro(e._repo,e._path,n,!0)}}class fae extends Is{_apply(e){S0(e,"orderByValue");const n=c0(e._queryParams,vb);return ul(n),new ro(e._repo,e._path,n,!0)}}class mae extends Is{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){if(Js("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new _4(this._value,this._key)._apply(new y4(this._value,this._key)._apply(e))}}function bs(t,...e){let n=(0,M.m9)(t);for(const r of e)n=r._apply(n);return n}(function Qoe(t){(0,M.hu)(!y0,"__referenceConstructor has already been defined"),y0=t})(Jo),function nse(t){(0,M.hu)(!C0,"__referenceConstructor has already been defined"),C0=t}(Jo);const sT={};function aT(t,e,n,r,i){let o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||Ys("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Sr("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let c,l,s=iT(o,i),a=s.repoInfo;typeof process<"u"&&process.env&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=iT(o,i),a=s.repoInfo):c=!s.repoInfo.secure;const h=i&&c?new qm(qm.OWNER):new hie(t.name,t.options,e);ZB("Invalid Firebase Database URL",s),gt(s.path)||Ys("Database URL must point to the root of a Firebase Database (not including a child path).");const f=function wae(t,e,n,r){let i=sT[e.name];i||(i={},sT[e.name]=i);let o=i[t.toURLString()];return o&&Ys("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Ase(t,false,n,r),i[t.toURLString()]=o,o}(a,t,h,new die(t.name,n));return new Eae(f,t)}class Eae{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Dse(t,e,n){if(t.stats_=lb(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new l0(t.repoInfo_,(r,i,o,s)=>{e4(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>t4(t,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,M.Wl)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Lu(t.repoInfo_,e,(r,i,o,s)=>{e4(t,r,i,o,s)},r=>{t4(t,r)},r=>{!function Sse(t,e){Rr(e,(n,r)=>{Xb(t,n,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function gie(t,e){const n=t.toString();return cb[n]||(cb[n]=e()),cb[n]}(t.repoInfo_,()=>new goe(t.stats_,t.server_)),t.infoData_=new uoe,t.infoSyncTree_=new VB({startListening:(r,i,o,s)=>{let a=[];const c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=o_(t.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Xb(t,"connected",!1),t.serverSyncTree_=new VB({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,c)=>{const l=s(a,c);Eo(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Jo(this._repo,kt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Cae(t,e){const n=sT[e];(!n||n[t.key]!==t)&&Ys(`Database ${e}(${t.repoInfo_}) has already been deleted.`),r4(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Ys("Cannot call "+e+" on a deleted database.")}}function C4(){z5.IS_TRANSPORT_INITIALIZED&&fi("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Mae(){C4(),nl.forceDisallow()}function Oae(){C4(),pp.forceDisallow(),nl.forceAllow()}function gi(t=(0,Ge.getApp)(),e){const n=(0,Ge._getProvider)(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=(0,M.P0)("database");r&&w4(n,...r)}return n}function w4(t,e,n,r={}){(t=(0,M.m9)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&Ys("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ys('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new qm(qm.OWNER);else if(r.mockUserToken){const s="string"==typeof r.mockUserToken?r.mockUserToken:(0,M.Sg)(r.mockUserToken,t.app.options.projectId);o=new qm(s)}!function vae(t,e,n,r){t.repoInfo_=new sb(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}(i,e,n,o)}function Tae(t,e){M5(t,e)}const Dae={".sv":"timestamp"};class xae{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Lu.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Lu.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},function Aae(t){tb(Ge.SDK_VERSION),(0,Ge._registerComponent)(new Po.wA("database",(e,{instanceIdentifier:n})=>aT(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),(0,Ge.registerVersion)(y5,"1.0.1",t),(0,Ge.registerVersion)(y5,"1.0.1","esm2017")}();const kr_firebaseConfig={apiKey:"AIzaSyBAbOn_DL4wzdJtwKluPbbuaigV-4At9WY",authDomain:"photohub-4d669.firebaseapp.com",databaseURL:"https://photohub-4d669-default-rtdb.firebaseio.com",projectId:"photohub-4d669",storageBucket:"photohub-4d669.appspot.com",messagingSenderId:"825330385142",appId:"1:825330385142:web:b2b6add9e9f69aed14acd7",measurementId:"G-6K792J2R3M"};(0,Ge.registerVersion)("firebase","10.5.2","app");let cT=(()=>{var t;class e{getUserInfos(){return new Promise((r,i)=>{zu(xr(gi((0,Ge.initializeApp)(kr_firebaseConfig)),"user_info/"),c=>{const l=c.val(),h=[];for(const f in l)if(l.hasOwnProperty(f)){const m=l[f];h.push({id:m.id,user_id:m.user_id,img1:m.img1||"",img2:m.img2||"",img3:m.img3||"",cost:m.cost||0,description:m.description||"",prize:m.prize||"",interest:m.interest||"",language:m.language||"",camera:m.camera||"",portfolio:m.portfolio||[],typeOfPhoto:m.typeOfPhoto||[]})}r(h)})})}getUserInfoById(r){var i=this;return(0,x.Z)(function*(){try{return(yield i.getUserInfos()).find(a=>a.id===r)||null}catch(o){return console.error("Error fetching user info by ID:",o),null}})()}createUserInfo(r){var i=this;return(0,x.Z)(function*(){try{if(!(yield i.isUserIdUnique(r.user_id)))return console.log("The id is not unique"),null;const a=gi((0,Ge.initializeApp)(kr_firebaseConfig)),c=yield i.generateNewId(),l=xr(a,"user_info/"+c),h={id:c,user_id:r.user_id,img1:r.img1||"",img2:r.img2||"",img3:r.img3||"",cost:r.cost||0,description:r.description||"",prize:r.prize||"",interest:r.interest||"",language:r.language||"",camera:r.camera||"",portfolio:r.portfolio||[],typeOfPhoto:r.typeOfPhoto||[]};return yield Os(l,h),h}catch(o){return console.error("Error creating user:",o),null}})()}updateUserInfo(r){var i=this;return(0,x.Z)(function*(){try{const s=gi((0,Ge.initializeApp)(kr_firebaseConfig));if(null===(yield i.getUserInfoById(r.id)))return console.error("User information not found for ID:",r.id),null;const c={id:r.id,user_id:r.user_id,img1:r.img1||"",img2:r.img2||"",img3:r.img3||"",cost:r.cost||0,description:r.description||"",prize:r.prize||"",interest:r.interest||"",language:r.language||"",camera:r.camera||"",portfolio:r.portfolio||[],typeOfPhoto:r.typeOfPhoto||[]},l=xr(s,`user_info/${r.id}`);return yield Os(l,c),c}catch(o){return console.error("Error updating user information:",o),null}})()}generateNewId(){var r=this;return(0,x.Z)(function*(){const i=yield r.getUserInfos();return(0===i.length?0:Math.max(...i.map(s=>s.id)))+1})()}isUserIdUnique(r){return(0,x.Z)(function*(){const s=xr(gi((0,Ge.initializeApp)(kr_firebaseConfig)),"user_info"),c=(yield f_(s)).val();if(c)for(const l in c)if(c.hasOwnProperty(l)&&c[l].user_id===r)return!1;return!0})()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),lT=(()=>{var t;class e{getUsers(){return new Promise((r,i)=>{zu(xr(gi((0,Ge.initializeApp)(kr_firebaseConfig)),"users/"),c=>{const l=c.val(),h=[];for(const f in l)if(l.hasOwnProperty(f)){const m=l[f];h.push({id:m.id,username:m.username||"",password:m.password||"",full_name:m.full_name||"",email:m.email||"",phone_number:m.phone_number||"",address:m.address||"",avatar:m.avatar||"",role_id:m.role_id||0})}r(h)})})}getUserById(r){var i=this;return(0,x.Z)(function*(){try{return(yield i.getUsers()).find(a=>a.id===r)||null}catch(o){return console.error("Error fetching user by ID:",o),null}})()}getUserByUsername(r){var i=this;return(0,x.Z)(function*(){try{return(yield i.getUsers()).find(a=>a.username===r)||null}catch(o){return console.error("Error fetching user by username",o),null}})()}createUser(r){var i=this;return(0,x.Z)(function*(){try{if(!(yield i.isUsernameUnique(r.username)))return console.log("The username is not unique"),null;const a=gi((0,Ge.initializeApp)(kr_firebaseConfig)),c=yield i.generateNewId(),l=xr(a,"users/"+c),h={id:c,username:r.username,password:r.password,full_name:r.full_name,email:r.email,phone_number:r.phone_number,address:r.address,avatar:r.avatar,role_id:r.role_id};return yield Os(l,h),h}catch(o){return console.error("Error creating user:",o),null}})()}updateUser(r){var i=this;return(0,x.Z)(function*(){try{if(null===(yield i.getUserById(r.id)))return console.error("User information not found for ID:",r.id),null;const a=gi((0,Ge.initializeApp)(kr_firebaseConfig)),c={id:r.id,username:r.username,password:r.password,full_name:r.full_name,email:r.email,phone_number:r.phone_number,address:r.address,avatar:r.avatar,role_id:r.role_id},l=xr(a,`users/${r.id}`);return yield Os(l,c),r}catch(o){return console.error("Error updating user:",o),null}})()}generateNewId(){var r=this;return(0,x.Z)(function*(){const i=yield r.getUsers();return(0===i.length?0:Math.max(...i.map(s=>s.id)))+1})()}isUsernameUnique(r){return(0,x.Z)(function*(){const s=xr(gi((0,Ge.initializeApp)(kr_firebaseConfig)),"users"),c=(yield f_(s)).val();if(c)for(const l in c)if(c.hasOwnProperty(l)&&c[l].username===r)return!1;return!0})()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),k0=(()=>{var t;class e{constructor(r,i){this.userService=r,this.userInfoService=i}getUserInfoDTOs(){return Zc([this.userService.getUsers(),this.userInfoService.getUserInfos()]).pipe(ge(([r,i])=>{const o=[];for(const s of r){const a=i.find(c=>c.user_id===s.id);a&&o.push({user:s,userInfo:a})}return o}),Li(r=>[]))}getUserInfoDTOsByRole(r){return Zc([this.userService.getUsers(),this.userInfoService.getUserInfos()]).pipe(ge(([i,o])=>{const s=[];for(const a of i){const c=o.find(l=>l.user_id===a.id&&a.role_id===r);c&&s.push({user:a,userInfo:c})}return s}),Li(i=>[]))}getUserInfoDTOsById(r){return Zc([this.userService.getUsers(),this.userInfoService.getUserInfos()]).pipe(ge(([i,o])=>{const s=[];for(const c of i){const l=o.find(h=>h.user_id===c.id);l&&s.push({user:c,userInfo:l})}return s.find(c=>c.user.id===r)||null}),Li(i=>W(null)))}}return(t=e).\u0275fac=function(r){return new(r||t)(re(lT),re(cT))},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),__=(()=>{var t;class e{getOrders(){return new Promise((r,i)=>{zu(xr(gi((0,Ge.initializeApp)(kr_firebaseConfig)),"orders/"),c=>{const l=c.val(),h=[];for(const f in l)if(l.hasOwnProperty(f)){const m=l[f];h.push({id:m.id,order_date:m.order_date,time:m.time,appoi_time:m.appoi_time,shooting_type:m.shooting_type,partner_id:m.partner_id,cust_name:m.cust_name,cust_email:m.cust_email,cust_phone:m.cust_phone,address:m.address,price:m.price,status:m.status,code:m.code,link_down:m.link_down})}r(h)})})}getOrderById(r){var i=this;return(0,x.Z)(function*(){try{return(yield i.getOrders()).find(a=>a.id===r)||null}catch(o){return console.error("Error fetching Order by ID:",o),null}})()}getOrderByPartnerId(r){var i=this;return(0,x.Z)(function*(){try{return(yield i.getOrders()).find(a=>a.partner_id===r)||null}catch(o){return console.error("Error fetching Order by Ordername",o),null}})()}createOrder(r){var i=this;return(0,x.Z)(function*(){try{const s=gi((0,Ge.initializeApp)(kr_firebaseConfig)),a=yield i.generateNewId(),c=xr(s,"orders/"+a),l={id:a,order_date:r.order_date,time:r.time,appoi_time:r.appoi_time,shooting_type:r.shooting_type,partner_id:r.partner_id,cust_name:r.cust_name,cust_email:r.cust_email,cust_phone:r.cust_phone,address:r.address,price:r.price,status:r.status,code:r.code,link_down:r.link_down};return yield Os(c,l),l}catch(o){return console.error("Error creating Order:",o),null}})()}updateOrder(r){var i=this;return(0,x.Z)(function*(){try{if(null===(yield i.getOrderById(r.id)))return console.error("Order information not found for ID:",r.id),null;const a=gi((0,Ge.initializeApp)(kr_firebaseConfig)),c={id:r.id,order_date:r.order_date,time:r.time,appoi_time:r.appoi_time,shooting_type:r.shooting_type,partner_id:r.partner_id,cust_name:r.cust_name,cust_email:r.cust_email,cust_phone:r.cust_phone,address:r.address,price:r.price,status:r.status,code:r.code},l=xr(a,`orders/${r.id}`);return yield Os(l,c),r}catch(o){return console.error("Error updating Order:",o),null}})()}generateNewId(){var r=this;return(0,x.Z)(function*(){const i=yield r.getOrders();return(0===i.length?0:Math.max(...i.map(s=>s.id)))+1})()}isOrderCodeUnique(r){return(0,x.Z)(function*(){const s=xr(gi((0,Ge.initializeApp)(kr_firebaseConfig)),"orders"),c=(yield f_(s)).val();if(c)for(const l in c)if(c.hasOwnProperty(l)&&c[l].code===r)return!1;return!0})()}generateUniqueOrderCode(){var r=this;return(0,x.Z)(function*(){const i=r.generateRandomOrderCode(6);return(yield r.isOrderCodeUnique(i))?W(i):r.generateUniqueOrderCode()})()}generateRandomOrderCode(r){let o="";for(let s=0;s<r;s++)o+="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(36*Math.random()));return o}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),uT=(()=>{var t;class e{constructor(r,i){this.orderService=r,this.userService=i}getOrderDTOs(){return Zc([this.orderService.getOrders(),this.userService.getUsers()]).pipe(ge(([r,i])=>{const o=[];for(const s of r){const a=i.find(c=>c.id===s.partner_id);a&&o.push({order:s,user:a})}return o}),Li(r=>[]))}getOrderDTOsByStatus(r){return Zc([this.orderService.getOrders(),this.userService.getUsers()]).pipe(ge(([i,o])=>{const s=[];for(const a of i){const c=o.find(l=>l.id===a.partner_id&&a.status===r);c&&s.push({order:a,user:c})}return s}),Li(i=>[]))}getOrderDTOsById(r){return this.getOrderDTOs().pipe(ge(i=>i.find(o=>o.order.id===r)||null))}updateOrder(r){var i=this;return(0,x.Z)(function*(){var o=yield i.orderService.getOrderById(r.order.id);return o?(r.order.status="da_duyet",(o=yield i.orderService.updateOrder(r.order))?(r.order=o,W(r)):W(null)):W(null)})()}}return(t=e).\u0275fac=function(r){return new(r||t)(re(__),re(lT))},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Lae(t,e){if(1&t&&(_(0,"tr")(1,"td"),w(2),y(),_(3,"td"),w(4),y(),_(5,"td"),w(6),y()()),2&t){const n=e.$implicit;F(2),et(n.id),F(2),et(n.full_name),F(2),et(n.email)}}let P4=(()=>{var t;class e{constructor(r,i,o,s){this.userService=r,this.io=i,this.order=o,this.orderDTO=s,this.users=[],this.usey=[],this.orderDTOs=[]}ngOnInit(){this.ui(),this.uo()}ui(){var r=this;return(0,x.Z)(function*(){r.io.getUserInfoDTOs().subscribe(i=>{r.usey=i,console.log(r.usey)},i=>{console.error("Error fetching UserInfoDTOs:",i)})})()}uo(){var r=this;return(0,x.Z)(function*(){r.orderDTO.getOrderDTOs().subscribe(i=>{r.orderDTOs=i,console.log(r.orderDTOs)},i=>{console.error("Error fetching UserInfoDTOs:",i)})})()}addOrders(){var r=this;return(0,x.Z)(function*(){const i=[{id:1,order_date:"19/10/2023",time:"3",appoi_time:"09:30",shooting_type:"Ch\u1ee5p \u1ea3nh lookbook",partner_id:6,cust_name:"B\xf9i Di\u1ec7p H\u01b0\u01a1ng Nhi",cust_email:"huongnhi25@gmail.com",cust_phone:"0986089540",address:"Ha\u0300 N\xf4\u0323i",status:"cho_duyet",code:"NGH78H",price:1e6},{id:2,order_date:"11/10/2023",time:"2",appoi_time:"09:30",shooting_type:"Ch\u1ee5p beauty",partner_id:1,cust_name:"Nguyen Thi Mai Huong",cust_email:"mhuong@gmail.com",cust_phone:"0123456789",address:"Studio Ti\u1ec3u Thu\xfd_ S\u1ed1 234 Ho\xe0ng Mai - H\xe0 N\u1ed9i",status:"cho_duyet",code:"ATHH67",price:1e6}];for(const o of i)try{const s=yield r.order.createOrder(o);s?console.log(`User with ID ${s.id} created successfully`):console.log("Failed to create user:",o)}catch(s){console.error("Error creating user:",s)}})()}}return(t=e).\u0275fac=function(r){return new(r||t)(X(cT),X(k0),X(__),X(uT))},t.\u0275cmp=xt({type:t,selectors:[["app-home"]],decls:244,vars:1,consts:[[1,"home-content"],[1,"banner-wrapper"],[1,"banner-container"],[1,"banner-content"],["src","./assets/images/banner.jpg","alt","banner",1,"banner-image"],[1,"banner-search"],[1,"bsearch-title"],[1,"stitle"],[1,"slogan"],[1,"bsearch-content"],[1,"bsearch-quest-wrapper"],["type","text","name","","id","bsearch-quest","placeholder","D\u1ecbch v\u1ee5 b\u1ea1n \u0111ang t\xecm ki\u1ebfm ?"],[1,"bsearch-locate-wrapper"],["href","javascript:void(0)",1,"locate-icon"],[1,"bx","bxs-map"],["type","text","name","","id","bsearch-locate","placeholder","\u0110\u1ecba \u0111i\u1ec3m"],["href","javascript:void(0)","id","bsearch-icon"],[1,"bx","bx-search"],[1,"bsearch-suggest"],[1,"content-wrapper"],[1,"forUs-wrapper"],[1,"forUs-title"],[1,"fu-content-wrapper"],[1,"fu-content"],[1,"icon-wrapper"],["src","./assets/images/icons/icon1.png","alt","",1,"fu-icon"],[1,"fu-txt"],["src","./assets/images/icons/icon2.png","alt","",1,"fu-icon"],["src","./assets/images/icons/icon3.png","alt","",1,"fu-icon"],[1,"photo-popular-wrapper"],[1,"ppopular-title"],[1,"ppopular-wrapper"],[1,"ppopular-item"],["routerLink","/profile/1",1,"ppopular-link"],[1,"ppopular-content"],[1,"pp-picture"],[1,"picture-1"],["src","./assets/images/user/Rectangle 16-2.png","alt",""],[1,"picture-right"],[1,"picture-2"],["src","./assets/images/user/Rectangle 17-2.png","alt",""],[1,"picture-3"],["src","./assets/images/user/Rectangle 18-2.png","alt",""],[1,"pp-info"],[1,"info-left"],[1,"info-title"],[1,"info-address"],[1,"info-right"],[1,"info-price"],[1,"info-rate"],[1,"rate-star"],["src","./assets/images/icons/star-fill.png","alt",""],[1,"rate-text"],[1,"pp-avatar"],["src","./assets/images/avatar/avatar1.jpeg","alt","avatar"],["routerLink","/profile/2",1,"ppopular-link"],["src","./assets/images/user/Rectangle 16-1.png","alt",""],["src","./assets/images/user/Rectangle 17-1.png","alt",""],["src","./assets/images/user/Rectangle 18-1.png","alt",""],["routerLink","/profile/3",1,"ppopular-link"],["src","./assets/images/user/Rectangle 16.png","alt",""],["src","./assets/images/user/Rectangle 17.png","alt",""],["src","./assets/images/user/Rectangle 18.png","alt",""],[1,"ppopular-detail"],["routerLink","/collection",1,"ppopular-detail-link"],[1,"bx","bx-chevron-right"],[1,"category-wrapper"],[1,"category-title"],[1,"cate-content-wrapper"],[1,"cate-content"],["routerLink","/collection"],[1,"cate-picture"],[1,"picture-wrapper"],["src","./assets/images/user/Rectangle 23.png","alt",""],[1,"cate-name"],[1,"text-name"],["src","./assets/images/user/Rectangle 24.png","alt",""],["src","./assets/images/user/Rectangle 25.png","alt",""],["src","./assets/images/user/Rectangle 26.png","alt",""],[1,"description-wrapper"],[1,"des-title"],[1,"des-content-wrapper"],[1,"des-content"],[1,"des-left"],[1,"des-attention"],[1,"des-atten-title"],[1,"des-atten-text"],[1,"bx","bx-calendar-check"],[1,"bx","bx-smile"],[1,"des-right"],[1,"right-picture-first"],[1,"rf-left"],[1,"rf-left-first"],["src","./assets/images/user/Rectangle 28.png","alt",""],[1,"rf-left-second"],["src","./assets/images/user/Rectangle 34.png","alt",""],["src","./assets/images/user/Rectangle 35.png","alt",""],[1,"rf-right"],["src","./assets/images/user/Rectangle 29.png","alt","",1,"rf-right-img1"],["src","./assets/images/user/Rectangle 30.png","alt","",1,"rf-right-img2"],[1,"right-picture-second"],["src","./assets/images/user/Rectangle 32.png","alt",""],["src","./assets/images/user/Rectangle 47.png","alt",""],["src","./assets/images/user/Rectangle 33.png","alt",""],[1,"call-contact-warpper"],[1,"contact-bg"],["src","./assets/images/user/Rectangle 36.png","alt",""],[1,"contact-text"],[1,"contact-title"],["routerLink","",1,"contact-link"],[1,"table"],[4,"ngFor","ngForOf"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),T(4,"img",4),y()(),_(5,"div",5)(6,"div",6)(7,"h1",7),w(8,"PhotoHub"),y(),_(9,"p",8),w(10,"Picture - Perfect Memory, Just a Click Away"),y()(),_(11,"div",9)(12,"div",10),T(13,"input",11),y(),_(14,"div",12)(15,"a",13),T(16,"i",14),y(),T(17,"input",15),y(),_(18,"a",16),T(19,"i",17),y()(),T(20,"div",18),y()(),_(21,"div",19)(22,"div",20)(23,"h2",21),w(24,"\u0110\u1ebfn v\u1edbi ch\xfang t\xf4i"),y(),_(25,"div",22)(26,"div",23)(27,"div",24),T(28,"img",25),y(),_(29,"p",26),w(30,"\u0110\u1ed9i ng\u0169 nhi\u1ebfp \u1ea3nh chuy\xean nghi\u1ec7p"),y()(),_(31,"div",23)(32,"div",24),T(33,"img",27),y(),_(34,"p",26),w(35,"\u0110\u1ea3m b\u1ea3o h\xe0i l\xf2ng kh\xe1ch h\xe0ng ho\u1eb7c ho\xe0n tr\u1ea3 ti\u1ec1n n\u1ebfu kh\xf4ng \u0111\xe1p \u1ee9ng \u0111\u1ee7 y\xeau c\u1ea7u"),y()(),_(36,"div",23)(37,"div",24),T(38,"img",28),y(),_(39,"p",26),w(40,"C\xf3 \u0111\u1ebfn 800+ nhi\u1ebfp \u1ea3nh tr\xean PhotoHub v\u1edbi 4.5+ start \u0111\xe1nh gi\xe1"),y()()()(),_(41,"div",29)(42,"h2",30),w(43,"Nhi\u1ebfp \u1ea3nh gia ph\u1ed5 bi\u1ebfn"),y(),_(44,"div",31)(45,"div",32)(46,"a",33)(47,"div",34)(48,"div",35)(49,"div",36),T(50,"img",37),y(),_(51,"div",38)(52,"div",39),T(53,"img",40),y(),_(54,"div",41),T(55,"img",42),y()()(),_(56,"div",43)(57,"div",44)(58,"h4",45),w(59,"Ph\u1ea1m Vi\u1ec7t C\u01b0\u1eddng"),y(),_(60,"span",46),w(61,"Ba \u0110\xecnh, H\xe0 N\u1ed9i"),y()(),_(62,"div",47)(63,"p",48),w(64,"300,000/h"),y(),_(65,"div",49)(66,"div",50),T(67,"img",51)(68,"img",51)(69,"img",51)(70,"img",51)(71,"img",51),y(),_(72,"span",52),w(73,"5.0"),y()()()(),_(74,"div",53),T(75,"img",54),y()()()(),_(76,"div",32)(77,"a",55)(78,"div",34)(79,"div",35)(80,"div",36),T(81,"img",56),y(),_(82,"div",38)(83,"div",39),T(84,"img",57),y(),_(85,"div",41),T(86,"img",58),y()()(),_(87,"div",43)(88,"div",44)(89,"h4",45),w(90,"L\xea \u0110\u1ee9c Chinh"),y(),_(91,"span",46),w(92,"T\xe2y H\u1ed3, H\xe0 N\u1ed9i"),y()(),_(93,"div",47)(94,"p",48),w(95,"350,000/h"),y(),_(96,"div",49)(97,"div",50),T(98,"img",51)(99,"img",51)(100,"img",51)(101,"img",51)(102,"img",51),y(),_(103,"span",52),w(104,"5.0"),y()()()(),_(105,"div",53),T(106,"img",54),y()()()(),_(107,"div",32)(108,"a",59)(109,"div",34)(110,"div",35)(111,"div",36),T(112,"img",60),y(),_(113,"div",38)(114,"div",39),T(115,"img",61),y(),_(116,"div",41),T(117,"img",62),y()()(),_(118,"div",43)(119,"div",44)(120,"h4",45),w(121,"D\u01b0\u01a1ng T\xf9ng V\u01b0\u01a1ng"),y(),_(122,"span",46),w(123,"Qu\u1eadn 1, H\u1ed3 Ch\xed Minh"),y()(),_(124,"div",47)(125,"p",48),w(126,"500,000/h"),y(),_(127,"div",49)(128,"div",50),T(129,"img",51)(130,"img",51)(131,"img",51)(132,"img",51)(133,"img",51),y(),_(134,"span",52),w(135,"5.0"),y()()()(),_(136,"div",53),T(137,"img",54),y()()()()(),_(138,"div",63)(139,"a",64),w(140,"Xem t\u1ea5t c\u1ea3 "),T(141,"i",65),y()()(),_(142,"div",66)(143,"h2",67),w(144,"Th\u1ec3 lo\u1ea1i"),y(),_(145,"div",68)(146,"div",69)(147,"a",70)(148,"div",71)(149,"div",72),T(150,"img",73),y()(),_(151,"div",74)(152,"div",75)(153,"h4"),w(154,"Du l\u1ecbch"),y()()()()(),_(155,"div",69)(156,"a",70)(157,"div",71)(158,"div",72),T(159,"img",76),y()(),_(160,"div",74)(161,"div",75)(162,"h4"),w(163,"LookBook"),y()()()()(),_(164,"div",69)(165,"a",70)(166,"div",71)(167,"div",72),T(168,"img",77),y()(),_(169,"div",74)(170,"div",75)(171,"h4"),w(172,"Catalogue"),y()()()()(),_(173,"div",69)(174,"a",70)(175,"div",71)(176,"div",72),T(177,"img",78),y()(),_(178,"div",74)(179,"div",75)(180,"h4"),w(181,"Kh\xe1c"),y()()()()()()(),_(182,"div",79)(183,"h2",80),w(184,"N\u1eafm b\u1eaft kho\u1ea3nh kh\u1eafc c\u1ee7a b\u1ea1n "),_(185,"span"),w(186,"ch\u1ec9 v\u1edbi 3 b\u01b0\u1edbc"),y()(),_(187,"div",81)(188,"div",82)(189,"div",83)(190,"div",84)(191,"h4",85),T(192,"i",17),w(193," T\xecm ki\u1ebfm nhi\u1ebfp \u1ea3nh gia "),y(),_(194,"div",86),w(195," T\xecm ki\u1ebfm nh\u1eefng nhi\u1ebfp \u1ea3nh gia xung quanh khu v\u1ef1c b\u1ea1n v\u1edbi gi\xe1 c\u1ea3 h\u1ee3p l\xfd, ph\xf9 h\u1ee3p v\u1edbi nhu c\u1ea7u c\u1ee7a b\u1ea1n. Tham kh\u1ea3o h\u1ed3 s\u01a1 v\xe0 th\xeam ngay c\xe1c nhi\u1ebfp \u1ea3nh gia v\xe0o danh m\u1ee5c y\xeau th\xedch. "),y()(),_(196,"div",84)(197,"h4",85),T(198,"i",87),w(199," \u0110\u1eb7t l\u1ecbch h\u1eb9n "),y(),_(200,"div",86),w(201," Sau khi l\u1ef1a ch\u1ecdn xong nhi\u1ebfp \u1ea3nh gia ph\xf9 h\u1ee3p, nhanh ch\xf3ng \u0111\u1eb7t l\u1ecbch ch\u1ec9 b\u1eb1ng v\xe0i thao t\xe1c chu\u1ed9t. Nhi\u1ebfp \u1ea3nh gia s\u1ebd x\xe1c nh\u1eadn v\xe0 c\xf9ng ch\u1edd \u0111\u1ee3i \u0111\u1ebfn ng\xe0y ch\u1ee5p \u1ea3nh. "),y()(),_(202,"div",84)(203,"h4",85),T(204,"i",88),w(205," Chia s\u1ebb kho\u1ea3nh kh\u1eafc tuy\u1ec7t v\u1eddi c\u1ee7a b\u1ea1n "),y(),_(206,"div",86),w(207," H\xe3y gi\u1eef li\xean l\u1ea1c v\u1edbi nhi\u1ebfp \u1ea3nh gia c\u1ee7a b\u1ea1n trong v\xe0 sau khi nh\u1eadn booking. Sau ng\xe0y ch\u1ee5p \u1ea3nh, b\u1ea1n c\xf3 th\u1ec3 l\u1ef1a ch\u1ecdn v\xe0 chia s\u1ebb c\xe1c b\u1ee9c h\xecnh \u0111\u1eb9p m\xe0 nhi\u1ebfp \u1ea3nh gia \u0111\xe3 ch\u1ee5p v\xe0 x\u1eed l\xfd. "),y()()(),_(208,"div",89)(209,"div",90)(210,"div",91)(211,"div",92),T(212,"img",93),y(),_(213,"div",94),T(214,"img",95)(215,"img",96),y()(),_(216,"div",97),T(217,"img",98)(218,"img",99),y()(),_(219,"div",100),T(220,"img",101)(221,"img",102)(222,"img",103),y()()()()(),_(223,"div",104)(224,"div",105),T(225,"img",106),y(),_(226,"div",107)(227,"h3",108),w(228," B\u1ea1n c\xf3 ph\u1ea3i l\xe0 m\u1ed9t nhi\u1ebfp \u1ea3nh gia chuy\xean nghi\u1ec7p v\xe0 \u0111\u1ea7y tham v\u1ecdng? "),y(),_(229,"p"),w(230,"Tham gia c\u1ed9ng \u0111\u1ed3ng PhotoHub v\xe0 nh\u1eadn booking job ngay h\xf4m nay"),y(),_(231,"a",109),w(232," \u0110\u0103ng k\xfd ngay "),y()()()(),_(233,"table",110)(234,"thead")(235,"tr")(236,"th"),w(237,"ID"),y(),_(238,"th"),w(239,"Name"),y(),_(240,"th"),w(241,"Email"),y()()(),_(242,"tbody"),Fe(243,Lae,7,3,"tr",111),y()()()),2&r&&(F(243),ie("ngForOf",i.users))},dependencies:[Cs,Zr],styles:['@charset "UTF-8";.banner-wrapper[_ngcontent-%COMP%]{height:calc(100vh - 10.75rem);max-height:800px;position:relative}.banner-wrapper[_ngcontent-%COMP%]   .banner-container[_ngcontent-%COMP%], .banner-wrapper[_ngcontent-%COMP%]   .banner-container[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]{height:100%}.banner-wrapper[_ngcontent-%COMP%]   .banner-container[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-image[_ngcontent-%COMP%]{height:100%;width:100%}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]{width:100%;position:absolute;top:20%;left:50%;transform:translateY(-50%);transform:translate(-50%)}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-title[_ngcontent-%COMP%]{margin-bottom:2rem}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-title[_ngcontent-%COMP%]   .stitle[_ngcontent-%COMP%]{color:var(--color-primary);text-transform:uppercase;margin:1rem 0;text-align:center}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-title[_ngcontent-%COMP%]   .slogan[_ngcontent-%COMP%]{margin:.5rem 0;text-align:center;font-weight:600;font-size:22px}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]{width:80%;margin:0 auto;display:flex;justify-content:center}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-quest-wrapper[_ngcontent-%COMP%]{width:calc(60% - 1.14rem);height:2.25rem;background-color:var(--color-light);border-right:2px solid var(--color-primary);border-top-left-radius:.3rem!important;border-bottom-left-radius:.3rem!important}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-quest-wrapper[_ngcontent-%COMP%]   #bsearch-quest[_ngcontent-%COMP%]{width:100%;height:100%;border:0;outline:none;color:var(--color-text-body);padding-left:1.25rem}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-quest-wrapper[_ngcontent-%COMP%]   #bsearch-quest[_ngcontent-%COMP%]::placeholder{color:var(--color-text-body)}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-locate-wrapper[_ngcontent-%COMP%]{width:calc(40% - 1.14rem);height:2.25rem;background-color:var(--color-light);display:flex;justify-content:center}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-locate-wrapper[_ngcontent-%COMP%]   .locate-icon[_ngcontent-%COMP%]{height:2.25rem;width:2.25rem;color:var(--color-primary);font-size:22px;display:flex;justify-content:center;align-items:center;text-decoration:none}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-locate-wrapper[_ngcontent-%COMP%]   #bsearch-locate[_ngcontent-%COMP%]{width:100%;height:100%;border:0;outline:none;color:var(--color-text-body);padding-left:.25rem}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-locate-wrapper[_ngcontent-%COMP%]   #bsearch-locate[_ngcontent-%COMP%]::placeholder{color:var(--color-text-body)}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   #bsearch-icon[_ngcontent-%COMP%]{height:2.28rem;width:2.28rem;background-color:var(--color-primary);border-top-right-radius:.3rem;border-bottom-right-radius:.3rem;display:flex;justify-content:center;align-items:center;font-size:24px;text-decoration:none;color:var(--color-secondary)}@media (min-width: 1200px){.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]{max-width:600px}}@media (max-width: 575.98px){.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-title[_ngcontent-%COMP%]   .slogan[_ngcontent-%COMP%]{padding-left:10%;padding-right:10%}}.forUs-wrapper[_ngcontent-%COMP%]   .forUs-title[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:700;text-align:center;margin-bottom:2.5rem}.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:2rem}.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]   .fu-content[_ngcontent-%COMP%]{margin-bottom:2rem}.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]   .fu-content[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:.75rem}.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]   .fu-content[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .fu-icon[_ngcontent-%COMP%]{height:40px;object-fit:cover}.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]   .fu-content[_ngcontent-%COMP%]   .fu-txt[_ngcontent-%COMP%]{text-align:center}@media (max-width: 991.98px){.forUs-wrapper[_ngcontent-%COMP%]   .forUs-title[_ngcontent-%COMP%]{text-align:left!important}.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 767.98px){.forUs-wrapper[_ngcontent-%COMP%]{margin-top:1.5rem!important}}@media (max-width: 575.98px){.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}}.photo-popular-wrapper[_ngcontent-%COMP%]{margin-top:4rem;position:relative}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-title[_ngcontent-%COMP%]{color:var(--color-primary);margin-bottom:2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]{position:relative;max-height:300px;border-radius:.3rem;margin-bottom:2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]{color:var(--color-text-body)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]{position:relative;height:100%;width:100%;border-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]{height:100%;display:flex;column-gap:.2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-1[_ngcontent-%COMP%]{flex:calc(60% - .1rem);border-right:1px solid var(--color-light)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-top-left-radius:.3rem;border-bottom-left-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]{flex:calc(40% - .1rem);display:flex;row-gap:.1rem;flex-direction:column}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%], .photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]{height:calc(100% - .1rem)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:calc(100% - .15rem);width:100%;object-fit:cover}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%]{height:40%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-top-right-radius:.3rem;border-bottom:1px solid var(--color-light)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]{height:60%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-bottom-right-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;left:0;min-height:4.5rem;display:flex;justify-content:space-between;background-color:#ededed;border-bottom-left-radius:.3rem;border-bottom-right-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-left[_ngcontent-%COMP%]{padding-left:1rem;padding-top:.75rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-left[_ngcontent-%COMP%]   .info-title[_ngcontent-%COMP%]{flex:0 0 100%;width:100%;margin:0 0 .25rem;font-size:20px}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-left[_ngcontent-%COMP%]   .info-address[_ngcontent-%COMP%]{flex:0 0 100%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]{padding-top:.75rem;padding-right:.5rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-price[_ngcontent-%COMP%]{width:100%;font-size:14px;text-align:right;margin:0;margin-bottom:.75rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]{margin-right:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:12px;object-fit:cover}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]   .rate-text[_ngcontent-%COMP%]{font-size:14px;padding-top:2px}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-avatar[_ngcontent-%COMP%]{width:3em;height:3em;border-radius:50%;position:absolute;bottom:3.75rem;left:1rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]:hover:before{content:"Xem h\\1ed3  s\\1a1";position:absolute;inset:0;background-color:#000000b3;color:var(--color-light);font-size:20px;padding:10px;transition:opacity .3s;opacity:0;z-index:1;border-radius:.3rem;display:flex;justify-content:center;align-items:center}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]:hover:before{opacity:1}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]{position:absolute;right:0;top:2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]{text-decoration:none;display:flex;align-items:center;color:var(--color-primary)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:-1px;left:0;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}@media (max-width: 1100px){.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 767.98px){.photo-popular-wrapper[_ngcontent-%COMP%]{margin-top:1.5rem!important}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]{height:7rem;justify-content:flex-start;flex-direction:column}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;padding-left:1rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-price[_ngcontent-%COMP%]{text-align:left;width:auto;margin-right:1.5rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]{justify-content:flex-start}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-avatar[_ngcontent-%COMP%]{bottom:6.26rem}}@media (max-width: 575.98px){.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}}.category-wrapper[_ngcontent-%COMP%]{margin-top:4rem}.category-wrapper[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]{color:var(--color-primary);margin-bottom:2rem}.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);grid-auto-rows:1fr;column-gap:2rem}.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-text-body)}.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]   .cate-content[_ngcontent-%COMP%]{position:relative;margin-bottom:2rem}.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]   .cate-content[_ngcontent-%COMP%]   .cate-picture[_ngcontent-%COMP%], .category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]   .cate-content[_ngcontent-%COMP%]   .cate-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]{height:100%}.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]   .cate-content[_ngcontent-%COMP%]   .cate-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:.3rem}.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]   .cate-content[_ngcontent-%COMP%]   .cate-name[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;left:0;height:4.5rem;width:100%;background-color:#ededed;display:flex;justify-content:center;align-items:center;border-bottom-left-radius:.3rem;border-bottom-right-radius:.3rem}@media (max-width: 991.98px){.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 767.98px){.category-wrapper[_ngcontent-%COMP%]{margin-top:1.5rem!important}}@media (max-width: 575.98px){.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}}.description-wrapper[_ngcontent-%COMP%]   .des-title[_ngcontent-%COMP%]{color:var(--color-primary);margin-bottom:2rem}.description-wrapper[_ngcontent-%COMP%]   .des-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;color:var(--color-warning)}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:3rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-left[_ngcontent-%COMP%]   .des-attention[_ngcontent-%COMP%]{margin-bottom:2rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-left[_ngcontent-%COMP%]   .des-attention[_ngcontent-%COMP%]   .des-atten-title[_ngcontent-%COMP%]{font-size:19px;margin:0;margin-bottom:1rem;display:flex;align-items:center;color:var(--color-primary);font-weight:600}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-left[_ngcontent-%COMP%]   .des-attention[_ngcontent-%COMP%]   .des-atten-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:25px;margin-right:1rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-left[_ngcontent-%COMP%]   .des-attention[_ngcontent-%COMP%]   .des-atten-text[_ngcontent-%COMP%]{padding-left:2.5rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]{max-height:600px;display:flex;flex-direction:column;row-gap:.5rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]{height:calc(60% - .25rem);width:100%;display:flex;column-gap:.5rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-left[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;row-gap:.5rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-left[_ngcontent-%COMP%]   .rf-left-first[_ngcontent-%COMP%]{width:100%;height:calc(70% - .25rem)}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-left[_ngcontent-%COMP%]   .rf-left-first[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-left[_ngcontent-%COMP%]   .rf-left-second[_ngcontent-%COMP%]{width:100%;height:calc(30% - .25rem);display:grid;grid-template-columns:repeat(2,1fr);grid-auto-rows:1fr;column-gap:.5rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-left[_ngcontent-%COMP%]   .rf-left-second[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-right[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;row-gap:.5rem;img-object-fit:cover}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-right[_ngcontent-%COMP%]   .rf-right-img1[_ngcontent-%COMP%]{height:calc(35% - .25rem);width:100%}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-right[_ngcontent-%COMP%]   .rf-right-img2[_ngcontent-%COMP%]{height:calc(65% - .25rem);width:100%}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-second[_ngcontent-%COMP%]{height:calc(40% - .25rem);width:100%;display:flex;column-gap:.5rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-second[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:calc(33.3333333333% - (.25rem + 1px));height:100%;object-fit:cover}@media (max-width: 991.98px){.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}}@media (max-width: 767.98px){.description-wrapper[_ngcontent-%COMP%]{margin-top:1.5rem!important}}@media (max-width: 575.98px){.description-wrapper[_ngcontent-%COMP%]   .des-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline!important}}.call-contact-warpper[_ngcontent-%COMP%]{margin-top:6rem;position:relative}.call-contact-warpper[_ngcontent-%COMP%]   .contact-bg[_ngcontent-%COMP%]{width:100%}.call-contact-warpper[_ngcontent-%COMP%]   .contact-bg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-height:400px;object-fit:fill;object-position:center}.call-contact-warpper[_ngcontent-%COMP%]   .contact-text[_ngcontent-%COMP%]{height:calc(100% - 3rem);width:80%;position:absolute;top:3rem;left:50%;transform:translate(-50%);text-align:center;display:flex;flex-direction:column}.call-contact-warpper[_ngcontent-%COMP%]   .contact-text[_ngcontent-%COMP%]   .contact-title[_ngcontent-%COMP%]{margin-bottom:0}.call-contact-warpper[_ngcontent-%COMP%]   .contact-text[_ngcontent-%COMP%]   .contact-link[_ngcontent-%COMP%]{margin-top:2rem;font-size:18px;font-weight:700;text-decoration:none;color:var(--color-primary);padding:1rem;border:1px solid var(--color-primary);border-radius:.3rem;width:13rem;margin:0 auto}@media (max-width: 767.98px){.call-contact-warpper[_ngcontent-%COMP%]{margin-top:1.5rem!important}}@media (max-width: 575.98px){.call-contact-warpper[_ngcontent-%COMP%]   .contact-bg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:350px}.call-contact-warpper[_ngcontent-%COMP%]   .contact-text[_ngcontent-%COMP%]{width:95%;top:1rem!important}.call-contact-warpper[_ngcontent-%COMP%]   .contact-text[_ngcontent-%COMP%]   .contact-title[_ngcontent-%COMP%]{font-size:20px}}.home-content[_ngcontent-%COMP%]{position:relative}.home-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 4rem 0}@media (max-width: 767.98px){.home-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 2rem 0!important}}']}),e})();function Vae(t,e){if(1&t&&(_(0,"div",6)(1,"a",7)(2,"div",8)(3,"div",9)(4,"div",10),T(5,"img",11),y(),_(6,"div",12)(7,"div",13),T(8,"img",11),y(),_(9,"div",14),T(10,"img",11),y()()(),_(11,"div",15)(12,"div",16)(13,"h4",17),w(14),y(),_(15,"span",18),w(16),y()(),_(17,"div",19)(18,"p",20),w(19),y(),_(20,"div",21)(21,"div",22),T(22,"img",23)(23,"img",23)(24,"img",23)(25,"img",23)(26,"img",23),y(),_(27,"span",24),w(28,"5.0"),y()()()(),_(29,"div",25),T(30,"img",26),y()()()()),2&t){const n=e.$implicit;F(1),ie("routerLink","/profile/"+n.user.id),F(4),ie("src","./assets/images/user/"+n.userInfo.img1,zo),F(3),ie("src","./assets/images/user/"+n.userInfo.img2,zo),F(2),ie("src","./assets/images/user/"+n.userInfo.img3,zo),F(4),et(n.user.full_name),F(2),et(n.user.address),F(3),Lt("",n.userInfo.cost,"/h"),F(11),ie("src","./assets/images/avatar/"+n.user.avatar,zo)}}let E4=(()=>{var t;class e{constructor(r){this.userInfoDTOService=r,this.userInfoData=[],this.userCount=0}ngOnInit(){this.loadUserInfoData()}loadUserInfoData(){this.userInfoDTOService.getUserInfoDTOsByRole(2).subscribe(r=>{this.userInfoData=r,this.userCount=this.userInfoData.length},r=>{console.error("Error fetching user information: ",r)})}}return(t=e).\u0275fac=function(r){return new(r||t)(X(k0))},t.\u0275cmp=xt({type:t,selectors:[["app-shop"]],decls:7,vars:2,consts:[[1,"shop-content"],[1,"content-wrapper"],[1,"photo-popular-wrapper"],[1,"ppopular-title"],[1,"ppopular-wrapper"],["class","ppopular-item",4,"ngFor","ngForOf"],[1,"ppopular-item"],[1,"ppopular-link",3,"routerLink"],[1,"ppopular-content"],[1,"pp-picture"],[1,"picture-1"],["alt","",3,"src"],[1,"picture-right"],[1,"picture-2"],[1,"picture-3"],[1,"pp-info"],[1,"info-left"],[1,"info-title"],[1,"info-address"],[1,"info-right"],[1,"info-price"],[1,"info-rate"],[1,"rate-star"],["src","./assets/images/icons/star-fill.png","alt",""],[1,"rate-text"],[1,"pp-avatar"],["alt","avatar",3,"src"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),w(4),y(),_(5,"div",4),Fe(6,Vae,31,8,"div",5),y()()()()),2&r&&(F(4),Lt("",i.userCount," nhi\u1ebfp \u1ea3nh gia"),F(2),ie("ngForOf",i.userInfoData))},dependencies:[Cs,Zr],styles:['@charset "UTF-8";.shop-content[_ngcontent-%COMP%]{position:relative}.shop-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 4rem 0}@media (max-width: 767.98px){.shop-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 2rem 0!important}}.photo-popular-wrapper[_ngcontent-%COMP%]{margin-top:4rem;position:relative}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-title[_ngcontent-%COMP%]{color:var(--color-primary);margin-bottom:2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:3.5rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]{position:relative;max-height:300px;border-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]{color:var(--color-text-body)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]{position:relative;height:100%;width:100%;border-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]{height:100%;display:flex;column-gap:.2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-1[_ngcontent-%COMP%]{flex:calc(60% - .1rem);border-right:1px solid var(--color-light)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-top-left-radius:.3rem;border-bottom-left-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]{flex:calc(40% - .1rem);display:flex;row-gap:.1rem;flex-direction:column}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%], .photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]{height:calc(100% - .1rem)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:calc(100% - .15rem);width:100%;object-fit:cover}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%]{height:40%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-top-right-radius:.3rem;border-bottom:1px solid var(--color-light)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]{height:60%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-bottom-right-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;left:0;min-height:4.5rem;display:flex;justify-content:space-between;background-color:#ededed;border-bottom-left-radius:.3rem;border-bottom-right-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-left[_ngcontent-%COMP%]{padding-left:1rem;padding-top:.75rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-left[_ngcontent-%COMP%]   .info-title[_ngcontent-%COMP%]{flex:0 0 100%;width:100%;margin:0 0 .25rem;font-size:20px}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-left[_ngcontent-%COMP%]   .info-address[_ngcontent-%COMP%]{flex:0 0 100%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]{padding-top:.75rem;padding-right:.5rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-price[_ngcontent-%COMP%]{width:100%;font-size:14px;text-align:right;margin:0;margin-bottom:.75rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]{margin-right:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:12px;object-fit:cover}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]   .rate-text[_ngcontent-%COMP%]{font-size:14px;padding-top:2px}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-avatar[_ngcontent-%COMP%]{width:3em;height:3em;border-radius:50%;position:absolute;bottom:3.75rem;left:1rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]:hover:before{content:"Xem h\\1ed3  s\\1a1";position:absolute;inset:0;background-color:#000000b3;color:var(--color-light);font-size:20px;padding:10px;transition:opacity .3s;opacity:0;z-index:1;border-radius:.3rem;display:flex;justify-content:center;align-items:center}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]:hover:before{opacity:1}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]{position:absolute;right:0;top:2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]{text-decoration:none;display:flex;align-items:center;color:var(--color-primary)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:-1px;left:0;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}@media (max-width: 1350px){.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)!important}}@media (max-width: 1100px){.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 767.98px){.photo-popular-wrapper[_ngcontent-%COMP%]{margin-top:1.5rem!important}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]{height:7rem;justify-content:flex-start;flex-direction:column}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;padding-left:1rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-price[_ngcontent-%COMP%]{text-align:left;width:auto;margin-right:1.5rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]{justify-content:flex-start}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-avatar[_ngcontent-%COMP%]{bottom:6.26rem}}@media (max-width: 575.98px){.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}}']}),e})();class N0{}class F0{}class es{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof es?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new es;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof es?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(n);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class Uae{encodeKey(e){return M4(e)}encodeValue(e){return M4(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const jae=/%(\d[a-f0-9])/gi,$ae={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function M4(t){return encodeURIComponent(t).replace(jae,(e,n)=>$ae[n]??e)}function L0(t){return`${t}`}class dl{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Uae,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Bae(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(L0):[L0(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new dl({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(L0(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(L0(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Hae{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function O4(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function I4(t){return typeof Blob<"u"&&t instanceof Blob}function b4(t){return typeof FormData<"u"&&t instanceof FormData}class y_{constructor(e,n,r,i){let o;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function zae(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new es),this.context||(this.context=new Hae),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new dl,this.urlWithParams=n}serializeBody(){return null===this.body?null:O4(this.body)||I4(this.body)||b4(this.body)||function Gae(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof dl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||b4(this.body)?null:I4(this.body)?this.body.type||null:O4(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof dl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const h=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((f,m)=>f.set(m,e.setHeaders[m]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((f,m)=>f.set(m,e.setParams[m]),l)),new y_(n,r,o,{params:l,headers:c,context:h,reportProgress:a,responseType:i,withCredentials:s})}}var Ep=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Ep||{});class dT{constructor(e,n=200,r="OK"){this.headers=e.headers||new es,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class hT extends dT{constructor(e={}){super(e),this.type=Ep.ResponseHeader}clone(e={}){return new hT({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Mp extends dT{constructor(e={}){super(e),this.type=Ep.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Mp({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class T4 extends dT{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function pT(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let A4=(()=>{var t;class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof y_)s=r;else{let l,h;l=o.headers instanceof es?o.headers:new es(o.headers),o.params&&(h=o.params instanceof dl?o.params:new dl({fromObject:o.params})),s=new y_(r,i,void 0!==o.body?o.body:null,{headers:l,context:o.context,params:h,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const a=W(s).pipe(tp(l=>this.handler.handle(l)));if(r instanceof y_||"events"===o.observe)return a;const c=a.pipe(Yo(l=>l instanceof Mp));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(ge(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(ge(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(ge(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return c.pipe(ge(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:(new dl).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,pT(o,i))}post(r,i,o={}){return this.request("POST",r,pT(o,i))}put(r,i,o={}){return this.request("PUT",r,pT(o,i))}}return(t=e).\u0275fac=function(r){return new(r||t)(re(N0))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();function R4(t,e){return e(t)}function qae(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const Zae=new fe(""),v_=new fe(""),x4=new fe("");function Yae(){let t=null;return(e,n)=>{null===t&&(t=(we(Zae,{optional:!0})??[]).reduceRight(qae,R4));const r=we(uw),i=r.add();return t(e,n).pipe(bm(()=>r.remove(i)))}}let k4=(()=>{var t;class e extends N0{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=we(uw)}handle(r){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(v_),...this.injector.get(x4,[])]));this.chain=o.reduceRight((s,a)=>function Kae(t,e,n){return(r,i)=>n.runInContext(()=>e(r,o=>t(o,i)))}(s,a,this.injector),R4)}const i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(bm(()=>this.pendingTasks.remove(i)))}}return(t=e).\u0275fac=function(r){return new(r||t)(re(F0),re(go))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const ece=/^\)\]\}',?\n/;let F4=(()=>{var t;class e{constructor(r){this.xhrFactory=r}handle(r){if("JSONP"===r.method)throw new Q(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?S(i.\u0275loadImpl()):W(null)).pipe(Ze(()=>new st(s=>{const a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((b,L)=>a.setRequestHeader(b,L.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const b=r.detectContentTypeHeader();null!==b&&a.setRequestHeader("Content-Type",b)}if(r.responseType){const b=r.responseType.toLowerCase();a.responseType="json"!==b?b:"text"}const c=r.serializeBody();let l=null;const h=()=>{if(null!==l)return l;const b=a.statusText||"OK",L=new es(a.getAllResponseHeaders()),k=function tce(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(a)||r.url;return l=new hT({headers:L,status:a.status,statusText:b,url:k}),l},f=()=>{let{headers:b,status:L,statusText:k,url:H}=h(),$=null;204!==L&&($=typeof a.response>"u"?a.responseText:a.response),0===L&&(L=$?200:0);let pe=L>=200&&L<300;if("json"===r.responseType&&"string"==typeof $){const Oe=$;$=$.replace(ece,"");try{$=""!==$?JSON.parse($):null}catch(at){$=Oe,pe&&(pe=!1,$={error:at,text:$})}}pe?(s.next(new Mp({body:$,headers:b,status:L,statusText:k,url:H||void 0})),s.complete()):s.error(new T4({error:$,headers:b,status:L,statusText:k,url:H||void 0}))},m=b=>{const{url:L}=h(),k=new T4({error:b,status:a.status||0,statusText:a.statusText||"Unknown Error",url:L||void 0});s.error(k)};let v=!1;const E=b=>{v||(s.next(h()),v=!0);let L={type:Ep.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(L.total=b.total),"text"===r.responseType&&a.responseText&&(L.partialText=a.responseText),s.next(L)},I=b=>{let L={type:Ep.UploadProgress,loaded:b.loaded};b.lengthComputable&&(L.total=b.total),s.next(L)};return a.addEventListener("load",f),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),r.reportProgress&&(a.addEventListener("progress",E),null!==c&&a.upload&&a.upload.addEventListener("progress",I)),a.send(c),s.next({type:Ep.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",f),a.removeEventListener("timeout",m),r.reportProgress&&(a.removeEventListener("progress",E),null!==c&&a.upload&&a.upload.removeEventListener("progress",I)),a.readyState!==a.DONE&&a.abort()}})))}}return(t=e).\u0275fac=function(r){return new(r||t)(re(j3))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const fT=new fe("XSRF_ENABLED"),L4=new fe("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),V4=new fe("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class U4{}let ice=(()=>{var t;class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=x3(r,this.cookieName),this.lastCookieString=r),this.lastToken}}return(t=e).\u0275fac=function(r){return new(r||t)(re(vo),re(mo),re(L4))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();function oce(t,e){const n=t.url.toLowerCase();if(!we(fT)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=we(U4).getToken(),i=we(V4);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var hl=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(hl||{});function Gu(t,e){return{\u0275kind:t,\u0275providers:e}}function sce(...t){const e=[A4,F4,k4,{provide:N0,useExisting:k4},{provide:F0,useExisting:F4},{provide:v_,useValue:oce,multi:!0},{provide:fT,useValue:!0},{provide:U4,useClass:ice}];for(const n of t)e.push(...n.\u0275providers);return function IO(t){return{\u0275providers:t}}(e)}const B4=new fe("LEGACY_INTERCEPTOR_FN");let cce=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Vn({type:t}),t.\u0275inj=Zn({providers:[sce(Gu(hl.LegacyInterceptors,[{provide:B4,useFactory:Yae},{provide:v_,useExisting:B4,multi:!0}]))]}),e})(),gT=(()=>{var t;class e{constructor(r){this.http=r,this.apiUrl="https://photohub-backend.onrender.com/users",this.rolesUrl="https://photohub-backend.onrender.com/roles",this.cachedUsers=null}getRoles(){return this.http.get(this.rolesUrl)}getUsers(){return this.cachedUsers?W(this.cachedUsers):this.http.get(this.apiUrl).pipe(lr(r=>this.cachedUsers=r),Li(r=>Jh("Unable to fetch users data")))}getUserById(r){return this.getUsers().pipe(ge(i=>i.find(o=>o.id===r)||null))}getUserByUsername(r){return this.getUsers().pipe(ge(i=>i.find(o=>o.username===r)||null))}isUsernameExists(r){return this.getUsers().pipe(ge(i=>i.some(o=>o.username===r)))}addUser(r){const i=new es({"Content-Type":"application/json"});return this.isUsernameExists(r.username).pipe(Ze(o=>o?(console.error("Username already exists:",r.username),W(null)):(r.id=this.incrementUserId(),this.http.post(this.apiUrl,r,{headers:i}).pipe(Li(s=>(console.error("Error adding user:",s),W(null))),lr(()=>{this.cachedUsers&&this.cachedUsers.push(r)})))))}updateUser(r){const i=new es({"Content-Type":"application/json"});return this.http.put(`${this.apiUrl}/${r.id}`,r,{headers:i}).pipe(Li(o=>(console.error("Error updating user:",o),W(null))),lr(o=>{if(o){if(this.cachedUsers){const s=this.cachedUsers.findIndex(a=>a.id===o.id);-1!==s&&(this.cachedUsers[s]=o)}}else console.error("User update failed")}))}incrementUserId(){return(this.cachedUsers?Math.max(...this.cachedUsers.map(i=>i.id),0):0)+1}}return(t=e).\u0275fac=function(r){return new(r||t)(re(A4))},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),j4=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(X(Na),X(Ri))},t.\u0275dir=Ve({type:t}),e})(),Wu=(()=>{var t;class e extends j4{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Er(t)))(i||t)}}(),t.\u0275dir=Ve({type:t,features:[Bt]}),e})();const ea=new fe("NgValueAccessor"),mce={provide:ea,useExisting:j(()=>pl),multi:!0},yce=new fe("CompositionEventMode");let pl=(()=>{var t;class e extends j4{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function _ce(){const t=qc()?qc().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(X(Na),X(Ri),X(yce,8))},t.\u0275dir=Ve({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&J("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[On([mce]),Bt]}),e})();const mi=new fe("NgValidators"),gl=new fe("NgAsyncValidators");function W4(t){return function fl(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}(t.value)?{required:!0}:null}function U0(t){return null}function X4(t){return null!=t}function J4(t){return lm(t)?S(t):t}function ej(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function tj(t,e){return e.map(n=>n(t))}function nj(t){return t.map(e=>function Cce(t){return!t.validate}(e)?e:n=>e.validate(n))}function mT(t){return null!=t?function rj(t){if(!t)return null;const e=t.filter(X4);return 0==e.length?null:function(n){return ej(tj(n,e))}}(nj(t)):null}function _T(t){return null!=t?function ij(t){if(!t)return null;const e=t.filter(X4);return 0==e.length?null:function(n){return function fce(...t){const e=ks(t),{args:n,keys:r}=lU(t),i=new st(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let h=0;h<s;h++){let f=!1;Fn(n[h]).subscribe(Ce(o,m=>{f||(f=!0,l--),a[h]=m},()=>c--,void 0,()=>{(!c||!f)&&(l||o.next(r?dU(r,a):a),o.complete())}))}});return e?i.pipe(uU(e)):i}(tj(n,e).map(J4)).pipe(ge(ej))}}(nj(t)):null}function oj(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function yT(t){return t?Array.isArray(t)?t:[t]:[]}function B0(t,e){return Array.isArray(t)?t.includes(e):t===e}function cj(t,e){const n=yT(e);return yT(t).forEach(i=>{B0(n,i)||n.push(i)}),n}function lj(t,e){return yT(e).filter(n=>!B0(t,n))}class uj{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=mT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=_T(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Ui extends uj{get formDirective(){return null}get path(){return null}}class ml extends uj{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class dj{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let qu=(()=>{var t;class e extends dj{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(X(ml,2))},t.\u0275dir=Ve({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&qo("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Bt]}),e})(),C_=(()=>{var t;class e extends dj{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(X(Ui,10))},t.\u0275dir=Ve({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&qo("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Bt]}),e})();const w_="VALID",$0="INVALID",Op="PENDING",P_="DISABLED";function wT(t){return(H0(t)?t.validators:t)||null}function PT(t,e){return(H0(e)?e.asyncValidators:t)||null}function H0(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class gj{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===w_}get invalid(){return this.status===$0}get pending(){return this.status==Op}get disabled(){return this.status===P_}get enabled(){return this.status!==P_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(cj(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(cj(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(lj(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(lj(e,this._rawAsyncValidators))}hasValidator(e){return B0(this._rawValidators,e)}hasAsyncValidator(e){return B0(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Op,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=P_,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=w_,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===w_||this.status===Op)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?P_:w_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Op,this._hasOwnPendingAsyncValidator=!0;const n=J4(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new En,this.statusChanges=new En}_calculateStatus(){return this._allControlsDisabled()?P_:this.errors?$0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Op)?Op:this._anyControlsHaveStatus($0)?$0:w_}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){H0(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Mce(t){return Array.isArray(t)?mT(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Oce(t){return Array.isArray(t)?_T(t):t||null}(this._rawAsyncValidators)}}class ET extends gj{constructor(e,n,r){super(wT(n),PT(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function fj(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new Q(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function pj(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new Q(1e3,"");if(!r[n])throw new Q(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Ip=new fe("CallSetDisabledState",{providedIn:"root",factory:()=>z0}),z0="always";function E_(t,e,n=z0){MT(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Tce(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&mj(t,e)})}(t,e),function Dce(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Ace(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&mj(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function bce(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function q0(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function MT(t,e){const n=function sj(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(oj(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function aj(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(oj(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();q0(e._rawValidators,i),q0(e._rawAsyncValidators,i)}function mj(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const Nce={provide:Ui,useExisting:j(()=>Ku)},M_=(()=>Promise.resolve())();let Ku=(()=>{var t;class e extends Ui{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new En,this.form=new ET({},mT(r),_T(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){M_.then(()=>{const i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),E_(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){M_.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){M_.then(()=>{const i=this._findContainer(r.path),o=new ET({});(function _j(t,e){MT(t,e)})(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){M_.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){M_.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,function yj(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return(t=e).\u0275fac=function(r){return new(r||t)(X(mi,10),X(gl,10),X(Ip,8))},t.\u0275dir=Ve({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&J("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[On([Nce]),Bt]}),e})();function vj(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function Cj(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const wj=class extends gj{constructor(e=null,n,r){super(wT(n),PT(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),H0(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=Cj(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){vj(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){vj(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Cj(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Vce={provide:ml,useExisting:j(()=>_l)},Mj=(()=>Promise.resolve())();let _l=(()=>{var t;class e extends ml{constructor(r,i,o,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new wj,this._registered=!1,this.name="",this.update=new En,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=function bT(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===pl?n=o:function xce(t){return Object.getPrototypeOf(t.constructor)===Wu}(o)?r=o:i=o}),i||r||n||null}(0,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),function IT(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){E_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){Mj.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,o=0!==i&&Qh(i);Mj.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?function G0(t,e){return[...e.path,t]}(r,this._parent):[r]}}return(t=e).\u0275fac=function(r){return new(r||t)(X(Ui,9),X(mi,10),X(gl,10),X(ea,10),X(fw,8),X(Ip,8))},t.\u0275dir=Ve({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[On([Vce]),Bt,ci]}),e})(),O_=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Ve({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),Ij=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Vn({type:t}),t.\u0275inj=Zn({}),e})();const Kce={provide:ea,useExisting:j(()=>Z0),multi:!0};function xj(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Z0=(()=>{var t;class e extends Wu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;const o=xj(this._getOptionId(r),r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){const i=function Zce(t){return t.split(":")[0]}(r);return this._optionMap.has(i)?this._optionMap.get(i):r}}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Er(t)))(i||t)}}(),t.\u0275dir=Ve({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&J("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[On([Kce]),Bt]}),e})(),Y0=(()=>{var t;class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){null!=this._select&&(this._select._optionMap.set(this.id,r),this._setElementValue(xj(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(t=e).\u0275fac=function(r){return new(r||t)(X(Ri),X(Na),X(Z0,9))},t.\u0275dir=Ve({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const Yce={provide:ea,useExisting:j(()=>ST),multi:!0};function kj(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let ST=(()=>{var t;class e extends Wu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){let i;if(this.value=r,Array.isArray(r)){const o=r.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{const o=[],s=i.selectedOptions;if(void 0!==s){const a=s;for(let c=0;c<a.length;c++){const h=this._getOptionValue(a[c].value);o.push(h)}}else{const a=i.options;for(let c=0;c<a.length;c++){const l=a[c];if(l.selected){const h=this._getOptionValue(l.value);o.push(h)}}}this.value=o,r(o)}}_registerOption(r){const i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){const i=function Qce(t){return t.split(":")[0]}(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Er(t)))(i||t)}}(),t.\u0275dir=Ve({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&J("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[On([Yce]),Bt]}),e})(),Q0=(()=>{var t;class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){null!=this._select&&(this._value=r,this._setElementValue(kj(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(kj(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(t=e).\u0275fac=function(r){return new(r||t)(X(Ri),X(Na),X(ST,9))},t.\u0275dir=Ve({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})(),Zu=(()=>{var t;class e{constructor(){this._validator=U0}ngOnChanges(r){if(this.inputName in r){const i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):U0,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return null!=r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Ve({type:t,features:[ci]}),e})();const ele={provide:mi,useExisting:j(()=>I_),multi:!0};let I_=(()=>{var t;class e extends Zu{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Qh,this.createValidator=r=>W4}enabled(r){return r}}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Er(t)))(i||t)}}(),t.\u0275dir=Ve({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&Wo("required",i._enabled?"":null)},inputs:{required:"required"},features:[On([ele]),Bt]}),e})(),sle=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Vn({type:t}),t.\u0275inj=Zn({imports:[Ij]}),e})(),cle=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:Ip,useValue:r.callSetDisabledState??z0}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Vn({type:t}),t.\u0275inj=Zn({imports:[sle]}),e})();function lle(t,e){1&t&&(_(0,"span",37),w(1,"Vui l\xf2ng nh\u1eadp email h\u1ee3p l\u1ec7."),y())}function ule(t,e){1&t&&(_(0,"span",37),w(1,"M\u1eadt kh\u1ea9u ph\u1ea3i c\xf3 \xedt nh\u1ea5t 6 k\xfd t\u1ef1."),y())}let dle=(()=>{var t;class e{constructor(r,i){this.userService=r,this.router=i,this.isShowPassword=!1,this.invalidEmail=!1,this.invalidPassword=!1,this.email="",this.password="",this.loginMessage=""}onChangeEmail(r){this.email=r.target.value,this.validateEmail()}onChangePassword(r){this.password=r.target.value,this.validatePassword()}togglePassword(){this.isShowPassword=!this.isShowPassword}onSubmit(){this.validateEmail()&&this.validatePassword()?this.userService.getUserByUsername(this.email).subscribe(r=>{r?this.userService.getRoles().subscribe(i=>{const o=i.find(a=>a.id===r.role_id);o?(this.loginMessage=`\u0110\u0103ng nh\u1eadp th\xe0nh c\xf4ng v\u1edbi vai tr\xf2: ${o.name}`,this.router.navigate(1===r.role_id?["/admin/home"]:2===r.role_id?["/partner/"+r.id]:["/home"])):this.loginMessage="Vai tr\xf2 kh\xf4ng h\u1ee3p l\u1ec7"}):this.loginMessage="Sai email ho\u1eb7c m\u1eadt kh\u1ea9u"}):(this.validateEmail(),this.validatePassword())}validateEmail(){const i=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(this.email);return this.invalidEmail=!i,i}validatePassword(){return this.invalidPassword=this.password.length<6,!this.invalidPassword}}return(t=e).\u0275fac=function(r){return new(r||t)(X(gT),X(hi))},t.\u0275cmp=xt({type:t,selectors:[["app-login"]],decls:53,vars:8,consts:[[1,"login-wrapper"],[1,"login-container"],[1,"login-header"],[1,"go-home"],["routerLink","/home",1,"go-home-link"],[1,"bx","bxs-chevron-left"],[1,"login-title"],[1,"brand"],["routerLink","/home",1,"brand-link"],["src","./assets/images/logo2.png","alt","logo",1,"brand-image"],[1,"login-message"],[1,"login-content"],[3,"ngSubmit"],[1,"form-group"],["for","username"],["type","text","id","username","name","username","required","","placeholder","quang@gmail.com",3,"input"],["class","validate-message",4,"ngIf"],["for","password"],[1,"password-wrapper"],["id","password","name","password","required","",3,"type","input"],["id","showPassword","href","javascript:void(0)",3,"click"],[1,"bx","bx-show"],["id","hidePassword","href","javascript:void(0)",3,"click"],[1,"bx","bx-hide"],["routerLink","",1,"forgot-password"],["type","submit"],[1,"wall-login"],[1,"line-left"],[1,"line-right"],[1,"login-footer"],[1,"login-option"],["href","javascript:void(0)",1,"login-option-icon"],[1,"bx","bxl-google"],[1,"bx","bxl-facebook"],[1,"bx","bxl-instagram-alt"],[1,"sign-in"],["routerLink","/auth/register"],[1,"validate-message"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),T(5,"i",5),w(6," Trang ch\u1ee7 "),y()(),_(7,"h3",6),w(8," \u0110\u0103ng nh\u1eadp "),y(),_(9,"div",7)(10,"a",8),T(11,"img",9),y()()(),_(12,"div",10),w(13),y(),_(14,"div",11)(15,"form",12),J("ngSubmit",function(){return i.onSubmit()}),_(16,"div",13)(17,"label",14),w(18,"Email"),y(),_(19,"input",15),J("input",function(s){return i.onChangeEmail(s)}),y(),Fe(20,lle,2,0,"span",16),y(),_(21,"div",13)(22,"label",17),w(23,"M\u1eadt kh\u1ea9u"),y(),_(24,"div",18)(25,"input",19),J("input",function(s){return i.onChangePassword(s)}),y(),_(26,"a",20),J("click",function(){return i.togglePassword()}),T(27,"i",21),y(),_(28,"a",22),J("click",function(){return i.togglePassword()}),T(29,"i",23),y()(),Fe(30,ule,2,0,"span",16),_(31,"a",24),w(32,"Qu\xean m\u1eadt kh\u1ea9u?"),y()(),_(33,"button",25),w(34,"\u0110\u0103ng nh\u1eadp"),y()()(),_(35,"div",26),T(36,"div",27),_(37,"span"),w(38,"Ho\u1eb7c \u0111\u0103ng nh\u1eadp b\u1eb1ng"),y(),T(39,"div",28),y(),_(40,"div",29)(41,"div",30)(42,"a",31),T(43,"i",32),y(),_(44,"a",31),T(45,"i",33),y(),_(46,"a",31),T(47,"i",34),y()(),_(48,"div",35)(49,"div"),w(50,"B\u1ea1n ch\u01b0a c\xf3 t\xe0i kho\u1ea3n?"),_(51,"a",36),w(52," \u0110\u0103ng k\xfd"),y()()()()()()),2&r&&(F(13),et(i.loginMessage),F(7),ie("ngIf",i.invalidEmail),F(5),ie("type",i.isShowPassword?"text":"password"),F(1),qo("show",i.isShowPassword),F(2),qo("show",!i.isShowPassword),F(2),ie("ngIf",i.invalidPassword))},dependencies:[wo,Zr,O_,C_,Ku],styles:['.login-wrapper[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;min-height:100vh;background-image:url(/assets/images/banner.jpg);background-size:cover;background-repeat:no-repeat;background-position:center;padding:2rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]{padding:2rem;border-radius:.5rem;width:700px;margin:auto;min-height:calc(100vh - 4rem);height:100%;background-color:#ffffffa8;box-shadow:0 0 10px #0000004d}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem;position:relative}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{position:absolute;top:0rem;left:0rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]   .go-home-link[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;text-decoration:none;color:var(--color-primary);font-weight:700;position:relative}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   .login-title[_ngcontent-%COMP%]{text-align:center;color:var(--color-primary);font-size:32px;font-weight:700}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{display:flex;justify-content:center}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]   .brand-image[_ngcontent-%COMP%]{width:5rem;height:5rem;object-fit:cover}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-message[_ngcontent-%COMP%]{color:red;margin-bottom:1.5rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:15px}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:gray;font-weight:600;font-size:18px}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 10px;border:2px solid gray;border-radius:5px;background-color:transparent;outline:none}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--color-primary)}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]{position:relative}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #hidePassword[_ngcontent-%COMP%], .login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #showPassword[_ngcontent-%COMP%]{position:absolute;right:10px;top:calc(50% + 3px);transform:translateY(-50%);text-decoration:none;font-size:20px;color:var(--color-primary);display:none}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #hidePassword.show[_ngcontent-%COMP%], .login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #showPassword.show[_ngcontent-%COMP%]{display:block}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{width:100%;font-size:14px;color:#ff1818}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{position:absolute;top:100%;color:var(--color-primary);width:100%;right:0;text-align:right}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:3rem;display:block;width:100%;padding:15px 10px;background-color:var(--color-primary);color:#fff;border:none;border-radius:5px;font-size:20px;cursor:pointer}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]{margin:2rem 0;display:flex;align-items:center}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]   .line-left[_ngcontent-%COMP%], .login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]   .line-right[_ngcontent-%COMP%]{flex-grow:1;height:2px;background-color:var(--color-primary)}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 10px;white-space:nowrap}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .login-option[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;justify-content:center;column-gap:1.5rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .login-option[_ngcontent-%COMP%]   .login-option-icon[_ngcontent-%COMP%]{font-size:42px;color:var(--color-primary);text-decoration:none}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%]{color:var(--color-primary)}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;text-decoration:none;color:var(--color-primary)}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:-1px;left:0}@media (max-width: 767.98px){.login-wrapper[_ngcontent-%COMP%]{width:100%;left:50%;transform:translate(-50%);padding:1rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]{width:100%;min-height:calc(100vh - 2rem)}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{top:-.5rem;left:-1rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{font-size:12px}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2rem;padding:10px;font-size:17px}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]{margin:1rem 0}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .login-option[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;justify-content:center;column-gap:1.5rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .login-option[_ngcontent-%COMP%]   .login-option-icon[_ngcontent-%COMP%]{font-size:26px;color:var(--color-primary);text-decoration:none}}']}),e})();function hle(t,e){1&t&&(_(0,"span",42),w(1,"Vui l\xf2ng nh\u1eadp email h\u1ee3p l\u1ec7."),y())}function ple(t,e){1&t&&(_(0,"span",42),w(1,"Vui l\xf2ng nh\u1eadp h\u1ecd t\xean."),y())}function fle(t,e){1&t&&(_(0,"span",42),w(1,"M\u1eadt kh\u1ea9u ph\u1ea3i c\xf3 \xedt nh\u1ea5t 6 k\xfd t\u1ef1."),y())}function gle(t,e){1&t&&(_(0,"span",42),w(1,"M\u1eadt kh\u1ea9u ph\u1ea3i c\xf3 \xedt nh\u1ea5t 6 k\xfd t\u1ef1 v\xe0 tr\xf9ng m\u1edbi m\u1eadt kh\u1ea9u \u1edf tr\xean."),y())}let mle=(()=>{var t;class e{constructor(r,i){this.userService=r,this.router=i,this.isShowPassword=!1,this.isShowConfirmPassword=!1,this.invalidEmail=!1,this.invalidPassword=!1,this.invalidConfirmPassword=!1,this.invalidFullName=!1,this.email="",this.password="",this.confirmPassword="",this.fullName="",this.registerMessage=""}onChangeEmail(r){this.email=r.target.value,this.validateEmail()}onChangePassword(r){this.password=r.target.value,this.validatePassword(),this.confirmPassword.length>0&&this.validateConfirmPassword()}onChangeConfirmPassword(r){this.confirmPassword=r.target.value,this.validateConfirmPassword()}onChangeFullName(r){this.fullName=r.target.value,this.validateFullName()}togglePassword(){this.isShowPassword=!this.isShowPassword}toggleConfirmPassword(){this.isShowConfirmPassword=!this.isShowConfirmPassword}onSubmit(){this.validateEmail()&&this.validatePassword()&&this.validateConfirmPassword()&&this.validateFullName()?this.userService.isUsernameExists(this.email).subscribe(r=>{r?this.registerMessage="Ng\u01b0\u1eddi d\xf9ng \u0111\xe3 t\u1ed3n t\u1ea1i.":this.userService.addUser({id:0,username:this.email,password:this.password,full_name:this.fullName,role_id:3,email:"",phone_number:"",address:"",avatar:""}).subscribe(o=>{null!==o?(this.registerMessage="Th\xeam ng\u01b0\u1eddi d\xf9ng th\xe0nh c\xf4ng.",this.router.navigate(["/auth/login"])):this.registerMessage="Th\xeam ng\u01b0\u1eddi d\xf9ng kh\xf4ng th\xe0nh c\xf4ng."},o=>{console.error("L\u1ed7i khi th\xeam ng\u01b0\u1eddi d\xf9ng:",o),this.registerMessage="\u0110\xe3 x\u1ea3y ra l\u1ed7i khi th\xeam ng\u01b0\u1eddi d\xf9ng."})}):(this.validateEmail(),this.validateFullName(),this.validatePassword(),this.validateConfirmPassword())}validateEmail(){const i=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(this.email);return this.invalidEmail=!i,i}validateFullName(){return this.invalidFullName=this.fullName.length<1,!this.invalidFullName}validatePassword(){return this.invalidPassword=this.password.length<6,!this.invalidPassword}validateConfirmPassword(){return this.invalidConfirmPassword=this.confirmPassword.length<6||this.confirmPassword!==this.password,!this.invalidConfirmPassword}}return(t=e).\u0275fac=function(r){return new(r||t)(X(gT),X(hi))},t.\u0275cmp=xt({type:t,selectors:[["app-register"]],decls:66,vars:15,consts:[[1,"register-wrapper"],[1,"register-container"],[1,"register-header"],[1,"go-home"],["routerLink","/home",1,"go-home-link"],[1,"bx","bxs-chevron-left"],[1,"register-title"],[1,"brand"],["routerLink","/home",1,"brand-link"],["src","./assets/images/logo2.png","alt","logo",1,"brand-image"],[1,"register-message"],[1,"register-content"],[3,"ngSubmit"],[1,"form-group"],["for","username"],["type","text","id","username","name","username","required","","placeholder","quang@gmail.com",3,"input"],["class","validate-message",4,"ngIf"],["for","fullName"],["type","text","id","fullName","name","fullName","required","","placeholder","Nguyen Quang Nam",3,"input"],["for","password"],[1,"password-wrapper"],["id","password","name","password","required","",3,"type","input"],["id","showPassword","href","javascript:void(0)",3,"click"],[1,"bx","bx-show"],["id","hidePassword","href","javascript:void(0)",3,"click"],[1,"bx","bx-hide"],["for","confirmPassword"],["name","password","required","",3,"type","input"],["id","showConfirmPassword","href","javascript:void(0)",3,"click"],["id","hideConfirmPassword","href","javascript:void(0)",3,"click"],["type","submit"],[1,"wall-login"],[1,"line-left"],[1,"line-right"],[1,"register-footer"],[1,"register-option"],["href","javascript:void(0)",1,"register-option-icon"],[1,"bx","bxl-google"],[1,"bx","bxl-facebook"],[1,"bx","bxl-instagram-alt"],[1,"login"],["routerLink","/auth/login"],[1,"validate-message"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),T(5,"i",5),w(6," Trang ch\u1ee7 "),y()(),_(7,"h3",6),w(8," \u0110\u0103ng k\xfd "),y(),_(9,"div",7)(10,"a",8),T(11,"img",9),y()()(),_(12,"div",10),w(13),y(),_(14,"div",11)(15,"form",12),J("ngSubmit",function(){return i.onSubmit()}),_(16,"div",13)(17,"label",14),w(18,"Email"),y(),_(19,"input",15),J("input",function(s){return i.onChangeEmail(s)}),y(),Fe(20,hle,2,0,"span",16),y(),_(21,"div",13)(22,"label",17),w(23,"H\u1ecd t\xean"),y(),_(24,"input",18),J("input",function(s){return i.onChangeFullName(s)}),y(),Fe(25,ple,2,0,"span",16),y(),_(26,"div",13)(27,"label",19),w(28,"M\u1eadt kh\u1ea9u"),y(),_(29,"div",20)(30,"input",21),J("input",function(s){return i.onChangePassword(s)}),y(),_(31,"a",22),J("click",function(){return i.togglePassword()}),T(32,"i",23),y(),_(33,"a",24),J("click",function(){return i.togglePassword()}),T(34,"i",25),y()(),Fe(35,fle,2,0,"span",16),y(),_(36,"div",13)(37,"label",26),w(38,"X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u"),y(),_(39,"div",20)(40,"input",27),J("input",function(s){return i.onChangeConfirmPassword(s)}),y(),_(41,"a",28),J("click",function(){return i.toggleConfirmPassword()}),T(42,"i",23),y(),_(43,"a",29),J("click",function(){return i.toggleConfirmPassword()}),T(44,"i",25),y()(),Fe(45,gle,2,0,"span",16),y(),_(46,"button",30),w(47,"\u0110\u0103ng k\xfd"),y()()(),_(48,"div",31),T(49,"div",32),_(50,"span"),w(51,"Ho\u1eb7c \u0111\u0103ng nh\u1eadp b\u1eb1ng"),y(),T(52,"div",33),y(),_(53,"div",34)(54,"div",35)(55,"a",36),T(56,"i",37),y(),_(57,"a",36),T(58,"i",38),y(),_(59,"a",36),T(60,"i",39),y()(),_(61,"div",40)(62,"div"),w(63," B\u1ea1n \u0111\xe3 c\xf3 t\xe0i kho\u1ea3n? "),_(64,"a",41),w(65," \u0110\u0103ng nh\u1eadp"),y()()()()()()),2&r&&(F(13),et(i.registerMessage),F(7),ie("ngIf",i.invalidEmail),F(5),ie("ngIf",i.invalidFullName),F(5),ie("type",i.isShowPassword?"text":"password"),F(1),qo("show",i.isShowPassword),F(2),qo("show",!i.isShowPassword),F(2),ie("ngIf",i.invalidPassword),F(5),ie("type",i.isShowConfirmPassword?"text":"password"),F(1),qo("show",i.isShowConfirmPassword),F(2),qo("show",!i.isShowConfirmPassword),F(2),ie("ngIf",i.invalidConfirmPassword))},dependencies:[wo,Zr,O_,C_,Ku],styles:['.register-wrapper[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;min-height:100vh;background-image:url(/assets/images/banner.jpg);background-size:cover;background-repeat:no-repeat;background-position:center;padding:2rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]{padding:2rem;border-radius:.5rem;width:700px;margin:auto;min-height:calc(100vh - 4rem);height:100%;background-color:#ffffffa8;box-shadow:0 0 10px #0000004d}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem;position:relative}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{position:absolute;top:0rem;left:0rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]   .go-home-link[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;text-decoration:none;color:var(--color-primary);font-weight:700;position:relative}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]   .register-title[_ngcontent-%COMP%]{text-align:center;color:var(--color-primary);font-size:32px;font-weight:700}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{display:flex;justify-content:center}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]   .brand-image[_ngcontent-%COMP%]{width:5rem;height:5rem;object-fit:cover}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-message[_ngcontent-%COMP%]{color:red;margin-bottom:1.5rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:15px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:gray;font-weight:600;font-size:18px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 10px;border:2px solid gray;border-radius:5px;background-color:transparent;outline:none}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--color-primary)}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]{position:relative}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #hidePassword[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #showPassword[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #hideConfirmPassword[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #showConfirmPassword[_ngcontent-%COMP%]{position:absolute;right:10px;top:calc(50% + 3px);transform:translateY(-50%);text-decoration:none;font-size:20px;color:var(--color-primary);display:none}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #hidePassword.show[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #showPassword.show[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #hideConfirmPassword.show[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #showConfirmPassword.show[_ngcontent-%COMP%]{display:block}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{width:100%;font-size:14px;color:#ff1818}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{position:absolute;top:100%;color:var(--color-primary);width:100%;right:0;text-align:right}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:3rem;display:block;width:100%;padding:15px 10px;background-color:var(--color-primary);color:#fff;border:none;border-radius:5px;font-size:20px;cursor:pointer}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]{margin:2rem 0;display:flex;align-items:center}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]   .line-left[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]   .line-right[_ngcontent-%COMP%]{flex-grow:1;height:2px;background-color:var(--color-primary)}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 10px;white-space:nowrap}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-footer[_ngcontent-%COMP%]   .register-option[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;justify-content:center;column-gap:1.5rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-footer[_ngcontent-%COMP%]   .register-option[_ngcontent-%COMP%]   .register-option-icon[_ngcontent-%COMP%]{font-size:42px;color:var(--color-primary);text-decoration:none}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-footer[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;text-decoration:none;color:var(--color-primary)}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-footer[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:-1px;left:0}@media (max-width: 767.98px){.register-wrapper[_ngcontent-%COMP%]{width:100%;left:50%;transform:translate(-50%);padding:1rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]{width:100%;min-height:calc(100vh - 2rem)}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{top:-.5rem;left:-1rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{font-size:12px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2rem;padding:10px;font-size:17px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]{margin:1rem 0}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-footer[_ngcontent-%COMP%]   .register-option[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;justify-content:center;column-gap:1.5rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-footer[_ngcontent-%COMP%]   .register-option[_ngcontent-%COMP%]   .register-option-icon[_ngcontent-%COMP%]{font-size:26px;color:var(--color-primary);text-decoration:none}}']}),e})();function _le(t,e){if(1&t&&(_(0,"tr")(1,"td"),w(2),y(),_(3,"td"),w(4),y(),_(5,"td"),w(6),y()()),2&t){const n=e.$implicit;F(2),et(n.id),F(2),et(n.username),F(2),et(n.email)}}let zj=(()=>{var t;class e{constructor(r){this.userService=r,this.users=[]}ngOnInit(){this.userService.getUsers().subscribe(r=>{this.users=r})}}return(t=e).\u0275fac=function(r){return new(r||t)(X(gT))},t.\u0275cmp=xt({type:t,selectors:[["app-user-list"]],decls:13,vars:1,consts:[[4,"ngFor","ngForOf"]],template:function(r,i){1&r&&(_(0,"h1"),w(1,"User List"),y(),_(2,"table")(3,"thead")(4,"tr")(5,"th"),w(6,"ID"),y(),_(7,"th"),w(8,"Username"),y(),_(9,"th"),w(10,"Email"),y()()(),_(11,"tbody"),Fe(12,_le,7,3,"tr",0),y()()),2&r&&(F(12),ie("ngForOf",i.users))},dependencies:[Cs]}),e})(),Gj=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=xt({type:t,selectors:[["app-home-admin"]],decls:2,vars:0,template:function(r,i){1&r&&(_(0,"p"),w(1,"home-admin works!"),y())}}),e})();function yle(t,e){if(1&t&&(_(0,"tr",14)(1,"td",15),w(2),y(),_(3,"td",15),w(4),y(),_(5,"td",15),w(6),y(),_(7,"td",15),w(8),y(),_(9,"td",15),w(10),y(),_(11,"td",15),w(12),y(),_(13,"td",15),w(14),y(),_(15,"td",15),w(16),y(),_(17,"td",15),w(18),y(),_(19,"td",15),w(20),y(),_(21,"td",15),w(22),y(),_(23,"td",15),w(24),y()()),2&t){const n=e.$implicit,r=e.index;F(2),et(r+1),F(2),et(n.order.cust_name),F(2),et(n.order.cust_phone),F(2),et(n.order.cust_email),F(2),et(n.order.order_date),F(2),et(n.order.appoi_time),F(2),et(n.order.time),F(2),et(n.order.shooting_type),F(2),et(n.user.full_name),F(2),et(n.order.price),F(2),et(n.order.code),F(2),Lt("","cho_duyet"===n.order.status?"Ch\u1edd duy\u1ec7t":"da_duyet"===n.order.status?"\u0110\xe3 duy\u1ec7t":"huy"===n.order.status?"H\u1ee7y":""," ")}}let vle=(()=>{var t;class e{constructor(r){this.orderDTOService=r,this.orderData=[]}ngOnInit(){this.loadOrderData()}loadOrderData(){this.orderDTOService.getOrderDTOs().subscribe(r=>{this.orderData=r,console.log("orderData:",this.orderData)},r=>{console.error("Error fetching order: ",r)})}onAccept(r){var i=this;console.log(r),this.orderDTOService.getOrderDTOsById(r).subscribe(function(){var o=(0,x.Z)(function*(s){null!==s?(console.log("D\u1eef li\u1ec7u \u0111\xe3 t\xecm th\u1ea5y:",s),(yield i.orderDTOService.updateOrder(s)).subscribe(a=>{null!==a?i.loadOrderData():console.log("C\u1eadp nh\u1eadt th\u1ea5t b\u1ea1i.")},a=>{console.error("L\u1ed7i khi c\u1eadp nh\u1eadt:",a)})):console.log("D\u1eef li\u1ec7u kh\xf4ng t\u1ed3n t\u1ea1i.")});return function(s){return o.apply(this,arguments)}}(),o=>{console.error("L\u1ed7i x\u1ea3y ra:",o)})}}return(t=e).\u0275fac=function(r){return new(r||t)(X(uT))},t.\u0275cmp=xt({type:t,selectors:[["app-order-list-admin"]],decls:41,vars:1,consts:[[1,"layout-list-booking"],[1,"list-booking-wrapper"],[1,"list-booking-container"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/admin/home"],["aria-current","page",1,"breadcrumb-item","active"],[1,"list-booking-content"],[1,"table-wrapper"],[1,"table"],[1,"col-header"],[1,"row-header"],["class","col-content",4,"ngFor","ngForOf"],[1,"col-content"],[1,"row-content"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"nav",3)(4,"ol",4)(5,"li",5)(6,"a",6),w(7,"Trang chu"),y()(),_(8,"li",7),w(9,"Danh sach booking"),y()()(),_(10,"div",8)(11,"div",9)(12,"table",10)(13,"thead")(14,"tr",11)(15,"th",12),w(16,"#"),y(),_(17,"th",12),w(18,"T\xean kh\xe1ch"),y(),_(19,"th",12),w(20,"SDT kh\xe1ch"),y(),_(21,"th",12),w(22,"Email kh\xe1ch"),y(),_(23,"th",12),w(24,"Ng\xe0y"),y(),_(25,"th",12),w(26,"Th\u1eddi gian"),y(),_(27,"th",12),w(28,"Th\u1eddi l\u01b0\u1ee3ng"),y(),_(29,"th",12),w(30,"Lo\u1ea1i ch\u1ee5p"),y(),_(31,"th",12),w(32,"Ng\u01b0\u1eddi ch\u1ee5p"),y(),_(33,"th",12),w(34,"T\xf4\u0309ng ti\xea\u0300n"),y(),_(35,"th",12),w(36,"Ma\u0303"),y(),_(37,"th",12),w(38,"Tr\u1ea1ng th\xe1i"),y()()(),_(39,"tbody"),Fe(40,yle,25,12,"tr",13),y()()()()()()()),2&r&&(F(40),ie("ngForOf",i.orderData))},dependencies:[Cs,Zr],styles:['@charset "UTF-8";.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{padding:0}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]{display:inline}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item.active[_ngcontent-%COMP%]{color:#333}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{padding:8px;color:#000;content:"/\\a0"}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{width:100%;max-width:100%;overflow-x:auto;position:relative}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;height:12px}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cccccc;border-radius:6px}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#bbbbbb}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border:1px solid #ddd}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:transparent}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-color:inherit;border-style:solid;border-width:0}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr.col-header[_ngcontent-%COMP%]{background-color:#f2f2f2;font-weight:700}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr.col-header[_ngcontent-%COMP%]   th.row-header[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td.row-content[_ngcontent-%COMP%]{padding:.625rem 1.25rem;text-align:left;white-space:nowrap}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td.row-content[_ngcontent-%COMP%]:last-child{text-align:center}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.btn-accept[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:6px 12px;border:none;border-radius:4px;text-align:center;text-decoration:none;display:inline-block;cursor:pointer}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.btn-accept[_ngcontent-%COMP%]:hover{background-color:#45a049}']}),e})();function Cle(t,e){if(1&t){const n=Ji();_(0,"tr",15)(1,"td",16),w(2),y(),_(3,"td",16),w(4),y(),_(5,"td",16),w(6),y(),_(7,"td",16),w(8),y(),_(9,"td",16),w(10),y(),_(11,"td",16),w(12),y(),_(13,"td",16),w(14),y(),_(15,"td",16),w(16),y(),_(17,"td",16),w(18),y(),_(19,"td",16),w(20),y(),_(21,"td",16),w(22),y(),_(23,"td",16),w(24),y(),_(25,"td",17)(26,"a",18),J("click",function(){const o=wr(n).$implicit;return Qn(Mn().onAccept(o.order.id))}),w(27,"Duy\u1ec7t"),y()()()}if(2&t){const n=e.$implicit,r=e.index;F(2),et(r+1),F(2),et(n.order.cust_name),F(2),et(n.order.cust_phone),F(2),et(n.order.cust_email),F(2),et(n.order.order_date),F(2),et(n.order.appoi_time),F(2),et(n.order.time),F(2),et(n.order.shooting_type),F(1),Wo("data-id",n.user.id),F(1),et(n.user.full_name),F(2),et("cho_duyet"===n.order.status?"Ch\u1edd duy\u1ec7t":""),F(2),et(n.order.price),F(2),et(n.order.code)}}let wle=(()=>{var t;class e{constructor(r){this.orderDTOService=r,this.orderData=[]}ngOnInit(){this.loadOrderData()}loadOrderData(){this.orderDTOService.getOrderDTOsByStatus("cho_duyet").subscribe(r=>{this.orderData=r},r=>{console.error("Error fetching order: ",r)})}onAccept(r){var i=this;console.log(r),this.orderDTOService.getOrderDTOsById(r).subscribe(function(){var o=(0,x.Z)(function*(s){null!==s?(console.log("D\u1eef li\u1ec7u \u0111\xe3 t\xecm th\u1ea5y:",s),(yield i.orderDTOService.updateOrder(s)).subscribe(a=>{null!==a?i.loadOrderData():console.log("C\u1eadp nh\u1eadt th\u1ea5t b\u1ea1i.")},a=>{console.error("L\u1ed7i khi c\u1eadp nh\u1eadt:",a)})):console.log("D\u1eef li\u1ec7u kh\xf4ng t\u1ed3n t\u1ea1i.")});return function(s){return o.apply(this,arguments)}}(),o=>{console.error("L\u1ed7i x\u1ea3y ra:",o)})}}return(t=e).\u0275fac=function(r){return new(r||t)(X(uT))},t.\u0275cmp=xt({type:t,selectors:[["app-order-accept-admin"]],decls:43,vars:1,consts:[[1,"layout-list-booking"],[1,"list-booking-wrapper"],[1,"list-booking-container"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/admin/home"],["aria-current","page",1,"breadcrumb-item","active"],[1,"list-booking-content"],[1,"table-wrapper"],[1,"table"],[1,"col-header"],[1,"row-header"],[1,"row-header",".col-fixed"],["class","col-content",4,"ngFor","ngForOf"],[1,"col-content"],[1,"row-content"],[1,"row-content",".col-fixed"],["href","javascript:void(0)",1,"btn","btn-accept",3,"click"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"nav",3)(4,"ol",4)(5,"li",5)(6,"a",6),w(7,"Trang chu"),y()(),_(8,"li",7),w(9,"Duyet booking"),y()()(),_(10,"div",8)(11,"div",9)(12,"table",10)(13,"thead")(14,"tr",11)(15,"th",12),w(16,"#"),y(),_(17,"th",12),w(18,"T\xean kh\xe1ch"),y(),_(19,"th",12),w(20,"SDT kh\xe1ch"),y(),_(21,"th",12),w(22,"Email kh\xe1ch"),y(),_(23,"th",12),w(24,"Ng\xe0y"),y(),_(25,"th",12),w(26,"Th\u1eddi gian"),y(),_(27,"th",12),w(28,"Th\u1eddi l\u01b0\u1ee3ng"),y(),_(29,"th",12),w(30,"Lo\u1ea1i ch\u1ee5p"),y(),_(31,"th",12),w(32,"Ng\u01b0\u1eddi ch\u1ee5p"),y(),_(33,"th",12),w(34,"Tr\u1ea1ng th\xe1i"),y(),_(35,"th",12),w(36,"T\xf4\u0309ng ti\xea\u0300n"),y(),_(37,"th",12),w(38,"Ma\u0303"),y(),_(39,"th",13),w(40,"Ch\u1ee9c n\u0103ng"),y()()(),_(41,"tbody"),Fe(42,Cle,28,13,"tr",14),y()()()()()()()),2&r&&(F(42),ie("ngForOf",i.orderData))},dependencies:[Cs,Zr],styles:['@charset "UTF-8";.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{padding:0}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]{display:inline}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item.active[_ngcontent-%COMP%]{color:#333}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{padding:8px;color:#000;content:"/\\a0"}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{width:100%;max-width:100%;overflow-x:auto;position:relative}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;height:12px}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cccccc;border-radius:6px}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#bbbbbb}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border:1px solid #ddd}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:transparent}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-color:inherit;border-style:solid;border-width:0}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr.col-header[_ngcontent-%COMP%]{background-color:#f2f2f2;font-weight:700}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr.col-header[_ngcontent-%COMP%]   th.row-header[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td.row-content[_ngcontent-%COMP%]{padding:.625rem 1.25rem;text-align:left;white-space:nowrap}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td.row-content[_ngcontent-%COMP%]:last-child{text-align:center}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.btn-accept[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:6px 12px;border:none;border-radius:4px;text-align:center;text-decoration:none;display:inline-block;cursor:pointer}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.btn-accept[_ngcontent-%COMP%]:hover{background-color:#45a049}']}),e})();const Wj={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let X0;const Ple=new Uint8Array(16);function Ele(){if(!X0&&(X0=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!X0))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return X0(Ple)}const Yr=[];for(let t=0;t<256;++t)Yr.push((t+256).toString(16).slice(1));const Kj=function Mle(t,e,n){if(Wj.randomUUID&&!e&&!t)return Wj.randomUUID();const r=(t=t||{}).random||(t.rng||Ele)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return function qj(t,e=0){return Yr[t[e+0]]+Yr[t[e+1]]+Yr[t[e+2]]+Yr[t[e+3]]+"-"+Yr[t[e+4]]+Yr[t[e+5]]+"-"+Yr[t[e+6]]+Yr[t[e+7]]+"-"+Yr[t[e+8]]+Yr[t[e+9]]+"-"+Yr[t[e+10]]+Yr[t[e+11]]+Yr[t[e+12]]+Yr[t[e+13]]+Yr[t[e+14]]+Yr[t[e+15]]}(r)};let Ole=(()=>{var t;class e{getDeces(){return new Promise((r,i)=>{zu(xr(gi((0,Ge.initializeApp)(kr_firebaseConfig)),"deces/"),c=>{const l=c.val(),h=[];for(const f in l)if(l.hasOwnProperty(f)){const m=l[f];h.push({id:m.id,partner_id:m.partner_id,category:m.category})}r(h)})})}getDecesByPartnerId(r){var i=this;return(0,x.Z)(function*(){try{return(yield i.getDeces()).find(a=>a.partner_id===r)||null}catch(o){return console.error("Error fetching user by ID:",o),null}})()}getDecesById(r){var i=this;return(0,x.Z)(function*(){try{return(yield i.getDeces()).find(a=>a.id===r)||null}catch(o){return console.error("Error fetching user by ID:",o),null}})()}createDeces(r){var i=this;return(0,x.Z)(function*(){try{if(!(yield i.isPartnerUnique(r.partner_id)))return console.log("The order is not unique"),null;const a=gi((0,Ge.initializeApp)(kr_firebaseConfig)),c=yield i.generateNewId(),l=xr(a,"deces/"+c),h={id:c,partner_id:r.partner_id,category:r.category};return yield Os(l,h),h}catch(o){return console.error("Error creating user:",o),null}})()}updateDeces(r){var i=this;return(0,x.Z)(function*(){try{if(null===(yield i.getDecesById(r.id)))return console.error("User information not found for ID:",r.id),null;const a=gi((0,Ge.initializeApp)(kr_firebaseConfig)),c={id:r.id,partner_id:r.partner_id,category:r.category},l=xr(a,`deces/${r.id}`);return yield Os(l,c),r}catch(o){return console.error("Error updating user:",o),null}})()}generateNewId(){var r=this;return(0,x.Z)(function*(){const i=yield r.getDeces();return(0===i.length?0:Math.max(...i.map(s=>s.id)))+1})()}isPartnerUnique(r){return(0,x.Z)(function*(){const s=xr(gi((0,Ge.initializeApp)(kr_firebaseConfig)),"deces"),c=(yield f_(s)).val();if(c)for(const l in c)if(c.hasOwnProperty(l)&&c[l].partner_id===r)return!1;return!0})()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function b_(t){return(b_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Le(t,e,n){return(e=function ble(t){var e=function Ile(t,e){if("object"!==b_(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==b_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===b_(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Tle extends Pt{constructor(e,n){super()}schedule(e,n=0){return this}}const J0={setInterval(t,e,...n){const{delegate:r}=J0;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=J0;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class Zj extends Tle{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return J0.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&J0.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,$e(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const RT={now:()=>(RT.delegate||Date).now(),delegate:void 0};class T_{constructor(e,n=T_.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}T_.now=RT.now;class Yj extends T_{constructor(e,n=T_.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Sle=new class Dle extends Yj{}(class Ale extends Zj{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),eP=new Yj(Zj),yl=new Dh("ANGULARFIRE2_VERSION");const xT=(t,e)=>{const n=e?[e]:(0,Ge.getApps)(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};class A_{constructor(){return xT(Rle)}}const Rle="app-check";function bp(){}class Xj{constructor(e,n=Sle){Le(this,"zone",void 0),Le(this,"delegate",void 0),this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class xle{constructor(e){Le(this,"zone",void 0),Le(this,"task",null),this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",bp,{},bp,bp)),n.pipe(lr({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Tp=(()=>{var t;class e{constructor(r){Le(this,"ngZone",void 0),Le(this,"outsideAngular",void 0),Le(this,"insideAngular",void 0),this.ngZone=r,this.outsideAngular=r.runOutsideAngular(()=>new Xj(Zone.current)),this.insideAngular=r.run(()=>new Xj(Zone.current,eP)),globalThis.\u0275AngularFireScheduler||=this}}return t=e,Le(e,"\u0275fac",function(r){return new(r||t)(re(Tt))}),Le(e,"\u0275prov",be({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();function Ap(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Yu(t){return Ap().ngZone.run(()=>t())}function Jj(t){return t.pipe(_r(Ap().outsideAngular))}function er(t){return function Nle(t){return function(n){return(n=n.lift(new xle(t.ngZone))).pipe(Hr(t.outsideAngular),_r(t.insideAngular))}}(Ap())(t)}const Fle=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Yu(()=>t.apply(void 0,r))},Lle=(t,e)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(n||=Yu(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",bp,{},bp,bp))),r[o]=Fle(r[o],n));const i=function kle(t){return Ap().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof st){const o=Ap();return i.pipe(Hr(o.outsideAngular),_r(o.insideAngular))}return Yu(()=>i)}return i instanceof st?i.pipe(er):i instanceof Promise?Yu(()=>new Promise((o,s)=>i.then(a=>Yu(()=>o(a)),a=>Yu(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Yu(()=>i)};var ts=Ke(106);ts.Z.registerVersion("firebase","10.5.2","app-compat");const jle=["ngOnDestroy"];class e9{constructor(e){return e}}const Dp=new fe("angularfire2.app.options"),Sp=new fe("angularfire2.app.name");function D_(t,e,n){const i="object"==typeof n&&n||{};i.name=i.name||"string"==typeof n&&n||"[DEFAULT]";const s=ts.Z.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>ts.Z.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){const a=!!module.hot;zle("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new e9(s)}const zle=(t,...e)=>{},Gle={provide:e9,useFactory:D_,deps:[Dp,Tt,[new p,Sp]]};let Wle=(()=>{var t;class e{static initializeApp(r,i){return{ngModule:e,providers:[{provide:Dp,useValue:r},{provide:Sp,useValue:i}]}}constructor(r){ts.Z.registerVersion("angularfire",yl.full,"core"),ts.Z.registerVersion("angularfire",yl.full,"app-compat"),ts.Z.registerVersion("angular",HO.full,r.toString())}}return t=e,Le(e,"\u0275fac",function(r){return new(r||t)(re(mo))}),Le(e,"\u0275mod",Vn({type:t})),Le(e,"\u0275inj",Zn({providers:[Gle]})),e})();function tP(t,e,n,r,i){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return function qle(t,e){try{return t.toString()===e.toString()}catch{return t===e}}(i,s)||(t9("error",`${e} was already initialized on the ${n} Firebase App with different settings.${Kle?" You may need to reload as Firebase is not HMR aware.":""}`),t9("warn",{is:i,was:s})),o;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}const Kle=typeof module<"u"&&!!module.hot,t9=(t,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[];const n9="firebasestorage.googleapis.com",r9="storageBucket";class xn extends M.ZR{constructor(e,n,r=0){super(kT(e),`Firebase Storage: ${n} (${kT(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return kT(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var bn=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(bn||{});function kT(t){return"storage/"+t}function NT(){return new xn(bn.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function i9(){return new xn(bn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function o9(){return new xn(bn.CANCELED,"User canceled the upload/download.")}function s9(){return new xn(bn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Rp(t){return new xn(bn.INVALID_ARGUMENT,t)}function a9(){return new xn(bn.APP_DELETED,"The Firebase app was deleted.")}function c9(t){return new xn(bn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function S_(t,e){return new xn(bn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function R_(t){throw new xn(bn.INTERNAL_ERROR,"Internal error: "+t)}class _i{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=_i.makeFromUrl(e,n)}catch{return new _i(e,"")}if(""===r.path)return r;throw function iue(t){return new xn(bn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function l($){$.path_=decodeURIComponent($.path)}const f=n.replace(/[.]/g,"\\."),H=[{regex:a,indices:{bucket:1,path:3},postModify:function o($){"/"===$.path.charAt($.path.length-1)&&($.path_=$.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${f}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:l},{regex:new RegExp(`^https?://${n===n9?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:l}];for(let $=0;$<H.length;$++){const pe=H[$],Oe=pe.regex.exec(e);if(Oe){let Zt=Oe[pe.indices.path];Zt||(Zt=""),r=new _i(Oe[pe.indices.bucket],Zt),pe.postModify(r);break}}if(null==r)throw function rue(t){return new xn(bn.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r}}class lue{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function nP(t){return"string"==typeof t||t instanceof String}function l9(t){return FT()&&t instanceof Blob}function FT(){return typeof Blob<"u"&&!(0,M.UG)()}function LT(t,e,n,r){if(r<e)throw Rp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Rp(`Invalid value for '${t}'. Expected ${n} or less.`)}function Ka(t,e,n){let r=e;return null==n&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function u9(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}var xp=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(xp||{});function d9(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),o=-1!==e.indexOf(t);return n||i||o}class gue{constructor(e,n,r,i,o,s,a,c,l,h,f,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=h,this.connectionFactory_=f,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,E)=>{this.resolve_=v,this.reject_=E,this.start_()})}start_(){const n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());!function hue(t){return void 0!==t}(c)?o():o(c)}catch(c){s(c)}else if(null!==a){const c=NT();c.serverResponse=a.getErrorText(),s(this.errorCallback_?this.errorCallback_(a,c):c)}else s(i.canceled?this.appDelete_?a9():o9():i9())};this.canceled_?n(0,new rP(!1,null,!0)):this.backoffId_=function uue(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function c(){return 2===a}let l=!1;function h(...b){l||(l=!0,e.apply(null,b))}function f(b){i=setTimeout(()=>{i=null,t(v,c())},b)}function m(){o&&clearTimeout(o)}function v(b,...L){if(l)return void m();if(b)return m(),void h.call(null,b,...L);if(c()||s)return m(),void h.call(null,b,...L);let H;r<64&&(r*=2),1===a?(a=2,H=0):H=1e3*(r+Math.random()),f(H)}let E=!1;function I(b){E||(E=!0,m(),!l&&(null!==i?(b||(a=2),clearTimeout(i),f(0)):b||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,I(!0)},n),I}((r,i)=>{if(i)return void r(!1,new rP(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===xp.NO_ERROR,c=o.getStatus();if(!a||d9(c,this.additionalRetryCodes_)&&this.retry){const h=o.getErrorCode()===xp.ABORT;return void r(!1,new rP(!1,null,h))}const l=-1!==this.successCodes_.indexOf(c);r(!0,new rP(l,o))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function due(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class rP{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Pue(...t){const e=function wue(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}if(FT())return new Blob(t);throw new xn(bn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Mo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class VT{constructor(e,n){this.data=e,this.contentType=n||null}}function UT(t,e){switch(t){case Mo.RAW:return new VT(h9(e));case Mo.BASE64:case Mo.BASE64URL:return new VT(p9(t,e));case Mo.DATA_URL:return new VT(function Iue(t){const e=new f9(t);return e.base64?p9(Mo.BASE64,e.rest):function Oue(t){let e;try{e=decodeURIComponent(t)}catch{throw S_(Mo.DATA_URL,"Malformed data URL.")}return h9(e)}(e.rest)}(e),function bue(t){return new f9(t).contentType}(e))}throw NT()}function h9(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?n<t.length-1&&56320==(64512&t.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function p9(t,e){switch(t){case Mo.BASE64:{const i=-1!==e.indexOf("-"),o=-1!==e.indexOf("_");if(i||o)throw S_(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Mo.BASE64URL:{const i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw S_(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function Mue(t){if(typeof atob>"u")throw function cue(t){return new xn(bn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(t)}(e)}catch(i){throw i.message.includes("polyfill")?i:S_(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class f9{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(null===n)throw S_(Mo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;null!=r&&(this.base64=function Tue(t,e){return t.length>=e.length&&t.substring(t.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class ta{constructor(e,n){let r=0,i="";l9(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(l9(this.data_)){const i=function Eue(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===i?null:new ta(i)}{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ta(r,!0)}}static getBlob(...e){if(FT()){const n=e.map(r=>r instanceof ta?r.data_:r);return new ta(Pue.apply(null,n))}{const n=e.map(s=>nP(s)?UT(Mo.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new ta(i,!0)}}uploadData(){return this.data_}}function BT(t){let e;try{e=JSON.parse(t)}catch{return null}return function fue(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function g9(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Sue(t,e){return e}class Bi{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Sue}}let iP=null;function x_(){if(iP)return iP;const t=[];t.push(new Bi("bucket")),t.push(new Bi("generation")),t.push(new Bi("metageneration")),t.push(new Bi("name","fullPath",!0));const n=new Bi("name");n.xform=function e(o,s){return function Rue(t){return!nP(t)||t.length<2?t:g9(t)}(s)},t.push(n);const i=new Bi("size");return i.xform=function r(o,s){return void 0!==s?Number(s):s},t.push(i),t.push(new Bi("timeCreated")),t.push(new Bi("updated")),t.push(new Bi("md5Hash",null,!0)),t.push(new Bi("cacheControl",null,!0)),t.push(new Bi("contentDisposition",null,!0)),t.push(new Bi("contentEncoding",null,!0)),t.push(new Bi("contentLanguage",null,!0)),t.push(new Bi("contentType",null,!0)),t.push(new Bi("metadata","customMetadata",!0)),iP=t,iP}function m9(t,e,n){const r=BT(e);return null===r?null:function kue(t,e,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return function xue(t,e){Object.defineProperty(t,"ref",{get:function n(){const o=new _i(t.bucket,t.fullPath);return e._makeStorageReference(o)}})}(r,t),r}(t,r,n)}function jT(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}const _9="prefixes",y9="items";class na{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ra(t){if(!t)throw NT()}function oP(t,e){return function n(r,i){const o=m9(t,i,e);return ra(null!==o),o}}function kp(t){return function e(n,r){let i;return i=401===n.getStatus()?n.getErrorText().includes("Firebase App Check token is invalid")?function tue(){return new xn(bn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function eue(){return new xn(bn.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===n.getStatus()?function Jle(t){return new xn(bn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(t.bucket):403===n.getStatus()?function nue(t){return new xn(bn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}(t.path):r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}}function k_(t){const e=kp(t);return function n(r,i){let o=e(r,i);return 404===r.getStatus()&&(o=function Xle(t){return new xn(bn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}(t.path)),o.serverResponse=i.serverResponse,o}}function v9(t,e,n){const i=Ka(e.fullServerUrl(),t.host,t._protocol),s=t.maxOperationRetryTime,a=new na(i,"GET",oP(t,n),s);return a.errorHandler=k_(e),a}function Bue(t,e,n,r,i){const o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const a=Ka(e.bucketOnlyServerUrl(),t.host,t._protocol),l=t.maxOperationRetryTime,h=new na(a,"GET",function Vue(t,e){return function n(r,i){const o=function Lue(t,e,n){const r=BT(n);return null===r?null:function Fue(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[_9])for(const i of n[_9]){const o=i.replace(/\/$/,""),s=t._makeStorageReference(new _i(e,o));r.prefixes.push(s)}if(n[y9])for(const i of n[y9]){const o=t._makeStorageReference(new _i(e,i.name));r.items.push(o)}return r}(t,e,r)}(t,e,i);return ra(null!==o),o}}(t,e.bucket),l);return h.urlParams=o,h.errorHandler=kp(e),h}function w9(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function zue(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class sP{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function $T(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{ra(!1)}return ra(!!n&&-1!==(e||["active"]).indexOf(n)),n}const Kue={STATE_CHANGED:"state_changed"},ji={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function HT(t){switch(t){case"running":case"pausing":case"canceling":return ji.RUNNING;case"paused":return ji.PAUSED;case"success":return ji.SUCCESS;case"canceled":return ji.CANCELED;default:return ji.ERROR}}class Zue{constructor(e,n,r){if(function pue(t){return"function"==typeof t}(e)||null!=n||null!=r)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function Np(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}let M9=null;class Yue{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xp.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=xp.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=xp.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw R_("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),void 0!==i)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw R_("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw R_("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw R_("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw R_("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Que extends Yue{initXhr(){this.xhr_.responseType="text"}}function Ts(){return M9?M9():new Que}class O9{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=x_(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(bn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(d9(i.status,[])){if(!o)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=i9()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(bn.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,n)=>{const r=function Gue(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s=w9(e,r,i),a={name:s.fullPath},c=Ka(o,t.host,t._protocol),h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},f=jT(s,n),E=new na(c,"POST",function v(I){let b;$T(I);try{b=I.getResponseHeader("X-Goog-Upload-URL")}catch{ra(!1)}return ra(nP(b)),b},t.maxUploadRetryTime);return E.urlParams=a,E.headers=h,E.body=f,E.errorHandler=kp(e),E}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ts,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=function Wue(t,e,n,r){const c=new na(n,"POST",function o(l){const h=$T(l,["active","final"]);let f=null;try{f=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ra(!1)}f||ra(!1);const m=Number(f);return ra(!isNaN(m)),new sP(m,r.size(),"final"===h)},t.maxUploadRetryTime);return c.headers={"X-Goog-Upload-Command":"query"},c.errorHandler=kp(e),c}(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(i,Ts,n,r);this._request=o,o.getPromise().then(s=>{this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,n=new sP(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,o)=>{let s;try{s=function que(t,e,n,r,i,o,s,a){const c=new sP(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw function sue(){return new xn(bn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const l=c.total-c.current;let h=l;i>0&&(h=Math.min(h,i));const f=c.current;let v="";v=0===h?"finalize":l===h?"upload, finalize":"upload";const E={"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":`${c.current}`},I=r.slice(f,f+h);if(null===I)throw s9();const H=new na(n,"POST",function b($,pe){const Oe=$T($,["active","final"]),at=c.current+h,Zt=r.size();let co;return co="final"===Oe?oP(e,o)($,pe):null,new sP(at,Zt,"final"===Oe,co)},e.maxUploadRetryTime);return H.headers=E,H.body=I.uploadData(),H.progressCallback=a||null,H.errorHandler=kp(t),H}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(c){return this._error=c,void this._transition("error")}const a=this._ref.storage._makeRequest(s,Ts,i,o,!1);this._request=a,a.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=v9(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Ts,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=function P9(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},c=function a(){let H="";for(let $=0;$<2;$++)H+=Math.random().toString().slice(2);return H}();s["Content-Type"]="multipart/related; boundary="+c;const l=w9(e,r,i),h=jT(l,n),v=ta.getBlob("--"+c+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+h+"\r\n--"+c+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",r,"\r\n--"+c+"--");if(null===v)throw s9();const E={name:l.fullPath},I=Ka(o,t.host,t._protocol),L=t.maxUploadRetryTime,k=new na(I,"POST",oP(t,n),L);return k.urlParams=E,k.headers=s,k.body=v.uploadData(),k.errorHandler=kp(e),k}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ts,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n="paused"===this._state;this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=o9(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=HT(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const o=new Zue(n||void 0,r||void 0,i||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);-1!==n&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(HT(this._state)){case ji.SUCCESS:Np(this._resolve.bind(null,this.snapshot))();break;case ji.CANCELED:case ji.ERROR:Np(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(HT(this._state)){case ji.RUNNING:case ji.PAUSED:e.next&&Np(e.next.bind(e,this.snapshot))();break;case ji.SUCCESS:e.complete&&Np(e.complete.bind(e))();break;default:e.error&&Np(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Qu{constructor(e,n){this._service=e,this._location=n instanceof _i?n:_i.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Qu(e,n)}get root(){const e=new _i(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return g9(this._location.path)}get storage(){return this._service}get parent(){const e=function Aue(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new _i(this._location.bucket,e);return new Qu(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw c9(e)}}function b9(t,e,n){return zT.apply(this,arguments)}function zT(){return(zT=(0,x.Z)(function*(t,e,n){const i=yield T9(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield b9(t,e,i.nextPageToken))})).apply(this,arguments)}function T9(t,e){null!=e&&"number"==typeof e.maxResults&&LT("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=Bue(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,Ts)}function lde(t){t._throwIfRoot("getDownloadURL");const e=function jue(t,e,n){const i=Ka(e.fullServerUrl(),t.host,t._protocol),s=t.maxOperationRetryTime,a=new na(i,"GET",function Uue(t,e){return function n(r,i){const o=m9(t,i,e);return ra(null!==o),function Nue(t,e,n,r){const i=BT(e);if(null===i||!nP(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map(l=>{const f=t.fullPath;return Ka("/b/"+s(t.bucket)+"/o/"+s(f),n,r)+u9({alt:"media",token:l})})[0]}(o,i,t.host,t._protocol)}}(t,n),s);return a.errorHandler=k_(e),a}(t.storage,t._location,x_());return t.storage.makeRequestWithTokens(e,Ts).then(n=>{if(null===n)throw function aue(){return new xn(bn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return n})}function A9(t,e){const n=function Due(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new _i(t._location.bucket,n);return new Qu(t.storage,r)}function D9(t,e){if(t instanceof GT){const n=t;if(null==n._bucket)throw function oue(){return new xn(bn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+r9+"' property when initializing the app?")}();const r=new Qu(n,n._bucket);return null!=e?D9(r,e):r}return void 0!==e?A9(t,e):t}function pde(t,e){if(e&&function dde(t){return/^[A-Za-z]+:\/\//.test(t)}(e)){if(t instanceof GT)return function hde(t,e){return new Qu(t,e)}(t,e);throw Rp("To use ref(service, url), the first argument must be a Storage instance.")}return D9(t,e)}function S9(t,e){const n=e?.[r9];return null==n?null:_i.makeFromBucketSpec(n,t)}class GT{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=n9,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?_i.makeFromBucketSpec(i,this._host):S9(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?_i.makeFromBucketSpec(this._url,e):S9(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){LT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){LT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,x.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,x.Z)(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Qu(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new lue(a9());{const s=function Cue(t,e,n,r,i,o,s=!0){const a=u9(t.urlParams),c=t.url+a,l=Object.assign({},t.headers);return function yue(t,e){e&&(t["X-Firebase-GMPID"]=e)}(l,e),function mue(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(l,n),function _ue(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(l,o),function vue(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(l,r),new gue(c,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){var r=this;return(0,x.Z)(function*(){const[i,o]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,o).getPromise()})()}}const R9="@firebase/storage";function N9(t,e){return pde(t=(0,M.m9)(t),e)}function Ede(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new GT(n,r,i,e,Ge.SDK_VERSION)}!function Mde(){(0,Ge._registerComponent)(new Po.wA("storage",Ede,"PUBLIC").setMultipleInstances(!0)),(0,Ge.registerVersion)(R9,"0.11.2",""),(0,Ge.registerVersion)(R9,"0.11.2","esm2017")}();class aP{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class L9{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new aP(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new aP(r,this,this._ref))},n)}on(e,n,r,i){let o;return n&&(o="function"==typeof n?s=>n(new aP(s,this,this._ref)):{next:n.next?s=>n.next(new aP(s,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,o,r||void 0,i||void 0)}}class V9{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new Za(e,this._service))}get items(){return this._delegate.items.map(e=>new Za(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Za{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=function Pde(t,e){return A9(t,e)}(this._delegate,e);return new Za(n,this.storage)}get root(){return new Za(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Za(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new L9(function gde(t,e,n){return function ide(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new O9(t,new ta(e),n)}(t=(0,M.m9)(t),e,n)}(this._delegate,e,n),this)}putString(e,n=Mo.RAW,r){this._throwIfRoot("putString");const i=UT(n,e),o=Object.assign({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new L9(new O9(this._delegate,new ta(i.data,!0),o),this)}listAll(){return function vde(t){return function sde(t){const e={prefixes:[],items:[]};return b9(t,e).then(()=>e)}(t=(0,M.m9)(t))}(this._delegate).then(e=>new V9(e,this.storage))}list(e){return function yde(t,e){return T9(t=(0,M.m9)(t),e)}(this._delegate,e||void 0).then(n=>new V9(n,this.storage))}getMetadata(){return function mde(t){return function ade(t){t._throwIfRoot("getMetadata");const e=v9(t.storage,t._location,x_());return t.storage.makeRequestWithTokens(e,Ts)}(t=(0,M.m9)(t))}(this._delegate)}updateMetadata(e){return function _de(t,e){return function cde(t,e){t._throwIfRoot("updateMetadata");const n=function $ue(t,e,n,r){const o=Ka(e.fullServerUrl(),t.host,t._protocol),a=jT(n,r),l=t.maxOperationRetryTime,h=new na(o,"PATCH",oP(t,r),l);return h.headers={"Content-Type":"application/json; charset=utf-8"},h.body=a,h.errorHandler=k_(e),h}(t.storage,t._location,e,x_());return t.storage.makeRequestWithTokens(n,Ts)}(t=(0,M.m9)(t),e)}(this._delegate,e)}getDownloadURL(){return function Cde(t){return lde(t=(0,M.m9)(t))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function wde(t){return function ude(t){t._throwIfRoot("deleteObject");const e=function Hue(t,e){const r=Ka(e.fullServerUrl(),t.host,t._protocol),a=new na(r,"DELETE",function s(c,l){},t.maxOperationRetryTime);return a.successCodes=[200,204],a.errorHandler=k_(e),a}(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Ts)}(t=(0,M.m9)(t))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw c9(e)}}class U9{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(B9(e))throw Rp("ref() expected a child path but got a URL, use refFromURL instead.");return new Za(N9(this._delegate,e),this)}refFromURL(e){if(!B9(e))throw Rp("refFromURL() expected a full URL but got a child path, use ref() instead.");try{_i.makeFromUrl(e,this._delegate.host)}catch{throw Rp("refFromUrl() expected a valid full URL but got an invalid one.")}return new Za(N9(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){!function F9(t,e,n,r={}){!function fde(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:(0,M.Sg)(i,t.app.options.projectId))}(t,e,n,r)}(this._delegate,e,n,r)}}function B9(t){return/^[A-Za-z]+:\/\//.test(t)}function Tde(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new U9(n,r)}function j9(t){const e=function Dde(t){return new st(e=>{const n=s=>e.next(s);n(t.snapshot);const o=t.on("state_changed",n);return t.then(s=>{n(s),e.complete()},s=>{n(t.snapshot),(s=>{e.error(s)})(s)}),function(){o()}}).pipe(function Vle(t,e=eP){return K((n,r)=>{let i=null,o=null,s=null;const a=()=>{if(i){i.unsubscribe(),i=null;const l=o;o=null,r.next(l)}};function c(){const l=s+t,h=e.now();if(h<l)return i=this.schedule(void 0,l-h),void r.add(i);a()}n.subscribe(Ce(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(ge(n=>n.bytesTransferred/n.totalBytes*100))}}function cP(t){return{getDownloadURL:()=>W(void 0).pipe(Jj,Ze(()=>t.getDownloadURL()),er),getMetadata:()=>W(void 0).pipe(Jj,Ze(()=>t.getMetadata()),er),delete:()=>S(t.delete()),child:e=>cP(t.child(e)),updateMetadata:e=>S(t.updateMetadata(e)),put:(e,n)=>j9(t.put(e,n)),putString:(e,n,r)=>j9(t.putString(e,n,r)),list:e=>S(t.list(e)),listAll:()=>S(t.listAll())}}!function Ade(t){const e={TaskState:ji,TaskEvent:Kue,StringFormat:Mo,Storage:U9,Reference:Za};t.INTERNAL.registerComponent(new Po.wA("storage-compat",Tde,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage-compat","0.3.2")}(ts.Z);const Sde=new fe("angularfire2.storageBucket"),Rde=new fe("angularfire2.storage.maxUploadRetryTime"),xde=new fe("angularfire2.storage.maxOperationRetryTime"),kde=new fe("angularfire2.storage.use-emulator");let WT=(()=>{var t;class e{constructor(r,i,o,s,a,c,l,h,f,m){Le(this,"storage",void 0);const v=D_(r,a,i);this.storage=tP(`${v.name}.storage.${o}`,"AngularFireStorage",v.name,()=>{const E=a.runOutsideAngular(()=>v.storage(o||void 0)),I=f;return I&&E.useEmulator(...I),l&&E.setMaxUploadRetryTime(l),h&&E.setMaxOperationRetryTime(h),E},[l,h])}ref(r){return cP(this.storage.ref(r))}refFromURL(r){return cP(this.storage.refFromURL(r))}upload(r,i,o){return cP(this.storage.ref(r)).put(i,o)}}return t=e,Le(e,"\u0275fac",function(r){return new(r||t)(re(Dp),re(Sp,8),re(Sde,8),re(mo),re(Tt),re(Tp),re(Rde,8),re(xde,8),re(kde,8),re(A_,8))}),Le(e,"\u0275prov",be({token:t,factory:t.\u0275fac,providedIn:"any"})),e})(),Nde=(()=>{var t;class e{}return t=e,Le(e,"\u0275fac",function(r){return new(r||t)}),Le(e,"\u0275mod",Vn({type:t})),Le(e,"\u0275inj",Zn({})),e})(),Fde=(()=>{var t;class e{constructor(){ts.Z.registerVersion("angularfire",yl.full,"gcs-compat")}}return t=e,Le(e,"\u0275fac",function(r){return new(r||t)}),Le(e,"\u0275mod",Vn({type:t})),Le(e,"\u0275inj",Zn({providers:[WT],imports:[Nde]})),e})();function Lde(t,e){if(1&t){const n=Ji();_(0,"div",18),J("click",function(){const o=wr(n).$implicit;return Qn(Mn(2).selectDate(o))}),w(1),y()}if(2&t){const n=e.$implicit,r=Mn(2);qo("calendar-day-hover",null!==n)("selected-date",null!==n&&n===r.selectedDay)("curr-date",r.isCurrentDate(n)),F(1),Lt(" ",n," ")}}function Vde(t,e){if(1&t){const n=Ji();_(0,"div",19),J("click",function(){const o=wr(n).index;return Qn(Mn(2).selectMonth(o))}),w(1),y()}if(2&t){const n=e.$implicit;F(1),Lt("",n," ")}}function Ude(t,e){if(1&t){const n=Ji();_(0,"div",6)(1,"div",7)(2,"span",8),J("click",function(){return wr(n),Qn(Mn().toggleMonthList())}),w(3),y(),_(4,"div",9)(5,"span",10),J("click",function(){return wr(n),Qn(Mn().prevYear())}),w(6,"<"),y(),_(7,"span",11),w(8),y(),_(9,"span",10),J("click",function(){return wr(n),Qn(Mn().nextYear())}),w(10,">"),y()()(),_(11,"div",12)(12,"div",13)(13,"div"),w(14,"CN"),y(),_(15,"div"),w(16,"T2"),y(),_(17,"div"),w(18,"T3"),y(),_(19,"div"),w(20,"T4"),y(),_(21,"div"),w(22,"T5"),y(),_(23,"div"),w(24,"T6"),y(),_(25,"div"),w(26,"T7"),y()(),_(27,"div",14),Fe(28,Lde,2,7,"div",15),y()(),_(29,"div",16),Fe(30,Vde,2,1,"div",17),y()()}if(2&t){const n=Mn();F(3),et(n.monthNames[n.currMonth]),F(5),et(n.currYear),F(20),ie("ngForOf",n.calendarDays),F(1),qo("show",n.isMonthListVisible),F(1),ie("ngForOf",n.monthNames)}}let qT=(()=>{var t;class e{constructor(r){this.el=r,this.textDefault="DD-MM-YYYY",this.selectedDate="",this.selectedDateChange=new En,this.isCalendarVisible=!1,this.monthNames=["Th\xe1ng 1","Th\xe1ng 2","Th\xe1ng 3","Th\xe1ng 4","Th\xe1ng 5","Th\xe1ng 6","Th\xe1ng 7","Th\xe1ng 8","Th\xe1ng 9","Th\xe1ng 10","Th\xe1ng 11","Th\xe1ng 12"],this.calendarDays=[],this.isMonthListVisible=!1,this.selectedDay=null}ngAfterViewInit(){}ngOnInit(){const r=new Date;this.currMonth=r.getMonth(),this.currYear=r.getFullYear(),this.generateCalendar(this.currMonth,this.currYear),this.selectedDateChange.subscribe(i=>{const o=new Date;this.currMonth=o.getMonth(),this.currYear=o.getFullYear(),this.generateCalendar(this.currMonth,this.currYear)})}toggleCalendar(){this.isCalendarVisible=!this.isCalendarVisible,this.isCalendarVisible||(this.isMonthListVisible=!1)}prevYear(){this.currYear--,this.generateCalendar(this.currMonth,this.currYear),this.selectedDay=null}nextYear(){this.currYear++,this.generateCalendar(this.currMonth,this.currYear),this.selectedDay=null}toggleMonthList(){this.isMonthListVisible=!this.isMonthListVisible}selectMonth(r){this.isMonthListVisible=!1,this.currMonth=r,this.generateCalendar(this.currMonth,this.currYear),this.selectedDay=null}isLeapYear(r){return r%4==0&&r%100!=0||r%400==0}getFebDays(r){return this.isLeapYear(r)?29:28}generateCalendar(r,i){const o=[31,this.getFebDays(i),31,30,31,30,31,31,30,31,30,31];this.calendarDays=[];const s=new Date(i,r,1);for(let a=0;a<=o[r]+s.getDay()-1;a++)a>=s.getDay()?this.calendarDays.push(a-s.getDay()+1):this.calendarDays.push(null)}selectDate(r){if(null!==r){this.selectedDay=r;const i=new Date(this.currYear,this.currMonth,r);this.selectedDate=i.toLocaleDateString(),this.isCalendarVisible=!1}this.selectedDateChange.emit(this.selectedDate)}isCurrentDate(r){if(null===r)return!1;const i=new Date;return r===i.getDate()&&this.currYear===i.getFullYear()&&this.currMonth===i.getMonth()}onDocumentClick(r){!this.el.nativeElement.contains(r.target)&&this.isCalendarVisible&&(this.isCalendarVisible=!1,this.isMonthListVisible=!1,this.selectedDateChange.subscribe(i=>{const o=new Date;this.currMonth=o.getMonth(),this.currYear=o.getFullYear(),this.generateCalendar(this.currMonth,this.currYear)}))}}return(t=e).\u0275fac=function(r){return new(r||t)(X(Ri))},t.\u0275cmp=xt({type:t,selectors:[["app-date-picker"]],hostBindings:function(r,i){1&r&&J("click",function(s){return i.onDocumentClick(s)},0,Mu)},inputs:{textDefault:"textDefault",selectedDate:"selectedDate"},outputs:{selectedDateChange:"selectedDateChange"},decls:8,vars:3,consts:[[1,"calendar-wrapper"],[1,"select-button",3,"click"],["selectButton",""],[1,"bx","bx-calendar"],["class","calendar",4,"ngIf"],["type","text",2,"display","none",3,"ngModel","ngModelChange"],[1,"calendar"],[1,"calendar-header"],[1,"month-picker",3,"click"],[1,"year-picker"],[1,"year-change",3,"click"],["id","year"],[1,"calendar-body"],[1,"calendar-week-day"],[1,"calendar-days"],[3,"calendar-day-hover","selected-date","curr-date","click",4,"ngFor","ngForOf"],[1,"month-list"],["class","month-item",3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"month-item",3,"click"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1,2),J("click",function(){return i.toggleCalendar()}),_(3,"span"),w(4),y(),T(5,"i",3),y(),Fe(6,Ude,31,6,"div",4),_(7,"input",5),J("ngModelChange",function(s){return i.selectedDate=s}),y()()),2&r&&(F(4),et(i.selectedDate||i.textDefault),F(2),ie("ngIf",i.isCalendarVisible),F(1),ie("ngModel",i.selectedDate))},dependencies:[Cs,wo,pl,qu,_l],styles:[".calendar-wrapper[_ngcontent-%COMP%]{position:relative;min-width:150px}.calendar-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.calendar-wrapper[_ngcontent-%COMP%]   .select-button[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;padding:8px 12px;border:1px solid var(--color-primary);border-radius:4px;background-color:var(--color-light);display:flex;justify-content:space-between;column-gap:.75rem;align-items:center;color:var(--color-primary)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]{position:absolute;top:calc(100% + .3rem);left:0;background-color:var(--color-bg-body);width:260px;height:290px;border-radius:.5rem;padding:.5rem;overflow:hidden;box-shadow:0 2px 5px #0003;z-index:2}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:17px;font-weight:700;padding:10px 0}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]   .month-picker[_ngcontent-%COMP%]{color:var(--color-primary);padding:5px 10px;border-radius:10px;cursor:pointer}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]   .month-picker[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]   .year-picker[_ngcontent-%COMP%]{display:flex;align-items:center;color:var(--color-primary)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]   .year-picker[_ngcontent-%COMP%]   .year-change[_ngcontent-%COMP%]{height:30px;width:30px;border-radius:50%;display:grid;place-items:center;margin:0 10px;cursor:pointer;color:var(--color-primary)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]   .year-picker[_ngcontent-%COMP%]   .year-change[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]{padding:10px}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-week-day[_ngcontent-%COMP%]{height:30px;display:grid;grid-template-columns:repeat(7,1fr);font-weight:600}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-week-day[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:grid;place-items:center;color:var(--color-dark)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:2px;color:#151426}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:30px;height:30px;display:flex;align-items:center;justify-content:center;padding:5px;position:relative;animation:_ngcontent-%COMP%_to-top 1s forwards}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div.calendar-day-hover[_ngcontent-%COMP%]{cursor:pointer;border-radius:50%}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div.calendar-day-hover[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary);color:var(--color-primary);font-weight:600}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div.curr-date[_ngcontent-%COMP%], .calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div.curr-date[_ngcontent-%COMP%]:hover{background-color:var(--color-primary);color:#fff}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div.selected-date[_ngcontent-%COMP%], .calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div.selected-date[_ngcontent-%COMP%]:hover{background-color:var(--color-info)!important;color:#fff}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month-list[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background-color:var(--color-bg-body);padding:.5rem;grid-template-columns:repeat(3,auto);gap:7px;display:grid;transform:scale(1.5);visibility:hidden;pointer-events:none}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;place-items:center;width:100%;border-radius:10px;cursor:pointer;color:var(--color-primary);font-weight:700}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month-list.show[_ngcontent-%COMP%]{transform:scale(1);visibility:visible;pointer-events:visible;transition:all .2s ease-in-out}@keyframes _ngcontent-%COMP%_to-top{0%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}"]}),e})();const Bde=["selectElement"],jde=["selectButton"],$de=["selectOptions"];function Hde(t,e){1&t&&T(0,"i",10)}function zde(t,e){1&t&&T(0,"i",11)}function Gde(t,e){if(1&t){const n=Ji();_(0,"li",12),J("click",function(){const o=wr(n).$implicit;return Qn(Mn().selectOption(o.value))}),w(1),y()}if(2&t){const n=e.$implicit;F(1),Lt(" ",n.textContent," ")}}const Wde=[[["","custom-option",""]]],qde=function(t){return{active:t}},Kde=["[custom-option]"];let KT=(()=>{var t;class e{constructor(){this.textDefault="-- Choose --",this.selectedOption="",this.selectedOptionChange=new En,this.selectedOptionText="",this.options=[],this.isDropdownOpen=!1,this.dropdownPosition={top:"0",left:"0"}}ngOnInit(){}ngAfterViewInit(){const r=this.selectElement.nativeElement;for(let i=0;i<r.options.length;i++){const o=r.options[i];this.options.push({value:o.value,textContent:o.textContent})}}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen}selectOption(r){this.selectedOption=r,this.selectedOptionText=this.options.find(i=>i.value===this.selectedOption)?.textContent||"",this.selectedOptionChange.emit(this.selectedOption),this.isDropdownOpen=!1}onClickOutside(r){!this.selectButton.nativeElement.contains(r.target)&&!this.selectOptions.nativeElement.contains(r.target)&&(this.isDropdownOpen=!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=xt({type:t,selectors:[["app-custom-select"]],viewQuery:function(r,i){if(1&r&&(Xn(Bde,5),Xn(jde,5),Xn($de,5)),2&r){let o;Bn(o=jn())&&(i.selectElement=o.first),Bn(o=jn())&&(i.selectButton=o.first),Bn(o=jn())&&(i.selectOptions=o.first)}},hostBindings:function(r,i){1&r&&J("click",function(s){return i.onClickOutside(s)},0,Mu)},inputs:{textDefault:"textDefault",selectedOption:"selectedOption"},outputs:{selectedOptionChange:"selectedOptionChange"},ngContentSelectors:Kde,decls:13,vars:8,consts:[[1,"custom-select"],[1,"select-button",3,"click"],["selectButton",""],["class","bx bx-collapse-vertical",4,"ngIf"],["class","bx bx-expand-vertical",4,"ngIf"],[1,"select-options",3,"ngClass"],["selectOptions",""],[3,"click",4,"ngFor","ngForOf"],[2,"display","none",3,"ngModel","ngModelChange"],["selectElement",""],[1,"bx","bx-collapse-vertical"],[1,"bx","bx-expand-vertical"],[3,"click"]],template:function(r,i){1&r&&(function bF(t){const e=ae()[Sn][ar];if(!e.projection){const r=e.projection=$c(t?t.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=t?zK(o,t):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}(Wde),_(0,"div",0)(1,"div",1,2),J("click",function(){return i.toggleDropdown()}),_(3,"span"),w(4),y(),Fe(5,Hde,1,0,"i",3),Fe(6,zde,1,0,"i",4),y(),_(7,"ul",5,6),Fe(9,Gde,2,1,"li",7),y(),_(10,"select",8,9),J("ngModelChange",function(s){return i.selectedOption=s}),function TF(t,e=0,n){const r=ae(),i=Ct(),o=xh(i,ut+t,16,null,n||null);null===o.projection&&(o.projection=e),fu(),(!r[po]||Ta())&&32!=(32&o.flags)&&function qG(t,e,n){DN(e[We],0,e,n,fO(t,n,e),MN(n.parent||e[ar],n,e))}(i,r,o)}(12),y()()),2&r&&(F(4),et(i.selectedOptionText||i.textDefault),F(1),ie("ngIf",!i.isDropdownOpen),F(1),ie("ngIf",i.isDropdownOpen),F(1),ie("ngClass",yo(6,qde,i.isDropdownOpen)),F(2),ie("ngForOf",i.options),F(1),ie("ngModel",i.selectedOption))},dependencies:[vs,Cs,wo,Z0,qu,_l],styles:[".custom-select[_ngcontent-%COMP%]{position:relative;min-width:150px}.custom-select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{display:none}.custom-select[_ngcontent-%COMP%]   .select-button[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;padding:8px 12px;border:1px solid var(--color-primary);border-radius:4px;background-color:var(--color-light);display:flex;justify-content:space-between;align-items:center;column-gap:.75rem;color:var(--color-primary);text-wrap:nowrap}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;position:absolute;top:calc(100% + .3rem);left:0;background-color:var(--color-light);border-top:none;border-radius:.3rem;box-shadow:0 2px 5px #0003;display:none;z-index:2;min-width:150px;max-height:200px;overflow-y:auto;scrollbar-width:thin;scrollbar-color:var(--color-primary) var(--color-light)}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--color-light)}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#f6f6f6;border-radius:4px;border:2px solid var(--color-light)}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px 12px;cursor:pointer;color:var(--color-primary);text-wrap:nowrap}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-of-type{border-top-right-radius:.3rem;border-top-left-radius:.3rem}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-of-type{border-bottom-right-radius:.3rem;border-bottom-left-radius:.3rem}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f6f6f6}.custom-select[_ngcontent-%COMP%]   .select-options.active[_ngcontent-%COMP%]{display:block}"]}),e})();function Zde(t,e){if(1&t){const n=Ji();_(0,"div",166)(1,"a",167)(2,"div",168),T(3,"img",169),y(),_(4,"div",170)(5,"h3",171),w(6),y(),_(7,"span",172),w(8,"30"),y(),_(9,"div",173),J("click",function(){const o=wr(n).$implicit;return Qn(Mn().toggleAsk(o.name))}),T(10,"i",31),y()()()()}if(2&t){const n=e.$implicit;F(3),um("src",n.images[0],zo),F(3),et(n.name)}}function Yde(t,e){if(1&t&&(_(0,"div",174),w(1),y()),2&t){const n=Mn();F(1),Lt(" ",n.errorMessage," ")}}function Qde(t,e){if(1&t){const n=Ji();_(0,"div",175),T(1,"img",176),_(2,"a",177),J("click",function(){const o=wr(n).index;return Qn(Mn().delPicture(o))}),T(3,"i",131),y()()}if(2&t){const n=e.$implicit;F(1),um("src",n,zo)}}function Xde(t,e){if(1&t){const n=Ji();_(0,"div",175),T(1,"img",176),_(2,"a",178),J("click",function(){const o=wr(n).index;return Qn(Mn().deleteImageFromAsk(o))}),T(3,"i",131),y()()}if(2&t){const n=e.$implicit;F(1),um("src",n.url,zo)}}function Jde(t,e){if(1&t){const n=Ji();_(0,"div",179)(1,"div",180),T(2,"img",181),_(3,"a",182),J("click",function(){const o=wr(n).index;return Qn(Mn().deleteImageOfNewPortfo(o))}),T(4,"i",131),y()()()}if(2&t){const n=e.$implicit;F(2),ie("src",n,zo)}}let ehe=(()=>{var t;class e{toggleAsk(r){this.isShowAskRepair=!this.isShowAskRepair,this.modalName=r,this.decesData?.category.forEach(i=>{i.name!==r||(this.modalImagesRepair=i.images)})}closeAsk(){this.isShowAskRepair=!1}constructor(r,i,o,s,a,c,l,h){this.router=r,this.route=i,this.orderService=o,this.userInfoDTOService=s,this.userInfoService=a,this.userService=c,this.decesService=l,this.fileStorage=h,this.userData=null,this.decesData=null,this.selectedDateU="",this.selectedOptionTL="",this.selectedOptionType="",this.errorMessage="",this.isError=!1,this.dateVal="",this.selectedOptionTLVal="",this.selectedOptionTypeVal="",this.setTimeVal="",this.partnerId=0,this.isShowOrder=!1,this.isShowForMeEdit=!1,this.isShowIcEdit=!1,this.isShowFeEdit=!1,this.nameText="",this.desText="",this.prizeText="",this.interestText="",this.languageText="",this.cameraText="",this.isShowAskRepair=!1,this.isShowAddPortfo=!1,this.modalName="",this.modalImagesRepair=[],this.imagePreviews=[],this.filesAddPortfo=[],this.portfo_name="",this.imageData=[],this.route.params.subscribe(f=>{const m=f.id;m?this.partnerId=parseInt(m,10):console.error("ID not found in URL")})}ngOnInit(){this.route.params.subscribe(r=>{const i=r.id;if(i){const o=parseInt(i,10);this.loadUserInfoData(o),this.loadDecesData(o)}else console.error("ID not found in URL")})}loadUserInfoData(r){this.userInfoDTOService.getUserInfoDTOsById(r).subscribe(i=>{this.userData=i,this.nameText=this.userData?.user.full_name||"",this.desText=this.userData?.userInfo.description||"",this.prizeText=this.userData?.userInfo.prize||"",this.interestText=this.userData?.userInfo.interest||"",this.languageText=this.userData?.userInfo.language||"",this.cameraText=this.userData?.userInfo.camera||""},i=>{console.error("Error loading user info:",i)})}loadDecesData(r){var i=this;return(0,x.Z)(function*(){i.decesData=yield i.decesService.getDecesByPartnerId(r),console.log(i.decesData)})()}onDateChange(r){this.dateVal=r}onOptionTLChange(r){this.selectedOptionTLVal=r}onOptionTypeChange(r){this.selectedOptionTypeVal=r}onSubmit(){var r=this;return(0,x.Z)(function*(){if(r.isError=!1,r.selectedDateU&&r.selectedOptionTL&&r.selectedOptionType){if(0!==r.partnerId){console.log("true");const o={id:0,order_date:r.dateVal,time:r.selectedOptionTLVal,appoi_time:r.setTimeVal,shooting_type:r.selectedOptionTypeVal,partner_id:r.partnerId,cust_name:"",cust_email:"",cust_phone:"",code:"",status:"cho_duyet",address:"",price:"",link_down:""};var i=yield r.orderService.createOrder(o);i&&(localStorage.setItem("order_id",i.id.toString()),r.router.navigate(["/contact"]))}}else r.errorMessage="Vui l\xf2ng \u0111i\u1ec1n \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin",r.isError=!0,console.log(r.dateVal),console.log(r.setTimeVal)})()}showOrder(){this.isShowOrder=!0}hideOrder(){this.isShowOrder=!1}showForMeEdit(){this.isShowForMeEdit=!0}showIcEdit(){this.isShowIcEdit=!0}showFeEdit(){this.isShowFeEdit=!0}hideForMeEdit(){this.isShowForMeEdit=!1}hideIcEdit(){this.isShowIcEdit=!1}hideFeEdit(){this.isShowFeEdit=!1}updateValue(r,i){switch(r){case"nameText":this.nameText=i;break;case"desText":this.desText=i;break;case"prizeText":this.prizeText=i;break;case"interestText":this.interestText=i}}saveIc(){var r=this;return(0,x.Z)(function*(){if(void 0!==r.userData?.user.id){const s=r.userData?.userInfo.id;var i=yield r.userInfoService.getUserInfoById(s);if(i)if(void 0!==r.desText&&void 0!==r.prizeText&&void 0!==r.interestText){i.description=r.desText,i.prize=r.prizeText,i.interest=r.interestText;var o=yield r.userInfoService.updateUserInfo(i);o?console.log("Th\xf4ng tin ng\u01b0\u1eddi d\xf9ng \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt th\xe0nh c\xf4ng",o):console.error("L\u1ed7i khi c\u1eadp nh\u1eadt th\xf4ng tin ng\u01b0\u1eddi d\xf9ng")}else console.error("M\u1ed9t trong c\xe1c tr\u01b0\u1eddng d\u1eef li\u1ec7u l\xe0 undefined");else console.error("Kh\xf4ng t\xf4\u0300n ta\u0323i ta\u0323i th\xf4ng tin cu\u0309a ta\u0300i khoa\u0309n na\u0300y")}else console.error("User ID is undefined")})()}saveForMe(){var r=this;return(0,x.Z)(function*(){if(void 0!==r.userData?.user.id){const s=r.userData?.user.id;var i=yield r.userService.getUserById(s);if(i)if(void 0!==r.nameText){i.full_name=r.nameText;var o=yield r.userService.updateUser(i);o?console.log("Th\xf4ng tin ng\u01b0\u1eddi d\xf9ng \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt th\xe0nh c\xf4ng",o):console.error("L\u1ed7i khi c\u1eadp nh\u1eadt th\xf4ng tin ng\u01b0\u1eddi d\xf9ng")}else console.error("M\u1ed9t trong c\xe1c tr\u01b0\u1eddng d\u1eef li\u1ec7u l\xe0 undefined");else console.error("Kh\xf4ng t\xf4\u0300n ta\u0323i ta\u0323i th\xf4ng tin cu\u0309a ta\u0300i khoa\u0309n na\u0300y")}else console.error("User ID is undefined")})()}saveFe(){}showAddPortfo(){this.isShowAddPortfo=!this.isShowAddPortfo}closeNewPortfo(){this.isShowAddPortfo=!1}previewImages(r){const o=r.target.files;if(o&&o.length>0){this.filesAddPortfo=Array.from(o),this.imagePreviews=[];for(let s=0;s<o.length;s++){const a=o[s],c=new FileReader;c.onload=l=>{this.imagePreviews.push(l.target?.result)},c.readAsDataURL(a)}}else this.imagePreviews=[]}deleteImageOfNewPortfo(r){r>=0&&r<this.imagePreviews.length&&(this.imagePreviews.splice(r,1),this.filesAddPortfo.splice(r,1),document.getElementById("image").value="")}addNewPortfo(){var r=this;return(0,x.Z)(function*(){if(""!==r.portfo_name&&r.filesAddPortfo.length>0){var i=[],o=[];for(let f=0;f<r.filesAddPortfo.length;f++){const m=r.filesAddPortfo[f],v=m.name.split(".").pop(),E=Kj()+"."+v;o.push(new File([m],E,{type:m.type}))}for(let f=0;f<o.length;f++){const m=o[f],v=`images/${m.name}`,I=yield(yield r.fileStorage.upload(v,m)).ref.getDownloadURL();i.push(I)}var s=yield r.decesService.getDecesByPartnerId(r.partnerId);if(s){var a=!1;s.category.forEach(f=>{f.name!==r.portfo_name||(a=!0)}),a||s.category.push({name:r.portfo_name,images:i}),yield r.decesService.updateDeces(s),window.alert("Category added successfully"),yield r.loadDecesData(r.partnerId)}else{var l=[];l.push({name:r.portfo_name,images:i});var h={id:0,partner_id:r.partnerId,category:l};yield r.decesService.createDeces(h),window.alert("Category added successfully"),yield r.loadDecesData(r.partnerId)}}})()}delPicture(r){r>=0&&r<this.modalImagesRepair.length&&this.modalImagesRepair.splice(r,1)}addImageFromAsk(r,i){this.imageData.push({url:r,file:i})}deleteImageFromAsk(r){r>=0&&r<this.imageData.length&&this.imageData.splice(r,1)}onFileInputChange(r){const i=r.target.files;if(i)for(let o=0;o<i.length;o++){const s=i[o],a=URL.createObjectURL(s);this.addImageFromAsk(a,s)}}triggerFileInput(){document.getElementById("hiddenFileInput").click()}submitRepair(){var r=this;return(0,x.Z)(function*(){if(r.imageData.length>0){var i=[],o=[];for(let c=0;c<r.imageData.length;c++){const l=r.imageData[c].file,h=l.name.split(".").pop(),f=Kj()+"."+h;o.push(new File([l],f,{type:l.type}))}for(let c=0;c<o.length;c++){const l=o[c],h=`images/${l.name}`,m=yield(yield r.fileStorage.upload(h,l)).ref.getDownloadURL();i.push(m)}var s=yield r.decesService.getDecesByPartnerId(r.partnerId);if(s)for(let c=0;c<s.category.length;c++){const l=s.category[c];if(l.name===r.modalName){l.images=[...l.images,...i],yield r.decesService.updateDeces(s),window.alert("Category added successfully"),yield r.loadDecesData(r.partnerId),r.decesData?.category.forEach(h=>{h.name!==r.modalName||(r.modalImagesRepair=h.images)}),r.imageData=[];break}}}})()}}return(t=e).\u0275fac=function(r){return new(r||t)(X(hi),X(Jc),X(__),X(k0),X(cT),X(lT),X(Ole),X(WT))},t.\u0275cmp=xt({type:t,selectors:[["app-partner-profile"]],decls:338,vars:39,consts:[[1,"profile-content"],[1,"wall-wrapper"],[1,"wall-content"],[1,"wall1"],[1,"wall1-1"],["src","./assets/images/profile/pf1.jpg","alt",""],[1,"wall1-2"],["src","./assets/images/profile/pf2.jpg","alt",""],[1,"wall2"],["src","./assets/images/profile/pf3.jpg","alt",""],[1,"wall3"],[1,"wall3-1"],["src","./assets/images/profile/pf4.jpg","alt",""],[1,"wall3-2"],["src","./assets/images/profile/pf5.jpg","alt",""],[1,"wall4"],["src","./assets/images/profile/pf6.jpg","alt",""],[1,"wall5"],[1,"wall5-1"],["src","./assets/images/profile/pf7.jpg","alt",""],[1,"wall5-2"],["src","./assets/images/profile/pf8.jpg","alt",""],[1,"content-wrapper"],[1,"forMe-wrapper"],[1,"forMe-content"],[1,"avatar-wrapper"],[1,"avatar"],["alt","",1,"avatar-image",3,"src"],[1,"des-forMe-wrapper"],[1,"des-forMe-name"],[1,"btn-edit-forMe",3,"click"],[1,"bx","bx-edit-alt"],[1,"des-forMe-address"],[1,"des-forMe-rate"],[1,"rate-star"],["src","./assets/images/icons/star-fill.png","alt",""],[1,"rate-text"],[1,"des-forMe-exp"],[1,"forMe-edit",3,"ngClass"],[3,"ngModel","ngModelChange"],[1,"des-forMe-address",3,"ngModel"],[1,"des-forMe-exp",3,"ngModel"],[1,"btn-edit-control"],["href","javascript:void(0)",1,"btn-save",3,"click"],["href","javascript:void(0)",1,"btn-cancel",3,"click"],[1,"info-wrapper"],[1,"infor-title-list"],[1,"title-list"],[1,"it-item"],["href","javascript:void(0)",1,"it-link"],[1,"deliver-line"],[1,"infor-content-list"],[1,"ic-item"],[1,"text-description"],[1,"prize"],[1,"prize-title"],[1,"interest"],[1,"interest-title"],[1,"btn-ic-edit",3,"click"],[1,"ic-edit",2,"overflow-y","auto",3,"ngClass"],[1,"feature-wrapper"],[1,"feature-title"],[1,"feature-content"],[1,"language"],[1,"language-title"],["src","./assets/images/icons/translate.png","alt",""],[1,"camera"],[1,"camera-title"],["src","./assets/images/icons/camera.png","alt",""],[1,"btn-feature-edit",3,"click"],[1,"feature-edit",3,"ngClass"],[3,"ngModel"],[1,"portfolio"],[1,"portfolio-title"],["href","javascript:void(0);",3,"click"],[1,"bx","bx-plus-circle"],[1,"portfolio-content"],["class","portfolio-item",4,"ngFor","ngForOf"],[1,"appraise"],[1,"appraise-title"],[1,"rate"],[1,"appraise-content"],[1,"appraise-item"],[1,"ai-header"],[1,"header-avatar"],["src","./assets/images/avatar/avatar1.jpeg","alt",""],[1,"header-name"],[1,"ai-comment"],[1,"how-it-works"],[1,"hiw-title"],[1,"hiw-content"],[1,"hiw-item"],[1,"item-title"],[1,"title-icon"],[1,"bx","bx-calendar-check"],[1,"title-text"],[1,"item-content"],[1,"content-deliver"],[1,"content-text"],[1,"bx","bxs-camera"],[1,"bx","bx-happy-alt"],[1,"order-wrapper",3,"ngClass"],[1,"order-container"],["class","mess-valid",4,"ngIf"],[1,"order-content"],[1,"filter-date-picker"],["for","ngay-chup"],[3,"selectedDate","textDefault","selectedDateChange"],[1,"filter-tl"],["for","thoi-luong"],[3,"selectedOption","textDefault","selectedOptionChange"],["custom-option","","value","1"],["custom-option","","value","2"],["custom-option","","value","3"],["custom-option","","value","4"],["custom-option","","value","5"],["custom-option","","value","6"],["custom-option","","value","7"],["custom-option","","value","8"],[1,"set-time"],["for","gio-hen"],["type","time","id","gio-hen","name","gio-hen","required","",3,"ngModel","ngModelChange"],[1,"filter-type"],["custom-option","","value","chup-san-pham"],["custom-option","","value","chup-chan-dung"],["custom-option","","value","chup-canh"],["href","javascript:void(0)",3,"click"],[1,"p-footer"],[1,"sug-foot"],[1,"bx","bx-check"],[1,"btn-close-order",3,"click"],[1,"bx","bx-x"],[1,"toggle-order-wrapper",3,"ngClass","click"],[1,"ask-repair-wrapper",3,"ngClass"],[1,"ask-repair-container"],[1,"ask-repair-content"],[1,"repair-title"],[1,"repair-cont"],[1,"repair-picture"],[1,"picture-wrapper"],["class","picture-item",4,"ngFor","ngForOf"],[1,"ask-repair-button"],[1,"rs-left"],["type","file","id","hiddenFileInput","accept","image/*","multiple","",2,"display","none",3,"change"],["href","javascript:void(0)",1,"btn-upload-repair",3,"click"],[1,"rs-right"],["href","javascript:void(0)",1,"btn-submit-repair",3,"click"],["href","javascript:void(0)",1,"btn-close-ask",3,"click"],[1,"add-new-portfo",3,"ngClass"],[1,"new-portfo-container"],[1,"new-portfo-content"],[1,"new-portfo-title"],[1,"new-portfo-cont"],[1,"name-wapper"],["for","name"],["type","text","name","name","id","name",3,"ngModel","ngModelChange"],[1,"image-wrapper"],[1,"upload-control"],["for","image"],["type","file","name","image","id","image","accept","image/*","multiple","",3,"change"],[1,"list-preview"],["class","preview-item",4,"ngFor","ngForOf"],[1,"submit-portfo-wrapper"],[1,"btn-add-portfo",3,"click"],["href","javascript:void(0);",1,""],["href","javascript:void(0)",1,"btn-close-newPortfo",3,"click"],[1,"portfolio-item"],["href","javascript:void(0);"],[1,"it-header"],["alt","",3,"src"],[1,"it-footer"],[1,"it-cate"],[1,"it-count-picture"],[1,"btn-portfolio-edit",3,"click"],[1,"mess-valid"],[1,"picture-item"],["alt","","srcset","",3,"src"],["href","javascript:void(0;)",1,"btn-del-image",3,"click"],["href","javascript:void(0)",1,"btn-del-image",3,"click"],[1,"preview-item"],[1,"preview-content"],["alt","Preview Image",2,"max-width","100%","max-height","200px",3,"src"],["href","javascript:void(0);",1,"item-close",3,"click"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),T(5,"img",5),y(),_(6,"div",6),T(7,"img",7),y()(),_(8,"div",8),T(9,"img",9),y(),_(10,"div",10)(11,"div",11),T(12,"img",12),y(),_(13,"div",13),T(14,"img",14),y()(),_(15,"div",15),T(16,"img",16),y(),_(17,"div",17)(18,"div",18),T(19,"img",19),y(),_(20,"div",20),T(21,"img",21),y()()()(),_(22,"div",22)(23,"div",23)(24,"div",24)(25,"div",25)(26,"div",26),T(27,"img",27),y()(),_(28,"div",28)(29,"div",29)(30,"h2"),w(31),y(),_(32,"div",30),J("click",function(){return i.showForMeEdit()}),T(33,"i",31),y()(),_(34,"p",32),w(35," Ba \u0110\xecnh, H\xe0 N\u1ed9i "),y(),_(36,"div",33)(37,"div",34),T(38,"img",35)(39,"img",35)(40,"img",35)(41,"img",35)(42,"img",35),y(),_(43,"span",36),w(44,"5.0"),y()(),_(45,"p",37),w(46,"13 n\u0103m kinh nghi\u1ec7m"),y(),_(47,"div",38)(48,"div",29)(49,"input",39),J("ngModelChange",function(s){return i.updateValue("nameText",s)}),y()(),T(50,"input",40)(51,"input",41),_(52,"div",42)(53,"a",43),J("click",function(){return i.saveForMe()}),w(54,"L\u01b0u"),y(),_(55,"a",44),J("click",function(){return i.hideForMeEdit()}),w(56,"Hu\u0309y"),y()()()()()(),_(57,"div",45)(58,"div",46)(59,"div",47)(60,"li",48)(61,"a",49),w(62,"V\u1ec1 t\xf4i"),y()(),_(63,"li",48)(64,"a",49),w(65,"H\u1ed3 s\u01a1"),y()(),_(66,"li",48)(67,"a",49),w(68,"\u0110\xe1nh gi\xe1"),y()(),_(69,"li",48)(70,"a",49),w(71,"How it works"),y()()()(),T(72,"div",50),_(73,"div",51)(74,"div",52)(75,"div",53)(76,"p"),w(77),y()(),_(78,"div",54)(79,"h3",55),w(80," Gi\u1ea3i th\u01b0\u1edfng "),y(),_(81,"p"),w(82),y()(),_(83,"div",56)(84,"h3",57),w(85," \u0110i\u1ec1u th\xfa v\u1ecb v\u1ec1 t\xf4i "),y(),_(86,"p"),w(87),y()(),_(88,"div",58),J("click",function(){return i.showIcEdit()}),T(89,"i",31),y(),_(90,"div",59)(91,"div",53)(92,"textarea",39),J("ngModelChange",function(s){return i.updateValue("desText",s)}),w(93),y()(),_(94,"div",54)(95,"h3",55),w(96," Gi\u1ea3i th\u01b0\u1edfng "),y(),_(97,"textarea",39),J("ngModelChange",function(s){return i.updateValue("prizeText",s)}),w(98),y()(),_(99,"div",56)(100,"h3",57),w(101," \u0110i\u1ec1u th\xfa v\u1ecb v\u1ec1 t\xf4i "),y(),_(102,"textarea",39),J("ngModelChange",function(s){return i.updateValue("interestText",s)}),w(103),y()(),_(104,"div",42)(105,"a",43),J("click",function(){return i.saveIc()}),w(106,"L\u01b0u"),y(),_(107,"a",44),J("click",function(){return i.hideIcEdit()}),w(108,"Hu\u0309y"),y()()()()(),T(109,"div",50),_(110,"div",60)(111,"h3",61),w(112,"Ng\xf4n ng\u1eef & M\xe1y \u1ea3nh"),y(),_(113,"div",62)(114,"div",63)(115,"div",64),T(116,"img",65),_(117,"h3"),w(118,"Ng\xf4n ng\u1eef"),y()(),_(119,"p"),w(120),y()(),_(121,"div",66)(122,"div",67),T(123,"img",68),_(124,"h3"),w(125,"M\xe1y \u1ea3nh"),y()(),_(126,"p"),w(127),y()(),_(128,"div",69),J("click",function(){return i.showFeEdit()}),T(129,"i",31),y()(),_(130,"div",70)(131,"h3",61),w(132,"Ng\xf4n ng\u1eef & M\xe1y \u1ea3nh"),y(),_(133,"div",62)(134,"div",63)(135,"div",64),T(136,"img",65),_(137,"h3"),w(138,"Ng\xf4n ng\u1eef"),y()(),_(139,"textarea",71),w(140),y()(),_(141,"div",66)(142,"div",67),T(143,"img",68),_(144,"h3"),w(145,"M\xe1y \u1ea3nh"),y()(),_(146,"textarea",71),w(147),y()()(),_(148,"div",42)(149,"a",43),J("click",function(){return i.saveFe()}),w(150,"L\u01b0u"),y(),_(151,"a",44),J("click",function(){return i.hideFeEdit()}),w(152,"Hu\u0309y"),y()()()(),T(153,"div",50),_(154,"div",72)(155,"div",73)(156,"h3"),w(157," My Portfolio "),y(),_(158,"a",74),J("click",function(){return i.showAddPortfo()}),T(159,"i",75),y()(),_(160,"div",76),Fe(161,Zde,11,2,"div",77),y()(),T(162,"div",50),_(163,"div",78)(164,"div",79)(165,"h3"),w(166,"\u0110\xe1nh Gi\xe1"),y(),_(167,"div",80)(168,"div",34),T(169,"img",35)(170,"img",35)(171,"img",35)(172,"img",35)(173,"img",35),y(),_(174,"span",36),w(175,"5.0"),y()()(),_(176,"div",81)(177,"div",82)(178,"div",83)(179,"div",84),T(180,"img",85),y(),_(181,"span",86),w(182,"Lalisa Manoban "),y()(),_(183,"div",87)(184,"p"),w(185,"Kh\xf4ng c\xf2n nghi ng\u1edd g\xec n\u1eefa, \u0111\xe2y l\xe0 m\u1ed9t trong nh\u1eefng nhi\u1ebfp \u1ea3nh gia tuy\u1ec7t v\u1eddi nh\u1ea5t v\xe0 c\xf3 k\u1ef9 n\u0103ng ch\u1ee5p \u1ea3nh \u0111a d\u1ea1ng! T\xf4i th\u01b0\u1eddng kh\xf4ng \u0111\u0103ng \u0111\xe1nh gi\xe1 nh\u01b0ng c\xf4ng vi\u1ec7c \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n b\u1edfi nhi\u1ebfp \u1ea3nh gia Ph\u1ea1m Vi\u1ec7t C\u01b0\u1eddng x\u1ee9ng \u0111\xe1ng v\xe0 h\u01a1n th\u1ebf n\u1eefa! T\xf4i v\xe0 YG s\u1ebd ti\u1ebfp t\u1ee5c l\xe0m nhi\u1ec1u vi\u1ec7c h\u01a1n v\u1edbi anh \u1ea5y!!"),y()()()()(),T(186,"div",50),_(187,"div",88)(188,"h3",89),w(189,"How it Works"),y(),_(190,"div",90)(191,"div",91)(192,"div",92)(193,"div",93),T(194,"i",94),y(),_(195,"h3",95),w(196,"Book."),y()(),_(197,"div",96)(198,"div",97),T(199,"p"),y(),_(200,"div",98)(201,"p"),w(202,"Nhanh ch\xf3ng t\xecm th\u1ea5y m\u1ed9t nhi\u1ebfp \u1ea3nh gia \u0111\u01b0\u1ee3c x\u1ebfp h\u1ea1ng h\xe0ng \u0111\u1ea7u g\u1ea7n b\u1ea1n. \u0110\u1eb7t ch\u1ed7 ph\xf9 h\u1ee3p cho kho\u1ea3nh kh\u1eafc \u0111\u1eb7c bi\u1ec7t c\u1ee7a b\u1ea1n ch\u1ec9 b\u1eb1ng v\xe0i c\xfa nh\u1ea5p chu\u1ed9t \u0111\u01a1n gi\u1ea3n."),y()()()(),_(203,"div",91)(204,"div",92)(205,"div",93),T(206,"i",99),y(),_(207,"h3",95),w(208,"Sheet."),y()(),_(209,"div",96)(210,"div",97),T(211,"p"),y(),_(212,"div",98)(213,"p"),w(214,"H\xe3y th\u01b0 gi\xe3n v\xe0 t\u1eadn h\u01b0\u1edfng kho\u1ea3nh kh\u1eafc khi m\u1ed9t nhi\u1ebfp \u1ea3nh gia gi\xe0u kinh nghi\u1ec7m ch\u1ee5p \u1ea3nh cho b\u1ea1n. H\u1ecd s\u1ebd ch\u0103m s\xf3c t\u1ea5t c\u1ea3 c\xe1c chi ti\u1ebft."),y()()()(),_(215,"div",91)(216,"div",92)(217,"div",93),T(218,"i",100),y(),_(219,"h3",95),w(220,"Enjoy!."),y()(),_(221,"div",96),T(222,"div",97),_(223,"div",98)(224,"p"),w(225," Trong v\xf2ng 2 ng\xe0y l\xe0m vi\u1ec7c k\u1ec3 t\u1eeb ng\xe0y ch\u1ee5p \u1ea3nh, b\u1ea1n s\u1ebd c\xf3 th\u1ec3 xem, t\u1ea3i xu\u1ed1ng v\xe0 chia s\u1ebb. T\u1eadn h\u01b0\u1edfng t\u1ea5t c\u1ea3 m\u1ed9t l\u1ea7n n\u1eefa v\xe0 m\u1ed9t l\u1ea7n n\u1eefa. "),y()()()()()()()(),_(226,"div",101)(227,"div",102)(228,"h4"),w(229,"\u0110\u1eb7t l\u1ecbch ch\u1ee5p t\u1ef1 \u0111\u1ed9ng"),y(),Fe(230,Yde,2,1,"div",103),_(231,"div",104)(232,"div",105)(233,"label",106),w(234,"Ng\xe0y ch\u1ee5p:"),y(),_(235,"app-date-picker",107),J("selectedDateChange",function(s){return i.onDateChange(s)})("selectedDateChange",function(s){return i.selectedDateU=s}),y()(),_(236,"div",108)(237,"label",109),w(238,"Th\u1eddi l\u01b0\u1ee3ng (gi\u1edd):"),y(),_(239,"app-custom-select",110),J("selectedOptionChange",function(s){return i.onOptionTLChange(s)})("selectedOptionChange",function(s){return i.selectedOptionTL=s}),_(240,"option",111),w(241,"1 gi\u1edd"),y(),_(242,"option",112),w(243,"2 gi\u1edd"),y(),_(244,"option",113),w(245,"3 gi\u1edd"),y(),_(246,"option",114),w(247,"4 gi\u1edd"),y(),_(248,"option",115),w(249,"5 gi\u1edd"),y(),_(250,"option",116),w(251,"6 gi\u1edd"),y(),_(252,"option",117),w(253,"7 gi\u1edd"),y(),_(254,"option",118),w(255,"8 gi\u1edd"),y()()(),_(256,"div",119)(257,"label",120),w(258,"Gi\u1edd h\u1eb9n:"),y(),_(259,"input",121),J("ngModelChange",function(s){return i.setTimeVal=s}),y()(),_(260,"div",122)(261,"label",109),w(262,"Lo\u1ea1i ch\u1ee5p"),y(),_(263,"app-custom-select",110),J("selectedOptionChange",function(s){return i.onOptionTypeChange(s)})("selectedOptionChange",function(s){return i.selectedOptionType=s}),_(264,"option",123),w(265,"Ch\u1ee5p s\u1ea3n ph\u1ea9m"),y(),_(266,"option",124),w(267,"Ch\u1ee5p ch\xe2n dung"),y(),_(268,"option",125),w(269,"Ch\u1ee5p c\u1ea3nh"),y()()(),_(270,"a",126),J("click",function(){return i.onSubmit()}),w(271,"\u0110\u1eb7t l\u1ecbch"),y(),T(272,"div",50),_(273,"p",127),w(274,"300.000 "),_(275,"span"),w(276,"1 ti\u1ebfng"),y()(),T(277,"div",50),_(278,"span",128),T(279,"i",129),w(280," 15 \u1ea3nh c\xf3 \u0111\u1ed9 ph\xe2n gi\u1ea3i cao \u1edf \u0111\u1ecbnh d\u1ea1ng JPEG "),y(),_(281,"span",128),T(282,"i",129),w(283," \u0110\xe3 ch\u1ec9nh s\u1eeda v\xe0 ch\u1ec9nh m\xe0u "),y(),_(284,"span",128),T(285,"i",129),w(286," Giao h\xe0ng sau 2 ng\xe0y l\xe0m vi\u1ec7c "),y()()(),_(287,"div",130),J("click",function(){return i.hideOrder()}),T(288,"i",131),y()(),_(289,"div",132),J("click",function(){return i.showOrder()}),T(290,"i",75),y(),_(291,"div",133)(292,"div",134)(293,"div",135)(294,"div",136)(295,"h2"),w(296),y(),T(297,"div",50),y(),_(298,"div",137)(299,"div",138)(300,"div",139),Fe(301,Qde,4,1,"div",140),Fe(302,Xde,4,1,"div",140),y()()(),_(303,"div",141)(304,"div",142)(305,"input",143),J("change",function(s){return i.onFileInputChange(s)}),y(),_(306,"a",144),J("click",function(){return i.triggerFileInput()}),w(307,"Ta\u0309i l\xean"),y()(),_(308,"div",145)(309,"a",146),J("click",function(){return i.submitRepair()}),w(310,"C\xe2\u0323p nh\xe2\u0323t"),y()()(),_(311,"a",147),J("click",function(){return i.closeAsk()}),T(312,"i",131),y()()()(),_(313,"div",148)(314,"div",149)(315,"div",150)(316,"div",151)(317,"h2"),w(318,"Th\xeam m\u1edbi"),y(),T(319,"div",50),y(),_(320,"div",152)(321,"div",153)(322,"label",154),w(323,"T\xean"),y(),_(324,"input",155),J("ngModelChange",function(s){return i.portfo_name=s}),y()(),_(325,"div",156)(326,"div",157)(327,"label",158),w(328,"\u1ea2nh"),y(),_(329,"input",159),J("change",function(s){return i.previewImages(s)}),y()(),_(330,"div",160),Fe(331,Jde,5,1,"div",161),y()(),_(332,"div",162)(333,"div",163),J("click",function(){return i.addNewPortfo()}),_(334,"a",164),w(335,"Up"),y()()()(),_(336,"a",165),J("click",function(){return i.closeNewPortfo()}),T(337,"i",131),y()()()()()),2&r&&(F(27),dm("src","./assets/images/avatar/",null==i.userData||null==i.userData.user?null:i.userData.user.avatar,"",zo),F(4),Lt(" ",i.nameText," "),F(16),ie("ngClass",i.isShowForMeEdit?"show":""),F(2),ie("ngModel",i.nameText),F(28),Lt(" ",i.desText," "),F(5),Lt(" ",i.prizeText," "),F(5),Lt(" ",i.interestText," "),F(3),ie("ngClass",i.isShowIcEdit?"show":""),F(2),ie("ngModel",i.desText),F(1),Lt("                                ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.description,"\n                            "),F(4),ie("ngModel",i.prizeText),F(1),Lt("                                ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.prize,"\n                            "),F(4),ie("ngModel",i.interestText),F(1),Lt("                                ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.interest,"\n                            "),F(17),Lt(" ",i.languageText," "),F(7),Lt(" ",i.cameraText," "),F(3),ie("ngClass",i.isShowFeEdit?"show":""),F(9),ie("ngModel",i.languageText),F(1),Lt("                                ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.language,"\n                            "),F(6),ie("ngModel",i.cameraText),F(1),Lt("                                ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.camera,"\n                            "),F(14),ie("ngForOf",null==i.decesData?null:i.decesData.category),F(65),ie("ngClass",i.isShowOrder?"show":""),F(4),ie("ngIf",i.isError),F(5),ie("selectedDate",i.selectedDateU)("textDefault","Ng\xe0y"),F(4),ie("selectedOption",i.selectedOptionTL)("textDefault","Th\u1eddi l\u01b0\u1ee3ng"),F(20),ie("ngModel",i.setTimeVal),F(4),ie("selectedOption",i.selectedOptionType)("textDefault","Ch\u1ecdn lo\u1ea1i ch\u1ee5p"),F(26),ie("ngClass",i.isShowOrder?"hide":""),F(2),ie("ngClass",i.isShowAskRepair?"active":""),F(5),et(i.modalName),F(5),ie("ngForOf",i.modalImagesRepair),F(1),ie("ngForOf",i.imageData),F(11),ie("ngClass",i.isShowAddPortfo?"active":""),F(11),ie("ngModel",i.portfo_name),F(7),ie("ngForOf",i.imagePreviews))},dependencies:[vs,Cs,wo,Y0,Q0,pl,qu,I_,_l,qT,KT],styles:['@charset "UTF-8";.forMe-wrapper[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:5rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:3rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   .avatar-image[_ngcontent-%COMP%]{height:130px;width:130px;object-fit:cover;border-radius:50%}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]{width:100%;position:relative}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-name[_ngcontent-%COMP%]{width:100%;position:relative;display:flex;justify-content:flex-start;align-items:center;column-gap:2rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-name[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:2px 0;color:var(--color-primary);font-weight:700;font-size:28px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-name[_ngcontent-%COMP%]   .btn-edit-forMe[_ngcontent-%COMP%]{cursor:pointer;width:28px;height:28px;font-size:28px;display:flex;justify-content:center;align-items:center}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-address[_ngcontent-%COMP%]{margin:4px 0;font-size:15px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-rate[_ngcontent-%COMP%]{margin:.5rem 0;display:flex;justify-content:flex-start;column-gap:.75rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:16px;width:16px;object-fit:cover}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-rate[_ngcontent-%COMP%]   .rate-text[_ngcontent-%COMP%]{font-size:15px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-exp[_ngcontent-%COMP%]{margin:4px 0}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .forMe-edit[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#e8e8e8;border-radius:.3rem;overflow-y:auto;padding:1rem 2rem;display:none}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .forMe-edit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-top:1em;width:100%;height:40px;border:none;outline:none;border-radius:.3rem;background-color:#ddd;padding:5px 10px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .forMe-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]{position:sticky;right:0;bottom:0rem;display:flex;justify-content:flex-end;column-gap:.5rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .forMe-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{line-height:35px;color:var(--color-light);padding:0 15px;background-color:var(--color-primary);text-decoration:none;border-radius:.3rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .forMe-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background-color:#b8b8b8;color:#000}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .forMe-edit.show[_ngcontent-%COMP%]{display:block}.infor-title-list[_ngcontent-%COMP%]{padding-left:2rem}.infor-title-list[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:4rem;flex-wrap:wrap;row-gap:2rem}.infor-title-list[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]   .it-item[_ngcontent-%COMP%]{list-style:none;display:inline}.infor-title-list[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]   .it-item[_ngcontent-%COMP%]   .it-link[_ngcontent-%COMP%]{text-decoration:none;display:block;font-weight:700;color:var(--color-primary);font-size:20px;text-wrap:nowrap}.infor-content-list[_ngcontent-%COMP%]{padding-top:1.5rem;padding-left:2rem;position:relative}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .prize[_ngcontent-%COMP%]   .prize-title[_ngcontent-%COMP%]{color:var(--color-primary);font-size:20px;font-weight:700}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .interest[_ngcontent-%COMP%]   .interest-title[_ngcontent-%COMP%]{font-weight:700;font-size:20px;color:var(--color-primary)}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .btn-ic-edit[_ngcontent-%COMP%]{cursor:pointer;width:100%;display:flex;justify-content:center;font-size:28px}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .ic-edit[_ngcontent-%COMP%]{display:none;position:absolute;top:0;left:0;width:100%;height:100%;background-color:#e8e8e8;border-radius:.5rem;padding:1.5rem 2rem}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .ic-edit[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin-top:1em;width:100%;height:80px;border:none;outline:none;border-radius:.3rem;background-color:#ddd;padding:5px 10px}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .ic-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]{position:sticky;right:0;bottom:0;display:flex;justify-content:flex-end;column-gap:.5rem}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .ic-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{line-height:35px;color:var(--color-light);padding:0 15px;background-color:var(--color-primary);text-decoration:none;border-radius:.3rem}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .ic-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background-color:#b8b8b8;color:#000}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .ic-edit.show[_ngcontent-%COMP%]{display:block}.feature-wrapper[_ngcontent-%COMP%]{padding-left:2rem;padding-top:.5rem;position:relative}.feature-wrapper[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:700;font-size:20px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]{position:relative}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   .language-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   .language-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   .language-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:var(--color-primary);font-weight:700}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-left:3rem;font-size:18px;margin-top:0}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   .camera-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   .camera-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   .camera-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:var(--color-primary);font-weight:700}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:0;padding-left:3rem;font-size:18px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .btn-feature-edit[_ngcontent-%COMP%]{cursor:pointer;width:100%;display:flex;justify-content:center;font-size:28px}.feature-wrapper[_ngcontent-%COMP%]   .feature-edit[_ngcontent-%COMP%]{display:none;position:absolute;top:0;left:0;width:100%;height:100%;background-color:#e8e8e8;border-radius:.5rem;padding:.5rem 2rem;overflow-y:auto}.feature-wrapper[_ngcontent-%COMP%]   .feature-edit[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin-top:1em;width:100%;height:80px;border:none;outline:none;border-radius:.3rem;background-color:#ddd;padding:5px 10px}.feature-wrapper[_ngcontent-%COMP%]   .feature-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]{position:sticky;right:0;bottom:1rem;display:flex;justify-content:flex-end;column-gap:.5rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{line-height:35px;color:var(--color-light);padding:0 15px;background-color:var(--color-primary);text-decoration:none;border-radius:.3rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background-color:#b8b8b8;color:#000}.feature-wrapper[_ngcontent-%COMP%]   .feature-edit.show[_ngcontent-%COMP%]{display:block}.portfolio[_ngcontent-%COMP%]{padding-left:2rem;padding-right:25%;padding-top:.5rem}.portfolio[_ngcontent-%COMP%]   .portfolio-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:2rem;align-items:center}.portfolio[_ngcontent-%COMP%]   .portfolio-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;color:var(--color-warning)}.portfolio[_ngcontent-%COMP%]   .portfolio-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:25px;display:flex;justify-content:center;align-items:center;text-decoration:none;color:var(--color-text-body)}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-auto-rows:1fr;gap:2rem}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-text-body);text-decoration:none}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   .portfolio-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:250px;object-fit:cover}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   .it-footer[_ngcontent-%COMP%]{position:relative}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   .it-footer[_ngcontent-%COMP%]   .it-cate[_ngcontent-%COMP%]{font-size:20px;margin-bottom:10px}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   .it-footer[_ngcontent-%COMP%]   .btn-portfolio-edit[_ngcontent-%COMP%]{cursor:pointer;width:100%;display:flex;justify-content:flex-end;font-size:28px;position:absolute;right:1.5rem;top:50%;transform:translateY(-50%);z-index:1}.appraise[_ngcontent-%COMP%]{padding-left:2rem;padding-top:.5rem}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--color-warning);font-weight:700}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;column-gap:.5rem}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:15px;width:15px;object-fit:cover}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   .rate-text[_ngcontent-%COMP%]{font-weight:700}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:.75rem}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]   .header-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;object-fit:cover}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]   .header-name[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:700}.how-it-works[_ngcontent-%COMP%]{padding-left:1.5rem;padding-top:.5rem}.how-it-works[_ngcontent-%COMP%]   .hiw-title[_ngcontent-%COMP%]{color:var(--color-warning);font-weight:700}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;flex-direction:column}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{font-size:30px;color:var(--color-primary)}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]   .title-text[_ngcontent-%COMP%]{margin:8px 0;font-size:20px;font-weight:700;color:var(--color-primary)}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:2rem;align-items:center;height:100%}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .content-deliver[_ngcontent-%COMP%]{display:flex;justify-content:center;height:auto;width:3px;margin-left:12px;background-color:var(--color-primary)}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .content-deliver[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;height:100%}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .content-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 400px 0 4rem}.content-wrapper[_ngcontent-%COMP%]   .info-wrapper[_ngcontent-%COMP%]   .deliver-line[_ngcontent-%COMP%]{height:2px;width:100%;margin:1.5rem 0;background-color:var(--color-primary)}.order-wrapper[_ngcontent-%COMP%]{background-color:var(--color-bg-body);position:fixed;top:100px;right:50px;border-radius:.3rem;box-shadow:0 2px 5px #0003;z-index:600}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]{width:300px;min-height:500px;max-height:calc(100vh - 100px);padding:20px;overflow-y:auto}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--color-light)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--color-secondary);border-radius:4px;border:2px solid var(--color-light)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;color:#333;font-size:20px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .mess-valid[_ngcontent-%COMP%]{font-size:14px;color:red}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .filter-date-picker[_ngcontent-%COMP%]{z-index:999}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;margin-top:.5rem}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%], .order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   input[type=time][_ngcontent-%COMP%], .order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:4px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:10px 15px;border:none;border-radius:4px;text-decoration:none;margin-top:1rem;text-align:center}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#0056b3}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .deliver-line[_ngcontent-%COMP%]{height:2px;width:100%;margin:1rem 0;background-color:var(--color-secondary)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .p-footer[_ngcontent-%COMP%]{color:var(--color-warning);font-weight:700;margin:0;padding-left:.5rem}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .p-footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--color-text-body)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .sug-foot[_ngcontent-%COMP%]{font-size:13px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .sug-foot[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--color-warning);font-size:18px}.order-wrapper[_ngcontent-%COMP%]   .btn-close-order[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-8px;font-size:30px;color:#000;cursor:pointer;height:30px;width:30px;border-radius:50%;background-color:var(--color-secondary);display:none}.toggle-order-wrapper[_ngcontent-%COMP%]{position:fixed;bottom:5rem;right:1rem;width:40px;height:40px;background-color:var(--color-primary);z-index:999;display:none;font-size:30px;border-radius:50%;padding-top:3.5px;padding-left:5px;color:var(--color-light)}.ask-repair-wrapper[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;z-index:999}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]{width:100%;height:100vh;padding-top:100px;display:flex;justify-content:center;align-items:center;position:relative}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]{height:80%;width:90%;margin:auto;background-color:var(--color-light);position:absolute;transform:translateY(-200%);padding:0 1rem}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-title[_ngcontent-%COMP%]{height:100px}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .deliver-line[_ngcontent-%COMP%]{height:2px;width:100%;margin:1.5rem 0;background-color:var(--color-primary)}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]{max-height:calc(100% - 150px);overflow-y:auto;padding-top:1rem}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-picture[_ngcontent-%COMP%]{height:100%;padding-right:1rem}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]{height:100%;display:grid;grid-template-columns:repeat(4,1fr);gap:1rem}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-item[_ngcontent-%COMP%]{grid-column:span 1;width:100%;position:relative}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-item[_ngcontent-%COMP%]   .btn-del-image[_ngcontent-%COMP%]{position:absolute;top:-.4rem;right:-.3rem;font-size:22px;width:22px;height:22px;display:flex;justify-content:center;align-items:center;border-radius:50%;background-color:var(--color-secondary);text-decoration:none;color:#000;padding-top:1px}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-item.hide[_ngcontent-%COMP%]{display:none}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .ask-repair-button[_ngcontent-%COMP%]{position:absolute;bottom:1.5rem;right:1.5rem;color:#000;border-radius:50%;display:flex;justify-content:center;align-items:center;column-gap:1rem}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .ask-repair-button[_ngcontent-%COMP%]   .rs-left[_ngcontent-%COMP%]{border-radius:.35rem;background-color:var(--color-warning);display:flex;justify-content:center;align-items:center;padding:5px 8px}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .ask-repair-button[_ngcontent-%COMP%]   .rs-left[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--color-light)}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .ask-repair-button[_ngcontent-%COMP%]   .rs-right[_ngcontent-%COMP%]{border-radius:.35rem;background-color:var(--color-primary);display:flex;justify-content:center;align-items:center;padding:5px 8px}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .ask-repair-button[_ngcontent-%COMP%]   .rs-right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--color-light)}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .btn-close-ask[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;color:#000;font-weight:700;font-size:28px;width:25px;height:25px;border-radius:50%;display:flex;justify-content:center;align-items:center;text-decoration:none}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .btn-close-ask[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary);color:#000;transform:rotate(35deg)}.ask-repair-wrapper.active[_ngcontent-%COMP%]{display:block}.ask-repair-wrapper.active[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]{transform:translateY(0)}.add-new-portfo[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;z-index:999}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]{width:100%;height:100vh;padding-top:100px;display:flex;justify-content:center;align-items:center;position:relative}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]{height:80%;width:90%;margin:auto;background-color:var(--color-light);position:absolute;transform:translateY(-200%);padding:0 1rem;border:1px solid #ddd;border-radius:5px;display:flex;flex-direction:column;gap:20px}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-title[_ngcontent-%COMP%]{text-align:center;font-size:24px;height:100px}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .deliver-line[_ngcontent-%COMP%]{width:100%;height:2px;background-color:#333;margin:10px 0}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]{max-height:calc(100% - 150px);overflow-y:auto;padding-top:1rem;display:flex;flex-direction:column;gap:20px}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .name-wapper[_ngcontent-%COMP%]{display:flex}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .name-wapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-right:1rem}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .name-wapper[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:5px;border:1px solid #ccc;border-radius:3px}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   .upload-control[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-right:1rem}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   .upload-control[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{padding:5px;border:1px solid #ccc;border-radius:3px}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   .list-preview[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;gap:10px}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   .list-preview[_ngcontent-%COMP%]   .preview-item[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]{position:relative}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   .list-preview[_ngcontent-%COMP%]   .preview-item[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:200px;object-fit:cover}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   .list-preview[_ngcontent-%COMP%]   .preview-item[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .item-close[_ngcontent-%COMP%]{position:absolute;top:-.4rem;right:-.3rem;font-size:22px;width:22px;height:22px;display:flex;justify-content:center;align-items:center;border-radius:50%;background-color:var(--color-secondary);text-decoration:none;color:#000;padding-top:1px}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .submit-portfo-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .submit-portfo-wrapper[_ngcontent-%COMP%]   .btn-add-portfo[_ngcontent-%COMP%]{border-radius:.35rem;background-color:var(--color-primary);display:flex;justify-content:center;align-items:center;padding:10px 25px;margin-top:2rem;cursor:pointer}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .submit-portfo-wrapper[_ngcontent-%COMP%]   .btn-add-portfo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--color-light)}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .btn-close-newPortfo[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;color:#000;font-weight:700;font-size:28px;width:25px;height:25px;border-radius:50%;display:flex;justify-content:center;align-items:center;text-decoration:none}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .btn-close-newPortfo[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary);color:#000;transform:rotate(35deg)}.add-new-portfo.active[_ngcontent-%COMP%]{display:block!important}.add-new-portfo.active[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]{transform:translateY(0)}.profile-content[_ngcontent-%COMP%]{position:relative;margin-top:6rem}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(9,1fr);column-gap:.3rem;height:500px}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall2[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall4[_ngcontent-%COMP%]{grid-column:span 2;height:500px}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall4[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:.3rem}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-2[_ngcontent-%COMP%]{height:calc(250px - .15rem)}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-2[_ngcontent-%COMP%]{height:calc(250px - .15rem)}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-2[_ngcontent-%COMP%]{height:calc(250px - .15rem)}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}@media (max-width: 1200px){.picture-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)!important}}@media (max-width: 991.98px){.order-wrapper[_ngcontent-%COMP%]{display:none}.order-wrapper.show[_ngcontent-%COMP%]{display:block}.toggle-order-wrapper[_ngcontent-%COMP%]{display:block!important}.toggle-order-wrapper.hide[_ngcontent-%COMP%]{display:none!important}.btn-close-order[_ngcontent-%COMP%]{display:block!important}.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 2rem 0!important}.profile-content[_ngcontent-%COMP%]   .ic-edit[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .feature-edit[_ngcontent-%COMP%]{padding-right:0!important}.picture-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 767.98px){.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 2rem 0!important}.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]{flex-direction:column;row-gap:2rem}.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .info-wrapper[_ngcontent-%COMP%]   .portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}@media (max-width: 575.98px){.picture-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}}']}),e})();const the=[{path:"",component:P4,title:"Home"},{path:"home",component:P4,title:"Home"}],nhe=[{path:"",component:E4,title:"Collection"},{path:"all",component:E4,title:"Collection"}],rhe=[{path:"login",component:dle,title:"Login"},{path:"register",component:mle,title:"Register"}],ihe=[{path:"",component:zj,title:"User"},{path:"all",component:zj,title:"User"}],ohe=[{path:"",component:ehe,title:"Partner | Profile"}],she=[{path:"",component:Gj,title:"Admin | Home"},{path:"home",component:Gj,title:"Admin | Home"},{path:"order",component:vle,title:"Admin | Order List"},{path:"order-accept",component:wle,title:"Admin | Order Accept"}];let lP=(()=>{var t;class e{constructor(){this.eventMap={}}registerEvent(r){return this.eventMap[r]||(this.eventMap[r]=new U(null)),this.eventMap[r].asObservable()}emitEvent(r,i){this.eventMap[r]&&this.eventMap[r].next(i)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const ahe=["iconToggle"],che=["headerContentMobile"],lhe=["inputSearchMobile"],uhe=["menuDropdown"],dhe=["menuDropdown1"],hhe=["itemDropdown"],phe=["itemDropdown1"];function fhe(t,e){1&t&&(_(0,"div",59)(1,"p"),w(2,"H\xe0 N\u1ed9i"),y(),_(3,"p"),w(4,"H\u1ed3 Ch\xed Minh"),y(),_(5,"p"),w(6,"Ch\xe2n dung"),y(),_(7,"p"),w(8,"S\u1ef1 ki\u1ec7n"),y()())}function ghe(t,e){if(1&t){const n=Ji();_(0,"div",64)(1,"a",65),w(2,"Profile"),y(),_(3,"a",66),J("click",function(){return wr(n),Qn(Mn(2).logout())}),w(4,"\u0110\u0103ng xu\u1ea5t"),y()()}}function mhe(t,e){if(1&t){const n=Ji();Hh(0),_(1,"li",60),J("click",function(){return wr(n),Qn(Mn().toggleDropdownLo())}),_(2,"div",61),T(3,"img",62),y(),Fe(4,ghe,5,0,"div",63),y(),zh()}if(2&t){const n=Mn();F(4),ie("ngIf",n.showDropdown)}}function _he(t,e){1&t&&(_(0,"li",67)(1,"a",68),w(2,"\u1ea2nh c\u1ee7a t\xf4i"),y()(),_(3,"li",67)(4,"a",69),w(5,"\u0110\u0103ng nh\u1eadp"),y()(),_(6,"li",67)(7,"a",70),w(8,"\u0110\u0103ng k\xfd"),y()())}function yhe(t,e){1&t&&(_(0,"div",71)(1,"p"),w(2,"H\xe0 N\u1ed9i"),y(),_(3,"p"),w(4,"H\u1ed3 Ch\xed Minh"),y(),_(5,"p"),w(6,"Ch\xe2n dung"),y(),_(7,"p"),w(8,"S\u1ef1 ki\u1ec7n"),y()())}function vhe(t,e){1&t&&T(0,"i",72)}function Che(t,e){1&t&&T(0,"i",73)}function whe(t,e){1&t&&T(0,"i",72)}function Phe(t,e){1&t&&T(0,"i",73)}const N_=function(t){return{show:t}},$9=function(t){return{active:t}};let ZT=(()=>{var t;class e{constructor(r){this.eventService=r,this.isMenuVisible=!1,this.isSearchMobileVisible=!1,this.isDropdownVisible=!1,this.isDropdown1Visible=!1,this.inputSearchMobileValue="",this.inputSearchValue="",this.toggleSuggestMobile=!1,this.toggleSuggest=!1,this.loggedIn=!1,this.showDropdown=!1}showMenu(){this.isMenuVisible=!0}hideMenu(){this.isMenuVisible=!1}showSearchMobile(){this.isSearchMobileVisible=!0,this.isSearchMobileVisible&&setTimeout(()=>{this.inputSearchMobile.nativeElement.focus()})}hideSearchMobile(){this.isSearchMobileVisible=!1,this.toggleSuggestMobile=!1,this.inputSearchMobileValue=""}toggleDropdown(){this.isDropdownVisible=!this.isDropdownVisible}toggleDropdown1(){this.isDropdown1Visible=!this.isDropdown1Visible}onChangeInputSearchMobile(r){this.inputSearchMobileValue=r.target.value,this.toggleSuggestMobile=""!==this.inputSearchMobileValue.trim()}onChangeInputSearch(r){this.inputSearchValue=r.target.value,this.toggleSuggest=""!==this.inputSearchValue.trim()}closeDropdown(r){!this.headerContentMobile.nativeElement.contains(r.target)&&!this.iconToggle.nativeElement.contains(r.target)&&this.isMenuVisible&&(this.isMenuVisible=!1),!this.menuDropdown.nativeElement.contains(r.target)&&!this.itemDropdown.nativeElement.contains(r.target)&&this.isDropdownVisible&&(this.isDropdownVisible=!1),!this.menuDropdown1.nativeElement.contains(r.target)&&!this.itemDropdown1.nativeElement.contains(r.target)&&this.isDropdown1Visible&&(this.isDropdown1Visible=!1)}toggleDropdownLo(){this.showDropdown=!this.showDropdown}logout(){this.loggedIn=!1}}return(t=e).\u0275fac=function(r){return new(r||t)(X(lP))},t.\u0275cmp=xt({type:t,selectors:[["app-header"]],viewQuery:function(r,i){if(1&r&&(Xn(ahe,5),Xn(che,5),Xn(lhe,5),Xn(uhe,5),Xn(dhe,5),Xn(hhe,5),Xn(phe,5)),2&r){let o;Bn(o=jn())&&(i.iconToggle=o.first),Bn(o=jn())&&(i.headerContentMobile=o.first),Bn(o=jn())&&(i.inputSearchMobile=o.first),Bn(o=jn())&&(i.menuDropdown=o.first),Bn(o=jn())&&(i.menuDropdown1=o.first),Bn(o=jn())&&(i.itemDropdown=o.first),Bn(o=jn())&&(i.itemDropdown1=o.first)}},hostBindings:function(r,i){1&r&&J("mousedown",function(s){return i.closeDropdown(s)},0,Mu)},decls:103,vars:31,consts:[[1,"layout-header"],[1,"header-container"],[1,"header-content"],[1,"brand"],[1,"brand-logo"],["routerLink","/home"],["src","./assets/images/logoo.png","alt","",1,"brand-image"],[1,"search-bar"],[1,"search-container"],[1,"search-content"],["id","search-input","type","text","placeholder","D\u1ecbch v\u1ee5 b\u1ea1n \u0111ang t\xecm ki\u1ebfm ?",3,"ngModel","ngModelChange","input"],["inputSearch",""],["id","search-icon","href","javascript:void(0)"],[1,"bx","bx-search"],["class","search-suggest",4,"ngIf"],[1,"header-content-right"],[4,"ngIf","ngIfElse"],["notLoggedInBlock",""],[1,"icon-toggle-bar"],["href","javascript:void(0)",1,"toggle-search",3,"click"],["href","javascript:void(0)",1,"toggle-menu",3,"click"],["iconToggle",""],[1,"bx","bx-menu"],[1,"search-mobile",3,"ngClass"],[1,"search-bar-mobile"],["type","text","name","","id","","placeholder","D\u1ecbch v\u1ee5 b\u1ea1n \u0111ang t\xecm ki\u1ebfm ?",1,"search-input-mobile",3,"ngModel","ngModelChange","input"],["inputSearchMobile",""],["href","javascript:void(0)",1,"search-iconClose-mobile",3,"click"],[1,"bx","bx-x"],["class","search-suggest-mobile",4,"ngIf"],[1,"header-content-mobile",3,"ngClass"],["headerContentMobile",""],[1,"header-mobile-inner"],[1,"brand-mobile"],[1,"brand-logo-mobile"],["src","./assets/images/logoo.png","alt","",1,"brand-image-mobile"],[1,"menu-container-mobile"],[1,"menu-item",3,"ngClass"],["itemDropdown",""],["href","javascript:void(0)",1,"menu-link",3,"click"],["class","bx bx-collapse-vertical",4,"ngIf"],["class","bx bx-expand-vertical",4,"ngIf"],[1,"menu-dropdown",3,"ngClass"],["menuDropdown",""],[1,"menu-dropdown-item"],["routerLink","/collection",1,"menu-dropdown-link"],["itemDropdown1",""],["menuDropdown1",""],[1,"menu-item"],["routerLink","/collection",1,"menu-link"],[1,"control-mobile"],[1,"control-item","item-col"],["routerLink","/refund-picture",1,"control-link"],[1,"control-item"],["routerLink","/auth/login",1,"control-link"],["routerLink","/auth/register",1,"control-link"],[1,"close-menu"],["href","javascript:void(0)",1,"close-menu-icon",3,"click"],[1,"header-overlay",3,"ngClass"],[1,"search-suggest"],[1,"cright-item",3,"click"],[1,"avatar"],["src","link_to_user_image.jpg","alt","Avatar"],["class","dropdown-menu",4,"ngIf"],[1,"dropdown-menu"],[1,"dropdown-item"],[1,"dropdown-item",3,"click"],[1,"cright-item"],["routerLink","/refund-picture",1,"cright-link"],["routerLink","/auth/login",1,"cright-link"],["routerLink","/auth/register",1,"cright-link"],[1,"search-suggest-mobile"],[1,"bx","bx-collapse-vertical"],[1,"bx","bx-expand-vertical"]],template:function(r,i){if(1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5),T(6,"img",6),y()()(),_(7,"div",7)(8,"div",8)(9,"div",9)(10,"input",10,11),J("ngModelChange",function(s){return i.inputSearchValue=s})("input",function(s){return i.onChangeInputSearch(s)}),y(),_(12,"a",12),T(13,"i",13),y()(),Fe(14,fhe,9,0,"div",14),y()(),_(15,"div",15),Fe(16,mhe,5,1,"ng-container",16),Fe(17,_he,9,0,"ng-template",null,17,wV),y(),_(19,"div",18)(20,"a",19),J("click",function(){return i.showSearchMobile()}),T(21,"i",13),y(),_(22,"a",20,21),J("click",function(){return i.showMenu()}),T(24,"i",22),y()(),_(25,"div",23)(26,"div",24)(27,"input",25,26),J("ngModelChange",function(s){return i.inputSearchMobileValue=s})("input",function(s){return i.onChangeInputSearchMobile(s)}),y(),_(29,"a",27),J("click",function(){return i.hideSearchMobile()}),T(30,"i",28),y()(),Fe(31,yhe,9,0,"div",29),y()(),_(32,"div",30,31)(34,"div",32)(35,"div",33)(36,"div",34)(37,"a",5),T(38,"img",35),y()()(),_(39,"div",36)(40,"li",37,38)(42,"a",39),J("click",function(){return i.toggleDropdown()}),w(43,"Du l\u1ecbch "),Fe(44,vhe,1,0,"i",40),Fe(45,Che,1,0,"i",41),y(),_(46,"ul",42,43)(48,"li",44)(49,"a",45),w(50,"Ch\xe2n dung"),y()(),_(51,"li",44)(52,"a",45),w(53,"Phong c\u1ea3nh"),y()(),_(54,"li",44)(55,"a",45),w(56,"\u0110\u01b0\u1eddng ph\u1ed1"),y()(),_(57,"li",44)(58,"a",45),w(59,"Th\u1ec3 thao"),y()(),_(60,"li",44)(61,"a",45),w(62,"K\u1ef7 y\u1ebfu"),y()()()(),_(63,"li",37,46)(65,"a",39),J("click",function(){return i.toggleDropdown1()}),w(66,"Lookbook "),Fe(67,whe,1,0,"i",40),Fe(68,Phe,1,0,"i",41),y(),_(69,"ul",42,47)(71,"li",44)(72,"a",45),w(73,"Th\u1eddi trang"),y()(),_(74,"li",44)(75,"a",45),w(76,"Ph\u1ee5 ki\u1ec7n"),y()(),_(77,"li",44)(78,"a",45),w(79,"M\u1ef9 ph\u1ea9m"),y()(),_(80,"li",44)(81,"a",45),w(82,"Th\u1ef1c ph\u1ea9m"),y()()()(),_(83,"li",48)(84,"a",49),w(85,"Catalogue"),y()(),_(86,"li",48)(87,"a",49),w(88,"Kh\xe1c"),y()()(),_(89,"div",50)(90,"li",51)(91,"a",52),w(92,"\u1ea2nh c\u1ee7a t\xf4i"),y()(),_(93,"li",53)(94,"a",54),w(95," \u0110\u0103ng nh\u1eadp "),y()(),_(96,"li",53)(97,"a",55),w(98," \u0110\u0103ng k\xfd "),y()()(),_(99,"div",56)(100,"a",57),J("click",function(){return i.hideMenu()}),T(101,"i",28),y()()()()(),T(102,"div",58),y()),2&r){const o=function yF(t){return function ba(t,e){return t[e]}(function DM(){return je.lFrame.contextLView}(),ut+t)}(18);F(10),ie("ngModel",i.inputSearchValue),F(4),ie("ngIf",i.toggleSuggest),F(2),ie("ngIf",i.loggedIn)("ngIfElse",o),F(9),ie("ngClass",yo(17,N_,i.isSearchMobileVisible)),F(2),ie("ngModel",i.inputSearchMobileValue),F(4),ie("ngIf",i.toggleSuggestMobile),F(1),ie("ngClass",yo(19,N_,i.isMenuVisible)),F(8),ie("ngClass",yo(21,$9,i.isDropdownVisible)),F(4),ie("ngIf",!i.isDropdownVisible),F(1),ie("ngIf",i.isDropdownVisible),F(1),ie("ngClass",yo(23,N_,i.isDropdownVisible)),F(17),ie("ngClass",yo(25,$9,i.isDropdown1Visible)),F(4),ie("ngIf",!i.isDropdown1Visible),F(1),ie("ngIf",i.isDropdown1Visible),F(1),ie("ngClass",yo(27,N_,i.isDropdown1Visible)),F(33),ie("ngClass",yo(29,N_,i.isMenuVisible))}},dependencies:[vs,wo,Zr,pl,qu,_l],styles:['.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;position:relative}.header-content[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%]{display:flex;align-items:center}.header-content[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%]   .brand-image[_ngcontent-%COMP%]{width:5.5rem;height:5.5rem;margin-left:1.5rem;margin-right:1.5rem}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{width:100%;margin:0 2rem}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{position:relative;width:100%;display:flex;justify-content:center}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]{width:100%;height:3rem;position:relative;display:flex;justify-content:center}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   #search-input[_ngcontent-%COMP%]{width:100%;height:100%;border:0;outline:none;background-color:#f0f0f0;border-radius:.3rem;color:var(--color-text-body);padding-left:1.25rem;padding-right:2.75rem}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   #search-input[_ngcontent-%COMP%]::placeholder{color:var(--color-text-body)}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   #search-icon[_ngcontent-%COMP%]{position:absolute;right:1rem;top:50%;transform:translateY(-50%);color:var(--color-text-body);display:flex;justify-content:center;align-items:center;text-decoration:none;font-weight:700;font-size:26px;border-radius:.3rem;padding-top:2px}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-suggest[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 1.5rem - 1.5px);left:0;background-color:var(--color-bg-body);width:100%;min-height:250px;border-radius:.5rem;box-shadow:0 2px 5px #0003;padding:20px}.header-content[_ngcontent-%COMP%]   .header-content-right[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end}.header-content[_ngcontent-%COMP%]   .header-content-right[_ngcontent-%COMP%]   .cright-item[_ngcontent-%COMP%]{text-wrap:nowrap;list-style:none;padding:0 1rem}.header-content[_ngcontent-%COMP%]   .header-content-right[_ngcontent-%COMP%]   .cright-item[_ngcontent-%COMP%]   .cright-link[_ngcontent-%COMP%]{position:relative;text-decoration:none;color:var(--color-text-body);font-size:18px}.header-content[_ngcontent-%COMP%]   .header-content-right[_ngcontent-%COMP%]   .cright-item[_ngcontent-%COMP%]   .cright-link[_ngcontent-%COMP%]:hover{font-size:600;color:var(--color-primary)}.header-content[_ngcontent-%COMP%]   .header-content-right[_ngcontent-%COMP%]   .cright-item[_ngcontent-%COMP%]   .cright-link[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:-.3rem;left:0;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.header-content[_ngcontent-%COMP%]   .header-content-right[_ngcontent-%COMP%]   .cright-item[_ngcontent-%COMP%]   .cright-link[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.header-content[_ngcontent-%COMP%]   .icon-toggle-bar[_ngcontent-%COMP%]{padding-right:1.5rem;display:flex}.header-content[_ngcontent-%COMP%]   .icon-toggle-bar[_ngcontent-%COMP%]   .toggle-menu[_ngcontent-%COMP%]{color:var(--color-dark);font-size:32px;text-align:center;text-decoration:none;display:none}.header-content[_ngcontent-%COMP%]   .icon-toggle-bar[_ngcontent-%COMP%]   .toggle-search[_ngcontent-%COMP%]{color:var(--color-dark);font-size:28px;text-align:center;text-decoration:none;display:none;margin-top:.25rem;margin-right:.75rem}.header-content[_ngcontent-%COMP%]   .search-mobile[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0rem;right:0;left:0;background-color:var(--color-light);display:none}.header-content[_ngcontent-%COMP%]   .search-mobile[_ngcontent-%COMP%]   .search-bar-mobile[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;justify-content:center;align-items:center;position:relative;padding:.5rem 0}.header-content[_ngcontent-%COMP%]   .search-mobile[_ngcontent-%COMP%]   .search-bar-mobile[_ngcontent-%COMP%]   .search-input-mobile[_ngcontent-%COMP%]{height:100%;width:100%;border:0;outline:none;background-color:#f0f0f0;color:var(--color-text-body);padding-left:1.25rem}.header-content[_ngcontent-%COMP%]   .search-mobile[_ngcontent-%COMP%]   .search-bar-mobile[_ngcontent-%COMP%]   .search-input-mobile[_ngcontent-%COMP%]::placeholder{color:var(--color-text-body)}.header-content[_ngcontent-%COMP%]   .search-mobile[_ngcontent-%COMP%]   .search-bar-mobile[_ngcontent-%COMP%]   .search-iconClose-mobile[_ngcontent-%COMP%]{height:2.25rem;width:3rem;padding-right:.75rem;color:var(--color-dark);font-size:28px;text-align:center;position:absolute;right:0rem;top:50%;transform:translateY(-50%);display:flex;justify-content:center;align-items:center;text-decoration:none;font-weight:700;background-color:#f0f0f0}.header-content[_ngcontent-%COMP%]   .search-mobile[_ngcontent-%COMP%]   .search-suggest-mobile[_ngcontent-%COMP%]{position:absolute;width:100vw;height:100vh;background-color:var(--color-light);padding:20px}@media (max-width:991.98px){.header-content[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%]   .brand-image[_ngcontent-%COMP%]{width:4rem!important;height:4rem!important;margin-left:1.5rem!important;margin-right:1rem!important}.header-content[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.search-bar, .header-content-right)[_ngcontent-%COMP%]{display:none!important}.header-content[_ngcontent-%COMP%]   .search-mobile.show[_ngcontent-%COMP%]{display:block!important}.header-content[_ngcontent-%COMP%]   .icon-toggle-bar[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.toggle-menu, .toggle-search)[_ngcontent-%COMP%]{display:block!important}}.header-content-mobile[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:16.25rem;height:100vh;background-color:var(--color-bg-body);display:none;padding-bottom:2.5rem;z-index:1080}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .brand-mobile[_ngcontent-%COMP%]{padding-top:.5rem;position:sticky;top:0;left:0;right:0;margin-bottom:1.5rem;background-color:var(--color-bg-body)}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .brand-mobile[_ngcontent-%COMP%]   .brand-logo-mobile[_ngcontent-%COMP%]{display:flex;justify-content:center}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .brand-mobile[_ngcontent-%COMP%]   .brand-logo-mobile[_ngcontent-%COMP%]   .brand-image-mobile[_ngcontent-%COMP%]{width:5rem;height:5rem;object-fit:cover}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]{margin-bottom:2rem;min-height:calc(100vh - 17.5rem)}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{display:block;list-style:none}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]{padding-left:1.5rem;line-height:2.5rem;width:100%;display:flex;justify-content:space-between;align-items:center;column-gap:.5rem;text-decoration:none;color:var(--color-primary);font-size:18px;padding-right:1.5rem}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]{display:none;margin:0;padding:0}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-item[_ngcontent-%COMP%]{list-style:none}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-item[_ngcontent-%COMP%]   .menu-dropdown-link[_ngcontent-%COMP%]{padding-left:2.25rem;color:var(--color-primary);line-height:2.5rem;width:100%;display:block;text-decoration:none;font-size:17px}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-dropdown.show[_ngcontent-%COMP%]{display:block!important}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   .menu-dropdown[_ngcontent-%COMP%]{background-color:var(--color-bg-body)}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-item[_ngcontent-%COMP%]:hover, .header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item.active[_ngcontent-%COMP%]{background-color:#f5f5f5}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item.active[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]{background-color:var(--color-bg-body)}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .control-mobile[_ngcontent-%COMP%]{padding:0 1.5rem;display:grid;grid-template-columns:repeat(2,1fr);column-gap:.5rem}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .control-mobile[_ngcontent-%COMP%]   .control-item[_ngcontent-%COMP%]{grid-column:span 1;list-style:none;display:flex;justify-content:flex-start;align-items:center}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .control-mobile[_ngcontent-%COMP%]   .control-item[_ngcontent-%COMP%]   .control-link[_ngcontent-%COMP%]{position:relative;line-height:2.5rem;display:block;text-align:center;text-decoration:none;color:var(--color-primary);font-size:18px}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .control-mobile[_ngcontent-%COMP%]   .control-item[_ngcontent-%COMP%]   .control-link[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:.3rem;left:0;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .control-mobile[_ngcontent-%COMP%]   .control-item[_ngcontent-%COMP%]   .control-link[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .control-mobile[_ngcontent-%COMP%]   .item-col[_ngcontent-%COMP%]{justify-content:flex-start;grid-column:span 2}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .close-menu[_ngcontent-%COMP%]{position:absolute;width:2.25rem;height:2.25rem;top:10px;right:10px;border-radius:50%;background-color:#f6f6f6}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .close-menu[_ngcontent-%COMP%]   .close-menu-icon[_ngcontent-%COMP%]{color:var(--color-primary);text-decoration:none;font-size:28px;display:flex;justify-content:center;align-items:center;padding-top:4px}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .close-menu[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;transform:rotate(22.5deg)}@media (max-width:991.98px){.header-content-mobile[_ngcontent-%COMP%]{display:block!important;transform:translate(-200%)}.header-content-mobile.show[_ngcontent-%COMP%]{transform:translate(0)!important}}.layout-header[_ngcontent-%COMP%]{height:5.75rem;background-color:var(--color-bg-body);width:100%;display:flex;align-items:center;position:fixed;top:0;z-index:1025}.layout-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]{width:100%;margin:0 auto}.layout-header[_ngcontent-%COMP%]   .header-overlay[_ngcontent-%COMP%]{width:100vw;height:100vh;position:fixed;inset:0;display:none;background:#435971;opacity:.5;cursor:pointer;z-index:999}@media (min-width: 1400px){.layout-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.layout-header[_ngcontent-%COMP%]{box-shadow:0 .5rem 1rem #00000013!important}.layout-header[_ngcontent-%COMP%]   .header-overlay.show[_ngcontent-%COMP%]{display:block!important}}']}),e})(),YT=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=xt({type:t,selectors:[["app-footer"]],decls:33,vars:0,consts:[[1,"layout-footer"],[1,"footer-wrapper"],[1,"footer-container"],[1,"footer-content"],[1,"ft-content-left"],[1,"ft-l-title"],[1,"ft-l-text"],["routerLink","",1,"ft-l-link"],[1,"ft-content-middle"],[1,"ft-m-item"],["routerLink","",1,"ft-m-link"],[1,"dots"],[1,"bx","bxs-circle"],[1,"ft-content-right"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),w(6,"V\u1ec1 PhotoHub"),y(),_(7,"p",6),w(8,"PhotoHub l\xe0 trang web h\xe0ng \u0111\u1ea7u Vi\u1ec7t Nam v\u1ec1 k\u1ebft n\u1ed1i nh\u1eefng ng\u01b0\u1eddi \u0111am m\xea v\xe0 chuy\xean nghi\u1ec7p v\u1ec1 nhi\u1ebfp \u1ea3nh v\u1edbi nh\u1eefng qu\xfd kh\xe1ch h\xe0ng mu\u1ed1n l\u01b0u gi\u1eef nh\u1eefng kho\u1ea3nh kh\u1eafc \u0111\u1eb9p nh\u1ea5t trong cu\u1ed9c \u0111\u1eddi "),y(),_(9,"a",7),w(10,"Xem th\xeam"),y()(),_(11,"div",8)(12,"li",9)(13,"a",10),w(14,"Blog"),y()(),_(15,"p",11),T(16,"i",12),y(),_(17,"li",9)(18,"a",10),w(19,"Support"),y()(),_(20,"p",11),T(21,"i",12),y(),_(22,"li",9)(23,"a",10),w(24,"Term"),y()(),_(25,"p",11),T(26,"i",12),y(),_(27,"li",9)(28,"a",10),w(29,"Policy"),y()()(),_(30,"div",13)(31,"p"),w(32,"@2003 PhotoHub"),y()()()()()())},dependencies:[Zr],styles:['.layout-footer[_ngcontent-%COMP%]{margin-top:4rem;background-color:var(--color-primary)}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]{width:100%;margin:0 auto;padding:1.5rem 0}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]{padding:0 4rem}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(10,1fr);column-gap:2rem;color:var(--color-light)}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-left[_ngcontent-%COMP%]{grid-column:span 5}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-left[_ngcontent-%COMP%]   .ft-l-title[_ngcontent-%COMP%]{font-size:18px;margin-top:0;margin-bottom:.5rem}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-left[_ngcontent-%COMP%]   .ft-l-link[_ngcontent-%COMP%]{color:var(--color-info);text-decoration:none;position:relative}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-left[_ngcontent-%COMP%]   .ft-l-link[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-info);bottom:-1px;left:0;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-left[_ngcontent-%COMP%]   .ft-l-link[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%]{grid-column:span 3;display:flex;justify-content:center;align-items:center}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%]   .ft-m-item[_ngcontent-%COMP%]{display:inline-block}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%]   .ft-m-item[_ngcontent-%COMP%]   .ft-m-link[_ngcontent-%COMP%]{display:block;text-decoration:none;color:var(--color-light);padding:.75rem 1rem;position:relative}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%]   .ft-m-item[_ngcontent-%COMP%]   .ft-m-link[_ngcontent-%COMP%]:after{content:"";position:absolute;width:calc(100% - 2rem);height:1.5px;background-color:var(--color-light);bottom:.6rem;left:1rem;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%]   .ft-m-item[_ngcontent-%COMP%]   .ft-m-link[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%]   .dots[_ngcontent-%COMP%]{font-size:8px;margin:0}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-right[_ngcontent-%COMP%]{grid-column:span 2;display:flex;justify-content:center;align-items:center}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-right[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}@media (min-width: 1400px){.footer-wrapper[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.footer-wrapper[_ngcontent-%COMP%]{padding:1.5rem 0 2.5rem!important}.ft-content-middle[_ngcontent-%COMP%]{display:block!important}.ft-content-middle[_ngcontent-%COMP%]   .ft-m-item[_ngcontent-%COMP%]{width:100%}.ft-content-middle[_ngcontent-%COMP%]   .ft-m-item[_ngcontent-%COMP%]   .ft-m-link[_ngcontent-%COMP%]{padding-top:0!important;text-align:left!important}.ft-content-middle[_ngcontent-%COMP%]   .dots[_ngcontent-%COMP%]{display:none}.ft-content-right[_ngcontent-%COMP%]{align-items:flex-start!important}}@media (max-width: 767.98px){.footer-container[_ngcontent-%COMP%]{padding:0 1.5rem!important}}@media (max-width: 575.98px){.footer-container[_ngcontent-%COMP%]{column-gap:.5rem}.footer-container[_ngcontent-%COMP%]   .ft-content-left[_ngcontent-%COMP%]{grid-column:span 4!important}.footer-container[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%], .footer-container[_ngcontent-%COMP%]   .ft-content-right[_ngcontent-%COMP%]{grid-column:span 3!important}}']}),e})(),Ehe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=xt({type:t,selectors:[["app-menu"]],decls:47,vars:0,consts:[[1,"layout-menu"],[1,"menu-container"],[1,"menu-item","dropdown"],["routerLink","/collection",1,"menu-link"],[1,"bx","bx-collapse-vertical","icon-collapse"],[1,"bx","bx-expand-vertical","icon-expand"],[1,"dropdown-menu"],[1,"dropdown-item"],["routerLink","/collection",1,"dropdown-link"],[1,"menu-item"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"li",2)(3,"a",3),w(4,"Du l\u1ecbch "),T(5,"i",4)(6,"i",5),y(),_(7,"ul",6)(8,"li",7)(9,"a",8),w(10,"Ch\xe2n dung"),y()(),_(11,"li",7)(12,"a",8),w(13,"Th\u1ec3 thao"),y()(),_(14,"li",7)(15,"a",8),w(16,"\u0110\u01b0\u1eddng ph\u1ed1"),y()(),_(17,"li",7)(18,"a",8),w(19,"Phong c\u1ea3nh"),y()(),_(20,"li",7)(21,"a",8),w(22,"K\u1ef7 y\u1ebfu"),y()()()(),_(23,"li",2)(24,"a",3),w(25,"Lookbook "),T(26,"i",4)(27,"i",5),y(),_(28,"ul",6)(29,"li",7)(30,"a",8),w(31,"Th\u1eddi trang"),y()(),_(32,"li",7)(33,"a",8),w(34,"Ph\u1ee5 ki\u1ec7n"),y()(),_(35,"li",7)(36,"a",8),w(37,"M\u1ef9 ph\u1ea9m"),y()(),_(38,"li",7)(39,"a",8),w(40,"Th\u1ef1c ph\u1ea9m"),y()()()(),_(41,"li",9)(42,"a",3),w(43,"Catalogue"),y()(),_(44,"li",9)(45,"a",3),w(46,"Kh\xe1c"),y()()()())},dependencies:[Zr],styles:['.layout-menu[_ngcontent-%COMP%]{position:fixed;top:5.75rem;width:100%;height:5rem;background-color:var(--color-bg-body);z-index:1024;box-shadow:0 .5rem 1rem #00000013!important}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]{height:3.25rem;width:100%;margin:0 auto;display:flex;align-items:center;justify-content:center;column-gap:2rem;border:1px solid var(--color-secondary);border-left:0;border-right:0}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{position:relative;list-style:none;height:100%;display:flex;justify-items:flex-start;column-gap:.75rem;align-items:center}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]{height:100%;text-decoration:none;color:var(--color-text-body);font-weight:700;font-size:20px;line-height:3.25rem;display:flex;justify-content:center;align-items:center;column-gap:.5rem}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]   .icon-expand[_ngcontent-%COMP%], .layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]   .icon-collapse[_ngcontent-%COMP%]{font-size:16px;color:var(--color-primary)}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]   .icon-expand[_ngcontent-%COMP%]{display:none}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   .menu-link[_ngcontent-%COMP%]{color:var(--color-primary)}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   .menu-link[_ngcontent-%COMP%]   .icon-expand[_ngcontent-%COMP%]{display:block}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   .menu-link[_ngcontent-%COMP%]   .icon-collapse[_ngcontent-%COMP%]{display:none}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:0;left:0;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.dropdown[_ngcontent-%COMP%]{position:relative;display:inline-block}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{margin:0;padding:0;display:none;position:absolute;top:100%;left:0;background-color:var(--color-bg-body);box-shadow:0 2px 5px #0003;min-width:150px;border-radius:.3rem}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{list-style:none;padding:10px}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .dropdown-link[_ngcontent-%COMP%]{text-decoration:none;color:var(--color-text-body)}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover   .dropdown-link[_ngcontent-%COMP%]{color:var(--color-primary)}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:first-of-type{border-top-right-radius:.3rem;border-top-left-radius:.3rem}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:last-of-type{border-bottom-left-radius:.3rem;border-bottom-right-radius:.3rem}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:100%;left:50%;transform:translate(-50%);border-width:8px;border-style:solid;border-color:transparent transparent var(--color-bg-body) transparent}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-menu[_ngcontent-%COMP%]{display:block}@media (min-width: 1400px){.menu-container[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.layout-menu[_ngcontent-%COMP%]{display:none!important}}']}),e})(),Mhe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=xt({type:t,selectors:[["app-layout-client"]],decls:8,vars:0,consts:[[1,"layout-wrapper"],[1,"layout-container"],[1,"content-wrapper"],[1,"content-container"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1),T(2,"app-header")(3,"app-menu"),_(4,"div",2)(5,"div",3),T(6,"router-outlet"),y()(),T(7,"app-footer"),y()())},dependencies:[el,ZT,YT,Ehe],styles:[".layout-wrapper[_ngcontent-%COMP%], .layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%], .layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{width:100%}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{width:100%;margin:0 auto;margin-top:10.75rem}@media (min-width: 1400px){.content-container[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.content-container[_ngcontent-%COMP%]{margin-top:5rem!important}}"]}),e})();const Ohe=["sortSelectButton"],Ihe=["sortSelectOptions"],bhe=["addressButton"],The=["addressBar"];function Ahe(t,e){if(1&t&&(_(0,"option",52),w(1),y()),2&t){const n=e.$implicit;ie("value",n),F(1),et(n)}}function Dhe(t,e){1&t&&T(0,"i",53)}function She(t,e){1&t&&T(0,"i",54)}function Rhe(t,e){1&t&&T(0,"i",53)}function xhe(t,e){1&t&&T(0,"i",54)}function khe(t,e){1&t&&T(0,"i",53)}function Nhe(t,e){1&t&&T(0,"i",54)}function Fhe(t,e){1&t&&T(0,"i",53)}function Lhe(t,e){1&t&&T(0,"i",54)}function Vhe(t,e){1&t&&T(0,"i",53)}function Uhe(t,e){1&t&&T(0,"i",54)}const H9=function(t){return{show:t}};let Bhe=(()=>{var t;class e{constructor(){this.timeOptions=["12:30 am","1:00 am","1:30 am","2:00 am","2:30 am","3:00 am","4:00 am","4:30 am","5:00 am","5:30 am","6:00 am","6:30 am","7:00 am","7:30 am","8:00 am","8:30 am","9:00 am","9:30 am","10:00 am","10:30 am","11:00 am","11:30 am","12:00 pm","12:30 pm","1:00 pm","1:30 pm","2:00 pm","2:30 pm","3:00 pm","3:30 pm","4:00 pm","4:30 pm","5:00 pm","5:30 pm","6:00 pm","6:30 pm","7:00 pm","7:30 pm","8:00 pm","8:30 pm","9:00 pm","9:30 pm","10:00 pm","10:30 pm","11:00 pm","11:30 pm"],this.selectedDateY="",this.selectedOptionTL="",this.selectedOptionTime="",this.selectedOptionPrice="",this.isShowSortMenu=!1,this.checkedSortText="",this.checkedSortValue=null,this.addressValue="",this.isShowAddressBar=!1}ngAfterViewInit(){}toggleSort(){this.isShowSortMenu=!this.isShowSortMenu}checked(r,i){this.checkedSortValue=r,this.checkedSortText=i,this.isShowSortMenu=!1}toggleAddress(){this.isShowAddressBar=!this.isShowAddressBar}clearAddress(){this.addressValue=""}resetFilter(){this.addressValue="",this.isShowSortMenu=!1,this.selectedOptionTL="",this.selectedOptionTime="",this.selectedDateY=""}onClickOutside(r){!this.sortSelectButton.nativeElement.contains(r.target)&&!this.sortSelectOptions.nativeElement.contains(r.target)&&(this.isShowSortMenu=!1),!this.addressButton.nativeElement.contains(r.target)&&!this.addressBar.nativeElement.contains(r.target)&&(this.isShowAddressBar=!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=xt({type:t,selectors:[["app-filter-bar"]],viewQuery:function(r,i){if(1&r&&(Xn(Ohe,5),Xn(Ihe,5),Xn(bhe,5),Xn(The,5)),2&r){let o;Bn(o=jn())&&(i.sortSelectButton=o.first),Bn(o=jn())&&(i.sortSelectOptions=o.first),Bn(o=jn())&&(i.addressButton=o.first),Bn(o=jn())&&(i.addressBar=o.first)}},hostBindings:function(r,i){1&r&&J("mousedown",function(s){return i.onClickOutside(s)},0,Mu)},decls:111,vars:28,consts:[[1,"layout-filter"],[1,"filter-container"],[1,"filter-content"],[1,"filter-left"],[1,"filter-param"],[1,"filter-date-picker"],[3,"selectedDate","textDefault","selectedDateChange"],[1,"filter-tl"],[3,"selectedOption","textDefault","selectedOptionChange"],["custom-option","","value","1"],["custom-option","","value","2"],["custom-option","","value","3"],["custom-option","","value","4"],["custom-option","","value","5"],["custom-option","","value","6"],["custom-option","","value","7"],["custom-option","","value","8"],[1,"filter-time"],["custom-option","",3,"value",4,"ngFor","ngForOf"],[1,"filter-address"],[1,"filter-address-content"],[1,"address-button",3,"click"],["addressButton",""],[1,"bx","bxs-navigation"],[1,"address-bar",3,"ngClass"],["addressBar",""],[1,"address-form"],[1,"address-form-first"],["type","text",1,"address-input",3,"ngModel","ngModelChange"],["id","clearAddress",1,"bx","bx-x",3,"click"],["id","iconAddress",1,"bx","bxs-navigation"],[1,"address-form-second"],[1,"bx","bx-time-five"],[1,"horizontal-line"],[1,"address-suggest"],[1,"suggest-text"],[1,"filter-price"],[1,"filter-reset"],["href","javascript:void(0)","id","filter-icon-reset",3,"click"],[1,"filter-right"],[1,"filter-sort"],[1,"sort-tilte"],[1,"sort-content"],[1,"sort-text",3,"click"],["sortSelectButton",""],[1,"sort-menu",3,"ngClass"],["sortSelectOptions",""],[1,"sort-item",3,"click"],["href","javascript:void(0)",1,"sort-link","sort-default"],["class","bx bxs-check-circle sort-icon-checked",4,"ngIf"],["class","bx bx-circle sort-icon-unchecked",4,"ngIf"],["href","javascript:void(0)",1,"sort-link"],["custom-option","",3,"value"],[1,"bx","bxs-check-circle","sort-icon-checked"],[1,"bx","bx-circle","sort-icon-unchecked"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"app-date-picker",6),J("selectedDateChange",function(s){return i.selectedDateY=s}),y()(),_(7,"div",7)(8,"app-custom-select",8),J("selectedOptionChange",function(s){return i.selectedOptionTL=s}),_(9,"option",9),w(10,"1 gi\u1edd"),y(),_(11,"option",10),w(12,"2 gi\u1edd"),y(),_(13,"option",11),w(14,"3 gi\u1edd"),y(),_(15,"option",12),w(16,"4 gi\u1edd"),y(),_(17,"option",13),w(18,"5 gi\u1edd"),y(),_(19,"option",14),w(20,"6 gi\u1edd"),y(),_(21,"option",15),w(22,"7 gi\u1edd"),y(),_(23,"option",16),w(24,"8 gi\u1edd"),y()()(),_(25,"div",17)(26,"app-custom-select",8),J("selectedOptionChange",function(s){return i.selectedOptionTime=s}),Fe(27,Ahe,2,2,"option",18),y()(),_(28,"div",19)(29,"div",20)(30,"div",21,22),J("click",function(){return i.toggleAddress()}),T(32,"i",23),_(33,"span"),w(34),y()(),_(35,"div",24,25)(37,"div",26)(38,"div",27)(39,"input",28),J("ngModelChange",function(s){return i.addressValue=s}),y(),_(40,"i",29),J("click",function(){return i.clearAddress()}),y(),T(41,"i",30),y(),_(42,"div",31),T(43,"i",32),w(44," H\u1ed3 T\xe2y, H\xe0 N\u1ed9i "),y()(),T(45,"div",33),_(46,"div",34)(47,"p",35),T(48,"i",23),w(49," C\xf4ng vi\xean Y\xean S\u1edf, Ho\xe0ng Mai, H\xe0 N\u1ed9i "),y(),_(50,"p",35),T(51,"i",23),w(52," C\xf4ng vi\xean Th\u1ed1ng Nh\u1ea5t, H\xe0 N\u1ed9i "),y(),_(53,"p",35),T(54,"i",23),w(55," Ph\u1ed1 \u0111i b\u1ed9 Nguy\u1ec5n Hu\u1ec7, H\u1ed3 Ch\xed Minh "),y(),_(56,"p",35),T(57,"i",23),w(58," H\u1ed3 H\xf2a Trung, \u0110\xe0 N\u1eb5ng "),y()()()()(),_(59,"div",36)(60,"app-custom-select",8),J("selectedOptionChange",function(s){return i.selectedOptionPrice=s}),_(61,"option",9),w(62,"D\u01b0\u1edbi 300.000 VN\u0110"),y(),_(63,"option",10),w(64,"300.000 - 500.000 VN\u0110"),y(),_(65,"option",11),w(66,"500.000 - 800.000 VN\u0110"),y(),_(67,"option",12),w(68,"800.000 - 1200.000 VN\u0110"),y(),_(69,"option",13),w(70,"Tr\xean 1200.000 VN\u0110"),y()()(),_(71,"div",37)(72,"a",38),J("click",function(){return i.resetFilter()}),w(73," C\xe0i l\u1ea1i "),y()()()(),_(74,"div",39)(75,"div",40)(76,"div",41)(77,"span"),w(78,"S\u1eafp x\u1ebfp theo"),y()(),_(79,"div",42)(80,"div",43,44),J("click",function(){return i.toggleSort()}),_(82,"span"),w(83),y()(),_(84,"div",45,46)(86,"li",47),J("click",function(){return i.checked(0,"M\u1eb7c \u0111\u1ecbnh")}),_(87,"a",48),Fe(88,Dhe,1,0,"i",49),Fe(89,She,1,0,"i",50),w(90," M\u1eb7c \u0111\u1ecbnh "),y()(),_(91,"li",47),J("click",function(){return i.checked(1,"Gi\xe1 : Th\u1ea5p - Cao")}),_(92,"a",51),Fe(93,Rhe,1,0,"i",49),Fe(94,xhe,1,0,"i",50),w(95," Gi\xe1 : Th\u1ea5p - Cao "),y()(),_(96,"li",47),J("click",function(){return i.checked(2,"Gi\xe1: Cao - Th\u1ea5p")}),_(97,"a",51),Fe(98,khe,1,0,"i",49),Fe(99,Nhe,1,0,"i",50),w(100," Gi\xe1: Cao - Th\u1ea5p "),y()(),_(101,"li",47),J("click",function(){return i.checked(3,"\u0110\xe1nh gi\xe1 : Th\u1ea5p - Cao")}),_(102,"a",51),Fe(103,Fhe,1,0,"i",49),Fe(104,Lhe,1,0,"i",50),w(105," \u0110\xe1nh gi\xe1 : Th\u1ea5p - Cao "),y()(),_(106,"li",47),J("click",function(){return i.checked(4,"\u0110\xe1nh gi\xe1 : Cao - Th\u1ea5p")}),_(107,"a",51),Fe(108,Vhe,1,0,"i",49),Fe(109,Uhe,1,0,"i",50),w(110," \u0110\xe1nh gi\xe1 : Cao - Th\u1ea5p "),y()()()()()()()()()),2&r&&(F(6),ie("selectedDate",i.selectedDateY)("textDefault","Ng\xe0y"),F(2),ie("selectedOption",i.selectedOptionTL)("textDefault","Th\u1eddi l\u01b0\u1ee3ng"),F(18),ie("selectedOption",i.selectedOptionTime)("textDefault","Th\u1eddi gian"),F(1),ie("ngForOf",i.timeOptions),F(7),et(i.addressValue||"\u0110\u1ecba \u0111i\u1ec3m ch\u1ee5p \u1ea3nh"),F(1),ie("ngClass",yo(24,H9,i.isShowAddressBar)),F(4),ie("ngModel",i.addressValue),F(21),ie("selectedOption",i.selectedOptionPrice)("textDefault","Gi\xe1"),F(23),et(i.checkedSortText||"M\u1eb7c \u0111\u1ecbnh"),F(1),ie("ngClass",yo(26,H9,i.isShowSortMenu)),F(4),ie("ngIf",!i.checkedSortValue||0===i.checkedSortValue),F(1),ie("ngIf",i.checkedSortValue&&0!==i.checkedSortValue),F(4),ie("ngIf",i.checkedSortValue&&1===i.checkedSortValue),F(1),ie("ngIf",!i.checkedSortValue||1!==i.checkedSortValue),F(4),ie("ngIf",i.checkedSortValue&&2===i.checkedSortValue),F(1),ie("ngIf",!i.checkedSortValue||2!==i.checkedSortValue),F(4),ie("ngIf",i.checkedSortValue&&3===i.checkedSortValue),F(1),ie("ngIf",!i.checkedSortValue||3!==i.checkedSortValue),F(4),ie("ngIf",i.checkedSortValue&&4===i.checkedSortValue),F(1),ie("ngIf",!i.checkedSortValue||4!==i.checkedSortValue))},dependencies:[vs,Cs,wo,Y0,Q0,pl,qu,_l,qT,KT],styles:['.filter-left[_ngcontent-%COMP%]{width:calc(100% - 350px)}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(6,1fr);gap:.5rem}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]{position:relative;min-width:12rem}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-button[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;padding:8px 12px;border:1px solid var(--color-primary);border-radius:4px;background-color:var(--color-light);display:flex;justify-content:flex-start;column-gap:.75rem;align-items:center;color:var(--color-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]{position:absolute;top:calc(100% + .3rem);left:0%;min-width:13rem;background-color:var(--color-bg-body);box-shadow:0 2px 5px #0003;border-radius:.3rem;padding:.5rem 1.5rem;z-index:1;display:none}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]{margin-top:1.5rem;width:100%;display:flex;flex-direction:column}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]   .address-form-first[_ngcontent-%COMP%]{position:relative}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]   .address-form-first[_ngcontent-%COMP%]   .address-input[_ngcontent-%COMP%]{width:100%;padding:10px 1.25rem 10px 1.5rem;outline:none;border:1px solid var(--color-primary);color:var(--color-primary);border-radius:.3rem}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]   .address-form-first[_ngcontent-%COMP%]   #iconAddress[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);left:.3rem}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]   .address-form-first[_ngcontent-%COMP%]   #clearAddress[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);right:.3rem;cursor:pointer;border-radius:50%}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]   .address-form-first[_ngcontent-%COMP%]   #clearAddress[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]   .address-form-second[_ngcontent-%COMP%]{padding:8px 0;display:flex;justify-content:flex-start;column-gap:.75rem;align-items:center;color:var(--color-primary);font-size:14px}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .horizontal-line[_ngcontent-%COMP%]{height:2px;background-color:#e6e6e6;margin:.1rem 0}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-suggest[_ngcontent-%COMP%]{margin-top:.5rem}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-suggest[_ngcontent-%COMP%]   .suggest-text[_ngcontent-%COMP%]{margin:5px 0!important;font-size:14px}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar.show[_ngcontent-%COMP%]{display:block!important}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-reset[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-reset[_ngcontent-%COMP%]   #filter-icon-reset[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;text-decoration:none;color:var(--color-primary);font-size:18px;border-radius:.3rem;padding:0 1.5rem;background-color:var(--color-secondary);text-wrap:nowrap}@media (max-width: 1400px){.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)!important}}@media (max-width: 1200px){.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)!important}}@media (max-width: 991.98px){.filter-left[_ngcontent-%COMP%]{width:100%;order:2}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)!important}}@media (max-width: 600px){.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 470px){.filter-left[_ngcontent-%COMP%]{width:200px}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-reset[_ngcontent-%COMP%]   #filter-icon-reset[_ngcontent-%COMP%]{padding:.5rem 1.5rem}}.filter-right[_ngcontent-%COMP%]{min-width:350px}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:8px}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-tilte[_ngcontent-%COMP%]{text-wrap:nowrap;margin-right:1rem;color:var(--color-primary)}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]{position:relative}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-text[_ngcontent-%COMP%]{min-width:200px;font-weight:700;color:var(--color-primary);cursor:pointer}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;display:inline-block}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;bottom:-.25rem;width:100%;height:2px;background-color:#000;transition:all .3s ease}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-text[_ngcontent-%COMP%]   span.active[_ngcontent-%COMP%]:after{width:0}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]{position:absolute;top:calc(100% + .3rem);right:10%;min-width:13rem;background-color:var(--color-bg-body);box-shadow:0 2px 5px #0003;border-radius:.3rem;padding:.5rem 0;z-index:2;display:none}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]   .sort-item[_ngcontent-%COMP%]{list-style:none;display:block;padding-left:1rem}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]   .sort-item[_ngcontent-%COMP%]   .sort-link[_ngcontent-%COMP%]{color:var(--color-primary);display:block;text-decoration:none;text-align:center;line-height:2.5rem;display:flex;flex-wrap:nowrap;align-items:center}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]   .sort-item[_ngcontent-%COMP%]   .sort-link[_ngcontent-%COMP%]   .sort-icon-checked[_ngcontent-%COMP%], .filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]   .sort-item[_ngcontent-%COMP%]   .sort-link[_ngcontent-%COMP%]   .sort-icon-unchecked[_ngcontent-%COMP%]{margin-bottom:3px;margin-right:.5rem}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]   .sort-item[_ngcontent-%COMP%]:hover{background-color:#f6f6f6}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu.show[_ngcontent-%COMP%]{display:block!important}@media (max-width: 991.98px){.filter-right[_ngcontent-%COMP%]{order:1;min-width:auto;width:100%;margin-bottom:2rem}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]{justify-content:flex-start}}.layout-filter[_ngcontent-%COMP%]{margin-top:5.57rem}.layout-filter[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]{width:100%;margin:0 auto}.layout-filter[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   .filter-content[_ngcontent-%COMP%]{padding:2.5rem;display:flex;justify-content:space-between}@media (min-width: 1400px){.filter-container[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.layout-filter[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   .filter-content[_ngcontent-%COMP%]{flex-direction:column}}']}),e})(),z9=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=xt({type:t,selectors:[["app-layout-shop"]],decls:8,vars:0,consts:[[1,"layout-wrapper"],[1,"layout-container"],[1,"content-wrapper"],[1,"content-container"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1),T(2,"app-header")(3,"app-filter-bar"),_(4,"div",2)(5,"div",3),T(6,"router-outlet"),y()(),T(7,"app-footer"),y()())},dependencies:[el,ZT,YT,Bhe],styles:[".layout-wrapper[_ngcontent-%COMP%], .layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%], .layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{width:100%}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{width:100%;margin:0 auto}@media (min-width: 1400px){.content-container[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.content-container[_ngcontent-%COMP%]{margin-top:5rem!important}}"]}),e})(),QT=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=xt({type:t,selectors:[["app-layout-auth"]],decls:3,vars:0,consts:[[1,"layout-auth"],[1,"auth-wrapper"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1),T(2,"router-outlet"),y()())},dependencies:[el],styles:[".layout-auth[_ngcontent-%COMP%]{width:100%;height:100%}"]}),e})(),G9=(()=>{var t;class e{constructor(r){this.el=r}onInputChange(r){const i=this.el.nativeElement.value,o=i.replace(/[^0-9]/g,"");i!==o&&(this.el.nativeElement.value=o,r.preventDefault())}}return(t=e).\u0275fac=function(r){return new(r||t)(X(Ri))},t.\u0275dir=Ve({type:t,selectors:[["","appOnlyNumbers",""]],hostBindings:function(r,i){1&r&&J("input",function(s){return i.onInputChange(s)})}}),e})();function jhe(t,e){1&t&&(_(0,"span",24),w(1,"Vui l\xf2ng nh\u1eadp t\xean."),y())}function $he(t,e){1&t&&(_(0,"span",24),w(1,"Vui l\xf2ng nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i h\u1ee3p l\u1ec7."),y())}function Hhe(t,e){1&t&&(_(0,"span",24),w(1,"Vui l\xf2ng nh\u1eadp email h\u1ee3p l\u1ec7."),y())}function zhe(t,e){1&t&&(_(0,"span",24),w(1,"Vui l\xf2ng nh\u1eadp \u0111i\u0323a chi\u0309 h\u1ee3p l\u1ec7."),y())}let Ghe=(()=>{var t;class e{constructor(r){this.orderService=r,this.invalidEmail=!1,this.invalidPhone=!1,this.invalidName=!1,this.invalidAddress=!1,this.email="",this.phone="",this.name="",this.address="",this.messageText="",this.isSuccess=!0}onChangeName(r){this.name=r.target.value,this.validateName()}onChangePhone(r){this.phone=r.target.value,this.validatePhone()}onChangeEmail(r){this.email=r.target.value,this.validateEmail()}onChangeAddress(r){this.address=r.target.value,this.validateAddress()}onSubmit(){var r=this;return(0,x.Z)(function*(){if(r.validateName()&&r.validatePhone()&&r.validateEmail()&&r.validateAddress()){const a=localStorage.getItem("order_id");if(a){const c=parseInt(a,10);var i=yield r.orderService.getOrderById(c);if(i){i.cust_name=r.name,i.cust_email=r.email,i.cust_phone=r.phone,i.address=r.address,i.status="cho_duyet";var o=yield r.orderService.generateUniqueOrderCode();i.code=o.toString(),(yield r.orderService.updateOrder(i))?(r.isSuccess=!0,r.messageText="Th\xe0nh c\xf4ng."):(r.messageText="Th\u1ea5t b\u1ea1i.",r.isSuccess=!1)}else r.messageText="Th\u1ea5t b\u1ea1i.",r.isSuccess=!1;localStorage.removeItem("order_id")}else r.messageText="Th\u1ea5t b\u1ea1i.",r.isSuccess=!1}else r.validateName(),r.validatePhone(),r.validateEmail(),r.validateAddress()})()}validateName(){return this.invalidName=this.name.length<1,!this.invalidName}validateAddress(){return this.invalidAddress=this.address.length<1,!this.invalidAddress}validatePhone(){const i=/^0[0-9]{9,10}$/.test(this.phone);return this.invalidPhone=!i,i}validateEmail(){const i=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(this.email);return this.invalidEmail=!i,i}}return(t=e).\u0275fac=function(r){return new(r||t)(X(__))},t.\u0275cmp=xt({type:t,selectors:[["app-send-contact"]],decls:38,vars:6,consts:[[1,"send-ct-wrapper"],[1,"send-ct-container"],[1,"send-ct-header"],[1,"go-home"],["routerLink","/home",1,"go-home-link"],[1,"bx","bxs-chevron-left"],[1,"brand"],["routerLink","/home",1,"brand-link"],["src","./assets/images/logo2.png","alt","logo",1,"brand-image"],[1,"send-ct-title"],[1,"message",3,"ngClass"],[1,"send-ct-content"],[3,"ngSubmit"],[1,"form-group"],["for","fullname"],["type","text","id","fullname","name","fullname","required","","placeholder","Nguyen Quang Nam",3,"input"],["class","validate-message",4,"ngIf"],["for","phone"],["type","text","id","phone","name","phone","required","","placeholder","0123456789","appOnlyNumbers","",3,"input"],["for","username"],["type","text","id","username","name","username","required","","placeholder","quang@gmail.com",3,"input"],["for","address"],["type","text","id","address","name","address","required","","placeholder","",3,"input"],["type","submit"],[1,"validate-message"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),T(5,"i",5),w(6," Trang ch\u1ee7 "),y()(),_(7,"div",6)(8,"a",7),T(9,"img",8),y()(),_(10,"h3",9),w(11," Vui l\xf2ng \u0111\u1ec3 l\u1ea1i th\xf4ng tin li\xean h\u1ec7. "),y()(),_(12,"div",10),w(13),y(),_(14,"div",11)(15,"form",12),J("ngSubmit",function(){return i.onSubmit()}),_(16,"div",13)(17,"label",14),w(18,"H\u1ecd v\xe0 t\xean"),y(),_(19,"input",15),J("input",function(s){return i.onChangeName(s)}),y(),Fe(20,jhe,2,0,"span",16),y(),_(21,"div",13)(22,"label",17),w(23,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),y(),_(24,"input",18),J("input",function(s){return i.onChangePhone(s)}),y(),Fe(25,$he,2,0,"span",16),y(),_(26,"div",13)(27,"label",19),w(28,"Email"),y(),_(29,"input",20),J("input",function(s){return i.onChangeEmail(s)}),y(),Fe(30,Hhe,2,0,"span",16),y(),_(31,"div",13)(32,"label",21),w(33,"\u0110i\u0323a chi\u0309 chu\u0323p a\u0309nh"),y(),_(34,"input",22),J("input",function(s){return i.onChangeAddress(s)}),y(),Fe(35,zhe,2,0,"span",16),y(),_(36,"button",23),w(37,"G\u1eedi"),y()()()()()),2&r&&(F(12),ie("ngClass",i.isSuccess?"success":"error"),F(1),Lt(" ",i.messageText," "),F(7),ie("ngIf",i.invalidName),F(5),ie("ngIf",i.invalidPhone),F(5),ie("ngIf",i.invalidEmail),F(5),ie("ngIf",i.invalidAddress))},dependencies:[vs,wo,Zr,O_,C_,Ku,G9],styles:[".send-ct-wrapper[_ngcontent-%COMP%]{width:100%;margin:0 auto;min-height:500px;min-height:100vh;padding:2rem;background-image:url(/assets/images/banner.jpg);background-size:cover;background-repeat:no-repeat;background-position:center}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]{padding:2rem;border-radius:.5rem;width:700px;margin:auto;min-height:calc(100vh - 4rem);height:100%;background-color:#ffffffa8;box-shadow:0 0 10px #0000004d}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem;position:relative}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{position:absolute;top:0rem;left:0rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]   .go-home-link[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;text-decoration:none;color:var(--color-primary);font-weight:700;position:relative}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .send-ct-title[_ngcontent-%COMP%]{text-align:center;color:var(--color-primary);font-size:32px;font-weight:700}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{display:flex;justify-content:center}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]   .brand-image[_ngcontent-%COMP%]{width:5rem;height:5rem;object-fit:cover}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin-bottom:1rem;font-weight:600}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .message.error[_ngcontent-%COMP%]{color:red}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .message.success[_ngcontent-%COMP%]{color:green}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:15px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:gray;font-weight:600;font-size:18px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 10px;border:2px solid gray;border-radius:5px;background-color:transparent;outline:none}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--color-primary)}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{width:100%;font-size:14px;color:#ff1818}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 auto;margin-top:3rem;display:block;padding:15px 25px;background-color:var(--color-primary);color:#fff;border:none;border-radius:5px;font-size:20px;cursor:pointer}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}@media (max-width: 767.98px){.send-ct-wrapper[_ngcontent-%COMP%]{width:100%!important;padding:1rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]{width:100%;min-height:calc(100vh - 2rem)}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{position:absolute;top:-.5rem;left:-1rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .send-ct-title[_ngcontent-%COMP%]{font-size:26px!important}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{padding-top:1rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{font-size:12px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2rem;padding:10px 15px;font-size:20px!important}}"]}),e})();function Whe(t,e){if(1&t&&(_(0,"div",124),w(1),y()),2&t){const n=Mn();F(1),Lt(" ",n.errorMessage," ")}}function qhe(t,e){if(1&t&&(_(0,"option",126),w(1),y()),2&t){const n=e.$implicit;ie("value",n.id),F(1),Lt(" ",n.name," ")}}function Khe(t,e){if(1&t){const n=Ji();Hh(0),_(1,"app-custom-select",103),J("selectedOptionChange",function(i){return wr(n),Qn(Mn().onOptionTypeChange(i))})("selectedOptionChange",function(i){return wr(n),Qn(Mn().selectedOptionType=i)}),Fe(2,qhe,2,2,"option",125),y(),zh()}if(2&t){const n=Mn();F(1),ie("selectedOption",n.selectedOptionType)("textDefault","Ch\u1ecdn lo\u1ea1i ch\u1ee5p"),F(1),ie("ngForOf",n.typeOfPhoto)}}function Zhe(t,e){if(1&t&&(Hh(0),_(1,"p",127),w(2),_(3,"span"),w(4),y()(),zh()),2&t){const n=Mn();F(2),Lt(" ",n.costPreview," "),F(2),Lt("/",""!==n.selectedOptionTLVal&&""!==n.selectedOptionTypeVal?n.selectedOptionTLVal:1," ti\u1ebfng")}}let Yhe=(()=>{var t;class e{constructor(r,i,o,s){this.router=r,this.route=i,this.orderService=o,this.userInfoDTOService=s,this.userData=null,this.selectedDateU="",this.selectedOptionTL="",this.selectedOptionType="",this.errorMessage="",this.isError=!1,this.dateVal="",this.selectedOptionTLVal="",this.selectedOptionTypeVal="",this.setTimeVal="",this.partnerId=0,this.isShowOrder=!1,this.typeOfPhoto=[],this.costPreview=3e5,this.route.params.subscribe(a=>{const c=a.id;c?this.partnerId=parseInt(c,10):console.error("ID not found in URL")})}ngOnInit(){this.route.params.subscribe(r=>{const i=r.id;if(i){const o=parseInt(i,10);this.loadUserInfoData(o)}else console.error("ID not found in URL")})}loadUserInfoData(r){this.userInfoDTOService.getUserInfoDTOsById(r).subscribe(i=>{this.userData=i,this.typeOfPhoto=this.userData?.userInfo.typeOfPhoto||[]},i=>{console.error("Error loading user info:",i)})}onDateChange(r){this.dateVal=r}onOptionTLChange(r){this.selectedOptionTLVal=r,console.log(r);var i=parseInt(this.selectedOptionTLVal,10);if(""!==this.selectedOptionTypeVal){var o=parseInt(this.selectedOptionTypeVal,10);const a=this.typeOfPhoto.find(c=>c.id===o);if(a){var s=parseInt(a.cost,10);this.costPreview=s*i}}}onOptionTypeChange(r){this.selectedOptionTypeVal=r;const i=parseInt(r.trim(),10),o=this.typeOfPhoto.find(c=>c.id===i);if(o){var s=parseInt(o.cost,10);if(""!==this.selectedOptionTLVal){var a=parseInt(this.selectedOptionTLVal,10);this.costPreview=s*a}else this.costPreview=s}}onSubmit(){var r=this;return(0,x.Z)(function*(){if(r.isError=!1,r.selectedDateU&&r.selectedOptionTL&&r.selectedOptionType){if(0!==r.partnerId){console.log("true");const o=parseInt(r.selectedOptionTLVal,10)*r.costPreview,s=r.typeOfPhoto.find(c=>c.id==parseInt(r.selectedOptionTLVal))?.name,a={id:0,order_date:r.dateVal,time:r.selectedOptionTLVal,appoi_time:r.setTimeVal,shooting_type:s||"",partner_id:r.partnerId,cust_name:"",cust_email:"",cust_phone:"",code:"",status:"chua_dien_tt",address:"",price:o.toString(),link_down:""};var i=yield r.orderService.createOrder(a);i&&(localStorage.setItem("order_id",i.id.toString()),r.router.navigate(["/contact"]))}}else r.errorMessage="Vui l\xf2ng \u0111i\u1ec1n \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin",r.isError=!0,console.log(r.dateVal),console.log(r.setTimeVal)})()}showOrder(){this.isShowOrder=!0}hideOrder(){this.isShowOrder=!1}}return(t=e).\u0275fac=function(r){return new(r||t)(X(hi),X(Jc),X(__),X(k0))},t.\u0275cmp=xt({type:t,selectors:[["app-profile"]],decls:255,vars:16,consts:[[1,"profile-content"],[1,"wall-wrapper"],[1,"wall-content"],[1,"wall1"],[1,"wall1-1"],["src","./assets/images/profile/pf1.jpg","alt",""],[1,"wall1-2"],["src","./assets/images/profile/pf2.jpg","alt",""],[1,"wall2"],["src","./assets/images/profile/pf3.jpg","alt",""],[1,"wall3"],[1,"wall3-1"],["src","./assets/images/profile/pf4.jpg","alt",""],[1,"wall3-2"],["src","./assets/images/profile/pf5.jpg","alt",""],[1,"wall4"],["src","./assets/images/profile/pf6.jpg","alt",""],[1,"wall5"],[1,"wall5-1"],["src","./assets/images/profile/pf7.jpg","alt",""],[1,"wall5-2"],["src","./assets/images/profile/pf8.jpg","alt",""],[1,"content-wrapper"],[1,"forMe-wrapper"],[1,"forMe-content"],[1,"avatar-wrapper"],[1,"avatar"],["alt","",1,"avatar-image",3,"src"],[1,"des-forMe-wrapper"],[1,"des-forMe-name"],[1,"des-forMe-address"],[1,"des-forMe-rate"],[1,"rate-star"],["src","./assets/images/icons/star-fill.png","alt",""],[1,"rate-text"],[1,"des-forMe-exp"],[1,"info-wrapper"],[1,"infor-title-list"],[1,"title-list"],[1,"it-item"],["href","javascript:void(0)",1,"it-link"],[1,"deliver-line"],[1,"infor-content-list"],[1,"ic-item"],[1,"text-description"],[1,"prize"],[1,"prize-title"],[1,"interest"],[1,"interest-title"],[1,"feature-wrapper"],[1,"feature-title"],[1,"feature-content"],[1,"language"],[1,"language-title"],["src","./assets/images/icons/translate.png","alt",""],[1,"camera"],[1,"camera-title"],["src","./assets/images/icons/camera.png","alt",""],[1,"portfolio"],[1,"portfolio-title"],[1,"portfolio-content"],[1,"portfolio-item"],["routerLink","/collection"],[1,"it-header"],["src","./assets/images/profile/op1.jpg","alt",""],[1,"it-footer"],[1,"it-cate"],[1,"it-count-picture"],["src","./assets/images/profile/op2.jpg","alt",""],["src","./assets/images/profile/op3.jpg","alt",""],["src","./assets/images/profile/op4.jpg","alt",""],[1,"appraise"],[1,"appraise-title"],[1,"rate"],[1,"appraise-content"],[1,"appraise-item"],[1,"ai-header"],[1,"header-avatar"],["src","./assets/images/avatar/avatar1.jpeg","alt",""],[1,"header-name"],[1,"ai-comment"],[1,"how-it-works"],[1,"hiw-title"],[1,"hiw-content"],[1,"hiw-item"],[1,"item-title"],[1,"title-icon"],[1,"bx","bx-calendar-check"],[1,"title-text"],[1,"item-content"],[1,"content-deliver"],[1,"content-text"],[1,"bx","bxs-camera"],[1,"bx","bx-happy-alt"],[1,"order-wrapper",3,"ngClass"],[1,"order-container"],["class","mess-valid",4,"ngIf"],[1,"order-content"],[1,"filter-date-picker"],["for","ngay-chup"],[3,"selectedDate","textDefault","selectedDateChange"],[1,"filter-tl"],["for","thoi-luong"],[3,"selectedOption","textDefault","selectedOptionChange"],["custom-option","","value","1"],["custom-option","","value","2"],["custom-option","","value","3"],["custom-option","","value","4"],["custom-option","","value","5"],["custom-option","","value","6"],["custom-option","","value","7"],["custom-option","","value","8"],[1,"set-time"],["for","gio-hen"],["type","time","id","gio-hen","name","gio-hen","required","",3,"ngModel","ngModelChange"],[1,"filter-type"],[4,"ngIf"],["href","javascript:void(0)",3,"click"],[1,"sug-foot"],[1,"bx","bx-check"],[1,"btn-close-order",3,"click"],[1,"bx","bx-x"],[1,"toggle-order-wrapper",3,"ngClass","click"],[1,"bx","bx-plus-circle"],[1,"mess-valid"],["custom-option","",3,"value",4,"ngFor","ngForOf"],["custom-option","",3,"value"],[1,"p-footer"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),T(5,"img",5),y(),_(6,"div",6),T(7,"img",7),y()(),_(8,"div",8),T(9,"img",9),y(),_(10,"div",10)(11,"div",11),T(12,"img",12),y(),_(13,"div",13),T(14,"img",14),y()(),_(15,"div",15),T(16,"img",16),y(),_(17,"div",17)(18,"div",18),T(19,"img",19),y(),_(20,"div",20),T(21,"img",21),y()()()(),_(22,"div",22)(23,"div",23)(24,"div",24)(25,"div",25)(26,"div",26),T(27,"img",27),y()(),_(28,"div",28)(29,"h2",29),w(30),y(),_(31,"p",30),w(32," Ba \u0110\xecnh, H\xe0 N\u1ed9i "),y(),_(33,"div",31)(34,"div",32),T(35,"img",33)(36,"img",33)(37,"img",33)(38,"img",33)(39,"img",33),y(),_(40,"span",34),w(41,"5.0"),y()(),_(42,"p",35),w(43,"13 n\u0103m kinh nghi\u1ec7m"),y()()()(),_(44,"div",36)(45,"div",37)(46,"div",38)(47,"li",39)(48,"a",40),w(49,"V\u1ec1 t\xf4i"),y()(),_(50,"li",39)(51,"a",40),w(52,"H\u1ed3 s\u01a1"),y()(),_(53,"li",39)(54,"a",40),w(55,"\u0110\xe1nh gi\xe1"),y()(),_(56,"li",39)(57,"a",40),w(58,"How it works"),y()()()(),T(59,"div",41),_(60,"div",42)(61,"div",43)(62,"div",44)(63,"p"),w(64),y()(),_(65,"div",45)(66,"h3",46),w(67," Gi\u1ea3i th\u01b0\u1edfng "),y(),_(68,"p"),w(69),y()(),_(70,"div",47)(71,"h3",48),w(72," \u0110i\u1ec1u th\xfa v\u1ecb v\u1ec1 t\xf4i "),y(),_(73,"p"),w(74),y()()()(),T(75,"div",41),_(76,"div",49)(77,"h3",50),w(78,"Ng\xf4n ng\u1eef & M\xe1y \u1ea3nh"),y(),_(79,"div",51)(80,"div",52)(81,"div",53),T(82,"img",54),_(83,"h3"),w(84,"Ng\xf4n ng\u1eef"),y()(),_(85,"p"),w(86,"Ti\u1ebfng Vi\u1ec7t"),y()(),_(87,"div",55)(88,"div",56),T(89,"img",57),_(90,"h3"),w(91,"M\xe1y \u1ea3nh"),y()(),_(92,"p"),w(93,"Sony A7iii, LUMIX G9, Panasonic GH5"),y()()()(),T(94,"div",41),_(95,"div",58)(96,"h3",59),w(97,"My Portfolio"),y(),_(98,"div",60)(99,"div",61)(100,"a",62)(101,"div",63),T(102,"img",64),y(),_(103,"div",65)(104,"h3",66),w(105,"LookBook"),y(),_(106,"span",67),w(107,"30"),y()()()(),_(108,"div",61)(109,"a",62)(110,"div",63),T(111,"img",68),y(),_(112,"div",65)(113,"h3",66),w(114,"LookBook"),y(),_(115,"span",67),w(116,"30"),y()()()(),_(117,"div",61)(118,"a",62)(119,"div",63),T(120,"img",69),y(),_(121,"div",65)(122,"h3",66),w(123,"LookBook"),y(),_(124,"span",67),w(125,"30"),y()()()(),_(126,"div",61)(127,"a",62)(128,"div",63),T(129,"img",70),y(),_(130,"div",65)(131,"h3",66),w(132,"LookBook"),y(),_(133,"span",67),w(134,"30"),y()()()()()(),T(135,"div",41),_(136,"div",71)(137,"div",72)(138,"h3"),w(139,"\u0110\xe1nh Gi\xe1"),y(),_(140,"div",73)(141,"div",32),T(142,"img",33)(143,"img",33)(144,"img",33)(145,"img",33)(146,"img",33),y(),_(147,"span",34),w(148,"5.0"),y()()(),_(149,"div",74)(150,"div",75)(151,"div",76)(152,"div",77),T(153,"img",78),y(),_(154,"span",79),w(155,"Lalisa Manoban "),y()(),_(156,"div",80)(157,"p"),w(158,"Kh\xf4ng c\xf2n nghi ng\u1edd g\xec n\u1eefa, \u0111\xe2y l\xe0 m\u1ed9t trong nh\u1eefng nhi\u1ebfp \u1ea3nh gia tuy\u1ec7t v\u1eddi nh\u1ea5t v\xe0 c\xf3 k\u1ef9 n\u0103ng ch\u1ee5p \u1ea3nh \u0111a d\u1ea1ng! T\xf4i th\u01b0\u1eddng kh\xf4ng \u0111\u0103ng \u0111\xe1nh gi\xe1 nh\u01b0ng c\xf4ng vi\u1ec7c \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n b\u1edfi nhi\u1ebfp \u1ea3nh gia Ph\u1ea1m Vi\u1ec7t C\u01b0\u1eddng x\u1ee9ng \u0111\xe1ng v\xe0 h\u01a1n th\u1ebf n\u1eefa! T\xf4i v\xe0 YG s\u1ebd ti\u1ebfp t\u1ee5c l\xe0m nhi\u1ec1u vi\u1ec7c h\u01a1n v\u1edbi anh \u1ea5y!!"),y()()()()(),T(159,"div",41),_(160,"div",81)(161,"h3",82),w(162,"How it Works"),y(),_(163,"div",83)(164,"div",84)(165,"div",85)(166,"div",86),T(167,"i",87),y(),_(168,"h3",88),w(169,"Book."),y()(),_(170,"div",89)(171,"div",90),T(172,"p"),y(),_(173,"div",91)(174,"p"),w(175,"Nhanh ch\xf3ng t\xecm th\u1ea5y m\u1ed9t nhi\u1ebfp \u1ea3nh gia \u0111\u01b0\u1ee3c x\u1ebfp h\u1ea1ng h\xe0ng \u0111\u1ea7u g\u1ea7n b\u1ea1n. \u0110\u1eb7t ch\u1ed7 ph\xf9 h\u1ee3p cho kho\u1ea3nh kh\u1eafc \u0111\u1eb7c bi\u1ec7t c\u1ee7a b\u1ea1n ch\u1ec9 b\u1eb1ng v\xe0i c\xfa nh\u1ea5p chu\u1ed9t \u0111\u01a1n gi\u1ea3n."),y()()()(),_(176,"div",84)(177,"div",85)(178,"div",86),T(179,"i",92),y(),_(180,"h3",88),w(181,"Sheet."),y()(),_(182,"div",89)(183,"div",90),T(184,"p"),y(),_(185,"div",91)(186,"p"),w(187,"H\xe3y th\u01b0 gi\xe3n v\xe0 t\u1eadn h\u01b0\u1edfng kho\u1ea3nh kh\u1eafc khi m\u1ed9t nhi\u1ebfp \u1ea3nh gia gi\xe0u kinh nghi\u1ec7m ch\u1ee5p \u1ea3nh cho b\u1ea1n. H\u1ecd s\u1ebd ch\u0103m s\xf3c t\u1ea5t c\u1ea3 c\xe1c chi ti\u1ebft."),y()()()(),_(188,"div",84)(189,"div",85)(190,"div",86),T(191,"i",93),y(),_(192,"h3",88),w(193,"Enjoy!."),y()(),_(194,"div",89),T(195,"div",90),_(196,"div",91)(197,"p"),w(198," Trong v\xf2ng 2 ng\xe0y l\xe0m vi\u1ec7c k\u1ec3 t\u1eeb ng\xe0y ch\u1ee5p \u1ea3nh, b\u1ea1n s\u1ebd c\xf3 th\u1ec3 xem, t\u1ea3i xu\u1ed1ng v\xe0 chia s\u1ebb. T\u1eadn h\u01b0\u1edfng t\u1ea5t c\u1ea3 m\u1ed9t l\u1ea7n n\u1eefa v\xe0 m\u1ed9t l\u1ea7n n\u1eefa. "),y()()()()()()()(),_(199,"div",94)(200,"div",95)(201,"h4"),w(202,"\u0110\u1eb7t l\u1ecbch ch\u1ee5p t\u1ef1 \u0111\u1ed9ng"),y(),Fe(203,Whe,2,1,"div",96),_(204,"div",97)(205,"div",98)(206,"label",99),w(207,"Ng\xe0y ch\u1ee5p:"),y(),_(208,"app-date-picker",100),J("selectedDateChange",function(s){return i.onDateChange(s)})("selectedDateChange",function(s){return i.selectedDateU=s}),y()(),_(209,"div",101)(210,"label",102),w(211,"Th\u1eddi l\u01b0\u1ee3ng (gi\u1edd):"),y(),_(212,"app-custom-select",103),J("selectedOptionChange",function(s){return i.onOptionTLChange(s)})("selectedOptionChange",function(s){return i.selectedOptionTL=s}),_(213,"option",104),w(214,"1 gi\u1edd"),y(),_(215,"option",105),w(216,"2 gi\u1edd"),y(),_(217,"option",106),w(218,"3 gi\u1edd"),y(),_(219,"option",107),w(220,"4 gi\u1edd"),y(),_(221,"option",108),w(222,"5 gi\u1edd"),y(),_(223,"option",109),w(224,"6 gi\u1edd"),y(),_(225,"option",110),w(226,"7 gi\u1edd"),y(),_(227,"option",111),w(228,"8 gi\u1edd"),y()()(),_(229,"div",112)(230,"label",113),w(231,"Gi\u1edd h\u1eb9n:"),y(),_(232,"input",114),J("ngModelChange",function(s){return i.setTimeVal=s}),y()(),_(233,"div",115)(234,"label",102),w(235,"Lo\u1ea1i ch\u1ee5p"),y(),Fe(236,Khe,3,3,"ng-container",116),y(),_(237,"a",117),J("click",function(){return i.onSubmit()}),w(238,"\u0110\u1eb7t l\u1ecbch"),y(),T(239,"div",41),Fe(240,Zhe,5,2,"ng-container",116),T(241,"div",41),_(242,"span",118),T(243,"i",119),w(244," 15 \u1ea3nh c\xf3 \u0111\u1ed9 ph\xe2n gi\u1ea3i cao \u1edf \u0111\u1ecbnh d\u1ea1ng JPEG "),y(),_(245,"span",118),T(246,"i",119),w(247," \u0110\xe3 ch\u1ec9nh s\u1eeda v\xe0 ch\u1ec9nh m\xe0u "),y(),_(248,"span",118),T(249,"i",119),w(250," Giao h\xe0ng sau 2 ng\xe0y l\xe0m vi\u1ec7c "),y()()(),_(251,"div",120),J("click",function(){return i.hideOrder()}),T(252,"i",121),y()(),_(253,"div",122),J("click",function(){return i.showOrder()}),T(254,"i",123),y()()),2&r&&(F(27),dm("src","./assets/images/avatar/",null==i.userData||null==i.userData.user?null:i.userData.user.avatar,"",zo),F(3),Lt(" ",null==i.userData||null==i.userData.user?null:i.userData.user.full_name," "),F(34),Lt(" ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.description," "),F(5),Lt(" ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.prize," "),F(5),Lt(" ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.interest," "),F(125),ie("ngClass",i.isShowOrder?"show":""),F(2),Wo("data-id",null==i.userData||null==i.userData.user?null:i.userData.user.id),F(2),ie("ngIf",i.isError),F(5),ie("selectedDate",i.selectedDateU)("textDefault","Ng\xe0y"),F(4),ie("selectedOption",i.selectedOptionTL)("textDefault","Th\u1eddi l\u01b0\u1ee3ng"),F(20),ie("ngModel",i.setTimeVal),F(4),ie("ngIf",i.typeOfPhoto.length>0),F(4),ie("ngIf",i.costPreview),F(13),ie("ngClass",i.isShowOrder?"hide":""))},dependencies:[vs,Cs,wo,Zr,Y0,Q0,pl,qu,I_,_l,qT,KT],styles:['@charset "UTF-8";.forMe-wrapper[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:5rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:3rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   .avatar-image[_ngcontent-%COMP%]{height:130px;width:130px;object-fit:cover;border-radius:50%}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-name[_ngcontent-%COMP%]{margin:2px 0;color:var(--color-primary);font-weight:700;font-size:28px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-address[_ngcontent-%COMP%]{margin:4px 0;font-size:15px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-rate[_ngcontent-%COMP%]{margin:.5rem 0;display:flex;justify-content:flex-start;column-gap:.75rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:16px;width:16px;object-fit:cover}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-rate[_ngcontent-%COMP%]   .rate-text[_ngcontent-%COMP%]{font-size:15px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-exp[_ngcontent-%COMP%]{margin:4px 0}.infor-title-list[_ngcontent-%COMP%]{padding-left:2rem}.infor-title-list[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:4rem;flex-wrap:wrap;row-gap:2rem}.infor-title-list[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]   .it-item[_ngcontent-%COMP%]{list-style:none;display:inline}.infor-title-list[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]   .it-item[_ngcontent-%COMP%]   .it-link[_ngcontent-%COMP%]{text-decoration:none;display:block;font-weight:700;color:var(--color-primary);font-size:20px;text-wrap:nowrap}.infor-content-list[_ngcontent-%COMP%]{padding-top:1.5rem;padding-left:2rem}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .prize[_ngcontent-%COMP%]   .prize-title[_ngcontent-%COMP%]{color:var(--color-primary);font-size:20px;font-weight:700}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .interest[_ngcontent-%COMP%]   .interest-title[_ngcontent-%COMP%]{font-weight:700;font-size:20px;color:var(--color-primary)}.feature-wrapper[_ngcontent-%COMP%]{padding-left:2rem;padding-top:.5rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:700;font-size:20px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   .language-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   .language-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   .language-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:var(--color-primary);font-weight:700}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-left:3rem;font-size:18px;margin-top:0}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   .camera-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   .camera-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   .camera-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:var(--color-primary);font-weight:700}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:0;padding-left:3rem;font-size:18px}.portfolio[_ngcontent-%COMP%]{padding-left:2rem;padding-right:25%;padding-top:.5rem}.portfolio[_ngcontent-%COMP%]   .portfolio-title[_ngcontent-%COMP%]{font-weight:700;color:var(--color-warning)}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-auto-rows:1fr;gap:2rem}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-text-body);text-decoration:none}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   .portfolio-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:250px;object-fit:cover}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   .it-footer[_ngcontent-%COMP%]   .it-cate[_ngcontent-%COMP%]{font-size:20px;margin-bottom:10px}.appraise[_ngcontent-%COMP%]{padding-left:2rem;padding-top:.5rem}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--color-warning);font-weight:700}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;column-gap:.5rem}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:15px;width:15px;object-fit:cover}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   .rate-text[_ngcontent-%COMP%]{font-weight:700}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:.75rem}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]   .header-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;object-fit:cover}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]   .header-name[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:700}.how-it-works[_ngcontent-%COMP%]{padding-left:1.5rem;padding-top:.5rem}.how-it-works[_ngcontent-%COMP%]   .hiw-title[_ngcontent-%COMP%]{color:var(--color-warning);font-weight:700}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;flex-direction:column}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{font-size:30px;color:var(--color-primary)}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]   .title-text[_ngcontent-%COMP%]{margin:8px 0;font-size:20px;font-weight:700;color:var(--color-primary)}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:2rem;align-items:center;height:100%}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .content-deliver[_ngcontent-%COMP%]{display:flex;justify-content:center;height:auto;width:3px;margin-left:12px;background-color:var(--color-primary)}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .content-deliver[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;height:100%}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .content-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 400px 0 4rem}.content-wrapper[_ngcontent-%COMP%]   .info-wrapper[_ngcontent-%COMP%]   .deliver-line[_ngcontent-%COMP%]{height:2px;width:100%;margin:1.5rem 0;background-color:var(--color-primary)}.order-wrapper[_ngcontent-%COMP%]{background-color:var(--color-bg-body);position:fixed;top:100px;right:50px;border-radius:.3rem;box-shadow:0 2px 5px #0003;z-index:600}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]{width:300px;min-height:500px;max-height:calc(100vh - 100px);padding:20px;overflow-y:auto}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--color-light)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--color-secondary);border-radius:4px;border:2px solid var(--color-light)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;color:#333;font-size:20px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .mess-valid[_ngcontent-%COMP%]{font-size:14px;color:red}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .filter-date-picker[_ngcontent-%COMP%]{z-index:999}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;margin-top:.5rem}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%], .order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   input[type=time][_ngcontent-%COMP%], .order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:4px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:10px 15px;border:none;border-radius:4px;text-decoration:none;margin-top:1rem;text-align:center}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#0056b3}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .deliver-line[_ngcontent-%COMP%]{height:2px;width:100%;margin:1rem 0;background-color:var(--color-secondary)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .p-footer[_ngcontent-%COMP%]{color:var(--color-warning);font-weight:700;margin:0;padding-left:.5rem}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .p-footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--color-text-body)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .sug-foot[_ngcontent-%COMP%]{font-size:13px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .sug-foot[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--color-warning);font-size:18px}.order-wrapper[_ngcontent-%COMP%]   .btn-close-order[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-8px;font-size:30px;color:#000;cursor:pointer;height:30px;width:30px;border-radius:50%;background-color:var(--color-secondary);display:none}.profile-content[_ngcontent-%COMP%]{position:relative;margin-top:6rem}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(9,1fr);column-gap:.3rem;height:500px}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall2[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall4[_ngcontent-%COMP%]{grid-column:span 2;height:500px}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall4[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:.3rem}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-2[_ngcontent-%COMP%]{height:calc(250px - .15rem)}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-2[_ngcontent-%COMP%]{height:calc(250px - .15rem)}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-2[_ngcontent-%COMP%]{height:calc(250px - .15rem)}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .toggle-order-wrapper[_ngcontent-%COMP%]{position:fixed;bottom:5rem;right:1rem;width:40px;height:40px;background-color:var(--color-primary);z-index:999;display:none;font-size:30px;border-radius:50%;padding-top:3.5px;padding-left:5px;color:var(--color-light)}@media (max-width: 991.98px){.order-wrapper[_ngcontent-%COMP%]{display:none}.order-wrapper.show[_ngcontent-%COMP%]{display:block}.toggle-order-wrapper[_ngcontent-%COMP%]{display:block!important}.toggle-order-wrapper.hide[_ngcontent-%COMP%]{display:none!important}.btn-close-order[_ngcontent-%COMP%]{display:block!important}.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 2rem 0!important}}@media (max-width: 767.98px){.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 2rem 0!important}.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]{flex-direction:column;row-gap:2rem}.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .info-wrapper[_ngcontent-%COMP%]   .portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}']}),e})(),W9=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=xt({type:t,selectors:[["app-layout-profile"]],decls:7,vars:0,consts:[[1,"layout-wrapper"],[1,"layout-container"],[1,"content-wrapper"],[1,"content-container"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1),T(2,"app-header"),_(3,"div",2)(4,"div",3),T(5,"router-outlet"),y()(),T(6,"app-footer"),y()())},dependencies:[el,ZT,YT],styles:[".layout-wrapper[_ngcontent-%COMP%], .layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%], .layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{width:100%}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{width:100%;margin:0 auto}@media (min-width: 1400px){.content-container[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.content-container[_ngcontent-%COMP%]{margin-top:5rem!important}}"]}),e})();function Qhe(t,e){1&t&&(_(0,"span",22),w(1,"Vui l\xf2ng nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i h\u1ee3p l\u1ec7."),y())}function Xhe(t,e){1&t&&(_(0,"span",22),w(1,"Vui l\xf2ng nh\u1eadp email h\u1ee3p l\u1ec7."),y())}function Jhe(t,e){1&t&&(_(0,"span",22),w(1,"Vui l\xf2ng nh\u1eadp 6 ky\u0301 t\u01b0\u0323."),y())}function epe(t,e){if(1&t){const n=Ji();_(0,"div",23)(1,"div",24),T(2,"i",25),w(3," B\u1ea1n kh\xf4ng c\xf3 \u1ea3nh tr\u1ea3. "),y(),_(4,"a",26),J("click",function(){return wr(n),Qn(Mn().closeError())}),w(5," Th\u1eed l\u1ea1i "),y()()}}let tpe=(()=>{var t;class e{constructor(){this.invalidEmail=!1,this.invalidPhone=!1,this.invalidCode=!1,this.isError=!1,this.email="",this.phone="",this.code=""}onChangePhone(r){let i=r.target.value;i=i.replace(/[^0-9]/g,""),this.phone=i,this.validatePhone()}onChangeEmail(r){this.email=r.target.value,this.validateEmail()}onChangeCode(r){this.code=r.target.value,this.validateCode()}onSubmit(){this.validateEmail()&&this.validatePhone()&&this.validateCode()?this.isError=!0:(this.validateEmail(),this.validatePhone(),this.validateCode())}validateEmail(){const i=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(this.email);return this.invalidEmail=!i,i}validatePhone(){const i=/^0[0-9]{9,10}$/.test(this.phone);return this.invalidPhone=!i,i}validateCode(){const r=6===this.code.length;return this.invalidCode=!r,r}closeError(){this.isError=!1}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=xt({type:t,selectors:[["app-refund-picture"]],decls:32,vars:4,consts:[[1,"send-ct-wrapper"],[1,"send-ct-container"],[1,"send-ct-header"],[1,"go-home"],["routerLink","/home",1,"go-home-link"],[1,"bx","bxs-chevron-left"],[1,"brand"],["routerLink","/home",1,"brand-link"],["src","./assets/images/logo2.png","alt","logo",1,"brand-image"],[1,"send-ct-title"],[1,"send-ct-content"],[3,"ngSubmit"],[1,"form-group"],["for","phone"],["type","text","id","phone","name","phone","required","","placeholder","0123456789","appOnlyNumbers","",3,"input"],["class","validate-message",4,"ngIf"],["for","username"],["type","text","id","username","name","username","required","","placeholder","quang@gmail.com",3,"input"],["for","code"],["type","text","id","code","name","code","required","","placeholder","xxxxxx",3,"input"],["type","submit"],["class","error",4,"ngIf"],[1,"validate-message"],[1,"error"],[1,"icon-error-wr"],[1,"bx","bx-error-circle","icon-error"],["href","javascript:void(0)",1,"close-error",3,"click"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),T(5,"i",5),w(6," Trang ch\u1ee7 "),y()(),_(7,"div",6)(8,"a",7),T(9,"img",8),y()(),_(10,"h3",9),w(11," Vui l\xf2ng \u0111i\u1ec1n th\xf4ng tin c\u1ee7a b\u1ea1n. "),y()(),_(12,"div",10)(13,"form",11),J("ngSubmit",function(){return i.onSubmit()}),_(14,"div",12)(15,"label",13),w(16,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),y(),_(17,"input",14),J("input",function(s){return i.onChangePhone(s)}),y(),Fe(18,Qhe,2,0,"span",15),y(),_(19,"div",12)(20,"label",16),w(21,"Email"),y(),_(22,"input",17),J("input",function(s){return i.onChangeEmail(s)}),y(),Fe(23,Xhe,2,0,"span",15),y(),_(24,"div",12)(25,"label",18),w(26,"Ma\u0303"),y(),_(27,"input",19),J("input",function(s){return i.onChangeCode(s)}),y(),Fe(28,Jhe,2,0,"span",15),y(),_(29,"button",20),w(30,"G\u1eedi"),y()()(),Fe(31,epe,6,0,"div",21),y()()),2&r&&(F(18),ie("ngIf",i.invalidPhone),F(5),ie("ngIf",i.invalidEmail),F(5),ie("ngIf",i.invalidCode),F(3),ie("ngIf",i.isError))},dependencies:[wo,Zr,O_,C_,Ku,G9],styles:[".send-ct-wrapper[_ngcontent-%COMP%]{width:100%;margin:0 auto;min-height:100vh;padding:2rem;background-image:url(/assets/images/banner.jpg);background-size:cover;background-repeat:no-repeat;background-position:center}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]{padding:2rem;border-radius:.5rem;width:700px;margin:auto;min-height:calc(100vh - 4rem);background-color:#ffffffa8;box-shadow:0 0 10px #0000004d;position:relative}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem;position:relative}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{position:absolute;top:0rem;left:0rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]   .go-home-link[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;text-decoration:none;color:var(--color-primary);font-weight:700;position:relative}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .send-ct-title[_ngcontent-%COMP%]{text-align:center;color:var(--color-primary);font-size:32px;font-weight:700}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{display:flex;justify-content:center}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]   .brand-image[_ngcontent-%COMP%]{width:5rem;height:5rem;object-fit:cover}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:15px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:gray;font-weight:600;font-size:18px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 10px;border:2px solid gray;border-radius:5px;background-color:transparent;outline:none}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--color-primary)}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{width:100%;font-size:14px;color:#ff1818}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 auto;margin-top:3rem;display:block;padding:15px 25px;background-color:var(--color-primary);color:#fff;border:none;border-radius:5px;font-size:20px;cursor:pointer}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;background-color:#fff;box-shadow:0 0 10px #0000004d;display:flex;flex-direction:column;justify-content:center;row-gap:5rem;align-items:center;border-radius:.5rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]   .icon-error-wr[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:1rem;justify-content:center;align-items:center;font-weight:700;font-size:25px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]   .icon-error-wr[_ngcontent-%COMP%]   .icon-error[_ngcontent-%COMP%]{font-size:100px;color:red}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]   .close-error[_ngcontent-%COMP%]{text-decoration:none;padding:15px 20px;background-color:var(--color-primary);color:#fff;border:none;border-radius:5px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]   .close-error[_ngcontent-%COMP%]:hover{background-color:#0056b3}@media (max-width: 767.98px){.send-ct-wrapper[_ngcontent-%COMP%]{width:100%!important;padding:1rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]{width:100%;min-height:calc(100vh - 2rem)}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{top:-.5rem;left:-1rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .send-ct-title[_ngcontent-%COMP%]{font-size:26px!important}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{font-size:12px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2rem;padding:10px 15px;font-size:20px!important}}"]}),e})();function npe(t,e){1&t&&(_(0,"div",55)(1,"li"),T(2,"i",56)(3,"i",25)(4,"i",25)(5,"i",25)(6,"i",25),y(),_(7,"li"),T(8,"i",56)(9,"i",56)(10,"i",25)(11,"i",25)(12,"i",25),y(),_(13,"li"),T(14,"i",56)(15,"i",56)(16,"i",56)(17,"i",25)(18,"i",25),y(),_(19,"li"),T(20,"i",56)(21,"i",56)(22,"i",56)(23,"i",56)(24,"i",25),y(),_(25,"li"),T(26,"i",56)(27,"i",56)(28,"i",56)(29,"i",56)(30,"i",56),y()())}let rpe=(()=>{var t;class e{constructor(){this.isShowAskRepair=!1,this.isDropdownOpen=!1}toggleAsk(){this.isShowAskRepair=!this.isShowAskRepair}closeAsk(){this.isShowAskRepair=!1}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=xt({type:t,selectors:[["app-page-picture-refund"]],decls:99,vars:2,consts:[[1,"page-pr-wrapper"],[1,"page-header"],[1,"header-content"],[1,"header-left"],[1,"header-right"],["routerLink","/home"],[1,"page-content"],[1,"btn-control-wrapper"],["href","javascript:void(0)",1,"btn-control","active"],["href","javascript:void(0)",1,"btn-control"],[1,"picture-wrapper"],[1,"picture-content"],[1,"picture-item"],["src","./assets/images/user/Hy vu\xf4ng 2.jpg","alt",""],["src","./assets/images/user/Thanh B\xecnh 3.jpg","alt",""],[1,"link-dow-wrapper"],[1,"link-dow-content"],["href","javascript:void(0)",1,"btn-get-link"],[1,"link-dow-footer"],["href","javascript:void(0)",3,"click"],[1,"review-wrapper"],[1,"review-title"],[1,"review-content"],[1,"review-content-first"],[1,"rating"],[1,"bx","bx-star"],["class","dropdownRate",4,"ngIf"],[1,"comment"],["name","comment","id","","cols","30","rows","5"],[1,"sub-t"],[1,"review-content-second"],["href","javascript:void(0)",1,"btn","btn-hide-inf"],[1,"bx","bx-toggle-left"],["href","javascript:void(0)",1,"btn","btn-submit"],[1,"ask-repair-wrapper",3,"ngClass"],[1,"ask-repair-container"],[1,"ask-repair-content"],[1,"repair-header"],[1,"bx","bx-chevron-left"],[1,"repair-cont"],[1,"repair-content"],[1,"enter-code-picture"],[1,"ecp-title"],[1,"po-title"],[1,"repair-police"],[1,"ecp-content"],["name","","id","ecp-code","cols","30","rows","10"],[1,"po-content-wr"],[1,"po-content"],[1,"repair-submit"],[1,"rs-left"],[1,"rs-right"],["href","javascript:void(0)",1,"btn-submit-repair"],["href","javascript:void(0)",1,"btn-close-ask",3,"click"],[1,"bx","bx-x"],[1,"dropdownRate"],[1,"bx","bxs-star"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),w(5,"B\u1ed9 s\u01b0u t\u1eadp \u1ea3nh"),y(),_(6,"p"),w(7,"H\xe3y c\xf9ng th\u01b0\u1edfng th\u1ee9c b\u1ee9c h\xecnh tuy\u1ec7t v\u1eddi c\u1ee7a b\u1ea1n!"),y()(),_(8,"div",4)(9,"a",5),w(10,"Trang ch\u1ee7"),y()()()(),_(11,"div",6)(12,"div",7)(13,"a",8),w(14,"23/09/2023"),y(),_(15,"a",9),w(16,"15/09/2023"),y()(),_(17,"div",10)(18,"div",11)(19,"div",12),T(20,"img",13),y(),_(21,"div",12),T(22,"img",14),y(),_(23,"div",12),T(24,"img",13),y(),_(25,"div",12),T(26,"img",14),y(),_(27,"div",12),T(28,"img",13),y()()(),_(29,"div",15)(30,"div",16)(31,"a",17),w(32," Link Download "),y(),_(33,"span"),w(34,"File \u1ea3nh c\xf3 \u0111\u1ecbnh dang JPEG"),y()(),_(35,"div",18)(36,"a",19),J("click",function(){return i.toggleAsk()}),w(37,"Y\xeau c\u1ea7u s\u1eeda \u1ea3nh"),y()()(),_(38,"div",20)(39,"div",21)(40,"p"),w(41," \u0110\xe1nh gi\xe1 c\u1ee7a b\u1ea1n "),y()(),_(42,"div",22)(43,"div",23)(44,"div",24)(45,"span"),w(46,"Ch\u1ea5t l\u01b0\u1ee3ng: "),y(),_(47,"a",19),J("click",function(){return i.toggleDropdown()}),T(48,"i",25)(49,"i",25)(50,"i",25)(51,"i",25)(52,"i",25),y(),Fe(53,npe,31,0,"div",26),y(),_(54,"div",27)(55,"p"),w(56,"Vi\u1ebft \u0111\xe1nh gi\xe1"),y(),T(57,"textarea",28),y(),_(58,"div",29)(59,"span"),w(60,"T\u1ed1i \u0111a 450 ch\u1eef"),y()()(),_(61,"div",30)(62,"a",31),w(63," \u1ea8n danh "),T(64,"i",32),y(),_(65,"a",33),w(66,"\u0110\u0103ng"),y()()()()(),_(67,"div",34)(68,"div",35)(69,"div",36)(70,"div",37)(71,"h2"),T(72,"i",38),w(73,"Y\xeau c\u1ea7u s\u1eeda \u1ea3nh"),y()(),_(74,"div",39)(75,"div",40)(76,"div",41)(77,"div",42),w(78,"Nh\u1eadp m\xe3 \u1ea3nh"),y(),_(79,"div",43),w(80," Ch\xednh s\xe1ch y\xeau c\u1ea7u s\u1eeda \u1ea3nh "),y()(),_(81,"div",44)(82,"div",45),T(83,"textarea",46),y(),_(84,"div",47)(85,"div",48)(86,"li"),w(87,"Kh\xe1ch h\xe0ng \u0111i\u1ec1n m\xe3 \u1ea3nh \u0111\u1ed1i v\u1edbi nh\u1eefng b\u1ee9c \u1ea3nh m\xe0 m\xecnh mu\u1ed1n ch\u1ec9nh s\u1eeda"),y(),_(88,"li"),w(89,"S\u1ed1 l\u01b0\u1ee3ng b\u1ee9c \u1ea3nh \u0111\u01b0\u1ee3c s\u1eeda ph\u1ee5 thu\u1ed9c v\xe0o g\xf3i ch\u1ee5p \u1ea3nh \u0111\xe3 th\u1ecfa thu\u1eadn v\u1edbi nhi\u1ebfp \u1ea3nh gia tr\u01b0\u1edbc \u0111\xf3"),y(),_(90,"li"),w(91,"Truy c\u1eadp l\u1ea1i file nh\u1eadn \u1ea3nh \u0111\u1ec3 nh\u1eefng b\u1ee9c \u1ea3nh \u0111\xe3 \u0111\u01b0\u1ee3c ch\u1ec9nh s\u1eeda sau 2-3 ng\xe0y"),y()()()()(),_(92,"div",49),T(93,"div",50),_(94,"div",51)(95,"a",52),w(96,"G\u1eedi y\xeau c\u1ea7u"),y()()()(),_(97,"a",53),J("click",function(){return i.closeAsk()}),T(98,"i",54),y()()()()()),2&r&&(F(53),ie("ngIf",i.isDropdownOpen),F(14),ie("ngClass",i.isShowAskRepair?"active":""))},dependencies:[vs,wo,Zr],styles:[".page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{background-color:var(--color-primary);height:140px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;height:100%;padding:0 2rem;margin:0 auto}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{padding-bottom:2rem;display:flex;flex-direction:column;justify-content:flex-end}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:700;color:var(--color-light)}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-light);font-weight:100;margin:.3rem 0 0}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:300;color:var(--color-light);text-decoration:none}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:4rem 2rem;margin:0 auto}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .btn-control-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:.5rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .btn-control-wrapper[_ngcontent-%COMP%]   .btn-control[_ngcontent-%COMP%]{line-height:40px;padding:0 30px;border:2px solid var(--color-primary);border-radius:.3rem;color:#000;background-color:var(--color-light);text-decoration:none}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .btn-control-wrapper[_ngcontent-%COMP%]   .btn-control.active[_ngcontent-%COMP%]{background-color:var(--color-info);border-color:var(--color-info);color:var(--color-light)}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]{padding-top:3.5rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-content[_ngcontent-%COMP%]   .picture-item[_ngcontent-%COMP%]{width:100%}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-content[_ngcontent-%COMP%]   .picture-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .link-dow-wrapper[_ngcontent-%COMP%]{margin-top:3rem;border:2px solid black;border-radius:.3rem;height:250px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .link-dow-wrapper[_ngcontent-%COMP%]   .link-dow-content[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .link-dow-wrapper[_ngcontent-%COMP%]   .link-dow-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{line-height:50px;padding:0 70px;background-color:var(--color-info);border-color:var(--color-info);color:var(--color-light);text-decoration:none;font-size:22px;font-weight:700;border-radius:.2rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .link-dow-wrapper[_ngcontent-%COMP%]   .link-dow-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:1rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .link-dow-wrapper[_ngcontent-%COMP%]   .link-dow-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:.5rem 0}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .link-dow-wrapper[_ngcontent-%COMP%]   .link-dow-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:600}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]{padding:3rem 0}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]{border:2px solid black;border-radius:.3rem;background-color:var(--color-light);height:200px;padding:.3rem 1rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]{position:relative}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-warning)}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]   .dropdownRate[_ngcontent-%COMP%]{position:absolute;left:5rem;background-color:var(--color-light);border-radius:.3rem;box-shadow:0 0 .5rem;padding:0 5px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]   .dropdownRate[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:30px;list-style:none;color:var(--color-warning);cursor:pointer;display:block}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:4px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;border:none;outline:none;resize:none;padding:.25rem 0}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--color-light)}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--color-secondary);border-radius:4px;border:2px solid var(--color-light)}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .sub-t[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;font-size:14px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-second[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:1rem;column-gap:1rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-second[_ngcontent-%COMP%]   .btn-hide-inf[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;text-decoration:none;color:var(--color-text-body)}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-second[_ngcontent-%COMP%]   .btn-hide-inf[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:.3rem;font-size:40px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-second[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]{line-height:40px;background-color:var(--color-primary);color:var(--color-light);border-radius:.3rem;padding:0 25px;text-decoration:none}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;z-index:900}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;justify-content:center;align-items:center;position:relative}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]{height:90%;width:90%;margin:auto;background-color:var(--color-light);position:relative;transform:translateY(-200%)}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-header[_ngcontent-%COMP%]{background-color:var(--color-primary);height:120px;display:flex;justify-content:flex-start;align-items:flex-end;padding:1rem 2rem}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:var(--color-light);font-weight:500;display:flex;align-items:center}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:50px}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]{max-height:calc(100% - 120px);overflow-y:auto;position:relative}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]{padding:2rem 3rem}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .enter-code-picture[_ngcontent-%COMP%]{display:grid;column-gap:1rem;grid-template-columns:repeat(2,1fr);margin-bottom:1.5rem}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .enter-code-picture[_ngcontent-%COMP%]   .ecp-title[_ngcontent-%COMP%], .page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .enter-code-picture[_ngcontent-%COMP%]   .po-title[_ngcontent-%COMP%]{grid-column:span 1}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .repair-police[_ngcontent-%COMP%]{display:grid;column-gap:1rem;grid-template-columns:repeat(2,1fr)}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .repair-police[_ngcontent-%COMP%]   .ecp-content[_ngcontent-%COMP%]{grid-column:span 1;width:100%;height:100%}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .repair-police[_ngcontent-%COMP%]   .ecp-content[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:100%;width:100%;outline:none;border:2px solid var(--color-secondary);padding:.5rem;resize:none}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .repair-police[_ngcontent-%COMP%]   .po-content-wr[_ngcontent-%COMP%]{grid-column:span 1;padding:1rem;display:flex;justify-content:center;align-items:center;background-color:var(--color-secondary);height:100%}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-submit[_ngcontent-%COMP%]{padding:0 3rem;margin-bottom:3rem;display:flex;justify-content:space-between}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-submit[_ngcontent-%COMP%]   .rs-right[_ngcontent-%COMP%]{width:calc(50% - .5rem);height:40px;display:flex}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-submit[_ngcontent-%COMP%]   .rs-right[_ngcontent-%COMP%]   .btn-submit-repair[_ngcontent-%COMP%]{border-radius:.3rem;height:100%;background-color:var(--color-primary);color:var(--color-light);width:100%;text-align:center;text-decoration:none;line-height:40px}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .btn-close-ask[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;color:var(--color-light);font-weight:700;font-size:28px;width:25px;height:25px;border-radius:50%;display:flex;justify-content:center;align-items:center;text-decoration:none}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .btn-close-ask[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary);color:#000;transform:rotate(35deg)}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper.active[_ngcontent-%COMP%]{display:block}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper.active[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]{transform:translateY(0)}@media (min-width: 1400px){.header-content[_ngcontent-%COMP%], .page-content[_ngcontent-%COMP%], .ask-repair-content[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.page-pr-wrapper[_ngcontent-%COMP%]   .picture-content[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}"]}),e})();const ipe=["iconToggle"],ope=["searchInput"],spe=["searchBarToggle"],ape=["navSearch"];function cpe(t,e){1&t&&(_(0,"div",34)(1,"p"),w(2,"hk"),y(),_(3,"p"),w(4,"hk"),y(),_(5,"p"),w(6,"hk"),y(),_(7,"p"),w(8,"hk"),y()())}const lpe=function(t){return{"search-bar-block":t}};let q9=(()=>{var t;class e{constructor(r){this.eventService=r,this.isShowSearchBar=!1,this.isMenuVisible=!1,this.inputValue="",this.toggleSuggest=!1}showMenu(){this.isMenuVisible=!0,this.eventService.emitEvent("showMenuFromNavbar",this.isMenuVisible)}toggleSearch(){this.isShowSearchBar=!this.isShowSearchBar,this.isShowSearchBar&&setTimeout(()=>{this.searchInput.nativeElement.focus()}),this.inputValue="",this.toggleSuggest=!1,this.eventService.emitEvent("toggleSuggestSearch",this.toggleSuggest)}onInputChange(r){this.inputValue=r.target.value,this.toggleSuggest=""!==this.inputValue.trim(),this.eventService.emitEvent("toggleSuggestSearch",this.toggleSuggest)}closeDropdown(r){!this.searchBarToggle.nativeElement.contains(r.target)&&!this.navSearch.nativeElement.contains(r.target)&&this.isShowSearchBar&&(this.toggleSuggest=!1,this.inputValue="",this.isShowSearchBar=!1,this.eventService.emitEvent("toggleSuggestSearch",this.toggleSuggest))}}return(t=e).\u0275fac=function(r){return new(r||t)(X(lP))},t.\u0275cmp=xt({type:t,selectors:[["app-navbar-admin"]],viewQuery:function(r,i){if(1&r&&(Xn(ipe,5),Xn(ope,5),Xn(spe,5),Xn(ape,5)),2&r){let o;Bn(o=jn())&&(i.iconToggle=o.first),Bn(o=jn())&&(i.searchInput=o.first),Bn(o=jn())&&(i.searchBarToggle=o.first),Bn(o=jn())&&(i.navSearch=o.first)}},hostBindings:function(r,i){1&r&&J("click",function(s){return i.closeDropdown(s)},0,Mu)},decls:39,vars:5,consts:[[1,"navbar-container"],[1,"toggle-menu"],[1,"toggle-icon"],["href","javascript:void(0)",1,"toggle-link","nav-link",3,"click"],["iconToggle",""],[1,"bx","bx-menu","bx-sm"],[1,"navbar-content"],[1,"nav-left"],[1,"nav-search-wrapper"],["navSearch",""],[1,"nav-search-icon"],["href","javascript:void(0)",1,"search-link","nav-link",3,"click"],[1,"bx","bx-search","bx-sm"],[1,"search-placeholder"],[1,"nav-right"],[1,"language","language-dropdown","nav-item"],["href","javascript:void(0)",1,"nav-link"],[1,"bx","bx-globe","bx-sm"],[1,"nav-item"],[1,"bx","bx-grid-alt","bx-sm"],[1,"bx","bx-bell","bx-sm"],[1,"badge-notifications"],[1,"nav-item","navbar-dropdown","dropdown-user","dropdown"],["href","javascript:void(0);","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle","hide-arrow"],[1,"avatar","avatar-online"],["src","./assets/images/avatar.png","alt","",1,"w-px-40","h-auto","rounded-circle"],[1,"search-toggle",3,"ngClass"],["searchBarToggle",""],[1,"search-toggle-content"],["type","text","id","ip","placeholder","Search...",3,"value","input"],["searchInput",""],["href","javascript:void(0)",1,"nav-link","search-close",3,"click"],[1,"bx","bx-x","bx-sm"],["class","search-suggest",4,"ngIf"],[1,"search-suggest"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3,4),J("click",function(){return i.showMenu()}),T(5,"i",5),y()()(),_(6,"div",6)(7,"div",7)(8,"div",8,9)(10,"div",10)(11,"a",11),J("click",function(){return i.toggleSearch()}),T(12,"i",12),_(13,"span",13),w(14,"Search (Ctrl+/)"),y()()()()(),_(15,"div",14)(16,"li",15)(17,"a",16),T(18,"i",17),y()(),_(19,"li",18)(20,"a",16),T(21,"i",19),y()(),_(22,"li",18)(23,"a",16),T(24,"i",20),_(25,"span",21),w(26,"5"),y()()(),_(27,"li",22)(28,"a",23)(29,"div",24),T(30,"img",25),y()()()()(),_(31,"div",26,27)(33,"div",28)(34,"input",29,30),J("input",function(s){return i.onInputChange(s)}),y(),_(36,"a",31),J("click",function(){return i.toggleSearch()}),T(37,"i",32),y(),Fe(38,cpe,9,0,"div",33),y()()()),2&r&&(F(31),ie("ngClass",yo(3,lpe,i.isShowSearchBar)),F(3),ie("value",i.inputValue),F(4),ie("ngIf",i.toggleSuggest))},dependencies:[vs,wo],styles:['.nav-link[_ngcontent-%COMP%]{padding:.5rem 0;display:flex;align-items:center;text-decoration:none;color:#697a8d}.nav-item[_ngcontent-%COMP%]{list-style-type:none}.search-bar-block[_ngcontent-%COMP%]{display:block!important;opacity:1;transform:translateY(0)}.navbar-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center}.navbar-container[_ngcontent-%COMP%]   i.bx[_ngcontent-%COMP%]{padding-top:.125rem}.navbar-container[_ngcontent-%COMP%]   .toggle-menu[_ngcontent-%COMP%]{margin-right:1.2rem}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]{display:flex;flex-basis:100%}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-left[_ngcontent-%COMP%]{display:flex;align-items:center}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-left[_ngcontent-%COMP%]   .search-placeholder[_ngcontent-%COMP%]{display:none;text-wrap:nowrap;color:#a1acb8!important;opacity:1;padding-left:.25rem}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:auto!important}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{margin-right:1rem;position:relative}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .badge-notifications[_ngcontent-%COMP%]{border-radius:100%;position:absolute;top:3px;right:-7px;background-color:var(--bs-red);width:1.1rem;height:1.1rem;color:var(--bs-white);font-size:10px;display:flex;justify-content:center;align-items:center;font-weight:700}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%]   li.dropdown-user[_ngcontent-%COMP%]{margin-right:0}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%]   li.dropdown-user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:2.375rem;height:2.375rem;position:relative}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%]   li.dropdown-user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;border-radius:50%}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%]   li.dropdown-user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]:after{content:"";width:8px;height:8px;position:absolute;right:3px;bottom:0;background-color:var(--bs-success);border-radius:50%}.navbar-container[_ngcontent-%COMP%]   .search-toggle[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:var(--bs-white);padding-left:1.5rem;padding-right:.5rem;border-radius:.375rem;box-shadow:0 0 .375rem .25rem #a1acb826;display:none}.navbar-container[_ngcontent-%COMP%]   .search-toggle[_ngcontent-%COMP%]   .search-toggle-content[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%}.navbar-container[_ngcontent-%COMP%]   .search-toggle[_ngcontent-%COMP%]   .search-toggle-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:0!important;outline:none!important;font-family:var(--bs-body-font-family);font-size:var(--bs-body-font-size);font-weight:var(--bs-body-font-weight);color:var(--bs-body-color);opacity:1}.navbar-container[_ngcontent-%COMP%]   .search-toggle[_ngcontent-%COMP%]   .search-toggle-content[_ngcontent-%COMP%]   .search-close[_ngcontent-%COMP%]{margin-left:auto;margin-right:.5rem}.navbar-container[_ngcontent-%COMP%]   .search-toggle[_ngcontent-%COMP%]   .search-toggle-content[_ngcontent-%COMP%]   .search-suggest[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 3px);left:0;right:0;background-color:var(--bs-white);border-radius:.375rem;box-shadow:0 0 .375rem .25rem #a1acb826}@media (min-width: 1200px){.navbar-container[_ngcontent-%COMP%]   .toggle-menu[_ngcontent-%COMP%]{display:none}}@media (min-width: 768px){.search-placeholder[_ngcontent-%COMP%]{display:inline-block!important}}']}),e})(),upe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=xt({type:t,selectors:[["app-footer-admin"]],decls:2,vars:0,template:function(r,i){1&r&&(_(0,"p"),w(1,"footer-admin works!"),y())}}),e})(),dpe=(()=>{var t;class e{constructor(r){this.eventService=r,this.isShow=!1}toggleMenuDropdown(){this.isShow=!this.isShow}hideMenu(){this.eventService.emitEvent("hideMenuFromIconClose",!1)}}return(t=e).\u0275fac=function(r){return new(r||t)(X(lP))},t.\u0275cmp=xt({type:t,selectors:[["app-menu-admin"]],decls:38,vars:1,consts:[[1,"layout-menu"],[1,"brand-wrapper"],["routerLink","/admin/home",1,"brand-link"],["src","./assets/images/logo2.png","alt","logo",1,"brand-img"],[1,"brand-text"],["href","javascript:void(0)",1,"btn-close-menu",3,"click"],[1,"bx","bx-chevron-left","bx-sm","align-middle"],[1,"menu-container"],[1,"menu-content"],[1,"menu-list"],[1,"menu-item"],["routerLink","/admin/home",1,"menu-link"],[1,"menu-icon","bx","bx-home-circle"],[1,"text-truncate"],[1,"menu-item","menu-dropdown",3,"ngClass","click"],["href","javascript:void(0)",1,"menu-link"],[1,"menu-icon","bx","bx-list-ul"],[1,"menu-dropdown-list"],[1,"menu-dropdown-item"],["routerLink","/admin/order",1,"menu-dropdown-link"],[1,"menu-icon","bx","bxs-circle"],["routerLink","/admin/order-accept",1,"menu-dropdown-link"],["routerLink","",1,"menu-link"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"a",2),T(3,"img",3),_(4,"span",4),w(5,"PhotoHub"),y()(),_(6,"a",5),J("click",function(){return i.hideMenu()}),T(7,"i",6),y()(),_(8,"div",7)(9,"div",8)(10,"ul",9)(11,"li",10)(12,"a",11),T(13,"i",12),_(14,"div",13),w(15,"Trang ch\u1ee7"),y()()(),_(16,"li",14),J("click",function(){return i.toggleMenuDropdown()}),_(17,"a",15),T(18,"i",16),_(19,"div",13),w(20,"Qu\u1ea3n l\xfd booking"),y()(),_(21,"ul",17)(22,"li",18)(23,"a",19),T(24,"i",20),_(25,"div",13),w(26,"Danh s\xe1ch booking"),y()()(),_(27,"li",18)(28,"a",21),T(29,"i",20),_(30,"div",13),w(31,"Duy\u1ec7t booking"),y()()()()(),_(32,"li",10),T(33,"a",22),y(),_(34,"li",10),T(35,"a",22),y(),_(36,"li",10),T(37,"a",22),y()()()()()),2&r&&(F(16),ie("ngClass",i.isShow?"show":""))},dependencies:[vs,Zr],styles:['.layout-menu[_ngcontent-%COMP%]{width:100%;position:relative}.layout-menu[_ngcontent-%COMP%]   .brand-wrapper[_ngcontent-%COMP%]{position:relative;padding:0 2rem;display:flex;align-items:center;margin-top:2rem;margin-bottom:1rem}.layout-menu[_ngcontent-%COMP%]   .brand-wrapper[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]{color:#566a7f;text-decoration:none;display:flex;align-items:center}.layout-menu[_ngcontent-%COMP%]   .brand-wrapper[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]   .brand-img[_ngcontent-%COMP%]{height:40px;width:40px;object-fit:cover;border-radius:50%}.layout-menu[_ngcontent-%COMP%]   .brand-wrapper[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]   .brand-text[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700!important;opacity:1;margin-left:.75rem}.layout-menu[_ngcontent-%COMP%]   .brand-wrapper[_ngcontent-%COMP%]   .btn-close-menu[_ngcontent-%COMP%]{position:absolute;right:-10px;background-color:var(--bs-dark);color:var(--bs-white);font-weight:700;border-radius:50%;width:26px;height:26px}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]{margin:0;padding:0}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{display:block}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]{display:block;margin:0 1rem;padding:0 1rem;line-height:2.5rem;text-decoration:none;color:var(--bs-body-color);font-weight:600;display:flex;justify-content:flex-start;align-items:center}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{width:1.5rem;flex-grow:0;flex-shrink:0;margin-right:.5rem;font-size:1.25rem}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]{margin:0;padding:0;display:none}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-item[_ngcontent-%COMP%]{display:block}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-item[_ngcontent-%COMP%]   .menu-dropdown-link[_ngcontent-%COMP%]{position:relative;display:block;margin:0 1rem;padding:0 1rem 0 2rem;line-height:2.5rem;text-decoration:none;color:var(--bs-body-color);font-weight:600;display:flex;justify-content:flex-start;align-items:center}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-item[_ngcontent-%COMP%]   .menu-dropdown-link[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{width:1.5rem;flex-grow:0;flex-shrink:0;margin-right:.5rem;font-size:.75rem}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-link[_ngcontent-%COMP%]{padding-left:3rem}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-link[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{font-size:.5rem}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item.menu-dropdown[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]{position:relative}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item.menu-dropdown[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;display:block;width:.42em;height:.42em;border:1px solid;border-bottom:0;right:.5rem;border-left:0;transform:translateY(-50%) rotate(45deg)}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown-item.menu-dropdown[_ngcontent-%COMP%] > .menu-dropdown-link[_ngcontent-%COMP%]{position:relative}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown-item.menu-dropdown[_ngcontent-%COMP%] > .menu-dropdown-link[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;display:block;width:.42em;height:.42em;border:1px solid;border-bottom:0;right:.5rem;border-left:0;transform:translateY(-50%) rotate(45deg)}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown.show[_ngcontent-%COMP%] > .menu-dropdown-list[_ngcontent-%COMP%]{display:block!important}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown.show[_ngcontent-%COMP%] > .menu-link[_ngcontent-%COMP%]:after{transform:translateY(-50%) rotate(135deg)!important}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown.show[_ngcontent-%COMP%] > .menu-dropdown-link[_ngcontent-%COMP%]:after{transform:translateY(-50%) rotate(135deg)!important}@media (max-width: 1199.98px){.brand-wrapper[_ngcontent-%COMP%]:before{content:"";position:absolute;right:-16px;width:38px;height:38px;background-color:var(--bs-body-bg);border-radius:50%}}@media (min-width: 1200px){.brand-wrapper[_ngcontent-%COMP%]   .btn-close-menu[_ngcontent-%COMP%]{display:none!important}}']}),e})();const hpe=["layoutMenu"],ppe=function(t){return{"layout-menu-toggle":t}},fpe=function(t,e){return{"layout-overlay-toggle":t,"layout-overlay-increase-zindex":e}},gpe=[{path:"",component:Mhe,children:the},{path:"collection",component:z9,children:nhe},{path:"auth",component:QT,children:rhe},{path:"contact",component:QT,children:[{path:"",component:Ghe,title:"Contact send"}]},{path:"refund-picture",component:QT,children:[{path:"",component:tpe,title:"Refund pictures"}]},{path:"profile/:id",component:W9,children:[{path:"",component:Yhe,title:"Profile"}]},{path:"user",component:z9,children:ihe},{path:"refund-pc",component:rpe},{path:"partner/:id",component:W9,children:ohe},{path:"admin",component:(()=>{var t;class e{constructor(r){this.eventService=r,this.isShowOverlay=!1,this.isShowMenu=!1}ngOnInit(){this.eventService.registerEvent("toggleSuggestSearch").subscribe(r=>{this.isShowOverlay=r}),this.eventService.registerEvent("showMenuFromNavbar").subscribe(r=>{this.isShowMenu=r,this.isShowOverlay=r}),this.eventService.registerEvent("hideMenuFromIconClose").subscribe(r=>{this.isShowMenu=r,this.isShowOverlay=r})}closeDropdown(r){const i=this.navbar?.iconToggle.nativeElement;!this.layoutMenu.nativeElement.contains(r.target)&&!i.contains(r.target)&&this.isShowMenu&&(this.isShowMenu=!1,this.isShowOverlay=!1)}}return(t=e).\u0275fac=function(r){return new(r||t)(X(lP))},t.\u0275cmp=xt({type:t,selectors:[["app-layout-admin"]],viewQuery:function(r,i){if(1&r&&(Xn(q9,5),Xn(hpe,5)),2&r){let o;Bn(o=jn())&&(i.navbar=o.first),Bn(o=jn())&&(i.layoutMenu=o.first)}},hostBindings:function(r,i){1&r&&J("click",function(s){return i.closeDropdown(s)},0,Mu)},decls:14,vars:7,consts:[[1,"layout-wrapper"],[1,"layout-container"],[1,"layout-menu",3,"ngClass"],["layoutMenu",""],[1,"layout-page"],[1,"layout-navbar"],[1,"content-wrapper"],[1,"content-container"],[1,"layout-footer"],[1,"layout-overlay",3,"ngClass"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2,3),T(4,"app-menu-admin"),y(),_(5,"div",4)(6,"div",5),T(7,"app-navbar-admin"),y(),_(8,"div",6)(9,"div",7),T(10,"router-outlet"),y(),_(11,"div",8),T(12,"app-footer-admin"),y()()()(),T(13,"div",9),y()),2&r&&(F(2),ie("ngClass",yo(2,ppe,i.isShowMenu)),F(11),ie("ngClass",eV(4,fpe,i.isShowOverlay,i.isShowMenu)))},dependencies:[vs,el,upe,dpe,q9],styles:["[_ngcontent-%COMP%]:root{font-size:var(--bs-root-font-size)}@media (prefers-reduced-motion: no-preference){[_ngcontent-%COMP%]:root{scroll-behavior:smooth}}body[_ngcontent-%COMP%]{margin:0;font-family:var(--bs-body-font-family);font-size:var(--bs-body-font-size);font-weight:var(--bs-body-font-weight);line-height:var(--bs-body-line-height);color:var(--bs-body-color);text-align:var(--bs-body-text-align);background-color:var(--bs-body-bg);-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(67,89,113,0)}.bg-light[_ngcontent-%COMP%]{background-color:var(--bs-white)}.layout-overlay-toggle[_ngcontent-%COMP%]{display:block!important}.layout-overlay-increase-zindex[_ngcontent-%COMP%]{z-index:1050!important}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]{display:flex;align-items:stretch}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-menu[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;width:16.25rem;background-color:var(--bs-white);box-shadow:0 .125rem .375rem #a1acb81f;z-index:1080}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]{width:100%;padding:4.625rem 0 0}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]   .layout-navbar[_ngcontent-%COMP%]{position:fixed;top:0;right:0;left:16.25rem;padding:0 1.5rem;margin:.75rem auto 0;width:calc(100% - 19.5rem);height:3.875rem;background-color:var(--bs-white);border-radius:.375rem;box-shadow:0 0 .375rem .25rem #a1acb826;z-index:1024}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding-left:16.25rem;margin-top:0}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{min-height:calc(100vh - 4.625rem);margin:0 auto;padding:1.675rem 1.675rem 0}.layout-wrapper[_ngcontent-%COMP%]   .layout-overlay[_ngcontent-%COMP%]{position:fixed;top:0;right:0;height:100%!important;left:0;display:none;background:#435971;opacity:.5;cursor:pointer;z-index:999}@media (max-width: 1199.98px){.layout-menu-toggle[_ngcontent-%COMP%]{transform:translateZ(0)!important}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-menu[_ngcontent-%COMP%]{position:fixed!important;top:0;left:0;transition:transform .5s ease;transform:translate3d(-200%,0,0);will-change:transform -webkit-transform}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]{width:100%}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]   .layout-navbar[_ngcontent-%COMP%]{left:0;width:calc(100% - 3.25rem)}}@media (min-width: 1400px){.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]   .layout-navbar[_ngcontent-%COMP%]{max-width:calc(1440px - 3.35rem)}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{max-width:1440px}}"]}),e})(),children:she},{path:"test",component:(()=>{var t;class e{constructor(r){this.fileStorage=r}onChangeFile(r){this.file=r.target.files[0],this.file&&console.log(this.file)}onUpload(){var r=this;return(0,x.Z)(function*(){const i=`yt/${r.file.name}`,s=yield(yield r.fileStorage.upload(i,r.file)).ref.getDownloadURL();console.log(s)})()}}return(t=e).\u0275fac=function(r){return new(r||t)(X(WT))},t.\u0275cmp=xt({type:t,selectors:[["app-test1"]],decls:5,vars:0,consts:[["for","ig1"],["type","file","name","image","id","ig1",3,"change"],["type","button",3,"click"]],template:function(r,i){1&r&&(_(0,"label",0),w(1,"Upload"),y(),_(2,"input",1),J("change",function(s){return i.onChangeFile(s)}),y(),_(3,"button",2),J("click",function(){return i.onUpload()}),w(4,"Up"),y())}}),e})()}];let mpe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Vn({type:t}),t.\u0275inj=Zn({imports:[m5.forRoot(gpe),m5]}),e})(),_pe=(()=>{var t;class e{constructor(){this.title="photohub"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=xt({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&T(0,"router-outlet")},dependencies:[el]}),e})();class F_{constructor(e){return e}}class K9{constructor(){return(0,Ge.getApps)()}}const XT=new fe("angularfire2._apps"),vpe={provide:F_,useFactory:function ype(t){return t&&1===t.length?t[0]:new F_((0,Ge.getApp)())},deps:[[new p,XT]]},Cpe={provide:K9,deps:[[new p,XT]]};function wpe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new F_(r)}}let Ppe=(()=>{var t;class e{constructor(r){(0,Ge.registerVersion)("angularfire",yl.full,"core"),(0,Ge.registerVersion)("angularfire",yl.full,"app"),(0,Ge.registerVersion)("angular",HO.full,r.toString())}}return t=e,Le(e,"\u0275fac",function(r){return new(r||t)(re(mo))}),Le(e,"\u0275mod",Vn({type:t})),Le(e,"\u0275inj",Zn({providers:[vpe,Cpe]})),e})();function Epe(t,...e){return{ngModule:Ppe,providers:[{provide:XT,useFactory:wpe(t),multi:!0,deps:[Tt,xi,Tp,...e]}]}}const Mpe=function Z9(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Y9=new M.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),uP=new pi.Yd("@firebase/auth");function dP(t,...e){uP.logLevel<=pi.in.ERROR&&uP.error(`Auth (${Ge.SDK_VERSION}): ${t}`,...e)}function io(t,...e){throw JT(t,...e)}function ia(t,...e){return JT(t,...e)}function JT(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Y9.create(t,...e)}function me(t,e,...n){if(!t)throw JT(e,...n)}function oa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw dP(e),new Error(e)}function vl(t,e){t||oa(e)}function X9(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class V_{constructor(e,n){this.shortDelay=e,this.longDelay=n,vl(n>e,"Short delay should be less than long delay!"),this.isMobile=(0,M.uI)()||(0,M.b$)()}get(){return function Ipe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function eA(){return"http:"===X9()||"https:"===X9()}()||(0,M.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class J9{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void oa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void oa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void oa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Tpe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ape=new V_(3e4,6e4);function kn(t,e,n,r){return nA.apply(this,arguments)}function nA(){return(nA=(0,x.Z)(function*(t,e,n,r,i={}){return e6(t,i,(0,x.Z)(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=(0,M.xO)(Object.assign({key:t.config.apiKey},s)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),J9.fetch()(t6(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function e6(t,e,n){return rA.apply(this,arguments)}function rA(){return(rA=(0,x.Z)(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Tpe),e);try{const i=new Spe(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw U_(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw U_(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw U_(t,"email-already-in-use",s);if("USER_DISABLED"===c)throw U_(t,"user-disabled",s);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw function Q9(t,e,n){const r=Object.assign(Object.assign({},Mpe()),{[e]:n});return new M.LL("auth","Firebase",r).create(e,{appName:t.name})}(t,h,l);io(t,h)}}catch(i){if(i instanceof M.ZR)throw i;io(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function t6(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function tA(t,e){vl(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class Spe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ia(this.auth,"network-request-failed")),Ape.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function U_(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ia(t,e,r);return i.customData._tokenResponse=n,i}function aA(){return(aA=(0,x.Z)(function*(t,e){return kn(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function lA(){return(lA=(0,x.Z)(function*(t,e){return kn(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function B_(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function uA(){return(uA=(0,x.Z)(function*(t,e=!1){const n=(0,M.m9)(t),r=yield n.getIdToken(e),i=hP(r);me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:B_(dA(i.auth_time)),issuedAtTime:B_(dA(i.iat)),expirationTime:B_(dA(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function dA(t){return 1e3*Number(t)}function hP(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return dP("JWT malformed, contained fewer than 3 sections"),null;try{const i=(0,M.tV)(n);return i?JSON.parse(i):(dP("Failed to decode base64 JWT payload"),null)}catch(i){return dP("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Qa(t,e){return hA.apply(this,arguments)}function hA(){return(hA=(0,x.Z)(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof M.ZR&&function Vpe({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Upe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,x.Z)(function*(){yield n.iteration()}),r)}iteration(){var e=this;return(0,x.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class s6{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=B_(this.lastLoginAt),this.creationTime=B_(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function j_(t){return pA.apply(this,arguments)}function pA(){return pA=(0,x.Z)(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Qa(t,function Npe(t,e){return lA.apply(this,arguments)}(n,{idToken:r}));me(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function $pe(t){return t.map(e=>{var{providerId:n}=e,r=(0,Se._T)(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function jpe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),h=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new s6(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,f)}),pA.apply(this,arguments)}function fA(){return(fA=(0,x.Z)(function*(t){const e=(0,M.m9)(t);yield j_(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function gA(){return(gA=(0,x.Z)(function*(t,e){const n=yield e6(t,{},(0,x.Z)(function*(){const r=(0,M.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=t6(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",J9.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class $_{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Lpe(t){const e=hP(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return(0,x.Z)(function*(){return me(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return(0,x.Z)(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function Hpe(t,e){return gA.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new $_;return r&&(me("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(me("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(me("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $_,this.toJSON())}_performRefresh(){return oa("not implemented")}}function Cl(t,e){me("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Xu{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=(0,Se._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Upe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new s6(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return(0,x.Z)(function*(){const r=yield Qa(n,n.stsTokenManager.getToken(n.auth,e));return me(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Fpe(t){return uA.apply(this,arguments)}(this,e)}reload(){return function Bpe(t){return fA.apply(this,arguments)}(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Xu(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return(0,x.Z)(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield j_(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,x.Z)(function*(){const n=yield e.getIdToken();return yield Qa(e,function xpe(t,e){return aA.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,h;const f=null!==(r=n.displayName)&&void 0!==r?r:void 0,m=null!==(i=n.email)&&void 0!==i?i:void 0,v=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,E=null!==(s=n.photoURL)&&void 0!==s?s:void 0,I=null!==(a=n.tenantId)&&void 0!==a?a:void 0,b=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,L=null!==(l=n.createdAt)&&void 0!==l?l:void 0,k=null!==(h=n.lastLoginAt)&&void 0!==h?h:void 0,{uid:H,emailVerified:$,isAnonymous:pe,providerData:Oe,stsTokenManager:at}=n;me(H&&at,e,"internal-error");const Zt=$_.fromJSON(this.name,at);me("string"==typeof H,e,"internal-error"),Cl(f,e.name),Cl(m,e.name),me("boolean"==typeof $,e,"internal-error"),me("boolean"==typeof pe,e,"internal-error"),Cl(v,e.name),Cl(E,e.name),Cl(I,e.name),Cl(b,e.name),Cl(L,e.name),Cl(k,e.name);const co=new Xu({uid:H,auth:e,email:m,emailVerified:$,displayName:f,isAnonymous:pe,photoURL:E,phoneNumber:v,tenantId:I,stsTokenManager:Zt,createdAt:L,lastLoginAt:k});return Oe&&Array.isArray(Oe)&&(co.providerData=Oe.map(Af=>Object.assign({},Af))),b&&(co._redirectEventId=b),co}static _fromIdTokenResponse(e,n,r=!1){return(0,x.Z)(function*(){const i=new $_;i.updateFromServerResponse(n);const o=new Xu({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield j_(o),o})()}}const a6=new Map;function Xa(t){vl(t instanceof Function,"Expected a class definition");let e=a6.get(t);return e?(vl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,a6.set(t,e),e)}const c6=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,x.Z)(function*(){return!0})()}_set(n,r){var i=this;return(0,x.Z)(function*(){i.storage[n]=r})()}_get(n){var r=this;return(0,x.Z)(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return(0,x.Z)(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function pP(t,e,n){return`firebase:${t}:${e}:${n}`}class Lp{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=pP(this.userKey,i.apiKey,o),this.fullPersistenceKey=pP("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,x.Z)(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Xu._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return(0,x.Z)(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return(0,x.Z)(function*(){if(!n.length)return new Lp(Xa(c6),e,r);const i=(yield Promise.all(n.map(function(){var l=(0,x.Z)(function*(h){if(yield h._isAvailable())return h});return function(h){return l.apply(this,arguments)}}()))).filter(l=>l);let o=i[0]||Xa(c6);const s=pP(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const h=yield l._get(s);if(h){const f=Xu._fromJSON(e,h);l!==o&&(a=f),o=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return o._shouldAllowMigration&&c.length?(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var l=(0,x.Z)(function*(h){if(h!==o)try{yield h._remove(s)}catch{}});return function(h){return l.apply(this,arguments)}}())),new Lp(o,e,r)):new Lp(o,e,r)})()}}function l6(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function h6(t=(0,M.z$)()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function u6(t=(0,M.z$)()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function f6(t=(0,M.z$)()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function g6(t=(0,M.z$)()){return/webos/i.test(t)}(e))return"Webos";if(function mA(t=(0,M.z$)()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function d6(t=(0,M.z$)()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function p6(t=(0,M.z$)()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function m6(t,e=[]){let n;switch(t){case"Browser":n=l6((0,M.z$)());break;case"Worker":n=`${l6((0,M.z$)())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ge.SDK_VERSION}/${r}`}class Wpe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return(0,x.Z)(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function _A(){return(_A=(0,x.Z)(function*(t,e={}){return kn(t,"GET","/v2/passwordPolicy",function Tn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))})).apply(this,arguments)}class Zpe{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=s.minPasswordLength)&&void 0!==n?n:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=null===(n=c.meetsMinPasswordLength)||void 0===n||n),c.isValid&&(c.isValid=null===(r=c.meetsMaxPasswordLength)||void 0===r||r),c.isValid&&(c.isValid=null===(i=c.containsLowercaseLetter)||void 0===i||i),c.isValid&&(c.isValid=null===(o=c.containsUppercaseLetter)||void 0===o||o),c.isValid&&(c.isValid=null===(s=c.containsNumericCharacter)||void 0===s||s),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class Ype{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _6(this),this.idTokenSubscription=new _6(this),this.beforeStateQueue=new Wpe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Y9,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Xa(n)),this._initializationPromise=this.queue((0,x.Z)(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Lp.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,x.Z)(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return(0,x.Z)(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=o?._redirectEventId,l=yield n.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(o=l.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return me(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return(0,x.Z)(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return(0,x.Z)(function*(){try{yield j_(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function bpe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return(0,x.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return(0,x.Z)(function*(){const r=e?(0,M.m9)(e):null;return r&&me(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return(0,x.Z)(function*(){if(!r._deleted)return e&&me(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,x.Z)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,x.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue((0,x.Z)(function*(){yield n.assertedPersistence.setPersistence(Xa(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return(0,x.Z)(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return(0,x.Z)(function*(){const n=yield function qpe(t){return _A.apply(this,arguments)}(e),r=new Zpe(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new M.LL("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return(0,x.Z)(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return(0,x.Z)(function*(){if(!n.redirectPersistenceManager){const r=e&&Xa(e)||n._popupRedirectResolver;me(r,n,"argument-error"),n.redirectPersistenceManager=yield Lp.create(n,[Xa(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return(0,x.Z)(function*(){var r,i;return n._isInitialized&&(yield n.queue((0,x.Z)(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return(0,x.Z)(function*(){if(e===n.currentUser)return n.queue((0,x.Z)(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof n){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}{const c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){var n=this;return(0,x.Z)(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=m6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,x.Z)(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return(0,x.Z)(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Ope(t,...e){uP.logLevel<=pi.in.WARN&&uP.warn(`Auth (${Ge.SDK_VERSION}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}class _6{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,M.ne)(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function y6(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new V_(3e4,6e4),new V_(2e3,1e4),new V_(3e4,6e4),new V_(5e3,15e3),encodeURIComponent("fac");var Y6="@firebase/auth";class Yge{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return(0,x.Z)(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,M.Pz)("authIdTokenMaxAge"),function Xge(t){(0,Ge._registerComponent)(new Po.wA("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;me(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:m6(t)},l=new Ype(r,i,o,c);return function rfe(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Xa);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),(0,Ge._registerComponent)(new Po.wA("auth-internal",e=>{const n=function ur(t){return(0,M.m9)(t)}(e.getProvider("auth").getImmediate());return new Yge(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ge.registerVersion)(Y6,"1.3.2",function Qge(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),(0,Ge.registerVersion)(Y6,"1.3.2","esm2017")}("Browser");class e${constructor(){return xT("auth")}}var Ee,ome=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},As={},cS=cS||{},Xe=ome||self;function bP(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function q_(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var lS="closure_uid_"+(1e9*Math.random()>>>0),ame=0;function cme(t,e,n){return t.call.apply(t.bind,arguments)}function lme(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function yi(t,e,n){return(yi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?cme:lme).apply(null,arguments)}function TP(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Nr(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function wl(){this.s=this.s,this.o=this.o}wl.prototype.s=!1,wl.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function sme(t){Object.prototype.hasOwnProperty.call(t,lS)&&t[lS]||(t[lS]=++ame)}(this)},wl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const t$=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function uS(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function n$(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(bP(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function vi(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}vi.prototype.h=function(){this.defaultPrevented=!0};var dme=function(){if(!Xe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Xe.addEventListener("test",()=>{},e),Xe.removeEventListener("test",()=>{},e)}catch{}return t}();function K_(t){return/^[\s\xa0]*$/.test(t)}function AP(){var t=Xe.navigator;return t&&(t=t.userAgent)?t:""}function sa(t){return-1!=AP().indexOf(t)}function dS(t){return dS[" "](t),t}dS[" "]=function(){};var pS,t,pme=sa("Opera"),Vp=sa("Trident")||sa("MSIE"),r$=sa("Edge"),hS=r$||Vp,i$=sa("Gecko")&&!(-1!=AP().toLowerCase().indexOf("webkit")&&!sa("Edge"))&&!(sa("Trident")||sa("MSIE"))&&!sa("Edge"),fme=-1!=AP().toLowerCase().indexOf("webkit")&&!sa("Edge");function o$(){var t=Xe.document;return t?t.documentMode:void 0}e:{var fS="",gS=(t=AP(),i$?/rv:([^\);]+)(\)|;)/.exec(t):r$?/Edge\/([\d\.]+)/.exec(t):Vp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):fme?/WebKit\/(\S+)/.exec(t):pme?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(gS&&(fS=gS?gS[1]:""),Vp){var mS=o$();if(null!=mS&&mS>parseFloat(fS)){pS=String(mS);break e}}pS=fS}var gme=Xe.document&&Vp&&(o$()||parseInt(pS,10))||void 0;function Z_(t,e){if(vi.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(i$){e:{try{dS(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:mme[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Z_.$.h.call(this)}}Nr(Z_,vi);var mme={2:"touch",3:"pen",4:"mouse"};Z_.prototype.h=function(){Z_.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Y_="closure_listenable_"+(1e6*Math.random()|0),_me=0;function yme(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++_me,this.fa=this.ia=!1}function DP(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function yS(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function a$(t){const e={};for(const n in t)e[n]=t[n];return e}const c$="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function l$(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let o=0;o<c$.length;o++)n=c$[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function SP(t){this.src=t,this.g={},this.h=0}function vS(t,e){var n=e.type;if(n in t.g){var o,r=t.g[n],i=t$(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(DP(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function CS(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}SP.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=CS(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):((e=new yme(e,this.src,o,!!r,i)).ia=n,t.push(e)),e};var wS="closure_lm_"+(1e6*Math.random()|0),PS={};function u$(t,e,n,r,i){if(r&&r.once)return h$(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)u$(t,e[o],n,r,i);return null}return n=IS(n),t&&t[Y_]?t.O(e,n,q_(r)?!!r.capture:!!r,i):d$(t,e,n,!1,r,i)}function d$(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=q_(i)?!!i.capture:!!i,a=MS(t);if(a||(t[wS]=a=new SP(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function Cme(){const e=wme;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)dme||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(f$(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function h$(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)h$(t,e[o],n,r,i);return null}return n=IS(n),t&&t[Y_]?t.P(e,n,q_(r)?!!r.capture:!!r,i):d$(t,e,n,!0,r,i)}function p$(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)p$(t,e[o],n,r,i);else r=q_(r)?!!r.capture:!!r,n=IS(n),t&&t[Y_]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=CS(o=t.g[e],n,r,i))&&(DP(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=MS(t))&&(e=t.g[e.toString()],t=-1,e&&(t=CS(e,n,r,i)),(n=-1<t?e[t]:null)&&ES(n))}function ES(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Y_])vS(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(f$(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=MS(e))?(vS(n,t),0==n.h&&(n.src=null,e[wS]=null)):DP(t)}}}function f$(t){return t in PS?PS[t]:PS[t]="on"+t}function wme(t,e){if(t.fa)t=!0;else{e=new Z_(e,this);var n=t.listener,r=t.la||t.src;t.ia&&ES(t),t=n.call(r,e)}return t}function MS(t){return(t=t[wS])instanceof SP?t:null}var OS="__closure_events_fn_"+(1e9*Math.random()>>>0);function IS(t){return"function"==typeof t?t:(t[OS]||(t[OS]=function(e){return t.handleEvent(e)}),t[OS])}function Fr(){wl.call(this),this.i=new SP(this),this.S=this,this.J=null}function Qr(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new vi(e,t);else if(e instanceof vi)e.target=e.target||t;else{var i=e;l$(e=new vi(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=RP(s,r,!0,e)&&i}if(i=RP(s=e.g=t,r,!0,e)&&i,i=RP(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=RP(s=e.g=n[o],r,!1,e)&&i}function RP(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&vS(t.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Nr(Fr,wl),Fr.prototype[Y_]=!0,Fr.prototype.removeEventListener=function(t,e,n,r){p$(this,t,e,n,r)},Fr.prototype.N=function(){if(Fr.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)DP(n[r]);delete t.g[e],t.h--}}this.J=null},Fr.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Fr.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var bS=Xe.JSON.stringify;function Eme(){var t=TS;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var g$=new class Pme{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Ome,t=>t.reset());class Ome{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Ime(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function bme(t){Xe.setTimeout(()=>{throw t},0)}let Q_,X_=!1,TS=new class Mme{constructor(){this.h=this.g=null}add(e,n){const r=g$.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},m$=()=>{const t=Xe.Promise.resolve(void 0);Q_=()=>{t.then(Tme)}};var Tme=()=>{for(var t;t=Eme();){try{t.h.call(t.g)}catch(n){bme(n)}var e=g$;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}X_=!1};function xP(t,e){Fr.call(this),this.h=t||1,this.g=e||Xe,this.j=yi(this.qb,this),this.l=Date.now()}function AS(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function DS(t,e,n){if("function"==typeof t)n&&(t=yi(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=yi(t.handleEvent,t)}return 2147483647<Number(e)?-1:Xe.setTimeout(t,e||0)}function _$(t){t.g=DS(()=>{t.g=null,t.i&&(t.i=!1,_$(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Nr(xP,Fr),(Ee=xP.prototype).ga=!1,Ee.T=null,Ee.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Qr(this,"tick"),this.ga&&(AS(this),this.start()))}},Ee.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ee.N=function(){xP.$.N.call(this),AS(this),delete this.g};class Ame extends wl{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_$(this)}N(){super.N(),this.g&&(Xe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function J_(t){wl.call(this),this.h=t,this.g={}}Nr(J_,wl);var y$=[];function v$(t,e,n,r){Array.isArray(n)||(n&&(y$[0]=n.toString()),n=y$);for(var i=0;i<n.length;i++){var o=u$(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function C$(t){yS(t.g,function(e,n){this.g.hasOwnProperty(n)&&ES(e)},t),t.g={}}function kP(){this.g=!0}function Up(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function xme(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return bS(n)}catch{return e}}(t,n)+(r?" "+r:"")})}J_.prototype.N=function(){J_.$.N.call(this),C$(this)},J_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},kP.prototype.Ea=function(){this.g=!1},kP.prototype.info=function(){};var nd={},w$=null;function NP(){return w$=w$||new Fr}function P$(t){vi.call(this,nd.Ta,t)}function ey(t){const e=NP();Qr(e,new P$(e))}function E$(t,e){vi.call(this,nd.STAT_EVENT,t),this.stat=e}function $i(t){const e=NP();Qr(e,new E$(e,t))}function M$(t,e){vi.call(this,nd.Ua,t),this.size=e}function ty(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Xe.setTimeout(function(){t()},e)}nd.Ta="serverreachability",Nr(P$,vi),nd.STAT_EVENT="statevent",Nr(E$,vi),nd.Ua="timingevent",Nr(M$,vi);var FP={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},O$={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function SS(){}function b$(){}SS.prototype.h=null;var kS,ny={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function RS(){vi.call(this,"d")}function xS(){vi.call(this,"c")}function LP(){}function ry(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new J_(this),this.P=kme,this.V=new xP(t=hS?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new T$}function T$(){this.i=null,this.g="",this.h=!1}Nr(RS,vi),Nr(xS,vi),Nr(LP,SS),LP.prototype.g=function(){return new XMLHttpRequest},LP.prototype.i=function(){return{}},kS=new LP;var kme=45e3,NS={},VP={};function FS(t,e,n){t.L=1,t.v=$P(ec(e)),t.s=n,t.S=!0,A$(t,null)}function A$(t,e){t.G=Date.now(),iy(t),t.A=ec(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),U$(n.i,"t",r),t.C=0,n=t.l.J,t.h=new T$,t.g=lH(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Ame(yi(t.Pa,t,t.g),t.O)),v$(t.U,t.g,"readystatechange",t.nb),e=t.I?a$(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),ey(),function Dme(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var h=l[0];l=l[1];var f=h.split("_");s=2<=f.length&&"type"==f[1]?s+(h+"=")+l+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.W,t.s)}function D$(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function S$(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Nme(t,n),i==VP){4==e&&(t.o=4,$i(14),r=!1),Up(t.j,t.m,null,"[Incomplete Response]");break}if(i==NS){t.o=4,$i(15),Up(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Up(t.j,t.m,i,null),LS(t,i)}D$(t)&&i!=VP&&i!=NS&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,$i(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),zS(e),e.M=!0,$i(11))):(Up(t.j,t.m,n,"[Invalid Chunked Response]"),rd(t),oy(t))}function Nme(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?VP:(n=Number(e.substring(n,r)),isNaN(n)?NS:(r+=1)+n>e.length?VP:(e=e.slice(r,r+n),t.C=r+n,e))}function iy(t){t.Y=Date.now()+t.P,R$(t,t.P)}function R$(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=ty(yi(t.lb,t),e)}function UP(t){t.B&&(Xe.clearTimeout(t.B),t.B=null)}function oy(t){0==t.l.H||t.J||oH(t.l,t)}function rd(t){UP(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,AS(t.V),C$(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function LS(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||VS(n.i,t)))if(!t.K&&VS(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;KP(n),WP(n)}HS(n),$i(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=ty(yi(n.ib,n),6e3));if(1>=$$(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else od(n,11)}else if((t.K||n.g==t)&&KP(n),!K_(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const h=l[3];null!=h&&(n.ra=h,n.l.info("VER="+n.ra));const f=l[4];null!=f&&(n.Ga=f,n.l.info("SVER="+n.Ga));const m=l[5];null!=m&&"number"==typeof m&&0<m&&(n.L=r=1.5*m,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const v=t.g;if(v){const E=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(E){var o=r.i;o.g||-1==E.indexOf("spdy")&&-1==E.indexOf("quic")&&-1==E.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(US(o,o.h),o.h=null))}if(r.F){const I=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(r.Da=I,yn(r.I,r.F,I))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=t;if((r=n).wa=cH(r,r.J?r.pa:null,r.Y),s.K){H$(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.B&&(UP(a),iy(a)),r.g=s}else rH(r);0<n.j.length&&qP(n)}else"stop"!=l[0]&&"close"!=l[0]||od(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?od(n,7):$S(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}ey()}catch{}}function x$(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(bP(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Lme(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(bP(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Fme(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(bP(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(Ee=ry.prototype).setTimeout=function(t){this.P=t},Ee.nb=function(t){t=t.target;const e=this.M;e&&3==aa(t)?e.l():this.Pa(t)},Ee.Pa=function(t){try{if(t==this.g)e:{const h=aa(this.g);var e=this.g.Ia();if(this.g.da(),!(3>h)&&(3!=h||hS||this.g&&(this.h.h||this.g.ja()||Q$(this.g)))){this.J||4!=h||7==e||ey(),UP(this);var n=this.g.da();this.ca=n;t:if(D$(this)){var r=Q$(this.g);t="";var i=r.length,o=4==aa(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){rd(this),oy(this);var s="";break t}this.h.i=new Xe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function Sme(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,h,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K_(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,$i(12),rd(this),oy(this);break e}Up(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,LS(this,n)}this.S?(S$(this,h,s),hS&&this.i&&3==h&&(v$(this.U,this.V,"tick",this.mb),this.V.start())):(Up(this.j,this.m,s,null),LS(this,s)),4==h&&rd(this),this.i&&!this.J&&(4==h?oH(this.l,this):(this.i=!1,iy(this)))}else(function t_e(t){const e={};t=(t.g&&2<=aa(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(K_(t[r]))continue;var n=Ime(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}!function vme(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.o=3,$i(12)):(this.o=0,$i(13)),rd(this),oy(this)}}}catch{}},Ee.mb=function(){if(this.g){var t=aa(this.g),e=this.g.ja();this.C<e.length&&(UP(this),S$(this,t,e),this.i&&4!=t&&iy(this))}},Ee.cancel=function(){this.J=!0,rd(this)},Ee.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function Rme(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(ey(),$i(17)),rd(this),this.o=2,oy(this)):R$(this,this.Y-t)};var k$=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function id(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof id){this.h=t.h,BP(this,t.j),this.s=t.s,this.g=t.g,jP(this,t.m),this.l=t.l;var e=t.i,n=new cy;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),N$(this,n),this.o=t.o}else t&&(e=String(t).match(k$))?(this.h=!1,BP(this,e[1]||"",!0),this.s=sy(e[2]||""),this.g=sy(e[3]||"",!0),jP(this,e[4]),this.l=sy(e[5]||"",!0),N$(this,e[6]||"",!0),this.o=sy(e[7]||"")):(this.h=!1,this.i=new cy(null,this.h))}function ec(t){return new id(t)}function BP(t,e,n){t.j=n?sy(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function jP(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function N$(t,e,n){e instanceof cy?(t.i=e,function zme(t,e){e&&!t.j&&(Pl(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(L$(this,r),U$(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=ay(e,$me)),t.i=new cy(e,t.h))}function yn(t,e,n){t.i.set(e,n)}function $P(t){return yn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function sy(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ay(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ume),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ume(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}id.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ay(e,F$,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(ay(e,F$,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(ay(n,"/"==n.charAt(0)?jme:Bme,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ay(n,Hme)),t.join("")};var F$=/[#\/\?@]/g,Bme=/[#\?:]/g,jme=/[#\?]/g,$me=/[#\?@]/g,Hme=/#/g;function cy(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Pl(t){t.g||(t.g=new Map,t.h=0,t.i&&function Vme(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function L$(t,e){Pl(t),e=Bp(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function V$(t,e){return Pl(t),e=Bp(t,e),t.g.has(e)}function U$(t,e,n){L$(t,e),0<n.length&&(t.i=null,t.g.set(Bp(t,e),uS(n)),t.h+=n.length)}function Bp(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function B$(t){this.l=t||Wme,t=Xe.PerformanceNavigationTiming?0<(t=Xe.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Xe.g&&Xe.g.Ka&&Xe.g.Ka()&&Xe.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ee=cy.prototype).add=function(t,e){Pl(this),this.i=null,t=Bp(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Ee.forEach=function(t,e){Pl(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},Ee.ta=function(){Pl(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n},Ee.Z=function(t){Pl(this);let e=[];if("string"==typeof t)V$(this,t)&&(e=e.concat(this.g.get(Bp(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},Ee.set=function(t,e){return Pl(this),this.i=null,V$(this,t=Bp(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Ee.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},Ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};var Wme=10;function j$(t){return!!t.h||!!t.g&&t.g.size>=t.j}function $$(t){return t.h?1:t.g?t.g.size:0}function VS(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function US(t,e){t.g?t.g.add(e):t.h=e}function H$(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function z$(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return uS(t.i)}B$.prototype.cancel=function(){if(this.i=z$(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var qme=class{stringify(t){return Xe.JSON.stringify(t,void 0)}parse(t){return Xe.JSON.parse(t,void 0)}};function Kme(){this.g=new qme}function Zme(t,e,n){const r=n||"";try{x$(t,function(i,o){let s=i;q_(i)&&(s=bS(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function HP(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ly(t){this.l=t.ec||null,this.j=t.ob||!1}function zP(t,e){Fr.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=BS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Nr(ly,SS),ly.prototype.g=function(){return new zP(this.l,this.j)},ly.prototype.i=function(t){return function(){return t}}({}),Nr(zP,Fr);var BS=0;function G$(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function uy(t){t.readyState=4,t.l=null,t.j=null,t.A=null,dy(t)}function dy(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Ee=zP.prototype).open=function(t,e){if(this.readyState!=BS)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,dy(this)},Ee.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Xe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,uy(this)),this.readyState=BS},Ee.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,dy(this)),this.g&&(this.readyState=3,dy(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Xe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;G$(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},Ee.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?uy(this):dy(this),3==this.readyState&&G$(this)}},Ee.Za=function(t){this.g&&(this.response=this.responseText=t,uy(this))},Ee.Ya=function(t){this.g&&(this.response=t,uy(this))},Ee.ka=function(){this.g&&uy(this)},Ee.setRequestHeader=function(t,e){this.v.append(t,e)},Ee.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Ee.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(zP.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Qme=Xe.JSON.parse;function Hn(t){Fr.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=W$,this.L=this.M=!1}Nr(Hn,Fr);var W$="",Xme=/^https?$/i,Jme=["POST","PUT"];function q$(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,K$(t),GP(t)}function K$(t){t.F||(t.F=!0,Qr(t,"complete"),Qr(t,"error"))}function Z$(t){if(t.h&&typeof cS<"u"&&(!t.C[1]||4!=aa(t)||2!=t.da()))if(t.v&&4==aa(t))DS(t.La,0,t);else if(Qr(t,"readystatechange"),4==aa(t)){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===s){var i=String(t.I).match(k$)[1]||null;!i&&Xe.self&&Xe.self.location&&(i=Xe.self.location.protocol.slice(0,-1)),r=!Xme.test(i?i.toLowerCase():"")}n=r}if(n)Qr(t,"complete"),Qr(t,"success");else{t.m=6;try{var o=2<aa(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",K$(t)}}finally{GP(t)}}}function GP(t,e){if(t.g){Y$(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Qr(t,"ready");try{n.onreadystatechange=r}catch{}}}function Y$(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Xe.clearTimeout(t.A),t.A=null)}function aa(t){return t.g?t.g.readyState:0}function Q$(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case W$:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function X$(t){let e="";return yS(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function jS(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=X$(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):yn(t,e,n))}function hy(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function J$(t){this.Ga=0,this.j=[],this.l=new kP,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=hy("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=hy("baseRetryDelayMs",5e3,t),this.hb=hy("retryDelaySeedMs",1e4,t),this.eb=hy("forwardChannelMaxRetries",2,t),this.xa=hy("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new B$(t&&t.concurrentRequestLimit),this.Ja=new Kme,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function $S(t){if(eH(t),3==t.H){var e=t.W++,n=ec(t.I);if(yn(n,"SID",t.K),yn(n,"RID",e),yn(n,"TYPE","terminate"),py(t,n),(e=new ry(t,t.l,e)).L=2,e.v=$P(ec(n)),n=!1,Xe.navigator&&Xe.navigator.sendBeacon)try{n=Xe.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Xe.Image&&((new Image).src=e.v,n=!0),n||(e.g=lH(e.l,null),e.g.ha(e.v)),e.G=Date.now(),iy(e)}aH(t)}function WP(t){t.g&&(zS(t),t.g.cancel(),t.g=null)}function eH(t){WP(t),t.u&&(Xe.clearTimeout(t.u),t.u=null),KP(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Xe.clearTimeout(t.m),t.m=null)}function qP(t){if(!j$(t.i)&&!t.m){t.m=!0;var e=t.Na;Q_||m$(),X_||(Q_(),X_=!0),TS.add(e,t),t.C=0}}function tH(t,e){var n;n=e?e.m:t.W++;const r=ec(t.I);yn(r,"SID",t.K),yn(r,"RID",n),yn(r,"AID",t.V),py(t,r),t.o&&t.s&&jS(r,t.o,t.s),n=new ry(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=nH(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),US(t.i,n),FS(n,r,e)}function py(t,e){t.na&&yS(t.na,function(n,r){yn(e,r,n)}),t.h&&x$({},function(n,r){yn(e,r,n)})}function nH(t,e,n){n=Math.min(t.j.length,n);var r=t.h?yi(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];-1==o?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let l=i[c].g;const h=i[c].map;if(l-=o,0>l)o=Math.max(0,i[c].g-100),a=!1;else try{Zme(h,s,"req"+l+"_")}catch{r&&r(h)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function rH(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Q_||m$(),X_||(Q_(),X_=!0),TS.add(e,t),t.A=0}}function HS(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=ty(yi(t.Ma,t),sH(t,t.A)),t.A++,0))}function zS(t){null!=t.B&&(Xe.clearTimeout(t.B),t.B=null)}function iH(t){t.g=new ry(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=ec(t.wa);yn(e,"RID","rpc"),yn(e,"SID",t.K),yn(e,"AID",t.V),yn(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&yn(e,"TO",t.qa),yn(e,"TYPE","xmlhttp"),py(t,e),t.o&&t.s&&jS(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=$P(ec(e)),n.s=null,n.S=!0,A$(n,t)}function KP(t){null!=t.v&&(Xe.clearTimeout(t.v),t.v=null)}function oH(t,e){var n=null;if(t.g==e){KP(t),zS(t),t.g=null;var r=2}else{if(!VS(t.i,e))return;n=e.F,H$(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Qr(r=NP(),new M$(r,n)),qP(t)}else rH(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function n_e(t,e){return!($$(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=ty(yi(t.Na,t,e),sH(t,t.C)),t.C++,0)))}(t,e)||2==r&&HS(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:od(t,5);break;case 4:od(t,10);break;case 3:od(t,6);break;default:od(t,2)}}function sH(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function od(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=yi(t.pb,t);n||(n=new id("//www.google.com/images/cleardot.gif"),Xe.location&&"http"==Xe.location.protocol||BP(n,"https"),$P(n)),function Yme(t,e){const n=new kP;if(Xe.Image){const r=new Image;r.onload=TP(HP,n,r,"TestLoadImage: loaded",!0,e),r.onerror=TP(HP,n,r,"TestLoadImage: error",!1,e),r.onabort=TP(HP,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=TP(HP,n,r,"TestLoadImage: timeout",!1,e),Xe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else $i(2);t.H=0,t.h&&t.h.za(e),aH(t),eH(t)}function aH(t){if(t.H=0,t.ma=[],t.h){const e=z$(t.i);(0!=e.length||0!=t.j.length)&&(n$(t.ma,e),n$(t.ma,t.j),t.i.i.length=0,uS(t.j),t.j.length=0),t.h.ya()}}function cH(t,e,n){var r=n instanceof id?ec(n):new id(n);if(""!=r.g)e&&(r.g=e+"."+r.g),jP(r,r.m);else{var i=Xe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new id(null);r&&BP(o,r),e&&(o.g=e),i&&jP(o,i),n&&(o.l=n),r=o}return e=t.Da,(n=t.F)&&e&&yn(r,n,e),yn(r,"VER",t.ra),py(t,r),r}function lH(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Hn(n&&t.Ha&&!t.va?new ly({ob:!0}):t.va)).Oa(t.J),e}function uH(){}function ZP(){if(Vp&&!(10<=Number(gme)))throw Error("Environmental error: no available transport.")}function Oo(t,e){Fr.call(this),this.g=new J$(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!K_(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!K_(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new jp(this)}function dH(t){RS.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function hH(){xS.call(this),this.status=1}function jp(t){this.g=t}function Ds(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function GS(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var o=t.g[3],s=(e=t.g[0])+(o^(n=t.g[1])&((i=t.g[2])^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=n+((s=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function $t(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}(Ee=Hn.prototype).Oa=function(t){this.M=t},Ee.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():kS.g(),this.C=function I$(t){return t.h||(t.h=t.i())}(this.u?this.u:kS),this.g.onreadystatechange=yi(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void q$(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())n.set(o,r.get(o))}r=Array.from(n.keys()).find(o=>"content-type"==o.toLowerCase()),i=Xe.FormData&&t instanceof Xe.FormData,!(0<=t$(Jme,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Y$(this),0<this.B&&((this.L=function e_e(t){return Vp&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yi(this.ua,this)):this.A=DS(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){q$(this,o)}},Ee.ua=function(){typeof cS<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qr(this,"timeout"),this.abort(8))},Ee.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Qr(this,"complete"),Qr(this,"abort"),GP(this))},Ee.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),GP(this,!0)),Hn.$.N.call(this)},Ee.La=function(){this.s||(this.G||this.v||this.l?Z$(this):this.kb())},Ee.kb=function(){Z$(this)},Ee.isActive=function(){return!!this.g},Ee.da=function(){try{return 2<aa(this)?this.g.status:-1}catch{return-1}},Ee.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ee.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Qme(e)}},Ee.Ia=function(){return this.m},Ee.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ee=J$.prototype).ra=8,Ee.H=1,Ee.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new ry(this,this.l,t);let o=this.s;if(this.U&&(o?(o=a$(o),l$(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=nH(this,i,e),yn(n=ec(this.I),"RID",t),yn(n,"CVER",22),this.F&&yn(n,"X-HTTP-Session-Id",this.F),py(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(X$(o)))+"&"+e:this.o&&jS(n,this.o,o)),US(this.i,i),this.bb&&yn(n,"TYPE","init"),this.P?(yn(n,"$req",e),yn(n,"SID","null"),i.aa=!0,FS(i,n,null)):FS(i,n,e),this.H=2}}else 3==this.H&&(t?tH(this,t):0==this.j.length||j$(this.i)||tH(this))},Ee.Ma=function(){if(this.u=null,iH(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ty(yi(this.jb,this),t)}},Ee.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,$i(10),WP(this),iH(this))},Ee.ib=function(){null!=this.v&&(this.v=null,WP(this),HS(this),$i(19))},Ee.pb=function(t){t?(this.l.info("Successfully pinged google.com"),$i(2)):(this.l.info("Failed to ping google.com"),$i(1))},Ee.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ee=uH.prototype).Ba=function(){},Ee.Aa=function(){},Ee.za=function(){},Ee.ya=function(){},Ee.isActive=function(){return!0},Ee.Va=function(){},ZP.prototype.g=function(t,e){return new Oo(t,e)},Nr(Oo,Fr),Oo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;$i(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=cH(t,null,t.Y),qP(t)},Oo.prototype.close=function(){$S(this.g)},Oo.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=bS(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&qP(e)},Oo.prototype.N=function(){this.g.h=null,delete this.j,$S(this.g),delete this.g,Oo.$.N.call(this)},Nr(dH,RS),Nr(hH,xS),Nr(jp,uH),jp.prototype.Ba=function(){Qr(this.g,"a")},jp.prototype.Aa=function(t){Qr(this.g,new dH(t))},jp.prototype.za=function(t){Qr(this.g,new hH)},jp.prototype.ya=function(){Qr(this.g,"b")},Nr(Ds,function r_e(){this.blockSize=-1}),Ds.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ds.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=n;)GS(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){GS(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){GS(this,r),i=0;break}}this.h=i,this.i+=e},Ds.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var i_e={};function WS(t){return-128<=t&&128>t?function hme(t,e){var n=i_e;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new $t([0|e],0>e?-1:0)}):new $t([0|t],0>t?-1:0)}function ca(t){if(isNaN(t)||!isFinite(t))return $p;if(0>t)return Xr(ca(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=qS;return new $t(e,0)}var qS=4294967296,$p=WS(0),KS=WS(1),fH=WS(16777216);function tc(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function rs(t){return-1==t.h}function Xr(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new $t(n,~t.h).add(KS)}function YP(t,e){return t.add(Xr(e))}function QP(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function fy(t,e){this.g=t,this.h=e}function XP(t,e){if(tc(e))throw Error("division by zero");if(tc(t))return new fy($p,$p);if(rs(t))return e=XP(Xr(t),e),new fy(Xr(e.g),Xr(e.h));if(rs(e))return e=XP(t,Xr(e)),new fy(Xr(e.g),e.h);if(30<t.g.length){if(rs(t)||rs(e))throw Error("slowDivide_ only works with positive integers.");for(var n=KS,r=e;0>=r.X(t);)n=gH(n),r=gH(r);var i=Hp(n,1),o=Hp(r,1);for(r=Hp(r,2),n=Hp(n,2);!tc(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Hp(r,1),n=Hp(n,1)}return e=YP(t,i.R(e)),new fy(i,e)}for(i=$p;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=ca(n)).R(e);rs(s)||0<s.X(t);)s=(o=ca(n-=r)).R(e);tc(o)&&(o=KS),i=i.add(o),t=YP(t,s)}return new fy(i,t)}function gH(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new $t(n,t.h)}function Hp(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new $t(i,t.h)}(Ee=$t.prototype).ea=function(){if(rs(this))return-Xr(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:qS+r)*e,e*=qS}return t},Ee.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(tc(this))return"0";if(rs(this))return"-"+Xr(this).toString(t);for(var e=ca(Math.pow(t,6)),n=this,r="";;){var i=XP(n,e).g,o=((0<(n=YP(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(tc(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},Ee.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},Ee.X=function(t){return rs(t=YP(this,t))?-1:tc(t)?0:1},Ee.abs=function(){return rs(this)?Xr(this):this},Ee.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&t.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,n[i]=(s&=65535)<<16|(o&=65535)}return new $t(n,-2147483648&n[n.length-1]?-1:0)},Ee.R=function(t){if(tc(this)||tc(t))return $p;if(rs(this))return rs(t)?Xr(this).R(Xr(t)):Xr(Xr(this).R(t));if(rs(t))return Xr(this.R(Xr(t)));if(0>this.X(fH)&&0>t.X(fH))return ca(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=s*c,QP(n,2*r+2*i),n[2*r+2*i+1]+=o*c,QP(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,QP(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,QP(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new $t(n,0)},Ee.gb=function(t){return XP(this,t).h},Ee.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new $t(n,this.h&t.h)},Ee.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new $t(n,this.h|t.h)},Ee.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new $t(n,this.h^t.h)},ZP.prototype.createWebChannel=ZP.prototype.g,Oo.prototype.send=Oo.prototype.u,Oo.prototype.open=Oo.prototype.m,Oo.prototype.close=Oo.prototype.close,FP.NO_ERROR=0,FP.TIMEOUT=8,FP.HTTP_ERROR=6,O$.COMPLETE="complete",b$.EventType=ny,ny.OPEN="a",ny.CLOSE="b",ny.ERROR="c",ny.MESSAGE="d",Fr.prototype.listen=Fr.prototype.O,Hn.prototype.listenOnce=Hn.prototype.P,Hn.prototype.getLastError=Hn.prototype.Sa,Hn.prototype.getLastErrorCode=Hn.prototype.Ia,Hn.prototype.getStatus=Hn.prototype.da,Hn.prototype.getResponseJson=Hn.prototype.Wa,Hn.prototype.getResponseText=Hn.prototype.ja,Hn.prototype.send=Hn.prototype.ha,Hn.prototype.setWithCredentials=Hn.prototype.Oa,Ds.prototype.digest=Ds.prototype.l,Ds.prototype.reset=Ds.prototype.reset,Ds.prototype.update=Ds.prototype.j,$t.prototype.add=$t.prototype.add,$t.prototype.multiply=$t.prototype.R,$t.prototype.modulo=$t.prototype.gb,$t.prototype.compare=$t.prototype.X,$t.prototype.toNumber=$t.prototype.ea,$t.prototype.toString=$t.prototype.toString,$t.prototype.getBits=$t.prototype.D,$t.fromNumber=ca,$t.fromString=function pH(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Xr(pH(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ca(Math.pow(e,8)),r=$p,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=ca(Math.pow(e,o)),r=r.R(o).add(ca(s))):r=(r=r.R(n)).add(ca(s))}return r};var o_e=As.createWebChannelTransport=function(){return new ZP},s_e=As.getStatEventTarget=function(){return NP()},ZS=As.ErrorCode=FP,a_e=As.EventType=O$,c_e=As.Event=nd,mH=As.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},l_e=As.FetchXmlHttpFactory=ly,JP=As.WebChannel=b$,u_e=As.XhrIo=Hn,d_e=As.Md5=Ds,zp=As.Integer=$t;const _H="@firebase/firestore";class Lr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lr.UNAUTHENTICATED=new Lr(null),Lr.GOOGLE_CREDENTIALS=new Lr("google-credentials-uid"),Lr.FIRST_PARTY=new Lr("first-party-uid"),Lr.MOCK_USER=new Lr("mock-user");let Gp="10.5.2";const El=new pi.Yd("@firebase/firestore");function Wp(){return El.logLevel}function de(t,...e){if(El.logLevel<=pi.in.DEBUG){const n=e.map(YS);El.debug(`Firestore (${Gp}): ${t}`,...n)}}function tr(t,...e){if(El.logLevel<=pi.in.ERROR){const n=e.map(YS);El.error(`Firestore (${Gp}): ${t}`,...n)}}function oo(t,...e){if(El.logLevel<=pi.in.WARN){const n=e.map(YS);El.warn(`Firestore (${Gp}): ${t}`,...n)}}function YS(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function Te(t="Unexpected state"){const e=`FIRESTORE (${Gp}) INTERNAL ASSERTION FAILED: `+t;throw tr(e),new Error(e)}function ke(t,e){t||Te()}function ye(t,e){return t}const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends M.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Or{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class yH{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class f_e{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lr.UNAUTHENTICATED))}shutdown(){}}class g_e{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class m_e{constructor(e){this.t=e,this.currentUser=Lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const o=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new Or;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Or,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable((0,x.Z)(function*(){yield l.promise,yield o(r.currentUser)}))},c=l=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Or)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ke("string"==typeof r.accessToken),new yH(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ke(null===e||"string"==typeof e),new Lr(e)}}class __e{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Lr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class y_e{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new __e(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Lr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vH{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class v_e{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{null!=o.error&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,de("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ke("string"==typeof n.token),this.R=n.token,new vH(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function C_e(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class CH{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=C_e(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function qe(t,e){return t<e?-1:t>e?1:0}function qp(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function wH(t){return t+"\0"}class An{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new le(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return An.fromMillis(Date.now())}static fromDate(e){return An.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new An(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new An(0,0))}static max(){return new Ne(new An(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class gy{constructor(e,n,r){void 0===n?n=0:n>e.length&&Te(),void 0===r?r=e.length-n:r>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===gy.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gy?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class At extends gy{construct(e,n,r){return new At(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(G.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new At(n)}static emptyPath(){return new At([])}}const w_e=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends gy{construct(e,n,r){return new vn(e,n,r)}static isValidIdentifier(e){return w_e.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new vn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new le(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new le(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new le(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new le(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vn(n)}static emptyPath(){return new vn([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(At.fromString(e))}static fromName(e){return new ve(At.fromString(e).popFirst(5))}static empty(){return new ve(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===At.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return At.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new At(e.slice()))}}class Kp{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function QS(t){return t.fields.find(e=>2===e.kind)}function sd(t){return t.fields.filter(e=>2!==e.kind)}Kp.UNKNOWN_ID=-1;class ad{constructor(e,n){this.fieldPath=e,this.kind=n}}class Zp{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Zp(0,Io.min())}}function PH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ne.fromTimestamp(1e9===r?new An(n+1,0):new An(n,r));return new Io(i,ve.empty(),e)}function EH(t){return new Io(t.readTime,t.key,-1)}class Io{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Io(Ne.min(),ve.empty(),-1)}static max(){return new Io(Ne.max(),ve.empty(),-1)}}function XS(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=ve.comparator(t.documentKey,e.documentKey),0!==n?n:qe(t.largestBatchId,e.largestBatchId))}const MH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ml(t){return JS.apply(this,arguments)}function JS(){return JS=(0,x.Z)(function*(t){if(t.code!==G.FAILED_PRECONDITION||t.message!==MH)throw t;de("LocalStore","Unexpectedly lost primary lease")}),JS.apply(this,arguments)}class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const l=c;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new B((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}class eE{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Or,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new my(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=eR(r.target.error);this.V.reject(new my(e,i))}}static open(e,n,r,i){try{return new eE(n,e.transaction(i,r))}catch(o){throw new my(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(de("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new O_e(n)}}class Ss{constructor(e,n,r){this.name=e,this.version=n,this.p=r,12.2===Ss.S((0,M.z$)())&&tr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return de("SimpleDb","Removing database:",e),cd(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,M.hl)())return!1;if(Ss.C())return!0;const e=(0,M.z$)(),n=Ss.S(e),r=0<n&&n<10,i=Ss.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var n=this;return(0,x.Z)(function*(){return n.db||(de("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,i)=>{const o=indexedDB.open(n.name,n.version);o.onsuccess=s=>{r(s.target.result)},o.onblocked=()=>{i(new my(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;i("VersionError"===a.name?new le(G.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new le(G.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new my(e,a))},o.onupgradeneeded=s=>{de("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',s.oldVersion),n.p.N(s.target.result,o.transaction,s.oldVersion,n.version).next(()=>{de("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=r=>n.B(r)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){var o=this;return(0,x.Z)(function*(){const s="readonly"===n;let a=0;for(;;){++a;try{o.db=yield o.O(e);const c=eE.open(o.db,e,s?"readonly":"readwrite",r),l=i(c).next(h=>(c.g(),h)).catch(h=>(c.abort(h),B.reject(h))).toPromise();return l.catch(()=>{}),yield c.m,l}catch(c){const l=c,h="FirebaseError"!==l.name&&a<3;if(de("SimpleDb","Transaction failed with error:",l.message,"Retrying:",h),o.close(),!h)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class M_e{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return cd(this.k.delete())}}class my extends le{constructor(e,n){super(G.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ol(t){return"IndexedDbTransactionError"===t.name}class O_e{constructor(e){this.store=e}put(e,n){let r;return void 0!==n?(de("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(de("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),cd(r)}add(e){return de("SimpleDb","ADD",this.store.name,e,e),cd(this.store.add(e))}get(e){return cd(this.store.get(e)).next(n=>(void 0===n&&(n=null),de("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return de("SimpleDb","DELETE",this.store.name,e),cd(this.store.delete(e))}count(){return de("SimpleDb","COUNT",this.store.name),cd(this.store.count())}W(e,n){const r=this.options(e,n);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),o=[];return this.G(i,(s,a)=>{o.push(a)}).next(()=>o)}{const i=this.store.getAll(r.range);return new B((o,s)=>{i.onerror=a=>{s(a.target.error)},i.onsuccess=a=>{o(a.target.result)}})}}j(e,n){const r=this.store.getAll(e,null===n?void 0:n);return new B((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){de("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new B((r,i)=>{n.onerror=o=>{const s=eR(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){const r=[];return new B((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const c=new M_e(a),l=n(a.primaryKey,a.value,c);if(l instanceof B){const h=l.catch(f=>(c.done(),B.reject(f)));r.push(h)}c.isDone?i():null===c.$?a.continue():a.continue(c.$)}}).next(()=>B.waitFor(r))}options(e,n){let r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function cd(t){return new B((e,n)=>{t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{const i=eR(r.target.error);n(i)}})}let IH=!1;function eR(t){const e=Ss.S((0,M.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new le("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return IH||(IH=!0,setTimeout(()=>{throw r},0)),r}}return t}class I_e{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var n=this;de("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,x.Z)(function*(){n.task=null;try{de("IndexBackiller",`Documents written: ${yield n.X.te()}`)}catch(r){Ol(r)?de("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Ml(r)}yield n.ee(6e4)}))}}class b_e{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){var n=this;return(0,x.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>n.ne(r,e))})()}ne(e,n){const r=new Set;let i=n,o=!0;return B.doWhile(()=>!0===o&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!r.has(s))return de("IndexBackiller",`Processing collection: ${s}`),this.re(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.ie(i,o)).next(a=>(de("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,o)=>{const s=EH(o);XS(s,r)>0&&(r=s)}),new Io(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}let bo=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function _y(t){return null==t}function yy(t){return 0===t&&1/t==-1/0}function bH(t){return"number"==typeof t&&Number.isInteger(t)&&!yy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Ci(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=TH(e)),e=T_e(t.get(n),e);return TH(e)}function T_e(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function TH(t){return t+"\x01\x01"}function la(t){const e=t.length;if(ke(e>=2),2===e)return ke("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),At.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const s=t.indexOf("\x01",o);switch((s<0||s>n)&&Te(),t.charAt(s+1)){case"\x01":const a=t.substring(o,s);let c;0===i.length?c=a:(i+=a,c=i,i=""),r.push(c);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Te()}o=s+2}return new At(r)}const AH=["userId","batchId"];function tE(t,e){return[t,Ci(e)]}function DH(t,e,n){return[t,Ci(e),n]}const A_e={},D_e=["prefixPath","collectionGroup","readTime","documentId"],S_e=["prefixPath","collectionGroup","documentId"],R_e=["collectionGroup","readTime","prefixPath","documentId"],x_e=["canonicalId","targetId"],k_e=["targetId","path"],N_e=["path","targetId"],F_e=["collectionId","parent"],L_e=["indexId","uid"],V_e=["uid","sequenceNumber"],U_e=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],B_e=["indexId","uid","orderedDocumentKey"],j_e=["userId","collectionPath","documentId"],$_e=["userId","collectionPath","largestBatchId"],H_e=["userId","collectionGroup","largestBatchId"],SH=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],z_e=[...SH,"documentOverlays"],RH=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],xH=RH,G_e=[...xH,"indexConfiguration","indexState","indexEntries"];class tR extends OH{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function Vr(t,e){const n=ye(t);return Ss.M(n.ae,e)}function kH(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Il(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function NH(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class un{constructor(e,n){this.comparator=e,this.root=n||Jr.EMPTY}insert(e,n){return new un(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jr.BLACK,null,null))}remove(e){return new un(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nE(this.root,e,this.comparator,!1)}getReverseIterator(){return new nE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nE(this.root,e,this.comparator,!0)}}class nE{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jr{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Jr.RED,this.left=i??Jr.EMPTY,this.right=o??Jr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Jr(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Jr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Jr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Jr.EMPTY=null,Jr.RED=!0,Jr.BLACK=!1,Jr.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Jr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kt{constructor(e){this.comparator=e,this.data=new un(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new FH(this.data.getIterator())}getIteratorFrom(e){return new FH(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Kt(this.comparator);return n.data=e,n}}class FH{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Yp(t){return t.hasNext()?t.getNext():void 0}class so{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new so([])}unionWith(e){let n=new Kt(vn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new so(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qp(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class LH extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ir{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new LH("Invalid base64 string: "+o):o}}(e);return new Ir(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Ir(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ir.EMPTY_BYTE_STRING=new Ir("");const q_e=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bl(t){if(ke(!!t),"string"==typeof t){let e=0;const n=q_e.exec(t);if(ke(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:zn(t.seconds),nanos:zn(t.nanos)}}function zn(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function nc(t){return"string"==typeof t?Ir.fromBase64String(t):Ir.fromUint8Array(t)}function rE(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function iE(t){const e=t.mapValue.fields.__previous_value__;return rE(e)?iE(e):e}function vy(t){const e=bl(t.mapValue.fields.__local_write_time__.timestampValue);return new An(e.seconds,e.nanos)}class K_e{constructor(e,n,r,i,o,s,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class Tl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Tl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Tl&&e.projectId===this.projectId&&e.database===this.database}}const Al={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},oE={nullValue:"NULL_VALUE"};function Dl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rE(t)?4:jH(t)?9007199254740991:10:Te()}function ua(t,e){if(t===e)return!0;const n=Dl(t);if(n!==Dl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vy(t).isEqual(vy(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=bl(i.timestampValue),a=bl(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return o=e,nc(t.bytesValue).isEqual(nc(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return zn(i.geoPointValue.latitude)===zn(o.geoPointValue.latitude)&&zn(i.geoPointValue.longitude)===zn(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return zn(i.integerValue)===zn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=zn(i.doubleValue),a=zn(o.doubleValue);return s===a?yy(s)===yy(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return qp(t.arrayValue.values||[],e.arrayValue.values||[],ua);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(kH(s)!==kH(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===a[c]||!ua(s[c],a[c])))return!1;return!0}(t,e);default:return Te()}var o}function Cy(t,e){return void 0!==(t.values||[]).find(n=>ua(n,e))}function Sl(t,e){if(t===e)return 0;const n=Dl(t),r=Dl(e);if(n!==r)return qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=zn(o.integerValue||o.doubleValue),c=zn(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return VH(t.timestampValue,e.timestampValue);case 4:return VH(vy(t),vy(e));case 5:return qe(t.stringValue,e.stringValue);case 6:return function(o,s){const a=nc(o),c=nc(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){const h=qe(a[l],c[l]);if(0!==h)return h}return qe(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=qe(zn(o.latitude),zn(s.latitude));return 0!==a?a:qe(zn(o.longitude),zn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],c=s.values||[];for(let l=0;l<a.length&&l<c.length;++l){const h=Sl(a[l],c[l]);if(h)return h}return qe(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Al.mapValue&&s===Al.mapValue)return 0;if(o===Al.mapValue)return 1;if(s===Al.mapValue)return-1;const a=o.fields||{},c=Object.keys(a),l=s.fields||{},h=Object.keys(l);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const m=qe(c[f],h[f]);if(0!==m)return m;const v=Sl(a[c[f]],l[h[f]]);if(0!==v)return v}return qe(c.length,h.length)}(t.mapValue,e.mapValue);default:throw Te()}}function VH(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return qe(t,e);const n=bl(t),r=bl(e),i=qe(n.seconds,r.seconds);return 0!==i?i:qe(n.nanos,r.nanos)}function Qp(t){return nR(t)}function nR(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=bl(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?nc(t.bytesValue).toBase64():"referenceValue"in t?ve.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=nR(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${nR(n.fields[s])}`;return i+"}"}(t.mapValue):Te()}function ld(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function rR(t){return!!t&&"integerValue"in t}function wy(t){return!!t&&"arrayValue"in t}function UH(t){return!!t&&"nullValue"in t}function BH(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function aE(t){return!!t&&"mapValue"in t}function Py(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Il(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Py(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Py(t.arrayValue.values[n]);return e}return Object.assign({},t)}function jH(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function Z_e(t){return"nullValue"in t?oE:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?ld(Tl.empty(),ve.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Te()}function Y_e(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?ld(Tl.empty(),ve.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Al:Te()}function $H(t,e){const n=Sl(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function HH(t,e){const n=Sl(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class ei{constructor(e){this.value=e}static empty(){return new ei({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!aE(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Py(n)}setAll(e){let n=vn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Py(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());aE(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ua(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];aE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Il(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new ei(Py(this.value))}}function zH(t){const e=[];return Il(t.fields,(n,r)=>{const i=new vn([n]);if(aE(r)){const o=zH(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new so(e)}class Cn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Cn(e,0,Ne.min(),Ne.min(),Ne.min(),ei.empty(),0)}static newFoundDocument(e,n,r,i){return new Cn(e,1,n,Ne.min(),r,i,0)}static newNoDocument(e,n){return new Cn(e,2,n,Ne.min(),Ne.min(),ei.empty(),0)}static newUnknownDocument(e,n){return new Cn(e,3,n,Ne.min(),Ne.min(),ei.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ei.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Rl{constructor(e,n){this.position=e,this.inclusive=n}}function GH(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?ve.comparator(ve.fromName(s.referenceValue),n.key):Sl(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function WH(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ua(t.position[n],e.position[n]))return!1;return!0}class Ey{constructor(e,n="asc"){this.field=e,this.dir=n}}function Q_e(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class qH{}class wt extends qH{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new X_e(e,n,r):"array-contains"===n?new tye(e,r):"in"===n?new JH(e,r):"not-in"===n?new nye(e,r):"array-contains-any"===n?new rye(e,r):new wt(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new J_e(e,r):new eye(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Sl(n,this.value)):null!==n&&Dl(this.value)===Dl(n)&&this.matchesComparison(Sl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ht extends qH{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Ht(e,n)}matches(e){return Xp(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Xp(t){return"and"===t.op}function iR(t){return"or"===t.op}function oR(t){return KH(t)&&Xp(t)}function KH(t){for(const e of t.filters)if(e instanceof Ht)return!1;return!0}function sR(t){if(t instanceof wt)return t.field.canonicalString()+t.op.toString()+Qp(t.value);if(oR(t))return t.filters.map(e=>sR(e)).join(",");{const e=t.filters.map(n=>sR(n)).join(",");return`${t.op}(${e})`}}function ZH(t,e){return t instanceof wt?(r=t,(i=e)instanceof wt&&r.op===i.op&&r.field.isEqual(i.field)&&ua(r.value,i.value)):t instanceof Ht?function(r,i){return i instanceof Ht&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&ZH(s,i.filters[a]),!0)}(t,e):void Te();var r,i}function YH(t,e){const n=t.filters.concat(e);return Ht.create(n,t.op)}function QH(t){return t instanceof wt?`${(n=t).field.canonicalString()} ${n.op} ${Qp(n.value)}`:t instanceof Ht?function(n){return n.op.toString()+" {"+n.getFilters().map(QH).join(" ,")+"}"}(t):"Filter";var n}class X_e extends wt{constructor(e,n,r){super(e,n,r),this.key=ve.fromName(r.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class J_e extends wt{constructor(e,n){super(e,"in",n),this.keys=XH(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class eye extends wt{constructor(e,n){super(e,"not-in",n),this.keys=XH(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function XH(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>ve.fromName(r.referenceValue))}class tye extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wy(n)&&Cy(n.arrayValue,this.value)}}class JH extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Cy(this.value.arrayValue,n)}}class nye extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Cy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Cy(this.value.arrayValue,n)}}class rye extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Cy(this.value.arrayValue,r))}}class iye{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function aR(t,e=null,n=[],r=[],i=null,o=null,s=null){return new iye(t,e,n,r,i,o,s)}function ud(t){const e=ye(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>sR(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),_y(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qp(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qp(r)).join(",")),e.ce=n}return e.ce}function My(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Q_e(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ZH(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!WH(t.startAt,e.startAt)&&WH(t.endAt,e.endAt)}function cE(t){return ve.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function lE(t,e){return t.filters.filter(n=>n instanceof wt&&n.field.isEqual(e))}function ez(t,e,n){let r=oE,i=!0;for(const o of lE(t,e)){let s=oE,a=!0;switch(o.op){case"<":case"<=":s=Z_e(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=oE}$H({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(null!==n)for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];$H({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}return{value:r,inclusive:i}}function tz(t,e,n){let r=Al,i=!0;for(const o of lE(t,e)){let s=Al,a=!0;switch(o.op){case">=":case">":s=Y_e(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Al}HH({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(null!==n)for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];HH({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}return{value:r,inclusive:i}}class rc{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null}}function nz(t,e,n,r,i,o,s,a){return new rc(t,e,n,r,i,o,s,a)}function Jp(t){return new rc(t)}function rz(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function cR(t){return null!==t.collectionGroup}function ef(t){const e=ye(t);if(null===e.le){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Kt(vn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Ey(o,r))}),n.has(vn.keyField().canonicalString())||e.le.push(new Ey(vn.keyField(),r))}return e.le}function Hi(t){const e=ye(t);return e.he||(e.he=function iz(t,e){if("F"===t.limitType)return aR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new Ey(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new Rl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Rl(t.startAt.position,t.startAt.inclusive):null;return aR(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,ef(t))),e.he}function lR(t,e){const n=t.filters.concat([e]);return new rc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function uE(t,e,n){return new rc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Oy(t,e){return My(Hi(t),Hi(e))&&t.limitType===e.limitType}function oz(t){return`${ud(Hi(t))}|lt:${t.limitType}`}function tf(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>QH(i)).join(", ")}]`),_y(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Qp(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Qp(i)).join(",")),`Target(${r})`}(Hi(t))}; limitType=${t.limitType})`}function Iy(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ve.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of ef(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(s,a,c){const l=GH(s,a,c);return s.inclusive?l<=0:l<0}(r.startAt,ef(r),i)||r.endAt&&!function(s,a,c){const l=GH(s,a,c);return s.inclusive?l>=0:l>0}(r.endAt,ef(r),i)));var r,i}function sz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function az(t){return(e,n)=>{let r=!1;for(const i of ef(t)){const o=oye(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function oye(t,e,n){const r=t.field.isKeyField()?ve.comparator(e.key,n.key):function(o,s,a){const c=s.data.field(o),l=a.data.field(o);return null!==c&&null!==l?Sl(c,l):Te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Te()}}class ic{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Il(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return NH(this.inner)}size(){return this.innerSize}}const sye=new un(ve.comparator);function ao(){return sye}const cz=new un(ve.comparator);function by(...t){let e=cz;for(const n of t)e=e.insert(n.key,n);return e}function lz(t){let e=cz;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function da(){return Ty()}function uz(){return Ty()}function Ty(){return new ic(t=>t.toString(),(t,e)=>t.isEqual(e))}const aye=new un(ve.comparator),cye=new Kt(ve.comparator);function ot(...t){let e=cye;for(const n of t)e=e.add(n);return e}const lye=new Kt(qe);function uR(){return lye}function dz(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yy(e)?"-0":e}}function hz(t){return{integerValue:""+t}}function pz(t,e){return bH(e)?hz(e):dz(t,e)}class dE{constructor(){this._=void 0}}function uye(t,e,n){return t instanceof nf?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&rE(o)&&(o=iE(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof dd?gz(t,e):t instanceof hd?mz(t,e):function(i,o){const s=fz(i,o),a=_z(s)+_z(i.Ie);return rR(s)&&rR(i.Ie)?hz(a):dz(i.serializer,a)}(t,e)}function dye(t,e,n){return t instanceof dd?gz(t,e):t instanceof hd?mz(t,e):n}function fz(t,e){return t instanceof rf?rR(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class nf extends dE{}class dd extends dE{constructor(e){super(),this.elements=e}}function gz(t,e){const n=yz(e);for(const r of t.elements)n.some(i=>ua(i,r))||n.push(r);return{arrayValue:{values:n}}}class hd extends dE{constructor(e){super(),this.elements=e}}function mz(t,e){let n=yz(e);for(const r of t.elements)n=n.filter(i=>!ua(i,r));return{arrayValue:{values:n}}}class rf extends dE{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function _z(t){return zn(t.integerValue||t.doubleValue)}function yz(t){return wy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Ay{constructor(e,n){this.field=e,this.transform=n}}class pye{constructor(e,n){this.version=e,this.transformResults=n}}class Dn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Dn}static exists(e){return new Dn(void 0,e)}static updateTime(e){return new Dn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hE(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class pE{}function vz(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new af(t.key,Dn.none()):new sf(t.key,t.data,Dn.none());{const n=t.data,r=ei.empty();let i=new Kt(vn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new oc(t.key,r,new so(i.toArray()),Dn.none())}}function fye(t,e,n){t instanceof sf?function(i,o,s){const a=i.value.clone(),c=Pz(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof oc?function(i,o,s){if(!hE(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=Pz(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(wz(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Dy(t,e,n,r){return t instanceof sf?function(o,s,a,c){if(!hE(o.precondition,s))return a;const l=o.value.clone(),h=Ez(o.fieldTransforms,c,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof oc?function(o,s,a,c){if(!hE(o.precondition,s))return a;const l=Ez(o.fieldTransforms,c,s),h=s.data;return h.setAll(wz(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):(a=n,hE(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function gye(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=fz(r.transform,i||null);null!=o&&(null===n&&(n=ei.empty()),n.set(r.field,o))}return n||null}function Cz(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&qp(r,i,(o,s)=>function hye(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof dd&&i instanceof dd||r instanceof hd&&i instanceof hd?qp(r.elements,i.elements,ua):r instanceof rf&&i instanceof rf?ua(r.Ie,i.Ie):r instanceof nf&&i instanceof nf);var r,i}(o,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class sf extends pE{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class oc extends pE{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function wz(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Pz(t,e,n){const r=new Map;ke(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,dye(s,a,n[i]))}return r}function Ez(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,uye(o,s,e))}return r}class af extends pE{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dR extends pE{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hR{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&fye(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Dy(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Dy(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=uz();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const c=vz(s,a);null!==c&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ot())}isEqual(e){return this.batchId===e.batchId&&qp(this.mutations,e.mutations,(n,r)=>Cz(n,r))&&qp(this.baseMutations,e.baseMutations,(n,r)=>Cz(n,r))}}class pR{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ke(e.mutations.length===r.length);let i=aye;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new pR(e,n,r,i)}}class fR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class _ye{constructor(e,n){this.count=e,this.unchangedNames=n}}var hr,Dt;function Mz(t){switch(t){default:return Te();case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0}}function Oz(t){if(void 0===t)return tr("GRPC error has no .code"),G.UNKNOWN;switch(t){case hr.OK:return G.OK;case hr.CANCELLED:return G.CANCELLED;case hr.UNKNOWN:return G.UNKNOWN;case hr.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case hr.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case hr.INTERNAL:return G.INTERNAL;case hr.UNAVAILABLE:return G.UNAVAILABLE;case hr.UNAUTHENTICATED:return G.UNAUTHENTICATED;case hr.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case hr.NOT_FOUND:return G.NOT_FOUND;case hr.ALREADY_EXISTS:return G.ALREADY_EXISTS;case hr.PERMISSION_DENIED:return G.PERMISSION_DENIED;case hr.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case hr.ABORTED:return G.ABORTED;case hr.OUT_OF_RANGE:return G.OUT_OF_RANGE;case hr.UNIMPLEMENTED:return G.UNIMPLEMENTED;case hr.DATA_LOSS:return G.DATA_LOSS;default:return Te()}}(Dt=hr||(hr={}))[Dt.OK=0]="OK",Dt[Dt.CANCELLED=1]="CANCELLED",Dt[Dt.UNKNOWN=2]="UNKNOWN",Dt[Dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dt[Dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dt[Dt.NOT_FOUND=5]="NOT_FOUND",Dt[Dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dt[Dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dt[Dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dt[Dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dt[Dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dt[Dt.ABORTED=10]="ABORTED",Dt[Dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dt[Dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dt[Dt.INTERNAL=13]="INTERNAL",Dt[Dt.UNAVAILABLE=14]="UNAVAILABLE",Dt[Dt.DATA_LOSS=15]="DATA_LOSS";function Iz(){return new TextEncoder}const yye=new zp([4294967295,4294967295],0);function bz(t){const e=Iz().encode(t),n=new d_e;return n.update(e),new Uint8Array(n.digest())}function Tz(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new zp([n,r],0),new zp([i,o],0)]}class gR{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Sy(`Invalid padding: ${n}`);if(r<0)throw new Sy(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Sy(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Sy(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=zp.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(zp.fromNumber(r)));return 1===i.compare(yye)&&(i=new zp([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=bz(e),[r,i]=Tz(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new gR(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const n=bz(e),[r,i]=Tz(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Sy extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ry{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,xy.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ry(Ne.min(),i,new un(qe),ao(),ot())}}class xy{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xy(r,n,ot(),ot(),ot())}}class gE{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class Az{constructor(e,n){this.targetId=e,this.fe=n}}class Dz{constructor(e,n,r=Ir.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Sz{constructor(){this.ge=0,this.pe=xz(),this.ye=Ir.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ot(),n=ot(),r=ot();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Te()}}),new xy(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=xz()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class vye{constructor(e){this.Le=e,this.ke=new Map,this.qe=ao(),this.Qe=Rz(),this.Ke=new un(qe)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(cE(o))if(0===r){const s=new ve(o.path);this.We(n,s,Cn.newNoDocument(s,Ne.min()))}else ke(1===r);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),c=a?this.et(a,e,s):1;0!==c&&(this.He(n),this.Ke=this.Ke.insert(n,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=nc(r).toUint8Array()}catch(c){if(c instanceof LH)return oo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new gR(s,i,o)}catch(c){return oo(c instanceof Sy?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&cE(a.target)){const c=new ve(a.target.path);null!==this.qe.get(c)||this.st(s,c)||this.We(s,c,Cn.newNoDocument(c,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=ot();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const l=this.Ye(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new Ry(e,n,this.Ke,this.qe,r);return this.qe=ao(),this.Qe=Rz(),this.Ke=new un(qe),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Sz,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Kt(qe),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||de("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Sz),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Rz(){return new un(ve.comparator)}function xz(){return new un(ve.comparator)}const Cye={asc:"ASCENDING",desc:"DESCENDING"},wye={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Pye={and:"AND",or:"OR"};class Eye{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mR(t,e){return t.useProto3Json||_y(e)?e:{value:e}}function cf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kz(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Mye(t,e){return cf(t,e.toTimestamp())}function nr(t){return ke(!!t),Ne.fromTimestamp(function(n){const r=bl(n);return new An(r.seconds,r.nanos)}(t))}function _R(t,e){return(r=t,new At(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function Nz(t){const e=At.fromString(t);return ke(zz(e)),e}function ky(t,e){return _R(t.databaseId,e.path)}function ha(t,e){const n=Nz(e);if(n.get(1)!==t.databaseId.projectId)throw new le(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(Lz(n))}function yR(t,e){return _R(t.databaseId,e)}function Fz(t){const e=Nz(t);return 4===e.length?At.emptyPath():Lz(e)}function Ny(t){return new At(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Lz(t){return ke(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Vz(t,e,n){return{name:ky(t,e),fields:n.value.mapValue.fields}}function Uz(t,e,n){const r=ha(t,e.name),i=nr(e.updateTime),o=e.createTime?nr(e.createTime):Ne.min(),s=new ei({mapValue:{fields:e.fields}}),a=Cn.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Fy(t,e){let n;if(e instanceof sf)n={update:Vz(t,e.key,e.value)};else if(e instanceof af)n={delete:ky(t,e.key)};else if(e instanceof oc)n={update:Vz(t,e.key,e.data),updateMask:Rye(e.fieldMask)};else{if(!(e instanceof dR))return Te();n={verify:ky(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof nf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof dd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof hd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof rf)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw Te()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:Mye(t,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Te()),n;var o}function vR(t,e){const n=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Dn.updateTime(nr(o.updateTime)):void 0!==o.exists?Dn.exists(o.exists):Dn.none():Dn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let c=null;"setToServerValue"in a?(ke("REQUEST_TIME"===a.setToServerValue),c=new nf):"appendMissingElements"in a?c=new dd(a.appendMissingElements.values||[]):"removeAllFromArray"in a?c=new hd(a.removeAllFromArray.values||[]):"increment"in a?c=new rf(s,a.increment):Te();const l=vn.fromServerFormat(a.fieldPath);return new Ay(l,c)}(t,i)):[];var o;if(e.update){const i=ha(t,e.update.name),o=new ei({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new so((e.updateMask.fieldPaths||[]).map(h=>vn.fromServerFormat(h)));return new oc(i,o,s,n,r)}return new sf(i,o,n,r)}if(e.delete){const i=ha(t,e.delete);return new af(i,n)}if(e.verify){const i=ha(t,e.verify);return new dR(i,n)}return Te()}function Bz(t,e){return{documents:[yR(t,e.path)]}}function CR(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=yR(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=yR(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return Hz(Ht.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(0!==c.length)return c.map(l=>{return{field:xl((f=l).field),direction:Aye(f.dir)};var f})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=mR(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n;var c}function jz(t){let e=Fz(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ke(1===r);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(f){const m=$z(f);return m instanceof Ht&&oR(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(m=>{return new Ey(lf((E=m).field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction));var E}));let a=null;n.limit&&(a=function(f){let m;return m="object"==typeof f?f.value:f,_y(m)?null:m}(n.limit));let c=null;var f;n.startAt&&(c=new Rl((f=n.startAt).values||[],!!f.before));let l=null;return n.endAt&&(l=function(f){return new Rl(f.values||[],!f.before)}(n.endAt)),nz(e,i,s,o,a,"F",c,l)}function $z(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=lf(n.unaryFilter.field);return wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=lf(n.unaryFilter.field);return wt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=lf(n.unaryFilter.field);return wt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=lf(n.unaryFilter.field);return wt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(t):void 0!==t.fieldFilter?wt.create(lf((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return Ht.create(n.compositeFilter.filters.map(r=>$z(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(t):Te();var n}function Aye(t){return Cye[t]}function Dye(t){return wye[t]}function Sye(t){return Pye[t]}function xl(t){return{fieldPath:t.canonicalString()}}function lf(t){return vn.fromServerFormat(t.fieldPath)}function Hz(t){return t instanceof wt?function(n){if("=="===n.op){if(BH(n.value))return{unaryFilter:{field:xl(n.field),op:"IS_NAN"}};if(UH(n.value))return{unaryFilter:{field:xl(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(BH(n.value))return{unaryFilter:{field:xl(n.field),op:"IS_NOT_NAN"}};if(UH(n.value))return{unaryFilter:{field:xl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xl(n.field),op:Dye(n.op),value:n.value}}}(t):t instanceof Ht?function(n){const r=n.getFilters().map(i=>Hz(i));return 1===r.length?r[0]:{compositeFilter:{op:Sye(n.op),filters:r}}}(t):Te()}function Rye(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zz(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class sc{constructor(e,n,r,i,o=Ne.min(),s=Ne.min(),a=Ir.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new sc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new sc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Gz{constructor(e){this.ut=e}}function Wz(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:mE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:ky(o=t.ut,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:cf(o,s.version.toTimestamp()),createTime:cf(o,s.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:pd(e.version)};else{if(!e.isUnknownDocument())return Te();r.unknownDocument={path:n.path.toArray(),version:pd(e.version)}}var o,s;return r}function mE(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function pd(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function fd(t){const e=new An(t.seconds,t.nanoseconds);return Ne.fromTimestamp(e)}function gd(t,e){const n=(e.baseMutations||[]).map(o=>vR(t.ut,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const r=e.mutations.map(o=>vR(t.ut,o)),i=An.fromMillis(e.localWriteTimeMs);return new hR(e.batchId,i,n,r)}function Ly(t){const e=fd(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?fd(t.lastLimboFreeSnapshotVersion):Ne.min();let r;return r=void 0!==t.query.documents?(ke(1===(o=t.query).documents.length),Hi(Jp(Fz(o.documents[0])))):function(o){return Hi(jz(o))}(t.query),new sc(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Ir.fromBase64String(t.resumeToken));var o}function qz(t,e){const n=pd(e.snapshotVersion),r=pd(e.lastLimboFreeSnapshotVersion);let i;i=cE(e.target)?Bz(t.ut,e.target):CR(t.ut,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ud(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function wR(t){const e=jz({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?uE(e,e.limit,"L"):e}function PR(t,e){return new fR(e.largestBatchId,vR(t.ut,e.overlayMutation))}function Kz(t,e){const n=e.path.lastSegment();return[t,Ci(e.path.popLast()),n]}function Zz(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:pd(r.readTime),documentKey:Ci(r.documentKey.path),largestBatchId:r.largestBatchId}}class kye{getBundleMetadata(e,n){return Yz(e).get(n).next(r=>{if(r)return{id:(o=r).bundleId,createTime:fd(o.createTime),version:o.version};var o})}saveBundleMetadata(e,n){return Yz(e).put({bundleId:(i=n).id,createTime:pd(nr(i.createTime)),version:i.version});var i}getNamedQuery(e,n){return Qz(e).get(n).next(r=>{if(r)return{name:(o=r).name,query:wR(o.bundledQuery),readTime:fd(o.readTime)};var o})}saveNamedQuery(e,n){return Qz(e).put({name:(i=n).name,readTime:pd(nr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function Yz(t){return Vr(t,"bundles")}function Qz(t){return Vr(t,"namedQueries")}class _E{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){return new _E(e,n.uid||"")}getOverlay(e,n){return Vy(e).get(Kz(this.userId,n)).next(r=>r?PR(this.serializer,r):null)}getOverlays(e,n){const r=da();return B.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((o,s)=>{const a=new fR(n,s);i.push(this.lt(e,a))}),B.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(s=>i.add(Ci(s.getCollectionPath())));const o=[];return i.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(Vy(e).H("collectionPathOverlayIndex",a))}),B.waitFor(o)}getOverlaysForCollection(e,n,r){const i=da(),o=Ci(n),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Vy(e).W("collectionPathOverlayIndex",s).next(a=>{for(const c of a){const l=PR(this.serializer,c);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const o=da();let s;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Vy(e).Y({index:"collectionGroupOverlayIndex",range:a},(c,l,h)=>{const f=PR(this.serializer,l);o.size()<i||f.largestBatchId===s?(o.set(f.getKey(),f),s=f.largestBatchId):h.done()}).next(()=>o)}lt(e,n){return Vy(e).put(function(i,o,s){const[a,c,l]=Kz(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Fy(i.ut,s.mutation)}}(this.serializer,this.userId,n))}}function Vy(t){return Vr(t,"documentOverlays")}class md{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(zn(e.integerValue));else if("doubleValue"in e){const r=zn(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),yy(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),"string"==typeof r?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(nc(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?jH(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):Te()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),ve.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}function Nye(t){if(0===t)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function Xz(t){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const s=Nye(255&r[o]);if(i+=s,8!==s)break}return i}(t);return Math.ceil(e/8)}md.St=new md;class Fye{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Dt(r.value),r=n.next();this.Ct()}vt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{const i=n.codePointAt(0);this.Dt(240|i>>>18),this.Dt(128|63&i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i)}}this.Ct()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Nt(e){const n=this.Bt(e),r=Xz(n);this.Lt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}kt(e){const n=this.Bt(e),r=Xz(n);this.Lt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=0!=(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Dt(e){const n=255&e;0===n?(this.Qt(0),this.Qt(255)):255===n?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){const n=255&e;0===n?(this.$t(0),this.$t(255)):255===n?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Lye{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class Vye{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Uy{constructor(){this.Wt=new Fye,this.Gt=new Lye(this.Wt),this.zt=new Vye(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class _d{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Ht(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new _d(this.indexId,this.documentKey,this.arrayValue,r)}}function kl(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=Jz(t.arrayValue,e.arrayValue),0!==n?n:(n=Jz(t.directionalValue,e.directionalValue),0!==n?n:ve.comparator(t.documentKey,e.documentKey)))}function Jz(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(0!==r)return r}return t.length-e.length}class e8{constructor(e){this.Jt=new Kt((n,r)=>vn.comparator(n.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(ke(e.collectionGroup===this.collectionId),this.Xt)return!1;const n=QS(e);if(void 0!==n&&!this.tn(n))return!1;const r=sd(e);let i=new Set,o=0,s=0;for(;o<r.length&&this.tn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const c=r[o];if(!this.nn(a,c)||!this.rn(this.Yt[s++],c))return!1}++o}for(;o<r.length;++o)if(s>=this.Yt.length||!this.rn(this.Yt[s++],r[o]))return!1;return!0}sn(){if(this.Xt)return null;let e=new Kt(vn.comparator);const n=[];for(const r of this.Zt)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)n.push(new ad(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new ad(r.field,0))}for(const r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new ad(r.field,"asc"===r.dir?0:1)));return new Kp(Kp.UNKNOWN_ID,this.collectionId,n,Zp.empty())}tn(e){for(const n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function t8(t){var e,n;if(ke(t instanceof wt||t instanceof Ht),t instanceof wt){if(t instanceof JH){const i=(null===(n=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(o=>wt.create(t.field,"==",o)))||[];return Ht.create(i,"or")}return t}const r=t.filters.map(i=>t8(i));return Ht.create(r,t.op)}function Uye(t){if(0===t.getFilters().length)return[];const e=OR(t8(t));return ke(n8(e)),ER(e)||MR(e)?[e]:e.getFilters()}function ER(t){return t instanceof wt}function MR(t){return t instanceof Ht&&oR(t)}function n8(t){return ER(t)||MR(t)||function(n){if(n instanceof Ht&&iR(n)){for(const r of n.getFilters())if(!ER(r)&&!MR(r))return!1;return!0}return!1}(t)}function OR(t){if(ke(t instanceof wt||t instanceof Ht),t instanceof wt)return t;if(1===t.filters.length)return OR(t.filters[0]);const e=t.filters.map(r=>OR(r));let n=Ht.create(e,t.op);return n=yE(n),n8(n)?n:(ke(n instanceof Ht),ke(Xp(n)),ke(n.filters.length>1),n.filters.reduce((r,i)=>IR(r,i)))}function IR(t,e){let n;return ke(t instanceof wt||t instanceof Ht),ke(e instanceof wt||e instanceof Ht),n=t instanceof wt?e instanceof wt?Ht.create([t,e],"and"):r8(t,e):e instanceof wt?r8(e,t):function(i,o){if(ke(i.filters.length>0&&o.filters.length>0),Xp(i)&&Xp(o))return YH(i,o.getFilters());const s=iR(i)?i:o,a=iR(i)?o:i,c=s.filters.map(l=>IR(l,a));return Ht.create(c,"or")}(t,e),yE(n)}function r8(t,e){if(Xp(e))return YH(e,t.getFilters());{const n=e.filters.map(r=>IR(t,r));return Ht.create(n,"or")}}function yE(t){if(ke(t instanceof wt||t instanceof Ht),t instanceof wt)return t;const e=t.getFilters();if(1===e.length)return yE(e[0]);if(KH(t))return t;const n=e.map(i=>yE(i)),r=[];return n.forEach(i=>{i instanceof wt?r.push(i):i instanceof Ht&&(i.op===t.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Ht.create(r,t.op)}class Bye{constructor(){this.on=new bR}addToCollectionParentIndex(e,n){return this.on.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Io.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Io.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class bR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Kt(At.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Kt(At.comparator)).toArray()}}const vE=new Uint8Array(0);class jye{constructor(e,n){this.user=e,this.databaseId=n,this._n=new bR,this.an=new ic(r=>ud(r),(r,i)=>My(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});const o={collectionId:r,parent:Ci(i)};return i8(e).put(o)}return B.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[wH(n),""],!1,!0);return i8(e).W(i).next(o=>{for(const s of o){if(s.collectionId!==n)break;r.push(la(s.parent))}return r})}addFieldIndex(e,n){const r=By(e),i={indexId:(a=n).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;delete i.indexId;const o=r.add(i);if(n.indexState){const s=df(e);return o.next(a=>{s.put(Zz(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const r=By(e),i=df(e),o=uf(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=By(e),r=uf(e),i=df(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return B.forEach(this.un(n),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const o=new e8(r).sn();if(null!=o)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){const r=uf(e);let i=!0;const o=new Map;return B.forEach(this.un(n),s=>this.cn(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=ot();const a=[];return B.forEach(o,(c,l)=>{var H;de("IndexedDbIndexManager",`Using index ${H=c,`id=${H.indexId}|cg=${H.collectionGroup}|f=${H.fields.map($=>`${$.fieldPath}:${$.kind}`).join(",")}`} to execute ${ud(n)}`);const h=function(H,$){const pe=QS($);if(void 0===pe)return null;for(const Oe of lE(H,pe.fieldPath))switch(Oe.op){case"array-contains-any":return Oe.value.arrayValue.values||[];case"array-contains":return[Oe.value]}return null}(l,c),f=function(H,$){const pe=new Map;for(const Oe of sd($))for(const at of lE(H,Oe.fieldPath))switch(at.op){case"==":case"in":pe.set(Oe.fieldPath.canonicalString(),at.value);break;case"not-in":case"!=":return pe.set(Oe.fieldPath.canonicalString(),at.value),Array.from(pe.values())}return null}(l,c),m=function(H,$){const pe=[];let Oe=!0;for(const at of sd($)){const Zt=0===at.kind?ez(H,at.fieldPath,H.startAt):tz(H,at.fieldPath,H.startAt);pe.push(Zt.value),Oe&&(Oe=Zt.inclusive)}return new Rl(pe,Oe)}(l,c),v=function(H,$){const pe=[];let Oe=!0;for(const at of sd($)){const Zt=0===at.kind?tz(H,at.fieldPath,H.endAt):ez(H,at.fieldPath,H.endAt);pe.push(Zt.value),Oe&&(Oe=Zt.inclusive)}return new Rl(pe,Oe)}(l,c),E=this.ln(c,l,m),I=this.ln(c,l,v),b=this.hn(c,l,f),L=this.Pn(c.indexId,h,E,m.inclusive,I,v.inclusive,b);return B.forEach(L,k=>r.j(k,n.limit).next(H=>{H.forEach($=>{const pe=ve.fromSegments($.documentKey);s.has(pe)||(s=s.add(pe),a.push(pe))})}))}).next(()=>a)}return B.resolve(null)})}un(e){let n=this.an.get(e);return n||(n=0===e.filters.length?[e]:Uye(Ht.create(e.filters,"and")).map(r=>aR(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,r,i,o,s,a){const c=(null!=n?n.length:1)*Math.max(r.length,o.length),l=c/(null!=n?n.length:1),h=[];for(let f=0;f<c;++f){const m=n?this.In(n[f/l]):vE,v=this.Tn(e,m,r[f%l],i),E=this.En(e,m,o[f%l],s),I=a.map(b=>this.Tn(e,m,b,!0));h.push(...this.createRange(v,E,I))}return h}Tn(e,n,r,i){const o=new _d(e,ve.empty(),n,r);return i?o:o.Ht()}En(e,n,r,i){const o=new _d(e,ve.empty(),n,r);return i?o.Ht():o}cn(e,n){const r=new e8(n),i=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(const a of o)r.en(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let r=2;const i=this.un(n);return B.forEach(i,o=>this.cn(e,o).next(s=>{s?0!==r&&s.fields.length<function(c){let l=new Kt(vn.comparator),h=!1;for(const f of c.filters)for(const m of f.getFlattenedFilters())m.field.isKeyField()||("array-contains"===m.op||"array-contains-any"===m.op?h=!0:l=l.add(m.field));for(const f of c.orderBy)f.field.isKeyField()||(l=l.add(f.field));return l.size+(h?1:0)}(o)&&(r=1):r=0})).next(()=>null!==n.limit&&i.length>1&&2===r?1:r)}dn(e,n){const r=new Uy;for(const i of sd(e)){const o=n.data.field(i.fieldPath);if(null==o)return null;const s=r.jt(i.kind);md.St.ht(o,s)}return r.Ut()}In(e){const n=new Uy;return md.St.ht(e,n.jt(0)),n.Ut()}An(e,n){const r=new Uy;return md.St.ht(ld(this.databaseId,n),r.jt(function(o){const s=sd(o);return 0===s.length?0:s[s.length-1].kind}(e))),r.Ut()}hn(e,n,r){if(null===r)return[];let i=[];i.push(new Uy);let o=0;for(const s of sd(e)){const a=r[o++];for(const c of i)if(this.Rn(n,s.fieldPath)&&wy(a))i=this.Vn(i,s,a);else{const l=c.jt(s.kind);md.St.ht(a,l)}}return this.mn(i)}ln(e,n,r){return this.hn(e,n,r.position)}mn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Ut();return n}Vn(e,n,r){const i=[...e],o=[];for(const s of r.arrayValue.values||[])for(const a of i){const c=new Uy;c.seed(a.Ut()),md.St.ht(s,c.jt(n.kind)),o.push(c)}return o}Rn(e,n){return!!e.filters.find(r=>r instanceof wt&&r.field.isEqual(n)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,n){const r=By(e),i=df(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(o=>{const s=[];return B.forEach(o,a=>i.get([a.indexId,this.uid]).next(c=>{s.push(function(h,f){const m=f?new Zp(f.sequenceNumber,new Io(fd(f.readTime),new ve(la(f.documentKey)),f.largestBatchId)):Zp.empty(),v=h.fields.map(([E,I])=>new ad(vn.fromServerFormat(E),I));return new Kp(h.indexId,h.collectionGroup,v,m)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==o?o:qe(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=By(e),o=df(e);return this.fn(e).next(s=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>B.forEach(a,c=>o.put(Zz(c.indexId,this.user,s,r)))))}updateIndexEntries(e,n){const r=new Map;return B.forEach(n,(i,o)=>{const s=r.get(i.collectionGroup);return(s?B.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),B.forEach(a,c=>this.gn(e,i,c).next(l=>{const h=this.pn(o,c);return l.isEqual(h)?B.resolve():this.yn(e,o,c,l,h)}))))})}wn(e,n,r,i){return uf(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.An(r,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,r,i){return uf(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.An(r,n.key),n.key.path.toArray()])}gn(e,n,r){const i=uf(e);let o=new Kt(kl);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,n)])},(s,a)=>{o=o.add(new _d(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}pn(e,n){let r=new Kt(kl);const i=this.dn(n,e);if(null==i)return r;const o=QS(n);if(null!=o){const s=e.data.field(o.fieldPath);if(wy(s))for(const a of s.arrayValue.values||[])r=r.add(new _d(n.indexId,e.key,this.In(a),i))}else r=r.add(new _d(n.indexId,e.key,vE,i));return r}yn(e,n,r,i,o){de("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const s=[];return function(c,l,h,f,m){const v=c.getIterator(),E=l.getIterator();let I=Yp(v),b=Yp(E);for(;I||b;){let L=!1,k=!1;if(I&&b){const H=h(I,b);H<0?k=!0:H>0&&(L=!0)}else null!=I?k=!0:L=!0;L?(f(b),b=Yp(E)):k?(m(I),I=Yp(v)):(I=Yp(v),b=Yp(E))}}(i,o,kl,a=>{s.push(this.wn(e,n,r,a))},a=>{s.push(this.Sn(e,n,r,a))}),B.waitFor(s)}fn(e){let n=1;return df(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,a)=>kl(s,a)).filter((s,a,c)=>!a||0!==kl(s,c[a-1]));const i=[];i.push(e);for(const s of r){const a=kl(s,e),c=kl(s,n);if(0===a)i[0]=e.Ht();else if(a>0&&c<0)i.push(s),i.push(s.Ht());else if(c>0)break}i.push(n);const o=[];for(let s=0;s<i.length;s+=2){if(this.bn(i[s],i[s+1]))return[];o.push(IDBKeyRange.bound([i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,vE,[]],[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,vE,[]]))}return o}bn(e,n){return kl(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(o8)}getMinOffset(e,n){return B.mapArray(this.un(n),r=>this.cn(e,r).next(i=>i||Te())).next(o8)}}function i8(t){return Vr(t,"collectionParents")}function uf(t){return Vr(t,"indexEntries")}function By(t){return Vr(t,"indexConfiguration")}function df(t){return Vr(t,"indexState")}function o8(t){ke(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;XS(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Io(e.readTime,e.documentKey,n)}const s8={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class wi{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new wi(e,wi.DEFAULT_COLLECTION_PERCENTILE,wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function a8(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const c=r.Y({range:s},(h,f,m)=>(a++,m.delete()));o.push(c.next(()=>{ke(1===a)}));const l=[];for(const h of n.mutations){const f=DH(e,h.key.path,n.batchId);o.push(i.delete(f)),l.push(h.key)}return B.waitFor(o).next(()=>l)}function CE(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Te();e=t.noDocument}return JSON.stringify(e).length}wi.DEFAULT_COLLECTION_PERCENTILE=10,wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wi.DEFAULT=new wi(41943040,wi.DEFAULT_COLLECTION_PERCENTILE,wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wi.DISABLED=new wi(-1,0,0);class wE{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}static ct(e,n,r,i){ke(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new wE(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Nl(e).Y({index:"userMutationsIndex",range:r},(i,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const o=hf(e),s=Nl(e);return s.add({}).next(a=>{ke("number"==typeof a);const c=new hR(a,n,r,i),l=function(v,E,I){const b=I.baseMutations.map(k=>Fy(v.ut,k)),L=I.mutations.map(k=>Fy(v.ut,k));return{userId:E,batchId:I.batchId,localWriteTimeMs:I.localWriteTime.toMillis(),baseMutations:b,mutations:L}}(this.serializer,this.userId,c),h=[];let f=new Kt((m,v)=>qe(m.canonicalString(),v.canonicalString()));for(const m of i){const v=DH(this.userId,m.key.path,a);f=f.add(m.key.path.popLast()),h.push(s.put(l)),h.push(o.put(v,A_e))}return f.forEach(m=>{h.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Dn[a]=c.keys()}),B.waitFor(h).next(()=>c)})}lookupMutationBatch(e,n){return Nl(e).get(n).next(r=>r?(ke(r.userId===this.userId),gd(this.serializer,r)):null)}Cn(e,n){return this.Dn[n]?B.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Dn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Nl(e).Y({index:"userMutationsIndex",range:i},(s,a,c)=>{a.userId===this.userId&&(ke(a.batchId>=r),o=gd(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Nl(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Nl(e).W("userMutationsIndex",n).next(r=>r.map(i=>gd(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=tE(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return hf(e).Y({range:i},(s,a,c)=>{const[l,h,f]=s,m=la(h);if(l===this.userId&&n.path.isEqual(m))return Nl(e).get(f).next(v=>{if(!v)throw Te();ke(v.userId===this.userId),o.push(gd(this.serializer,v))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Kt(qe);const i=[];return n.forEach(o=>{const s=tE(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=hf(e).Y({range:a},(l,h,f)=>{const[m,v,E]=l,I=la(v);m===this.userId&&o.path.isEqual(I)?r=r.add(E):f.done()});i.push(c)}),B.waitFor(i).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=tE(this.userId,r),s=IDBKeyRange.lowerBound(o);let a=new Kt(qe);return hf(e).Y({range:s},(c,l,h)=>{const[f,m,v]=c,E=la(m);f===this.userId&&r.isPrefixOf(E)?E.length===i&&(a=a.add(v)):h.done()}).next(()=>this.vn(e,a))}vn(e,n){const r=[],i=[];return n.forEach(o=>{i.push(Nl(e).get(o).next(s=>{if(null===s)throw Te();ke(s.userId===this.userId),r.push(gd(this.serializer,s))}))}),B.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return a8(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),B.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return B.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return hf(e).Y({range:r},(o,s,a)=>{if(o[0]===this.userId){const c=la(o[1]);i.push(c)}else a.done()}).next(()=>{ke(0===i.length)})})}containsKey(e,n){return c8(e,this.userId,n)}Mn(e){return l8(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function c8(t,e,n){const r=tE(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return hf(t).Y({range:o,J:!0},(a,c,l)=>{const[h,f,m]=a;h===e&&f===i&&(s=!0),l.done()}).next(()=>s)}function Nl(t){return Vr(t,"mutations")}function hf(t){return Vr(t,"documentMutations")}function l8(t){return Vr(t,"mutationQueues")}class yd{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new yd(0)}static Nn(){return new yd(-1)}}class $ye{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new yd(n.highestTargetId);return n.highestTargetId=r.next(),this.Ln(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>Ne.fromTimestamp(new An(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Ln(e,i)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.qn(n,r),this.Ln(e,r))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>pf(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(ke(r.targetCount>0),r.targetCount-=1,this.Ln(e,r)))}removeTargets(e,n,r){let i=0;const o=[];return pf(e).Y((s,a)=>{const c=Ly(a);c.sequenceNumber<=n&&null===r.get(c.targetId)&&(i++,o.push(this.removeTargetData(e,c)))}).next(()=>B.waitFor(o)).next(()=>i)}forEachTarget(e,n){return pf(e).Y((r,i)=>{const o=Ly(i);n(o)})}Bn(e){return u8(e).get("targetGlobalKey").next(n=>(ke(null!==n),n))}Ln(e,n){return u8(e).put("targetGlobalKey",n)}kn(e,n){return pf(e).put(qz(this.serializer,n))}qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=ud(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return pf(e).Y({range:i,index:"queryTargetsIndex"},(s,a,c)=>{const l=Ly(a);My(n,l.target)&&(o=l,c.done())}).next(()=>o)}addMatchingKeys(e,n,r){const i=[],o=Fl(e);return n.forEach(s=>{const a=Ci(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),B.waitFor(i)}removeMatchingKeys(e,n,r){const i=Fl(e);return B.forEach(n,o=>{const s=Ci(o.path);return B.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){const r=Fl(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Fl(e);let o=ot();return i.Y({range:r,J:!0},(s,a,c)=>{const l=la(s[1]),h=new ve(l);o=o.add(h)}).next(()=>o)}containsKey(e,n){const r=Ci(n.path),i=IDBKeyRange.bound([r],[wH(r)],!1,!0);let o=0;return Fl(e).Y({index:"documentTargetsIndex",J:!0,range:i},([s,a],c,l)=>{0!==s&&(o++,l.done())}).next(()=>o>0)}_t(e,n){return pf(e).get(n).next(r=>r?Ly(r):null)}}function pf(t){return Vr(t,"targets")}function u8(t){return Vr(t,"targetGlobal")}function Fl(t){return Vr(t,"targetDocuments")}function d8([t,e],[n,r]){const i=qe(t,n);return 0===i?qe(e,r):i}class Hye{constructor(e){this.Qn=e,this.buffer=new Kt(d8),this.Kn=0}$n(){return++this.Kn}Un(e){const n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();d8(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class h8{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var n=this;de("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,x.Z)(function*(){n.Wn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){Ol(r)?de("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Ml(r)}yield n.Gn(3e5)}))}}class zye{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return B.resolve(bo._e);const r=new Hye(n);return this.zn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.zn.Hn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(s8)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),s8):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let r,i,o,s,a,c,l;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(l=Date.now(),Wp()<=pi.in.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-h}ms\n\tDetermined least recently used ${i} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(c-a)+`ms\n\tRemoved ${f} documents in `+(l-c)+`ms\nTotal Duration: ${l-h}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}class Gye{constructor(e,n){this.db=e,this.garbageCollector=function p8(t,e){return new zye(t,e)}(this,n)}jn(e){const n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Yn(e){let n=0;return this.Hn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(r,i)=>n(i))}addReference(e,n,r){return PE(e,r)}removeReference(e,n,r){return PE(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return PE(e,n)}Xn(e,n){return function(i,o){let s=!1;return l8(i).Z(a=>c8(i,a,o).next(c=>(c&&(s=!0),B.resolve(!c)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Zn(e,(s,a)=>{if(a<=n){const c=this.Xn(e,s).next(l=>{if(!l)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,Ne.min()),Fl(e).delete([0,Ci(s.path)])))});i.push(c)}}).next(()=>B.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return PE(e,n)}Zn(e,n){const r=Fl(e);let i,o=bo._e;return r.Y({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:l})=>{0===s?(o!==bo._e&&n(new ve(la(i)),o),o=l,i=c):o=bo._e}).next(()=>{o!==bo._e&&n(new ve(la(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function PE(t,e){return Fl(t).put((i=t.currentSequenceNumber,{targetId:0,path:Ci(e.path),sequenceNumber:i}));var i}class f8{constructor(){this.changes=new ic(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Wye{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return vd(e).put(r)}removeEntry(e,n,r){return vd(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],mE(s),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.er(e,r)))}getEntry(e,n){let r=Cn.newInvalidDocument(n);return vd(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(jy(n))},(i,o)=>{r=this.tr(n,o)}).next(()=>r)}nr(e,n){let r={size:0,document:Cn.newInvalidDocument(n)};return vd(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(jy(n))},(i,o)=>{r={document:this.tr(n,o),size:CE(o)}}).next(()=>r)}getEntries(e,n){let r=ao();return this.rr(e,n,(i,o)=>{const s=this.tr(i,o);r=r.insert(i,s)}).next(()=>r)}ir(e,n){let r=ao(),i=new un(ve.comparator);return this.rr(e,n,(o,s)=>{const a=this.tr(o,s);r=r.insert(o,a),i=i.insert(o,CE(s))}).next(()=>({documents:r,sr:i}))}rr(e,n,r){if(n.isEmpty())return B.resolve();let i=new Kt(y8);n.forEach(c=>i=i.add(c));const o=IDBKeyRange.bound(jy(i.first()),jy(i.last())),s=i.getIterator();let a=s.getNext();return vd(e).Y({index:"documentKeyIndex",range:o},(c,l,h)=>{const f=ve.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&y8(a,f)<0;)r(a,null),a=s.getNext();a&&a.isEqual(f)&&(r(a,l),a=s.hasNext()?s.getNext():null),a?h.U(jy(a)):h.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,o){const s=n.path,a=[s.popLast().toArray(),s.lastSegment(),mE(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return vd(e).W(IDBKeyRange.bound(a,c,!0)).next(l=>{o?.incrementDocumentReadCount(l.length);let h=ao();for(const f of l){const m=this.tr(ve.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);m.isFoundDocument()&&(Iy(n,m)||i.has(m.key))&&(h=h.insert(m.key,m))}return h})}getAllFromCollectionGroup(e,n,r,i){let o=ao();const s=_8(n,r),a=_8(n,Io.max());return vd(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,l,h)=>{const f=this.tr(ve.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(f.key,f),o.size===i&&h.done()}).next(()=>o)}newChangeBuffer(e){return new qye(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return m8(e).get("remoteDocumentGlobalKey").next(n=>(ke(!!n),n))}er(e,n){return m8(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){const r=function xye(t,e){let n;if(e.document)n=Uz(t.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ve.fromSegments(e.noDocument.path),i=fd(e.noDocument.readTime);n=Cn.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Te();{const r=ve.fromSegments(e.unknownDocument.path),i=fd(e.unknownDocument.version);n=Cn.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const o=new An(i[0],i[1]);return Ne.fromTimestamp(o)}(e.readTime)),n}(this.serializer,n);if(!r.isNoDocument()||!r.version.isEqual(Ne.min()))return r}return Cn.newInvalidDocument(e)}}function g8(t){return new Wye(t)}class qye extends f8{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new ic(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Kt((o,s)=>qe(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ar.get(o);if(n.push(this._r.removeEntry(e,o,a.readTime)),s.isValidDocument()){const c=Wz(this._r.serializer,s);i=i.add(o.path.popLast());const l=CE(c);r+=l-a.size,n.push(this._r.addEntry(e,o,c))}else if(r-=a.size,this.trackRemovals){const c=Wz(this._r.serializer,s.convertToNoDocument(Ne.min()));n.push(this._r.addEntry(e,o,c))}}),i.forEach(o=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,o))}),n.push(this._r.updateMetadata(e,r)),B.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(r=>(this.ar.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:r,sr:i})=>(i.forEach((o,s)=>{this.ar.set(o,{size:s,readTime:r.get(o).readTime})}),r))}}function m8(t){return Vr(t,"remoteDocumentGlobal")}function vd(t){return Vr(t,"remoteDocumentsV14")}function jy(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function _8(t,e){const n=e.documentKey.path.toArray();return[t,mE(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function y8(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=qe(n[o],r[o]),i)return i;return i=qe(n.length,r.length),i||(i=qe(n[n.length-2],r[r.length-2]),i||qe(n[n.length-1],r[r.length-1]))}class Kye{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class v8{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Dy(r.mutation,i,so.empty(),An.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ot()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ot()){const i=da();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=by();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=da();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ot()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=ao();const s=Ty(),a=Ty();return n.forEach((c,l)=>{const h=r.get(l.key);i.has(l.key)&&(void 0===h||h.mutation instanceof oc)?o=o.insert(l.key,l):void 0!==h?(s.set(l.key,h.mutation.getFieldMask()),Dy(h.mutation,l,h.mutation.getFieldMask(),An.now())):s.set(l.key,so.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var f;return a.set(l,new Kye(h,null!==(f=s.get(l))&&void 0!==f?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ty();let i=new un((s,a)=>s-a),o=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(c=>{const l=n.get(c);if(null===l)return;let h=r.get(c)||so.empty();h=a.applyToLocalView(l,h),r.set(c,h);const f=(i.get(a.batchId)||ot()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,h=c.value,f=uz();h.forEach(m=>{if(!o.has(m)){const v=vz(n.get(m),r.get(m));null!==v&&f.set(m,v),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,f))}return B.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return ve.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):cR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var s}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):B.resolve(da());let a=-1,c=o;return s.next(l=>B.forEach(l,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(h)?B.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,ot())).next(h=>({batchId:a,changes:lz(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(r=>{let i=by();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=by();return this.indexManager.getCollectionParents(e,o).next(a=>B.forEach(a,c=>{const l=(f=n,m=c.child(o),new rc(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt));var f,m;return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((f,m)=>{s=s.insert(f,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,l)=>{const h=l.getKey();null===s.get(h)&&(s=s.insert(h,Cn.newInvalidDocument(h)))});let a=by();return s.forEach((c,l)=>{const h=o.get(c);void 0!==h&&Dy(h.mutation,l,so.empty(),An.now()),Iy(n,l)&&(a=a.insert(c,l))}),a})}}class Zye{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return B.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(i=n).id,version:i.version,createTime:nr(i.createTime)}),B.resolve();var i}getNamedQuery(e,n){return B.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(i=n).name,query:wR(i.bundledQuery),readTime:nr(i.readTime)}),B.resolve();var i}}class Yye{constructor(){this.overlays=new un(ve.comparator),this.lr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=da();return B.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.lt(e,n,o)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=da(),o=n.length+1,s=new ve(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new un((l,h)=>l-h);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);null===h&&(h=da(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}const a=da(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return B.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new fR(n,r));let o=this.lr.get(n);void 0===o&&(o=ot(),this.lr.set(n,o)),this.lr.set(n,o.add(r.key))}}class TR{constructor(){this.hr=new Kt(Ur.Pr),this.Ir=new Kt(Ur.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Ur(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Ur(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new ve(new At([])),r=new Ur(n,e),i=new Ur(n,e+1),o=[];return this.Ir.forEachInRange([r,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new ve(new At([])),r=new Ur(n,e),i=new Ur(n,e+1);let o=ot();return this.Ir.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Ur(e,0),r=this.hr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Ur{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return ve.comparator(e.key,n.key)||qe(e.gr,n.gr)}static Tr(e,n){return qe(e.gr,n.gr)||ve.comparator(e.key,n.key)}}class Qye{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Kt(Ur.Pr)}checkEmpty(e){return B.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.pr;this.pr++;const s=new hR(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.yr=this.yr.add(new Ur(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(s)}lookupMutationBatch(e,n){return B.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Sr(n+1),o=i<0?0:i;return B.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ur(n,0),i=new Ur(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,i],s=>{const a=this.wr(s.gr);o.push(a)}),B.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Kt(qe);return n.forEach(i=>{const o=new Ur(i,0),s=new Ur(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{r=r.add(a.gr)})}),B.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ve.isDocumentKey(o)||(o=o.child(""));const s=new Ur(new ve(o),0);let a=new Kt(qe);return this.yr.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.gr)),!0)},s),B.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){ke(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return B.forEach(n.mutations,i=>{const o=new Ur(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Ur(n,0),i=this.yr.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return B.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Xye{constructor(e){this.Cr=e,this.docs=new un(ve.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Cn.newInvalidDocument(n))}getEntries(e,n){let r=ao();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Cn.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=ao();const s=n.path,a=new ve(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:h}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||XS(EH(h),r)<=0||(i.has(h.key)||Iy(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return B.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Te()}vr(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Jye(this)}getSize(e){return B.resolve(this.size)}}class Jye extends f8{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class eve{constructor(e){this.persistence=e,this.Fr=new ic(n=>ud(n),My),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.Mr=0,this.Or=new TR,this.targetCount=0,this.Nr=yd.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),B.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new yd(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.kn(n),B.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),B.waitFor(o).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),B.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Or.containsKey(n))}}class AR{constructor(e,n){this.Br={},this.overlays={},this.Lr=new bo(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new eve(this),this.indexManager=new Bye,this.remoteDocumentCache=new Xye(r=>this.referenceDelegate.Qr(r)),this.serializer=new Gz(n),this.Kr=new Zye(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Yye,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Qye(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){de("MemoryPersistence","Starting transaction:",e);const i=new tve(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(e,n){return B.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class tve extends OH{constructor(e){super(),this.currentSequenceNumber=e}}class EE{constructor(e){this.persistence=e,this.Gr=new TR,this.zr=null}static jr(e){return new EE(e)}get Hr(){if(this.zr)return this.zr;throw Te()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),B.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Hr,r=>{const i=ve.fromPath(r);return this.Jr(e,i).next(o=>{o||n.removeEntry(i,Ne.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return B.or([()=>B.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class nve{constructor(e){this.serializer=e}N(e,n,r,i){const o=new eE("createOrUpgrade",n);var c;r<1&&i>=1&&(e.createObjectStore("owner"),(c=e).createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",AH,{unique:!0}),c.createObjectStore("documentMutations"),C8(e),function(c){c.createObjectStore("remoteDocuments")}(e));let s=B.resolve();return r<3&&i>=3&&(0!==r&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),C8(e)),s=s.next(()=>function(c){const l=c.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ne.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",h)}(o))),r<4&&i>=4&&(0!==r&&(s=s.next(()=>function(c,l){return l.store("mutations").W().next(h=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",AH,{unique:!0});const f=l.store("mutations"),m=h.map(v=>f.put(v));return B.waitFor(m)})}(e,o))),s=s.next(()=>{!function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(s=s.next(()=>this.Zr(o))),r<6&&i>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(o)))),r<7&&i>=7&&(s=s.next(()=>this.ei(o))),r<8&&i>=8&&(s=s.next(()=>this.ti(e,o))),r<9&&i>=9&&(s=s.next(()=>{!function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(s=s.next(()=>this.ni(o))),r<11&&i>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{!function(c){const l=c.createObjectStore("documentOverlays",{keyPath:j_e});l.createIndex("collectionPathOverlayIndex",$_e,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",H_e,{unique:!1})}(e)})),r<13&&i>=13&&(s=s.next(()=>function(c){const l=c.createObjectStore("remoteDocumentsV14",{keyPath:D_e});l.createIndex("documentKeyIndex",S_e),l.createIndex("collectionGroupIndex",R_e)}(e)).next(()=>this.ri(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.ii(e,o))),r<15&&i>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:L_e}).createIndex("sequenceNumberIndex",V_e,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:U_e}).createIndex("documentKeyIndex",B_e,{unique:!1})}(e))),s}Xr(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=CE(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>B.forEach(i,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",s).next(a=>B.forEach(a,c=>{ke(c.userId===o.userId);const l=gd(this.serializer,c);return a8(e,o.userId,l).next(()=>{})}))}))}ei(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.Y((s,a)=>{const c=new At(s),l=[0,Ci(c)];o.push(n.get(l).next(h=>h?B.resolve():n.put({targetId:0,path:Ci(c),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>B.waitFor(o))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:F_e});const r=n.store("collectionParents"),i=new bR,o=s=>{if(i.add(s)){const a=s.lastSegment(),c=s.popLast();return r.put({collectionId:a,parent:Ci(c)})}};return n.store("remoteDocuments").Y({J:!0},(s,a)=>{const c=new At(s);return o(c.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([s,a,c],l)=>{const h=la(a);return o(h.popLast())}))}ni(e){const n=e.store("targets");return n.Y((r,i)=>{const o=Ly(i),s=qz(this.serializer,o);return n.put(s)})}ri(e,n){const r=n.store("remoteDocuments"),i=[];return r.Y((o,s)=>{const a=n.store("remoteDocumentsV14"),c=(f=s,f.document?new ve(At.fromString(f.document.name).popFirst(5)):f.noDocument?ve.fromSegments(f.noDocument.path):f.unknownDocument?ve.fromSegments(f.unknownDocument.path):Te()).path.toArray(),l={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var f;i.push(a.put(l))}).next(()=>B.waitFor(i))}ii(e,n){const r=n.store("mutations"),i=g8(this.serializer),o=new AR(EE.jr,this.serializer.ut);return r.W().next(s=>{const a=new Map;return s.forEach(c=>{var l;let h=null!==(l=a.get(c.userId))&&void 0!==l?l:ot();gd(this.serializer,c).keys().forEach(f=>h=h.add(f)),a.set(c.userId,h)}),B.forEach(a,(c,l)=>{const h=new Lr(l),f=_E.ct(this.serializer,h),m=o.getIndexManager(h),v=wE.ct(h,this.serializer,m,o.referenceDelegate);return new v8(i,v,f,m).recalculateAndSaveOverlaysForDocumentKeys(new tR(n,bo._e),c).next()})})}}function C8(t){t.createObjectStore("targetDocuments",{keyPath:k_e}).createIndex("documentTargetsIndex",N_e,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",x_e,{unique:!0}),t.createObjectStore("targetGlobal")}const DR="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class SR{constructor(e,n,r,i,o,s,a,c,l,h,f=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.si=o,this.window=s,this.document=a,this.oi=l,this._i=h,this.ai=f,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=m=>Promise.resolve(),!SR.D())throw new le(G.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Gye(this,i),this.Ii=n+"main",this.serializer=new Gz(c),this.Ti=new Ss(this.Ii,this.ai,new nve(this.serializer)),this.qr=new $ye(this.referenceDelegate,this.serializer),this.remoteDocumentCache=g8(this.serializer),this.Kr=new kye,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===h&&tr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new le(G.FAILED_PRECONDITION,DR);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new bo(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var n=this;return this.Pi=function(){var r=(0,x.Z)(function*(i){if(n.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var n=(0,x.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,x.Z)(function*(){n.started&&(yield n.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>OE(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(Ol(e))return de("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return de("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return $y(e).get("owner").next(n=>B.resolve(this.wi(n)))}Si(e){return OE(e).delete(this.clientId)}bi(){var e=this;return(0,x.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Vr(r,"clientMetadata");return i.W().next(o=>{const s=e.Ci(o,18e5),a=o.filter(c=>-1===s.indexOf(c));return B.forEach(a,c=>i.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Ei)for(const r of n)e.Ei.removeItem(e.vi(r.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?B.resolve(!0):$y(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new le(G.FAILED_PRECONDITION,DR);return!1}}return!(!this.networkEnabled||!this.inForeground)||OE(e).W().next(r=>void 0===this.Ci(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(n=>(this.isPrimary!==n&&de("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,x.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const r=new tR(n,bo._e);return e.pi(r).next(()=>e.Si(r))}),e.Ti.close(),e.Ni()})()}Ci(e,n){return e.filter(r=>this.Di(r.updateTimeMs,n)&&!this.Fi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>OE(e).W().next(n=>this.Ci(n,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return wE.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new jye(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return _E.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,r){de("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===n?"readonly":"readwrite",o=15===(c=this.ai)?G_e:14===c?xH:13===c?RH:12===c?z_e:11===c?SH:void Te();var c;let s;return this.Ti.runTransaction(e,i,o,a=>(s=new tR(a,this.Lr?this.Lr.next():bo._e),"readwrite-primary"===n?this.fi(s).next(c=>!!c||this.gi(s)).next(c=>{if(!c)throw tr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new le(G.FAILED_PRECONDITION,MH);return r(s)}).next(c=>this.yi(s).next(()=>c)):this.Li(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Li(e){return $y(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new le(G.FAILED_PRECONDITION,DR)})}yi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return $y(e).put("owner",n)}static D(){return Ss.D()}pi(e){const n=$y(e);return n.get("owner").next(r=>this.wi(r)?(de("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):B.resolve())}Di(e,n){const r=Date.now();return!(e<r-n||e>r&&(tr(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const n=/(?:Version|Mobile)\/1[456]/;(0,M.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{const r=null!==(null===(n=this.Ei)||void 0===n?void 0:n.getItem(this.vi(e)));return de("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return tr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){tr("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function $y(t){return Vr(t,"owner")}function OE(t){return Vr(t,"clientMetadata")}function RR(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class xR{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=ot(),i=ot();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new xR(e,n.fromCache,r,i)}}class rve{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class w8{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.zi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new rve;return this.Hi(e,n,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,n,s,a.size)})}).next(()=>o.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Wp()<=pi.in.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",tf(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),B.resolve()):(Wp()<=pi.in.DEBUG&&de("QueryEngine","Query:",tf(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Wp()<=pi.in.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",tf(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hi(n))):B.resolve())}zi(e,n){if(rz(n))return B.resolve(null);let r=Hi(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=uE(n,null,"F"),r=Hi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ot(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.Yi(n,a);return this.Zi(n,l,s,c.readTime)?this.zi(e,uE(n,null,"F")):this.Xi(e,l,n,c)}))})))}ji(e,n,r,i){return rz(n)||i.isEqual(Ne.min())?B.resolve(null):this.Gi.getDocuments(e,r).next(o=>{const s=this.Yi(n,o);return this.Zi(n,s,r,i)?B.resolve(null):(Wp()<=pi.in.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),tf(n)),this.Xi(e,s,n,PH(i,-1)).next(a=>a))})}Yi(e,n){let r=new Kt(az(e));return n.forEach((i,o)=>{Iy(e,o)&&(r=r.add(o))}),r}Zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(e,n,r){return Wp()<=pi.in.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",tf(n)),this.Gi.getDocumentsMatchingQuery(e,n,Io.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class ive{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new un(qe),this.ns=new ic(o=>ud(o),My),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new v8(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function P8(t,e,n,r){return new ive(t,e,n,r)}function E8(t,e){return kR.apply(this,arguments)}function kR(){return kR=(0,x.Z)(function*(t,e){const n=ye(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let c=ot();for(const l of i){s.push(l.batchId);for(const h of l.mutations)c=c.add(h.key)}for(const l of o){a.push(l.batchId);for(const h of l.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(l=>({_s:l,removedBatchIds:s,addedBatchIds:a}))})})}),kR.apply(this,arguments)}function M8(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function O8(t,e,n){let r=ot(),i=ot();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=ao();return n.forEach((a,c)=>{const l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Ne.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):de("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{us:s,cs:i}})}function ave(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ff(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(o=>o?(i=o,B.resolve(i)):n.qr.allocateTargetId(r).next(s=>(i=new sc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}function gf(t,e,n){return NR.apply(this,arguments)}function NR(){return NR=(0,x.Z)(function*(t,e,n){const r=ye(t),i=r.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Ol(s))throw s;de("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),NR.apply(this,arguments)}function IE(t,e,n){const r=ye(t);let i=Ne.min(),o=ot();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,h){const f=ye(c),m=f.ns.get(h);return void 0!==m?B.resolve(f.ts.get(m)):f.qr.getTargetData(l,h)}(r,s,Hi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.es.getDocumentsMatchingQuery(s,e,n?i:Ne.min(),n?o:ot())).next(a=>(T8(r,sz(e),a),{documents:a,ls:o})))}function I8(t,e){const n=ye(t),r=ye(n.qr),i=n.ts.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",o=>r._t(o,e).next(s=>s?s.target:null))}function b8(t,e){const n=ye(t),r=n.rs.get(e)||Ne.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.ss.getAllFromCollectionGroup(i,e,PH(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(T8(n,e,i),i))}function T8(t,e,n){let r=t.rs.get(e)||Ne.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.rs.set(e,r)}function FR(){return FR=(0,x.Z)(function*(t,e,n,r){const i=ye(t);let o=ot(),s=ao();for(const l of n){const h=e.hs(l.metadata.name);l.document&&(o=o.add(h));const f=e.Ps(l);f.setReadTime(e.Is(l.metadata.readTime)),s=s.insert(h,f)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),c=yield ff(i,(h=r,Hi(Jp(At.fromString(`__bundle__/docs/${h}`)))));var h;return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>O8(l,a,s).next(h=>(a.apply(l),h)).next(h=>i.qr.removeMatchingKeysForTargetId(l,c.targetId).next(()=>i.qr.addMatchingKeys(l,o,c.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,h.us,h.cs)).next(()=>h.us)))}),FR.apply(this,arguments)}function lve(t,e){return LR.apply(this,arguments)}function LR(){return LR=(0,x.Z)(function*(t,e,n=ot()){const r=yield ff(t,Hi(wR(e.bundledQuery))),i=ye(t);return i.persistence.runTransaction("Save named query","readwrite",o=>{const s=nr(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Kr.saveNamedQuery(o,e);const a=r.withResumeToken(Ir.EMPTY_BYTE_STRING,s);return i.ts=i.ts.insert(a.targetId,a),i.qr.updateTargetData(o,a).next(()=>i.qr.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.qr.addMatchingKeys(o,n,r.targetId)).next(()=>i.Kr.saveNamedQuery(o,e))})}),LR.apply(this,arguments)}function A8(t,e){return`firestore_clients_${t}_${e}`}function D8(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function VR(t,e){return`firestore_targets_${t}_${e}`}class bE{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ts(e,n,r){const i=JSON.parse(r);let o,s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(o=new le(i.error.code,i.error.message))),s?new bE(e,n,i.state,o):(tr("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Hy{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ts(e,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new le(r.error.code,r.error.message))),o?new Hy(e,r.state,i):(tr("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class TE{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ts(e,n){const r=JSON.parse(n);let i="object"==typeof r&&r.activeTargetIds instanceof Array,o=uR();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=bH(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new TE(e,o):(tr("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class UR{constructor(e,n){this.clientId=e,this.onlineState=n}static Ts(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new UR(n.clientId,n.onlineState):(tr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class BR{constructor(){this.activeTargetIds=uR()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jR{constructor(e,n,r,i,o){this.window=e,this.si=n,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new un(qe),this.started=!1,this.ps=[];const s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ys=A8(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new BR),this.Ss=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,x.Z)(function*(){const n=yield e.syncEngine.Bi();for(const i of n){if(i===e.Rs)continue;const o=e.getItem(A8(e.persistenceKey,i));if(o){const s=TE.Ts(i,o);s&&(e.gs=e.gs.insert(s.clientId,s))}}e.Fs();const r=e.storage.getItem(e.Cs);if(r){const i=e.Ms(r);i&&e.xs(i)}for(const i of e.ps)e.fs(i);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let n=!1;return this.gs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,n,r){this.Ns(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(VR(this.persistenceKey,e));if(r){const i=Hy.Ts(e,r);i&&(n=i.state)}}return this.Ls.ds(e),this.Fs(),n}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(VR(this.persistenceKey,e))}updateQueryState(e,n,r){this.ks(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return de("SharedClientState","READ",e,n),n}setItem(e,n){de("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){de("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var n=this;const r=e;if(r.storageArea===this.storage){if(de("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ys)return void tr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,x.Z)(function*(){if(n.started){if(null!==r.key)if(n.Ss.test(r.key)){if(null==r.newValue){const i=n.Ks(r.key);return n.$s(i,null)}{const i=n.Us(r.key,r.newValue);if(i)return n.$s(i.clientId,i)}}else if(n.bs.test(r.key)){if(null!==r.newValue){const i=n.Ws(r.key,r.newValue);if(i)return n.Gs(i)}}else if(n.Ds.test(r.key)){if(null!==r.newValue){const i=n.zs(r.key,r.newValue);if(i)return n.js(i)}}else if(r.key===n.Cs){if(null!==r.newValue){const i=n.Ms(r.newValue);if(i)return n.xs(i)}}else if(r.key===n.ws){const i=function(s){let a=bo._e;if(null!=s)try{const c=JSON.parse(s);ke("number"==typeof c),a=c}catch(c){tr("SharedClientState","Failed to read sequence number from WebStorage",c)}return a}(r.newValue);i!==bo._e&&n.sequenceNumberHandler(i)}else if(r.key===n.vs){const i=n.Hs(r.newValue);yield Promise.all(i.map(o=>n.syncEngine.Js(o)))}}else n.ps.push(r)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,n,r){const i=new bE(this.currentUser,e,n,r),o=D8(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Es())}Bs(e){const n=D8(this.persistenceKey,this.currentUser,e);this.removeItem(n)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,n,r){const i=VR(this.persistenceKey,e),o=new Hy(e,n,r);this.setItem(i,o.Es())}Qs(e){const n=JSON.stringify(Array.from(e));this.setItem(this.vs,n)}Ks(e){const n=this.Ss.exec(e);return n?n[1]:null}Us(e,n){const r=this.Ks(e);return TE.Ts(r,n)}Ws(e,n){const r=this.bs.exec(e),i=Number(r[1]);return bE.Ts(new Lr(void 0!==r[2]?r[2]:null),i,n)}zs(e,n){const r=this.Ds.exec(e),i=Number(r[1]);return Hy.Ts(i,n)}Ms(e){return UR.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var n=this;return(0,x.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Ys(e.batchId,e.state,e.error);de("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,n){const r=n?this.gs.insert(e,n):this.gs.remove(e),i=this.Os(this.gs),o=this.Os(r),s=[],a=[];return o.forEach(c=>{i.has(c)||s.push(c)}),i.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.Xs(s,a).then(()=>{this.gs=r})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let n=uR();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class S8{constructor(){this.eo=new BR,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new BR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class uve{ro(e){}shutdown(){}}class R8{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){de("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){de("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let AE=null;function $R(){return null===AE?AE=268435456+Math.round(2147483648*Math.random()):AE++,"0x"+AE.toString(16)}const dve={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hve{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Pi="WebChannelConnection";class pve extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${o}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get yo(){return!1}wo(n,r,i,o,s){const a=$R(),c=this.So(n,r);de("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,o,s),this.Do(n,c,l,i).then(h=>(de("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw oo("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",c,"request:",i),h})}Co(n,r,i,o,s,a){return this.wo(n,r,i,o,s)}bo(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+Gp,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}So(n,r){return`${this.mo}/v1/${r}:${dve[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const o=$R();return new Promise((s,a)=>{const c=new u_e;c.setWithCredentials(!0),c.listenOnce(a_e.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case ZS.NO_ERROR:const h=c.getResponseJson();de(Pi,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case ZS.TIMEOUT:de(Pi,`RPC '${e}' ${o} timed out`),a(new le(G.DEADLINE_EXCEEDED,"Request time out"));break;case ZS.HTTP_ERROR:const f=c.getStatus();if(de(Pi,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const v=m?.error;if(v&&v.status&&v.message){const E=function(b){const L=b.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(L)>=0?L:G.UNKNOWN}(v.status);a(new le(E,v.message))}else a(new le(G.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new le(G.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{de(Pi,`RPC '${e}' ${o} completed.`)}});const l=JSON.stringify(i);de(Pi,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",l,r,15)})}vo(e,n,r){const i=$R(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=o_e(),a=s_e(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new l_e({})),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=o.join("");de(Pi,`Creating RPC '${e}' stream ${i}: ${h}`,c);const f=s.createWebChannel(h,c);let m=!1,v=!1;const E=new hve({co:b=>{v?de(Pi,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(m||(de(Pi,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),de(Pi,`RPC '${e}' stream ${i} sending:`,b),f.send(b))},lo:()=>f.close()}),I=(b,L,k)=>{b.listen(L,H=>{try{k(H)}catch($){setTimeout(()=>{throw $},0)}})};return I(f,JP.EventType.OPEN,()=>{v||de(Pi,`RPC '${e}' stream ${i} transport opened.`)}),I(f,JP.EventType.CLOSE,()=>{v||(v=!0,de(Pi,`RPC '${e}' stream ${i} transport closed`),E.Ro())}),I(f,JP.EventType.ERROR,b=>{v||(v=!0,oo(Pi,`RPC '${e}' stream ${i} transport errored:`,b),E.Ro(new le(G.UNAVAILABLE,"The operation could not be completed")))}),I(f,JP.EventType.MESSAGE,b=>{var L;if(!v){const k=b.data[0];ke(!!k);const $=k.error||(null===(L=k[0])||void 0===L?void 0:L.error);if($){de(Pi,`RPC '${e}' stream ${i} received error:`,$);const pe=$.status;let Oe=function(co){const Af=hr[co];if(void 0!==Af)return Oz(Af)}(pe),at=$.message;void 0===Oe&&(Oe=G.INTERNAL,at="Unknown error status: "+pe+" with message "+$.message),v=!0,E.Ro(new le(Oe,at)),f.close()}else de(Pi,`RPC '${e}' stream ${i} received:`,k),E.Vo(k)}}),I(a,c_e.STAT_EVENT,b=>{b.stat===mH.PROXY?de(Pi,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===mH.NOPROXY&&de(Pi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.Ao()},0),E}}function x8(){return typeof window<"u"?window:null}function DE(){return typeof document<"u"?document:null}function zy(t){return new Eye(t,!0)}class HR{constructor(e,n,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&de("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class k8{constructor(e,n,r,i,o,s,a,c){this.si=e,this.Ko=r,this.$o=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new HR(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,x.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,x.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var r=this;return(0,x.Z)(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():n&&n.code===G.RESOURCE_EXHAUSTED?(tr(n.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):n&&n.code===G.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new le(G.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko((0,x.Z)(function*(){e.state=0,e.start()}))}o_(e){return de("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(de("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fve extends k8{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function Iye(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:Te(),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(ke(void 0===h||"string"==typeof h),Ir.fromBase64String(h||"")):(ke(void 0===h||h instanceof Uint8Array),Ir.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const h=void 0===l.code?G.UNKNOWN:Oz(l.code);return new le(h,l.message||"")}(s);n=new Dz(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=ha(t,r.document.name),o=nr(r.document.updateTime),s=r.document.createTime?nr(r.document.createTime):Ne.min(),a=new ei({mapValue:{fields:r.document.fields}}),c=Cn.newFoundDocument(i,o,s,a);n=new gE(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=ha(t,r.document),o=r.readTime?nr(r.readTime):Ne.min(),s=Cn.newNoDocument(i,o);n=new gE([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=ha(t,r.document);n=new gE([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Te();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new _ye(i,o);n=new Az(r.targetId,s)}}var l;return n}(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ne.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Ne.min():s.readTime?nr(s.readTime):Ne.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=Ny(this.serializer),n.addTarget=function(o,s){let a;const c=s.target;if(a=cE(c)?{documents:Bz(o,c)}:{query:CR(o,c)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=kz(o,s.resumeToken);const l=mR(o,s.expectedCount);null!==l&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(Ne.min())>0){a.readTime=cf(o,s.snapshotVersion.toTimestamp());const l=mR(o,s.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,e);const r=function Tye(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=Ny(this.serializer),n.removeTarget=e,this.e_(n)}}class gve extends k8{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function bye(t,e){return t&&t.length>0?(ke(void 0!==e),t.map(n=>function(i,o){let s=nr(i.updateTime?i.updateTime:o);return s.isEqual(Ne.min())&&(s=nr(o)),new pye(s,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=nr(e.commitTime);return this.listener.I_(r,n)}return ke(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Ny(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Fy(this.serializer,r))};this.e_(n)}}class mve extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new le(G.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.wo(e,n,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new le(G.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,n,r,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new le(G.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class yve{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(tr(n),this.f_=!1):de("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class vve{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{r.enqueueAndForget((0,x.Z)(function*(){var c;Ll(s)&&(de("RemoteStore","Restarting streams for network reachability change."),yield(c=(0,x.Z)(function*(h){const f=ye(h);f.C_.add(4),yield mf(f),f.M_.set("Unknown"),f.C_.delete(4),yield Gy(f)}),function l(h){return c.apply(this,arguments)})(s))}))}),this.M_=new yve(r,i)}}function Gy(t){return GR.apply(this,arguments)}function GR(){return GR=(0,x.Z)(function*(t){if(Ll(t))for(const e of t.v_)yield e(!0)}),GR.apply(this,arguments)}function mf(t){return WR.apply(this,arguments)}function WR(){return WR=(0,x.Z)(function*(t){for(const e of t.v_)yield e(!1)}),WR.apply(this,arguments)}function SE(t,e){const n=ye(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),ZR(n)?KR(n):yf(n).Ho()&&qR(n,e))}function Wy(t,e){const n=ye(t),r=yf(n);n.D_.delete(e),r.Ho()&&N8(n,e),0===n.D_.size&&(r.Ho()?r.Zo():Ll(n)&&n.M_.set("Unknown"))}function qR(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yf(t).u_(e)}function N8(t,e){t.x_.Oe(e),yf(t).c_(e)}function KR(t){t.x_=new vye({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),yf(t).start(),t.M_.g_()}function ZR(t){return Ll(t)&&!yf(t).jo()&&t.D_.size>0}function Ll(t){return 0===ye(t).C_.size}function F8(t){t.x_=void 0}function Cve(t){return YR.apply(this,arguments)}function YR(){return YR=(0,x.Z)(function*(t){t.D_.forEach((e,n)=>{qR(t,e)})}),YR.apply(this,arguments)}function wve(t,e){return QR.apply(this,arguments)}function QR(){return QR=(0,x.Z)(function*(t,e){F8(t),ZR(t)?(t.M_.w_(e),KR(t)):t.M_.set("Unknown")}),QR.apply(this,arguments)}function Pve(t,e,n){return XR.apply(this,arguments)}function XR(){return XR=(0,x.Z)(function*(t,e,n){if(t.M_.set("Online"),e instanceof Dz&&2===e.state&&e.cause)try{yield(r=(0,x.Z)(function*(o,s){const a=s.cause;for(const c of s.targetIds)o.D_.has(c)&&(yield o.remoteSyncer.rejectListen(c,a),o.D_.delete(c),o.x_.removeTarget(c))}),function i(o,s){return r.apply(this,arguments)})(t,e)}catch(r){de("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield RE(t,r)}else if(e instanceof gE?t.x_.$e(e):e instanceof Az?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(Ne.min()))try{const r=yield M8(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const h=o.D_.get(l);h&&o.D_.set(l,h.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{const h=o.D_.get(c);if(!h)return;o.D_.set(c,h.withResumeToken(Ir.EMPTY_BYTE_STRING,h.snapshotVersion)),N8(o,c);const f=new sc(h.target,c,l,h.sequenceNumber);qR(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){de("RemoteStore","Failed to raise snapshot:",r),yield RE(t,r)}var r}),XR.apply(this,arguments)}function RE(t,e,n){return JR.apply(this,arguments)}function JR(){return JR=(0,x.Z)(function*(t,e,n){if(!Ol(e))throw e;t.C_.add(1),yield mf(t),t.M_.set("Offline"),n||(n=()=>M8(t.localStore)),t.asyncQueue.enqueueRetryable((0,x.Z)(function*(){de("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield Gy(t)}))}),JR.apply(this,arguments)}function L8(t,e){return e().catch(n=>RE(t,n,e))}function _f(t){return ex.apply(this,arguments)}function ex(){return ex=(0,x.Z)(function*(t){const e=ye(t),n=Vl(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Eve(e);)try{const i=yield ave(e.localStore,r);if(null===i){0===e.b_.length&&n.Zo();break}r=i.batchId,Mve(e,i)}catch(i){yield RE(e,i)}V8(e)&&U8(e)}),ex.apply(this,arguments)}function Eve(t){return Ll(t)&&t.b_.length<10}function Mve(t,e){t.b_.push(e);const n=Vl(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function V8(t){return Ll(t)&&!Vl(t).jo()&&t.b_.length>0}function U8(t){Vl(t).start()}function Ove(t){return tx.apply(this,arguments)}function tx(){return tx=(0,x.Z)(function*(t){Vl(t).E_()}),tx.apply(this,arguments)}function Ive(t){return nx.apply(this,arguments)}function nx(){return nx=(0,x.Z)(function*(t){const e=Vl(t);for(const n of t.b_)e.P_(n.mutations)}),nx.apply(this,arguments)}function bve(t,e,n){return rx.apply(this,arguments)}function rx(){return rx=(0,x.Z)(function*(t,e,n){const r=t.b_.shift(),i=pR.from(r,e,n);yield L8(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield _f(t)}),rx.apply(this,arguments)}function Tve(t,e){return ix.apply(this,arguments)}function ix(){return ix=(0,x.Z)(function*(t,e){var n;e&&Vl(t).h_&&(yield(n=(0,x.Z)(function*(i,o){if(Mz(a=o.code)&&a!==G.ABORTED){const s=i.b_.shift();Vl(i).Yo(),yield L8(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield _f(i)}var a}),function r(i,o){return n.apply(this,arguments)})(t,e)),V8(t)&&U8(t)}),ix.apply(this,arguments)}function B8(t,e){return ox.apply(this,arguments)}function ox(){return ox=(0,x.Z)(function*(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),de("RemoteStore","RemoteStore received new credentials");const r=Ll(n);n.C_.add(3),yield mf(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield Gy(n)}),ox.apply(this,arguments)}function sx(t,e){return ax.apply(this,arguments)}function ax(){return ax=(0,x.Z)(function*(t,e){const n=ye(t);e?(n.C_.delete(2),yield Gy(n)):e||(n.C_.add(2),yield mf(n),n.M_.set("Unknown"))}),ax.apply(this,arguments)}function yf(t){return t.O_||(t.O_=function(n,r,i){const o=ye(n);return o.A_(),new fve(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:Cve.bind(null,t),Io:wve.bind(null,t),a_:Pve.bind(null,t)}),t.v_.push(function(){var e=(0,x.Z)(function*(n){n?(t.O_.Yo(),ZR(t)?KR(t):t.M_.set("Unknown")):(yield t.O_.stop(),F8(t))});return function(n){return e.apply(this,arguments)}}())),t.O_}function Vl(t){return t.N_||(t.N_=function(n,r,i){const o=ye(n);return o.A_(),new gve(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:Ove.bind(null,t),Io:Tve.bind(null,t),T_:Ive.bind(null,t),I_:bve.bind(null,t)}),t.v_.push(function(){var e=(0,x.Z)(function*(n){n?(t.N_.Yo(),yield _f(t)):(yield t.N_.stop(),t.b_.length>0&&(de("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))});return function(n){return e.apply(this,arguments)}}())),t.N_}class cx{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new cx(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new le(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vf(t,e){if(tr("AsyncQueue",`${e}: ${t}`),Ol(t))return new le(G.UNAVAILABLE,`${e}: ${t}`);throw t}class Cf{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ve.comparator(n.key,r.key):(n,r)=>ve.comparator(n.key,r.key),this.keyedMap=by(),this.sortedSet=new un(this.comparator)}static emptySet(e){return new Cf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Cf)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Cf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class j8{constructor(){this.B_=new un(ve.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(n):1===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Te():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class wf{constructor(e,n,r,i,o,s,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new wf(e,n,Cf.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Ave{constructor(){this.k_=void 0,this.listeners=[]}}class Dve{constructor(){this.queries=new ic(e=>oz(e),Oy),this.onlineState="Unknown",this.q_=new Set}}function lx(t,e){return ux.apply(this,arguments)}function ux(){return ux=(0,x.Z)(function*(t,e){const n=ye(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Ave),i)try{o.k_=yield n.onListen(r)}catch(s){const a=vf(s,`Initialization of query '${tf(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Q_(n.onlineState),o.k_&&e.K_(o.k_)&&px(n)}),ux.apply(this,arguments)}function dx(t,e){return hx.apply(this,arguments)}function hx(){return hx=(0,x.Z)(function*(t,e){const n=ye(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),hx.apply(this,arguments)}function Sve(t,e){const n=ye(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.listeners)a.K_(i)&&(r=!0);s.k_=i}}r&&px(n)}function Rve(t,e,n){const r=ye(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function px(t){t.q_.forEach(e=>{e.next()})}class fx{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new wf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=wf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class xve{constructor(e,n){this.Y_=e,this.byteLength=n}Z_(){return"metadata"in this.Y_}}class $8{constructor(e){this.serializer=e}hs(e){return ha(this.serializer,e)}Ps(e){return e.metadata.exists?Uz(this.serializer,e.document,!1):Cn.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return nr(e)}}class kve{constructor(e,n,r){this.X_=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=H8(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++n;const r=At.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ta(e){const n=new Map,r=new $8(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.hs(i.metadata.name);for(const s of i.metadata.queries){const a=(n.get(s)||ot()).add(o);n.set(s,a)}}return n}complete(){var e=this;return(0,x.Z)(function*(){const n=yield function cve(t,e,n,r){return FR.apply(this,arguments)}(e.localStore,new $8(e.serializer),e.documents,e.X_.id),r=e.ta(e.documents);for(const i of e.queries)yield lve(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:n}})()}}function H8(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class z8{constructor(e){this.key=e}}class G8{constructor(e){this.key=e}}class W8{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ot(),this.mutatedKeys=ot(),this._a=az(e),this.aa=new Cf(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new j8,i=n?n.aa:this.aa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const m=i.get(h),v=Iy(this.query,f)?f:null,E=!!m&&this.mutatedKeys.has(m.key),I=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let b=!1;m&&v?m.data.isEqual(v.data)?E!==I&&(r.track({type:3,doc:v}),b=!0):this.ha(m,v)||(r.track({type:2,doc:v}),b=!0,(c&&this._a(v,c)>0||l&&this._a(v,l)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),b=!0):m&&!v&&(r.track({type:1,doc:m}),b=!0,(c||l)&&(a=!0)),b&&(v?(s=s.add(v),o=I?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const h="F"===this.query.limitType?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{aa:s,la:r,Zi:a,mutatedKeys:o}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((l,h)=>function(m,v){const E=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return E(m)-E(v)}(l.type,h.type)||this._a(l.doc,h.doc)),this.Pa(r);const s=n?this.Ia():[],a=0===this.oa.size&&this.current?1:0,c=a!==this.sa;return this.sa=a,0!==o.length||c?{snapshot:new wf(this.query,e.aa,i,o,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new j8,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ot(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new G8(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new z8(r))}),n}da(e){this.ia=e.ls,this.oa=ot();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return wf.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Nve{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Fve{constructor(e){this.key=e,this.Ra=!1}}class Lve{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new ic(a=>oz(a),Oy),this.fa=new Map,this.ga=new Set,this.pa=new un(ve.comparator),this.ya=new Map,this.wa=new TR,this.Sa={},this.ba=new Map,this.Da=yd.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function Vve(t,e){return gx.apply(this,arguments)}function gx(){return gx=(0,x.Z)(function*(t,e){const n=Vx(t);let r,i;const o=n.ma.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{const s=yield ff(n.localStore,Hi(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield mx(n,e,r,"current"===a,s.resumeToken),n.isPrimaryClient&&SE(n.remoteStore,s)}return i}),gx.apply(this,arguments)}function mx(t,e,n,r,i){return _x.apply(this,arguments)}function _x(){return _x=(0,x.Z)(function*(t,e,n,r,i){t.va=(f,m,v)=>{return(E=(0,x.Z)(function*(b,L,k,H){let $=L.view.ca(k);$.Zi&&($=yield IE(b.localStore,L.query,!1).then(({documents:at})=>L.view.ca(at,$)));const pe=H&&H.targetChanges.get(L.targetId),Oe=L.view.applyChanges($,b.isPrimaryClient,pe);return bx(b,L.targetId,Oe.Ta),Oe.snapshot}),function I(b,L,k,H){return E.apply(this,arguments)})(t,f,m,v);var E};const o=yield IE(t.localStore,e,!0),s=new W8(e,o.ls),a=s.ca(o.documents),c=xy.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=s.applyChanges(a,t.isPrimaryClient,c);bx(t,n,l.Ta);const h=new Nve(e,n,s);return t.ma.set(e,h),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),l.snapshot}),_x.apply(this,arguments)}function Uve(t,e){return yx.apply(this,arguments)}function yx(){return yx=(0,x.Z)(function*(t,e){const n=ye(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(o=>!Oy(o,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield gf(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Wy(n.remoteStore,r.targetId),Pf(n,r.targetId)}).catch(Ml))):(Pf(n,r.targetId),yield gf(n.localStore,r.targetId,!0))}),yx.apply(this,arguments)}function vx(){return vx=(0,x.Z)(function*(t,e,n){const r=Ux(t);try{const i=yield function(s,a){const c=ye(s),l=An.now(),h=a.reduce((v,E)=>v.add(E.key),ot());let f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let E=ao(),I=ot();return c.ss.getEntries(v,h).next(b=>{E=b,E.forEach((L,k)=>{k.isValidDocument()||(I=I.add(L))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,E)).next(b=>{f=b;const L=[];for(const k of a){const H=gye(k,f.get(k.key).overlayedDocument);null!=H&&L.push(new oc(k.key,H,zH(H.value.mapValue),Dn.exists(!0)))}return c.mutationQueue.addMutationBatch(v,l,L,a)}).next(b=>{m=b;const L=b.applyToLocalDocumentSet(f,I);return c.documentOverlayCache.saveOverlays(v,b.batchId,L)})}).then(()=>({batchId:m.batchId,changes:lz(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let l=s.Sa[s.currentUser.toKey()];l||(l=new un(qe)),l=l.insert(a,c),s.Sa[s.currentUser.toKey()]=l}(r,i.batchId,n),yield ac(r,i.changes),yield _f(r.remoteStore)}catch(i){const o=vf(i,"Failed to persist write");n.reject(o)}}),vx.apply(this,arguments)}function q8(t,e){return Cx.apply(this,arguments)}function Cx(){return Cx=(0,x.Z)(function*(t,e){const n=ye(t);try{const r=yield function sve(t,e){const n=ye(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((h,f)=>{const m=i.get(f);if(!m)return;a.push(n.qr.removeMatchingKeys(o,h.removedDocuments,f).next(()=>n.qr.addMatchingKeys(o,h.addedDocuments,f)));let v=m.withSequenceNumber(o.currentSequenceNumber);var I,b,L;null!==e.targetMismatches.get(f)?v=v.withResumeToken(Ir.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(f,v),b=v,L=h,(0===(I=m).resumeToken.approximateByteSize()||b.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8||L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0)&&a.push(n.qr.updateTargetData(o,v))});let c=ao(),l=ot();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(O8(o,s,e.documentUpdates).next(h=>{c=h.us,l=h.cs})),!r.isEqual(Ne.min())){const h=n.qr.getLastRemoteSnapshotVersion(o).next(f=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return B.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(n.ts=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.ya.get(o);s&&(ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ra=!0:i.modifiedDocuments.size>0?ke(s.Ra):i.removedDocuments.size>0&&(ke(s.Ra),s.Ra=!1))}),yield ac(n,r,e)}catch(r){yield Ml(r)}}),Cx.apply(this,arguments)}function K8(t,e,n){const r=ye(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const c=ye(s);c.onlineState=a;let l=!1;c.queries.forEach((h,f)=>{for(const m of f.listeners)m.Q_(a)&&(l=!0)}),l&&px(c)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function jve(t,e,n){return wx.apply(this,arguments)}function wx(){return wx=(0,x.Z)(function*(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),o=i&&i.key;if(o){let s=new un(ve.comparator);s=s.insert(o,Cn.newNoDocument(o,Ne.min()));const a=ot().add(o),c=new Ry(Ne.min(),new Map,new un(qe),s,a);yield q8(r,c),r.pa=r.pa.remove(o),r.ya.delete(e),Tx(r)}else yield gf(r.localStore,e,!1).then(()=>Pf(r,e,n)).catch(Ml)}),wx.apply(this,arguments)}function $ve(t,e){return Px.apply(this,arguments)}function Px(){return Px=(0,x.Z)(function*(t,e){const n=ye(t),r=e.batch.batchId;try{const i=yield function ove(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,h){const f=l.batch,m=f.keys();let v=B.resolve();return m.forEach(E=>{v=v.next(()=>h.getEntry(c,E)).next(I=>{const b=l.docVersions.get(E);ke(null!==b),I.version.compareTo(b)<0&&(f.applyToRemoteDocument(I,l),I.isValidDocument()&&(I.setReadTime(l.commitVersion),h.addEntry(I)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=ot();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);Ix(n,r,null),Ox(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield ac(n,i)}catch(i){yield Ml(i)}}),Px.apply(this,arguments)}function Hve(t,e,n){return Ex.apply(this,arguments)}function Ex(){return Ex=(0,x.Z)(function*(t,e,n){const r=ye(t);try{const i=yield function(s,a){const c=ye(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return c.mutationQueue.lookupMutationBatch(l,a).next(f=>(ke(null!==f),h=f.keys(),c.mutationQueue.removeMutationBatch(l,f))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>c.localDocuments.getDocuments(l,h))})}(r.localStore,e);Ix(r,e,n),Ox(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield ac(r,i)}catch(i){yield Ml(i)}}),Ex.apply(this,arguments)}function Mx(){return Mx=(0,x.Z)(function*(t,e){const n=ye(t);Ll(n.remoteStore)||de("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const a=ye(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(n.localStore);if(-1===r)return void e.resolve();const i=n.ba.get(r)||[];i.push(e),n.ba.set(r,i)}catch(r){const i=vf(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),Mx.apply(this,arguments)}function Ox(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function Ix(t,e,n){const r=ye(t);let i=r.Sa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Pf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||Z8(t,r)})}function Z8(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);null!==n&&(Wy(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),Tx(t))}function bx(t,e,n){for(const r of n)r instanceof z8?(t.wa.addReference(r.key,e),Gve(t,r)):r instanceof G8?(de("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||Z8(t,r.key)):Te()}function Gve(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(de("SyncEngine","New document in limbo: "+n),t.ga.add(r),Tx(t))}function Tx(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new ve(At.fromString(e)),r=t.Da.next();t.ya.set(r,new Fve(n)),t.pa=t.pa.insert(n,r),SE(t.remoteStore,new sc(Hi(Jp(n.path)),r,"TargetPurposeLimboResolution",bo._e))}}function ac(t,e,n){return Ax.apply(this,arguments)}function Ax(){return Ax=(0,x.Z)(function*(t,e,n){const r=ye(t),i=[],o=[],s=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,c)=>{s.push(r.va(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const h=xR.Qi(c.targetId,l);o.push(h)}}))}),yield Promise.all(s),r.Va.a_(i),yield(a=(0,x.Z)(function*(l,h){const f=ye(l);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>B.forEach(h,v=>B.forEach(v.ki,E=>f.persistence.referenceDelegate.addReference(m,v.targetId,E)).next(()=>B.forEach(v.qi,E=>f.persistence.referenceDelegate.removeReference(m,v.targetId,E)))))}catch(m){if(!Ol(m))throw m;de("LocalStore","Failed to update sequence numbers: "+m)}for(const m of h){const v=m.targetId;if(!m.fromCache){const E=f.ts.get(v),b=E.withLastLimboFreeSnapshotVersion(E.snapshotVersion);f.ts=f.ts.insert(v,b)}}}),function c(l,h){return a.apply(this,arguments)})(r.localStore,o))}),Ax.apply(this,arguments)}function Wve(t,e){return Dx.apply(this,arguments)}function Dx(){return Dx=(0,x.Z)(function*(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){de("SyncEngine","User change. New user:",e.toKey());const r=yield E8(n.localStore,e);n.currentUser=e,(o=n).ba.forEach(a=>{a.forEach(c=>{c.reject(new le(G.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ba.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ac(n,r._s)}var o}),Dx.apply(this,arguments)}function qve(t,e){const n=ye(t),r=n.ya.get(e);if(r&&r.Ra)return ot().add(r.key);{let i=ot();const o=n.fa.get(e);if(!o)return i;for(const s of o){const a=n.ma.get(s);i=i.unionWith(a.view.ua)}return i}}function Kve(t,e){return Sx.apply(this,arguments)}function Sx(){return Sx=(0,x.Z)(function*(t,e){const n=ye(t),r=yield IE(n.localStore,e.query,!0),i=e.view.da(r);return n.isPrimaryClient&&bx(n,e.targetId,i.Ta),i}),Sx.apply(this,arguments)}function Zve(t,e){return Rx.apply(this,arguments)}function Rx(){return Rx=(0,x.Z)(function*(t,e){const n=ye(t);return b8(n.localStore,e).then(r=>ac(n,r))}),Rx.apply(this,arguments)}function Yve(t,e,n,r){return xx.apply(this,arguments)}function xx(){return xx=(0,x.Z)(function*(t,e,n,r){const i=ye(t),o=yield function(a,c){const l=ye(a),h=ye(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",f=>h.Cn(f,c).next(m=>m?l.localDocuments.getDocuments(f,m):B.resolve(null)))}(i.localStore,e);var c;null!==o?("pending"===n?yield _f(i.remoteStore):"acknowledged"===n||"rejected"===n?(Ix(i,e,r||null),Ox(i,e),c=e,ye(ye(i.localStore).mutationQueue).Fn(c)):Te(),yield ac(i,o)):de("SyncEngine","Cannot apply mutation batch with id: "+e)}),xx.apply(this,arguments)}function kx(){return kx=(0,x.Z)(function*(t,e){const n=ye(t);if(Vx(n),Ux(n),!0===e&&!0!==n.Ca){const r=n.sharedClientState.getAllActiveQueryTargets(),i=yield Y8(n,r.toArray());n.Ca=!0,yield sx(n.remoteStore,!0);for(const o of i)SE(n.remoteStore,o)}else if(!1===e&&!1!==n.Ca){const r=[];let i=Promise.resolve();n.fa.forEach((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(Pf(n,s),gf(n.localStore,s,!0))),Wy(n.remoteStore,s)}),yield i,yield Y8(n,r),function(s){const a=ye(s);a.ya.forEach((c,l)=>{Wy(a.remoteStore,l)}),a.wa.Vr(),a.ya=new Map,a.pa=new un(ve.comparator)}(n),n.Ca=!1,yield sx(n.remoteStore,!1)}}),kx.apply(this,arguments)}function Y8(t,e,n){return Nx.apply(this,arguments)}function Nx(){return Nx=(0,x.Z)(function*(t,e,n){const r=ye(t),i=[],o=[];for(const s of e){let a;const c=r.fa.get(s);if(c&&0!==c.length){a=yield ff(r.localStore,Hi(c[0]));for(const l of c){const h=r.ma.get(l),f=yield Kve(r,h);f.snapshot&&o.push(f.snapshot)}}else{const l=yield I8(r.localStore,s);a=yield ff(r.localStore,l),yield mx(r,Q8(l),s,!1,a.resumeToken)}i.push(a)}return r.Va.a_(o),i}),Nx.apply(this,arguments)}function Q8(t){return nz(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Xve(t){return n=ye(t).localStore,ye(ye(n).persistence).Bi();var n}function Jve(t,e,n,r){return Fx.apply(this,arguments)}function Fx(){return Fx=(0,x.Z)(function*(t,e,n,r){const i=ye(t);if(i.Ca)return void de("SyncEngine","Ignoring unexpected query state notification.");const o=i.fa.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{const s=yield b8(i.localStore,sz(o[0])),a=Ry.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,Ir.EMPTY_BYTE_STRING);yield ac(i,s,a);break}case"rejected":yield gf(i.localStore,e,!0),Pf(i,e,r);break;default:Te()}}),Fx.apply(this,arguments)}function eCe(t,e,n){return Lx.apply(this,arguments)}function Lx(){return Lx=(0,x.Z)(function*(t,e,n){const r=Vx(t);if(r.Ca){for(const i of e){if(r.fa.has(i)){de("SyncEngine","Adding an already active target "+i);continue}const o=yield I8(r.localStore,i),s=yield ff(r.localStore,o);yield mx(r,Q8(o),s.targetId,!1,s.resumeToken),SE(r.remoteStore,s)}for(const i of n)r.fa.has(i)&&(yield gf(r.localStore,i,!1).then(()=>{Wy(r.remoteStore,i),Pf(r,i)}).catch(Ml))}}),Lx.apply(this,arguments)}function Vx(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=q8.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qve.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jve.bind(null,e),e.Va.a_=Sve.bind(null,e.eventManager),e.Va.Fa=Rve.bind(null,e.eventManager),e}function Ux(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$ve.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Hve.bind(null,e),e}class qy{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,x.Z)(function*(){n.serializer=zy(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return P8(this.persistence,new w8,e.initialUser,this.serializer)}createPersistence(e){return new AR(EE.jr,this.serializer)}createSharedClientState(e){return new S8}terminate(){var e=this;return(0,x.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Bx extends qy{constructor(e,n,r){super(),this.xa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,r=this;return(0,x.Z)(function*(){yield n().call(r,e),yield r.xa.initialize(r,e),yield Ux(r.xa.syncEngine),yield _f(r.xa.remoteStore),yield r.persistence.mi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return P8(this.persistence,new w8,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new h8(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new b_e(n,this.persistence);return new I_e(e.asyncQueue,r)}createPersistence(e){const n=RR(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?wi.withCacheSize(this.cacheSizeBytes):wi.DEFAULT;return new SR(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,x8(),DE(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new S8}}class X8 extends Bx{constructor(e,n){super(e,n,!1),this.xa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,r=this;return(0,x.Z)(function*(){yield n().call(r,e);const i=r.xa.syncEngine;r.sharedClientState instanceof jR&&(r.sharedClientState.syncEngine={Ys:Yve.bind(null,i),Zs:Jve.bind(null,i),Xs:eCe.bind(null,i),Bi:Xve.bind(null,i),Js:Zve.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.mi(function(){var o=(0,x.Z)(function*(s){yield function Qve(t,e){return kx.apply(this,arguments)}(r.xa.syncEngine,s),r.gcScheduler&&(s&&!r.gcScheduler.started?r.gcScheduler.start():s||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(s&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():s||r.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const n=x8();if(!jR.D(n))throw new le(G.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=RR(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new jR(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Ef{initialize(e,n){var r=this;return(0,x.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>K8(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Wve.bind(null,r.syncEngine),yield sx(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Dve}createDatastore(e){const n=zy(e.databaseInfo.databaseId),r=new pve(e.databaseInfo);return new mve(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,o=e.asyncQueue,s=n=>K8(this.syncEngine,n,0),a=R8.D()?new R8:new uve,new vve(r,i,o,s,a);var r,i,o,s,a}createSyncEngine(e,n){return function(i,o,s,a,c,l,h){const f=new Lve(i,o,s,a,c,l);return h&&(f.Ca=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,x.Z)(function*(r){const i=ye(r);de("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield mf(i),i.F_.shutdown(),i.M_.set("Unknown")}),function n(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function J8(t,e=10240){let n=0;return{read:()=>(0,x.Z)(function*(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})(),cancel:()=>(0,x.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class xE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):tr("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class rCe{constructor(e,n){this.Ba=e,this.serializer=n,this.metadata=new Or,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(r=>{r&&r.Z_()?this.metadata.resolve(r.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Y_)}`))},r=>this.metadata.reject(r))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,x.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,x.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,x.Z)(function*(){const n=yield e.qa();if(null===n)return null;const r=e.La.decode(n),i=Number(r);isNaN(i)&&e.Qa(`length string (${r}) is not valid number`);const o=yield e.Ka(i);return new xve(JSON.parse(o),n.length+i)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,x.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const n=e.$a();n<0&&e.Qa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),r})()}Ka(e){var n=this;return(0,x.Z)(function*(){for(;n.buffer.length<e;)(yield n.Ua())&&n.Qa("Reached the end of bundle when more is expected.");const r=n.La.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),r})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,x.Z)(function*(){const n=yield e.Ba.read();if(!n.done){const r=new Uint8Array(e.buffer.length+n.value.length);r.set(e.buffer),r.set(n.value,e.buffer.length),e.buffer=r}return n.done})()}}class iCe{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,x.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new le(G.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,x.Z)(function*(s,a){const c=ye(s),l=Ny(c.serializer)+"/documents",h={documents:a.map(E=>ky(c.serializer,E))},f=yield c.Co("BatchGetDocuments",l,h,a.length),m=new Map;f.forEach(E=>{const I=function Oye(t,e){return"found"in e?function(r,i){ke(!!i.found);const o=ha(r,i.found.name),s=nr(i.found.updateTime),a=i.found.createTime?nr(i.found.createTime):Ne.min(),c=new ei({mapValue:{fields:i.found.fields}});return Cn.newFoundDocument(o,s,a,c)}(t,e):"missing"in e?function(r,i){ke(!!i.missing),ke(!!i.readTime);const o=ha(r,i.missing),s=nr(i.readTime);return Cn.newNoDocument(o,s)}(t,e):Te()}(c.serializer,E);m.set(I.key.toString(),I)});const v=[];return a.forEach(E=>{const I=m.get(E.toString());ke(!!I),v.push(I)}),v}),function o(s,a){return i.apply(this,arguments)})(n.datastore,e);var i;return r.forEach(i=>n.recordVersion(i)),r})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new af(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,x.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var r;e.mutations.forEach(r=>{n.delete(r.key.toString())}),n.forEach((r,i)=>{const o=ve.fromPath(i);e.mutations.push(new dR(o,e.precondition(o)))}),yield(r=(0,x.Z)(function*(o,s){const a=ye(o),c=Ny(a.serializer)+"/documents",l={writes:s.map(h=>Fy(a.serializer,h))};yield a.wo("Commit",c,l)}),function i(o,s){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Te();n=Ne.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new le(G.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Ne.min())?Dn.exists(!1):Dn.updateTime(n):Dn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ne.min()))throw new le(G.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dn.updateTime(n)}return Dn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class oCe{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this.Wa=r.maxAttempts,this.zo=new HR(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,x.Z)(function*(){const n=new iCe(e.datastore),r=e.za(n);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(i)}).catch(o=>{e.ja(o)}))}).catch(i=>{e.ja(i)})}))}za(e){try{const n=this.updateFunction(e);return!_y(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!Mz(n)}return!1}}class sCe{constructor(e,n,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Lr.UNAUTHENTICATED,this.clientId=CH.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=(0,x.Z)(function*(a){de("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(de("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return(0,x.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new le(G.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,x.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=vf(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function kE(t,e){return jx.apply(this,arguments)}function jx(){return jx=(0,x.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),de("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=(0,x.Z)(function*(o){r.isEqual(o)||(yield E8(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),jx.apply(this,arguments)}function $x(t,e){return Hx.apply(this,arguments)}function Hx(){return Hx=(0,x.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield zx(t);de("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>B8(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>B8(e.remoteStore,o)),t._onlineComponents=e}),Hx.apply(this,arguments)}function e7(t){return"FirebaseError"===t.name?t.code===G.FAILED_PRECONDITION||t.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function zx(t){return Gx.apply(this,arguments)}function Gx(){return Gx=(0,x.Z)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de("FirestoreClient","Using user provided OfflineComponentProvider");try{yield kE(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!e7(n))throw n;oo("Error using user provided cache. Falling back to memory cache: "+n),yield kE(t,new qy)}}else de("FirestoreClient","Using default OfflineComponentProvider"),yield kE(t,new qy);return t._offlineComponents}),Gx.apply(this,arguments)}function NE(t){return Wx.apply(this,arguments)}function Wx(){return Wx=(0,x.Z)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de("FirestoreClient","Using user provided OnlineComponentProvider"),yield $x(t,t._uninitializedComponentsProvider._online)):(de("FirestoreClient","Using default OnlineComponentProvider"),yield $x(t,new Ef))),t._onlineComponents}),Wx.apply(this,arguments)}function t7(t){return zx(t).then(e=>e.persistence)}function Mf(t){return zx(t).then(e=>e.localStore)}function n7(t){return NE(t).then(e=>e.remoteStore)}function qx(t){return NE(t).then(e=>e.syncEngine)}function Of(t){return Kx.apply(this,arguments)}function Kx(){return Kx=(0,x.Z)(function*(t){const e=yield NE(t),n=e.eventManager;return n.onListen=Vve.bind(null,e.syncEngine),n.onUnlisten=Uve.bind(null,e.syncEngine),n}),Kx.apply(this,arguments)}function i7(t,e,n={}){const r=new Or;return t.asyncQueue.enqueueAndForget((0,x.Z)(function*(){return function(o,s,a,c,l){const h=new xE({next:m=>{s.enqueueAndForget(()=>dx(o,f));const v=m.docs.has(a);!v&&m.fromCache?l.reject(new le(G.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&c&&"server"===c.source?l.reject(new le(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),f=new fx(Jp(a.path),h,{includeMetadataChanges:!0,J_:!0});return lx(o,f)}(yield Of(t),t.asyncQueue,e,n,r)})),r.promise}function o7(t,e,n={}){const r=new Or;return t.asyncQueue.enqueueAndForget((0,x.Z)(function*(){return function(o,s,a,c,l){const h=new xE({next:m=>{s.enqueueAndForget(()=>dx(o,f)),m.fromCache&&"server"===c.source?l.reject(new le(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),f=new fx(a,h,{includeMetadataChanges:!0,J_:!0});return lx(o,f)}(yield Of(t),t.asyncQueue,e,n,r)})),r.promise}function s7(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const a7=new Map;function Zx(t,e,n){if(!n)throw new le(G.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function c7(t,e,n,r){if(!0===e&&!0===r)throw new le(G.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function l7(t){if(!ve.isDocumentKey(t))throw new le(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function u7(t){if(ve.isDocumentKey(t))throw new le(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function FE(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":Te()}function vt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=FE(t);throw new le(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function d7(t,e){if(e<=0)throw new le(G.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class h7{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new le(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new le(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}c7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=s7(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new le(G.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new le(G.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new le(G.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ky{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new h7({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new le(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new le(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new h7(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new f_e;switch(r.type){case"firstParty":return new y_e(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=a7.get(n);r&&(de("ComponentProvider","Removing Datastore"),a7.delete(n),r.terminate())}(this),Promise.resolve()}}function p7(t,e,n,r={}){var i;const o=(t=vt(t,Ky))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=Lr.MOCK_USER;else{a=(0,M.Sg)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new le(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Lr(l)}t._authCredentials=new g_e(new yH(a,c))}}class ti{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ti(this.firestore,e,this._query)}}class wn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class pa extends ti{constructor(e,n,r){super(e,n,Jp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new ve(e))}withConverter(e){return new pa(this.firestore,e,this._path)}}function f7(t,e,...n){if(t=(0,M.m9)(t),Zx("collection","path",e),t instanceof Ky){const r=At.fromString(e,...n);return u7(r),new pa(t,null,r)}{if(!(t instanceof wn||t instanceof pa))throw new le(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(At.fromString(e,...n));return u7(r),new pa(t.firestore,null,r)}}function LE(t,e,...n){if(t=(0,M.m9)(t),1===arguments.length&&(e=CH.newId()),Zx("doc","path",e),t instanceof Ky){const r=At.fromString(e,...n);return l7(r),new wn(t,null,new ve(r))}{if(!(t instanceof wn||t instanceof pa))throw new le(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(At.fromString(e,...n));return l7(r),new wn(t.firestore,t instanceof pa?t.converter:null,new ve(r))}}function g7(t,e){return t=(0,M.m9)(t),e=(0,M.m9)(e),(t instanceof wn||t instanceof pa)&&(e instanceof wn||e instanceof pa)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Yx(t,e){return t=(0,M.m9)(t),e=(0,M.m9)(e),t instanceof ti&&e instanceof ti&&t.firestore===e.firestore&&Oy(t._query,e._query)&&t.converter===e.converter}class yCe{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new HR(this,"async_queue_retry"),this.iu=()=>{const n=DE();n&&de("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=DE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=DE();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Or;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,x.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!Ol(n))throw n;de("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,tr("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=cx.createAndSchedule(this,e,n,r,o=>this.au(o));return this.Xa.push(i),i}su(){this.eu&&Te()}verifyOperationInProgress(){}uu(){var e=this;return(0,x.Z)(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function Qx(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(t)}class vCe{constructor(){this._progressObserver={},this._taskCompletionResolver=new Or,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class dn extends Ky{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new yCe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||m7(this),this._firestoreClient.terminate()}}function wCe(t,e){const n="object"==typeof t?t:(0,Ge.getApp)(),r="string"==typeof t?t:e||"(default)",i=(0,Ge._getProvider)(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(0,M.P0)("firestore");o&&p7(i,...o)}return i}function Gn(t){return t._firestoreClient||m7(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function m7(t){var e,n,r;const i=t._freezeSettings(),o=(c=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new K_e(t._databaseId,c,t._persistenceKey,(h=i).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,s7(h.experimentalLongPollingOptions),h.useFetchStreams));var c,h;t._firestoreClient=new sCe(t._authCredentials,t._appCheckCredentials,t._queue,o),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function _7(t,e,n){const r=new Or;return t.asyncQueue.enqueue((0,x.Z)(function*(){try{yield kE(t,n),yield $x(t,e),r.resolve()}catch(i){const o=i;if(!e7(o))throw o;oo("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}})).then(()=>r.promise)}function y7(t){if(t._initialized||t._terminated)throw new le(G.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class fa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fa(Ir.fromBase64String(e))}catch(n){throw new le(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fa(Ir.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class cc{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new le(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Cd{constructor(e){this._methodName=e}}class VE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}}const SCe=/^__.*__$/;class RCe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new oc(e,this.data,this.fieldMask,n,this.fieldTransforms):new sf(e,this.data,n,this.fieldTransforms)}}class v7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new oc(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function C7(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class UE{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new UE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return $E(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(C7(this.Iu)&&SCe.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class xCe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zy(e)}pu(e,n,r,i=!1){return new UE({Iu:e,methodName:n,gu:r,path:vn.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wd(t){const e=t._freezeSettings(),n=zy(t._databaseId);return new xCe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function BE(t,e,n,r,i,o={}){const s=t.pu(o.merge||o.mergeFields?2:0,e,n,i);tk("Data must be an object, but it was:",s,r);const a=E7(r,s);let c,l;if(o.merge)c=new so(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const f of o.mergeFields){const m=Qy(e,f,n);if(!s.contains(m))throw new le(G.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);O7(h,m)||h.push(m)}c=new so(h),l=s.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,l=s.fieldTransforms;return new RCe(new ei(a),c,l)}class Yy extends Cd{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yy}}function w7(t,e,n){return new UE({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Xx extends Cd{_toFieldTransform(e){return new Ay(e.path,new nf)}isEqual(e){return e instanceof Xx}}class kCe extends Cd{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=w7(this,e,!0),r=this.yu.map(o=>Pd(o,n)),i=new dd(r);return new Ay(e.path,i)}isEqual(e){return this===e}}class NCe extends Cd{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=w7(this,e,!0),r=this.yu.map(o=>Pd(o,n)),i=new hd(r);return new Ay(e.path,i)}isEqual(e){return this===e}}class FCe extends Cd{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=new rf(e.serializer,pz(e.serializer,this.wu));return new Ay(e.path,n)}isEqual(e){return this===e}}function Jx(t,e,n,r){const i=t.pu(1,e,n);tk("Data must be an object, but it was:",i,r);const o=[],s=ei.empty();Il(r,(c,l)=>{const h=jE(e,c,n);l=(0,M.m9)(l);const f=i.Ru(h);if(l instanceof Yy)o.push(h);else{const m=Pd(l,f);null!=m&&(o.push(h),s.set(h,m))}});const a=new so(o);return new v7(s,a,i.fieldTransforms)}function ek(t,e,n,r,i,o){const s=t.pu(1,e,n),a=[Qy(e,r,n)],c=[i];if(o.length%2!=0)throw new le(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(Qy(e,o[m])),c.push(o[m+1]);const l=[],h=ei.empty();for(let m=a.length-1;m>=0;--m)if(!O7(l,a[m])){const v=a[m];let E=c[m];E=(0,M.m9)(E);const I=s.Ru(v);if(E instanceof Yy)l.push(v);else{const b=Pd(E,I);null!=b&&(l.push(v),h.set(v,b))}}const f=new so(l);return new v7(h,f,s.fieldTransforms)}function P7(t,e,n,r=!1){return Pd(n,t.pu(r?4:3,e))}function Pd(t,e){if(M7(t=(0,M.m9)(t)))return tk("Unsupported field value:",e,t),E7(t,e);if(t instanceof Cd)return function(r,i){if(!C7(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let c=Pd(a,i.Vu(s));null==c&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if(null===(r=(0,M.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return pz(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=An.fromDate(r);return{timestampValue:cf(i.serializer,o)}}if(r instanceof An){const o=new An(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cf(i.serializer,o)}}if(r instanceof VE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fa)return{bytesValue:kz(i.serializer,r._byteString)};if(r instanceof wn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:_R(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${FE(r)}`)}(t,e)}function E7(t,e){const n={};return NH(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Il(t,(r,i)=>{const o=Pd(i,e.Eu(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function M7(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof An||t instanceof VE||t instanceof fa||t instanceof wn||t instanceof Cd)}function tk(t,e,n){if(!M7(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=FE(n);throw e.mu("an object"===r?t+" a custom object":t+" "+r)}var i}function Qy(t,e,n){if((e=(0,M.m9)(e))instanceof cc)return e._internalPath;if("string"==typeof e)return jE(t,e);throw $E("Field path arguments must be of type string or ",t,!1,void 0,n)}const LCe=new RegExp("[~\\*/\\[\\]]");function jE(t,e,n){if(e.search(LCe)>=0)throw $E(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new cc(...e.split("."))._internalPath}catch{throw $E(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $E(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new le(G.INVALID_ARGUMENT,a+t+c)}function O7(t,e){return t.some(n=>n.isEqual(e))}class Xy{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new VCe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(HE("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class VCe extends Xy{data(){return super.data()}}function HE(t,e){return"string"==typeof e?jE(t,e):e instanceof cc?e._internalPath:e._delegate._internalPath}function I7(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new le(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nk{}class Jy extends nk{}function Ul(t,e,...n){let r=[];e instanceof nk&&r.push(e),r=r.concat(n),function(o){const s=o.filter(c=>c instanceof If).length,a=o.filter(c=>c instanceof ev).length;if(s>1||s>0&&a>0)throw new le(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class ev extends Jy{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ev(e,n,r)}_apply(e){const n=this._parse(e);return D7(e._query,n),new ti(e.firestore,e.converter,lR(e._query,n))}_parse(e){const n=wd(e.firestore);return function(o,s,a,c,l,h,f){let m;if(l.isKeyField()){if("array-contains"===h||"array-contains-any"===h)throw new le(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if("in"===h||"not-in"===h){A7(f,h);const v=[];for(const E of f)v.push(T7(c,o,E));m={arrayValue:{values:v}}}else m=T7(c,o,f)}else"in"!==h&&"not-in"!==h&&"array-contains-any"!==h||A7(f,h),m=P7(a,"where",f,"in"===h||"not-in"===h);return wt.create(l,h,m)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class If extends nk{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new If(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Ht.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const c of a)D7(s,c),s=lR(s,c)}(e._query,n),new ti(e.firestore,e.converter,lR(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class rk extends Jy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new rk(e,n)}_apply(e){const n=function(i,o,s){if(null!==i.startAt)throw new le(G.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new le(G.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ey(o,s)}(e._query,this._field,this._direction);return new ti(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new rc(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}class zE extends Jy{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new zE(e,n,r)}_apply(e){return new ti(e.firestore,e.converter,uE(e._query,this._limit,this._limitType))}}class GE extends Jy{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new GE(e,n,r)}_apply(e){const n=b7(e,this.type,this._docOrFields,this._inclusive);return new ti(e.firestore,e.converter,(o=n,new rc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)));var i,o}}class WE extends Jy{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new WE(e,n,r)}_apply(e){const n=b7(e,this.type,this._docOrFields,this._inclusive);return new ti(e.firestore,e.converter,(o=n,new rc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)));var i,o}}function b7(t,e,n,r){if(n[0]=(0,M.m9)(n[0]),n[0]instanceof Xy)return function(o,s,a,c,l){if(!c)throw new le(G.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const f of ef(o))if(f.field.isKeyField())h.push(ld(s,c.key));else{const m=c.data.field(f.field);if(rE(m))throw new le(G.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===m){const v=f.field.canonicalString();throw new le(G.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}h.push(m)}return new Rl(h,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=wd(t.firestore);return function(s,a,c,l,h,f){const m=s.explicitOrderBy;if(h.length>m.length)throw new le(G.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const v=[];for(let E=0;E<h.length;E++){const I=h[E];if(m[E].field.isKeyField()){if("string"!=typeof I)throw new le(G.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof I}`);if(!cR(s)&&-1!==I.indexOf("/"))throw new le(G.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${I}' contains a slash.`);const b=s.path.child(At.fromString(I));if(!ve.isDocumentKey(b))throw new le(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${b}' is not because it contains an odd number of segments.`);const L=new ve(b);v.push(ld(a,L))}else{const b=P7(c,l,I);v.push(b)}}return new Rl(v,f)}(t._query,t.firestore._databaseId,i,e,n,r)}}function T7(t,e,n){if("string"==typeof(n=(0,M.m9)(n))){if(""===n)throw new le(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cR(e)&&-1!==n.indexOf("/"))throw new le(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(At.fromString(n));if(!ve.isDocumentKey(r))throw new le(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ld(t,new ve(r))}if(n instanceof wn)return ld(t,n._key);throw new le(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${FE(n)}.`)}function A7(t,e){if(!Array.isArray(t)||0===t.length)throw new le(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function D7(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new le(G.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ik{convertValue(e,n="none"){switch(Dl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(nc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Il(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new VE(zn(e.latitude),zn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=iE(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(vy(e));default:return null}}convertTimestamp(e){const n=bl(e);return new An(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=At.fromString(e);ke(zz(r));const i=new Tl(r.get(1),r.get(3)),o=new ve(r.popFirst(5));return i.isEqual(n)||tr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function qE(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class qCe extends ik{constructor(e){super(),this.firestore=e}convertBytes(e){return new fa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,n)}}class Ed{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lc extends Xy{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new tv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(HE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class tv extends lc{data(e={}){return super.data(e)}}class Bl{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ed(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new tv(this._firestore,this._userDataWriter,r.key,r,new Ed(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new tv(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ed(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const c=new tv(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ed(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,h=-1;return 0!==a.type&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:ZCe(a.type),doc:c,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ZCe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}function R7(t,e){return t instanceof lc&&e instanceof lc?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Bl&&e instanceof Bl&&t._firestore===e._firestore&&Yx(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}class jl extends ik{constructor(e){super(),this.firestore=e}convertBytes(e){return new fa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,n)}}function x7(t,e,n){t=vt(t,wn);const r=vt(t.firestore,dn),i=qE(t.converter,e,n);return bf(r,[BE(wd(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Dn.none())])}function k7(t,e,n,...r){t=vt(t,wn);const i=vt(t.firestore,dn),o=wd(i);let s;return s="string"==typeof(e=(0,M.m9)(e))||e instanceof cc?ek(o,"updateDoc",t._key,e,n,r):Jx(o,"updateDoc",t._key,e),bf(i,[s.toMutation(t._key,Dn.exists(!0))])}function N7(t,...e){var n,r,i;t=(0,M.m9)(t);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||Qx(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(Qx(e[s])){const f=e[s];e[s]=null===(n=f.next)||void 0===n?void 0:n.bind(f),e[s+1]=null===(r=f.error)||void 0===r?void 0:r.bind(f),e[s+2]=null===(i=f.complete)||void 0===i?void 0:i.bind(f)}let c,l,h;if(t instanceof wn)l=vt(t.firestore,dn),h=Jp(t._key.path),c={next:f=>{e[s]&&e[s](ok(l,t,f))},error:e[s+1],complete:e[s+2]};else{const f=vt(t,ti);l=vt(f.firestore,dn),h=f._query;const m=new jl(l);c={next:v=>{e[s]&&e[s](new Bl(l,m,f,v))},error:e[s+1],complete:e[s+2]},I7(t._query)}return function(m,v,E,I){const b=new xE(I),L=new fx(v,b,E);return m.asyncQueue.enqueueAndForget((0,x.Z)(function*(){return lx(yield Of(m),L)})),()=>{b.Na(),m.asyncQueue.enqueueAndForget((0,x.Z)(function*(){return dx(yield Of(m),L)}))}}(Gn(l),h,a,c)}function bf(t,e){return function(r,i){const o=new Or;return r.asyncQueue.enqueueAndForget((0,x.Z)(function*(){return function Bve(t,e,n){return vx.apply(this,arguments)}(yield qx(r),i,o)})),o.promise}(Gn(t),e)}function ok(t,e,n){const r=n.docs.get(e._key),i=new jl(t);return new lc(t,i,e._key,r,new Ed(n.hasPendingWrites,n.fromCache),e.converter)}const pwe={maxAttempts:5};class F7{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=wd(e)}set(e,n,r){this._verifyNotCommitted();const i=$l(e,this._firestore),o=qE(i.converter,n,r),s=BE(this._dataReader,"WriteBatch.set",i._key,o,null!==i.converter,r);return this._mutations.push(s.toMutation(i._key,Dn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=$l(e,this._firestore);let s;return s="string"==typeof(n=(0,M.m9)(n))||n instanceof cc?ek(this._dataReader,"WriteBatch.update",o._key,n,r,i):Jx(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,Dn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=$l(e,this._firestore);return this._mutations=this._mutations.concat(new af(n._key,Dn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new le(G.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function $l(t,e){if((t=(0,M.m9)(t)).firestore!==e)throw new le(G.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class fwe extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=wd(n)}get(n){const r=$l(n,this._firestore),i=new qCe(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||1!==o.length)return Te();const s=o[0];if(s.isFoundDocument())return new Xy(this._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new Xy(this._firestore,i,r._key,null,r.converter);throw Te()})}set(n,r,i){const o=$l(n,this._firestore),s=qE(o.converter,r,i),a=BE(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,i);return this._transaction.set(o._key,a),this}update(n,r,i,...o){const s=$l(n,this._firestore);let a;return a="string"==typeof(r=(0,M.m9)(r))||r instanceof cc?ek(this._dataReader,"Transaction.update",s._key,r,i,o):Jx(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(n){const r=$l(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=$l(e,this._firestore),r=new jl(this._firestore);return super.get(e).then(i=>new lc(this._firestore,r,n._key,i._document,new Ed(!1,!1),n.converter))}}!function(e,n=!0){Gp=Ge.SDK_VERSION,(0,Ge._registerComponent)(new Po.wA("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new dn(new m_e(r.getProvider("auth-internal")),new v_e(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new le(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tl(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,Ge.registerVersion)(_H,"4.3.2",e),(0,Ge.registerVersion)(_H,"4.3.2","esm2017")}();class ak{constructor(e){return e}}const B7="firestore",ck=new fe("angularfire2.firestore-instances");function Mwe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new ak(r)}}const Owe={provide:class Pwe{constructor(){return xT(B7)}},deps:[[new p,ck]]},Iwe={provide:ak,useFactory:function Ewe(t,e){const n=function Qj(t,e,n){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(B7,t,e);return n&&new ak(n)},deps:[[new p,ck],F_]};let j7=(()=>{var t;class e{constructor(){(0,Ge.registerVersion)("angularfire",yl.full,"fst")}}return t=e,Le(e,"\u0275fac",function(r){return new(r||t)}),Le(e,"\u0275mod",Vn({type:t})),Le(e,"\u0275inj",Zn({providers:[Iwe,Owe]})),e})();function bwe(t,...e){return{ngModule:j7,providers:[{provide:ck,useFactory:Mwe(t),multi:!0,deps:[Tt,xi,Tp,K9,[new p,e$],[new p,A_],...e]}]}}const Twe=Lle(wCe,!0);Ke(643);class Awe extends Y{constructor(e=1/0,n=1/0,r=RT){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const s=n.now();let a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}}function $7(t,e,n){let r,i=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t):r=t??1/0,ze({connector:()=>new Awe(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function H7(t,e){return O(e)?Ze(()=>t,e):Ze(()=>t)}const lk=new fe("angularfire2.auth.use-emulator"),uk=new fe("angularfire2.auth.settings"),dk=new fe("angularfire2.auth.tenant-id"),hk=new fe("angularfire2.auth.langugage-code"),pk=new fe("angularfire2.auth.use-device-language"),fk=new fe("angularfire.auth.persistence"),gk=(t,e,n,r,i,o,s,a)=>tP(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const c=e.runOutsideAngular(()=>t.auth());if(n&&c.useEmulator(...n),r&&(c.tenantId=r),c.languageCode=i,o&&c.useDeviceLanguage(),s)for(const[l,h]of Object.entries(s))c.settings[l]=h;return a&&c.setPersistence(a),c},[n,r,i,o,s,a]);let mk=(()=>{var t;class e{constructor(r,i,o,s,a,c,l,h,f,m,v,E){Le(this,"authState",void 0),Le(this,"idToken",void 0),Le(this,"user",void 0),Le(this,"idTokenResult",void 0),Le(this,"credential",void 0);const I=new Y,b=W(void 0).pipe(_r(a.outsideAngular),Ze(()=>s.runOutsideAngular(()=>Promise.resolve().then(Ke.bind(Ke,643)))),ge(()=>D_(r,s,i)),ge(L=>gk(L,s,c,h,f,m,l,v)),$7({bufferSize:1,refCount:!1}));if(Aw(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=W(null);else{b.pipe(Yc()).subscribe();const L=b.pipe(Ze($=>$.getRedirectResult().then(pe=>pe,()=>null)),er,$7({bufferSize:1,refCount:!1})),k=b.pipe(Ze($=>new st(pe=>({unsubscribe:s.runOutsideAngular(()=>$.onAuthStateChanged(Oe=>pe.next(Oe),Oe=>pe.error(Oe),()=>pe.complete()))})))),H=b.pipe(Ze($=>new st(pe=>({unsubscribe:s.runOutsideAngular(()=>$.onIdTokenChanged(Oe=>pe.next(Oe),Oe=>pe.error(Oe),()=>pe.complete()))}))));this.authState=L.pipe(H7(k),Hr(a.outsideAngular),_r(a.insideAngular)),this.user=L.pipe(H7(H),Hr(a.outsideAngular),_r(a.insideAngular)),this.idToken=this.user.pipe(Ze($=>$?S($.getIdToken()):W(null))),this.idTokenResult=this.user.pipe(Ze($=>$?S($.getIdTokenResult()):W(null))),this.credential=ee(L,I,this.authState.pipe(Yo($=>!$))).pipe(ge($=>$?.user?$:null),Hr(a.outsideAngular),_r(a.insideAngular))}return((t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{if(t[o])return r?.spy?.get&&r.spy.get(o,t[o]),t[o];if(jle.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(a=>{const c=a?.[o];return"function"==typeof c?c.bind(a):c?.then?c.then(l=>n.run(()=>l)):n.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,l)=>s.then(h=>{const f=h?.(...l);return r?.spy?.apply&&r.spy.apply(o,l,f),f})})})}))(this,b,s,{spy:{apply:(L,k,H)=>{(L.startsWith("signIn")||L.startsWith("createUser"))&&H.then($=>I.next($))}}})}}return t=e,Le(e,"\u0275fac",function(r){return new(r||t)(re(Dp),re(Sp,8),re(mo),re(Tt),re(Tp),re(lk,8),re(uk,8),re(dk,8),re(hk,8),re(pk,8),re(fk,8),re(A_,8))}),Le(e,"\u0275prov",be({token:t,factory:t.\u0275fac,providedIn:"any"})),e})();const Nwe=new pi.Yd("@firebase/database-compat"),z7=function(t){Nwe.warn("FIREBASE WARNING: "+t)};class Vwe{constructor(e){this._delegate=e}cancel(e){(0,M.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,M.Wj)("OnDisconnect.cancel","onComplete",e,!0);const n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){(0,M.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,M.Wj)("OnDisconnect.remove","onComplete",e,!0);const n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){(0,M.Dv)("OnDisconnect.set",1,2,arguments.length),(0,M.Wj)("OnDisconnect.set","onComplete",n,!0);const r=this._delegate.set(e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){(0,M.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,M.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,n);return r&&i.then(()=>r(null),o=>r(o)),i}update(e,n){if((0,M.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,z7("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,M.Wj)("OnDisconnect.update","onComplete",n,!0);const r=this._delegate.update(e);return n&&r.then(()=>n(null),i=>n(i)),r}}class Uwe{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return(0,M.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Hl{constructor(e,n){this._database=e,this._delegate=n}val(){return(0,M.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,M.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,M.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,M.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,M.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),h_("DataSnapshot.child","path",e,!1),new Hl(this._database,this._delegate.child(e))}hasChild(e){return(0,M.Dv)("DataSnapshot.hasChild",1,1,arguments.length),h_("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,M.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,M.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,M.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new Hl(this._database,n)))}hasChildren(){return(0,M.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,M.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,M.Dv)("DataSnapshot.ref",0,0,arguments.length),new To(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ni{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,i){var o;(0,M.Dv)("Query.on",2,4,arguments.length),(0,M.Wj)("Query.on","callback",n,!1);const s=ni.getCancelAndContextArgs_("Query.on",r,i),a=(l,h)=>{n.call(s.context,new Hl(this.database,l),h)};a.userCallback=n,a.context=s.context;const c=null===(o=s.cancel)||void 0===o?void 0:o.bind(s.context);switch(e){case"value":return zu(this._delegate,a,c),n;case"child_added":return h4(this._delegate,a,c),n;case"child_removed":return g4(this._delegate,a,c),n;case"child_changed":return p4(this._delegate,a,c),n;case"child_moved":return f4(this._delegate,a,c),n;default:throw new Error((0,M.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if((0,M.Dv)("Query.off",0,3,arguments.length),function(t,e,n){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,M.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,M.Wj)("Query.off","callback",n,!0),(0,M.lb)("Query.off","context",r,!0),n){const i=()=>{};i.userCallback=n,i.context=r,m4(this._delegate,e,i)}else m4(this._delegate,e)}get(){return f_(this._delegate).then(e=>new Hl(this.database,e))}once(e,n,r,i){(0,M.Dv)("Query.once",1,4,arguments.length),(0,M.Wj)("Query.once","callback",n,!0);const o=ni.getCancelAndContextArgs_("Query.once",r,i),s=new M.BH,a=(l,h)=>{const f=new Hl(this.database,l);n&&n.call(o.context,f,h),s.resolve(f)};a.userCallback=n,a.context=o.context;const c=l=>{o.cancel&&o.cancel.call(o.context,l),s.reject(l)};switch(e){case"value":zu(this._delegate,a,c,{onlyOnce:!0});break;case"child_added":h4(this._delegate,a,c,{onlyOnce:!0});break;case"child_removed":g4(this._delegate,a,c,{onlyOnce:!0});break;case"child_changed":p4(this._delegate,a,c,{onlyOnce:!0});break;case"child_moved":f4(this._delegate,a,c,{onlyOnce:!0});break;default:throw new Error((0,M.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(e){return(0,M.Dv)("Query.limitToFirst",1,1,arguments.length),new ni(this.database,bs(this._delegate,function oae(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new iae(t)}(e)))}limitToLast(e){return(0,M.Dv)("Query.limitToLast",1,1,arguments.length),new ni(this.database,bs(this._delegate,function aae(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new sae(t)}(e)))}orderByChild(e){return(0,M.Dv)("Query.orderByChild",1,1,arguments.length),new ni(this.database,bs(this._delegate,function lae(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return h_("orderByChild","path",t,!1),new cae(t)}(e)))}orderByKey(){return(0,M.Dv)("Query.orderByKey",0,0,arguments.length),new ni(this.database,bs(this._delegate,function dae(){return new uae}()))}orderByPriority(){return(0,M.Dv)("Query.orderByPriority",0,0,arguments.length),new ni(this.database,bs(this._delegate,function pae(){return new hae}()))}orderByValue(){return(0,M.Dv)("Query.orderByValue",0,0,arguments.length),new ni(this.database,bs(this._delegate,function gae(){return new fae}()))}startAt(e=null,n){return(0,M.Dv)("Query.startAt",0,2,arguments.length),new ni(this.database,bs(this._delegate,function tae(t=null,e){return d_("startAt","key",e,!0),new y4(t,e)}(e,n)))}startAfter(e=null,n){return(0,M.Dv)("Query.startAfter",0,2,arguments.length),new ni(this.database,bs(this._delegate,function rae(t,e){return d_("startAfter","key",e,!0),new nae(t,e)}(e,n)))}endAt(e=null,n){return(0,M.Dv)("Query.endAt",0,2,arguments.length),new ni(this.database,bs(this._delegate,function Xse(t,e){return d_("endAt","key",e,!0),new _4(t,e)}(e,n)))}endBefore(e=null,n){return(0,M.Dv)("Query.endBefore",0,2,arguments.length),new ni(this.database,bs(this._delegate,function eae(t,e){return d_("endBefore","key",e,!0),new Jse(t,e)}(e,n)))}equalTo(e,n){return(0,M.Dv)("Query.equalTo",1,2,arguments.length),new ni(this.database,bs(this._delegate,function _ae(t,e){return d_("equalTo","key",e,!0),new mae(t,e)}(e,n)))}toString(){return(0,M.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,M.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,M.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof ni))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){const i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,(0,M.Wj)(e,"cancel",i.cancel,!0),i.context=r,(0,M.lb)(e,"context",i.context,!0);else if(n)if("object"==typeof n&&null!==n)i.context=n;else{if("function"!=typeof n)throw new Error((0,M.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=n}return i}get ref(){return new To(this.database,new Jo(this._delegate._repo,this._delegate._path))}}class To extends ni{constructor(e,n){super(e,new ro(n._repo,n._path,new a0,!1)),this.database=e,this._delegate=n}getKey(){return(0,M.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,M.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new To(this.database,Hu(this._delegate,e))}getParent(){(0,M.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new To(this.database,e):null}getRoot(){return(0,M.Dv)("Reference.root",0,0,arguments.length),new To(this.database,this._delegate.root)}set(e,n){(0,M.Dv)("Reference.set",1,2,arguments.length),(0,M.Wj)("Reference.set","onComplete",n,!0);const r=Os(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}update(e,n){if((0,M.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,z7("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Xo("Reference.update",this._delegate._path),(0,M.Wj)("Reference.update","onComplete",n,!0);const r=Qse(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){(0,M.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,M.Wj)("Reference.setWithPriority","onComplete",r,!0);const i=function Yse(t,e,n){if(Xo("setWithPriority",t._path),Js("setWithPriority",e,t._path,!1),Qb("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";const r=new M.BH;return Jb(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}(this._delegate,e,n);return r&&i.then(()=>r(null),o=>r(o)),i}remove(e){(0,M.Dv)("Reference.remove",0,1,arguments.length),(0,M.Wj)("Reference.remove","onComplete",e,!0);const n=function Kse(t){return Xo("remove",t._path),Os(t,null)}(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){(0,M.Dv)("Reference.transaction",1,3,arguments.length),(0,M.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,M.Wj)("Reference.transaction","onComplete",n,!0),function(t,e,n,r){if(void 0!==n&&"boolean"!=typeof n)throw new Error((0,M.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const i=function kae(t,e,n){var r;if(t=(0,M.m9)(t),Xo("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";const i=null===(r=n?.applyLocally)||void 0===r||r,o=new M.BH,a=zu(t,()=>{});return function Bse(t,e,n,r,i,o){wp(t,"transaction on "+e);const s={path:e,update:n,onComplete:r,status:null,order:w5(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=tT(t,e,void 0);s.currentInputSnapshot=a;const c=s.update(a.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{u_("transaction failed: Data returned ",c,s.path),s.status=0;const l=M0(t.transactionQueueTree_,e),h=ju(l)||[];let f;h.push(s),Kb(l,h),"object"==typeof c&&null!==c&&(0,M.r3)(c,".priority")?(f=(0,M.DV)(c,".priority"),(0,M.hu)(l_(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(P0(t.serverSyncTree_,e)||tt.EMPTY_NODE).getPriority().val();const m=p_(t),v=Rn(c,f),E=Gb(v,a,m);s.currentOutputSnapshotRaw=v,s.currentOutputSnapshotResolved=E,s.currentWriteId=T0(t);const I=Vb(t.serverSyncTree_,e,E,s.currentWriteId,s.applyLocally);Eo(t.eventQueue_,e,I),A0(t,t.transactionQueueTree_)}}(t._repo,t._path,e,(c,l,h)=>{let f=null;c?o.reject(c):(f=new $u(h,new Jo(t._repo,t._path),cn),o.resolve(new xae(l,f)))},a,i),o.promise}(this._delegate,e,{applyLocally:r}).then(o=>new Uwe(o.committed,new Hl(this.database,o.snapshot)));return n&&i.then(o=>n(null,o.committed,o.snapshot),o=>n(o,!1,null)),i}setPriority(e,n){(0,M.Dv)("Reference.setPriority",1,2,arguments.length),(0,M.Wj)("Reference.setPriority","onComplete",n,!0);const r=function Zse(t,e){t=(0,M.m9)(t),Xo("setPriority",t._path),Qb("setPriority",e,!1);const n=new M.BH;return Jb(t._repo,In(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}push(e,n){(0,M.Dv)("Reference.push",0,2,arguments.length),(0,M.Wj)("Reference.push","onComplete",n,!0);const r=function qse(t,e){t=(0,M.m9)(t),Xo("push",t._path),Js("push",e,t._path,!0);const n=JB(t._repo),r=Wse(n),i=Hu(t,r),o=Hu(t,r);let s;return s=null!=e?Os(o,e).then(()=>o):Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}(this._delegate,e),i=r.then(s=>new To(this.database,s));n&&i.then(()=>n(null),s=>n(s));const o=new To(this.database,r);return o.then=i.then.bind(i),o.catch=i.catch.bind(i,void 0),o}onDisconnect(){return Xo("Reference.onDisconnect",this._delegate._path),new Vwe(new u4(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class nv{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Mae,forceLongPolling:Oae}}useEmulator(e,n,r={}){w4(this._delegate,e,n,r)}ref(e){if((0,M.Dv)("database.ref",0,1,arguments.length),e instanceof To){const n=d4(this._delegate,e.toString());return new To(this,n)}{const n=xr(this._delegate,e);return new To(this,n)}}refFromURL(e){(0,M.Dv)("database.refFromURL",1,1,arguments.length);const r=d4(this._delegate,e);return new To(this,r)}goOffline(){return(0,M.Dv)("database.goOffline",0,0,arguments.length),function Iae(t){(t=(0,M.m9)(t))._checkNotDeleted("goOffline"),r4(t._repo)}(this._delegate)}goOnline(){return(0,M.Dv)("database.goOnline",0,0,arguments.length),function bae(t){(t=(0,M.m9)(t))._checkNotDeleted("goOnline"),function Use(t){t.persistentConnection_&&t.persistentConnection_.resume(XB)}(t._repo)}(this._delegate)}}nv.ServerValue={TIMESTAMP:function Sae(){return Dae}(),increment:t=>function Rae(t){return{".sv":{increment:t}}}(t)};var jwe=Object.freeze({__proto__:null,initStandalone:function Bwe({app:t,url:e,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:o,nodeAdmin:s=!1}){tb(n);const a=new Po.H0("database-standalone"),c=new Po.zt("auth-internal",a);let l;return c.setComponent(new Po.wA("auth-internal",()=>r,"PRIVATE")),i&&(l=new Po.zt("app-check-internal",a),l.setComponent(new Po.wA("app-check-internal",()=>i,"PRIVATE"))),{instance:new nv(aT(t,c,l,e,s),t),namespace:o}}});const $we=nv.ServerValue;function rv(t,e,n="on",r=eP){return new st(i=>{let o=null;return o=t[n](e,(s,a)=>{r.schedule(()=>{i.next({snapshot:s,prevKey:a})}),"once"===n&&r.schedule(()=>i.complete())},s=>{r.schedule(()=>i.error(s))}),"on"===n?{unsubscribe(){null!=o&&t.off(e,o)}}:{unsubscribe(){}}}).pipe(ge(i=>{const{snapshot:o,prevKey:s}=i;let a=null;return o.exists()&&(a=o.key),{type:e,payload:o,prevKey:s,key:a}}),ze())}function G7(t){return null==t}function W7(t){return"function"==typeof t.set}function q7(t,e){return W7(e)?e:t.ref(e)}function K7(t,e){if(function zwe(t){return"string"==typeof t}(t))return e.stringCase();if(W7(t))return e.firebaseCase();if(function Gwe(t){return"function"==typeof t.exportVal}(t))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function Z7(t){return(G7(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function Y7(t,e,n){return ee(...(e=Z7(e)).map(i=>rv(t,i,"on",n)))}function Q7(t,e){return function(r,i){return K7(r,{stringCase:()=>t.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function Zwe(t){return function(n){return n?K7(n,{stringCase:()=>t.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):t.remove()}}function X7(t,e){const n=t.length;for(let r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function Xwe(t,e){const{payload:n,prevKey:r,key:i}=e,o=X7(t,i),s=function Qwe(t,e){if(G7(e))return 0;{const n=X7(t,e);return-1===n?t.length:n+1}}(t,r);switch(e.type){case"value":if(e.payload?.exists()){let a=null;e.payload.forEach(c=>{const l={payload:c,type:"value",prevKey:a,key:c.key};return a=c.key,t=[...t,l],!1})}return t;case"child_added":if(o>-1)(t[o-1]?.key||null)!==r&&(t=t.filter(c=>c.payload.key!==n.key)).splice(s,0,e);else{if(null==r)return[e,...t];(t=t.slice()).splice(s,0,e)}return t;case"child_removed":return t.filter(a=>a.payload.key!==n.key);case"child_changed":return t.map(a=>a.payload.key===i?e:a);case"child_moved":if(o>-1){const a=t.splice(o,1)[0];return(t=t.slice()).splice(s,0,a),t}return t;default:return t}}function J7(t,e,n){return function Ywe(t,e,n){return rv(t,"value","once",n).pipe(Ze(r=>{const i=[W(r)];return e.forEach(o=>i.push(rv(t,o,"on",n))),ee(...i).pipe(np(Xwe,[]))}),rn())}(t,e=Z7(e),n)}function eG(t,e){return function(){return rv(t,"value","on",e)}}!function Hwe(t){t.INTERNAL.registerComponent(new Po.wA("database-compat",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new nv(i,r)},"PUBLIC").setServiceProps({Reference:To,Query:ni,Database:nv,DataSnapshot:Hl,enableLogging:Tae,INTERNAL:jwe,ServerValue:$we}).setMultipleInstances(!0)),t.registerVersion("@firebase/database-compat","1.0.1")}(ts.Z);const t0e=new fe("angularfire2.realtimeDatabaseURL"),n0e=new fe("angularfire2.database.use-emulator");let r0e=(()=>{var t;class e{constructor(r,i,o,s,a,c,l,h,f,m,v,E,I,b,L){Le(this,"schedulers",void 0),Le(this,"database",void 0),this.schedulers=c;const k=l,H=D_(r,a,i);h&&gk(H,a,f,v,E,I,m,b),this.database=tP(`${H.name}.database.${o}`,"AngularFireDatabase",H.name,()=>{const $=a.runOutsideAngular(()=>H.database(o||void 0));return k&&$.useEmulator(...k),$},[k])}list(r,i){const o=this.schedulers.ngZone.runOutsideAngular(()=>q7(this.database,r));let s=o;return i&&(s=i(o)),function Jwe(t,e){const n=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:Q7(r,"update"),set:Q7(r,"set"),push:i=>r.push(i),remove:Zwe(r),snapshotChanges:i=>J7(t,i,n).pipe(er),stateChanges:i=>Y7(t,i,n).pipe(er),auditTrail:i=>function Wwe(t,e,n){return function Kwe(t,e,n){return function qwe(t,e){return rv(t,"value","on",e).pipe(ge(n=>{let r;return n.payload.forEach(i=>(r=i.key,!1)),{data:n,lastKeyToLoad:r}}))}(t,n).pipe(function Swe(...t){const e=ks(t);return K((n,r)=>{const i=t.length,o=new Array(i);let s=t.map(()=>!1),a=!1;for(let c=0;c<i;c++)Fn(t[c]).subscribe(Ce(r,l=>{o[c]=l,!a&&!s[c]&&(s[c]=!0,(a=s.every(Nn))&&(s=null))},Ae));n.subscribe(Ce(r,c=>{if(a){const l=[c,...o];r.next(e?e(...l):l)}}))})}(e),ge(([i,o])=>{const s=i.lastKeyToLoad,a=o.map(c=>c.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),function Rwe(t){return K((e,n)=>{let r=!1,i=0;e.subscribe(Ce(n,o=>(r||(r=!t(o,i++)))&&n.next(o)))})}(i=>-1===i.loadedKeys.indexOf(i.lastKeyToLoad)),ge(i=>i.actions))}(t,Y7(t,e).pipe(np((i,o)=>[...i,o],[])),n)}(t,i,n).pipe(er),valueChanges:(i,o)=>J7(t,i,n).pipe(ge(a=>a.map(c=>o&&o.idField?{...c.payload.val(),[o.idField]:c.key}:c.payload.val())),er)}}(s,this)}object(r){return function e0e(t,e){return{query:t,snapshotChanges:()=>eG(t,e.schedulers.outsideAngular)().pipe(er),update:n=>t.ref.update(n),set:n=>t.ref.set(n),remove:()=>t.ref.remove(),valueChanges:()=>eG(t,e.schedulers.outsideAngular)().pipe(er,ge(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>q7(this.database,r)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t=e,Le(e,"\u0275fac",function(r){return new(r||t)(re(Dp),re(Sp,8),re(t0e,8),re(mo),re(Tt),re(Tp),re(n0e,8),re(mk,8),re(lk,8),re(uk,8),re(dk,8),re(hk,8),re(pk,8),re(fk,8),re(A_,8))}),Le(e,"\u0275prov",be({token:t,factory:t.\u0275fac,providedIn:"any"})),e})(),i0e=(()=>{var t;class e{constructor(){ts.Z.registerVersion("angularfire",yl.full,"rtdb-compat")}}return t=e,Le(e,"\u0275fac",function(r){return new(r||t)}),Le(e,"\u0275mod",Vn({type:t})),Le(e,"\u0275inj",Zn({providers:[r0e]})),e})();function _k(){return K((t,e)=>{let n,r=!1;t.subscribe(Ce(e,i=>{const o=n;n=i,r&&e.next([o,i]),r=!0}))})}function yk(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new le("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function tG(){if(typeof Uint8Array>"u")throw new le("unimplemented","Uint8Arrays are not available in this environment.")}function nG(){if(!function W_e(){return typeof atob<"u"}())throw new le("unimplemented","Blobs are unavailable in Firestore in this environment.")}class iv{constructor(e){this._delegate=e}static fromBase64String(e){return nG(),new iv(fa.fromBase64String(e))}static fromUint8Array(e){return tG(),new iv(fa.fromUint8Array(e))}toBase64(){return nG(),this._delegate.toBase64()}toUint8Array(){return tG(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function vk(t){return function a0e(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}(t,["next","error","complete"])}class c0e{enableIndexedDbPersistence(e,n){return function PCe(t,e){y7(t=vt(t,dn));const n=Gn(t);if(n._uninitializedComponentsProvider)throw new le(G.FAILED_PRECONDITION,"SDK cache is already specified.");oo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new Ef;return _7(n,i,new Bx(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function ECe(t){y7(t=vt(t,dn));const e=Gn(t);if(e._uninitializedComponentsProvider)throw new le(G.FAILED_PRECONDITION,"SDK cache is already specified.");oo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new Ef;return _7(e,r,new X8(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function MCe(t){if(t._initialized&&!t._terminated)throw new le(G.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Or;return t._queue.enqueueAndForgetEvenWhileRestricted((0,x.Z)(function*(){try{yield(n=(0,x.Z)(function*(i){if(!Ss.D())return Promise.resolve();const o=i+"main";yield Ss.delete(o)}),function r(i){return n.apply(this,arguments)})(RR(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class rG{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Tl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&oo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,r={}){p7(this._delegate,e,n,r)}enableNetwork(){return function ICe(t){return function aCe(t){return t.asyncQueue.enqueue((0,x.Z)(function*(){const e=yield t7(t),n=yield n7(t);return e.setNetworkEnabled(!0),function(i){const o=ye(i);return o.C_.delete(0),Gy(o)}(n)}))}(Gn(t=vt(t,dn)))}(this._delegate)}disableNetwork(){return function bCe(t){return function cCe(t){return t.asyncQueue.enqueue((0,x.Z)(function*(){const e=yield t7(t),n=yield n7(t);return e.setNetworkEnabled(!1),(r=(0,x.Z)(function*(o){const s=ye(o);s.C_.add(0),yield mf(s),s.M_.set("Offline")}),function i(o){return r.apply(this,arguments)})(n);var r}))}(Gn(t=vt(t,dn)))}(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,c7("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function OCe(t){return function(n){const r=new Or;return n.asyncQueue.enqueueAndForget((0,x.Z)(function*(){return function zve(t,e){return Mx.apply(this,arguments)}(yield qx(n),r)})),r.promise}(Gn(t=vt(t,dn)))}(this._delegate)}onSnapshotsInSync(e){return function iwe(t,e){return function dCe(t,e){const n=new xE(e);return t.asyncQueue.enqueueAndForget((0,x.Z)(function*(){return i=yield Of(t),o=n,ye(i).q_.add(o),void o.next();var i,o})),()=>{n.Na(),t.asyncQueue.enqueueAndForget((0,x.Z)(function*(){return i=yield Of(t),o=n,void ye(i).q_.delete(o);var i,o}))}}(Gn(t=vt(t,dn)),Qx(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new le("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Tf(this,f7(this._delegate,e))}catch(n){throw zi(n,"collection()","Firestore.collection()")}}doc(e){try{return new is(this,LE(this._delegate,e))}catch(n){throw zi(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Gi(this,function _Ce(t,e){if(t=vt(t,Ky),Zx("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new le(G.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ti(t,null,(r=e,new rc(At.emptyPath(),r)));var r}(this._delegate,e))}catch(n){throw zi(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function gwe(t,e,n){t=vt(t,dn);const r=Object.assign(Object.assign({},pwe),n);return function(o){if(o.maxAttempts<1)throw new le(G.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){const c=new Or;return o.asyncQueue.enqueueAndForget((0,x.Z)(function*(){const l=yield function r7(t){return NE(t).then(e=>e.datastore)}(o);new oCe(o.asyncQueue,l,a,s,c).run()})),c.promise}(Gn(t),i=>e(new fwe(t,i)),r)}(this._delegate,n=>e(new iG(this,n)))}batch(){return Gn(this._delegate),new oG(new F7(this._delegate,e=>bf(this._delegate,e)))}loadBundle(e){return function TCe(t,e){const n=Gn(t=vt(t,dn)),r=new vCe;return function hCe(t,e,n,r){const i=function(s,a){let c;return c="string"==typeof s?Iz().encode(s):s,h=function(h,f){if(h instanceof Uint8Array)return J8(h,f);if(h instanceof ArrayBuffer)return J8(new Uint8Array(h),f);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),new rCe(h,a);var h}(n,zy(e));t.asyncQueue.enqueueAndForget((0,x.Z)(function*(){!function tCe(t,e,n){const r=ye(t);var i;(i=(0,x.Z)(function*(s,a,c){try{const l=yield a.getMetadata();if(yield function(E,I){const b=ye(E),L=nr(I.createTime);return b.persistence.runTransaction("hasNewerBundle","readonly",k=>b.Kr.getBundleMetadata(k,I.id)).then(k=>!!k&&k.createTime.compareTo(L)>=0)}(s.localStore,l))return yield a.close(),c._completeWith({taskState:"Success",documentsLoaded:(E=l).totalDocuments,bytesLoaded:E.totalBytes,totalDocuments:E.totalDocuments,totalBytes:E.totalBytes}),Promise.resolve(new Set);c._updateProgress(H8(l));const h=new kve(l,s.localStore,a.serializer);let f=yield a.Ma();for(;f;){const v=yield h.ea(f);v&&c._updateProgress(v),f=yield a.Ma()}const m=yield h.complete();return yield ac(s,m.ra,void 0),yield function(E,I){const b=ye(E);return b.persistence.runTransaction("Save bundle","readwrite",L=>b.Kr.saveBundleMetadata(L,I))}(s.localStore,l),c._completeWith(m.progress),Promise.resolve(m.na)}catch(l){return oo("SyncEngine",`Loading bundle failed with ${l}`),c._failWith(l),Promise.resolve(new Set)}var E}),function o(s,a,c){return i.apply(this,arguments)})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield qx(t),i,r)}))}(n,t._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function ACe(t,e){return function pCe(t,e){return t.asyncQueue.enqueue((0,x.Z)(function*(){return function(r,i){const o=ye(r);return o.persistence.runTransaction("Get named query","readonly",s=>o.Kr.getNamedQuery(s,i))}(yield Mf(t),e)}))}(Gn(t=vt(t,dn)),e).then(n=>n?new ti(t,null,n.query):null)}(this._delegate,e).then(n=>n?new Gi(this,n):null)}}class ZE extends ik{constructor(e){super(),this.firestore=e}convertBytes(e){return new iv(new fa(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return is.forKey(n,this.firestore,null)}}class iG{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new ZE(e)}get(e){const n=Od(e);return this._delegate.get(n).then(r=>new ov(this._firestore,new lc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Od(e);return r?(yk("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=Od(e);return 2===arguments.length?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=Od(e);return this._delegate.delete(n),this}}class oG{constructor(e){this._delegate=e}set(e,n,r){const i=Od(e);return r?(yk("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=Od(e);return 2===arguments.length?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=Od(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Md{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new tv(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new sv(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Md.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(n);return o||(o=new Md(e,new ZE(e),n),i.set(n,o)),o}}Md.INSTANCES=new WeakMap;class is{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new ZE(e)}static forPath(e,n,r){if(e.length%2!=0)throw new le("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new is(n,new wn(n._delegate,r,new ve(e)))}static forKey(e,n,r){return new is(n,new wn(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Tf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Tf(this.firestore,f7(this._delegate,e))}catch(n){throw zi(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,M.m9)(e))instanceof wn&&g7(this._delegate,e)}set(e,n){n=yk("DocumentReference.set",n);try{return n?x7(this._delegate,e,n):x7(this._delegate,e)}catch(r){throw zi(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return 1===arguments.length?k7(this._delegate,e):k7(this._delegate,e,n,...r)}catch(i){throw zi(i,"updateDoc()","DocumentReference.update()")}}delete(){return function nwe(t){return bf(vt(t.firestore,dn),[new af(t._key,Dn.none())])}(this._delegate)}onSnapshot(...e){const n=sG(e),r=aG(e,i=>new ov(this.firestore,new lc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return N7(this._delegate,n,r)}get(e){let n;return n="cache"===e?.source?function QCe(t){t=vt(t,wn);const e=vt(t.firestore,dn),n=Gn(e),r=new jl(e);return function lCe(t,e){const n=new Or;return t.asyncQueue.enqueueAndForget((0,x.Z)(function*(){return(r=(0,x.Z)(function*(o,s,a){try{const c=yield function(h,f){const m=ye(h);return m.persistence.runTransaction("read document","readonly",v=>m.localDocuments.getDocument(v,f))}(o,s);c.isFoundDocument()?a.resolve(c):c.isNoDocument()?a.resolve(null):a.reject(new le(G.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const l=vf(c,`Failed to get document '${s} from cache`);a.reject(l)}}),function i(o,s,a){return r.apply(this,arguments)})(yield Mf(t),e,n);var r})),n.promise}(n,t._key).then(i=>new lc(e,r,t._key,i,new Ed(null!==i&&i.hasLocalMutations,!0),t.converter))}(this._delegate):"server"===e?.source?function XCe(t){t=vt(t,wn);const e=vt(t.firestore,dn);return i7(Gn(e),t._key,{source:"server"}).then(n=>ok(e,t,n))}(this._delegate):function YCe(t){t=vt(t,wn);const e=vt(t.firestore,dn);return i7(Gn(e),t._key).then(n=>ok(e,t,n))}(this._delegate),n.then(r=>new ov(this.firestore,new lc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new is(this.firestore,this._delegate.withConverter(e?Md.getInstance(this.firestore,e):null))}}function zi(t,e,n){return t.message=t.message.replace(e,n),t}function sG(t){for(const e of t)if("object"==typeof e&&!vk(e))return e;return{}}function aG(t,e){var n,r;let i;return i=vk(t[0])?t[0]:vk(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:o=>{i.next&&i.next(e(o))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class ov{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new is(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return R7(this._delegate,e._delegate)}}class sv extends ov{data(e){const n=this._delegate.data(e);return function p_e(t,e){t||Te()}(void 0!==n),n}}class Gi{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new ZE(e)}where(e,n,r){try{return new Gi(this.firestore,Ul(this._delegate,function UCe(t,e,n){const r=e,i=HE("where",t);return ev._create(i,r,n)}(e,n,r)))}catch(i){throw zi(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Gi(this.firestore,Ul(this._delegate,function BCe(t,e="asc"){const n=e,r=HE("orderBy",t);return rk._create(r,n)}(e,n)))}catch(r){throw zi(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Gi(this.firestore,Ul(this._delegate,function jCe(t){return d7("limit",t),zE._create("limit",t,"F")}(e)))}catch(n){throw zi(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Gi(this.firestore,Ul(this._delegate,function $Ce(t){return d7("limitToLast",t),zE._create("limitToLast",t,"L")}(e)))}catch(n){throw zi(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Gi(this.firestore,Ul(this._delegate,function HCe(...t){return GE._create("startAt",t,!0)}(...e)))}catch(n){throw zi(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Gi(this.firestore,Ul(this._delegate,function zCe(...t){return GE._create("startAfter",t,!1)}(...e)))}catch(n){throw zi(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Gi(this.firestore,Ul(this._delegate,function GCe(...t){return WE._create("endBefore",t,!1)}(...e)))}catch(n){throw zi(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Gi(this.firestore,Ul(this._delegate,function WCe(...t){return WE._create("endAt",t,!0)}(...e)))}catch(n){throw zi(n,"endAt()","Query.endAt()")}}isEqual(e){return Yx(this._delegate,e._delegate)}get(e){let n;return n="cache"===e?.source?function ewe(t){t=vt(t,ti);const e=vt(t.firestore,dn),n=Gn(e),r=new jl(e);return function uCe(t,e){const n=new Or;return t.asyncQueue.enqueueAndForget((0,x.Z)(function*(){return(r=(0,x.Z)(function*(o,s,a){try{const c=yield IE(o,s,!0),l=new W8(s,c.ls),h=l.ca(c.documents),f=l.applyChanges(h,!1);a.resolve(f.snapshot)}catch(c){const l=vf(c,`Failed to execute query '${s} against cache`);a.reject(l)}}),function i(o,s,a){return r.apply(this,arguments)})(yield Mf(t),e,n);var r})),n.promise}(n,t._query).then(i=>new Bl(e,r,t,i))}(this._delegate):"server"===e?.source?function twe(t){t=vt(t,ti);const e=vt(t.firestore,dn),n=Gn(e),r=new jl(e);return o7(n,t._query,{source:"server"}).then(i=>new Bl(e,r,t,i))}(this._delegate):function JCe(t){t=vt(t,ti);const e=vt(t.firestore,dn),n=Gn(e),r=new jl(e);return I7(t._query),o7(n,t._query).then(i=>new Bl(e,r,t,i))}(this._delegate),n.then(r=>new Ck(this.firestore,new Bl(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=sG(e),r=aG(e,i=>new Ck(this.firestore,new Bl(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return N7(this._delegate,n,r)}withConverter(e){return new Gi(this.firestore,this._delegate.withConverter(e?Md.getInstance(this.firestore,e):null))}}class u0e{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new sv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Ck{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Gi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new sv(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new u0e(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new sv(this._firestore,r))})}isEqual(e){return R7(this._delegate,e._delegate)}}class Tf extends Gi{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new is(this.firestore,e):null}doc(e){try{return new is(this.firestore,void 0===e?LE(this._delegate):LE(this._delegate,e))}catch(n){throw zi(n,"doc()","CollectionReference.doc()")}}add(e){return function rwe(t,e){const n=vt(t.firestore,dn),r=LE(t),i=qE(t.converter,e);return bf(n,[BE(wd(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Dn.exists(!1))]).then(()=>r)}(this._delegate,e).then(n=>new is(this.firestore,n))}isEqual(e){return g7(this._delegate,e._delegate)}withConverter(e){return new Tf(this.firestore,this._delegate.withConverter(e?Md.getInstance(this.firestore,e):null))}}function Od(t){return vt(t,wn)}class wk{constructor(...e){this._delegate=new cc(...e)}static documentId(){return new wk(vn.keyField().canonicalString())}isEqual(e){return(e=(0,M.m9)(e))instanceof cc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Id{constructor(e){this._delegate=e}static serverTimestamp(){const e=function _we(){return new Xx("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Id(e)}static delete(){const e=function mwe(){return new Yy("deleteField")}();return e._methodName="FieldValue.delete",new Id(e)}static arrayUnion(...e){const n=function ywe(...t){return new kCe("arrayUnion",t)}(...e);return n._methodName="FieldValue.arrayUnion",new Id(n)}static arrayRemove(...e){const n=function vwe(...t){return new NCe("arrayRemove",t)}(...e);return n._methodName="FieldValue.arrayRemove",new Id(n)}static increment(e){const n=function Cwe(t){return new FCe("increment",t)}(e);return n._methodName="FieldValue.increment",new Id(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const d0e={Firestore:rG,GeoPoint:VE,Timestamp:An,Blob:iv,Transaction:iG,WriteBatch:oG,DocumentReference:is,DocumentSnapshot:ov,Query:Gi,QueryDocumentSnapshot:sv,QuerySnapshot:Ck,CollectionReference:Tf,FieldPath:wk,FieldValue:Id,setLogLevel:function l0e(t){!function h_e(t){El.setLogLevel(t)}(t)},CACHE_SIZE_UNLIMITED:-1};function cG(t,e){return function f0e(t,e=eP){return new st(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{r?.()}})}(t,e)}function Pk(t,e){return cG(t,e).pipe(ge(n=>({payload:n,type:"query"})))}!function p0e(t){(function h0e(t,e){t.INTERNAL.registerComponent(new Po.wA("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},d0e)))})(t,(e,n)=>new rG(e,n,new c0e)),t.registerVersion("@firebase/firestore-compat","0.3.21")}(ts.Z);class lG{constructor(e,n){Le(this,"ref",void 0),Le(this,"afs",void 0),this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const r=this.ref.collection(e),{ref:i,query:o}=gG(r,n);return new hG(i,o,this.afs)}snapshotChanges(){return function g0e(t,e){return cG(t,e).pipe(kw(void 0),_k(),ge(n=>{const[r,i]=n;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(er)}valueChanges(e={}){return this.snapshotChanges().pipe(ge(({payload:n})=>e.idField?{...n.data(),[e.idField]:n.id}:n.data()))}get(e){return S(this.ref.get(e)).pipe(er)}}function YE(t,e){return Pk(t,e).pipe(kw(void 0),_k(),ge(n=>{const[r,i]=n,o=i.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,c)=>{const l=o.find(f=>f.doc.ref.isEqual(a.ref)),h=r?.payload.docs.find(f=>f.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function uG(t,e,n){return YE(t,n).pipe(np((r,i)=>function m0e(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=function _0e(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Ek(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Ek(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Ek(t,e.oldIndex,1)}return t}(t,r))}),t}(r,i.map(o=>o.payload),e),[]),rn(),ge(r=>r.map(i=>({type:i.type,payload:i}))))}function Ek(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function dG(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class hG{constructor(e,n,r){Le(this,"ref",void 0),Le(this,"query",void 0),Le(this,"afs",void 0),this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=YE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(ge(r=>r.filter(i=>e.indexOf(i.type)>-1)))),n.pipe(kw(void 0),_k(),Yo(([r,i])=>i.length>0||!r),ge(([,r])=>r),er)}auditTrail(e){return this.stateChanges(e).pipe(np((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=dG(e);return uG(this.query,n,this.afs.schedulers.outsideAngular).pipe(er)}valueChanges(e={}){return Pk(this.query,this.afs.schedulers.outsideAngular).pipe(ge(n=>n.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),er)}get(e){return S(this.query.get(e)).pipe(er)}add(e){return this.ref.add(e)}doc(e){return new lG(this.ref.doc(e),this.afs)}}class y0e{constructor(e,n){Le(this,"query",void 0),Le(this,"afs",void 0),this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?YE(this.query,this.afs.schedulers.outsideAngular).pipe(ge(n=>n.filter(r=>e.indexOf(r.type)>-1)),Yo(n=>n.length>0),er):YE(this.query,this.afs.schedulers.outsideAngular).pipe(er)}auditTrail(e){return this.stateChanges(e).pipe(np((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=dG(e);return uG(this.query,n,this.afs.schedulers.outsideAngular).pipe(er)}valueChanges(e={}){return Pk(this.query,this.afs.schedulers.outsideAngular).pipe(ge(r=>r.payload.docs.map(i=>e.idField?{[e.idField]:i.id,...i.data()}:i.data())),er)}get(e){return S(this.query.get(e)).pipe(er)}}const pG=new fe("angularfire2.enableFirestorePersistence"),fG=new fe("angularfire2.firestore.persistenceSettings"),v0e=new fe("angularfire2.firestore.settings"),C0e=new fe("angularfire2.firestore.use-emulator");function gG(t,e=(n=>n)){return{query:e(t),ref:t}}let w0e=(()=>{var t;class e{constructor(r,i,o,s,a,c,l,h,f,m,v,E,I,b,L,k,H){Le(this,"schedulers",void 0),Le(this,"firestore",void 0),Le(this,"persistenceEnabled$",void 0),this.schedulers=l;const $=D_(r,c,i),pe=f;m&&gk($,c,v,I,b,L,E,k),[this.firestore,this.persistenceEnabled$]=tP(`${$.name}.firestore`,"AngularFirestore",$.name,()=>{const Oe=c.runOutsideAngular(()=>$.firestore());if(s&&Oe.settings(s),pe&&Oe.useEmulator(...pe),o&&!Aw(a)){const at=()=>{try{return S(Oe.enablePersistence(h||void 0).then(()=>!0,()=>!1))}catch(Zt){return typeof console<"u"&&console.warn(Zt),W(!1)}};return[Oe,c.runOutsideAngular(at)]}return[Oe,W(!1)]},[s,pe,o])}collection(r,i){let o;o="string"==typeof r?this.firestore.collection(r):r;const{ref:s,query:a}=gG(o,i),c=this.schedulers.ngZone.run(()=>s);return new hG(c,a,this)}collectionGroup(r,i){const o=i||(a=>a),s=this.firestore.collectionGroup(r);return new y0e(o(s),this)}doc(r){let i;i="string"==typeof r?this.firestore.doc(r):r;const o=this.schedulers.ngZone.run(()=>i);return new lG(o,this)}createId(){return this.firestore.collection("_").doc().id}}return t=e,Le(e,"\u0275fac",function(r){return new(r||t)(re(Dp),re(Sp,8),re(pG,8),re(v0e,8),re(mo),re(Tt),re(Tp),re(fG,8),re(C0e,8),re(mk,8),re(lk,8),re(uk,8),re(dk,8),re(hk,8),re(pk,8),re(fk,8),re(A_,8))}),Le(e,"\u0275prov",be({token:t,factory:t.\u0275fac,providedIn:"any"})),e})(),P0e=(()=>{var t;class e{constructor(){ts.Z.registerVersion("angularfire",yl.full,"fst-compat")}static enablePersistence(r){return{ngModule:e,providers:[{provide:pG,useValue:!0},{provide:fG,useValue:r}]}}}return t=e,Le(e,"\u0275fac",function(r){return new(r||t)}),Le(e,"\u0275mod",Vn({type:t})),Le(e,"\u0275inj",Zn({providers:[w0e]})),e})(),E0e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Vn({type:t,bootstrap:[_pe]}),t.\u0275inj=Zn({imports:[mte,mpe,cle,cce,Epe(()=>(0,Ge.initializeApp)(kr_firebaseConfig)),bwe(()=>Twe()),Wle.initializeApp(kr_firebaseConfig),Fde,j7,i0e,P0e]}),e})();fte().bootstrapModule(E0e).catch(t=>console.error(t))},106:(os,pr,Ke)=>{Ke.d(pr,{Z:()=>fr});var O=Ke(58),Ue=Ke(537),Z=Ke(534),$e=Ke(879);class Pt{constructor(He,nt){this._delegate=He,this.firebase=nt,(0,Z._addComponent)(He,new Ue.wA("app-compat",()=>this,"PUBLIC")),this.container=He.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(He){this._delegate.automaticDataCollectionEnabled=He}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(He=>{this._delegate.checkDestroyed(),He()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Z.deleteApp)(this._delegate)))}_getService(He,nt=Z._DEFAULT_ENTRY_NAME){var gr;this._delegate.checkDestroyed();const ir=this._delegate.container.getProvider(He);return!ir.isInitialized()&&"EXPLICIT"===(null===(gr=ir.getComponent())||void 0===gr?void 0:gr.instantiationMode)&&ir.initialize(),ir.getImmediate({identifier:nt})}_removeServiceInstance(He,nt=Z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(He).clearInstance(nt)}_addComponent(He){(0,Z._addComponent)(this._delegate,He)}_addOrOverwriteComponent(He){(0,Z._addOrOverwriteComponent)(this._delegate,He)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Pn=new O.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),se=function dt(){const St=function rr(St){const He={},nt={__esModule:!0,initializeApp:function en(rt,or={}){const oe=Z.initializeApp(rt,or);if((0,O.r3)(He,oe.name))return He[oe.name];const hn=new St(oe,nt);return He[oe.name]=hn,hn},app:ir,registerVersion:Z.registerVersion,setLogLevel:Z.setLogLevel,onLog:Z.onLog,apps:null,SDK_VERSION:Z.SDK_VERSION,INTERNAL:{registerComponent:function zt(rt){const or=rt.name,oe=or.replace("-compat","");if(Z._registerComponent(rt)&&"PUBLIC"===rt.type){const hn=(tn=ir())=>{if("function"!=typeof tn[oe])throw Pn.create("invalid-app-argument",{appName:or});return tn[oe]()};void 0!==rt.serviceProps&&(0,O.ZB)(hn,rt.serviceProps),nt[oe]=hn,St.prototype[oe]=function(...tn){return this._getService.bind(this,or).apply(this,rt.multipleInstances?tn:[])}}return"PUBLIC"===rt.type?nt[oe]:null},removeApp:function gr(rt){delete He[rt]},useAsService:function ri(rt,or){return"serverAuth"===or?null:or},modularAPIs:Z}};function ir(rt){if(!(0,O.r3)(He,rt=rt||Z._DEFAULT_ENTRY_NAME))throw Pn.create("no-app",{appName:rt});return He[rt]}return nt.default=nt,Object.defineProperty(nt,"apps",{get:function Rt(){return Object.keys(He).map(rt=>He[rt])}}),ir.App=St,nt}(Pt);return St.INTERNAL=Object.assign(Object.assign({},St.INTERNAL),{createFirebaseNamespace:dt,extendNamespace:function He(nt){(0,O.ZB)(St,nt)},createSubscribe:O.ne,ErrorFactory:O.LL,deepExtend:O.ZB}),St}(),he=new $e.Yd("@firebase/app-compat");if((0,O.jU)()&&void 0!==self.firebase){he.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const St=self.firebase.SDK_VERSION;St&&St.indexOf("LITE")>=0&&he.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const fr=se;!function Ot(St){(0,Z.registerVersion)("@firebase/app-compat","0.2.22",St)}()},534:(os,pr,Ke)=>{Ke.r(pr),Ke.d(pr,{FirebaseError:()=>$e.ZR,SDK_VERSION:()=>cs,_DEFAULT_ENTRY_NAME:()=>lo,_addComponent:()=>xs,_addOrOverwriteComponent:()=>br,_apps:()=>$r,_clearComponents:()=>qn,_components:()=>as,_getProvider:()=>nn,_registerComponent:()=>ga,_removeServiceInstance:()=>Wi,deleteApp:()=>_r,getApp:()=>Ns,getApps:()=>pc,initializeApp:()=>ks,onLog:()=>fc,registerVersion:()=>Fs,setLogLevel:()=>bd});var O=Ke(861),Ue=Ke(537),Z=Ke(879),$e=Ke(58);const Pt=(j,N)=>N.some(ue=>j instanceof ue);let Jt,Pn;const se=new WeakMap,he=new WeakMap,Ae=new WeakMap,ct=new WeakMap,Ot=new WeakMap;let He={get(j,N,ue){if(j instanceof IDBTransaction){if("done"===N)return he.get(j);if("objectStoreNames"===N)return j.objectStoreNames||Ae.get(j);if("store"===N)return ue.objectStoreNames[1]?void 0:ue.objectStore(ue.objectStoreNames[0])}return en(j[N])},set:(j,N,ue)=>(j[N]=ue,!0),has:(j,N)=>j instanceof IDBTransaction&&("done"===N||"store"===N)||N in j};function ir(j){return"function"==typeof j?function gr(j){return j!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function dt(){return Pn||(Pn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(j)?function(...N){return j.apply(Rt(this),N),en(se.get(this))}:function(...N){return en(j.apply(Rt(this),N))}:function(N,...ue){const xe=j.call(Rt(this),N,...ue);return Ae.set(xe,N.sort?N.sort():[N]),en(xe)}}(j):(j instanceof IDBTransaction&&function St(j){if(he.has(j))return;const N=new Promise((ue,xe)=>{const Ye=()=>{j.removeEventListener("complete",lt),j.removeEventListener("error",Q),j.removeEventListener("abort",Q)},lt=()=>{ue(),Ye()},Q=()=>{xe(j.error||new DOMException("AbortError","AbortError")),Ye()};j.addEventListener("complete",lt),j.addEventListener("error",Q),j.addEventListener("abort",Q)});he.set(j,N)}(j),Pt(j,function rr(){return Jt||(Jt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(j,He):j)}function en(j){if(j instanceof IDBRequest)return function fr(j){const N=new Promise((ue,xe)=>{const Ye=()=>{j.removeEventListener("success",lt),j.removeEventListener("error",Q)},lt=()=>{ue(en(j.result)),Ye()},Q=()=>{xe(j.error),Ye()};j.addEventListener("success",lt),j.addEventListener("error",Q)});return N.then(ue=>{ue instanceof IDBCursor&&se.set(ue,j)}).catch(()=>{}),Ot.set(N,j),N}(j);if(ct.has(j))return ct.get(j);const N=ir(j);return N!==j&&(ct.set(j,N),Ot.set(N,j)),N}const Rt=j=>Ot.get(j),rt=["get","getKey","getAll","getAllKeys","count"],or=["put","add","delete","clear"],oe=new Map;function hn(j,N){if(!(j instanceof IDBDatabase)||N in j||"string"!=typeof N)return;if(oe.get(N))return oe.get(N);const ue=N.replace(/FromIndex$/,""),xe=N!==ue,Ye=or.includes(ue);if(!(ue in(xe?IDBIndex:IDBObjectStore).prototype)||!Ye&&!rt.includes(ue))return;const lt=function(){var Q=(0,O.Z)(function*(Kn,...De){const ht=this.transaction(Kn,Ye?"readwrite":"readonly");let ql=ht.store;return xe&&(ql=ql.index(De.shift())),(yield Promise.all([ql[ue](...De),Ye&&ht.done]))[0]});return function(De){return Q.apply(this,arguments)}}();return oe.set(N,lt),lt}!function nt(j){He=j(He)}(j=>({...j,get:(N,ue,xe)=>hn(N,ue)||j.get(N,ue,xe),has:(N,ue)=>!!hn(N,ue)||j.has(N,ue)}));class tn{constructor(N){this.container=N}getPlatformInfoString(){return this.container.getProviders().map(ue=>{if(function Nn(j){const N=j.getComponent();return"VERSION"===N?.type}(ue)){const xe=ue.getImmediate();return`${xe.library}/${xe.version}`}return null}).filter(ue=>ue).join(" ")}}const Ao="@firebase/app",st=new Z.Yd("@firebase/app"),lo="[DEFAULT]",Gl={[Ao]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},$r=new Map,as=new Map;function xs(j,N){try{j.container.addComponent(N)}catch(ue){st.debug(`Component ${N.name} failed to register with FirebaseApp ${j.name}`,ue)}}function br(j,N){j.container.addOrOverwriteComponent(N)}function ga(j){const N=j.name;if(as.has(N))return st.debug(`There were multiple attempts to register component ${N}.`),!1;as.set(N,j);for(const ue of $r.values())xs(ue,j);return!0}function nn(j,N){const ue=j.container.getProvider("heartbeat").getImmediate({optional:!0});return ue&&ue.triggerHeartbeat(),j.container.getProvider(N)}function Wi(j,N,ue=lo){nn(j,N).clearInstance(ue)}function qn(){as.clear()}const Mi=new $e.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Oi{constructor(N,ue,xe){this._isDeleted=!1,this._options=Object.assign({},N),this._config=Object.assign({},ue),this._name=ue.name,this._automaticDataCollectionEnabled=ue.automaticDataCollectionEnabled,this._container=xe,this.container.addComponent(new Ue.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(N){this.checkDestroyed(),this._automaticDataCollectionEnabled=N}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(N){this._isDeleted=N}checkDestroyed(){if(this.isDeleted)throw Mi.create("app-deleted",{appName:this._name})}}const cs="10.5.2";function ks(j,N={}){let ue=j;"object"!=typeof N&&(N={name:N});const xe=Object.assign({name:lo,automaticDataCollectionEnabled:!1},N),Ye=xe.name;if("string"!=typeof Ye||!Ye)throw Mi.create("bad-app-name",{appName:String(Ye)});if(ue||(ue=(0,$e.aH)()),!ue)throw Mi.create("no-options");const lt=$r.get(Ye);if(lt){if((0,$e.vZ)(ue,lt.options)&&(0,$e.vZ)(xe,lt.config))return lt;throw Mi.create("duplicate-app",{appName:Ye})}const Q=new Ue.H0(Ye);for(const De of as.values())Q.addComponent(De);const Kn=new Oi(ue,xe,Q);return $r.set(Ye,Kn),Kn}function Ns(j=lo){const N=$r.get(j);if(!N&&j===lo&&(0,$e.aH)())return ks();if(!N)throw Mi.create("no-app",{appName:j});return N}function pc(){return Array.from($r.values())}function _r(j){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,O.Z)(function*(j){const N=j.name;$r.has(N)&&($r.delete(N),yield Promise.all(j.container.getProviders().map(ue=>ue.delete())),j.isDeleted=!0)})).apply(this,arguments)}function Fs(j,N,ue){var xe;let Ye=null!==(xe=Gl[j])&&void 0!==xe?xe:j;ue&&(Ye+=`-${ue}`);const lt=Ye.match(/\s|\//),Q=N.match(/\s|\//);if(lt||Q){const Kn=[`Unable to register library "${Ye}" with version "${N}":`];return lt&&Kn.push(`library name "${Ye}" contains illegal characters (whitespace or "/")`),lt&&Q&&Kn.push("and"),Q&&Kn.push(`version name "${N}" contains illegal characters (whitespace or "/")`),void st.warn(Kn.join(" "))}ga(new Ue.wA(`${Ye}-version`,()=>({library:Ye,version:N}),"VERSION"))}function fc(j,N){if(null!==j&&"function"!=typeof j)throw Mi.create("invalid-log-argument");(0,Z.Am)(j,N)}function bd(j){(0,Z.Ub)(j)}const Wl="firebase-heartbeat-database",gc=1,R="firebase-heartbeat-store";let A=null;function S(){return A||(A=function zt(j,N,{blocked:ue,upgrade:xe,blocking:Ye,terminated:lt}={}){const Q=indexedDB.open(j,N),Kn=en(Q);return xe&&Q.addEventListener("upgradeneeded",De=>{xe(en(Q.result),De.oldVersion,De.newVersion,en(Q.transaction),De)}),ue&&Q.addEventListener("blocked",De=>ue(De.oldVersion,De.newVersion,De)),Kn.then(De=>{lt&&De.addEventListener("close",()=>lt()),Ye&&De.addEventListener("versionchange",ht=>Ye(ht.oldVersion,ht.newVersion,ht))}).catch(()=>{}),Kn}(Wl,gc,{upgrade:(j,N)=>{0===N&&j.createObjectStore(R)}}).catch(j=>{throw Mi.create("idb-open",{originalErrorMessage:j.message})})),A}function U(){return(U=(0,O.Z)(function*(j){try{return yield(yield S()).transaction(R).objectStore(R).get(Mt(j))}catch(N){if(N instanceof $e.ZR)st.warn(N.message);else{const ue=Mi.create("idb-get",{originalErrorMessage:N?.message});st.warn(ue.message)}}})).apply(this,arguments)}function W(j,N){return ze.apply(this,arguments)}function ze(){return(ze=(0,O.Z)(function*(j,N){try{const xe=(yield S()).transaction(R,"readwrite");yield xe.objectStore(R).put(N,Mt(j)),yield xe.done}catch(ue){if(ue instanceof $e.ZR)st.warn(ue.message);else{const xe=Mi.create("idb-set",{originalErrorMessage:ue?.message});st.warn(xe.message)}}})).apply(this,arguments)}function Mt(j){return`${j.name}!${j.options.appId}`}class Ii{constructor(N){this.container=N,this._heartbeatsCache=null;const ue=this.container.getProvider("app").getImmediate();this._storage=new Ut(ue),this._heartbeatsCachePromise=this._storage.read().then(xe=>(this._heartbeatsCache=xe,xe))}triggerHeartbeat(){var N=this;return(0,O.Z)(function*(){const xe=N.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ye=Re();if(null===N._heartbeatsCache&&(N._heartbeatsCache=yield N._heartbeatsCachePromise),N._heartbeatsCache.lastSentHeartbeatDate!==Ye&&!N._heartbeatsCache.heartbeats.some(lt=>lt.date===Ye))return N._heartbeatsCache.heartbeats.push({date:Ye,agent:xe}),N._heartbeatsCache.heartbeats=N._heartbeatsCache.heartbeats.filter(lt=>{const Q=new Date(lt.date).valueOf();return Date.now()-Q<=2592e6}),N._storage.overwrite(N._heartbeatsCache)})()}getHeartbeatsHeader(){var N=this;return(0,O.Z)(function*(){if(null===N._heartbeatsCache&&(yield N._heartbeatsCachePromise),null===N._heartbeatsCache||0===N._heartbeatsCache.heartbeats.length)return"";const ue=Re(),{heartbeatsToSend:xe,unsentEntries:Ye}=function sr(j,N=1024){const ue=[];let xe=j.slice();for(const Ye of j){const lt=ue.find(Q=>Q.agent===Ye.agent);if(lt){if(lt.dates.push(Ye.date),ls(ue)>N){lt.dates.pop();break}}else if(ue.push({agent:Ye.agent,dates:[Ye.date]}),ls(ue)>N){ue.pop();break}xe=xe.slice(1)}return{heartbeatsToSend:ue,unsentEntries:xe}}(N._heartbeatsCache.heartbeats),lt=(0,$e.L)(JSON.stringify({version:2,heartbeats:xe}));return N._heartbeatsCache.lastSentHeartbeatDate=ue,Ye.length>0?(N._heartbeatsCache.heartbeats=Ye,yield N._storage.overwrite(N._heartbeatsCache)):(N._heartbeatsCache.heartbeats=[],N._storage.overwrite(N._heartbeatsCache)),lt})()}}function Re(){return(new Date).toISOString().substring(0,10)}class Ut{constructor(N){this.app=N,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,O.Z)(function*(){return!!(0,$e.hl)()&&(0,$e.eu)().then(()=>!0).catch(()=>!1)})()}read(){var N=this;return(0,O.Z)(function*(){return(yield N._canUseIndexedDBPromise)&&(yield function ee(j){return U.apply(this,arguments)}(N.app))||{heartbeats:[]}})()}overwrite(N){var ue=this;return(0,O.Z)(function*(){var xe;if(yield ue._canUseIndexedDBPromise){const lt=yield ue.read();return W(ue.app,{lastSentHeartbeatDate:null!==(xe=N.lastSentHeartbeatDate)&&void 0!==xe?xe:lt.lastSentHeartbeatDate,heartbeats:N.heartbeats})}})()}add(N){var ue=this;return(0,O.Z)(function*(){var xe;if(yield ue._canUseIndexedDBPromise){const lt=yield ue.read();return W(ue.app,{lastSentHeartbeatDate:null!==(xe=N.lastSentHeartbeatDate)&&void 0!==xe?xe:lt.lastSentHeartbeatDate,heartbeats:[...lt.heartbeats,...N.heartbeats]})}})()}}function ls(j){return(0,$e.L)(JSON.stringify({version:2,heartbeats:j})).length}!function ma(j){ga(new Ue.wA("platform-logger",N=>new tn(N),"PRIVATE")),ga(new Ue.wA("heartbeat",N=>new Ii(N),"PRIVATE")),Fs(Ao,"0.9.22",j),Fs(Ao,"0.9.22","esm2017"),Fs("fire-js","")}("")},537:(os,pr,Ke)=>{Ke.d(pr,{H0:()=>rr,wA:()=>Z,zt:()=>Pt});var O=Ke(861),Ue=Ke(58);class Z{constructor(se,he,Ae){this.name=se,this.instanceFactory=he,this.type=Ae,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(se){return this.instantiationMode=se,this}setMultipleInstances(se){return this.multipleInstances=se,this}setServiceProps(se){return this.serviceProps=se,this}setInstanceCreatedCallback(se){return this.onInstanceCreated=se,this}}const $e="[DEFAULT]";class Pt{constructor(se,he){this.name=se,this.container=he,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(se){const he=this.normalizeInstanceIdentifier(se);if(!this.instancesDeferred.has(he)){const Ae=new Ue.BH;if(this.instancesDeferred.set(he,Ae),this.isInitialized(he)||this.shouldAutoInitialize())try{const ct=this.getOrInitializeService({instanceIdentifier:he});ct&&Ae.resolve(ct)}catch{}}return this.instancesDeferred.get(he).promise}getImmediate(se){var he;const Ae=this.normalizeInstanceIdentifier(se?.identifier),ct=null!==(he=se?.optional)&&void 0!==he&&he;if(!this.isInitialized(Ae)&&!this.shouldAutoInitialize()){if(ct)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ae})}catch(Ot){if(ct)return null;throw Ot}}getComponent(){return this.component}setComponent(se){if(se.name!==this.name)throw Error(`Mismatching Component ${se.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=se,this.shouldAutoInitialize()){if(function Pn(dt){return"EAGER"===dt.instantiationMode}(se))try{this.getOrInitializeService({instanceIdentifier:$e})}catch{}for(const[he,Ae]of this.instancesDeferred.entries()){const ct=this.normalizeInstanceIdentifier(he);try{const Ot=this.getOrInitializeService({instanceIdentifier:ct});Ae.resolve(Ot)}catch{}}}}clearInstance(se=$e){this.instancesDeferred.delete(se),this.instancesOptions.delete(se),this.instances.delete(se)}delete(){var se=this;return(0,O.Z)(function*(){const he=Array.from(se.instances.values());yield Promise.all([...he.filter(Ae=>"INTERNAL"in Ae).map(Ae=>Ae.INTERNAL.delete()),...he.filter(Ae=>"_delete"in Ae).map(Ae=>Ae._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(se=$e){return this.instances.has(se)}getOptions(se=$e){return this.instancesOptions.get(se)||{}}initialize(se={}){const{options:he={}}=se,Ae=this.normalizeInstanceIdentifier(se.instanceIdentifier);if(this.isInitialized(Ae))throw Error(`${this.name}(${Ae}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ct=this.getOrInitializeService({instanceIdentifier:Ae,options:he});for(const[Ot,fr]of this.instancesDeferred.entries())Ae===this.normalizeInstanceIdentifier(Ot)&&fr.resolve(ct);return ct}onInit(se,he){var Ae;const ct=this.normalizeInstanceIdentifier(he),Ot=null!==(Ae=this.onInitCallbacks.get(ct))&&void 0!==Ae?Ae:new Set;Ot.add(se),this.onInitCallbacks.set(ct,Ot);const fr=this.instances.get(ct);return fr&&se(fr,ct),()=>{Ot.delete(se)}}invokeOnInitCallbacks(se,he){const Ae=this.onInitCallbacks.get(he);if(Ae)for(const ct of Ae)try{ct(se,he)}catch{}}getOrInitializeService({instanceIdentifier:se,options:he={}}){let Ae=this.instances.get(se);if(!Ae&&this.component&&(Ae=this.component.instanceFactory(this.container,{instanceIdentifier:(dt=se,dt===$e?void 0:dt),options:he}),this.instances.set(se,Ae),this.instancesOptions.set(se,he),this.invokeOnInitCallbacks(Ae,se),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,se,Ae)}catch{}var dt;return Ae||null}normalizeInstanceIdentifier(se=$e){return this.component?this.component.multipleInstances?se:$e:se}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class rr{constructor(se){this.name=se,this.providers=new Map}addComponent(se){const he=this.getProvider(se.name);if(he.isComponentSet())throw new Error(`Component ${se.name} has already been registered with ${this.name}`);he.setComponent(se)}addOrOverwriteComponent(se){this.getProvider(se.name).isComponentSet()&&this.providers.delete(se.name),this.addComponent(se)}getProvider(se){if(this.providers.has(se))return this.providers.get(se);const he=new Pt(se,this);return this.providers.set(se,he),he}getProviders(){return Array.from(this.providers.values())}}},879:(os,pr,Ke)=>{Ke.d(pr,{Am:()=>dt,Ub:()=>rr,Yd:()=>Pn,in:()=>Ue});const O=[];var Ue=function(se){return se[se.DEBUG=0]="DEBUG",se[se.VERBOSE=1]="VERBOSE",se[se.INFO=2]="INFO",se[se.WARN=3]="WARN",se[se.ERROR=4]="ERROR",se[se.SILENT=5]="SILENT",se}(Ue||{});const Z={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},$e=Ue.INFO,Pt={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},Jt=(se,he,...Ae)=>{if(he<se.logLevel)return;const ct=(new Date).toISOString(),Ot=Pt[he];if(!Ot)throw new Error(`Attempted to log a message with an invalid logType (value: ${he})`);console[Ot](`[${ct}]  ${se.name}:`,...Ae)};class Pn{constructor(he){this.name=he,this._logLevel=$e,this._logHandler=Jt,this._userLogHandler=null,O.push(this)}get logLevel(){return this._logLevel}set logLevel(he){if(!(he in Ue))throw new TypeError(`Invalid value "${he}" assigned to \`logLevel\``);this._logLevel=he}setLogLevel(he){this._logLevel="string"==typeof he?Z[he]:he}get logHandler(){return this._logHandler}set logHandler(he){if("function"!=typeof he)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=he}get userLogHandler(){return this._userLogHandler}set userLogHandler(he){this._userLogHandler=he}debug(...he){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...he),this._logHandler(this,Ue.DEBUG,...he)}log(...he){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...he),this._logHandler(this,Ue.VERBOSE,...he)}info(...he){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...he),this._logHandler(this,Ue.INFO,...he)}warn(...he){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...he),this._logHandler(this,Ue.WARN,...he)}error(...he){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...he),this._logHandler(this,Ue.ERROR,...he)}}function rr(se){O.forEach(he=>{he.setLogLevel(se)})}function dt(se,he){for(const Ae of O){let ct=null;he&&he.level&&(ct=Z[he.level]),Ae.userLogHandler=null===se?null:(Ot,fr,...St)=>{const He=St.map(nt=>{if(null==nt)return null;if("string"==typeof nt)return nt;if("number"==typeof nt||"boolean"==typeof nt)return nt.toString();if(nt instanceof Error)return nt.message;try{return JSON.stringify(nt)}catch{return null}}).filter(nt=>nt).join(" ");fr>=(ct??Ot.logLevel)&&se({level:Ue[fr].toLowerCase(),message:He,args:St,type:Ot.name})}}}},643:(os,pr,Ke)=>{Ke.r(pr);var O=Ke(861),Ue=Ke(106),Z=Ke(58),$e=Ke(534),Pt=Ke(879),Jt=Ke(582),Pn=Ke(537);const dt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const fr=function ct(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},St=function Ot(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},He=new Z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),gr=new Pt.Yd("@firebase/auth");function en(p,...u){gr.logLevel<=Pt.in.ERROR&&gr.error(`Auth (${$e.SDK_VERSION}): ${p}`,...u)}function Rt(p,...u){throw or(p,...u)}function zt(p,...u){return or(p,...u)}function ri(p,u,d){const g=Object.assign(Object.assign({},St()),{[u]:d});return new Z.LL("auth","Firebase",g).create(u,{appName:p.name})}function rt(p,u,d){if(!(u instanceof d))throw d.name!==u.constructor.name&&Rt(p,"argument-error"),ri(p,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function or(p,...u){if("string"!=typeof p){const d=u[0],g=[...u.slice(1)];return g[0]&&(g[0].appName=p.name),p._errorFactory.create(d,...g)}return He.create(p,...u)}function oe(p,u,...d){if(!p)throw or(u,...d)}function hn(p){const u="INTERNAL ASSERTION FAILED: "+p;throw en(u),new Error(u)}function tn(p,u){p||hn(u)}function Nn(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.href)||""}function Ao(){return"http:"===Do()||"https:"===Do()}function Do(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.protocol)||null}class So{constructor(u,d){this.shortDelay=u,this.longDelay=d,tn(d>u,"Short delay should be less than long delay!"),this.isMobile=(0,Z.uI)()||(0,Z.b$)()}get(){return function st(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ao()||(0,Z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function z(p,u){tn(p.emulator,"Emulator should always be set here");const{url:d}=p.emulator;return u?`${d}${u.startsWith("/")?u.slice(1):u}`:d}class q{static initialize(u,d,g){this.fetchImpl=u,d&&(this.headersImpl=d),g&&(this.responseImpl=g)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Y={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},te=new So(3e4,6e4);function ce(p,u){return p.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:p.tenantId}):u}function K(p,u,d,g){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,O.Z)(function*(p,u,d,g,C={}){return yt(p,C,(0,O.Z)(function*(){let P={},D={};g&&("GET"===u?D=g:P={body:JSON.stringify(g)});const V=(0,Z.xO)(Object.assign({key:p.config.apiKey},D)).slice(1),ne=yield p._getAdditionalHeaders();return ne["Content-Type"]="application/json",p.languageCode&&(ne["X-Firebase-Locale"]=p.languageCode),q.fetch()(pn(p,p.config.apiHost,d,V),Object.assign({method:u,headers:ne,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function yt(p,u,d){return ge.apply(this,arguments)}function ge(){return(ge=(0,O.Z)(function*(p,u,d){p._canInitEmulator=!1;const g=Object.assign(Object.assign({},Y),u);try{const C=new mr(p),P=yield Promise.race([d(),C.promise]);C.clearNetworkTimeout();const D=yield P.json();if("needConfirmation"in D)throw Wn(p,"account-exists-with-different-credential",D);if(P.ok&&!("errorMessage"in D))return D;{const V=P.ok?D.errorMessage:D.error.message,[ne,_e]=V.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ne)throw Wn(p,"credential-already-in-use",D);if("EMAIL_EXISTS"===ne)throw Wn(p,"email-already-in-use",D);if("USER_DISABLED"===ne)throw Wn(p,"user-disabled",D);const Me=g[ne]||ne.toLowerCase().replace(/[_\s]+/g,"-");if(_e)throw ri(p,Me,_e);Rt(p,Me)}}catch(C){if(C instanceof Z.ZR)throw C;Rt(p,"network-request-failed",{message:String(C)})}})).apply(this,arguments)}function Se(p,u,d,g){return Et.apply(this,arguments)}function Et(){return(Et=(0,O.Z)(function*(p,u,d,g,C={}){const P=yield K(p,u,d,g,C);return"mfaPendingCredential"in P&&Rt(p,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function pn(p,u,d,g){const C=`${u}${d}?${g}`;return p.config.emulator?z(p.config,C):`${p.config.apiScheme}://${C}`}function Yt(p){switch(p){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mr{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((d,g)=>{this.timer=setTimeout(()=>g(zt(this.auth,"network-request-failed")),te.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wn(p,u,d){const g={appName:p.name};d.email&&(g.email=d.email),d.phoneNumber&&(g.phoneNumber=d.phoneNumber);const C=zt(p,u,g);return C.customData._tokenResponse=d,C}function Br(p){return void 0!==p&&void 0!==p.getResponse}function jr(p){return void 0!==p&&void 0!==p.enterprise}class Ei{constructor(u){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===u.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=u.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=u.recaptchaEnforcementState}getProviderEnforcementState(u){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const d of this.recaptchaEnforcementState)if(d.provider&&d.provider===u)return Yt(d.enforcementState);return null}isProviderEnabled(u){return"ENFORCE"===this.getProviderEnforcementState(u)||"AUDIT"===this.getProviderEnforcementState(u)}}function ss(){return(ss=(0,O.Z)(function*(p){return(yield K(p,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Fn(p,u){return dc.apply(this,arguments)}function dc(){return(dc=(0,O.Z)(function*(p,u){return K(p,"GET","/v2/recaptchaConfig",ce(p,u))})).apply(this,arguments)}function lo(){return(lo=(0,O.Z)(function*(p,u){return K(p,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function $r(){return($r=(0,O.Z)(function*(p,u){return K(p,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function xs(){return(xs=(0,O.Z)(function*(p,u){return K(p,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function br(p){if(p)try{const u=new Date(Number(p));if(!isNaN(u.getTime()))return u.toUTCString()}catch{}}function Wi(){return(Wi=(0,O.Z)(function*(p,u=!1){const d=(0,Z.m9)(p),g=yield d.getIdToken(u),C=hc(g);oe(C&&C.exp&&C.auth_time&&C.iat,d.auth,"internal-error");const P="object"==typeof C.firebase?C.firebase:void 0,D=P?.sign_in_provider;return{claims:C,token:g,authTime:br(qn(C.auth_time)),issuedAtTime:br(qn(C.iat)),expirationTime:br(qn(C.exp)),signInProvider:D||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function qn(p){return 1e3*Number(p)}function hc(p){const[u,d,g]=p.split(".");if(void 0===u||void 0===d||void 0===g)return en("JWT malformed, contained fewer than 3 sections"),null;try{const C=(0,Z.tV)(d);return C?JSON.parse(C):(en("Failed to decode base64 JWT payload"),null)}catch(C){return en("Caught error parsing JWT payload as JSON",C?.toString()),null}}function Oi(p,u){return cs.apply(this,arguments)}function cs(){return(cs=(0,O.Z)(function*(p,u,d=!1){if(d)return u;try{return yield u}catch(g){throw g instanceof Z.ZR&&function ks({code:p}){return"auth/user-disabled"===p||"auth/user-token-expired"===p}(g)&&p.auth.currentUser===p&&(yield p.auth.signOut()),g}})).apply(this,arguments)}class Ns{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var d;if(u){const g=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),g}{this.errorBackoff=3e4;const C=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,C)}}schedule(u=!1){var d=this;if(!this.isRunning)return;const g=this.getInterval(u);this.timerId=setTimeout((0,O.Z)(function*(){yield d.iteration()}),g)}iteration(){var u=this;return(0,O.Z)(function*(){try{yield u.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&u.schedule(!0))}u.schedule()})()}}class pc{constructor(u,d){this.createdAt=u,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=br(this.lastLoginAt),this.creationTime=br(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function _r(p){return Hr.apply(this,arguments)}function Hr(){return Hr=(0,O.Z)(function*(p){var u;const d=p.auth,g=yield p.getIdToken(),C=yield Oi(p,function as(p,u){return xs.apply(this,arguments)}(d,{idToken:g}));oe(C?.users.length,d,"internal-error");const P=C.users[0];p._notifyReloadListener(P);const D=null!==(u=P.providerUserInfo)&&void 0!==u&&u.length?function Wl(p){return p.map(u=>{var{providerId:d}=u,g=(0,Jt._T)(u,["providerId"]);return{providerId:d,uid:g.rawId||"",displayName:g.displayName||null,email:g.email||null,phoneNumber:g.phoneNumber||null,photoURL:g.photoUrl||null}})}(P.providerUserInfo):[],V=function bd(p,u){return[...p.filter(g=>!u.some(C=>C.providerId===g.providerId)),...u]}(p.providerData,D),Me=!!p.isAnonymous&&!(p.email&&P.passwordHash||V?.length),Ie={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:V,metadata:new pc(P.createdAt,P.lastLoginAt),isAnonymous:Me};Object.assign(p,Ie)}),Hr.apply(this,arguments)}function fc(){return(fc=(0,O.Z)(function*(p){const u=(0,Z.m9)(p);yield _r(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function R(){return(R=(0,O.Z)(function*(p,u){const d=yield yt(p,{},(0,O.Z)(function*(){const g=(0,Z.xO)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:C,apiKey:P}=p.config,D=pn(p,C,"/v1/token",`key=${P}`),V=yield p._getAdditionalHeaders();return V["Content-Type"]="application/x-www-form-urlencoded",q.fetch()(D,{method:"POST",headers:V,body:g})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}class A{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){oe(u.idToken,"internal-error"),oe(typeof u.idToken<"u","internal-error"),oe(typeof u.refreshToken<"u","internal-error");const d="expiresIn"in u&&typeof u.expiresIn<"u"?Number(u.expiresIn):function Mi(p){const u=hc(p);return oe(u,"internal-error"),oe(typeof u.exp<"u","internal-error"),oe(typeof u.iat<"u","internal-error"),Number(u.exp)-Number(u.iat)}(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,d)}getToken(u,d=!1){var g=this;return(0,O.Z)(function*(){return oe(!g.accessToken||g.refreshToken,u,"user-token-expired"),d||!g.accessToken||g.isExpired?g.refreshToken?(yield g.refresh(u,g.refreshToken),g.accessToken):null:g.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,d){var g=this;return(0,O.Z)(function*(){const{accessToken:C,refreshToken:P,expiresIn:D}=yield function gc(p,u){return R.apply(this,arguments)}(u,d);g.updateTokensAndExpiration(C,P,Number(D))})()}updateTokensAndExpiration(u,d,g){this.refreshToken=d||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*g}static fromJSON(u,d){const{refreshToken:g,accessToken:C,expirationTime:P}=d,D=new A;return g&&(oe("string"==typeof g,"internal-error",{appName:u}),D.refreshToken=g),C&&(oe("string"==typeof C,"internal-error",{appName:u}),D.accessToken=C),P&&(oe("number"==typeof P,"internal-error",{appName:u}),D.expirationTime=P),D}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new A,this.toJSON())}_performRefresh(){return hn("not implemented")}}function S(p,u){oe("string"==typeof p||typeof p>"u","internal-error",{appName:u})}class ee{constructor(u){var{uid:d,auth:g,stsTokenManager:C}=u,P=(0,Jt._T)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ns(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=g,this.stsTokenManager=C,this.accessToken=C.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new pc(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(u){var d=this;return(0,O.Z)(function*(){const g=yield Oi(d,d.stsTokenManager.getToken(d.auth,u));return oe(g,d.auth,"internal-error"),d.accessToken!==g&&(d.accessToken=g,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),g})()}getIdTokenResult(u){return function nn(p){return Wi.apply(this,arguments)}(this,u)}reload(){return function Fs(p){return fc.apply(this,arguments)}(this)}_assign(u){this!==u&&(oe(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(d=>Object.assign({},d)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){const d=new ee(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(u){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,d=!1){var g=this;return(0,O.Z)(function*(){let C=!1;u.idToken&&u.idToken!==g.stsTokenManager.accessToken&&(g.stsTokenManager.updateFromServerResponse(u),C=!0),d&&(yield _r(g)),yield g.auth._persistUserIfCurrent(g),C&&g.auth._notifyListenersIfCurrent(g)})()}delete(){var u=this;return(0,O.Z)(function*(){const d=yield u.getIdToken();return yield Oi(u,function zl(p,u){return lo.apply(this,arguments)}(u.auth,{idToken:d})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,d){var g,C,P,D,V,ne,_e,Me;const Ie=null!==(g=d.displayName)&&void 0!==g?g:void 0,_n=null!==(C=d.email)&&void 0!==C?C:void 0,Ho=null!==(P=d.phoneNumber)&&void 0!==P?P:void 0,Cu=null!==(D=d.photoURL)&&void 0!==D?D:void 0,gC=null!==(V=d.tenantId)&&void 0!==V?V:void 0,mC=null!==(ne=d._redirectEventId)&&void 0!==ne?ne:void 0,_C=null!==(_e=d.createdAt)&&void 0!==_e?_e:void 0,yC=null!==(Me=d.lastLoginAt)&&void 0!==Me?Me:void 0,{uid:Bg,emailVerified:wu,isAnonymous:jg,providerData:$g,stsTokenManager:Hg}=d;oe(Bg&&Hg,u,"internal-error");const tN=A.fromJSON(this.name,Hg);oe("string"==typeof Bg,u,"internal-error"),S(Ie,u.name),S(_n,u.name),oe("boolean"==typeof wu,u,"internal-error"),oe("boolean"==typeof jg,u,"internal-error"),S(Ho,u.name),S(Cu,u.name),S(gC,u.name),S(mC,u.name),S(_C,u.name),S(yC,u.name);const Ch=new ee({uid:Bg,auth:u,email:_n,emailVerified:wu,displayName:Ie,isAnonymous:jg,photoURL:Cu,phoneNumber:Ho,tenantId:gC,stsTokenManager:tN,createdAt:_C,lastLoginAt:yC});return $g&&Array.isArray($g)&&(Ch.providerData=$g.map(nN=>Object.assign({},nN))),mC&&(Ch._redirectEventId=mC),Ch}static _fromIdTokenResponse(u,d,g=!1){return(0,O.Z)(function*(){const C=new A;C.updateFromServerResponse(d);const P=new ee({uid:d.localId,auth:u,stsTokenManager:C,isAnonymous:g});return yield _r(P),P})()}}const U=new Map;function W(p){tn(p instanceof Function,"Expected a class definition");let u=U.get(p);return u?(tn(u instanceof p,"Instance stored in cache mismatched with class"),u):(u=new p,U.set(p,u),u)}const Mt=(()=>{class p{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,O.Z)(function*(){return!0})()}_set(d,g){var C=this;return(0,O.Z)(function*(){C.storage[d]=g})()}_get(d){var g=this;return(0,O.Z)(function*(){const C=g.storage[d];return void 0===C?null:C})()}_remove(d){var g=this;return(0,O.Z)(function*(){delete g.storage[d]})()}_addListener(d,g){}_removeListener(d,g){}}return p.type="NONE",p})();function Ze(p,u,d){return`firebase:${p}:${u}:${d}`}class rn{constructor(u,d,g){this.persistence=u,this.auth=d,this.userKey=g;const{config:C,name:P}=this.auth;this.fullUserKey=Ze(this.userKey,C.apiKey,P),this.fullPersistenceKey=Ze("persistence",C.apiKey,P),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,O.Z)(function*(){const d=yield u.persistence._get(u.fullUserKey);return d?ee._fromJSON(u.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var d=this;return(0,O.Z)(function*(){if(d.persistence===u)return;const g=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=u,g?d.setCurrentUser(g):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,d,g="authUser"){return(0,O.Z)(function*(){if(!d.length)return new rn(W(Mt),u,g);const C=(yield Promise.all(d.map(function(){var _e=(0,O.Z)(function*(Me){if(yield Me._isAvailable())return Me});return function(Me){return _e.apply(this,arguments)}}()))).filter(_e=>_e);let P=C[0]||W(Mt);const D=Ze(g,u.config.apiKey,u.name);let V=null;for(const _e of d)try{const Me=yield _e._get(D);if(Me){const Ie=ee._fromJSON(u,Me);_e!==P&&(V=Ie),P=_e;break}}catch{}const ne=C.filter(_e=>_e._shouldAllowMigration);return P._shouldAllowMigration&&ne.length?(P=ne[0],V&&(yield P._set(D,V.toJSON())),yield Promise.all(d.map(function(){var _e=(0,O.Z)(function*(Me){if(Me!==P)try{yield Me._remove(D)}catch{}});return function(Me){return _e.apply(this,arguments)}}())),new rn(P,u,g)):new rn(P,u,g)})()}}function Ii(p){const u=p.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(ls(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if(Re(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(j(u))return"Blackberry";if(N(u))return"Webos";if(sr(u))return"Safari";if((u.includes("chrome/")||Ut(u))&&!u.includes("edge/"))return"Chrome";if(ma(u))return"Android";{const g=p.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===g?.length)return g[1]}return"Other"}function Re(p=(0,Z.z$)()){return/firefox\//i.test(p)}function sr(p=(0,Z.z$)()){const u=p.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function Ut(p=(0,Z.z$)()){return/crios\//i.test(p)}function ls(p=(0,Z.z$)()){return/iemobile/i.test(p)}function ma(p=(0,Z.z$)()){return/android/i.test(p)}function j(p=(0,Z.z$)()){return/blackberry/i.test(p)}function N(p=(0,Z.z$)()){return/webos/i.test(p)}function ue(p=(0,Z.z$)()){return/iphone|ipad|ipod/i.test(p)||/macintosh/i.test(p)&&/mobile/i.test(p)}function Q(p=(0,Z.z$)()){return ue(p)||ma(p)||N(p)||j(p)||/windows phone/i.test(p)||ls(p)}function De(p,u=[]){let d;switch(p){case"Browser":d=Ii((0,Z.z$)());break;case"Worker":d=`${Ii((0,Z.z$)())}-${p}`;break;default:d=p}const g=u.length?u.join(","):"FirebaseCore-web";return`${d}/JsCore/${$e.SDK_VERSION}/${g}`}class ht{constructor(u){this.auth=u,this.queue=[]}pushCallback(u,d){const g=P=>new Promise((D,V)=>{try{D(u(P))}catch(ne){V(ne)}});g.onAbort=d,this.queue.push(g);const C=this.queue.length-1;return()=>{this.queue[C]=()=>Promise.resolve()}}runMiddleware(u){var d=this;return(0,O.Z)(function*(){if(d.auth.currentUser===u)return;const g=[];try{for(const C of d.queue)yield C(u),C.onAbort&&g.push(C.onAbort)}catch(C){g.reverse();for(const P of g)try{P()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:C?.message})}})()}}function av(){return(av=(0,O.Z)(function*(p,u={}){return K(p,"GET","/v2/passwordPolicy",ce(p,u))})).apply(this,arguments)}class Df{constructor(u){var d,g,C,P;const D=u.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(d=D.minPasswordLength)&&void 0!==d?d:6,D.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=D.maxPasswordLength),void 0!==D.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=D.containsLowercaseCharacter),void 0!==D.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=D.containsUppercaseCharacter),void 0!==D.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=D.containsNumericCharacter),void 0!==D.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=D.containsNonAlphanumericCharacter),this.enforcementState=u.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(C=null===(g=u.allowedNonAlphanumericCharacters)||void 0===g?void 0:g.join(""))&&void 0!==C?C:"",this.forceUpgradeOnSignin=null!==(P=u.forceUpgradeOnSignin)&&void 0!==P&&P,this.schemaVersion=u.schemaVersion}validatePassword(u){var d,g,C,P,D,V;const ne={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(u,ne),this.validatePasswordCharacterOptions(u,ne),ne.isValid&&(ne.isValid=null===(d=ne.meetsMinPasswordLength)||void 0===d||d),ne.isValid&&(ne.isValid=null===(g=ne.meetsMaxPasswordLength)||void 0===g||g),ne.isValid&&(ne.isValid=null===(C=ne.containsLowercaseLetter)||void 0===C||C),ne.isValid&&(ne.isValid=null===(P=ne.containsUppercaseLetter)||void 0===P||P),ne.isValid&&(ne.isValid=null===(D=ne.containsNumericCharacter)||void 0===D||D),ne.isValid&&(ne.isValid=null===(V=ne.containsNonAlphanumericCharacter)||void 0===V||V),ne}validatePasswordLengthOptions(u,d){const g=this.customStrengthOptions.minPasswordLength,C=this.customStrengthOptions.maxPasswordLength;g&&(d.meetsMinPasswordLength=u.length>=g),C&&(d.meetsMaxPasswordLength=u.length<=C)}validatePasswordCharacterOptions(u,d){let g;this.updatePasswordCharacterOptionsStatuses(d,!1,!1,!1,!1);for(let C=0;C<u.length;C++)g=u.charAt(C),this.updatePasswordCharacterOptionsStatuses(d,g>="a"&&g<="z",g>="A"&&g<="Z",g>="0"&&g<="9",this.allowedNonAlphanumericCharacters.includes(g))}updatePasswordCharacterOptionsStatuses(u,d,g,C,P){this.customStrengthOptions.containsLowercaseLetter&&(u.containsLowercaseLetter||(u.containsLowercaseLetter=d)),this.customStrengthOptions.containsUppercaseLetter&&(u.containsUppercaseLetter||(u.containsUppercaseLetter=g)),this.customStrengthOptions.containsNumericCharacter&&(u.containsNumericCharacter||(u.containsNumericCharacter=C)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(u.containsNonAlphanumericCharacter||(u.containsNonAlphanumericCharacter=P))}}class bi{constructor(u,d,g,C){this.app=u,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=g,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cv(this),this.idTokenSubscription=new cv(this),this.beforeStateQueue=new ht(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=He,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(u,d){var g=this;return d&&(this._popupRedirectResolver=W(d)),this._initializationPromise=this.queue((0,O.Z)(function*(){var C,P;if(!g._deleted&&(g.persistenceManager=yield rn.create(g,u),!g._deleted)){if(null!==(C=g._popupRedirectResolver)&&void 0!==C&&C._shouldInitProactively)try{yield g._popupRedirectResolver._initialize(g)}catch{}yield g.initializeCurrentUser(d),g.lastNotifiedUid=(null===(P=g.currentUser)||void 0===P?void 0:P.uid)||null,!g._deleted&&(g._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,O.Z)(function*(){if(u._deleted)return;const d=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||d){if(u.currentUser&&d&&u.currentUser.uid===d.uid)return u._currentUser._assign(d),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(d,!0)}})()}initializeCurrentUser(u){var d=this;return(0,O.Z)(function*(){var g;const C=yield d.assertedPersistence.getCurrentUser();let P=C,D=!1;if(u&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const V=null===(g=d.redirectUser)||void 0===g?void 0:g._redirectEventId,ne=P?._redirectEventId,_e=yield d.tryRedirectSignIn(u);(!V||V===ne)&&_e?.user&&(P=_e.user,D=!0)}if(!P)return d.directlySetCurrentUser(null);if(!P._redirectEventId){if(D)try{yield d.beforeStateQueue.runMiddleware(P)}catch(V){P=C,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(V))}return P?d.reloadAndSetCurrentUserOrClear(P):d.directlySetCurrentUser(null)}return oe(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===P._redirectEventId?d.directlySetCurrentUser(P):d.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(u){var d=this;return(0,O.Z)(function*(){let g=null;try{g=yield d._popupRedirectResolver._completeRedirectFn(d,u,!0)}catch{yield d._setRedirectUser(null)}return g})()}reloadAndSetCurrentUserOrClear(u){var d=this;return(0,O.Z)(function*(){try{yield _r(u)}catch(g){if("auth/network-request-failed"!==g?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function Rs(){if(typeof navigator>"u")return null;const p=navigator;return p.languages&&p.languages[0]||p.language||null}()}_delete(){var u=this;return(0,O.Z)(function*(){u._deleted=!0})()}updateCurrentUser(u){var d=this;return(0,O.Z)(function*(){const g=u?(0,Z.m9)(u):null;return g&&oe(g.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(g&&g._clone(d))})()}_updateCurrentUser(u,d=!1){var g=this;return(0,O.Z)(function*(){if(!g._deleted)return u&&oe(g.tenantId===u.tenantId,g,"tenant-id-mismatch"),d||(yield g.beforeStateQueue.runMiddleware(u)),g.queue((0,O.Z)(function*(){yield g.directlySetCurrentUser(u),g.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,O.Z)(function*(){return yield u.beforeStateQueue.runMiddleware(null),(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null,!0)})()}setPersistence(u){var d=this;return this.queue((0,O.Z)(function*(){yield d.assertedPersistence.setPersistence(W(u))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(u){var d=this;return(0,O.Z)(function*(){d._getPasswordPolicyInternal()||(yield d._updatePasswordPolicy());const g=d._getPasswordPolicyInternal();return g.schemaVersion!==d.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(d._errorFactory.create("unsupported-password-policy-schema-version",{})):g.validatePassword(u)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var u=this;return(0,O.Z)(function*(){const d=yield function ql(p){return av.apply(this,arguments)}(u),g=new Df(d);null===u.tenantId?u._projectPasswordPolicy=g:u._tenantPasswordPolicies[u.tenantId]=g})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new Z.LL("auth","Firebase",u())}onAuthStateChanged(u,d,g){return this.registerStateListener(this.authStateSubscription,u,d,g)}beforeAuthStateChanged(u,d){return this.beforeStateQueue.pushCallback(u,d)}onIdTokenChanged(u,d,g){return this.registerStateListener(this.idTokenSubscription,u,d,g)}authStateReady(){return new Promise((u,d)=>{if(this.currentUser)u();else{const g=this.onAuthStateChanged(()=>{g(),u()},d)}})}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,d){var g=this;return(0,O.Z)(function*(){const C=yield g.getOrInitRedirectPersistenceManager(d);return null===u?C.removeCurrentUser():C.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var d=this;return(0,O.Z)(function*(){if(!d.redirectPersistenceManager){const g=u&&W(u)||d._popupRedirectResolver;oe(g,d,"argument-error"),d.redirectPersistenceManager=yield rn.create(d,[W(g._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(u){var d=this;return(0,O.Z)(function*(){var g,C;return d._isInitialized&&(yield d.queue((0,O.Z)(function*(){}))),(null===(g=d._currentUser)||void 0===g?void 0:g._redirectEventId)===u?d._currentUser:(null===(C=d.redirectUser)||void 0===C?void 0:C._redirectEventId)===u?d.redirectUser:null})()}_persistUserIfCurrent(u){var d=this;return(0,O.Z)(function*(){if(u===d.currentUser)return d.queue((0,O.Z)(function*(){return d.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const g=null!==(d=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==g&&(this.lastNotifiedUid=g,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,d,g,C){if(this._deleted)return()=>{};const P="function"==typeof d?d:d.next.bind(d);let D=!1;const V=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(V,this,"internal-error"),V.then(()=>{D||P(this.currentUser)}),"function"==typeof d){const ne=u.addObserver(d,g,C);return()=>{D=!0,ne()}}{const ne=u.addObserver(d);return()=>{D=!0,ne()}}}directlySetCurrentUser(u){var d=this;return(0,O.Z)(function*(){d.currentUser&&d.currentUser!==u&&d._currentUser._stopProactiveRefresh(),u&&d.isProactiveRefreshEnabled&&u._startProactiveRefresh(),d.currentUser=u,u?yield d.assertedPersistence.setCurrentUser(u):yield d.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=De(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,O.Z)(function*(){var d;const g={"X-Client-Version":u.clientVersion};u.app.options.appId&&(g["X-Firebase-gmpid"]=u.app.options.appId);const C=yield null===(d=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();C&&(g["X-Firebase-Client"]=C);const P=yield u._getAppCheckToken();return P&&(g["X-Firebase-AppCheck"]=P),g})()}_getAppCheckToken(){var u=this;return(0,O.Z)(function*(){var d;const g=yield null===(d=u.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return g?.error&&function ir(p,...u){gr.logLevel<=Pt.in.WARN&&gr.warn(`Auth (${$e.SDK_VERSION}): ${p}`,...u)}(`Error while retrieving App Check token: ${g.error}`),g?.token})()}}function fn(p){return(0,Z.m9)(p)}class cv{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,Z.ne)(d=>this.observer=d)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function us(p){return new Promise((u,d)=>{const g=document.createElement("script");g.setAttribute("src",p),g.onload=u,g.onerror=C=>{const P=zt("internal-error");P.customData=C,d(P)},g.type="text/javascript",g.charset="UTF-8",function Mk(){var p,u;return null!==(u=null===(p=document.getElementsByTagName("head"))||void 0===p?void 0:p[0])&&void 0!==u?u:document}().appendChild(g)})}function XE(p){return`__${p}${Math.floor(1e6*Math.random())}`}class lv{constructor(u){this.type="recaptcha-enterprise",this.auth=fn(u)}verify(u="verify",d=!1){var g=this;return(0,O.Z)(function*(){function P(){return P=(0,O.Z)(function*(V){if(!d){if(null==V.tenantId&&null!=V._agentRecaptchaConfig)return V._agentRecaptchaConfig.siteKey;if(null!=V.tenantId&&void 0!==V._tenantRecaptchaConfigs[V.tenantId])return V._tenantRecaptchaConfigs[V.tenantId].siteKey}return new Promise(function(){var ne=(0,O.Z)(function*(_e,Me){Fn(V,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ie=>{if(void 0!==Ie.recaptchaKey){const _n=new Ei(Ie);return null==V.tenantId?V._agentRecaptchaConfig=_n:V._tenantRecaptchaConfigs[V.tenantId]=_n,_e(_n.siteKey)}Me(new Error("recaptcha Enterprise site key undefined"))}).catch(Ie=>{Me(Ie)})});return function(_e,Me){return ne.apply(this,arguments)}}())}),P.apply(this,arguments)}function D(V,ne,_e){const Me=window.grecaptcha;jr(Me)?Me.enterprise.ready(()=>{Me.enterprise.execute(V,{action:u}).then(Ie=>{ne(Ie)}).catch(()=>{ne("NO_RECAPTCHA")})}):_e(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((V,ne)=>{(function C(V){return P.apply(this,arguments)})(g.auth).then(_e=>{if(!d&&jr(window.grecaptcha))D(_e,V,ne);else{if(typeof window>"u")return void ne(new Error("RecaptchaVerifier is only supported in browser"));us("https://www.google.com/recaptcha/enterprise.js?render="+_e).then(()=>{D(_e,V,ne)}).catch(Me=>{ne(Me)})}}).catch(_e=>{ne(_e)})})})()}}function JE(p,u,d){return Sf.apply(this,arguments)}function Sf(){return(Sf=(0,O.Z)(function*(p,u,d,g=!1){const C=new lv(p);let P;try{P=yield C.verify(d)}catch{P=yield C.verify(d,!0)}const D=Object.assign({},u);return Object.assign(D,g?{captchaResp:P}:{captchaResponse:P}),Object.assign(D,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(D,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),D})).apply(this,arguments)}function Rf(p,u,d,g){return ii.apply(this,arguments)}function ii(){return ii=(0,O.Z)(function*(p,u,d,g){var C;if(null!==(C=p._getRecaptchaConfig())&&void 0!==C&&C.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const P=yield JE(p,u,d,"getOobCode"===d);return g(p,P)}return g(p,u).catch(function(){var P=(0,O.Z)(function*(D){if("auth/missing-recaptcha-token"===D.code){console.log(`${d} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const V=yield JE(p,u,d,"getOobCode"===d);return g(p,V)}return Promise.reject(D)});return function(D){return P.apply(this,arguments)}}())}),ii.apply(this,arguments)}function eM(p){const u=p.indexOf(":");return u<0?"":p.substr(0,u+1)}function Kl(p){if(!p)return null;const u=Number(p);return isNaN(u)?null:u}class _a{constructor(u,d){this.providerId=u,this.signInMethod=d}toJSON(){return hn("not implemented")}_getIdTokenResponse(u){return hn("not implemented")}_linkToIdToken(u,d){return hn("not implemented")}_getReauthenticationResolver(u){return hn("not implemented")}}function dv(p,u){return mc.apply(this,arguments)}function mc(){return(mc=(0,O.Z)(function*(p,u){return K(p,"POST","/v1/accounts:resetPassword",ce(p,u))})).apply(this,arguments)}function Zl(p,u){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,O.Z)(function*(p,u){return K(p,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function xf(){return(xf=(0,O.Z)(function*(p,u){return K(p,"POST","/v1/accounts:update",ce(p,u))})).apply(this,arguments)}function pt(p,u){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,O.Z)(function*(p,u){return Se(p,"POST","/v1/accounts:signInWithPassword",ce(p,u))})).apply(this,arguments)}function Xl(p,u){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,O.Z)(function*(p,u){return K(p,"POST","/v1/accounts:sendOobCode",ce(p,u))})).apply(this,arguments)}function fv(){return(fv=(0,O.Z)(function*(p,u){return Xl(p,u)})).apply(this,arguments)}function Gt(p,u){return gv.apply(this,arguments)}function gv(){return(gv=(0,O.Z)(function*(p,u){return Xl(p,u)})).apply(this,arguments)}function Dk(p,u){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,O.Z)(function*(p,u){return Xl(p,u)})).apply(this,arguments)}function Td(){return(Td=(0,O.Z)(function*(p,u){return Xl(p,u)})).apply(this,arguments)}function Ff(){return(Ff=(0,O.Z)(function*(p,u){return Se(p,"POST","/v1/accounts:signInWithEmailLink",ce(p,u))})).apply(this,arguments)}function mv(){return(mv=(0,O.Z)(function*(p,u){return Se(p,"POST","/v1/accounts:signInWithEmailLink",ce(p,u))})).apply(this,arguments)}class Ad extends _a{constructor(u,d,g,C=null){super("password",g),this._email=u,this._password=d,this._tenantId=C}static _fromEmailAndPassword(u,d){return new Ad(u,d,"password")}static _fromEmailAndCode(u,d,g=null){return new Ad(u,d,"emailLink",g)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(u){var d=this;return(0,O.Z)(function*(){switch(d.signInMethod){case"password":return Rf(u,{returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",pt);case"emailLink":return function Nf(p,u){return Ff.apply(this,arguments)}(u,{email:d._email,oobCode:d._password});default:Rt(u,"internal-error")}})()}_linkToIdToken(u,d){var g=this;return(0,O.Z)(function*(){switch(g.signInMethod){case"password":return Zl(u,{idToken:d,returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Lf(p,u){return mv.apply(this,arguments)}(u,{idToken:d,email:g._email,oobCode:g._password});default:Rt(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function Ls(p,u){return _v.apply(this,arguments)}function _v(){return(_v=(0,O.Z)(function*(p,u){return Se(p,"POST","/v1/accounts:signInWithIdp",ce(p,u))})).apply(this,arguments)}class oi extends _a{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const d=new oi(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(d.idToken=u.idToken),u.accessToken&&(d.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(d.nonce=u.nonce),u.pendingToken&&(d.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(d.accessToken=u.oauthToken,d.secret=u.oauthTokenSecret):Rt("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:g,signInMethod:C}=d,P=(0,Jt._T)(d,["providerId","signInMethod"]);if(!g||!C)return null;const D=new oi(g,C);return D.idToken=P.idToken||void 0,D.accessToken=P.accessToken||void 0,D.secret=P.secret,D.nonce=P.nonce,D.pendingToken=P.pendingToken||null,D}_getIdTokenResponse(u){return Ls(u,this.buildRequest())}_linkToIdToken(u,d){const g=this.buildRequest();return g.idToken=d,Ls(u,g)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,Ls(u,d)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),u.postBody=(0,Z.xO)(d)}return u}}function _c(){return(_c=(0,O.Z)(function*(p,u){return K(p,"POST","/v1/accounts:sendVerificationCode",ce(p,u))})).apply(this,arguments)}function Uf(){return(Uf=(0,O.Z)(function*(p,u){return Se(p,"POST","/v1/accounts:signInWithPhoneNumber",ce(p,u))})).apply(this,arguments)}function Dd(){return(Dd=(0,O.Z)(function*(p,u){const d=yield Se(p,"POST","/v1/accounts:signInWithPhoneNumber",ce(p,u));if(d.temporaryProof)throw Wn(p,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const yc={USER_NOT_FOUND:"user-not-found"};function Ro(){return(Ro=(0,O.Z)(function*(p,u){return Se(p,"POST","/v1/accounts:signInWithPhoneNumber",ce(p,Object.assign(Object.assign({},u),{operation:"REAUTH"})),yc)})).apply(this,arguments)}class ya extends _a{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,d){return new ya({verificationId:u,verificationCode:d})}static _fromTokenResponse(u,d){return new ya({phoneNumber:u,temporaryProof:d})}_getIdTokenResponse(u){return function nM(p,u){return Uf.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,d){return function rM(p,u){return Dd.apply(this,arguments)}(u,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function iM(p,u){return Ro.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:d,verificationId:g,verificationCode:C}=this.params;return u&&d?{temporaryProof:u,phoneNumber:d}:{sessionInfo:g,code:C}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:d,verificationCode:g,phoneNumber:C,temporaryProof:P}=u;return g||d||C||P?new ya({verificationId:d,verificationCode:g,phoneNumber:C,temporaryProof:P}):null}}class we{constructor(u){var d,g,C,P,D,V;const ne=(0,Z.zd)((0,Z.pd)(u)),_e=null!==(d=ne.apiKey)&&void 0!==d?d:null,Me=null!==(g=ne.oobCode)&&void 0!==g?g:null,Ie=function re(p){switch(p){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(C=ne.mode)&&void 0!==C?C:null);oe(_e&&Me&&Ie,"argument-error"),this.apiKey=_e,this.operation=Ie,this.code=Me,this.continueUrl=null!==(P=ne.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(D=ne.languageCode)&&void 0!==D?D:null,this.tenantId=null!==(V=ne.tenantId)&&void 0!==V?V:null}static parseLink(u){const d=function yv(p){const u=(0,Z.zd)((0,Z.pd)(p)).link,d=u?(0,Z.zd)((0,Z.pd)(u)).deep_link_id:null,g=(0,Z.zd)((0,Z.pd)(p)).deep_link_id;return(g?(0,Z.zd)((0,Z.pd)(g)).link:null)||g||d||u||p}(u);try{return new we(d)}catch{return null}}}let eu=(()=>{class p{constructor(){this.providerId=p.PROVIDER_ID}static credential(d,g){return Ad._fromEmailAndPassword(d,g)}static credentialWithLink(d,g){const C=we.parseLink(g);return oe(C,"argument-error"),Ad._fromEmailAndCode(d,C.code,C.tenantId)}}return p.PROVIDER_ID="password",p.EMAIL_PASSWORD_SIGN_IN_METHOD="password",p.EMAIL_LINK_SIGN_IN_METHOD="emailLink",p})();class Ti{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class vc extends Ti{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class Cc extends vc{static credentialFromJSON(u){const d="string"==typeof u?JSON.parse(u):u;return oe("providerId"in d&&"signInMethod"in d,"argument-error"),oi._fromParams(d)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return oe(u.idToken||u.accessToken,"argument-error"),oi._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return Cc.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return Cc.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:d,oauthAccessToken:g,oauthTokenSecret:C,pendingToken:P,nonce:D,providerId:V}=u;if(!g&&!C&&!d&&!P||!V)return null;try{return new Cc(V)._credential({idToken:d,accessToken:g,nonce:D,pendingToken:P})}catch{return null}}}let vv=(()=>{class p extends vc{constructor(){super("facebook.com")}static credential(d){return oi._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return p.credential(d.oauthAccessToken)}catch{return null}}}return p.FACEBOOK_SIGN_IN_METHOD="facebook.com",p.PROVIDER_ID="facebook.com",p})(),xo=(()=>{class p extends vc{constructor(){super("google.com"),this.addScope("profile")}static credential(d,g){return oi._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:g})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:g,oauthAccessToken:C}=d;if(!g&&!C)return null;try{return p.credential(g,C)}catch{return null}}}return p.GOOGLE_SIGN_IN_METHOD="google.com",p.PROVIDER_ID="google.com",p})(),tu=(()=>{class p extends vc{constructor(){super("github.com")}static credential(d){return oi._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return p.credential(d.oauthAccessToken)}catch{return null}}}return p.GITHUB_SIGN_IN_METHOD="github.com",p.PROVIDER_ID="github.com",p})();class zr extends _a{constructor(u,d){super(u,u),this.pendingToken=d}_getIdTokenResponse(u){return Ls(u,this.buildRequest())}_linkToIdToken(u,d){const g=this.buildRequest();return g.idToken=d,Ls(u,g)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,Ls(u,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:g,signInMethod:C,pendingToken:P}=d;return g&&C&&P&&g===C?new zr(g,P):null}static _create(u,d){return new zr(u,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class va extends Ti{constructor(u){oe(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return va.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return va.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const d=zr.fromJSON(u);return oe(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:d,providerId:g}=u;if(!d||!g)return null;try{return zr._create(g,d)}catch{return null}}}let Sd=(()=>{class p extends vc{constructor(){super("twitter.com")}static credential(d,g){return oi._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:g})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:g,oauthTokenSecret:C}=d;if(!g||!C)return null;try{return p.credential(g,C)}catch{return null}}}return p.TWITTER_SIGN_IN_METHOD="twitter.com",p.PROVIDER_ID="twitter.com",p})();function Rd(p,u){return xd.apply(this,arguments)}function xd(){return(xd=(0,O.Z)(function*(p,u){return Se(p,"POST","/v1/accounts:signUp",ce(p,u))})).apply(this,arguments)}class Ln{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,d,g,C=!1){return(0,O.Z)(function*(){const P=yield ee._fromIdTokenResponse(u,g,C),D=wc(g);return new Ln({user:P,providerId:D,_tokenResponse:g,operationType:d})})()}static _forOperation(u,d,g){return(0,O.Z)(function*(){yield u._updateTokensIfNecessary(g,!0);const C=wc(g);return new Ln({user:u,providerId:C,_tokenResponse:g,operationType:d})})()}}function wc(p){return p.providerId?p.providerId:"phoneNumber"in p?"phone":null}function kd(){return(kd=(0,O.Z)(function*(p){var u;const d=fn(p);if(yield d._initializationPromise,null!==(u=d.currentUser)&&void 0!==u&&u.isAnonymous)return new Ln({user:d.currentUser,providerId:null,operationType:"signIn"});const g=yield Rd(d,{returnSecureToken:!0}),C=yield Ln._fromIdTokenResponse(d,"signIn",g,!0);return yield d._updateCurrentUser(C.user),C})).apply(this,arguments)}class Pc extends Z.ZR{constructor(u,d,g,C){var P;super(d.code,d.message),this.operationType=g,this.user=C,Object.setPrototypeOf(this,Pc.prototype),this.customData={appName:u.name,tenantId:null!==(P=u.tenantId)&&void 0!==P?P:void 0,_serverResponse:d.customData._serverResponse,operationType:g}}static _fromErrorAndOperation(u,d,g,C){return new Pc(u,d,g,C)}}function jf(p,u,d,g){return("reauthenticate"===u?d._getReauthenticationResolver(p):d._getIdTokenResponse(p)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?Pc._fromErrorAndOperation(p,P,u,g):P})}function $f(p){return new Set(p.map(({providerId:u})=>u).filter(u=>!!u))}function Nd(){return Nd=(0,O.Z)(function*(p,u){const d=(0,Z.m9)(p);yield ru(!0,d,u);const{providerUserInfo:g}=yield function Gl(p,u){return $r.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[u]}),C=$f(g||[]);return d.providerData=d.providerData.filter(P=>C.has(P.providerId)),C.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),Nd.apply(this,arguments)}function Fd(p,u){return Hf.apply(this,arguments)}function Hf(){return(Hf=(0,O.Z)(function*(p,u,d=!1){const g=yield Oi(p,u._linkToIdToken(p.auth,yield p.getIdToken()),d);return Ln._forOperation(p,"link",g)})).apply(this,arguments)}function ru(p,u,d){return zf.apply(this,arguments)}function zf(){return(zf=(0,O.Z)(function*(p,u,d){yield _r(u);const C=!1===p?"provider-already-linked":"no-such-provider";oe($f(u.providerData).has(d)===p,u.auth,C)})).apply(this,arguments)}function wv(p,u){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,O.Z)(function*(p,u,d=!1){const{auth:g}=p,C="reauthenticate";try{const P=yield Oi(p,jf(g,C,u,p),d);oe(P.idToken,g,"internal-error");const D=hc(P.idToken);oe(D,g,"internal-error");const{sub:V}=D;return oe(p.uid===V,g,"user-mismatch"),Ln._forOperation(p,C,P)}catch(P){throw"auth/user-not-found"===P?.code&&Rt(g,"user-mismatch"),P}})).apply(this,arguments)}function Pv(p,u){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,O.Z)(function*(p,u,d=!1){const g="signIn",C=yield jf(p,g,u),P=yield Ln._fromIdTokenResponse(p,g,C);return d||(yield p._updateCurrentUser(P.user)),P})).apply(this,arguments)}function Vd(p,u){return Gf.apply(this,arguments)}function Gf(){return(Gf=(0,O.Z)(function*(p,u){return Pv(fn(p),u)})).apply(this,arguments)}function Ev(p,u){return Wf.apply(this,arguments)}function Wf(){return(Wf=(0,O.Z)(function*(p,u){const d=(0,Z.m9)(p);return yield ru(!1,d,u.providerId),Fd(d,u)})).apply(this,arguments)}function qf(p,u){return Kf.apply(this,arguments)}function Kf(){return(Kf=(0,O.Z)(function*(p,u){return wv((0,Z.m9)(p),u)})).apply(this,arguments)}function Zf(){return(Zf=(0,O.Z)(function*(p,u){return Se(p,"POST","/v1/accounts:signInWithCustomToken",ce(p,u))})).apply(this,arguments)}function Yf(){return Yf=(0,O.Z)(function*(p,u){const d=fn(p),g=yield function oM(p,u){return Zf.apply(this,arguments)}(d,{token:u,returnSecureToken:!0}),C=yield Ln._fromIdTokenResponse(d,"signIn",g);return yield d._updateCurrentUser(C.user),C}),Yf.apply(this,arguments)}class iu{constructor(u,d){this.factorId=u,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(u,d){return"phoneInfo"in d?Qf._fromServerResponse(u,d):"totpInfo"in d?Vn._fromServerResponse(u,d):Rt(u,"internal-error")}}class Qf extends iu{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,d){return new Qf(d)}}class Vn extends iu{constructor(u){super("totp",u)}static _fromServerResponse(u,d){return new Vn(d)}}function Ud(p,u,d){var g;oe((null===(g=d.url)||void 0===g?void 0:g.length)>0,p,"invalid-continue-uri"),oe(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,p,"invalid-dynamic-link-domain"),u.continueUrl=d.url,u.dynamicLinkDomain=d.dynamicLinkDomain,u.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(oe(d.iOS.bundleId.length>0,p,"missing-ios-bundle-id"),u.iOSBundleId=d.iOS.bundleId),d.android&&(oe(d.android.packageName.length>0,p,"missing-android-pkg-name"),u.androidInstallApp=d.android.installApp,u.androidMinimumVersionCode=d.android.minimumVersion,u.androidPackageName=d.android.packageName)}function Bd(p){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,O.Z)(function*(p){const u=fn(p);u._getPasswordPolicyInternal()&&(yield u._updatePasswordPolicy())})).apply(this,arguments)}function mt(){return(mt=(0,O.Z)(function*(p,u,d){const g=fn(p),C={requestType:"PASSWORD_RESET",email:u,clientType:"CLIENT_TYPE_WEB"};d&&Ud(g,C,d),yield Rf(g,C,"getOobCode",Gt)})).apply(this,arguments)}function vr(){return vr=(0,O.Z)(function*(p,u,d){yield dv((0,Z.m9)(p),{oobCode:u,newPassword:d}).catch(function(){var g=(0,O.Z)(function*(C){throw"auth/password-does-not-meet-requirements"===C.code&&Bd(p),C});return function(C){return g.apply(this,arguments)}}())}),vr.apply(this,arguments)}function Gr(){return Gr=(0,O.Z)(function*(p,u){yield function hv(p,u){return xf.apply(this,arguments)}((0,Z.m9)(p),{oobCode:u})}),Gr.apply(this,arguments)}function Xf(p,u){return jd.apply(this,arguments)}function jd(){return(jd=(0,O.Z)(function*(p,u){const d=(0,Z.m9)(p),g=yield dv(d,{oobCode:u}),C=g.requestType;switch(oe(C,d,"internal-error"),C){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe(g.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe(g.mfaInfo,d,"internal-error");default:oe(g.email,d,"internal-error")}let P=null;return g.mfaInfo&&(P=iu._fromServerResponse(fn(d),g.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.newEmail:g.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.email:g.newEmail)||null,multiFactorInfo:P},operation:C}})).apply(this,arguments)}function Jf(){return(Jf=(0,O.Z)(function*(p,u){const{data:d}=yield Xf((0,Z.m9)(p),u);return d.email})).apply(this,arguments)}function on(){return(on=(0,O.Z)(function*(p,u,d){const g=fn(p),D=yield Rf(g,{returnSecureToken:!0,email:u,password:d,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Rd).catch(ne=>{throw"auth/password-does-not-meet-requirements"===ne.code&&Bd(p),ne}),V=yield Ln._fromIdTokenResponse(g,"signIn",D);return yield g._updateCurrentUser(V.user),V})).apply(this,arguments)}function Wt(){return(Wt=(0,O.Z)(function*(p,u,d){const g=fn(p),C={requestType:"EMAIL_SIGNIN",email:u,clientType:"CLIENT_TYPE_WEB"};(function P(D,V){oe(V.handleCodeInApp,g,"argument-error"),V&&Ud(g,D,V)})(C,d),yield Rf(g,C,"getOobCode",Dk)})).apply(this,arguments)}function ar(){return(ar=(0,O.Z)(function*(p,u,d){const g=(0,Z.m9)(p),C=eu.credentialWithLink(u,d||Nn());return oe(C._tenantId===(g.tenantId||null),g,"tenant-id-mismatch"),Vd(g,C)})).apply(this,arguments)}function gn(){return(gn=(0,O.Z)(function*(p,u){return K(p,"POST","/v1/accounts:createAuthUri",ce(p,u))})).apply(this,arguments)}function Us(){return Us=(0,O.Z)(function*(p,u){const g={identifier:u,continueUri:Ao()?Nn():"http://localhost"},{signinMethods:C}=yield function Mc(p,u){return gn.apply(this,arguments)}((0,Z.m9)(p),g);return C||[]}),Us.apply(this,arguments)}function Ca(){return Ca=(0,O.Z)(function*(p,u){const d=(0,Z.m9)(p),C={requestType:"VERIFY_EMAIL",idToken:yield p.getIdToken()};u&&Ud(d.auth,C,u);const{email:P}=yield function pv(p,u){return fv.apply(this,arguments)}(d.auth,C);P!==p.email&&(yield p.reload())}),Ca.apply(this,arguments)}function Bs(){return Bs=(0,O.Z)(function*(p,u,d){const g=(0,Z.m9)(p),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield p.getIdToken(),newEmail:u};d&&Ud(g.auth,P,d);const{email:D}=yield function kf(p,u){return Td.apply(this,arguments)}(g.auth,P);D!==p.email&&(yield p.reload())}),Bs.apply(this,arguments)}function wa(){return(wa=(0,O.Z)(function*(p,u){return K(p,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function qi(){return qi=(0,O.Z)(function*(p,{displayName:u,photoURL:d}){if(void 0===u&&void 0===d)return;const g=(0,Z.m9)(p),P={idToken:yield g.getIdToken(),displayName:u,photoUrl:d,returnSecureToken:!0},D=yield Oi(g,function Sn(p,u){return wa.apply(this,arguments)}(g.auth,P));g.displayName=D.displayName||null,g.photoURL=D.photoUrl||null;const V=g.providerData.find(({providerId:ne})=>"password"===ne);V&&(V.displayName=g.displayName,V.photoURL=g.photoURL),yield g._updateTokensIfNecessary(D)}),qi.apply(this,arguments)}function ds(p,u,d){return po.apply(this,arguments)}function po(){return(po=(0,O.Z)(function*(p,u,d){const{auth:g}=p,P={idToken:yield p.getIdToken(),returnSecureToken:!0};u&&(P.email=u),d&&(P.password=d);const D=yield Oi(p,Zl(g,P));yield p._updateTokensIfNecessary(D,!0)})).apply(this,arguments)}class ko{constructor(u,d,g={}){this.isNewUser=u,this.providerId=d,this.profile=g}}class ut extends ko{constructor(u,d,g,C){super(u,d,g),this.username=C}}class Rk extends ko{constructor(u,d){super(u,"facebook.com",d)}}class eg extends ut{constructor(u,d){super(u,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class Iv extends ko{constructor(u,d){super(u,"google.com",d)}}class No extends ut{constructor(u,d,g){super(u,"twitter.com",d,g)}}function Hd(p){const{user:u,_tokenResponse:d}=p;return u.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function au(p){var u,d;if(!p)return null;const{providerId:g}=p,C=p.rawUserInfo?JSON.parse(p.rawUserInfo):{},P=p.isNewUser||"identitytoolkit#SignupNewUserResponse"===p.kind;if(!g&&p?.idToken){const D=null===(d=null===(u=hc(p.idToken))||void 0===u?void 0:u.firebase)||void 0===d?void 0:d.sign_in_provider;if(D)return new ko(P,"anonymous"!==D&&"custom"!==D?D:null)}if(!g)return null;switch(g){case"facebook.com":return new Rk(P,C);case"github.com":return new eg(P,C);case"google.com":return new Iv(P,C);case"twitter.com":return new No(P,C,p.screenName||null);case"custom":case"anonymous":return new ko(P,null);default:return new ko(P,g,C)}}(d)}class Pa{constructor(u,d,g){this.type=u,this.credential=d,this.user=g}static _fromIdtoken(u,d){return new Pa("enroll",u,d)}static _fromMfaPendingCredential(u){return new Pa("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var d,g;if(u?.multiFactorSession){if(null!==(d=u.multiFactorSession)&&void 0!==d&&d.pendingCredential)return Pa._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null!==(g=u.multiFactorSession)&&void 0!==g&&g.idToken)return Pa._fromIdtoken(u.multiFactorSession.idToken)}return null}}class Dv{constructor(u,d,g){this.session=u,this.hints=d,this.signInResolver=g}static _fromError(u,d){const g=fn(u),C=d.customData._serverResponse,P=(C.mfaInfo||[]).map(V=>iu._fromServerResponse(g,V));oe(C.mfaPendingCredential,g,"internal-error");const D=Pa._fromMfaPendingCredential(C.mfaPendingCredential);return new Dv(D,P,function(){var V=(0,O.Z)(function*(ne){const _e=yield ne._process(g,D);delete C.mfaInfo,delete C.mfaPendingCredential;const Me=Object.assign(Object.assign({},C),{idToken:_e.idToken,refreshToken:_e.refreshToken});switch(d.operationType){case"signIn":const Ie=yield Ln._fromIdTokenResponse(g,d.operationType,Me);return yield g._updateCurrentUser(Ie.user),Ie;case"reauthenticate":return oe(d.user,g,"internal-error"),Ln._forOperation(d.user,d.operationType,Me);default:Rt(g,"internal-error")}});return function(ne){return V.apply(this,arguments)}}())}resolveSignIn(u){var d=this;return(0,O.Z)(function*(){return d.signInResolver(u)})()}}class Sv{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(g=>iu._fromServerResponse(u.auth,g)))})}static _fromUser(u){return new Sv(u)}getSession(){var u=this;return(0,O.Z)(function*(){return Pa._fromIdtoken(yield u.user.getIdToken(),u.user)})()}enroll(u,d){var g=this;return(0,O.Z)(function*(){const C=u,P=yield g.getSession(),D=yield Oi(g.user,C._process(g.user.auth,P,d));return yield g.user._updateTokensIfNecessary(D),g.user.reload()})()}unenroll(u){var d=this;return(0,O.Z)(function*(){const g="string"==typeof u?u:u.uid,C=yield d.user.getIdToken();try{const P=yield Oi(d.user,function Nk(p,u){return K(p,"POST","/v2/accounts/mfaEnrollment:withdraw",ce(p,u))}(d.user.auth,{idToken:C,mfaEnrollmentId:g}));d.enrolledFactors=d.enrolledFactors.filter(({uid:D})=>D!==g),yield d.user._updateTokensIfNecessary(P),yield d.user.reload()}catch(P){throw P}})()}}const Rv=new WeakMap,rg="__sak";class lM{constructor(u,d){this.storageRetriever=u,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(rg,"1"),this.storage.removeItem(rg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(u,d){return this.storage.setItem(u,JSON.stringify(d)),Promise.resolve()}_get(u){const d=this.storage.getItem(u);return Promise.resolve(d?JSON.parse(d):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const lu=(()=>{class p extends lM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,g)=>this.onStorageEvent(d,g),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Lk(){const p=(0,Z.z$)();return sr(p)||ue(p)}()&&function Kn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Q(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const g of Object.keys(this.listeners)){const C=this.storage.getItem(g),P=this.localCache[g];C!==P&&d(g,P,C)}}onStorageEvent(d,g=!1){if(!d.key)return void this.forAllChangedKeys((V,ne,_e)=>{this.notifyListeners(V,_e)});const C=d.key;if(g?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const V=this.storage.getItem(C);if(d.newValue!==V)null!==d.newValue?this.storage.setItem(C,d.newValue):this.storage.removeItem(C);else if(this.localCache[C]===d.newValue&&!g)return}const P=()=>{const V=this.storage.getItem(C);!g&&this.localCache[C]===V||this.notifyListeners(C,V)},D=this.storage.getItem(C);!function lt(){return(0,Z.w1)()&&10===document.documentMode}()||D===d.newValue||d.newValue===d.oldValue?P():setTimeout(P,10)}notifyListeners(d,g){this.localCache[d]=g;const C=this.listeners[d];if(C)for(const P of Array.from(C))P(g&&JSON.parse(g))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,g,C)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:g,newValue:C}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,g){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(g)}_removeListener(d,g){this.listeners[d]&&(this.listeners[d].delete(g),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,g){var C=()=>super._set,P=this;return(0,O.Z)(function*(){yield C().call(P,d,g),P.localCache[d]=JSON.stringify(g)})()}_get(d){var g=()=>super._get,C=this;return(0,O.Z)(function*(){const P=yield g().call(C,d);return C.localCache[d]=JSON.stringify(P),P})()}_remove(d){var g=()=>super._remove,C=this;return(0,O.Z)(function*(){yield g().call(C,d),delete C.localCache[d]})()}}return p.type="LOCAL",p})(),Ea=(()=>{class p extends lM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,g){}_removeListener(d,g){}}return p.type="SESSION",p})();let Ma=(()=>{class p{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const g=this.receivers.find(P=>P.isListeningto(d));if(g)return g;const C=new p(d);return this.receivers.push(C),C}isListeningto(d){return this.eventTarget===d}handleEvent(d){var g=this;return(0,O.Z)(function*(){const C=d,{eventId:P,eventType:D,data:V}=C.data,ne=g.handlersMap[D];if(!ne?.size)return;C.ports[0].postMessage({status:"ack",eventId:P,eventType:D});const _e=Array.from(ne).map(function(){var Ie=(0,O.Z)(function*(_n){return _n(C.origin,V)});return function(_n){return Ie.apply(this,arguments)}}()),Me=yield function Bk(p){return Promise.all(p.map(function(){var u=(0,O.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(g){return{fulfilled:!1,reason:g}}});return function(d){return u.apply(this,arguments)}}()))}(_e);C.ports[0].postMessage({status:"done",eventId:P,eventType:D,response:Me})})()}_subscribe(d,g){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(g)}_unsubscribe(d,g){this.handlersMap[d]&&g&&this.handlersMap[d].delete(g),(!g||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return p.receivers=[],p})();function Ki(p="",u=10){let d="";for(let g=0;g<u;g++)d+=Math.floor(10*Math.random());return p+d}class jk{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,d,g=50){var C=this;return(0,O.Z)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let D,V;return new Promise((ne,_e)=>{const Me=Ki("",20);P.port1.start();const Ie=setTimeout(()=>{_e(new Error("unsupported_event"))},g);V={messageChannel:P,onMessage(_n){const Ho=_n;if(Ho.data.eventId===Me)switch(Ho.data.status){case"ack":clearTimeout(Ie),D=setTimeout(()=>{_e(new Error("timeout"))},3e3);break;case"done":clearTimeout(D),ne(Ho.data.response);break;default:clearTimeout(Ie),clearTimeout(D),_e(new Error("invalid_response"))}}},C.handlers.add(V),P.port1.addEventListener("message",V.onMessage),C.target.postMessage({eventType:u,eventId:Me,data:d},[P.port2])}).finally(()=>{V&&C.removeMessageHandler(V)})})()}}function Yn(){return window}function bc(){return typeof Yn().WorkerGlobalScope<"u"&&"function"==typeof Yn().importScripts}function Gd(){return(Gd=(0,O.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ig="firebaseLocalStorageDb",uu="firebaseLocalStorage",Wd="fbase_key";class Oa{constructor(u){this.request=u}toPromise(){return new Promise((u,d)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function du(p,u){return p.transaction([uu],u?"readwrite":"readonly").objectStore(uu)}function qd(){const p=indexedDB.open(ig,1);return new Promise((u,d)=>{p.addEventListener("error",()=>{d(p.error)}),p.addEventListener("upgradeneeded",()=>{const g=p.result;try{g.createObjectStore(uu,{keyPath:Wd})}catch(C){d(C)}}),p.addEventListener("success",(0,O.Z)(function*(){const g=p.result;g.objectStoreNames.contains(uu)?u(g):(g.close(),yield function Nv(){const p=indexedDB.deleteDatabase(ig);return new Oa(p).toPromise()}(),u(yield qd()))}))})}function hu(p,u,d){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,O.Z)(function*(p,u,d){const g=du(p,!0).put({[Wd]:u,value:d});return new Oa(g).toPromise()})).apply(this,arguments)}function Kd(){return(Kd=(0,O.Z)(function*(p,u){const d=du(p,!1).get(u),g=yield new Oa(d).toPromise();return void 0===g?null:g.value})).apply(this,arguments)}function dM(p,u){const d=du(p,!0).delete(u);return new Oa(d).toPromise()}const Ac=(()=>{class p{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,O.Z)(function*(){return d.db||(d.db=yield qd()),d.db})()}_withRetries(d){var g=this;return(0,O.Z)(function*(){let C=0;for(;;)try{const P=yield g._openDb();return yield d(P)}catch(P){if(C++>3)throw P;g.db&&(g.db.close(),g.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,O.Z)(function*(){return bc()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,O.Z)(function*(){d.receiver=Ma._getInstance(function kv(){return bc()?self:null}()),d.receiver._subscribe("keyChanged",function(){var g=(0,O.Z)(function*(C,P){return{keyProcessed:(yield d._poll()).includes(P.key)}});return function(C,P){return g.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var g=(0,O.Z)(function*(C,P){return["keyChanged"]});return function(C,P){return g.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,O.Z)(function*(){var g,C;if(d.activeServiceWorker=yield function Zi(){return Gd.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new jk(d.activeServiceWorker);const P=yield d.sender._send("ping",{},800);P&&null!==(g=P[0])&&void 0!==g&&g.fulfilled&&null!==(C=P[0])&&void 0!==C&&C.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var g=this;return(0,O.Z)(function*(){if(g.sender&&g.activeServiceWorker&&function xv(){var p;return(null===(p=navigator?.serviceWorker)||void 0===p?void 0:p.controller)||null}()===g.activeServiceWorker)try{yield g.sender._send("keyChanged",{key:d},g.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,O.Z)(function*(){try{if(!indexedDB)return!1;const d=yield qd();return yield hu(d,rg,"1"),yield dM(d,rg),!0}catch{}return!1})()}_withPendingWrite(d){var g=this;return(0,O.Z)(function*(){g.pendingWrites++;try{yield d()}finally{g.pendingWrites--}})()}_set(d,g){var C=this;return(0,O.Z)(function*(){return C._withPendingWrite((0,O.Z)(function*(){return yield C._withRetries(P=>hu(P,d,g)),C.localCache[d]=g,C.notifyServiceWorker(d)}))})()}_get(d){var g=this;return(0,O.Z)(function*(){const C=yield g._withRetries(P=>function Tc(p,u){return Kd.apply(this,arguments)}(P,d));return g.localCache[d]=C,C})()}_remove(d){var g=this;return(0,O.Z)(function*(){return g._withPendingWrite((0,O.Z)(function*(){return yield g._withRetries(C=>dM(C,d)),delete g.localCache[d],g.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,O.Z)(function*(){const g=yield d._withRetries(D=>{const V=du(D,!1).getAll();return new Oa(V).toPromise()});if(!g)return[];if(0!==d.pendingWrites)return[];const C=[],P=new Set;for(const{fbase_key:D,value:V}of g)P.add(D),JSON.stringify(d.localCache[D])!==JSON.stringify(V)&&(d.notifyListeners(D,V),C.push(D));for(const D of Object.keys(d.localCache))d.localCache[D]&&!P.has(D)&&(d.notifyListeners(D,null),C.push(D));return C})()}notifyListeners(d,g){this.localCache[d]=g;const C=this.listeners[d];if(C)for(const P of Array.from(C))P(g)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,O.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,g){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(g)}_removeListener(d,g){this.listeners[d]&&(this.listeners[d].delete(g),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return p.type="LOCAL",p})(),cg=1e12;class Wk{constructor(u){this.auth=u,this.counter=cg,this._widgets=new Map}render(u,d){const g=this.counter;return this._widgets.set(g,new pM(u,this.auth.name,d||{})),this.counter++,g}reset(u){var d;const g=u||cg;null===(d=this._widgets.get(g))||void 0===d||d.delete(),this._widgets.delete(g)}getResponse(u){var d;return(null===(d=this._widgets.get(u||cg))||void 0===d?void 0:d.getResponse())||""}execute(u){var d=this;return(0,O.Z)(function*(){var g;return null===(g=d._widgets.get(u||cg))||void 0===g||g.execute(),""})()}}class pM{constructor(u,d,g){this.params=g,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const C="string"==typeof u?document.getElementById(u):u;oe(C,"argument-error",{appName:d}),this.container=C,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Lv(p){const u=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<p;g++)u.push(d.charAt(Math.floor(62*Math.random())));return u.join("")}(50);const{callback:u,"expired-callback":d}=this.params;if(u)try{u(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Zd=XE("rcb"),fM=new So(3e4,6e4);class mM{constructor(){var u;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(u=Yn().grecaptcha)||void 0===u||!u.render)}load(u,d=""){return oe(function Vv(p){return p.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(p)}(d),u,"argument-error"),this.shouldResolveImmediately(d)&&Br(Yn().grecaptcha)?Promise.resolve(Yn().grecaptcha):new Promise((g,C)=>{const P=Yn().setTimeout(()=>{C(zt(u,"network-request-failed"))},fM.get());Yn()[Zd]=()=>{Yn().clearTimeout(P),delete Yn()[Zd];const V=Yn().grecaptcha;if(!V||!Br(V))return void C(zt(u,"internal-error"));const ne=V.render;V.render=(_e,Me)=>{const Ie=ne(_e,Me);return this.counter++,Ie},this.hostLanguage=d,g(V)},us(`https://www.google.com/recaptcha/api.js??${(0,Z.xO)({onload:Zd,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(P),C(zt(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){var d;return!(null===(d=Yn().grecaptcha)||void 0===d||!d.render)&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class _M{load(u){return(0,O.Z)(function*(){return new Wk(u)})()}clearedOneInstance(){}}const lg="recaptcha",yM={theme:"light",type:"image"};class qk{constructor(u,d,g=Object.assign({},yM)){this.parameters=g,this.type=lg,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fn(u),this.isInvisible="invisible"===this.parameters.size,oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const C="string"==typeof d?document.getElementById(d):d;oe(C,this.auth,"argument-error"),this.container=C,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new _M:new mM,this.validateStartingState()}verify(){var u=this;return(0,O.Z)(function*(){u.assertNotDestroyed();const d=yield u.render(),g=u.getAssertedRecaptcha();return g.getResponse(d)||new Promise(P=>{const D=V=>{V&&(u.tokenChangeListeners.delete(D),P(V))};u.tokenChangeListeners.add(D),u.isInvisible&&g.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return d=>{if(this.tokenChangeListeners.forEach(g=>g(d)),"function"==typeof u)u(d);else if("string"==typeof u){const g=Yn()[u];"function"==typeof g&&g(d)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,O.Z)(function*(){if(yield u.init(),!u.widgetId){let d=u.container;if(!u.isInvisible){const g=document.createElement("div");d.appendChild(g),d=g}u.widgetId=u.getAssertedRecaptcha().render(d,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,O.Z)(function*(){oe(Ao()&&!bc(),u.auth,"internal-error"),yield function vM(){let p=null;return new Promise(u=>{"complete"!==document.readyState?(p=()=>u(),window.addEventListener("load",p)):u()}).catch(u=>{throw p&&window.removeEventListener("load",p),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const d=yield function uc(p){return ss.apply(this,arguments)}(u.auth);oe(d,u.auth,"internal-error"),u.parameters.sitekey=d})()}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ci{constructor(u,d){this.verificationId=u,this.onConfirmation=d}confirm(u){const d=ya._fromVerification(this.verificationId,u);return this.onConfirmation(d)}}function ug(){return(ug=(0,O.Z)(function*(p,u,d){const g=fn(p),C=yield Dc(g,u,(0,Z.m9)(d));return new ci(C,P=>Vd(g,P))})).apply(this,arguments)}function Yd(){return(Yd=(0,O.Z)(function*(p,u,d){const g=(0,Z.m9)(p);yield ru(!1,g,"phone");const C=yield Dc(g.auth,u,(0,Z.m9)(d));return new ci(C,P=>Ev(g,P))})).apply(this,arguments)}function dg(){return(dg=(0,O.Z)(function*(p,u,d){const g=(0,Z.m9)(p),C=yield Dc(g.auth,u,(0,Z.m9)(d));return new ci(C,P=>qf(g,P))})).apply(this,arguments)}function Dc(p,u,d){return hg.apply(this,arguments)}function hg(){return hg=(0,O.Z)(function*(p,u,d){var g;const C=yield d.verify();try{let P;if(oe("string"==typeof C,p,"argument-error"),oe(d.type===lg,p,"argument-error"),P="string"==typeof u?{phoneNumber:u}:u,"session"in P){const D=P.session;if("phoneNumber"in P)return oe("enroll"===D.type,p,"internal-error"),(yield function cM(p,u){return K(p,"POST","/v2/accounts/mfaEnrollment:start",ce(p,u))}(p,{idToken:D.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:C}})).phoneSessionInfo.sessionInfo;{oe("signin"===D.type,p,"internal-error");const V=(null===(g=P.multiFactorHint)||void 0===g?void 0:g.uid)||P.multiFactorUid;return oe(V,p,"missing-multi-factor-info"),(yield function Gk(p,u){return K(p,"POST","/v2/accounts/mfaSignIn:start",ce(p,u))}(p,{mfaPendingCredential:D.credential,mfaEnrollmentId:V,phoneSignInInfo:{recaptchaToken:C}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:D}=yield function Vf(p,u){return _c.apply(this,arguments)}(p,{phoneNumber:P.phoneNumber,recaptchaToken:C});return D}}finally{d._reset()}}),hg.apply(this,arguments)}function Qd(){return(Qd=(0,O.Z)(function*(p,u){yield Fd((0,Z.m9)(p),u)})).apply(this,arguments)}let Sc=(()=>{class p{constructor(d){this.providerId=p.PROVIDER_ID,this.auth=fn(d)}verifyPhoneNumber(d,g){return Dc(this.auth,d,(0,Z.m9)(g))}static credential(d,g){return ya._fromVerification(d,g)}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:g,temporaryProof:C}=d;return g&&C?ya._fromTokenResponse(g,C):null}}return p.PROVIDER_ID="phone",p.PHONE_SIGN_IN_METHOD="phone",p})();function bt(p,u){return u?W(u):(oe(p._popupRedirectResolver,p,"argument-error"),p._popupRedirectResolver)}class pu extends _a{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return Ls(u,this._buildIdpRequest())}_linkToIdToken(u,d){return Ls(u,this._buildIdpRequest(d))}_getReauthenticationResolver(u){return Ls(u,this._buildIdpRequest())}_buildIdpRequest(u){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(d.idToken=u),d}}function Xd(p){return Pv(p.auth,new pu(p),p.bypassAuthState)}function li(p){const{auth:u,user:d}=p;return oe(d,u,"internal-error"),wv(d,new pu(p),p.bypassAuthState)}function wM(p){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,O.Z)(function*(p){const{auth:u,user:d}=p;return oe(d,u,"internal-error"),Fd(d,new pu(p),p.bypassAuthState)})).apply(this,arguments)}class ba{constructor(u,d,g,C,P=!1){this.auth=u,this.resolver=g,this.user=C,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var u=this;return new Promise(function(){var d=(0,O.Z)(function*(g,C){u.pendingPromise={resolve:g,reject:C};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(P){u.reject(P)}});return function(g,C){return d.apply(this,arguments)}}())}onAuthEvent(u){var d=this;return(0,O.Z)(function*(){const{urlResponse:g,sessionId:C,postBody:P,tenantId:D,error:V,type:ne}=u;if(V)return void d.reject(V);const _e={auth:d.auth,requestUri:g,sessionId:C,tenantId:D||void 0,postBody:P||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(ne)(_e))}catch(Me){d.reject(Me)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return Xd;case"linkViaPopup":case"linkViaRedirect":return wM;case"reauthViaPopup":case"reauthViaRedirect":return li;default:Rt(this.auth,"internal-error")}}resolve(u){tn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){tn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Di=new So(2e3,1e4);function pg(){return(pg=(0,O.Z)(function*(p,u,d){const g=fn(p);rt(p,u,Ti);const C=bt(g,d);return new eh(g,"signInViaPopup",u,C).executeNotNull()})).apply(this,arguments)}function Vo(){return(Vo=(0,O.Z)(function*(p,u,d){const g=(0,Z.m9)(p);rt(g.auth,u,Ti);const C=bt(g.auth,d);return new eh(g.auth,"reauthViaPopup",u,C,g).executeNotNull()})).apply(this,arguments)}function fg(){return(fg=(0,O.Z)(function*(p,u,d){const g=(0,Z.m9)(p);rt(g.auth,u,Ti);const C=bt(g.auth,d);return new eh(g.auth,"linkViaPopup",u,C,g).executeNotNull()})).apply(this,arguments)}let eh=(()=>{class p extends ba{constructor(d,g,C,P,D){super(d,g,P,D),this.provider=C,this.authWindow=null,this.pollId=null,p.currentPopupAction&&p.currentPopupAction.cancel(),p.currentPopupAction=this}executeNotNull(){var d=this;return(0,O.Z)(function*(){const g=yield d.execute();return oe(g,d.auth,"internal-error"),g})()}onExecution(){var d=this;return(0,O.Z)(function*(){tn(1===d.filter.length,"Popup operations only handle one event");const g=Ki();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],g),d.authWindow.associatedEvent=g,d.resolver._originValidation(d.auth).catch(C=>{d.reject(C)}),d.resolver._isIframeWebStorageSupported(d.auth,C=>{C||d.reject(zt(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(zt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,p.currentPopupAction=null}pollUserCancellation(){const d=()=>{var g,C;this.pollId=null!==(C=null===(g=this.authWindow)||void 0===g?void 0:g.window)&&void 0!==C&&C.closed?window.setTimeout(()=>{this.pollId=null,this.reject(zt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,Di.get())};d()}}return p.currentPopupAction=null,p})();const $v="pendingRedirect",Rc=new Map;class MM extends ba{constructor(u,d,g=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,g),this.eventId=null}execute(){var u=()=>super.execute,d=this;return(0,O.Z)(function*(){let g=Rc.get(d.auth._key());if(!g){try{const P=(yield function je(p,u){return th.apply(this,arguments)}(d.resolver,d.auth))?yield u().call(d):null;g=()=>Promise.resolve(P)}catch(C){g=()=>Promise.reject(C)}Rc.set(d.auth._key(),g)}return d.bypassAuthState||Rc.set(d.auth._key(),()=>Promise.resolve(null)),g()})()}onAuthEvent(u){var d=()=>super.onAuthEvent,g=this;return(0,O.Z)(function*(){if("signInViaRedirect"===u.type)return d().call(g,u);if("unknown"!==u.type){if(u.eventId){const C=yield g.auth._redirectUserForId(u.eventId);if(C)return g.user=C,d().call(g,u);g.resolve(null)}}else g.resolve(null)})()}onExecution(){return(0,O.Z)(function*(){})()}cleanUp(){}}function th(){return(th=(0,O.Z)(function*(p,u){const d=Ta(u),g=_g(p);if(!(yield g._isAvailable()))return!1;const C="true"===(yield g._get(d));return yield g._remove(d),C})).apply(this,arguments)}function Hv(p,u){return gg.apply(this,arguments)}function gg(){return(gg=(0,O.Z)(function*(p,u){return _g(p)._set(Ta(u),"true")})).apply(this,arguments)}function mg(p,u){Rc.set(p._key(),u)}function _g(p){return W(p._redirectPersistence)}function Ta(p){return Ze($v,p.config.apiKey,p.name)}function IM(p,u,d){return function bM(p,u,d){return yg.apply(this,arguments)}(p,u,d)}function yg(){return(yg=(0,O.Z)(function*(p,u,d){const g=fn(p);rt(p,u,Ti),yield g._initializationPromise;const C=bt(g,d);return yield Hv(C,g),C._openRedirect(g,u,"signInViaRedirect")})).apply(this,arguments)}function TM(p,u,d){return function AM(p,u,d){return ae.apply(this,arguments)}(p,u,d)}function ae(){return(ae=(0,O.Z)(function*(p,u,d){const g=(0,Z.m9)(p);rt(g.auth,u,Ti),yield g.auth._initializationPromise;const C=bt(g.auth,d);yield Hv(C,g.auth);const P=yield rh(g);return C._openRedirect(g.auth,u,"reauthViaRedirect",P)})).apply(this,arguments)}function Ct(p,u,d){return function wr(p,u,d){return Qn.apply(this,arguments)}(p,u,d)}function Qn(){return(Qn=(0,O.Z)(function*(p,u,d){const g=(0,Z.m9)(p);rt(g.auth,u,Ti),yield g.auth._initializationPromise;const C=bt(g.auth,d);yield ru(!1,g,u.providerId),yield Hv(C,g.auth);const P=yield rh(g);return C._openRedirect(g.auth,u,"linkViaRedirect",P)})).apply(this,arguments)}function nh(){return(nh=(0,O.Z)(function*(p,u){return yield fn(p)._initializationPromise,js(p,u,!1)})).apply(this,arguments)}function js(p,u){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,O.Z)(function*(p,u,d=!1){const g=fn(p),C=bt(g,u),D=yield new MM(g,C,d).execute();return D&&!d&&(delete D.user._redirectEventId,yield g._persistUserIfCurrent(D.user),yield g._setRedirectUser(null,u)),D})).apply(this,arguments)}function rh(p){return fu.apply(this,arguments)}function fu(){return(fu=(0,O.Z)(function*(p){const u=Ki(`${p.uid}:::`);return p._redirectEventId=u,yield p.auth._setRedirectUser(p),yield p.auth._persistUserIfCurrent(p),u})).apply(this,arguments)}class SM{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let d=!1;return this.consumers.forEach(g=>{this.isEventForConsumer(u,g)&&(d=!0,this.sendToConsumer(u,g),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function hs(p){switch(p.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Dr(p);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=u,d=!0)),d}sendToConsumer(u,d){var g;if(u.error&&!Dr(u)){const C=(null===(g=u.error.code)||void 0===g?void 0:g.split("auth/")[1])||"internal-error";d.onError(zt(this.auth,C))}else d.onAuthEvent(u)}isEventForConsumer(u,d){const g=null===d.eventId||!!u.eventId&&u.eventId===d.eventId;return d.filter.includes(u.type)&&g}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vg(u))}saveEventToCache(u){this.cachedEventUids.add(vg(u)),this.lastProcessedEventTime=Date.now()}}function vg(p){return[p.type,p.eventId,p.sessionId,p.tenantId].filter(u=>u).join("-")}function Dr({type:p,error:u}){return"unknown"===p&&"auth/no-auth-event"===u?.code}function Cg(p){return $s.apply(this,arguments)}function $s(){return($s=(0,O.Z)(function*(p,u={}){return K(p,"GET","/v1/projects",u)})).apply(this,arguments)}const ps=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RM=/^https?/;function wg(){return(wg=(0,O.Z)(function*(p){if(p.config.emulator)return;const{authorizedDomains:u}=yield Cg(p);for(const d of u)try{if(xM(d))return}catch{}Rt(p,"unauthorized-domain")})).apply(this,arguments)}function xM(p){const u=Nn(),{protocol:d,hostname:g}=new URL(u);if(p.startsWith("chrome-extension://")){const D=new URL(p);return""===D.hostname&&""===g?"chrome-extension:"===d&&p.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===d&&D.hostname===g}if(!RM.test(d))return!1;if(ps.test(p))return g===p;const C=p.replace(/\./g,"\\.");return new RegExp("^(.+\\."+C+"|"+C+")$","i").test(g)}const Pg=new So(3e4,6e4);function ih(){const p=Yn().___jsl;if(p?.H)for(const u of Object.keys(p.H))if(p.H[u].r=p.H[u].r||[],p.H[u].L=p.H[u].L||[],p.H[u].r=[...p.H[u].L],p.CP)for(let d=0;d<p.CP.length;d++)p.CP[d]=null}let xc=null;const Wv=new So(5e3,15e3),Eg="__/auth/iframe",qv="emulator/auth/iframe",Kv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yv(p){const u=p.config;oe(u.authDomain,p,"auth-domain-config-required");const d=u.emulator?z(u,qv):`https://${p.config.authDomain}/${Eg}`,g={apiKey:u.apiKey,appName:p.name,v:$e.SDK_VERSION},C=Zv.get(p.config.apiHost);C&&(g.eid=C);const P=p._getFrameworks();return P.length&&(g.fw=P.join(",")),`${d}?${(0,Z.xO)(g).slice(1)}`}function Og(){return Og=(0,O.Z)(function*(p){const u=yield function kM(p){return xc=xc||function Gv(p){return new Promise((u,d)=>{var g,C,P;function D(){ih(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{ih(),d(zt(p,"network-request-failed"))},timeout:Pg.get()})}if(null!==(C=null===(g=Yn().gapi)||void 0===g?void 0:g.iframes)&&void 0!==C&&C.Iframe)u(gapi.iframes.getContext());else{if(null===(P=Yn().gapi)||void 0===P||!P.load){const V=XE("iframefcb");return Yn()[V]=()=>{gapi.load?D():d(zt(p,"network-request-failed"))},us(`https://apis.google.com/js/api.js?onload=${V}`).catch(ne=>d(ne))}D()}}).catch(u=>{throw xc=null,u})}(p),xc}(p),d=Yn().gapi;return oe(d,p,"internal-error"),u.open({where:document.body,url:Yv(p),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kv,dontclear:!0},g=>new Promise(function(){var C=(0,O.Z)(function*(P,D){yield g.restyle({setHideOnLeave:!1});const V=zt(p,"network-request-failed"),ne=Yn().setTimeout(()=>{D(V)},Wv.get());function _e(){Yn().clearTimeout(ne),P(g)}g.ping(_e).then(_e,()=>{D(V)})});return function(P,D){return C.apply(this,arguments)}}()))}),Og.apply(this,arguments)}const NM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Qv{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Xv="__/auth/handler",Jv="emulator/auth/handler",oh=encodeURIComponent("fac");function Uo(p,u,d,g,C,P){return Ig.apply(this,arguments)}function Ig(){return(Ig=(0,O.Z)(function*(p,u,d,g,C,P){oe(p.config.authDomain,p,"auth-domain-config-required"),oe(p.config.apiKey,p,"invalid-api-key");const D={apiKey:p.config.apiKey,appName:p.name,authType:d,redirectUrl:g,v:$e.SDK_VERSION,eventId:C};if(u instanceof Ti){u.setDefaultLanguage(p.languageCode),D.providerId=u.providerId||"",(0,Z.xb)(u.getCustomParameters())||(D.customParameters=JSON.stringify(u.getCustomParameters()));for(const[Me,Ie]of Object.entries(P||{}))D[Me]=Ie}if(u instanceof vc){const Me=u.getScopes().filter(Ie=>""!==Ie);Me.length>0&&(D.scopes=Me.join(","))}p.tenantId&&(D.tid=p.tenantId);const V=D;for(const Me of Object.keys(V))void 0===V[Me]&&delete V[Me];const ne=yield p._getAppCheckToken(),_e=ne?`#${oh}=${encodeURIComponent(ne)}`:"";return`${function sh({config:p}){return p.emulator?z(p,Jv):`https://${p.authDomain}/${Xv}`}(p)}?${(0,Z.xO)(V).slice(1)}${_e}`})).apply(this,arguments)}const kc="webStorageSupport",ch=class ah{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ea,this._completeRedirectFn=js,this._overrideRedirectResult=mg}_openPopup(u,d,g,C){var P=this;return(0,O.Z)(function*(){var D;tn(null===(D=P.eventManagers[u._key()])||void 0===D?void 0:D.manager,"_initialize() not called before _openPopup()");const V=yield Uo(u,d,g,Nn(),C);return function LM(p,u,d,g=500,C=600){const P=Math.max((window.screen.availHeight-C)/2,0).toString(),D=Math.max((window.screen.availWidth-g)/2,0).toString();let V="";const ne=Object.assign(Object.assign({},NM),{width:g.toString(),height:C.toString(),top:P,left:D}),_e=(0,Z.z$)().toLowerCase();d&&(V=Ut(_e)?"_blank":d),Re(_e)&&(u=u||"http://localhost",ne.scrollbars="yes");const Me=Object.entries(ne).reduce((_n,[Ho,Cu])=>`${_n}${Ho}=${Cu},`,"");if(function Ye(p=(0,Z.z$)()){var u;return ue(p)&&!(null===(u=window.navigator)||void 0===u||!u.standalone)}(_e)&&"_self"!==V)return function VM(p,u){const d=document.createElement("a");d.href=p,d.target=u;const g=document.createEvent("MouseEvent");g.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(g)}(u||"",V),new Qv(null);const Ie=window.open(u||"",V,Me);oe(Ie,p,"popup-blocked");try{Ie.focus()}catch{}return new Qv(Ie)}(u,V,Ki())})()}_openRedirect(u,d,g,C){var P=this;return(0,O.Z)(function*(){return yield P._originValidation(u),function Cr(p){Yn().location.href=p}(yield Uo(u,d,g,Nn(),C)),new Promise(()=>{})})()}_initialize(u){const d=u._key();if(this.eventManagers[d]){const{manager:C,promise:P}=this.eventManagers[d];return C?Promise.resolve(C):(tn(P,"If manager is not set, promise should be"),P)}const g=this.initAndGetManager(u);return this.eventManagers[d]={promise:g},g.catch(()=>{delete this.eventManagers[d]}),g}initAndGetManager(u){var d=this;return(0,O.Z)(function*(){const g=yield function Mg(p){return Og.apply(this,arguments)}(u),C=new SM(u);return g.register("authEvent",P=>(oe(P?.authEvent,u,"invalid-auth-event"),{status:C.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[u._key()]={manager:C},d.iframes[u._key()]=g,C})()}_isIframeWebStorageSupported(u,d){this.iframes[u._key()].send(kc,{type:kc},C=>{var P;const D=null===(P=C?.[0])||void 0===P?void 0:P[kc];void 0!==D&&d(!!D),Rt(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const d=u._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function zv(p){return wg.apply(this,arguments)}(u)),this.originValidationPromises[d]}get _shouldInitProactively(){return Q()||sr()||ue()}};class eC{constructor(u){this.factorId=u}_process(u,d,g){switch(d.type){case"enroll":return this._finalizeEnroll(u,d.credential,g);case"signin":return this._finalizeSignIn(u,d.credential);default:return hn("unexpected MultiFactorSessionType")}}}class lh extends eC{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new lh(u)}_finalizeEnroll(u,d,g){return function xk(p,u){return K(p,"POST","/v2/accounts/mfaEnrollment:finalize",ce(p,u))}(u,{idToken:d,displayName:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,d){return function Fv(p,u){return K(p,"POST","/v2/accounts/mfaSignIn:finalize",ce(p,u))}(u,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let UM=(()=>{class p{constructor(){}static assertion(d){return lh._fromCredential(d)}}return p.FACTOR_ID="phone",p})();var uh="@firebase/auth";class jM{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var d=this;return(0,O.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const d=this.auth.onIdTokenChanged(g=>{u(g?.stsTokenManager.accessToken||null)});this.internalListeners.set(u,d),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const d=this.internalListeners.get(u);d&&(this.internalListeners.delete(u),d(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function fs(){return window}(0,Z.Pz)("authIdTokenMaxAge"),function Kk(p){(0,$e._registerComponent)(new Pn.wA("auth",(u,{options:d})=>{const g=u.getProvider("app").getImmediate(),C=u.getProvider("heartbeat"),P=u.getProvider("app-check-internal"),{apiKey:D,authDomain:V}=g.options;oe(D&&!D.includes(":"),"invalid-api-key",{appName:g.name});const ne={apiKey:D,authDomain:V,clientPlatform:p,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:De(p)},_e=new bi(g,C,P,ne);return function Ak(p,u){const d=u?.persistence||[],g=(Array.isArray(d)?d:[d]).map(W);u?.errorMap&&p._updateErrorMap(u.errorMap),p._initializeWithPersistence(g,u?.popupRedirectResolver)}(_e,d),_e},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,d,g)=>{u.getProvider("auth-internal").initialize()})),(0,$e._registerComponent)(new Pn.wA("auth-internal",u=>{const d=fn(u.getProvider("auth").getImmediate());return new jM(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,$e.registerVersion)(uh,"1.3.2",function $M(p){switch(p){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(p)),(0,$e.registerVersion)(uh,"1.3.2","esm2017")}("Browser");function ph(){return ph=(0,O.Z)(function*(p,u,d){var g;const{BuildInfo:C}=fs();tn(u.sessionId,"AuthEvent did not contain a session ID");const P=yield function rC(p){return Lc.apply(this,arguments)}(u.sessionId),D={};return ue()?D.ibi=C.packageName:ma()?D.apn=C.packageName:Rt(p,"operation-not-supported-in-this-environment"),C.displayName&&(D.appDisplayName=C.displayName),D.sessionId=P,Uo(p,d,u.type,void 0,null!==(g=u.eventId)&&void 0!==g?g:void 0,D)}),ph.apply(this,arguments)}function Ag(){return(Ag=(0,O.Z)(function*(p){const{BuildInfo:u}=fs(),d={};ue()?d.iosBundleId=u.packageName:ma()?d.androidPackageName=u.packageName:Rt(p,"operation-not-supported-in-this-environment"),yield Cg(p,d)})).apply(this,arguments)}function Fc(){return(Fc=(0,O.Z)(function*(p,u,d){const{cordova:g}=fs();let C=()=>{};try{yield new Promise((P,D)=>{let V=null;function ne(){var Ie;P();const _n=null===(Ie=g.plugins.browsertab)||void 0===Ie?void 0:Ie.close;"function"==typeof _n&&_n(),"function"==typeof d?.close&&d.close()}function _e(){V||(V=window.setTimeout(()=>{D(zt(p,"redirect-cancelled-by-user"))},2e3))}function Me(){"visible"===document?.visibilityState&&_e()}u.addPassiveListener(ne),document.addEventListener("resume",_e,!1),ma()&&document.addEventListener("visibilitychange",Me,!1),C=()=>{u.removePassiveListener(ne),document.removeEventListener("resume",_e,!1),document.removeEventListener("visibilitychange",Me,!1),V&&window.clearTimeout(V)}})}finally{C()}})).apply(this,arguments)}function Lc(){return(Lc=(0,O.Z)(function*(p){const u=function Sg(p){if(tn(/[0-9a-zA-Z]+/.test(p),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(p);const u=new ArrayBuffer(p.length),d=new Uint8Array(u);for(let g=0;g<p.length;g++)d[g]=p.charCodeAt(g);return d}(p),d=yield crypto.subtle.digest("SHA-256",u);return Array.from(new Uint8Array(d)).map(C=>C.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class iC extends SM{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(u=>{this.resolveInialized=u})}addPassiveListener(u){this.passiveListeners.add(u)}removePassiveListener(u){this.passiveListeners.delete(u)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(u){return this.resolveInialized(),this.passiveListeners.forEach(d=>d(u)),super.onEvent(u)}initialized(){var u=this;return(0,O.Z)(function*(){yield u.initPromise})()}}function Rg(p){return xg.apply(this,arguments)}function xg(){return(xg=(0,O.Z)(function*(p){const u=yield kg()._get(gh(p));return u&&(yield kg()._remove(gh(p))),u})).apply(this,arguments)}function Sa(){const p=[];for(let d=0;d<20;d++){const g=Math.floor(62*Math.random());p.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(g))}return p.join("")}function kg(){return W(lu)}function gh(p){return Ze("authEvent",p.config.apiKey,p.name)}function mh(p){if(!p?.includes("?"))return{};const[u,...d]=p.split("?");return(0,Z.zd)(d.join("?"))}const Er=class WM{constructor(){this._redirectPersistence=Ea,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=js,this._overrideRedirectResult=mg}_initialize(u){var d=this;return(0,O.Z)(function*(){const g=u._key();let C=d.eventManagers.get(g);return C||(C=new iC(u),d.eventManagers.set(g,C),d.attachCallbackListeners(u,C)),C})()}_openPopup(u){Rt(u,"operation-not-supported-in-this-environment")}_openRedirect(u,d,g,C){var P=this;return(0,O.Z)(function*(){!function Dg(p){var u,d,g,C,P,D,V,ne,_e,Me;const Ie=fs();oe("function"==typeof(null===(u=Ie?.universalLinks)||void 0===u?void 0:u.subscribe),p,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),oe(typeof(null===(d=Ie?.BuildInfo)||void 0===d?void 0:d.packageName)<"u",p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),oe("function"==typeof(null===(P=null===(C=null===(g=Ie?.cordova)||void 0===g?void 0:g.plugins)||void 0===C?void 0:C.browsertab)||void 0===P?void 0:P.openUrl),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oe("function"==typeof(null===(ne=null===(V=null===(D=Ie?.cordova)||void 0===D?void 0:D.plugins)||void 0===V?void 0:V.browsertab)||void 0===ne?void 0:ne.isAvailable),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oe("function"==typeof(null===(Me=null===(_e=Ie?.cordova)||void 0===_e?void 0:_e.InAppBrowser)||void 0===Me?void 0:Me.open),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(u);const D=yield P._initialize(u);yield D.initialized(),D.resetRedirect(),function OM(){Rc.clear()}(),yield P._originValidation(u);const V=function oC(p,u,d=null){return{type:u,eventId:d,urlResponse:null,sessionId:Sa(),postBody:null,tenantId:p.tenantId,error:zt(p,"no-auth-event")}}(u,g,C);yield function sC(p,u){return kg()._set(gh(p),u)}(u,V);const ne=yield function Yk(p,u,d){return ph.apply(this,arguments)}(u,V,d),_e=yield function Bo(p){const{cordova:u}=fs();return new Promise(d=>{u.plugins.browsertab.isAvailable(g=>{let C=null;g?u.plugins.browsertab.openUrl(p):C=u.InAppBrowser.open(p,function xe(p=(0,Z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(p)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(p)}()?"_blank":"_system","location=yes"),d(C)})})}(ne);return function zM(p,u,d){return Fc.apply(this,arguments)}(u,D,_e)})()}_isIframeWebStorageSupported(u,d){throw new Error("Method not implemented.")}_originValidation(u){const d=u._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function nC(p){return Ag.apply(this,arguments)}(u)),this.originValidationPromises[d]}attachCallbackListeners(u,d){const{universalLinks:g,handleOpenURL:C,BuildInfo:P}=fs(),D=setTimeout((0,O.Z)(function*(){yield Rg(u),d.onEvent(_h())}),500),V=function(){var Me=(0,O.Z)(function*(Ie){clearTimeout(D);const _n=yield Rg(u);let Ho=null;_n&&Ie?.url&&(Ho=function fh(p,u){var d,g;const C=function mu(p){const u=mh(p),d=u.link?decodeURIComponent(u.link):void 0,g=mh(d).link,C=u.deep_link_id?decodeURIComponent(u.deep_link_id):void 0;return mh(C).link||C||g||d||p}(u);if(C.includes("/__/auth/callback")){const P=mh(C),D=P.firebaseError?function aC(p){try{return JSON.parse(p)}catch{return null}}(decodeURIComponent(P.firebaseError)):null,V=null===(g=null===(d=D?.code)||void 0===d?void 0:d.split("auth/"))||void 0===g?void 0:g[1],ne=V?zt(V):null;return ne?{type:p.type,eventId:p.eventId,tenantId:p.tenantId,error:ne,urlResponse:null,sessionId:null,postBody:null}:{type:p.type,eventId:p.eventId,tenantId:p.tenantId,sessionId:p.sessionId,urlResponse:C,postBody:null}}return null}(_n,Ie.url)),d.onEvent(Ho||_h())});return function(_n){return Me.apply(this,arguments)}}();typeof g<"u"&&"function"==typeof g.subscribe&&g.subscribe(null,V);const ne=C,_e=`${P.packageName.toLowerCase()}://`;fs().handleOpenURL=function(){var Me=(0,O.Z)(function*(Ie){if(Ie.toLowerCase().startsWith(_e)&&V({url:Ie}),"function"==typeof ne)try{ne(Ie)}catch(_n){console.error(_n)}});return function(Ie){return Me.apply(this,arguments)}}()}};function _h(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:zt("no-auth-event")}}function jo(){var p;return(null===(p=self?.location)||void 0===p?void 0:p.protocol)||null}function Ng(p=(0,Z.z$)()){return!("file:"!==jo()&&"ionic:"!==jo()&&"capacitor:"!==jo()||!p.toLowerCase().match(/iphone|ipad|ipod|android/))}function ZM(){try{const p=self.localStorage,u=Ki();if(p)return p.setItem(u,"1"),p.removeItem(u),!function KM(p=(0,Z.z$)()){return function Bc(){return(0,Z.w1)()&&11===document?.documentMode}()||function Qk(p=(0,Z.z$)()){return/Edge\/\d+/.test(p)}(p)}()||(0,Z.hl)()}catch{return lC()&&(0,Z.hl)()}return!1}function lC(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function uC(){return(function Uc(){return"http:"===jo()||"https:"===jo()}()||(0,Z.ru)()||Ng())&&!function Fg(){return(0,Z.b$)()||(0,Z.UG)()}()&&ZM()&&!lC()}function YM(){return Ng()&&typeof document<"u"}function dC(){return(dC=(0,O.Z)(function*(){return!!YM()&&new Promise(p=>{const u=setTimeout(()=>{p(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(u),p(!0)})})})).apply(this,arguments)}const Si={LOCAL:"local",NONE:"none",SESSION:"session"},_u=oe,Un="persistence";function Ra(p){return Lg.apply(this,arguments)}function Lg(){return(Lg=(0,O.Z)(function*(p){yield p._initializationPromise;const u=xa(),d=Ze(Un,p.config.apiKey,p.name);u&&u.setItem(d,p._getPersistence())})).apply(this,arguments)}function xa(){var p;try{return(null===(p=function jc(){return typeof window<"u"?window:null}())||void 0===p?void 0:p.sessionStorage)||null}catch{return null}}const hC=oe;class fo{constructor(){this.browserResolver=W(ch),this.cordovaResolver=W(Er),this.underlyingResolver=null,this._redirectPersistence=Ea,this._completeRedirectFn=js,this._overrideRedirectResult=mg}_initialize(u){var d=this;return(0,O.Z)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(u)})()}_openPopup(u,d,g,C){var P=this;return(0,O.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(u,d,g,C)})()}_openRedirect(u,d,g,C){var P=this;return(0,O.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(u,d,g,C)})()}_isIframeWebStorageSupported(u,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(u,d)}_originValidation(u){return this.assertedUnderlyingResolver._originValidation(u)}get _shouldInitProactively(){return YM()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return hC(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var u=this;return(0,O.Z)(function*(){if(u.underlyingResolver)return;const d=yield function Xk(){return dC.apply(this,arguments)}();u.underlyingResolver=d?u.cordovaResolver:u.browserResolver})()}}function $c(p){return p.unwrap()}function Jk(p){return eO(p)}function eO(p){const{_tokenResponse:u}=p instanceof Z.ZR?p.customData:p;if(!u)return null;if(!(p instanceof Z.ZR)&&"temporaryProof"in u&&"phoneNumber"in u)return Sc.credentialFromResult(p);const d=u.providerId;if(!d||d===dt.PASSWORD)return null;let g;switch(d){case dt.GOOGLE:g=xo;break;case dt.FACEBOOK:g=vv;break;case dt.GITHUB:g=tu;break;case dt.TWITTER:g=Sd;break;default:const{oauthIdToken:C,oauthAccessToken:P,oauthTokenSecret:D,pendingToken:V,nonce:ne}=u;return P||D||C||V?V?d.startsWith("saml.")?zr._create(d,V):oi._fromParams({providerId:d,signInMethod:d,pendingToken:V,idToken:C,accessToken:P}):new Cc(d).credential({idToken:C,accessToken:P,rawNonce:ne}):null}return p instanceof Z.ZR?g.credentialFromError(p):g.credentialFromResult(p)}function qt(p,u){return u.catch(d=>{throw d instanceof Z.ZR&&function JM(p,u){var d;const g=null===(d=u.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===u?.code)u.resolver=new eN(p,function aM(p,u){var d;const g=(0,Z.m9)(p),C=u;return oe(u.customData.operationType,g,"argument-error"),oe(null===(d=C.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,g,"argument-error"),Dv._fromError(g,C)}(p,u));else if(g){const C=eO(u),P=u;C&&(P.credential=C,P.tenantId=g.tenantId||void 0,P.email=g.email||void 0,P.phoneNumber=g.phoneNumber||void 0)}}(p,d),d}).then(d=>{const C=d.user;return{operationType:d.operationType,credential:Jk(d),additionalUserInfo:Hd(d),user:$o.getOrCreate(C)}})}function yu(p,u){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,O.Z)(function*(p,u){const d=yield u;return{verificationId:d.verificationId,confirm:g=>qt(p,d.confirm(g))}})).apply(this,arguments)}class eN{constructor(u,d){this.resolver=d,this.auth=function XM(p){return p.wrapped()}(u)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(u){return qt($c(this.auth),this.resolver.resolveSignIn(u))}}class $o{constructor(u){this._delegate=u,this.multiFactor=function Fk(p){const u=(0,Z.m9)(p);return Rv.has(u)||Rv.set(u,Sv._fromUser(u)),Rv.get(u)}(u)}static getOrCreate(u){return $o.USER_MAP.has(u)||$o.USER_MAP.set(u,new $o(u)),$o.USER_MAP.get(u)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(u){return this._delegate.getIdTokenResult(u)}getIdToken(u){return this._delegate.getIdToken(u)}linkAndRetrieveDataWithCredential(u){return this.linkWithCredential(u)}linkWithCredential(u){var d=this;return(0,O.Z)(function*(){return qt(d.auth,Ev(d._delegate,u))})()}linkWithPhoneNumber(u,d){var g=this;return(0,O.Z)(function*(){return yu(g.auth,function CM(p,u,d){return Yd.apply(this,arguments)}(g._delegate,u,d))})()}linkWithPopup(u){var d=this;return(0,O.Z)(function*(){return qt(d.auth,function jv(p,u,d){return fg.apply(this,arguments)}(d._delegate,u,fo))})()}linkWithRedirect(u){var d=this;return(0,O.Z)(function*(){return yield Ra(fn(d.auth)),Ct(d._delegate,u,fo)})()}reauthenticateAndRetrieveDataWithCredential(u){return this.reauthenticateWithCredential(u)}reauthenticateWithCredential(u){var d=this;return(0,O.Z)(function*(){return qt(d.auth,qf(d._delegate,u))})()}reauthenticateWithPhoneNumber(u,d){return yu(this.auth,function Bv(p,u,d){return dg.apply(this,arguments)}(this._delegate,u,d))}reauthenticateWithPopup(u){return qt(this.auth,function EM(p,u,d){return Vo.apply(this,arguments)}(this._delegate,u,fo))}reauthenticateWithRedirect(u){var d=this;return(0,O.Z)(function*(){return yield Ra(fn(d.auth)),TM(d._delegate,u,fo)})()}sendEmailVerification(u){return function We(p,u){return Ca.apply(this,arguments)}(this._delegate,u)}unlink(u){var d=this;return(0,O.Z)(function*(){return yield function nu(p,u){return Nd.apply(this,arguments)}(d._delegate,u),d})()}updateEmail(u){return function su(p,u){return ds((0,Z.m9)(p),u,null)}(this._delegate,u)}updatePassword(u){return function Ov(p,u){return ds((0,Z.m9)(p),null,u)}(this._delegate,u)}updatePhoneNumber(u){return function Lo(p,u){return Qd.apply(this,arguments)}(this._delegate,u)}updateProfile(u){return function Oc(p,u){return qi.apply(this,arguments)}(this._delegate,u)}verifyBeforeUpdateEmail(u,d){return function Mv(p,u,d){return Bs.apply(this,arguments)}(this._delegate,u,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}$o.USER_MAP=new WeakMap;const vu=oe;let pC=(()=>{class p{constructor(d,g){if(this.app=d,g.isInitialized())return this._delegate=g.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:C}=d.options;vu(C,"invalid-api-key",{appName:d.name}),vu(C,"invalid-api-key",{appName:d.name});const P=typeof window<"u"?fo:void 0;this._delegate=g.initialize({options:{persistence:tO(C,d.name),popupRedirectResolver:P}}),this._delegate._updateErrorMap(fr),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?$o.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,g){!function be(p,u,d){const g=fn(p);oe(g._canInitEmulator,g,"emulator-config-failed"),oe(/^https?:\/\//.test(u),g,"invalid-emulator-scheme");const C=!!d?.disableWarnings,P=eM(u),{host:D,port:V}=function Zn(p){const u=eM(p),d=/(\/\/)?([^?#/]+)/.exec(p.substr(u.length));if(!d)return{host:"",port:null};const g=d[2].split("@").pop()||"",C=/^(\[[^\]]+\])(:|$)/.exec(g);if(C){const P=C[1];return{host:P,port:Kl(g.substr(P.length+1))}}{const[P,D]=g.split(":");return{host:P,port:Kl(D)}}}(u);g.config.emulator={url:`${P}//${D}${null===V?"":`:${V}`}/`},g.settings.appVerificationDisabledForTesting=!0,g.emulatorConfig=Object.freeze({host:D,port:V,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:C})}),C||function tM(){function p(){const u=document.createElement("p"),d=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p())}()}(this._delegate,d,g)}applyActionCode(d){return function Ec(p,u){return Gr.apply(this,arguments)}(this._delegate,d)}checkActionCode(d){return Xf(this._delegate,d)}confirmPasswordReset(d,g){return function yr(p,u,d){return vr.apply(this,arguments)}(this._delegate,d,g)}createUserWithEmailAndPassword(d,g){var C=this;return(0,O.Z)(function*(){return qt(C._delegate,function sM(p,u,d){return on.apply(this,arguments)}(C._delegate,d,g))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return function Vs(p,u){return Us.apply(this,arguments)}(this._delegate,d)}isSignInWithEmailLink(d){return function ho(p,u){const d=we.parseLink(u);return"EMAIL_SIGNIN"===d?.operation}(0,d)}getRedirectResult(){var d=this;return(0,O.Z)(function*(){vu(uC(),d._delegate,"operation-not-supported-in-this-environment");const g=yield function Pr(p,u){return nh.apply(this,arguments)}(d._delegate,fo);return g?qt(d._delegate,Promise.resolve(g)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function qM(p,u){fn(p)._logFramework(u)}(this._delegate,d)}onAuthStateChanged(d,g,C){const{next:P,error:D,complete:V}=fC(d,g,C);return this._delegate.onAuthStateChanged(P,D,V)}onIdTokenChanged(d,g,C){const{next:P,error:D,complete:V}=fC(d,g,C);return this._delegate.onIdTokenChanged(P,D,V)}sendSignInLinkToEmail(d,g){return function Qe(p,u,d){return Wt.apply(this,arguments)}(this._delegate,d,g)}sendPasswordResetEmail(d,g){return function si(p,u,d){return mt.apply(this,arguments)}(this._delegate,d,g||void 0)}setPersistence(d){var g=this;return(0,O.Z)(function*(){let C;switch(function QM(p,u){_u(Object.values(Si).includes(u),p,"invalid-persistence-type"),(0,Z.b$)()?_u(u!==Si.SESSION,p,"unsupported-persistence-type"):(0,Z.UG)()?_u(u===Si.NONE,p,"unsupported-persistence-type"):lC()?_u(u===Si.NONE||u===Si.LOCAL&&(0,Z.hl)(),p,"unsupported-persistence-type"):_u(u===Si.NONE||ZM(),p,"unsupported-persistence-type")}(g._delegate,d),d){case Si.SESSION:C=Ea;break;case Si.LOCAL:C=(yield W(Ac)._isAvailable())?Ac:lu;break;case Si.NONE:C=Mt;break;default:return Rt("argument-error",{appName:g._delegate.name})}return g._delegate.setPersistence(C)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return qt(this._delegate,function Cv(p){return kd.apply(this,arguments)}(this._delegate))}signInWithCredential(d){return qt(this._delegate,Vd(this._delegate,d))}signInWithCustomToken(d){return qt(this._delegate,function xt(p,u){return Yf.apply(this,arguments)}(this._delegate,d))}signInWithEmailAndPassword(d,g){return qt(this._delegate,function Pe(p,u,d){return Vd((0,Z.m9)(p),eu.credential(u,d)).catch(function(){var g=(0,O.Z)(function*(C){throw"auth/password-does-not-meet-requirements"===C.code&&Bd(p),C});return function(C){return g.apply(this,arguments)}}())}(this._delegate,d,g))}signInWithEmailLink(d,g){return qt(this._delegate,function ou(p,u,d){return ar.apply(this,arguments)}(this._delegate,d,g))}signInWithPhoneNumber(d,g){return yu(this._delegate,function Uv(p,u,d){return ug.apply(this,arguments)}(this._delegate,d,g))}signInWithPopup(d){var g=this;return(0,O.Z)(function*(){return vu(uC(),g._delegate,"operation-not-supported-in-this-environment"),qt(g._delegate,function PM(p,u,d){return pg.apply(this,arguments)}(g._delegate,d,fo))})()}signInWithRedirect(d){var g=this;return(0,O.Z)(function*(){return vu(uC(),g._delegate,"operation-not-supported-in-this-environment"),yield Ra(g._delegate),IM(g._delegate,d,fo)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return function $d(p,u){return Jf.apply(this,arguments)}(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return p.Persistence=Si,p})();function fC(p,u,d){let g=p;"function"!=typeof p&&({next:g,error:u,complete:d}=p);const C=g;return{next:D=>C(D&&$o.getOrCreate(D)),error:u,complete:d}}function tO(p,u){const d=function Qi(p,u){const d=xa();if(!d)return[];const g=Ze(Un,p,u);switch(d.getItem(g)){case Si.NONE:return[Mt];case Si.LOCAL:return[Ac,Ea];case Si.SESSION:return[Ea];default:return[]}}(p,u);if(typeof self<"u"&&!d.includes(Ac)&&d.push(Ac),typeof window<"u")for(const g of[lu,Ea])d.includes(g)||d.push(g);return d.includes(Mt)||d.push(Mt),d}class Vg{constructor(){this.providerId="phone",this._delegate=new Sc($c(Ue.Z.auth()))}static credential(u,d){return Sc.credential(u,d)}verifyPhoneNumber(u,d){return this._delegate.verifyPhoneNumber(u,d)}unwrap(){return this._delegate}}Vg.PHONE_SIGN_IN_METHOD=Sc.PHONE_SIGN_IN_METHOD,Vg.PROVIDER_ID=Sc.PROVIDER_ID;const nO=oe;class Ug{constructor(u,d,g=Ue.Z.app()){var C;nO(null===(C=g.options)||void 0===C?void 0:C.apiKey,"invalid-api-key",{appName:g.name}),this._delegate=new qk(g.auth(),u,d),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function rO(p){p.INTERNAL.registerComponent(new Pn.wA("auth-compat",u=>{const d=u.getProvider("app-compat").getImmediate(),g=u.getProvider("auth");return new pC(d,g)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:eu,FacebookAuthProvider:vv,GithubAuthProvider:tu,GoogleAuthProvider:xo,OAuthProvider:Cc,SAMLAuthProvider:va,PhoneAuthProvider:Vg,PhoneMultiFactorGenerator:UM,RecaptchaVerifier:Ug,TwitterAuthProvider:Sd,Auth:pC,AuthCredential:_a,Error:Z.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),p.registerVersion("@firebase/auth-compat","0.4.8")}(Ue.Z)},861:(os,pr,Ke)=>{function O(Z,$e,Pt,Jt,Pn,rr,dt){try{var se=Z[rr](dt),he=se.value}catch(Ae){return void Pt(Ae)}se.done?$e(he):Promise.resolve(he).then(Jt,Pn)}function Ue(Z){return function(){var $e=this,Pt=arguments;return new Promise(function(Jt,Pn){var rr=Z.apply($e,Pt);function dt(he){O(rr,Jt,Pn,dt,se,"next",he)}function se(he){O(rr,Jt,Pn,dt,se,"throw",he)}dt(void 0)})}}Ke.d(pr,{Z:()=>Ue})},582:(os,pr,Ke)=>{function $e(z,q){var Y={};for(var te in z)Object.prototype.hasOwnProperty.call(z,te)&&q.indexOf(te)<0&&(Y[te]=z[te]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var ce=0;for(te=Object.getOwnPropertySymbols(z);ce<te.length;ce++)q.indexOf(te[ce])<0&&Object.prototype.propertyIsEnumerable.call(z,te[ce])&&(Y[te[ce]]=z[te[ce]])}return Y}function Ae(z,q,Y,te){return new(Y||(Y=Promise))(function(K,Ce){function yt(Et){try{Se(te.next(Et))}catch(pn){Ce(pn)}}function ge(Et){try{Se(te.throw(Et))}catch(pn){Ce(pn)}}function Se(Et){Et.done?K(Et.value):function ce(K){return K instanceof Y?K:new Y(function(Ce){Ce(K)})}(Et.value).then(yt,ge)}Se((te=te.apply(z,q||[])).next())})}function en(z){return this instanceof en?(this.v=z,this):new en(z)}function Rt(z,q,Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,te=Y.apply(z,q||[]),K=[];return ce={},Ce("next"),Ce("throw"),Ce("return"),ce[Symbol.asyncIterator]=function(){return this},ce;function Ce(Yt){te[Yt]&&(ce[Yt]=function(mr){return new Promise(function(Wn,Br){K.push([Yt,mr,Wn,Br])>1||yt(Yt,mr)})})}function yt(Yt,mr){try{!function ge(Yt){Yt.value instanceof en?Promise.resolve(Yt.value.v).then(Se,Et):pn(K[0][2],Yt)}(te[Yt](mr))}catch(Wn){pn(K[0][3],Wn)}}function Se(Yt){yt("next",Yt)}function Et(Yt){yt("throw",Yt)}function pn(Yt,mr){Yt(mr),K.shift(),K.length&&yt(K[0][0],K[0][1])}}function ri(z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Y,q=z[Symbol.asyncIterator];return q?q.call(z):(z=function St(z){var q="function"==typeof Symbol&&Symbol.iterator,Y=q&&z[q],te=0;if(Y)return Y.call(z);if(z&&"number"==typeof z.length)return{next:function(){return z&&te>=z.length&&(z=void 0),{value:z&&z[te++],done:!z}}};throw new TypeError(q?"Object is not iterable.":"Symbol.iterator is not defined.")}(z),Y={},te("next"),te("throw"),te("return"),Y[Symbol.asyncIterator]=function(){return this},Y);function te(K){Y[K]=z[K]&&function(Ce){return new Promise(function(yt,ge){!function ce(K,Ce,yt,ge){Promise.resolve(ge).then(function(Se){K({value:Se,done:yt})},Ce)}(yt,ge,(Ce=z[K](Ce)).done,Ce.value)})}}}Ke.d(pr,{FC:()=>Rt,KL:()=>ri,_T:()=>$e,mG:()=>Ae,qq:()=>en}),"function"==typeof SuppressedError&&SuppressedError}},os=>{os(os.s=622)}]);