"use strict";(self.webpackChunkphotohub=self.webpackChunkphotohub||[]).push([[179],{58:(ns,fr,qe)=>{qe.d(fr,{BH:()=>zt,DV:()=>Vr,Dv:()=>$i,G6:()=>Ao,GJ:()=>Wn,L:()=>dt,LL:()=>K,P0:()=>ir,Pz:()=>Rt,Sg:()=>ei,UG:()=>re,UI:()=>lc,US:()=>Jt,Wj:()=>Ci,Wl:()=>Se,Yr:()=>Ts,ZB:()=>Ae,ZR:()=>ae,aH:()=>en,b$:()=>Nn,cI:()=>ge,dS:()=>os,eu:()=>q,g5:()=>Z,gK:()=>qn,gQ:()=>Ur,h$:()=>rr,hl:()=>G,hu:()=>Ue,jU:()=>hn,lb:()=>wi,m9:()=>pc,ne:()=>is,p$:()=>he,pd:()=>zl,r3:()=>Lr,ru:()=>tn,tV:()=>oe,uI:()=>or,ug:()=>Ds,vZ:()=>rs,w1:()=>To,w9:()=>mr,xO:()=>Hl,xb:()=>vi,z$:()=>nt,zd:()=>ao});const I={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Ue=function(R,T){if(!R)throw Z(T)},Z=function(R){return new Error("Firebase Database ("+I.SDK_VERSION+") INTERNAL ASSERT FAILED: "+R)},$e=function(R){const T=[];let S=0;for(let J=0;J<R.length;J++){let U=R.charCodeAt(J);U<128?T[S++]=U:U<2048?(T[S++]=U>>6|192,T[S++]=63&U|128):55296==(64512&U)&&J+1<R.length&&56320==(64512&R.charCodeAt(J+1))?(U=65536+((1023&U)<<10)+(1023&R.charCodeAt(++J)),T[S++]=U>>18|240,T[S++]=U>>12&63|128,T[S++]=U>>6&63|128,T[S++]=63&U|128):(T[S++]=U>>12|224,T[S++]=U>>6&63|128,T[S++]=63&U|128)}return T},Jt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(R,T){if(!Array.isArray(R))throw Error("encodeByteArray takes an array as a parameter");this.init_();const S=T?this.byteToCharMapWebSafe_:this.byteToCharMap_,J=[];for(let U=0;U<R.length;U+=3){const H=R[U],ze=U+1<R.length,Mt=ze?R[U+1]:0,Ke=U+2<R.length,rn=Ke?R[U+2]:0;let sr=(15&Mt)<<2|rn>>6,Ut=63&rn;Ke||(Ut=64,ze||(sr=64)),J.push(S[H>>2],S[(3&H)<<4|Mt>>4],S[sr],S[Ut])}return J.join("")},encodeString(R,T){return this.HAS_NATIVE_SUPPORT&&!T?btoa(R):this.encodeByteArray($e(R),T)},decodeString(R,T){return this.HAS_NATIVE_SUPPORT&&!T?atob(R):function(R){const T=[];let S=0,J=0;for(;S<R.length;){const U=R[S++];if(U<128)T[J++]=String.fromCharCode(U);else if(U>191&&U<224){const H=R[S++];T[J++]=String.fromCharCode((31&U)<<6|63&H)}else if(U>239&&U<365){const Ke=((7&U)<<18|(63&R[S++])<<12|(63&R[S++])<<6|63&R[S++])-65536;T[J++]=String.fromCharCode(55296+(Ke>>10)),T[J++]=String.fromCharCode(56320+(1023&Ke))}else{const H=R[S++],ze=R[S++];T[J++]=String.fromCharCode((15&U)<<12|(63&H)<<6|63&ze)}}return T.join("")}(this.decodeStringToByteArray(R,T))},decodeStringToByteArray(R,T){this.init_();const S=T?this.charToByteMapWebSafe_:this.charToByteMap_,J=[];for(let U=0;U<R.length;){const H=S[R.charAt(U++)],Mt=U<R.length?S[R.charAt(U)]:0;++U;const rn=U<R.length?S[R.charAt(U)]:64;++U;const Re=U<R.length?S[R.charAt(U)]:64;if(++U,null==H||null==Mt||null==rn||null==Re)throw new Pn;J.push(H<<2|Mt>>4),64!==rn&&(J.push(Mt<<4&240|rn>>2),64!==Re&&J.push(rn<<6&192|Re))}return J},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let R=0;R<this.ENCODED_VALS.length;R++)this.byteToCharMap_[R]=this.ENCODED_VALS.charAt(R),this.charToByteMap_[this.byteToCharMap_[R]]=R,this.byteToCharMapWebSafe_[R]=this.ENCODED_VALS_WEBSAFE.charAt(R),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[R]]=R,R>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(R)]=R,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(R)]=R)}}};class Pn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rr=function(R){const T=$e(R);return Jt.encodeByteArray(T,!0)},dt=function(R){return rr(R).replace(/\./g,"")},oe=function(R){try{return Jt.decodeString(R,!0)}catch(T){console.error("base64Decode failed: ",T)}return null};function he(R){return Ae(void 0,R)}function Ae(R,T){if(!(T instanceof Object))return T;switch(T.constructor){case Date:return new Date(T.getTime());case Object:void 0===R&&(R={});break;case Array:R=[];break;default:return T}for(const S in T)!T.hasOwnProperty(S)||!ct(S)||(R[S]=Ae(R[S],T[S]));return R}function ct(R){return"__proto__"!==R}const tt=()=>{try{return function It(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const R=process.env.__FIREBASE_DEFAULTS__;return R?JSON.parse(R):void 0})()||(()=>{if(typeof document>"u")return;let R;try{R=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const T=R&&oe(R[1]);return T&&JSON.parse(T)})()}catch(R){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${R}`)}},ir=R=>{const T=(R=>{var T,S;return null===(S=null===(T=tt())||void 0===T?void 0:T.emulatorHosts)||void 0===S?void 0:S[R]})(R);if(!T)return;const S=T.lastIndexOf(":");if(S<=0||S+1===T.length)throw new Error(`Invalid host ${T} with no separate hostname and port!`);const J=parseInt(T.substring(S+1),10);return"["===T[0]?[T.substring(1,S-1),J]:[T.substring(0,S),J]},en=()=>{var R;return null===(R=tt())||void 0===R?void 0:R.config},Rt=R=>{var T;return null===(T=tt())||void 0===T?void 0:T[`_${R}`]};class zt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((T,S)=>{this.resolve=T,this.reject=S})}wrapCallback(T){return(S,J)=>{S?this.reject(S):this.resolve(J),"function"==typeof T&&(this.promise.catch(()=>{}),1===T.length?T(S):T(S,J))}}}function ei(R,T){if(R.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const J=T||"demo-project",U=R.iat||0,H=R.sub||R.user_id;if(!H)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ze=Object.assign({iss:`https://securetoken.google.com/${J}`,aud:J,iat:U,exp:U+3600,auth_time:U,sub:H,user_id:H,firebase:{sign_in_provider:"custom",identities:{}}},R);return[dt(JSON.stringify({alg:"none",type:"JWT"})),dt(JSON.stringify(ze)),""].join(".")}function nt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function or(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nt())}function re(){var R;const T=null===(R=tt())||void 0===R?void 0:R.forceEnvironment;if("node"===T)return!0;if("browser"===T)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function hn(){return"object"==typeof self&&self.self===self}function tn(){const R="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof R&&void 0!==R.id}function Nn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function To(){const R=nt();return R.indexOf("MSIE ")>=0||R.indexOf("Trident/")>=0}function Ts(){return!0===I.NODE_CLIENT||!0===I.NODE_ADMIN}function Ao(){return!re()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function G(){try{return"object"==typeof indexedDB}catch{return!1}}function q(){return new Promise((R,T)=>{try{let S=!0;const J="validate-browser-context-for-indexeddb-analytics-module",U=self.indexedDB.open(J);U.onsuccess=()=>{U.result.close(),S||self.indexedDB.deleteDatabase(J),R(!0)},U.onupgradeneeded=()=>{S=!1},U.onerror=()=>{var H;T((null===(H=U.error)||void 0===H?void 0:H.message)||"")}}catch(S){T(S)}})}class ae extends Error{constructor(T,S,J){super(S),this.code=T,this.customData=J,this.name="FirebaseError",Object.setPrototypeOf(this,ae.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,K.prototype.create)}}class K{constructor(T,S,J){this.service=T,this.serviceName=S,this.errors=J}create(T,...S){const J=S[0]||{},U=`${this.service}/${T}`,H=this.errors[T],ze=H?function Ce(R,T){return R.replace(yt,(S,J)=>{const U=T[J];return null!=U?String(U):`<${J}?>`})}(H,J):"Error";return new ae(U,`${this.serviceName}: ${ze} (${U}).`,J)}}const yt=/\{\$([^}]+)}/g;function ge(R){return JSON.parse(R)}function Se(R){return JSON.stringify(R)}const Et=function(R){let T={},S={},J={},U="";try{const H=R.split(".");T=ge(oe(H[0])||""),S=ge(oe(H[1])||""),U=H[2],J=S.d||{},delete S.d}catch{}return{header:T,claims:S,data:J,signature:U}},mr=function(R){const S=Et(R).claims;return!!S&&"object"==typeof S&&S.hasOwnProperty("iat")},Wn=function(R){const T=Et(R).claims;return"object"==typeof T&&!0===T.admin};function Lr(R,T){return Object.prototype.hasOwnProperty.call(R,T)}function Vr(R,T){if(Object.prototype.hasOwnProperty.call(R,T))return R[T]}function vi(R){for(const T in R)if(Object.prototype.hasOwnProperty.call(R,T))return!1;return!0}function lc(R,T,S){const J={};for(const U in R)Object.prototype.hasOwnProperty.call(R,U)&&(J[U]=T.call(S,R[U],U,R));return J}function rs(R,T){if(R===T)return!0;const S=Object.keys(R),J=Object.keys(T);for(const U of S){if(!J.includes(U))return!1;const H=R[U],ze=T[U];if(Fn(H)&&Fn(ze)){if(!rs(H,ze))return!1}else if(H!==ze)return!1}for(const U of J)if(!S.includes(U))return!1;return!0}function Fn(R){return null!==R&&"object"==typeof R}function Hl(R){const T=[];for(const[S,J]of Object.entries(R))Array.isArray(J)?J.forEach(U=>{T.push(encodeURIComponent(S)+"="+encodeURIComponent(U))}):T.push(encodeURIComponent(S)+"="+encodeURIComponent(J));return T.length?"&"+T.join("&"):""}function ao(R){const T={};return R.replace(/^\?/,"").split("&").forEach(J=>{if(J){const[U,H]=J.split("=");T[decodeURIComponent(U)]=decodeURIComponent(H)}}),T}function zl(R){const T=R.indexOf("?");if(!T)return"";const S=R.indexOf("#",T);return R.substring(T,S>0?S:void 0)}class Ur{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let T=1;T<this.blockSize;++T)this.pad_[T]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(T,S){S||(S=0);const J=this.W_;if("string"==typeof T)for(let Re=0;Re<16;Re++)J[Re]=T.charCodeAt(S)<<24|T.charCodeAt(S+1)<<16|T.charCodeAt(S+2)<<8|T.charCodeAt(S+3),S+=4;else for(let Re=0;Re<16;Re++)J[Re]=T[S]<<24|T[S+1]<<16|T[S+2]<<8|T[S+3],S+=4;for(let Re=16;Re<80;Re++){const sr=J[Re-3]^J[Re-8]^J[Re-14]^J[Re-16];J[Re]=4294967295&(sr<<1|sr>>>31)}let rn,Pi,U=this.chain_[0],H=this.chain_[1],ze=this.chain_[2],Mt=this.chain_[3],Ke=this.chain_[4];for(let Re=0;Re<80;Re++){Re<40?Re<20?(rn=Mt^H&(ze^Mt),Pi=1518500249):(rn=H^ze^Mt,Pi=1859775393):Re<60?(rn=H&ze|Mt&(H|ze),Pi=2400959708):(rn=H^ze^Mt,Pi=3395469782);const sr=(U<<5|U>>>27)+rn+Ke+Pi+J[Re]&4294967295;Ke=Mt,Mt=ze,ze=4294967295&(H<<30|H>>>2),H=U,U=sr}this.chain_[0]=this.chain_[0]+U&4294967295,this.chain_[1]=this.chain_[1]+H&4294967295,this.chain_[2]=this.chain_[2]+ze&4294967295,this.chain_[3]=this.chain_[3]+Mt&4294967295,this.chain_[4]=this.chain_[4]+Ke&4294967295}update(T,S){if(null==T)return;void 0===S&&(S=T.length);const J=S-this.blockSize;let U=0;const H=this.buf_;let ze=this.inbuf_;for(;U<S;){if(0===ze)for(;U<=J;)this.compress_(T,U),U+=this.blockSize;if("string"==typeof T){for(;U<S;)if(H[ze]=T.charCodeAt(U),++ze,++U,ze===this.blockSize){this.compress_(H),ze=0;break}}else for(;U<S;)if(H[ze]=T[U],++ze,++U,ze===this.blockSize){this.compress_(H),ze=0;break}}this.inbuf_=ze,this.total_+=S}digest(){const T=[];let S=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let U=this.blockSize-1;U>=56;U--)this.buf_[U]=255&S,S/=256;this.compress_(this.buf_);let J=0;for(let U=0;U<5;U++)for(let H=24;H>=0;H-=8)T[J]=this.chain_[U]>>H&255,++J;return T}}function is(R,T){const S=new As(R,T);return S.subscribe.bind(S)}class As{constructor(T,S){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=S,this.task.then(()=>{T(this)}).catch(J=>{this.error(J)})}next(T){this.forEachObserver(S=>{S.next(T)})}error(T){this.forEachObserver(S=>{S.error(T)}),this.close(T)}complete(){this.forEachObserver(T=>{T.complete()}),this.close()}subscribe(T,S,J){let U;if(void 0===T&&void 0===S&&void 0===J)throw new Error("Missing Observer.");U=function fa(R,T){if("object"!=typeof R||null===R)return!1;for(const S of T)if(S in R&&"function"==typeof R[S])return!0;return!1}(T,["next","error","complete"])?T:{next:T,error:S,complete:J},void 0===U.next&&(U.next=nn),void 0===U.error&&(U.error=nn),void 0===U.complete&&(U.complete=nn);const H=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?U.error(this.finalError):U.complete()}catch{}}),this.observers.push(U),H}unsubscribeOne(T){void 0===this.observers||void 0===this.observers[T]||(delete this.observers[T],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(T){if(!this.finalized)for(let S=0;S<this.observers.length;S++)this.sendOne(S,T)}sendOne(T,S){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[T])try{S(this.observers[T])}catch(J){typeof console<"u"&&console.error&&console.error(J)}})}close(T){this.finalized||(this.finalized=!0,void 0!==T&&(this.finalError=T),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nn(){}const $i=function(R,T,S,J){let U;if(J<T?U="at least "+T:J>S&&(U=0===S?"none":"no more than "+S),U)throw new Error(R+" failed: Was called with "+J+(1===J?" argument.":" arguments.")+" Expects "+U+".")};function qn(R,T){return`${R} failed: ${T} argument `}function Ci(R,T,S,J){if((!J||S)&&"function"!=typeof S)throw new Error(qn(R,T)+"must be a valid function.")}function wi(R,T,S,J){if((!J||S)&&("object"!=typeof S||null===S))throw new Error(qn(R,T)+"must be a valid context object.")}const os=function(R){const T=[];let S=0;for(let J=0;J<R.length;J++){let U=R.charCodeAt(J);if(U>=55296&&U<=56319){const H=U-55296;J++,Ue(J<R.length,"Surrogate pair missing trail surrogate."),U=65536+(H<<10)+(R.charCodeAt(J)-56320)}U<128?T[S++]=U:U<2048?(T[S++]=U>>6|192,T[S++]=63&U|128):U<65536?(T[S++]=U>>12|224,T[S++]=U>>6&63|128,T[S++]=63&U|128):(T[S++]=U>>18|240,T[S++]=U>>12&63|128,T[S++]=U>>6&63|128,T[S++]=63&U|128)}return T},Ds=function(R){let T=0;for(let S=0;S<R.length;S++){const J=R.charCodeAt(S);J<128?T++:J<2048?T+=2:J>=55296&&J<=56319?(T+=4,S++):T+=3}return T};function pc(R){return R&&R._delegate?R._delegate:R}},907:(ns,fr,qe)=>{function I(t){return"function"==typeof t}function Ue(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Z=Ue(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function $e(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Pt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(I(r))try{r()}catch(o){e=o instanceof Z?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{rr(o)}catch(s){e=e??[],s instanceof Z?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Z(e)}}add(e){var n;if(e&&e!==this)if(this.closed)rr(e);else{if(e instanceof Pt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&$e(n,e)}remove(e){const{_finalizers:n}=this;n&&$e(n,e),e instanceof Pt&&e._removeParent(this)}}Pt.EMPTY=(()=>{const t=new Pt;return t.closed=!0,t})();const Jt=Pt.EMPTY;function Pn(t){return t instanceof Pt||t&&"closed"in t&&I(t.remove)&&I(t.add)&&I(t.unsubscribe)}function rr(t){I(t)?t():t.unsubscribe()}const dt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},oe={setTimeout(t,e,...n){const{delegate:r}=oe;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=oe;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function he(t){oe.setTimeout(()=>{const{onUnhandledError:e}=dt;if(!e)throw t;e(t)})}function Ae(){}const ct=St("C",void 0,void 0);function St(t,e,n){return{kind:t,value:e,error:n}}let He=null;function tt(t){if(dt.useDeprecatedSynchronousErrorHandling){const e=!He;if(e&&(He={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=He;if(He=null,n)throw r}}else t()}class ir extends Pt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Pn(e)&&e.add(this)):this.destination=hn}static create(e,n,r){return new ei(e,n,r)}next(e){this.isStopped?re(function pr(t){return St("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?re(function It(t){return St("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?re(ct,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const en=Function.prototype.bind;function Rt(t,e){return en.call(t,e)}class zt{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){nt(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){nt(r)}else nt(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){nt(n)}}}class ei extends ir{constructor(e,n,r){let i;if(super(),I(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&dt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Rt(e.next,o),error:e.error&&Rt(e.error,o),complete:e.complete&&Rt(e.complete,o)}):i=e}this.destination=new zt(i)}}function nt(t){dt.useDeprecatedSynchronousErrorHandling?function gr(t){dt.useDeprecatedSynchronousErrorHandling&&He&&(He.errorThrown=!0,He.error=t)}(t):he(t)}function re(t,e){const{onStoppedNotification:n}=dt;n&&oe.setTimeout(()=>n(t,e))}const hn={closed:!0,next:Ae,error:function or(t){throw t},complete:Ae},tn="function"==typeof Symbol&&Symbol.observable||"@@observable";function Nn(t){return t}function To(t){return 0===t.length?Nn:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let st=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function G(t){return t&&t instanceof ir||function Ao(t){return t&&I(t.next)&&I(t.error)&&I(t.complete)}(t)&&Pn(t)}(n)?n:new ei(n,r,i);return tt(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Ts(r))((i,o)=>{const s=new ei({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[tn](){return this}pipe(...n){return To(n)(this)}toPromise(n){return new(n=Ts(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Ts(t){var e;return null!==(e=t??dt.Promise)&&void 0!==e?e:Promise}const q=Ue(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Q=(()=>{class t extends st{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new te(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new q}next(n){tt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){tt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){tt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?Jt:(this.currentObservers=null,o.push(n),new Pt(()=>{this.currentObservers=null,$e(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new st;return n.source=this,n}}return t.create=(e,n)=>new te(e,n),t})();class te extends Q{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Jt}}function ae(t){return I(t?.lift)}function K(t){return e=>{if(ae(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ce(t,e,n,r,i){return new yt(t,e,n,r,i)}class yt extends ir{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ge(t,e){return K((n,r)=>{let i=0;n.subscribe(Ce(r,o=>{r.next(t.call(e,o,i++))}))})}var Se=qe(582);const Et=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function fn(t){return I(t?.then)}function Qt(t){return I(t[tn])}function mr(t){return Symbol.asyncIterator&&I(t?.[Symbol.asyncIterator])}function Wn(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Vr=function Lr(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function vi(t){return I(t?.[Vr])}function lc(t){return(0,Se.FC)(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield(0,Se.qq)(n.read());if(i)return yield(0,Se.qq)(void 0);yield yield(0,Se.qq)(r)}}finally{n.releaseLock()}})}function rs(t){return I(t?.getReader)}function Fn(t){if(t instanceof st)return t;if(null!=t){if(Qt(t))return function uc(t){return new st(e=>{const n=t[tn]();if(I(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Et(t))return function Hl(t){return new st(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(fn(t))return function ao(t){return new st(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,he)})}(t);if(mr(t))return Ur(t);if(vi(t))return function zl(t){return new st(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(rs(t))return function is(t){return Ur(lc(t))}(t)}throw Wn(t)}function Ur(t){return new st(e=>{(function As(t,e){var n,r,i,o;return(0,Se.mG)(this,void 0,void 0,function*(){try{for(n=(0,Se.KL)(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Or(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function nn(t,e,n=1/0){return I(e)?nn((r,i)=>ge((o,s)=>e(r,o,i,s))(Fn(t(r,i))),n):("number"==typeof e&&(n=e),K((r,i)=>function fa(t,e,n,r,i,o,s,a){const c=[];let l=0,h=0,p=!1;const m=()=>{p&&!c.length&&!l&&e.complete()},v=O=>l<r?E(O):c.push(O),E=O=>{o&&e.next(O),l++;let b=!1;Fn(n(O,h++)).subscribe(Ce(e,F=>{i?.(F),o?v(F):e.next(F)},()=>{b=!0},void 0,()=>{if(b)try{for(l--;c.length&&l<r;){const F=c.shift();s?Or(e,s,()=>E(F)):E(F)}m()}catch(F){e.error(F)}}))};return t.subscribe(Ce(e,v,()=>{p=!0,m()})),()=>{a?.()}}(r,i,t,n)))}function $i(t=1/0){return nn(Nn,t)}const qn=new st(t=>t.complete());function os(t){return t[t.length-1]}function Ds(t){return I(os(t))?t.pop():void 0}function Ss(t){return function wi(t){return t&&I(t.schedule)}(os(t))?t.pop():void 0}function _r(t,e=0){return K((n,r)=>{n.subscribe(Ce(r,i=>Or(r,t,()=>r.next(i),e),()=>Or(r,t,()=>r.complete(),e),i=>Or(r,t,()=>r.error(i),e)))})}function Br(t,e=0){return K((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function pc(t,e){if(!t)throw new Error("Iterable cannot be null");return new st(n=>{Or(n,e,()=>{const r=t[Symbol.asyncIterator]();Or(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function S(t,e){return e?function T(t,e){if(null!=t){if(Qt(t))return function Rs(t,e){return Fn(t).pipe(Br(e),_r(e))}(t,e);if(Et(t))return function Od(t,e){return new st(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(fn(t))return function fc(t,e){return Fn(t).pipe(Br(e),_r(e))}(t,e);if(mr(t))return pc(t,e);if(vi(t))return function Gl(t,e){return new st(n=>{let r;return Or(n,e,()=>{r=t[Vr](),Or(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>I(r?.return)&&r.return()})}(t,e);if(rs(t))return function R(t,e){return pc(lc(t),e)}(t,e)}throw Wn(t)}(t,e):Fn(t)}function J(...t){const e=Ss(t),n=function hc(t,e){return"number"==typeof os(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Fn(r[0]):$i(n)(S(r,e)):qn}class U extends Q{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function H(...t){return S(t,Ss(t))}function ze(t={}){const{connector:e=(()=>new Q),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,c,l=0,h=!1,p=!1;const m=()=>{a?.unsubscribe(),a=void 0},v=()=>{m(),s=c=void 0,h=p=!1},E=()=>{const O=s;v(),O?.unsubscribe()};return K((O,b)=>{l++,!p&&!h&&m();const F=c=c??e();b.add(()=>{l--,0===l&&!p&&!h&&(a=Mt(E,i))}),F.subscribe(b),!s&&l>0&&(s=new ei({next:x=>F.next(x),error:x=>{p=!0,m(),a=Mt(v,n,x),F.error(x)},complete:()=>{h=!0,m(),a=Mt(v,r),F.complete()}}),Fn(O).subscribe(s))})(o)}}function Mt(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new ei({next:()=>{r.unsubscribe(),t()}});return Fn(e(...n)).subscribe(r)}function Ke(t,e){return K((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(Ce(r,c=>{i?.unsubscribe();let l=0;const h=o++;Fn(t(c,h)).subscribe(i=Ce(r,p=>r.next(e?e(c,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function rn(t,e=Nn){return t=t??Pi,K((n,r)=>{let i,o=!0;n.subscribe(Ce(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function Pi(t,e){return t===e}function Re(t){for(let e in t)if(t[e]===Re)return e;throw Error("Could not find renamed property on target object.")}function sr(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ut(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ut).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function ss(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const pa=Re({__forward_ref__:Re});function j(t){return t.__forward_ref__=j,t.toString=function(){return Ut(this())},t}function N(t){return ue(t)?t():t}function ue(t){return"function"==typeof t&&t.hasOwnProperty(pa)&&t.__forward_ref__===j}function xe(t){return t&&!!t.\u0275providers}const lt="https://g.co/ng/security#xss";class Y extends Error{constructor(e,n){super(function Kn(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function De(t){return"string"==typeof t?t:null==t?"":String(t)}function Ap(t,e){throw new Y(-201,!1)}function ti(t,e){null==t&&function Be(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function be(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Zn(t){return{providers:t.providers||[],imports:t.imports||[]}}function ql(t){return ga(t,Kl)||ga(t,lv)}function ga(t,e){return t.hasOwnProperty(e)?t[e]:null}function gc(t){return t&&(t.hasOwnProperty(Zl)||t.hasOwnProperty(Rp))?t[Zl]:null}const Kl=Re({\u0275prov:Re}),Zl=Re({\u0275inj:Re}),lv=Re({ngInjectableDef:Re}),Rp=Re({ngInjectorDef:Re});var ft=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ft||{});let Ql;function br(t){const e=Ql;return Ql=t,e}function uv(t,e,n){const r=ql(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ft.Optional?null:void 0!==e?e:void Ap(Ut(t))}const Gt=globalThis,ni={},Lp="__NG_DI_FLAG__",mc="ngTempTokenPath",Vp=/\n/gm,Ad="__source";let _c;function Do(t){const e=_c;return _c=t,e}function ma(t,e=ft.Default){if(void 0===_c)throw new Y(-203,!1);return null===_c?uv(t,void 0,e):_c.get(t,e&ft.Optional?null:void 0,e)}function ee(t,e=ft.Default){return(function Yl(){return Ql}()||ma)(N(t),e)}function we(t,e=ft.Default){return ee(t,Up(e))}function Up(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Jl(t){const e=[];for(let n=0;n<t.length;n++){const r=N(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Y(900,!1);let i,o=ft.Default;for(let s=0;s<r.length;s++){const a=r[s],c=yc(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}e.push(ee(i,o))}else e.push(ee(r))}return e}function Mi(t,e){return t[Lp]=e,t.prototype[Lp]=e,t}function yc(t){return t[Lp]}function So(t){return{toString:t}.toString()}var eu=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(eu||{}),co=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(co||{});const jr={},Ot=[],_a=Re({\u0275cmp:Re}),Dd=Re({\u0275dir:Re}),Sd=Re({\u0275pipe:Re}),Rd=Re({\u0275mod:Re}),Ln=Re({\u0275fac:Re}),Cc=Re({__NG_ELEMENT_ID__:Re}),_v=Re({__NG_ENV_ID__:Re});function xd(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function wc(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];jp(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function Bp(t){return 3===t||4===t||6===t}function jp(t){return 64===t.charCodeAt(0)}function tu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||kd(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function kd(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const Nd="ng-template";function $p(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==xd(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function nu(t){return 4===t.type&&t.value!==Nd}function Hp(t,e,n){return e===(4!==t.type||n?t.value:Nd)}function yv(t,e,n){let r=4;const i=t.attrs||[],o=function zp(t){for(let e=0;e<t.length;e++)if(Bp(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!Hp(t,c,n)||""===c&&1===e.length){if(Ii(r))return!1;s=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!$p(t.attrs,l,n)){if(Ii(r))return!1;s=!0}continue}const p=vv(8&r?"class":c,i,nu(t),n);if(-1===p){if(Ii(r))return!1;s=!0;continue}if(""!==l){let m;m=p>o?"":i[p+1].toLowerCase();const v=8&r?m:null;if(v&&-1!==xd(v,l,0)||2&r&&l!==m){if(Ii(r))return!1;s=!0}}}}else{if(!s&&!Ii(r)&&!Ii(c))return!1;if(s&&Ii(c))continue;s=!1,r=c|1&r}}return Ii(r)||s}function Ii(t){return 0==(1&t)}function vv(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function Cv(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Fd(t,e,n=!1){for(let r=0;r<e.length;r++)if(yv(t,e[r],n))return!0;return!1}function Gp(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Wp(t,e){return t?":not("+e.trim()+")":e}function qp(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Ii(s)&&(e+=Wp(o,i),i=""),r=s,o=o||!Ii(r);n++}return""!==i&&(e+=Wp(o,i)),e}function xt(t){return So(()=>{const e=Yp(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===eu.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||co.Emulated,styles:t.styles||Ot,_:null,schemas:t.schemas||null,tView:null,id:""};Bd(n);const r=t.dependencies;return n.directiveDefs=jd(r,!1),n.pipeDefs=jd(r,!0),n.id=function rM(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function ru(t){return mt(t)||yr(t)}function Qp(t){return null!==t}function Vn(t){return So(()=>({type:t.type,bootstrap:t.bootstrap||Ot,declarations:t.declarations||Ot,imports:t.imports||Ot,exports:t.exports||Ot,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ud(t,e){if(null==t)return jr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function Ve(t){return So(()=>{const e=Yp(t);return Bd(e),e})}function mt(t){return t[_a]||null}function yr(t){return t[Dd]||null}function vr(t){return t[Sd]||null}function $r(t,e){const n=t[Rd]||null;if(!n&&!0===e)throw new Error(`Type ${Ut(t)} does not have '\u0275mod' property.`);return n}function Yp(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||jr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Ot,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ud(t.inputs,e),outputs:Ud(t.outputs)}}function Bd(t){t.features?.forEach(e=>e(t))}function jd(t,e){if(!t)return null;const n=e?vr:ru;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(Qp)}const on=0,Pe=1,Qe=2,Wt=3,lo=4,iu=5,ar=6,Ec=7,gn=8,ks=9,Ns=10,Ge=11,ya=12,wv=13,Fs=14,Dn=15,va=16,Mc=17,Hi=18,ou=19,Pv=20,cs=21,uo=22,su=23,Ro=24,ut=25,Jp=1,Ev=2,xo=7,au=9,Tr=11;function ii(t){return Array.isArray(t)&&"object"==typeof t[Jp]}function Hr(t){return Array.isArray(t)&&!0===t[Jp]}function Iv(t){return 0!=(4&t.flags)}function Ic(t){return t.componentOffset>-1}function eg(t){return 1==(1&t.flags)}function ko(t){return!!t.template}function Ov(t){return 0!=(512&t[Qe])}function Pa(t,e){return t.hasOwnProperty(Ln)?t[Ln]:null}let Cr=null,Oc=!1;function Gi(t){const e=Cr;return Cr=t,e}const zd={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Sv(t){if(!Ma(t)||t.dirty){if(!t.producerMustRecompute(t)&&!uu(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function lu(t){t.dirty=!0,function rg(t){if(void 0===t.liveConsumerNode)return;const e=Oc;Oc=!0;try{for(const n of t.liveConsumerNode)n.dirty||lu(n)}finally{Oc=e}}(t),t.consumerMarkedDirty?.(t)}function Gd(t){return t&&(t.nextProducerIndex=0),Gi(t)}function Ea(t,e){if(Gi(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Ma(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)du(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function uu(t){bc(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Sv(n),r!==n.version))return!0}return!1}function Rv(t){if(bc(t),Ma(t))for(let e=0;e<t.producerNode.length;e++)du(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function du(t,e){if(function qd(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),bc(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)du(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];bc(i),i.producerIndexOfThis[r]=e}}function Ma(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function bc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let xv=null;const cg=()=>{},gM=(()=>({...zd,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:cg}))();class mM{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function oi(){return Fv}function Fv(t){return t.type.prototype.ngOnChanges&&(t.setInput=_M),lg}function lg(){const t=Lv(this),e=t?.current;if(e){const n=t.previous;if(n===jr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function _M(t,e,n,r){const i=this.declaredInputs[n],o=Lv(t)||function ug(t,e){return t[Zd]=e}(t,{previous:jr,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new mM(c&&c.currentValue,e,a===jr),t[r]=e}oi.ngInherit=!0;const Zd="__ngSimpleChanges__";function Lv(t){return t[Zd]||null}const No=function(t,e,n){};function bt(t){for(;Array.isArray(t);)t=t[on];return t}function Yd(t,e){return bt(e[t])}function si(t,e){return bt(e[t.index])}function Xd(t,e){return t.data[e]}function Oi(t,e){const n=e[t];return ii(n)?n:n[on]}function Fo(t,e){return null==e?null:t[e]}function Vv(t){t[Mc]=0}function fg(t){1024&t[Qe]||(t[Qe]|=1024,Uv(t,1))}function Jd(t){1024&t[Qe]&&(t[Qe]&=-1025,Uv(t,-1))}function Uv(t,e){let n=t[Wt];if(null===n)return;n[iu]+=e;let r=n;for(n=n[Wt];null!==n&&(1===e&&1===r[iu]||-1===e&&0===r[iu]);)n[iu]+=e,r=n,n=n[Wt]}const je={lFrame:Gv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function mg(){return je.bindingsEnabled}function Oa(){return null!==je.skipHydrationRootTNode}function se(){return je.lFrame.lView}function Ct(){return je.lFrame.tView}function bi(t){return je.lFrame.contextLView=t,t[gn]}function zr(t){return je.lFrame.contextLView=null,t}function wr(){let t=th();for(;null!==t&&64===t.type;)t=t.parent;return t}function th(){return je.lFrame.currentTNode}function Wi(t,e){const n=je.lFrame;n.currentTNode=t,n.isParent=e}function nh(){return je.lFrame.isParent}function fu(){je.lFrame.isParent=!1}function Ar(){const t=je.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Vs(){return je.lFrame.bindingIndex++}function Cg(t,e){const n=je.lFrame;n.bindingIndex=n.bindingRootIndex=t,wg(e)}function wg(t){je.lFrame.currentDirectiveIndex=t}function $v(){return je.lFrame.currentQueryIndex}function Rc(t){je.lFrame.currentQueryIndex=t}function SM(t){const e=t[Pe];return 2===e.type?e.declTNode:1===e.type?t[ar]:null}function Hv(t,e,n){if(n&ft.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&ft.Host||(i=SM(o),null===i||(o=o[Fs],10&i.type))););if(null===i)return!1;e=i,t=o}const r=je.lFrame=zv();return r.currentTNode=e,r.lView=t,!0}function Pg(t){const e=zv(),n=t[Pe];je.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function zv(){const t=je.lFrame,e=null===t?null:t.child;return null===e?Gv(t):e}function Gv(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Wv(){const t=je.lFrame;return je.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const qv=Wv;function Eg(){const t=Wv();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Gr(){return je.lFrame.selectedIndex}function ba(t){je.lFrame.selectedIndex=t}function mn(){const t=je.lFrame;return Xd(t.tView,t.selectedIndex)}let Qv=!0;function ih(){return Qv}function Lo(t){Qv=t}function oh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=h&&(t.destroyHooks??=[]).push(n,h)}}function xc(t,e,n){Yv(t,e,3,n)}function sh(t,e,n,r){(3&t[Qe])===n&&Yv(t,e,n,r)}function ah(t,e){let n=t[Qe];(3&n)===e&&(n&=8191,n+=1,t[Qe]=n)}function Yv(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let c=void 0!==r?65535&t[Mc]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[Mc]+=65536),(a<o||-1==o)&&(FM(t,n,e,c),t[Mc]=(4294901760&t[Mc])+c+2),c++}function ch(t,e){No(4,t,e);const n=Gi(null);try{e.call(t)}finally{Gi(n),No(5,t,e)}}function FM(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[Qe]>>13<t[Mc]>>16&&(3&t[Qe])===e&&(t[Qe]+=8192,ch(a,o)):ch(a,o)}const pu=-1;class Ta{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function bg(t){return t!==pu}function kc(t){return 32767&t}function uh(t,e){let n=function BM(t){return t>>16}(t),r=e;for(;n>0;)r=r[Fs],n--;return r}let ds=!0;function dh(t){const e=ds;return ds=t,e}const hh=255,Jv=5;let Tg=0;const Vo={};function Nc(t,e){const n=eC(t,e);if(-1!==n)return n;const r=e[Pe];r.firstCreatePass&&(t.injectorIndex=e.length,Ag(r.data,t),Ag(e,null),Ag(r.blueprint,null));const i=Fc(t,e),o=t.injectorIndex;if(bg(i)){const s=kc(i),a=uh(i,e),c=a[Pe].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Ag(t,e){t.push(0,0,0,0,0,0,0,0,e)}function eC(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Fc(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=oC(i),null===r)return pu;if(n++,i=i[Fs],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return pu}function Dg(t,e,n){!function jM(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Cc)&&(r=n[Cc]),null==r&&(r=n[Cc]=Tg++);const i=r&hh;e.data[t+(i>>Jv)]|=1<<i}(t,e,n)}function tC(t,e,n){if(n&ft.Optional||void 0!==t)return t;Ap()}function nC(t,e,n,r){if(n&ft.Optional&&void 0===r&&(r=null),!(n&(ft.Self|ft.Host))){const i=t[ks],o=br(void 0);try{return i?i.get(e,r,n&ft.Optional):uv(e,r,n&ft.Optional)}finally{br(o)}}return tC(r,0,n)}function rC(t,e,n,r=ft.Default,i){if(null!==t){if(2048&e[Qe]&&!(r&ft.Self)){const s=function zM(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[Qe]&&!(512&s[Qe]);){const a=Sg(o,s,n,r|ft.Self,Vo);if(a!==Vo)return a;let c=o.parent;if(!c){const l=s[Pv];if(l){const h=l.get(n,Vo,r);if(h!==Vo)return h}c=oC(s),s=s[Fs]}o=c}return i}(t,e,n,r,Vo);if(s!==Vo)return s}const o=Sg(t,e,n,r,Vo);if(o!==Vo)return o}return nC(e,n,r,i)}function Sg(t,e,n,r,i){const o=function xg(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Cc)?t[Cc]:void 0;return"number"==typeof e?e>=0?e&hh:HM:e}(n);if("function"==typeof o){if(!Hv(e,t,r))return r&ft.Host?tC(i,0,r):nC(e,n,r,i);try{let s;if(s=o(r),null!=s||r&ft.Optional)return s;Ap()}finally{qv()}}else if("number"==typeof o){let s=null,a=eC(t,e),c=pu,l=r&ft.Host?e[Dn][ar]:null;for((-1===a||r&ft.SkipSelf)&&(c=-1===a?Fc(t,e):e[a+8],c!==pu&&iC(r,!1)?(s=e[Pe],a=kc(c),e=uh(c,e)):a=-1);-1!==a;){const h=e[Pe];if(ph(o,a,h.data)){const p=Rg(a,e,n,s,r,l);if(p!==Vo)return p}c=e[a+8],c!==pu&&iC(r,e[Pe].data[a+8]===l)&&ph(o,a,e)?(s=h,a=kc(c),e=uh(c,e)):a=-1}}return i}function Rg(t,e,n,r,i,o){const s=e[Pe],a=s.data[t+8],h=fh(a,s,n,null==r?Ic(a)&&ds:r!=s&&0!=(3&a.type),i&ft.Host&&o===a);return null!==h?Aa(e,s,h,a):Vo}function fh(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,c=t.directiveStart,h=o>>20,m=i?a+h:t.directiveEnd;for(let v=r?a:a+h;v<m;v++){const E=s[v];if(v<c&&n===E||v>=c&&E.type===n)return v}if(i){const v=s[c];if(v&&ko(v)&&v.type===n)return c}return null}function Aa(t,e,n,r){let i=t[n];const o=e.data;if(function Xv(t){return t instanceof Ta}(i)){const s=i;s.resolving&&function Wl(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Y(-200,`Circular dependency in DI detected for ${t}${n}`)}(function ht(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():De(t)}(o[n]));const a=dh(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?br(s.injectImpl):null;Hv(t,r,ft.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function Ig(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=Fv(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==l&&br(l),dh(a),s.resolving=!1,qv()}}return i}function ph(t,e,n){return!!(n[e+(t>>Jv)]&1<<t)}function iC(t,e){return!(t&ft.Self||t&ft.Host&&e)}class Wr{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return rC(this._tNode,this._lView,e,Up(r),n)}}function HM(){return new Wr(wr(),se())}function Pr(t){return So(()=>{const e=t.prototype.constructor,n=e[Ln]||mh(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[Ln]||mh(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function mh(t){return ue(t)?()=>{const e=mh(N(t));return e&&e()}:Pa(t)}function oC(t){const e=t[Pe],n=e.type;return 2===n?e.declTNode:1===n?t[ar]:null}const Uo="__parameters__";function Uc(t,e,n){return So(()=>{const r=function Ng(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,l,h){const p=c.hasOwnProperty(Uo)?c[Uo]:Object.defineProperty(c,Uo,{value:[]})[Uo];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Sa(t,e){t.forEach(n=>Array.isArray(n)?Sa(n,e):e(n))}function lC(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ho(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function jc(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function qt(t,e,n){let r=Us(t,e);return r>=0?t[1|r]=n:(r=~r,function QM(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function _u(t,e){const n=Us(t,e);if(n>=0)return t[1|n]}function Us(t,e){return function Bo(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const f=Mi(Uc("Optional"),8),d=Mi(Uc("SkipSelf"),4);function yC(t){return 128==(128&t.flags)}var $c=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}($c||{});const mG=/^>|^->|<!--|-->|--!>|<!-$/g,_G=/(<|>)/g,yG="\u200b$1\u200b";const rI=new Map;let vG=0;const oI="__ngContext__";function ai(t,e){ii(e)?(t[oI]=e[ou],function wG(t){rI.set(t[ou],t)}(e)):t[oI]=e}let sI;function aI(t,e){return sI(t,e)}function zg(t){const e=t[Wt];return Hr(e)?e[Wt]:e}function fN(t){return gN(t[ya])}function pN(t){return gN(t[lo])}function gN(t){for(;null!==t&&!Hr(t);)t=t[lo];return t}function wh(t,e,n,r,i){if(null!=r){let o,s=!1;Hr(r)?o=r:ii(r)&&(s=!0,r=r[on]);const a=bt(r);0===t&&null!==n?null==i?vN(e,n,a):wu(e,n,a,i||null,!0):1===t&&null!==n?wu(e,n,a,i||null,!0):2===t?function IC(t,e,n){const r=EC(t,e);r&&function BG(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function HG(t,e,n,r,i){const o=n[xo];o!==bt(n)&&wh(e,t,r,o,i);for(let a=Tr;a<n.length;a++){const c=n[a];Wg(c[Pe],c,t,e,r,o)}}(e,t,o,n,i)}}function cI(t,e){return t.createComment(function oN(t){return t.replace(mG,e=>e.replace(_G,yG))}(e))}function wC(t,e,n){return t.createElement(e,n)}function _N(t,e){const n=t[au],r=n.indexOf(e);Jd(e),n.splice(r,1)}function PC(t,e){if(t.length<=Tr)return;const n=Tr+e,r=t[n];if(r){const i=r[va];null!==i&&i!==t&&_N(i,r),e>0&&(t[n-1][lo]=r[lo]);const o=ho(t,Tr+e);!function RG(t,e){Wg(t,e,e[Ge],2,null,null),e[on]=null,e[ar]=null}(r[Pe],r);const s=o[Hi];null!==s&&s.detachView(o[Pe]),r[Wt]=null,r[lo]=null,r[Qe]&=-129}return r}function lI(t,e){if(!(256&e[Qe])){const n=e[Ge];e[su]&&Rv(e[su]),e[Ro]&&Rv(e[Ro]),n.destroyNode&&Wg(t,e,n,3,null,null),function NG(t){let e=t[ya];if(!e)return uI(t[Pe],t);for(;e;){let n=null;if(ii(e))n=e[ya];else{const r=e[Tr];r&&(n=r)}if(!n){for(;e&&!e[lo]&&e!==t;)ii(e)&&uI(e[Pe],e),e=e[Wt];null===e&&(e=t),ii(e)&&uI(e[Pe],e),n=e&&e[lo]}e=n}}(e)}}function uI(t,e){if(!(256&e[Qe])){e[Qe]&=-129,e[Qe]|=256,function UG(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Ta)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];No(4,a,c);try{c.call(a)}finally{No(5,a,c)}}else{No(4,i,o);try{o.call(i)}finally{No(5,i,o)}}}}}(t,e),function VG(t,e){const n=t.cleanup,r=e[Ec];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[Ec]=null);const i=e[cs];if(null!==i){e[cs]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[Pe].type&&e[Ge].destroy();const n=e[va];if(null!==n&&Hr(e[Wt])){n!==e[Wt]&&_N(n,e);const r=e[Hi];null!==r&&r.detachView(t)}!function PG(t){rI.delete(t[ou])}(e)}}function dI(t,e,n){return function yN(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[on];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===co.None||o===co.Emulated)return null}return si(r,n)}}(t,e.parent,n)}function wu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function vN(t,e,n){t.appendChild(e,n)}function CN(t,e,n,r,i){null!==r?wu(t,e,n,r,i):vN(t,e,n)}function EC(t,e){return t.parentNode(e)}function wN(t,e,n){return EN(t,e,n)}let hI,mI,bC,EN=function PN(t,e,n){return 40&t.type?si(t,n):null};function MC(t,e,n,r){const i=dI(t,r,e),o=e[Ge],a=wN(r.parent||e[ar],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)CN(o,i,n[c],a,!1);else CN(o,i,n,a,!1);void 0!==hI&&hI(o,r,e,n,i)}function Gg(t,e){if(null!==e){const n=e.type;if(3&n)return si(e,t);if(4&n)return fI(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Gg(t,r);{const i=t[e.index];return Hr(i)?fI(-1,i):bt(i)}}if(32&n)return aI(e,t)()||bt(t[e.index]);{const r=IN(t,e);return null!==r?Array.isArray(r)?r[0]:Gg(zg(t[Dn]),r):Gg(t,e.next)}}return null}function IN(t,e){return null!==e?t[Dn][ar].projection[e.projection]:null}function fI(t,e){const n=Tr+t+1;if(n<e.length){const r=e[n],i=r[Pe].firstChild;if(null!==i)return Gg(r,i)}return e[xo]}function pI(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;if(s&&0===e&&(a&&ai(bt(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)pI(t,e,n.child,r,i,o,!1),wh(e,t,i,a,o);else if(32&c){const l=aI(n,r);let h;for(;h=l();)wh(e,t,i,h,o);wh(e,t,i,a,o)}else 16&c?bN(t,e,r,n,i,o):wh(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Wg(t,e,n,r,i,o){pI(n,r,t.firstChild,e,i,o,!1)}function bN(t,e,n,r,i,o){const s=n[Dn],c=s[ar].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)wh(e,t,i,c[l],o);else{let l=c;const h=s[Wt];yC(r)&&(l.flags|=128),pI(t,e,l,h,i,o,!0)}}function TN(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function AN(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&wc(t,e,r),null!==i&&TN(t,e,i),null!==o&&function GG(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}function RN(t){return function _I(){if(void 0===bC&&(bC=null,Gt.trustedTypes))try{bC=Gt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return bC}()?.createScriptURL(t)||t}class xN{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lt})`}}function Hc(t){return t instanceof xN?t.changingThisBreaksApplicationSecurity:t}function qg(t,e){const n=function tW(t){return t instanceof xN&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${lt})`)}return n===e}const oW=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Mh=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Mh||{});function zc(t){const e=Zg();return e?e.sanitize(Mh.URL,t)||"":qg(t,"URL")?Hc(t):function yI(t){return(t=String(t)).match(oW)?t:"unsafe:"+t}(De(t))}function BN(t){const e=Zg();if(e)return RN(e.sanitize(Mh.RESOURCE_URL,t)||"");if(qg(t,"ResourceURL"))return RN(Hc(t));throw new Y(904,!1)}function Zg(){const t=se();return t&&t[Ns].sanitizer}class pe{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=be({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Qg=new pe("ENVIRONMENT_INITIALIZER"),$N=new pe("INJECTOR",-1),HN=new pe("INJECTOR_DEF_TYPES");class PI{get(e,n=ni){if(n===ni){const r=new Error(`NullInjectorError: No provider for ${Ut(e)}!`);throw r.name="NullInjectorError",r}return n}}function yW(...t){return{\u0275providers:zN(0,t),\u0275fromNgModule:!0}}function zN(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return Sa(e,s=>{const a=s;AC(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&GN(i,o),n}function GN(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];MI(i,o=>{e(o,r)})}}function AC(t,e,n,r){if(!(t=N(t)))return!1;let i=null,o=gc(t);const s=!o&&mt(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const c=t.ngModule;if(o=gc(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)AC(l,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;r.add(i);try{Sa(o.imports,h=>{AC(h,e,n,r)&&(l||=[],l.push(h))})}finally{}void 0!==l&&GN(l,e)}if(!a){const l=Pa(i)||(()=>new i);e({provide:i,useFactory:l,deps:Ot},i),e({provide:HN,useValue:i,multi:!0},i),e({provide:Qg,useValue:()=>ee(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const l=t;MI(c,h=>{e(h,l)})}}}return i!==t&&void 0!==t.providers}function MI(t,e){for(let n of t)xe(n)&&(n=n.\u0275providers),Array.isArray(n)?MI(n,e):e(n)}const vW=Re({provide:String,useValue:Re});function II(t){return null!==t&&"object"==typeof t&&vW in t}function Pu(t){return"function"==typeof t}const OI=new pe("Set Injector scope."),DC={},wW={};let bI;function SC(){return void 0===bI&&(bI=new PI),bI}class fo{}class RC extends fo{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,AI(e,s=>this.processProvider(s)),this.records.set($N,Ih(void 0,this)),i.has("environment")&&this.records.set(fo,Ih(void 0,this));const o=this.records.get(OI);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(HN.multi,Ot,ft.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Do(this),r=br(void 0);try{return e()}finally{Do(n),br(r)}}get(e,n=ni,r=ft.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(_v))return e[_v](this);r=Up(r);const o=Do(this),s=br(void 0);try{if(!(r&ft.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function OW(t){return"function"==typeof t||"object"==typeof t&&t instanceof pe}(e)&&ql(e);c=l&&this.injectableDefInScope(l)?Ih(TI(e),DC):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&ft.Self?SC():this.parent).get(e,n=r&ft.Optional&&n===ni?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[mc]=a[mc]||[]).unshift(Ut(e)),o)throw a;return function vc(t,e,n,r){const i=t[mc];throw e[Ad]&&i.unshift(e[Ad]),t.message=function mv(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Ut(e);if(Array.isArray(e))i=e.map(Ut).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Ut(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Vp,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[mc]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{br(s),Do(o)}}resolveInjectorInitializers(){const e=Do(this),n=br(void 0);try{const i=this.get(Qg.multi,Ot,ft.Self);for(const o of i)o()}finally{Do(e),br(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Ut(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Y(205,!1)}processProvider(e){let n=Pu(e=N(e))?e:N(e&&e.provide);const r=function EW(t){return II(t)?Ih(void 0,t.useValue):Ih(KN(t),DC)}(e);if(Pu(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Ih(void 0,DC,!0),i.factory=()=>Jl(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===DC&&(n.value=wW,n.value=n.factory()),"object"==typeof n.value&&n.value&&function IW(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=N(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function TI(t){const e=ql(t),n=null!==e?e.factory:Pa(t);if(null!==n)return n;if(t instanceof pe)throw new Y(204,!1);if(t instanceof Function)return function PW(t){const e=t.length;if(e>0)throw jc(e,"?"),new Y(204,!1);const n=function cv(t){return t&&(t[Kl]||t[lv])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Y(204,!1)}function KN(t,e,n){let r;if(Pu(t)){const i=N(t);return Pa(i)||TI(i)}if(II(t))r=()=>N(t.useValue);else if(function qN(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Jl(t.deps||[]));else if(function WN(t){return!(!t||!t.useExisting)}(t))r=()=>ee(N(t.useExisting));else{const i=N(t&&(t.useClass||t.provide));if(!function MW(t){return!!t.deps}(t))return Pa(i)||TI(i);r=()=>new i(...Jl(t.deps))}return r}function Ih(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function AI(t,e){for(const n of t)Array.isArray(n)?AI(n,e):n&&xe(n)?AI(n.\u0275providers,e):e(n)}const xC=new pe("AppId",{providedIn:"root",factory:()=>bW}),bW="ng",ZN=new pe("Platform Initializer"),po=new pe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),QN=new pe("CSP nonce",{providedIn:"root",factory:()=>function Eh(){if(void 0!==mI)return mI;if(typeof document<"u")return document;throw new Y(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let YN=(t,e,n)=>null;function LI(t,e,n=!1){return YN(t,e,n)}class LW{}class e2{}class UW{resolveComponentFactory(e){throw function VW(t){const e=Error(`No component factory found for ${Ut(t)}.`);return e.ngComponent=t,e}(e)}}let UC=(()=>{class e{}return e.NULL=new UW,e})();function BW(){return Th(wr(),se())}function Th(t,e){return new Ai(si(t,e))}let Ai=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=BW,e})();function jW(t){return t instanceof Ai?t.nativeElement:t}class n2{}let xa=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function $W(){const t=se(),n=Oi(wr().index,t);return(ii(n)?n:t)[Ge]}(),e})(),HW=(()=>{var t;class e{}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:()=>null}),e})();class Ah{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const BI=new Ah("16.2.6"),jI={};function s2(t,e=null,n=null,r){const i=a2(t,e,n,r);return i.resolveInjectorInitializers(),i}function a2(t,e=null,n=null,r,i=new Set){const o=[n||Ot,yW(t)];return r=r||("object"==typeof t?void 0:Ut(t)),new RC(o,e||SC(),r||null,i)}let Di=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return s2({name:""},i,r,"");{const o=r.name??"";return s2({name:o},r.parent,r.providers,o)}}}return(t=e).THROW_IF_NOT_FOUND=ni,t.NULL=new PI,t.\u0275prov=be({token:t,providedIn:"any",factory:()=>ee($N)}),t.__NG_ELEMENT_ID__=-1,e})();function HI(t){return t.ngOriginalError}class ka{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&HI(e);for(;n&&HI(n);)n=HI(n);return n||null}}function GI(t){return e=>{setTimeout(t,void 0,e)}}const En=class QW extends Q{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=GI(o),i&&(i=GI(i)),s&&(s=GI(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Pt&&e.add(a),a}};function l2(...t){}class Tt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new En(!1),this.onMicrotaskEmpty=new En(!1),this.onStable=new En(!1),this.onError=new En(!1),typeof Zone>"u")throw new Y(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function YW(){const t="function"==typeof Gt.requestAnimationFrame;let e=Gt[t?"requestAnimationFrame":"setTimeout"],n=Gt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function eq(t){const e=()=>{!function JW(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Gt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,qI(t),t.isCheckStableRunning=!0,WI(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),qI(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function nq(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return u2(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),d2(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return u2(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),d2(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,qI(t),WI(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Tt.isInAngularZone())throw new Y(909,!1)}static assertNotInAngularZone(){if(Tt.isInAngularZone())throw new Y(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,XW,l2,l2);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const XW={};function WI(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function qI(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function u2(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function d2(t){t._nesting--,WI(t)}class tq{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new En,this.onMicrotaskEmpty=new En,this.onStable=new En,this.onError=new En}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const h2=new pe("",{providedIn:"root",factory:f2});function f2(){const t=we(Tt);let e=!0;return J(new st(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new st(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{Tt.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=t.onUnstable.subscribe(()=>{Tt.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(ze()))}function Eu(t){return t.ownerDocument}function Na(t){return t instanceof Function?t():t}let KI=(()=>{var t;class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:()=>new t}),e})();function Jg(t){for(;t;){t[Qe]|=64;const e=zg(t);if(Ov(t)&&!e)return t;t=e}return null}const y2=new pe("",{providedIn:"root",factory:()=>!1});let jC=null;function P2(t,e){return t[e]??I2()}function E2(t,e){const n=I2();n.producerNode?.length&&(t[e]=jC,n.lView=t,jC=M2())}const dq={...zd,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Jg(t.lView)},lView:null};function M2(){return Object.create(dq)}function I2(){return jC??=M2(),jC}const Xe={};function L(t){O2(Ct(),se(),Gr()+t,!1)}function O2(t,e,n,r){if(!r)if(3==(3&e[Qe])){const o=t.preOrderCheckHooks;null!==o&&xc(e,o,n)}else{const o=t.preOrderHooks;null!==o&&sh(e,o,0,n)}ba(n)}function X(t,e=ft.Default){const n=se();return null===n?ee(t,e):rC(wr(),n,N(t),e)}function $C(t,e,n,r,i,o,s,a,c,l,h){const p=e.blueprint.slice();return p[on]=i,p[Qe]=140|r,(null!==l||t&&2048&t[Qe])&&(p[Qe]|=2048),Vv(p),p[Wt]=p[Fs]=t,p[gn]=n,p[Ns]=s||t&&t[Ns],p[Ge]=a||t&&t[Ge],p[ks]=c||t&&t[ks]||null,p[ar]=o,p[ou]=function CG(){return vG++}(),p[uo]=h,p[Pv]=l,p[Dn]=2==e.type?t[Dn]:p,p}function Rh(t,e,n,r,i){let o=t.data[e];if(null===o)o=function ZI(t,e,n,r,i){const o=th(),s=nh(),c=t.data[e]=function vq(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Oa()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(t,e,n,r,i),function AM(){return je.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Ls(){const t=je.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Wi(o,!0),o}function em(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function T2(t,e,n,r,i){const o=P2(e,su),s=Gr(),a=2&r;try{ba(-1),a&&e.length>ut&&O2(t,e,ut,!1),No(a?2:0,i);const l=a?o:null,h=Gd(l);try{null!==l&&(l.dirty=!1),n(r,i)}finally{Ea(l,h)}}finally{a&&null===e[su]&&E2(e,su),ba(s),No(a?3:1,i)}}function QI(t,e,n){if(Iv(e)){const r=Gi(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{Gi(r)}}}function YI(t,e,n){mg()&&(function Oq(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;Ic(n)&&function xq(t,e,n){const r=si(e,t),i=A2(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=HC(t,$C(t,i,null,s,r,e,null,t[Ns].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Nc(n,e),ai(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const c=t.data[a],l=Aa(e,t,a,n);ai(l,e),null!==s&&kq(0,a-i,l,c,0,s),ko(c)&&(Oi(n.index,e)[gn]=Aa(e,t,a,n))}}(t,e,n,si(n,e)),64==(64&n.flags)&&k2(t,e,n))}function XI(t,e,n=si){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function A2(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=JI(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function JI(t,e,n,r,i,o,s,a,c,l,h){const p=ut+r,m=p+i,v=function fq(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Xe);return n}(p,m),E="function"==typeof l?l():l;return v[Pe]={type:t,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:E,incompleteFirstPass:!1,ssrId:h}}let D2=t=>null;function S2(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const o=t[i];null===r?R2(n,e,i,o):r.hasOwnProperty(i)&&R2(n,e,r[i],o)}return n}function R2(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function go(t,e,n,r,i,o,s,a){const c=si(e,n);let h,l=e.inputs;!a&&null!=l&&(h=l[r])?(iO(t,n,h,r,i),Ic(e)&&function Pq(t,e){const n=Oi(e,t);16&n[Qe]||(n[Qe]|=64)}(n,e.index)):3&e.type&&(r=function wq(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(c,r,i))}function eO(t,e,n,r){if(mg()){const i=null===r?null:{"":-1},o=function Tq(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(Fd(e,s.selectors,!1))if(r||(r=[]),ko(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),tO(t,e,a.length)}else r.unshift(s),tO(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&x2(t,e,n,s,i,a),i&&function Aq(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new Y(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=tu(n.mergedAttrs,n.attrs)}function x2(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Dg(Nc(n,e),t,r[l].type);!function Sq(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,c=em(t,e,r.length,null);for(let l=0;l<r.length;l++){const h=r[l];n.mergedAttrs=tu(n.mergedAttrs,h.hostAttrs),Rq(t,n,e,c,h),Dq(c,h,i),null!==h.contentQueries&&(n.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(n.flags|=64);const p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function Cq(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let c=null,l=null;for(let h=e.directiveStart;h<i;h++){const p=o[h],m=n?n.get(p):null,E=m?m.outputs:null;c=S2(p.inputs,h,c,m?m.inputs:null),l=S2(p.outputs,h,l,E);const O=null===c||null===s||nu(e)?null:Nq(c,h,s);a.push(O)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(t,n,o)}function k2(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function DM(){return je.lFrame.currentDirectiveIndex}();try{ba(o);for(let a=r;a<i;a++){const c=t.data[a],l=e[a];wg(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&bq(c,l)}}finally{ba(-1),wg(s)}}function bq(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function tO(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Dq(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ko(e)&&(n[""]=t)}}function Rq(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=Pa(i.type)),s=new Ta(o,ko(i),X);t.blueprint[r]=s,n[r]=s,function Mq(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function Iq(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,em(t,n,i.hostVars,Xe),i)}function Bs(t,e,n,r,i,o){const s=si(t,e);!function nO(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?De(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[Ge],s,o,t.value,n,r,i)}function kq(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)N2(r,n,s[a++],s[a++],s[a++])}function N2(t,e,n,r,i){const o=Gi(null);try{const s=t.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{Gi(o)}}function Nq(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function F2(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function L2(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=t.data[o];Rc(n[r]),s.contentQueries(2,e[o],o)}}}function HC(t,e){return t[ya]?t[wv][lo]=e:t[ya]=e,t[wv]=e,e}function rO(t,e,n){Rc(0);const r=Gi(null);try{e(t,n)}finally{Gi(r)}}function V2(t){return t[Ec]||(t[Ec]=[])}function U2(t){return t.cleanup||(t.cleanup=[])}function j2(t,e){const n=t[ks],r=n?n.get(ka,null):null;r&&r.handleError(e)}function iO(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];N2(t.data[s],e[s],r,a,i)}}function Fq(t,e){const n=Oi(e,t),r=n[Pe];!function Lq(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[on];null!==i&&null===n[uo]&&(n[uo]=LI(i,n[ks])),oO(r,n,n[gn])}function oO(t,e,n){Pg(e);try{const r=t.viewQuery;null!==r&&rO(1,r,n);const i=t.template;null!==i&&T2(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&L2(t,e),t.staticViewQueries&&rO(2,t.viewQuery,n);const o=t.components;null!==o&&function Vq(t,e){for(let n=0;n<e.length;n++)Fq(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Qe]&=-5,Eg()}}let $2=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,o){const s=typeof Zone>"u"?null:Zone.current,a=function pM(t,e,n){const r=Object.create(gM);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>lu(r),run:()=>{if(r.dirty=!1,r.hasRun&&!uu(r))return;r.hasRun=!0;const s=Gd(r);try{r.cleanupFn(),r.cleanupFn=cg,r.fn(i)}finally{Ea(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(r,h=>{this.all.has(h)&&this.queue.set(h,s)},o);let c;this.all.add(a),a.notify();const l=()=>{a.cleanup(),c?.(),this.all.delete(a),this.queue.delete(a)};return c=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:()=>new t}),e})();function zC(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=ss(i,a):2==o&&(r=ss(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function tm(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];null!==o&&r.push(bt(o)),Hr(o)&&H2(o,r);const s=n.type;if(8&s)tm(t,e,n.child,r);else if(32&s){const a=aI(n,e);let c;for(;c=a();)r.push(c)}else if(16&s){const a=IN(e,n);if(Array.isArray(a))r.push(...a);else{const c=zg(e[Dn]);tm(c[Pe],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function H2(t,e){for(let n=Tr;n<t.length;n++){const r=t[n],i=r[Pe].firstChild;null!==i&&tm(r[Pe],r,i,e)}t[xo]!==t[on]&&e.push(t[xo])}function GC(t,e,n,r=!0){const i=e[Ns],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{z2(t,e,t.template,n)}catch(c){throw r&&j2(e,c),c}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function z2(t,e,n,r){const i=e[Qe];if(256!=(256&i)){e[Ns].effectManager?.flush(),Pg(e);try{Vv(e),function vg(t){return je.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&T2(t,e,n,2,r);const s=3==(3&i);if(s){const l=t.preOrderCheckHooks;null!==l&&xc(e,l,null)}else{const l=t.preOrderHooks;null!==l&&sh(e,l,0,null),ah(e,0)}if(function jq(t){for(let e=fN(t);null!==e;e=pN(e)){if(!e[Ev])continue;const n=e[au];for(let r=0;r<n.length;r++){fg(n[r])}}}(e),G2(e,2),null!==t.contentQueries&&L2(t,e),s){const l=t.contentCheckHooks;null!==l&&xc(e,l)}else{const l=t.contentHooks;null!==l&&sh(e,l,1),ah(e,1)}!function hq(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=P2(e,Ro);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)ba(~o);else{const s=o,a=n[++i],c=n[++i];Cg(a,s),r.dirty=!1;const l=Gd(r);try{c(2,e[s])}finally{Ea(r,l)}}}}finally{null===e[Ro]&&E2(e,Ro),ba(-1)}}(t,e);const a=t.components;null!==a&&q2(e,a,0);const c=t.viewQuery;if(null!==c&&rO(2,c,r),s){const l=t.viewCheckHooks;null!==l&&xc(e,l)}else{const l=t.viewHooks;null!==l&&sh(e,l,2),ah(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[Qe]&=-73,Jd(e)}finally{Eg()}}}function G2(t,e){for(let n=fN(t);null!==n;n=pN(n))for(let r=Tr;r<n.length;r++)W2(n[r],e)}function $q(t,e,n){W2(Oi(e,t),n)}function W2(t,e){if(!function hg(t){return 128==(128&t[Qe])}(t))return;const n=t[Pe],r=t[Qe];if(80&r&&0===e||1024&r||2===e)z2(n,t,n.template,t[gn]);else if(t[iu]>0){G2(t,1);const i=n.components;null!==i&&q2(t,i,1)}}function q2(t,e,n){for(let r=0;r<e.length;r++)$q(t,e[r],n)}class nm{get rootNodes(){const e=this._lView,n=e[Pe];return tm(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[gn]}set context(e){this._lView[gn]=e}get destroyed(){return 256==(256&this._lView[Qe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Wt];if(Hr(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(PC(e,r),ho(n,r))}this._attachedToViewContainer=!1}lI(this._lView[Pe],this._lView)}onDestroy(e){!function Sc(t,e){if(256==(256&t[Qe]))throw new Y(911,!1);null===t[cs]&&(t[cs]=[]),t[cs].push(e)}(this._lView,e)}markForCheck(){Jg(this._cdRefInjectingView||this._lView)}detach(){this._lView[Qe]&=-129}reattach(){this._lView[Qe]|=128}detectChanges(){GC(this._lView[Pe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Y(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function kG(t,e){Wg(t,e,e[Ge],2,null,null)}(this._lView[Pe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Y(902,!1);this._appRef=e}}class Hq extends nm{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;GC(e[Pe],e,e[gn],!1)}checkNoChanges(){}get context(){return null}}class K2 extends UC{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=mt(e);return new rm(n,this.ngModule)}}function Z2(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Gq{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Up(r);const i=this.injector.get(e,jI,r);return i!==jI||n===jI?i:this.parentInjector.get(e,n,r)}}class rm extends e2{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=Z2(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Z2(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function nM(t){return t.map(qp).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof fo?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new Gq(e,o):e,a=s.get(n2,null);if(null===a)throw new Y(407,!1);const p={rendererFactory:a,sanitizer:s.get(HW,null),effectManager:s.get($2,null),afterRenderEventManager:s.get(KI,null)},m=a.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",E=r?function pq(t,e,n,r){const o=r.get(y2,!1)||n===co.ShadowDom,s=t.selectRootElement(e,o);return function gq(t){D2(t)}(s),s}(m,r,this.componentDef.encapsulation,s):wC(m,v,function zq(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(v)),F=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let x=null;null!==E&&(x=LI(E,s,!0));const z=JI(0,null,null,1,0,null,null,null,null,null,null),$=$C(null,z,null,F,null,null,p,m,s,null,x);let fe,Ie;Pg($);try{const at=this.componentDef;let Zt,so=null;at.findHostDirectiveDefs?(Zt=[],so=new Map,at.findHostDirectiveDefs(at,Zt,so),Zt.push(at)):Zt=[at];const Tp=function qq(t,e){const n=t[Pe],r=ut;return t[r]=e,Rh(n,r,2,"#host",null)}($,E),p0e=function Kq(t,e,n,r,i,o,s){const a=i[Pe];!function Zq(t,e,n,r){for(const i of t)e.mergedAttrs=tu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(zC(e,e.mergedAttrs,!0),null!==n&&AN(r,n,e))}(r,t,e,s);let c=null;null!==e&&(c=LI(e,i[ks]));const l=o.rendererFactory.createRenderer(e,n);let h=16;n.signals?h=4096:n.onPush&&(h=64);const p=$C(i,A2(n),null,h,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&tO(a,t,r.length-1),HC(i,p),i[t.index]=p}(Tp,E,at,Zt,$,p,m);Ie=Xd(z,ut),E&&function Yq(t,e,n,r){if(r)wc(t,n,["ng-version",BI.full]);else{const{attrs:i,classes:o}=function Kp(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Ii(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&wc(t,n,i),o&&o.length>0&&TN(t,n,o.join(" "))}}(m,at,E,r),void 0!==n&&function Xq(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(Ie,this.ngContentSelectors,n),fe=function Qq(t,e,n,r,i,o){const s=wr(),a=i[Pe],c=si(s,i);x2(a,i,s,n,null,r);for(let h=0;h<n.length;h++)ai(Aa(i,a,s.directiveStart+h,s),i);k2(a,i,s),c&&ai(c,i);const l=Aa(i,a,s.directiveStart+s.componentOffset,s);if(t[gn]=i[gn]=l,null!==o)for(const h of o)h(l,e);return QI(a,s,t),l}(p0e,at,Zt,so,$,[Jq]),oO(z,$,null)}finally{Eg()}return new Wq(this.componentType,fe,Th(Ie,$),$,Ie)}}class Wq extends LW{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Hq(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;iO(o[Pe],o,i,e,n),this.previousInputValues.set(e,n),Jg(Oi(this._tNode.index,o))}}get injector(){return new Wr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Jq(){const t=wr();oh(se()[Pe],t)}function Bt(t){let e=function Q2(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(ko(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Y(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=WC(t.inputs),s.inputTransforms=WC(t.inputTransforms),s.declaredInputs=WC(t.declaredInputs),s.outputs=WC(t.outputs);const a=i.hostBindings;a&&rK(t,a);const c=i.viewQuery,l=i.contentQueries;if(c&&tK(t,c),l&&nK(t,l),sr(t.inputs,i.inputs),sr(t.declaredInputs,i.declaredInputs),sr(t.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),sr(s.inputTransforms,i.inputTransforms)),ko(i)&&i.data.animation){const h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===Bt&&(n=!1)}}e=Object.getPrototypeOf(e)}!function eK(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=tu(i.hostAttrs,n=tu(n,i.hostAttrs))}}(r)}function WC(t){return t===jr?{}:t===Ot?[]:t}function tK(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function nK(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function rK(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function eF(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function qC(t){return!!sO(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function sO(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function js(t,e,n){return t[e]=n}function ci(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ho(t,e,n,r){const i=se();return ci(i,Vs(),e)&&(Ct(),Bs(mn(),i,t,e,n,r)),Ho}function kh(t,e,n,r){return ci(t,Vs(),n)?e+De(n)+r:Xe}function Le(t,e,n,r,i,o,s,a){const c=se(),l=Ct(),h=t+ut,p=l.firstCreatePass?function TK(t,e,n,r,i,o,s,a,c){const l=e.consts,h=Rh(e,t,4,s||null,Fo(l,a));eO(e,n,h,Fo(l,c)),oh(e,h);const p=h.tView=JI(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}(h,l,c,e,n,r,i,o,s):l.data[h];Wi(p,!1);const m=fF(l,c,p,t);ih()&&MC(l,c,m,p),ai(m,c),HC(c,c[h]=F2(m,c,m,p)),eg(p)&&YI(l,c,p),null!=s&&XI(c,p,a)}let fF=function pF(t,e,n,r){return Lo(!0),e[Ge].createComment("")};function ce(t,e,n){const r=se();return ci(r,Vs(),e)&&go(Ct(),mn(),r,t,e,r[Ge],n,!1),ce}function hO(t,e,n,r,i){const s=i?"class":"style";iO(t,n,e.inputs[s],s,r)}function _(t,e,n,r){const i=se(),o=Ct(),s=ut+t,a=i[Ge],c=o.firstCreatePass?function RK(t,e,n,r,i,o){const s=e.consts,c=Rh(e,t,2,r,Fo(s,i));return eO(e,n,c,Fo(s,o)),null!==c.attrs&&zC(c,c.attrs,!1),null!==c.mergedAttrs&&zC(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,e,n,r):o.data[s],l=mF(o,i,c,a,e,t);i[s]=l;const h=eg(c);return Wi(c,!0),AN(a,l,c),32!=(32&c.flags)&&ih()&&MC(o,i,l,c),0===function pg(){return je.lFrame.elementDepthCount}()&&ai(l,i),function PM(){je.lFrame.elementDepthCount++}(),h&&(YI(o,i,c),QI(o,c,i)),null!==r&&XI(i,c),_}function y(){let t=wr();nh()?fu():(t=t.parent,Wi(t,!1));const e=t;(function EM(t){return je.skipHydrationRootTNode===t})(e)&&function OM(){je.skipHydrationRootTNode=null}(),function gg(){je.lFrame.elementDepthCount--}();const n=Ct();return n.firstCreatePass&&(oh(n,t),Iv(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function VM(t){return 0!=(8&t.flags)}(e)&&hO(n,e,se(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function UM(t){return 0!=(16&t.flags)}(e)&&hO(n,e,se(),e.stylesWithoutHost,!1),y}function A(t,e,n,r){return _(t,e,n,r),y(),A}let mF=(t,e,n,r,i,o)=>(Lo(!0),wC(r,i,function Zv(){return je.lFrame.currentNamespace}()));function $h(t,e,n){const r=se(),i=Ct(),o=t+ut,s=i.firstCreatePass?function NK(t,e,n,r,i){const o=e.consts,s=Fo(o,r),a=Rh(e,t,8,"ng-container",s);return null!==s&&zC(a,s,!0),eO(e,n,a,Fo(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];Wi(s,!0);const a=yF(i,r,s,t);return r[o]=a,ih()&&MC(i,r,a,s),ai(a,r),eg(s)&&(YI(i,r,s),QI(i,s,r)),null!=n&&XI(r,s),$h}function Hh(){let t=wr();const e=Ct();return nh()?fu():(t=t.parent,Wi(t,!1)),e.firstCreatePass&&(oh(e,t),Iv(t)&&e.queries.elementEnd(t)),Hh}let yF=(t,e,n,r)=>(Lo(!0),cI(e[Ge],""));function $s(){return se()}function cm(t){return!!t&&"function"==typeof t.then}function vF(t){return!!t&&"function"==typeof t.subscribe}function ie(t,e,n,r){const i=se(),o=Ct(),s=wr();return function wF(t,e,n,r,i,o,s){const a=eg(r),l=t.firstCreatePass&&U2(t),h=e[gn],p=V2(e);let m=!0;if(3&r.type||s){const O=si(r,e),b=s?s(O):O,F=p.length,x=s?$=>s(bt($[r.index])):r.index;let z=null;if(!s&&a&&(z=function VK(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[Ec],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==z)(z.__ngLastListenerFn__||z).__ngNextListenerFn__=o,z.__ngLastListenerFn__=o,m=!1;else{o=EF(r,e,h,o,!1);const $=n.listen(b,i,o);p.push(o,$),l&&l.push(i,x,F,F+1)}}else o=EF(r,e,h,o,!1);const v=r.outputs;let E;if(m&&null!==v&&(E=v[i])){const O=E.length;if(O)for(let b=0;b<O;b+=2){const fe=e[E[b]][E[b+1]].subscribe(o),Ie=p.length;p.push(o,fe),l&&l.push(i,r.index,Ie,-(Ie+1))}}}(o,i,i[Ge],s,t,e,r),ie}function PF(t,e,n,r){try{return No(6,e,n),!1!==n(r)}catch(i){return j2(t,i),!1}finally{No(7,e,n)}}function EF(t,e,n,r,i){return function o(s){if(s===Function)return r;Jg(t.componentOffset>-1?Oi(t.index,e):e);let c=PF(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)c=PF(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&s.preventDefault(),c}}function cr(t=1){return function Mg(t){return(je.lFrame.contextLView=function RM(t,e){for(;t>0;)e=e[Fs],t--;return e}(t,je.lFrame.contextLView))[gn]}(t)}function UK(t,e){let n=null;const r=function Ld(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?Fd(t,o,!0):Gp(r,o))return i}else n=i}return n}function lm(t,e,n,r,i){const o=se(),s=kh(o,e,n,r);return s!==Xe&&go(Ct(),mn(),o,t,s,o[Ge],i,!1),lm}function XC(t,e){return t<<17|e<<2}function Gc(t){return t>>17&32767}function fO(t){return 2|t}function Iu(t){return(131068&t)>>2}function pO(t,e){return-131069&t|e<<2}function gO(t){return 1|t}function NF(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Gc(o):Iu(o),c=!1;for(;0!==a&&(!1===c||s);){const h=t[a+1];GK(t[a],e)&&(c=!0,t[a+1]=r?gO(h):fO(h)),a=r?Gc(h):Iu(h)}c&&(t[n+1]=r?fO(o):gO(o))}function GK(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Us(t,e)>=0}function zo(t,e){return function hs(t,e,n,r){const i=se(),o=Ct(),s=function us(t){const e=je.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);o.firstUpdatePass&&function zF(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Gr()],s=function HF(t,e){return e>=t.expandoStartIndex}(t,n);(function KF(t,e){return 0!=(t.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function eZ(t,e,n,r){const i=function rh(t){const e=je.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=um(n=mO(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=mO(i,t,e,n,r),null===o){let c=function tZ(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Iu(r))return t[Gc(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=mO(null,t,e,c[1],r),c=um(c,e.attrs,r),function nZ(t,e,n,r){t[Gc(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else o=function rZ(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=um(r,t[o].hostAttrs,n);return um(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function HK(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Gc(s),c=Iu(s);t[r]=n;let h,l=!1;if(Array.isArray(n)?(h=n[1],(null===h||Us(n,h)>0)&&(l=!0)):h=n,i)if(0!==c){const m=Gc(t[a+1]);t[r+1]=XC(m,a),0!==m&&(t[m+1]=pO(t[m+1],r)),t[a+1]=function jK(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=XC(a,0),0!==a&&(t[a+1]=pO(t[a+1],r)),a=r;else t[r+1]=XC(c,0),0===a?a=r:t[c+1]=pO(t[c+1],r),c=r;l&&(t[r+1]=fO(t[r+1])),NF(t,h,r,!0),NF(t,h,r,!1),function zK(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Us(o,e)>=0&&(n[r+1]=gO(n[r+1]))}(e,h,t,r,o),s=XC(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==Xe&&ci(i,s,e)&&function WF(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const c=t.data,l=c[a+1],h=function $K(t){return 1==(1&t)}(l)?qF(c,e,n,i,Iu(l),s):void 0;JC(h)||(JC(o)||function BK(t){return 2==(2&t)}(l)&&(o=qF(c,null,n,i,a,s)),function zG(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:$c.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=$c.Important),t.setStyle(n,r,i,o))}}(r,s,Yd(Gr(),n),i,o))}(o,o.data[Gr()],i,i[Ge],t,i[s+1]=function aZ(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Ut(Hc(t)))),t}(e,n),r,s)}(t,e,null,!0),zo}function mO(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=um(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function um(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),qt(t,s,!!n||e[++o]))}return void 0===t?null:t}function qF(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const c=t[i],l=Array.isArray(c),h=l?c[1]:c,p=null===h;let m=n[i+1];m===Xe&&(m=p?Ot:void 0);let v=p?_u(m,r):h===r?m:void 0;if(l&&!JC(v)&&(v=_u(c,r)),JC(v)&&(a=v,s))return a;const E=t[i+1];i=s?Gc(E):Iu(E)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=_u(c,r))}return a}function JC(t){return void 0!==t}function w(t,e=""){const n=se(),r=Ct(),i=t+ut,o=r.firstCreatePass?Rh(r,i,1,e,null):r.data[i],s=ZF(r,n,o,e,t);n[i]=s,ih()&&MC(r,n,s,o),Wi(o,!1)}let ZF=(t,e,n,r,i)=>(Lo(!0),function CC(t,e){return t.createText(e)}(e[Ge],r));function rt(t){return Lt("",t,""),rt}function Lt(t,e,n){const r=se(),i=kh(r,t,e,n);return i!==Xe&&function Fa(t,e,n){const r=Yd(e,t);!function mN(t,e,n){t.setValue(e,n)}(t[Ge],r,n)}(r,Gr(),i),Lt}const Wh="en-US";let _L=Wh;function vO(t,e,n,r,i){if(t=N(t),Array.isArray(t))for(let o=0;o<t.length;o++)vO(t[o],e,n,r,i);else{const o=Ct(),s=se(),a=wr();let c=Pu(t)?t:N(t.provide);const l=KN(t),h=1048575&a.providerIndexes,p=a.directiveStart,m=a.providerIndexes>>20;if(Pu(t)||!t.multi){const v=new Ta(l,i,X),E=wO(c,e,i?h:h+m,p);-1===E?(Dg(Nc(a,s),o,c),CO(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),s.push(v)):(n[E]=v,s[E]=v)}else{const v=wO(c,e,h+m,p),E=wO(c,e,h,h+m),b=E>=0&&n[E];if(i&&!b||!i&&!(v>=0&&n[v])){Dg(Nc(a,s),o,c);const F=function TQ(t,e,n,r,i){const o=new Ta(t,n,X);return o.multi=[],o.index=e,o.componentProviders=0,$L(o,i,r&&!n),o}(i?bQ:OQ,n.length,i,r,l);!i&&b&&(n[E].providerFactory=F),CO(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(F),s.push(F)}else CO(o,t,v>-1?v:E,$L(n[i?E:v],l,!i&&r));!i&&r&&b&&n[E].componentProviders++}}}function CO(t,e,n,r){const i=Pu(e),o=function CW(t){return!!t.useClass}(e);if(i||o){const c=(o?N(e.useClass):e).prototype.ngOnDestroy;if(c){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const h=l.indexOf(n);-1===h?l.push(n,[r,c]):l[h+1].push(r,c)}else l.push(n,c)}}}function $L(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function wO(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function OQ(t,e,n,r){return PO(this.multi,[])}function bQ(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Aa(n,n[Pe],this.providerFactory.index,r);o=a.slice(0,s),PO(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],PO(i,o);return o}function PO(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Mn(t,e=[]){return n=>{n.providersResolver=(r,i)=>function IQ(t,e,n){const r=Ct();if(r.firstCreatePass){const i=ko(t);vO(n,r.data,r.blueprint,i,!0),vO(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class bu{}class HL{}class EO extends bu{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new K2(this);const i=$r(e);this._bootstrapComponents=Na(i.bootstrap),this._r3Injector=a2(e,n,[{provide:bu,useValue:this},{provide:UC,useValue:this.componentFactoryResolver},...r],Ut(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class MO extends HL{constructor(e){super(),this.moduleType=e}create(e){return new EO(this.moduleType,e,[])}}class zL extends bu{constructor(e){super(),this.componentFactoryResolver=new K2(this),this.instance=null;const n=new RC([...e.providers,{provide:bu,useValue:this},{provide:UC,useValue:this.componentFactoryResolver}],e.parent||SC(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function IO(t,e,n=null){return new zL({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let SQ=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=zN(0,r.type),o=i.length>0?IO([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=be({token:t,providedIn:"environment",factory:()=>new t(ee(fo))}),e})();function GL(t){t.getStandaloneInjector=e=>e.get(SQ).getOrCreateStandaloneInjector(t)}function mo(t,e,n,r){return function JL(t,e,n,r,i,o){const s=e+n;return ci(t,s,i)?js(t,s+1,o?r.call(o,i):r(i)):mm(t,s+1)}(se(),Ar(),t,e,n,r)}function XL(t,e,n,r,i){return function eV(t,e,n,r,i,o,s){const a=e+n;return function Mu(t,e,n,r){const i=ci(t,e,n);return ci(t,e+1,r)||i}(t,a,i,o)?js(t,a+2,s?r.call(s,i,o):r(i,o)):mm(t,a+2)}(se(),Ar(),t,e,n,r,i)}function mm(t,e){const n=t[e];return n===Xe?void 0:n}function tY(){return this._results[Symbol.iterator]()}class bO{get changes(){return this._changes||(this._changes=new En)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=bO.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=tY)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function qi(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Fg(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function rY(t,e,n,r=!0){const i=e[Pe];if(function FG(t,e,n,r){const i=Tr+r,o=n.length;r>0&&(n[i-1][lo]=e),r<o-Tr?(e[lo]=n[i],lC(n,Tr+r,e)):(n.push(e),e[lo]=null),e[Wt]=n;const s=e[va];null!==s&&n!==s&&function LG(t,e){const n=t[au];e[Dn]!==e[Wt][Wt][Dn]&&(t[Ev]=!0),null===n?t[au]=[e]:n.push(e)}(s,e);const a=e[Hi];null!==a&&a.insertView(t),e[Qe]|=128}(i,e,t,n),r){const o=fI(n,t),s=e[Ge],a=EC(s,t[xo]);null!==a&&function xG(t,e,n,r,i,o){r[on]=i,r[ar]=e,Wg(t,r,n,1,i,o)}(i,t[ar],s,e,a,o)}}let La=(()=>{class e{}return e.__NG_ELEMENT_ID__=sY,e})();const iY=La,oY=class extends iY{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function nY(t,e,n,r){const i=e.tView,a=$C(t,i,n,4096&t[Qe]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[va]=t[e.index];const l=t[Hi];return null!==l&&(a[Hi]=l.createEmbeddedView(i)),oO(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new nm(i)}};function sY(){return iw(wr(),se())}function iw(t,e){return 4&t.type?new oY(e,t,Th(t,e)):null}let ps=(()=>{class e{}return e.__NG_ELEMENT_ID__=hY,e})();function hY(){return uV(wr(),se())}const fY=ps,cV=class extends fY{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Th(this._hostTNode,this._hostLView)}get injector(){return new Wr(this._hostTNode,this._hostLView)}get parentInjector(){const e=Fc(this._hostTNode,this._hostLView);if(bg(e)){const n=uh(e,this._hostLView),r=kc(e);return new Wr(n[Pe].data[r+8],n)}return new Wr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=lV(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Tr}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,o){const s=e&&!function Da(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const O=n||{};a=O.index,r=O.injector,i=O.projectableNodes,o=O.environmentInjector||O.ngModuleRef}const c=s?e:new rm(mt(e)),l=r||this.parentInjector;if(!o&&null==c.ngModule){const b=(s?l:this.parentInjector).get(fo,null);b&&(o=b)}mt(c.componentType??{});const v=c.create(l,i,null,o);return this.insertImpl(v.hostView,a,false),v}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function CM(t){return Hr(t[Wt])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=i[Wt],h=new cV(l,l[ar],l[Wt]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),a=this._lContainer;return rY(a,i,s,!r),e.attachToViewContainerRef(),lC(TO(a),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=lV(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=PC(this._lContainer,n);r&&(ho(TO(this._lContainer),n),lI(r[Pe],r))}detach(e){const n=this._adjustIndex(e,-1),r=PC(this._lContainer,n);return r&&null!=ho(TO(this._lContainer),n)?new nm(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function lV(t){return t[8]}function TO(t){return t[8]||(t[8]=[])}function uV(t,e){let n;const r=e[t.index];return Hr(r)?n=r:(n=F2(r,e,null,t),e[t.index]=n,HC(e,n)),dV(n,e,t,r),new cV(n,t,e)}let dV=function hV(t,e,n,r){if(t[xo])return;let i;i=8&n.type?bt(r):function pY(t,e){const n=t[Ge],r=n.createComment(""),i=si(e,t);return wu(n,EC(n,i),r,function jG(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[xo]=i};class AO{constructor(e){this.queryList=e,this.matches=null}clone(){return new AO(this.queryList)}setDirty(){this.queryList.setDirty()}}class DO{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new DO(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==yV(e,n).matches&&this.queries[n].setDirty()}}class fV{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class SO{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new SO(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class RO{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new RO(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,n,_Y(n,o)),this.matchTNodeWithReadOption(e,n,fh(n,e,o,!1,!1))}else r===La?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,fh(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Ai||i===ps||i===La&&4&n.type)this.addMatch(n.index,-2);else{const o=fh(n,e,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function _Y(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function vY(t,e,n,r){return-1===n?function yY(t,e){return 11&t.type?Th(t,e):4&t.type?iw(t,e):null}(e,t):-2===n?function CY(t,e,n){return n===Ai?Th(e,t):n===La?iw(e,t):n===ps?uV(e,t):void 0}(t,e,r):Aa(t,t[Pe],n,e)}function pV(t,e,n,r){const i=e[Hi].queries[r];if(null===i.matches){const o=t.data,s=n.matches,a=[];for(let c=0;c<s.length;c+=2){const l=s[c];a.push(l<0?null:vY(e,o[l],s[c+1],n.metadata.read))}i.matches=a}return i.matches}function xO(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=pV(t,e,i,n);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const l=o[a+1],h=e[-c];for(let p=Tr;p<h.length;p++){const m=h[p];m[va]===m[Wt]&&xO(m[Pe],m,l,r)}if(null!==h[au]){const p=h[au];for(let m=0;m<p.length;m++){const v=p[m];xO(v[Pe],v,l,r)}}}}}return r}function Bn(t){const e=se(),n=Ct(),r=$v();Rc(r+1);const i=yV(n,r);if(t.dirty&&function vM(t){return 4==(4&t[Qe])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?xO(n,e,r,[]):pV(n,e,i,r);t.reset(o,jW),t.notifyOnChanges()}return!0}return!1}function Yn(t,e,n){const r=Ct();r.firstCreatePass&&(function _V(t,e,n){null===t.queries&&(t.queries=new SO),t.queries.track(new RO(e,n))}(r,new fV(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function mV(t,e,n){const r=new bO(4==(4&n));(function yq(t,e,n,r){const i=V2(e);i.push(n),t.firstCreatePass&&U2(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[Hi]&&(e[Hi]=new DO),e[Hi].queries.push(new AO(r))}(r,se(),e)}function jn(){return function wY(t,e){return t[Hi].queries[e].queryList}(se(),$v())}function yV(t,e){return t.queries.getByIndex(e)}function vV(t,e){return iw(t,e)}const UO=new pe("Application Initializer");let BO=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=we(UO,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const o of this.appInits){const s=o();if(cm(s))r.push(s);else if(vF(s)){const a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),FV=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const Va=new pe("LocaleId",{providedIn:"root",factory:()=>we(Va,ft.Optional|ft.SkipSelf)||function HY(){return typeof $localize<"u"&&$localize.locale||Wh}()});let aw=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new U(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class WY{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let LV=(()=>{var t;class e{compileModuleSync(r){return new MO(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),s=Na($r(r).declarations).reduce((a,c)=>{const l=mt(c);return l&&a.push(new rm(l)),a},[]);return new WY(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const jV=new pe(""),lw=new pe("");let GO,HO=(()=>{var t;class e{constructor(r,i,o){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,GO||(function hX(t){GO=t}(o),o.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Tt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:o})}whenStable(r,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,o){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(Tt),ee(zO),ee(lw))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})(),zO=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return GO?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Wc=null;const $V=new pe("AllowMultipleToken"),WO=new pe("PlatformDestroyListeners"),qO=new pe("appBootstrapListener");class zV{constructor(e,n){this.name=e,this.token=n}}function WV(t,e,n=[]){const r=`Platform: ${e}`,i=new pe(r);return(o=[])=>{let s=KO();if(!s||s.injector.get($V,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function gX(t){if(Wc&&!Wc.get($V,!1))throw new Y(400,!1);(function HV(){!function lM(t){xv=t}(()=>{throw new Y(600,!1)})})(),Wc=t;const e=t.get(KV);(function GV(t){t.get(ZN,null)?.forEach(n=>n())})(t)}(function qV(t=[],e){return Di.create({name:e,providers:[{provide:OI,useValue:"platform"},{provide:WO,useValue:new Set([()=>Wc=null])},...t]})}(a,r))}return function _X(t){const e=KO();if(!e)throw new Y(401,!1);return e}()}}function KO(){return Wc?.get(KV)??null}let KV=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const o=function yX(t="zone.js",e){return"noop"===t?new tq:"zone.js"===t?new Tt(e):t}(i?.ngZone,function ZV(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return o.run(()=>{const s=function DQ(t,e,n){return new EO(t,e,n)}(r.moduleType,this.injector,function e3(t){return[{provide:Tt,useFactory:t},{provide:Qg,multi:!0,useFactory:()=>{const e=we(CX,{optional:!0});return()=>e.initialize()}},{provide:JV,useFactory:vX},{provide:h2,useFactory:f2}]}(()=>o)),a=s.injector.get(ka,null);return o.runOutsideAngular(()=>{const c=o.onError.subscribe({next:l=>{a.handleError(l)}});s.onDestroy(()=>{uw(this._modules,s),c.unsubscribe()})}),function QV(t,e,n){try{const r=n();return cm(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,o,()=>{const c=s.injector.get(BO);return c.runInitializers(),c.donePromise.then(()=>(function yL(t){ti(t,"Expected localeId to be defined"),"string"==typeof t&&(_L=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Va,Wh)||Wh),this._moduleDoBootstrap(s),s))})})}bootstrapModule(r,i=[]){const o=YV({},i);return function fX(t,e,n){const r=new MO(n);return Promise.resolve(r)}(0,0,r).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(r){const i=r.injector.get(Zh);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(o=>i.bootstrap(o));else{if(!r.instance.ngDoBootstrap)throw new Y(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Y(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(WO,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(Di))},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function YV(t,e){return Array.isArray(e)?e.reduce(YV,t):{...t,...e}}let Zh=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=we(JV),this.zoneIsStable=we(h2),this.componentTypes=[],this.components=[],this.isStable=we(aw).hasPendingTasks.pipe(Ke(r=>r?H(!1):this.zoneIsStable),rn(),ze()),this._injector=we(fo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const o=r instanceof e2;if(!this._injector.get(BO).done)throw!o&&function Pc(t){const e=mt(t)||yr(t)||vr(t);return null!==e&&e.standalone}(r),new Y(405,!1);let a;a=o?r:this._injector.get(UC).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const c=function pX(t){return t.isBoundToModule}(a)?void 0:this._injector.get(bu),h=a.create(Di.NULL,[],i||a.selector,c),p=h.location.nativeElement,m=h.injector.get(jV,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),uw(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){if(this._runningTick)throw new Y(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;uw(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(qO,[]);i.push(...this._bootstrapListeners),i.forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>uw(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new Y(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function uw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const JV=new pe("",{providedIn:"root",factory:()=>we(ka).handleError.bind(void 0)});function vX(){const t=we(Tt),e=we(ka);return n=>t.runOutsideAngular(()=>e.handleError(n))}let CX=(()=>{var t;class e{constructor(){this.zone=we(Tt),this.applicationRef=we(Zh)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let dw=(()=>{class e{}return e.__NG_ELEMENT_ID__=PX,e})();function PX(t){return function EX(t,e,n){if(Ic(t)&&!n){const r=Oi(t.index,e);return new nm(r,r)}return 47&t.type?new nm(e[Dn],e):null}(wr(),se(),16==(16&t))}class o3{constructor(){}supports(e){return qC(e)}create(e){return new AX(e)}}const TX=(t,e)=>e;class AX{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||TX}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<a3(r,i,o)?n:r,a=a3(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const l=a-i,h=c-i;if(l!=h){for(let m=0;m<l;m++){const v=m<o.length?o[m]:o[m]=0,E=v+m;h<=E&&E<l&&(o[m]=v+1)}o[s.previousIndex]=h-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!qC(e))throw new Y(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function uK(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new DX(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new s3),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new s3),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class DX{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class SX{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class s3{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new SX,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function a3(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class c3{constructor(){}supports(e){return e instanceof Map||sO(e)}create(){return new RX}}class RX{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||sO(e)))throw new Y(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new xX(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class xX{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function l3(){return new pw([new o3])}let pw=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||l3()),deps:[[e,new d,new f]]}}find(r){const i=this.factories.find(o=>o.supports(r));if(null!=i)return i;throw new Y(901,!1)}}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:l3}),e})();function u3(){return new Cm([new c3])}let Cm=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(i){const o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||u3()),deps:[[e,new d,new f]]}}find(r){const i=this.factories.find(o=>o.supports(r));if(i)return i;throw new Y(901,!1)}}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:u3}),e})();const FX=WV(null,"core",[]);let LX=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(Zh))},t.\u0275mod=Vn({type:t}),t.\u0275inj=Zn({}),e})();function Qh(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let e1=null;function qc(){return e1}class YX{}const _o=new pe("DocumentToken");let t1=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return we(JX)},providedIn:"platform"}),e})();const XX=new pe("Location Initialized");let JX=(()=>{var t;class e extends t1{constructor(){super(),this._doc=we(_o),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return qc().getBaseHref(this._doc)}onPopState(r){const i=qc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=qc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function n1(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function v3(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ua(t){return t&&"?"!==t[0]?"?"+t:t}let Au=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return we(w3)},providedIn:"root"}),e})();const C3=new pe("appBaseHref");let w3=(()=>{var t;class e extends Au{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??we(_o).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return n1(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+Ua(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){const a=this.prepareExternalUrl(o+Ua(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){const a=this.prepareExternalUrl(o+Ua(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(t1),ee(C3,8))},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),eJ=(()=>{var t;class e extends Au{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(r){const i=n1(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Ua(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Ua(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(t1),ee(C3,8))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})(),r1=(()=>{var t;class e{constructor(r){this._subject=new En,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function rJ(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(v3(P3(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Ua(i))}normalize(r){return e.stripTrailingSlash(function nJ(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,P3(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ua(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ua(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}}return(t=e).normalizeQueryParams=Ua,t.joinWithSlash=n1,t.stripTrailingSlash=v3,t.\u0275fac=function(r){return new(r||t)(ee(Au))},t.\u0275prov=be({token:t,factory:function(){return function tJ(){return new r1(ee(Au))}()},providedIn:"root"}),e})();function P3(t){return t.replace(/\/index.html$/,"")}function S3(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}const f1=/\s+/,R3=[];let ms=(()=>{var t;class e{constructor(r,i,o,s){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=o,this._renderer=s,this.initialClasses=R3,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(f1):R3}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(f1):r}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const i of r)this._updateState(i,!0);else if(null!=r)for(const i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){const o=this.stateMap.get(r);void 0!==o?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){(r=r.trim()).length>0&&r.split(f1).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return(t=e).\u0275fac=function(r){return new(r||t)(X(pw),X(Cm),X(Ai),X(xa))},t.\u0275dir=Ve({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class $J{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Gs=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new $J(o.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const c=i.get(s);i.move(c,a),k3(c,o)}});for(let o=0,s=i.length;o<s;o++){const c=i.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{k3(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(X(ps),X(La),X(pw))},t.\u0275dir=Ve({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function k3(t,e){t.context.$implicit=e.item}let vo=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new HJ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){N3("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){N3("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(X(ps),X(La))},t.\u0275dir=Ve({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class HJ{constructor(){this.$implicit=null,this.ngIf=null}}function N3(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Ut(e)}'.`)}let pee=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Vn({type:t}),t.\u0275inj=Zn({}),e})();function Ow(t){return"server"===t}let yee=(()=>{var t;class e{}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:()=>new vee(ee(_o),window)}),e})();class vee{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function Cee(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class U3{}class Hee extends YX{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class C1 extends Hee{static makeCurrent(){!function QX(t){e1||(e1=t)}(new C1)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function zee(){return Mm=Mm||document.querySelector("base"),Mm?Mm.getAttribute("href"):null}();return null==n?null:function Gee(t){Aw=Aw||document.createElement("a"),Aw.setAttribute("href",t);const e=Aw.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Mm=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return S3(document.cookie,e)}}let Aw,Mm=null,qee=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const w1=new pe("EventManagerPlugins");let z3=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new Y(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(w1),ee(Tt))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();class G3{constructor(e){this._doc=e}}const P1="ng-app-id";let W3=(()=>{var t;class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ow(s),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${P1}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(o=>{null!=o.textContent&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){const o=this.styleRef;if(o.has(r)){const s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(P1),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(P1,this.appId),a}}addStyleToHost(r,i){const o=this.getStyleElement(r,i);r.appendChild(o);const s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(_o),ee(xC),ee(QN,8),ee(po))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const E1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},M1=/%COMP%/g,Yee=new pe("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function K3(t,e){return e.map(n=>n.replace(M1,t))}let Z3=(()=>{var t;class e{constructor(r,i,o,s,a,c,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=Ow(c),this.defaultRenderer=new I1(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===co.ShadowDom&&(i={...i,encapsulation:co.Emulated});const o=this.getOrCreateRenderer(r,i);return o instanceof Y3?o.applyToHost(r):o instanceof O1&&o.applyStyles(),o}getOrCreateRenderer(r,i){const o=this.rendererByCompId;let s=o.get(i.id);if(!s){const a=this.doc,c=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case co.Emulated:s=new Y3(l,h,i,this.appId,p,a,c,m);break;case co.ShadowDom:return new tte(l,h,r,i,a,c,this.nonce,m);default:s=new O1(l,h,i,p,a,c,m)}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(z3),ee(W3),ee(xC),ee(Yee),ee(_o),ee(po),ee(Tt),ee(QN))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();class I1{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(E1[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Q3(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Q3(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new Y(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=E1[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=E1[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&($c.DashCase|$c.Important)?e.style.setProperty(n,r,i&$c.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&$c.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=qc().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function Q3(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class tte extends I1{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=K3(i.id,i.styles);for(const h of l){const p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class O1 extends I1{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?K3(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Y3 extends O1{constructor(e,n,r,i,o,s,a,c){const l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=function Xee(t){return"_ngcontent-%COMP%".replace(M1,t)}(l),this.hostAttr=function Jee(t){return"_nghost-%COMP%".replace(M1,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let nte=(()=>{var t;class e extends G3{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(_o))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const X3=["alt","control","meta","shift"],rte={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ite={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ote=(()=>{var t;class e extends G3{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,o){const s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>qc().onAndCancel(r,s.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const s=e._normalizeKey(i.pop());let a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),X3.forEach(h=>{const p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=rte[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),X3.forEach(a=>{a!==o&&(0,ite[a])(r)&&(s+=a+".")}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(_o))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const eU=[{provide:po,useValue:"browser"},{provide:ZN,useValue:function ste(){C1.makeCurrent()},multi:!0},{provide:_o,useFactory:function cte(){return function ZG(t){mI=t}(document),document},deps:[]}],lte=WV(FX,"browser",eU),ute=new pe(""),tU=[{provide:lw,useClass:class Wee{addToWindow(e){Gt.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Y(5103,!1);return o},Gt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Gt.getAllAngularRootElements=()=>e.getAllRootElements(),Gt.frameworkStabilizers||(Gt.frameworkStabilizers=[]),Gt.frameworkStabilizers.push(r=>{const i=Gt.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(c){s=s||c,o--,0==o&&r(s)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?qc().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:jV,useClass:HO,deps:[Tt,zO,lw]},{provide:HO,useClass:HO,deps:[Tt,zO,lw]}],nU=[{provide:OI,useValue:"root"},{provide:ka,useFactory:function ate(){return new ka},deps:[]},{provide:w1,useClass:nte,multi:!0,deps:[_o,Tt,po]},{provide:w1,useClass:ote,multi:!0,deps:[_o]},Z3,W3,z3,{provide:n2,useExisting:Z3},{provide:U3,useClass:qee,deps:[]},[]];let dte=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:xC,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(ute,12))},t.\u0275mod=Vn({type:t}),t.\u0275inj=Zn({providers:[...nU,...tU],imports:[pee,LX]}),e})(),rU=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(_o))},t.\u0275prov=be({token:t,factory:function(r){let i=null;return i=r?new r:function fte(){return new rU(ee(_o))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;const{isArray:vte}=Array,{getPrototypeOf:Cte,prototype:wte,keys:Pte}=Object;function aU(t){if(1===t.length){const e=t[0];if(vte(e))return{args:e,keys:null};if(function Ete(t){return t&&"object"==typeof t&&Cte(t)===wte}(e)){const n=Pte(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:Mte}=Array;function cU(t){return ge(e=>function Ite(t,e){return Mte(e)?t(...e):t(e)}(t,e))}function lU(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ys(...t){const e=Ss(t),n=Ds(t),{args:r,keys:i}=aU(t);if(0===r.length)return S([],e);const o=new st(function Ote(t,e,n=Nn){return r=>{uU(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)uU(e,()=>{const l=S(t[c],e);let h=!1;l.subscribe(Ce(r,p=>{o[c]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>lU(i,s):Nn));return n?o.pipe(cU(n)):o}function uU(t,e,n){t?Or(n,t,e):e()}const Dw=Ue(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function T1(...t){return function bte(){return $i(1)}()(S(t,Ss(t)))}function dU(t){return new st(e=>{Fn(t()).subscribe(e)})}function Du(t,e){const n=I(t)?t:()=>t,r=i=>i.error(n());return new st(e?i=>e.schedule(r,0,i):r)}function A1(){return K((t,e)=>{let n=null;t._refCount++;const r=Ce(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class hU extends st{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ae(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pt;const n=this.getSubject();e.add(this.source.subscribe(Ce(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pt.EMPTY)}return e}refCount(){return A1()(this)}}function Xh(t){return t<=0?()=>qn:K((e,n)=>{let r=0;e.subscribe(Ce(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Sw(...t){const e=Ss(t);return K((n,r)=>{(e?T1(t,n,e):T1(t,n)).subscribe(r)})}function qo(t,e){return K((n,r)=>{let i=0;n.subscribe(Ce(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Rw(t){return K((e,n)=>{let r=!1;e.subscribe(Ce(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function fU(t=Tte){return K((e,n)=>{let r=!1;e.subscribe(Ce(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Tte(){return new Dw}function Zc(t,e){const n=arguments.length>=2;return r=>r.pipe(t?qo((i,o)=>t(i,o,r)):Nn,Xh(1),n?Rw(e):fU(()=>new Dw))}function Jh(t,e){return I(e)?nn(t,e,1):nn(t,1)}function Sn(t,e,n){const r=I(t)||e||n?{next:t,error:e,complete:n}:t;return r?K((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Ce(o,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),o.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Nn}function Jn(t){return K((e,n)=>{let o,r=null,i=!1;r=e.subscribe(Ce(n,void 0,void 0,s=>{o=Fn(t(s,Jn(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function ef(t,e){return K(function Ate(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(Ce(s,h=>{const p=l++;c=a?t(c,h,p):(a=!0,h),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(t,e,arguments.length>=2,!0))}function D1(t){return t<=0?()=>qn:K((e,n)=>{let r=[];e.subscribe(Ce(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Im(t){return K((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const it="primary",Om=Symbol("RouteTitle");class xte{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function tf(t){return new xte(t)}function kte(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ws(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!pU(t[i],e[i]))return!1;return!0}function pU(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function gU(t){return t.length>0?t[t.length-1]:null}function Qc(t){return function yte(t){return!!t&&(t instanceof st||I(t.lift)&&I(t.subscribe))}(t)?t:cm(t)?S(Promise.resolve(t)):H(t)}const Fte={exact:function yU(t,e,n){if(!Su(t.segments,e.segments)||!xw(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!yU(t.children[r],e.children[r],n))return!1;return!0},subset:vU},mU={exact:function Lte(t,e){return Ws(t,e)},subset:function Vte(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>pU(t[n],e[n]))},ignored:()=>!0};function _U(t,e,n){return Fte[n.paths](t.root,e.root,n.matrixParams)&&mU[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function vU(t,e,n){return CU(t,e,e.segments,n)}function CU(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Su(i,n)||e.hasChildren()||!xw(i,n,r))}if(t.segments.length===n.length){if(!Su(t.segments,n)||!xw(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!vU(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(Su(t.segments,i)&&xw(t.segments,i,r)&&t.children[it])&&CU(t.children[it],e,o,r)}}function xw(t,e,n){return e.every((r,i)=>mU[n](t[i].parameters,r.parameters))}class nf{constructor(e=new jt([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tf(this.queryParams)),this._queryParamMap}toString(){return jte.serialize(this)}}class jt{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kw(this)}}class bm{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=tf(this.parameters)),this._parameterMap}toString(){return EU(this)}}function Su(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Tm=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return new S1},providedIn:"root"}),e})();class S1{parse(e){const n=new Xte(e);return new nf(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Am(e.root,!0)}`,r=function zte(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Nw(n)}=${Nw(i)}`).join("&"):`${Nw(n)}=${Nw(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function $te(t){return encodeURI(t)}(e.fragment)}`:""}`}}const jte=new S1;function kw(t){return t.segments.map(e=>EU(e)).join("/")}function Am(t,e){if(!t.hasChildren())return kw(t);if(e){const n=t.children[it]?Am(t.children[it],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==it&&r.push(`${i}:${Am(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Bte(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===it&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==it&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===it?[Am(t.children[it],!1)]:[`${i}:${Am(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[it]?`${kw(t)}/${n[0]}`:`${kw(t)}/(${n.join("//")})`}}function wU(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nw(t){return wU(t).replace(/%3B/gi,";")}function R1(t){return wU(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fw(t){return decodeURIComponent(t)}function PU(t){return Fw(t.replace(/\+/g,"%20"))}function EU(t){return`${R1(t.path)}${function Hte(t){return Object.keys(t).map(e=>`;${R1(e)}=${R1(t[e])}`).join("")}(t.parameters)}`}const Gte=/^[^\/()?;#]+/;function x1(t){const e=t.match(Gte);return e?e[0]:""}const Wte=/^[^\/()?;=#]+/,Kte=/^[^=?&#]+/,Qte=/^[^&#]+/;class Xte{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new jt([],{}):new jt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[it]=new jt(e,n)),r}parseSegment(){const e=x1(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Y(4009,!1);return this.capture(e),new bm(Fw(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function qte(t){const e=t.match(Wte);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=x1(this.remaining);i&&(r=i,this.capture(r))}e[Fw(n)]=Fw(r)}parseQueryParam(e){const n=function Zte(t){const e=t.match(Kte);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function Yte(t){const e=t.match(Qte);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=PU(n),o=PU(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=x1(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Y(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=it);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[it]:new jt([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Y(4011,!1)}}function MU(t){return t.segments.length>0?new jt([],{[it]:t}):t}function IU(t){const e={};for(const r of Object.keys(t.children)){const o=IU(t.children[r]);if(r===it&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function Jte(t){if(1===t.numberOfChildren&&t.children[it]){const e=t.children[it];return new jt(t.segments.concat(e.segments),e.children)}return t}(new jt(t.segments,e))}function Ru(t){return t instanceof nf}function OU(t){let e;const i=MU(function n(o){const s={};for(const c of o.children){const l=n(c);s[c.outlet]=l}const a=new jt(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function bU(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return k1(i,i,i,n,r);const o=function tne(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new AU(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new AU(n,e,r)}(e);if(o.toRoot())return k1(i,i,new jt([],{}),n,r);const s=function nne(t,e,n){if(t.isAbsolute)return new Vw(e,!0,0);if(!n)return new Vw(e,!1,NaN);if(null===n.parent)return new Vw(n,!0,0);const r=Lw(t.commands[0])?0:1;return function rne(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Y(4005,!1);i=r.segments.length}return new Vw(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?Sm(s.segmentGroup,s.index,o.commands):DU(s.segmentGroup,s.index,o.commands);return k1(i,s.segmentGroup,a,n,r)}function Lw(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Dm(t){return"object"==typeof t&&null!=t&&t.outlets}function k1(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`}),s=t===e?n:TU(t,e,n);const a=MU(IU(s));return new nf(a,o,i)}function TU(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:TU(o,e,n)}),new jt(t.segments,r)}class AU{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Lw(r[0]))throw new Y(4003,!1);const i=r.find(Dm);if(i&&i!==gU(r))throw new Y(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vw{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function DU(t,e,n){if(t||(t=new jt([],{})),0===t.segments.length&&t.hasChildren())return Sm(t,e,n);const r=function one(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(Dm(a))break;const c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!RU(c,l,s))return o;r+=2}else{if(!RU(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new jt(t.segments.slice(0,r.pathIndex),{});return o.children[it]=new jt(t.segments.slice(r.pathIndex),t.children),Sm(o,0,i)}return r.match&&0===i.length?new jt(t.segments,{}):r.match&&!t.hasChildren()?N1(t,e,n):r.match?Sm(t,0,i):N1(t,e,n)}function Sm(t,e,n){if(0===n.length)return new jt(t.segments,{});{const r=function ine(t){return Dm(t[0])?t[0].outlets:{[it]:t}}(n),i={};if(Object.keys(r).some(o=>o!==it)&&t.children[it]&&1===t.numberOfChildren&&0===t.children[it].segments.length){const o=Sm(t.children[it],e,n);return new jt(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=DU(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new jt(t.segments,i)}}function N1(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Dm(o)){const c=sne(o.outlets);return new jt(r,c)}if(0===i&&Lw(n[0])){r.push(new bm(t.segments[e].path,SU(n[0]))),i++;continue}const s=Dm(o)?o.outlets[it]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Lw(a)?(r.push(new bm(s,SU(a))),i+=2):(r.push(new bm(s,{})),i++)}return new jt(r,{})}function sne(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=N1(new jt([],{}),0,r))}),e}function SU(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function RU(t,e,n){return t==n.path&&Ws(e,n.parameters)}const Rm="imperative";class qs{constructor(e,n){this.id=e,this.url=n}}class Uw extends qs{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Yc extends qs{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class xm extends qs{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class rf extends qs{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Bw extends qs{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xU extends qs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ane extends qs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cne extends qs{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class lne extends qs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class une extends qs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dne{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hne{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fne{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pne{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gne{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mne{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kU{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class F1{}class L1{constructor(e){this.url=e}}class _ne{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new km,this.attachRef=null}}let km=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new _ne,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class NU{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=V1(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=V1(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=U1(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return U1(e,this._root).map(n=>n.value)}}function V1(t,e){if(t===e.value)return e;for(const n of e.children){const r=V1(t,n);if(r)return r}return null}function U1(t,e){if(t===e.value)return[e];for(const n of e.children){const r=U1(t,n);if(r.length)return r.unshift(e),r}return[]}class $a{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function sf(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class FU extends NU{constructor(e,n){super(e),this.snapshot=n,B1(this,e)}toString(){return this.snapshot.toString()}}function LU(t,e){const n=function yne(t,e){const s=new jw([],{},{},"",{},it,e,null,{});return new UU("",new $a(s,[]))}(0,e),r=new U([new bm("",{})]),i=new U({}),o=new U({}),s=new U({}),a=new U(""),c=new Xc(r,i,s,a,o,it,e,n.root);return c.snapshot=n.root,new FU(new $a(c,[]),n)}class Xc{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ge(l=>l[Om]))??H(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ge(e=>tf(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ge(e=>tf(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function VU(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function vne(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class jw{get title(){return this.data?.[Om]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=tf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class UU extends NU{constructor(e,n){super(n),this.url=e,B1(this,n)}toString(){return BU(this._root)}}function B1(t,e){e.value._routerState=t,e.children.forEach(n=>B1(t,n))}function BU(t){const e=t.children.length>0?` { ${t.children.map(BU).join(", ")} } `:"";return`${t.value}${e}`}function j1(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ws(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Ws(e.params,n.params)||t.paramsSubject.next(n.params),function Nte(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ws(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Ws(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function $1(t,e){const n=Ws(t.params,e.params)&&function Ute(t,e){return Su(t,e)&&t.every((n,r)=>Ws(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||$1(t.parent,e.parent))}let Jc=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=it,this.activateEvents=new En,this.deactivateEvents=new En,this.attachEvents=new En,this.detachEvents=new En,this.parentContexts=we(km),this.location=we(ps),this.changeDetector=we(dw),this.environmentInjector=we(fo),this.inputBinder=we($w,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Y(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Y(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Y(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new Y(4013,!1);this._activatedRoute=r;const o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new Cne(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Ve({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[oi]}),e})();class Cne{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Xc?this.route:e===km?this.childContexts:this.parent.get(e,n)}}const $w=new pe("");let jU=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:i}=r,o=ys([i.queryParams,i.params,i.data]).pipe(Ke(([s,a,c],l)=>(c={...s,...a,...c},0===l?H(c):Promise.resolve(c)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(r);const a=function ZX(t){const e=mt(t);if(!e)return null;const n=new rm(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(a)for(const{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,s[c]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,o)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();function Nm(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Pne(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Nm(t,r,i);return Nm(t,r)})}(t,e,n);return new $a(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Nm(t,a)),s}}const r=function Ene(t){return new Xc(new U(t.url),new U(t.params),new U(t.queryParams),new U(t.fragment),new U(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>Nm(t,o));return new $a(r,i)}}const H1="ngNavigationCancelingError";function $U(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Ru(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=HU(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function HU(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[H1]=!0,r.cancellationCode=e,n&&(r.url=n),r}function zU(t){return t&&t[H1]}let GU=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=xt({type:t,selectors:[["ng-component"]],standalone:!0,features:[GL],decls:1,vars:0,template:function(r,i){1&r&&A(0,"router-outlet")},dependencies:[Jc],encapsulation:2}),e})();function z1(t){const e=t.children&&t.children.map(z1),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==it&&(n.component=GU),n}function vs(t){return t.outlet||it}function Fm(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Sne{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),j1(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=sf(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=sf(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=sf(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=sf(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new mne(o.value.snapshot))}),e.children.length&&this.forwardEvent(new pne(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(j1(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),j1(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Fm(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class WU{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Hw{constructor(e,n){this.component=e,this.route=n}}function Rne(t,e,n){const r=t._root;return Lm(r,e?e._root:null,n,[r.value])}function af(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function XE(t){return null!==ql(t)}(t)?e.get(t):t:r}function Lm(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=sf(e);return t.children.forEach(s=>{(function kne(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function Nne(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Su(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Su(t.url,e.url)||!Ws(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$1(t,e)||!Ws(t.queryParams,e.queryParams);default:return!$1(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new WU(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Lm(t,e,o.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Hw(a.outlet.component,s))}else s&&Vm(e,a,i),i.canActivateChecks.push(new WU(r)),Lm(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Vm(a,n.getContext(s),i)),i}function Vm(t,e,n){const r=sf(t),i=t.value;Object.entries(r).forEach(([o,s])=>{Vm(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Hw(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Um(t){return"function"==typeof t}function qU(t){return t instanceof Dw||"EmptyError"===t?.name}const zw=Symbol("INITIAL_VALUE");function cf(){return Ke(t=>ys(t.map(e=>e.pipe(Xh(1),Sw(zw)))).pipe(ge(e=>{for(const n of e)if(!0!==n){if(n===zw)return zw;if(!1===n||n instanceof nf)return n}return!0}),qo(e=>e!==zw),Xh(1)))}function KU(t){return function bo(...t){return To(t)}(Sn(e=>{if(Ru(e))throw $U(0,e)}),ge(e=>!0===e))}class Gw{constructor(e){this.segmentGroup=e||null}}class ZU{constructor(e){this.urlTree=e}}function lf(t){return Du(new Gw(t))}function QU(t){return Du(new ZU(t))}class tre{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new Y(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return H(r);if(i.numberOfChildren>1||!i.children[it])return Du(new Y(4e3,!1));i=i.children[it]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new nf(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new jt(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new Y(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const G1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nre(t,e,n,r,i){const o=W1(t,e,n);return o.matched?(r=function Ine(t,e){return t.providers&&!t._injector&&(t._injector=IO(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function Xne(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?H(i.map(s=>{const a=af(s,t);return Qc(function jne(t){return t&&Um(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(cf(),KU()):H(!0)}(r,e,n).pipe(ge(s=>!0===s?o:{...G1}))):H(o)}function W1(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...G1}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||kte)(n,t,e);if(!i)return{...G1};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function YU(t,e,n,r){return n.length>0&&function ore(t,e,n){return n.some(r=>Ww(t,e,r)&&vs(r)!==it)}(t,n,r)?{segmentGroup:new jt(e,ire(r,new jt(n,t.children))),slicedSegments:[]}:0===n.length&&function sre(t,e,n){return n.some(r=>Ww(t,e,r))}(t,n,r)?{segmentGroup:new jt(t.segments,rre(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new jt(t.segments,t.children),slicedSegments:n}}function rre(t,e,n,r,i){const o={};for(const s of r)if(Ww(t,n,s)&&!i[vs(s)]){const a=new jt([],{});o[vs(s)]=a}return{...i,...o}}function ire(t,e){const n={};n[it]=e;for(const r of t)if(""===r.path&&vs(r)!==it){const i=new jt([],{});n[vs(r)]=i}return n}function Ww(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class ure{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new tre(this.urlSerializer,this.urlTree)}noMatchError(e){return new Y(4002,!1)}recognize(){const e=YU(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,it).pipe(Jn(n=>{if(n instanceof ZU)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Gw?this.noMatchError(n):n}),ge(n=>{const r=new jw([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},it,this.rootComponentType,null,{}),i=new $a(r,n),o=new UU("",i),s=function ene(t,e,n=null,r=null){return bU(OU(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,it).pipe(Jn(r=>{throw r instanceof Gw?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=VU(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return S(i).pipe(Jh(o=>{const s=r.children[o],a=function Ane(t,e){const n=t.filter(r=>vs(r)===e);return n.push(...t.filter(r=>vs(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),ef((o,s)=>(o.push(...s),o)),Rw(null),function Dte(t,e){const n=arguments.length>=2;return r=>r.pipe(t?qo((i,o)=>t(i,o,r)):Nn,D1(1),n?Rw(e):fU(()=>new Dw))}(),nn(o=>{if(null===o)return lf(r);const s=XU(o);return function dre(t){t.sort((e,n)=>e.value.outlet===it?-1:n.value.outlet===it?1:e.value.outlet.localeCompare(n.value.outlet))}(s),H(s)}))}processSegment(e,n,r,i,o,s){return S(n).pipe(Jh(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(Jn(c=>{if(c instanceof Gw)return H(null);throw c}))),Zc(a=>!!a),Jn(a=>{if(qU(a))return function cre(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?H([]):lf(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function are(t,e,n,r){return!!(vs(t)===r||r!==it&&Ww(e,n,t))&&("**"===t.path||W1(e,t,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):lf(i):lf(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?QU(o):this.applyRedirects.lineralizeSegments(r,o).pipe(nn(s=>{const a=new jt(s,{});return this.processSegment(e,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:h}=W1(n,i,o);if(!a)return lf(n);const p=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,h);return i.redirectTo.startsWith("/")?QU(p):this.applyRedirects.lineralizeSegments(i,p).pipe(nn(m=>this.processSegment(e,r,n,m.concat(l),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a;if("**"===r.path){const c=i.length>0?gU(i).parameters:{};a=H({snapshot:new jw(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,JU(r),vs(r),r.component??r._loadedComponent??null,r,e5(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=nre(n,r,i,e).pipe(ge(({matched:c,consumedSegments:l,remainingSegments:h,parameters:p})=>c?{snapshot:new jw(l,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,JU(r),vs(r),r.component??r._loadedComponent??null,r,e5(r)),consumedSegments:l,remainingSegments:h}:null));return a.pipe(Ke(c=>null===c?lf(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Ke(({routes:l})=>{const h=r._loadedInjector??e,{snapshot:p,consumedSegments:m,remainingSegments:v}=c,{segmentGroup:E,slicedSegments:O}=YU(n,m,v,l);if(0===O.length&&E.hasChildren())return this.processChildren(h,l,E).pipe(ge(F=>null===F?null:[new $a(p,F)]));if(0===l.length&&0===O.length)return H([new $a(p,[])]);const b=vs(r)===o;return this.processSegment(h,l,E,O,b?it:o,!0).pipe(ge(F=>[new $a(p,F)]))}))))}getChildConfig(e,n,r){return n.children?H({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?H({routes:n._loadedRoutes,injector:n._loadedInjector}):function Yne(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?H(!0):H(i.map(s=>{const a=af(s,t);return Qc(function Lne(t){return t&&Um(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(cf(),KU())}(e,n,r).pipe(nn(i=>i?this.configLoader.loadChildren(e,n).pipe(Sn(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function ere(t){return Du(HU(!1,3))}())):H({routes:[],injector:e})}}function hre(t){const e=t.value.routeConfig;return e&&""===e.path}function XU(t){const e=[],n=new Set;for(const r of t){if(!hre(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=XU(r.children);e.push(new $a(r.value,i))}return e.filter(r=>!n.has(r))}function JU(t){return t.data||{}}function e5(t){return t.resolve||{}}function t5(t){return"string"==typeof t.title||null===t.title}function q1(t){return Ke(e=>{const n=t(e);return n?S(n).pipe(ge(()=>e)):H(e)})}const uf=new pe("ROUTES");let K1=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=we(LV)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return H(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=Qc(r.loadComponent()).pipe(ge(n5),Sn(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Im(()=>{this.componentLoaders.delete(r)})),o=new hU(i,()=>new Q).pipe(A1());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return H({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function vre(t,e,n,r){return Qc(t.loadChildren()).pipe(ge(n5),nn(i=>i instanceof HL||Array.isArray(i)?H(i):S(e.compileModuleAsync(i))),ge(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(uf,[],{optional:!0,self:!0}).flat()),{routes:s.map(z1),injector:o}}))}(i,this.compiler,r,this.onLoadEndListener).pipe(Im(()=>{this.childrenLoaders.delete(i)})),a=new hU(s,()=>new Q).pipe(A1());return this.childrenLoaders.set(i,a),a}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function n5(t){return function Cre(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let qw=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Q,this.transitionAbortSubject=new Q,this.configLoader=we(K1),this.environmentInjector=we(fo),this.urlSerializer=we(Tm),this.rootContexts=we(km),this.inputBindingEnabled=null!==we($w,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>H(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new hne(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new dne(o))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,o){return this.transitions=new U({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:r.urlHandlingStrategy.extract(i),urlAfterRedirects:r.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Rm,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(qo(s=>0!==s.id),ge(s=>({...s,extractedUrl:r.urlHandlingStrategy.extract(s.rawUrl)})),Ke(s=>{this.currentTransition=s;let a=!1,c=!1;return H(s).pipe(Sn(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ke(l=>{const h=l.currentBrowserUrl.toString(),p=!r.navigated||l.extractedUrl.toString()!==h||h!==l.currentUrlTree.toString();if(!p&&"reload"!==(l.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const v="";return this.events.next(new rf(l.id,this.urlSerializer.serialize(l.rawUrl),v,0)),l.resolve(null),qn}if(r.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return H(l).pipe(Ke(v=>{const E=this.transitions?.getValue();return this.events.next(new Uw(v.id,this.urlSerializer.serialize(v.extractedUrl),v.source,v.restoredState)),E!==this.transitions?.getValue()?qn:Promise.resolve(v)}),function fre(t,e,n,r,i,o){return nn(s=>function lre(t,e,n,r,i,o,s="emptyOnly"){return new ure(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(ge(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),Sn(v=>{s.targetSnapshot=v.targetSnapshot,s.urlAfterRedirects=v.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:v.urlAfterRedirects};const E=new xU(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(E)}));if(p&&r.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:v,extractedUrl:E,source:O,restoredState:b,extras:F}=l,x=new Uw(v,this.urlSerializer.serialize(E),O,b);this.events.next(x);const z=LU(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:z,urlAfterRedirects:E,extras:{...F,skipLocationChange:!1,replaceUrl:!1}},H(s)}{const v="";return this.events.next(new rf(l.id,this.urlSerializer.serialize(l.extractedUrl),v,1)),l.resolve(null),qn}}),Sn(l=>{const h=new ane(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),ge(l=>(this.currentTransition=s={...l,guards:Rne(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function Hne(t,e){return nn(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?H({...n,guardsResult:!0}):function zne(t,e,n,r){return S(t).pipe(nn(i=>function Qne(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?H(o.map(a=>{const c=Fm(e)??i,l=af(a,c);return Qc(function Bne(t){return t&&Um(t.canDeactivate)}(l)?l.canDeactivate(t,e,n,r):c.runInContext(()=>l(t,e,n,r))).pipe(Zc())})).pipe(cf()):H(!0)}(i.component,i.route,n,e,r)),Zc(i=>!0!==i,!0))}(s,r,i,t).pipe(nn(a=>a&&function Fne(t){return"boolean"==typeof t}(a)?function Gne(t,e,n,r){return S(e).pipe(Jh(i=>T1(function qne(t,e){return null!==t&&e&&e(new fne(t)),H(!0)}(i.route.parent,r),function Wne(t,e){return null!==t&&e&&e(new gne(t)),H(!0)}(i.route,r),function Zne(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function xne(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>dU(()=>H(s.guards.map(c=>{const l=Fm(s.node)??n,h=af(c,l);return Qc(function Une(t){return t&&Um(t.canActivateChild)}(h)?h.canActivateChild(r,t):l.runInContext(()=>h(r,t))).pipe(Zc())})).pipe(cf())));return H(o).pipe(cf())}(t,i.path,n),function Kne(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return H(!0);const i=r.map(o=>dU(()=>{const s=Fm(e)??n,a=af(o,s);return Qc(function Vne(t){return t&&Um(t.canActivate)}(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t))).pipe(Zc())}));return H(i).pipe(cf())}(t,i.route,n))),Zc(i=>!0!==i,!0))}(r,o,t,e):H(a)),ge(a=>({...n,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Sn(l=>{if(s.guardsResult=l.guardsResult,Ru(l.guardsResult))throw $U(0,l.guardsResult);const h=new cne(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),qo(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),q1(l=>{if(l.guards.canActivateChecks.length)return H(l).pipe(Sn(h=>{const p=new lne(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),Ke(h=>{let p=!1;return H(h).pipe(function pre(t,e){return nn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return H(n);let o=0;return S(i).pipe(Jh(s=>function gre(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!t5(i)&&(o[Om]=i.title),function mre(t,e,n,r){const i=function _re(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return H({});const o={};return S(i).pipe(nn(s=>function yre(t,e,n,r){const i=Fm(e)??r,o=af(t,i);return Qc(o.resolve?o.resolve(e,n):i.runInContext(()=>o(e,n)))}(t[s],e,n,r).pipe(Zc(),Sn(a=>{o[s]=a}))),D1(1),function Ste(t){return ge(()=>t)}(o),Jn(s=>qU(s)?qn:Du(s)))}(o,t,e,r).pipe(ge(s=>(t._resolvedData=s,t.data=VU(t,n).resolve,i&&t5(i)&&(t.data[Om]=i.title),null)))}(s.route,r,t,e)),Sn(()=>o++),D1(1),nn(s=>o===i.length?H(n):qn))})}(r.paramsInheritanceStrategy,this.environmentInjector),Sn({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",2)}}))}),Sn(h=>{const p=new une(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),q1(l=>{const h=p=>{const m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(Sn(v=>{p.component=v}),ge(()=>{})));for(const v of p.children)m.push(...h(v));return m};return ys(h(l.targetSnapshot.root)).pipe(Rw(),Xh(1))}),q1(()=>this.afterPreactivation()),ge(l=>{const h=function wne(t,e,n){const r=Nm(t,e._root,n?n._root:void 0);return new FU(r,e)}(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:h},s}),Sn(()=>{this.events.next(new F1)}),((t,e,n,r)=>ge(i=>(new Sne(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Xh(1),Sn({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Yc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),r.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),function Rte(t){return K((e,n)=>{Fn(t).subscribe(Ce(n,()=>n.complete(),Ae)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Sn(l=>{throw l}))),Im(()=>{a||c||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Jn(l=>{if(c=!0,zU(l))this.events.next(new xm(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function Mne(t){return zU(t)&&Ru(t.url)}(l)?this.events.next(new L1(l.url)):s.resolve(!1);else{this.events.next(new Bw(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(h){s.reject(h)}}return qn}))}))}cancelNavigationTransition(r,i,o){const s=new xm(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function r5(t){return t!==Rm}let i5=(()=>{var t;class e{buildTitle(r){let i,o=r.root;for(;void 0!==o;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===it);return i}getResolvedTitleForRoute(r){return r.data[Om]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return we(wre)},providedIn:"root"}),e})(),wre=(()=>{var t;class e extends i5{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(rU))},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Pre=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return we(Mre)},providedIn:"root"}),e})();class Ere{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Mre=(()=>{var t;class e extends Ere{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Pr(t)))(i||t)}}(),t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Kw=new pe("",{providedIn:"root",factory:()=>({})});let Ire=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return we(Ore)},providedIn:"root"}),e})(),Ore=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var Bm=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Bm||{});function o5(t,e){t.events.pipe(qo(n=>n instanceof Yc||n instanceof xm||n instanceof Bw||n instanceof rf),ge(n=>n instanceof Yc||n instanceof rf?Bm.COMPLETE:n instanceof xm&&(0===n.code||1===n.code)?Bm.REDIRECTING:Bm.FAILED),qo(n=>n!==Bm.REDIRECTING),Xh(1)).subscribe(()=>{e()})}function bre(t){throw t}function Tre(t,e,n){return e.parse("/")}const Are={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Dre={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let li=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=we(FV),this.isNgZoneEnabled=!1,this._events=new Q,this.options=we(Kw,{optional:!0})||{},this.pendingTasks=we(aw),this.errorHandler=this.options.errorHandler||bre,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Tre,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=we(Ire),this.routeReuseStrategy=we(Pre),this.titleStrategy=we(i5),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=we(uf,{optional:!0})?.flat()??[],this.navigationTransitions=we(qw),this.urlSerializer=we(Tm),this.location=we(r1),this.componentInputBindingEnabled=!!we($w,{optional:!0}),this.eventsSubscription=new Pt,this.isNgZoneEnabled=we(Tt)instanceof Tt&&Tt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new nf,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=LU(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:o}=this.navigationTransitions;if(null===o)return void(s5(i)&&this._events.next(i));if(i instanceof Uw)r5(o.source)&&(this.browserUrlTree=o.extractedUrl);else if(i instanceof rf)this.rawUrlTree=o.rawUrl;else if(i instanceof xU){if("eager"===this.urlUpdateStrategy){if(!o.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl);this.setBrowserUrl(s,o)}this.browserUrlTree=o.urlAfterRedirects}}else if(i instanceof F1)this.currentUrlTree=o.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o),this.browserUrlTree=o.urlAfterRedirects);else if(i instanceof xm)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(o);else if(i instanceof L1){const s=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),a={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||r5(o.source)};this.scheduleNavigation(s,Rm,null,a,{resolve:o.resolve,reject:o.reject,promise:o.promise})}i instanceof Bw&&this.restoreHistory(o,!0),i instanceof Yc&&(this.navigated=!0),s5(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Rm,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,o){const s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){const l={...o};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(z1),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a;let m,p=null;switch(c){case"merge":p={...this.currentUrlTree.queryParams,...s};break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}null!==p&&(p=this.removeEmptyProps(p));try{m=OU(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),m=this.currentUrlTree.root}return bU(m,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){const o=Ru(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Rm,null,i)}navigate(r,i={skipLocationChange:!1}){return function Sre(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new Y(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(o){i=this.malformedUriErrorHandler(o,this.urlSerializer,r)}return i}isActive(r,i){let o;if(o=!0===i?{...Are}:!1===i?{...Dre}:i,Ru(r))return _U(this.currentUrlTree,r,o);const s=this.parseUrl(r);return _U(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.keys(r).reduce((i,o)=>{const s=r[o];return null!=s&&(i[o]=s),i},{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,h;a?(c=a.resolve,l=a.reject,h=a.promise):h=new Promise((m,v)=>{c=m,l=v});const p=this.pendingTasks.add();return o5(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:s,resolve:c,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}setBrowserUrl(r,i){const o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(o,"",a)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(o,"",s)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function s5(t){return!(t instanceof F1||t instanceof L1)}let qr=(()=>{var t;class e{constructor(r,i,o,s,a,c){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new Q,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof Yc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){null!=r?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){return!!(null===this.urlTree||this.isAnchorElement&&(0!==r||i||o||s||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const r=null===this.href?null:function jN(t,e,n){return function _W(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?BN:zc}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){const o=this.renderer,s=this.el.nativeElement;null!==i?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(t=e).\u0275fac=function(r){return new(r||t)(X(li),X(Xc),function _h(t){return function $M(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(Bp(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}(wr(),t)}("tabindex"),X(xa),X(Ai),X(Au))},t.\u0275dir=Ve({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&ie("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&Ho("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Qh],skipLocationChange:["skipLocationChange","skipLocationChange",Qh],replaceUrl:["replaceUrl","replaceUrl",Qh],routerLink:"routerLink"},standalone:!0,features:[eF,oi]}),e})();class a5{}let kre=(()=>{var t;class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(qo(r=>r instanceof Yc),Jh(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){const o=[];for(const s of i){s.providers&&!s._injector&&(s._injector=IO(s.providers,r,`Route: ${s.path}`));const a=s._injector??r,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(c,s.children??s._loadedRoutes))}return S(o).pipe($i())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;o=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(r,i):H(null);const s=o.pipe(nn(a=>null===a?H(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));return i.loadComponent&&!i._loadedComponent?S([s,this.loader.loadComponent(i)]).pipe($i()):s})}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(li),ee(LV),ee(fo),ee(a5),ee(K1))},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Z1=new pe("");let c5=(()=>{var t;class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Uw?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Yc?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof rf&&0===r.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof kU&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new kU(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){!function b2(){throw new Error("invalid")}()},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();function Ha(t,e){return{\u0275kind:t,\u0275providers:e}}function u5(){const t=we(Di);return e=>{const n=t.get(Zh);if(e!==n.components[0])return;const r=t.get(li),i=t.get(d5);1===t.get(Q1)&&r.initialNavigation(),t.get(h5,null,ft.Optional)?.setUpPreloading(),t.get(Z1,null,ft.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const d5=new pe("",{factory:()=>new Q}),Q1=new pe("",{providedIn:"root",factory:()=>1}),h5=new pe("");function Vre(t){return Ha(0,[{provide:h5,useExisting:kre},{provide:a5,useExisting:t}])}const f5=new pe("ROUTER_FORROOT_GUARD"),Bre=[r1,{provide:Tm,useClass:S1},li,km,{provide:Xc,useFactory:function l5(t){return t.routerState.root},deps:[li]},K1,[]];function jre(){return new zV("Router",li)}let p5=(()=>{var t;class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[Bre,[],{provide:uf,multi:!0,useValue:r},{provide:f5,useFactory:Gre,deps:[[li,new f,new d]]},{provide:Kw,useValue:i||{}},i?.useHash?{provide:Au,useClass:eJ}:{provide:Au,useClass:w3},{provide:Z1,useFactory:()=>{const t=we(yee),e=we(Tt),n=we(Kw),r=we(qw),i=we(Tm);return n.scrollOffset&&t.setOffset(n.scrollOffset),new c5(i,r,t,e,n)}},i?.preloadingStrategy?Vre(i.preloadingStrategy).\u0275providers:[],{provide:zV,multi:!0,useFactory:jre},i?.initialNavigation?Wre(i):[],i?.bindToComponentInputs?Ha(8,[jU,{provide:$w,useExisting:jU}]).\u0275providers:[],[{provide:g5,useFactory:u5},{provide:qO,multi:!0,useExisting:g5}]]}}static forChild(r){return{ngModule:e,providers:[{provide:uf,multi:!0,useValue:r}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(f5,8))},t.\u0275mod=Vn({type:t}),t.\u0275inj=Zn({}),e})();function Gre(t){return"guarded"}function Wre(t){return["disabled"===t.initialNavigation?Ha(3,[{provide:UO,multi:!0,useFactory:()=>{const e=we(li);return()=>{e.setUpLocationChangeListener()}}},{provide:Q1,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Ha(2,[{provide:Q1,useValue:0},{provide:UO,multi:!0,deps:[Di],useFactory:e=>{const n=e.get(XX,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(li),o=e.get(d5);o5(i,()=>{r(!0)}),e.get(qw).afterPreactivation=()=>(r(!0),o.closed?H(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const g5=new pe("");var k=qe(861),Je=qe(534),Co=qe(537),M=qe(58),ui=qe(879);const m5="@firebase/database";let Y1="";function X1(t){Y1=t}class Kre{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,M.Wl)(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:(0,M.cI)(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Zre{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return(0,M.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const y5=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Kre(e)}}catch{}return new Zre},xu=y5("localStorage"),J1=y5("sessionStorage"),df=new ui.Yd("@firebase/database"),v5=function(){let t=1;return function(){return t++}}(),C5=function(t){const e=(0,M.dS)(t),n=new M.gQ;n.update(e);const r=n.digest();return M.US.encodeByteArray(r)},jm=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=jm.apply(null,r):e+="object"==typeof r?(0,M.Wl)(r):r,e+=" "}return e};let ku=null,w5=!0;const P5=function(t,e){(0,M.hu)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(df.logLevel=ui.in.VERBOSE,ku=df.log.bind(df),e&&J1.set("logging_enabled",!0)):"function"==typeof t?ku=t:(ku=null,J1.remove("logging_enabled"))},Dr=function(...t){if(!0===w5&&(w5=!1,null===ku&&!0===J1.get("logging_enabled")&&P5(!0)),ku){const e=jm.apply(null,t);ku(e)}},$m=function(t){return function(...e){Dr(t,...e)}},eb=function(...t){const e="FIREBASE INTERNAL ERROR: "+jm(...t);df.error(e)},Ks=function(...t){const e=`FIREBASE FATAL ERROR: ${jm(...t)}`;throw df.error(e),new Error(e)},di=function(...t){const e="FIREBASE WARNING: "+jm(...t);df.warn(e)},Zw=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},el="[MIN_NAME]",za="[MAX_NAME]",Nu=function(t,e){if(t===e)return 0;if(t===el||e===za)return-1;if(e===el||t===za)return 1;{const n=I5(t),r=I5(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},Xre=function(t,e){return t===e?0:t<e?-1:1},Hm=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+(0,M.Wl)(e))},tb=function(t){if("object"!=typeof t||null===t)return(0,M.Wl)(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=(0,M.Wl)(e[r]),n+=":",n+=tb(t[e[r]]);return n+="}",n},E5=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function Sr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const M5=function(t){(0,M.hu)(!Zw(t),"Invalid JSON number");const r=1023;let i,o,s,a,c;0===t?(o=0,s=0,i=1/t==-1/0?1:0):(i=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(t/Math.pow(2,-1074))));const l=[];for(c=52;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=11;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();const h=l.join("");let p="";for(c=0;c<64;c+=8){let m=parseInt(h.substr(c,8),2).toString(16);1===m.length&&(m="0"+m),p+=m}return p.toLowerCase()},nie=new RegExp("^-?(0*)\\d{1,10}$"),I5=function(t){if(nie.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},hf=function(t){try{t()}catch(e){setTimeout(()=>{throw di("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},zm=function(t,e){const n=setTimeout(t,e);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class sie{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){di(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class aie{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(Dr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',di(e)}}let Gm=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const D5=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,x5="websocket",k5="long_polling";class rb{constructor(e,n,r,i,o=!1,s="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=xu.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&xu.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function N5(t,e,n){let r;if((0,M.hu)("string"==typeof e,"typeof type must == string"),(0,M.hu)("object"==typeof n,"typeof params must == object"),e===x5)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==k5)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function cie(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return Sr(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}class lie{constructor(){this.counters_={}}incrementCounter(e,n=1){(0,M.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return(0,M.p$)(this.counters_)}}const ib={},ob={};function sb(t){const e=t.toString();return ib[e]||(ib[e]=new lie),ib[e]}class die{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&hf(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class tl{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=$m(e),this.stats_=sb(n),this.urlFn=c=>(this.appCheckToken&&(c.ac=this.appCheckToken),N5(n,k5,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new die(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if((0,M.Yr)()||"complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ab((...o)=>{const[s,a,c,l,h]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=c;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&D5.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){tl.forceAllow_=!0}static forceDisallow(){tl.forceDisallow_=!0}static isAvailable(){return!((0,M.Yr)()||!tl.forceAllow_&&(tl.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=(0,M.Wl)(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=(0,M.h$)(n),i=E5(r,1840);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if((0,M.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=(0,M.Wl)(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class ab{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,M.Yr)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=v5(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=ab.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Dr("frame writing exception"),a.stack&&Dr(a.stack),Dr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Dr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const s=this.pendingSegs.shift();r=r+"&seg"+i+"="+s.seg+"&ts"+i+"="+s.ts+"&d"+i+"="+s.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,n){(0,M.Yr)()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Dr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let Yw=null;typeof MozWebSocket<"u"?Yw=MozWebSocket:typeof WebSocket<"u"&&(Yw=WebSocket);let ff=(()=>{class t{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=$m(this.connId),this.stats_=sb(r),this.connURL=t.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){const a={v:"5"};return!(0,M.Yr)()&&typeof location<"u"&&location.hostname&&D5.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),o&&(a.ac=o),s&&(a.p=s),N5(n,x5,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,xu.set("previous_websocket_failure",!0);try{let i;if((0,M.Yr)()){i={headers:{"User-Agent":`Firebase/5/${Y1}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const s=process.env,a=0===this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Yw(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==Yw&&!t.forceDisallow_}static previouslyFailed(){return xu.isInMemoryStorage||!0===xu.get("previous_websocket_failure")}markConnectionHealthy(){xu.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,M.cI)(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if((0,M.hu)(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=(0,M.Wl)(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=E5(r,16384);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),$5=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[tl,ff]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=ff&&ff.isAvailable();let i=r&&!ff.previouslyFailed();if(n.webSocketOnly&&(r||di("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ff];else{const o=this.transports_=[];for(const s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class Z5{constructor(e,n,r,i,o,s,a,c,l,h){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=$m("c:"+this.id+":"),this.transportManager_=new $5(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=zm(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Hm("t",e),r=Hm("d",e);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Hm("t",e),r=Hm("d",e);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Hm("t",e);if("d"in e){const r=e.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?eb("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):eb("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&di("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),zm(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):zm(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(xu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Q5{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class Y5{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,M.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context))return void i.splice(o,1)}validateEventType_(e){(0,M.hu)(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class Xw extends Y5{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,M.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Xw}getInitialEvent(e){return(0,M.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Vt{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function kt(){return new Vt("")}function pt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function nl(t){return t.pieces_.length-t.pieceNum_}function Xt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Vt(t.pieces_,e)}function lb(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Wm(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function eB(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Vt(e,0)}function In(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Vt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Vt(n,0)}function gt(t){return t.pieceNum_>=t.pieces_.length}function ki(t,e){const n=pt(t),r=pt(e);if(null===n)return e;if(n===r)return ki(Xt(t),Xt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function xie(t,e){const n=Wm(t,0),r=Wm(e,0);for(let i=0;i<n.length&&i<r.length;i++){const o=Nu(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function ub(t,e){if(nl(t)!==nl(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ko(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(nl(t)>nl(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class kie{constructor(e,n){this.errorPrefix_=n,this.parts_=Wm(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,M.ug)(this.parts_[r]);tB(this)}}function tB(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Fu(t))}function Fu(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class db extends Y5{constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new db}getInitialEvent(e){return(0,M.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const qm=1e3;let e0,Lu=(()=>{class t extends Q5{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=$m("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=qm,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!(0,M.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");db.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&Xw.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_((0,M.Wl)(s)),(0,M.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();const r=new M.BH,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const c=a.d;"ok"===a.s?r.resolve(c):r.reject(c)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,o){this.initConnection_();const s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),(0,M.hu)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,M.hu)(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);const s={p:i};n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest("q",s,c=>{const l=c.d,h=c.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),"ok"!==h&&this.removeListen_(i,o),n.onComplete&&n.onComplete(h,l))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&(0,M.r3)(n,"w")){const i=(0,M.DV)(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();di(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||(0,M.GJ)(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=(0,M.w9)(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{const s=o.s,a=o.d||"error";this.authToken_===n&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),(0,M.hu)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);const s={p:n};o&&(s.q=i,s.t=o),this.sendRequest("n",s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){const s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();const a={p:r,d:i};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+(0,M.Wl)(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):eb("Unrecognized action received from server: "+(0,M.Wl)(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){(0,M.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=qm,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=qm,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=qm),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return(0,k.Z)(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),o=n.onRealtimeDisconnect_.bind(n),s=n.id+":"+t.nextConnectionId_++,a=n.lastSessionId;let c=!1,l=null;const h=function(){l?l.close():(c=!0,o())};n.realtime_={close:h,sendRequest:function(v){(0,M.hu)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(v)}};const m=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[v,E]=yield Promise.all([n.authTokenProvider_.getToken(m),n.appCheckTokenProvider_.getToken(m)]);c?Dr("getToken() completed but was canceled"):(Dr("getToken() completed. Creating connection."),n.authToken_=v&&v.accessToken,n.appCheckToken_=E&&E.token,l=new Z5(s,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,o,O=>{di(O+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(v){n.log_("Failed to get token: "+v),c||(n.repoInfo_.nodeAdmin&&di(v),h())}}})()}interrupt(n){Dr("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Dr("Resuming connection for reason: "+n),delete this.interruptReasons_[n],(0,M.xb)(this.interruptReasons_)&&(this.reconnectDelay_=qm,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(s=>tb(s)).join("$"):"default";const o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){const i=new Vt(n).toString();let o;if(this.listens.has(i)){const s=this.listens.get(i);o=s.get(r),s.delete(r),0===s.size&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Dr("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Dr("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";(0,M.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),n["sdk."+r+"."+Y1.replace(/\./g,"-")]=1,(0,M.uI)()?n["framework.cordova"]=1:(0,M.b$)()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Xw.getInstance().currentlyOnline();return(0,M.xb)(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class _t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new _t(e,n)}}class Jw{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new _t(el,e),i=new _t(el,n);return 0!==this.compare(r,i)}minPost(){return _t.MIN}}class iB extends Jw{static get __EMPTY_NODE(){return e0}static set __EMPTY_NODE(e){e0=e}compare(e,n){return Nu(e.name,n.name)}isDefinedOn(e){throw(0,M.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return _t.MIN}maxPost(){return new _t(za,e0)}makePost(e,n){return(0,M.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new _t(e,e0)}toString(){return".key"}}const Zs=new iB;class t0{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,i&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let fb,Cs=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??Yi.EMPTY_NODE,this.right=s??Yi.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this;const s=i(n,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(n,r,i),null):0===s?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Yi.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return Yi.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class Yi{constructor(e,n=Yi.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Yi(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Cs.BLACK,null,null))}remove(e){return new Yi(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Cs.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new t0(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new t0(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new t0(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new t0(this.root_,null,this.comparator_,!0,e)}}function $ie(t,e){return Nu(t.name,e.name)}function hb(t,e){return Nu(t,e)}Yi.EMPTY_NODE=new class jie{copy(e,n,r,i,o){return this}insert(e,n,r){return new Cs(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const oB=function(t){return"number"==typeof t?"number:"+M5(t):"string:"+t},sB=function(t){if(t.isLeafNode()){const e=t.val();(0,M.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,M.r3)(e,".sv"),"Priority must be a string or number.")}else(0,M.hu)(t===fb||t.isEmpty(),"priority of unexpected type.");(0,M.hu)(t===fb||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let aB,cB,lB,pf=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,(0,M.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),sB(this.priorityNode_)}static set __childrenNodeConstructor(n){aB=n}static get __childrenNodeConstructor(){return aB}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return gt(n)?this:".priority"===pt(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=pt(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,M.hu)(".priority"!==i||1===nl(n),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Xt(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+oB(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?M5(this.value_):this.value_,this.lazyHash_=C5(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:((0,M.hu)(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return(0,M.hu)(o>=0,"Unknown leaf type: "+r),(0,M.hu)(s>=0,"Unknown leaf type: "+i),o===s?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const cn=new class Wie extends Jw{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return 0===o?Nu(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return _t.MIN}maxPost(){return new _t(za,new pf("[PRIORITY-POST]",lB))}makePost(e,n){const r=cB(e);return new _t(n,new pf("[PRIORITY-POST]",r))}toString(){return".priority"}},qie=Math.log(2);class Kie{constructor(e){this.count=parseInt(Math.log(e+1)/qie,10),this.current_=this.count-1;const i=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const n0=function(t,e,n,r){t.sort(e);const i=function(c,l){const h=l-c;let p,m;if(0===h)return null;if(1===h)return p=t[c],m=n?n(p):p,new Cs(m,p.node,Cs.BLACK,null,null);{const v=parseInt(h/2,10)+c,E=i(c,v),O=i(v+1,l);return p=t[v],m=n?n(p):p,new Cs(m,p.node,Cs.BLACK,E,O)}},a=function(c){let l=null,h=null,p=t.length;const m=function(E,O){const b=p-E,F=p;p-=E;const x=i(b+1,F),z=t[b],$=n?n(z):z;v(new Cs($,z.node,O,null,x))},v=function(E){l?(l.left=E,l=E):(h=E,l=E)};for(let E=0;E<c.count;++E){const O=c.nextBitIsOne(),b=Math.pow(2,c.count-(E+1));O?m(b,Cs.BLACK):(m(b,Cs.BLACK),m(b,Cs.RED))}return h}(new Kie(t.length));return new Yi(r||e,a)};let pb;const gf={};class Ga{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return(0,M.hu)(gf&&cn,"ChildrenNode.ts has not been loaded"),pb=pb||new Ga({".priority":gf},{".priority":cn}),pb}get(e){const n=(0,M.DV)(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Yi?n:null}hasIndex(e){return(0,M.r3)(this.indexSet_,e.toString())}addIndex(e,n){(0,M.hu)(e!==Zs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(_t.Wrap);let a,s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();a=i?n0(r,e.getCompare()):gf;const c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;const h=Object.assign({},this.indexes_);return h[c]=a,new Ga(h,l)}addToIndexes(e,n){const r=(0,M.UI)(this.indexes_,(i,o)=>{const s=(0,M.DV)(this.indexSet_,o);if((0,M.hu)(s,"Missing index implementation for "+o),i===gf){if(s.isDefinedOn(e.node)){const a=[],c=n.getIterator(_t.Wrap);let l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),n0(a,s.getCompare())}return gf}{const a=n.get(e.name);let c=i;return a&&(c=c.remove(new _t(e.name,a))),c.insert(e,e.node)}});return new Ga(r,this.indexSet_)}removeFromIndexes(e,n){const r=(0,M.UI)(this.indexes_,i=>{if(i===gf)return i;{const o=n.get(e.name);return o?i.remove(new _t(e.name,o)):i}});return new Ga(r,this.indexSet_)}}let Km,et=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&sB(this.priorityNode_),this.children_.isEmpty()&&(0,M.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Km||(Km=new t(new Yi(hb),null,Ga.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Km}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?Km:r}}getChild(n){const r=pt(n);return null===r?this:this.getImmediateChild(r).getChild(Xt(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if((0,M.hu)(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new _t(n,r);let o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));const a=o.isEmpty()?Km:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){const i=pt(n);if(null===i)return r;{(0,M.hu)(".priority"!==pt(n)||1===nl(n),".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(Xt(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,o=0,s=!0;if(this.forEachChild(cn,(a,c)=>{r[a]=c.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){const a=[];for(const c in r)a[c]=r[c];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+oB(this.getPriority().val())+":"),this.forEachChild(cn,(r,i)=>{const o=i.hash();""!==o&&(n+=":"+r+":"+o)}),this.lazyHash_=""===n?"":C5(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const o=this.resolveIndex_(i);if(o){const s=o.getPredecessorKey(new _t(n,r));return s?s.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new _t(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new _t(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,_t.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,_t.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Zm?-1:0}withIndex(n){if(n===Zs||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Zs||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(cn),o=r.getIterator(cn);let s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(n){return n===Zs?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const Zm=new class Zie extends et{constructor(){super(new Yi(hb),et.EMPTY_NODE,Ga.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return et.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(_t,{MIN:{value:new _t(el,et.EMPTY_NODE)},MAX:{value:new _t(za,Zm)}}),iB.__EMPTY_NODE=et.EMPTY_NODE,pf.__childrenNodeConstructor=et,function Hie(t){fb=t}(Zm),function Gie(t){lB=t}(Zm);const Qie=!0;function Rn(t,e=null){if(null===t)return et.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),(0,M.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new pf(t,Rn(e));if(t instanceof Array||!Qie){let n=et.EMPTY_NODE;return Sr(t,(r,i)=>{if((0,M.r3)(t,r)&&"."!==r.substring(0,1)){const o=Rn(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Rn(e))}{const n=[];let r=!1;if(Sr(t,(s,a)=>{if("."!==s.substring(0,1)){const c=Rn(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new _t(s,c)))}}),0===n.length)return et.EMPTY_NODE;const o=n0(n,$ie,s=>s.name,hb);if(r){const s=n0(n,cn.getCompare());return new et(o,Rn(e),new Ga({".priority":s},{".priority":cn}))}return new et(o,Rn(e),Ga.Default)}}!function zie(t){cB=t}(Rn);class gb extends Jw{constructor(e){super(),this.indexPath_=e,(0,M.hu)(!gt(e)&&".priority"!==pt(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return 0===o?Nu(e.name,n.name):o}makePost(e,n){const r=Rn(e),i=et.EMPTY_NODE.updateChild(this.indexPath_,r);return new _t(n,i)}maxPost(){const e=et.EMPTY_NODE.updateChild(this.indexPath_,Zm);return new _t(za,e)}toString(){return Wm(this.indexPath_,0).join("/")}}const mb=new class Yie extends Jw{compare(e,n){const r=e.node.compareTo(n.node);return 0===r?Nu(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return _t.MIN}maxPost(){return _t.MAX}makePost(e,n){const r=Rn(e);return new _t(n,r)}toString(){return".value"}};function uB(t){return{type:"value",snapshotNode:t}}function mf(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Qm(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ym(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class _b{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){(0,M.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(null!=s&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(Qm(n,a)):(0,M.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(mf(n,r)):s.trackChildChange(Ym(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return null!=r&&(e.isLeafNode()||e.forEachChild(cn,(i,o)=>{n.hasChild(i)||r.trackChildChange(Qm(i,o))}),n.isLeafNode()||n.forEachChild(cn,(i,o)=>{if(e.hasChild(i)){const s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(Ym(i,o,s))}else r.trackChildChange(mf(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?et.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Xm{constructor(e){this.indexedFilter_=new _b(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Xm.getStartPost_(e),this.endPost_=Xm.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new _t(n,r))||(r=et.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=et.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(et.EMPTY_NODE);const o=this;return n.forEachChild(cn,(s,a)=>{o.matches(new _t(s,a))||(i=i.updateImmediateChild(s,et.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}return e.getIndex().maxPost()}}class Jie{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Xm(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new _t(n,r))||(r=et.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=et.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<n.numChildren()&&n.isIndexed(this.index_)){let o;i=et.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;i=i.updateImmediateChild(a.name,a.node),s++}}}else{let o;i=n.withIndex(this.index_),i=i.updatePriority(et.EMPTY_NODE),o=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,et.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){const p=this.index_.getCompare();s=(m,v)=>p(v,m)}else s=this.index_.getCompare();const a=e;(0,M.hu)(a.numChildren()===this.limit_,"");const c=new _t(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(a.hasChild(n)){const p=a.getImmediateChild(n);let m=i.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=m&&(m.name===n||a.hasChild(m.name));)m=i.getChildAfterChild(this.index_,m,this.reverse_);const v=null==m?1:s(m,c);if(h&&!r.isEmpty()&&v>=0)return o?.trackChildChange(Ym(n,r,p)),a.updateImmediateChild(n,r);{o?.trackChildChange(Qm(n,p));const O=a.updateImmediateChild(n,et.EMPTY_NODE);return null!=m&&this.rangedFilter_.matches(m)?(o?.trackChildChange(mf(m.name,m.node)),O.updateImmediateChild(m.name,m.node)):O}}return r.isEmpty()?e:h&&s(l,c)>=0?(null!=o&&(o.trackChildChange(Qm(l.name,l.node)),o.trackChildChange(mf(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,et.EMPTY_NODE)):e}}class r0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=cn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,M.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,M.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:el}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,M.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,M.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:za}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,M.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===cn}copy(){const e=new r0;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function yb(t,e,n){const r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function vb(t,e,n){const r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function o0(t,e){const n=t.copy();return n.index_=e,n}function dB(t){const e={};if(t.isDefault())return e;let n;if(t.index_===cn?n="$priority":t.index_===mb?n="$value":t.index_===Zs?n="$key":((0,M.hu)(t.index_ instanceof gb,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=(0,M.Wl)(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=(0,M.Wl)(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+(0,M.Wl)(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=(0,M.Wl)(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+(0,M.Wl)(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function hB(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==cn&&(e.i=t.index_.toString()),e}class s0 extends Q5{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=$m("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:((0,M.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=s0.getListenId_(e,r),a={};this.listens_[s]=a;const c=dB(e._queryParams);this.restRequest_(o+".json",c,(l,h)=>{let p=h;if(404===l&&(p=null,l=null),null===l&&this.onDataUpdate_(o,p,!1,r),(0,M.DV)(this.listens_,s)===a){let m;m=l?401===l?"permission_denied":"rest_error:"+l:"ok",i(m,null)}})}unlisten(e,n){const r=s0.getListenId_(e,n);delete this.listens_[r]}get(e){const n=dB(e._queryParams),r=e._path.toString(),i=new M.BH;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,M.xO)(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=(0,M.cI)(a.responseText)}catch{di("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else 401!==a.status&&404!==a.status&&di("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}class ooe{constructor(){this.rootNode_=et.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function a0(){return{value:null,children:new Map}}function _f(t,e,n){if(gt(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=pt(e);t.children.has(r)||t.children.set(r,a0()),_f(t.children.get(r),e=Xt(e),n)}}function Cb(t,e){if(gt(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(cn,(r,i)=>{_f(t,new Vt(r),i)}),Cb(t,e)}}if(t.children.size>0){const n=pt(e);return e=Xt(e),t.children.has(n)&&Cb(t.children.get(n),e)&&t.children.delete(n),0===t.children.size}return!0}function wb(t,e,n){null!==t.value?n(e,t.value):function soe(t,e){t.children.forEach((n,r)=>{e(r,n)})}(t,(r,i)=>{wb(i,new Vt(e.toString()+"/"+r),n)})}class aoe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Sr(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}class uoe{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new aoe(e);const r=1e4+2e4*Math.random();zm(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Sr(e,(i,o)=>{o>0&&(0,M.r3)(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),zm(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Qs=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Qs||{});function Mb(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class c0{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Qs.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(gt(this.path)){if(null!=this.affectedTree.value)return(0,M.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Vt(e));return new c0(kt(),n,this.revert)}}return(0,M.hu)(pt(this.path)===e,"operationForChild called for unrelated child."),new c0(Xt(this.path),this.affectedTree,this.revert)}}class Jm{constructor(e,n){this.source=e,this.path=n,this.type=Qs.LISTEN_COMPLETE}operationForChild(e){return gt(this.path)?new Jm(this.source,kt()):new Jm(this.source,Xt(this.path))}}class Vu{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Qs.OVERWRITE}operationForChild(e){return gt(this.path)?new Vu(this.source,kt(),this.snap.getImmediateChild(e)):new Vu(this.source,Xt(this.path),this.snap)}}class yf{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Qs.MERGE}operationForChild(e){if(gt(this.path)){const n=this.children.subtree(new Vt(e));return n.isEmpty()?null:n.value?new Vu(this.source,kt(),n.value):new yf(this.source,kt(),n)}return(0,M.hu)(pt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new yf(this.source,Xt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class rl{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(gt(e))return this.isFullyInitialized()&&!this.filtered_;const n=pt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class doe{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function e_(t,e,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,c)=>function poe(t,e,n){if(null==e.childName||null==n.childName)throw(0,M.g5)("Should only compare child_ events.");const r=new _t(e.childName,e.snapshotNode),i=new _t(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,a,c)),s.forEach(a=>{const c=function foe(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,a,o);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,t.query_))})})}function l0(t,e){return{eventCache:t,serverCache:e}}function t_(t,e,n,r){return l0(new rl(e,n,r),t.serverCache)}function pB(t,e,n,r){return l0(t.eventCache,new rl(e,n,r))}function u0(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Uu(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let Ib;class ln{constructor(e,n=(()=>(Ib||(Ib=new Yi(Xre)),Ib))()){this.value=e,this.children=n}static fromObject(e){let n=new ln(null);return Sr(e,(r,i)=>{n=n.set(new Vt(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:kt(),value:this.value};if(gt(e))return null;{const r=pt(e),i=this.children.get(r);if(null!==i){const o=i.findRootMostMatchingPathAndValue(Xt(e),n);return null!=o?{path:In(new Vt(r),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(gt(e))return this;{const n=pt(e),r=this.children.get(n);return null!==r?r.subtree(Xt(e)):new ln(null)}}set(e,n){if(gt(e))return new ln(n,this.children);{const r=pt(e),o=(this.children.get(r)||new ln(null)).set(Xt(e),n),s=this.children.insert(r,o);return new ln(this.value,s)}}remove(e){if(gt(e))return this.children.isEmpty()?new ln(null):new ln(null,this.children);{const n=pt(e),r=this.children.get(n);if(r){const i=r.remove(Xt(e));let o;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new ln(null):new ln(this.value,o)}return this}}get(e){if(gt(e))return this.value;{const n=pt(e),r=this.children.get(n);return r?r.get(Xt(e)):null}}setTree(e,n){if(gt(e))return n;{const r=pt(e),o=(this.children.get(r)||new ln(null)).setTree(Xt(e),n);let s;return s=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new ln(this.value,s)}}fold(e){return this.fold_(kt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(In(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,kt(),n)}findOnPath_(e,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(gt(e))return null;{const o=pt(e),s=this.children.get(o);return s?s.findOnPath_(Xt(e),In(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,kt(),n)}foreachOnPath_(e,n,r){if(gt(e))return this;{this.value&&r(n,this.value);const i=pt(e),o=this.children.get(i);return o?o.foreachOnPath_(Xt(e),In(n,i),r):new ln(null)}}foreach(e){this.foreach_(kt(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(In(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class ws{constructor(e){this.writeTree_=e}static empty(){return new ws(new ln(null))}}function n_(t,e,n){if(gt(e))return new ws(new ln(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let o=r.value;const s=ki(i,e);return o=o.updateChild(s,n),new ws(t.writeTree_.set(i,o))}{const i=new ln(n),o=t.writeTree_.setTree(e,i);return new ws(o)}}}function Ob(t,e,n){let r=t;return Sr(n,(i,o)=>{r=n_(r,In(e,i),o)}),r}function gB(t,e){if(gt(e))return ws.empty();{const n=t.writeTree_.setTree(e,new ln(null));return new ws(n)}}function bb(t,e){return null!=Bu(t,e)}function Bu(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(ki(n.path,e)):null}function mB(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(cn,(r,i)=>{e.push(new _t(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new _t(r,i.value))}),e}function il(t,e){if(gt(e))return t;{const n=Bu(t,e);return new ws(null!=n?new ln(n):t.writeTree_.subtree(e))}}function Tb(t){return t.writeTree_.isEmpty()}function vf(t,e){return _B(kt(),t.writeTree_,e)}function _B(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{".priority"===i?((0,M.hu)(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=_B(In(t,i),o,n)}),!n.getChild(t).isEmpty()&&null!==r&&(n=n.updateChild(In(t,".priority"),r)),n}}function d0(t,e){return PB(e,t)}function Coe(t,e){if(t.snap)return Ko(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ko(In(t.path,n),e))return!0;return!1}function Poe(t){return t.visible}function yB(t,e,n){let r=ws.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let a;if(o.snap)Ko(n,s)?(a=ki(n,s),r=n_(r,a,o.snap)):Ko(s,n)&&(a=ki(s,n),r=n_(r,kt(),o.snap.getChild(a)));else{if(!o.children)throw(0,M.g5)("WriteRecord should have .snap or .children");if(Ko(n,s))a=ki(n,s),r=Ob(r,a,o.children);else if(Ko(s,n))if(a=ki(s,n),gt(a))r=Ob(r,kt(),o.children);else{const c=(0,M.DV)(o.children,pt(a));if(c){const l=c.getChild(Xt(a));r=n_(r,kt(),l)}}}}}return r}function vB(t,e,n,r,i){if(r||i){const o=il(t.visibleWrites,e);return!i&&Tb(o)?n:i||null!=n||bb(o,kt())?vf(yB(t.allWrites,function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(Ko(l.path,e)||Ko(e,l.path))},e),n||et.EMPTY_NODE):null}{const o=Bu(t.visibleWrites,e);if(null!=o)return o;{const s=il(t.visibleWrites,e);return Tb(s)?n:null!=n||bb(s,kt())?vf(s,n||et.EMPTY_NODE):null}}}function h0(t,e,n,r){return vB(t.writeTree,t.treePath,e,n,r)}function Ab(t,e){return function Eoe(t,e,n){let r=et.EMPTY_NODE;const i=Bu(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(cn,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=il(t.visibleWrites,e);return n.forEachChild(cn,(s,a)=>{const c=vf(il(o,new Vt(s)),a);r=r.updateImmediateChild(s,c)}),mB(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}return mB(il(t.visibleWrites,e)).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}(t.writeTree,t.treePath,e)}function CB(t,e,n,r){return function Moe(t,e,n,r,i){(0,M.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=In(e,n);if(bb(t.visibleWrites,o))return null;{const s=il(t.visibleWrites,o);return Tb(s)?i.getChild(n):vf(s,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function f0(t,e){return function Ooe(t,e){return Bu(t.visibleWrites,e)}(t.writeTree,In(t.treePath,e))}function Db(t,e,n){return function Ioe(t,e,n,r){const i=In(e,n),o=Bu(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?vf(il(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function wB(t,e){return PB(In(t.treePath,e),t.writeTree)}function PB(t,e){return{treePath:t,writeTree:e}}class Doe{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;(0,M.hu)("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),(0,M.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if("child_added"===n&&"child_removed"===o)this.changeMap.set(r,Ym(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===o)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===o)this.changeMap.set(r,Qm(r,i.oldSnap));else if("child_changed"===n&&"child_added"===o)this.changeMap.set(r,mf(r,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==o)throw(0,M.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,Ym(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const EB=new class Soe{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}};class Sb{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new rl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Db(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Uu(this.viewCache_),o=function Aoe(t,e,n,r,i,o){return function boe(t,e,n,r,i,o,s){let a;const c=il(t.visibleWrites,e),l=Bu(c,kt());if(null!=l)a=l;else{if(null==n)return[];a=vf(c,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const h=[],p=s.getCompare(),m=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let v=m.getNext();for(;v&&h.length<i;)0!==p(v,r)&&h.push(v),v=m.getNext();return h}}(t.writeTree,t.treePath,e,n,r,i,o)}(this.writes_,i,n,1,r,e);return 0===o.length?null:o[0]}}function MB(t,e,n,r,i,o){const s=e.eventCache;if(null!=f0(r,n))return e;{let a,c;if(gt(n))if((0,M.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const l=Uu(e),p=Ab(r,l instanceof et?l:et.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),p,o)}else{const l=h0(r,Uu(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{const l=pt(n);if(".priority"===l){(0,M.hu)(1===nl(n),"Can't have a priority with additional path components");const h=s.getNode();c=e.serverCache.getNode();const p=CB(r,n,h,c);a=null!=p?t.filter.updatePriority(h,p):s.getNode()}else{const h=Xt(n);let p;if(s.isCompleteForChild(l)){c=e.serverCache.getNode();const m=CB(r,n,s.getNode(),c);p=null!=m?s.getNode().getImmediateChild(l).updateChild(h,m):s.getNode().getImmediateChild(l)}else p=Db(r,l,e.serverCache);a=null!=p?t.filter.updateChild(s.getNode(),l,p,h,i,o):s.getNode()}}return t_(e,a,s.isFullyInitialized()||gt(n),t.filter.filtersNodes())}}function p0(t,e,n,r,i,o,s,a){const c=e.serverCache;let l;const h=s?t.filter:t.filter.getIndexedFilter();if(gt(n))l=h.updateFullNode(c.getNode(),r,null);else if(h.filtersNodes()&&!c.isFiltered()){const v=c.getNode().updateChild(n,r);l=h.updateFullNode(c.getNode(),v,null)}else{const v=pt(n);if(!c.isCompleteForPath(n)&&nl(n)>1)return e;const E=Xt(n),b=c.getNode().getImmediateChild(v).updateChild(E,r);l=".priority"===v?h.updatePriority(c.getNode(),b):h.updateChild(c.getNode(),v,b,E,EB,null)}const p=pB(e,l,c.isFullyInitialized()||gt(n),h.filtersNodes());return MB(t,p,n,i,new Sb(i,p,o),a)}function Rb(t,e,n,r,i,o,s){const a=e.eventCache;let c,l;const h=new Sb(i,e,o);if(gt(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,s),c=t_(e,l,!0,t.filter.filtersNodes());else{const p=pt(n);if(".priority"===p)l=t.filter.updatePriority(e.eventCache.getNode(),r),c=t_(e,l,a.isFullyInitialized(),a.isFiltered());else{const m=Xt(n),v=a.getNode().getImmediateChild(p);let E;if(gt(m))E=r;else{const O=h.getCompleteChild(p);E=null!=O?".priority"===lb(m)&&O.getChild(eB(m)).isEmpty()?O:O.updateChild(m,r):et.EMPTY_NODE}c=v.equals(E)?e:t_(e,t.filter.updateChild(a.getNode(),p,E,m,h,s),a.isFullyInitialized(),t.filter.filtersNodes())}}return c}function IB(t,e){return t.eventCache.isCompleteForChild(e)}function OB(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function xb(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l,c=e;l=gt(n)?r:new ln(null).setTree(n,r);const h=e.serverCache.getNode();return l.children.inorderTraversal((p,m)=>{if(h.hasChild(p)){const E=OB(0,e.serverCache.getNode().getImmediateChild(p),m);c=p0(t,c,new Vt(p),E,i,o,s,a)}}),l.children.inorderTraversal((p,m)=>{const v=!e.serverCache.isCompleteForChild(p)&&null===m.value;if(!h.hasChild(p)&&!v){const O=OB(0,e.serverCache.getNode().getImmediateChild(p),m);c=p0(t,c,new Vt(p),O,i,o,s,a)}}),c}class Boe{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new _b(r.getIndex()),o=function eoe(t){return t.loadsAllData()?new _b(t.getIndex()):t.hasLimit()?new Jie(t):new Xm(t)}(r);this.processor_=function Roe(t){return{filter:t}}(o);const s=n.serverCache,a=n.eventCache,c=i.updateFullNode(et.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(et.EMPTY_NODE,a.getNode(),null),h=new rl(c,s.isFullyInitialized(),i.filtersNodes()),p=new rl(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=l0(p,h),this.eventGenerator_=new doe(this.query_)}get query(){return this.query_}}function Hoe(t,e){const n=Uu(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!gt(e)&&!n.getImmediateChild(pt(e)).isEmpty())?n.getChild(e):null}function bB(t){return 0===t.eventRegistrations_.length}function TB(t,e,n){const r=[];if(n){(0,M.hu)(null==e,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){const s=t.eventRegistrations_[o];if(s.matches(e)){if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}else i.push(s)}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function AB(t,e,n,r){e.type===Qs.MERGE&&null!==e.source.queryId&&((0,M.hu)(Uu(t.viewCache_),"We should always have a full cache before handling merges"),(0,M.hu)(u0(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=function koe(t,e,n,r,i){const o=new Doe;let s,a;if(n.type===Qs.OVERWRITE){const l=n;l.source.fromUser?s=Rb(t,e,l.path,l.snap,r,i,o):((0,M.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!gt(l.path),s=p0(t,e,l.path,l.snap,r,i,a,o))}else if(n.type===Qs.MERGE){const l=n;l.source.fromUser?s=function Foe(t,e,n,r,i,o,s){let a=e;return r.foreach((c,l)=>{const h=In(n,c);IB(e,pt(h))&&(a=Rb(t,a,h,l,i,o,s))}),r.foreach((c,l)=>{const h=In(n,c);IB(e,pt(h))||(a=Rb(t,a,h,l,i,o,s))}),a}(t,e,l.path,l.children,r,i,o):((0,M.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=xb(t,e,l.path,l.children,r,i,a,o))}else if(n.type===Qs.ACK_USER_WRITE){const l=n;s=l.revert?function Uoe(t,e,n,r,i,o){let s;if(null!=f0(r,n))return e;{const a=new Sb(r,e,i),c=e.eventCache.getNode();let l;if(gt(n)||".priority"===pt(n)){let h;if(e.serverCache.isFullyInitialized())h=h0(r,Uu(e));else{const p=e.serverCache.getNode();(0,M.hu)(p instanceof et,"serverChildren would be complete if leaf node"),h=Ab(r,p)}l=t.filter.updateFullNode(c,h,o)}else{const h=pt(n);let p=Db(r,h,e.serverCache);null==p&&e.serverCache.isCompleteForChild(h)&&(p=c.getImmediateChild(h)),l=null!=p?t.filter.updateChild(c,h,p,Xt(n),a,o):e.eventCache.getNode().hasChild(h)?t.filter.updateChild(c,h,et.EMPTY_NODE,Xt(n),a,o):c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=h0(r,Uu(e)),s.isLeafNode()&&(l=t.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||null!=f0(r,kt()),t_(e,l,s,t.filter.filtersNodes())}}(t,e,l.path,r,i,o):function Loe(t,e,n,r,i,o,s){if(null!=f0(i,n))return e;const a=e.serverCache.isFiltered(),c=e.serverCache;if(null!=r.value){if(gt(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return p0(t,e,n,c.getNode().getChild(n),i,o,a,s);if(gt(n)){let l=new ln(null);return c.getNode().forEachChild(Zs,(h,p)=>{l=l.set(new Vt(h),p)}),xb(t,e,n,l,i,o,a,s)}return e}{let l=new ln(null);return r.foreach((h,p)=>{const m=In(n,h);c.isCompleteForPath(m)&&(l=l.set(h,c.getNode().getChild(m)))}),xb(t,e,n,l,i,o,a,s)}}(t,e,l.path,l.affectedTree,r,i,o)}else{if(n.type!==Qs.LISTEN_COMPLETE)throw(0,M.g5)("Unknown operation type: "+n.type);s=function Voe(t,e,n,r,i){const o=e.serverCache;return MB(t,pB(e,o.getNode(),o.isFullyInitialized()||gt(n),o.isFiltered()),n,r,EB,i)}(t,e,n.path,r,o)}const c=o.getChanges();return function Noe(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=u0(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(uB(u0(e)))}}(e,s,c),{viewCache:s,changes:c}}(t.processor_,i,e,n,r);return function xoe(t,e){(0,M.hu)(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),(0,M.hu)(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,o.viewCache),(0,M.hu)(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,DB(t,o.changes,o.viewCache.eventCache.getNode(),null)}function DB(t,e,n,r){return function hoe(t,e,n,r){const i=[],o=[];return e.forEach(s=>{"child_changed"===s.type&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function Xie(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(s.childName,s.snapshotNode))}),e_(t,i,"child_removed",e,r,n),e_(t,i,"child_added",e,r,n),e_(t,i,"child_moved",o,r,n),e_(t,i,"child_changed",e,r,n),e_(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}let g0,_0;class SB{constructor(){this.views=new Map}}function kb(t,e,n,r){const i=e.source.queryId;if(null!==i){const o=t.views.get(i);return(0,M.hu)(null!=o,"SyncTree gave us an op for an invalid query."),AB(o,e,n,r)}{let o=[];for(const s of t.views.values())o=o.concat(AB(s,e,n,r));return o}}function RB(t,e,n,r,i){const s=t.views.get(e._queryIdentifier);if(!s){let a=h0(n,i?r:null),c=!1;a?c=!0:r instanceof et?(a=Ab(n,r),c=!1):(a=et.EMPTY_NODE,c=!1);const l=l0(new rl(a,c,!1),new rl(r,i,!1));return new Boe(e,l)}return s}function xB(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ol(t,e){let n=null;for(const r of t.views.values())n=n||Hoe(r,e);return n}function kB(t,e){return e._queryParams.loadsAllData()?m0(t):t.views.get(e._queryIdentifier)}function NB(t,e){return null!=kB(t,e)}function sl(t){return null!=m0(t)}function m0(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let Joe=1;class FB{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ln(null),this.pendingWriteTree_=function Toe(){return{visibleWrites:ws.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Nb(t,e,n,r,i){return function moe(t,e,n,r,i){(0,M.hu)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=n_(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?Cf(t,new Vu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function al(t,e,n=!1){const r=function yoe(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function voe(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);(0,M.hu)(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&Coe(a,r.path)?i=!1:Ko(r.path,a.path)&&(o=!0)),s--}return!!i&&(o?(function woe(t){t.visibleWrites=yB(t.allWrites,Poe,kt()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=gB(t.visibleWrites,r.path):Sr(r.children,c=>{t.visibleWrites=gB(t.visibleWrites,In(r.path,c))}),!0))}(t.pendingWriteTree_,e)){let o=new ln(null);return null!=r.snap?o=o.set(kt(),!0):Sr(r.children,s=>{o=o.set(new Vt(s),!0)}),Cf(t,new c0(r.path,o,n))}return[]}function r_(t,e,n){return Cf(t,new Vu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function y0(t,e,n,r,i=!1){const o=e._path,s=t.syncPointTree_.get(o);let a=[];if(s&&("default"===e._queryIdentifier||NB(s,e))){const c=function Qoe(t,e,n,r){const i=e._queryIdentifier,o=[];let s=[];const a=sl(t);if("default"===i)for(const[c,l]of t.views.entries())s=s.concat(TB(l,n,r)),bB(l)&&(t.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{const c=t.views.get(i);c&&(s=s.concat(TB(c,n,r)),bB(c)&&(t.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!sl(t)&&o.push(new(function qoe(){return(0,M.hu)(g0,"Reference.ts has not been loaded"),g0}())(e._repo,e._path)),{removed:o,events:s}}(s,e,n,r);(function Koe(t){return 0===t.views.size})(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const l=c.removed;if(a=c.events,!i){const h=-1!==l.findIndex(m=>m._queryParams.loadsAllData()),p=t.syncPointTree_.findOnPath(o,(m,v)=>sl(v));if(h&&!p){const m=t.syncPointTree_.subtree(o);if(!m.isEmpty()){const v=function sse(t){return t.fold((e,n,r)=>{if(n&&sl(n))return[m0(n)];{let i=[];return n&&(i=xB(n)),Sr(r,(o,s)=>{i=i.concat(s)}),i}})}(m);for(let E=0;E<v.length;++E){const O=v[E],b=O.query,F=BB(t,O);t.listenProvider_.startListening(o_(b),i_(t,b),F.hashFn,F.onComplete)}}}!p&&l.length>0&&!r&&(h?t.listenProvider_.stopListening(o_(e),null):l.forEach(m=>{const v=t.queryToTagMap.get(C0(m));t.listenProvider_.stopListening(o_(m),v)}))}!function ase(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=C0(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,l)}return a}function LB(t,e,n,r){const i=Lb(t,r);if(null!=i){const o=Vb(i),s=o.path,a=o.queryId,c=ki(s,e);return Ub(t,s,new Vu(Mb(a),c,n))}return[]}function Fb(t,e,n,r=!1){const i=e._path;let o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(m,v)=>{const E=ki(m,i);o=o||ol(v,E),s=s||sl(v)});let c,a=t.syncPointTree_.get(i);a?(s=s||sl(a),o=o||ol(a,kt())):(a=new SB,t.syncPointTree_=t.syncPointTree_.set(i,a)),null!=o?c=!0:(c=!1,o=et.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((v,E)=>{const O=ol(E,kt());O&&(o=o.updateImmediateChild(v,O))}));const l=NB(a,e);if(!l&&!e._queryParams.loadsAllData()){const m=C0(e);(0,M.hu)(!t.queryToTagMap.has(m),"View does not exist, but we have a tag");const v=function cse(){return Joe++}();t.queryToTagMap.set(m,v),t.tagToQueryMap.set(v,m)}let p=function Zoe(t,e,n,r,i,o){const s=RB(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),function zoe(t,e){t.eventRegistrations_.push(e)}(s,n),function Goe(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(cn,(o,s)=>{r.push(mf(o,s))}),n.isFullyInitialized()&&r.push(uB(n.getNode())),DB(t,r,n.getNode(),e)}(s,n)}(a,e,n,d0(t.pendingWriteTree_,i),o,c);if(!l&&!s&&!r){const m=kB(a,e);p=p.concat(function lse(t,e,n){const r=e._path,i=i_(t,e),o=BB(t,n),s=t.listenProvider_.startListening(o_(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)(0,M.hu)(!sl(a.value),"If we're adding a query, it shouldn't be shadowed");else{const c=a.fold((l,h,p)=>{if(!gt(l)&&h&&sl(h))return[m0(h).query];{let m=[];return h&&(m=m.concat(xB(h).map(v=>v.query))),Sr(p,(v,E)=>{m=m.concat(E)}),m}});for(let l=0;l<c.length;++l){const h=c[l];t.listenProvider_.stopListening(o_(h),i_(t,h))}}return s}(t,e,m))}return p}function v0(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const l=ol(a,ki(s,e));if(l)return l});return vB(i,e,o,n,!0)}function Cf(t,e){return VB(e,t.syncPointTree_,null,d0(t.pendingWriteTree_,kt()))}function VB(t,e,n,r){if(gt(t.path))return UB(t,e,n,r);{const i=e.get(kt());null==n&&null!=i&&(n=ol(i,kt()));let o=[];const s=pt(t.path),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){const l=n?n.getImmediateChild(s):null,h=wB(r,s);o=o.concat(VB(a,c,l,h))}return i&&(o=o.concat(kb(i,t,r,n))),o}}function UB(t,e,n,r){const i=e.get(kt());null==n&&null!=i&&(n=ol(i,kt()));let o=[];return e.children.inorderTraversal((s,a)=>{const c=n?n.getImmediateChild(s):null,l=wB(r,s),h=t.operationForChild(s);h&&(o=o.concat(UB(h,a,c,l)))}),i&&(o=o.concat(kb(i,t,r,n))),o}function BB(t,e){const n=e.query,r=i_(t,n);return{hashFn:()=>(function joe(t){return t.viewCache_.serverCache.getNode()}(e)||et.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function rse(t,e,n){const r=Lb(t,n);if(r){const i=Vb(r),o=i.path,s=i.queryId,a=ki(o,e);return Ub(t,o,new Jm(Mb(s),a))}return[]}(t,n._path,r):function nse(t,e){return Cf(t,new Jm({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);{const o=function tie(t,e){let n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(i,n);return y0(t,n,null,o)}}}}function i_(t,e){const n=C0(e);return t.queryToTagMap.get(n)}function C0(t){return t._path.toString()+"$"+t._queryIdentifier}function Lb(t,e){return t.tagToQueryMap.get(e)}function Vb(t){const e=t.indexOf("$");return(0,M.hu)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Vt(t.substr(0,e))}}function Ub(t,e,n){const r=t.syncPointTree_.get(e);return(0,M.hu)(r,"Missing sync point for query tag that we're tracking"),kb(r,n,d0(t.pendingWriteTree_,e),null)}function o_(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(function Xoe(){return(0,M.hu)(_0,"Reference.ts has not been loaded"),_0}())(t._repo,t._path):t}class Bb{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Bb(n)}node(){return this.node_}}class jb{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=In(this.path_,e);return new jb(this.syncTree_,n)}node(){return v0(this.syncTree_,this.path_)}}const use=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},jB=function(t,e,n){return t&&"object"==typeof t?((0,M.hu)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?dse(t[".sv"],e,n):"object"==typeof t[".sv"]?hse(t[".sv"],e):void(0,M.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},dse=function(t,e,n){if("timestamp"===t)return n.timestamp;(0,M.hu)(!1,"Unexpected server value: "+t)},hse=function(t,e,n){t.hasOwnProperty("increment")||(0,M.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&(0,M.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,M.hu)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!=typeof s?r:s+r},$B=function(t,e,n,r){return Hb(e,new jb(n,t),r)},$b=function(t,e,n){return Hb(t,new Bb(e),n)};function Hb(t,e,n){const r=t.getPriority().val(),i=jB(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=jB(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new pf(a,Rn(i)):t}{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new pf(i))),s.forEachChild(cn,(a,c)=>{const l=Hb(c,e.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}class zb{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function w0(t,e){let n=e instanceof Vt?e:new Vt(e),r=t,i=pt(n);for(;null!==i;){const o=(0,M.DV)(r.node.children,i)||{children:{},childCount:0};r=new zb(i,r,o),n=Xt(n),i=pt(n)}return r}function ju(t){return t.node.value}function Gb(t,e){t.node.value=e,Wb(t)}function HB(t){return t.node.childCount>0}function P0(t,e){Sr(t.node.children,(n,r)=>{e(new zb(n,t,r))})}function zB(t,e,n,r){n&&!r&&e(t),P0(t,i=>{zB(i,e,!0,r)}),n&&r&&e(t)}function s_(t){return new Vt(null===t.parent?t.name:s_(t.parent)+"/"+t.name)}function Wb(t){null!==t.parent&&function gse(t,e,n){const r=function fse(t){return void 0===ju(t)&&!HB(t)}(n),i=(0,M.r3)(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Wb(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Wb(t))}(t.parent,t.name,t)}const mse=/[\[\].#$\/\u0000-\u001F\u007F]/,_se=/[\[\].#$\u0000-\u001F\u007F]/,qb=10485760,E0=function(t){return"string"==typeof t&&0!==t.length&&!mse.test(t)},GB=function(t){return"string"==typeof t&&0!==t.length&&!_se.test(t)},a_=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!Zw(t)||t&&"object"==typeof t&&(0,M.r3)(t,".sv")},Ys=function(t,e,n,r){r&&void 0===e||c_((0,M.gK)(t,"value"),e,n)},c_=function(t,e,n){const r=n instanceof Vt?new kie(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+Fu(r));if("function"==typeof e)throw new Error(t+"contains a function "+Fu(r)+" with contents = "+e.toString());if(Zw(e))throw new Error(t+"contains "+e.toString()+" "+Fu(r));if("string"==typeof e&&e.length>qb/3&&(0,M.ug)(e)>qb)throw new Error(t+"contains a string greater than "+qb+" utf8 bytes "+Fu(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,o=!1;if(Sr(e,(s,a)=>{if(".value"===s)i=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!E0(s)))throw new Error(t+" contains an invalid key ("+s+") "+Fu(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Nie(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=(0,M.ug)(e),tB(t)})(r,s),c_(t,a,r),function Fie(t){const e=t.parts_.pop();t.byteLength_-=(0,M.ug)(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&o)throw new Error(t+' contains ".value" child '+Fu(r)+" in addition to actual children.")}},WB=function(t,e,n,r){if(r&&void 0===e)return;const i=(0,M.gK)(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const o=[];Sr(e,(s,a)=>{const c=new Vt(s);if(c_(i,a,In(n,c)),".priority"===lb(c)&&!a_(a))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(c)}),function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const o=Wm(r);for(let s=0;s<o.length;s++)if((".priority"!==o[s]||s!==o.length-1)&&!E0(o[s]))throw new Error(t+"contains an invalid key ("+o[s]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(xie);let i=null;for(n=0;n<e.length;n++){if(r=e[n],null!==i&&Ko(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,o)},Kb=function(t,e,n){if(!n||void 0!==e){if(Zw(e))throw new Error((0,M.gK)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!a_(e))throw new Error((0,M.gK)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},l_=function(t,e,n,r){if(!(r&&void 0===n||E0(n)))throw new Error((0,M.gK)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},u_=function(t,e,n,r){if(!(r&&void 0===n||GB(n)))throw new Error((0,M.gK)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Cse=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),u_(t,e,n,r)},Zo=function(t,e){if(".info"===pt(e))throw new Error(t+" failed = Can't modify data under /.info/")},qB=function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!E0(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),GB(t)}(n))throw new Error((0,M.gK)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class wse{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function M0(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();null!==n&&!ub(o,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function KB(t,e,n){M0(t,n),ZB(t,r=>ub(r,e))}function wo(t,e,n){M0(t,n),ZB(t,r=>Ko(r,e)||Ko(e,r))}function ZB(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(Pse(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function Pse(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();ku&&Dr("event: "+n.toString()),hf(r)}}}const QB="repo_interrupt",Ese=25;class Mse{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new wse,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=a0(),this.transactionQueueTree_=new zb,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function YB(t){const n=t.infoData_.getNode(new Vt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function d_(t){return use({timestamp:YB(t)})}function XB(t,e,n,r,i){t.dataUpdateCount++;const o=new Vt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const c=(0,M.UI)(n,l=>Rn(l));s=function ise(t,e,n,r){const i=Lb(t,r);if(i){const o=Vb(i),s=o.path,a=o.queryId,c=ki(s,e),l=ln.fromObject(n);return Ub(t,s,new yf(Mb(a),c,l))}return[]}(t.serverSyncTree_,o,c,i)}else{const c=Rn(n);s=LB(t.serverSyncTree_,o,c,i)}else if(r){const c=(0,M.UI)(n,l=>Rn(l));s=function tse(t,e,n){const r=ln.fromObject(n);return Cf(t,new yf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,o,c)}else{const c=Rn(n);s=r_(t.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=Pf(t,o)),wo(t.eventQueue_,a,s)}function JB(t,e){Zb(t,"connected",e),!1===e&&function Ase(t){wf(t,"onDisconnectEvents");const e=d_(t),n=a0();wb(t.onDisconnect_,kt(),(i,o)=>{const s=$B(i,o,t.serverSyncTree_,e);_f(n,i,s)});let r=[];wb(n,kt(),(i,o)=>{r=r.concat(r_(t.serverSyncTree_,i,o));const s=Jb(t,i);Pf(t,s)}),t.onDisconnect_=a0(),wo(t.eventQueue_,kt(),r)}(t)}function Zb(t,e,n){const r=new Vt("/.info/"+e),i=Rn(n);t.infoData_.updateSnapshot(r,i);const o=r_(t.infoSyncTree_,r,i);wo(t.eventQueue_,r,o)}function I0(t){return t.nextWriteId_++}function Qb(t,e,n,r,i){wf(t,"set",{path:e.toString(),value:n,priority:r});const o=d_(t),s=Rn(n,r),a=v0(t.serverSyncTree_,e),c=$b(s,a,o),l=I0(t),h=Nb(t.serverSyncTree_,e,c,l,!0);M0(t.eventQueue_,h),t.server_.put(e.toString(),s.val(!0),(m,v)=>{const E="ok"===m;E||di("set at "+e+" failed: "+m);const O=al(t.serverSyncTree_,l,!E);wo(t.eventQueue_,e,O),cl(0,i,m,v)});const p=Jb(t,e);Pf(t,p),wo(t.eventQueue_,p,[])}function Dse(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{"ok"===r&&Cb(t.onDisconnect_,e),cl(0,n,r,i)})}function e4(t,e,n,r){const i=Rn(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(o,s)=>{"ok"===o&&_f(t.onDisconnect_,e,i),cl(0,r,o,s)})}function Yb(t,e,n){let r;r=".info"===pt(e._path)?y0(t.infoSyncTree_,e,n):y0(t.serverSyncTree_,e,n),KB(t.eventQueue_,e._path,r)}function t4(t){t.persistentConnection_&&t.persistentConnection_.interrupt(QB)}function wf(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Dr(n,...e)}function cl(t,e,n,r){e&&hf(()=>{if("ok"===n)e(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,e(s)}})}function Xb(t,e,n){return v0(t.serverSyncTree_,e,n)||et.EMPTY_NODE}function O0(t,e=t.transactionQueueTree_){if(e||b0(t,e),ju(e)){const n=r4(t,e);(0,M.hu)(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function Fse(t,e,n){const r=n.map(l=>l.currentWriteId),i=Xb(t,e,r);let o=i;const s=i.hash();for(let l=0;l<n.length;l++){const h=n[l];(0,M.hu)(0===h.status,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const p=ki(e,h.path);o=o.updateChild(p,h.currentOutputSnapshotRaw)}const a=o.val(!0),c=e;t.server_.put(c.toString(),a,l=>{wf(t,"transaction put response",{path:c.toString(),status:l});let h=[];if("ok"===l){const p=[];for(let m=0;m<n.length;m++)n[m].status=2,h=h.concat(al(t.serverSyncTree_,n[m].currentWriteId)),n[m].onComplete&&p.push(()=>n[m].onComplete(null,!0,n[m].currentOutputSnapshotResolved)),n[m].unwatcher();b0(t,w0(t.transactionQueueTree_,e)),O0(t,t.transactionQueueTree_),wo(t.eventQueue_,e,h);for(let m=0;m<p.length;m++)hf(p[m])}else{if("datastale"===l)for(let p=0;p<n.length;p++)n[p].status=3===n[p].status?4:0;else{di("transaction at "+c.toString()+" failed: "+l);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=l}Pf(t,e)}},s)}(t,s_(e),n)}else HB(e)&&P0(e,n=>{O0(t,n)})}function Pf(t,e){const n=n4(t,e),r=s_(n);return function Lse(t,e,n){if(0===e.length)return;const r=[];let i=[];const s=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const c=e[a],l=ki(n,c.path);let p,h=!1;if((0,M.hu)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)h=!0,p=c.abortReason,i=i.concat(al(t.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=Ese)h=!0,p="maxretry",i=i.concat(al(t.serverSyncTree_,c.currentWriteId,!0));else{const m=Xb(t,c.path,s);c.currentInputSnapshot=m;const v=e[a].update(m.val());if(void 0!==v){c_("transaction failed: Data returned ",v,c.path);let E=Rn(v);"object"==typeof v&&null!=v&&(0,M.r3)(v,".priority")||(E=E.updatePriority(m.getPriority()));const b=c.currentWriteId,F=d_(t),x=$b(E,m,F);c.currentOutputSnapshotRaw=E,c.currentOutputSnapshotResolved=x,c.currentWriteId=I0(t),s.splice(s.indexOf(b),1),i=i.concat(Nb(t.serverSyncTree_,c.path,x,c.currentWriteId,c.applyLocally)),i=i.concat(al(t.serverSyncTree_,b,!0))}else h=!0,p="nodata",i=i.concat(al(t.serverSyncTree_,c.currentWriteId,!0))}wo(t.eventQueue_,n,i),i=[],h&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===p?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(p),!1,null)))}b0(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)hf(r[a]);O0(t,t.transactionQueueTree_)}(t,r4(t,n),r),r}function n4(t,e){let n,r=t.transactionQueueTree_;for(n=pt(e);null!==n&&void 0===ju(r);)r=w0(r,n),n=pt(e=Xt(e));return r}function r4(t,e){const n=[];return i4(t,e,n),n.sort((r,i)=>r.order-i.order),n}function i4(t,e,n){const r=ju(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);P0(e,i=>{i4(t,i,n)})}function b0(t,e){const n=ju(e);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Gb(e,n.length>0?n:void 0)}P0(e,r=>{b0(t,r)})}function Jb(t,e){const n=s_(n4(t,e)),r=w0(t.transactionQueueTree_,e);return function pse(t,e,n){let r=n?t:t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{eT(t,i)}),eT(t,r),zB(r,i=>{eT(t,i)}),n}function eT(t,e){const n=ju(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,M.hu)(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):((0,M.hu)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(al(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?Gb(e,void 0):n.length=o+1,wo(t.eventQueue_,s_(e),i);for(let s=0;s<r.length;s++)hf(r[s])}}const tT=function(t,e){const n=Bse(t),r=n.namespace;return"firebase.com"===n.domain&&Ks(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&Ks("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&di("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new rb(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,e,"",r!==n.subdomain),path:new Vt(n.pathString)}},Bse=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",c=443;if("string"==typeof t){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let h=t.indexOf("/");-1===h&&(h=t.length);let p=t.indexOf("?");-1===p&&(p=t.length),e=t.substring(0,Math.min(h,p)),h<p&&(i=function Vse(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(t.substring(h,p)));const m=function Use(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):di(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,p)));l=e.indexOf(":"),l>=0?(s="https"===a||"wss"===a,c=parseInt(e.substring(l+1),10)):l=e.length;const v=e.slice(0,l);if("localhost"===v.toLowerCase())n="localhost";else if(v.split(".").length<=2)n=v;else{const E=e.indexOf(".");r=e.substring(0,E).toLowerCase(),n=e.substring(E+1),o=r}"ns"in m&&(o=m.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},o4="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",jse=function(){let t=0;const e=[];return function(n){const r=n===t;let i;t=n;const o=new Array(8);for(i=7;i>=0;i--)o[i]=o4.charAt(n%64),n=Math.floor(n/64);(0,M.hu)(0===n,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&63===e[i];i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)s+=o4.charAt(e[i]);return(0,M.hu)(20===s.length,"nextPushId: Length should be 20."),s}}();class s4{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,M.Wl)(this.snapshot.exportVal())}}class a4{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class nT{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return(0,M.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class c4{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new M.BH;return Dse(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Zo("OnDisconnect.remove",this._path);const e=new M.BH;return e4(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Zo("OnDisconnect.set",this._path),Ys("OnDisconnect.set",e,this._path,!1);const n=new M.BH;return e4(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){Zo("OnDisconnect.setWithPriority",this._path),Ys("OnDisconnect.setWithPriority",e,this._path,!1),Kb("OnDisconnect.setWithPriority",n,!1);const r=new M.BH;return function Sse(t,e,n,r,i){const o=Rn(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),(s,a)=>{"ok"===s&&_f(t.onDisconnect_,e,o),cl(0,i,s,a)})}(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){Zo("OnDisconnect.update",this._path),WB("OnDisconnect.update",e,this._path,!1);const n=new M.BH;return function Rse(t,e,n,r){if((0,M.xb)(n))return Dr("onDisconnect().update() called with empty data.  Don't do anything."),void cl(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,(i,o)=>{"ok"===i&&Sr(n,(s,a)=>{const c=Rn(a);_f(t.onDisconnect_,In(e,s),c)}),cl(0,r,i,o)})}(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}}class Xi{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return gt(this._path)?null:lb(this._path)}get ref(){return new Qo(this._repo,this._path)}get _queryIdentifier(){const e=hB(this._queryParams),n=tb(e);return"{}"===n?"default":n}get _queryObject(){return hB(this._queryParams)}isEqual(e){if(!((e=(0,M.m9)(e))instanceof Xi))return!1;const n=this._repo===e._repo,r=ub(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Rie(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}function T0(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function ll(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Zs){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==el)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==za)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===cn){if(null!=e&&!a_(e)||null!=n&&!a_(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,M.hu)(t.getIndex()instanceof gb||t.getIndex()===mb,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function A0(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Qo extends Xi{constructor(e,n){super(e,n,new r0,!1)}get parent(){const e=eB(this._path);return null===e?null:new Qo(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class $u{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Vt(e),r=Hu(this.ref,e);return new $u(this._node.getChild(n),r,cn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new $u(i,Hu(this.ref,r),cn)))}hasChild(e){const n=new Vt(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ji(t,e){return(t=(0,M.m9)(t))._checkNotDeleted("ref"),void 0!==e?Hu(t._root,e):t._root}function l4(t,e){(t=(0,M.m9)(t))._checkNotDeleted("refFromURL");const n=tT(e,t._repo.repoInfo_.nodeAdmin);qB("refFromURL",n);const r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&Ks("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),Ji(t,n.path.toString())}function Hu(t,e){return null===pt((t=(0,M.m9)(t))._path)?Cse("child","path",e,!1):u_("child","path",e,!1),new Qo(t._repo,In(t._path,e))}function Wa(t,e){t=(0,M.m9)(t),Zo("set",t._path),Ys("set",e,t._path,!1);const n=new M.BH;return Qb(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Wse(t,e){WB("update",e,t._path,!1);const n=new M.BH;return function Tse(t,e,n,r){wf(t,"update",{path:e.toString(),value:n});let i=!0;const o=d_(t),s={};if(Sr(n,(a,c)=>{i=!1,s[a]=$B(In(e,a),Rn(c),t.serverSyncTree_,o)}),i)Dr("update() called with empty data.  Don't do anything."),cl(0,r,"ok",void 0);else{const a=I0(t),c=function ese(t,e,n,r){!function _oe(t,e,n,r){(0,M.hu)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Ob(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);const i=ln.fromObject(n);return Cf(t,new yf({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,e,s,a);M0(t.eventQueue_,c),t.server_.merge(e.toString(),n,(l,h)=>{const p="ok"===l;p||di("update at "+e+" failed: "+l);const m=al(t.serverSyncTree_,a,!p),v=m.length>0?Pf(t,e):e;wo(t.eventQueue_,v,m),cl(0,r,l,h)}),Sr(n,l=>{const h=Jb(t,In(e,l));Pf(t,h)}),wo(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function D0(t){t=(0,M.m9)(t);const e=new nT(()=>{}),n=new h_(e);return function bse(t,e,n){const r=function ose(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(l,h)=>{const p=ki(l,n);r=r||ol(h,p)});let i=t.syncPointTree_.get(n);i?r=r||ol(i,kt()):(i=new SB,t.syncPointTree_=t.syncPointTree_.set(n,i));const o=null!=r,s=o?new rl(r,!0,!1):null;return function $oe(t){return u0(t.viewCache_)}(RB(i,e,d0(t.pendingWriteTree_,e._path),o?s.getNode():et.EMPTY_NODE,o))}(t.serverSyncTree_,e);return null!=r?Promise.resolve(r):t.server_.get(e).then(i=>{const o=Rn(i).withIndex(e._queryParams.getIndex());let s;if(Fb(t.serverSyncTree_,e,n,!0),e._queryParams.loadsAllData())s=r_(t.serverSyncTree_,e._path,o);else{const a=i_(t.serverSyncTree_,e);s=LB(t.serverSyncTree_,e._path,o,a)}return wo(t.eventQueue_,e._path,s),y0(t.serverSyncTree_,e,n,null,!0),o},i=>(wf(t,"get for query "+(0,M.Wl)(e)+" failed: "+i),Promise.reject(new Error(i))))}(t._repo,t,n).then(r=>new $u(r,new Qo(t._repo,t._path),t._queryParams.getIndex()))}class h_{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,n){const r=n._queryParams.getIndex();return new s4("value",this,new $u(e.snapshotNode,new Qo(n._repo,n._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new a4(this,e,n):null}matches(e){return e instanceof h_&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class S0{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n="children_added"===e?"child_added":e;return n="children_removed"===n?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new a4(this,e,n):null}createEvent(e,n){(0,M.hu)(null!=e.childName,"Child events should have a childName.");const r=Hu(new Qo(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new s4(e.type,this,new $u(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof S0&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function f_(t,e,n,r,i){let o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){const c=n,l=(h,p)=>{Yb(t._repo,t,a),c(h,p)};l.userCallback=n.userCallback,l.context=n.context,n=l}const s=new nT(n,o||void 0),a="value"===e?new h_(s):new S0(e,s);return function xse(t,e,n){let r;r=".info"===pt(e._path)?Fb(t.infoSyncTree_,e,n):Fb(t.serverSyncTree_,e,n),KB(t.eventQueue_,e._path,r)}(t._repo,t,a),()=>Yb(t._repo,t,a)}function Ef(t,e,n,r){return f_(t,"value",e,n,r)}function u4(t,e,n,r){return f_(t,"child_added",e,n,r)}function d4(t,e,n,r){return f_(t,"child_changed",e,n,r)}function h4(t,e,n,r){return f_(t,"child_moved",e,n,r)}function f4(t,e,n,r){return f_(t,"child_removed",e,n,r)}function p4(t,e,n){let r=null;const i=n?new nT(n):null;"value"===e?r=new h_(i):e&&(r=new S0(e,i)),Yb(t._repo,t,r)}class Ps{}class g4 extends Ps{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Ys("endAt",this._value,e._path,!0);const n=vb(e._queryParams,this._value,this._key);if(A0(n),ll(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Xi(e._repo,e._path,n,e._orderByCalled)}}class Kse extends Ps{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Ys("endBefore",this._value,e._path,!1);const n=function ioe(t,e,n){let r;return r=vb(t,e,t.index_===Zs||n?n:el),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(A0(n),ll(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Xi(e._repo,e._path,n,e._orderByCalled)}}class m4 extends Ps{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Ys("startAt",this._value,e._path,!0);const n=yb(e._queryParams,this._value,this._key);if(A0(n),ll(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Xi(e._repo,e._path,n,e._orderByCalled)}}class Yse extends Ps{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Ys("startAfter",this._value,e._path,!1);const n=function roe(t,e,n){let r;return r=yb(t,e,t.index_===Zs||n?n:za),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(A0(n),ll(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Xi(e._repo,e._path,n,e._orderByCalled)}}class Jse extends Ps{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Xi(e._repo,e._path,function toe(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}class tae extends Ps{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Xi(e._repo,e._path,function noe(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}class rae extends Ps{constructor(e){super(),this._path=e}_apply(e){T0(e,"orderByChild");const n=new Vt(this._path);if(gt(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new gb(n),i=o0(e._queryParams,r);return ll(i),new Xi(e._repo,e._path,i,!0)}}class oae extends Ps{_apply(e){T0(e,"orderByKey");const n=o0(e._queryParams,Zs);return ll(n),new Xi(e._repo,e._path,n,!0)}}class aae extends Ps{_apply(e){T0(e,"orderByPriority");const n=o0(e._queryParams,cn);return ll(n),new Xi(e._repo,e._path,n,!0)}}class lae extends Ps{_apply(e){T0(e,"orderByValue");const n=o0(e._queryParams,mb);return ll(n),new Xi(e._repo,e._path,n,!0)}}class dae extends Ps{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){if(Ys("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new g4(this._value,this._key)._apply(new m4(this._value,this._key)._apply(e))}}function Es(t,...e){let n=(0,M.m9)(t);for(const r of e)n=r._apply(n);return n}(function Woe(t){(0,M.hu)(!g0,"__referenceConstructor has already been defined"),g0=t})(Qo),function Yoe(t){(0,M.hu)(!_0,"__referenceConstructor has already been defined"),_0=t}(Qo);const rT={};function iT(t,e,n,r,i){let o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||Ks("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Dr("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let c,l,s=tT(o,i),a=s.repoInfo;typeof process<"u"&&process.env&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=tT(o,i),a=s.repoInfo):c=!s.repoInfo.secure;const h=i&&c?new Gm(Gm.OWNER):new aie(t.name,t.options,e);qB("Invalid Firebase Database URL",s),gt(s.path)||Ks("Database URL must point to the root of a Firebase Database (not including a child path).");const p=function mae(t,e,n,r){let i=rT[e.name];i||(i={},rT[e.name]=i);let o=i[t.toURLString()];return o&&Ks("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Mse(t,false,n,r),i[t.toURLString()]=o,o}(a,t,h,new sie(t.name,n));return new yae(p,t)}class yae{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Ise(t,e,n){if(t.stats_=sb(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new s0(t.repoInfo_,(r,i,o,s)=>{XB(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>JB(t,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,M.Wl)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Lu(t.repoInfo_,e,(r,i,o,s)=>{XB(t,r,i,o,s)},r=>{JB(t,r)},r=>{!function Ose(t,e){Sr(e,(n,r)=>{Zb(t,n,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function uie(t,e){const n=t.toString();return ob[n]||(ob[n]=e()),ob[n]}(t.repoInfo_,()=>new uoe(t.stats_,t.server_)),t.infoData_=new ooe,t.infoSyncTree_=new FB({startListening:(r,i,o,s)=>{let a=[];const c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=r_(t.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Zb(t,"connected",!1),t.serverSyncTree_=new FB({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,c)=>{const l=s(a,c);wo(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Qo(this._repo,kt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function gae(t,e){const n=rT[e];(!n||n[t.key]!==t)&&Ks(`Database ${e}(${t.repoInfo_}) has already been deleted.`),t4(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Ks("Cannot call "+e+" on a deleted database.")}}function y4(){$5.IS_TRANSPORT_INITIALIZED&&di("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function vae(){y4(),tl.forceDisallow()}function Cae(){y4(),ff.forceDisallow(),tl.forceAllow()}function Yo(t=(0,Je.getApp)(),e){const n=(0,Je._getProvider)(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=(0,M.P0)("database");r&&v4(n,...r)}return n}function v4(t,e,n,r={}){(t=(0,M.m9)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&Ks("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ks('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Gm(Gm.OWNER);else if(r.mockUserToken){const s="string"==typeof r.mockUserToken?r.mockUserToken:(0,M.Sg)(r.mockUserToken,t.app.options.projectId);o=new Gm(s)}!function pae(t,e,n,r){t.repoInfo_=new rb(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}(i,e,n,o)}function Eae(t,e){P5(t,e)}const Iae={".sv":"timestamp"};class Tae{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Lu.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Lu.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},function Mae(t){X1(Je.SDK_VERSION),(0,Je._registerComponent)(new Co.wA("database",(e,{instanceIdentifier:n})=>iT(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),(0,Je.registerVersion)(m5,"1.0.1",t),(0,Je.registerVersion)(m5,"1.0.1","esm2017")}();const eo_firebaseConfig={apiKey:"AIzaSyBAbOn_DL4wzdJtwKluPbbuaigV-4At9WY",authDomain:"photohub-4d669.firebaseapp.com",databaseURL:"https://photohub-4d669-default-rtdb.firebaseio.com",projectId:"photohub-4d669",storageBucket:"photohub-4d669.appspot.com",messagingSenderId:"825330385142",appId:"1:825330385142:web:b2b6add9e9f69aed14acd7",measurementId:"G-6K792J2R3M"};(0,Je.registerVersion)("firebase","10.5.2","app");let oT=(()=>{var t;class e{getUserInfos(){return new Promise((r,i)=>{Ef(Ji(Yo((0,Je.initializeApp)(eo_firebaseConfig)),"user_info/"),c=>{const l=c.val(),h=[];for(const p in l)if(l.hasOwnProperty(p)){const m=l[p];h.push({id:m.id,user_id:m.user_id,img1:m.img1||"",img2:m.img2||"",img3:m.img3||"",cost:m.cost||0,description:m.description||"",prize:m.prize||"",interest:m.interest||"",language:m.language||"",camera:m.camera||"",portfolio:m.portfolio||[],typeOfPhoto:m.typeOfPhoto||[]})}r(h)})})}getUserInfoById(r){var i=this;return(0,k.Z)(function*(){try{return(yield i.getUserInfos()).find(a=>a.id===r)||null}catch(o){return console.error("Error fetching user info by ID:",o),null}})()}createUserInfo(r){var i=this;return(0,k.Z)(function*(){try{if(!(yield i.isUserIdUnique(r.user_id)))return console.log("The id is not unique"),null;const a=Yo((0,Je.initializeApp)(eo_firebaseConfig)),c=yield i.generateNewId(),l=Ji(a,"user_info/"+c),h={id:c,user_id:r.user_id,img1:r.img1||"",img2:r.img2||"",img3:r.img3||"",cost:r.cost||0,description:r.description||"",prize:r.prize||"",interest:r.interest||"",language:r.language||"",camera:r.camera||"",portfolio:r.portfolio||[],typeOfPhoto:r.typeOfPhoto||[]};return yield Wa(l,h),h}catch(o){return console.error("Error creating user:",o),null}})()}updateUserInfo(r){var i=this;return(0,k.Z)(function*(){try{const s=Yo((0,Je.initializeApp)(eo_firebaseConfig));if(null===(yield i.getUserInfoById(r.id)))return console.error("User information not found for ID:",r.id),null;const c={id:r.id,user_id:r.user_id,img1:r.img1||"",img2:r.img2||"",img3:r.img3||"",cost:r.cost||0,description:r.description||"",prize:r.prize||"",interest:r.interest||"",language:r.language||"",camera:r.camera||"",portfolio:r.portfolio||[],typeOfPhoto:r.typeOfPhoto||[]},l=Ji(s,`user_info/${r.id}`);return yield Wa(l,c),c}catch(o){return console.error("Error updating user information:",o),null}})()}generateNewId(){var r=this;return(0,k.Z)(function*(){const i=yield r.getUserInfos();return(0===i.length?0:Math.max(...i.map(s=>s.id)))+1})()}isUserIdUnique(r){return(0,k.Z)(function*(){const s=Ji(Yo((0,Je.initializeApp)(eo_firebaseConfig)),"user_info"),c=(yield D0(s)).val();if(c)for(const l in c)if(c.hasOwnProperty(l)&&c[l].user_id===r)return!1;return!0})()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),sT=(()=>{var t;class e{getUsers(){return new Promise((r,i)=>{Ef(Ji(Yo((0,Je.initializeApp)(eo_firebaseConfig)),"users/"),c=>{const l=c.val(),h=[];for(const p in l)if(l.hasOwnProperty(p)){const m=l[p];h.push({id:m.id,username:m.username||"",password:m.password||"",full_name:m.full_name||"",email:m.email||"",phone_number:m.phone_number||"",address:m.address||"",avatar:m.avatar||"",role_id:m.role_id||0})}r(h)})})}getUserById(r){var i=this;return(0,k.Z)(function*(){try{return(yield i.getUsers()).find(a=>a.id===r)||null}catch(o){return console.error("Error fetching user by ID:",o),null}})()}getUserByUsername(r){var i=this;return(0,k.Z)(function*(){try{return(yield i.getUsers()).find(a=>a.username===r)||null}catch(o){return console.error("Error fetching user by username",o),null}})()}createUser(r){var i=this;return(0,k.Z)(function*(){try{if(!(yield i.isUsernameUnique(r.username)))return console.log("The username is not unique"),null;const a=Yo((0,Je.initializeApp)(eo_firebaseConfig)),c=yield i.generateNewId(),l=Ji(a,"users/"+c),h={id:c,username:r.username,password:r.password,full_name:r.full_name,email:r.email,phone_number:r.phone_number,address:r.address,avatar:r.avatar,role_id:r.role_id};return yield Wa(l,h),h}catch(o){return console.error("Error creating user:",o),null}})()}updateUser(r){var i=this;return(0,k.Z)(function*(){try{if(null===(yield i.getUserById(r.id)))return console.error("User information not found for ID:",r.id),null;const a=Yo((0,Je.initializeApp)(eo_firebaseConfig)),c={id:r.id,username:r.username,password:r.password,full_name:r.full_name,email:r.email,phone_number:r.phone_number,address:r.address,avatar:r.avatar,role_id:r.role_id},l=Ji(a,`users/${r.id}`);return yield Wa(l,c),r}catch(o){return console.error("Error updating user:",o),null}})()}generateNewId(){var r=this;return(0,k.Z)(function*(){const i=yield r.getUsers();return(0===i.length?0:Math.max(...i.map(s=>s.id)))+1})()}isUsernameUnique(r){return(0,k.Z)(function*(){const s=Ji(Yo((0,Je.initializeApp)(eo_firebaseConfig)),"users"),c=(yield D0(s)).val();if(c)for(const l in c)if(c.hasOwnProperty(l)&&c[l].username===r)return!1;return!0})()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),aT=(()=>{var t;class e{constructor(r,i){this.userService=r,this.userInfoService=i}getUserInfoDTOs(){return ys([this.userService.getUsers(),this.userInfoService.getUserInfos()]).pipe(ge(([r,i])=>{const o=[];for(const s of r){const a=i.find(c=>c.user_id===s.id);a&&o.push({user:s,userInfo:a})}return o}),Jn(r=>[]))}getUserInfoDTOsByRole(r){return ys([this.userService.getUsers(),this.userInfoService.getUserInfos()]).pipe(ge(([i,o])=>{const s=[];for(const a of i){const c=o.find(l=>l.user_id===a.id&&a.role_id===r);c&&s.push({user:a,userInfo:c})}return s}),Jn(i=>[]))}getUserInfoDTOsById(r){return ys([this.userService.getUsers(),this.userInfoService.getUserInfos()]).pipe(ge(([i,o])=>{const s=[];for(const c of i){const l=o.find(h=>h.user_id===c.id);l&&s.push({user:c,userInfo:l})}return s.find(c=>c.user.id===r)||null}),Jn(i=>H(null)))}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(sT),ee(oT))},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),p_=(()=>{var t;class e{getOrders(){return new Promise((r,i)=>{Ef(Ji(Yo((0,Je.initializeApp)(eo_firebaseConfig)),"orders/"),c=>{const l=c.val(),h=[];for(const p in l)if(l.hasOwnProperty(p)){const m=l[p];h.push({id:m.id,order_date:m.order_date,time:m.time,appoi_time:m.appoi_time,shooting_type:m.shooting_type,partner_id:m.partner_id,cust_name:m.cust_name,cust_email:m.cust_email,cust_phone:m.cust_phone,address:m.address,price:m.price,status:m.status,code:m.code})}r(h)})})}getOrderById(r){var i=this;return(0,k.Z)(function*(){try{return(yield i.getOrders()).find(a=>a.id===r)||null}catch(o){return console.error("Error fetching Order by ID:",o),null}})()}getOrderByPartnerId(r){var i=this;return(0,k.Z)(function*(){try{return(yield i.getOrders()).find(a=>a.partner_id===r)||null}catch(o){return console.error("Error fetching Order by Ordername",o),null}})()}createOrder(r){var i=this;return(0,k.Z)(function*(){try{const s=Yo((0,Je.initializeApp)(eo_firebaseConfig)),a=yield i.generateNewId(),c=Ji(s,"orders/"+a),l={id:a,order_date:r.order_date,time:r.time,appoi_time:r.appoi_time,shooting_type:r.shooting_type,partner_id:r.partner_id,cust_name:r.cust_name,cust_email:r.cust_email,cust_phone:r.cust_phone,address:r.address,price:r.price,status:r.status,code:r.code};return yield Wa(c,l),l}catch(o){return console.error("Error creating Order:",o),null}})()}updateOrder(r){var i=this;return(0,k.Z)(function*(){try{if(null===(yield i.getOrderById(r.id)))return console.error("Order information not found for ID:",r.id),null;const a=Yo((0,Je.initializeApp)(eo_firebaseConfig)),c={id:r.id,order_date:r.order_date,time:r.time,appoi_time:r.appoi_time,shooting_type:r.shooting_type,partner_id:r.partner_id,cust_name:r.cust_name,cust_email:r.cust_email,cust_phone:r.cust_phone,address:r.address,price:r.price,status:r.status,code:r.code},l=Ji(a,`orders/${r.id}`);return yield Wa(l,c),r}catch(o){return console.error("Error updating Order:",o),null}})()}generateNewId(){var r=this;return(0,k.Z)(function*(){const i=yield r.getOrders();return(0===i.length?0:Math.max(...i.map(s=>s.id)))+1})()}isOrderCodeUnique(r){return(0,k.Z)(function*(){const s=Ji(Yo((0,Je.initializeApp)(eo_firebaseConfig)),"orders"),c=(yield D0(s)).val();if(c)for(const l in c)if(c.hasOwnProperty(l)&&c[l].code===r)return!1;return!0})()}generateUniqueOrderCode(){var r=this;return(0,k.Z)(function*(){const i=r.generateRandomOrderCode(6);return(yield r.isOrderCodeUnique(i))?H(i):r.generateUniqueOrderCode()})()}generateRandomOrderCode(r){let o="";for(let s=0;s<r;s++)o+="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(36*Math.random()));return o}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),cT=(()=>{var t;class e{constructor(r,i){this.orderService=r,this.userService=i}getOrderDTOs(){return ys([this.orderService.getOrders(),this.userService.getUsers()]).pipe(ge(([r,i])=>{const o=[];for(const s of r){const a=i.find(c=>c.id===s.partner_id);a&&o.push({order:s,user:a})}return o}),Jn(r=>[]))}getOrderDTOsByStatus(r){return ys([this.orderService.getOrders(),this.userService.getUsers()]).pipe(ge(([i,o])=>{const s=[];for(const a of i){const c=o.find(l=>l.id===a.partner_id&&a.status===r);c&&s.push({order:a,user:c})}return s}),Jn(i=>[]))}getOrderDTOsById(r){return this.getOrderDTOs().pipe(ge(i=>i.find(o=>o.order.id===r)||null))}updateOrder(r){var i=this;return(0,k.Z)(function*(){var o=yield i.orderService.getOrderById(r.order.id);return o?(r.order.status="da_duyet",(o=yield i.orderService.updateOrder(r.order))?(r.order=o,H(r)):H(null)):H(null)})()}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(p_),ee(sT))},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Rae(t,e){if(1&t&&(_(0,"tr")(1,"td"),w(2),y(),_(3,"td"),w(4),y(),_(5,"td"),w(6),y()()),2&t){const n=e.$implicit;L(2),rt(n.id),L(2),rt(n.full_name),L(2),rt(n.email)}}let C4=(()=>{var t;class e{constructor(r,i,o,s){this.userService=r,this.io=i,this.order=o,this.orderDTO=s,this.users=[],this.usey=[],this.orderDTOs=[]}ngOnInit(){this.ui(),this.uo()}ui(){var r=this;return(0,k.Z)(function*(){r.io.getUserInfoDTOs().subscribe(i=>{r.usey=i,console.log(r.usey)},i=>{console.error("Error fetching UserInfoDTOs:",i)})})()}uo(){var r=this;return(0,k.Z)(function*(){r.orderDTO.getOrderDTOs().subscribe(i=>{r.orderDTOs=i,console.log(r.orderDTOs)},i=>{console.error("Error fetching UserInfoDTOs:",i)})})()}addOrders(){var r=this;return(0,k.Z)(function*(){const i=[{id:1,order_date:"19/10/2023",time:"3",appoi_time:"09:30",shooting_type:"Ch\u1ee5p \u1ea3nh lookbook",partner_id:6,cust_name:"B\xf9i Di\u1ec7p H\u01b0\u01a1ng Nhi",cust_email:"huongnhi25@gmail.com",cust_phone:"0986089540",address:"Ha\u0300 N\xf4\u0323i",status:"cho_duyet",code:"NGH78H",price:1e6},{id:2,order_date:"11/10/2023",time:"2",appoi_time:"09:30",shooting_type:"Ch\u1ee5p beauty",partner_id:1,cust_name:"Nguyen Thi Mai Huong",cust_email:"mhuong@gmail.com",cust_phone:"0123456789",address:"Studio Ti\u1ec3u Thu\xfd_ S\u1ed1 234 Ho\xe0ng Mai - H\xe0 N\u1ed9i",status:"cho_duyet",code:"ATHH67",price:1e6}];for(const o of i)try{const s=yield r.order.createOrder(o);s?console.log(`User with ID ${s.id} created successfully`):console.log("Failed to create user:",o)}catch(s){console.error("Error creating user:",s)}})()}}return(t=e).\u0275fac=function(r){return new(r||t)(X(oT),X(aT),X(p_),X(cT))},t.\u0275cmp=xt({type:t,selectors:[["app-home"]],decls:244,vars:1,consts:[[1,"home-content"],[1,"banner-wrapper"],[1,"banner-container"],[1,"banner-content"],["src","./assets/images/banner.jpg","alt","banner",1,"banner-image"],[1,"banner-search"],[1,"bsearch-title"],[1,"stitle"],[1,"slogan"],[1,"bsearch-content"],[1,"bsearch-quest-wrapper"],["type","text","name","","id","bsearch-quest","placeholder","D\u1ecbch v\u1ee5 b\u1ea1n \u0111ang t\xecm ki\u1ebfm ?"],[1,"bsearch-locate-wrapper"],["href","javascript:void(0)",1,"locate-icon"],[1,"bx","bxs-map"],["type","text","name","","id","bsearch-locate","placeholder","\u0110\u1ecba \u0111i\u1ec3m"],["href","javascript:void(0)","id","bsearch-icon"],[1,"bx","bx-search"],[1,"bsearch-suggest"],[1,"content-wrapper"],[1,"forUs-wrapper"],[1,"forUs-title"],[1,"fu-content-wrapper"],[1,"fu-content"],[1,"icon-wrapper"],["src","./assets/images/icons/icon1.png","alt","",1,"fu-icon"],[1,"fu-txt"],["src","./assets/images/icons/icon2.png","alt","",1,"fu-icon"],["src","./assets/images/icons/icon3.png","alt","",1,"fu-icon"],[1,"photo-popular-wrapper"],[1,"ppopular-title"],[1,"ppopular-wrapper"],[1,"ppopular-item"],["routerLink","/profile/1",1,"ppopular-link"],[1,"ppopular-content"],[1,"pp-picture"],[1,"picture-1"],["src","./assets/images/user/Rectangle 16-2.png","alt",""],[1,"picture-right"],[1,"picture-2"],["src","./assets/images/user/Rectangle 17-2.png","alt",""],[1,"picture-3"],["src","./assets/images/user/Rectangle 18-2.png","alt",""],[1,"pp-info"],[1,"info-left"],[1,"info-title"],[1,"info-address"],[1,"info-right"],[1,"info-price"],[1,"info-rate"],[1,"rate-star"],["src","./assets/images/icons/star-fill.png","alt",""],[1,"rate-text"],[1,"pp-avatar"],["src","./assets/images/avatar/avatar1.jpeg","alt","avatar"],["routerLink","/profile/2",1,"ppopular-link"],["src","./assets/images/user/Rectangle 16-1.png","alt",""],["src","./assets/images/user/Rectangle 17-1.png","alt",""],["src","./assets/images/user/Rectangle 18-1.png","alt",""],["routerLink","/profile/3",1,"ppopular-link"],["src","./assets/images/user/Rectangle 16.png","alt",""],["src","./assets/images/user/Rectangle 17.png","alt",""],["src","./assets/images/user/Rectangle 18.png","alt",""],[1,"ppopular-detail"],["routerLink","/collection",1,"ppopular-detail-link"],[1,"bx","bx-chevron-right"],[1,"category-wrapper"],[1,"category-title"],[1,"cate-content-wrapper"],[1,"cate-content"],["routerLink","/collection"],[1,"cate-picture"],[1,"picture-wrapper"],["src","./assets/images/user/Rectangle 23.png","alt",""],[1,"cate-name"],[1,"text-name"],["src","./assets/images/user/Rectangle 24.png","alt",""],["src","./assets/images/user/Rectangle 25.png","alt",""],["src","./assets/images/user/Rectangle 26.png","alt",""],[1,"description-wrapper"],[1,"des-title"],[1,"des-content-wrapper"],[1,"des-content"],[1,"des-left"],[1,"des-attention"],[1,"des-atten-title"],[1,"des-atten-text"],[1,"bx","bx-calendar-check"],[1,"bx","bx-smile"],[1,"des-right"],[1,"right-picture-first"],[1,"rf-left"],[1,"rf-left-first"],["src","./assets/images/user/Rectangle 28.png","alt",""],[1,"rf-left-second"],["src","./assets/images/user/Rectangle 34.png","alt",""],["src","./assets/images/user/Rectangle 35.png","alt",""],[1,"rf-right"],["src","./assets/images/user/Rectangle 29.png","alt","",1,"rf-right-img1"],["src","./assets/images/user/Rectangle 30.png","alt","",1,"rf-right-img2"],[1,"right-picture-second"],["src","./assets/images/user/Rectangle 32.png","alt",""],["src","./assets/images/user/Rectangle 47.png","alt",""],["src","./assets/images/user/Rectangle 33.png","alt",""],[1,"call-contact-warpper"],[1,"contact-bg"],["src","./assets/images/user/Rectangle 36.png","alt",""],[1,"contact-text"],[1,"contact-title"],["routerLink","",1,"contact-link"],[1,"table"],[4,"ngFor","ngForOf"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),A(4,"img",4),y()(),_(5,"div",5)(6,"div",6)(7,"h1",7),w(8,"PhotoHub"),y(),_(9,"p",8),w(10,"Picture - Perfect Memory, Just a Click Away"),y()(),_(11,"div",9)(12,"div",10),A(13,"input",11),y(),_(14,"div",12)(15,"a",13),A(16,"i",14),y(),A(17,"input",15),y(),_(18,"a",16),A(19,"i",17),y()(),A(20,"div",18),y()(),_(21,"div",19)(22,"div",20)(23,"h2",21),w(24,"\u0110\u1ebfn v\u1edbi ch\xfang t\xf4i"),y(),_(25,"div",22)(26,"div",23)(27,"div",24),A(28,"img",25),y(),_(29,"p",26),w(30,"\u0110\u1ed9i ng\u0169 nhi\u1ebfp \u1ea3nh chuy\xean nghi\u1ec7p"),y()(),_(31,"div",23)(32,"div",24),A(33,"img",27),y(),_(34,"p",26),w(35,"\u0110\u1ea3m b\u1ea3o h\xe0i l\xf2ng kh\xe1ch h\xe0ng ho\u1eb7c ho\xe0n tr\u1ea3 ti\u1ec1n n\u1ebfu kh\xf4ng \u0111\xe1p \u1ee9ng \u0111\u1ee7 y\xeau c\u1ea7u"),y()(),_(36,"div",23)(37,"div",24),A(38,"img",28),y(),_(39,"p",26),w(40,"C\xf3 \u0111\u1ebfn 800+ nhi\u1ebfp \u1ea3nh tr\xean PhotoHub v\u1edbi 4.5+ start \u0111\xe1nh gi\xe1"),y()()()(),_(41,"div",29)(42,"h2",30),w(43,"Nhi\u1ebfp \u1ea3nh gia ph\u1ed5 bi\u1ebfn"),y(),_(44,"div",31)(45,"div",32)(46,"a",33)(47,"div",34)(48,"div",35)(49,"div",36),A(50,"img",37),y(),_(51,"div",38)(52,"div",39),A(53,"img",40),y(),_(54,"div",41),A(55,"img",42),y()()(),_(56,"div",43)(57,"div",44)(58,"h4",45),w(59,"Ph\u1ea1m Vi\u1ec7t C\u01b0\u1eddng"),y(),_(60,"span",46),w(61,"Ba \u0110\xecnh, H\xe0 N\u1ed9i"),y()(),_(62,"div",47)(63,"p",48),w(64,"300,000/h"),y(),_(65,"div",49)(66,"div",50),A(67,"img",51)(68,"img",51)(69,"img",51)(70,"img",51)(71,"img",51),y(),_(72,"span",52),w(73,"5.0"),y()()()(),_(74,"div",53),A(75,"img",54),y()()()(),_(76,"div",32)(77,"a",55)(78,"div",34)(79,"div",35)(80,"div",36),A(81,"img",56),y(),_(82,"div",38)(83,"div",39),A(84,"img",57),y(),_(85,"div",41),A(86,"img",58),y()()(),_(87,"div",43)(88,"div",44)(89,"h4",45),w(90,"L\xea \u0110\u1ee9c Chinh"),y(),_(91,"span",46),w(92,"T\xe2y H\u1ed3, H\xe0 N\u1ed9i"),y()(),_(93,"div",47)(94,"p",48),w(95,"350,000/h"),y(),_(96,"div",49)(97,"div",50),A(98,"img",51)(99,"img",51)(100,"img",51)(101,"img",51)(102,"img",51),y(),_(103,"span",52),w(104,"5.0"),y()()()(),_(105,"div",53),A(106,"img",54),y()()()(),_(107,"div",32)(108,"a",59)(109,"div",34)(110,"div",35)(111,"div",36),A(112,"img",60),y(),_(113,"div",38)(114,"div",39),A(115,"img",61),y(),_(116,"div",41),A(117,"img",62),y()()(),_(118,"div",43)(119,"div",44)(120,"h4",45),w(121,"D\u01b0\u01a1ng T\xf9ng V\u01b0\u01a1ng"),y(),_(122,"span",46),w(123,"Qu\u1eadn 1, H\u1ed3 Ch\xed Minh"),y()(),_(124,"div",47)(125,"p",48),w(126,"500,000/h"),y(),_(127,"div",49)(128,"div",50),A(129,"img",51)(130,"img",51)(131,"img",51)(132,"img",51)(133,"img",51),y(),_(134,"span",52),w(135,"5.0"),y()()()(),_(136,"div",53),A(137,"img",54),y()()()()(),_(138,"div",63)(139,"a",64),w(140,"Xem t\u1ea5t c\u1ea3 "),A(141,"i",65),y()()(),_(142,"div",66)(143,"h2",67),w(144,"Th\u1ec3 lo\u1ea1i"),y(),_(145,"div",68)(146,"div",69)(147,"a",70)(148,"div",71)(149,"div",72),A(150,"img",73),y()(),_(151,"div",74)(152,"div",75)(153,"h4"),w(154,"Du l\u1ecbch"),y()()()()(),_(155,"div",69)(156,"a",70)(157,"div",71)(158,"div",72),A(159,"img",76),y()(),_(160,"div",74)(161,"div",75)(162,"h4"),w(163,"LookBook"),y()()()()(),_(164,"div",69)(165,"a",70)(166,"div",71)(167,"div",72),A(168,"img",77),y()(),_(169,"div",74)(170,"div",75)(171,"h4"),w(172,"Catalogue"),y()()()()(),_(173,"div",69)(174,"a",70)(175,"div",71)(176,"div",72),A(177,"img",78),y()(),_(178,"div",74)(179,"div",75)(180,"h4"),w(181,"Kh\xe1c"),y()()()()()()(),_(182,"div",79)(183,"h2",80),w(184,"N\u1eafm b\u1eaft kho\u1ea3nh kh\u1eafc c\u1ee7a b\u1ea1n "),_(185,"span"),w(186,"ch\u1ec9 v\u1edbi 3 b\u01b0\u1edbc"),y()(),_(187,"div",81)(188,"div",82)(189,"div",83)(190,"div",84)(191,"h4",85),A(192,"i",17),w(193," T\xecm ki\u1ebfm nhi\u1ebfp \u1ea3nh gia "),y(),_(194,"div",86),w(195," T\xecm ki\u1ebfm nh\u1eefng nhi\u1ebfp \u1ea3nh gia xung quanh khu v\u1ef1c b\u1ea1n v\u1edbi gi\xe1 c\u1ea3 h\u1ee3p l\xfd, ph\xf9 h\u1ee3p v\u1edbi nhu c\u1ea7u c\u1ee7a b\u1ea1n. Tham kh\u1ea3o h\u1ed3 s\u01a1 v\xe0 th\xeam ngay c\xe1c nhi\u1ebfp \u1ea3nh gia v\xe0o danh m\u1ee5c y\xeau th\xedch. "),y()(),_(196,"div",84)(197,"h4",85),A(198,"i",87),w(199," \u0110\u1eb7t l\u1ecbch h\u1eb9n "),y(),_(200,"div",86),w(201," Sau khi l\u1ef1a ch\u1ecdn xong nhi\u1ebfp \u1ea3nh gia ph\xf9 h\u1ee3p, nhanh ch\xf3ng \u0111\u1eb7t l\u1ecbch ch\u1ec9 b\u1eb1ng v\xe0i thao t\xe1c chu\u1ed9t. Nhi\u1ebfp \u1ea3nh gia s\u1ebd x\xe1c nh\u1eadn v\xe0 c\xf9ng ch\u1edd \u0111\u1ee3i \u0111\u1ebfn ng\xe0y ch\u1ee5p \u1ea3nh. "),y()(),_(202,"div",84)(203,"h4",85),A(204,"i",88),w(205," Chia s\u1ebb kho\u1ea3nh kh\u1eafc tuy\u1ec7t v\u1eddi c\u1ee7a b\u1ea1n "),y(),_(206,"div",86),w(207," H\xe3y gi\u1eef li\xean l\u1ea1c v\u1edbi nhi\u1ebfp \u1ea3nh gia c\u1ee7a b\u1ea1n trong v\xe0 sau khi nh\u1eadn booking. Sau ng\xe0y ch\u1ee5p \u1ea3nh, b\u1ea1n c\xf3 th\u1ec3 l\u1ef1a ch\u1ecdn v\xe0 chia s\u1ebb c\xe1c b\u1ee9c h\xecnh \u0111\u1eb9p m\xe0 nhi\u1ebfp \u1ea3nh gia \u0111\xe3 ch\u1ee5p v\xe0 x\u1eed l\xfd. "),y()()(),_(208,"div",89)(209,"div",90)(210,"div",91)(211,"div",92),A(212,"img",93),y(),_(213,"div",94),A(214,"img",95)(215,"img",96),y()(),_(216,"div",97),A(217,"img",98)(218,"img",99),y()(),_(219,"div",100),A(220,"img",101)(221,"img",102)(222,"img",103),y()()()()(),_(223,"div",104)(224,"div",105),A(225,"img",106),y(),_(226,"div",107)(227,"h3",108),w(228," B\u1ea1n c\xf3 ph\u1ea3i l\xe0 m\u1ed9t nhi\u1ebfp \u1ea3nh gia chuy\xean nghi\u1ec7p v\xe0 \u0111\u1ea7y tham v\u1ecdng? "),y(),_(229,"p"),w(230,"Tham gia c\u1ed9ng \u0111\u1ed3ng PhotoHub v\xe0 nh\u1eadn booking job ngay h\xf4m nay"),y(),_(231,"a",109),w(232," \u0110\u0103ng k\xfd ngay "),y()()()(),_(233,"table",110)(234,"thead")(235,"tr")(236,"th"),w(237,"ID"),y(),_(238,"th"),w(239,"Name"),y(),_(240,"th"),w(241,"Email"),y()()(),_(242,"tbody"),Le(243,Rae,7,3,"tr",111),y()()()),2&r&&(L(243),ce("ngForOf",i.users))},dependencies:[Gs,qr],styles:['@charset "UTF-8";.banner-wrapper[_ngcontent-%COMP%]{height:calc(100vh - 10.75rem);max-height:800px;position:relative}.banner-wrapper[_ngcontent-%COMP%]   .banner-container[_ngcontent-%COMP%], .banner-wrapper[_ngcontent-%COMP%]   .banner-container[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]{height:100%}.banner-wrapper[_ngcontent-%COMP%]   .banner-container[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-image[_ngcontent-%COMP%]{height:100%;width:100%}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]{width:100%;position:absolute;top:20%;left:50%;transform:translateY(-50%);transform:translate(-50%)}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-title[_ngcontent-%COMP%]{margin-bottom:2rem}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-title[_ngcontent-%COMP%]   .stitle[_ngcontent-%COMP%]{color:var(--color-primary);text-transform:uppercase;margin:1rem 0;text-align:center}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-title[_ngcontent-%COMP%]   .slogan[_ngcontent-%COMP%]{margin:.5rem 0;text-align:center;font-weight:600;font-size:22px}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]{width:80%;margin:0 auto;display:flex;justify-content:center}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-quest-wrapper[_ngcontent-%COMP%]{width:calc(60% - 1.14rem);height:2.25rem;background-color:var(--color-light);border-right:2px solid var(--color-primary);border-top-left-radius:.3rem!important;border-bottom-left-radius:.3rem!important}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-quest-wrapper[_ngcontent-%COMP%]   #bsearch-quest[_ngcontent-%COMP%]{width:100%;height:100%;border:0;outline:none;color:var(--color-text-body);padding-left:1.25rem}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-quest-wrapper[_ngcontent-%COMP%]   #bsearch-quest[_ngcontent-%COMP%]::placeholder{color:var(--color-text-body)}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-locate-wrapper[_ngcontent-%COMP%]{width:calc(40% - 1.14rem);height:2.25rem;background-color:var(--color-light);display:flex;justify-content:center}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-locate-wrapper[_ngcontent-%COMP%]   .locate-icon[_ngcontent-%COMP%]{height:2.25rem;width:2.25rem;color:var(--color-primary);font-size:22px;display:flex;justify-content:center;align-items:center;text-decoration:none}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-locate-wrapper[_ngcontent-%COMP%]   #bsearch-locate[_ngcontent-%COMP%]{width:100%;height:100%;border:0;outline:none;color:var(--color-text-body);padding-left:.25rem}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-locate-wrapper[_ngcontent-%COMP%]   #bsearch-locate[_ngcontent-%COMP%]::placeholder{color:var(--color-text-body)}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   #bsearch-icon[_ngcontent-%COMP%]{height:2.28rem;width:2.28rem;background-color:var(--color-primary);border-top-right-radius:.3rem;border-bottom-right-radius:.3rem;display:flex;justify-content:center;align-items:center;font-size:24px;text-decoration:none;color:var(--color-secondary)}@media (min-width: 1200px){.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]{max-width:600px}}@media (max-width: 575.98px){.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-title[_ngcontent-%COMP%]   .slogan[_ngcontent-%COMP%]{padding-left:10%;padding-right:10%}}.forUs-wrapper[_ngcontent-%COMP%]   .forUs-title[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:700;text-align:center;margin-bottom:2.5rem}.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:2rem}.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]   .fu-content[_ngcontent-%COMP%]{margin-bottom:2rem}.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]   .fu-content[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:.75rem}.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]   .fu-content[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .fu-icon[_ngcontent-%COMP%]{height:40px;object-fit:cover}.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]   .fu-content[_ngcontent-%COMP%]   .fu-txt[_ngcontent-%COMP%]{text-align:center}@media (max-width: 991.98px){.forUs-wrapper[_ngcontent-%COMP%]   .forUs-title[_ngcontent-%COMP%]{text-align:left!important}.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 767.98px){.forUs-wrapper[_ngcontent-%COMP%]{margin-top:1.5rem!important}}@media (max-width: 575.98px){.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}}.photo-popular-wrapper[_ngcontent-%COMP%]{margin-top:4rem;position:relative}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-title[_ngcontent-%COMP%]{color:var(--color-primary);margin-bottom:2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]{position:relative;max-height:300px;border-radius:.3rem;margin-bottom:2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]{color:var(--color-text-body)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]{position:relative;height:100%;width:100%;border-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]{height:100%;display:flex;column-gap:.2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-1[_ngcontent-%COMP%]{flex:calc(60% - .1rem);border-right:1px solid var(--color-light)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-top-left-radius:.3rem;border-bottom-left-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]{flex:calc(40% - .1rem);display:flex;row-gap:.1rem;flex-direction:column}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%], .photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]{height:calc(100% - .1rem)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:calc(100% - .15rem);width:100%;object-fit:cover}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%]{height:40%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-top-right-radius:.3rem;border-bottom:1px solid var(--color-light)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]{height:60%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-bottom-right-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;left:0;min-height:4.5rem;display:flex;justify-content:space-between;background-color:#ededed;border-bottom-left-radius:.3rem;border-bottom-right-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-left[_ngcontent-%COMP%]{padding-left:1rem;padding-top:.75rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-left[_ngcontent-%COMP%]   .info-title[_ngcontent-%COMP%]{flex:0 0 100%;width:100%;margin:0 0 .25rem;font-size:20px}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-left[_ngcontent-%COMP%]   .info-address[_ngcontent-%COMP%]{flex:0 0 100%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]{padding-top:.75rem;padding-right:.5rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-price[_ngcontent-%COMP%]{width:100%;font-size:14px;text-align:right;margin:0;margin-bottom:.75rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]{margin-right:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:12px;object-fit:cover}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]   .rate-text[_ngcontent-%COMP%]{font-size:14px;padding-top:2px}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-avatar[_ngcontent-%COMP%]{width:3em;height:3em;border-radius:50%;position:absolute;bottom:3.75rem;left:1rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]:hover:before{content:"Xem h\\1ed3  s\\1a1";position:absolute;inset:0;background-color:#000000b3;color:var(--color-light);font-size:20px;padding:10px;transition:opacity .3s;opacity:0;z-index:1;border-radius:.3rem;display:flex;justify-content:center;align-items:center}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]:hover:before{opacity:1}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]{position:absolute;right:0;top:2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]{text-decoration:none;display:flex;align-items:center;color:var(--color-primary)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:-1px;left:0;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}@media (max-width: 1100px){.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 767.98px){.photo-popular-wrapper[_ngcontent-%COMP%]{margin-top:1.5rem!important}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]{height:7rem;justify-content:flex-start;flex-direction:column}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;padding-left:1rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-price[_ngcontent-%COMP%]{text-align:left;width:auto;margin-right:1.5rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]{justify-content:flex-start}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-avatar[_ngcontent-%COMP%]{bottom:6.26rem}}@media (max-width: 575.98px){.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}}.category-wrapper[_ngcontent-%COMP%]{margin-top:4rem}.category-wrapper[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]{color:var(--color-primary);margin-bottom:2rem}.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);grid-auto-rows:1fr;column-gap:2rem}.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-text-body)}.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]   .cate-content[_ngcontent-%COMP%]{position:relative;margin-bottom:2rem}.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]   .cate-content[_ngcontent-%COMP%]   .cate-picture[_ngcontent-%COMP%], .category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]   .cate-content[_ngcontent-%COMP%]   .cate-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]{height:100%}.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]   .cate-content[_ngcontent-%COMP%]   .cate-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:.3rem}.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]   .cate-content[_ngcontent-%COMP%]   .cate-name[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;left:0;height:4.5rem;width:100%;background-color:#ededed;display:flex;justify-content:center;align-items:center;border-bottom-left-radius:.3rem;border-bottom-right-radius:.3rem}@media (max-width: 991.98px){.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 767.98px){.category-wrapper[_ngcontent-%COMP%]{margin-top:1.5rem!important}}@media (max-width: 575.98px){.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}}.description-wrapper[_ngcontent-%COMP%]   .des-title[_ngcontent-%COMP%]{color:var(--color-primary);margin-bottom:2rem}.description-wrapper[_ngcontent-%COMP%]   .des-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;color:var(--color-warning)}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:3rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-left[_ngcontent-%COMP%]   .des-attention[_ngcontent-%COMP%]{margin-bottom:2rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-left[_ngcontent-%COMP%]   .des-attention[_ngcontent-%COMP%]   .des-atten-title[_ngcontent-%COMP%]{font-size:19px;margin:0;margin-bottom:1rem;display:flex;align-items:center;color:var(--color-primary);font-weight:600}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-left[_ngcontent-%COMP%]   .des-attention[_ngcontent-%COMP%]   .des-atten-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:25px;margin-right:1rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-left[_ngcontent-%COMP%]   .des-attention[_ngcontent-%COMP%]   .des-atten-text[_ngcontent-%COMP%]{padding-left:2.5rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]{max-height:600px;display:flex;flex-direction:column;row-gap:.5rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]{height:calc(60% - .25rem);width:100%;display:flex;column-gap:.5rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-left[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;row-gap:.5rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-left[_ngcontent-%COMP%]   .rf-left-first[_ngcontent-%COMP%]{width:100%;height:calc(70% - .25rem)}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-left[_ngcontent-%COMP%]   .rf-left-first[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-left[_ngcontent-%COMP%]   .rf-left-second[_ngcontent-%COMP%]{width:100%;height:calc(30% - .25rem);display:grid;grid-template-columns:repeat(2,1fr);grid-auto-rows:1fr;column-gap:.5rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-left[_ngcontent-%COMP%]   .rf-left-second[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-right[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;row-gap:.5rem;img-object-fit:cover}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-right[_ngcontent-%COMP%]   .rf-right-img1[_ngcontent-%COMP%]{height:calc(35% - .25rem);width:100%}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-right[_ngcontent-%COMP%]   .rf-right-img2[_ngcontent-%COMP%]{height:calc(65% - .25rem);width:100%}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-second[_ngcontent-%COMP%]{height:calc(40% - .25rem);width:100%;display:flex;column-gap:.5rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-second[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:calc(33.3333333333% - (.25rem + 1px));height:100%;object-fit:cover}@media (max-width: 991.98px){.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}}@media (max-width: 767.98px){.description-wrapper[_ngcontent-%COMP%]{margin-top:1.5rem!important}}@media (max-width: 575.98px){.description-wrapper[_ngcontent-%COMP%]   .des-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline!important}}.call-contact-warpper[_ngcontent-%COMP%]{margin-top:6rem;position:relative}.call-contact-warpper[_ngcontent-%COMP%]   .contact-bg[_ngcontent-%COMP%]{width:100%}.call-contact-warpper[_ngcontent-%COMP%]   .contact-bg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-height:400px;object-fit:fill;object-position:center}.call-contact-warpper[_ngcontent-%COMP%]   .contact-text[_ngcontent-%COMP%]{height:calc(100% - 3rem);width:80%;position:absolute;top:3rem;left:50%;transform:translate(-50%);text-align:center;display:flex;flex-direction:column}.call-contact-warpper[_ngcontent-%COMP%]   .contact-text[_ngcontent-%COMP%]   .contact-title[_ngcontent-%COMP%]{margin-bottom:0}.call-contact-warpper[_ngcontent-%COMP%]   .contact-text[_ngcontent-%COMP%]   .contact-link[_ngcontent-%COMP%]{margin-top:2rem;font-size:18px;font-weight:700;text-decoration:none;color:var(--color-primary);padding:1rem;border:1px solid var(--color-primary);border-radius:.3rem;width:13rem;margin:0 auto}@media (max-width: 767.98px){.call-contact-warpper[_ngcontent-%COMP%]{margin-top:1.5rem!important}}@media (max-width: 575.98px){.call-contact-warpper[_ngcontent-%COMP%]   .contact-bg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:350px}.call-contact-warpper[_ngcontent-%COMP%]   .contact-text[_ngcontent-%COMP%]{width:95%;top:1rem!important}.call-contact-warpper[_ngcontent-%COMP%]   .contact-text[_ngcontent-%COMP%]   .contact-title[_ngcontent-%COMP%]{font-size:20px}}.home-content[_ngcontent-%COMP%]{position:relative}.home-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 4rem 0}@media (max-width: 767.98px){.home-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 2rem 0!important}}']}),e})();class R0{}class x0{}class to{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof to?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new to;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof to?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(n);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class xae{encodeKey(e){return w4(e)}encodeValue(e){return w4(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Nae=/%(\d[a-f0-9])/gi,Fae={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function w4(t){return encodeURIComponent(t).replace(Nae,(e,n)=>Fae[n]??e)}function k0(t){return`${t}`}class ul{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new xae,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function kae(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(k0):[k0(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new ul({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(k0(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(k0(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Lae{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function P4(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function E4(t){return typeof Blob<"u"&&t instanceof Blob}function M4(t){return typeof FormData<"u"&&t instanceof FormData}class g_{constructor(e,n,r,i){let o;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Vae(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new to),this.context||(this.context=new Lae),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new ul,this.urlWithParams=n}serializeBody(){return null===this.body?null:P4(this.body)||E4(this.body)||M4(this.body)||function Uae(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ul?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||M4(this.body)?null:E4(this.body)?this.body.type||null:P4(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ul?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const h=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((p,m)=>p.set(m,e.setHeaders[m]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((p,m)=>p.set(m,e.setParams[m]),l)),new g_(n,r,o,{params:l,headers:c,context:h,reportProgress:a,responseType:i,withCredentials:s})}}var Mf=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Mf||{});class lT{constructor(e,n=200,r="OK"){this.headers=e.headers||new to,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class uT extends lT{constructor(e={}){super(e),this.type=Mf.ResponseHeader}clone(e={}){return new uT({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class If extends lT{constructor(e={}){super(e),this.type=Mf.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new If({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class I4 extends lT{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function dT(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let hT=(()=>{var t;class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof g_)s=r;else{let l,h;l=o.headers instanceof to?o.headers:new to(o.headers),o.params&&(h=o.params instanceof ul?o.params:new ul({fromObject:o.params})),s=new g_(r,i,void 0!==o.body?o.body:null,{headers:l,context:o.context,params:h,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const a=H(s).pipe(Jh(l=>this.handler.handle(l)));if(r instanceof g_||"events"===o.observe)return a;const c=a.pipe(qo(l=>l instanceof If));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(ge(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(ge(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(ge(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return c.pipe(ge(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:(new ul).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,dT(o,i))}post(r,i,o={}){return this.request("POST",r,dT(o,i))}put(r,i,o={}){return this.request("PUT",r,dT(o,i))}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(R0))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();function T4(t,e){return e(t)}function jae(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const Hae=new pe(""),m_=new pe(""),A4=new pe("");function zae(){let t=null;return(e,n)=>{null===t&&(t=(we(Hae,{optional:!0})??[]).reduceRight(jae,T4));const r=we(aw),i=r.add();return t(e,n).pipe(Im(()=>r.remove(i)))}}let D4=(()=>{var t;class e extends R0{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=we(aw)}handle(r){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(m_),...this.injector.get(A4,[])]));this.chain=o.reduceRight((s,a)=>function $ae(t,e,n){return(r,i)=>n.runInContext(()=>e(r,o=>t(o,i)))}(s,a,this.injector),T4)}const i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(Im(()=>this.pendingTasks.remove(i)))}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(x0),ee(fo))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const Kae=/^\)\]\}',?\n/;let R4=(()=>{var t;class e{constructor(r){this.xhrFactory=r}handle(r){if("JSONP"===r.method)throw new Y(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?S(i.\u0275loadImpl()):H(null)).pipe(Ke(()=>new st(s=>{const a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((b,F)=>a.setRequestHeader(b,F.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const b=r.detectContentTypeHeader();null!==b&&a.setRequestHeader("Content-Type",b)}if(r.responseType){const b=r.responseType.toLowerCase();a.responseType="json"!==b?b:"text"}const c=r.serializeBody();let l=null;const h=()=>{if(null!==l)return l;const b=a.statusText||"OK",F=new to(a.getAllResponseHeaders()),x=function Zae(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(a)||r.url;return l=new uT({headers:F,status:a.status,statusText:b,url:x}),l},p=()=>{let{headers:b,status:F,statusText:x,url:z}=h(),$=null;204!==F&&($=typeof a.response>"u"?a.responseText:a.response),0===F&&(F=$?200:0);let fe=F>=200&&F<300;if("json"===r.responseType&&"string"==typeof $){const Ie=$;$=$.replace(Kae,"");try{$=""!==$?JSON.parse($):null}catch(at){$=Ie,fe&&(fe=!1,$={error:at,text:$})}}fe?(s.next(new If({body:$,headers:b,status:F,statusText:x,url:z||void 0})),s.complete()):s.error(new I4({error:$,headers:b,status:F,statusText:x,url:z||void 0}))},m=b=>{const{url:F}=h(),x=new I4({error:b,status:a.status||0,statusText:a.statusText||"Unknown Error",url:F||void 0});s.error(x)};let v=!1;const E=b=>{v||(s.next(h()),v=!0);let F={type:Mf.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(F.total=b.total),"text"===r.responseType&&a.responseText&&(F.partialText=a.responseText),s.next(F)},O=b=>{let F={type:Mf.UploadProgress,loaded:b.loaded};b.lengthComputable&&(F.total=b.total),s.next(F)};return a.addEventListener("load",p),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),r.reportProgress&&(a.addEventListener("progress",E),null!==c&&a.upload&&a.upload.addEventListener("progress",O)),a.send(c),s.next({type:Mf.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",p),a.removeEventListener("timeout",m),r.reportProgress&&(a.removeEventListener("progress",E),null!==c&&a.upload&&a.upload.removeEventListener("progress",O)),a.readyState!==a.DONE&&a.abort()}})))}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(U3))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const fT=new pe("XSRF_ENABLED"),x4=new pe("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),k4=new pe("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class N4{}let Xae=(()=>{var t;class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=S3(r,this.cookieName),this.lastCookieString=r),this.lastToken}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(_o),ee(po),ee(x4))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();function Jae(t,e){const n=t.url.toLowerCase();if(!we(fT)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=we(N4).getToken(),i=we(k4);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var dl=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(dl||{});function zu(t,e){return{\u0275kind:t,\u0275providers:e}}function ece(...t){const e=[hT,R4,D4,{provide:R0,useExisting:D4},{provide:x0,useExisting:R4},{provide:m_,useValue:Jae,multi:!0},{provide:fT,useValue:!0},{provide:N4,useClass:Xae}];for(const n of t)e.push(...n.\u0275providers);return function EI(t){return{\u0275providers:t}}(e)}const F4=new pe("LEGACY_INTERCEPTOR_FN");let nce=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Vn({type:t}),t.\u0275inj=Zn({providers:[ece(zu(dl.LegacyInterceptors,[{provide:F4,useFactory:zae},{provide:m_,useExisting:F4,multi:!0}]))]}),e})(),F0=(()=>{var t;class e{constructor(r){this.http=r,this.apiUrl="https://photohub-backend.onrender.com/users",this.rolesUrl="https://photohub-backend.onrender.com/roles",this.cachedUsers=null}getRoles(){return this.http.get(this.rolesUrl)}getUsers(){return this.cachedUsers?H(this.cachedUsers):this.http.get(this.apiUrl).pipe(Sn(r=>this.cachedUsers=r),Jn(r=>Du("Unable to fetch users data")))}getUserById(r){return this.getUsers().pipe(ge(i=>i.find(o=>o.id===r)||null))}getUserByUsername(r){return this.getUsers().pipe(ge(i=>i.find(o=>o.username===r)||null))}isUsernameExists(r){return this.getUsers().pipe(ge(i=>i.some(o=>o.username===r)))}addUser(r){const i=new to({"Content-Type":"application/json"});return this.isUsernameExists(r.username).pipe(Ke(o=>o?(console.error("Username already exists:",r.username),H(null)):(r.id=this.incrementUserId(),this.http.post(this.apiUrl,r,{headers:i}).pipe(Jn(s=>(console.error("Error adding user:",s),H(null))),Sn(()=>{this.cachedUsers&&this.cachedUsers.push(r)})))))}updateUser(r){const i=new to({"Content-Type":"application/json"});return this.http.put(`${this.apiUrl}/${r.id}`,r,{headers:i}).pipe(Jn(o=>(console.error("Error updating user:",o),H(null))),Sn(o=>{if(o){if(this.cachedUsers){const s=this.cachedUsers.findIndex(a=>a.id===o.id);-1!==s&&(this.cachedUsers[s]=o)}}else console.error("User update failed")}))}incrementUserId(){return(this.cachedUsers?Math.max(...this.cachedUsers.map(i=>i.id),0):0)+1}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(hT))},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),cce=(()=>{var t;class e{constructor(r){this.http=r,this.apiUrl="https://photohub-backend.onrender.com/user_info",this.cachedUserInfo=null}getAllUserInfo(){return this.cachedUserInfo?H(this.cachedUserInfo):this.http.get(this.apiUrl).pipe(Sn(r=>this.cachedUserInfo=r),Jn(r=>Du("Unable to fetch user information")))}getUserInfoById(r){return this.getAllUserInfo().pipe(ge(i=>i.find(o=>o.id===r)||null))}addUser(r){const i=new to({"Content-Type":"application/json"});return this.http.post(this.apiUrl,r,{headers:i}).pipe(Jn(o=>(console.error("Error adding user:",o),H(null))),Sn(()=>{this.cachedUserInfo&&this.cachedUserInfo.push(r)}))}updateUserInfo(r){const i=new to({"Content-Type":"application/json"});return this.http.put(`${this.apiUrl}/${r.id}`,r,{headers:i}).pipe(Jn(o=>(console.error("Error updating user information:",o),H(null))),Sn(o=>{if(o){if(this.cachedUserInfo){const s=this.cachedUserInfo.findIndex(a=>a.id===o.id);-1!==s&&(this.cachedUserInfo[s]=o)}}else console.error("User information update failed")}))}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(hT))},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),lce=(()=>{var t;class e{constructor(r,i){this.userService=r,this.userInfoService=i,this.cachedUserInfoDTOs=null}getUserInfoDTOs(){return this.cachedUserInfoDTOs?H(this.cachedUserInfoDTOs):ys([this.userService.getUsers(),this.userInfoService.getAllUserInfo()]).pipe(ge(([r,i])=>{const o=[];for(const s of r){const a=i.find(c=>c.user_id===s.id);a&&o.push({user:s,userInfo:a})}return o}),Jn(r=>[]))}getUserInfoDTOsByRole(r){return this.cachedUserInfoDTOs?H(this.cachedUserInfoDTOs):ys([this.userService.getUsers(),this.userInfoService.getAllUserInfo()]).pipe(ge(([i,o])=>{const s=[];for(const a of i){const c=o.find(l=>l.user_id===a.id&&a.role_id===r);c&&s.push({user:a,userInfo:c})}return s}),Jn(i=>[]))}getUserInfoDTOsById(r){return this.cachedUserInfoDTOs?H(this.cachedUserInfoDTOs.find(o=>o.user.id===r)||null):ys([this.userService.getUsers(),this.userInfoService.getAllUserInfo()]).pipe(ge(([i,o])=>{const s=[];for(const c of i){const l=o.find(h=>h.user_id===c.id);l&&s.push({user:c,userInfo:l})}return s.find(c=>c.user.id===r)||null}),Jn(i=>H(null)))}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(F0),ee(cce))},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function uce(t,e){if(1&t&&(_(0,"div",6)(1,"a",7)(2,"div",8)(3,"div",9)(4,"div",10),A(5,"img",11),y(),_(6,"div",12)(7,"div",13),A(8,"img",11),y(),_(9,"div",14),A(10,"img",11),y()()(),_(11,"div",15)(12,"div",16)(13,"h4",17),w(14),y(),_(15,"span",18),w(16),y()(),_(17,"div",19)(18,"p",20),w(19),y(),_(20,"div",21)(21,"div",22),A(22,"img",23)(23,"img",23)(24,"img",23)(25,"img",23)(26,"img",23),y(),_(27,"span",24),w(28,"5.0"),y()()()(),_(29,"div",25),A(30,"img",26),y()()()()),2&t){const n=e.$implicit;L(1),ce("routerLink","/profile/"+n.user.id),L(4),ce("src","./assets/images/user/"+n.userInfo.img1,zc),L(3),ce("src","./assets/images/user/"+n.userInfo.img2,zc),L(2),ce("src","./assets/images/user/"+n.userInfo.img3,zc),L(4),rt(n.user.full_name),L(2),rt(n.user.address),L(3),Lt("",n.userInfo.cost,"/h"),L(11),ce("src","./assets/images/avatar/"+n.user.avatar,zc)}}let L4=(()=>{var t;class e{constructor(r){this.userInfoDTOService=r,this.userInfoData=[],this.userCount=0}ngOnInit(){this.loadUserInfoData()}loadUserInfoData(){this.userInfoDTOService.getUserInfoDTOsByRole(2).subscribe(r=>{this.userInfoData=r,this.userCount=this.userInfoData.length},r=>{console.error("Error fetching user information: ",r)})}}return(t=e).\u0275fac=function(r){return new(r||t)(X(lce))},t.\u0275cmp=xt({type:t,selectors:[["app-shop"]],decls:7,vars:2,consts:[[1,"shop-content"],[1,"content-wrapper"],[1,"photo-popular-wrapper"],[1,"ppopular-title"],[1,"ppopular-wrapper"],["class","ppopular-item",4,"ngFor","ngForOf"],[1,"ppopular-item"],[1,"ppopular-link",3,"routerLink"],[1,"ppopular-content"],[1,"pp-picture"],[1,"picture-1"],["alt","",3,"src"],[1,"picture-right"],[1,"picture-2"],[1,"picture-3"],[1,"pp-info"],[1,"info-left"],[1,"info-title"],[1,"info-address"],[1,"info-right"],[1,"info-price"],[1,"info-rate"],[1,"rate-star"],["src","./assets/images/icons/star-fill.png","alt",""],[1,"rate-text"],[1,"pp-avatar"],["alt","avatar",3,"src"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),w(4),y(),_(5,"div",4),Le(6,uce,31,8,"div",5),y()()()()),2&r&&(L(4),Lt("",i.userCount," nhi\u1ebfp \u1ea3nh gia"),L(2),ce("ngForOf",i.userInfoData))},dependencies:[Gs,qr],styles:['@charset "UTF-8";.shop-content[_ngcontent-%COMP%]{position:relative}.shop-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 4rem 0}@media (max-width: 767.98px){.shop-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 2rem 0!important}}.photo-popular-wrapper[_ngcontent-%COMP%]{margin-top:4rem;position:relative}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-title[_ngcontent-%COMP%]{color:var(--color-primary);margin-bottom:2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:3.5rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]{position:relative;max-height:300px;border-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]{color:var(--color-text-body)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]{position:relative;height:100%;width:100%;border-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]{height:100%;display:flex;column-gap:.2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-1[_ngcontent-%COMP%]{flex:calc(60% - .1rem);border-right:1px solid var(--color-light)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-top-left-radius:.3rem;border-bottom-left-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]{flex:calc(40% - .1rem);display:flex;row-gap:.1rem;flex-direction:column}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%], .photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]{height:calc(100% - .1rem)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:calc(100% - .15rem);width:100%;object-fit:cover}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%]{height:40%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-top-right-radius:.3rem;border-bottom:1px solid var(--color-light)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]{height:60%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-bottom-right-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;left:0;min-height:4.5rem;display:flex;justify-content:space-between;background-color:#ededed;border-bottom-left-radius:.3rem;border-bottom-right-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-left[_ngcontent-%COMP%]{padding-left:1rem;padding-top:.75rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-left[_ngcontent-%COMP%]   .info-title[_ngcontent-%COMP%]{flex:0 0 100%;width:100%;margin:0 0 .25rem;font-size:20px}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-left[_ngcontent-%COMP%]   .info-address[_ngcontent-%COMP%]{flex:0 0 100%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]{padding-top:.75rem;padding-right:.5rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-price[_ngcontent-%COMP%]{width:100%;font-size:14px;text-align:right;margin:0;margin-bottom:.75rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]{margin-right:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:12px;object-fit:cover}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]   .rate-text[_ngcontent-%COMP%]{font-size:14px;padding-top:2px}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-avatar[_ngcontent-%COMP%]{width:3em;height:3em;border-radius:50%;position:absolute;bottom:3.75rem;left:1rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]:hover:before{content:"Xem h\\1ed3  s\\1a1";position:absolute;inset:0;background-color:#000000b3;color:var(--color-light);font-size:20px;padding:10px;transition:opacity .3s;opacity:0;z-index:1;border-radius:.3rem;display:flex;justify-content:center;align-items:center}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]:hover:before{opacity:1}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]{position:absolute;right:0;top:2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]{text-decoration:none;display:flex;align-items:center;color:var(--color-primary)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:-1px;left:0;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}@media (max-width: 1350px){.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)!important}}@media (max-width: 1100px){.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 767.98px){.photo-popular-wrapper[_ngcontent-%COMP%]{margin-top:1.5rem!important}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]{height:7rem;justify-content:flex-start;flex-direction:column}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;padding-left:1rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-price[_ngcontent-%COMP%]{text-align:left;width:auto;margin-right:1.5rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]{justify-content:flex-start}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-avatar[_ngcontent-%COMP%]{bottom:6.26rem}}@media (max-width: 575.98px){.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}}']}),e})(),V4=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(X(xa),X(Ai))},t.\u0275dir=Ve({type:t}),e})(),Gu=(()=>{var t;class e extends V4{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Pr(t)))(i||t)}}(),t.\u0275dir=Ve({type:t,features:[Bt]}),e})();const Xs=new pe("NgValueAccessor"),fce={provide:Xs,useExisting:j(()=>hl),multi:!0},gce=new pe("CompositionEventMode");let hl=(()=>{var t;class e extends V4{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function pce(){const t=qc()?qc().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(X(xa),X(Ai),X(gce,8))},t.\u0275dir=Ve({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&ie("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Mn([fce]),Bt]}),e})();const hi=new pe("NgValidators"),pl=new pe("NgAsyncValidators");function H4(t){return function fl(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}(t.value)?{required:!0}:null}function L0(t){return null}function Z4(t){return null!=t}function Q4(t){return cm(t)?S(t):t}function Y4(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function X4(t,e){return e.map(n=>n(t))}function J4(t){return t.map(e=>function _ce(t){return!t.validate}(e)?e:n=>e.validate(n))}function pT(t){return null!=t?function ej(t){if(!t)return null;const e=t.filter(Z4);return 0==e.length?null:function(n){return Y4(X4(n,e))}}(J4(t)):null}function gT(t){return null!=t?function tj(t){if(!t)return null;const e=t.filter(Z4);return 0==e.length?null:function(n){return function dce(...t){const e=Ds(t),{args:n,keys:r}=aU(t),i=new st(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let h=0;h<s;h++){let p=!1;Fn(n[h]).subscribe(Ce(o,m=>{p||(p=!0,l--),a[h]=m},()=>c--,void 0,()=>{(!c||!p)&&(l||o.next(r?lU(r,a):a),o.complete())}))}});return e?i.pipe(cU(e)):i}(X4(n,e).map(Q4)).pipe(ge(Y4))}}(J4(t)):null}function nj(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function mT(t){return t?Array.isArray(t)?t:[t]:[]}function V0(t,e){return Array.isArray(t)?t.includes(e):t===e}function oj(t,e){const n=mT(e);return mT(t).forEach(i=>{V0(n,i)||n.push(i)}),n}function sj(t,e){return mT(e).filter(n=>!V0(t,n))}class aj{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=pT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=gT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Ni extends aj{get formDirective(){return null}get path(){return null}}class gl extends aj{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class cj{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Wu=(()=>{var t;class e extends cj{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(X(gl,2))},t.\u0275dir=Ve({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&zo("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Bt]}),e})(),__=(()=>{var t;class e extends cj{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(X(Ni,10))},t.\u0275dir=Ve({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&zo("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Bt]}),e})();const y_="VALID",B0="INVALID",Of="PENDING",v_="DISABLED";function vT(t){return(j0(t)?t.validators:t)||null}function CT(t,e){return(j0(e)?e.asyncValidators:t)||null}function j0(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class hj{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===y_}get invalid(){return this.status===B0}get pending(){return this.status==Of}get disabled(){return this.status===v_}get enabled(){return this.status!==v_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(oj(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(oj(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(sj(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(sj(e,this._rawAsyncValidators))}hasValidator(e){return V0(this._rawValidators,e)}hasAsyncValidator(e){return V0(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Of,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=v_,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=y_,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===y_||this.status===Of)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?v_:y_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Of,this._hasOwnPendingAsyncValidator=!0;const n=Q4(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new En,this.statusChanges=new En}_calculateStatus(){return this._allControlsDisabled()?v_:this.errors?B0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Of)?Of:this._anyControlsHaveStatus(B0)?B0:y_}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){j0(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function wce(t){return Array.isArray(t)?pT(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Pce(t){return Array.isArray(t)?gT(t):t||null}(this._rawAsyncValidators)}}class wT extends hj{constructor(e,n,r){super(vT(n),CT(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function dj(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new Y(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function uj(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new Y(1e3,"");if(!r[n])throw new Y(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const bf=new pe("CallSetDisabledState",{providedIn:"root",factory:()=>$0}),$0="always";function C_(t,e,n=$0){PT(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Ice(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&fj(t,e)})}(t,e),function bce(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Oce(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&fj(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Mce(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function G0(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function PT(t,e){const n=function rj(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(nj(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function ij(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(nj(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();G0(e._rawValidators,i),G0(e._rawAsyncValidators,i)}function fj(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const Rce={provide:Ni,useExisting:j(()=>qu)},w_=(()=>Promise.resolve())();let qu=(()=>{var t;class e extends Ni{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new En,this.form=new wT({},pT(r),gT(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){w_.then(()=>{const i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),C_(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){w_.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){w_.then(()=>{const i=this._findContainer(r.path),o=new wT({});(function pj(t,e){PT(t,e)})(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){w_.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){w_.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,function gj(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return(t=e).\u0275fac=function(r){return new(r||t)(X(hi,10),X(pl,10),X(bf,8))},t.\u0275dir=Ve({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&ie("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Mn([Rce]),Bt]}),e})();function mj(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function _j(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const yj=class extends hj{constructor(e=null,n,r){super(vT(n),CT(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),j0(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=_j(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){mj(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){mj(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){_j(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Nce={provide:gl,useExisting:j(()=>ml)},wj=(()=>Promise.resolve())();let ml=(()=>{var t;class e extends gl{constructor(r,i,o,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new yj,this._registered=!1,this.name="",this.update=new En,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=function IT(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===hl?n=o:function Dce(t){return Object.getPrototypeOf(t.constructor)===Gu}(o)?r=o:i=o}),i||r||n||null}(0,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),function MT(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){C_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){wj.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,o=0!==i&&Qh(i);wj.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?function H0(t,e){return[...e.path,t]}(r,this._parent):[r]}}return(t=e).\u0275fac=function(r){return new(r||t)(X(Ni,9),X(hi,10),X(pl,10),X(Xs,10),X(dw,8),X(bf,8))},t.\u0275dir=Ve({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Mn([Nce]),Bt,oi]}),e})(),P_=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Ve({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),Ej=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Vn({type:t}),t.\u0275inj=Zn({}),e})();const Gce={provide:Xs,useExisting:j(()=>q0),multi:!0};function Dj(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let q0=(()=>{var t;class e extends Gu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;const o=Dj(this._getOptionId(r),r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){const i=function Wce(t){return t.split(":")[0]}(r);return this._optionMap.has(i)?this._optionMap.get(i):r}}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Pr(t)))(i||t)}}(),t.\u0275dir=Ve({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&ie("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Mn([Gce]),Bt]}),e})(),K0=(()=>{var t;class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){null!=this._select&&(this._select._optionMap.set(this.id,r),this._setElementValue(Dj(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(t=e).\u0275fac=function(r){return new(r||t)(X(Ai),X(xa),X(q0,9))},t.\u0275dir=Ve({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const qce={provide:Xs,useExisting:j(()=>AT),multi:!0};function Sj(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let AT=(()=>{var t;class e extends Gu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){let i;if(this.value=r,Array.isArray(r)){const o=r.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{const o=[],s=i.selectedOptions;if(void 0!==s){const a=s;for(let c=0;c<a.length;c++){const h=this._getOptionValue(a[c].value);o.push(h)}}else{const a=i.options;for(let c=0;c<a.length;c++){const l=a[c];if(l.selected){const h=this._getOptionValue(l.value);o.push(h)}}}this.value=o,r(o)}}_registerOption(r){const i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){const i=function Kce(t){return t.split(":")[0]}(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Pr(t)))(i||t)}}(),t.\u0275dir=Ve({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&ie("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Mn([qce]),Bt]}),e})(),Z0=(()=>{var t;class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){null!=this._select&&(this._value=r,this._setElementValue(Sj(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(Sj(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(t=e).\u0275fac=function(r){return new(r||t)(X(Ai),X(xa),X(AT,9))},t.\u0275dir=Ve({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})(),Ku=(()=>{var t;class e{constructor(){this._validator=L0}ngOnChanges(r){if(this.inputName in r){const i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):L0,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return null!=r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Ve({type:t,features:[oi]}),e})();const Yce={provide:hi,useExisting:j(()=>E_),multi:!0};let E_=(()=>{var t;class e extends Ku{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Qh,this.createValidator=r=>H4}enabled(r){return r}}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Pr(t)))(i||t)}}(),t.\u0275dir=Ve({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&Ho("required",i._enabled?"":null)},inputs:{required:"required"},features:[Mn([Yce]),Bt]}),e})(),rle=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Vn({type:t}),t.\u0275inj=Zn({imports:[Ej]}),e})(),ole=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:bf,useValue:r.callSetDisabledState??$0}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Vn({type:t}),t.\u0275inj=Zn({imports:[rle]}),e})();function sle(t,e){1&t&&(_(0,"span",37),w(1,"Vui l\xf2ng nh\u1eadp email h\u1ee3p l\u1ec7."),y())}function ale(t,e){1&t&&(_(0,"span",37),w(1,"M\u1eadt kh\u1ea9u ph\u1ea3i c\xf3 \xedt nh\u1ea5t 6 k\xfd t\u1ef1."),y())}let cle=(()=>{var t;class e{constructor(r,i){this.userService=r,this.router=i,this.isShowPassword=!1,this.invalidEmail=!1,this.invalidPassword=!1,this.email="",this.password="",this.loginMessage=""}onChangeEmail(r){this.email=r.target.value,this.validateEmail()}onChangePassword(r){this.password=r.target.value,this.validatePassword()}togglePassword(){this.isShowPassword=!this.isShowPassword}onSubmit(){this.validateEmail()&&this.validatePassword()?this.userService.getUserByUsername(this.email).subscribe(r=>{r?this.userService.getRoles().subscribe(i=>{const o=i.find(s=>s.id===r.role_id);o?(this.loginMessage=`\u0110\u0103ng nh\u1eadp th\xe0nh c\xf4ng v\u1edbi vai tr\xf2: ${o.name}`,this.router.navigate(1===r.role_id?["/admin/home"]:["/home"])):this.loginMessage="Vai tr\xf2 kh\xf4ng h\u1ee3p l\u1ec7"}):this.loginMessage="Sai email ho\u1eb7c m\u1eadt kh\u1ea9u"}):(this.validateEmail(),this.validatePassword())}validateEmail(){const i=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(this.email);return this.invalidEmail=!i,i}validatePassword(){return this.invalidPassword=this.password.length<6,!this.invalidPassword}}return(t=e).\u0275fac=function(r){return new(r||t)(X(F0),X(li))},t.\u0275cmp=xt({type:t,selectors:[["app-login"]],decls:53,vars:8,consts:[[1,"login-wrapper"],[1,"login-container"],[1,"login-header"],[1,"go-home"],["routerLink","/home",1,"go-home-link"],[1,"bx","bxs-chevron-left"],[1,"login-title"],[1,"brand"],["routerLink","/home",1,"brand-link"],["src","./assets/images/logo2.png","alt","logo",1,"brand-image"],[1,"login-message"],[1,"login-content"],[3,"ngSubmit"],[1,"form-group"],["for","username"],["type","text","id","username","name","username","required","","placeholder","quang@gmail.com",3,"input"],["class","validate-message",4,"ngIf"],["for","password"],[1,"password-wrapper"],["id","password","name","password","required","",3,"type","input"],["id","showPassword","href","javascript:void(0)",3,"click"],[1,"bx","bx-show"],["id","hidePassword","href","javascript:void(0)",3,"click"],[1,"bx","bx-hide"],["routerLink","",1,"forgot-password"],["type","submit"],[1,"wall-login"],[1,"line-left"],[1,"line-right"],[1,"login-footer"],[1,"login-option"],["href","javascript:void(0)",1,"login-option-icon"],[1,"bx","bxl-google"],[1,"bx","bxl-facebook"],[1,"bx","bxl-instagram-alt"],[1,"sign-in"],["routerLink","/auth/register"],[1,"validate-message"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),A(5,"i",5),w(6," Trang ch\u1ee7 "),y()(),_(7,"h3",6),w(8," \u0110\u0103ng nh\u1eadp "),y(),_(9,"div",7)(10,"a",8),A(11,"img",9),y()()(),_(12,"div",10),w(13),y(),_(14,"div",11)(15,"form",12),ie("ngSubmit",function(){return i.onSubmit()}),_(16,"div",13)(17,"label",14),w(18,"Email"),y(),_(19,"input",15),ie("input",function(s){return i.onChangeEmail(s)}),y(),Le(20,sle,2,0,"span",16),y(),_(21,"div",13)(22,"label",17),w(23,"M\u1eadt kh\u1ea9u"),y(),_(24,"div",18)(25,"input",19),ie("input",function(s){return i.onChangePassword(s)}),y(),_(26,"a",20),ie("click",function(){return i.togglePassword()}),A(27,"i",21),y(),_(28,"a",22),ie("click",function(){return i.togglePassword()}),A(29,"i",23),y()(),Le(30,ale,2,0,"span",16),_(31,"a",24),w(32,"Qu\xean m\u1eadt kh\u1ea9u?"),y()(),_(33,"button",25),w(34,"\u0110\u0103ng nh\u1eadp"),y()()(),_(35,"div",26),A(36,"div",27),_(37,"span"),w(38,"Ho\u1eb7c \u0111\u0103ng nh\u1eadp b\u1eb1ng"),y(),A(39,"div",28),y(),_(40,"div",29)(41,"div",30)(42,"a",31),A(43,"i",32),y(),_(44,"a",31),A(45,"i",33),y(),_(46,"a",31),A(47,"i",34),y()(),_(48,"div",35)(49,"div"),w(50,"B\u1ea1n ch\u01b0a c\xf3 t\xe0i kho\u1ea3n?"),_(51,"a",36),w(52," \u0110\u0103ng k\xfd"),y()()()()()()),2&r&&(L(13),rt(i.loginMessage),L(7),ce("ngIf",i.invalidEmail),L(5),ce("type",i.isShowPassword?"text":"password"),L(1),zo("show",i.isShowPassword),L(2),zo("show",!i.isShowPassword),L(2),ce("ngIf",i.invalidPassword))},dependencies:[vo,qr,P_,__,qu],styles:['.login-wrapper[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;min-height:100vh;background-image:url(/assets/images/banner.jpg);background-size:cover;background-repeat:no-repeat;background-position:center;padding:2rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]{padding:2rem;border-radius:.5rem;width:700px;margin:auto;min-height:calc(100vh - 4rem);height:100%;background-color:#ffffffa8;box-shadow:0 0 10px #0000004d}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem;position:relative}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{position:absolute;top:0rem;left:0rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]   .go-home-link[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;text-decoration:none;color:var(--color-primary);font-weight:700;position:relative}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   .login-title[_ngcontent-%COMP%]{text-align:center;color:var(--color-primary);font-size:32px;font-weight:700}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{display:flex;justify-content:center}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]   .brand-image[_ngcontent-%COMP%]{width:5rem;height:5rem;object-fit:cover}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-message[_ngcontent-%COMP%]{color:red;margin-bottom:1.5rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:15px}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:gray;font-weight:600;font-size:18px}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 10px;border:2px solid gray;border-radius:5px;background-color:transparent;outline:none}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--color-primary)}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]{position:relative}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #hidePassword[_ngcontent-%COMP%], .login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #showPassword[_ngcontent-%COMP%]{position:absolute;right:10px;top:calc(50% + 3px);transform:translateY(-50%);text-decoration:none;font-size:20px;color:var(--color-primary);display:none}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #hidePassword.show[_ngcontent-%COMP%], .login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #showPassword.show[_ngcontent-%COMP%]{display:block}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{width:100%;font-size:14px;color:#ff1818}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{position:absolute;top:100%;color:var(--color-primary);width:100%;right:0;text-align:right}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:3rem;display:block;width:100%;padding:15px 10px;background-color:var(--color-primary);color:#fff;border:none;border-radius:5px;font-size:20px;cursor:pointer}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]{margin:2rem 0;display:flex;align-items:center}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]   .line-left[_ngcontent-%COMP%], .login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]   .line-right[_ngcontent-%COMP%]{flex-grow:1;height:2px;background-color:var(--color-primary)}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 10px;white-space:nowrap}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .login-option[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;justify-content:center;column-gap:1.5rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .login-option[_ngcontent-%COMP%]   .login-option-icon[_ngcontent-%COMP%]{font-size:42px;color:var(--color-primary);text-decoration:none}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%]{color:var(--color-primary)}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;text-decoration:none;color:var(--color-primary)}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:-1px;left:0}@media (max-width: 767.98px){.login-wrapper[_ngcontent-%COMP%]{width:100%;left:50%;transform:translate(-50%);padding:1rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]{width:100%;min-height:calc(100vh - 2rem)}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{top:-.5rem;left:-1rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{font-size:12px}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2rem;padding:10px;font-size:17px}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]{margin:1rem 0}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .login-option[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;justify-content:center;column-gap:1.5rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .login-option[_ngcontent-%COMP%]   .login-option-icon[_ngcontent-%COMP%]{font-size:26px;color:var(--color-primary);text-decoration:none}}']}),e})();function lle(t,e){1&t&&(_(0,"span",42),w(1,"Vui l\xf2ng nh\u1eadp email h\u1ee3p l\u1ec7."),y())}function ule(t,e){1&t&&(_(0,"span",42),w(1,"Vui l\xf2ng nh\u1eadp h\u1ecd t\xean."),y())}function dle(t,e){1&t&&(_(0,"span",42),w(1,"M\u1eadt kh\u1ea9u ph\u1ea3i c\xf3 \xedt nh\u1ea5t 6 k\xfd t\u1ef1."),y())}function hle(t,e){1&t&&(_(0,"span",42),w(1,"M\u1eadt kh\u1ea9u ph\u1ea3i c\xf3 \xedt nh\u1ea5t 6 k\xfd t\u1ef1 v\xe0 tr\xf9ng m\u1edbi m\u1eadt kh\u1ea9u \u1edf tr\xean."),y())}let fle=(()=>{var t;class e{constructor(r,i){this.userService=r,this.router=i,this.isShowPassword=!1,this.isShowConfirmPassword=!1,this.invalidEmail=!1,this.invalidPassword=!1,this.invalidConfirmPassword=!1,this.invalidFullName=!1,this.email="",this.password="",this.confirmPassword="",this.fullName="",this.registerMessage=""}onChangeEmail(r){this.email=r.target.value,this.validateEmail()}onChangePassword(r){this.password=r.target.value,this.validatePassword(),this.confirmPassword.length>0&&this.validateConfirmPassword()}onChangeConfirmPassword(r){this.confirmPassword=r.target.value,this.validateConfirmPassword()}onChangeFullName(r){this.fullName=r.target.value,this.validateFullName()}togglePassword(){this.isShowPassword=!this.isShowPassword}toggleConfirmPassword(){this.isShowConfirmPassword=!this.isShowConfirmPassword}onSubmit(){this.validateEmail()&&this.validatePassword()&&this.validateConfirmPassword()&&this.validateFullName()?this.userService.isUsernameExists(this.email).subscribe(r=>{r?this.registerMessage="Ng\u01b0\u1eddi d\xf9ng \u0111\xe3 t\u1ed3n t\u1ea1i.":this.userService.addUser({id:0,username:this.email,password:this.password,full_name:this.fullName,role_id:3,email:"",phone_number:"",address:"",avatar:""}).subscribe(o=>{null!==o?(this.registerMessage="Th\xeam ng\u01b0\u1eddi d\xf9ng th\xe0nh c\xf4ng.",this.router.navigate(["/auth/login"])):this.registerMessage="Th\xeam ng\u01b0\u1eddi d\xf9ng kh\xf4ng th\xe0nh c\xf4ng."},o=>{console.error("L\u1ed7i khi th\xeam ng\u01b0\u1eddi d\xf9ng:",o),this.registerMessage="\u0110\xe3 x\u1ea3y ra l\u1ed7i khi th\xeam ng\u01b0\u1eddi d\xf9ng."})}):(this.validateEmail(),this.validateFullName(),this.validatePassword(),this.validateConfirmPassword())}validateEmail(){const i=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(this.email);return this.invalidEmail=!i,i}validateFullName(){return this.invalidFullName=this.fullName.length<1,!this.invalidFullName}validatePassword(){return this.invalidPassword=this.password.length<6,!this.invalidPassword}validateConfirmPassword(){return this.invalidConfirmPassword=this.confirmPassword.length<6||this.confirmPassword!==this.password,!this.invalidConfirmPassword}}return(t=e).\u0275fac=function(r){return new(r||t)(X(F0),X(li))},t.\u0275cmp=xt({type:t,selectors:[["app-register"]],decls:66,vars:15,consts:[[1,"register-wrapper"],[1,"register-container"],[1,"register-header"],[1,"go-home"],["routerLink","/home",1,"go-home-link"],[1,"bx","bxs-chevron-left"],[1,"register-title"],[1,"brand"],["routerLink","/home",1,"brand-link"],["src","./assets/images/logo2.png","alt","logo",1,"brand-image"],[1,"register-message"],[1,"register-content"],[3,"ngSubmit"],[1,"form-group"],["for","username"],["type","text","id","username","name","username","required","","placeholder","quang@gmail.com",3,"input"],["class","validate-message",4,"ngIf"],["for","fullName"],["type","text","id","fullName","name","fullName","required","","placeholder","Nguyen Quang Nam",3,"input"],["for","password"],[1,"password-wrapper"],["id","password","name","password","required","",3,"type","input"],["id","showPassword","href","javascript:void(0)",3,"click"],[1,"bx","bx-show"],["id","hidePassword","href","javascript:void(0)",3,"click"],[1,"bx","bx-hide"],["for","confirmPassword"],["name","password","required","",3,"type","input"],["id","showConfirmPassword","href","javascript:void(0)",3,"click"],["id","hideConfirmPassword","href","javascript:void(0)",3,"click"],["type","submit"],[1,"wall-login"],[1,"line-left"],[1,"line-right"],[1,"register-footer"],[1,"register-option"],["href","javascript:void(0)",1,"register-option-icon"],[1,"bx","bxl-google"],[1,"bx","bxl-facebook"],[1,"bx","bxl-instagram-alt"],[1,"login"],["routerLink","/auth/login"],[1,"validate-message"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),A(5,"i",5),w(6," Trang ch\u1ee7 "),y()(),_(7,"h3",6),w(8," \u0110\u0103ng k\xfd "),y(),_(9,"div",7)(10,"a",8),A(11,"img",9),y()()(),_(12,"div",10),w(13),y(),_(14,"div",11)(15,"form",12),ie("ngSubmit",function(){return i.onSubmit()}),_(16,"div",13)(17,"label",14),w(18,"Email"),y(),_(19,"input",15),ie("input",function(s){return i.onChangeEmail(s)}),y(),Le(20,lle,2,0,"span",16),y(),_(21,"div",13)(22,"label",17),w(23,"H\u1ecd t\xean"),y(),_(24,"input",18),ie("input",function(s){return i.onChangeFullName(s)}),y(),Le(25,ule,2,0,"span",16),y(),_(26,"div",13)(27,"label",19),w(28,"M\u1eadt kh\u1ea9u"),y(),_(29,"div",20)(30,"input",21),ie("input",function(s){return i.onChangePassword(s)}),y(),_(31,"a",22),ie("click",function(){return i.togglePassword()}),A(32,"i",23),y(),_(33,"a",24),ie("click",function(){return i.togglePassword()}),A(34,"i",25),y()(),Le(35,dle,2,0,"span",16),y(),_(36,"div",13)(37,"label",26),w(38,"X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u"),y(),_(39,"div",20)(40,"input",27),ie("input",function(s){return i.onChangeConfirmPassword(s)}),y(),_(41,"a",28),ie("click",function(){return i.toggleConfirmPassword()}),A(42,"i",23),y(),_(43,"a",29),ie("click",function(){return i.toggleConfirmPassword()}),A(44,"i",25),y()(),Le(45,hle,2,0,"span",16),y(),_(46,"button",30),w(47,"\u0110\u0103ng k\xfd"),y()()(),_(48,"div",31),A(49,"div",32),_(50,"span"),w(51,"Ho\u1eb7c \u0111\u0103ng nh\u1eadp b\u1eb1ng"),y(),A(52,"div",33),y(),_(53,"div",34)(54,"div",35)(55,"a",36),A(56,"i",37),y(),_(57,"a",36),A(58,"i",38),y(),_(59,"a",36),A(60,"i",39),y()(),_(61,"div",40)(62,"div"),w(63," B\u1ea1n \u0111\xe3 c\xf3 t\xe0i kho\u1ea3n? "),_(64,"a",41),w(65," \u0110\u0103ng nh\u1eadp"),y()()()()()()),2&r&&(L(13),rt(i.registerMessage),L(7),ce("ngIf",i.invalidEmail),L(5),ce("ngIf",i.invalidFullName),L(5),ce("type",i.isShowPassword?"text":"password"),L(1),zo("show",i.isShowPassword),L(2),zo("show",!i.isShowPassword),L(2),ce("ngIf",i.invalidPassword),L(5),ce("type",i.isShowConfirmPassword?"text":"password"),L(1),zo("show",i.isShowConfirmPassword),L(2),zo("show",!i.isShowConfirmPassword),L(2),ce("ngIf",i.invalidConfirmPassword))},dependencies:[vo,qr,P_,__,qu],styles:['.register-wrapper[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;min-height:100vh;background-image:url(/assets/images/banner.jpg);background-size:cover;background-repeat:no-repeat;background-position:center;padding:2rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]{padding:2rem;border-radius:.5rem;width:700px;margin:auto;min-height:calc(100vh - 4rem);height:100%;background-color:#ffffffa8;box-shadow:0 0 10px #0000004d}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem;position:relative}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{position:absolute;top:0rem;left:0rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]   .go-home-link[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;text-decoration:none;color:var(--color-primary);font-weight:700;position:relative}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]   .register-title[_ngcontent-%COMP%]{text-align:center;color:var(--color-primary);font-size:32px;font-weight:700}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{display:flex;justify-content:center}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]   .brand-image[_ngcontent-%COMP%]{width:5rem;height:5rem;object-fit:cover}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-message[_ngcontent-%COMP%]{color:red;margin-bottom:1.5rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:15px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:gray;font-weight:600;font-size:18px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 10px;border:2px solid gray;border-radius:5px;background-color:transparent;outline:none}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--color-primary)}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]{position:relative}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #hidePassword[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #showPassword[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #hideConfirmPassword[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #showConfirmPassword[_ngcontent-%COMP%]{position:absolute;right:10px;top:calc(50% + 3px);transform:translateY(-50%);text-decoration:none;font-size:20px;color:var(--color-primary);display:none}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #hidePassword.show[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #showPassword.show[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #hideConfirmPassword.show[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #showConfirmPassword.show[_ngcontent-%COMP%]{display:block}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{width:100%;font-size:14px;color:#ff1818}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{position:absolute;top:100%;color:var(--color-primary);width:100%;right:0;text-align:right}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:3rem;display:block;width:100%;padding:15px 10px;background-color:var(--color-primary);color:#fff;border:none;border-radius:5px;font-size:20px;cursor:pointer}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]{margin:2rem 0;display:flex;align-items:center}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]   .line-left[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]   .line-right[_ngcontent-%COMP%]{flex-grow:1;height:2px;background-color:var(--color-primary)}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 10px;white-space:nowrap}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-footer[_ngcontent-%COMP%]   .register-option[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;justify-content:center;column-gap:1.5rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-footer[_ngcontent-%COMP%]   .register-option[_ngcontent-%COMP%]   .register-option-icon[_ngcontent-%COMP%]{font-size:42px;color:var(--color-primary);text-decoration:none}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-footer[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;text-decoration:none;color:var(--color-primary)}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-footer[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:-1px;left:0}@media (max-width: 767.98px){.register-wrapper[_ngcontent-%COMP%]{width:100%;left:50%;transform:translate(-50%);padding:1rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]{width:100%;min-height:calc(100vh - 2rem)}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{top:-.5rem;left:-1rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{font-size:12px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2rem;padding:10px;font-size:17px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]{margin:1rem 0}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-footer[_ngcontent-%COMP%]   .register-option[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;justify-content:center;column-gap:1.5rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-footer[_ngcontent-%COMP%]   .register-option[_ngcontent-%COMP%]   .register-option-icon[_ngcontent-%COMP%]{font-size:26px;color:var(--color-primary);text-decoration:none}}']}),e})();function ple(t,e){if(1&t&&(_(0,"tr")(1,"td"),w(2),y(),_(3,"td"),w(4),y(),_(5,"td"),w(6),y()()),2&t){const n=e.$implicit;L(2),rt(n.id),L(2),rt(n.username),L(2),rt(n.email)}}let jj=(()=>{var t;class e{constructor(r){this.userService=r,this.users=[]}ngOnInit(){this.userService.getUsers().subscribe(r=>{this.users=r})}}return(t=e).\u0275fac=function(r){return new(r||t)(X(F0))},t.\u0275cmp=xt({type:t,selectors:[["app-user-list"]],decls:13,vars:1,consts:[[4,"ngFor","ngForOf"]],template:function(r,i){1&r&&(_(0,"h1"),w(1,"User List"),y(),_(2,"table")(3,"thead")(4,"tr")(5,"th"),w(6,"ID"),y(),_(7,"th"),w(8,"Username"),y(),_(9,"th"),w(10,"Email"),y()()(),_(11,"tbody"),Le(12,ple,7,3,"tr",0),y()()),2&r&&(L(12),ce("ngForOf",i.users))},dependencies:[Gs]}),e})(),$j=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=xt({type:t,selectors:[["app-home-admin"]],decls:2,vars:0,template:function(r,i){1&r&&(_(0,"p"),w(1,"home-admin works!"),y())}}),e})();function gle(t,e){if(1&t&&(_(0,"tr",14)(1,"td",15),w(2),y(),_(3,"td",15),w(4),y(),_(5,"td",15),w(6),y(),_(7,"td",15),w(8),y(),_(9,"td",15),w(10),y(),_(11,"td",15),w(12),y(),_(13,"td",15),w(14),y(),_(15,"td",15),w(16),y(),_(17,"td",15),w(18),y(),_(19,"td",15),w(20),y(),_(21,"td",15),w(22),y(),_(23,"td",15),w(24),y()()),2&t){const n=e.$implicit,r=e.index;L(2),rt(r+1),L(2),rt(n.order.cust_name),L(2),rt(n.order.cust_phone),L(2),rt(n.order.cust_email),L(2),rt(n.order.order_date),L(2),rt(n.order.appoi_time),L(2),rt(n.order.time),L(2),rt(n.order.shooting_type),L(2),rt(n.user.full_name),L(2),rt(n.order.price),L(2),rt(n.order.code),L(2),Lt("","cho_duyet"===n.order.status?"Ch\u1edd duy\u1ec7t":"da_duyet"===n.order.status?"\u0110\xe3 duy\u1ec7t":"huy"===n.order.status?"H\u1ee7y":""," ")}}let mle=(()=>{var t;class e{constructor(r){this.orderDTOService=r,this.orderData=[]}ngOnInit(){this.loadOrderData()}loadOrderData(){this.orderDTOService.getOrderDTOs().subscribe(r=>{this.orderData=r,console.log("orderData:",this.orderData)},r=>{console.error("Error fetching order: ",r)})}onAccept(r){var i=this;console.log(r),this.orderDTOService.getOrderDTOsById(r).subscribe(function(){var o=(0,k.Z)(function*(s){null!==s?(console.log("D\u1eef li\u1ec7u \u0111\xe3 t\xecm th\u1ea5y:",s),(yield i.orderDTOService.updateOrder(s)).subscribe(a=>{null!==a?i.loadOrderData():console.log("C\u1eadp nh\u1eadt th\u1ea5t b\u1ea1i.")},a=>{console.error("L\u1ed7i khi c\u1eadp nh\u1eadt:",a)})):console.log("D\u1eef li\u1ec7u kh\xf4ng t\u1ed3n t\u1ea1i.")});return function(s){return o.apply(this,arguments)}}(),o=>{console.error("L\u1ed7i x\u1ea3y ra:",o)})}}return(t=e).\u0275fac=function(r){return new(r||t)(X(cT))},t.\u0275cmp=xt({type:t,selectors:[["app-order-list-admin"]],decls:41,vars:1,consts:[[1,"layout-list-booking"],[1,"list-booking-wrapper"],[1,"list-booking-container"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/admin/home"],["aria-current","page",1,"breadcrumb-item","active"],[1,"list-booking-content"],[1,"table-wrapper"],[1,"table"],[1,"col-header"],[1,"row-header"],["class","col-content",4,"ngFor","ngForOf"],[1,"col-content"],[1,"row-content"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"nav",3)(4,"ol",4)(5,"li",5)(6,"a",6),w(7,"Trang chu"),y()(),_(8,"li",7),w(9,"Danh sach booking"),y()()(),_(10,"div",8)(11,"div",9)(12,"table",10)(13,"thead")(14,"tr",11)(15,"th",12),w(16,"#"),y(),_(17,"th",12),w(18,"T\xean kh\xe1ch"),y(),_(19,"th",12),w(20,"SDT kh\xe1ch"),y(),_(21,"th",12),w(22,"Email kh\xe1ch"),y(),_(23,"th",12),w(24,"Ng\xe0y"),y(),_(25,"th",12),w(26,"Th\u1eddi gian"),y(),_(27,"th",12),w(28,"Th\u1eddi l\u01b0\u1ee3ng"),y(),_(29,"th",12),w(30,"Lo\u1ea1i ch\u1ee5p"),y(),_(31,"th",12),w(32,"Ng\u01b0\u1eddi ch\u1ee5p"),y(),_(33,"th",12),w(34,"T\xf4\u0309ng ti\xea\u0300n"),y(),_(35,"th",12),w(36,"Ma\u0303"),y(),_(37,"th",12),w(38,"Tr\u1ea1ng th\xe1i"),y()()(),_(39,"tbody"),Le(40,gle,25,12,"tr",13),y()()()()()()()),2&r&&(L(40),ce("ngForOf",i.orderData))},dependencies:[Gs,qr],styles:['@charset "UTF-8";.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{padding:0}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]{display:inline}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item.active[_ngcontent-%COMP%]{color:#333}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{padding:8px;color:#000;content:"/\\a0"}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{width:100%;max-width:100%;overflow-x:auto;position:relative}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;height:12px}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cccccc;border-radius:6px}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#bbbbbb}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border:1px solid #ddd}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:transparent}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-color:inherit;border-style:solid;border-width:0}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr.col-header[_ngcontent-%COMP%]{background-color:#f2f2f2;font-weight:700}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr.col-header[_ngcontent-%COMP%]   th.row-header[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td.row-content[_ngcontent-%COMP%]{padding:.625rem 1.25rem;text-align:left;white-space:nowrap}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td.row-content[_ngcontent-%COMP%]:last-child{text-align:center}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.btn-accept[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:6px 12px;border:none;border-radius:4px;text-align:center;text-decoration:none;display:inline-block;cursor:pointer}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.btn-accept[_ngcontent-%COMP%]:hover{background-color:#45a049}']}),e})();function _le(t,e){if(1&t){const n=$s();_(0,"tr",15)(1,"td",16),w(2),y(),_(3,"td",16),w(4),y(),_(5,"td",16),w(6),y(),_(7,"td",16),w(8),y(),_(9,"td",16),w(10),y(),_(11,"td",16),w(12),y(),_(13,"td",16),w(14),y(),_(15,"td",16),w(16),y(),_(17,"td",16),w(18),y(),_(19,"td",16),w(20),y(),_(21,"td",16),w(22),y(),_(23,"td",16),w(24),y(),_(25,"td",17)(26,"a",18),ie("click",function(){const o=bi(n).$implicit;return zr(cr().onAccept(o.order.id))}),w(27,"Duy\u1ec7t"),y()()()}if(2&t){const n=e.$implicit,r=e.index;L(2),rt(r+1),L(2),rt(n.order.cust_name),L(2),rt(n.order.cust_phone),L(2),rt(n.order.cust_email),L(2),rt(n.order.order_date),L(2),rt(n.order.appoi_time),L(2),rt(n.order.time),L(2),rt(n.order.shooting_type),L(1),Ho("data-id",n.user.id),L(1),rt(n.user.full_name),L(2),rt("cho_duyet"===n.order.status?"Ch\u1edd duy\u1ec7t":""),L(2),rt(n.order.price),L(2),rt(n.order.code)}}let yle=(()=>{var t;class e{constructor(r){this.orderDTOService=r,this.orderData=[]}ngOnInit(){this.loadOrderData()}loadOrderData(){this.orderDTOService.getOrderDTOsByStatus("cho_duyet").subscribe(r=>{this.orderData=r},r=>{console.error("Error fetching order: ",r)})}onAccept(r){var i=this;console.log(r),this.orderDTOService.getOrderDTOsById(r).subscribe(function(){var o=(0,k.Z)(function*(s){null!==s?(console.log("D\u1eef li\u1ec7u \u0111\xe3 t\xecm th\u1ea5y:",s),(yield i.orderDTOService.updateOrder(s)).subscribe(a=>{null!==a?i.loadOrderData():console.log("C\u1eadp nh\u1eadt th\u1ea5t b\u1ea1i.")},a=>{console.error("L\u1ed7i khi c\u1eadp nh\u1eadt:",a)})):console.log("D\u1eef li\u1ec7u kh\xf4ng t\u1ed3n t\u1ea1i.")});return function(s){return o.apply(this,arguments)}}(),o=>{console.error("L\u1ed7i x\u1ea3y ra:",o)})}}return(t=e).\u0275fac=function(r){return new(r||t)(X(cT))},t.\u0275cmp=xt({type:t,selectors:[["app-order-accept-admin"]],decls:43,vars:1,consts:[[1,"layout-list-booking"],[1,"list-booking-wrapper"],[1,"list-booking-container"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/admin/home"],["aria-current","page",1,"breadcrumb-item","active"],[1,"list-booking-content"],[1,"table-wrapper"],[1,"table"],[1,"col-header"],[1,"row-header"],[1,"row-header",".col-fixed"],["class","col-content",4,"ngFor","ngForOf"],[1,"col-content"],[1,"row-content"],[1,"row-content",".col-fixed"],["href","javascript:void(0)",1,"btn","btn-accept",3,"click"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"nav",3)(4,"ol",4)(5,"li",5)(6,"a",6),w(7,"Trang chu"),y()(),_(8,"li",7),w(9,"Duyet booking"),y()()(),_(10,"div",8)(11,"div",9)(12,"table",10)(13,"thead")(14,"tr",11)(15,"th",12),w(16,"#"),y(),_(17,"th",12),w(18,"T\xean kh\xe1ch"),y(),_(19,"th",12),w(20,"SDT kh\xe1ch"),y(),_(21,"th",12),w(22,"Email kh\xe1ch"),y(),_(23,"th",12),w(24,"Ng\xe0y"),y(),_(25,"th",12),w(26,"Th\u1eddi gian"),y(),_(27,"th",12),w(28,"Th\u1eddi l\u01b0\u1ee3ng"),y(),_(29,"th",12),w(30,"Lo\u1ea1i ch\u1ee5p"),y(),_(31,"th",12),w(32,"Ng\u01b0\u1eddi ch\u1ee5p"),y(),_(33,"th",12),w(34,"Tr\u1ea1ng th\xe1i"),y(),_(35,"th",12),w(36,"T\xf4\u0309ng ti\xea\u0300n"),y(),_(37,"th",12),w(38,"Ma\u0303"),y(),_(39,"th",13),w(40,"Ch\u1ee9c n\u0103ng"),y()()(),_(41,"tbody"),Le(42,_le,28,13,"tr",14),y()()()()()()()),2&r&&(L(42),ce("ngForOf",i.orderData))},dependencies:[Gs,qr],styles:['@charset "UTF-8";.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{padding:0}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]{display:inline}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item.active[_ngcontent-%COMP%]{color:#333}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{padding:8px;color:#000;content:"/\\a0"}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{width:100%;max-width:100%;overflow-x:auto;position:relative}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;height:12px}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cccccc;border-radius:6px}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#bbbbbb}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border:1px solid #ddd}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:transparent}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-color:inherit;border-style:solid;border-width:0}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr.col-header[_ngcontent-%COMP%]{background-color:#f2f2f2;font-weight:700}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr.col-header[_ngcontent-%COMP%]   th.row-header[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td.row-content[_ngcontent-%COMP%]{padding:.625rem 1.25rem;text-align:left;white-space:nowrap}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td.row-content[_ngcontent-%COMP%]:last-child{text-align:center}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.btn-accept[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:6px 12px;border:none;border-radius:4px;text-align:center;text-decoration:none;display:inline-block;cursor:pointer}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.btn-accept[_ngcontent-%COMP%]:hover{background-color:#45a049}']}),e})();function vle(t,e){if(1&t){const n=$s();_(0,"div",18),ie("click",function(){const o=bi(n).$implicit;return zr(cr(2).selectDate(o))}),w(1),y()}if(2&t){const n=e.$implicit,r=cr(2);zo("calendar-day-hover",null!==n)("selected-date",null!==n&&n===r.selectedDay)("curr-date",r.isCurrentDate(n)),L(1),Lt(" ",n," ")}}function Cle(t,e){if(1&t){const n=$s();_(0,"div",19),ie("click",function(){const o=bi(n).index;return zr(cr(2).selectMonth(o))}),w(1),y()}if(2&t){const n=e.$implicit;L(1),Lt("",n," ")}}function wle(t,e){if(1&t){const n=$s();_(0,"div",6)(1,"div",7)(2,"span",8),ie("click",function(){return bi(n),zr(cr().toggleMonthList())}),w(3),y(),_(4,"div",9)(5,"span",10),ie("click",function(){return bi(n),zr(cr().prevYear())}),w(6,"<"),y(),_(7,"span",11),w(8),y(),_(9,"span",10),ie("click",function(){return bi(n),zr(cr().nextYear())}),w(10,">"),y()()(),_(11,"div",12)(12,"div",13)(13,"div"),w(14,"CN"),y(),_(15,"div"),w(16,"T2"),y(),_(17,"div"),w(18,"T3"),y(),_(19,"div"),w(20,"T4"),y(),_(21,"div"),w(22,"T5"),y(),_(23,"div"),w(24,"T6"),y(),_(25,"div"),w(26,"T7"),y()(),_(27,"div",14),Le(28,vle,2,7,"div",15),y()(),_(29,"div",16),Le(30,Cle,2,1,"div",17),y()()}if(2&t){const n=cr();L(3),rt(n.monthNames[n.currMonth]),L(5),rt(n.currYear),L(20),ce("ngForOf",n.calendarDays),L(1),zo("show",n.isMonthListVisible),L(1),ce("ngForOf",n.monthNames)}}let DT=(()=>{var t;class e{constructor(r){this.el=r,this.textDefault="DD-MM-YYYY",this.selectedDate="",this.selectedDateChange=new En,this.isCalendarVisible=!1,this.monthNames=["Th\xe1ng 1","Th\xe1ng 2","Th\xe1ng 3","Th\xe1ng 4","Th\xe1ng 5","Th\xe1ng 6","Th\xe1ng 7","Th\xe1ng 8","Th\xe1ng 9","Th\xe1ng 10","Th\xe1ng 11","Th\xe1ng 12"],this.calendarDays=[],this.isMonthListVisible=!1,this.selectedDay=null}ngAfterViewInit(){}ngOnInit(){const r=new Date;this.currMonth=r.getMonth(),this.currYear=r.getFullYear(),this.generateCalendar(this.currMonth,this.currYear),this.selectedDateChange.subscribe(i=>{const o=new Date;this.currMonth=o.getMonth(),this.currYear=o.getFullYear(),this.generateCalendar(this.currMonth,this.currYear)})}toggleCalendar(){this.isCalendarVisible=!this.isCalendarVisible,this.isCalendarVisible||(this.isMonthListVisible=!1)}prevYear(){this.currYear--,this.generateCalendar(this.currMonth,this.currYear),this.selectedDay=null}nextYear(){this.currYear++,this.generateCalendar(this.currMonth,this.currYear),this.selectedDay=null}toggleMonthList(){this.isMonthListVisible=!this.isMonthListVisible}selectMonth(r){this.isMonthListVisible=!1,this.currMonth=r,this.generateCalendar(this.currMonth,this.currYear),this.selectedDay=null}isLeapYear(r){return r%4==0&&r%100!=0||r%400==0}getFebDays(r){return this.isLeapYear(r)?29:28}generateCalendar(r,i){const o=[31,this.getFebDays(i),31,30,31,30,31,31,30,31,30,31];this.calendarDays=[];const s=new Date(i,r,1);for(let a=0;a<=o[r]+s.getDay()-1;a++)a>=s.getDay()?this.calendarDays.push(a-s.getDay()+1):this.calendarDays.push(null)}selectDate(r){if(null!==r){this.selectedDay=r;const i=new Date(this.currYear,this.currMonth,r);this.selectedDate=i.toLocaleDateString(),this.isCalendarVisible=!1}this.selectedDateChange.emit(this.selectedDate)}isCurrentDate(r){if(null===r)return!1;const i=new Date;return r===i.getDate()&&this.currYear===i.getFullYear()&&this.currMonth===i.getMonth()}onDocumentClick(r){!this.el.nativeElement.contains(r.target)&&this.isCalendarVisible&&(this.isCalendarVisible=!1,this.isMonthListVisible=!1,this.selectedDateChange.subscribe(i=>{const o=new Date;this.currMonth=o.getMonth(),this.currYear=o.getFullYear(),this.generateCalendar(this.currMonth,this.currYear)}))}}return(t=e).\u0275fac=function(r){return new(r||t)(X(Ai))},t.\u0275cmp=xt({type:t,selectors:[["app-date-picker"]],hostBindings:function(r,i){1&r&&ie("click",function(s){return i.onDocumentClick(s)},0,Eu)},inputs:{textDefault:"textDefault",selectedDate:"selectedDate"},outputs:{selectedDateChange:"selectedDateChange"},decls:8,vars:3,consts:[[1,"calendar-wrapper"],[1,"select-button",3,"click"],["selectButton",""],[1,"bx","bx-calendar"],["class","calendar",4,"ngIf"],["type","text",2,"display","none",3,"ngModel","ngModelChange"],[1,"calendar"],[1,"calendar-header"],[1,"month-picker",3,"click"],[1,"year-picker"],[1,"year-change",3,"click"],["id","year"],[1,"calendar-body"],[1,"calendar-week-day"],[1,"calendar-days"],[3,"calendar-day-hover","selected-date","curr-date","click",4,"ngFor","ngForOf"],[1,"month-list"],["class","month-item",3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"month-item",3,"click"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1,2),ie("click",function(){return i.toggleCalendar()}),_(3,"span"),w(4),y(),A(5,"i",3),y(),Le(6,wle,31,6,"div",4),_(7,"input",5),ie("ngModelChange",function(s){return i.selectedDate=s}),y()()),2&r&&(L(4),rt(i.selectedDate||i.textDefault),L(2),ce("ngIf",i.isCalendarVisible),L(1),ce("ngModel",i.selectedDate))},dependencies:[Gs,vo,hl,Wu,ml],styles:[".calendar-wrapper[_ngcontent-%COMP%]{position:relative;min-width:150px}.calendar-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.calendar-wrapper[_ngcontent-%COMP%]   .select-button[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;padding:8px 12px;border:1px solid var(--color-primary);border-radius:4px;background-color:var(--color-light);display:flex;justify-content:space-between;column-gap:.75rem;align-items:center;color:var(--color-primary)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]{position:absolute;top:calc(100% + .3rem);left:0;background-color:var(--color-bg-body);width:260px;height:290px;border-radius:.5rem;padding:.5rem;overflow:hidden;box-shadow:0 2px 5px #0003;z-index:2}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:17px;font-weight:700;padding:10px 0}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]   .month-picker[_ngcontent-%COMP%]{color:var(--color-primary);padding:5px 10px;border-radius:10px;cursor:pointer}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]   .month-picker[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]   .year-picker[_ngcontent-%COMP%]{display:flex;align-items:center;color:var(--color-primary)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]   .year-picker[_ngcontent-%COMP%]   .year-change[_ngcontent-%COMP%]{height:30px;width:30px;border-radius:50%;display:grid;place-items:center;margin:0 10px;cursor:pointer;color:var(--color-primary)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]   .year-picker[_ngcontent-%COMP%]   .year-change[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]{padding:10px}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-week-day[_ngcontent-%COMP%]{height:30px;display:grid;grid-template-columns:repeat(7,1fr);font-weight:600}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-week-day[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:grid;place-items:center;color:var(--color-dark)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:2px;color:#151426}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:30px;height:30px;display:flex;align-items:center;justify-content:center;padding:5px;position:relative;animation:_ngcontent-%COMP%_to-top 1s forwards}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div.calendar-day-hover[_ngcontent-%COMP%]{cursor:pointer;border-radius:50%}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div.calendar-day-hover[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary);color:var(--color-primary);font-weight:600}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div.curr-date[_ngcontent-%COMP%], .calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div.curr-date[_ngcontent-%COMP%]:hover{background-color:var(--color-primary);color:#fff}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div.selected-date[_ngcontent-%COMP%], .calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div.selected-date[_ngcontent-%COMP%]:hover{background-color:var(--color-info)!important;color:#fff}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month-list[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background-color:var(--color-bg-body);padding:.5rem;grid-template-columns:repeat(3,auto);gap:7px;display:grid;transform:scale(1.5);visibility:hidden;pointer-events:none}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;place-items:center;width:100%;border-radius:10px;cursor:pointer;color:var(--color-primary);font-weight:700}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month-list.show[_ngcontent-%COMP%]{transform:scale(1);visibility:visible;pointer-events:visible;transition:all .2s ease-in-out}@keyframes _ngcontent-%COMP%_to-top{0%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}"]}),e})();const Ple=["selectElement"],Ele=["selectButton"],Mle=["selectOptions"];function Ile(t,e){1&t&&A(0,"i",10)}function Ole(t,e){1&t&&A(0,"i",11)}function ble(t,e){if(1&t){const n=$s();_(0,"li",12),ie("click",function(){const o=bi(n).$implicit;return zr(cr().selectOption(o.value))}),w(1),y()}if(2&t){const n=e.$implicit;L(1),Lt(" ",n.textContent," ")}}const Tle=[[["","custom-option",""]]],Ale=function(t){return{active:t}},Dle=["[custom-option]"];let ST=(()=>{var t;class e{constructor(){this.textDefault="-- Choose --",this.selectedOption="",this.selectedOptionChange=new En,this.selectedOptionText="",this.options=[],this.isDropdownOpen=!1,this.dropdownPosition={top:"0",left:"0"}}ngOnInit(){}ngAfterViewInit(){const r=this.selectElement.nativeElement;for(let i=0;i<r.options.length;i++){const o=r.options[i];this.options.push({value:o.value,textContent:o.textContent})}}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen}selectOption(r){this.selectedOption=r,this.selectedOptionText=this.options.find(i=>i.value===this.selectedOption)?.textContent||"",this.selectedOptionChange.emit(this.selectedOption),this.isDropdownOpen=!1}onClickOutside(r){!this.selectButton.nativeElement.contains(r.target)&&!this.selectOptions.nativeElement.contains(r.target)&&(this.isDropdownOpen=!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=xt({type:t,selectors:[["app-custom-select"]],viewQuery:function(r,i){if(1&r&&(Yn(Ple,5),Yn(Ele,5),Yn(Mle,5)),2&r){let o;Bn(o=jn())&&(i.selectElement=o.first),Bn(o=jn())&&(i.selectButton=o.first),Bn(o=jn())&&(i.selectOptions=o.first)}},hostBindings:function(r,i){1&r&&ie("click",function(s){return i.onClickOutside(s)},0,Eu)},inputs:{textDefault:"textDefault",selectedOption:"selectedOption"},outputs:{selectedOptionChange:"selectedOptionChange"},ngContentSelectors:Dle,decls:13,vars:8,consts:[[1,"custom-select"],[1,"select-button",3,"click"],["selectButton",""],["class","bx bx-collapse-vertical",4,"ngIf"],["class","bx bx-expand-vertical",4,"ngIf"],[1,"select-options",3,"ngClass"],["selectOptions",""],[3,"click",4,"ngFor","ngForOf"],[2,"display","none",3,"ngModel","ngModelChange"],["selectElement",""],[1,"bx","bx-collapse-vertical"],[1,"bx","bx-expand-vertical"],[3,"click"]],template:function(r,i){1&r&&(function MF(t){const e=se()[Dn][ar];if(!e.projection){const r=e.projection=jc(t?t.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=t?UK(o,t):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}(Tle),_(0,"div",0)(1,"div",1,2),ie("click",function(){return i.toggleDropdown()}),_(3,"span"),w(4),y(),Le(5,Ile,1,0,"i",3),Le(6,Ole,1,0,"i",4),y(),_(7,"ul",5,6),Le(9,ble,2,1,"li",7),y(),_(10,"select",8,9),ie("ngModelChange",function(s){return i.selectedOption=s}),function IF(t,e=0,n){const r=se(),i=Ct(),o=Rh(i,ut+t,16,null,n||null);null===o.projection&&(o.projection=e),fu(),(!r[uo]||Oa())&&32!=(32&o.flags)&&function $G(t,e,n){bN(e[Ge],0,e,n,dI(t,n,e),wN(n.parent||e[ar],n,e))}(i,r,o)}(12),y()()),2&r&&(L(4),rt(i.selectedOptionText||i.textDefault),L(1),ce("ngIf",!i.isDropdownOpen),L(1),ce("ngIf",i.isDropdownOpen),L(1),ce("ngClass",mo(6,Ale,i.isDropdownOpen)),L(2),ce("ngForOf",i.options),L(1),ce("ngModel",i.selectedOption))},dependencies:[ms,Gs,vo,q0,Wu,ml],styles:[".custom-select[_ngcontent-%COMP%]{position:relative;min-width:150px}.custom-select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{display:none}.custom-select[_ngcontent-%COMP%]   .select-button[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;padding:8px 12px;border:1px solid var(--color-primary);border-radius:4px;background-color:var(--color-light);display:flex;justify-content:space-between;align-items:center;column-gap:.75rem;color:var(--color-primary);text-wrap:nowrap}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;position:absolute;top:calc(100% + .3rem);left:0;background-color:var(--color-light);border-top:none;border-radius:.3rem;box-shadow:0 2px 5px #0003;display:none;z-index:2;min-width:150px;max-height:200px;overflow-y:auto;scrollbar-width:thin;scrollbar-color:var(--color-primary) var(--color-light)}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--color-light)}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#f6f6f6;border-radius:4px;border:2px solid var(--color-light)}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px 12px;cursor:pointer;color:var(--color-primary);text-wrap:nowrap}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-of-type{border-top-right-radius:.3rem;border-top-left-radius:.3rem}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-of-type{border-bottom-right-radius:.3rem;border-bottom-left-radius:.3rem}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f6f6f6}.custom-select[_ngcontent-%COMP%]   .select-options.active[_ngcontent-%COMP%]{display:block}"]}),e})();function Sle(t,e){if(1&t&&(_(0,"div",142),w(1),y()),2&t){const n=cr();L(1),Lt(" ",n.errorMessage," ")}}let Rle=(()=>{var t;class e{constructor(r,i,o,s,a,c){this.router=r,this.route=i,this.orderService=o,this.userInfoDTOService=s,this.userInfoService=a,this.userService=c,this.userData=null,this.selectedDateU="",this.selectedOptionTL="",this.selectedOptionType="",this.errorMessage="",this.isError=!1,this.dateVal="",this.selectedOptionTLVal="",this.selectedOptionTypeVal="",this.setTimeVal="",this.partnerId=0,this.isShowOrder=!1,this.isShowForMeEdit=!1,this.isShowIcEdit=!1,this.isShowFeEdit=!1,this.nameText="",this.desText="",this.prizeText="",this.interestText="",this.languageText="",this.cameraText="",this.route.params.subscribe(l=>{const h=l.id;h?this.partnerId=parseInt(h,10):console.error("ID not found in URL")})}ngOnInit(){this.route.params.subscribe(r=>{const i=r.id;if(i){const o=parseInt(i,10);this.loadUserInfoData(o)}else console.error("ID not found in URL")})}loadUserInfoData(r){this.userInfoDTOService.getUserInfoDTOsById(r).subscribe(i=>{this.userData=i,this.nameText=this.userData?.user.full_name||"",this.desText=this.userData?.userInfo.description||"",this.prizeText=this.userData?.userInfo.prize||"",this.interestText=this.userData?.userInfo.interest||"",this.languageText=this.userData?.userInfo.language||"",this.cameraText=this.userData?.userInfo.camera||""},i=>{console.error("Error loading user info:",i)})}onDateChange(r){this.dateVal=r}onOptionTLChange(r){this.selectedOptionTLVal=r}onOptionTypeChange(r){this.selectedOptionTypeVal=r}onSubmit(){var r=this;return(0,k.Z)(function*(){if(r.isError=!1,r.selectedDateU&&r.selectedOptionTL&&r.selectedOptionType){if(0!==r.partnerId){console.log("true");const o={id:0,order_date:r.dateVal,time:r.selectedOptionTLVal,appoi_time:r.setTimeVal,shooting_type:r.selectedOptionTypeVal,partner_id:r.partnerId,cust_name:"",cust_email:"",cust_phone:"",code:"",status:"cho_duyet",address:"",price:""};var i=yield r.orderService.createOrder(o);i&&(localStorage.setItem("order_id",i.id.toString()),r.router.navigate(["/contact"]))}}else r.errorMessage="Vui l\xf2ng \u0111i\u1ec1n \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin",r.isError=!0,console.log(r.dateVal),console.log(r.setTimeVal)})()}showOrder(){this.isShowOrder=!0}hideOrder(){this.isShowOrder=!1}showForMeEdit(){this.isShowForMeEdit=!0}showIcEdit(){this.isShowIcEdit=!0}showFeEdit(){this.isShowFeEdit=!0}hideForMeEdit(){this.isShowForMeEdit=!1}hideIcEdit(){this.isShowIcEdit=!1}hideFeEdit(){this.isShowFeEdit=!1}updateValue(r,i){switch(r){case"nameText":this.nameText=i;break;case"desText":this.desText=i;break;case"prizeText":this.prizeText=i;break;case"interestText":this.interestText=i}}saveIc(){var r=this;return(0,k.Z)(function*(){if(void 0!==r.userData?.user.id){const s=r.userData?.userInfo.id;var i=yield r.userInfoService.getUserInfoById(s);if(i)if(void 0!==r.desText&&void 0!==r.prizeText&&void 0!==r.interestText){i.description=r.desText,i.prize=r.prizeText,i.interest=r.interestText;var o=yield r.userInfoService.updateUserInfo(i);o?console.log("Th\xf4ng tin ng\u01b0\u1eddi d\xf9ng \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt th\xe0nh c\xf4ng",o):console.error("L\u1ed7i khi c\u1eadp nh\u1eadt th\xf4ng tin ng\u01b0\u1eddi d\xf9ng")}else console.error("M\u1ed9t trong c\xe1c tr\u01b0\u1eddng d\u1eef li\u1ec7u l\xe0 undefined");else console.error("Kh\xf4ng t\xf4\u0300n ta\u0323i ta\u0323i th\xf4ng tin cu\u0309a ta\u0300i khoa\u0309n na\u0300y")}else console.error("User ID is undefined")})()}saveForMe(){var r=this;return(0,k.Z)(function*(){if(void 0!==r.userData?.user.id){const s=r.userData?.user.id;var i=yield r.userService.getUserById(s);if(i)if(void 0!==r.nameText){i.full_name=r.nameText;var o=yield r.userService.updateUser(i);o?console.log("Th\xf4ng tin ng\u01b0\u1eddi d\xf9ng \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt th\xe0nh c\xf4ng",o):console.error("L\u1ed7i khi c\u1eadp nh\u1eadt th\xf4ng tin ng\u01b0\u1eddi d\xf9ng")}else console.error("M\u1ed9t trong c\xe1c tr\u01b0\u1eddng d\u1eef li\u1ec7u l\xe0 undefined");else console.error("Kh\xf4ng t\xf4\u0300n ta\u0323i ta\u0323i th\xf4ng tin cu\u0309a ta\u0300i khoa\u0309n na\u0300y")}else console.error("User ID is undefined")})()}saveFe(){}}return(t=e).\u0275fac=function(r){return new(r||t)(X(li),X(Xc),X(p_),X(aT),X(oT),X(sT))},t.\u0275cmp=xt({type:t,selectors:[["app-partner-profile"]],decls:331,vars:31,consts:[[1,"profile-content"],[1,"wall-wrapper"],[1,"wall-content"],[1,"wall1"],[1,"wall1-1"],["src","./assets/images/profile/pf1.jpg","alt",""],[1,"wall1-2"],["src","./assets/images/profile/pf2.jpg","alt",""],[1,"wall2"],["src","./assets/images/profile/pf3.jpg","alt",""],[1,"wall3"],[1,"wall3-1"],["src","./assets/images/profile/pf4.jpg","alt",""],[1,"wall3-2"],["src","./assets/images/profile/pf5.jpg","alt",""],[1,"wall4"],["src","./assets/images/profile/pf6.jpg","alt",""],[1,"wall5"],[1,"wall5-1"],["src","./assets/images/profile/pf7.jpg","alt",""],[1,"wall5-2"],["src","./assets/images/profile/pf8.jpg","alt",""],[1,"content-wrapper"],[1,"forMe-wrapper"],[1,"forMe-content"],[1,"avatar-wrapper"],[1,"avatar"],["alt","",1,"avatar-image",3,"src"],[1,"des-forMe-wrapper"],[1,"des-forMe-name"],[1,"btn-edit-forMe",3,"click"],[1,"bx","bx-edit-alt"],[1,"des-forMe-address"],[1,"des-forMe-rate"],[1,"rate-star"],["src","./assets/images/icons/star-fill.png","alt",""],[1,"rate-text"],[1,"des-forMe-exp"],[1,"forMe-edit",3,"ngClass"],[3,"ngModel","ngModelChange"],[1,"des-forMe-address",3,"ngModel"],[1,"des-forMe-exp",3,"ngModel"],[1,"btn-edit-control"],["href","javascript:void(0)",1,"btn-save",3,"click"],["href","javascript:void(0)",1,"btn-cancel",3,"click"],[1,"info-wrapper"],[1,"infor-title-list"],[1,"title-list"],[1,"it-item"],["href","javascript:void(0)",1,"it-link"],[1,"deliver-line"],[1,"infor-content-list"],[1,"ic-item"],[1,"text-description"],[1,"prize"],[1,"prize-title"],[1,"interest"],[1,"interest-title"],[1,"btn-ic-edit",3,"click"],[1,"ic-edit",2,"overflow-y","auto",3,"ngClass"],[1,"feature-wrapper"],[1,"feature-title"],[1,"feature-content"],[1,"language"],[1,"language-title"],["src","./assets/images/icons/translate.png","alt",""],[1,"camera"],[1,"camera-title"],["src","./assets/images/icons/camera.png","alt",""],[1,"btn-feature-edit",3,"click"],[1,"feature-edit",3,"ngClass"],[3,"ngModel"],[1,"portfolio"],[1,"portfolio-title"],[1,"portfolio-content"],[1,"portfolio-item"],["href","javascript:void(0);"],[1,"it-header"],["src","./assets/images/profile/op1.jpg","alt",""],[1,"it-footer"],[1,"it-cate"],[1,"it-count-picture"],[1,"btn-portfolio-edit"],["src","./assets/images/profile/op2.jpg","alt",""],["src","./assets/images/profile/op3.jpg","alt",""],["src","./assets/images/profile/op4.jpg","alt",""],[1,"appraise"],[1,"appraise-title"],[1,"rate"],[1,"appraise-content"],[1,"appraise-item"],[1,"ai-header"],[1,"header-avatar"],["src","./assets/images/avatar/avatar1.jpeg","alt",""],[1,"header-name"],[1,"ai-comment"],[1,"how-it-works"],[1,"hiw-title"],[1,"hiw-content"],[1,"hiw-item"],[1,"item-title"],[1,"title-icon"],[1,"bx","bx-calendar-check"],[1,"title-text"],[1,"item-content"],[1,"content-deliver"],[1,"content-text"],[1,"bx","bxs-camera"],[1,"bx","bx-happy-alt"],[1,"order-wrapper",3,"ngClass"],[1,"order-container"],["class","mess-valid",4,"ngIf"],[1,"order-content"],[1,"filter-date-picker"],["for","ngay-chup"],[3,"selectedDate","textDefault","selectedDateChange"],[1,"filter-tl"],["for","thoi-luong"],[3,"selectedOption","textDefault","selectedOptionChange"],["custom-option","","value","1"],["custom-option","","value","2"],["custom-option","","value","3"],["custom-option","","value","4"],["custom-option","","value","5"],["custom-option","","value","6"],["custom-option","","value","7"],["custom-option","","value","8"],[1,"set-time"],["for","gio-hen"],["type","time","id","gio-hen","name","gio-hen","required","",3,"ngModel","ngModelChange"],[1,"filter-type"],["custom-option","","value","chup-san-pham"],["custom-option","","value","chup-chan-dung"],["custom-option","","value","chup-canh"],["href","javascript:void(0)",3,"click"],[1,"p-footer"],[1,"sug-foot"],[1,"bx","bx-check"],[1,"btn-close-order",3,"click"],[1,"bx","bx-x"],[1,"toggle-order-wrapper",3,"ngClass","click"],[1,"bx","bx-plus-circle"],[1,"mess-valid"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),A(5,"img",5),y(),_(6,"div",6),A(7,"img",7),y()(),_(8,"div",8),A(9,"img",9),y(),_(10,"div",10)(11,"div",11),A(12,"img",12),y(),_(13,"div",13),A(14,"img",14),y()(),_(15,"div",15),A(16,"img",16),y(),_(17,"div",17)(18,"div",18),A(19,"img",19),y(),_(20,"div",20),A(21,"img",21),y()()()(),_(22,"div",22)(23,"div",23)(24,"div",24)(25,"div",25)(26,"div",26),A(27,"img",27),y()(),_(28,"div",28)(29,"div",29)(30,"h2"),w(31),y(),_(32,"div",30),ie("click",function(){return i.showForMeEdit()}),A(33,"i",31),y()(),_(34,"p",32),w(35," Ba \u0110\xecnh, H\xe0 N\u1ed9i "),y(),_(36,"div",33)(37,"div",34),A(38,"img",35)(39,"img",35)(40,"img",35)(41,"img",35)(42,"img",35),y(),_(43,"span",36),w(44,"5.0"),y()(),_(45,"p",37),w(46,"13 n\u0103m kinh nghi\u1ec7m"),y(),_(47,"div",38)(48,"div",29)(49,"input",39),ie("ngModelChange",function(s){return i.updateValue("nameText",s)}),y()(),A(50,"input",40)(51,"input",41),_(52,"div",42)(53,"a",43),ie("click",function(){return i.saveForMe()}),w(54,"L\u01b0u"),y(),_(55,"a",44),ie("click",function(){return i.hideForMeEdit()}),w(56,"Hu\u0309y"),y()()()()()(),_(57,"div",45)(58,"div",46)(59,"div",47)(60,"li",48)(61,"a",49),w(62,"V\u1ec1 t\xf4i"),y()(),_(63,"li",48)(64,"a",49),w(65,"H\u1ed3 s\u01a1"),y()(),_(66,"li",48)(67,"a",49),w(68,"\u0110\xe1nh gi\xe1"),y()(),_(69,"li",48)(70,"a",49),w(71,"How it works"),y()()()(),A(72,"div",50),_(73,"div",51)(74,"div",52)(75,"div",53)(76,"p"),w(77),y()(),_(78,"div",54)(79,"h3",55),w(80," Gi\u1ea3i th\u01b0\u1edfng "),y(),_(81,"p"),w(82),y()(),_(83,"div",56)(84,"h3",57),w(85," \u0110i\u1ec1u th\xfa v\u1ecb v\u1ec1 t\xf4i "),y(),_(86,"p"),w(87),y()(),_(88,"div",58),ie("click",function(){return i.showIcEdit()}),A(89,"i",31),y(),_(90,"div",59)(91,"div",53)(92,"textarea",39),ie("ngModelChange",function(s){return i.updateValue("desText",s)}),w(93),y()(),_(94,"div",54)(95,"h3",55),w(96," Gi\u1ea3i th\u01b0\u1edfng "),y(),_(97,"textarea",39),ie("ngModelChange",function(s){return i.updateValue("prizeText",s)}),w(98),y()(),_(99,"div",56)(100,"h3",57),w(101," \u0110i\u1ec1u th\xfa v\u1ecb v\u1ec1 t\xf4i "),y(),_(102,"textarea",39),ie("ngModelChange",function(s){return i.updateValue("interestText",s)}),w(103),y()(),_(104,"div",42)(105,"a",43),ie("click",function(){return i.saveIc()}),w(106,"L\u01b0u"),y(),_(107,"a",44),ie("click",function(){return i.hideIcEdit()}),w(108,"Hu\u0309y"),y()()()()(),A(109,"div",50),_(110,"div",60)(111,"h3",61),w(112,"Ng\xf4n ng\u1eef & M\xe1y \u1ea3nh"),y(),_(113,"div",62)(114,"div",63)(115,"div",64),A(116,"img",65),_(117,"h3"),w(118,"Ng\xf4n ng\u1eef"),y()(),_(119,"p"),w(120),y()(),_(121,"div",66)(122,"div",67),A(123,"img",68),_(124,"h3"),w(125,"M\xe1y \u1ea3nh"),y()(),_(126,"p"),w(127),y()(),_(128,"div",69),ie("click",function(){return i.showFeEdit()}),A(129,"i",31),y()(),_(130,"div",70)(131,"h3",61),w(132,"Ng\xf4n ng\u1eef & M\xe1y \u1ea3nh"),y(),_(133,"div",62)(134,"div",63)(135,"div",64),A(136,"img",65),_(137,"h3"),w(138,"Ng\xf4n ng\u1eef"),y()(),_(139,"textarea",71),w(140),y()(),_(141,"div",66)(142,"div",67),A(143,"img",68),_(144,"h3"),w(145,"M\xe1y \u1ea3nh"),y()(),_(146,"textarea",71),w(147),y()()(),_(148,"div",42)(149,"a",43),ie("click",function(){return i.saveFe()}),w(150,"L\u01b0u"),y(),_(151,"a",44),ie("click",function(){return i.hideFeEdit()}),w(152,"Hu\u0309y"),y()()()(),A(153,"div",50),_(154,"div",72)(155,"h3",73),w(156,"My Portfolio"),y(),_(157,"div",74)(158,"div",75)(159,"a",76)(160,"div",77),A(161,"img",78),y(),_(162,"div",79)(163,"h3",80),w(164,"LookBook"),y(),_(165,"span",81),w(166,"30"),y(),_(167,"div",82),A(168,"i",31),y()()()(),_(169,"div",75)(170,"a",76)(171,"div",77),A(172,"img",83),y(),_(173,"div",79)(174,"h3",80),w(175,"LookBook"),y(),_(176,"span",81),w(177,"30"),y(),_(178,"div",82),A(179,"i",31),y()()()(),_(180,"div",75)(181,"a",76)(182,"div",77),A(183,"img",84),y(),_(184,"div",79)(185,"h3",80),w(186,"LookBook"),y(),_(187,"span",81),w(188,"30"),y(),_(189,"div",82),A(190,"i",31),y()()()(),_(191,"div",75)(192,"a",76)(193,"div",77),A(194,"img",85),y(),_(195,"div",79)(196,"h3",80),w(197,"LookBook"),y(),_(198,"span",81),w(199,"30"),y(),_(200,"div",82),A(201,"i",31),y()()()()()(),A(202,"div",50),_(203,"div",86)(204,"div",87)(205,"h3"),w(206,"\u0110\xe1nh Gi\xe1"),y(),_(207,"div",88)(208,"div",34),A(209,"img",35)(210,"img",35)(211,"img",35)(212,"img",35)(213,"img",35),y(),_(214,"span",36),w(215,"5.0"),y()()(),_(216,"div",89)(217,"div",90)(218,"div",91)(219,"div",92),A(220,"img",93),y(),_(221,"span",94),w(222,"Lalisa Manoban "),y()(),_(223,"div",95)(224,"p"),w(225,"Kh\xf4ng c\xf2n nghi ng\u1edd g\xec n\u1eefa, \u0111\xe2y l\xe0 m\u1ed9t trong nh\u1eefng nhi\u1ebfp \u1ea3nh gia tuy\u1ec7t v\u1eddi nh\u1ea5t v\xe0 c\xf3 k\u1ef9 n\u0103ng ch\u1ee5p \u1ea3nh \u0111a d\u1ea1ng! T\xf4i th\u01b0\u1eddng kh\xf4ng \u0111\u0103ng \u0111\xe1nh gi\xe1 nh\u01b0ng c\xf4ng vi\u1ec7c \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n b\u1edfi nhi\u1ebfp \u1ea3nh gia Ph\u1ea1m Vi\u1ec7t C\u01b0\u1eddng x\u1ee9ng \u0111\xe1ng v\xe0 h\u01a1n th\u1ebf n\u1eefa! T\xf4i v\xe0 YG s\u1ebd ti\u1ebfp t\u1ee5c l\xe0m nhi\u1ec1u vi\u1ec7c h\u01a1n v\u1edbi anh \u1ea5y!!"),y()()()()(),A(226,"div",50),_(227,"div",96)(228,"h3",97),w(229,"How it Works"),y(),_(230,"div",98)(231,"div",99)(232,"div",100)(233,"div",101),A(234,"i",102),y(),_(235,"h3",103),w(236,"Book."),y()(),_(237,"div",104)(238,"div",105),A(239,"p"),y(),_(240,"div",106)(241,"p"),w(242,"Nhanh ch\xf3ng t\xecm th\u1ea5y m\u1ed9t nhi\u1ebfp \u1ea3nh gia \u0111\u01b0\u1ee3c x\u1ebfp h\u1ea1ng h\xe0ng \u0111\u1ea7u g\u1ea7n b\u1ea1n. \u0110\u1eb7t ch\u1ed7 ph\xf9 h\u1ee3p cho kho\u1ea3nh kh\u1eafc \u0111\u1eb7c bi\u1ec7t c\u1ee7a b\u1ea1n ch\u1ec9 b\u1eb1ng v\xe0i c\xfa nh\u1ea5p chu\u1ed9t \u0111\u01a1n gi\u1ea3n."),y()()()(),_(243,"div",99)(244,"div",100)(245,"div",101),A(246,"i",107),y(),_(247,"h3",103),w(248,"Sheet."),y()(),_(249,"div",104)(250,"div",105),A(251,"p"),y(),_(252,"div",106)(253,"p"),w(254,"H\xe3y th\u01b0 gi\xe3n v\xe0 t\u1eadn h\u01b0\u1edfng kho\u1ea3nh kh\u1eafc khi m\u1ed9t nhi\u1ebfp \u1ea3nh gia gi\xe0u kinh nghi\u1ec7m ch\u1ee5p \u1ea3nh cho b\u1ea1n. H\u1ecd s\u1ebd ch\u0103m s\xf3c t\u1ea5t c\u1ea3 c\xe1c chi ti\u1ebft."),y()()()(),_(255,"div",99)(256,"div",100)(257,"div",101),A(258,"i",108),y(),_(259,"h3",103),w(260,"Enjoy!."),y()(),_(261,"div",104),A(262,"div",105),_(263,"div",106)(264,"p"),w(265," Trong v\xf2ng 2 ng\xe0y l\xe0m vi\u1ec7c k\u1ec3 t\u1eeb ng\xe0y ch\u1ee5p \u1ea3nh, b\u1ea1n s\u1ebd c\xf3 th\u1ec3 xem, t\u1ea3i xu\u1ed1ng v\xe0 chia s\u1ebb. T\u1eadn h\u01b0\u1edfng t\u1ea5t c\u1ea3 m\u1ed9t l\u1ea7n n\u1eefa v\xe0 m\u1ed9t l\u1ea7n n\u1eefa. "),y()()()()()()()(),_(266,"div",109)(267,"div",110)(268,"h4"),w(269,"\u0110\u1eb7t l\u1ecbch ch\u1ee5p t\u1ef1 \u0111\u1ed9ng"),y(),Le(270,Sle,2,1,"div",111),_(271,"div",112)(272,"div",113)(273,"label",114),w(274,"Ng\xe0y ch\u1ee5p:"),y(),_(275,"app-date-picker",115),ie("selectedDateChange",function(s){return i.onDateChange(s)})("selectedDateChange",function(s){return i.selectedDateU=s}),y()(),_(276,"div",116)(277,"label",117),w(278,"Th\u1eddi l\u01b0\u1ee3ng (gi\u1edd):"),y(),_(279,"app-custom-select",118),ie("selectedOptionChange",function(s){return i.onOptionTLChange(s)})("selectedOptionChange",function(s){return i.selectedOptionTL=s}),_(280,"option",119),w(281,"1 gi\u1edd"),y(),_(282,"option",120),w(283,"2 gi\u1edd"),y(),_(284,"option",121),w(285,"3 gi\u1edd"),y(),_(286,"option",122),w(287,"4 gi\u1edd"),y(),_(288,"option",123),w(289,"5 gi\u1edd"),y(),_(290,"option",124),w(291,"6 gi\u1edd"),y(),_(292,"option",125),w(293,"7 gi\u1edd"),y(),_(294,"option",126),w(295,"8 gi\u1edd"),y()()(),_(296,"div",127)(297,"label",128),w(298,"Gi\u1edd h\u1eb9n:"),y(),_(299,"input",129),ie("ngModelChange",function(s){return i.setTimeVal=s}),y()(),_(300,"div",130)(301,"label",117),w(302,"Lo\u1ea1i ch\u1ee5p"),y(),_(303,"app-custom-select",118),ie("selectedOptionChange",function(s){return i.onOptionTypeChange(s)})("selectedOptionChange",function(s){return i.selectedOptionType=s}),_(304,"option",131),w(305,"Ch\u1ee5p s\u1ea3n ph\u1ea9m"),y(),_(306,"option",132),w(307,"Ch\u1ee5p ch\xe2n dung"),y(),_(308,"option",133),w(309,"Ch\u1ee5p c\u1ea3nh"),y()()(),_(310,"a",134),ie("click",function(){return i.onSubmit()}),w(311,"\u0110\u1eb7t l\u1ecbch"),y(),A(312,"div",50),_(313,"p",135),w(314,"300.000 "),_(315,"span"),w(316,"1 ti\u1ebfng"),y()(),A(317,"div",50),_(318,"span",136),A(319,"i",137),w(320," 15 \u1ea3nh c\xf3 \u0111\u1ed9 ph\xe2n gi\u1ea3i cao \u1edf \u0111\u1ecbnh d\u1ea1ng JPEG "),y(),_(321,"span",136),A(322,"i",137),w(323," \u0110\xe3 ch\u1ec9nh s\u1eeda v\xe0 ch\u1ec9nh m\xe0u "),y(),_(324,"span",136),A(325,"i",137),w(326," Giao h\xe0ng sau 2 ng\xe0y l\xe0m vi\u1ec7c "),y()()(),_(327,"div",138),ie("click",function(){return i.hideOrder()}),A(328,"i",139),y()(),_(329,"div",140),ie("click",function(){return i.showOrder()}),A(330,"i",141),y()()),2&r&&(L(27),lm("src","./assets/images/avatar/",null==i.userData||null==i.userData.user?null:i.userData.user.avatar,"",zc),L(4),Lt(" ",i.nameText," "),L(16),ce("ngClass",i.isShowForMeEdit?"show":""),L(2),ce("ngModel",i.nameText),L(28),Lt(" ",i.desText," "),L(5),Lt(" ",i.prizeText," "),L(5),Lt(" ",i.interestText," "),L(3),ce("ngClass",i.isShowIcEdit?"show":""),L(2),ce("ngModel",i.desText),L(1),Lt("                                ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.description,"\n                            "),L(4),ce("ngModel",i.prizeText),L(1),Lt("                                ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.prize,"\n                            "),L(4),ce("ngModel",i.interestText),L(1),Lt("                                ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.interest,"\n                            "),L(17),Lt(" ",i.languageText," "),L(7),Lt(" ",i.cameraText," "),L(3),ce("ngClass",i.isShowFeEdit?"show":""),L(9),ce("ngModel",i.languageText),L(1),Lt("                                ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.language,"\n                            "),L(6),ce("ngModel",i.cameraText),L(1),Lt("                                ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.camera,"\n                            "),L(119),ce("ngClass",i.isShowOrder?"show":""),L(4),ce("ngIf",i.isError),L(5),ce("selectedDate",i.selectedDateU)("textDefault","Ng\xe0y"),L(4),ce("selectedOption",i.selectedOptionTL)("textDefault","Th\u1eddi l\u01b0\u1ee3ng"),L(20),ce("ngModel",i.setTimeVal),L(4),ce("selectedOption",i.selectedOptionType)("textDefault","Ch\u1ecdn lo\u1ea1i ch\u1ee5p"),L(26),ce("ngClass",i.isShowOrder?"hide":""))},dependencies:[ms,vo,K0,Z0,hl,Wu,E_,ml,DT,ST],styles:['@charset "UTF-8";.forMe-wrapper[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:5rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:3rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   .avatar-image[_ngcontent-%COMP%]{height:130px;width:130px;object-fit:cover;border-radius:50%}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]{width:100%;position:relative}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-name[_ngcontent-%COMP%]{width:100%;position:relative;display:flex;justify-content:flex-start;align-items:center;column-gap:2rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-name[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:2px 0;color:var(--color-primary);font-weight:700;font-size:28px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-name[_ngcontent-%COMP%]   .btn-edit-forMe[_ngcontent-%COMP%]{cursor:pointer;width:28px;height:28px;font-size:28px;display:flex;justify-content:center;align-items:center}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-address[_ngcontent-%COMP%]{margin:4px 0;font-size:15px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-rate[_ngcontent-%COMP%]{margin:.5rem 0;display:flex;justify-content:flex-start;column-gap:.75rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:16px;width:16px;object-fit:cover}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-rate[_ngcontent-%COMP%]   .rate-text[_ngcontent-%COMP%]{font-size:15px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-exp[_ngcontent-%COMP%]{margin:4px 0}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .forMe-edit[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#e8e8e8;border-radius:.3rem;overflow-y:auto;padding:1rem 2rem;display:none}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .forMe-edit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-top:1em;width:100%;height:40px;border:none;outline:none;border-radius:.3rem;background-color:#ddd;padding:5px 10px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .forMe-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]{position:sticky;right:0;bottom:0rem;display:flex;justify-content:flex-end;column-gap:.5rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .forMe-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{line-height:35px;color:var(--color-light);padding:0 15px;background-color:var(--color-primary);text-decoration:none;border-radius:.3rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .forMe-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background-color:#b8b8b8;color:#000}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .forMe-edit.show[_ngcontent-%COMP%]{display:block}.infor-title-list[_ngcontent-%COMP%]{padding-left:2rem}.infor-title-list[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:4rem;flex-wrap:wrap;row-gap:2rem}.infor-title-list[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]   .it-item[_ngcontent-%COMP%]{list-style:none;display:inline}.infor-title-list[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]   .it-item[_ngcontent-%COMP%]   .it-link[_ngcontent-%COMP%]{text-decoration:none;display:block;font-weight:700;color:var(--color-primary);font-size:20px;text-wrap:nowrap}.infor-content-list[_ngcontent-%COMP%]{padding-top:1.5rem;padding-left:2rem;position:relative}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .prize[_ngcontent-%COMP%]   .prize-title[_ngcontent-%COMP%]{color:var(--color-primary);font-size:20px;font-weight:700}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .interest[_ngcontent-%COMP%]   .interest-title[_ngcontent-%COMP%]{font-weight:700;font-size:20px;color:var(--color-primary)}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .btn-ic-edit[_ngcontent-%COMP%]{cursor:pointer;width:100%;display:flex;justify-content:center;font-size:28px}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .ic-edit[_ngcontent-%COMP%]{display:none;position:absolute;top:0;left:0;width:100%;height:100%;background-color:#e8e8e8;border-radius:.5rem;padding:1.5rem 2rem}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .ic-edit[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin-top:1em;width:100%;height:80px;border:none;outline:none;border-radius:.3rem;background-color:#ddd;padding:5px 10px}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .ic-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]{position:sticky;right:0;bottom:0;display:flex;justify-content:flex-end;column-gap:.5rem}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .ic-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{line-height:35px;color:var(--color-light);padding:0 15px;background-color:var(--color-primary);text-decoration:none;border-radius:.3rem}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .ic-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background-color:#b8b8b8;color:#000}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .ic-edit.show[_ngcontent-%COMP%]{display:block}.feature-wrapper[_ngcontent-%COMP%]{padding-left:2rem;padding-top:.5rem;position:relative}.feature-wrapper[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:700;font-size:20px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]{position:relative}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   .language-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   .language-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   .language-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:var(--color-primary);font-weight:700}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-left:3rem;font-size:18px;margin-top:0}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   .camera-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   .camera-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   .camera-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:var(--color-primary);font-weight:700}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:0;padding-left:3rem;font-size:18px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .btn-feature-edit[_ngcontent-%COMP%]{cursor:pointer;width:100%;display:flex;justify-content:center;font-size:28px}.feature-wrapper[_ngcontent-%COMP%]   .feature-edit[_ngcontent-%COMP%]{display:none;position:absolute;top:0;left:0;width:100%;height:100%;background-color:#e8e8e8;border-radius:.5rem;padding:.5rem 2rem;overflow-y:auto}.feature-wrapper[_ngcontent-%COMP%]   .feature-edit[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin-top:1em;width:100%;height:80px;border:none;outline:none;border-radius:.3rem;background-color:#ddd;padding:5px 10px}.feature-wrapper[_ngcontent-%COMP%]   .feature-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]{position:sticky;right:0;bottom:1rem;display:flex;justify-content:flex-end;column-gap:.5rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{line-height:35px;color:var(--color-light);padding:0 15px;background-color:var(--color-primary);text-decoration:none;border-radius:.3rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background-color:#b8b8b8;color:#000}.feature-wrapper[_ngcontent-%COMP%]   .feature-edit.show[_ngcontent-%COMP%]{display:block}.portfolio[_ngcontent-%COMP%]{padding-left:2rem;padding-right:25%;padding-top:.5rem}.portfolio[_ngcontent-%COMP%]   .portfolio-title[_ngcontent-%COMP%]{font-weight:700;color:var(--color-warning)}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-auto-rows:1fr;gap:2rem}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-text-body);text-decoration:none}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   .portfolio-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:250px;object-fit:cover}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   .it-footer[_ngcontent-%COMP%]{position:relative}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   .it-footer[_ngcontent-%COMP%]   .it-cate[_ngcontent-%COMP%]{font-size:20px;margin-bottom:10px}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   .it-footer[_ngcontent-%COMP%]   .btn-portfolio-edit[_ngcontent-%COMP%]{cursor:pointer;width:100%;display:flex;justify-content:flex-end;font-size:28px;position:absolute;right:1.5rem;top:50%;transform:translateY(-50%);z-index:1}.appraise[_ngcontent-%COMP%]{padding-left:2rem;padding-top:.5rem}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--color-warning);font-weight:700}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;column-gap:.5rem}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:15px;width:15px;object-fit:cover}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   .rate-text[_ngcontent-%COMP%]{font-weight:700}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:.75rem}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]   .header-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;object-fit:cover}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]   .header-name[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:700}.how-it-works[_ngcontent-%COMP%]{padding-left:1.5rem;padding-top:.5rem}.how-it-works[_ngcontent-%COMP%]   .hiw-title[_ngcontent-%COMP%]{color:var(--color-warning);font-weight:700}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;flex-direction:column}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{font-size:30px;color:var(--color-primary)}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]   .title-text[_ngcontent-%COMP%]{margin:8px 0;font-size:20px;font-weight:700;color:var(--color-primary)}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:2rem;align-items:center;height:100%}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .content-deliver[_ngcontent-%COMP%]{display:flex;justify-content:center;height:auto;width:3px;margin-left:12px;background-color:var(--color-primary)}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .content-deliver[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;height:100%}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .content-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 400px 0 4rem}.content-wrapper[_ngcontent-%COMP%]   .info-wrapper[_ngcontent-%COMP%]   .deliver-line[_ngcontent-%COMP%]{height:2px;width:100%;margin:1.5rem 0;background-color:var(--color-primary)}.order-wrapper[_ngcontent-%COMP%]{background-color:var(--color-bg-body);position:fixed;top:100px;right:50px;border-radius:.3rem;box-shadow:0 2px 5px #0003;z-index:600}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]{width:300px;min-height:500px;max-height:calc(100vh - 100px);padding:20px;overflow-y:auto}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--color-light)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--color-secondary);border-radius:4px;border:2px solid var(--color-light)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;color:#333;font-size:20px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .mess-valid[_ngcontent-%COMP%]{font-size:14px;color:red}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .filter-date-picker[_ngcontent-%COMP%]{z-index:999}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;margin-top:.5rem}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%], .order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   input[type=time][_ngcontent-%COMP%], .order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:4px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:10px 15px;border:none;border-radius:4px;text-decoration:none;margin-top:1rem;text-align:center}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#0056b3}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .deliver-line[_ngcontent-%COMP%]{height:2px;width:100%;margin:1rem 0;background-color:var(--color-secondary)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .p-footer[_ngcontent-%COMP%]{color:var(--color-warning);font-weight:700;margin:0;padding-left:.5rem}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .p-footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--color-text-body)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .sug-foot[_ngcontent-%COMP%]{font-size:13px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .sug-foot[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--color-warning);font-size:18px}.order-wrapper[_ngcontent-%COMP%]   .btn-close-order[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-8px;font-size:30px;color:#000;cursor:pointer;height:30px;width:30px;border-radius:50%;background-color:var(--color-secondary);display:none}.profile-content[_ngcontent-%COMP%]{position:relative;margin-top:6rem}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(9,1fr);column-gap:.3rem;height:500px}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall2[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall4[_ngcontent-%COMP%]{grid-column:span 2;height:500px}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall4[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:.3rem}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-2[_ngcontent-%COMP%]{height:calc(250px - .15rem)}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-2[_ngcontent-%COMP%]{height:calc(250px - .15rem)}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-2[_ngcontent-%COMP%]{height:calc(250px - .15rem)}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .toggle-order-wrapper[_ngcontent-%COMP%]{position:fixed;bottom:5rem;right:1rem;width:40px;height:40px;background-color:var(--color-primary);z-index:999;display:none;font-size:30px;border-radius:50%;padding-top:3.5px;padding-left:5px;color:var(--color-light)}@media (max-width: 991.98px){.order-wrapper[_ngcontent-%COMP%]{display:none}.order-wrapper.show[_ngcontent-%COMP%]{display:block}.toggle-order-wrapper[_ngcontent-%COMP%]{display:block!important}.toggle-order-wrapper.hide[_ngcontent-%COMP%]{display:none!important}.btn-close-order[_ngcontent-%COMP%]{display:block!important}.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 2rem 0!important}.profile-content[_ngcontent-%COMP%]   .ic-edit[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .feature-edit[_ngcontent-%COMP%]{padding-right:0!important}}@media (max-width: 767.98px){.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 2rem 0!important}.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]{flex-direction:column;row-gap:2rem}.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .info-wrapper[_ngcontent-%COMP%]   .portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}']}),e})();const xle=[{path:"",component:C4,title:"Home"},{path:"home",component:C4,title:"Home"}],kle=[{path:"",component:L4,title:"Collection"},{path:"all",component:L4,title:"Collection"}],Nle=[{path:"login",component:cle,title:"Login"},{path:"register",component:fle,title:"Register"}],Fle=[{path:"",component:jj,title:"User"},{path:"all",component:jj,title:"User"}],Lle=[{path:"",component:Rle,title:"Partner | Profile"}],Vle=[{path:"",component:$j,title:"Admin | Home"},{path:"home",component:$j,title:"Admin | Home"},{path:"order",component:mle,title:"Admin | Order List"},{path:"order-accept",component:yle,title:"Admin | Order Accept"}];let Q0=(()=>{var t;class e{constructor(){this.eventMap={}}registerEvent(r){return this.eventMap[r]||(this.eventMap[r]=new U(null)),this.eventMap[r].asObservable()}emitEvent(r,i){this.eventMap[r]&&this.eventMap[r].next(i)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Ule=["iconToggle"],Ble=["headerContentMobile"],jle=["inputSearchMobile"],$le=["menuDropdown"],Hle=["menuDropdown1"],zle=["itemDropdown"],Gle=["itemDropdown1"];function Wle(t,e){1&t&&(_(0,"div",59)(1,"p"),w(2,"H\xe0 N\u1ed9i"),y(),_(3,"p"),w(4,"H\u1ed3 Ch\xed Minh"),y(),_(5,"p"),w(6,"Ch\xe2n dung"),y(),_(7,"p"),w(8,"S\u1ef1 ki\u1ec7n"),y()())}function qle(t,e){if(1&t){const n=$s();_(0,"div",64)(1,"a",65),w(2,"Profile"),y(),_(3,"a",66),ie("click",function(){return bi(n),zr(cr(2).logout())}),w(4,"\u0110\u0103ng xu\u1ea5t"),y()()}}function Kle(t,e){if(1&t){const n=$s();$h(0),_(1,"li",60),ie("click",function(){return bi(n),zr(cr().toggleDropdownLo())}),_(2,"div",61),A(3,"img",62),y(),Le(4,qle,5,0,"div",63),y(),Hh()}if(2&t){const n=cr();L(4),ce("ngIf",n.showDropdown)}}function Zle(t,e){1&t&&(_(0,"li",67)(1,"a",68),w(2,"\u1ea2nh c\u1ee7a t\xf4i"),y()(),_(3,"li",67)(4,"a",69),w(5,"\u0110\u0103ng nh\u1eadp"),y()(),_(6,"li",67)(7,"a",70),w(8,"\u0110\u0103ng k\xfd"),y()())}function Qle(t,e){1&t&&(_(0,"div",71)(1,"p"),w(2,"H\xe0 N\u1ed9i"),y(),_(3,"p"),w(4,"H\u1ed3 Ch\xed Minh"),y(),_(5,"p"),w(6,"Ch\xe2n dung"),y(),_(7,"p"),w(8,"S\u1ef1 ki\u1ec7n"),y()())}function Yle(t,e){1&t&&A(0,"i",72)}function Xle(t,e){1&t&&A(0,"i",73)}function Jle(t,e){1&t&&A(0,"i",72)}function eue(t,e){1&t&&A(0,"i",73)}const M_=function(t){return{show:t}},Hj=function(t){return{active:t}};let RT=(()=>{var t;class e{constructor(r){this.eventService=r,this.isMenuVisible=!1,this.isSearchMobileVisible=!1,this.isDropdownVisible=!1,this.isDropdown1Visible=!1,this.inputSearchMobileValue="",this.inputSearchValue="",this.toggleSuggestMobile=!1,this.toggleSuggest=!1,this.loggedIn=!1,this.showDropdown=!1}showMenu(){this.isMenuVisible=!0}hideMenu(){this.isMenuVisible=!1}showSearchMobile(){this.isSearchMobileVisible=!0,this.isSearchMobileVisible&&setTimeout(()=>{this.inputSearchMobile.nativeElement.focus()})}hideSearchMobile(){this.isSearchMobileVisible=!1,this.toggleSuggestMobile=!1,this.inputSearchMobileValue=""}toggleDropdown(){this.isDropdownVisible=!this.isDropdownVisible}toggleDropdown1(){this.isDropdown1Visible=!this.isDropdown1Visible}onChangeInputSearchMobile(r){this.inputSearchMobileValue=r.target.value,this.toggleSuggestMobile=""!==this.inputSearchMobileValue.trim()}onChangeInputSearch(r){this.inputSearchValue=r.target.value,this.toggleSuggest=""!==this.inputSearchValue.trim()}closeDropdown(r){!this.headerContentMobile.nativeElement.contains(r.target)&&!this.iconToggle.nativeElement.contains(r.target)&&this.isMenuVisible&&(this.isMenuVisible=!1),!this.menuDropdown.nativeElement.contains(r.target)&&!this.itemDropdown.nativeElement.contains(r.target)&&this.isDropdownVisible&&(this.isDropdownVisible=!1),!this.menuDropdown1.nativeElement.contains(r.target)&&!this.itemDropdown1.nativeElement.contains(r.target)&&this.isDropdown1Visible&&(this.isDropdown1Visible=!1)}toggleDropdownLo(){this.showDropdown=!this.showDropdown}logout(){this.loggedIn=!1}}return(t=e).\u0275fac=function(r){return new(r||t)(X(Q0))},t.\u0275cmp=xt({type:t,selectors:[["app-header"]],viewQuery:function(r,i){if(1&r&&(Yn(Ule,5),Yn(Ble,5),Yn(jle,5),Yn($le,5),Yn(Hle,5),Yn(zle,5),Yn(Gle,5)),2&r){let o;Bn(o=jn())&&(i.iconToggle=o.first),Bn(o=jn())&&(i.headerContentMobile=o.first),Bn(o=jn())&&(i.inputSearchMobile=o.first),Bn(o=jn())&&(i.menuDropdown=o.first),Bn(o=jn())&&(i.menuDropdown1=o.first),Bn(o=jn())&&(i.itemDropdown=o.first),Bn(o=jn())&&(i.itemDropdown1=o.first)}},hostBindings:function(r,i){1&r&&ie("mousedown",function(s){return i.closeDropdown(s)},0,Eu)},decls:103,vars:31,consts:[[1,"layout-header"],[1,"header-container"],[1,"header-content"],[1,"brand"],[1,"brand-logo"],["routerLink","/home"],["src","./assets/images/logoo.png","alt","",1,"brand-image"],[1,"search-bar"],[1,"search-container"],[1,"search-content"],["id","search-input","type","text","placeholder","D\u1ecbch v\u1ee5 b\u1ea1n \u0111ang t\xecm ki\u1ebfm ?",3,"ngModel","ngModelChange","input"],["inputSearch",""],["id","search-icon","href","javascript:void(0)"],[1,"bx","bx-search"],["class","search-suggest",4,"ngIf"],[1,"header-content-right"],[4,"ngIf","ngIfElse"],["notLoggedInBlock",""],[1,"icon-toggle-bar"],["href","javascript:void(0)",1,"toggle-search",3,"click"],["href","javascript:void(0)",1,"toggle-menu",3,"click"],["iconToggle",""],[1,"bx","bx-menu"],[1,"search-mobile",3,"ngClass"],[1,"search-bar-mobile"],["type","text","name","","id","","placeholder","D\u1ecbch v\u1ee5 b\u1ea1n \u0111ang t\xecm ki\u1ebfm ?",1,"search-input-mobile",3,"ngModel","ngModelChange","input"],["inputSearchMobile",""],["href","javascript:void(0)",1,"search-iconClose-mobile",3,"click"],[1,"bx","bx-x"],["class","search-suggest-mobile",4,"ngIf"],[1,"header-content-mobile",3,"ngClass"],["headerContentMobile",""],[1,"header-mobile-inner"],[1,"brand-mobile"],[1,"brand-logo-mobile"],["src","./assets/images/logoo.png","alt","",1,"brand-image-mobile"],[1,"menu-container-mobile"],[1,"menu-item",3,"ngClass"],["itemDropdown",""],["href","javascript:void(0)",1,"menu-link",3,"click"],["class","bx bx-collapse-vertical",4,"ngIf"],["class","bx bx-expand-vertical",4,"ngIf"],[1,"menu-dropdown",3,"ngClass"],["menuDropdown",""],[1,"menu-dropdown-item"],["routerLink","/collection",1,"menu-dropdown-link"],["itemDropdown1",""],["menuDropdown1",""],[1,"menu-item"],["routerLink","/collection",1,"menu-link"],[1,"control-mobile"],[1,"control-item","item-col"],["routerLink","/refund-picture",1,"control-link"],[1,"control-item"],["routerLink","/auth/login",1,"control-link"],["routerLink","/auth/register",1,"control-link"],[1,"close-menu"],["href","javascript:void(0)",1,"close-menu-icon",3,"click"],[1,"header-overlay",3,"ngClass"],[1,"search-suggest"],[1,"cright-item",3,"click"],[1,"avatar"],["src","link_to_user_image.jpg","alt","Avatar"],["class","dropdown-menu",4,"ngIf"],[1,"dropdown-menu"],[1,"dropdown-item"],[1,"dropdown-item",3,"click"],[1,"cright-item"],["routerLink","/refund-picture",1,"cright-link"],["routerLink","/auth/login",1,"cright-link"],["routerLink","/auth/register",1,"cright-link"],[1,"search-suggest-mobile"],[1,"bx","bx-collapse-vertical"],[1,"bx","bx-expand-vertical"]],template:function(r,i){if(1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5),A(6,"img",6),y()()(),_(7,"div",7)(8,"div",8)(9,"div",9)(10,"input",10,11),ie("ngModelChange",function(s){return i.inputSearchValue=s})("input",function(s){return i.onChangeInputSearch(s)}),y(),_(12,"a",12),A(13,"i",13),y()(),Le(14,Wle,9,0,"div",14),y()(),_(15,"div",15),Le(16,Kle,5,1,"ng-container",16),Le(17,Zle,9,0,"ng-template",null,17,vV),y(),_(19,"div",18)(20,"a",19),ie("click",function(){return i.showSearchMobile()}),A(21,"i",13),y(),_(22,"a",20,21),ie("click",function(){return i.showMenu()}),A(24,"i",22),y()(),_(25,"div",23)(26,"div",24)(27,"input",25,26),ie("ngModelChange",function(s){return i.inputSearchMobileValue=s})("input",function(s){return i.onChangeInputSearchMobile(s)}),y(),_(29,"a",27),ie("click",function(){return i.hideSearchMobile()}),A(30,"i",28),y()(),Le(31,Qle,9,0,"div",29),y()(),_(32,"div",30,31)(34,"div",32)(35,"div",33)(36,"div",34)(37,"a",5),A(38,"img",35),y()()(),_(39,"div",36)(40,"li",37,38)(42,"a",39),ie("click",function(){return i.toggleDropdown()}),w(43,"Du l\u1ecbch "),Le(44,Yle,1,0,"i",40),Le(45,Xle,1,0,"i",41),y(),_(46,"ul",42,43)(48,"li",44)(49,"a",45),w(50,"Ch\xe2n dung"),y()(),_(51,"li",44)(52,"a",45),w(53,"Phong c\u1ea3nh"),y()(),_(54,"li",44)(55,"a",45),w(56,"\u0110\u01b0\u1eddng ph\u1ed1"),y()(),_(57,"li",44)(58,"a",45),w(59,"Th\u1ec3 thao"),y()(),_(60,"li",44)(61,"a",45),w(62,"K\u1ef7 y\u1ebfu"),y()()()(),_(63,"li",37,46)(65,"a",39),ie("click",function(){return i.toggleDropdown1()}),w(66,"Lookbook "),Le(67,Jle,1,0,"i",40),Le(68,eue,1,0,"i",41),y(),_(69,"ul",42,47)(71,"li",44)(72,"a",45),w(73,"Th\u1eddi trang"),y()(),_(74,"li",44)(75,"a",45),w(76,"Ph\u1ee5 ki\u1ec7n"),y()(),_(77,"li",44)(78,"a",45),w(79,"M\u1ef9 ph\u1ea9m"),y()(),_(80,"li",44)(81,"a",45),w(82,"Th\u1ef1c ph\u1ea9m"),y()()()(),_(83,"li",48)(84,"a",49),w(85,"Catalogue"),y()(),_(86,"li",48)(87,"a",49),w(88,"Kh\xe1c"),y()()(),_(89,"div",50)(90,"li",51)(91,"a",52),w(92,"\u1ea2nh c\u1ee7a t\xf4i"),y()(),_(93,"li",53)(94,"a",54),w(95," \u0110\u0103ng nh\u1eadp "),y()(),_(96,"li",53)(97,"a",55),w(98," \u0110\u0103ng k\xfd "),y()()(),_(99,"div",56)(100,"a",57),ie("click",function(){return i.hideMenu()}),A(101,"i",28),y()()()()(),A(102,"div",58),y()),2&r){const o=function gF(t){return function Ia(t,e){return t[e]}(function bM(){return je.lFrame.contextLView}(),ut+t)}(18);L(10),ce("ngModel",i.inputSearchValue),L(4),ce("ngIf",i.toggleSuggest),L(2),ce("ngIf",i.loggedIn)("ngIfElse",o),L(9),ce("ngClass",mo(17,M_,i.isSearchMobileVisible)),L(2),ce("ngModel",i.inputSearchMobileValue),L(4),ce("ngIf",i.toggleSuggestMobile),L(1),ce("ngClass",mo(19,M_,i.isMenuVisible)),L(8),ce("ngClass",mo(21,Hj,i.isDropdownVisible)),L(4),ce("ngIf",!i.isDropdownVisible),L(1),ce("ngIf",i.isDropdownVisible),L(1),ce("ngClass",mo(23,M_,i.isDropdownVisible)),L(17),ce("ngClass",mo(25,Hj,i.isDropdown1Visible)),L(4),ce("ngIf",!i.isDropdown1Visible),L(1),ce("ngIf",i.isDropdown1Visible),L(1),ce("ngClass",mo(27,M_,i.isDropdown1Visible)),L(33),ce("ngClass",mo(29,M_,i.isMenuVisible))}},dependencies:[ms,vo,qr,hl,Wu,ml],styles:['.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;position:relative}.header-content[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%]{display:flex;align-items:center}.header-content[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%]   .brand-image[_ngcontent-%COMP%]{width:5.5rem;height:5.5rem;margin-left:1.5rem;margin-right:1.5rem}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{width:100%;margin:0 2rem}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{position:relative;width:100%;display:flex;justify-content:center}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]{width:100%;height:3rem;position:relative;display:flex;justify-content:center}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   #search-input[_ngcontent-%COMP%]{width:100%;height:100%;border:0;outline:none;background-color:#f0f0f0;border-radius:.3rem;color:var(--color-text-body);padding-left:1.25rem;padding-right:2.75rem}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   #search-input[_ngcontent-%COMP%]::placeholder{color:var(--color-text-body)}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   #search-icon[_ngcontent-%COMP%]{position:absolute;right:1rem;top:50%;transform:translateY(-50%);color:var(--color-text-body);display:flex;justify-content:center;align-items:center;text-decoration:none;font-weight:700;font-size:26px;border-radius:.3rem;padding-top:2px}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-suggest[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 1.5rem - 1.5px);left:0;background-color:var(--color-bg-body);width:100%;min-height:250px;border-radius:.5rem;box-shadow:0 2px 5px #0003;padding:20px}.header-content[_ngcontent-%COMP%]   .header-content-right[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end}.header-content[_ngcontent-%COMP%]   .header-content-right[_ngcontent-%COMP%]   .cright-item[_ngcontent-%COMP%]{text-wrap:nowrap;list-style:none;padding:0 1rem}.header-content[_ngcontent-%COMP%]   .header-content-right[_ngcontent-%COMP%]   .cright-item[_ngcontent-%COMP%]   .cright-link[_ngcontent-%COMP%]{position:relative;text-decoration:none;color:var(--color-text-body);font-size:18px}.header-content[_ngcontent-%COMP%]   .header-content-right[_ngcontent-%COMP%]   .cright-item[_ngcontent-%COMP%]   .cright-link[_ngcontent-%COMP%]:hover{font-size:600;color:var(--color-primary)}.header-content[_ngcontent-%COMP%]   .header-content-right[_ngcontent-%COMP%]   .cright-item[_ngcontent-%COMP%]   .cright-link[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:-.3rem;left:0;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.header-content[_ngcontent-%COMP%]   .header-content-right[_ngcontent-%COMP%]   .cright-item[_ngcontent-%COMP%]   .cright-link[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.header-content[_ngcontent-%COMP%]   .icon-toggle-bar[_ngcontent-%COMP%]{padding-right:1.5rem;display:flex}.header-content[_ngcontent-%COMP%]   .icon-toggle-bar[_ngcontent-%COMP%]   .toggle-menu[_ngcontent-%COMP%]{color:var(--color-dark);font-size:32px;text-align:center;text-decoration:none;display:none}.header-content[_ngcontent-%COMP%]   .icon-toggle-bar[_ngcontent-%COMP%]   .toggle-search[_ngcontent-%COMP%]{color:var(--color-dark);font-size:28px;text-align:center;text-decoration:none;display:none;margin-top:.25rem;margin-right:.75rem}.header-content[_ngcontent-%COMP%]   .search-mobile[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0rem;right:0;left:0;background-color:var(--color-light);display:none}.header-content[_ngcontent-%COMP%]   .search-mobile[_ngcontent-%COMP%]   .search-bar-mobile[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;justify-content:center;align-items:center;position:relative;padding:.5rem 0}.header-content[_ngcontent-%COMP%]   .search-mobile[_ngcontent-%COMP%]   .search-bar-mobile[_ngcontent-%COMP%]   .search-input-mobile[_ngcontent-%COMP%]{height:100%;width:100%;border:0;outline:none;background-color:#f0f0f0;color:var(--color-text-body);padding-left:1.25rem}.header-content[_ngcontent-%COMP%]   .search-mobile[_ngcontent-%COMP%]   .search-bar-mobile[_ngcontent-%COMP%]   .search-input-mobile[_ngcontent-%COMP%]::placeholder{color:var(--color-text-body)}.header-content[_ngcontent-%COMP%]   .search-mobile[_ngcontent-%COMP%]   .search-bar-mobile[_ngcontent-%COMP%]   .search-iconClose-mobile[_ngcontent-%COMP%]{height:2.25rem;width:3rem;padding-right:.75rem;color:var(--color-dark);font-size:28px;text-align:center;position:absolute;right:0rem;top:50%;transform:translateY(-50%);display:flex;justify-content:center;align-items:center;text-decoration:none;font-weight:700;background-color:#f0f0f0}.header-content[_ngcontent-%COMP%]   .search-mobile[_ngcontent-%COMP%]   .search-suggest-mobile[_ngcontent-%COMP%]{position:absolute;width:100vw;height:100vh;background-color:var(--color-light);padding:20px}@media (max-width:991.98px){.header-content[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%]   .brand-image[_ngcontent-%COMP%]{width:4rem!important;height:4rem!important;margin-left:1.5rem!important;margin-right:1rem!important}.header-content[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.search-bar, .header-content-right)[_ngcontent-%COMP%]{display:none!important}.header-content[_ngcontent-%COMP%]   .search-mobile.show[_ngcontent-%COMP%]{display:block!important}.header-content[_ngcontent-%COMP%]   .icon-toggle-bar[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.toggle-menu, .toggle-search)[_ngcontent-%COMP%]{display:block!important}}.header-content-mobile[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:16.25rem;height:100vh;background-color:var(--color-bg-body);display:none;padding-bottom:2.5rem;z-index:1080}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .brand-mobile[_ngcontent-%COMP%]{padding-top:.5rem;position:sticky;top:0;left:0;right:0;margin-bottom:1.5rem;background-color:var(--color-bg-body)}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .brand-mobile[_ngcontent-%COMP%]   .brand-logo-mobile[_ngcontent-%COMP%]{display:flex;justify-content:center}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .brand-mobile[_ngcontent-%COMP%]   .brand-logo-mobile[_ngcontent-%COMP%]   .brand-image-mobile[_ngcontent-%COMP%]{width:5rem;height:5rem;object-fit:cover}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]{margin-bottom:2rem;min-height:calc(100vh - 17.5rem)}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{display:block;list-style:none}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]{padding-left:1.5rem;line-height:2.5rem;width:100%;display:flex;justify-content:space-between;align-items:center;column-gap:.5rem;text-decoration:none;color:var(--color-primary);font-size:18px;padding-right:1.5rem}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]{display:none;margin:0;padding:0}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-item[_ngcontent-%COMP%]{list-style:none}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-item[_ngcontent-%COMP%]   .menu-dropdown-link[_ngcontent-%COMP%]{padding-left:2.25rem;color:var(--color-primary);line-height:2.5rem;width:100%;display:block;text-decoration:none;font-size:17px}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-dropdown.show[_ngcontent-%COMP%]{display:block!important}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   .menu-dropdown[_ngcontent-%COMP%]{background-color:var(--color-bg-body)}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-item[_ngcontent-%COMP%]:hover, .header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item.active[_ngcontent-%COMP%]{background-color:#f5f5f5}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item.active[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]{background-color:var(--color-bg-body)}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .control-mobile[_ngcontent-%COMP%]{padding:0 1.5rem;display:grid;grid-template-columns:repeat(2,1fr);column-gap:.5rem}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .control-mobile[_ngcontent-%COMP%]   .control-item[_ngcontent-%COMP%]{grid-column:span 1;list-style:none;display:flex;justify-content:flex-start;align-items:center}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .control-mobile[_ngcontent-%COMP%]   .control-item[_ngcontent-%COMP%]   .control-link[_ngcontent-%COMP%]{position:relative;line-height:2.5rem;display:block;text-align:center;text-decoration:none;color:var(--color-primary);font-size:18px}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .control-mobile[_ngcontent-%COMP%]   .control-item[_ngcontent-%COMP%]   .control-link[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:.3rem;left:0;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .control-mobile[_ngcontent-%COMP%]   .control-item[_ngcontent-%COMP%]   .control-link[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .control-mobile[_ngcontent-%COMP%]   .item-col[_ngcontent-%COMP%]{justify-content:flex-start;grid-column:span 2}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .close-menu[_ngcontent-%COMP%]{position:absolute;width:2.25rem;height:2.25rem;top:10px;right:10px;border-radius:50%;background-color:#f6f6f6}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .close-menu[_ngcontent-%COMP%]   .close-menu-icon[_ngcontent-%COMP%]{color:var(--color-primary);text-decoration:none;font-size:28px;display:flex;justify-content:center;align-items:center;padding-top:4px}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .close-menu[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;transform:rotate(22.5deg)}@media (max-width:991.98px){.header-content-mobile[_ngcontent-%COMP%]{display:block!important;transform:translate(-200%)}.header-content-mobile.show[_ngcontent-%COMP%]{transform:translate(0)!important}}.layout-header[_ngcontent-%COMP%]{height:5.75rem;background-color:var(--color-bg-body);width:100%;display:flex;align-items:center;position:fixed;top:0;z-index:1025}.layout-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]{width:100%;margin:0 auto}.layout-header[_ngcontent-%COMP%]   .header-overlay[_ngcontent-%COMP%]{width:100vw;height:100vh;position:fixed;inset:0;display:none;background:#435971;opacity:.5;cursor:pointer;z-index:999}@media (min-width: 1400px){.layout-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.layout-header[_ngcontent-%COMP%]{box-shadow:0 .5rem 1rem #00000013!important}.layout-header[_ngcontent-%COMP%]   .header-overlay.show[_ngcontent-%COMP%]{display:block!important}}']}),e})(),xT=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=xt({type:t,selectors:[["app-footer"]],decls:33,vars:0,consts:[[1,"layout-footer"],[1,"footer-wrapper"],[1,"footer-container"],[1,"footer-content"],[1,"ft-content-left"],[1,"ft-l-title"],[1,"ft-l-text"],["routerLink","",1,"ft-l-link"],[1,"ft-content-middle"],[1,"ft-m-item"],["routerLink","",1,"ft-m-link"],[1,"dots"],[1,"bx","bxs-circle"],[1,"ft-content-right"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),w(6,"V\u1ec1 PhotoHub"),y(),_(7,"p",6),w(8,"PhotoHub l\xe0 trang web h\xe0ng \u0111\u1ea7u Vi\u1ec7t Nam v\u1ec1 k\u1ebft n\u1ed1i nh\u1eefng ng\u01b0\u1eddi \u0111am m\xea v\xe0 chuy\xean nghi\u1ec7p v\u1ec1 nhi\u1ebfp \u1ea3nh v\u1edbi nh\u1eefng qu\xfd kh\xe1ch h\xe0ng mu\u1ed1n l\u01b0u gi\u1eef nh\u1eefng kho\u1ea3nh kh\u1eafc \u0111\u1eb9p nh\u1ea5t trong cu\u1ed9c \u0111\u1eddi "),y(),_(9,"a",7),w(10,"Xem th\xeam"),y()(),_(11,"div",8)(12,"li",9)(13,"a",10),w(14,"Blog"),y()(),_(15,"p",11),A(16,"i",12),y(),_(17,"li",9)(18,"a",10),w(19,"Support"),y()(),_(20,"p",11),A(21,"i",12),y(),_(22,"li",9)(23,"a",10),w(24,"Term"),y()(),_(25,"p",11),A(26,"i",12),y(),_(27,"li",9)(28,"a",10),w(29,"Policy"),y()()(),_(30,"div",13)(31,"p"),w(32,"@2003 PhotoHub"),y()()()()()())},dependencies:[qr],styles:['.layout-footer[_ngcontent-%COMP%]{margin-top:4rem;background-color:var(--color-primary)}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]{width:100%;margin:0 auto;padding:1.5rem 0}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]{padding:0 4rem}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(10,1fr);column-gap:2rem;color:var(--color-light)}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-left[_ngcontent-%COMP%]{grid-column:span 5}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-left[_ngcontent-%COMP%]   .ft-l-title[_ngcontent-%COMP%]{font-size:18px;margin-top:0;margin-bottom:.5rem}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-left[_ngcontent-%COMP%]   .ft-l-link[_ngcontent-%COMP%]{color:var(--color-info);text-decoration:none;position:relative}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-left[_ngcontent-%COMP%]   .ft-l-link[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-info);bottom:-1px;left:0;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-left[_ngcontent-%COMP%]   .ft-l-link[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%]{grid-column:span 3;display:flex;justify-content:center;align-items:center}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%]   .ft-m-item[_ngcontent-%COMP%]{display:inline-block}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%]   .ft-m-item[_ngcontent-%COMP%]   .ft-m-link[_ngcontent-%COMP%]{display:block;text-decoration:none;color:var(--color-light);padding:.75rem 1rem;position:relative}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%]   .ft-m-item[_ngcontent-%COMP%]   .ft-m-link[_ngcontent-%COMP%]:after{content:"";position:absolute;width:calc(100% - 2rem);height:1.5px;background-color:var(--color-light);bottom:.6rem;left:1rem;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%]   .ft-m-item[_ngcontent-%COMP%]   .ft-m-link[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%]   .dots[_ngcontent-%COMP%]{font-size:8px;margin:0}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-right[_ngcontent-%COMP%]{grid-column:span 2;display:flex;justify-content:center;align-items:center}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-right[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}@media (min-width: 1400px){.footer-wrapper[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.footer-wrapper[_ngcontent-%COMP%]{padding:1.5rem 0 2.5rem!important}.ft-content-middle[_ngcontent-%COMP%]{display:block!important}.ft-content-middle[_ngcontent-%COMP%]   .ft-m-item[_ngcontent-%COMP%]{width:100%}.ft-content-middle[_ngcontent-%COMP%]   .ft-m-item[_ngcontent-%COMP%]   .ft-m-link[_ngcontent-%COMP%]{padding-top:0!important;text-align:left!important}.ft-content-middle[_ngcontent-%COMP%]   .dots[_ngcontent-%COMP%]{display:none}.ft-content-right[_ngcontent-%COMP%]{align-items:flex-start!important}}@media (max-width: 767.98px){.footer-container[_ngcontent-%COMP%]{padding:0 1.5rem!important}}@media (max-width: 575.98px){.footer-container[_ngcontent-%COMP%]{column-gap:.5rem}.footer-container[_ngcontent-%COMP%]   .ft-content-left[_ngcontent-%COMP%]{grid-column:span 4!important}.footer-container[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%], .footer-container[_ngcontent-%COMP%]   .ft-content-right[_ngcontent-%COMP%]{grid-column:span 3!important}}']}),e})(),tue=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=xt({type:t,selectors:[["app-menu"]],decls:47,vars:0,consts:[[1,"layout-menu"],[1,"menu-container"],[1,"menu-item","dropdown"],["routerLink","/collection",1,"menu-link"],[1,"bx","bx-collapse-vertical","icon-collapse"],[1,"bx","bx-expand-vertical","icon-expand"],[1,"dropdown-menu"],[1,"dropdown-item"],["routerLink","/collection",1,"dropdown-link"],[1,"menu-item"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"li",2)(3,"a",3),w(4,"Du l\u1ecbch "),A(5,"i",4)(6,"i",5),y(),_(7,"ul",6)(8,"li",7)(9,"a",8),w(10,"Ch\xe2n dung"),y()(),_(11,"li",7)(12,"a",8),w(13,"Th\u1ec3 thao"),y()(),_(14,"li",7)(15,"a",8),w(16,"\u0110\u01b0\u1eddng ph\u1ed1"),y()(),_(17,"li",7)(18,"a",8),w(19,"Phong c\u1ea3nh"),y()(),_(20,"li",7)(21,"a",8),w(22,"K\u1ef7 y\u1ebfu"),y()()()(),_(23,"li",2)(24,"a",3),w(25,"Lookbook "),A(26,"i",4)(27,"i",5),y(),_(28,"ul",6)(29,"li",7)(30,"a",8),w(31,"Th\u1eddi trang"),y()(),_(32,"li",7)(33,"a",8),w(34,"Ph\u1ee5 ki\u1ec7n"),y()(),_(35,"li",7)(36,"a",8),w(37,"M\u1ef9 ph\u1ea9m"),y()(),_(38,"li",7)(39,"a",8),w(40,"Th\u1ef1c ph\u1ea9m"),y()()()(),_(41,"li",9)(42,"a",3),w(43,"Catalogue"),y()(),_(44,"li",9)(45,"a",3),w(46,"Kh\xe1c"),y()()()())},dependencies:[qr],styles:['.layout-menu[_ngcontent-%COMP%]{position:fixed;top:5.75rem;width:100%;height:5rem;background-color:var(--color-bg-body);z-index:1024;box-shadow:0 .5rem 1rem #00000013!important}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]{height:3.25rem;width:100%;margin:0 auto;display:flex;align-items:center;justify-content:center;column-gap:2rem;border:1px solid var(--color-secondary);border-left:0;border-right:0}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{position:relative;list-style:none;height:100%;display:flex;justify-items:flex-start;column-gap:.75rem;align-items:center}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]{height:100%;text-decoration:none;color:var(--color-text-body);font-weight:700;font-size:20px;line-height:3.25rem;display:flex;justify-content:center;align-items:center;column-gap:.5rem}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]   .icon-expand[_ngcontent-%COMP%], .layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]   .icon-collapse[_ngcontent-%COMP%]{font-size:16px;color:var(--color-primary)}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]   .icon-expand[_ngcontent-%COMP%]{display:none}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   .menu-link[_ngcontent-%COMP%]{color:var(--color-primary)}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   .menu-link[_ngcontent-%COMP%]   .icon-expand[_ngcontent-%COMP%]{display:block}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   .menu-link[_ngcontent-%COMP%]   .icon-collapse[_ngcontent-%COMP%]{display:none}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:0;left:0;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.dropdown[_ngcontent-%COMP%]{position:relative;display:inline-block}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{margin:0;padding:0;display:none;position:absolute;top:100%;left:0;background-color:var(--color-bg-body);box-shadow:0 2px 5px #0003;min-width:150px;border-radius:.3rem}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{list-style:none;padding:10px}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .dropdown-link[_ngcontent-%COMP%]{text-decoration:none;color:var(--color-text-body)}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover   .dropdown-link[_ngcontent-%COMP%]{color:var(--color-primary)}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:first-of-type{border-top-right-radius:.3rem;border-top-left-radius:.3rem}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:last-of-type{border-bottom-left-radius:.3rem;border-bottom-right-radius:.3rem}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:100%;left:50%;transform:translate(-50%);border-width:8px;border-style:solid;border-color:transparent transparent var(--color-bg-body) transparent}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-menu[_ngcontent-%COMP%]{display:block}@media (min-width: 1400px){.menu-container[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.layout-menu[_ngcontent-%COMP%]{display:none!important}}']}),e})(),nue=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=xt({type:t,selectors:[["app-layout-client"]],decls:8,vars:0,consts:[[1,"layout-wrapper"],[1,"layout-container"],[1,"content-wrapper"],[1,"content-container"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1),A(2,"app-header")(3,"app-menu"),_(4,"div",2)(5,"div",3),A(6,"router-outlet"),y()(),A(7,"app-footer"),y()())},dependencies:[Jc,RT,xT,tue],styles:[".layout-wrapper[_ngcontent-%COMP%], .layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%], .layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{width:100%}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{width:100%;margin:0 auto;margin-top:10.75rem}@media (min-width: 1400px){.content-container[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.content-container[_ngcontent-%COMP%]{margin-top:5rem!important}}"]}),e})();const rue=["sortSelectButton"],iue=["sortSelectOptions"],oue=["addressButton"],sue=["addressBar"];function aue(t,e){if(1&t&&(_(0,"option",52),w(1),y()),2&t){const n=e.$implicit;ce("value",n),L(1),rt(n)}}function cue(t,e){1&t&&A(0,"i",53)}function lue(t,e){1&t&&A(0,"i",54)}function uue(t,e){1&t&&A(0,"i",53)}function due(t,e){1&t&&A(0,"i",54)}function hue(t,e){1&t&&A(0,"i",53)}function fue(t,e){1&t&&A(0,"i",54)}function pue(t,e){1&t&&A(0,"i",53)}function gue(t,e){1&t&&A(0,"i",54)}function mue(t,e){1&t&&A(0,"i",53)}function _ue(t,e){1&t&&A(0,"i",54)}const zj=function(t){return{show:t}};let yue=(()=>{var t;class e{constructor(){this.timeOptions=["12:30 am","1:00 am","1:30 am","2:00 am","2:30 am","3:00 am","4:00 am","4:30 am","5:00 am","5:30 am","6:00 am","6:30 am","7:00 am","7:30 am","8:00 am","8:30 am","9:00 am","9:30 am","10:00 am","10:30 am","11:00 am","11:30 am","12:00 pm","12:30 pm","1:00 pm","1:30 pm","2:00 pm","2:30 pm","3:00 pm","3:30 pm","4:00 pm","4:30 pm","5:00 pm","5:30 pm","6:00 pm","6:30 pm","7:00 pm","7:30 pm","8:00 pm","8:30 pm","9:00 pm","9:30 pm","10:00 pm","10:30 pm","11:00 pm","11:30 pm"],this.selectedDateY="",this.selectedOptionTL="",this.selectedOptionTime="",this.selectedOptionPrice="",this.isShowSortMenu=!1,this.checkedSortText="",this.checkedSortValue=null,this.addressValue="",this.isShowAddressBar=!1}ngAfterViewInit(){}toggleSort(){this.isShowSortMenu=!this.isShowSortMenu}checked(r,i){this.checkedSortValue=r,this.checkedSortText=i,this.isShowSortMenu=!1}toggleAddress(){this.isShowAddressBar=!this.isShowAddressBar}clearAddress(){this.addressValue=""}resetFilter(){this.addressValue="",this.isShowSortMenu=!1,this.selectedOptionTL="",this.selectedOptionTime="",this.selectedDateY=""}onClickOutside(r){!this.sortSelectButton.nativeElement.contains(r.target)&&!this.sortSelectOptions.nativeElement.contains(r.target)&&(this.isShowSortMenu=!1),!this.addressButton.nativeElement.contains(r.target)&&!this.addressBar.nativeElement.contains(r.target)&&(this.isShowAddressBar=!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=xt({type:t,selectors:[["app-filter-bar"]],viewQuery:function(r,i){if(1&r&&(Yn(rue,5),Yn(iue,5),Yn(oue,5),Yn(sue,5)),2&r){let o;Bn(o=jn())&&(i.sortSelectButton=o.first),Bn(o=jn())&&(i.sortSelectOptions=o.first),Bn(o=jn())&&(i.addressButton=o.first),Bn(o=jn())&&(i.addressBar=o.first)}},hostBindings:function(r,i){1&r&&ie("mousedown",function(s){return i.onClickOutside(s)},0,Eu)},decls:111,vars:28,consts:[[1,"layout-filter"],[1,"filter-container"],[1,"filter-content"],[1,"filter-left"],[1,"filter-param"],[1,"filter-date-picker"],[3,"selectedDate","textDefault","selectedDateChange"],[1,"filter-tl"],[3,"selectedOption","textDefault","selectedOptionChange"],["custom-option","","value","1"],["custom-option","","value","2"],["custom-option","","value","3"],["custom-option","","value","4"],["custom-option","","value","5"],["custom-option","","value","6"],["custom-option","","value","7"],["custom-option","","value","8"],[1,"filter-time"],["custom-option","",3,"value",4,"ngFor","ngForOf"],[1,"filter-address"],[1,"filter-address-content"],[1,"address-button",3,"click"],["addressButton",""],[1,"bx","bxs-navigation"],[1,"address-bar",3,"ngClass"],["addressBar",""],[1,"address-form"],[1,"address-form-first"],["type","text",1,"address-input",3,"ngModel","ngModelChange"],["id","clearAddress",1,"bx","bx-x",3,"click"],["id","iconAddress",1,"bx","bxs-navigation"],[1,"address-form-second"],[1,"bx","bx-time-five"],[1,"horizontal-line"],[1,"address-suggest"],[1,"suggest-text"],[1,"filter-price"],[1,"filter-reset"],["href","javascript:void(0)","id","filter-icon-reset",3,"click"],[1,"filter-right"],[1,"filter-sort"],[1,"sort-tilte"],[1,"sort-content"],[1,"sort-text",3,"click"],["sortSelectButton",""],[1,"sort-menu",3,"ngClass"],["sortSelectOptions",""],[1,"sort-item",3,"click"],["href","javascript:void(0)",1,"sort-link","sort-default"],["class","bx bxs-check-circle sort-icon-checked",4,"ngIf"],["class","bx bx-circle sort-icon-unchecked",4,"ngIf"],["href","javascript:void(0)",1,"sort-link"],["custom-option","",3,"value"],[1,"bx","bxs-check-circle","sort-icon-checked"],[1,"bx","bx-circle","sort-icon-unchecked"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"app-date-picker",6),ie("selectedDateChange",function(s){return i.selectedDateY=s}),y()(),_(7,"div",7)(8,"app-custom-select",8),ie("selectedOptionChange",function(s){return i.selectedOptionTL=s}),_(9,"option",9),w(10,"1 gi\u1edd"),y(),_(11,"option",10),w(12,"2 gi\u1edd"),y(),_(13,"option",11),w(14,"3 gi\u1edd"),y(),_(15,"option",12),w(16,"4 gi\u1edd"),y(),_(17,"option",13),w(18,"5 gi\u1edd"),y(),_(19,"option",14),w(20,"6 gi\u1edd"),y(),_(21,"option",15),w(22,"7 gi\u1edd"),y(),_(23,"option",16),w(24,"8 gi\u1edd"),y()()(),_(25,"div",17)(26,"app-custom-select",8),ie("selectedOptionChange",function(s){return i.selectedOptionTime=s}),Le(27,aue,2,2,"option",18),y()(),_(28,"div",19)(29,"div",20)(30,"div",21,22),ie("click",function(){return i.toggleAddress()}),A(32,"i",23),_(33,"span"),w(34),y()(),_(35,"div",24,25)(37,"div",26)(38,"div",27)(39,"input",28),ie("ngModelChange",function(s){return i.addressValue=s}),y(),_(40,"i",29),ie("click",function(){return i.clearAddress()}),y(),A(41,"i",30),y(),_(42,"div",31),A(43,"i",32),w(44," H\u1ed3 T\xe2y, H\xe0 N\u1ed9i "),y()(),A(45,"div",33),_(46,"div",34)(47,"p",35),A(48,"i",23),w(49," C\xf4ng vi\xean Y\xean S\u1edf, Ho\xe0ng Mai, H\xe0 N\u1ed9i "),y(),_(50,"p",35),A(51,"i",23),w(52," C\xf4ng vi\xean Th\u1ed1ng Nh\u1ea5t, H\xe0 N\u1ed9i "),y(),_(53,"p",35),A(54,"i",23),w(55," Ph\u1ed1 \u0111i b\u1ed9 Nguy\u1ec5n Hu\u1ec7, H\u1ed3 Ch\xed Minh "),y(),_(56,"p",35),A(57,"i",23),w(58," H\u1ed3 H\xf2a Trung, \u0110\xe0 N\u1eb5ng "),y()()()()(),_(59,"div",36)(60,"app-custom-select",8),ie("selectedOptionChange",function(s){return i.selectedOptionPrice=s}),_(61,"option",9),w(62,"D\u01b0\u1edbi 300.000 VN\u0110"),y(),_(63,"option",10),w(64,"300.000 - 500.000 VN\u0110"),y(),_(65,"option",11),w(66,"500.000 - 800.000 VN\u0110"),y(),_(67,"option",12),w(68,"800.000 - 1200.000 VN\u0110"),y(),_(69,"option",13),w(70,"Tr\xean 1200.000 VN\u0110"),y()()(),_(71,"div",37)(72,"a",38),ie("click",function(){return i.resetFilter()}),w(73," C\xe0i l\u1ea1i "),y()()()(),_(74,"div",39)(75,"div",40)(76,"div",41)(77,"span"),w(78,"S\u1eafp x\u1ebfp theo"),y()(),_(79,"div",42)(80,"div",43,44),ie("click",function(){return i.toggleSort()}),_(82,"span"),w(83),y()(),_(84,"div",45,46)(86,"li",47),ie("click",function(){return i.checked(0,"M\u1eb7c \u0111\u1ecbnh")}),_(87,"a",48),Le(88,cue,1,0,"i",49),Le(89,lue,1,0,"i",50),w(90," M\u1eb7c \u0111\u1ecbnh "),y()(),_(91,"li",47),ie("click",function(){return i.checked(1,"Gi\xe1 : Th\u1ea5p - Cao")}),_(92,"a",51),Le(93,uue,1,0,"i",49),Le(94,due,1,0,"i",50),w(95," Gi\xe1 : Th\u1ea5p - Cao "),y()(),_(96,"li",47),ie("click",function(){return i.checked(2,"Gi\xe1: Cao - Th\u1ea5p")}),_(97,"a",51),Le(98,hue,1,0,"i",49),Le(99,fue,1,0,"i",50),w(100," Gi\xe1: Cao - Th\u1ea5p "),y()(),_(101,"li",47),ie("click",function(){return i.checked(3,"\u0110\xe1nh gi\xe1 : Th\u1ea5p - Cao")}),_(102,"a",51),Le(103,pue,1,0,"i",49),Le(104,gue,1,0,"i",50),w(105," \u0110\xe1nh gi\xe1 : Th\u1ea5p - Cao "),y()(),_(106,"li",47),ie("click",function(){return i.checked(4,"\u0110\xe1nh gi\xe1 : Cao - Th\u1ea5p")}),_(107,"a",51),Le(108,mue,1,0,"i",49),Le(109,_ue,1,0,"i",50),w(110," \u0110\xe1nh gi\xe1 : Cao - Th\u1ea5p "),y()()()()()()()()()),2&r&&(L(6),ce("selectedDate",i.selectedDateY)("textDefault","Ng\xe0y"),L(2),ce("selectedOption",i.selectedOptionTL)("textDefault","Th\u1eddi l\u01b0\u1ee3ng"),L(18),ce("selectedOption",i.selectedOptionTime)("textDefault","Th\u1eddi gian"),L(1),ce("ngForOf",i.timeOptions),L(7),rt(i.addressValue||"\u0110\u1ecba \u0111i\u1ec3m ch\u1ee5p \u1ea3nh"),L(1),ce("ngClass",mo(24,zj,i.isShowAddressBar)),L(4),ce("ngModel",i.addressValue),L(21),ce("selectedOption",i.selectedOptionPrice)("textDefault","Gi\xe1"),L(23),rt(i.checkedSortText||"M\u1eb7c \u0111\u1ecbnh"),L(1),ce("ngClass",mo(26,zj,i.isShowSortMenu)),L(4),ce("ngIf",!i.checkedSortValue||0===i.checkedSortValue),L(1),ce("ngIf",i.checkedSortValue&&0!==i.checkedSortValue),L(4),ce("ngIf",i.checkedSortValue&&1===i.checkedSortValue),L(1),ce("ngIf",!i.checkedSortValue||1!==i.checkedSortValue),L(4),ce("ngIf",i.checkedSortValue&&2===i.checkedSortValue),L(1),ce("ngIf",!i.checkedSortValue||2!==i.checkedSortValue),L(4),ce("ngIf",i.checkedSortValue&&3===i.checkedSortValue),L(1),ce("ngIf",!i.checkedSortValue||3!==i.checkedSortValue),L(4),ce("ngIf",i.checkedSortValue&&4===i.checkedSortValue),L(1),ce("ngIf",!i.checkedSortValue||4!==i.checkedSortValue))},dependencies:[ms,Gs,vo,K0,Z0,hl,Wu,ml,DT,ST],styles:['.filter-left[_ngcontent-%COMP%]{width:calc(100% - 350px)}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(6,1fr);gap:.5rem}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]{position:relative;min-width:12rem}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-button[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;padding:8px 12px;border:1px solid var(--color-primary);border-radius:4px;background-color:var(--color-light);display:flex;justify-content:flex-start;column-gap:.75rem;align-items:center;color:var(--color-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]{position:absolute;top:calc(100% + .3rem);left:0%;min-width:13rem;background-color:var(--color-bg-body);box-shadow:0 2px 5px #0003;border-radius:.3rem;padding:.5rem 1.5rem;z-index:1;display:none}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]{margin-top:1.5rem;width:100%;display:flex;flex-direction:column}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]   .address-form-first[_ngcontent-%COMP%]{position:relative}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]   .address-form-first[_ngcontent-%COMP%]   .address-input[_ngcontent-%COMP%]{width:100%;padding:10px 1.25rem 10px 1.5rem;outline:none;border:1px solid var(--color-primary);color:var(--color-primary);border-radius:.3rem}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]   .address-form-first[_ngcontent-%COMP%]   #iconAddress[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);left:.3rem}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]   .address-form-first[_ngcontent-%COMP%]   #clearAddress[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);right:.3rem;cursor:pointer;border-radius:50%}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]   .address-form-first[_ngcontent-%COMP%]   #clearAddress[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]   .address-form-second[_ngcontent-%COMP%]{padding:8px 0;display:flex;justify-content:flex-start;column-gap:.75rem;align-items:center;color:var(--color-primary);font-size:14px}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .horizontal-line[_ngcontent-%COMP%]{height:2px;background-color:#e6e6e6;margin:.1rem 0}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-suggest[_ngcontent-%COMP%]{margin-top:.5rem}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-suggest[_ngcontent-%COMP%]   .suggest-text[_ngcontent-%COMP%]{margin:5px 0!important;font-size:14px}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar.show[_ngcontent-%COMP%]{display:block!important}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-reset[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-reset[_ngcontent-%COMP%]   #filter-icon-reset[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;text-decoration:none;color:var(--color-primary);font-size:18px;border-radius:.3rem;padding:0 1.5rem;background-color:var(--color-secondary);text-wrap:nowrap}@media (max-width: 1400px){.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)!important}}@media (max-width: 1200px){.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)!important}}@media (max-width: 991.98px){.filter-left[_ngcontent-%COMP%]{width:100%;order:2}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)!important}}@media (max-width: 600px){.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 470px){.filter-left[_ngcontent-%COMP%]{width:200px}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-reset[_ngcontent-%COMP%]   #filter-icon-reset[_ngcontent-%COMP%]{padding:.5rem 1.5rem}}.filter-right[_ngcontent-%COMP%]{min-width:350px}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:8px}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-tilte[_ngcontent-%COMP%]{text-wrap:nowrap;margin-right:1rem;color:var(--color-primary)}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]{position:relative}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-text[_ngcontent-%COMP%]{min-width:200px;font-weight:700;color:var(--color-primary);cursor:pointer}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;display:inline-block}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;bottom:-.25rem;width:100%;height:2px;background-color:#000;transition:all .3s ease}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-text[_ngcontent-%COMP%]   span.active[_ngcontent-%COMP%]:after{width:0}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]{position:absolute;top:calc(100% + .3rem);right:10%;min-width:13rem;background-color:var(--color-bg-body);box-shadow:0 2px 5px #0003;border-radius:.3rem;padding:.5rem 0;z-index:2;display:none}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]   .sort-item[_ngcontent-%COMP%]{list-style:none;display:block;padding-left:1rem}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]   .sort-item[_ngcontent-%COMP%]   .sort-link[_ngcontent-%COMP%]{color:var(--color-primary);display:block;text-decoration:none;text-align:center;line-height:2.5rem;display:flex;flex-wrap:nowrap;align-items:center}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]   .sort-item[_ngcontent-%COMP%]   .sort-link[_ngcontent-%COMP%]   .sort-icon-checked[_ngcontent-%COMP%], .filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]   .sort-item[_ngcontent-%COMP%]   .sort-link[_ngcontent-%COMP%]   .sort-icon-unchecked[_ngcontent-%COMP%]{margin-bottom:3px;margin-right:.5rem}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]   .sort-item[_ngcontent-%COMP%]:hover{background-color:#f6f6f6}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu.show[_ngcontent-%COMP%]{display:block!important}@media (max-width: 991.98px){.filter-right[_ngcontent-%COMP%]{order:1;min-width:auto;width:100%;margin-bottom:2rem}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]{justify-content:flex-start}}.layout-filter[_ngcontent-%COMP%]{margin-top:5.57rem}.layout-filter[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]{width:100%;margin:0 auto}.layout-filter[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   .filter-content[_ngcontent-%COMP%]{padding:2.5rem;display:flex;justify-content:space-between}@media (min-width: 1400px){.filter-container[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.layout-filter[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   .filter-content[_ngcontent-%COMP%]{flex-direction:column}}']}),e})(),Gj=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=xt({type:t,selectors:[["app-layout-shop"]],decls:8,vars:0,consts:[[1,"layout-wrapper"],[1,"layout-container"],[1,"content-wrapper"],[1,"content-container"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1),A(2,"app-header")(3,"app-filter-bar"),_(4,"div",2)(5,"div",3),A(6,"router-outlet"),y()(),A(7,"app-footer"),y()())},dependencies:[Jc,RT,xT,yue],styles:[".layout-wrapper[_ngcontent-%COMP%], .layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%], .layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{width:100%}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{width:100%;margin:0 auto}@media (min-width: 1400px){.content-container[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.content-container[_ngcontent-%COMP%]{margin-top:5rem!important}}"]}),e})(),kT=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=xt({type:t,selectors:[["app-layout-auth"]],decls:3,vars:0,consts:[[1,"layout-auth"],[1,"auth-wrapper"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1),A(2,"router-outlet"),y()())},dependencies:[Jc],styles:[".layout-auth[_ngcontent-%COMP%]{width:100%;height:100%}"]}),e})(),Wj=(()=>{var t;class e{constructor(r){this.el=r}onInputChange(r){const i=this.el.nativeElement.value,o=i.replace(/[^0-9]/g,"");i!==o&&(this.el.nativeElement.value=o,r.preventDefault())}}return(t=e).\u0275fac=function(r){return new(r||t)(X(Ai))},t.\u0275dir=Ve({type:t,selectors:[["","appOnlyNumbers",""]],hostBindings:function(r,i){1&r&&ie("input",function(s){return i.onInputChange(s)})}}),e})();function vue(t,e){1&t&&(_(0,"span",24),w(1,"Vui l\xf2ng nh\u1eadp t\xean."),y())}function Cue(t,e){1&t&&(_(0,"span",24),w(1,"Vui l\xf2ng nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i h\u1ee3p l\u1ec7."),y())}function wue(t,e){1&t&&(_(0,"span",24),w(1,"Vui l\xf2ng nh\u1eadp email h\u1ee3p l\u1ec7."),y())}function Pue(t,e){1&t&&(_(0,"span",24),w(1,"Vui l\xf2ng nh\u1eadp \u0111i\u0323a chi\u0309 h\u1ee3p l\u1ec7."),y())}let Eue=(()=>{var t;class e{constructor(r){this.orderService=r,this.invalidEmail=!1,this.invalidPhone=!1,this.invalidName=!1,this.invalidAddress=!1,this.email="",this.phone="",this.name="",this.address="",this.messageText="",this.isSuccess=!0}onChangeName(r){this.name=r.target.value,this.validateName()}onChangePhone(r){this.phone=r.target.value,this.validatePhone()}onChangeEmail(r){this.email=r.target.value,this.validateEmail()}onChangeAddress(r){this.address=r.target.value,this.validateAddress()}onSubmit(){var r=this;return(0,k.Z)(function*(){if(r.validateName()&&r.validatePhone()&&r.validateEmail()&&r.validateAddress()){const a=localStorage.getItem("order_id");if(a){const c=parseInt(a,10);var i=yield r.orderService.getOrderById(c);if(i){i.cust_name=r.name,i.cust_email=r.email,i.cust_phone=r.phone,i.address=r.address,i.status="cho_duyet";var o=yield r.orderService.generateUniqueOrderCode();i.code=o.toString(),(yield r.orderService.updateOrder(i))?(r.isSuccess=!0,r.messageText="Th\xe0nh c\xf4ng."):(r.messageText="Th\u1ea5t b\u1ea1i.",r.isSuccess=!1)}else r.messageText="Th\u1ea5t b\u1ea1i.",r.isSuccess=!1;localStorage.removeItem("order_id")}else r.messageText="Th\u1ea5t b\u1ea1i.",r.isSuccess=!1}else r.validateName(),r.validatePhone(),r.validateEmail(),r.validateAddress()})()}validateName(){return this.invalidName=this.name.length<1,!this.invalidName}validateAddress(){return this.invalidAddress=this.address.length<1,!this.invalidAddress}validatePhone(){const i=/^0[0-9]{9,10}$/.test(this.phone);return this.invalidPhone=!i,i}validateEmail(){const i=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(this.email);return this.invalidEmail=!i,i}}return(t=e).\u0275fac=function(r){return new(r||t)(X(p_))},t.\u0275cmp=xt({type:t,selectors:[["app-send-contact"]],decls:38,vars:6,consts:[[1,"send-ct-wrapper"],[1,"send-ct-container"],[1,"send-ct-header"],[1,"go-home"],["routerLink","/home",1,"go-home-link"],[1,"bx","bxs-chevron-left"],[1,"brand"],["routerLink","/home",1,"brand-link"],["src","./assets/images/logo2.png","alt","logo",1,"brand-image"],[1,"send-ct-title"],[1,"message",3,"ngClass"],[1,"send-ct-content"],[3,"ngSubmit"],[1,"form-group"],["for","fullname"],["type","text","id","fullname","name","fullname","required","","placeholder","Nguyen Quang Nam",3,"input"],["class","validate-message",4,"ngIf"],["for","phone"],["type","text","id","phone","name","phone","required","","placeholder","0123456789","appOnlyNumbers","",3,"input"],["for","username"],["type","text","id","username","name","username","required","","placeholder","quang@gmail.com",3,"input"],["for","address"],["type","text","id","address","name","address","required","","placeholder","",3,"input"],["type","submit"],[1,"validate-message"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),A(5,"i",5),w(6," Trang ch\u1ee7 "),y()(),_(7,"div",6)(8,"a",7),A(9,"img",8),y()(),_(10,"h3",9),w(11," Vui l\xf2ng \u0111\u1ec3 l\u1ea1i th\xf4ng tin li\xean h\u1ec7. "),y()(),_(12,"div",10),w(13),y(),_(14,"div",11)(15,"form",12),ie("ngSubmit",function(){return i.onSubmit()}),_(16,"div",13)(17,"label",14),w(18,"H\u1ecd v\xe0 t\xean"),y(),_(19,"input",15),ie("input",function(s){return i.onChangeName(s)}),y(),Le(20,vue,2,0,"span",16),y(),_(21,"div",13)(22,"label",17),w(23,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),y(),_(24,"input",18),ie("input",function(s){return i.onChangePhone(s)}),y(),Le(25,Cue,2,0,"span",16),y(),_(26,"div",13)(27,"label",19),w(28,"Email"),y(),_(29,"input",20),ie("input",function(s){return i.onChangeEmail(s)}),y(),Le(30,wue,2,0,"span",16),y(),_(31,"div",13)(32,"label",21),w(33,"\u0110i\u0323a chi\u0309 chu\u0323p a\u0309nh"),y(),_(34,"input",22),ie("input",function(s){return i.onChangeAddress(s)}),y(),Le(35,Pue,2,0,"span",16),y(),_(36,"button",23),w(37,"G\u1eedi"),y()()()()()),2&r&&(L(12),ce("ngClass",i.isSuccess?"success":"error"),L(1),Lt(" ",i.messageText," "),L(7),ce("ngIf",i.invalidName),L(5),ce("ngIf",i.invalidPhone),L(5),ce("ngIf",i.invalidEmail),L(5),ce("ngIf",i.invalidAddress))},dependencies:[ms,vo,qr,P_,__,qu,Wj],styles:[".send-ct-wrapper[_ngcontent-%COMP%]{width:100%;margin:0 auto;min-height:500px;min-height:100vh;padding:2rem;background-image:url(/assets/images/banner.jpg);background-size:cover;background-repeat:no-repeat;background-position:center}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]{padding:2rem;border-radius:.5rem;width:700px;margin:auto;min-height:calc(100vh - 4rem);height:100%;background-color:#ffffffa8;box-shadow:0 0 10px #0000004d}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem;position:relative}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{position:absolute;top:0rem;left:0rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]   .go-home-link[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;text-decoration:none;color:var(--color-primary);font-weight:700;position:relative}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .send-ct-title[_ngcontent-%COMP%]{text-align:center;color:var(--color-primary);font-size:32px;font-weight:700}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{display:flex;justify-content:center}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]   .brand-image[_ngcontent-%COMP%]{width:5rem;height:5rem;object-fit:cover}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin-bottom:1rem;font-weight:600}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .message.error[_ngcontent-%COMP%]{color:red}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .message.success[_ngcontent-%COMP%]{color:green}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:15px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:gray;font-weight:600;font-size:18px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 10px;border:2px solid gray;border-radius:5px;background-color:transparent;outline:none}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--color-primary)}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{width:100%;font-size:14px;color:#ff1818}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 auto;margin-top:3rem;display:block;padding:15px 25px;background-color:var(--color-primary);color:#fff;border:none;border-radius:5px;font-size:20px;cursor:pointer}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}@media (max-width: 767.98px){.send-ct-wrapper[_ngcontent-%COMP%]{width:100%!important;padding:1rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]{width:100%;min-height:calc(100vh - 2rem)}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{position:absolute;top:-.5rem;left:-1rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .send-ct-title[_ngcontent-%COMP%]{font-size:26px!important}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{padding-top:1rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{font-size:12px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2rem;padding:10px 15px;font-size:20px!important}}"]}),e})();function Mue(t,e){if(1&t&&(_(0,"div",124),w(1),y()),2&t){const n=cr();L(1),Lt(" ",n.errorMessage," ")}}function Iue(t,e){if(1&t&&(_(0,"option",126),w(1),y()),2&t){const n=e.$implicit;ce("value",n.id),L(1),Lt(" ",n.name," ")}}function Oue(t,e){if(1&t){const n=$s();$h(0),_(1,"app-custom-select",103),ie("selectedOptionChange",function(i){return bi(n),zr(cr().onOptionTypeChange(i))})("selectedOptionChange",function(i){return bi(n),zr(cr().selectedOptionType=i)}),Le(2,Iue,2,2,"option",125),y(),Hh()}if(2&t){const n=cr();L(1),ce("selectedOption",n.selectedOptionType)("textDefault","Ch\u1ecdn lo\u1ea1i ch\u1ee5p"),L(1),ce("ngForOf",n.typeOfPhoto)}}function bue(t,e){if(1&t&&($h(0),_(1,"p",127),w(2),_(3,"span"),w(4),y()(),Hh()),2&t){const n=cr();L(2),Lt(" ",n.costPreview," "),L(2),Lt("/",""!==n.selectedOptionTLVal&&""!==n.selectedOptionTypeVal?n.selectedOptionTLVal:1," ti\u1ebfng")}}let Tue=(()=>{var t;class e{constructor(r,i,o,s){this.router=r,this.route=i,this.orderService=o,this.userInfoDTOService=s,this.userData=null,this.selectedDateU="",this.selectedOptionTL="",this.selectedOptionType="",this.errorMessage="",this.isError=!1,this.dateVal="",this.selectedOptionTLVal="",this.selectedOptionTypeVal="",this.setTimeVal="",this.partnerId=0,this.isShowOrder=!1,this.typeOfPhoto=[],this.costPreview=3e5,this.route.params.subscribe(a=>{const c=a.id;c?this.partnerId=parseInt(c,10):console.error("ID not found in URL")})}ngOnInit(){this.route.params.subscribe(r=>{const i=r.id;if(i){const o=parseInt(i,10);this.loadUserInfoData(o)}else console.error("ID not found in URL")})}loadUserInfoData(r){this.userInfoDTOService.getUserInfoDTOsById(r).subscribe(i=>{this.userData=i,this.typeOfPhoto=this.userData?.userInfo.typeOfPhoto||[]},i=>{console.error("Error loading user info:",i)})}onDateChange(r){this.dateVal=r}onOptionTLChange(r){this.selectedOptionTLVal=r,console.log(r);var i=parseInt(this.selectedOptionTLVal,10);if(""!==this.selectedOptionTypeVal){var o=parseInt(this.selectedOptionTypeVal,10);const a=this.typeOfPhoto.find(c=>c.id===o);if(a){var s=parseInt(a.cost,10);this.costPreview=s*i}}}onOptionTypeChange(r){this.selectedOptionTypeVal=r;const i=parseInt(r.trim(),10),o=this.typeOfPhoto.find(c=>c.id===i);if(o){var s=parseInt(o.cost,10);if(""!==this.selectedOptionTLVal){var a=parseInt(this.selectedOptionTLVal,10);this.costPreview=s*a}else this.costPreview=s}}onSubmit(){var r=this;return(0,k.Z)(function*(){if(r.isError=!1,r.selectedDateU&&r.selectedOptionTL&&r.selectedOptionType){if(0!==r.partnerId){console.log("true");const o=parseInt(r.selectedOptionTLVal,10)*r.costPreview,s=r.typeOfPhoto.find(c=>c.id==parseInt(r.selectedOptionTLVal))?.name,a={id:0,order_date:r.dateVal,time:r.selectedOptionTLVal,appoi_time:r.setTimeVal,shooting_type:s||"",partner_id:r.partnerId,cust_name:"",cust_email:"",cust_phone:"",code:"",status:"chua_dien_tt",address:"",price:o.toString()};var i=yield r.orderService.createOrder(a);i&&(localStorage.setItem("order_id",i.id.toString()),r.router.navigate(["/contact"]))}}else r.errorMessage="Vui l\xf2ng \u0111i\u1ec1n \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin",r.isError=!0,console.log(r.dateVal),console.log(r.setTimeVal)})()}showOrder(){this.isShowOrder=!0}hideOrder(){this.isShowOrder=!1}}return(t=e).\u0275fac=function(r){return new(r||t)(X(li),X(Xc),X(p_),X(aT))},t.\u0275cmp=xt({type:t,selectors:[["app-profile"]],decls:255,vars:16,consts:[[1,"profile-content"],[1,"wall-wrapper"],[1,"wall-content"],[1,"wall1"],[1,"wall1-1"],["src","./assets/images/profile/pf1.jpg","alt",""],[1,"wall1-2"],["src","./assets/images/profile/pf2.jpg","alt",""],[1,"wall2"],["src","./assets/images/profile/pf3.jpg","alt",""],[1,"wall3"],[1,"wall3-1"],["src","./assets/images/profile/pf4.jpg","alt",""],[1,"wall3-2"],["src","./assets/images/profile/pf5.jpg","alt",""],[1,"wall4"],["src","./assets/images/profile/pf6.jpg","alt",""],[1,"wall5"],[1,"wall5-1"],["src","./assets/images/profile/pf7.jpg","alt",""],[1,"wall5-2"],["src","./assets/images/profile/pf8.jpg","alt",""],[1,"content-wrapper"],[1,"forMe-wrapper"],[1,"forMe-content"],[1,"avatar-wrapper"],[1,"avatar"],["alt","",1,"avatar-image",3,"src"],[1,"des-forMe-wrapper"],[1,"des-forMe-name"],[1,"des-forMe-address"],[1,"des-forMe-rate"],[1,"rate-star"],["src","./assets/images/icons/star-fill.png","alt",""],[1,"rate-text"],[1,"des-forMe-exp"],[1,"info-wrapper"],[1,"infor-title-list"],[1,"title-list"],[1,"it-item"],["href","javascript:void(0)",1,"it-link"],[1,"deliver-line"],[1,"infor-content-list"],[1,"ic-item"],[1,"text-description"],[1,"prize"],[1,"prize-title"],[1,"interest"],[1,"interest-title"],[1,"feature-wrapper"],[1,"feature-title"],[1,"feature-content"],[1,"language"],[1,"language-title"],["src","./assets/images/icons/translate.png","alt",""],[1,"camera"],[1,"camera-title"],["src","./assets/images/icons/camera.png","alt",""],[1,"portfolio"],[1,"portfolio-title"],[1,"portfolio-content"],[1,"portfolio-item"],["routerLink","/collection"],[1,"it-header"],["src","./assets/images/profile/op1.jpg","alt",""],[1,"it-footer"],[1,"it-cate"],[1,"it-count-picture"],["src","./assets/images/profile/op2.jpg","alt",""],["src","./assets/images/profile/op3.jpg","alt",""],["src","./assets/images/profile/op4.jpg","alt",""],[1,"appraise"],[1,"appraise-title"],[1,"rate"],[1,"appraise-content"],[1,"appraise-item"],[1,"ai-header"],[1,"header-avatar"],["src","./assets/images/avatar/avatar1.jpeg","alt",""],[1,"header-name"],[1,"ai-comment"],[1,"how-it-works"],[1,"hiw-title"],[1,"hiw-content"],[1,"hiw-item"],[1,"item-title"],[1,"title-icon"],[1,"bx","bx-calendar-check"],[1,"title-text"],[1,"item-content"],[1,"content-deliver"],[1,"content-text"],[1,"bx","bxs-camera"],[1,"bx","bx-happy-alt"],[1,"order-wrapper",3,"ngClass"],[1,"order-container"],["class","mess-valid",4,"ngIf"],[1,"order-content"],[1,"filter-date-picker"],["for","ngay-chup"],[3,"selectedDate","textDefault","selectedDateChange"],[1,"filter-tl"],["for","thoi-luong"],[3,"selectedOption","textDefault","selectedOptionChange"],["custom-option","","value","1"],["custom-option","","value","2"],["custom-option","","value","3"],["custom-option","","value","4"],["custom-option","","value","5"],["custom-option","","value","6"],["custom-option","","value","7"],["custom-option","","value","8"],[1,"set-time"],["for","gio-hen"],["type","time","id","gio-hen","name","gio-hen","required","",3,"ngModel","ngModelChange"],[1,"filter-type"],[4,"ngIf"],["href","javascript:void(0)",3,"click"],[1,"sug-foot"],[1,"bx","bx-check"],[1,"btn-close-order",3,"click"],[1,"bx","bx-x"],[1,"toggle-order-wrapper",3,"ngClass","click"],[1,"bx","bx-plus-circle"],[1,"mess-valid"],["custom-option","",3,"value",4,"ngFor","ngForOf"],["custom-option","",3,"value"],[1,"p-footer"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),A(5,"img",5),y(),_(6,"div",6),A(7,"img",7),y()(),_(8,"div",8),A(9,"img",9),y(),_(10,"div",10)(11,"div",11),A(12,"img",12),y(),_(13,"div",13),A(14,"img",14),y()(),_(15,"div",15),A(16,"img",16),y(),_(17,"div",17)(18,"div",18),A(19,"img",19),y(),_(20,"div",20),A(21,"img",21),y()()()(),_(22,"div",22)(23,"div",23)(24,"div",24)(25,"div",25)(26,"div",26),A(27,"img",27),y()(),_(28,"div",28)(29,"h2",29),w(30),y(),_(31,"p",30),w(32," Ba \u0110\xecnh, H\xe0 N\u1ed9i "),y(),_(33,"div",31)(34,"div",32),A(35,"img",33)(36,"img",33)(37,"img",33)(38,"img",33)(39,"img",33),y(),_(40,"span",34),w(41,"5.0"),y()(),_(42,"p",35),w(43,"13 n\u0103m kinh nghi\u1ec7m"),y()()()(),_(44,"div",36)(45,"div",37)(46,"div",38)(47,"li",39)(48,"a",40),w(49,"V\u1ec1 t\xf4i"),y()(),_(50,"li",39)(51,"a",40),w(52,"H\u1ed3 s\u01a1"),y()(),_(53,"li",39)(54,"a",40),w(55,"\u0110\xe1nh gi\xe1"),y()(),_(56,"li",39)(57,"a",40),w(58,"How it works"),y()()()(),A(59,"div",41),_(60,"div",42)(61,"div",43)(62,"div",44)(63,"p"),w(64),y()(),_(65,"div",45)(66,"h3",46),w(67," Gi\u1ea3i th\u01b0\u1edfng "),y(),_(68,"p"),w(69),y()(),_(70,"div",47)(71,"h3",48),w(72," \u0110i\u1ec1u th\xfa v\u1ecb v\u1ec1 t\xf4i "),y(),_(73,"p"),w(74),y()()()(),A(75,"div",41),_(76,"div",49)(77,"h3",50),w(78,"Ng\xf4n ng\u1eef & M\xe1y \u1ea3nh"),y(),_(79,"div",51)(80,"div",52)(81,"div",53),A(82,"img",54),_(83,"h3"),w(84,"Ng\xf4n ng\u1eef"),y()(),_(85,"p"),w(86,"Ti\u1ebfng Vi\u1ec7t"),y()(),_(87,"div",55)(88,"div",56),A(89,"img",57),_(90,"h3"),w(91,"M\xe1y \u1ea3nh"),y()(),_(92,"p"),w(93,"Sony A7iii, LUMIX G9, Panasonic GH5"),y()()()(),A(94,"div",41),_(95,"div",58)(96,"h3",59),w(97,"My Portfolio"),y(),_(98,"div",60)(99,"div",61)(100,"a",62)(101,"div",63),A(102,"img",64),y(),_(103,"div",65)(104,"h3",66),w(105,"LookBook"),y(),_(106,"span",67),w(107,"30"),y()()()(),_(108,"div",61)(109,"a",62)(110,"div",63),A(111,"img",68),y(),_(112,"div",65)(113,"h3",66),w(114,"LookBook"),y(),_(115,"span",67),w(116,"30"),y()()()(),_(117,"div",61)(118,"a",62)(119,"div",63),A(120,"img",69),y(),_(121,"div",65)(122,"h3",66),w(123,"LookBook"),y(),_(124,"span",67),w(125,"30"),y()()()(),_(126,"div",61)(127,"a",62)(128,"div",63),A(129,"img",70),y(),_(130,"div",65)(131,"h3",66),w(132,"LookBook"),y(),_(133,"span",67),w(134,"30"),y()()()()()(),A(135,"div",41),_(136,"div",71)(137,"div",72)(138,"h3"),w(139,"\u0110\xe1nh Gi\xe1"),y(),_(140,"div",73)(141,"div",32),A(142,"img",33)(143,"img",33)(144,"img",33)(145,"img",33)(146,"img",33),y(),_(147,"span",34),w(148,"5.0"),y()()(),_(149,"div",74)(150,"div",75)(151,"div",76)(152,"div",77),A(153,"img",78),y(),_(154,"span",79),w(155,"Lalisa Manoban "),y()(),_(156,"div",80)(157,"p"),w(158,"Kh\xf4ng c\xf2n nghi ng\u1edd g\xec n\u1eefa, \u0111\xe2y l\xe0 m\u1ed9t trong nh\u1eefng nhi\u1ebfp \u1ea3nh gia tuy\u1ec7t v\u1eddi nh\u1ea5t v\xe0 c\xf3 k\u1ef9 n\u0103ng ch\u1ee5p \u1ea3nh \u0111a d\u1ea1ng! T\xf4i th\u01b0\u1eddng kh\xf4ng \u0111\u0103ng \u0111\xe1nh gi\xe1 nh\u01b0ng c\xf4ng vi\u1ec7c \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n b\u1edfi nhi\u1ebfp \u1ea3nh gia Ph\u1ea1m Vi\u1ec7t C\u01b0\u1eddng x\u1ee9ng \u0111\xe1ng v\xe0 h\u01a1n th\u1ebf n\u1eefa! T\xf4i v\xe0 YG s\u1ebd ti\u1ebfp t\u1ee5c l\xe0m nhi\u1ec1u vi\u1ec7c h\u01a1n v\u1edbi anh \u1ea5y!!"),y()()()()(),A(159,"div",41),_(160,"div",81)(161,"h3",82),w(162,"How it Works"),y(),_(163,"div",83)(164,"div",84)(165,"div",85)(166,"div",86),A(167,"i",87),y(),_(168,"h3",88),w(169,"Book."),y()(),_(170,"div",89)(171,"div",90),A(172,"p"),y(),_(173,"div",91)(174,"p"),w(175,"Nhanh ch\xf3ng t\xecm th\u1ea5y m\u1ed9t nhi\u1ebfp \u1ea3nh gia \u0111\u01b0\u1ee3c x\u1ebfp h\u1ea1ng h\xe0ng \u0111\u1ea7u g\u1ea7n b\u1ea1n. \u0110\u1eb7t ch\u1ed7 ph\xf9 h\u1ee3p cho kho\u1ea3nh kh\u1eafc \u0111\u1eb7c bi\u1ec7t c\u1ee7a b\u1ea1n ch\u1ec9 b\u1eb1ng v\xe0i c\xfa nh\u1ea5p chu\u1ed9t \u0111\u01a1n gi\u1ea3n."),y()()()(),_(176,"div",84)(177,"div",85)(178,"div",86),A(179,"i",92),y(),_(180,"h3",88),w(181,"Sheet."),y()(),_(182,"div",89)(183,"div",90),A(184,"p"),y(),_(185,"div",91)(186,"p"),w(187,"H\xe3y th\u01b0 gi\xe3n v\xe0 t\u1eadn h\u01b0\u1edfng kho\u1ea3nh kh\u1eafc khi m\u1ed9t nhi\u1ebfp \u1ea3nh gia gi\xe0u kinh nghi\u1ec7m ch\u1ee5p \u1ea3nh cho b\u1ea1n. H\u1ecd s\u1ebd ch\u0103m s\xf3c t\u1ea5t c\u1ea3 c\xe1c chi ti\u1ebft."),y()()()(),_(188,"div",84)(189,"div",85)(190,"div",86),A(191,"i",93),y(),_(192,"h3",88),w(193,"Enjoy!."),y()(),_(194,"div",89),A(195,"div",90),_(196,"div",91)(197,"p"),w(198," Trong v\xf2ng 2 ng\xe0y l\xe0m vi\u1ec7c k\u1ec3 t\u1eeb ng\xe0y ch\u1ee5p \u1ea3nh, b\u1ea1n s\u1ebd c\xf3 th\u1ec3 xem, t\u1ea3i xu\u1ed1ng v\xe0 chia s\u1ebb. T\u1eadn h\u01b0\u1edfng t\u1ea5t c\u1ea3 m\u1ed9t l\u1ea7n n\u1eefa v\xe0 m\u1ed9t l\u1ea7n n\u1eefa. "),y()()()()()()()(),_(199,"div",94)(200,"div",95)(201,"h4"),w(202,"\u0110\u1eb7t l\u1ecbch ch\u1ee5p t\u1ef1 \u0111\u1ed9ng"),y(),Le(203,Mue,2,1,"div",96),_(204,"div",97)(205,"div",98)(206,"label",99),w(207,"Ng\xe0y ch\u1ee5p:"),y(),_(208,"app-date-picker",100),ie("selectedDateChange",function(s){return i.onDateChange(s)})("selectedDateChange",function(s){return i.selectedDateU=s}),y()(),_(209,"div",101)(210,"label",102),w(211,"Th\u1eddi l\u01b0\u1ee3ng (gi\u1edd):"),y(),_(212,"app-custom-select",103),ie("selectedOptionChange",function(s){return i.onOptionTLChange(s)})("selectedOptionChange",function(s){return i.selectedOptionTL=s}),_(213,"option",104),w(214,"1 gi\u1edd"),y(),_(215,"option",105),w(216,"2 gi\u1edd"),y(),_(217,"option",106),w(218,"3 gi\u1edd"),y(),_(219,"option",107),w(220,"4 gi\u1edd"),y(),_(221,"option",108),w(222,"5 gi\u1edd"),y(),_(223,"option",109),w(224,"6 gi\u1edd"),y(),_(225,"option",110),w(226,"7 gi\u1edd"),y(),_(227,"option",111),w(228,"8 gi\u1edd"),y()()(),_(229,"div",112)(230,"label",113),w(231,"Gi\u1edd h\u1eb9n:"),y(),_(232,"input",114),ie("ngModelChange",function(s){return i.setTimeVal=s}),y()(),_(233,"div",115)(234,"label",102),w(235,"Lo\u1ea1i ch\u1ee5p"),y(),Le(236,Oue,3,3,"ng-container",116),y(),_(237,"a",117),ie("click",function(){return i.onSubmit()}),w(238,"\u0110\u1eb7t l\u1ecbch"),y(),A(239,"div",41),Le(240,bue,5,2,"ng-container",116),A(241,"div",41),_(242,"span",118),A(243,"i",119),w(244," 15 \u1ea3nh c\xf3 \u0111\u1ed9 ph\xe2n gi\u1ea3i cao \u1edf \u0111\u1ecbnh d\u1ea1ng JPEG "),y(),_(245,"span",118),A(246,"i",119),w(247," \u0110\xe3 ch\u1ec9nh s\u1eeda v\xe0 ch\u1ec9nh m\xe0u "),y(),_(248,"span",118),A(249,"i",119),w(250," Giao h\xe0ng sau 2 ng\xe0y l\xe0m vi\u1ec7c "),y()()(),_(251,"div",120),ie("click",function(){return i.hideOrder()}),A(252,"i",121),y()(),_(253,"div",122),ie("click",function(){return i.showOrder()}),A(254,"i",123),y()()),2&r&&(L(27),lm("src","./assets/images/avatar/",null==i.userData||null==i.userData.user?null:i.userData.user.avatar,"",zc),L(3),Lt(" ",null==i.userData||null==i.userData.user?null:i.userData.user.full_name," "),L(34),Lt(" ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.description," "),L(5),Lt(" ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.prize," "),L(5),Lt(" ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.interest," "),L(125),ce("ngClass",i.isShowOrder?"show":""),L(2),Ho("data-id",null==i.userData||null==i.userData.user?null:i.userData.user.id),L(2),ce("ngIf",i.isError),L(5),ce("selectedDate",i.selectedDateU)("textDefault","Ng\xe0y"),L(4),ce("selectedOption",i.selectedOptionTL)("textDefault","Th\u1eddi l\u01b0\u1ee3ng"),L(20),ce("ngModel",i.setTimeVal),L(4),ce("ngIf",i.typeOfPhoto.length>0),L(4),ce("ngIf",i.costPreview),L(13),ce("ngClass",i.isShowOrder?"hide":""))},dependencies:[ms,Gs,vo,qr,K0,Z0,hl,Wu,E_,ml,DT,ST],styles:['@charset "UTF-8";.forMe-wrapper[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:5rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:3rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   .avatar-image[_ngcontent-%COMP%]{height:130px;width:130px;object-fit:cover;border-radius:50%}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-name[_ngcontent-%COMP%]{margin:2px 0;color:var(--color-primary);font-weight:700;font-size:28px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-address[_ngcontent-%COMP%]{margin:4px 0;font-size:15px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-rate[_ngcontent-%COMP%]{margin:.5rem 0;display:flex;justify-content:flex-start;column-gap:.75rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:16px;width:16px;object-fit:cover}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-rate[_ngcontent-%COMP%]   .rate-text[_ngcontent-%COMP%]{font-size:15px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-exp[_ngcontent-%COMP%]{margin:4px 0}.infor-title-list[_ngcontent-%COMP%]{padding-left:2rem}.infor-title-list[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:4rem;flex-wrap:wrap;row-gap:2rem}.infor-title-list[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]   .it-item[_ngcontent-%COMP%]{list-style:none;display:inline}.infor-title-list[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]   .it-item[_ngcontent-%COMP%]   .it-link[_ngcontent-%COMP%]{text-decoration:none;display:block;font-weight:700;color:var(--color-primary);font-size:20px;text-wrap:nowrap}.infor-content-list[_ngcontent-%COMP%]{padding-top:1.5rem;padding-left:2rem}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .prize[_ngcontent-%COMP%]   .prize-title[_ngcontent-%COMP%]{color:var(--color-primary);font-size:20px;font-weight:700}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .interest[_ngcontent-%COMP%]   .interest-title[_ngcontent-%COMP%]{font-weight:700;font-size:20px;color:var(--color-primary)}.feature-wrapper[_ngcontent-%COMP%]{padding-left:2rem;padding-top:.5rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:700;font-size:20px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   .language-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   .language-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   .language-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:var(--color-primary);font-weight:700}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-left:3rem;font-size:18px;margin-top:0}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   .camera-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   .camera-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   .camera-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:var(--color-primary);font-weight:700}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:0;padding-left:3rem;font-size:18px}.portfolio[_ngcontent-%COMP%]{padding-left:2rem;padding-right:25%;padding-top:.5rem}.portfolio[_ngcontent-%COMP%]   .portfolio-title[_ngcontent-%COMP%]{font-weight:700;color:var(--color-warning)}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-auto-rows:1fr;gap:2rem}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-text-body);text-decoration:none}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   .portfolio-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:250px;object-fit:cover}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   .it-footer[_ngcontent-%COMP%]   .it-cate[_ngcontent-%COMP%]{font-size:20px;margin-bottom:10px}.appraise[_ngcontent-%COMP%]{padding-left:2rem;padding-top:.5rem}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--color-warning);font-weight:700}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;column-gap:.5rem}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:15px;width:15px;object-fit:cover}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   .rate-text[_ngcontent-%COMP%]{font-weight:700}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:.75rem}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]   .header-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;object-fit:cover}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]   .header-name[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:700}.how-it-works[_ngcontent-%COMP%]{padding-left:1.5rem;padding-top:.5rem}.how-it-works[_ngcontent-%COMP%]   .hiw-title[_ngcontent-%COMP%]{color:var(--color-warning);font-weight:700}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;flex-direction:column}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{font-size:30px;color:var(--color-primary)}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]   .title-text[_ngcontent-%COMP%]{margin:8px 0;font-size:20px;font-weight:700;color:var(--color-primary)}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:2rem;align-items:center;height:100%}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .content-deliver[_ngcontent-%COMP%]{display:flex;justify-content:center;height:auto;width:3px;margin-left:12px;background-color:var(--color-primary)}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .content-deliver[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;height:100%}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .content-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 400px 0 4rem}.content-wrapper[_ngcontent-%COMP%]   .info-wrapper[_ngcontent-%COMP%]   .deliver-line[_ngcontent-%COMP%]{height:2px;width:100%;margin:1.5rem 0;background-color:var(--color-primary)}.order-wrapper[_ngcontent-%COMP%]{background-color:var(--color-bg-body);position:fixed;top:100px;right:50px;border-radius:.3rem;box-shadow:0 2px 5px #0003;z-index:600}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]{width:300px;min-height:500px;max-height:calc(100vh - 100px);padding:20px;overflow-y:auto}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--color-light)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--color-secondary);border-radius:4px;border:2px solid var(--color-light)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;color:#333;font-size:20px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .mess-valid[_ngcontent-%COMP%]{font-size:14px;color:red}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .filter-date-picker[_ngcontent-%COMP%]{z-index:999}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;margin-top:.5rem}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%], .order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   input[type=time][_ngcontent-%COMP%], .order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:4px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:10px 15px;border:none;border-radius:4px;text-decoration:none;margin-top:1rem;text-align:center}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#0056b3}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .deliver-line[_ngcontent-%COMP%]{height:2px;width:100%;margin:1rem 0;background-color:var(--color-secondary)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .p-footer[_ngcontent-%COMP%]{color:var(--color-warning);font-weight:700;margin:0;padding-left:.5rem}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .p-footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--color-text-body)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .sug-foot[_ngcontent-%COMP%]{font-size:13px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .sug-foot[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--color-warning);font-size:18px}.order-wrapper[_ngcontent-%COMP%]   .btn-close-order[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-8px;font-size:30px;color:#000;cursor:pointer;height:30px;width:30px;border-radius:50%;background-color:var(--color-secondary);display:none}.profile-content[_ngcontent-%COMP%]{position:relative;margin-top:6rem}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(9,1fr);column-gap:.3rem;height:500px}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall2[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall4[_ngcontent-%COMP%]{grid-column:span 2;height:500px}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall4[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:.3rem}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-2[_ngcontent-%COMP%]{height:calc(250px - .15rem)}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-2[_ngcontent-%COMP%]{height:calc(250px - .15rem)}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-2[_ngcontent-%COMP%]{height:calc(250px - .15rem)}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .toggle-order-wrapper[_ngcontent-%COMP%]{position:fixed;bottom:5rem;right:1rem;width:40px;height:40px;background-color:var(--color-primary);z-index:999;display:none;font-size:30px;border-radius:50%;padding-top:3.5px;padding-left:5px;color:var(--color-light)}@media (max-width: 991.98px){.order-wrapper[_ngcontent-%COMP%]{display:none}.order-wrapper.show[_ngcontent-%COMP%]{display:block}.toggle-order-wrapper[_ngcontent-%COMP%]{display:block!important}.toggle-order-wrapper.hide[_ngcontent-%COMP%]{display:none!important}.btn-close-order[_ngcontent-%COMP%]{display:block!important}.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 2rem 0!important}}@media (max-width: 767.98px){.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 2rem 0!important}.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]{flex-direction:column;row-gap:2rem}.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .info-wrapper[_ngcontent-%COMP%]   .portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}']}),e})(),qj=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=xt({type:t,selectors:[["app-layout-profile"]],decls:7,vars:0,consts:[[1,"layout-wrapper"],[1,"layout-container"],[1,"content-wrapper"],[1,"content-container"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1),A(2,"app-header"),_(3,"div",2)(4,"div",3),A(5,"router-outlet"),y()(),A(6,"app-footer"),y()())},dependencies:[Jc,RT,xT],styles:[".layout-wrapper[_ngcontent-%COMP%], .layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%], .layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{width:100%}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{width:100%;margin:0 auto}@media (min-width: 1400px){.content-container[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.content-container[_ngcontent-%COMP%]{margin-top:5rem!important}}"]}),e})();function Aue(t,e){1&t&&(_(0,"span",22),w(1,"Vui l\xf2ng nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i h\u1ee3p l\u1ec7."),y())}function Due(t,e){1&t&&(_(0,"span",22),w(1,"Vui l\xf2ng nh\u1eadp email h\u1ee3p l\u1ec7."),y())}function Sue(t,e){1&t&&(_(0,"span",22),w(1,"Vui l\xf2ng nh\u1eadp 6 ky\u0301 t\u01b0\u0323."),y())}function Rue(t,e){if(1&t){const n=$s();_(0,"div",23)(1,"div",24),A(2,"i",25),w(3," B\u1ea1n kh\xf4ng c\xf3 \u1ea3nh tr\u1ea3. "),y(),_(4,"a",26),ie("click",function(){return bi(n),zr(cr().closeError())}),w(5," Th\u1eed l\u1ea1i "),y()()}}let xue=(()=>{var t;class e{constructor(){this.invalidEmail=!1,this.invalidPhone=!1,this.invalidCode=!1,this.isError=!1,this.email="",this.phone="",this.code=""}onChangePhone(r){let i=r.target.value;i=i.replace(/[^0-9]/g,""),this.phone=i,this.validatePhone()}onChangeEmail(r){this.email=r.target.value,this.validateEmail()}onChangeCode(r){this.code=r.target.value,this.validateCode()}onSubmit(){this.validateEmail()&&this.validatePhone()&&this.validateCode()?this.isError=!0:(this.validateEmail(),this.validatePhone(),this.validateCode())}validateEmail(){const i=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(this.email);return this.invalidEmail=!i,i}validatePhone(){const i=/^0[0-9]{9,10}$/.test(this.phone);return this.invalidPhone=!i,i}validateCode(){const r=6===this.code.length;return this.invalidCode=!r,r}closeError(){this.isError=!1}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=xt({type:t,selectors:[["app-refund-picture"]],decls:32,vars:4,consts:[[1,"send-ct-wrapper"],[1,"send-ct-container"],[1,"send-ct-header"],[1,"go-home"],["routerLink","/home",1,"go-home-link"],[1,"bx","bxs-chevron-left"],[1,"brand"],["routerLink","/home",1,"brand-link"],["src","./assets/images/logo2.png","alt","logo",1,"brand-image"],[1,"send-ct-title"],[1,"send-ct-content"],[3,"ngSubmit"],[1,"form-group"],["for","phone"],["type","text","id","phone","name","phone","required","","placeholder","0123456789","appOnlyNumbers","",3,"input"],["class","validate-message",4,"ngIf"],["for","username"],["type","text","id","username","name","username","required","","placeholder","quang@gmail.com",3,"input"],["for","code"],["type","text","id","code","name","code","required","","placeholder","xxxxxx",3,"input"],["type","submit"],["class","error",4,"ngIf"],[1,"validate-message"],[1,"error"],[1,"icon-error-wr"],[1,"bx","bx-error-circle","icon-error"],["href","javascript:void(0)",1,"close-error",3,"click"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),A(5,"i",5),w(6," Trang ch\u1ee7 "),y()(),_(7,"div",6)(8,"a",7),A(9,"img",8),y()(),_(10,"h3",9),w(11," Vui l\xf2ng \u0111i\u1ec1n th\xf4ng tin c\u1ee7a b\u1ea1n. "),y()(),_(12,"div",10)(13,"form",11),ie("ngSubmit",function(){return i.onSubmit()}),_(14,"div",12)(15,"label",13),w(16,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),y(),_(17,"input",14),ie("input",function(s){return i.onChangePhone(s)}),y(),Le(18,Aue,2,0,"span",15),y(),_(19,"div",12)(20,"label",16),w(21,"Email"),y(),_(22,"input",17),ie("input",function(s){return i.onChangeEmail(s)}),y(),Le(23,Due,2,0,"span",15),y(),_(24,"div",12)(25,"label",18),w(26,"Ma\u0303"),y(),_(27,"input",19),ie("input",function(s){return i.onChangeCode(s)}),y(),Le(28,Sue,2,0,"span",15),y(),_(29,"button",20),w(30,"G\u1eedi"),y()()(),Le(31,Rue,6,0,"div",21),y()()),2&r&&(L(18),ce("ngIf",i.invalidPhone),L(5),ce("ngIf",i.invalidEmail),L(5),ce("ngIf",i.invalidCode),L(3),ce("ngIf",i.isError))},dependencies:[vo,qr,P_,__,qu,Wj],styles:[".send-ct-wrapper[_ngcontent-%COMP%]{width:100%;margin:0 auto;min-height:100vh;padding:2rem;background-image:url(/assets/images/banner.jpg);background-size:cover;background-repeat:no-repeat;background-position:center}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]{padding:2rem;border-radius:.5rem;width:700px;margin:auto;min-height:calc(100vh - 4rem);background-color:#ffffffa8;box-shadow:0 0 10px #0000004d;position:relative}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem;position:relative}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{position:absolute;top:0rem;left:0rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]   .go-home-link[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;text-decoration:none;color:var(--color-primary);font-weight:700;position:relative}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .send-ct-title[_ngcontent-%COMP%]{text-align:center;color:var(--color-primary);font-size:32px;font-weight:700}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{display:flex;justify-content:center}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]   .brand-image[_ngcontent-%COMP%]{width:5rem;height:5rem;object-fit:cover}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:15px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:gray;font-weight:600;font-size:18px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 10px;border:2px solid gray;border-radius:5px;background-color:transparent;outline:none}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--color-primary)}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{width:100%;font-size:14px;color:#ff1818}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 auto;margin-top:3rem;display:block;padding:15px 25px;background-color:var(--color-primary);color:#fff;border:none;border-radius:5px;font-size:20px;cursor:pointer}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;background-color:#fff;box-shadow:0 0 10px #0000004d;display:flex;flex-direction:column;justify-content:center;row-gap:5rem;align-items:center;border-radius:.5rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]   .icon-error-wr[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:1rem;justify-content:center;align-items:center;font-weight:700;font-size:25px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]   .icon-error-wr[_ngcontent-%COMP%]   .icon-error[_ngcontent-%COMP%]{font-size:100px;color:red}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]   .close-error[_ngcontent-%COMP%]{text-decoration:none;padding:15px 20px;background-color:var(--color-primary);color:#fff;border:none;border-radius:5px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]   .close-error[_ngcontent-%COMP%]:hover{background-color:#0056b3}@media (max-width: 767.98px){.send-ct-wrapper[_ngcontent-%COMP%]{width:100%!important;padding:1rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]{width:100%;min-height:calc(100vh - 2rem)}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{top:-.5rem;left:-1rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .send-ct-title[_ngcontent-%COMP%]{font-size:26px!important}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{font-size:12px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2rem;padding:10px 15px;font-size:20px!important}}"]}),e})();function kue(t,e){1&t&&(_(0,"div",54)(1,"li"),A(2,"i",55)(3,"i",25)(4,"i",25)(5,"i",25)(6,"i",25),y(),_(7,"li"),A(8,"i",55)(9,"i",55)(10,"i",25)(11,"i",25)(12,"i",25),y(),_(13,"li"),A(14,"i",55)(15,"i",55)(16,"i",55)(17,"i",25)(18,"i",25),y(),_(19,"li"),A(20,"i",55)(21,"i",55)(22,"i",55)(23,"i",55)(24,"i",25),y(),_(25,"li"),A(26,"i",55)(27,"i",55)(28,"i",55)(29,"i",55)(30,"i",55),y()())}let Nue=(()=>{var t;class e{constructor(){this.isShowAskRepair=!1,this.isDropdownOpen=!1}toggleAsk(){this.isShowAskRepair=!this.isShowAskRepair}closeAsk(){this.isShowAskRepair=!1}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=xt({type:t,selectors:[["app-page-picture-refund"]],decls:98,vars:2,consts:[[1,"page-pr-wrapper"],[1,"page-header"],[1,"header-content"],[1,"header-left"],[1,"header-right"],["routerLink","/home"],[1,"page-content"],[1,"btn-control-wrapper"],["href","javascript:void(0)",1,"btn-control","active"],["href","javascript:void(0)",1,"btn-control"],[1,"picture-wrapper"],[1,"picture-content"],[1,"picture-item"],["src","./assets/images/user/Hy vu\xf4ng 2.jpg","alt",""],["src","./assets/images/user/Thanh B\xecnh 3.jpg","alt",""],[1,"link-dow-wrapper"],[1,"link-dow-content"],["href","javascript:void(0)",1,"btn-get-link"],[1,"link-dow-footer"],["href","javascript:void(0)",3,"click"],[1,"review-wrapper"],[1,"review-title"],[1,"review-content"],[1,"review-content-first"],[1,"rating"],[1,"bx","bx-star"],["class","dropdownRate",4,"ngIf"],[1,"comment"],["name","comment","id","","cols","30","rows","5"],[1,"sub-t"],[1,"review-content-second"],["href","javascript:void(0)",1,"btn","btn-hide-inf"],[1,"bx","bx-toggle-left"],["href","javascript:void(0)",1,"btn","btn-submit"],[1,"ask-repair-wrapper",3,"ngClass"],[1,"ask-repair-container"],[1,"ask-repair-content"],[1,"repair-header"],[1,"bx","bx-chevron-left"],[1,"repair-content"],[1,"enter-code-picture"],[1,"ecp-title"],[1,"po-title"],[1,"repair-police"],[1,"ecp-content"],["name","","id","ecp-code","cols","30","rows","10"],[1,"po-content-wr"],[1,"po-content"],[1,"repair-submit"],[1,"rs-left"],[1,"rs-right"],["href","javascript:void(0)",1,"btn-submit-repair"],["href","javascript:void(0)",1,"btn-close-ask",3,"click"],[1,"bx","bx-x"],[1,"dropdownRate"],[1,"bx","bxs-star"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),w(5,"B\u1ed9 s\u01b0u t\u1eadp \u1ea3nh"),y(),_(6,"p"),w(7,"H\xe3y c\xf9ng th\u01b0\u1edfng th\u1ee9c b\u1ee9c h\xecnh tuy\u1ec7t v\u1eddi c\u1ee7a b\u1ea1n!"),y()(),_(8,"div",4)(9,"a",5),w(10,"Trang ch\u1ee7"),y()()()(),_(11,"div",6)(12,"div",7)(13,"a",8),w(14,"23/09/2023"),y(),_(15,"a",9),w(16,"15/09/2023"),y()(),_(17,"div",10)(18,"div",11)(19,"div",12),A(20,"img",13),y(),_(21,"div",12),A(22,"img",14),y(),_(23,"div",12),A(24,"img",13),y(),_(25,"div",12),A(26,"img",14),y(),_(27,"div",12),A(28,"img",13),y()()(),_(29,"div",15)(30,"div",16)(31,"a",17),w(32," Link Download "),y(),_(33,"span"),w(34,"File \u1ea3nh c\xf3 \u0111\u1ecbnh dang JPEG"),y()(),_(35,"div",18)(36,"a",19),ie("click",function(){return i.toggleAsk()}),w(37,"Y\xeau c\u1ea7u s\u1eeda \u1ea3nh"),y()()(),_(38,"div",20)(39,"div",21)(40,"p"),w(41," \u0110\xe1nh gi\xe1 c\u1ee7a b\u1ea1n "),y()(),_(42,"div",22)(43,"div",23)(44,"div",24)(45,"span"),w(46,"Ch\u1ea5t l\u01b0\u1ee3ng: "),y(),_(47,"a",19),ie("click",function(){return i.toggleDropdown()}),A(48,"i",25)(49,"i",25)(50,"i",25)(51,"i",25)(52,"i",25),y(),Le(53,kue,31,0,"div",26),y(),_(54,"div",27)(55,"p"),w(56,"Vi\u1ebft \u0111\xe1nh gi\xe1"),y(),A(57,"textarea",28),y(),_(58,"div",29)(59,"span"),w(60,"T\u1ed1i \u0111a 450 ch\u1eef"),y()()(),_(61,"div",30)(62,"a",31),w(63," \u1ea8n danh "),A(64,"i",32),y(),_(65,"a",33),w(66,"\u0110\u0103ng"),y()()()()(),_(67,"div",34)(68,"div",35)(69,"div",36)(70,"div",37)(71,"h2"),A(72,"i",38),w(73,"Y\xeau c\u1ea7u s\u1eeda \u1ea3nh"),y()(),_(74,"div",39)(75,"div",40)(76,"div",41),w(77,"Nh\u1eadp m\xe3 \u1ea3nh"),y(),_(78,"div",42),w(79," Ch\xednh s\xe1ch y\xeau c\u1ea7u s\u1eeda \u1ea3nh "),y()(),_(80,"div",43)(81,"div",44),A(82,"textarea",45),y(),_(83,"div",46)(84,"div",47)(85,"li"),w(86,"Kh\xe1ch h\xe0ng \u0111i\u1ec1n m\xe3 \u1ea3nh \u0111\u1ed1i v\u1edbi nh\u1eefng b\u1ee9c \u1ea3nh m\xe0 m\xecnh mu\u1ed1n ch\u1ec9nh s\u1eeda"),y(),_(87,"li"),w(88,"S\u1ed1 l\u01b0\u1ee3ng b\u1ee9c \u1ea3nh \u0111\u01b0\u1ee3c s\u1eeda ph\u1ee5 thu\u1ed9c v\xe0o g\xf3i ch\u1ee5p \u1ea3nh \u0111\xe3 th\u1ecfa thu\u1eadn v\u1edbi nhi\u1ebfp \u1ea3nh gia tr\u01b0\u1edbc \u0111\xf3"),y(),_(89,"li"),w(90,"Truy c\u1eadp l\u1ea1i file nh\u1eadn \u1ea3nh \u0111\u1ec3 nh\u1eefng b\u1ee9c \u1ea3nh \u0111\xe3 \u0111\u01b0\u1ee3c ch\u1ec9nh s\u1eeda sau 2-3 ng\xe0y"),y()()()()(),_(91,"div",48),A(92,"div",49),_(93,"div",50)(94,"a",51),w(95,"G\u1eedi y\xeau c\u1ea7u"),y()()(),_(96,"a",52),ie("click",function(){return i.closeAsk()}),A(97,"i",53),y()()()()()),2&r&&(L(53),ce("ngIf",i.isDropdownOpen),L(14),ce("ngClass",i.isShowAskRepair?"active":""))},dependencies:[ms,vo,qr],styles:[".page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{background-color:var(--color-primary);height:140px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;height:100%;padding:0 2rem;margin:0 auto}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{padding-bottom:2rem;display:flex;flex-direction:column;justify-content:flex-end}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:700;color:var(--color-light)}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-light);font-weight:100;margin:.3rem 0 0}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:300;color:var(--color-light);text-decoration:none}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:4rem 2rem;margin:0 auto}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .btn-control-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:.5rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .btn-control-wrapper[_ngcontent-%COMP%]   .btn-control[_ngcontent-%COMP%]{line-height:40px;padding:0 30px;border:2px solid var(--color-primary);border-radius:.3rem;color:#000;background-color:var(--color-light);text-decoration:none}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .btn-control-wrapper[_ngcontent-%COMP%]   .btn-control.active[_ngcontent-%COMP%]{background-color:var(--color-info);border-color:var(--color-info);color:var(--color-light)}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]{padding-top:3.5rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-content[_ngcontent-%COMP%]   .picture-item[_ngcontent-%COMP%]{width:100%}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-content[_ngcontent-%COMP%]   .picture-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .link-dow-wrapper[_ngcontent-%COMP%]{margin-top:3rem;border:2px solid black;border-radius:.3rem;height:250px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .link-dow-wrapper[_ngcontent-%COMP%]   .link-dow-content[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .link-dow-wrapper[_ngcontent-%COMP%]   .link-dow-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{line-height:50px;padding:0 70px;background-color:var(--color-info);border-color:var(--color-info);color:var(--color-light);text-decoration:none;font-size:22px;font-weight:700;border-radius:.2rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .link-dow-wrapper[_ngcontent-%COMP%]   .link-dow-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:1rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .link-dow-wrapper[_ngcontent-%COMP%]   .link-dow-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:.5rem 0}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .link-dow-wrapper[_ngcontent-%COMP%]   .link-dow-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:600}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]{padding:3rem 0}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]{border:2px solid black;border-radius:.3rem;background-color:var(--color-light);height:200px;padding:.3rem 1rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]{position:relative}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-warning)}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]   .dropdownRate[_ngcontent-%COMP%]{position:absolute;left:5rem;background-color:var(--color-light);border-radius:.3rem;box-shadow:0 0 .5rem;padding:0 5px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]   .dropdownRate[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:30px;list-style:none;color:var(--color-warning);cursor:pointer;display:block}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:4px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;border:none;outline:none}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--color-light)}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--color-secondary);border-radius:4px;border:2px solid var(--color-light)}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .sub-t[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;font-size:14px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-second[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:1rem;column-gap:1rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-second[_ngcontent-%COMP%]   .btn-hide-inf[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;text-decoration:none;color:var(--color-text-body)}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-second[_ngcontent-%COMP%]   .btn-hide-inf[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:.3rem;font-size:40px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-second[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]{line-height:40px;background-color:var(--color-primary);color:var(--color-light);border-radius:.3rem;padding:0 25px;text-decoration:none}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;z-index:900}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;justify-content:center;align-items:center;position:relative}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]{height:80%;width:80%;min-height:400px;overflow-y:auto;margin:auto;background-color:var(--color-light);position:absolute;transform:translateY(-200%)}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-header[_ngcontent-%COMP%]{background-color:var(--color-primary);height:120px;display:flex;justify-content:flex-start;align-items:flex-end;padding:1rem 2rem}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:var(--color-light);font-weight:500;display:flex;align-items:center}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:50px}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]{padding:2rem 3rem}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .enter-code-picture[_ngcontent-%COMP%]{display:grid;column-gap:1rem;grid-template-columns:repeat(2,1fr);margin-bottom:1.5rem}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .enter-code-picture[_ngcontent-%COMP%]   .ecp-title[_ngcontent-%COMP%], .page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .enter-code-picture[_ngcontent-%COMP%]   .po-title[_ngcontent-%COMP%]{grid-column:span 1}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .repair-police[_ngcontent-%COMP%]{display:grid;column-gap:1rem;grid-template-columns:repeat(2,1fr)}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .repair-police[_ngcontent-%COMP%]   .ecp-content[_ngcontent-%COMP%]{grid-column:span 1;width:100%;height:100%}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .repair-police[_ngcontent-%COMP%]   .ecp-content[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:100%;width:100%;outline:none;border:2px solid var(--color-secondary);padding:.5rem}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .repair-police[_ngcontent-%COMP%]   .po-content-wr[_ngcontent-%COMP%]{grid-column:span 1;padding:1rem;display:flex;justify-content:center;align-items:center;background-color:var(--color-secondary);height:100%}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-submit[_ngcontent-%COMP%]{padding:0 3rem;margin-bottom:3rem;display:flex;justify-content:space-between}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-submit[_ngcontent-%COMP%]   .rs-right[_ngcontent-%COMP%]{width:calc(50% - .5rem);height:40px;display:flex}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-submit[_ngcontent-%COMP%]   .rs-right[_ngcontent-%COMP%]   .btn-submit-repair[_ngcontent-%COMP%]{border-radius:.3rem;height:100%;background-color:var(--color-primary);color:var(--color-light);width:100%;text-align:center;text-decoration:none;line-height:40px}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .btn-close-ask[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;color:var(--color-light);font-weight:700;font-size:28px;width:25px;height:25px;border-radius:50%;display:flex;justify-content:center;align-items:center;text-decoration:none}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .btn-close-ask[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary);color:#000;transform:rotate(35deg)}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper.active[_ngcontent-%COMP%]{display:block}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper.active[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]{transform:translateY(0)}@media (min-width: 1400px){.header-content[_ngcontent-%COMP%], .page-content[_ngcontent-%COMP%], .ask-repair-content[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.page-pr-wrapper[_ngcontent-%COMP%]   .picture-content[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}"]}),e})();const Fue=["iconToggle"],Lue=["searchInput"],Vue=["searchBarToggle"],Uue=["navSearch"];function Bue(t,e){1&t&&(_(0,"div",34)(1,"p"),w(2,"hk"),y(),_(3,"p"),w(4,"hk"),y(),_(5,"p"),w(6,"hk"),y(),_(7,"p"),w(8,"hk"),y()())}const jue=function(t){return{"search-bar-block":t}};let Kj=(()=>{var t;class e{constructor(r){this.eventService=r,this.isShowSearchBar=!1,this.isMenuVisible=!1,this.inputValue="",this.toggleSuggest=!1}showMenu(){this.isMenuVisible=!0,this.eventService.emitEvent("showMenuFromNavbar",this.isMenuVisible)}toggleSearch(){this.isShowSearchBar=!this.isShowSearchBar,this.isShowSearchBar&&setTimeout(()=>{this.searchInput.nativeElement.focus()}),this.inputValue="",this.toggleSuggest=!1,this.eventService.emitEvent("toggleSuggestSearch",this.toggleSuggest)}onInputChange(r){this.inputValue=r.target.value,this.toggleSuggest=""!==this.inputValue.trim(),this.eventService.emitEvent("toggleSuggestSearch",this.toggleSuggest)}closeDropdown(r){!this.searchBarToggle.nativeElement.contains(r.target)&&!this.navSearch.nativeElement.contains(r.target)&&this.isShowSearchBar&&(this.toggleSuggest=!1,this.inputValue="",this.isShowSearchBar=!1,this.eventService.emitEvent("toggleSuggestSearch",this.toggleSuggest))}}return(t=e).\u0275fac=function(r){return new(r||t)(X(Q0))},t.\u0275cmp=xt({type:t,selectors:[["app-navbar-admin"]],viewQuery:function(r,i){if(1&r&&(Yn(Fue,5),Yn(Lue,5),Yn(Vue,5),Yn(Uue,5)),2&r){let o;Bn(o=jn())&&(i.iconToggle=o.first),Bn(o=jn())&&(i.searchInput=o.first),Bn(o=jn())&&(i.searchBarToggle=o.first),Bn(o=jn())&&(i.navSearch=o.first)}},hostBindings:function(r,i){1&r&&ie("click",function(s){return i.closeDropdown(s)},0,Eu)},decls:39,vars:5,consts:[[1,"navbar-container"],[1,"toggle-menu"],[1,"toggle-icon"],["href","javascript:void(0)",1,"toggle-link","nav-link",3,"click"],["iconToggle",""],[1,"bx","bx-menu","bx-sm"],[1,"navbar-content"],[1,"nav-left"],[1,"nav-search-wrapper"],["navSearch",""],[1,"nav-search-icon"],["href","javascript:void(0)",1,"search-link","nav-link",3,"click"],[1,"bx","bx-search","bx-sm"],[1,"search-placeholder"],[1,"nav-right"],[1,"language","language-dropdown","nav-item"],["href","javascript:void(0)",1,"nav-link"],[1,"bx","bx-globe","bx-sm"],[1,"nav-item"],[1,"bx","bx-grid-alt","bx-sm"],[1,"bx","bx-bell","bx-sm"],[1,"badge-notifications"],[1,"nav-item","navbar-dropdown","dropdown-user","dropdown"],["href","javascript:void(0);","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle","hide-arrow"],[1,"avatar","avatar-online"],["src","./assets/images/avatar.png","alt","",1,"w-px-40","h-auto","rounded-circle"],[1,"search-toggle",3,"ngClass"],["searchBarToggle",""],[1,"search-toggle-content"],["type","text","id","ip","placeholder","Search...",3,"value","input"],["searchInput",""],["href","javascript:void(0)",1,"nav-link","search-close",3,"click"],[1,"bx","bx-x","bx-sm"],["class","search-suggest",4,"ngIf"],[1,"search-suggest"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3,4),ie("click",function(){return i.showMenu()}),A(5,"i",5),y()()(),_(6,"div",6)(7,"div",7)(8,"div",8,9)(10,"div",10)(11,"a",11),ie("click",function(){return i.toggleSearch()}),A(12,"i",12),_(13,"span",13),w(14,"Search (Ctrl+/)"),y()()()()(),_(15,"div",14)(16,"li",15)(17,"a",16),A(18,"i",17),y()(),_(19,"li",18)(20,"a",16),A(21,"i",19),y()(),_(22,"li",18)(23,"a",16),A(24,"i",20),_(25,"span",21),w(26,"5"),y()()(),_(27,"li",22)(28,"a",23)(29,"div",24),A(30,"img",25),y()()()()(),_(31,"div",26,27)(33,"div",28)(34,"input",29,30),ie("input",function(s){return i.onInputChange(s)}),y(),_(36,"a",31),ie("click",function(){return i.toggleSearch()}),A(37,"i",32),y(),Le(38,Bue,9,0,"div",33),y()()()),2&r&&(L(31),ce("ngClass",mo(3,jue,i.isShowSearchBar)),L(3),ce("value",i.inputValue),L(4),ce("ngIf",i.toggleSuggest))},dependencies:[ms,vo],styles:['.nav-link[_ngcontent-%COMP%]{padding:.5rem 0;display:flex;align-items:center;text-decoration:none;color:#697a8d}.nav-item[_ngcontent-%COMP%]{list-style-type:none}.search-bar-block[_ngcontent-%COMP%]{display:block!important;opacity:1;transform:translateY(0)}.navbar-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center}.navbar-container[_ngcontent-%COMP%]   i.bx[_ngcontent-%COMP%]{padding-top:.125rem}.navbar-container[_ngcontent-%COMP%]   .toggle-menu[_ngcontent-%COMP%]{margin-right:1.2rem}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]{display:flex;flex-basis:100%}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-left[_ngcontent-%COMP%]{display:flex;align-items:center}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-left[_ngcontent-%COMP%]   .search-placeholder[_ngcontent-%COMP%]{display:none;text-wrap:nowrap;color:#a1acb8!important;opacity:1;padding-left:.25rem}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:auto!important}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{margin-right:1rem;position:relative}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .badge-notifications[_ngcontent-%COMP%]{border-radius:100%;position:absolute;top:3px;right:-7px;background-color:var(--bs-red);width:1.1rem;height:1.1rem;color:var(--bs-white);font-size:10px;display:flex;justify-content:center;align-items:center;font-weight:700}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%]   li.dropdown-user[_ngcontent-%COMP%]{margin-right:0}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%]   li.dropdown-user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:2.375rem;height:2.375rem;position:relative}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%]   li.dropdown-user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;border-radius:50%}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%]   li.dropdown-user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]:after{content:"";width:8px;height:8px;position:absolute;right:3px;bottom:0;background-color:var(--bs-success);border-radius:50%}.navbar-container[_ngcontent-%COMP%]   .search-toggle[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:var(--bs-white);padding-left:1.5rem;padding-right:.5rem;border-radius:.375rem;box-shadow:0 0 .375rem .25rem #a1acb826;display:none}.navbar-container[_ngcontent-%COMP%]   .search-toggle[_ngcontent-%COMP%]   .search-toggle-content[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%}.navbar-container[_ngcontent-%COMP%]   .search-toggle[_ngcontent-%COMP%]   .search-toggle-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:0!important;outline:none!important;font-family:var(--bs-body-font-family);font-size:var(--bs-body-font-size);font-weight:var(--bs-body-font-weight);color:var(--bs-body-color);opacity:1}.navbar-container[_ngcontent-%COMP%]   .search-toggle[_ngcontent-%COMP%]   .search-toggle-content[_ngcontent-%COMP%]   .search-close[_ngcontent-%COMP%]{margin-left:auto;margin-right:.5rem}.navbar-container[_ngcontent-%COMP%]   .search-toggle[_ngcontent-%COMP%]   .search-toggle-content[_ngcontent-%COMP%]   .search-suggest[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 3px);left:0;right:0;background-color:var(--bs-white);border-radius:.375rem;box-shadow:0 0 .375rem .25rem #a1acb826}@media (min-width: 1200px){.navbar-container[_ngcontent-%COMP%]   .toggle-menu[_ngcontent-%COMP%]{display:none}}@media (min-width: 768px){.search-placeholder[_ngcontent-%COMP%]{display:inline-block!important}}']}),e})(),$ue=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=xt({type:t,selectors:[["app-footer-admin"]],decls:2,vars:0,template:function(r,i){1&r&&(_(0,"p"),w(1,"footer-admin works!"),y())}}),e})(),Hue=(()=>{var t;class e{constructor(r){this.eventService=r,this.isShow=!1}toggleMenuDropdown(){this.isShow=!this.isShow}hideMenu(){this.eventService.emitEvent("hideMenuFromIconClose",!1)}}return(t=e).\u0275fac=function(r){return new(r||t)(X(Q0))},t.\u0275cmp=xt({type:t,selectors:[["app-menu-admin"]],decls:38,vars:1,consts:[[1,"layout-menu"],[1,"brand-wrapper"],["routerLink","/admin/home",1,"brand-link"],["src","./assets/images/logo2.png","alt","logo",1,"brand-img"],[1,"brand-text"],["href","javascript:void(0)",1,"btn-close-menu",3,"click"],[1,"bx","bx-chevron-left","bx-sm","align-middle"],[1,"menu-container"],[1,"menu-content"],[1,"menu-list"],[1,"menu-item"],["routerLink","/admin/home",1,"menu-link"],[1,"menu-icon","bx","bx-home-circle"],[1,"text-truncate"],[1,"menu-item","menu-dropdown",3,"ngClass","click"],["href","javascript:void(0)",1,"menu-link"],[1,"menu-icon","bx","bx-list-ul"],[1,"menu-dropdown-list"],[1,"menu-dropdown-item"],["routerLink","/admin/order",1,"menu-dropdown-link"],[1,"menu-icon","bx","bxs-circle"],["routerLink","/admin/order-accept",1,"menu-dropdown-link"],["routerLink","",1,"menu-link"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"a",2),A(3,"img",3),_(4,"span",4),w(5,"PhotoHub"),y()(),_(6,"a",5),ie("click",function(){return i.hideMenu()}),A(7,"i",6),y()(),_(8,"div",7)(9,"div",8)(10,"ul",9)(11,"li",10)(12,"a",11),A(13,"i",12),_(14,"div",13),w(15,"Trang ch\u1ee7"),y()()(),_(16,"li",14),ie("click",function(){return i.toggleMenuDropdown()}),_(17,"a",15),A(18,"i",16),_(19,"div",13),w(20,"Qu\u1ea3n l\xfd booking"),y()(),_(21,"ul",17)(22,"li",18)(23,"a",19),A(24,"i",20),_(25,"div",13),w(26,"Danh s\xe1ch booking"),y()()(),_(27,"li",18)(28,"a",21),A(29,"i",20),_(30,"div",13),w(31,"Duy\u1ec7t booking"),y()()()()(),_(32,"li",10),A(33,"a",22),y(),_(34,"li",10),A(35,"a",22),y(),_(36,"li",10),A(37,"a",22),y()()()()()),2&r&&(L(16),ce("ngClass",i.isShow?"show":""))},dependencies:[ms,qr],styles:['.layout-menu[_ngcontent-%COMP%]{width:100%;position:relative}.layout-menu[_ngcontent-%COMP%]   .brand-wrapper[_ngcontent-%COMP%]{position:relative;padding:0 2rem;display:flex;align-items:center;margin-top:2rem;margin-bottom:1rem}.layout-menu[_ngcontent-%COMP%]   .brand-wrapper[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]{color:#566a7f;text-decoration:none;display:flex;align-items:center}.layout-menu[_ngcontent-%COMP%]   .brand-wrapper[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]   .brand-img[_ngcontent-%COMP%]{height:40px;width:40px;object-fit:cover;border-radius:50%}.layout-menu[_ngcontent-%COMP%]   .brand-wrapper[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]   .brand-text[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700!important;opacity:1;margin-left:.75rem}.layout-menu[_ngcontent-%COMP%]   .brand-wrapper[_ngcontent-%COMP%]   .btn-close-menu[_ngcontent-%COMP%]{position:absolute;right:-10px;background-color:var(--bs-dark);color:var(--bs-white);font-weight:700;border-radius:50%;width:26px;height:26px}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]{margin:0;padding:0}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{display:block}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]{display:block;margin:0 1rem;padding:0 1rem;line-height:2.5rem;text-decoration:none;color:var(--bs-body-color);font-weight:600;display:flex;justify-content:flex-start;align-items:center}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{width:1.5rem;flex-grow:0;flex-shrink:0;margin-right:.5rem;font-size:1.25rem}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]{margin:0;padding:0;display:none}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-item[_ngcontent-%COMP%]{display:block}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-item[_ngcontent-%COMP%]   .menu-dropdown-link[_ngcontent-%COMP%]{position:relative;display:block;margin:0 1rem;padding:0 1rem 0 2rem;line-height:2.5rem;text-decoration:none;color:var(--bs-body-color);font-weight:600;display:flex;justify-content:flex-start;align-items:center}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-item[_ngcontent-%COMP%]   .menu-dropdown-link[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{width:1.5rem;flex-grow:0;flex-shrink:0;margin-right:.5rem;font-size:.75rem}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-link[_ngcontent-%COMP%]{padding-left:3rem}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-link[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{font-size:.5rem}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item.menu-dropdown[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]{position:relative}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item.menu-dropdown[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;display:block;width:.42em;height:.42em;border:1px solid;border-bottom:0;right:.5rem;border-left:0;transform:translateY(-50%) rotate(45deg)}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown-item.menu-dropdown[_ngcontent-%COMP%] > .menu-dropdown-link[_ngcontent-%COMP%]{position:relative}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown-item.menu-dropdown[_ngcontent-%COMP%] > .menu-dropdown-link[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;display:block;width:.42em;height:.42em;border:1px solid;border-bottom:0;right:.5rem;border-left:0;transform:translateY(-50%) rotate(45deg)}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown.show[_ngcontent-%COMP%] > .menu-dropdown-list[_ngcontent-%COMP%]{display:block!important}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown.show[_ngcontent-%COMP%] > .menu-link[_ngcontent-%COMP%]:after{transform:translateY(-50%) rotate(135deg)!important}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown.show[_ngcontent-%COMP%] > .menu-dropdown-link[_ngcontent-%COMP%]:after{transform:translateY(-50%) rotate(135deg)!important}@media (max-width: 1199.98px){.brand-wrapper[_ngcontent-%COMP%]:before{content:"";position:absolute;right:-16px;width:38px;height:38px;background-color:var(--bs-body-bg);border-radius:50%}}@media (min-width: 1200px){.brand-wrapper[_ngcontent-%COMP%]   .btn-close-menu[_ngcontent-%COMP%]{display:none!important}}']}),e})();const zue=["layoutMenu"],Gue=function(t){return{"layout-menu-toggle":t}},Wue=function(t,e){return{"layout-overlay-toggle":t,"layout-overlay-increase-zindex":e}};let que=(()=>{var t;class e{constructor(r){this.eventService=r,this.isShowOverlay=!1,this.isShowMenu=!1}ngOnInit(){this.eventService.registerEvent("toggleSuggestSearch").subscribe(r=>{this.isShowOverlay=r}),this.eventService.registerEvent("showMenuFromNavbar").subscribe(r=>{this.isShowMenu=r,this.isShowOverlay=r}),this.eventService.registerEvent("hideMenuFromIconClose").subscribe(r=>{this.isShowMenu=r,this.isShowOverlay=r})}closeDropdown(r){const i=this.navbar?.iconToggle.nativeElement;!this.layoutMenu.nativeElement.contains(r.target)&&!i.contains(r.target)&&this.isShowMenu&&(this.isShowMenu=!1,this.isShowOverlay=!1)}}return(t=e).\u0275fac=function(r){return new(r||t)(X(Q0))},t.\u0275cmp=xt({type:t,selectors:[["app-layout-admin"]],viewQuery:function(r,i){if(1&r&&(Yn(Kj,5),Yn(zue,5)),2&r){let o;Bn(o=jn())&&(i.navbar=o.first),Bn(o=jn())&&(i.layoutMenu=o.first)}},hostBindings:function(r,i){1&r&&ie("click",function(s){return i.closeDropdown(s)},0,Eu)},decls:14,vars:7,consts:[[1,"layout-wrapper"],[1,"layout-container"],[1,"layout-menu",3,"ngClass"],["layoutMenu",""],[1,"layout-page"],[1,"layout-navbar"],[1,"content-wrapper"],[1,"content-container"],[1,"layout-footer"],[1,"layout-overlay",3,"ngClass"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div",2,3),A(4,"app-menu-admin"),y(),_(5,"div",4)(6,"div",5),A(7,"app-navbar-admin"),y(),_(8,"div",6)(9,"div",7),A(10,"router-outlet"),y(),_(11,"div",8),A(12,"app-footer-admin"),y()()()(),A(13,"div",9),y()),2&r&&(L(2),ce("ngClass",mo(2,Gue,i.isShowMenu)),L(11),ce("ngClass",XL(4,Wue,i.isShowOverlay,i.isShowMenu)))},dependencies:[ms,Jc,$ue,Hue,Kj],styles:["[_ngcontent-%COMP%]:root{font-size:var(--bs-root-font-size)}@media (prefers-reduced-motion: no-preference){[_ngcontent-%COMP%]:root{scroll-behavior:smooth}}body[_ngcontent-%COMP%]{margin:0;font-family:var(--bs-body-font-family);font-size:var(--bs-body-font-size);font-weight:var(--bs-body-font-weight);line-height:var(--bs-body-line-height);color:var(--bs-body-color);text-align:var(--bs-body-text-align);background-color:var(--bs-body-bg);-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(67,89,113,0)}.bg-light[_ngcontent-%COMP%]{background-color:var(--bs-white)}.layout-overlay-toggle[_ngcontent-%COMP%]{display:block!important}.layout-overlay-increase-zindex[_ngcontent-%COMP%]{z-index:1050!important}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]{display:flex;align-items:stretch}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-menu[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;width:16.25rem;background-color:var(--bs-white);box-shadow:0 .125rem .375rem #a1acb81f;z-index:1080}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]{width:100%;padding:4.625rem 0 0}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]   .layout-navbar[_ngcontent-%COMP%]{position:fixed;top:0;right:0;left:16.25rem;padding:0 1.5rem;margin:.75rem auto 0;width:calc(100% - 19.5rem);height:3.875rem;background-color:var(--bs-white);border-radius:.375rem;box-shadow:0 0 .375rem .25rem #a1acb826;z-index:1024}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding-left:16.25rem;margin-top:0}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{min-height:calc(100vh - 4.625rem);margin:0 auto;padding:1.675rem 1.675rem 0}.layout-wrapper[_ngcontent-%COMP%]   .layout-overlay[_ngcontent-%COMP%]{position:fixed;top:0;right:0;height:100%!important;left:0;display:none;background:#435971;opacity:.5;cursor:pointer;z-index:999}@media (max-width: 1199.98px){.layout-menu-toggle[_ngcontent-%COMP%]{transform:translateZ(0)!important}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-menu[_ngcontent-%COMP%]{position:fixed!important;top:0;left:0;transition:transform .5s ease;transform:translate3d(-200%,0,0);will-change:transform -webkit-transform}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]{width:100%}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]   .layout-navbar[_ngcontent-%COMP%]{left:0;width:calc(100% - 3.25rem)}}@media (min-width: 1400px){.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]   .layout-navbar[_ngcontent-%COMP%]{max-width:calc(1440px - 3.35rem)}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{max-width:1440px}}"]}),e})();function I_(t){return(I_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Fe(t,e,n){return(e=function Zue(t){var e=function Kue(t,e){if("object"!==I_(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==I_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===I_(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Que extends Pt{constructor(e,n){super()}schedule(e,n=0){return this}}const Y0={setInterval(t,e,...n){const{delegate:r}=Y0;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Y0;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class Zj extends Que{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Y0.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Y0.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,$e(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const NT={now:()=>(NT.delegate||Date).now(),delegate:void 0};class O_{constructor(e,n=O_.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}O_.now=NT.now;class Qj extends O_{constructor(e,n=O_.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Jue=new class Xue extends Qj{}(class Yue extends Zj{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),X0=new Qj(Zj),_l=new Ah("ANGULARFIRE2_VERSION");const FT=(t,e)=>{const n=e?[e]:(0,Je.getApps)(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};class b_{constructor(){return FT(ede)}}const ede="app-check";function Tf(){}class Xj{constructor(e,n=Jue){Fe(this,"zone",void 0),Fe(this,"delegate",void 0),this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class tde{constructor(e){Fe(this,"zone",void 0),Fe(this,"task",null),this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Tf,{},Tf,Tf)),n.pipe(Sn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Af=(()=>{var t;class e{constructor(r){Fe(this,"ngZone",void 0),Fe(this,"outsideAngular",void 0),Fe(this,"insideAngular",void 0),this.ngZone=r,this.outsideAngular=r.runOutsideAngular(()=>new Xj(Zone.current)),this.insideAngular=r.run(()=>new Xj(Zone.current,X0)),globalThis.\u0275AngularFireScheduler||=this}}return t=e,Fe(e,"\u0275fac",function(r){return new(r||t)(ee(Tt))}),Fe(e,"\u0275prov",be({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();function Df(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Zu(t){return Df().ngZone.run(()=>t())}function Jj(t){return t.pipe(_r(Df().outsideAngular))}function er(t){return function rde(t){return function(n){return(n=n.lift(new tde(t.ngZone))).pipe(Br(t.outsideAngular),_r(t.insideAngular))}}(Df())(t)}const ide=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Zu(()=>t.apply(void 0,r))},ode=(t,e)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(n||=Zu(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Tf,{},Tf,Tf))),r[o]=ide(r[o],n));const i=function nde(t){return Df().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof st){const o=Df();return i.pipe(Br(o.outsideAngular),_r(o.insideAngular))}return Zu(()=>i)}return i instanceof st?i.pipe(er):i instanceof Promise?Zu(()=>new Promise((o,s)=>i.then(a=>Zu(()=>o(a)),a=>Zu(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Zu(()=>i)};var Xo=qe(106);Xo.Z.registerVersion("firebase","10.5.2","app-compat");const lde=["ngOnDestroy"];class e9{constructor(e){return e}}const Sf=new pe("angularfire2.app.options"),Rf=new pe("angularfire2.app.name");function T_(t,e,n){const i="object"==typeof n&&n||{};i.name=i.name||"string"==typeof n&&n||"[DEFAULT]";const s=Xo.Z.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>Xo.Z.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){const a=!!module.hot;hde("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new e9(s)}const hde=(t,...e)=>{},fde={provide:e9,useFactory:T_,deps:[Sf,Tt,[new f,Rf]]};let pde=(()=>{var t;class e{static initializeApp(r,i){return{ngModule:e,providers:[{provide:Sf,useValue:r},{provide:Rf,useValue:i}]}}constructor(r){Xo.Z.registerVersion("angularfire",_l.full,"core"),Xo.Z.registerVersion("angularfire",_l.full,"app-compat"),Xo.Z.registerVersion("angular",BI.full,r.toString())}}return t=e,Fe(e,"\u0275fac",function(r){return new(r||t)(ee(po))}),Fe(e,"\u0275mod",Vn({type:t})),Fe(e,"\u0275inj",Zn({providers:[fde]})),e})();function J0(t,e,n,r,i){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return function gde(t,e){try{return t.toString()===e.toString()}catch{return t===e}}(i,s)||(t9("error",`${e} was already initialized on the ${n} Firebase App with different settings.${mde?" You may need to reload as Firebase is not HMR aware.":""}`),t9("warn",{is:i,was:s})),o;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}const mde=typeof module<"u"&&!!module.hot,t9=(t,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[];const n9="firebasestorage.googleapis.com",r9="storageBucket";class xn extends M.ZR{constructor(e,n,r=0){super(LT(e),`Firebase Storage: ${n} (${LT(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return LT(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var On=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(On||{});function LT(t){return"storage/"+t}function VT(){return new xn(On.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function i9(){return new xn(On.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function o9(){return new xn(On.CANCELED,"User canceled the upload/download.")}function s9(){return new xn(On.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function xf(t){return new xn(On.INVALID_ARGUMENT,t)}function a9(){return new xn(On.APP_DELETED,"The Firebase app was deleted.")}function c9(t){return new xn(On.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function A_(t,e){return new xn(On.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function D_(t){throw new xn(On.INTERNAL_ERROR,"Internal error: "+t)}class fi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=fi.makeFromUrl(e,n)}catch{return new fi(e,"")}if(""===r.path)return r;throw function Ode(t){return new xn(On.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function l($){$.path_=decodeURIComponent($.path)}const p=n.replace(/[.]/g,"\\."),z=[{regex:a,indices:{bucket:1,path:3},postModify:function o($){"/"===$.path.charAt($.path.length-1)&&($.path_=$.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${p}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:l},{regex:new RegExp(`^https?://${n===n9?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:l}];for(let $=0;$<z.length;$++){const fe=z[$],Ie=fe.regex.exec(e);if(Ie){let Zt=Ie[fe.indices.path];Zt||(Zt=""),r=new fi(Ie[fe.indices.bucket],Zt),fe.postModify(r);break}}if(null==r)throw function Ide(t){return new xn(On.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r}}class Sde{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function eP(t){return"string"==typeof t||t instanceof String}function l9(t){return UT()&&t instanceof Blob}function UT(){return typeof Blob<"u"&&!(0,M.UG)()}function BT(t,e,n,r){if(r<e)throw xf(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw xf(`Invalid value for '${t}'. Expected ${n} or less.`)}function qa(t,e,n){let r=e;return null==n&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function u9(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}var kf=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(kf||{});function d9(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),o=-1!==e.indexOf(t);return n||i||o}class Lde{constructor(e,n,r,i,o,s,a,c,l,h,p,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=h,this.connectionFactory_=p,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,E)=>{this.resolve_=v,this.reject_=E,this.start_()})}start_(){const n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());!function kde(t){return void 0!==t}(c)?o():o(c)}catch(c){s(c)}else if(null!==a){const c=VT();c.serverResponse=a.getErrorText(),s(this.errorCallback_?this.errorCallback_(a,c):c)}else s(i.canceled?this.appDelete_?a9():o9():i9())};this.canceled_?n(0,new tP(!1,null,!0)):this.backoffId_=function Rde(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function c(){return 2===a}let l=!1;function h(...b){l||(l=!0,e.apply(null,b))}function p(b){i=setTimeout(()=>{i=null,t(v,c())},b)}function m(){o&&clearTimeout(o)}function v(b,...F){if(l)return void m();if(b)return m(),void h.call(null,b,...F);if(c()||s)return m(),void h.call(null,b,...F);let z;r<64&&(r*=2),1===a?(a=2,z=0):z=1e3*(r+Math.random()),p(z)}let E=!1;function O(b){E||(E=!0,m(),!l&&(null!==i?(b||(a=2),clearTimeout(i),p(0)):b||(a=1)))}return p(0),o=setTimeout(()=>{s=!0,O(!0)},n),O}((r,i)=>{if(i)return void r(!1,new tP(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===kf.NO_ERROR,c=o.getStatus();if(!a||d9(c,this.additionalRetryCodes_)&&this.retry){const h=o.getErrorCode()===kf.ABORT;return void r(!1,new tP(!1,null,h))}const l=-1!==this.successCodes_.indexOf(c);r(!0,new tP(l,o))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function xde(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class tP{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function zde(...t){const e=function Hde(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}if(UT())return new Blob(t);throw new xn(On.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Po={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class jT{constructor(e,n){this.data=e,this.contentType=n||null}}function $T(t,e){switch(t){case Po.RAW:return new jT(h9(e));case Po.BASE64:case Po.BASE64URL:return new jT(f9(t,e));case Po.DATA_URL:return new jT(function Kde(t){const e=new p9(t);return e.base64?f9(Po.BASE64,e.rest):function qde(t){let e;try{e=decodeURIComponent(t)}catch{throw A_(Po.DATA_URL,"Malformed data URL.")}return h9(e)}(e.rest)}(e),function Zde(t){return new p9(t).contentType}(e))}throw VT()}function h9(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?n<t.length-1&&56320==(64512&t.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function f9(t,e){switch(t){case Po.BASE64:{const i=-1!==e.indexOf("-"),o=-1!==e.indexOf("_");if(i||o)throw A_(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Po.BASE64URL:{const i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw A_(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function Wde(t){if(typeof atob>"u")throw function Dde(t){return new xn(On.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(t)}(e)}catch(i){throw i.message.includes("polyfill")?i:A_(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class p9{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(null===n)throw A_(Po.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;null!=r&&(this.base64=function Qde(t,e){return t.length>=e.length&&t.substring(t.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Js{constructor(e,n){let r=0,i="";l9(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(l9(this.data_)){const i=function Gde(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===i?null:new Js(i)}{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Js(r,!0)}}static getBlob(...e){if(UT()){const n=e.map(r=>r instanceof Js?r.data_:r);return new Js(zde.apply(null,n))}{const n=e.map(s=>eP(s)?$T(Po.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new Js(i,!0)}}uploadData(){return this.data_}}function HT(t){let e;try{e=JSON.parse(t)}catch{return null}return function Fde(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function g9(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Jde(t,e){return e}class Fi{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Jde}}let nP=null;function S_(){if(nP)return nP;const t=[];t.push(new Fi("bucket")),t.push(new Fi("generation")),t.push(new Fi("metageneration")),t.push(new Fi("name","fullPath",!0));const n=new Fi("name");n.xform=function e(o,s){return function ehe(t){return!eP(t)||t.length<2?t:g9(t)}(s)},t.push(n);const i=new Fi("size");return i.xform=function r(o,s){return void 0!==s?Number(s):s},t.push(i),t.push(new Fi("timeCreated")),t.push(new Fi("updated")),t.push(new Fi("md5Hash",null,!0)),t.push(new Fi("cacheControl",null,!0)),t.push(new Fi("contentDisposition",null,!0)),t.push(new Fi("contentEncoding",null,!0)),t.push(new Fi("contentLanguage",null,!0)),t.push(new Fi("contentType",null,!0)),t.push(new Fi("metadata","customMetadata",!0)),nP=t,nP}function m9(t,e,n){const r=HT(e);return null===r?null:function nhe(t,e,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return function the(t,e){Object.defineProperty(t,"ref",{get:function n(){const o=new fi(t.bucket,t.fullPath);return e._makeStorageReference(o)}})}(r,t),r}(t,r,n)}function zT(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}const _9="prefixes",y9="items";class ea{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ta(t){if(!t)throw VT()}function rP(t,e){return function n(r,i){const o=m9(t,i,e);return ta(null!==o),o}}function Nf(t){return function e(n,r){let i;return i=401===n.getStatus()?n.getErrorText().includes("Firebase App Check token is invalid")?function Ede(){return new xn(On.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Pde(){return new xn(On.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===n.getStatus()?function wde(t){return new xn(On.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(t.bucket):403===n.getStatus()?function Mde(t){return new xn(On.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}(t.path):r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}}function R_(t){const e=Nf(t);return function n(r,i){let o=e(r,i);return 404===r.getStatus()&&(o=function Cde(t){return new xn(On.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}(t.path)),o.serverResponse=i.serverResponse,o}}function v9(t,e,n){const i=qa(e.fullServerUrl(),t.host,t._protocol),s=t.maxOperationRetryTime,a=new ea(i,"GET",rP(t,n),s);return a.errorHandler=R_(e),a}function che(t,e,n,r,i){const o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const a=qa(e.bucketOnlyServerUrl(),t.host,t._protocol),l=t.maxOperationRetryTime,h=new ea(a,"GET",function she(t,e){return function n(r,i){const o=function ohe(t,e,n){const r=HT(n);return null===r?null:function ihe(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[_9])for(const i of n[_9]){const o=i.replace(/\/$/,""),s=t._makeStorageReference(new fi(e,o));r.prefixes.push(s)}if(n[y9])for(const i of n[y9]){const o=t._makeStorageReference(new fi(e,i.name));r.items.push(o)}return r}(t,e,r)}(t,e,i);return ta(null!==o),o}}(t,e.bucket),l);return h.urlParams=o,h.errorHandler=Nf(e),h}function w9(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function hhe(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class iP{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function GT(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{ta(!1)}return ta(!!n&&-1!==(e||["active"]).indexOf(n)),n}const mhe={STATE_CHANGED:"state_changed"},Li={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function WT(t){switch(t){case"running":case"pausing":case"canceling":return Li.RUNNING;case"paused":return Li.PAUSED;case"success":return Li.SUCCESS;case"canceled":return Li.CANCELED;default:return Li.ERROR}}class _he{constructor(e,n,r){if(function Nde(t){return"function"==typeof t}(e)||null!=n||null!=r)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function Ff(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}let M9=null;class yhe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=kf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=kf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=kf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw D_("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),void 0!==i)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw D_("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw D_("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw D_("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw D_("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class vhe extends yhe{initXhr(){this.xhr_.responseType="text"}}function Ms(){return M9?M9():new vhe}class I9{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=S_(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(On.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(d9(i.status,[])){if(!o)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=i9()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(On.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,n)=>{const r=function fhe(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s=w9(e,r,i),a={name:s.fullPath},c=qa(o,t.host,t._protocol),h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},p=zT(s,n),E=new ea(c,"POST",function v(O){let b;GT(O);try{b=O.getResponseHeader("X-Goog-Upload-URL")}catch{ta(!1)}return ta(eP(b)),b},t.maxUploadRetryTime);return E.urlParams=a,E.headers=h,E.body=p,E.errorHandler=Nf(e),E}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ms,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=function phe(t,e,n,r){const c=new ea(n,"POST",function o(l){const h=GT(l,["active","final"]);let p=null;try{p=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ta(!1)}p||ta(!1);const m=Number(p);return ta(!isNaN(m)),new iP(m,r.size(),"final"===h)},t.maxUploadRetryTime);return c.headers={"X-Goog-Upload-Command":"query"},c.errorHandler=Nf(e),c}(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(i,Ms,n,r);this._request=o,o.getPromise().then(s=>{this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,n=new iP(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,o)=>{let s;try{s=function ghe(t,e,n,r,i,o,s,a){const c=new iP(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw function Tde(){return new xn(On.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const l=c.total-c.current;let h=l;i>0&&(h=Math.min(h,i));const p=c.current;let v="";v=0===h?"finalize":l===h?"upload, finalize":"upload";const E={"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":`${c.current}`},O=r.slice(p,p+h);if(null===O)throw s9();const z=new ea(n,"POST",function b($,fe){const Ie=GT($,["active","final"]),at=c.current+h,Zt=r.size();let so;return so="final"===Ie?rP(e,o)($,fe):null,new iP(at,Zt,"final"===Ie,so)},e.maxUploadRetryTime);return z.headers=E,z.body=O.uploadData(),z.progressCallback=a||null,z.errorHandler=Nf(t),z}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(c){return this._error=c,void this._transition("error")}const a=this._ref.storage._makeRequest(s,Ms,i,o,!1);this._request=a,a.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=v9(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Ms,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=function P9(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},c=function a(){let z="";for(let $=0;$<2;$++)z+=Math.random().toString().slice(2);return z}();s["Content-Type"]="multipart/related; boundary="+c;const l=w9(e,r,i),h=zT(l,n),v=Js.getBlob("--"+c+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+h+"\r\n--"+c+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",r,"\r\n--"+c+"--");if(null===v)throw s9();const E={name:l.fullPath},O=qa(o,t.host,t._protocol),F=t.maxUploadRetryTime,x=new ea(O,"POST",rP(t,n),F);return x.urlParams=E,x.headers=s,x.body=v.uploadData(),x.errorHandler=Nf(e),x}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ms,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n="paused"===this._state;this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=o9(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=WT(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const o=new _he(n||void 0,r||void 0,i||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);-1!==n&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(WT(this._state)){case Li.SUCCESS:Ff(this._resolve.bind(null,this.snapshot))();break;case Li.CANCELED:case Li.ERROR:Ff(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(WT(this._state)){case Li.RUNNING:case Li.PAUSED:e.next&&Ff(e.next.bind(e,this.snapshot))();break;case Li.SUCCESS:e.complete&&Ff(e.complete.bind(e))();break;default:e.error&&Ff(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Qu{constructor(e,n){this._service=e,this._location=n instanceof fi?n:fi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Qu(e,n)}get root(){const e=new fi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return g9(this._location.path)}get storage(){return this._service}get parent(){const e=function Yde(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new fi(this._location.bucket,e);return new Qu(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw c9(e)}}function b9(t,e,n){return qT.apply(this,arguments)}function qT(){return(qT=(0,k.Z)(function*(t,e,n){const i=yield T9(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield b9(t,e,i.nextPageToken))})).apply(this,arguments)}function T9(t,e){null!=e&&"number"==typeof e.maxResults&&BT("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=che(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,Ms)}function She(t){t._throwIfRoot("getDownloadURL");const e=function lhe(t,e,n){const i=qa(e.fullServerUrl(),t.host,t._protocol),s=t.maxOperationRetryTime,a=new ea(i,"GET",function ahe(t,e){return function n(r,i){const o=m9(t,i,e);return ta(null!==o),function rhe(t,e,n,r){const i=HT(e);if(null===i||!eP(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map(l=>{const p=t.fullPath;return qa("/b/"+s(t.bucket)+"/o/"+s(p),n,r)+u9({alt:"media",token:l})})[0]}(o,i,t.host,t._protocol)}}(t,n),s);return a.errorHandler=R_(e),a}(t.storage,t._location,S_());return t.storage.makeRequestWithTokens(e,Ms).then(n=>{if(null===n)throw function Ade(){return new xn(On.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return n})}function A9(t,e){const n=function Xde(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new fi(t._location.bucket,n);return new Qu(t.storage,r)}function D9(t,e){if(t instanceof KT){const n=t;if(null==n._bucket)throw function bde(){return new xn(On.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+r9+"' property when initializing the app?")}();const r=new Qu(n,n._bucket);return null!=e?D9(r,e):r}return void 0!==e?A9(t,e):t}function Nhe(t,e){if(e&&function xhe(t){return/^[A-Za-z]+:\/\//.test(t)}(e)){if(t instanceof KT)return function khe(t,e){return new Qu(t,e)}(t,e);throw xf("To use ref(service, url), the first argument must be a Storage instance.")}return D9(t,e)}function S9(t,e){const n=e?.[r9];return null==n?null:fi.makeFromBucketSpec(n,t)}class KT{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=n9,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?fi.makeFromBucketSpec(i,this._host):S9(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?fi.makeFromBucketSpec(this._url,e):S9(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){BT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){BT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,k.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,k.Z)(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Qu(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new Sde(a9());{const s=function $de(t,e,n,r,i,o,s=!0){const a=u9(t.urlParams),c=t.url+a,l=Object.assign({},t.headers);return function Bde(t,e){e&&(t["X-Firebase-GMPID"]=e)}(l,e),function Vde(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(l,n),function Ude(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(l,o),function jde(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(l,r),new Lde(c,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){var r=this;return(0,k.Z)(function*(){const[i,o]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,o).getPromise()})()}}const R9="@firebase/storage";function N9(t,e){return Nhe(t=(0,M.m9)(t),e)}function Ghe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new KT(n,r,i,e,Je.SDK_VERSION)}!function Whe(){(0,Je._registerComponent)(new Co.wA("storage",Ghe,"PUBLIC").setMultipleInstances(!0)),(0,Je.registerVersion)(R9,"0.11.2",""),(0,Je.registerVersion)(R9,"0.11.2","esm2017")}();class oP{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class L9{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new oP(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new oP(r,this,this._ref))},n)}on(e,n,r,i){let o;return n&&(o="function"==typeof n?s=>n(new oP(s,this,this._ref)):{next:n.next?s=>n.next(new oP(s,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,o,r||void 0,i||void 0)}}class V9{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new Ka(e,this._service))}get items(){return this._delegate.items.map(e=>new Ka(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Ka{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=function zhe(t,e){return A9(t,e)}(this._delegate,e);return new Ka(n,this.storage)}get root(){return new Ka(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Ka(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new L9(function Lhe(t,e,n){return function Ohe(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new I9(t,new Js(e),n)}(t=(0,M.m9)(t),e,n)}(this._delegate,e,n),this)}putString(e,n=Po.RAW,r){this._throwIfRoot("putString");const i=$T(n,e),o=Object.assign({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new L9(new I9(this._delegate,new Js(i.data,!0),o),this)}listAll(){return function jhe(t){return function The(t){const e={prefixes:[],items:[]};return b9(t,e).then(()=>e)}(t=(0,M.m9)(t))}(this._delegate).then(e=>new V9(e,this.storage))}list(e){return function Bhe(t,e){return T9(t=(0,M.m9)(t),e)}(this._delegate,e||void 0).then(n=>new V9(n,this.storage))}getMetadata(){return function Vhe(t){return function Ahe(t){t._throwIfRoot("getMetadata");const e=v9(t.storage,t._location,S_());return t.storage.makeRequestWithTokens(e,Ms)}(t=(0,M.m9)(t))}(this._delegate)}updateMetadata(e){return function Uhe(t,e){return function Dhe(t,e){t._throwIfRoot("updateMetadata");const n=function uhe(t,e,n,r){const o=qa(e.fullServerUrl(),t.host,t._protocol),a=zT(n,r),l=t.maxOperationRetryTime,h=new ea(o,"PATCH",rP(t,r),l);return h.headers={"Content-Type":"application/json; charset=utf-8"},h.body=a,h.errorHandler=R_(e),h}(t.storage,t._location,e,S_());return t.storage.makeRequestWithTokens(n,Ms)}(t=(0,M.m9)(t),e)}(this._delegate,e)}getDownloadURL(){return function $he(t){return She(t=(0,M.m9)(t))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Hhe(t){return function Rhe(t){t._throwIfRoot("deleteObject");const e=function dhe(t,e){const r=qa(e.fullServerUrl(),t.host,t._protocol),a=new ea(r,"DELETE",function s(c,l){},t.maxOperationRetryTime);return a.successCodes=[200,204],a.errorHandler=R_(e),a}(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Ms)}(t=(0,M.m9)(t))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw c9(e)}}class U9{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(B9(e))throw xf("ref() expected a child path but got a URL, use refFromURL instead.");return new Ka(N9(this._delegate,e),this)}refFromURL(e){if(!B9(e))throw xf("refFromURL() expected a full URL but got a child path, use ref() instead.");try{fi.makeFromUrl(e,this._delegate.host)}catch{throw xf("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ka(N9(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){!function F9(t,e,n,r={}){!function Fhe(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:(0,M.Sg)(i,t.app.options.projectId))}(t,e,n,r)}(this._delegate,e,n,r)}}function B9(t){return/^[A-Za-z]+:\/\//.test(t)}function Qhe(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new U9(n,r)}function j9(t){const e=function Xhe(t){return new st(e=>{const n=s=>e.next(s);n(t.snapshot);const o=t.on("state_changed",n);return t.then(s=>{n(s),e.complete()},s=>{n(t.snapshot),(s=>{e.error(s)})(s)}),function(){o()}}).pipe(function sde(t,e=X0){return K((n,r)=>{let i=null,o=null,s=null;const a=()=>{if(i){i.unsubscribe(),i=null;const l=o;o=null,r.next(l)}};function c(){const l=s+t,h=e.now();if(h<l)return i=this.schedule(void 0,l-h),void r.add(i);a()}n.subscribe(Ce(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(ge(n=>n.bytesTransferred/n.totalBytes*100))}}function sP(t){return{getDownloadURL:()=>H(void 0).pipe(Jj,Ke(()=>t.getDownloadURL()),er),getMetadata:()=>H(void 0).pipe(Jj,Ke(()=>t.getMetadata()),er),delete:()=>S(t.delete()),child:e=>sP(t.child(e)),updateMetadata:e=>S(t.updateMetadata(e)),put:(e,n)=>j9(t.put(e,n)),putString:(e,n,r)=>j9(t.putString(e,n,r)),list:e=>S(t.list(e)),listAll:()=>S(t.listAll())}}!function Yhe(t){const e={TaskState:Li,TaskEvent:mhe,StringFormat:Po,Storage:U9,Reference:Ka};t.INTERNAL.registerComponent(new Co.wA("storage-compat",Qhe,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage-compat","0.3.2")}(Xo.Z);const Jhe=new pe("angularfire2.storageBucket"),efe=new pe("angularfire2.storage.maxUploadRetryTime"),tfe=new pe("angularfire2.storage.maxOperationRetryTime"),nfe=new pe("angularfire2.storage.use-emulator");let $9=(()=>{var t;class e{constructor(r,i,o,s,a,c,l,h,p,m){Fe(this,"storage",void 0);const v=T_(r,a,i);this.storage=J0(`${v.name}.storage.${o}`,"AngularFireStorage",v.name,()=>{const E=a.runOutsideAngular(()=>v.storage(o||void 0)),O=p;return O&&E.useEmulator(...O),l&&E.setMaxUploadRetryTime(l),h&&E.setMaxOperationRetryTime(h),E},[l,h])}ref(r){return sP(this.storage.ref(r))}refFromURL(r){return sP(this.storage.refFromURL(r))}upload(r,i,o){return sP(this.storage.ref(r)).put(i,o)}}return t=e,Fe(e,"\u0275fac",function(r){return new(r||t)(ee(Sf),ee(Rf,8),ee(Jhe,8),ee(po),ee(Tt),ee(Af),ee(efe,8),ee(tfe,8),ee(nfe,8),ee(b_,8))}),Fe(e,"\u0275prov",be({token:t,factory:t.\u0275fac,providedIn:"any"})),e})(),rfe=(()=>{var t;class e{}return t=e,Fe(e,"\u0275fac",function(r){return new(r||t)}),Fe(e,"\u0275mod",Vn({type:t})),Fe(e,"\u0275inj",Zn({})),e})(),ife=(()=>{var t;class e{constructor(){Xo.Z.registerVersion("angularfire",_l.full,"gcs-compat")}}return t=e,Fe(e,"\u0275fac",function(r){return new(r||t)}),Fe(e,"\u0275mod",Vn({type:t})),Fe(e,"\u0275inj",Zn({providers:[$9],imports:[rfe]})),e})();const ofe=[{path:"",component:nue,children:xle},{path:"collection",component:Gj,children:kle},{path:"auth",component:kT,children:Nle},{path:"contact",component:kT,children:[{path:"",component:Eue,title:"Contact send"}]},{path:"refund-picture",component:kT,children:[{path:"",component:xue,title:"Refund pictures"}]},{path:"profile/:id",component:qj,children:[{path:"",component:Tue,title:"Profile"}]},{path:"user",component:Gj,children:Fle},{path:"refund-pc",component:Nue},{path:"partner/:id",component:qj,children:Lle},{path:"admin",component:que,children:Vle},{path:"test",component:(()=>{var t;class e{constructor(r){this.fileStorage=r}onChangeFile(r){this.file=r.target.files[0],this.file&&console.log(this.file)}onUpload(){var r=this;return(0,k.Z)(function*(){const i=`yt/${r.file.name}`,s=yield(yield r.fileStorage.upload(i,r.file)).ref.getDownloadURL();console.log(s)})()}}return(t=e).\u0275fac=function(r){return new(r||t)(X($9))},t.\u0275cmp=xt({type:t,selectors:[["app-test1"]],decls:5,vars:0,consts:[["for","ig1"],["type","file","name","image","id","ig1",3,"change"],["type","button",3,"click"]],template:function(r,i){1&r&&(_(0,"label",0),w(1,"Upload"),y(),_(2,"input",1),ie("change",function(s){return i.onChangeFile(s)}),y(),_(3,"button",2),ie("click",function(){return i.onUpload()}),w(4,"Up"),y())}}),e})()}];let sfe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Vn({type:t}),t.\u0275inj=Zn({imports:[p5.forRoot(ofe),p5]}),e})(),afe=(()=>{var t;class e{constructor(){this.title="photohub"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=xt({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&A(0,"router-outlet")},dependencies:[Jc]}),e})();class x_{constructor(e){return e}}class H9{constructor(){return(0,Je.getApps)()}}const ZT=new pe("angularfire2._apps"),lfe={provide:x_,useFactory:function cfe(t){return t&&1===t.length?t[0]:new x_((0,Je.getApp)())},deps:[[new f,ZT]]},ufe={provide:H9,deps:[[new f,ZT]]};function dfe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new x_(r)}}let hfe=(()=>{var t;class e{constructor(r){(0,Je.registerVersion)("angularfire",_l.full,"core"),(0,Je.registerVersion)("angularfire",_l.full,"app"),(0,Je.registerVersion)("angular",BI.full,r.toString())}}return t=e,Fe(e,"\u0275fac",function(r){return new(r||t)(ee(po))}),Fe(e,"\u0275mod",Vn({type:t})),Fe(e,"\u0275inj",Zn({providers:[lfe,ufe]})),e})();function ffe(t,...e){return{ngModule:hfe,providers:[{provide:ZT,useFactory:dfe(t),multi:!0,deps:[Tt,Di,Af,...e]}]}}const pfe=function z9(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},G9=new M.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),aP=new ui.Yd("@firebase/auth");function cP(t,...e){aP.logLevel<=ui.in.ERROR&&aP.error(`Auth (${Je.SDK_VERSION}): ${t}`,...e)}function no(t,...e){throw QT(t,...e)}function na(t,...e){return QT(t,...e)}function QT(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return G9.create(t,...e)}function me(t,e,...n){if(!t)throw QT(e,...n)}function ra(t){const e="INTERNAL ASSERTION FAILED: "+t;throw cP(e),new Error(e)}function yl(t,e){t||ra(e)}function q9(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class N_{constructor(e,n){this.shortDelay=e,this.longDelay=n,yl(n>e,"Short delay should be less than long delay!"),this.isMobile=(0,M.uI)()||(0,M.b$)()}get(){return function mfe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function YT(){return"http:"===q9()||"https:"===q9()}()||(0,M.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class K9{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ra("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ra("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ra("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yfe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},vfe=new N_(3e4,6e4);function kn(t,e,n,r){return JT.apply(this,arguments)}function JT(){return(JT=(0,k.Z)(function*(t,e,n,r,i={}){return Z9(t,i,(0,k.Z)(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=(0,M.xO)(Object.assign({key:t.config.apiKey},s)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),K9.fetch()(Q9(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function Z9(t,e,n){return eA.apply(this,arguments)}function eA(){return(eA=(0,k.Z)(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},yfe),e);try{const i=new wfe(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw F_(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw F_(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw F_(t,"email-already-in-use",s);if("USER_DISABLED"===c)throw F_(t,"user-disabled",s);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw function W9(t,e,n){const r=Object.assign(Object.assign({},pfe()),{[e]:n});return new M.LL("auth","Firebase",r).create(e,{appName:t.name})}(t,h,l);no(t,h)}}catch(i){if(i instanceof M.ZR)throw i;no(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Q9(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function XT(t,e){yl(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class wfe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(na(this.auth,"network-request-failed")),vfe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function F_(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=na(t,e,r);return i.customData._tokenResponse=n,i}function iA(){return(iA=(0,k.Z)(function*(t,e){return kn(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function sA(){return(sA=(0,k.Z)(function*(t,e){return kn(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function L_(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function aA(){return(aA=(0,k.Z)(function*(t,e=!1){const n=(0,M.m9)(t),r=yield n.getIdToken(e),i=lP(r);me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:L_(cA(i.auth_time)),issuedAtTime:L_(cA(i.iat)),expirationTime:L_(cA(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function cA(t){return 1e3*Number(t)}function lP(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return cP("JWT malformed, contained fewer than 3 sections"),null;try{const i=(0,M.tV)(n);return i?JSON.parse(i):(cP("Failed to decode base64 JWT payload"),null)}catch(i){return cP("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Qa(t,e){return lA.apply(this,arguments)}function lA(){return(lA=(0,k.Z)(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof M.ZR&&function Tfe({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Afe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,k.Z)(function*(){yield n.iteration()}),r)}iteration(){var e=this;return(0,k.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class t6{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=L_(this.lastLoginAt),this.creationTime=L_(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function V_(t){return uA.apply(this,arguments)}function uA(){return uA=(0,k.Z)(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Qa(t,function Ife(t,e){return sA.apply(this,arguments)}(n,{idToken:r}));me(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function Rfe(t){return t.map(e=>{var{providerId:n}=e,r=(0,Se._T)(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function Sfe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),h=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new t6(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)}),uA.apply(this,arguments)}function dA(){return(dA=(0,k.Z)(function*(t){const e=(0,M.m9)(t);yield V_(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function hA(){return(hA=(0,k.Z)(function*(t,e){const n=yield Z9(t,{},(0,k.Z)(function*(){const r=(0,M.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=Q9(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",K9.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class U_{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function bfe(t){const e=lP(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return(0,k.Z)(function*(){return me(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return(0,k.Z)(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function xfe(t,e){return hA.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new U_;return r&&(me("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(me("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(me("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new U_,this.toJSON())}_performRefresh(){return ra("not implemented")}}function vl(t,e){me("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Yu{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=(0,Se._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Afe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new t6(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return(0,k.Z)(function*(){const r=yield Qa(n,n.stsTokenManager.getToken(n.auth,e));return me(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Ofe(t){return aA.apply(this,arguments)}(this,e)}reload(){return function Dfe(t){return dA.apply(this,arguments)}(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Yu(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return(0,k.Z)(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield V_(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,k.Z)(function*(){const n=yield e.getIdToken();return yield Qa(e,function Efe(t,e){return iA.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,h;const p=null!==(r=n.displayName)&&void 0!==r?r:void 0,m=null!==(i=n.email)&&void 0!==i?i:void 0,v=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,E=null!==(s=n.photoURL)&&void 0!==s?s:void 0,O=null!==(a=n.tenantId)&&void 0!==a?a:void 0,b=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,F=null!==(l=n.createdAt)&&void 0!==l?l:void 0,x=null!==(h=n.lastLoginAt)&&void 0!==h?h:void 0,{uid:z,emailVerified:$,isAnonymous:fe,providerData:Ie,stsTokenManager:at}=n;me(z&&at,e,"internal-error");const Zt=U_.fromJSON(this.name,at);me("string"==typeof z,e,"internal-error"),vl(p,e.name),vl(m,e.name),me("boolean"==typeof $,e,"internal-error"),me("boolean"==typeof fe,e,"internal-error"),vl(v,e.name),vl(E,e.name),vl(O,e.name),vl(b,e.name),vl(F,e.name),vl(x,e.name);const so=new Yu({uid:z,auth:e,email:m,emailVerified:$,displayName:p,isAnonymous:fe,photoURL:E,phoneNumber:v,tenantId:O,stsTokenManager:Zt,createdAt:F,lastLoginAt:x});return Ie&&Array.isArray(Ie)&&(so.providerData=Ie.map(Tp=>Object.assign({},Tp))),b&&(so._redirectEventId=b),so}static _fromIdTokenResponse(e,n,r=!1){return(0,k.Z)(function*(){const i=new U_;i.updateFromServerResponse(n);const o=new Yu({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield V_(o),o})()}}const n6=new Map;function Ya(t){yl(t instanceof Function,"Expected a class definition");let e=n6.get(t);return e?(yl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,n6.set(t,e),e)}const r6=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,k.Z)(function*(){return!0})()}_set(n,r){var i=this;return(0,k.Z)(function*(){i.storage[n]=r})()}_get(n){var r=this;return(0,k.Z)(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return(0,k.Z)(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function uP(t,e,n){return`firebase:${t}:${e}:${n}`}class Vf{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=uP(this.userKey,i.apiKey,o),this.fullPersistenceKey=uP("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,k.Z)(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Yu._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return(0,k.Z)(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return(0,k.Z)(function*(){if(!n.length)return new Vf(Ya(r6),e,r);const i=(yield Promise.all(n.map(function(){var l=(0,k.Z)(function*(h){if(yield h._isAvailable())return h});return function(h){return l.apply(this,arguments)}}()))).filter(l=>l);let o=i[0]||Ya(r6);const s=uP(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const h=yield l._get(s);if(h){const p=Yu._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return o._shouldAllowMigration&&c.length?(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var l=(0,k.Z)(function*(h){if(h!==o)try{yield h._remove(s)}catch{}});return function(h){return l.apply(this,arguments)}}())),new Vf(o,e,r)):new Vf(o,e,r)})()}}function i6(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function a6(t=(0,M.z$)()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function o6(t=(0,M.z$)()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function l6(t=(0,M.z$)()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function u6(t=(0,M.z$)()){return/webos/i.test(t)}(e))return"Webos";if(function fA(t=(0,M.z$)()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function s6(t=(0,M.z$)()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function c6(t=(0,M.z$)()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function d6(t,e=[]){let n;switch(t){case"Browser":n=i6((0,M.z$)());break;case"Worker":n=`${i6((0,M.z$)())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Je.SDK_VERSION}/${r}`}class Ffe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return(0,k.Z)(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function pA(){return(pA=(0,k.Z)(function*(t,e={}){return kn(t,"GET","/v2/passwordPolicy",function bn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))})).apply(this,arguments)}class Ufe{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=s.minPasswordLength)&&void 0!==n?n:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=null===(n=c.meetsMinPasswordLength)||void 0===n||n),c.isValid&&(c.isValid=null===(r=c.meetsMaxPasswordLength)||void 0===r||r),c.isValid&&(c.isValid=null===(i=c.containsLowercaseLetter)||void 0===i||i),c.isValid&&(c.isValid=null===(o=c.containsUppercaseLetter)||void 0===o||o),c.isValid&&(c.isValid=null===(s=c.containsNumericCharacter)||void 0===s||s),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class Bfe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new h6(this),this.idTokenSubscription=new h6(this),this.beforeStateQueue=new Ffe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=G9,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Ya(n)),this._initializationPromise=this.queue((0,k.Z)(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Vf.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,k.Z)(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return(0,k.Z)(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=o?._redirectEventId,l=yield n.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(o=l.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return me(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return(0,k.Z)(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return(0,k.Z)(function*(){try{yield V_(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function _fe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return(0,k.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return(0,k.Z)(function*(){const r=e?(0,M.m9)(e):null;return r&&me(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return(0,k.Z)(function*(){if(!r._deleted)return e&&me(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,k.Z)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,k.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue((0,k.Z)(function*(){yield n.assertedPersistence.setPersistence(Ya(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return(0,k.Z)(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return(0,k.Z)(function*(){const n=yield function Lfe(t){return pA.apply(this,arguments)}(e),r=new Ufe(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new M.LL("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return(0,k.Z)(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return(0,k.Z)(function*(){if(!n.redirectPersistenceManager){const r=e&&Ya(e)||n._popupRedirectResolver;me(r,n,"argument-error"),n.redirectPersistenceManager=yield Vf.create(n,[Ya(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return(0,k.Z)(function*(){var r,i;return n._isInitialized&&(yield n.queue((0,k.Z)(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return(0,k.Z)(function*(){if(e===n.currentUser)return n.queue((0,k.Z)(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof n){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}{const c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){var n=this;return(0,k.Z)(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=d6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,k.Z)(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return(0,k.Z)(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function gfe(t,...e){aP.logLevel<=ui.in.WARN&&aP.warn(`Auth (${Je.SDK_VERSION}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}class h6{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,M.ne)(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function f6(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new N_(3e4,6e4),new N_(2e3,1e4),new N_(3e4,6e4),new N_(5e3,15e3),encodeURIComponent("fac");var G6="@firebase/auth";class Bge{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return(0,k.Z)(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,M.Pz)("authIdTokenMaxAge"),function $ge(t){(0,Je._registerComponent)(new Co.wA("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;me(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:d6(t)},l=new Bfe(r,i,o,c);return function qfe(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ya);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),(0,Je._registerComponent)(new Co.wA("auth-internal",e=>{const n=function ur(t){return(0,M.m9)(t)}(e.getProvider("auth").getImmediate());return new Bge(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Je.registerVersion)(G6,"1.3.2",function jge(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),(0,Je.registerVersion)(G6,"1.3.2","esm2017")}("Browser");class Z6{constructor(){return FT("auth")}}var Ee,Zge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Is={},oS=oS||{},Ye=Zge||self;function MP(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function z_(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var sS="closure_uid_"+(1e9*Math.random()>>>0),Yge=0;function Xge(t,e,n){return t.call.apply(t.bind,arguments)}function Jge(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function pi(t,e,n){return(pi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Xge:Jge).apply(null,arguments)}function IP(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Rr(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Cl(){this.s=this.s,this.o=this.o}Cl.prototype.s=!1,Cl.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Qge(t){Object.prototype.hasOwnProperty.call(t,sS)&&t[sS]||(t[sS]=++Yge)}(this)},Cl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Q6=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function aS(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Y6(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(MP(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function gi(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}gi.prototype.h=function(){this.defaultPrevented=!0};var tme=function(){if(!Ye.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ye.addEventListener("test",()=>{},e),Ye.removeEventListener("test",()=>{},e)}catch{}return t}();function G_(t){return/^[\s\xa0]*$/.test(t)}function OP(){var t=Ye.navigator;return t&&(t=t.userAgent)?t:""}function ia(t){return-1!=OP().indexOf(t)}function cS(t){return cS[" "](t),t}cS[" "]=function(){};var uS,t,rme=ia("Opera"),Uf=ia("Trident")||ia("MSIE"),X6=ia("Edge"),lS=X6||Uf,J6=ia("Gecko")&&!(-1!=OP().toLowerCase().indexOf("webkit")&&!ia("Edge"))&&!(ia("Trident")||ia("MSIE"))&&!ia("Edge"),ime=-1!=OP().toLowerCase().indexOf("webkit")&&!ia("Edge");function e$(){var t=Ye.document;return t?t.documentMode:void 0}e:{var dS="",hS=(t=OP(),J6?/rv:([^\);]+)(\)|;)/.exec(t):X6?/Edge\/([\d\.]+)/.exec(t):Uf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):ime?/WebKit\/(\S+)/.exec(t):rme?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(hS&&(dS=hS?hS[1]:""),Uf){var fS=e$();if(null!=fS&&fS>parseFloat(dS)){uS=String(fS);break e}}uS=dS}var ome=Ye.document&&Uf&&(e$()||parseInt(uS,10))||void 0;function W_(t,e){if(gi.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(J6){e:{try{cS(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:sme[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&W_.$.h.call(this)}}Rr(W_,gi);var sme={2:"touch",3:"pen",4:"mouse"};W_.prototype.h=function(){W_.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var q_="closure_listenable_"+(1e6*Math.random()|0),ame=0;function cme(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++ame,this.fa=this.ia=!1}function bP(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function gS(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function n$(t){const e={};for(const n in t)e[n]=t[n];return e}const r$="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function i$(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let o=0;o<r$.length;o++)n=r$[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function TP(t){this.src=t,this.g={},this.h=0}function mS(t,e){var n=e.type;if(n in t.g){var o,r=t.g[n],i=Q6(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(bP(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function _S(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}TP.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=_S(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):((e=new cme(e,this.src,o,!!r,i)).ia=n,t.push(e)),e};var yS="closure_lm_"+(1e6*Math.random()|0),vS={};function o$(t,e,n,r,i){if(r&&r.once)return a$(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)o$(t,e[o],n,r,i);return null}return n=ES(n),t&&t[q_]?t.O(e,n,z_(r)?!!r.capture:!!r,i):s$(t,e,n,!1,r,i)}function s$(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=z_(i)?!!i.capture:!!i,a=wS(t);if(a||(t[yS]=a=new TP(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function ume(){const e=dme;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)tme||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(l$(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function a$(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)a$(t,e[o],n,r,i);return null}return n=ES(n),t&&t[q_]?t.P(e,n,z_(r)?!!r.capture:!!r,i):s$(t,e,n,!0,r,i)}function c$(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)c$(t,e[o],n,r,i);else r=z_(r)?!!r.capture:!!r,n=ES(n),t&&t[q_]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=_S(o=t.g[e],n,r,i))&&(bP(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=wS(t))&&(e=t.g[e.toString()],t=-1,e&&(t=_S(e,n,r,i)),(n=-1<t?e[t]:null)&&CS(n))}function CS(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[q_])mS(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(l$(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=wS(e))?(mS(n,t),0==n.h&&(n.src=null,e[yS]=null)):bP(t)}}}function l$(t){return t in vS?vS[t]:vS[t]="on"+t}function dme(t,e){if(t.fa)t=!0;else{e=new W_(e,this);var n=t.listener,r=t.la||t.src;t.ia&&CS(t),t=n.call(r,e)}return t}function wS(t){return(t=t[yS])instanceof TP?t:null}var PS="__closure_events_fn_"+(1e9*Math.random()>>>0);function ES(t){return"function"==typeof t?t:(t[PS]||(t[PS]=function(e){return t.handleEvent(e)}),t[PS])}function xr(){Cl.call(this),this.i=new TP(this),this.S=this,this.J=null}function Kr(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new gi(e,t);else if(e instanceof gi)e.target=e.target||t;else{var i=e;i$(e=new gi(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=AP(s,r,!0,e)&&i}if(i=AP(s=e.g=t,r,!0,e)&&i,i=AP(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=AP(s=e.g=n[o],r,!1,e)&&i}function AP(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&mS(t.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Rr(xr,Cl),xr.prototype[q_]=!0,xr.prototype.removeEventListener=function(t,e,n,r){c$(this,t,e,n,r)},xr.prototype.N=function(){if(xr.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)bP(n[r]);delete t.g[e],t.h--}}this.J=null},xr.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},xr.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var MS=Ye.JSON.stringify;function fme(){var t=IS;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var u$=new class hme{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new gme,t=>t.reset());class gme{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function mme(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function _me(t){Ye.setTimeout(()=>{throw t},0)}let K_,Z_=!1,IS=new class pme{constructor(){this.h=this.g=null}add(e,n){const r=u$.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},d$=()=>{const t=Ye.Promise.resolve(void 0);K_=()=>{t.then(yme)}};var yme=()=>{for(var t;t=fme();){try{t.h.call(t.g)}catch(n){_me(n)}var e=u$;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Z_=!1};function DP(t,e){xr.call(this),this.h=t||1,this.g=e||Ye,this.j=pi(this.qb,this),this.l=Date.now()}function OS(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function bS(t,e,n){if("function"==typeof t)n&&(t=pi(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=pi(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ye.setTimeout(t,e||0)}function h$(t){t.g=bS(()=>{t.g=null,t.i&&(t.i=!1,h$(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Rr(DP,xr),(Ee=DP.prototype).ga=!1,Ee.T=null,Ee.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Kr(this,"tick"),this.ga&&(OS(this),this.start()))}},Ee.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ee.N=function(){DP.$.N.call(this),OS(this),delete this.g};class vme extends Cl{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:h$(this)}N(){super.N(),this.g&&(Ye.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Q_(t){Cl.call(this),this.h=t,this.g={}}Rr(Q_,Cl);var f$=[];function p$(t,e,n,r){Array.isArray(n)||(n&&(f$[0]=n.toString()),n=f$);for(var i=0;i<n.length;i++){var o=o$(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function g$(t){gS(t.g,function(e,n){this.g.hasOwnProperty(n)&&CS(e)},t),t.g={}}function SP(){this.g=!0}function Bf(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Eme(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return MS(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Q_.prototype.N=function(){Q_.$.N.call(this),g$(this)},Q_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},SP.prototype.Ea=function(){this.g=!1},SP.prototype.info=function(){};var td={},m$=null;function RP(){return m$=m$||new xr}function _$(t){gi.call(this,td.Ta,t)}function Y_(t){const e=RP();Kr(e,new _$(e))}function y$(t,e){gi.call(this,td.STAT_EVENT,t),this.stat=e}function Vi(t){const e=RP();Kr(e,new y$(e,t))}function v$(t,e){gi.call(this,td.Ua,t),this.size=e}function X_(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Ye.setTimeout(function(){t()},e)}td.Ta="serverreachability",Rr(_$,gi),td.STAT_EVENT="statevent",Rr(y$,gi),td.Ua="timingevent",Rr(v$,gi);var xP={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},C$={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function TS(){}function P$(){}TS.prototype.h=null;var SS,J_={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function AS(){gi.call(this,"d")}function DS(){gi.call(this,"c")}function kP(){}function ey(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Q_(this),this.P=Mme,this.V=new DP(t=lS?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new E$}function E$(){this.i=null,this.g="",this.h=!1}Rr(AS,gi),Rr(DS,gi),Rr(kP,TS),kP.prototype.g=function(){return new XMLHttpRequest},kP.prototype.i=function(){return{}},SS=new kP;var Mme=45e3,RS={},NP={};function xS(t,e,n){t.L=1,t.v=UP(Ja(e)),t.s=n,t.S=!0,M$(t,null)}function M$(t,e){t.G=Date.now(),ty(t),t.A=Ja(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),k$(n.i,"t",r),t.C=0,n=t.l.J,t.h=new E$,t.g=iH(t.l,n?e:null,!t.s),0<t.O&&(t.M=new vme(pi(t.Pa,t,t.g),t.O)),p$(t.U,t.g,"readystatechange",t.nb),e=t.I?n$(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Y_(),function Cme(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var h=l[0];l=l[1];var p=h.split("_");s=2<=p.length&&"type"==p[1]?s+(h+"=")+l+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.W,t.s)}function I$(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function O$(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Ime(t,n),i==NP){4==e&&(t.o=4,Vi(14),r=!1),Bf(t.j,t.m,null,"[Incomplete Response]");break}if(i==RS){t.o=4,Vi(15),Bf(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Bf(t.j,t.m,i,null),kS(t,i)}I$(t)&&i!=NP&&i!=RS&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Vi(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),jS(e),e.M=!0,Vi(11))):(Bf(t.j,t.m,n,"[Invalid Chunked Response]"),nd(t),ny(t))}function Ime(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?NP:(n=Number(e.substring(n,r)),isNaN(n)?RS:(r+=1)+n>e.length?NP:(e=e.slice(r,r+n),t.C=r+n,e))}function ty(t){t.Y=Date.now()+t.P,b$(t,t.P)}function b$(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=X_(pi(t.lb,t),e)}function FP(t){t.B&&(Ye.clearTimeout(t.B),t.B=null)}function ny(t){0==t.l.H||t.J||eH(t.l,t)}function nd(t){FP(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,OS(t.V),g$(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function kS(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||NS(n.i,t)))if(!t.K&&NS(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;GP(n),HP(n)}BS(n),Vi(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=X_(pi(n.ib,n),6e3));if(1>=L$(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else id(n,11)}else if((t.K||n.g==t)&&GP(n),!G_(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const h=l[3];null!=h&&(n.ra=h,n.l.info("VER="+n.ra));const p=l[4];null!=p&&(n.Ga=p,n.l.info("SVER="+n.Ga));const m=l[5];null!=m&&"number"==typeof m&&0<m&&(n.L=r=1.5*m,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const v=t.g;if(v){const E=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(E){var o=r.i;o.g||-1==E.indexOf("spdy")&&-1==E.indexOf("quic")&&-1==E.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(FS(o,o.h),o.h=null))}if(r.F){const O=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;O&&(r.Da=O,yn(r.I,r.F,O))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=t;if((r=n).wa=rH(r,r.J?r.pa:null,r.Y),s.K){V$(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.B&&(FP(a),ty(a)),r.g=s}else X$(r);0<n.j.length&&zP(n)}else"stop"!=l[0]&&"close"!=l[0]||id(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?id(n,7):US(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}Y_()}catch{}}function T$(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(MP(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function bme(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(MP(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Ome(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(MP(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(Ee=ey.prototype).setTimeout=function(t){this.P=t},Ee.nb=function(t){t=t.target;const e=this.M;e&&3==oa(t)?e.l():this.Pa(t)},Ee.Pa=function(t){try{if(t==this.g)e:{const h=oa(this.g);var e=this.g.Ia();if(this.g.da(),!(3>h)&&(3!=h||lS||this.g&&(this.h.h||this.g.ja()||W$(this.g)))){this.J||4!=h||7==e||Y_(),FP(this);var n=this.g.da();this.ca=n;t:if(I$(this)){var r=W$(this.g);t="";var i=r.length,o=4==oa(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){nd(this),ny(this);var s="";break t}this.h.i=new Ye.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function wme(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,h,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G_(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,Vi(12),nd(this),ny(this);break e}Bf(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kS(this,n)}this.S?(O$(this,h,s),lS&&this.i&&3==h&&(p$(this.U,this.V,"tick",this.mb),this.V.start())):(Bf(this.j,this.m,s,null),kS(this,s)),4==h&&nd(this),this.i&&!this.J&&(4==h?eH(this.l,this):(this.i=!1,ty(this)))}else(function Gme(t){const e={};t=(t.g&&2<=oa(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(G_(t[r]))continue;var n=mme(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}!function lme(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.o=3,Vi(12)):(this.o=0,Vi(13)),nd(this),ny(this)}}}catch{}},Ee.mb=function(){if(this.g){var t=oa(this.g),e=this.g.ja();this.C<e.length&&(FP(this),O$(this,t,e),this.i&&4!=t&&ty(this))}},Ee.cancel=function(){this.J=!0,nd(this)},Ee.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function Pme(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Y_(),Vi(17)),nd(this),this.o=2,ny(this)):b$(this,this.Y-t)};var A$=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rd(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof rd){this.h=t.h,LP(this,t.j),this.s=t.s,this.g=t.g,VP(this,t.m),this.l=t.l;var e=t.i,n=new oy;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),D$(this,n),this.o=t.o}else t&&(e=String(t).match(A$))?(this.h=!1,LP(this,e[1]||"",!0),this.s=ry(e[2]||""),this.g=ry(e[3]||"",!0),VP(this,e[4]),this.l=ry(e[5]||"",!0),D$(this,e[6]||"",!0),this.o=ry(e[7]||"")):(this.h=!1,this.i=new oy(null,this.h))}function Ja(t){return new rd(t)}function LP(t,e,n){t.j=n?ry(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function VP(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function D$(t,e,n){e instanceof oy?(t.i=e,function kme(t,e){e&&!t.j&&(wl(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(R$(this,r),k$(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=iy(e,Rme)),t.i=new oy(e,t.h))}function yn(t,e,n){t.i.set(e,n)}function UP(t){return yn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ry(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function iy(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ame),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ame(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}rd.prototype.toString=function(){var t=[],e=this.j;e&&t.push(iy(e,S$,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(iy(e,S$,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(iy(n,"/"==n.charAt(0)?Sme:Dme,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",iy(n,xme)),t.join("")};var S$=/[#\/\?@]/g,Dme=/[#\?:]/g,Sme=/[#\?]/g,Rme=/[#\?@]/g,xme=/#/g;function oy(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function wl(t){t.g||(t.g=new Map,t.h=0,t.i&&function Tme(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function R$(t,e){wl(t),e=jf(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function x$(t,e){return wl(t),e=jf(t,e),t.g.has(e)}function k$(t,e,n){R$(t,e),0<n.length&&(t.i=null,t.g.set(jf(t,e),aS(n)),t.h+=n.length)}function jf(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function N$(t){this.l=t||Fme,t=Ye.PerformanceNavigationTiming?0<(t=Ye.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Ye.g&&Ye.g.Ka&&Ye.g.Ka()&&Ye.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ee=oy.prototype).add=function(t,e){wl(this),this.i=null,t=jf(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Ee.forEach=function(t,e){wl(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},Ee.ta=function(){wl(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n},Ee.Z=function(t){wl(this);let e=[];if("string"==typeof t)x$(this,t)&&(e=e.concat(this.g.get(jf(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},Ee.set=function(t,e){return wl(this),this.i=null,x$(this,t=jf(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Ee.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},Ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};var Fme=10;function F$(t){return!!t.h||!!t.g&&t.g.size>=t.j}function L$(t){return t.h?1:t.g?t.g.size:0}function NS(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function FS(t,e){t.g?t.g.add(e):t.h=e}function V$(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function U$(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return aS(t.i)}N$.prototype.cancel=function(){if(this.i=U$(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Lme=class{stringify(t){return Ye.JSON.stringify(t,void 0)}parse(t){return Ye.JSON.parse(t,void 0)}};function Vme(){this.g=new Lme}function Ume(t,e,n){const r=n||"";try{T$(t,function(i,o){let s=i;z_(i)&&(s=MS(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function BP(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function sy(t){this.l=t.ec||null,this.j=t.ob||!1}function jP(t,e){xr.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=LS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Rr(sy,TS),sy.prototype.g=function(){return new jP(this.l,this.j)},sy.prototype.i=function(t){return function(){return t}}({}),Rr(jP,xr);var LS=0;function B$(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function ay(t){t.readyState=4,t.l=null,t.j=null,t.A=null,cy(t)}function cy(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Ee=jP.prototype).open=function(t,e){if(this.readyState!=LS)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,cy(this)},Ee.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ye).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ay(this)),this.readyState=LS},Ee.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,cy(this)),this.g&&(this.readyState=3,cy(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ye.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;B$(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},Ee.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ay(this):cy(this),3==this.readyState&&B$(this)}},Ee.Za=function(t){this.g&&(this.response=this.responseText=t,ay(this))},Ee.Ya=function(t){this.g&&(this.response=t,ay(this))},Ee.ka=function(){this.g&&ay(this)},Ee.setRequestHeader=function(t,e){this.v.append(t,e)},Ee.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Ee.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(jP.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var jme=Ye.JSON.parse;function Hn(t){xr.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=j$,this.L=this.M=!1}Rr(Hn,xr);var j$="",$me=/^https?$/i,Hme=["POST","PUT"];function $$(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,H$(t),$P(t)}function H$(t){t.F||(t.F=!0,Kr(t,"complete"),Kr(t,"error"))}function z$(t){if(t.h&&typeof oS<"u"&&(!t.C[1]||4!=oa(t)||2!=t.da()))if(t.v&&4==oa(t))bS(t.La,0,t);else if(Kr(t,"readystatechange"),4==oa(t)){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===s){var i=String(t.I).match(A$)[1]||null;!i&&Ye.self&&Ye.self.location&&(i=Ye.self.location.protocol.slice(0,-1)),r=!$me.test(i?i.toLowerCase():"")}n=r}if(n)Kr(t,"complete"),Kr(t,"success");else{t.m=6;try{var o=2<oa(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",H$(t)}}finally{$P(t)}}}function $P(t,e){if(t.g){G$(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Kr(t,"ready");try{n.onreadystatechange=r}catch{}}}function G$(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ye.clearTimeout(t.A),t.A=null)}function oa(t){return t.g?t.g.readyState:0}function W$(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case j$:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function q$(t){let e="";return gS(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function VS(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=q$(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):yn(t,e,n))}function ly(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function K$(t){this.Ga=0,this.j=[],this.l=new SP,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ly("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ly("baseRetryDelayMs",5e3,t),this.hb=ly("retryDelaySeedMs",1e4,t),this.eb=ly("forwardChannelMaxRetries",2,t),this.xa=ly("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new N$(t&&t.concurrentRequestLimit),this.Ja=new Vme,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function US(t){if(Z$(t),3==t.H){var e=t.W++,n=Ja(t.I);if(yn(n,"SID",t.K),yn(n,"RID",e),yn(n,"TYPE","terminate"),uy(t,n),(e=new ey(t,t.l,e)).L=2,e.v=UP(Ja(n)),n=!1,Ye.navigator&&Ye.navigator.sendBeacon)try{n=Ye.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Ye.Image&&((new Image).src=e.v,n=!0),n||(e.g=iH(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ty(e)}nH(t)}function HP(t){t.g&&(jS(t),t.g.cancel(),t.g=null)}function Z$(t){HP(t),t.u&&(Ye.clearTimeout(t.u),t.u=null),GP(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Ye.clearTimeout(t.m),t.m=null)}function zP(t){if(!F$(t.i)&&!t.m){t.m=!0;var e=t.Na;K_||d$(),Z_||(K_(),Z_=!0),IS.add(e,t),t.C=0}}function Q$(t,e){var n;n=e?e.m:t.W++;const r=Ja(t.I);yn(r,"SID",t.K),yn(r,"RID",n),yn(r,"AID",t.V),uy(t,r),t.o&&t.s&&VS(r,t.o,t.s),n=new ey(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Y$(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),FS(t.i,n),xS(n,r,e)}function uy(t,e){t.na&&gS(t.na,function(n,r){yn(e,r,n)}),t.h&&T$({},function(n,r){yn(e,r,n)})}function Y$(t,e,n){n=Math.min(t.j.length,n);var r=t.h?pi(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];-1==o?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let l=i[c].g;const h=i[c].map;if(l-=o,0>l)o=Math.max(0,i[c].g-100),a=!1;else try{Ume(h,s,"req"+l+"_")}catch{r&&r(h)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function X$(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;K_||d$(),Z_||(K_(),Z_=!0),IS.add(e,t),t.A=0}}function BS(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=X_(pi(t.Ma,t),tH(t,t.A)),t.A++,0))}function jS(t){null!=t.B&&(Ye.clearTimeout(t.B),t.B=null)}function J$(t){t.g=new ey(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Ja(t.wa);yn(e,"RID","rpc"),yn(e,"SID",t.K),yn(e,"AID",t.V),yn(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&yn(e,"TO",t.qa),yn(e,"TYPE","xmlhttp"),uy(t,e),t.o&&t.s&&VS(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=UP(Ja(e)),n.s=null,n.S=!0,M$(n,t)}function GP(t){null!=t.v&&(Ye.clearTimeout(t.v),t.v=null)}function eH(t,e){var n=null;if(t.g==e){GP(t),jS(t),t.g=null;var r=2}else{if(!NS(t.i,e))return;n=e.F,V$(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Kr(r=RP(),new v$(r,n)),zP(t)}else X$(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Wme(t,e){return!(L$(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=X_(pi(t.Na,t,e),tH(t,t.C)),t.C++,0)))}(t,e)||2==r&&BS(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:id(t,5);break;case 4:id(t,10);break;case 3:id(t,6);break;default:id(t,2)}}function tH(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function id(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=pi(t.pb,t);n||(n=new rd("//www.google.com/images/cleardot.gif"),Ye.location&&"http"==Ye.location.protocol||LP(n,"https"),UP(n)),function Bme(t,e){const n=new SP;if(Ye.Image){const r=new Image;r.onload=IP(BP,n,r,"TestLoadImage: loaded",!0,e),r.onerror=IP(BP,n,r,"TestLoadImage: error",!1,e),r.onabort=IP(BP,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=IP(BP,n,r,"TestLoadImage: timeout",!1,e),Ye.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Vi(2);t.H=0,t.h&&t.h.za(e),nH(t),Z$(t)}function nH(t){if(t.H=0,t.ma=[],t.h){const e=U$(t.i);(0!=e.length||0!=t.j.length)&&(Y6(t.ma,e),Y6(t.ma,t.j),t.i.i.length=0,aS(t.j),t.j.length=0),t.h.ya()}}function rH(t,e,n){var r=n instanceof rd?Ja(n):new rd(n);if(""!=r.g)e&&(r.g=e+"."+r.g),VP(r,r.m);else{var i=Ye.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new rd(null);r&&LP(o,r),e&&(o.g=e),i&&VP(o,i),n&&(o.l=n),r=o}return e=t.Da,(n=t.F)&&e&&yn(r,n,e),yn(r,"VER",t.ra),uy(t,r),r}function iH(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Hn(n&&t.Ha&&!t.va?new sy({ob:!0}):t.va)).Oa(t.J),e}function oH(){}function WP(){if(Uf&&!(10<=Number(ome)))throw Error("Environmental error: no available transport.")}function Eo(t,e){xr.call(this),this.g=new K$(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!G_(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!G_(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new $f(this)}function sH(t){AS.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function aH(){DS.call(this),this.status=1}function $f(t){this.g=t}function Os(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function $S(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var o=t.g[3],s=(e=t.g[0])+(o^(n=t.g[1])&((i=t.g[2])^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=n+((s=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function $t(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}(Ee=Hn.prototype).Oa=function(t){this.M=t},Ee.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():SS.g(),this.C=function w$(t){return t.h||(t.h=t.i())}(this.u?this.u:SS),this.g.onreadystatechange=pi(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void $$(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())n.set(o,r.get(o))}r=Array.from(n.keys()).find(o=>"content-type"==o.toLowerCase()),i=Ye.FormData&&t instanceof Ye.FormData,!(0<=Q6(Hme,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{G$(this),0<this.B&&((this.L=function zme(t){return Uf&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pi(this.ua,this)):this.A=bS(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){$$(this,o)}},Ee.ua=function(){typeof oS<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kr(this,"timeout"),this.abort(8))},Ee.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Kr(this,"complete"),Kr(this,"abort"),$P(this))},Ee.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$P(this,!0)),Hn.$.N.call(this)},Ee.La=function(){this.s||(this.G||this.v||this.l?z$(this):this.kb())},Ee.kb=function(){z$(this)},Ee.isActive=function(){return!!this.g},Ee.da=function(){try{return 2<oa(this)?this.g.status:-1}catch{return-1}},Ee.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ee.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),jme(e)}},Ee.Ia=function(){return this.m},Ee.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ee=K$.prototype).ra=8,Ee.H=1,Ee.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new ey(this,this.l,t);let o=this.s;if(this.U&&(o?(o=n$(o),i$(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Y$(this,i,e),yn(n=Ja(this.I),"RID",t),yn(n,"CVER",22),this.F&&yn(n,"X-HTTP-Session-Id",this.F),uy(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(q$(o)))+"&"+e:this.o&&VS(n,this.o,o)),FS(this.i,i),this.bb&&yn(n,"TYPE","init"),this.P?(yn(n,"$req",e),yn(n,"SID","null"),i.aa=!0,xS(i,n,null)):xS(i,n,e),this.H=2}}else 3==this.H&&(t?Q$(this,t):0==this.j.length||F$(this.i)||Q$(this))},Ee.Ma=function(){if(this.u=null,J$(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=X_(pi(this.jb,this),t)}},Ee.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Vi(10),HP(this),J$(this))},Ee.ib=function(){null!=this.v&&(this.v=null,HP(this),BS(this),Vi(19))},Ee.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Vi(2)):(this.l.info("Failed to ping google.com"),Vi(1))},Ee.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ee=oH.prototype).Ba=function(){},Ee.Aa=function(){},Ee.za=function(){},Ee.ya=function(){},Ee.isActive=function(){return!0},Ee.Va=function(){},WP.prototype.g=function(t,e){return new Eo(t,e)},Rr(Eo,xr),Eo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Vi(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=rH(t,null,t.Y),zP(t)},Eo.prototype.close=function(){US(this.g)},Eo.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=MS(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&zP(e)},Eo.prototype.N=function(){this.g.h=null,delete this.j,US(this.g),delete this.g,Eo.$.N.call(this)},Rr(sH,AS),Rr(aH,DS),Rr($f,oH),$f.prototype.Ba=function(){Kr(this.g,"a")},$f.prototype.Aa=function(t){Kr(this.g,new sH(t))},$f.prototype.za=function(t){Kr(this.g,new aH)},$f.prototype.ya=function(){Kr(this.g,"b")},Rr(Os,function qme(){this.blockSize=-1}),Os.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Os.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=n;)$S(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){$S(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){$S(this,r),i=0;break}}this.h=i,this.i+=e},Os.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Kme={};function HS(t){return-128<=t&&128>t?function nme(t,e){var n=Kme;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new $t([0|e],0>e?-1:0)}):new $t([0|t],0>t?-1:0)}function sa(t){if(isNaN(t)||!isFinite(t))return Hf;if(0>t)return Zr(sa(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=zS;return new $t(e,0)}var zS=4294967296,Hf=HS(0),GS=HS(1),lH=HS(16777216);function ec(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function es(t){return-1==t.h}function Zr(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new $t(n,~t.h).add(GS)}function qP(t,e){return t.add(Zr(e))}function KP(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function dy(t,e){this.g=t,this.h=e}function ZP(t,e){if(ec(e))throw Error("division by zero");if(ec(t))return new dy(Hf,Hf);if(es(t))return e=ZP(Zr(t),e),new dy(Zr(e.g),Zr(e.h));if(es(e))return e=ZP(t,Zr(e)),new dy(Zr(e.g),e.h);if(30<t.g.length){if(es(t)||es(e))throw Error("slowDivide_ only works with positive integers.");for(var n=GS,r=e;0>=r.X(t);)n=uH(n),r=uH(r);var i=zf(n,1),o=zf(r,1);for(r=zf(r,2),n=zf(n,2);!ec(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=zf(r,1),n=zf(n,1)}return e=qP(t,i.R(e)),new dy(i,e)}for(i=Hf;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=sa(n)).R(e);es(s)||0<s.X(t);)s=(o=sa(n-=r)).R(e);ec(o)&&(o=GS),i=i.add(o),t=qP(t,s)}return new dy(i,t)}function uH(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new $t(n,t.h)}function zf(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new $t(i,t.h)}(Ee=$t.prototype).ea=function(){if(es(this))return-Zr(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:zS+r)*e,e*=zS}return t},Ee.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(ec(this))return"0";if(es(this))return"-"+Zr(this).toString(t);for(var e=sa(Math.pow(t,6)),n=this,r="";;){var i=ZP(n,e).g,o=((0<(n=qP(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(ec(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},Ee.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},Ee.X=function(t){return es(t=qP(this,t))?-1:ec(t)?0:1},Ee.abs=function(){return es(this)?Zr(this):this},Ee.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&t.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,n[i]=(s&=65535)<<16|(o&=65535)}return new $t(n,-2147483648&n[n.length-1]?-1:0)},Ee.R=function(t){if(ec(this)||ec(t))return Hf;if(es(this))return es(t)?Zr(this).R(Zr(t)):Zr(Zr(this).R(t));if(es(t))return Zr(this.R(Zr(t)));if(0>this.X(lH)&&0>t.X(lH))return sa(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=s*c,KP(n,2*r+2*i),n[2*r+2*i+1]+=o*c,KP(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,KP(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,KP(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new $t(n,0)},Ee.gb=function(t){return ZP(this,t).h},Ee.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new $t(n,this.h&t.h)},Ee.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new $t(n,this.h|t.h)},Ee.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new $t(n,this.h^t.h)},WP.prototype.createWebChannel=WP.prototype.g,Eo.prototype.send=Eo.prototype.u,Eo.prototype.open=Eo.prototype.m,Eo.prototype.close=Eo.prototype.close,xP.NO_ERROR=0,xP.TIMEOUT=8,xP.HTTP_ERROR=6,C$.COMPLETE="complete",P$.EventType=J_,J_.OPEN="a",J_.CLOSE="b",J_.ERROR="c",J_.MESSAGE="d",xr.prototype.listen=xr.prototype.O,Hn.prototype.listenOnce=Hn.prototype.P,Hn.prototype.getLastError=Hn.prototype.Sa,Hn.prototype.getLastErrorCode=Hn.prototype.Ia,Hn.prototype.getStatus=Hn.prototype.da,Hn.prototype.getResponseJson=Hn.prototype.Wa,Hn.prototype.getResponseText=Hn.prototype.ja,Hn.prototype.send=Hn.prototype.ha,Hn.prototype.setWithCredentials=Hn.prototype.Oa,Os.prototype.digest=Os.prototype.l,Os.prototype.reset=Os.prototype.reset,Os.prototype.update=Os.prototype.j,$t.prototype.add=$t.prototype.add,$t.prototype.multiply=$t.prototype.R,$t.prototype.modulo=$t.prototype.gb,$t.prototype.compare=$t.prototype.X,$t.prototype.toNumber=$t.prototype.ea,$t.prototype.toString=$t.prototype.toString,$t.prototype.getBits=$t.prototype.D,$t.fromNumber=sa,$t.fromString=function cH(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Zr(cH(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=sa(Math.pow(e,8)),r=Hf,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=sa(Math.pow(e,o)),r=r.R(o).add(sa(s))):r=(r=r.R(n)).add(sa(s))}return r};var Zme=Is.createWebChannelTransport=function(){return new WP},Qme=Is.getStatEventTarget=function(){return RP()},WS=Is.ErrorCode=xP,Yme=Is.EventType=C$,Xme=Is.Event=td,dH=Is.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Jme=Is.FetchXmlHttpFactory=sy,QP=Is.WebChannel=P$,e_e=Is.XhrIo=Hn,t_e=Is.Md5=Os,Gf=Is.Integer=$t;const hH="@firebase/firestore";class kr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kr.UNAUTHENTICATED=new kr(null),kr.GOOGLE_CREDENTIALS=new kr("google-credentials-uid"),kr.FIRST_PARTY=new kr("first-party-uid"),kr.MOCK_USER=new kr("mock-user");let Wf="10.5.2";const Pl=new ui.Yd("@firebase/firestore");function qf(){return Pl.logLevel}function de(t,...e){if(Pl.logLevel<=ui.in.DEBUG){const n=e.map(qS);Pl.debug(`Firestore (${Wf}): ${t}`,...n)}}function tr(t,...e){if(Pl.logLevel<=ui.in.ERROR){const n=e.map(qS);Pl.error(`Firestore (${Wf}): ${t}`,...n)}}function ro(t,...e){if(Pl.logLevel<=ui.in.WARN){const n=e.map(qS);Pl.warn(`Firestore (${Wf}): ${t}`,...n)}}function qS(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function Te(t="Unexpected state"){const e=`FIRESTORE (${Wf}) INTERNAL ASSERTION FAILED: `+t;throw tr(e),new Error(e)}function ke(t,e){t||Te()}function ye(t,e){return t}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends M.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class fH{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class i_e{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kr.UNAUTHENTICATED))}shutdown(){}}class o_e{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class s_e{constructor(e){this.t=e,this.currentUser=kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const o=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Mr,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable((0,k.Z)(function*(){yield l.promise,yield o(r.currentUser)}))},c=l=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Mr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ke("string"==typeof r.accessToken),new fH(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ke(null===e||"string"==typeof e),new kr(e)}}class a_e{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=kr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class c_e{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new a_e(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pH{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class l_e{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{null!=o.error&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,de("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ke("string"==typeof n.token),this.R=n.token,new pH(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function u_e(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class gH{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=u_e(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function We(t,e){return t<e?-1:t>e?1:0}function Kf(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function mH(t){return t+"\0"}class Tn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Tn.fromMillis(Date.now())}static fromDate(e){return Tn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Tn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new Tn(0,0))}static max(){return new Ne(new Tn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class hy{constructor(e,n,r){void 0===n?n=0:n>e.length&&Te(),void 0===r?r=e.length-n:r>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===hy.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hy?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class At extends hy{construct(e,n,r){return new At(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new At(n)}static emptyPath(){return new At([])}}const d_e=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends hy{construct(e,n,r){return new vn(e,n,r)}static isValidIdentifier(e){return d_e.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new vn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new le(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new le(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new le(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new le(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vn(n)}static emptyPath(){return new vn([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(At.fromString(e))}static fromName(e){return new ve(At.fromString(e).popFirst(5))}static empty(){return new ve(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===At.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return At.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new At(e.slice()))}}class Zf{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function KS(t){return t.fields.find(e=>2===e.kind)}function od(t){return t.fields.filter(e=>2!==e.kind)}Zf.UNKNOWN_ID=-1;class sd{constructor(e,n){this.fieldPath=e,this.kind=n}}class Qf{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Qf(0,Mo.min())}}function _H(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ne.fromTimestamp(1e9===r?new Tn(n+1,0):new Tn(n,r));return new Mo(i,ve.empty(),e)}function yH(t){return new Mo(t.readTime,t.key,-1)}class Mo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Mo(Ne.min(),ve.empty(),-1)}static max(){return new Mo(Ne.max(),ve.empty(),-1)}}function ZS(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=ve.comparator(t.documentKey,e.documentKey),0!==n?n:We(t.largestBatchId,e.largestBatchId))}const vH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function El(t){return QS.apply(this,arguments)}function QS(){return QS=(0,k.Z)(function*(t){if(t.code!==W.FAILED_PRECONDITION||t.message!==vH)throw t;de("LocalStore","Unexpectedly lost primary lease")}),QS.apply(this,arguments)}class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const l=c;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new B((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}class YP{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Mr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new fy(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=YS(r.target.error);this.V.reject(new fy(e,i))}}static open(e,n,r,i){try{return new YP(n,e.transaction(i,r))}catch(o){throw new fy(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(de("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new g_e(n)}}class bs{constructor(e,n,r){this.name=e,this.version=n,this.p=r,12.2===bs.S((0,M.z$)())&&tr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return de("SimpleDb","Removing database:",e),ad(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,M.hl)())return!1;if(bs.C())return!0;const e=(0,M.z$)(),n=bs.S(e),r=0<n&&n<10,i=bs.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var n=this;return(0,k.Z)(function*(){return n.db||(de("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,i)=>{const o=indexedDB.open(n.name,n.version);o.onsuccess=s=>{r(s.target.result)},o.onblocked=()=>{i(new fy(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;i("VersionError"===a.name?new le(W.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new le(W.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new fy(e,a))},o.onupgradeneeded=s=>{de("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',s.oldVersion),n.p.N(s.target.result,o.transaction,s.oldVersion,n.version).next(()=>{de("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=r=>n.B(r)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){var o=this;return(0,k.Z)(function*(){const s="readonly"===n;let a=0;for(;;){++a;try{o.db=yield o.O(e);const c=YP.open(o.db,e,s?"readonly":"readwrite",r),l=i(c).next(h=>(c.g(),h)).catch(h=>(c.abort(h),B.reject(h))).toPromise();return l.catch(()=>{}),yield c.m,l}catch(c){const l=c,h="FirebaseError"!==l.name&&a<3;if(de("SimpleDb","Transaction failed with error:",l.message,"Retrying:",h),o.close(),!h)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class p_e{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ad(this.k.delete())}}class fy extends le{constructor(e,n){super(W.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ml(t){return"IndexedDbTransactionError"===t.name}class g_e{constructor(e){this.store=e}put(e,n){let r;return void 0!==n?(de("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(de("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ad(r)}add(e){return de("SimpleDb","ADD",this.store.name,e,e),ad(this.store.add(e))}get(e){return ad(this.store.get(e)).next(n=>(void 0===n&&(n=null),de("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return de("SimpleDb","DELETE",this.store.name,e),ad(this.store.delete(e))}count(){return de("SimpleDb","COUNT",this.store.name),ad(this.store.count())}W(e,n){const r=this.options(e,n);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),o=[];return this.G(i,(s,a)=>{o.push(a)}).next(()=>o)}{const i=this.store.getAll(r.range);return new B((o,s)=>{i.onerror=a=>{s(a.target.error)},i.onsuccess=a=>{o(a.target.result)}})}}j(e,n){const r=this.store.getAll(e,null===n?void 0:n);return new B((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){de("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new B((r,i)=>{n.onerror=o=>{const s=YS(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){const r=[];return new B((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const c=new p_e(a),l=n(a.primaryKey,a.value,c);if(l instanceof B){const h=l.catch(p=>(c.done(),B.reject(p)));r.push(h)}c.isDone?i():null===c.$?a.continue():a.continue(c.$)}}).next(()=>B.waitFor(r))}options(e,n){let r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ad(t){return new B((e,n)=>{t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{const i=YS(r.target.error);n(i)}})}let wH=!1;function YS(t){const e=bs.S((0,M.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new le("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return wH||(wH=!0,setTimeout(()=>{throw r},0)),r}}return t}class m_e{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var n=this;de("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,k.Z)(function*(){n.task=null;try{de("IndexBackiller",`Documents written: ${yield n.X.te()}`)}catch(r){Ml(r)?de("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield El(r)}yield n.ee(6e4)}))}}class __e{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){var n=this;return(0,k.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>n.ne(r,e))})()}ne(e,n){const r=new Set;let i=n,o=!0;return B.doWhile(()=>!0===o&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!r.has(s))return de("IndexBackiller",`Processing collection: ${s}`),this.re(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.ie(i,o)).next(a=>(de("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,o)=>{const s=yH(o);ZS(s,r)>0&&(r=s)}),new Mo(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}let Io=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function py(t){return null==t}function gy(t){return 0===t&&1/t==-1/0}function PH(t){return"number"==typeof t&&Number.isInteger(t)&&!gy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function mi(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=EH(e)),e=y_e(t.get(n),e);return EH(e)}function y_e(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function EH(t){return t+"\x01\x01"}function aa(t){const e=t.length;if(ke(e>=2),2===e)return ke("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),At.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const s=t.indexOf("\x01",o);switch((s<0||s>n)&&Te(),t.charAt(s+1)){case"\x01":const a=t.substring(o,s);let c;0===i.length?c=a:(i+=a,c=i,i=""),r.push(c);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Te()}o=s+2}return new At(r)}const MH=["userId","batchId"];function XP(t,e){return[t,mi(e)]}function IH(t,e,n){return[t,mi(e),n]}const v_e={},C_e=["prefixPath","collectionGroup","readTime","documentId"],w_e=["prefixPath","collectionGroup","documentId"],P_e=["collectionGroup","readTime","prefixPath","documentId"],E_e=["canonicalId","targetId"],M_e=["targetId","path"],I_e=["path","targetId"],O_e=["collectionId","parent"],b_e=["indexId","uid"],T_e=["uid","sequenceNumber"],A_e=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],D_e=["indexId","uid","orderedDocumentKey"],S_e=["userId","collectionPath","documentId"],R_e=["userId","collectionPath","largestBatchId"],x_e=["userId","collectionGroup","largestBatchId"],OH=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],k_e=[...OH,"documentOverlays"],bH=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],TH=bH,N_e=[...TH,"indexConfiguration","indexState","indexEntries"];class XS extends CH{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function Nr(t,e){const n=ye(t);return bs.M(n.ae,e)}function AH(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Il(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function DH(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class un{constructor(e,n){this.comparator=e,this.root=n||Qr.EMPTY}insert(e,n){return new un(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qr.BLACK,null,null))}remove(e){return new un(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new JP(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new JP(this.root,e,this.comparator,!1)}getReverseIterator(){return new JP(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new JP(this.root,e,this.comparator,!0)}}class JP{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qr{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Qr.RED,this.left=i??Qr.EMPTY,this.right=o??Qr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Qr(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Qr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Qr.EMPTY=null,Qr.RED=!0,Qr.BLACK=!1,Qr.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Qr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kt{constructor(e){this.comparator=e,this.data=new un(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new SH(this.data.getIterator())}getIteratorFrom(e){return new SH(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Kt(this.comparator);return n.data=e,n}}class SH{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Yf(t){return t.hasNext()?t.getNext():void 0}class io{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new io([])}unionWith(e){let n=new Kt(vn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new io(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Kf(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class RH extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ir{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new RH("Invalid base64 string: "+o):o}}(e);return new Ir(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Ir(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ir.EMPTY_BYTE_STRING=new Ir("");const L_e=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ol(t){if(ke(!!t),"string"==typeof t){let e=0;const n=L_e.exec(t);if(ke(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:zn(t.seconds),nanos:zn(t.nanos)}}function zn(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function tc(t){return"string"==typeof t?Ir.fromBase64String(t):Ir.fromUint8Array(t)}function eE(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function tE(t){const e=t.mapValue.fields.__previous_value__;return eE(e)?tE(e):e}function my(t){const e=Ol(t.mapValue.fields.__local_write_time__.timestampValue);return new Tn(e.seconds,e.nanos)}class V_e{constructor(e,n,r,i,o,s,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class bl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new bl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof bl&&e.projectId===this.projectId&&e.database===this.database}}const Tl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},nE={nullValue:"NULL_VALUE"};function Al(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?eE(t)?4:FH(t)?9007199254740991:10:Te()}function ca(t,e){if(t===e)return!0;const n=Al(t);if(n!==Al(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return my(t).isEqual(my(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Ol(i.timestampValue),a=Ol(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return o=e,tc(t.bytesValue).isEqual(tc(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return zn(i.geoPointValue.latitude)===zn(o.geoPointValue.latitude)&&zn(i.geoPointValue.longitude)===zn(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return zn(i.integerValue)===zn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=zn(i.doubleValue),a=zn(o.doubleValue);return s===a?gy(s)===gy(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Kf(t.arrayValue.values||[],e.arrayValue.values||[],ca);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(AH(s)!==AH(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===a[c]||!ca(s[c],a[c])))return!1;return!0}(t,e);default:return Te()}var o}function _y(t,e){return void 0!==(t.values||[]).find(n=>ca(n,e))}function Dl(t,e){if(t===e)return 0;const n=Al(t),r=Al(e);if(n!==r)return We(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=zn(o.integerValue||o.doubleValue),c=zn(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return xH(t.timestampValue,e.timestampValue);case 4:return xH(my(t),my(e));case 5:return We(t.stringValue,e.stringValue);case 6:return function(o,s){const a=tc(o),c=tc(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){const h=We(a[l],c[l]);if(0!==h)return h}return We(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=We(zn(o.latitude),zn(s.latitude));return 0!==a?a:We(zn(o.longitude),zn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],c=s.values||[];for(let l=0;l<a.length&&l<c.length;++l){const h=Dl(a[l],c[l]);if(h)return h}return We(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Tl.mapValue&&s===Tl.mapValue)return 0;if(o===Tl.mapValue)return 1;if(s===Tl.mapValue)return-1;const a=o.fields||{},c=Object.keys(a),l=s.fields||{},h=Object.keys(l);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const m=We(c[p],h[p]);if(0!==m)return m;const v=Dl(a[c[p]],l[h[p]]);if(0!==v)return v}return We(c.length,h.length)}(t.mapValue,e.mapValue);default:throw Te()}}function xH(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return We(t,e);const n=Ol(t),r=Ol(e),i=We(n.seconds,r.seconds);return 0!==i?i:We(n.nanos,r.nanos)}function Xf(t){return JS(t)}function JS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ol(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?tc(t.bytesValue).toBase64():"referenceValue"in t?ve.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=JS(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${JS(n.fields[s])}`;return i+"}"}(t.mapValue):Te()}function cd(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function eR(t){return!!t&&"integerValue"in t}function yy(t){return!!t&&"arrayValue"in t}function kH(t){return!!t&&"nullValue"in t}function NH(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function iE(t){return!!t&&"mapValue"in t}function vy(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Il(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=vy(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vy(t.arrayValue.values[n]);return e}return Object.assign({},t)}function FH(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function U_e(t){return"nullValue"in t?nE:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?cd(bl.empty(),ve.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Te()}function B_e(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?cd(bl.empty(),ve.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Tl:Te()}function LH(t,e){const n=Dl(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function VH(t,e){const n=Dl(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class Yr{constructor(e){this.value=e}static empty(){return new Yr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!iE(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vy(n)}setAll(e){let n=vn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=vy(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());iE(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ca(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];iE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Il(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Yr(vy(this.value))}}function UH(t){const e=[];return Il(t.fields,(n,r)=>{const i=new vn([n]);if(iE(r)){const o=UH(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new io(e)}class Cn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Cn(e,0,Ne.min(),Ne.min(),Ne.min(),Yr.empty(),0)}static newFoundDocument(e,n,r,i){return new Cn(e,1,n,Ne.min(),r,i,0)}static newNoDocument(e,n){return new Cn(e,2,n,Ne.min(),Ne.min(),Yr.empty(),0)}static newUnknownDocument(e,n){return new Cn(e,3,n,Ne.min(),Ne.min(),Yr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sl{constructor(e,n){this.position=e,this.inclusive=n}}function BH(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?ve.comparator(ve.fromName(s.referenceValue),n.key):Dl(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function jH(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ca(t.position[n],e.position[n]))return!1;return!0}class Cy{constructor(e,n="asc"){this.field=e,this.dir=n}}function j_e(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class $H{}class wt extends $H{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new $_e(e,n,r):"array-contains"===n?new G_e(e,r):"in"===n?new KH(e,r):"not-in"===n?new W_e(e,r):"array-contains-any"===n?new q_e(e,r):new wt(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new H_e(e,r):new z_e(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Dl(n,this.value)):null!==n&&Al(this.value)===Al(n)&&this.matchesComparison(Dl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ht extends $H{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Ht(e,n)}matches(e){return Jf(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Jf(t){return"and"===t.op}function tR(t){return"or"===t.op}function nR(t){return HH(t)&&Jf(t)}function HH(t){for(const e of t.filters)if(e instanceof Ht)return!1;return!0}function rR(t){if(t instanceof wt)return t.field.canonicalString()+t.op.toString()+Xf(t.value);if(nR(t))return t.filters.map(e=>rR(e)).join(",");{const e=t.filters.map(n=>rR(n)).join(",");return`${t.op}(${e})`}}function zH(t,e){return t instanceof wt?(r=t,(i=e)instanceof wt&&r.op===i.op&&r.field.isEqual(i.field)&&ca(r.value,i.value)):t instanceof Ht?function(r,i){return i instanceof Ht&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&zH(s,i.filters[a]),!0)}(t,e):void Te();var r,i}function GH(t,e){const n=t.filters.concat(e);return Ht.create(n,t.op)}function WH(t){return t instanceof wt?`${(n=t).field.canonicalString()} ${n.op} ${Xf(n.value)}`:t instanceof Ht?function(n){return n.op.toString()+" {"+n.getFilters().map(WH).join(" ,")+"}"}(t):"Filter";var n}class $_e extends wt{constructor(e,n,r){super(e,n,r),this.key=ve.fromName(r.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class H_e extends wt{constructor(e,n){super(e,"in",n),this.keys=qH(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class z_e extends wt{constructor(e,n){super(e,"not-in",n),this.keys=qH(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function qH(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>ve.fromName(r.referenceValue))}class G_e extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return yy(n)&&_y(n.arrayValue,this.value)}}class KH extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&_y(this.value.arrayValue,n)}}class W_e extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(_y(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!_y(this.value.arrayValue,n)}}class q_e extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!yy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>_y(this.value.arrayValue,r))}}class K_e{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function iR(t,e=null,n=[],r=[],i=null,o=null,s=null){return new K_e(t,e,n,r,i,o,s)}function ld(t){const e=ye(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>rR(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),py(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xf(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xf(r)).join(",")),e.ce=n}return e.ce}function wy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!j_e(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!zH(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jH(t.startAt,e.startAt)&&jH(t.endAt,e.endAt)}function oE(t){return ve.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function sE(t,e){return t.filters.filter(n=>n instanceof wt&&n.field.isEqual(e))}function ZH(t,e,n){let r=nE,i=!0;for(const o of sE(t,e)){let s=nE,a=!0;switch(o.op){case"<":case"<=":s=U_e(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=nE}LH({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(null!==n)for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];LH({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}return{value:r,inclusive:i}}function QH(t,e,n){let r=Tl,i=!0;for(const o of sE(t,e)){let s=Tl,a=!0;switch(o.op){case">=":case">":s=B_e(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Tl}VH({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(null!==n)for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];VH({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}return{value:r,inclusive:i}}class nc{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null}}function YH(t,e,n,r,i,o,s,a){return new nc(t,e,n,r,i,o,s,a)}function ep(t){return new nc(t)}function XH(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function oR(t){return null!==t.collectionGroup}function tp(t){const e=ye(t);if(null===e.le){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Kt(vn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Cy(o,r))}),n.has(vn.keyField().canonicalString())||e.le.push(new Cy(vn.keyField(),r))}return e.le}function Ui(t){const e=ye(t);return e.he||(e.he=function JH(t,e){if("F"===t.limitType)return iR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new Cy(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new Sl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Sl(t.startAt.position,t.startAt.inclusive):null;return iR(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,tp(t))),e.he}function sR(t,e){const n=t.filters.concat([e]);return new nc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function aE(t,e,n){return new nc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Py(t,e){return wy(Ui(t),Ui(e))&&t.limitType===e.limitType}function ez(t){return`${ld(Ui(t))}|lt:${t.limitType}`}function np(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>WH(i)).join(", ")}]`),py(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Xf(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Xf(i)).join(",")),`Target(${r})`}(Ui(t))}; limitType=${t.limitType})`}function Ey(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ve.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of tp(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(s,a,c){const l=BH(s,a,c);return s.inclusive?l<=0:l<0}(r.startAt,tp(r),i)||r.endAt&&!function(s,a,c){const l=BH(s,a,c);return s.inclusive?l>=0:l>0}(r.endAt,tp(r),i)));var r,i}function tz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nz(t){return(e,n)=>{let r=!1;for(const i of tp(t)){const o=Z_e(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function Z_e(t,e,n){const r=t.field.isKeyField()?ve.comparator(e.key,n.key):function(o,s,a){const c=s.data.field(o),l=a.data.field(o);return null!==c&&null!==l?Dl(c,l):Te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Te()}}class rc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Il(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return DH(this.inner)}size(){return this.innerSize}}const Q_e=new un(ve.comparator);function oo(){return Q_e}const rz=new un(ve.comparator);function My(...t){let e=rz;for(const n of t)e=e.insert(n.key,n);return e}function iz(t){let e=rz;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function la(){return Iy()}function oz(){return Iy()}function Iy(){return new rc(t=>t.toString(),(t,e)=>t.isEqual(e))}const Y_e=new un(ve.comparator),X_e=new Kt(ve.comparator);function ot(...t){let e=X_e;for(const n of t)e=e.add(n);return e}const J_e=new Kt(We);function aR(){return J_e}function sz(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gy(e)?"-0":e}}function az(t){return{integerValue:""+t}}function cz(t,e){return PH(e)?az(e):sz(t,e)}class cE{constructor(){this._=void 0}}function eye(t,e,n){return t instanceof rp?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&eE(o)&&(o=tE(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof ud?uz(t,e):t instanceof dd?dz(t,e):function(i,o){const s=lz(i,o),a=hz(s)+hz(i.Ie);return eR(s)&&eR(i.Ie)?az(a):sz(i.serializer,a)}(t,e)}function tye(t,e,n){return t instanceof ud?uz(t,e):t instanceof dd?dz(t,e):n}function lz(t,e){return t instanceof ip?eR(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class rp extends cE{}class ud extends cE{constructor(e){super(),this.elements=e}}function uz(t,e){const n=fz(e);for(const r of t.elements)n.some(i=>ca(i,r))||n.push(r);return{arrayValue:{values:n}}}class dd extends cE{constructor(e){super(),this.elements=e}}function dz(t,e){let n=fz(e);for(const r of t.elements)n=n.filter(i=>!ca(i,r));return{arrayValue:{values:n}}}class ip extends cE{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function hz(t){return zn(t.integerValue||t.doubleValue)}function fz(t){return yy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Oy{constructor(e,n){this.field=e,this.transform=n}}class rye{constructor(e,n){this.version=e,this.transformResults=n}}class An{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new An}static exists(e){return new An(void 0,e)}static updateTime(e){return new An(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lE(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class uE{}function pz(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new sp(t.key,An.none()):new op(t.key,t.data,An.none());{const n=t.data,r=Yr.empty();let i=new Kt(vn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new ic(t.key,r,new io(i.toArray()),An.none())}}function iye(t,e,n){t instanceof op?function(i,o,s){const a=i.value.clone(),c=_z(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ic?function(i,o,s){if(!lE(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=_z(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(mz(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function by(t,e,n,r){return t instanceof op?function(o,s,a,c){if(!lE(o.precondition,s))return a;const l=o.value.clone(),h=yz(o.fieldTransforms,c,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof ic?function(o,s,a,c){if(!lE(o.precondition,s))return a;const l=yz(o.fieldTransforms,c,s),h=s.data;return h.setAll(mz(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):(a=n,lE(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function oye(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=lz(r.transform,i||null);null!=o&&(null===n&&(n=Yr.empty()),n.set(r.field,o))}return n||null}function gz(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&Kf(r,i,(o,s)=>function nye(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof ud&&i instanceof ud||r instanceof dd&&i instanceof dd?Kf(r.elements,i.elements,ca):r instanceof ip&&i instanceof ip?ca(r.Ie,i.Ie):r instanceof rp&&i instanceof rp);var r,i}(o,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class op extends uE{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ic extends uE{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function mz(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function _z(t,e,n){const r=new Map;ke(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,tye(s,a,n[i]))}return r}function yz(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,eye(o,s,e))}return r}class sp extends uE{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cR extends uE{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class lR{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&iye(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=by(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=by(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=oz();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const c=pz(s,a);null!==c&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ot())}isEqual(e){return this.batchId===e.batchId&&Kf(this.mutations,e.mutations,(n,r)=>gz(n,r))&&Kf(this.baseMutations,e.baseMutations,(n,r)=>gz(n,r))}}class uR{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ke(e.mutations.length===r.length);let i=Y_e;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new uR(e,n,r,i)}}class dR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class aye{constructor(e,n){this.count=e,this.unchangedNames=n}}var hr,Dt;function vz(t){switch(t){default:return Te();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function Cz(t){if(void 0===t)return tr("GRPC error has no .code"),W.UNKNOWN;switch(t){case hr.OK:return W.OK;case hr.CANCELLED:return W.CANCELLED;case hr.UNKNOWN:return W.UNKNOWN;case hr.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case hr.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case hr.INTERNAL:return W.INTERNAL;case hr.UNAVAILABLE:return W.UNAVAILABLE;case hr.UNAUTHENTICATED:return W.UNAUTHENTICATED;case hr.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case hr.NOT_FOUND:return W.NOT_FOUND;case hr.ALREADY_EXISTS:return W.ALREADY_EXISTS;case hr.PERMISSION_DENIED:return W.PERMISSION_DENIED;case hr.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case hr.ABORTED:return W.ABORTED;case hr.OUT_OF_RANGE:return W.OUT_OF_RANGE;case hr.UNIMPLEMENTED:return W.UNIMPLEMENTED;case hr.DATA_LOSS:return W.DATA_LOSS;default:return Te()}}(Dt=hr||(hr={}))[Dt.OK=0]="OK",Dt[Dt.CANCELLED=1]="CANCELLED",Dt[Dt.UNKNOWN=2]="UNKNOWN",Dt[Dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dt[Dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dt[Dt.NOT_FOUND=5]="NOT_FOUND",Dt[Dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dt[Dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dt[Dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dt[Dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dt[Dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dt[Dt.ABORTED=10]="ABORTED",Dt[Dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dt[Dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dt[Dt.INTERNAL=13]="INTERNAL",Dt[Dt.UNAVAILABLE=14]="UNAVAILABLE",Dt[Dt.DATA_LOSS=15]="DATA_LOSS";function wz(){return new TextEncoder}const cye=new Gf([4294967295,4294967295],0);function Pz(t){const e=wz().encode(t),n=new t_e;return n.update(e),new Uint8Array(n.digest())}function Ez(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Gf([n,r],0),new Gf([i,o],0)]}class hR{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ty(`Invalid padding: ${n}`);if(r<0)throw new Ty(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Ty(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Ty(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Gf.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Gf.fromNumber(r)));return 1===i.compare(cye)&&(i=new Gf([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=Pz(e),[r,i]=Ez(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new hR(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const n=Pz(e),[r,i]=Ez(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Ty extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ay{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Dy.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ay(Ne.min(),i,new un(We),oo(),ot())}}class Dy{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Dy(r,n,ot(),ot(),ot())}}class hE{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class Mz{constructor(e,n){this.targetId=e,this.fe=n}}class Iz{constructor(e,n,r=Ir.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Oz{constructor(){this.ge=0,this.pe=Tz(),this.ye=Ir.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ot(),n=ot(),r=ot();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Te()}}),new Dy(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=Tz()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class lye{constructor(e){this.Le=e,this.ke=new Map,this.qe=oo(),this.Qe=bz(),this.Ke=new un(We)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(oE(o))if(0===r){const s=new ve(o.path);this.We(n,s,Cn.newNoDocument(s,Ne.min()))}else ke(1===r);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),c=a?this.et(a,e,s):1;0!==c&&(this.He(n),this.Ke=this.Ke.insert(n,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=tc(r).toUint8Array()}catch(c){if(c instanceof RH)return ro("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new hR(s,i,o)}catch(c){return ro(c instanceof Ty?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&oE(a.target)){const c=new ve(a.target.path);null!==this.qe.get(c)||this.st(s,c)||this.We(s,c,Cn.newNoDocument(c,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=ot();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const l=this.Ye(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new Ay(e,n,this.Ke,this.qe,r);return this.qe=oo(),this.Qe=bz(),this.Ke=new un(We),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Oz,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Kt(We),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||de("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Oz),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function bz(){return new un(ve.comparator)}function Tz(){return new un(ve.comparator)}const uye={asc:"ASCENDING",desc:"DESCENDING"},dye={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hye={and:"AND",or:"OR"};class fye{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fR(t,e){return t.useProto3Json||py(e)?e:{value:e}}function ap(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Az(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pye(t,e){return ap(t,e.toTimestamp())}function nr(t){return ke(!!t),Ne.fromTimestamp(function(n){const r=Ol(n);return new Tn(r.seconds,r.nanos)}(t))}function pR(t,e){return(r=t,new At(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function Dz(t){const e=At.fromString(t);return ke(Uz(e)),e}function Sy(t,e){return pR(t.databaseId,e.path)}function ua(t,e){const n=Dz(e);if(n.get(1)!==t.databaseId.projectId)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(Rz(n))}function gR(t,e){return pR(t.databaseId,e)}function Sz(t){const e=Dz(t);return 4===e.length?At.emptyPath():Rz(e)}function Ry(t){return new At(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Rz(t){return ke(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function xz(t,e,n){return{name:Sy(t,e),fields:n.value.mapValue.fields}}function kz(t,e,n){const r=ua(t,e.name),i=nr(e.updateTime),o=e.createTime?nr(e.createTime):Ne.min(),s=new Yr({mapValue:{fields:e.fields}}),a=Cn.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function xy(t,e){let n;if(e instanceof op)n={update:xz(t,e.key,e.value)};else if(e instanceof sp)n={delete:Sy(t,e.key)};else if(e instanceof ic)n={update:xz(t,e.key,e.data),updateMask:Pye(e.fieldMask)};else{if(!(e instanceof cR))return Te();n={verify:Sy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof rp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ud)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof dd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ip)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw Te()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:pye(t,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Te()),n;var o}function mR(t,e){const n=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?An.updateTime(nr(o.updateTime)):void 0!==o.exists?An.exists(o.exists):An.none():An.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let c=null;"setToServerValue"in a?(ke("REQUEST_TIME"===a.setToServerValue),c=new rp):"appendMissingElements"in a?c=new ud(a.appendMissingElements.values||[]):"removeAllFromArray"in a?c=new dd(a.removeAllFromArray.values||[]):"increment"in a?c=new ip(s,a.increment):Te();const l=vn.fromServerFormat(a.fieldPath);return new Oy(l,c)}(t,i)):[];var o;if(e.update){const i=ua(t,e.update.name),o=new Yr({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new io((e.updateMask.fieldPaths||[]).map(h=>vn.fromServerFormat(h)));return new ic(i,o,s,n,r)}return new op(i,o,n,r)}if(e.delete){const i=ua(t,e.delete);return new sp(i,n)}if(e.verify){const i=ua(t,e.verify);return new cR(i,n)}return Te()}function Nz(t,e){return{documents:[gR(t,e.path)]}}function _R(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=gR(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=gR(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return Vz(Ht.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(0!==c.length)return c.map(l=>{return{field:Rl((p=l).field),direction:vye(p.dir)};var p})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=fR(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n;var c}function Fz(t){let e=Sz(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ke(1===r);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){const m=Lz(p);return m instanceof Ht&&nR(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(m=>{return new Cy(cp((E=m).field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction));var E}));let a=null;n.limit&&(a=function(p){let m;return m="object"==typeof p?p.value:p,py(m)?null:m}(n.limit));let c=null;var p;n.startAt&&(c=new Sl((p=n.startAt).values||[],!!p.before));let l=null;return n.endAt&&(l=function(p){return new Sl(p.values||[],!p.before)}(n.endAt)),YH(e,i,s,o,a,"F",c,l)}function Lz(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=cp(n.unaryFilter.field);return wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=cp(n.unaryFilter.field);return wt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=cp(n.unaryFilter.field);return wt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=cp(n.unaryFilter.field);return wt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(t):void 0!==t.fieldFilter?wt.create(cp((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return Ht.create(n.compositeFilter.filters.map(r=>Lz(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(t):Te();var n}function vye(t){return uye[t]}function Cye(t){return dye[t]}function wye(t){return hye[t]}function Rl(t){return{fieldPath:t.canonicalString()}}function cp(t){return vn.fromServerFormat(t.fieldPath)}function Vz(t){return t instanceof wt?function(n){if("=="===n.op){if(NH(n.value))return{unaryFilter:{field:Rl(n.field),op:"IS_NAN"}};if(kH(n.value))return{unaryFilter:{field:Rl(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(NH(n.value))return{unaryFilter:{field:Rl(n.field),op:"IS_NOT_NAN"}};if(kH(n.value))return{unaryFilter:{field:Rl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rl(n.field),op:Cye(n.op),value:n.value}}}(t):t instanceof Ht?function(n){const r=n.getFilters().map(i=>Vz(i));return 1===r.length?r[0]:{compositeFilter:{op:wye(n.op),filters:r}}}(t):Te()}function Pye(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Uz(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class oc{constructor(e,n,r,i,o=Ne.min(),s=Ne.min(),a=Ir.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new oc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new oc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Bz{constructor(e){this.ut=e}}function jz(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:fE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Sy(o=t.ut,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:ap(o,s.version.toTimestamp()),createTime:ap(o,s.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:hd(e.version)};else{if(!e.isUnknownDocument())return Te();r.unknownDocument={path:n.path.toArray(),version:hd(e.version)}}var o,s;return r}function fE(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function hd(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function fd(t){const e=new Tn(t.seconds,t.nanoseconds);return Ne.fromTimestamp(e)}function pd(t,e){const n=(e.baseMutations||[]).map(o=>mR(t.ut,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const r=e.mutations.map(o=>mR(t.ut,o)),i=Tn.fromMillis(e.localWriteTimeMs);return new lR(e.batchId,i,n,r)}function ky(t){const e=fd(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?fd(t.lastLimboFreeSnapshotVersion):Ne.min();let r;return r=void 0!==t.query.documents?(ke(1===(o=t.query).documents.length),Ui(ep(Sz(o.documents[0])))):function(o){return Ui(Fz(o))}(t.query),new oc(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Ir.fromBase64String(t.resumeToken));var o}function $z(t,e){const n=hd(e.snapshotVersion),r=hd(e.lastLimboFreeSnapshotVersion);let i;i=oE(e.target)?Nz(t.ut,e.target):_R(t.ut,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ld(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function yR(t){const e=Fz({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?aE(e,e.limit,"L"):e}function vR(t,e){return new dR(e.largestBatchId,mR(t.ut,e.overlayMutation))}function Hz(t,e){const n=e.path.lastSegment();return[t,mi(e.path.popLast()),n]}function zz(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:hd(r.readTime),documentKey:mi(r.documentKey.path),largestBatchId:r.largestBatchId}}class Mye{getBundleMetadata(e,n){return Gz(e).get(n).next(r=>{if(r)return{id:(o=r).bundleId,createTime:fd(o.createTime),version:o.version};var o})}saveBundleMetadata(e,n){return Gz(e).put({bundleId:(i=n).id,createTime:hd(nr(i.createTime)),version:i.version});var i}getNamedQuery(e,n){return Wz(e).get(n).next(r=>{if(r)return{name:(o=r).name,query:yR(o.bundledQuery),readTime:fd(o.readTime)};var o})}saveNamedQuery(e,n){return Wz(e).put({name:(i=n).name,readTime:hd(nr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function Gz(t){return Nr(t,"bundles")}function Wz(t){return Nr(t,"namedQueries")}class pE{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){return new pE(e,n.uid||"")}getOverlay(e,n){return Ny(e).get(Hz(this.userId,n)).next(r=>r?vR(this.serializer,r):null)}getOverlays(e,n){const r=la();return B.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((o,s)=>{const a=new dR(n,s);i.push(this.lt(e,a))}),B.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(s=>i.add(mi(s.getCollectionPath())));const o=[];return i.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(Ny(e).H("collectionPathOverlayIndex",a))}),B.waitFor(o)}getOverlaysForCollection(e,n,r){const i=la(),o=mi(n),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Ny(e).W("collectionPathOverlayIndex",s).next(a=>{for(const c of a){const l=vR(this.serializer,c);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const o=la();let s;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Ny(e).Y({index:"collectionGroupOverlayIndex",range:a},(c,l,h)=>{const p=vR(this.serializer,l);o.size()<i||p.largestBatchId===s?(o.set(p.getKey(),p),s=p.largestBatchId):h.done()}).next(()=>o)}lt(e,n){return Ny(e).put(function(i,o,s){const[a,c,l]=Hz(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:xy(i.ut,s.mutation)}}(this.serializer,this.userId,n))}}function Ny(t){return Nr(t,"documentOverlays")}class gd{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(zn(e.integerValue));else if("doubleValue"in e){const r=zn(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),gy(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),"string"==typeof r?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(tc(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?FH(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):Te()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),ve.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}function Iye(t){if(0===t)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function qz(t){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const s=Iye(255&r[o]);if(i+=s,8!==s)break}return i}(t);return Math.ceil(e/8)}gd.St=new gd;class Oye{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Dt(r.value),r=n.next();this.Ct()}vt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{const i=n.codePointAt(0);this.Dt(240|i>>>18),this.Dt(128|63&i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i)}}this.Ct()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Nt(e){const n=this.Bt(e),r=qz(n);this.Lt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}kt(e){const n=this.Bt(e),r=qz(n);this.Lt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=0!=(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Dt(e){const n=255&e;0===n?(this.Qt(0),this.Qt(255)):255===n?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){const n=255&e;0===n?(this.$t(0),this.$t(255)):255===n?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class bye{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class Tye{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Fy{constructor(){this.Wt=new Oye,this.Gt=new bye(this.Wt),this.zt=new Tye(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class md{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Ht(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new md(this.indexId,this.documentKey,this.arrayValue,r)}}function xl(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=Kz(t.arrayValue,e.arrayValue),0!==n?n:(n=Kz(t.directionalValue,e.directionalValue),0!==n?n:ve.comparator(t.documentKey,e.documentKey)))}function Kz(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(0!==r)return r}return t.length-e.length}class Zz{constructor(e){this.Jt=new Kt((n,r)=>vn.comparator(n.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(ke(e.collectionGroup===this.collectionId),this.Xt)return!1;const n=KS(e);if(void 0!==n&&!this.tn(n))return!1;const r=od(e);let i=new Set,o=0,s=0;for(;o<r.length&&this.tn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const c=r[o];if(!this.nn(a,c)||!this.rn(this.Yt[s++],c))return!1}++o}for(;o<r.length;++o)if(s>=this.Yt.length||!this.rn(this.Yt[s++],r[o]))return!1;return!0}sn(){if(this.Xt)return null;let e=new Kt(vn.comparator);const n=[];for(const r of this.Zt)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)n.push(new sd(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new sd(r.field,0))}for(const r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new sd(r.field,"asc"===r.dir?0:1)));return new Zf(Zf.UNKNOWN_ID,this.collectionId,n,Qf.empty())}tn(e){for(const n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function Qz(t){var e,n;if(ke(t instanceof wt||t instanceof Ht),t instanceof wt){if(t instanceof KH){const i=(null===(n=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(o=>wt.create(t.field,"==",o)))||[];return Ht.create(i,"or")}return t}const r=t.filters.map(i=>Qz(i));return Ht.create(r,t.op)}function Aye(t){if(0===t.getFilters().length)return[];const e=PR(Qz(t));return ke(Yz(e)),CR(e)||wR(e)?[e]:e.getFilters()}function CR(t){return t instanceof wt}function wR(t){return t instanceof Ht&&nR(t)}function Yz(t){return CR(t)||wR(t)||function(n){if(n instanceof Ht&&tR(n)){for(const r of n.getFilters())if(!CR(r)&&!wR(r))return!1;return!0}return!1}(t)}function PR(t){if(ke(t instanceof wt||t instanceof Ht),t instanceof wt)return t;if(1===t.filters.length)return PR(t.filters[0]);const e=t.filters.map(r=>PR(r));let n=Ht.create(e,t.op);return n=gE(n),Yz(n)?n:(ke(n instanceof Ht),ke(Jf(n)),ke(n.filters.length>1),n.filters.reduce((r,i)=>ER(r,i)))}function ER(t,e){let n;return ke(t instanceof wt||t instanceof Ht),ke(e instanceof wt||e instanceof Ht),n=t instanceof wt?e instanceof wt?Ht.create([t,e],"and"):Xz(t,e):e instanceof wt?Xz(e,t):function(i,o){if(ke(i.filters.length>0&&o.filters.length>0),Jf(i)&&Jf(o))return GH(i,o.getFilters());const s=tR(i)?i:o,a=tR(i)?o:i,c=s.filters.map(l=>ER(l,a));return Ht.create(c,"or")}(t,e),gE(n)}function Xz(t,e){if(Jf(e))return GH(e,t.getFilters());{const n=e.filters.map(r=>ER(t,r));return Ht.create(n,"or")}}function gE(t){if(ke(t instanceof wt||t instanceof Ht),t instanceof wt)return t;const e=t.getFilters();if(1===e.length)return gE(e[0]);if(HH(t))return t;const n=e.map(i=>gE(i)),r=[];return n.forEach(i=>{i instanceof wt?r.push(i):i instanceof Ht&&(i.op===t.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Ht.create(r,t.op)}class Dye{constructor(){this.on=new MR}addToCollectionParentIndex(e,n){return this.on.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Mo.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Mo.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class MR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Kt(At.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Kt(At.comparator)).toArray()}}const mE=new Uint8Array(0);class Sye{constructor(e,n){this.user=e,this.databaseId=n,this._n=new MR,this.an=new rc(r=>ld(r),(r,i)=>wy(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});const o={collectionId:r,parent:mi(i)};return Jz(e).put(o)}return B.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[mH(n),""],!1,!0);return Jz(e).W(i).next(o=>{for(const s of o){if(s.collectionId!==n)break;r.push(aa(s.parent))}return r})}addFieldIndex(e,n){const r=Ly(e),i={indexId:(a=n).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;delete i.indexId;const o=r.add(i);if(n.indexState){const s=up(e);return o.next(a=>{s.put(zz(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const r=Ly(e),i=up(e),o=lp(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Ly(e),r=lp(e),i=up(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return B.forEach(this.un(n),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const o=new Zz(r).sn();if(null!=o)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){const r=lp(e);let i=!0;const o=new Map;return B.forEach(this.un(n),s=>this.cn(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=ot();const a=[];return B.forEach(o,(c,l)=>{var z;de("IndexedDbIndexManager",`Using index ${z=c,`id=${z.indexId}|cg=${z.collectionGroup}|f=${z.fields.map($=>`${$.fieldPath}:${$.kind}`).join(",")}`} to execute ${ld(n)}`);const h=function(z,$){const fe=KS($);if(void 0===fe)return null;for(const Ie of sE(z,fe.fieldPath))switch(Ie.op){case"array-contains-any":return Ie.value.arrayValue.values||[];case"array-contains":return[Ie.value]}return null}(l,c),p=function(z,$){const fe=new Map;for(const Ie of od($))for(const at of sE(z,Ie.fieldPath))switch(at.op){case"==":case"in":fe.set(Ie.fieldPath.canonicalString(),at.value);break;case"not-in":case"!=":return fe.set(Ie.fieldPath.canonicalString(),at.value),Array.from(fe.values())}return null}(l,c),m=function(z,$){const fe=[];let Ie=!0;for(const at of od($)){const Zt=0===at.kind?ZH(z,at.fieldPath,z.startAt):QH(z,at.fieldPath,z.startAt);fe.push(Zt.value),Ie&&(Ie=Zt.inclusive)}return new Sl(fe,Ie)}(l,c),v=function(z,$){const fe=[];let Ie=!0;for(const at of od($)){const Zt=0===at.kind?QH(z,at.fieldPath,z.endAt):ZH(z,at.fieldPath,z.endAt);fe.push(Zt.value),Ie&&(Ie=Zt.inclusive)}return new Sl(fe,Ie)}(l,c),E=this.ln(c,l,m),O=this.ln(c,l,v),b=this.hn(c,l,p),F=this.Pn(c.indexId,h,E,m.inclusive,O,v.inclusive,b);return B.forEach(F,x=>r.j(x,n.limit).next(z=>{z.forEach($=>{const fe=ve.fromSegments($.documentKey);s.has(fe)||(s=s.add(fe),a.push(fe))})}))}).next(()=>a)}return B.resolve(null)})}un(e){let n=this.an.get(e);return n||(n=0===e.filters.length?[e]:Aye(Ht.create(e.filters,"and")).map(r=>iR(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,r,i,o,s,a){const c=(null!=n?n.length:1)*Math.max(r.length,o.length),l=c/(null!=n?n.length:1),h=[];for(let p=0;p<c;++p){const m=n?this.In(n[p/l]):mE,v=this.Tn(e,m,r[p%l],i),E=this.En(e,m,o[p%l],s),O=a.map(b=>this.Tn(e,m,b,!0));h.push(...this.createRange(v,E,O))}return h}Tn(e,n,r,i){const o=new md(e,ve.empty(),n,r);return i?o:o.Ht()}En(e,n,r,i){const o=new md(e,ve.empty(),n,r);return i?o.Ht():o}cn(e,n){const r=new Zz(n),i=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(const a of o)r.en(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let r=2;const i=this.un(n);return B.forEach(i,o=>this.cn(e,o).next(s=>{s?0!==r&&s.fields.length<function(c){let l=new Kt(vn.comparator),h=!1;for(const p of c.filters)for(const m of p.getFlattenedFilters())m.field.isKeyField()||("array-contains"===m.op||"array-contains-any"===m.op?h=!0:l=l.add(m.field));for(const p of c.orderBy)p.field.isKeyField()||(l=l.add(p.field));return l.size+(h?1:0)}(o)&&(r=1):r=0})).next(()=>null!==n.limit&&i.length>1&&2===r?1:r)}dn(e,n){const r=new Fy;for(const i of od(e)){const o=n.data.field(i.fieldPath);if(null==o)return null;const s=r.jt(i.kind);gd.St.ht(o,s)}return r.Ut()}In(e){const n=new Fy;return gd.St.ht(e,n.jt(0)),n.Ut()}An(e,n){const r=new Fy;return gd.St.ht(cd(this.databaseId,n),r.jt(function(o){const s=od(o);return 0===s.length?0:s[s.length-1].kind}(e))),r.Ut()}hn(e,n,r){if(null===r)return[];let i=[];i.push(new Fy);let o=0;for(const s of od(e)){const a=r[o++];for(const c of i)if(this.Rn(n,s.fieldPath)&&yy(a))i=this.Vn(i,s,a);else{const l=c.jt(s.kind);gd.St.ht(a,l)}}return this.mn(i)}ln(e,n,r){return this.hn(e,n,r.position)}mn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Ut();return n}Vn(e,n,r){const i=[...e],o=[];for(const s of r.arrayValue.values||[])for(const a of i){const c=new Fy;c.seed(a.Ut()),gd.St.ht(s,c.jt(n.kind)),o.push(c)}return o}Rn(e,n){return!!e.filters.find(r=>r instanceof wt&&r.field.isEqual(n)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,n){const r=Ly(e),i=up(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(o=>{const s=[];return B.forEach(o,a=>i.get([a.indexId,this.uid]).next(c=>{s.push(function(h,p){const m=p?new Qf(p.sequenceNumber,new Mo(fd(p.readTime),new ve(aa(p.documentKey)),p.largestBatchId)):Qf.empty(),v=h.fields.map(([E,O])=>new sd(vn.fromServerFormat(E),O));return new Zf(h.indexId,h.collectionGroup,v,m)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==o?o:We(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Ly(e),o=up(e);return this.fn(e).next(s=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>B.forEach(a,c=>o.put(zz(c.indexId,this.user,s,r)))))}updateIndexEntries(e,n){const r=new Map;return B.forEach(n,(i,o)=>{const s=r.get(i.collectionGroup);return(s?B.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),B.forEach(a,c=>this.gn(e,i,c).next(l=>{const h=this.pn(o,c);return l.isEqual(h)?B.resolve():this.yn(e,o,c,l,h)}))))})}wn(e,n,r,i){return lp(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.An(r,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,r,i){return lp(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.An(r,n.key),n.key.path.toArray()])}gn(e,n,r){const i=lp(e);let o=new Kt(xl);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,n)])},(s,a)=>{o=o.add(new md(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}pn(e,n){let r=new Kt(xl);const i=this.dn(n,e);if(null==i)return r;const o=KS(n);if(null!=o){const s=e.data.field(o.fieldPath);if(yy(s))for(const a of s.arrayValue.values||[])r=r.add(new md(n.indexId,e.key,this.In(a),i))}else r=r.add(new md(n.indexId,e.key,mE,i));return r}yn(e,n,r,i,o){de("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const s=[];return function(c,l,h,p,m){const v=c.getIterator(),E=l.getIterator();let O=Yf(v),b=Yf(E);for(;O||b;){let F=!1,x=!1;if(O&&b){const z=h(O,b);z<0?x=!0:z>0&&(F=!0)}else null!=O?x=!0:F=!0;F?(p(b),b=Yf(E)):x?(m(O),O=Yf(v)):(O=Yf(v),b=Yf(E))}}(i,o,xl,a=>{s.push(this.wn(e,n,r,a))},a=>{s.push(this.Sn(e,n,r,a))}),B.waitFor(s)}fn(e){let n=1;return up(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,a)=>xl(s,a)).filter((s,a,c)=>!a||0!==xl(s,c[a-1]));const i=[];i.push(e);for(const s of r){const a=xl(s,e),c=xl(s,n);if(0===a)i[0]=e.Ht();else if(a>0&&c<0)i.push(s),i.push(s.Ht());else if(c>0)break}i.push(n);const o=[];for(let s=0;s<i.length;s+=2){if(this.bn(i[s],i[s+1]))return[];o.push(IDBKeyRange.bound([i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,mE,[]],[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,mE,[]]))}return o}bn(e,n){return xl(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(e8)}getMinOffset(e,n){return B.mapArray(this.un(n),r=>this.cn(e,r).next(i=>i||Te())).next(e8)}}function Jz(t){return Nr(t,"collectionParents")}function lp(t){return Nr(t,"indexEntries")}function Ly(t){return Nr(t,"indexConfiguration")}function up(t){return Nr(t,"indexState")}function e8(t){ke(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;ZS(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Mo(e.readTime,e.documentKey,n)}const t8={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class _i{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new _i(e,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function n8(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const c=r.Y({range:s},(h,p,m)=>(a++,m.delete()));o.push(c.next(()=>{ke(1===a)}));const l=[];for(const h of n.mutations){const p=IH(e,h.key.path,n.batchId);o.push(i.delete(p)),l.push(h.key)}return B.waitFor(o).next(()=>l)}function _E(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Te();e=t.noDocument}return JSON.stringify(e).length}_i.DEFAULT_COLLECTION_PERCENTILE=10,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_i.DEFAULT=new _i(41943040,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_i.DISABLED=new _i(-1,0,0);class yE{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}static ct(e,n,r,i){ke(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new yE(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return kl(e).Y({index:"userMutationsIndex",range:r},(i,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const o=dp(e),s=kl(e);return s.add({}).next(a=>{ke("number"==typeof a);const c=new lR(a,n,r,i),l=function(v,E,O){const b=O.baseMutations.map(x=>xy(v.ut,x)),F=O.mutations.map(x=>xy(v.ut,x));return{userId:E,batchId:O.batchId,localWriteTimeMs:O.localWriteTime.toMillis(),baseMutations:b,mutations:F}}(this.serializer,this.userId,c),h=[];let p=new Kt((m,v)=>We(m.canonicalString(),v.canonicalString()));for(const m of i){const v=IH(this.userId,m.key.path,a);p=p.add(m.key.path.popLast()),h.push(s.put(l)),h.push(o.put(v,v_e))}return p.forEach(m=>{h.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Dn[a]=c.keys()}),B.waitFor(h).next(()=>c)})}lookupMutationBatch(e,n){return kl(e).get(n).next(r=>r?(ke(r.userId===this.userId),pd(this.serializer,r)):null)}Cn(e,n){return this.Dn[n]?B.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Dn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return kl(e).Y({index:"userMutationsIndex",range:i},(s,a,c)=>{a.userId===this.userId&&(ke(a.batchId>=r),o=pd(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return kl(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return kl(e).W("userMutationsIndex",n).next(r=>r.map(i=>pd(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=XP(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return dp(e).Y({range:i},(s,a,c)=>{const[l,h,p]=s,m=aa(h);if(l===this.userId&&n.path.isEqual(m))return kl(e).get(p).next(v=>{if(!v)throw Te();ke(v.userId===this.userId),o.push(pd(this.serializer,v))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Kt(We);const i=[];return n.forEach(o=>{const s=XP(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=dp(e).Y({range:a},(l,h,p)=>{const[m,v,E]=l,O=aa(v);m===this.userId&&o.path.isEqual(O)?r=r.add(E):p.done()});i.push(c)}),B.waitFor(i).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=XP(this.userId,r),s=IDBKeyRange.lowerBound(o);let a=new Kt(We);return dp(e).Y({range:s},(c,l,h)=>{const[p,m,v]=c,E=aa(m);p===this.userId&&r.isPrefixOf(E)?E.length===i&&(a=a.add(v)):h.done()}).next(()=>this.vn(e,a))}vn(e,n){const r=[],i=[];return n.forEach(o=>{i.push(kl(e).get(o).next(s=>{if(null===s)throw Te();ke(s.userId===this.userId),r.push(pd(this.serializer,s))}))}),B.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return n8(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),B.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return B.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return dp(e).Y({range:r},(o,s,a)=>{if(o[0]===this.userId){const c=aa(o[1]);i.push(c)}else a.done()}).next(()=>{ke(0===i.length)})})}containsKey(e,n){return r8(e,this.userId,n)}Mn(e){return i8(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function r8(t,e,n){const r=XP(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return dp(t).Y({range:o,J:!0},(a,c,l)=>{const[h,p,m]=a;h===e&&p===i&&(s=!0),l.done()}).next(()=>s)}function kl(t){return Nr(t,"mutations")}function dp(t){return Nr(t,"documentMutations")}function i8(t){return Nr(t,"mutationQueues")}class _d{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new _d(0)}static Nn(){return new _d(-1)}}class Rye{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new _d(n.highestTargetId);return n.highestTargetId=r.next(),this.Ln(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>Ne.fromTimestamp(new Tn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Ln(e,i)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.qn(n,r),this.Ln(e,r))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>hp(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(ke(r.targetCount>0),r.targetCount-=1,this.Ln(e,r)))}removeTargets(e,n,r){let i=0;const o=[];return hp(e).Y((s,a)=>{const c=ky(a);c.sequenceNumber<=n&&null===r.get(c.targetId)&&(i++,o.push(this.removeTargetData(e,c)))}).next(()=>B.waitFor(o)).next(()=>i)}forEachTarget(e,n){return hp(e).Y((r,i)=>{const o=ky(i);n(o)})}Bn(e){return o8(e).get("targetGlobalKey").next(n=>(ke(null!==n),n))}Ln(e,n){return o8(e).put("targetGlobalKey",n)}kn(e,n){return hp(e).put($z(this.serializer,n))}qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=ld(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return hp(e).Y({range:i,index:"queryTargetsIndex"},(s,a,c)=>{const l=ky(a);wy(n,l.target)&&(o=l,c.done())}).next(()=>o)}addMatchingKeys(e,n,r){const i=[],o=Nl(e);return n.forEach(s=>{const a=mi(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),B.waitFor(i)}removeMatchingKeys(e,n,r){const i=Nl(e);return B.forEach(n,o=>{const s=mi(o.path);return B.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){const r=Nl(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Nl(e);let o=ot();return i.Y({range:r,J:!0},(s,a,c)=>{const l=aa(s[1]),h=new ve(l);o=o.add(h)}).next(()=>o)}containsKey(e,n){const r=mi(n.path),i=IDBKeyRange.bound([r],[mH(r)],!1,!0);let o=0;return Nl(e).Y({index:"documentTargetsIndex",J:!0,range:i},([s,a],c,l)=>{0!==s&&(o++,l.done())}).next(()=>o>0)}_t(e,n){return hp(e).get(n).next(r=>r?ky(r):null)}}function hp(t){return Nr(t,"targets")}function o8(t){return Nr(t,"targetGlobal")}function Nl(t){return Nr(t,"targetDocuments")}function s8([t,e],[n,r]){const i=We(t,n);return 0===i?We(e,r):i}class xye{constructor(e){this.Qn=e,this.buffer=new Kt(s8),this.Kn=0}$n(){return++this.Kn}Un(e){const n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();s8(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class a8{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var n=this;de("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,k.Z)(function*(){n.Wn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){Ml(r)?de("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield El(r)}yield n.Gn(3e5)}))}}class kye{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return B.resolve(Io._e);const r=new xye(n);return this.zn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.zn.Hn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(t8)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),t8):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let r,i,o,s,a,c,l;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),qf()<=ui.in.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-h}ms\n\tDetermined least recently used ${i} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(c-a)+`ms\n\tRemoved ${p} documents in `+(l-c)+`ms\nTotal Duration: ${l-h}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}}class Nye{constructor(e,n){this.db=e,this.garbageCollector=function c8(t,e){return new kye(t,e)}(this,n)}jn(e){const n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Yn(e){let n=0;return this.Hn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(r,i)=>n(i))}addReference(e,n,r){return vE(e,r)}removeReference(e,n,r){return vE(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return vE(e,n)}Xn(e,n){return function(i,o){let s=!1;return i8(i).Z(a=>r8(i,a,o).next(c=>(c&&(s=!0),B.resolve(!c)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Zn(e,(s,a)=>{if(a<=n){const c=this.Xn(e,s).next(l=>{if(!l)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,Ne.min()),Nl(e).delete([0,mi(s.path)])))});i.push(c)}}).next(()=>B.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return vE(e,n)}Zn(e,n){const r=Nl(e);let i,o=Io._e;return r.Y({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:l})=>{0===s?(o!==Io._e&&n(new ve(aa(i)),o),o=l,i=c):o=Io._e}).next(()=>{o!==Io._e&&n(new ve(aa(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function vE(t,e){return Nl(t).put((i=t.currentSequenceNumber,{targetId:0,path:mi(e.path),sequenceNumber:i}));var i}class l8{constructor(){this.changes=new rc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Fye{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return yd(e).put(r)}removeEntry(e,n,r){return yd(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],fE(s),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.er(e,r)))}getEntry(e,n){let r=Cn.newInvalidDocument(n);return yd(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Vy(n))},(i,o)=>{r=this.tr(n,o)}).next(()=>r)}nr(e,n){let r={size:0,document:Cn.newInvalidDocument(n)};return yd(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Vy(n))},(i,o)=>{r={document:this.tr(n,o),size:_E(o)}}).next(()=>r)}getEntries(e,n){let r=oo();return this.rr(e,n,(i,o)=>{const s=this.tr(i,o);r=r.insert(i,s)}).next(()=>r)}ir(e,n){let r=oo(),i=new un(ve.comparator);return this.rr(e,n,(o,s)=>{const a=this.tr(o,s);r=r.insert(o,a),i=i.insert(o,_E(s))}).next(()=>({documents:r,sr:i}))}rr(e,n,r){if(n.isEmpty())return B.resolve();let i=new Kt(f8);n.forEach(c=>i=i.add(c));const o=IDBKeyRange.bound(Vy(i.first()),Vy(i.last())),s=i.getIterator();let a=s.getNext();return yd(e).Y({index:"documentKeyIndex",range:o},(c,l,h)=>{const p=ve.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&f8(a,p)<0;)r(a,null),a=s.getNext();a&&a.isEqual(p)&&(r(a,l),a=s.hasNext()?s.getNext():null),a?h.U(Vy(a)):h.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,o){const s=n.path,a=[s.popLast().toArray(),s.lastSegment(),fE(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return yd(e).W(IDBKeyRange.bound(a,c,!0)).next(l=>{o?.incrementDocumentReadCount(l.length);let h=oo();for(const p of l){const m=this.tr(ve.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);m.isFoundDocument()&&(Ey(n,m)||i.has(m.key))&&(h=h.insert(m.key,m))}return h})}getAllFromCollectionGroup(e,n,r,i){let o=oo();const s=h8(n,r),a=h8(n,Mo.max());return yd(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,l,h)=>{const p=this.tr(ve.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(p.key,p),o.size===i&&h.done()}).next(()=>o)}newChangeBuffer(e){return new Lye(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return d8(e).get("remoteDocumentGlobalKey").next(n=>(ke(!!n),n))}er(e,n){return d8(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){const r=function Eye(t,e){let n;if(e.document)n=kz(t.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ve.fromSegments(e.noDocument.path),i=fd(e.noDocument.readTime);n=Cn.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Te();{const r=ve.fromSegments(e.unknownDocument.path),i=fd(e.unknownDocument.version);n=Cn.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const o=new Tn(i[0],i[1]);return Ne.fromTimestamp(o)}(e.readTime)),n}(this.serializer,n);if(!r.isNoDocument()||!r.version.isEqual(Ne.min()))return r}return Cn.newInvalidDocument(e)}}function u8(t){return new Fye(t)}class Lye extends l8{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new rc(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Kt((o,s)=>We(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ar.get(o);if(n.push(this._r.removeEntry(e,o,a.readTime)),s.isValidDocument()){const c=jz(this._r.serializer,s);i=i.add(o.path.popLast());const l=_E(c);r+=l-a.size,n.push(this._r.addEntry(e,o,c))}else if(r-=a.size,this.trackRemovals){const c=jz(this._r.serializer,s.convertToNoDocument(Ne.min()));n.push(this._r.addEntry(e,o,c))}}),i.forEach(o=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,o))}),n.push(this._r.updateMetadata(e,r)),B.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(r=>(this.ar.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:r,sr:i})=>(i.forEach((o,s)=>{this.ar.set(o,{size:s,readTime:r.get(o).readTime})}),r))}}function d8(t){return Nr(t,"remoteDocumentGlobal")}function yd(t){return Nr(t,"remoteDocumentsV14")}function Vy(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function h8(t,e){const n=e.documentKey.path.toArray();return[t,fE(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function f8(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=We(n[o],r[o]),i)return i;return i=We(n.length,r.length),i||(i=We(n[n.length-2],r[r.length-2]),i||We(n[n.length-1],r[r.length-1]))}class Vye{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class p8{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&by(r.mutation,i,io.empty(),Tn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ot()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ot()){const i=la();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=My();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=la();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ot()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=oo();const s=Iy(),a=Iy();return n.forEach((c,l)=>{const h=r.get(l.key);i.has(l.key)&&(void 0===h||h.mutation instanceof ic)?o=o.insert(l.key,l):void 0!==h?(s.set(l.key,h.mutation.getFieldMask()),by(h.mutation,l,h.mutation.getFieldMask(),Tn.now())):s.set(l.key,io.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new Vye(h,null!==(p=s.get(l))&&void 0!==p?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Iy();let i=new un((s,a)=>s-a),o=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(c=>{const l=n.get(c);if(null===l)return;let h=r.get(c)||io.empty();h=a.applyToLocalView(l,h),r.set(c,h);const p=(i.get(a.batchId)||ot()).add(c);i=i.insert(a.batchId,p)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,h=c.value,p=oz();h.forEach(m=>{if(!o.has(m)){const v=pz(n.get(m),r.get(m));null!==v&&p.set(m,v),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return B.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return ve.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):oR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var s}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):B.resolve(la());let a=-1,c=o;return s.next(l=>B.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?B.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,ot())).next(h=>({batchId:a,changes:iz(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(r=>{let i=My();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=My();return this.indexManager.getCollectionParents(e,o).next(a=>B.forEach(a,c=>{const l=(p=n,m=c.child(o),new nc(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt));var p,m;return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,l)=>{const h=l.getKey();null===s.get(h)&&(s=s.insert(h,Cn.newInvalidDocument(h)))});let a=My();return s.forEach((c,l)=>{const h=o.get(c);void 0!==h&&by(h.mutation,l,io.empty(),Tn.now()),Ey(n,l)&&(a=a.insert(c,l))}),a})}}class Uye{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return B.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(i=n).id,version:i.version,createTime:nr(i.createTime)}),B.resolve();var i}getNamedQuery(e,n){return B.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(i=n).name,query:yR(i.bundledQuery),readTime:nr(i.readTime)}),B.resolve();var i}}class Bye{constructor(){this.overlays=new un(ve.comparator),this.lr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=la();return B.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.lt(e,n,o)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=la(),o=n.length+1,s=new ve(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new un((l,h)=>l-h);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);null===h&&(h=la(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}const a=la(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return B.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new dR(n,r));let o=this.lr.get(n);void 0===o&&(o=ot(),this.lr.set(n,o)),this.lr.set(n,o.add(r.key))}}class IR{constructor(){this.hr=new Kt(Fr.Pr),this.Ir=new Kt(Fr.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Fr(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Fr(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new ve(new At([])),r=new Fr(n,e),i=new Fr(n,e+1),o=[];return this.Ir.forEachInRange([r,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new ve(new At([])),r=new Fr(n,e),i=new Fr(n,e+1);let o=ot();return this.Ir.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Fr(e,0),r=this.hr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Fr{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return ve.comparator(e.key,n.key)||We(e.gr,n.gr)}static Tr(e,n){return We(e.gr,n.gr)||ve.comparator(e.key,n.key)}}class jye{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Kt(Fr.Pr)}checkEmpty(e){return B.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.pr;this.pr++;const s=new lR(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.yr=this.yr.add(new Fr(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(s)}lookupMutationBatch(e,n){return B.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Sr(n+1),o=i<0?0:i;return B.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Fr(n,0),i=new Fr(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,i],s=>{const a=this.wr(s.gr);o.push(a)}),B.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Kt(We);return n.forEach(i=>{const o=new Fr(i,0),s=new Fr(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{r=r.add(a.gr)})}),B.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ve.isDocumentKey(o)||(o=o.child(""));const s=new Fr(new ve(o),0);let a=new Kt(We);return this.yr.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.gr)),!0)},s),B.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){ke(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return B.forEach(n.mutations,i=>{const o=new Fr(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Fr(n,0),i=this.yr.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return B.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class $ye{constructor(e){this.Cr=e,this.docs=new un(ve.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Cn.newInvalidDocument(n))}getEntries(e,n){let r=oo();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Cn.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=oo();const s=n.path,a=new ve(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:h}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||ZS(yH(h),r)<=0||(i.has(h.key)||Ey(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return B.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Te()}vr(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Hye(this)}getSize(e){return B.resolve(this.size)}}class Hye extends l8{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class zye{constructor(e){this.persistence=e,this.Fr=new rc(n=>ld(n),wy),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.Mr=0,this.Or=new IR,this.targetCount=0,this.Nr=_d.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),B.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new _d(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.kn(n),B.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),B.waitFor(o).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),B.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Or.containsKey(n))}}class OR{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Io(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new zye(this),this.indexManager=new Dye,this.remoteDocumentCache=new $ye(r=>this.referenceDelegate.Qr(r)),this.serializer=new Bz(n),this.Kr=new Uye(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Bye,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new jye(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){de("MemoryPersistence","Starting transaction:",e);const i=new Gye(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(e,n){return B.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class Gye extends CH{constructor(e){super(),this.currentSequenceNumber=e}}class CE{constructor(e){this.persistence=e,this.Gr=new IR,this.zr=null}static jr(e){return new CE(e)}get Hr(){if(this.zr)return this.zr;throw Te()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),B.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Hr,r=>{const i=ve.fromPath(r);return this.Jr(e,i).next(o=>{o||n.removeEntry(i,Ne.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return B.or([()=>B.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class Wye{constructor(e){this.serializer=e}N(e,n,r,i){const o=new YP("createOrUpgrade",n);var c;r<1&&i>=1&&(e.createObjectStore("owner"),(c=e).createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",MH,{unique:!0}),c.createObjectStore("documentMutations"),g8(e),function(c){c.createObjectStore("remoteDocuments")}(e));let s=B.resolve();return r<3&&i>=3&&(0!==r&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),g8(e)),s=s.next(()=>function(c){const l=c.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ne.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",h)}(o))),r<4&&i>=4&&(0!==r&&(s=s.next(()=>function(c,l){return l.store("mutations").W().next(h=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",MH,{unique:!0});const p=l.store("mutations"),m=h.map(v=>p.put(v));return B.waitFor(m)})}(e,o))),s=s.next(()=>{!function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(s=s.next(()=>this.Zr(o))),r<6&&i>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(o)))),r<7&&i>=7&&(s=s.next(()=>this.ei(o))),r<8&&i>=8&&(s=s.next(()=>this.ti(e,o))),r<9&&i>=9&&(s=s.next(()=>{!function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(s=s.next(()=>this.ni(o))),r<11&&i>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{!function(c){const l=c.createObjectStore("documentOverlays",{keyPath:S_e});l.createIndex("collectionPathOverlayIndex",R_e,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",x_e,{unique:!1})}(e)})),r<13&&i>=13&&(s=s.next(()=>function(c){const l=c.createObjectStore("remoteDocumentsV14",{keyPath:C_e});l.createIndex("documentKeyIndex",w_e),l.createIndex("collectionGroupIndex",P_e)}(e)).next(()=>this.ri(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.ii(e,o))),r<15&&i>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:b_e}).createIndex("sequenceNumberIndex",T_e,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:A_e}).createIndex("documentKeyIndex",D_e,{unique:!1})}(e))),s}Xr(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=_E(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>B.forEach(i,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",s).next(a=>B.forEach(a,c=>{ke(c.userId===o.userId);const l=pd(this.serializer,c);return n8(e,o.userId,l).next(()=>{})}))}))}ei(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.Y((s,a)=>{const c=new At(s),l=[0,mi(c)];o.push(n.get(l).next(h=>h?B.resolve():n.put({targetId:0,path:mi(c),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>B.waitFor(o))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:O_e});const r=n.store("collectionParents"),i=new MR,o=s=>{if(i.add(s)){const a=s.lastSegment(),c=s.popLast();return r.put({collectionId:a,parent:mi(c)})}};return n.store("remoteDocuments").Y({J:!0},(s,a)=>{const c=new At(s);return o(c.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([s,a,c],l)=>{const h=aa(a);return o(h.popLast())}))}ni(e){const n=e.store("targets");return n.Y((r,i)=>{const o=ky(i),s=$z(this.serializer,o);return n.put(s)})}ri(e,n){const r=n.store("remoteDocuments"),i=[];return r.Y((o,s)=>{const a=n.store("remoteDocumentsV14"),c=(p=s,p.document?new ve(At.fromString(p.document.name).popFirst(5)):p.noDocument?ve.fromSegments(p.noDocument.path):p.unknownDocument?ve.fromSegments(p.unknownDocument.path):Te()).path.toArray(),l={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var p;i.push(a.put(l))}).next(()=>B.waitFor(i))}ii(e,n){const r=n.store("mutations"),i=u8(this.serializer),o=new OR(CE.jr,this.serializer.ut);return r.W().next(s=>{const a=new Map;return s.forEach(c=>{var l;let h=null!==(l=a.get(c.userId))&&void 0!==l?l:ot();pd(this.serializer,c).keys().forEach(p=>h=h.add(p)),a.set(c.userId,h)}),B.forEach(a,(c,l)=>{const h=new kr(l),p=pE.ct(this.serializer,h),m=o.getIndexManager(h),v=yE.ct(h,this.serializer,m,o.referenceDelegate);return new p8(i,v,p,m).recalculateAndSaveOverlaysForDocumentKeys(new XS(n,Io._e),c).next()})})}}function g8(t){t.createObjectStore("targetDocuments",{keyPath:M_e}).createIndex("documentTargetsIndex",I_e,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",E_e,{unique:!0}),t.createObjectStore("targetGlobal")}const bR="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class TR{constructor(e,n,r,i,o,s,a,c,l,h,p=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.si=o,this.window=s,this.document=a,this.oi=l,this._i=h,this.ai=p,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=m=>Promise.resolve(),!TR.D())throw new le(W.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Nye(this,i),this.Ii=n+"main",this.serializer=new Bz(c),this.Ti=new bs(this.Ii,this.ai,new Wye(this.serializer)),this.qr=new Rye(this.referenceDelegate,this.serializer),this.remoteDocumentCache=u8(this.serializer),this.Kr=new Mye,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===h&&tr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new le(W.FAILED_PRECONDITION,bR);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new Io(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var n=this;return this.Pi=function(){var r=(0,k.Z)(function*(i){if(n.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var n=(0,k.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,k.Z)(function*(){n.started&&(yield n.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>PE(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(Ml(e))return de("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return de("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return Uy(e).get("owner").next(n=>B.resolve(this.wi(n)))}Si(e){return PE(e).delete(this.clientId)}bi(){var e=this;return(0,k.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Nr(r,"clientMetadata");return i.W().next(o=>{const s=e.Ci(o,18e5),a=o.filter(c=>-1===s.indexOf(c));return B.forEach(a,c=>i.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Ei)for(const r of n)e.Ei.removeItem(e.vi(r.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?B.resolve(!0):Uy(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new le(W.FAILED_PRECONDITION,bR);return!1}}return!(!this.networkEnabled||!this.inForeground)||PE(e).W().next(r=>void 0===this.Ci(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(n=>(this.isPrimary!==n&&de("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,k.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const r=new XS(n,Io._e);return e.pi(r).next(()=>e.Si(r))}),e.Ti.close(),e.Ni()})()}Ci(e,n){return e.filter(r=>this.Di(r.updateTimeMs,n)&&!this.Fi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>PE(e).W().next(n=>this.Ci(n,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return yE.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Sye(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return pE.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,r){de("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===n?"readonly":"readwrite",o=15===(c=this.ai)?N_e:14===c?TH:13===c?bH:12===c?k_e:11===c?OH:void Te();var c;let s;return this.Ti.runTransaction(e,i,o,a=>(s=new XS(a,this.Lr?this.Lr.next():Io._e),"readwrite-primary"===n?this.fi(s).next(c=>!!c||this.gi(s)).next(c=>{if(!c)throw tr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new le(W.FAILED_PRECONDITION,vH);return r(s)}).next(c=>this.yi(s).next(()=>c)):this.Li(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Li(e){return Uy(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new le(W.FAILED_PRECONDITION,bR)})}yi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Uy(e).put("owner",n)}static D(){return bs.D()}pi(e){const n=Uy(e);return n.get("owner").next(r=>this.wi(r)?(de("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):B.resolve())}Di(e,n){const r=Date.now();return!(e<r-n||e>r&&(tr(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const n=/(?:Version|Mobile)\/1[456]/;(0,M.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{const r=null!==(null===(n=this.Ei)||void 0===n?void 0:n.getItem(this.vi(e)));return de("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return tr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){tr("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Uy(t){return Nr(t,"owner")}function PE(t){return Nr(t,"clientMetadata")}function AR(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class DR{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=ot(),i=ot();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new DR(e,n.fromCache,r,i)}}class qye{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class m8{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.zi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new qye;return this.Hi(e,n,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,n,s,a.size)})}).next(()=>o.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(qf()<=ui.in.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",np(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),B.resolve()):(qf()<=ui.in.DEBUG&&de("QueryEngine","Query:",np(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(qf()<=ui.in.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",np(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ui(n))):B.resolve())}zi(e,n){if(XH(n))return B.resolve(null);let r=Ui(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=aE(n,null,"F"),r=Ui(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ot(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.Yi(n,a);return this.Zi(n,l,s,c.readTime)?this.zi(e,aE(n,null,"F")):this.Xi(e,l,n,c)}))})))}ji(e,n,r,i){return XH(n)||i.isEqual(Ne.min())?B.resolve(null):this.Gi.getDocuments(e,r).next(o=>{const s=this.Yi(n,o);return this.Zi(n,s,r,i)?B.resolve(null):(qf()<=ui.in.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),np(n)),this.Xi(e,s,n,_H(i,-1)).next(a=>a))})}Yi(e,n){let r=new Kt(nz(e));return n.forEach((i,o)=>{Ey(e,o)&&(r=r.add(o))}),r}Zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(e,n,r){return qf()<=ui.in.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",np(n)),this.Gi.getDocumentsMatchingQuery(e,n,Mo.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class Kye{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new un(We),this.ns=new rc(o=>ld(o),wy),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new p8(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function _8(t,e,n,r){return new Kye(t,e,n,r)}function y8(t,e){return SR.apply(this,arguments)}function SR(){return SR=(0,k.Z)(function*(t,e){const n=ye(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let c=ot();for(const l of i){s.push(l.batchId);for(const h of l.mutations)c=c.add(h.key)}for(const l of o){a.push(l.batchId);for(const h of l.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(l=>({_s:l,removedBatchIds:s,addedBatchIds:a}))})})}),SR.apply(this,arguments)}function v8(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function C8(t,e,n){let r=ot(),i=ot();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=oo();return n.forEach((a,c)=>{const l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Ne.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):de("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{us:s,cs:i}})}function Yye(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function fp(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(o=>o?(i=o,B.resolve(i)):n.qr.allocateTargetId(r).next(s=>(i=new oc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}function pp(t,e,n){return RR.apply(this,arguments)}function RR(){return RR=(0,k.Z)(function*(t,e,n){const r=ye(t),i=r.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Ml(s))throw s;de("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),RR.apply(this,arguments)}function EE(t,e,n){const r=ye(t);let i=Ne.min(),o=ot();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,h){const p=ye(c),m=p.ns.get(h);return void 0!==m?B.resolve(p.ts.get(m)):p.qr.getTargetData(l,h)}(r,s,Ui(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.es.getDocumentsMatchingQuery(s,e,n?i:Ne.min(),n?o:ot())).next(a=>(E8(r,tz(e),a),{documents:a,ls:o})))}function w8(t,e){const n=ye(t),r=ye(n.qr),i=n.ts.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",o=>r._t(o,e).next(s=>s?s.target:null))}function P8(t,e){const n=ye(t),r=n.rs.get(e)||Ne.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.ss.getAllFromCollectionGroup(i,e,_H(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(E8(n,e,i),i))}function E8(t,e,n){let r=t.rs.get(e)||Ne.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.rs.set(e,r)}function xR(){return xR=(0,k.Z)(function*(t,e,n,r){const i=ye(t);let o=ot(),s=oo();for(const l of n){const h=e.hs(l.metadata.name);l.document&&(o=o.add(h));const p=e.Ps(l);p.setReadTime(e.Is(l.metadata.readTime)),s=s.insert(h,p)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),c=yield fp(i,(h=r,Ui(ep(At.fromString(`__bundle__/docs/${h}`)))));var h;return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>C8(l,a,s).next(h=>(a.apply(l),h)).next(h=>i.qr.removeMatchingKeysForTargetId(l,c.targetId).next(()=>i.qr.addMatchingKeys(l,o,c.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,h.us,h.cs)).next(()=>h.us)))}),xR.apply(this,arguments)}function Jye(t,e){return kR.apply(this,arguments)}function kR(){return kR=(0,k.Z)(function*(t,e,n=ot()){const r=yield fp(t,Ui(yR(e.bundledQuery))),i=ye(t);return i.persistence.runTransaction("Save named query","readwrite",o=>{const s=nr(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Kr.saveNamedQuery(o,e);const a=r.withResumeToken(Ir.EMPTY_BYTE_STRING,s);return i.ts=i.ts.insert(a.targetId,a),i.qr.updateTargetData(o,a).next(()=>i.qr.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.qr.addMatchingKeys(o,n,r.targetId)).next(()=>i.Kr.saveNamedQuery(o,e))})}),kR.apply(this,arguments)}function M8(t,e){return`firestore_clients_${t}_${e}`}function I8(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function NR(t,e){return`firestore_targets_${t}_${e}`}class ME{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ts(e,n,r){const i=JSON.parse(r);let o,s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(o=new le(i.error.code,i.error.message))),s?new ME(e,n,i.state,o):(tr("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class By{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ts(e,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new le(r.error.code,r.error.message))),o?new By(e,r.state,i):(tr("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class IE{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ts(e,n){const r=JSON.parse(n);let i="object"==typeof r&&r.activeTargetIds instanceof Array,o=aR();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=PH(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new IE(e,o):(tr("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class FR{constructor(e,n){this.clientId=e,this.onlineState=n}static Ts(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new FR(n.clientId,n.onlineState):(tr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class LR{constructor(){this.activeTargetIds=aR()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VR{constructor(e,n,r,i,o){this.window=e,this.si=n,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new un(We),this.started=!1,this.ps=[];const s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ys=M8(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new LR),this.Ss=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,k.Z)(function*(){const n=yield e.syncEngine.Bi();for(const i of n){if(i===e.Rs)continue;const o=e.getItem(M8(e.persistenceKey,i));if(o){const s=IE.Ts(i,o);s&&(e.gs=e.gs.insert(s.clientId,s))}}e.Fs();const r=e.storage.getItem(e.Cs);if(r){const i=e.Ms(r);i&&e.xs(i)}for(const i of e.ps)e.fs(i);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let n=!1;return this.gs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,n,r){this.Ns(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(NR(this.persistenceKey,e));if(r){const i=By.Ts(e,r);i&&(n=i.state)}}return this.Ls.ds(e),this.Fs(),n}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(NR(this.persistenceKey,e))}updateQueryState(e,n,r){this.ks(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return de("SharedClientState","READ",e,n),n}setItem(e,n){de("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){de("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var n=this;const r=e;if(r.storageArea===this.storage){if(de("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ys)return void tr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,k.Z)(function*(){if(n.started){if(null!==r.key)if(n.Ss.test(r.key)){if(null==r.newValue){const i=n.Ks(r.key);return n.$s(i,null)}{const i=n.Us(r.key,r.newValue);if(i)return n.$s(i.clientId,i)}}else if(n.bs.test(r.key)){if(null!==r.newValue){const i=n.Ws(r.key,r.newValue);if(i)return n.Gs(i)}}else if(n.Ds.test(r.key)){if(null!==r.newValue){const i=n.zs(r.key,r.newValue);if(i)return n.js(i)}}else if(r.key===n.Cs){if(null!==r.newValue){const i=n.Ms(r.newValue);if(i)return n.xs(i)}}else if(r.key===n.ws){const i=function(s){let a=Io._e;if(null!=s)try{const c=JSON.parse(s);ke("number"==typeof c),a=c}catch(c){tr("SharedClientState","Failed to read sequence number from WebStorage",c)}return a}(r.newValue);i!==Io._e&&n.sequenceNumberHandler(i)}else if(r.key===n.vs){const i=n.Hs(r.newValue);yield Promise.all(i.map(o=>n.syncEngine.Js(o)))}}else n.ps.push(r)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,n,r){const i=new ME(this.currentUser,e,n,r),o=I8(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Es())}Bs(e){const n=I8(this.persistenceKey,this.currentUser,e);this.removeItem(n)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,n,r){const i=NR(this.persistenceKey,e),o=new By(e,n,r);this.setItem(i,o.Es())}Qs(e){const n=JSON.stringify(Array.from(e));this.setItem(this.vs,n)}Ks(e){const n=this.Ss.exec(e);return n?n[1]:null}Us(e,n){const r=this.Ks(e);return IE.Ts(r,n)}Ws(e,n){const r=this.bs.exec(e),i=Number(r[1]);return ME.Ts(new kr(void 0!==r[2]?r[2]:null),i,n)}zs(e,n){const r=this.Ds.exec(e),i=Number(r[1]);return By.Ts(i,n)}Ms(e){return FR.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var n=this;return(0,k.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Ys(e.batchId,e.state,e.error);de("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,n){const r=n?this.gs.insert(e,n):this.gs.remove(e),i=this.Os(this.gs),o=this.Os(r),s=[],a=[];return o.forEach(c=>{i.has(c)||s.push(c)}),i.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.Xs(s,a).then(()=>{this.gs=r})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let n=aR();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class O8{constructor(){this.eo=new LR,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new LR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class eve{ro(e){}shutdown(){}}class b8{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){de("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){de("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let OE=null;function UR(){return null===OE?OE=268435456+Math.round(2147483648*Math.random()):OE++,"0x"+OE.toString(16)}const tve={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nve{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const yi="WebChannelConnection";class rve extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${o}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get yo(){return!1}wo(n,r,i,o,s){const a=UR(),c=this.So(n,r);de("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,o,s),this.Do(n,c,l,i).then(h=>(de("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw ro("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",c,"request:",i),h})}Co(n,r,i,o,s,a){return this.wo(n,r,i,o,s)}bo(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+Wf,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}So(n,r){return`${this.mo}/v1/${r}:${tve[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const o=UR();return new Promise((s,a)=>{const c=new e_e;c.setWithCredentials(!0),c.listenOnce(Yme.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case WS.NO_ERROR:const h=c.getResponseJson();de(yi,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case WS.TIMEOUT:de(yi,`RPC '${e}' ${o} timed out`),a(new le(W.DEADLINE_EXCEEDED,"Request time out"));break;case WS.HTTP_ERROR:const p=c.getStatus();if(de(yi,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const v=m?.error;if(v&&v.status&&v.message){const E=function(b){const F=b.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(F)>=0?F:W.UNKNOWN}(v.status);a(new le(E,v.message))}else a(new le(W.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new le(W.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{de(yi,`RPC '${e}' ${o} completed.`)}});const l=JSON.stringify(i);de(yi,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",l,r,15)})}vo(e,n,r){const i=UR(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Zme(),a=Qme(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new Jme({})),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=o.join("");de(yi,`Creating RPC '${e}' stream ${i}: ${h}`,c);const p=s.createWebChannel(h,c);let m=!1,v=!1;const E=new nve({co:b=>{v?de(yi,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(m||(de(yi,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),de(yi,`RPC '${e}' stream ${i} sending:`,b),p.send(b))},lo:()=>p.close()}),O=(b,F,x)=>{b.listen(F,z=>{try{x(z)}catch($){setTimeout(()=>{throw $},0)}})};return O(p,QP.EventType.OPEN,()=>{v||de(yi,`RPC '${e}' stream ${i} transport opened.`)}),O(p,QP.EventType.CLOSE,()=>{v||(v=!0,de(yi,`RPC '${e}' stream ${i} transport closed`),E.Ro())}),O(p,QP.EventType.ERROR,b=>{v||(v=!0,ro(yi,`RPC '${e}' stream ${i} transport errored:`,b),E.Ro(new le(W.UNAVAILABLE,"The operation could not be completed")))}),O(p,QP.EventType.MESSAGE,b=>{var F;if(!v){const x=b.data[0];ke(!!x);const $=x.error||(null===(F=x[0])||void 0===F?void 0:F.error);if($){de(yi,`RPC '${e}' stream ${i} received error:`,$);const fe=$.status;let Ie=function(so){const Tp=hr[so];if(void 0!==Tp)return Cz(Tp)}(fe),at=$.message;void 0===Ie&&(Ie=W.INTERNAL,at="Unknown error status: "+fe+" with message "+$.message),v=!0,E.Ro(new le(Ie,at)),p.close()}else de(yi,`RPC '${e}' stream ${i} received:`,x),E.Vo(x)}}),O(a,Xme.STAT_EVENT,b=>{b.stat===dH.PROXY?de(yi,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===dH.NOPROXY&&de(yi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.Ao()},0),E}}function T8(){return typeof window<"u"?window:null}function bE(){return typeof document<"u"?document:null}function jy(t){return new fye(t,!0)}class BR{constructor(e,n,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&de("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class A8{constructor(e,n,r,i,o,s,a,c){this.si=e,this.Ko=r,this.$o=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new BR(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,k.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,k.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var r=this;return(0,k.Z)(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(tr(n.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):n&&n.code===W.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new le(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko((0,k.Z)(function*(){e.state=0,e.start()}))}o_(e){return de("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(de("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ive extends A8{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function mye(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:Te(),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(ke(void 0===h||"string"==typeof h),Ir.fromBase64String(h||"")):(ke(void 0===h||h instanceof Uint8Array),Ir.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const h=void 0===l.code?W.UNKNOWN:Cz(l.code);return new le(h,l.message||"")}(s);n=new Iz(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=ua(t,r.document.name),o=nr(r.document.updateTime),s=r.document.createTime?nr(r.document.createTime):Ne.min(),a=new Yr({mapValue:{fields:r.document.fields}}),c=Cn.newFoundDocument(i,o,s,a);n=new hE(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=ua(t,r.document),o=r.readTime?nr(r.readTime):Ne.min(),s=Cn.newNoDocument(i,o);n=new hE([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=ua(t,r.document);n=new hE([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Te();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new aye(i,o);n=new Mz(r.targetId,s)}}var l;return n}(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ne.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Ne.min():s.readTime?nr(s.readTime):Ne.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=Ry(this.serializer),n.addTarget=function(o,s){let a;const c=s.target;if(a=oE(c)?{documents:Nz(o,c)}:{query:_R(o,c)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Az(o,s.resumeToken);const l=fR(o,s.expectedCount);null!==l&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(Ne.min())>0){a.readTime=ap(o,s.snapshotVersion.toTimestamp());const l=fR(o,s.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,e);const r=function yye(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=Ry(this.serializer),n.removeTarget=e,this.e_(n)}}class ove extends A8{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function _ye(t,e){return t&&t.length>0?(ke(void 0!==e),t.map(n=>function(i,o){let s=nr(i.updateTime?i.updateTime:o);return s.isEqual(Ne.min())&&(s=nr(o)),new rye(s,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=nr(e.commitTime);return this.listener.I_(r,n)}return ke(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Ry(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>xy(this.serializer,r))};this.e_(n)}}class sve extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.wo(e,n,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new le(W.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,n,r,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new le(W.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class cve{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(tr(n),this.f_=!1):de("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class lve{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{r.enqueueAndForget((0,k.Z)(function*(){var c;Fl(s)&&(de("RemoteStore","Restarting streams for network reachability change."),yield(c=(0,k.Z)(function*(h){const p=ye(h);p.C_.add(4),yield gp(p),p.M_.set("Unknown"),p.C_.delete(4),yield $y(p)}),function l(h){return c.apply(this,arguments)})(s))}))}),this.M_=new cve(r,i)}}function $y(t){return $R.apply(this,arguments)}function $R(){return $R=(0,k.Z)(function*(t){if(Fl(t))for(const e of t.v_)yield e(!0)}),$R.apply(this,arguments)}function gp(t){return HR.apply(this,arguments)}function HR(){return HR=(0,k.Z)(function*(t){for(const e of t.v_)yield e(!1)}),HR.apply(this,arguments)}function TE(t,e){const n=ye(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),WR(n)?GR(n):_p(n).Ho()&&zR(n,e))}function Hy(t,e){const n=ye(t),r=_p(n);n.D_.delete(e),r.Ho()&&D8(n,e),0===n.D_.size&&(r.Ho()?r.Zo():Fl(n)&&n.M_.set("Unknown"))}function zR(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_p(t).u_(e)}function D8(t,e){t.x_.Oe(e),_p(t).c_(e)}function GR(t){t.x_=new lye({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),_p(t).start(),t.M_.g_()}function WR(t){return Fl(t)&&!_p(t).jo()&&t.D_.size>0}function Fl(t){return 0===ye(t).C_.size}function S8(t){t.x_=void 0}function uve(t){return qR.apply(this,arguments)}function qR(){return qR=(0,k.Z)(function*(t){t.D_.forEach((e,n)=>{zR(t,e)})}),qR.apply(this,arguments)}function dve(t,e){return KR.apply(this,arguments)}function KR(){return KR=(0,k.Z)(function*(t,e){S8(t),WR(t)?(t.M_.w_(e),GR(t)):t.M_.set("Unknown")}),KR.apply(this,arguments)}function hve(t,e,n){return ZR.apply(this,arguments)}function ZR(){return ZR=(0,k.Z)(function*(t,e,n){if(t.M_.set("Online"),e instanceof Iz&&2===e.state&&e.cause)try{yield(r=(0,k.Z)(function*(o,s){const a=s.cause;for(const c of s.targetIds)o.D_.has(c)&&(yield o.remoteSyncer.rejectListen(c,a),o.D_.delete(c),o.x_.removeTarget(c))}),function i(o,s){return r.apply(this,arguments)})(t,e)}catch(r){de("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield AE(t,r)}else if(e instanceof hE?t.x_.$e(e):e instanceof Mz?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(Ne.min()))try{const r=yield v8(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const h=o.D_.get(l);h&&o.D_.set(l,h.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{const h=o.D_.get(c);if(!h)return;o.D_.set(c,h.withResumeToken(Ir.EMPTY_BYTE_STRING,h.snapshotVersion)),D8(o,c);const p=new oc(h.target,c,l,h.sequenceNumber);zR(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){de("RemoteStore","Failed to raise snapshot:",r),yield AE(t,r)}var r}),ZR.apply(this,arguments)}function AE(t,e,n){return QR.apply(this,arguments)}function QR(){return QR=(0,k.Z)(function*(t,e,n){if(!Ml(e))throw e;t.C_.add(1),yield gp(t),t.M_.set("Offline"),n||(n=()=>v8(t.localStore)),t.asyncQueue.enqueueRetryable((0,k.Z)(function*(){de("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield $y(t)}))}),QR.apply(this,arguments)}function R8(t,e){return e().catch(n=>AE(t,n,e))}function mp(t){return YR.apply(this,arguments)}function YR(){return YR=(0,k.Z)(function*(t){const e=ye(t),n=Ll(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;fve(e);)try{const i=yield Yye(e.localStore,r);if(null===i){0===e.b_.length&&n.Zo();break}r=i.batchId,pve(e,i)}catch(i){yield AE(e,i)}x8(e)&&k8(e)}),YR.apply(this,arguments)}function fve(t){return Fl(t)&&t.b_.length<10}function pve(t,e){t.b_.push(e);const n=Ll(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function x8(t){return Fl(t)&&!Ll(t).jo()&&t.b_.length>0}function k8(t){Ll(t).start()}function gve(t){return XR.apply(this,arguments)}function XR(){return XR=(0,k.Z)(function*(t){Ll(t).E_()}),XR.apply(this,arguments)}function mve(t){return JR.apply(this,arguments)}function JR(){return JR=(0,k.Z)(function*(t){const e=Ll(t);for(const n of t.b_)e.P_(n.mutations)}),JR.apply(this,arguments)}function _ve(t,e,n){return ex.apply(this,arguments)}function ex(){return ex=(0,k.Z)(function*(t,e,n){const r=t.b_.shift(),i=uR.from(r,e,n);yield R8(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield mp(t)}),ex.apply(this,arguments)}function yve(t,e){return tx.apply(this,arguments)}function tx(){return tx=(0,k.Z)(function*(t,e){var n;e&&Ll(t).h_&&(yield(n=(0,k.Z)(function*(i,o){if(vz(a=o.code)&&a!==W.ABORTED){const s=i.b_.shift();Ll(i).Yo(),yield R8(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield mp(i)}var a}),function r(i,o){return n.apply(this,arguments)})(t,e)),x8(t)&&k8(t)}),tx.apply(this,arguments)}function N8(t,e){return nx.apply(this,arguments)}function nx(){return nx=(0,k.Z)(function*(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),de("RemoteStore","RemoteStore received new credentials");const r=Fl(n);n.C_.add(3),yield gp(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield $y(n)}),nx.apply(this,arguments)}function rx(t,e){return ix.apply(this,arguments)}function ix(){return ix=(0,k.Z)(function*(t,e){const n=ye(t);e?(n.C_.delete(2),yield $y(n)):e||(n.C_.add(2),yield gp(n),n.M_.set("Unknown"))}),ix.apply(this,arguments)}function _p(t){return t.O_||(t.O_=function(n,r,i){const o=ye(n);return o.A_(),new ive(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:uve.bind(null,t),Io:dve.bind(null,t),a_:hve.bind(null,t)}),t.v_.push(function(){var e=(0,k.Z)(function*(n){n?(t.O_.Yo(),WR(t)?GR(t):t.M_.set("Unknown")):(yield t.O_.stop(),S8(t))});return function(n){return e.apply(this,arguments)}}())),t.O_}function Ll(t){return t.N_||(t.N_=function(n,r,i){const o=ye(n);return o.A_(),new ove(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:gve.bind(null,t),Io:yve.bind(null,t),T_:mve.bind(null,t),I_:_ve.bind(null,t)}),t.v_.push(function(){var e=(0,k.Z)(function*(n){n?(t.N_.Yo(),yield mp(t)):(yield t.N_.stop(),t.b_.length>0&&(de("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))});return function(n){return e.apply(this,arguments)}}())),t.N_}class ox{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new ox(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new le(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yp(t,e){if(tr("AsyncQueue",`${e}: ${t}`),Ml(t))return new le(W.UNAVAILABLE,`${e}: ${t}`);throw t}class vp{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ve.comparator(n.key,r.key):(n,r)=>ve.comparator(n.key,r.key),this.keyedMap=My(),this.sortedSet=new un(this.comparator)}static emptySet(e){return new vp(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vp)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new vp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class F8{constructor(){this.B_=new un(ve.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(n):1===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Te():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Cp{constructor(e,n,r,i,o,s,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Cp(e,n,vp.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Py(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class vve{constructor(){this.k_=void 0,this.listeners=[]}}class Cve{constructor(){this.queries=new rc(e=>ez(e),Py),this.onlineState="Unknown",this.q_=new Set}}function sx(t,e){return ax.apply(this,arguments)}function ax(){return ax=(0,k.Z)(function*(t,e){const n=ye(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new vve),i)try{o.k_=yield n.onListen(r)}catch(s){const a=yp(s,`Initialization of query '${np(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Q_(n.onlineState),o.k_&&e.K_(o.k_)&&ux(n)}),ax.apply(this,arguments)}function cx(t,e){return lx.apply(this,arguments)}function lx(){return lx=(0,k.Z)(function*(t,e){const n=ye(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),lx.apply(this,arguments)}function wve(t,e){const n=ye(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.listeners)a.K_(i)&&(r=!0);s.k_=i}}r&&ux(n)}function Pve(t,e,n){const r=ye(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function ux(t){t.q_.forEach(e=>{e.next()})}class dx{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Cp(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Cp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class Eve{constructor(e,n){this.Y_=e,this.byteLength=n}Z_(){return"metadata"in this.Y_}}class L8{constructor(e){this.serializer=e}hs(e){return ua(this.serializer,e)}Ps(e){return e.metadata.exists?kz(this.serializer,e.document,!1):Cn.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return nr(e)}}class Mve{constructor(e,n,r){this.X_=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=V8(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++n;const r=At.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ta(e){const n=new Map,r=new L8(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.hs(i.metadata.name);for(const s of i.metadata.queries){const a=(n.get(s)||ot()).add(o);n.set(s,a)}}return n}complete(){var e=this;return(0,k.Z)(function*(){const n=yield function Xye(t,e,n,r){return xR.apply(this,arguments)}(e.localStore,new L8(e.serializer),e.documents,e.X_.id),r=e.ta(e.documents);for(const i of e.queries)yield Jye(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:n}})()}}function V8(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class U8{constructor(e){this.key=e}}class B8{constructor(e){this.key=e}}class j8{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ot(),this.mutatedKeys=ot(),this._a=nz(e),this.aa=new vp(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new F8,i=n?n.aa:this.aa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{const m=i.get(h),v=Ey(this.query,p)?p:null,E=!!m&&this.mutatedKeys.has(m.key),O=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let b=!1;m&&v?m.data.isEqual(v.data)?E!==O&&(r.track({type:3,doc:v}),b=!0):this.ha(m,v)||(r.track({type:2,doc:v}),b=!0,(c&&this._a(v,c)>0||l&&this._a(v,l)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),b=!0):m&&!v&&(r.track({type:1,doc:m}),b=!0,(c||l)&&(a=!0)),b&&(v?(s=s.add(v),o=O?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const h="F"===this.query.limitType?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{aa:s,la:r,Zi:a,mutatedKeys:o}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((l,h)=>function(m,v){const E=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return E(m)-E(v)}(l.type,h.type)||this._a(l.doc,h.doc)),this.Pa(r);const s=n?this.Ia():[],a=0===this.oa.size&&this.current?1:0,c=a!==this.sa;return this.sa=a,0!==o.length||c?{snapshot:new Cp(this.query,e.aa,i,o,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new F8,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ot(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new B8(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new U8(r))}),n}da(e){this.ia=e.ls,this.oa=ot();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Cp.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Ive{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Ove{constructor(e){this.key=e,this.Ra=!1}}class bve{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new rc(a=>ez(a),Py),this.fa=new Map,this.ga=new Set,this.pa=new un(ve.comparator),this.ya=new Map,this.wa=new IR,this.Sa={},this.ba=new Map,this.Da=_d.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function Tve(t,e){return hx.apply(this,arguments)}function hx(){return hx=(0,k.Z)(function*(t,e){const n=Nx(t);let r,i;const o=n.ma.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{const s=yield fp(n.localStore,Ui(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield fx(n,e,r,"current"===a,s.resumeToken),n.isPrimaryClient&&TE(n.remoteStore,s)}return i}),hx.apply(this,arguments)}function fx(t,e,n,r,i){return px.apply(this,arguments)}function px(){return px=(0,k.Z)(function*(t,e,n,r,i){t.va=(p,m,v)=>{return(E=(0,k.Z)(function*(b,F,x,z){let $=F.view.ca(x);$.Zi&&($=yield EE(b.localStore,F.query,!1).then(({documents:at})=>F.view.ca(at,$)));const fe=z&&z.targetChanges.get(F.targetId),Ie=F.view.applyChanges($,b.isPrimaryClient,fe);return Mx(b,F.targetId,Ie.Ta),Ie.snapshot}),function O(b,F,x,z){return E.apply(this,arguments)})(t,p,m,v);var E};const o=yield EE(t.localStore,e,!0),s=new j8(e,o.ls),a=s.ca(o.documents),c=Dy.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=s.applyChanges(a,t.isPrimaryClient,c);Mx(t,n,l.Ta);const h=new Ive(e,n,s);return t.ma.set(e,h),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),l.snapshot}),px.apply(this,arguments)}function Ave(t,e){return gx.apply(this,arguments)}function gx(){return gx=(0,k.Z)(function*(t,e){const n=ye(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(o=>!Py(o,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield pp(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Hy(n.remoteStore,r.targetId),wp(n,r.targetId)}).catch(El))):(wp(n,r.targetId),yield pp(n.localStore,r.targetId,!0))}),gx.apply(this,arguments)}function mx(){return mx=(0,k.Z)(function*(t,e,n){const r=Fx(t);try{const i=yield function(s,a){const c=ye(s),l=Tn.now(),h=a.reduce((v,E)=>v.add(E.key),ot());let p,m;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let E=oo(),O=ot();return c.ss.getEntries(v,h).next(b=>{E=b,E.forEach((F,x)=>{x.isValidDocument()||(O=O.add(F))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,E)).next(b=>{p=b;const F=[];for(const x of a){const z=oye(x,p.get(x.key).overlayedDocument);null!=z&&F.push(new ic(x.key,z,UH(z.value.mapValue),An.exists(!0)))}return c.mutationQueue.addMutationBatch(v,l,F,a)}).next(b=>{m=b;const F=b.applyToLocalDocumentSet(p,O);return c.documentOverlayCache.saveOverlays(v,b.batchId,F)})}).then(()=>({batchId:m.batchId,changes:iz(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let l=s.Sa[s.currentUser.toKey()];l||(l=new un(We)),l=l.insert(a,c),s.Sa[s.currentUser.toKey()]=l}(r,i.batchId,n),yield sc(r,i.changes),yield mp(r.remoteStore)}catch(i){const o=yp(i,"Failed to persist write");n.reject(o)}}),mx.apply(this,arguments)}function $8(t,e){return _x.apply(this,arguments)}function _x(){return _x=(0,k.Z)(function*(t,e){const n=ye(t);try{const r=yield function Qye(t,e){const n=ye(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((h,p)=>{const m=i.get(p);if(!m)return;a.push(n.qr.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.qr.addMatchingKeys(o,h.addedDocuments,p)));let v=m.withSequenceNumber(o.currentSequenceNumber);var O,b,F;null!==e.targetMismatches.get(p)?v=v.withResumeToken(Ir.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),b=v,F=h,(0===(O=m).resumeToken.approximateByteSize()||b.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8||F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0)&&a.push(n.qr.updateTargetData(o,v))});let c=oo(),l=ot();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(C8(o,s,e.documentUpdates).next(h=>{c=h.us,l=h.cs})),!r.isEqual(Ne.min())){const h=n.qr.getLastRemoteSnapshotVersion(o).next(p=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return B.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(n.ts=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.ya.get(o);s&&(ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ra=!0:i.modifiedDocuments.size>0?ke(s.Ra):i.removedDocuments.size>0&&(ke(s.Ra),s.Ra=!1))}),yield sc(n,r,e)}catch(r){yield El(r)}}),_x.apply(this,arguments)}function H8(t,e,n){const r=ye(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const c=ye(s);c.onlineState=a;let l=!1;c.queries.forEach((h,p)=>{for(const m of p.listeners)m.Q_(a)&&(l=!0)}),l&&ux(c)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Sve(t,e,n){return yx.apply(this,arguments)}function yx(){return yx=(0,k.Z)(function*(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),o=i&&i.key;if(o){let s=new un(ve.comparator);s=s.insert(o,Cn.newNoDocument(o,Ne.min()));const a=ot().add(o),c=new Ay(Ne.min(),new Map,new un(We),s,a);yield $8(r,c),r.pa=r.pa.remove(o),r.ya.delete(e),Ix(r)}else yield pp(r.localStore,e,!1).then(()=>wp(r,e,n)).catch(El)}),yx.apply(this,arguments)}function Rve(t,e){return vx.apply(this,arguments)}function vx(){return vx=(0,k.Z)(function*(t,e){const n=ye(t),r=e.batch.batchId;try{const i=yield function Zye(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,h){const p=l.batch,m=p.keys();let v=B.resolve();return m.forEach(E=>{v=v.next(()=>h.getEntry(c,E)).next(O=>{const b=l.docVersions.get(E);ke(null!==b),O.version.compareTo(b)<0&&(p.applyToRemoteDocument(O,l),O.isValidDocument()&&(O.setReadTime(l.commitVersion),h.addEntry(O)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=ot();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);Ex(n,r,null),Px(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield sc(n,i)}catch(i){yield El(i)}}),vx.apply(this,arguments)}function xve(t,e,n){return Cx.apply(this,arguments)}function Cx(){return Cx=(0,k.Z)(function*(t,e,n){const r=ye(t);try{const i=yield function(s,a){const c=ye(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return c.mutationQueue.lookupMutationBatch(l,a).next(p=>(ke(null!==p),h=p.keys(),c.mutationQueue.removeMutationBatch(l,p))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>c.localDocuments.getDocuments(l,h))})}(r.localStore,e);Ex(r,e,n),Px(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield sc(r,i)}catch(i){yield El(i)}}),Cx.apply(this,arguments)}function wx(){return wx=(0,k.Z)(function*(t,e){const n=ye(t);Fl(n.remoteStore)||de("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const a=ye(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(n.localStore);if(-1===r)return void e.resolve();const i=n.ba.get(r)||[];i.push(e),n.ba.set(r,i)}catch(r){const i=yp(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),wx.apply(this,arguments)}function Px(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function Ex(t,e,n){const r=ye(t);let i=r.Sa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function wp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||z8(t,r)})}function z8(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);null!==n&&(Hy(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),Ix(t))}function Mx(t,e,n){for(const r of n)r instanceof U8?(t.wa.addReference(r.key,e),Nve(t,r)):r instanceof B8?(de("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||z8(t,r.key)):Te()}function Nve(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(de("SyncEngine","New document in limbo: "+n),t.ga.add(r),Ix(t))}function Ix(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new ve(At.fromString(e)),r=t.Da.next();t.ya.set(r,new Ove(n)),t.pa=t.pa.insert(n,r),TE(t.remoteStore,new oc(Ui(ep(n.path)),r,"TargetPurposeLimboResolution",Io._e))}}function sc(t,e,n){return Ox.apply(this,arguments)}function Ox(){return Ox=(0,k.Z)(function*(t,e,n){const r=ye(t),i=[],o=[],s=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,c)=>{s.push(r.va(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const h=DR.Qi(c.targetId,l);o.push(h)}}))}),yield Promise.all(s),r.Va.a_(i),yield(a=(0,k.Z)(function*(l,h){const p=ye(l);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>B.forEach(h,v=>B.forEach(v.ki,E=>p.persistence.referenceDelegate.addReference(m,v.targetId,E)).next(()=>B.forEach(v.qi,E=>p.persistence.referenceDelegate.removeReference(m,v.targetId,E)))))}catch(m){if(!Ml(m))throw m;de("LocalStore","Failed to update sequence numbers: "+m)}for(const m of h){const v=m.targetId;if(!m.fromCache){const E=p.ts.get(v),b=E.withLastLimboFreeSnapshotVersion(E.snapshotVersion);p.ts=p.ts.insert(v,b)}}}),function c(l,h){return a.apply(this,arguments)})(r.localStore,o))}),Ox.apply(this,arguments)}function Fve(t,e){return bx.apply(this,arguments)}function bx(){return bx=(0,k.Z)(function*(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){de("SyncEngine","User change. New user:",e.toKey());const r=yield y8(n.localStore,e);n.currentUser=e,(o=n).ba.forEach(a=>{a.forEach(c=>{c.reject(new le(W.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ba.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield sc(n,r._s)}var o}),bx.apply(this,arguments)}function Lve(t,e){const n=ye(t),r=n.ya.get(e);if(r&&r.Ra)return ot().add(r.key);{let i=ot();const o=n.fa.get(e);if(!o)return i;for(const s of o){const a=n.ma.get(s);i=i.unionWith(a.view.ua)}return i}}function Vve(t,e){return Tx.apply(this,arguments)}function Tx(){return Tx=(0,k.Z)(function*(t,e){const n=ye(t),r=yield EE(n.localStore,e.query,!0),i=e.view.da(r);return n.isPrimaryClient&&Mx(n,e.targetId,i.Ta),i}),Tx.apply(this,arguments)}function Uve(t,e){return Ax.apply(this,arguments)}function Ax(){return Ax=(0,k.Z)(function*(t,e){const n=ye(t);return P8(n.localStore,e).then(r=>sc(n,r))}),Ax.apply(this,arguments)}function Bve(t,e,n,r){return Dx.apply(this,arguments)}function Dx(){return Dx=(0,k.Z)(function*(t,e,n,r){const i=ye(t),o=yield function(a,c){const l=ye(a),h=ye(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",p=>h.Cn(p,c).next(m=>m?l.localDocuments.getDocuments(p,m):B.resolve(null)))}(i.localStore,e);var c;null!==o?("pending"===n?yield mp(i.remoteStore):"acknowledged"===n||"rejected"===n?(Ex(i,e,r||null),Px(i,e),c=e,ye(ye(i.localStore).mutationQueue).Fn(c)):Te(),yield sc(i,o)):de("SyncEngine","Cannot apply mutation batch with id: "+e)}),Dx.apply(this,arguments)}function Sx(){return Sx=(0,k.Z)(function*(t,e){const n=ye(t);if(Nx(n),Fx(n),!0===e&&!0!==n.Ca){const r=n.sharedClientState.getAllActiveQueryTargets(),i=yield G8(n,r.toArray());n.Ca=!0,yield rx(n.remoteStore,!0);for(const o of i)TE(n.remoteStore,o)}else if(!1===e&&!1!==n.Ca){const r=[];let i=Promise.resolve();n.fa.forEach((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(wp(n,s),pp(n.localStore,s,!0))),Hy(n.remoteStore,s)}),yield i,yield G8(n,r),function(s){const a=ye(s);a.ya.forEach((c,l)=>{Hy(a.remoteStore,l)}),a.wa.Vr(),a.ya=new Map,a.pa=new un(ve.comparator)}(n),n.Ca=!1,yield rx(n.remoteStore,!1)}}),Sx.apply(this,arguments)}function G8(t,e,n){return Rx.apply(this,arguments)}function Rx(){return Rx=(0,k.Z)(function*(t,e,n){const r=ye(t),i=[],o=[];for(const s of e){let a;const c=r.fa.get(s);if(c&&0!==c.length){a=yield fp(r.localStore,Ui(c[0]));for(const l of c){const h=r.ma.get(l),p=yield Vve(r,h);p.snapshot&&o.push(p.snapshot)}}else{const l=yield w8(r.localStore,s);a=yield fp(r.localStore,l),yield fx(r,W8(l),s,!1,a.resumeToken)}i.push(a)}return r.Va.a_(o),i}),Rx.apply(this,arguments)}function W8(t){return YH(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function $ve(t){return n=ye(t).localStore,ye(ye(n).persistence).Bi();var n}function Hve(t,e,n,r){return xx.apply(this,arguments)}function xx(){return xx=(0,k.Z)(function*(t,e,n,r){const i=ye(t);if(i.Ca)return void de("SyncEngine","Ignoring unexpected query state notification.");const o=i.fa.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{const s=yield P8(i.localStore,tz(o[0])),a=Ay.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,Ir.EMPTY_BYTE_STRING);yield sc(i,s,a);break}case"rejected":yield pp(i.localStore,e,!0),wp(i,e,r);break;default:Te()}}),xx.apply(this,arguments)}function zve(t,e,n){return kx.apply(this,arguments)}function kx(){return kx=(0,k.Z)(function*(t,e,n){const r=Nx(t);if(r.Ca){for(const i of e){if(r.fa.has(i)){de("SyncEngine","Adding an already active target "+i);continue}const o=yield w8(r.localStore,i),s=yield fp(r.localStore,o);yield fx(r,W8(o),s.targetId,!1,s.resumeToken),TE(r.remoteStore,s)}for(const i of n)r.fa.has(i)&&(yield pp(r.localStore,i,!1).then(()=>{Hy(r.remoteStore,i),wp(r,i)}).catch(El))}}),kx.apply(this,arguments)}function Nx(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$8.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lve.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Sve.bind(null,e),e.Va.a_=wve.bind(null,e.eventManager),e.Va.Fa=Pve.bind(null,e.eventManager),e}function Fx(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Rve.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xve.bind(null,e),e}class zy{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,k.Z)(function*(){n.serializer=jy(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return _8(this.persistence,new m8,e.initialUser,this.serializer)}createPersistence(e){return new OR(CE.jr,this.serializer)}createSharedClientState(e){return new O8}terminate(){var e=this;return(0,k.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Lx extends zy{constructor(e,n,r){super(),this.xa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,r=this;return(0,k.Z)(function*(){yield n().call(r,e),yield r.xa.initialize(r,e),yield Fx(r.xa.syncEngine),yield mp(r.xa.remoteStore),yield r.persistence.mi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return _8(this.persistence,new m8,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new a8(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new __e(n,this.persistence);return new m_e(e.asyncQueue,r)}createPersistence(e){const n=AR(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?_i.withCacheSize(this.cacheSizeBytes):_i.DEFAULT;return new TR(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,T8(),bE(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new O8}}class q8 extends Lx{constructor(e,n){super(e,n,!1),this.xa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,r=this;return(0,k.Z)(function*(){yield n().call(r,e);const i=r.xa.syncEngine;r.sharedClientState instanceof VR&&(r.sharedClientState.syncEngine={Ys:Bve.bind(null,i),Zs:Hve.bind(null,i),Xs:zve.bind(null,i),Bi:$ve.bind(null,i),Js:Uve.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.mi(function(){var o=(0,k.Z)(function*(s){yield function jve(t,e){return Sx.apply(this,arguments)}(r.xa.syncEngine,s),r.gcScheduler&&(s&&!r.gcScheduler.started?r.gcScheduler.start():s||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(s&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():s||r.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const n=T8();if(!VR.D(n))throw new le(W.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=AR(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new VR(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Pp{initialize(e,n){var r=this;return(0,k.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>H8(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Fve.bind(null,r.syncEngine),yield rx(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Cve}createDatastore(e){const n=jy(e.databaseInfo.databaseId),r=new rve(e.databaseInfo);return new sve(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,o=e.asyncQueue,s=n=>H8(this.syncEngine,n,0),a=b8.D()?new b8:new eve,new lve(r,i,o,s,a);var r,i,o,s,a}createSyncEngine(e,n){return function(i,o,s,a,c,l,h){const p=new bve(i,o,s,a,c,l);return h&&(p.Ca=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,k.Z)(function*(r){const i=ye(r);de("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield gp(i),i.F_.shutdown(),i.M_.set("Unknown")}),function n(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function K8(t,e=10240){let n=0;return{read:()=>(0,k.Z)(function*(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})(),cancel:()=>(0,k.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class DE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):tr("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class qve{constructor(e,n){this.Ba=e,this.serializer=n,this.metadata=new Mr,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(r=>{r&&r.Z_()?this.metadata.resolve(r.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Y_)}`))},r=>this.metadata.reject(r))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,k.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,k.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,k.Z)(function*(){const n=yield e.qa();if(null===n)return null;const r=e.La.decode(n),i=Number(r);isNaN(i)&&e.Qa(`length string (${r}) is not valid number`);const o=yield e.Ka(i);return new Eve(JSON.parse(o),n.length+i)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,k.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const n=e.$a();n<0&&e.Qa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),r})()}Ka(e){var n=this;return(0,k.Z)(function*(){for(;n.buffer.length<e;)(yield n.Ua())&&n.Qa("Reached the end of bundle when more is expected.");const r=n.La.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),r})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,k.Z)(function*(){const n=yield e.Ba.read();if(!n.done){const r=new Uint8Array(e.buffer.length+n.value.length);r.set(e.buffer),r.set(n.value,e.buffer.length),e.buffer=r}return n.done})()}}class Kve{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,k.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new le(W.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,k.Z)(function*(s,a){const c=ye(s),l=Ry(c.serializer)+"/documents",h={documents:a.map(E=>Sy(c.serializer,E))},p=yield c.Co("BatchGetDocuments",l,h,a.length),m=new Map;p.forEach(E=>{const O=function gye(t,e){return"found"in e?function(r,i){ke(!!i.found);const o=ua(r,i.found.name),s=nr(i.found.updateTime),a=i.found.createTime?nr(i.found.createTime):Ne.min(),c=new Yr({mapValue:{fields:i.found.fields}});return Cn.newFoundDocument(o,s,a,c)}(t,e):"missing"in e?function(r,i){ke(!!i.missing),ke(!!i.readTime);const o=ua(r,i.missing),s=nr(i.readTime);return Cn.newNoDocument(o,s)}(t,e):Te()}(c.serializer,E);m.set(O.key.toString(),O)});const v=[];return a.forEach(E=>{const O=m.get(E.toString());ke(!!O),v.push(O)}),v}),function o(s,a){return i.apply(this,arguments)})(n.datastore,e);var i;return r.forEach(i=>n.recordVersion(i)),r})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new sp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,k.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var r;e.mutations.forEach(r=>{n.delete(r.key.toString())}),n.forEach((r,i)=>{const o=ve.fromPath(i);e.mutations.push(new cR(o,e.precondition(o)))}),yield(r=(0,k.Z)(function*(o,s){const a=ye(o),c=Ry(a.serializer)+"/documents",l={writes:s.map(h=>xy(a.serializer,h))};yield a.wo("Commit",c,l)}),function i(o,s){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Te();n=Ne.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new le(W.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Ne.min())?An.exists(!1):An.updateTime(n):An.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ne.min()))throw new le(W.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return An.updateTime(n)}return An.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Zve{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this.Wa=r.maxAttempts,this.zo=new BR(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,k.Z)(function*(){const n=new Kve(e.datastore),r=e.za(n);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(i)}).catch(o=>{e.ja(o)}))}).catch(i=>{e.ja(i)})}))}za(e){try{const n=this.updateFunction(e);return!py(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!vz(n)}return!1}}class Qve{constructor(e,n,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kr.UNAUTHENTICATED,this.clientId=gH.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=(0,k.Z)(function*(a){de("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(de("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return(0,k.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,k.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=yp(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function SE(t,e){return Vx.apply(this,arguments)}function Vx(){return Vx=(0,k.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),de("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=(0,k.Z)(function*(o){r.isEqual(o)||(yield y8(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),Vx.apply(this,arguments)}function Ux(t,e){return Bx.apply(this,arguments)}function Bx(){return Bx=(0,k.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield jx(t);de("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>N8(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>N8(e.remoteStore,o)),t._onlineComponents=e}),Bx.apply(this,arguments)}function Z8(t){return"FirebaseError"===t.name?t.code===W.FAILED_PRECONDITION||t.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function jx(t){return $x.apply(this,arguments)}function $x(){return $x=(0,k.Z)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de("FirestoreClient","Using user provided OfflineComponentProvider");try{yield SE(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Z8(n))throw n;ro("Error using user provided cache. Falling back to memory cache: "+n),yield SE(t,new zy)}}else de("FirestoreClient","Using default OfflineComponentProvider"),yield SE(t,new zy);return t._offlineComponents}),$x.apply(this,arguments)}function RE(t){return Hx.apply(this,arguments)}function Hx(){return Hx=(0,k.Z)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de("FirestoreClient","Using user provided OnlineComponentProvider"),yield Ux(t,t._uninitializedComponentsProvider._online)):(de("FirestoreClient","Using default OnlineComponentProvider"),yield Ux(t,new Pp))),t._onlineComponents}),Hx.apply(this,arguments)}function Q8(t){return jx(t).then(e=>e.persistence)}function Ep(t){return jx(t).then(e=>e.localStore)}function Y8(t){return RE(t).then(e=>e.remoteStore)}function zx(t){return RE(t).then(e=>e.syncEngine)}function Mp(t){return Gx.apply(this,arguments)}function Gx(){return Gx=(0,k.Z)(function*(t){const e=yield RE(t),n=e.eventManager;return n.onListen=Tve.bind(null,e.syncEngine),n.onUnlisten=Ave.bind(null,e.syncEngine),n}),Gx.apply(this,arguments)}function J8(t,e,n={}){const r=new Mr;return t.asyncQueue.enqueueAndForget((0,k.Z)(function*(){return function(o,s,a,c,l){const h=new DE({next:m=>{s.enqueueAndForget(()=>cx(o,p));const v=m.docs.has(a);!v&&m.fromCache?l.reject(new le(W.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&c&&"server"===c.source?l.reject(new le(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new dx(ep(a.path),h,{includeMetadataChanges:!0,J_:!0});return sx(o,p)}(yield Mp(t),t.asyncQueue,e,n,r)})),r.promise}function e7(t,e,n={}){const r=new Mr;return t.asyncQueue.enqueueAndForget((0,k.Z)(function*(){return function(o,s,a,c,l){const h=new DE({next:m=>{s.enqueueAndForget(()=>cx(o,p)),m.fromCache&&"server"===c.source?l.reject(new le(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new dx(a,h,{includeMetadataChanges:!0,J_:!0});return sx(o,p)}(yield Mp(t),t.asyncQueue,e,n,r)})),r.promise}function t7(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const n7=new Map;function Wx(t,e,n){if(!n)throw new le(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function r7(t,e,n,r){if(!0===e&&!0===r)throw new le(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function i7(t){if(!ve.isDocumentKey(t))throw new le(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function o7(t){if(ve.isDocumentKey(t))throw new le(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xE(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":Te()}function vt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xE(t);throw new le(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function s7(t,e){if(e<=0)throw new le(W.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class a7{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new le(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new le(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}r7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=t7(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new a7({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new le(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new le(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new a7(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new i_e;switch(r.type){case"firstParty":return new c_e(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=n7.get(n);r&&(de("ComponentProvider","Removing Datastore"),n7.delete(n),r.terminate())}(this),Promise.resolve()}}function c7(t,e,n,r={}){var i;const o=(t=vt(t,Gy))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=kr.MOCK_USER;else{a=(0,M.Sg)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new le(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new kr(l)}t._authCredentials=new o_e(new fH(a,c))}}class Xr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xr(this.firestore,e,this._query)}}class wn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new da(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class da extends Xr{constructor(e,n,r){super(e,n,ep(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new ve(e))}withConverter(e){return new da(this.firestore,e,this._path)}}function l7(t,e,...n){if(t=(0,M.m9)(t),Wx("collection","path",e),t instanceof Gy){const r=At.fromString(e,...n);return o7(r),new da(t,null,r)}{if(!(t instanceof wn||t instanceof da))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(At.fromString(e,...n));return o7(r),new da(t.firestore,null,r)}}function kE(t,e,...n){if(t=(0,M.m9)(t),1===arguments.length&&(e=gH.newId()),Wx("doc","path",e),t instanceof Gy){const r=At.fromString(e,...n);return i7(r),new wn(t,null,new ve(r))}{if(!(t instanceof wn||t instanceof da))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(At.fromString(e,...n));return i7(r),new wn(t.firestore,t instanceof da?t.converter:null,new ve(r))}}function u7(t,e){return t=(0,M.m9)(t),e=(0,M.m9)(e),(t instanceof wn||t instanceof da)&&(e instanceof wn||e instanceof da)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function qx(t,e){return t=(0,M.m9)(t),e=(0,M.m9)(e),t instanceof Xr&&e instanceof Xr&&t.firestore===e.firestore&&Py(t._query,e._query)&&t.converter===e.converter}class cCe{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new BR(this,"async_queue_retry"),this.iu=()=>{const n=bE();n&&de("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=bE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=bE();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Mr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,k.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!Ml(n))throw n;de("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,tr("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=ox.createAndSchedule(this,e,n,r,o=>this.au(o));return this.Xa.push(i),i}su(){this.eu&&Te()}verifyOperationInProgress(){}uu(){var e=this;return(0,k.Z)(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function Kx(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(t)}class lCe{constructor(){this._progressObserver={},this._taskCompletionResolver=new Mr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class dn extends Gy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new cCe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||d7(this),this._firestoreClient.terminate()}}function dCe(t,e){const n="object"==typeof t?t:(0,Je.getApp)(),r="string"==typeof t?t:e||"(default)",i=(0,Je._getProvider)(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(0,M.P0)("firestore");o&&c7(i,...o)}return i}function Gn(t){return t._firestoreClient||d7(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function d7(t){var e,n,r;const i=t._freezeSettings(),o=(c=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new V_e(t._databaseId,c,t._persistenceKey,(h=i).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,t7(h.experimentalLongPollingOptions),h.useFetchStreams));var c,h;t._firestoreClient=new Qve(t._authCredentials,t._appCheckCredentials,t._queue,o),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function h7(t,e,n){const r=new Mr;return t.asyncQueue.enqueue((0,k.Z)(function*(){try{yield SE(t,n),yield Ux(t,e),r.resolve()}catch(i){const o=i;if(!Z8(o))throw o;ro("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}})).then(()=>r.promise)}function f7(t){if(t._initialized||t._terminated)throw new le(W.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ha{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ha(Ir.fromBase64String(e))}catch(n){throw new le(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ha(Ir.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ac{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new le(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class vd{constructor(e){this._methodName=e}}class NE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}}const wCe=/^__.*__$/;class PCe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new ic(e,this.data,this.fieldMask,n,this.fieldTransforms):new op(e,this.data,n,this.fieldTransforms)}}class p7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ic(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function g7(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class FE{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new FE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return UE(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(g7(this.Iu)&&wCe.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class ECe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jy(e)}pu(e,n,r,i=!1){return new FE({Iu:e,methodName:n,gu:r,path:vn.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cd(t){const e=t._freezeSettings(),n=jy(t._databaseId);return new ECe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function LE(t,e,n,r,i,o={}){const s=t.pu(o.merge||o.mergeFields?2:0,e,n,i);Xx("Data must be an object, but it was:",s,r);const a=y7(r,s);let c,l;if(o.merge)c=new io(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const p of o.mergeFields){const m=Ky(e,p,n);if(!s.contains(m))throw new le(W.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);C7(h,m)||h.push(m)}c=new io(h),l=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,l=s.fieldTransforms;return new PCe(new Yr(a),c,l)}class qy extends vd{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qy}}function m7(t,e,n){return new FE({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Zx extends vd{_toFieldTransform(e){return new Oy(e.path,new rp)}isEqual(e){return e instanceof Zx}}class MCe extends vd{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=m7(this,e,!0),r=this.yu.map(o=>wd(o,n)),i=new ud(r);return new Oy(e.path,i)}isEqual(e){return this===e}}class ICe extends vd{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=m7(this,e,!0),r=this.yu.map(o=>wd(o,n)),i=new dd(r);return new Oy(e.path,i)}isEqual(e){return this===e}}class OCe extends vd{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=new ip(e.serializer,cz(e.serializer,this.wu));return new Oy(e.path,n)}isEqual(e){return this===e}}function Qx(t,e,n,r){const i=t.pu(1,e,n);Xx("Data must be an object, but it was:",i,r);const o=[],s=Yr.empty();Il(r,(c,l)=>{const h=VE(e,c,n);l=(0,M.m9)(l);const p=i.Ru(h);if(l instanceof qy)o.push(h);else{const m=wd(l,p);null!=m&&(o.push(h),s.set(h,m))}});const a=new io(o);return new p7(s,a,i.fieldTransforms)}function Yx(t,e,n,r,i,o){const s=t.pu(1,e,n),a=[Ky(e,r,n)],c=[i];if(o.length%2!=0)throw new le(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(Ky(e,o[m])),c.push(o[m+1]);const l=[],h=Yr.empty();for(let m=a.length-1;m>=0;--m)if(!C7(l,a[m])){const v=a[m];let E=c[m];E=(0,M.m9)(E);const O=s.Ru(v);if(E instanceof qy)l.push(v);else{const b=wd(E,O);null!=b&&(l.push(v),h.set(v,b))}}const p=new io(l);return new p7(h,p,s.fieldTransforms)}function _7(t,e,n,r=!1){return wd(n,t.pu(r?4:3,e))}function wd(t,e){if(v7(t=(0,M.m9)(t)))return Xx("Unsupported field value:",e,t),y7(t,e);if(t instanceof vd)return function(r,i){if(!g7(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let c=wd(a,i.Vu(s));null==c&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if(null===(r=(0,M.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return cz(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=Tn.fromDate(r);return{timestampValue:ap(i.serializer,o)}}if(r instanceof Tn){const o=new Tn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ap(i.serializer,o)}}if(r instanceof NE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ha)return{bytesValue:Az(i.serializer,r._byteString)};if(r instanceof wn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:pR(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${xE(r)}`)}(t,e)}function y7(t,e){const n={};return DH(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Il(t,(r,i)=>{const o=wd(i,e.Eu(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function v7(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Tn||t instanceof NE||t instanceof ha||t instanceof wn||t instanceof vd)}function Xx(t,e,n){if(!v7(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=xE(n);throw e.mu("an object"===r?t+" a custom object":t+" "+r)}var i}function Ky(t,e,n){if((e=(0,M.m9)(e))instanceof ac)return e._internalPath;if("string"==typeof e)return VE(t,e);throw UE("Field path arguments must be of type string or ",t,!1,void 0,n)}const bCe=new RegExp("[~\\*/\\[\\]]");function VE(t,e,n){if(e.search(bCe)>=0)throw UE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ac(...e.split("."))._internalPath}catch{throw UE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function UE(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new le(W.INVALID_ARGUMENT,a+t+c)}function C7(t,e){return t.some(n=>n.isEqual(e))}class Zy{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new TCe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(BE("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class TCe extends Zy{data(){return super.data()}}function BE(t,e){return"string"==typeof e?VE(t,e):e instanceof ac?e._internalPath:e._delegate._internalPath}function w7(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new le(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jx{}class Qy extends Jx{}function Vl(t,e,...n){let r=[];e instanceof Jx&&r.push(e),r=r.concat(n),function(o){const s=o.filter(c=>c instanceof Ip).length,a=o.filter(c=>c instanceof Yy).length;if(s>1||s>0&&a>0)throw new le(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Yy extends Qy{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Yy(e,n,r)}_apply(e){const n=this._parse(e);return I7(e._query,n),new Xr(e.firestore,e.converter,sR(e._query,n))}_parse(e){const n=Cd(e.firestore);return function(o,s,a,c,l,h,p){let m;if(l.isKeyField()){if("array-contains"===h||"array-contains-any"===h)throw new le(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if("in"===h||"not-in"===h){M7(p,h);const v=[];for(const E of p)v.push(E7(c,o,E));m={arrayValue:{values:v}}}else m=E7(c,o,p)}else"in"!==h&&"not-in"!==h&&"array-contains-any"!==h||M7(p,h),m=_7(a,"where",p,"in"===h||"not-in"===h);return wt.create(l,h,m)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class Ip extends Jx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ip(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Ht.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const c of a)I7(s,c),s=sR(s,c)}(e._query,n),new Xr(e.firestore,e.converter,sR(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ek extends Qy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ek(e,n)}_apply(e){const n=function(i,o,s){if(null!==i.startAt)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Cy(o,s)}(e._query,this._field,this._direction);return new Xr(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new nc(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}class jE extends Qy{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new jE(e,n,r)}_apply(e){return new Xr(e.firestore,e.converter,aE(e._query,this._limit,this._limitType))}}class $E extends Qy{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new $E(e,n,r)}_apply(e){const n=P7(e,this.type,this._docOrFields,this._inclusive);return new Xr(e.firestore,e.converter,(o=n,new nc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)));var i,o}}class HE extends Qy{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new HE(e,n,r)}_apply(e){const n=P7(e,this.type,this._docOrFields,this._inclusive);return new Xr(e.firestore,e.converter,(o=n,new nc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)));var i,o}}function P7(t,e,n,r){if(n[0]=(0,M.m9)(n[0]),n[0]instanceof Zy)return function(o,s,a,c,l){if(!c)throw new le(W.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const p of tp(o))if(p.field.isKeyField())h.push(cd(s,c.key));else{const m=c.data.field(p.field);if(eE(m))throw new le(W.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===m){const v=p.field.canonicalString();throw new le(W.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}h.push(m)}return new Sl(h,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Cd(t.firestore);return function(s,a,c,l,h,p){const m=s.explicitOrderBy;if(h.length>m.length)throw new le(W.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const v=[];for(let E=0;E<h.length;E++){const O=h[E];if(m[E].field.isKeyField()){if("string"!=typeof O)throw new le(W.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof O}`);if(!oR(s)&&-1!==O.indexOf("/"))throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${O}' contains a slash.`);const b=s.path.child(At.fromString(O));if(!ve.isDocumentKey(b))throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${b}' is not because it contains an odd number of segments.`);const F=new ve(b);v.push(cd(a,F))}else{const b=_7(c,l,O);v.push(b)}}return new Sl(v,p)}(t._query,t.firestore._databaseId,i,e,n,r)}}function E7(t,e,n){if("string"==typeof(n=(0,M.m9)(n))){if(""===n)throw new le(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oR(e)&&-1!==n.indexOf("/"))throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(At.fromString(n));if(!ve.isDocumentKey(r))throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cd(t,new ve(r))}if(n instanceof wn)return cd(t,n._key);throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xE(n)}.`)}function M7(t,e){if(!Array.isArray(t)||0===t.length)throw new le(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function I7(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new le(W.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class tk{convertValue(e,n="none"){switch(Al(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(tc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Il(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new NE(zn(e.latitude),zn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=tE(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(my(e));default:return null}}convertTimestamp(e){const n=Ol(e);return new Tn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=At.fromString(e);ke(Uz(r));const i=new bl(r.get(1),r.get(3)),o=new ve(r.popFirst(5));return i.isEqual(n)||tr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function zE(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class LCe extends tk{constructor(e){super(),this.firestore=e}convertBytes(e){return new ha(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,n)}}class Pd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cc extends Zy{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(BE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Xy extends cc{data(e={}){return super.data(e)}}class Ul{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Pd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Xy(this._firestore,this._userDataWriter,r.key,r,new Pd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new Xy(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Pd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const c=new Xy(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Pd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,h=-1;return 0!==a.type&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:UCe(a.type),doc:c,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function UCe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}function b7(t,e){return t instanceof cc&&e instanceof cc?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Ul&&e instanceof Ul&&t._firestore===e._firestore&&qx(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}class Bl extends tk{constructor(e){super(),this.firestore=e}convertBytes(e){return new ha(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,n)}}function T7(t,e,n){t=vt(t,wn);const r=vt(t.firestore,dn),i=zE(t.converter,e,n);return Op(r,[LE(Cd(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,An.none())])}function A7(t,e,n,...r){t=vt(t,wn);const i=vt(t.firestore,dn),o=Cd(i);let s;return s="string"==typeof(e=(0,M.m9)(e))||e instanceof ac?Yx(o,"updateDoc",t._key,e,n,r):Qx(o,"updateDoc",t._key,e),Op(i,[s.toMutation(t._key,An.exists(!0))])}function D7(t,...e){var n,r,i;t=(0,M.m9)(t);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||Kx(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(Kx(e[s])){const p=e[s];e[s]=null===(n=p.next)||void 0===n?void 0:n.bind(p),e[s+1]=null===(r=p.error)||void 0===r?void 0:r.bind(p),e[s+2]=null===(i=p.complete)||void 0===i?void 0:i.bind(p)}let c,l,h;if(t instanceof wn)l=vt(t.firestore,dn),h=ep(t._key.path),c={next:p=>{e[s]&&e[s](nk(l,t,p))},error:e[s+1],complete:e[s+2]};else{const p=vt(t,Xr);l=vt(p.firestore,dn),h=p._query;const m=new Bl(l);c={next:v=>{e[s]&&e[s](new Ul(l,m,p,v))},error:e[s+1],complete:e[s+2]},w7(t._query)}return function(m,v,E,O){const b=new DE(O),F=new dx(v,b,E);return m.asyncQueue.enqueueAndForget((0,k.Z)(function*(){return sx(yield Mp(m),F)})),()=>{b.Na(),m.asyncQueue.enqueueAndForget((0,k.Z)(function*(){return cx(yield Mp(m),F)}))}}(Gn(l),h,a,c)}function Op(t,e){return function(r,i){const o=new Mr;return r.asyncQueue.enqueueAndForget((0,k.Z)(function*(){return function Dve(t,e,n){return mx.apply(this,arguments)}(yield zx(r),i,o)})),o.promise}(Gn(t),e)}function nk(t,e,n){const r=n.docs.get(e._key),i=new Bl(t);return new cc(t,i,e._key,r,new Pd(n.hasPendingWrites,n.fromCache),e.converter)}const rwe={maxAttempts:5};class S7{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Cd(e)}set(e,n,r){this._verifyNotCommitted();const i=jl(e,this._firestore),o=zE(i.converter,n,r),s=LE(this._dataReader,"WriteBatch.set",i._key,o,null!==i.converter,r);return this._mutations.push(s.toMutation(i._key,An.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=jl(e,this._firestore);let s;return s="string"==typeof(n=(0,M.m9)(n))||n instanceof ac?Yx(this._dataReader,"WriteBatch.update",o._key,n,r,i):Qx(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,An.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=jl(e,this._firestore);return this._mutations=this._mutations.concat(new sp(n._key,An.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new le(W.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function jl(t,e){if((t=(0,M.m9)(t)).firestore!==e)throw new le(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class iwe extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Cd(n)}get(n){const r=jl(n,this._firestore),i=new LCe(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||1!==o.length)return Te();const s=o[0];if(s.isFoundDocument())return new Zy(this._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new Zy(this._firestore,i,r._key,null,r.converter);throw Te()})}set(n,r,i){const o=jl(n,this._firestore),s=zE(o.converter,r,i),a=LE(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,i);return this._transaction.set(o._key,a),this}update(n,r,i,...o){const s=jl(n,this._firestore);let a;return a="string"==typeof(r=(0,M.m9)(r))||r instanceof ac?Yx(this._dataReader,"Transaction.update",s._key,r,i,o):Qx(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(n){const r=jl(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=jl(e,this._firestore),r=new Bl(this._firestore);return super.get(e).then(i=>new cc(this._firestore,r,n._key,i._document,new Pd(!1,!1),n.converter))}}!function(e,n=!0){Wf=Je.SDK_VERSION,(0,Je._registerComponent)(new Co.wA("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new dn(new s_e(r.getProvider("auth-internal")),new l_e(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new le(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bl(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,Je.registerVersion)(hH,"4.3.2",e),(0,Je.registerVersion)(hH,"4.3.2","esm2017")}();class ik{constructor(e){return e}}const N7="firestore",ok=new pe("angularfire2.firestore-instances");function pwe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new ik(r)}}const gwe={provide:class hwe{constructor(){return FT(N7)}},deps:[[new f,ok]]},mwe={provide:ik,useFactory:function fwe(t,e){const n=function Yj(t,e,n){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(N7,t,e);return n&&new ik(n)},deps:[[new f,ok],x_]};let F7=(()=>{var t;class e{constructor(){(0,Je.registerVersion)("angularfire",_l.full,"fst")}}return t=e,Fe(e,"\u0275fac",function(r){return new(r||t)}),Fe(e,"\u0275mod",Vn({type:t})),Fe(e,"\u0275inj",Zn({providers:[mwe,gwe]})),e})();function _we(t,...e){return{ngModule:F7,providers:[{provide:ok,useFactory:pwe(t),multi:!0,deps:[Tt,Di,Af,H9,[new f,Z6],[new f,b_],...e]}]}}const ywe=ode(dCe,!0);qe(643);class vwe extends Q{constructor(e=1/0,n=1/0,r=NT){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const s=n.now();let a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}}function L7(t,e,n){let r,i=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t):r=t??1/0,ze({connector:()=>new vwe(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function V7(t,e){return I(e)?Ke(()=>t,e):Ke(()=>t)}const sk=new pe("angularfire2.auth.use-emulator"),ak=new pe("angularfire2.auth.settings"),ck=new pe("angularfire2.auth.tenant-id"),lk=new pe("angularfire2.auth.langugage-code"),uk=new pe("angularfire2.auth.use-device-language"),dk=new pe("angularfire.auth.persistence"),hk=(t,e,n,r,i,o,s,a)=>J0(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const c=e.runOutsideAngular(()=>t.auth());if(n&&c.useEmulator(...n),r&&(c.tenantId=r),c.languageCode=i,o&&c.useDeviceLanguage(),s)for(const[l,h]of Object.entries(s))c.settings[l]=h;return a&&c.setPersistence(a),c},[n,r,i,o,s,a]);let fk=(()=>{var t;class e{constructor(r,i,o,s,a,c,l,h,p,m,v,E){Fe(this,"authState",void 0),Fe(this,"idToken",void 0),Fe(this,"user",void 0),Fe(this,"idTokenResult",void 0),Fe(this,"credential",void 0);const O=new Q,b=H(void 0).pipe(_r(a.outsideAngular),Ke(()=>s.runOutsideAngular(()=>Promise.resolve().then(qe.bind(qe,643)))),ge(()=>T_(r,s,i)),ge(F=>hk(F,s,c,h,p,m,l,v)),L7({bufferSize:1,refCount:!1}));if(Ow(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=H(null);else{b.pipe(Zc()).subscribe();const F=b.pipe(Ke($=>$.getRedirectResult().then(fe=>fe,()=>null)),er,L7({bufferSize:1,refCount:!1})),x=b.pipe(Ke($=>new st(fe=>({unsubscribe:s.runOutsideAngular(()=>$.onAuthStateChanged(Ie=>fe.next(Ie),Ie=>fe.error(Ie),()=>fe.complete()))})))),z=b.pipe(Ke($=>new st(fe=>({unsubscribe:s.runOutsideAngular(()=>$.onIdTokenChanged(Ie=>fe.next(Ie),Ie=>fe.error(Ie),()=>fe.complete()))}))));this.authState=F.pipe(V7(x),Br(a.outsideAngular),_r(a.insideAngular)),this.user=F.pipe(V7(z),Br(a.outsideAngular),_r(a.insideAngular)),this.idToken=this.user.pipe(Ke($=>$?S($.getIdToken()):H(null))),this.idTokenResult=this.user.pipe(Ke($=>$?S($.getIdTokenResult()):H(null))),this.credential=J(F,O,this.authState.pipe(qo($=>!$))).pipe(ge($=>$?.user?$:null),Br(a.outsideAngular),_r(a.insideAngular))}return((t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{if(t[o])return r?.spy?.get&&r.spy.get(o,t[o]),t[o];if(lde.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(a=>{const c=a?.[o];return"function"==typeof c?c.bind(a):c?.then?c.then(l=>n.run(()=>l)):n.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,l)=>s.then(h=>{const p=h?.(...l);return r?.spy?.apply&&r.spy.apply(o,l,p),p})})})}))(this,b,s,{spy:{apply:(F,x,z)=>{(F.startsWith("signIn")||F.startsWith("createUser"))&&z.then($=>O.next($))}}})}}return t=e,Fe(e,"\u0275fac",function(r){return new(r||t)(ee(Sf),ee(Rf,8),ee(po),ee(Tt),ee(Af),ee(sk,8),ee(ak,8),ee(ck,8),ee(lk,8),ee(uk,8),ee(dk,8),ee(b_,8))}),Fe(e,"\u0275prov",be({token:t,factory:t.\u0275fac,providedIn:"any"})),e})();const Iwe=new ui.Yd("@firebase/database-compat"),U7=function(t){Iwe.warn("FIREBASE WARNING: "+t)};class Twe{constructor(e){this._delegate=e}cancel(e){(0,M.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,M.Wj)("OnDisconnect.cancel","onComplete",e,!0);const n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){(0,M.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,M.Wj)("OnDisconnect.remove","onComplete",e,!0);const n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){(0,M.Dv)("OnDisconnect.set",1,2,arguments.length),(0,M.Wj)("OnDisconnect.set","onComplete",n,!0);const r=this._delegate.set(e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){(0,M.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,M.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,n);return r&&i.then(()=>r(null),o=>r(o)),i}update(e,n){if((0,M.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,U7("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,M.Wj)("OnDisconnect.update","onComplete",n,!0);const r=this._delegate.update(e);return n&&r.then(()=>n(null),i=>n(i)),r}}class Awe{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return(0,M.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class $l{constructor(e,n){this._database=e,this._delegate=n}val(){return(0,M.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,M.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,M.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,M.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,M.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),u_("DataSnapshot.child","path",e,!1),new $l(this._database,this._delegate.child(e))}hasChild(e){return(0,M.Dv)("DataSnapshot.hasChild",1,1,arguments.length),u_("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,M.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,M.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,M.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new $l(this._database,n)))}hasChildren(){return(0,M.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,M.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,M.Dv)("DataSnapshot.ref",0,0,arguments.length),new Oo(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Jr{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,i){var o;(0,M.Dv)("Query.on",2,4,arguments.length),(0,M.Wj)("Query.on","callback",n,!1);const s=Jr.getCancelAndContextArgs_("Query.on",r,i),a=(l,h)=>{n.call(s.context,new $l(this.database,l),h)};a.userCallback=n,a.context=s.context;const c=null===(o=s.cancel)||void 0===o?void 0:o.bind(s.context);switch(e){case"value":return Ef(this._delegate,a,c),n;case"child_added":return u4(this._delegate,a,c),n;case"child_removed":return f4(this._delegate,a,c),n;case"child_changed":return d4(this._delegate,a,c),n;case"child_moved":return h4(this._delegate,a,c),n;default:throw new Error((0,M.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if((0,M.Dv)("Query.off",0,3,arguments.length),function(t,e,n){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,M.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,M.Wj)("Query.off","callback",n,!0),(0,M.lb)("Query.off","context",r,!0),n){const i=()=>{};i.userCallback=n,i.context=r,p4(this._delegate,e,i)}else p4(this._delegate,e)}get(){return D0(this._delegate).then(e=>new $l(this.database,e))}once(e,n,r,i){(0,M.Dv)("Query.once",1,4,arguments.length),(0,M.Wj)("Query.once","callback",n,!0);const o=Jr.getCancelAndContextArgs_("Query.once",r,i),s=new M.BH,a=(l,h)=>{const p=new $l(this.database,l);n&&n.call(o.context,p,h),s.resolve(p)};a.userCallback=n,a.context=o.context;const c=l=>{o.cancel&&o.cancel.call(o.context,l),s.reject(l)};switch(e){case"value":Ef(this._delegate,a,c,{onlyOnce:!0});break;case"child_added":u4(this._delegate,a,c,{onlyOnce:!0});break;case"child_removed":f4(this._delegate,a,c,{onlyOnce:!0});break;case"child_changed":d4(this._delegate,a,c,{onlyOnce:!0});break;case"child_moved":h4(this._delegate,a,c,{onlyOnce:!0});break;default:throw new Error((0,M.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(e){return(0,M.Dv)("Query.limitToFirst",1,1,arguments.length),new Jr(this.database,Es(this._delegate,function eae(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Jse(t)}(e)))}limitToLast(e){return(0,M.Dv)("Query.limitToLast",1,1,arguments.length),new Jr(this.database,Es(this._delegate,function nae(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new tae(t)}(e)))}orderByChild(e){return(0,M.Dv)("Query.orderByChild",1,1,arguments.length),new Jr(this.database,Es(this._delegate,function iae(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return u_("orderByChild","path",t,!1),new rae(t)}(e)))}orderByKey(){return(0,M.Dv)("Query.orderByKey",0,0,arguments.length),new Jr(this.database,Es(this._delegate,function sae(){return new oae}()))}orderByPriority(){return(0,M.Dv)("Query.orderByPriority",0,0,arguments.length),new Jr(this.database,Es(this._delegate,function cae(){return new aae}()))}orderByValue(){return(0,M.Dv)("Query.orderByValue",0,0,arguments.length),new Jr(this.database,Es(this._delegate,function uae(){return new lae}()))}startAt(e=null,n){return(0,M.Dv)("Query.startAt",0,2,arguments.length),new Jr(this.database,Es(this._delegate,function Qse(t=null,e){return l_("startAt","key",e,!0),new m4(t,e)}(e,n)))}startAfter(e=null,n){return(0,M.Dv)("Query.startAfter",0,2,arguments.length),new Jr(this.database,Es(this._delegate,function Xse(t,e){return l_("startAfter","key",e,!0),new Yse(t,e)}(e,n)))}endAt(e=null,n){return(0,M.Dv)("Query.endAt",0,2,arguments.length),new Jr(this.database,Es(this._delegate,function qse(t,e){return l_("endAt","key",e,!0),new g4(t,e)}(e,n)))}endBefore(e=null,n){return(0,M.Dv)("Query.endBefore",0,2,arguments.length),new Jr(this.database,Es(this._delegate,function Zse(t,e){return l_("endBefore","key",e,!0),new Kse(t,e)}(e,n)))}equalTo(e,n){return(0,M.Dv)("Query.equalTo",1,2,arguments.length),new Jr(this.database,Es(this._delegate,function hae(t,e){return l_("equalTo","key",e,!0),new dae(t,e)}(e,n)))}toString(){return(0,M.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,M.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,M.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof Jr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){const i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,(0,M.Wj)(e,"cancel",i.cancel,!0),i.context=r,(0,M.lb)(e,"context",i.context,!0);else if(n)if("object"==typeof n&&null!==n)i.context=n;else{if("function"!=typeof n)throw new Error((0,M.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=n}return i}get ref(){return new Oo(this.database,new Qo(this._delegate._repo,this._delegate._path))}}class Oo extends Jr{constructor(e,n){super(e,new Xi(n._repo,n._path,new r0,!1)),this.database=e,this._delegate=n}getKey(){return(0,M.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,M.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new Oo(this.database,Hu(this._delegate,e))}getParent(){(0,M.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Oo(this.database,e):null}getRoot(){return(0,M.Dv)("Reference.root",0,0,arguments.length),new Oo(this.database,this._delegate.root)}set(e,n){(0,M.Dv)("Reference.set",1,2,arguments.length),(0,M.Wj)("Reference.set","onComplete",n,!0);const r=Wa(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}update(e,n){if((0,M.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,U7("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Zo("Reference.update",this._delegate._path),(0,M.Wj)("Reference.update","onComplete",n,!0);const r=Wse(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){(0,M.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,M.Wj)("Reference.setWithPriority","onComplete",r,!0);const i=function Gse(t,e,n){if(Zo("setWithPriority",t._path),Ys("setWithPriority",e,t._path,!1),Kb("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";const r=new M.BH;return Qb(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}(this._delegate,e,n);return r&&i.then(()=>r(null),o=>r(o)),i}remove(e){(0,M.Dv)("Reference.remove",0,1,arguments.length),(0,M.Wj)("Reference.remove","onComplete",e,!0);const n=function Hse(t){return Zo("remove",t._path),Wa(t,null)}(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){(0,M.Dv)("Reference.transaction",1,3,arguments.length),(0,M.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,M.Wj)("Reference.transaction","onComplete",n,!0),function(t,e,n,r){if(void 0!==n&&"boolean"!=typeof n)throw new Error((0,M.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const i=function Aae(t,e,n){var r;if(t=(0,M.m9)(t),Zo("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";const i=null===(r=n?.applyLocally)||void 0===r||r,o=new M.BH,a=Ef(t,()=>{});return function Nse(t,e,n,r,i,o){wf(t,"transaction on "+e);const s={path:e,update:n,onComplete:r,status:null,order:v5(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=Xb(t,e,void 0);s.currentInputSnapshot=a;const c=s.update(a.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{c_("transaction failed: Data returned ",c,s.path),s.status=0;const l=w0(t.transactionQueueTree_,e),h=ju(l)||[];let p;h.push(s),Gb(l,h),"object"==typeof c&&null!==c&&(0,M.r3)(c,".priority")?(p=(0,M.DV)(c,".priority"),(0,M.hu)(a_(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(v0(t.serverSyncTree_,e)||et.EMPTY_NODE).getPriority().val();const m=d_(t),v=Rn(c,p),E=$b(v,a,m);s.currentOutputSnapshotRaw=v,s.currentOutputSnapshotResolved=E,s.currentWriteId=I0(t);const O=Nb(t.serverSyncTree_,e,E,s.currentWriteId,s.applyLocally);wo(t.eventQueue_,e,O),O0(t,t.transactionQueueTree_)}}(t._repo,t._path,e,(c,l,h)=>{let p=null;c?o.reject(c):(p=new $u(h,new Qo(t._repo,t._path),cn),o.resolve(new Tae(l,p)))},a,i),o.promise}(this._delegate,e,{applyLocally:r}).then(o=>new Awe(o.committed,new $l(this.database,o.snapshot)));return n&&i.then(o=>n(null,o.committed,o.snapshot),o=>n(o,!1,null)),i}setPriority(e,n){(0,M.Dv)("Reference.setPriority",1,2,arguments.length),(0,M.Wj)("Reference.setPriority","onComplete",n,!0);const r=function zse(t,e){t=(0,M.m9)(t),Zo("setPriority",t._path),Kb("setPriority",e,!1);const n=new M.BH;return Qb(t._repo,In(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}push(e,n){(0,M.Dv)("Reference.push",0,2,arguments.length),(0,M.Wj)("Reference.push","onComplete",n,!0);const r=function $se(t,e){t=(0,M.m9)(t),Zo("push",t._path),Ys("push",e,t._path,!0);const n=YB(t._repo),r=jse(n),i=Hu(t,r),o=Hu(t,r);let s;return s=null!=e?Wa(o,e).then(()=>o):Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}(this._delegate,e),i=r.then(s=>new Oo(this.database,s));n&&i.then(()=>n(null),s=>n(s));const o=new Oo(this.database,r);return o.then=i.then.bind(i),o.catch=i.catch.bind(i,void 0),o}onDisconnect(){return Zo("Reference.onDisconnect",this._delegate._path),new Twe(new c4(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Jy{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:vae,forceLongPolling:Cae}}useEmulator(e,n,r={}){v4(this._delegate,e,n,r)}ref(e){if((0,M.Dv)("database.ref",0,1,arguments.length),e instanceof Oo){const n=l4(this._delegate,e.toString());return new Oo(this,n)}{const n=Ji(this._delegate,e);return new Oo(this,n)}}refFromURL(e){(0,M.Dv)("database.refFromURL",1,1,arguments.length);const r=l4(this._delegate,e);return new Oo(this,r)}goOffline(){return(0,M.Dv)("database.goOffline",0,0,arguments.length),function wae(t){(t=(0,M.m9)(t))._checkNotDeleted("goOffline"),t4(t._repo)}(this._delegate)}goOnline(){return(0,M.Dv)("database.goOnline",0,0,arguments.length),function Pae(t){(t=(0,M.m9)(t))._checkNotDeleted("goOnline"),function kse(t){t.persistentConnection_&&t.persistentConnection_.resume(QB)}(t._repo)}(this._delegate)}}Jy.ServerValue={TIMESTAMP:function Oae(){return Iae}(),increment:t=>function bae(t){return{".sv":{increment:t}}}(t)};var Swe=Object.freeze({__proto__:null,initStandalone:function Dwe({app:t,url:e,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:o,nodeAdmin:s=!1}){X1(n);const a=new Co.H0("database-standalone"),c=new Co.zt("auth-internal",a);let l;return c.setComponent(new Co.wA("auth-internal",()=>r,"PRIVATE")),i&&(l=new Co.zt("app-check-internal",a),l.setComponent(new Co.wA("app-check-internal",()=>i,"PRIVATE"))),{instance:new Jy(iT(t,c,l,e,s),t),namespace:o}}});const Rwe=Jy.ServerValue;function ev(t,e,n="on",r=X0){return new st(i=>{let o=null;return o=t[n](e,(s,a)=>{r.schedule(()=>{i.next({snapshot:s,prevKey:a})}),"once"===n&&r.schedule(()=>i.complete())},s=>{r.schedule(()=>i.error(s))}),"on"===n?{unsubscribe(){null!=o&&t.off(e,o)}}:{unsubscribe(){}}}).pipe(ge(i=>{const{snapshot:o,prevKey:s}=i;let a=null;return o.exists()&&(a=o.key),{type:e,payload:o,prevKey:s,key:a}}),ze())}function B7(t){return null==t}function j7(t){return"function"==typeof t.set}function $7(t,e){return j7(e)?e:t.ref(e)}function H7(t,e){if(function kwe(t){return"string"==typeof t}(t))return e.stringCase();if(j7(t))return e.firebaseCase();if(function Nwe(t){return"function"==typeof t.exportVal}(t))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function z7(t){return(B7(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function G7(t,e,n){return J(...(e=z7(e)).map(i=>ev(t,i,"on",n)))}function W7(t,e){return function(r,i){return H7(r,{stringCase:()=>t.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function Uwe(t){return function(n){return n?H7(n,{stringCase:()=>t.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):t.remove()}}function q7(t,e){const n=t.length;for(let r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function $we(t,e){const{payload:n,prevKey:r,key:i}=e,o=q7(t,i),s=function jwe(t,e){if(B7(e))return 0;{const n=q7(t,e);return-1===n?t.length:n+1}}(t,r);switch(e.type){case"value":if(e.payload?.exists()){let a=null;e.payload.forEach(c=>{const l={payload:c,type:"value",prevKey:a,key:c.key};return a=c.key,t=[...t,l],!1})}return t;case"child_added":if(o>-1)(t[o-1]?.key||null)!==r&&(t=t.filter(c=>c.payload.key!==n.key)).splice(s,0,e);else{if(null==r)return[e,...t];(t=t.slice()).splice(s,0,e)}return t;case"child_removed":return t.filter(a=>a.payload.key!==n.key);case"child_changed":return t.map(a=>a.payload.key===i?e:a);case"child_moved":if(o>-1){const a=t.splice(o,1)[0];return(t=t.slice()).splice(s,0,a),t}return t;default:return t}}function K7(t,e,n){return function Bwe(t,e,n){return ev(t,"value","once",n).pipe(Ke(r=>{const i=[H(r)];return e.forEach(o=>i.push(ev(t,o,"on",n))),J(...i).pipe(ef($we,[]))}),rn())}(t,e=z7(e),n)}function Z7(t,e){return function(){return ev(t,"value","on",e)}}!function xwe(t){t.INTERNAL.registerComponent(new Co.wA("database-compat",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new Jy(i,r)},"PUBLIC").setServiceProps({Reference:Oo,Query:Jr,Database:Jy,DataSnapshot:$l,enableLogging:Eae,INTERNAL:Swe,ServerValue:Rwe}).setMultipleInstances(!0)),t.registerVersion("@firebase/database-compat","1.0.1")}(Xo.Z);const Gwe=new pe("angularfire2.realtimeDatabaseURL"),Wwe=new pe("angularfire2.database.use-emulator");let qwe=(()=>{var t;class e{constructor(r,i,o,s,a,c,l,h,p,m,v,E,O,b,F){Fe(this,"schedulers",void 0),Fe(this,"database",void 0),this.schedulers=c;const x=l,z=T_(r,a,i);h&&hk(z,a,p,v,E,O,m,b),this.database=J0(`${z.name}.database.${o}`,"AngularFireDatabase",z.name,()=>{const $=a.runOutsideAngular(()=>z.database(o||void 0));return x&&$.useEmulator(...x),$},[x])}list(r,i){const o=this.schedulers.ngZone.runOutsideAngular(()=>$7(this.database,r));let s=o;return i&&(s=i(o)),function Hwe(t,e){const n=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:W7(r,"update"),set:W7(r,"set"),push:i=>r.push(i),remove:Uwe(r),snapshotChanges:i=>K7(t,i,n).pipe(er),stateChanges:i=>G7(t,i,n).pipe(er),auditTrail:i=>function Fwe(t,e,n){return function Vwe(t,e,n){return function Lwe(t,e){return ev(t,"value","on",e).pipe(ge(n=>{let r;return n.payload.forEach(i=>(r=i.key,!1)),{data:n,lastKeyToLoad:r}}))}(t,n).pipe(function wwe(...t){const e=Ds(t);return K((n,r)=>{const i=t.length,o=new Array(i);let s=t.map(()=>!1),a=!1;for(let c=0;c<i;c++)Fn(t[c]).subscribe(Ce(r,l=>{o[c]=l,!a&&!s[c]&&(s[c]=!0,(a=s.every(Nn))&&(s=null))},Ae));n.subscribe(Ce(r,c=>{if(a){const l=[c,...o];r.next(e?e(...l):l)}}))})}(e),ge(([i,o])=>{const s=i.lastKeyToLoad,a=o.map(c=>c.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),function Pwe(t){return K((e,n)=>{let r=!1,i=0;e.subscribe(Ce(n,o=>(r||(r=!t(o,i++)))&&n.next(o)))})}(i=>-1===i.loadedKeys.indexOf(i.lastKeyToLoad)),ge(i=>i.actions))}(t,G7(t,e).pipe(ef((i,o)=>[...i,o],[])),n)}(t,i,n).pipe(er),valueChanges:(i,o)=>K7(t,i,n).pipe(ge(a=>a.map(c=>o&&o.idField?{...c.payload.val(),[o.idField]:c.key}:c.payload.val())),er)}}(s,this)}object(r){return function zwe(t,e){return{query:t,snapshotChanges:()=>Z7(t,e.schedulers.outsideAngular)().pipe(er),update:n=>t.ref.update(n),set:n=>t.ref.set(n),remove:()=>t.ref.remove(),valueChanges:()=>Z7(t,e.schedulers.outsideAngular)().pipe(er,ge(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>$7(this.database,r)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t=e,Fe(e,"\u0275fac",function(r){return new(r||t)(ee(Sf),ee(Rf,8),ee(Gwe,8),ee(po),ee(Tt),ee(Af),ee(Wwe,8),ee(fk,8),ee(sk,8),ee(ak,8),ee(ck,8),ee(lk,8),ee(uk,8),ee(dk,8),ee(b_,8))}),Fe(e,"\u0275prov",be({token:t,factory:t.\u0275fac,providedIn:"any"})),e})(),Kwe=(()=>{var t;class e{constructor(){Xo.Z.registerVersion("angularfire",_l.full,"rtdb-compat")}}return t=e,Fe(e,"\u0275fac",function(r){return new(r||t)}),Fe(e,"\u0275mod",Vn({type:t})),Fe(e,"\u0275inj",Zn({providers:[qwe]})),e})();function pk(){return K((t,e)=>{let n,r=!1;t.subscribe(Ce(e,i=>{const o=n;n=i,r&&e.next([o,i]),r=!0}))})}function gk(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new le("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function Q7(){if(typeof Uint8Array>"u")throw new le("unimplemented","Uint8Arrays are not available in this environment.")}function Y7(){if(!function F_e(){return typeof atob<"u"}())throw new le("unimplemented","Blobs are unavailable in Firestore in this environment.")}class tv{constructor(e){this._delegate=e}static fromBase64String(e){return Y7(),new tv(ha.fromBase64String(e))}static fromUint8Array(e){return Q7(),new tv(ha.fromUint8Array(e))}toBase64(){return Y7(),this._delegate.toBase64()}toUint8Array(){return Q7(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function mk(t){return function Ywe(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}(t,["next","error","complete"])}class Xwe{enableIndexedDbPersistence(e,n){return function hCe(t,e){f7(t=vt(t,dn));const n=Gn(t);if(n._uninitializedComponentsProvider)throw new le(W.FAILED_PRECONDITION,"SDK cache is already specified.");ro("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new Pp;return h7(n,i,new Lx(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function fCe(t){f7(t=vt(t,dn));const e=Gn(t);if(e._uninitializedComponentsProvider)throw new le(W.FAILED_PRECONDITION,"SDK cache is already specified.");ro("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new Pp;return h7(e,r,new q8(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function pCe(t){if(t._initialized&&!t._terminated)throw new le(W.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Mr;return t._queue.enqueueAndForgetEvenWhileRestricted((0,k.Z)(function*(){try{yield(n=(0,k.Z)(function*(i){if(!bs.D())return Promise.resolve();const o=i+"main";yield bs.delete(o)}),function r(i){return n.apply(this,arguments)})(AR(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class X7{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof bl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&ro("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,r={}){c7(this._delegate,e,n,r)}enableNetwork(){return function mCe(t){return function Yve(t){return t.asyncQueue.enqueue((0,k.Z)(function*(){const e=yield Q8(t),n=yield Y8(t);return e.setNetworkEnabled(!0),function(i){const o=ye(i);return o.C_.delete(0),$y(o)}(n)}))}(Gn(t=vt(t,dn)))}(this._delegate)}disableNetwork(){return function _Ce(t){return function Xve(t){return t.asyncQueue.enqueue((0,k.Z)(function*(){const e=yield Q8(t),n=yield Y8(t);return e.setNetworkEnabled(!1),(r=(0,k.Z)(function*(o){const s=ye(o);s.C_.add(0),yield gp(s),s.M_.set("Offline")}),function i(o){return r.apply(this,arguments)})(n);var r}))}(Gn(t=vt(t,dn)))}(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,r7("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function gCe(t){return function(n){const r=new Mr;return n.asyncQueue.enqueueAndForget((0,k.Z)(function*(){return function kve(t,e){return wx.apply(this,arguments)}(yield zx(n),r)})),r.promise}(Gn(t=vt(t,dn)))}(this._delegate)}onSnapshotsInSync(e){return function KCe(t,e){return function tCe(t,e){const n=new DE(e);return t.asyncQueue.enqueueAndForget((0,k.Z)(function*(){return i=yield Mp(t),o=n,ye(i).q_.add(o),void o.next();var i,o})),()=>{n.Na(),t.asyncQueue.enqueueAndForget((0,k.Z)(function*(){return i=yield Mp(t),o=n,void ye(i).q_.delete(o);var i,o}))}}(Gn(t=vt(t,dn)),Kx(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new le("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new bp(this,l7(this._delegate,e))}catch(n){throw Bi(n,"collection()","Firestore.collection()")}}doc(e){try{return new ts(this,kE(this._delegate,e))}catch(n){throw Bi(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ji(this,function aCe(t,e){if(t=vt(t,Gy),Wx("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new le(W.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xr(t,null,(r=e,new nc(At.emptyPath(),r)));var r}(this._delegate,e))}catch(n){throw Bi(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function owe(t,e,n){t=vt(t,dn);const r=Object.assign(Object.assign({},rwe),n);return function(o){if(o.maxAttempts<1)throw new le(W.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){const c=new Mr;return o.asyncQueue.enqueueAndForget((0,k.Z)(function*(){const l=yield function X8(t){return RE(t).then(e=>e.datastore)}(o);new Zve(o.asyncQueue,l,a,s,c).run()})),c.promise}(Gn(t),i=>e(new iwe(t,i)),r)}(this._delegate,n=>e(new J7(this,n)))}batch(){return Gn(this._delegate),new eG(new S7(this._delegate,e=>Op(this._delegate,e)))}loadBundle(e){return function yCe(t,e){const n=Gn(t=vt(t,dn)),r=new lCe;return function nCe(t,e,n,r){const i=function(s,a){let c;return c="string"==typeof s?wz().encode(s):s,h=function(h,p){if(h instanceof Uint8Array)return K8(h,p);if(h instanceof ArrayBuffer)return K8(new Uint8Array(h),p);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),new qve(h,a);var h}(n,jy(e));t.asyncQueue.enqueueAndForget((0,k.Z)(function*(){!function Gve(t,e,n){const r=ye(t);var i;(i=(0,k.Z)(function*(s,a,c){try{const l=yield a.getMetadata();if(yield function(E,O){const b=ye(E),F=nr(O.createTime);return b.persistence.runTransaction("hasNewerBundle","readonly",x=>b.Kr.getBundleMetadata(x,O.id)).then(x=>!!x&&x.createTime.compareTo(F)>=0)}(s.localStore,l))return yield a.close(),c._completeWith({taskState:"Success",documentsLoaded:(E=l).totalDocuments,bytesLoaded:E.totalBytes,totalDocuments:E.totalDocuments,totalBytes:E.totalBytes}),Promise.resolve(new Set);c._updateProgress(V8(l));const h=new Mve(l,s.localStore,a.serializer);let p=yield a.Ma();for(;p;){const v=yield h.ea(p);v&&c._updateProgress(v),p=yield a.Ma()}const m=yield h.complete();return yield sc(s,m.ra,void 0),yield function(E,O){const b=ye(E);return b.persistence.runTransaction("Save bundle","readwrite",F=>b.Kr.saveBundleMetadata(F,O))}(s.localStore,l),c._completeWith(m.progress),Promise.resolve(m.na)}catch(l){return ro("SyncEngine",`Loading bundle failed with ${l}`),c._failWith(l),Promise.resolve(new Set)}var E}),function o(s,a,c){return i.apply(this,arguments)})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield zx(t),i,r)}))}(n,t._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function vCe(t,e){return function rCe(t,e){return t.asyncQueue.enqueue((0,k.Z)(function*(){return function(r,i){const o=ye(r);return o.persistence.runTransaction("Get named query","readonly",s=>o.Kr.getNamedQuery(s,i))}(yield Ep(t),e)}))}(Gn(t=vt(t,dn)),e).then(n=>n?new Xr(t,null,n.query):null)}(this._delegate,e).then(n=>n?new ji(this,n):null)}}class WE extends tk{constructor(e){super(),this.firestore=e}convertBytes(e){return new tv(new ha(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return ts.forKey(n,this.firestore,null)}}class J7{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new WE(e)}get(e){const n=Md(e);return this._delegate.get(n).then(r=>new nv(this._firestore,new cc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Md(e);return r?(gk("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=Md(e);return 2===arguments.length?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=Md(e);return this._delegate.delete(n),this}}class eG{constructor(e){this._delegate=e}set(e,n,r){const i=Md(e);return r?(gk("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=Md(e);return 2===arguments.length?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=Md(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Ed{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Xy(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new rv(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Ed.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(n);return o||(o=new Ed(e,new WE(e),n),i.set(n,o)),o}}Ed.INSTANCES=new WeakMap;class ts{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new WE(e)}static forPath(e,n,r){if(e.length%2!=0)throw new le("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ts(n,new wn(n._delegate,r,new ve(e)))}static forKey(e,n,r){return new ts(n,new wn(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new bp(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new bp(this.firestore,l7(this._delegate,e))}catch(n){throw Bi(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,M.m9)(e))instanceof wn&&u7(this._delegate,e)}set(e,n){n=gk("DocumentReference.set",n);try{return n?T7(this._delegate,e,n):T7(this._delegate,e)}catch(r){throw Bi(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return 1===arguments.length?A7(this._delegate,e):A7(this._delegate,e,n,...r)}catch(i){throw Bi(i,"updateDoc()","DocumentReference.update()")}}delete(){return function WCe(t){return Op(vt(t.firestore,dn),[new sp(t._key,An.none())])}(this._delegate)}onSnapshot(...e){const n=tG(e),r=nG(e,i=>new nv(this.firestore,new cc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return D7(this._delegate,n,r)}get(e){let n;return n="cache"===e?.source?function jCe(t){t=vt(t,wn);const e=vt(t.firestore,dn),n=Gn(e),r=new Bl(e);return function Jve(t,e){const n=new Mr;return t.asyncQueue.enqueueAndForget((0,k.Z)(function*(){return(r=(0,k.Z)(function*(o,s,a){try{const c=yield function(h,p){const m=ye(h);return m.persistence.runTransaction("read document","readonly",v=>m.localDocuments.getDocument(v,p))}(o,s);c.isFoundDocument()?a.resolve(c):c.isNoDocument()?a.resolve(null):a.reject(new le(W.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const l=yp(c,`Failed to get document '${s} from cache`);a.reject(l)}}),function i(o,s,a){return r.apply(this,arguments)})(yield Ep(t),e,n);var r})),n.promise}(n,t._key).then(i=>new cc(e,r,t._key,i,new Pd(null!==i&&i.hasLocalMutations,!0),t.converter))}(this._delegate):"server"===e?.source?function $Ce(t){t=vt(t,wn);const e=vt(t.firestore,dn);return J8(Gn(e),t._key,{source:"server"}).then(n=>nk(e,t,n))}(this._delegate):function BCe(t){t=vt(t,wn);const e=vt(t.firestore,dn);return J8(Gn(e),t._key).then(n=>nk(e,t,n))}(this._delegate),n.then(r=>new nv(this.firestore,new cc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ts(this.firestore,this._delegate.withConverter(e?Ed.getInstance(this.firestore,e):null))}}function Bi(t,e,n){return t.message=t.message.replace(e,n),t}function tG(t){for(const e of t)if("object"==typeof e&&!mk(e))return e;return{}}function nG(t,e){var n,r;let i;return i=mk(t[0])?t[0]:mk(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:o=>{i.next&&i.next(e(o))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class nv{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new ts(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return b7(this._delegate,e._delegate)}}class rv extends nv{data(e){const n=this._delegate.data(e);return function r_e(t,e){t||Te()}(void 0!==n),n}}class ji{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new WE(e)}where(e,n,r){try{return new ji(this.firestore,Vl(this._delegate,function ACe(t,e,n){const r=e,i=BE("where",t);return Yy._create(i,r,n)}(e,n,r)))}catch(i){throw Bi(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new ji(this.firestore,Vl(this._delegate,function DCe(t,e="asc"){const n=e,r=BE("orderBy",t);return ek._create(r,n)}(e,n)))}catch(r){throw Bi(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ji(this.firestore,Vl(this._delegate,function SCe(t){return s7("limit",t),jE._create("limit",t,"F")}(e)))}catch(n){throw Bi(n,"limit()","Query.limit()")}}limitToLast(e){try{return new ji(this.firestore,Vl(this._delegate,function RCe(t){return s7("limitToLast",t),jE._create("limitToLast",t,"L")}(e)))}catch(n){throw Bi(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ji(this.firestore,Vl(this._delegate,function xCe(...t){return $E._create("startAt",t,!0)}(...e)))}catch(n){throw Bi(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ji(this.firestore,Vl(this._delegate,function kCe(...t){return $E._create("startAfter",t,!1)}(...e)))}catch(n){throw Bi(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ji(this.firestore,Vl(this._delegate,function NCe(...t){return HE._create("endBefore",t,!1)}(...e)))}catch(n){throw Bi(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ji(this.firestore,Vl(this._delegate,function FCe(...t){return HE._create("endAt",t,!0)}(...e)))}catch(n){throw Bi(n,"endAt()","Query.endAt()")}}isEqual(e){return qx(this._delegate,e._delegate)}get(e){let n;return n="cache"===e?.source?function zCe(t){t=vt(t,Xr);const e=vt(t.firestore,dn),n=Gn(e),r=new Bl(e);return function eCe(t,e){const n=new Mr;return t.asyncQueue.enqueueAndForget((0,k.Z)(function*(){return(r=(0,k.Z)(function*(o,s,a){try{const c=yield EE(o,s,!0),l=new j8(s,c.ls),h=l.ca(c.documents),p=l.applyChanges(h,!1);a.resolve(p.snapshot)}catch(c){const l=yp(c,`Failed to execute query '${s} against cache`);a.reject(l)}}),function i(o,s,a){return r.apply(this,arguments)})(yield Ep(t),e,n);var r})),n.promise}(n,t._query).then(i=>new Ul(e,r,t,i))}(this._delegate):"server"===e?.source?function GCe(t){t=vt(t,Xr);const e=vt(t.firestore,dn),n=Gn(e),r=new Bl(e);return e7(n,t._query,{source:"server"}).then(i=>new Ul(e,r,t,i))}(this._delegate):function HCe(t){t=vt(t,Xr);const e=vt(t.firestore,dn),n=Gn(e),r=new Bl(e);return w7(t._query),e7(n,t._query).then(i=>new Ul(e,r,t,i))}(this._delegate),n.then(r=>new _k(this.firestore,new Ul(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=tG(e),r=nG(e,i=>new _k(this.firestore,new Ul(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return D7(this._delegate,n,r)}withConverter(e){return new ji(this.firestore,this._delegate.withConverter(e?Ed.getInstance(this.firestore,e):null))}}class e0e{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new rv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class _k{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new ji(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new rv(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new e0e(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new rv(this._firestore,r))})}isEqual(e){return b7(this._delegate,e._delegate)}}class bp extends ji{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ts(this.firestore,e):null}doc(e){try{return new ts(this.firestore,void 0===e?kE(this._delegate):kE(this._delegate,e))}catch(n){throw Bi(n,"doc()","CollectionReference.doc()")}}add(e){return function qCe(t,e){const n=vt(t.firestore,dn),r=kE(t),i=zE(t.converter,e);return Op(n,[LE(Cd(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,An.exists(!1))]).then(()=>r)}(this._delegate,e).then(n=>new ts(this.firestore,n))}isEqual(e){return u7(this._delegate,e._delegate)}withConverter(e){return new bp(this.firestore,this._delegate.withConverter(e?Ed.getInstance(this.firestore,e):null))}}function Md(t){return vt(t,wn)}class yk{constructor(...e){this._delegate=new ac(...e)}static documentId(){return new yk(vn.keyField().canonicalString())}isEqual(e){return(e=(0,M.m9)(e))instanceof ac&&this._delegate._internalPath.isEqual(e._internalPath)}}class Id{constructor(e){this._delegate=e}static serverTimestamp(){const e=function awe(){return new Zx("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Id(e)}static delete(){const e=function swe(){return new qy("deleteField")}();return e._methodName="FieldValue.delete",new Id(e)}static arrayUnion(...e){const n=function cwe(...t){return new MCe("arrayUnion",t)}(...e);return n._methodName="FieldValue.arrayUnion",new Id(n)}static arrayRemove(...e){const n=function lwe(...t){return new ICe("arrayRemove",t)}(...e);return n._methodName="FieldValue.arrayRemove",new Id(n)}static increment(e){const n=function uwe(t){return new OCe("increment",t)}(e);return n._methodName="FieldValue.increment",new Id(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const t0e={Firestore:X7,GeoPoint:NE,Timestamp:Tn,Blob:tv,Transaction:J7,WriteBatch:eG,DocumentReference:ts,DocumentSnapshot:nv,Query:ji,QueryDocumentSnapshot:rv,QuerySnapshot:_k,CollectionReference:bp,FieldPath:yk,FieldValue:Id,setLogLevel:function Jwe(t){!function n_e(t){Pl.setLogLevel(t)}(t)},CACHE_SIZE_UNLIMITED:-1};function rG(t,e){return function i0e(t,e=X0){return new st(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{r?.()}})}(t,e)}function vk(t,e){return rG(t,e).pipe(ge(n=>({payload:n,type:"query"})))}!function r0e(t){(function n0e(t,e){t.INTERNAL.registerComponent(new Co.wA("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},t0e)))})(t,(e,n)=>new X7(e,n,new Xwe)),t.registerVersion("@firebase/firestore-compat","0.3.21")}(Xo.Z);class iG{constructor(e,n){Fe(this,"ref",void 0),Fe(this,"afs",void 0),this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const r=this.ref.collection(e),{ref:i,query:o}=uG(r,n);return new aG(i,o,this.afs)}snapshotChanges(){return function o0e(t,e){return rG(t,e).pipe(Sw(void 0),pk(),ge(n=>{const[r,i]=n;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(er)}valueChanges(e={}){return this.snapshotChanges().pipe(ge(({payload:n})=>e.idField?{...n.data(),[e.idField]:n.id}:n.data()))}get(e){return S(this.ref.get(e)).pipe(er)}}function qE(t,e){return vk(t,e).pipe(Sw(void 0),pk(),ge(n=>{const[r,i]=n,o=i.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,c)=>{const l=o.find(p=>p.doc.ref.isEqual(a.ref)),h=r?.payload.docs.find(p=>p.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function oG(t,e,n){return qE(t,n).pipe(ef((r,i)=>function s0e(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=function a0e(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Ck(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Ck(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Ck(t,e.oldIndex,1)}return t}(t,r))}),t}(r,i.map(o=>o.payload),e),[]),rn(),ge(r=>r.map(i=>({type:i.type,payload:i}))))}function Ck(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function sG(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class aG{constructor(e,n,r){Fe(this,"ref",void 0),Fe(this,"query",void 0),Fe(this,"afs",void 0),this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=qE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(ge(r=>r.filter(i=>e.indexOf(i.type)>-1)))),n.pipe(Sw(void 0),pk(),qo(([r,i])=>i.length>0||!r),ge(([,r])=>r),er)}auditTrail(e){return this.stateChanges(e).pipe(ef((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=sG(e);return oG(this.query,n,this.afs.schedulers.outsideAngular).pipe(er)}valueChanges(e={}){return vk(this.query,this.afs.schedulers.outsideAngular).pipe(ge(n=>n.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),er)}get(e){return S(this.query.get(e)).pipe(er)}add(e){return this.ref.add(e)}doc(e){return new iG(this.ref.doc(e),this.afs)}}class c0e{constructor(e,n){Fe(this,"query",void 0),Fe(this,"afs",void 0),this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?qE(this.query,this.afs.schedulers.outsideAngular).pipe(ge(n=>n.filter(r=>e.indexOf(r.type)>-1)),qo(n=>n.length>0),er):qE(this.query,this.afs.schedulers.outsideAngular).pipe(er)}auditTrail(e){return this.stateChanges(e).pipe(ef((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=sG(e);return oG(this.query,n,this.afs.schedulers.outsideAngular).pipe(er)}valueChanges(e={}){return vk(this.query,this.afs.schedulers.outsideAngular).pipe(ge(r=>r.payload.docs.map(i=>e.idField?{[e.idField]:i.id,...i.data()}:i.data())),er)}get(e){return S(this.query.get(e)).pipe(er)}}const cG=new pe("angularfire2.enableFirestorePersistence"),lG=new pe("angularfire2.firestore.persistenceSettings"),l0e=new pe("angularfire2.firestore.settings"),u0e=new pe("angularfire2.firestore.use-emulator");function uG(t,e=(n=>n)){return{query:e(t),ref:t}}let d0e=(()=>{var t;class e{constructor(r,i,o,s,a,c,l,h,p,m,v,E,O,b,F,x,z){Fe(this,"schedulers",void 0),Fe(this,"firestore",void 0),Fe(this,"persistenceEnabled$",void 0),this.schedulers=l;const $=T_(r,c,i),fe=p;m&&hk($,c,v,O,b,F,E,x),[this.firestore,this.persistenceEnabled$]=J0(`${$.name}.firestore`,"AngularFirestore",$.name,()=>{const Ie=c.runOutsideAngular(()=>$.firestore());if(s&&Ie.settings(s),fe&&Ie.useEmulator(...fe),o&&!Ow(a)){const at=()=>{try{return S(Ie.enablePersistence(h||void 0).then(()=>!0,()=>!1))}catch(Zt){return typeof console<"u"&&console.warn(Zt),H(!1)}};return[Ie,c.runOutsideAngular(at)]}return[Ie,H(!1)]},[s,fe,o])}collection(r,i){let o;o="string"==typeof r?this.firestore.collection(r):r;const{ref:s,query:a}=uG(o,i),c=this.schedulers.ngZone.run(()=>s);return new aG(c,a,this)}collectionGroup(r,i){const o=i||(a=>a),s=this.firestore.collectionGroup(r);return new c0e(o(s),this)}doc(r){let i;i="string"==typeof r?this.firestore.doc(r):r;const o=this.schedulers.ngZone.run(()=>i);return new iG(o,this)}createId(){return this.firestore.collection("_").doc().id}}return t=e,Fe(e,"\u0275fac",function(r){return new(r||t)(ee(Sf),ee(Rf,8),ee(cG,8),ee(l0e,8),ee(po),ee(Tt),ee(Af),ee(lG,8),ee(u0e,8),ee(fk,8),ee(sk,8),ee(ak,8),ee(ck,8),ee(lk,8),ee(uk,8),ee(dk,8),ee(b_,8))}),Fe(e,"\u0275prov",be({token:t,factory:t.\u0275fac,providedIn:"any"})),e})(),h0e=(()=>{var t;class e{constructor(){Xo.Z.registerVersion("angularfire",_l.full,"fst-compat")}static enablePersistence(r){return{ngModule:e,providers:[{provide:cG,useValue:!0},{provide:lG,useValue:r}]}}}return t=e,Fe(e,"\u0275fac",function(r){return new(r||t)}),Fe(e,"\u0275mod",Vn({type:t})),Fe(e,"\u0275inj",Zn({providers:[d0e]})),e})(),f0e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Vn({type:t,bootstrap:[afe]}),t.\u0275inj=Zn({imports:[dte,sfe,ole,nce,ffe(()=>(0,Je.initializeApp)(eo_firebaseConfig)),_we(()=>ywe()),pde.initializeApp(eo_firebaseConfig),ife,F7,Kwe,h0e]}),e})();lte().bootstrapModule(f0e).catch(t=>console.error(t))},106:(ns,fr,qe)=>{qe.d(fr,{Z:()=>pr});var I=qe(58),Ue=qe(537),Z=qe(534),$e=qe(879);class Pt{constructor(He,tt){this._delegate=He,this.firebase=tt,(0,Z._addComponent)(He,new Ue.wA("app-compat",()=>this,"PUBLIC")),this.container=He.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(He){this._delegate.automaticDataCollectionEnabled=He}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(He=>{this._delegate.checkDestroyed(),He()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Z.deleteApp)(this._delegate)))}_getService(He,tt=Z._DEFAULT_ENTRY_NAME){var gr;this._delegate.checkDestroyed();const ir=this._delegate.container.getProvider(He);return!ir.isInitialized()&&"EXPLICIT"===(null===(gr=ir.getComponent())||void 0===gr?void 0:gr.instantiationMode)&&ir.initialize(),ir.getImmediate({identifier:tt})}_removeServiceInstance(He,tt=Z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(He).clearInstance(tt)}_addComponent(He){(0,Z._addComponent)(this._delegate,He)}_addOrOverwriteComponent(He){(0,Z._addOrOverwriteComponent)(this._delegate,He)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Pn=new I.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),oe=function dt(){const St=function rr(St){const He={},tt={__esModule:!0,initializeApp:function en(nt,or={}){const re=Z.initializeApp(nt,or);if((0,I.r3)(He,re.name))return He[re.name];const hn=new St(re,tt);return He[re.name]=hn,hn},app:ir,registerVersion:Z.registerVersion,setLogLevel:Z.setLogLevel,onLog:Z.onLog,apps:null,SDK_VERSION:Z.SDK_VERSION,INTERNAL:{registerComponent:function zt(nt){const or=nt.name,re=or.replace("-compat","");if(Z._registerComponent(nt)&&"PUBLIC"===nt.type){const hn=(tn=ir())=>{if("function"!=typeof tn[re])throw Pn.create("invalid-app-argument",{appName:or});return tn[re]()};void 0!==nt.serviceProps&&(0,I.ZB)(hn,nt.serviceProps),tt[re]=hn,St.prototype[re]=function(...tn){return this._getService.bind(this,or).apply(this,nt.multipleInstances?tn:[])}}return"PUBLIC"===nt.type?tt[re]:null},removeApp:function gr(nt){delete He[nt]},useAsService:function ei(nt,or){return"serverAuth"===or?null:or},modularAPIs:Z}};function ir(nt){if(!(0,I.r3)(He,nt=nt||Z._DEFAULT_ENTRY_NAME))throw Pn.create("no-app",{appName:nt});return He[nt]}return tt.default=tt,Object.defineProperty(tt,"apps",{get:function Rt(){return Object.keys(He).map(nt=>He[nt])}}),ir.App=St,tt}(Pt);return St.INTERNAL=Object.assign(Object.assign({},St.INTERNAL),{createFirebaseNamespace:dt,extendNamespace:function He(tt){(0,I.ZB)(St,tt)},createSubscribe:I.ne,ErrorFactory:I.LL,deepExtend:I.ZB}),St}(),he=new $e.Yd("@firebase/app-compat");if((0,I.jU)()&&void 0!==self.firebase){he.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const St=self.firebase.SDK_VERSION;St&&St.indexOf("LITE")>=0&&he.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const pr=oe;!function It(St){(0,Z.registerVersion)("@firebase/app-compat","0.2.22",St)}()},534:(ns,fr,qe)=>{qe.r(fr),qe.d(fr,{FirebaseError:()=>$e.ZR,SDK_VERSION:()=>os,_DEFAULT_ENTRY_NAME:()=>ao,_addComponent:()=>As,_addOrOverwriteComponent:()=>Or,_apps:()=>Ur,_clearComponents:()=>qn,_components:()=>is,_getProvider:()=>nn,_registerComponent:()=>fa,_removeServiceInstance:()=>$i,deleteApp:()=>_r,getApp:()=>Ss,getApps:()=>hc,initializeApp:()=>Ds,onLog:()=>fc,registerVersion:()=>Rs,setLogLevel:()=>Od});var I=qe(861),Ue=qe(537),Z=qe(879),$e=qe(58);const Pt=(j,N)=>N.some(ue=>j instanceof ue);let Jt,Pn;const oe=new WeakMap,he=new WeakMap,Ae=new WeakMap,ct=new WeakMap,It=new WeakMap;let He={get(j,N,ue){if(j instanceof IDBTransaction){if("done"===N)return he.get(j);if("objectStoreNames"===N)return j.objectStoreNames||Ae.get(j);if("store"===N)return ue.objectStoreNames[1]?void 0:ue.objectStore(ue.objectStoreNames[0])}return en(j[N])},set:(j,N,ue)=>(j[N]=ue,!0),has:(j,N)=>j instanceof IDBTransaction&&("done"===N||"store"===N)||N in j};function ir(j){return"function"==typeof j?function gr(j){return j!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function dt(){return Pn||(Pn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(j)?function(...N){return j.apply(Rt(this),N),en(oe.get(this))}:function(...N){return en(j.apply(Rt(this),N))}:function(N,...ue){const xe=j.call(Rt(this),N,...ue);return Ae.set(xe,N.sort?N.sort():[N]),en(xe)}}(j):(j instanceof IDBTransaction&&function St(j){if(he.has(j))return;const N=new Promise((ue,xe)=>{const Ze=()=>{j.removeEventListener("complete",lt),j.removeEventListener("error",Y),j.removeEventListener("abort",Y)},lt=()=>{ue(),Ze()},Y=()=>{xe(j.error||new DOMException("AbortError","AbortError")),Ze()};j.addEventListener("complete",lt),j.addEventListener("error",Y),j.addEventListener("abort",Y)});he.set(j,N)}(j),Pt(j,function rr(){return Jt||(Jt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(j,He):j)}function en(j){if(j instanceof IDBRequest)return function pr(j){const N=new Promise((ue,xe)=>{const Ze=()=>{j.removeEventListener("success",lt),j.removeEventListener("error",Y)},lt=()=>{ue(en(j.result)),Ze()},Y=()=>{xe(j.error),Ze()};j.addEventListener("success",lt),j.addEventListener("error",Y)});return N.then(ue=>{ue instanceof IDBCursor&&oe.set(ue,j)}).catch(()=>{}),It.set(N,j),N}(j);if(ct.has(j))return ct.get(j);const N=ir(j);return N!==j&&(ct.set(j,N),It.set(N,j)),N}const Rt=j=>It.get(j),nt=["get","getKey","getAll","getAllKeys","count"],or=["put","add","delete","clear"],re=new Map;function hn(j,N){if(!(j instanceof IDBDatabase)||N in j||"string"!=typeof N)return;if(re.get(N))return re.get(N);const ue=N.replace(/FromIndex$/,""),xe=N!==ue,Ze=or.includes(ue);if(!(ue in(xe?IDBIndex:IDBObjectStore).prototype)||!Ze&&!nt.includes(ue))return;const lt=function(){var Y=(0,I.Z)(function*(Kn,...De){const ht=this.transaction(Kn,Ze?"readwrite":"readonly");let Wl=ht.store;return xe&&(Wl=Wl.index(De.shift())),(yield Promise.all([Wl[ue](...De),Ze&&ht.done]))[0]});return function(De){return Y.apply(this,arguments)}}();return re.set(N,lt),lt}!function tt(j){He=j(He)}(j=>({...j,get:(N,ue,xe)=>hn(N,ue)||j.get(N,ue,xe),has:(N,ue)=>!!hn(N,ue)||j.has(N,ue)}));class tn{constructor(N){this.container=N}getPlatformInfoString(){return this.container.getProviders().map(ue=>{if(function Nn(j){const N=j.getComponent();return"VERSION"===N?.type}(ue)){const xe=ue.getImmediate();return`${xe.library}/${xe.version}`}return null}).filter(ue=>ue).join(" ")}}const bo="@firebase/app",st=new Z.Yd("@firebase/app"),ao="[DEFAULT]",zl={[bo]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ur=new Map,is=new Map;function As(j,N){try{j.container.addComponent(N)}catch(ue){st.debug(`Component ${N.name} failed to register with FirebaseApp ${j.name}`,ue)}}function Or(j,N){j.container.addOrOverwriteComponent(N)}function fa(j){const N=j.name;if(is.has(N))return st.debug(`There were multiple attempts to register component ${N}.`),!1;is.set(N,j);for(const ue of Ur.values())As(ue,j);return!0}function nn(j,N){const ue=j.container.getProvider("heartbeat").getImmediate({optional:!0});return ue&&ue.triggerHeartbeat(),j.container.getProvider(N)}function $i(j,N,ue=ao){nn(j,N).clearInstance(ue)}function qn(){is.clear()}const Ci=new $e.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class wi{constructor(N,ue,xe){this._isDeleted=!1,this._options=Object.assign({},N),this._config=Object.assign({},ue),this._name=ue.name,this._automaticDataCollectionEnabled=ue.automaticDataCollectionEnabled,this._container=xe,this.container.addComponent(new Ue.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(N){this.checkDestroyed(),this._automaticDataCollectionEnabled=N}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(N){this._isDeleted=N}checkDestroyed(){if(this.isDeleted)throw Ci.create("app-deleted",{appName:this._name})}}const os="10.5.2";function Ds(j,N={}){let ue=j;"object"!=typeof N&&(N={name:N});const xe=Object.assign({name:ao,automaticDataCollectionEnabled:!1},N),Ze=xe.name;if("string"!=typeof Ze||!Ze)throw Ci.create("bad-app-name",{appName:String(Ze)});if(ue||(ue=(0,$e.aH)()),!ue)throw Ci.create("no-options");const lt=Ur.get(Ze);if(lt){if((0,$e.vZ)(ue,lt.options)&&(0,$e.vZ)(xe,lt.config))return lt;throw Ci.create("duplicate-app",{appName:Ze})}const Y=new Ue.H0(Ze);for(const De of is.values())Y.addComponent(De);const Kn=new wi(ue,xe,Y);return Ur.set(Ze,Kn),Kn}function Ss(j=ao){const N=Ur.get(j);if(!N&&j===ao&&(0,$e.aH)())return Ds();if(!N)throw Ci.create("no-app",{appName:j});return N}function hc(){return Array.from(Ur.values())}function _r(j){return Br.apply(this,arguments)}function Br(){return(Br=(0,I.Z)(function*(j){const N=j.name;Ur.has(N)&&(Ur.delete(N),yield Promise.all(j.container.getProviders().map(ue=>ue.delete())),j.isDeleted=!0)})).apply(this,arguments)}function Rs(j,N,ue){var xe;let Ze=null!==(xe=zl[j])&&void 0!==xe?xe:j;ue&&(Ze+=`-${ue}`);const lt=Ze.match(/\s|\//),Y=N.match(/\s|\//);if(lt||Y){const Kn=[`Unable to register library "${Ze}" with version "${N}":`];return lt&&Kn.push(`library name "${Ze}" contains illegal characters (whitespace or "/")`),lt&&Y&&Kn.push("and"),Y&&Kn.push(`version name "${N}" contains illegal characters (whitespace or "/")`),void st.warn(Kn.join(" "))}fa(new Ue.wA(`${Ze}-version`,()=>({library:Ze,version:N}),"VERSION"))}function fc(j,N){if(null!==j&&"function"!=typeof j)throw Ci.create("invalid-log-argument");(0,Z.Am)(j,N)}function Od(j){(0,Z.Ub)(j)}const Gl="firebase-heartbeat-database",pc=1,R="firebase-heartbeat-store";let T=null;function S(){return T||(T=function zt(j,N,{blocked:ue,upgrade:xe,blocking:Ze,terminated:lt}={}){const Y=indexedDB.open(j,N),Kn=en(Y);return xe&&Y.addEventListener("upgradeneeded",De=>{xe(en(Y.result),De.oldVersion,De.newVersion,en(Y.transaction),De)}),ue&&Y.addEventListener("blocked",De=>ue(De.oldVersion,De.newVersion,De)),Kn.then(De=>{lt&&De.addEventListener("close",()=>lt()),Ze&&De.addEventListener("versionchange",ht=>Ze(ht.oldVersion,ht.newVersion,ht))}).catch(()=>{}),Kn}(Gl,pc,{upgrade:(j,N)=>{0===N&&j.createObjectStore(R)}}).catch(j=>{throw Ci.create("idb-open",{originalErrorMessage:j.message})})),T}function U(){return(U=(0,I.Z)(function*(j){try{return yield(yield S()).transaction(R).objectStore(R).get(Mt(j))}catch(N){if(N instanceof $e.ZR)st.warn(N.message);else{const ue=Ci.create("idb-get",{originalErrorMessage:N?.message});st.warn(ue.message)}}})).apply(this,arguments)}function H(j,N){return ze.apply(this,arguments)}function ze(){return(ze=(0,I.Z)(function*(j,N){try{const xe=(yield S()).transaction(R,"readwrite");yield xe.objectStore(R).put(N,Mt(j)),yield xe.done}catch(ue){if(ue instanceof $e.ZR)st.warn(ue.message);else{const xe=Ci.create("idb-set",{originalErrorMessage:ue?.message});st.warn(xe.message)}}})).apply(this,arguments)}function Mt(j){return`${j.name}!${j.options.appId}`}class Pi{constructor(N){this.container=N,this._heartbeatsCache=null;const ue=this.container.getProvider("app").getImmediate();this._storage=new Ut(ue),this._heartbeatsCachePromise=this._storage.read().then(xe=>(this._heartbeatsCache=xe,xe))}triggerHeartbeat(){var N=this;return(0,I.Z)(function*(){const xe=N.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ze=Re();if(null===N._heartbeatsCache&&(N._heartbeatsCache=yield N._heartbeatsCachePromise),N._heartbeatsCache.lastSentHeartbeatDate!==Ze&&!N._heartbeatsCache.heartbeats.some(lt=>lt.date===Ze))return N._heartbeatsCache.heartbeats.push({date:Ze,agent:xe}),N._heartbeatsCache.heartbeats=N._heartbeatsCache.heartbeats.filter(lt=>{const Y=new Date(lt.date).valueOf();return Date.now()-Y<=2592e6}),N._storage.overwrite(N._heartbeatsCache)})()}getHeartbeatsHeader(){var N=this;return(0,I.Z)(function*(){if(null===N._heartbeatsCache&&(yield N._heartbeatsCachePromise),null===N._heartbeatsCache||0===N._heartbeatsCache.heartbeats.length)return"";const ue=Re(),{heartbeatsToSend:xe,unsentEntries:Ze}=function sr(j,N=1024){const ue=[];let xe=j.slice();for(const Ze of j){const lt=ue.find(Y=>Y.agent===Ze.agent);if(lt){if(lt.dates.push(Ze.date),ss(ue)>N){lt.dates.pop();break}}else if(ue.push({agent:Ze.agent,dates:[Ze.date]}),ss(ue)>N){ue.pop();break}xe=xe.slice(1)}return{heartbeatsToSend:ue,unsentEntries:xe}}(N._heartbeatsCache.heartbeats),lt=(0,$e.L)(JSON.stringify({version:2,heartbeats:xe}));return N._heartbeatsCache.lastSentHeartbeatDate=ue,Ze.length>0?(N._heartbeatsCache.heartbeats=Ze,yield N._storage.overwrite(N._heartbeatsCache)):(N._heartbeatsCache.heartbeats=[],N._storage.overwrite(N._heartbeatsCache)),lt})()}}function Re(){return(new Date).toISOString().substring(0,10)}class Ut{constructor(N){this.app=N,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,I.Z)(function*(){return!!(0,$e.hl)()&&(0,$e.eu)().then(()=>!0).catch(()=>!1)})()}read(){var N=this;return(0,I.Z)(function*(){return(yield N._canUseIndexedDBPromise)&&(yield function J(j){return U.apply(this,arguments)}(N.app))||{heartbeats:[]}})()}overwrite(N){var ue=this;return(0,I.Z)(function*(){var xe;if(yield ue._canUseIndexedDBPromise){const lt=yield ue.read();return H(ue.app,{lastSentHeartbeatDate:null!==(xe=N.lastSentHeartbeatDate)&&void 0!==xe?xe:lt.lastSentHeartbeatDate,heartbeats:N.heartbeats})}})()}add(N){var ue=this;return(0,I.Z)(function*(){var xe;if(yield ue._canUseIndexedDBPromise){const lt=yield ue.read();return H(ue.app,{lastSentHeartbeatDate:null!==(xe=N.lastSentHeartbeatDate)&&void 0!==xe?xe:lt.lastSentHeartbeatDate,heartbeats:[...lt.heartbeats,...N.heartbeats]})}})()}}function ss(j){return(0,$e.L)(JSON.stringify({version:2,heartbeats:j})).length}!function pa(j){fa(new Ue.wA("platform-logger",N=>new tn(N),"PRIVATE")),fa(new Ue.wA("heartbeat",N=>new Pi(N),"PRIVATE")),Rs(bo,"0.9.22",j),Rs(bo,"0.9.22","esm2017"),Rs("fire-js","")}("")},537:(ns,fr,qe)=>{qe.d(fr,{H0:()=>rr,wA:()=>Z,zt:()=>Pt});var I=qe(861),Ue=qe(58);class Z{constructor(oe,he,Ae){this.name=oe,this.instanceFactory=he,this.type=Ae,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(oe){return this.instantiationMode=oe,this}setMultipleInstances(oe){return this.multipleInstances=oe,this}setServiceProps(oe){return this.serviceProps=oe,this}setInstanceCreatedCallback(oe){return this.onInstanceCreated=oe,this}}const $e="[DEFAULT]";class Pt{constructor(oe,he){this.name=oe,this.container=he,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(oe){const he=this.normalizeInstanceIdentifier(oe);if(!this.instancesDeferred.has(he)){const Ae=new Ue.BH;if(this.instancesDeferred.set(he,Ae),this.isInitialized(he)||this.shouldAutoInitialize())try{const ct=this.getOrInitializeService({instanceIdentifier:he});ct&&Ae.resolve(ct)}catch{}}return this.instancesDeferred.get(he).promise}getImmediate(oe){var he;const Ae=this.normalizeInstanceIdentifier(oe?.identifier),ct=null!==(he=oe?.optional)&&void 0!==he&&he;if(!this.isInitialized(Ae)&&!this.shouldAutoInitialize()){if(ct)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ae})}catch(It){if(ct)return null;throw It}}getComponent(){return this.component}setComponent(oe){if(oe.name!==this.name)throw Error(`Mismatching Component ${oe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=oe,this.shouldAutoInitialize()){if(function Pn(dt){return"EAGER"===dt.instantiationMode}(oe))try{this.getOrInitializeService({instanceIdentifier:$e})}catch{}for(const[he,Ae]of this.instancesDeferred.entries()){const ct=this.normalizeInstanceIdentifier(he);try{const It=this.getOrInitializeService({instanceIdentifier:ct});Ae.resolve(It)}catch{}}}}clearInstance(oe=$e){this.instancesDeferred.delete(oe),this.instancesOptions.delete(oe),this.instances.delete(oe)}delete(){var oe=this;return(0,I.Z)(function*(){const he=Array.from(oe.instances.values());yield Promise.all([...he.filter(Ae=>"INTERNAL"in Ae).map(Ae=>Ae.INTERNAL.delete()),...he.filter(Ae=>"_delete"in Ae).map(Ae=>Ae._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(oe=$e){return this.instances.has(oe)}getOptions(oe=$e){return this.instancesOptions.get(oe)||{}}initialize(oe={}){const{options:he={}}=oe,Ae=this.normalizeInstanceIdentifier(oe.instanceIdentifier);if(this.isInitialized(Ae))throw Error(`${this.name}(${Ae}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ct=this.getOrInitializeService({instanceIdentifier:Ae,options:he});for(const[It,pr]of this.instancesDeferred.entries())Ae===this.normalizeInstanceIdentifier(It)&&pr.resolve(ct);return ct}onInit(oe,he){var Ae;const ct=this.normalizeInstanceIdentifier(he),It=null!==(Ae=this.onInitCallbacks.get(ct))&&void 0!==Ae?Ae:new Set;It.add(oe),this.onInitCallbacks.set(ct,It);const pr=this.instances.get(ct);return pr&&oe(pr,ct),()=>{It.delete(oe)}}invokeOnInitCallbacks(oe,he){const Ae=this.onInitCallbacks.get(he);if(Ae)for(const ct of Ae)try{ct(oe,he)}catch{}}getOrInitializeService({instanceIdentifier:oe,options:he={}}){let Ae=this.instances.get(oe);if(!Ae&&this.component&&(Ae=this.component.instanceFactory(this.container,{instanceIdentifier:(dt=oe,dt===$e?void 0:dt),options:he}),this.instances.set(oe,Ae),this.instancesOptions.set(oe,he),this.invokeOnInitCallbacks(Ae,oe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,oe,Ae)}catch{}var dt;return Ae||null}normalizeInstanceIdentifier(oe=$e){return this.component?this.component.multipleInstances?oe:$e:oe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class rr{constructor(oe){this.name=oe,this.providers=new Map}addComponent(oe){const he=this.getProvider(oe.name);if(he.isComponentSet())throw new Error(`Component ${oe.name} has already been registered with ${this.name}`);he.setComponent(oe)}addOrOverwriteComponent(oe){this.getProvider(oe.name).isComponentSet()&&this.providers.delete(oe.name),this.addComponent(oe)}getProvider(oe){if(this.providers.has(oe))return this.providers.get(oe);const he=new Pt(oe,this);return this.providers.set(oe,he),he}getProviders(){return Array.from(this.providers.values())}}},879:(ns,fr,qe)=>{qe.d(fr,{Am:()=>dt,Ub:()=>rr,Yd:()=>Pn,in:()=>Ue});const I=[];var Ue=function(oe){return oe[oe.DEBUG=0]="DEBUG",oe[oe.VERBOSE=1]="VERBOSE",oe[oe.INFO=2]="INFO",oe[oe.WARN=3]="WARN",oe[oe.ERROR=4]="ERROR",oe[oe.SILENT=5]="SILENT",oe}(Ue||{});const Z={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},$e=Ue.INFO,Pt={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},Jt=(oe,he,...Ae)=>{if(he<oe.logLevel)return;const ct=(new Date).toISOString(),It=Pt[he];if(!It)throw new Error(`Attempted to log a message with an invalid logType (value: ${he})`);console[It](`[${ct}]  ${oe.name}:`,...Ae)};class Pn{constructor(he){this.name=he,this._logLevel=$e,this._logHandler=Jt,this._userLogHandler=null,I.push(this)}get logLevel(){return this._logLevel}set logLevel(he){if(!(he in Ue))throw new TypeError(`Invalid value "${he}" assigned to \`logLevel\``);this._logLevel=he}setLogLevel(he){this._logLevel="string"==typeof he?Z[he]:he}get logHandler(){return this._logHandler}set logHandler(he){if("function"!=typeof he)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=he}get userLogHandler(){return this._userLogHandler}set userLogHandler(he){this._userLogHandler=he}debug(...he){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...he),this._logHandler(this,Ue.DEBUG,...he)}log(...he){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...he),this._logHandler(this,Ue.VERBOSE,...he)}info(...he){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...he),this._logHandler(this,Ue.INFO,...he)}warn(...he){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...he),this._logHandler(this,Ue.WARN,...he)}error(...he){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...he),this._logHandler(this,Ue.ERROR,...he)}}function rr(oe){I.forEach(he=>{he.setLogLevel(oe)})}function dt(oe,he){for(const Ae of I){let ct=null;he&&he.level&&(ct=Z[he.level]),Ae.userLogHandler=null===oe?null:(It,pr,...St)=>{const He=St.map(tt=>{if(null==tt)return null;if("string"==typeof tt)return tt;if("number"==typeof tt||"boolean"==typeof tt)return tt.toString();if(tt instanceof Error)return tt.message;try{return JSON.stringify(tt)}catch{return null}}).filter(tt=>tt).join(" ");pr>=(ct??It.logLevel)&&oe({level:Ue[pr].toLowerCase(),message:He,args:St,type:It.name})}}}},643:(ns,fr,qe)=>{qe.r(fr);var I=qe(861),Ue=qe(106),Z=qe(58),$e=qe(534),Pt=qe(879),Jt=qe(582),Pn=qe(537);const dt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const pr=function ct(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},St=function It(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},He=new Z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),gr=new Pt.Yd("@firebase/auth");function en(f,...u){gr.logLevel<=Pt.in.ERROR&&gr.error(`Auth (${$e.SDK_VERSION}): ${f}`,...u)}function Rt(f,...u){throw or(f,...u)}function zt(f,...u){return or(f,...u)}function ei(f,u,d){const g=Object.assign(Object.assign({},St()),{[u]:d});return new Z.LL("auth","Firebase",g).create(u,{appName:f.name})}function nt(f,u,d){if(!(u instanceof d))throw d.name!==u.constructor.name&&Rt(f,"argument-error"),ei(f,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function or(f,...u){if("string"!=typeof f){const d=u[0],g=[...u.slice(1)];return g[0]&&(g[0].appName=f.name),f._errorFactory.create(d,...g)}return He.create(f,...u)}function re(f,u,...d){if(!f)throw or(u,...d)}function hn(f){const u="INTERNAL ASSERTION FAILED: "+f;throw en(u),new Error(u)}function tn(f,u){f||hn(u)}function Nn(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function bo(){return"http:"===To()||"https:"===To()}function To(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class Ao{constructor(u,d){this.shortDelay=u,this.longDelay=d,tn(d>u,"Short delay should be less than long delay!"),this.isMobile=(0,Z.uI)()||(0,Z.b$)()}get(){return function st(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(bo()||(0,Z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function G(f,u){tn(f.emulator,"Emulator should always be set here");const{url:d}=f.emulator;return u?`${d}${u.startsWith("/")?u.slice(1):u}`:d}class q{static initialize(u,d,g){this.fetchImpl=u,d&&(this.headersImpl=d),g&&(this.responseImpl=g)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Q={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},te=new Ao(3e4,6e4);function ae(f,u){return f.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:f.tenantId}):u}function K(f,u,d,g){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,I.Z)(function*(f,u,d,g,C={}){return yt(f,C,(0,I.Z)(function*(){let P={},D={};g&&("GET"===u?D=g:P={body:JSON.stringify(g)});const V=(0,Z.xO)(Object.assign({key:f.config.apiKey},D)).slice(1),ne=yield f._getAdditionalHeaders();return ne["Content-Type"]="application/json",f.languageCode&&(ne["X-Firebase-Locale"]=f.languageCode),q.fetch()(fn(f,f.config.apiHost,d,V),Object.assign({method:u,headers:ne,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function yt(f,u,d){return ge.apply(this,arguments)}function ge(){return(ge=(0,I.Z)(function*(f,u,d){f._canInitEmulator=!1;const g=Object.assign(Object.assign({},Q),u);try{const C=new mr(f),P=yield Promise.race([d(),C.promise]);C.clearNetworkTimeout();const D=yield P.json();if("needConfirmation"in D)throw Wn(f,"account-exists-with-different-credential",D);if(P.ok&&!("errorMessage"in D))return D;{const V=P.ok?D.errorMessage:D.error.message,[ne,_e]=V.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ne)throw Wn(f,"credential-already-in-use",D);if("EMAIL_EXISTS"===ne)throw Wn(f,"email-already-in-use",D);if("USER_DISABLED"===ne)throw Wn(f,"user-disabled",D);const Me=g[ne]||ne.toLowerCase().replace(/[_\s]+/g,"-");if(_e)throw ei(f,Me,_e);Rt(f,Me)}}catch(C){if(C instanceof Z.ZR)throw C;Rt(f,"network-request-failed",{message:String(C)})}})).apply(this,arguments)}function Se(f,u,d,g){return Et.apply(this,arguments)}function Et(){return(Et=(0,I.Z)(function*(f,u,d,g,C={}){const P=yield K(f,u,d,g,C);return"mfaPendingCredential"in P&&Rt(f,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function fn(f,u,d,g){const C=`${u}${d}?${g}`;return f.config.emulator?G(f.config,C):`${f.config.apiScheme}://${C}`}function Qt(f){switch(f){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mr{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((d,g)=>{this.timer=setTimeout(()=>g(zt(this.auth,"network-request-failed")),te.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wn(f,u,d){const g={appName:f.name};d.email&&(g.email=d.email),d.phoneNumber&&(g.phoneNumber=d.phoneNumber);const C=zt(f,u,g);return C.customData._tokenResponse=d,C}function Lr(f){return void 0!==f&&void 0!==f.getResponse}function Vr(f){return void 0!==f&&void 0!==f.enterprise}class vi{constructor(u){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===u.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=u.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=u.recaptchaEnforcementState}getProviderEnforcementState(u){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const d of this.recaptchaEnforcementState)if(d.provider&&d.provider===u)return Qt(d.enforcementState);return null}isProviderEnabled(u){return"ENFORCE"===this.getProviderEnforcementState(u)||"AUDIT"===this.getProviderEnforcementState(u)}}function rs(){return(rs=(0,I.Z)(function*(f){return(yield K(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Fn(f,u){return uc.apply(this,arguments)}function uc(){return(uc=(0,I.Z)(function*(f,u){return K(f,"GET","/v2/recaptchaConfig",ae(f,u))})).apply(this,arguments)}function ao(){return(ao=(0,I.Z)(function*(f,u){return K(f,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function Ur(){return(Ur=(0,I.Z)(function*(f,u){return K(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function As(){return(As=(0,I.Z)(function*(f,u){return K(f,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function Or(f){if(f)try{const u=new Date(Number(f));if(!isNaN(u.getTime()))return u.toUTCString()}catch{}}function $i(){return($i=(0,I.Z)(function*(f,u=!1){const d=(0,Z.m9)(f),g=yield d.getIdToken(u),C=dc(g);re(C&&C.exp&&C.auth_time&&C.iat,d.auth,"internal-error");const P="object"==typeof C.firebase?C.firebase:void 0,D=P?.sign_in_provider;return{claims:C,token:g,authTime:Or(qn(C.auth_time)),issuedAtTime:Or(qn(C.iat)),expirationTime:Or(qn(C.exp)),signInProvider:D||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function qn(f){return 1e3*Number(f)}function dc(f){const[u,d,g]=f.split(".");if(void 0===u||void 0===d||void 0===g)return en("JWT malformed, contained fewer than 3 sections"),null;try{const C=(0,Z.tV)(d);return C?JSON.parse(C):(en("Failed to decode base64 JWT payload"),null)}catch(C){return en("Caught error parsing JWT payload as JSON",C?.toString()),null}}function wi(f,u){return os.apply(this,arguments)}function os(){return(os=(0,I.Z)(function*(f,u,d=!1){if(d)return u;try{return yield u}catch(g){throw g instanceof Z.ZR&&function Ds({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}(g)&&f.auth.currentUser===f&&(yield f.auth.signOut()),g}})).apply(this,arguments)}class Ss{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var d;if(u){const g=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),g}{this.errorBackoff=3e4;const C=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,C)}}schedule(u=!1){var d=this;if(!this.isRunning)return;const g=this.getInterval(u);this.timerId=setTimeout((0,I.Z)(function*(){yield d.iteration()}),g)}iteration(){var u=this;return(0,I.Z)(function*(){try{yield u.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&u.schedule(!0))}u.schedule()})()}}class hc{constructor(u,d){this.createdAt=u,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=Or(this.lastLoginAt),this.creationTime=Or(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function _r(f){return Br.apply(this,arguments)}function Br(){return Br=(0,I.Z)(function*(f){var u;const d=f.auth,g=yield f.getIdToken(),C=yield wi(f,function is(f,u){return As.apply(this,arguments)}(d,{idToken:g}));re(C?.users.length,d,"internal-error");const P=C.users[0];f._notifyReloadListener(P);const D=null!==(u=P.providerUserInfo)&&void 0!==u&&u.length?function Gl(f){return f.map(u=>{var{providerId:d}=u,g=(0,Jt._T)(u,["providerId"]);return{providerId:d,uid:g.rawId||"",displayName:g.displayName||null,email:g.email||null,phoneNumber:g.phoneNumber||null,photoURL:g.photoUrl||null}})}(P.providerUserInfo):[],V=function Od(f,u){return[...f.filter(g=>!u.some(C=>C.providerId===g.providerId)),...u]}(f.providerData,D),Me=!!f.isAnonymous&&!(f.email&&P.passwordHash||V?.length),Oe={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:V,metadata:new hc(P.createdAt,P.lastLoginAt),isAnonymous:Me};Object.assign(f,Oe)}),Br.apply(this,arguments)}function fc(){return(fc=(0,I.Z)(function*(f){const u=(0,Z.m9)(f);yield _r(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function R(){return(R=(0,I.Z)(function*(f,u){const d=yield yt(f,{},(0,I.Z)(function*(){const g=(0,Z.xO)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:C,apiKey:P}=f.config,D=fn(f,C,"/v1/token",`key=${P}`),V=yield f._getAdditionalHeaders();return V["Content-Type"]="application/x-www-form-urlencoded",q.fetch()(D,{method:"POST",headers:V,body:g})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}class T{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){re(u.idToken,"internal-error"),re(typeof u.idToken<"u","internal-error"),re(typeof u.refreshToken<"u","internal-error");const d="expiresIn"in u&&typeof u.expiresIn<"u"?Number(u.expiresIn):function Ci(f){const u=dc(f);return re(u,"internal-error"),re(typeof u.exp<"u","internal-error"),re(typeof u.iat<"u","internal-error"),Number(u.exp)-Number(u.iat)}(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,d)}getToken(u,d=!1){var g=this;return(0,I.Z)(function*(){return re(!g.accessToken||g.refreshToken,u,"user-token-expired"),d||!g.accessToken||g.isExpired?g.refreshToken?(yield g.refresh(u,g.refreshToken),g.accessToken):null:g.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,d){var g=this;return(0,I.Z)(function*(){const{accessToken:C,refreshToken:P,expiresIn:D}=yield function pc(f,u){return R.apply(this,arguments)}(u,d);g.updateTokensAndExpiration(C,P,Number(D))})()}updateTokensAndExpiration(u,d,g){this.refreshToken=d||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*g}static fromJSON(u,d){const{refreshToken:g,accessToken:C,expirationTime:P}=d,D=new T;return g&&(re("string"==typeof g,"internal-error",{appName:u}),D.refreshToken=g),C&&(re("string"==typeof C,"internal-error",{appName:u}),D.accessToken=C),P&&(re("number"==typeof P,"internal-error",{appName:u}),D.expirationTime=P),D}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new T,this.toJSON())}_performRefresh(){return hn("not implemented")}}function S(f,u){re("string"==typeof f||typeof f>"u","internal-error",{appName:u})}class J{constructor(u){var{uid:d,auth:g,stsTokenManager:C}=u,P=(0,Jt._T)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ss(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=g,this.stsTokenManager=C,this.accessToken=C.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new hc(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(u){var d=this;return(0,I.Z)(function*(){const g=yield wi(d,d.stsTokenManager.getToken(d.auth,u));return re(g,d.auth,"internal-error"),d.accessToken!==g&&(d.accessToken=g,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),g})()}getIdTokenResult(u){return function nn(f){return $i.apply(this,arguments)}(this,u)}reload(){return function Rs(f){return fc.apply(this,arguments)}(this)}_assign(u){this!==u&&(re(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(d=>Object.assign({},d)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){const d=new J(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(u){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,d=!1){var g=this;return(0,I.Z)(function*(){let C=!1;u.idToken&&u.idToken!==g.stsTokenManager.accessToken&&(g.stsTokenManager.updateFromServerResponse(u),C=!0),d&&(yield _r(g)),yield g.auth._persistUserIfCurrent(g),C&&g.auth._notifyListenersIfCurrent(g)})()}delete(){var u=this;return(0,I.Z)(function*(){const d=yield u.getIdToken();return yield wi(u,function Hl(f,u){return ao.apply(this,arguments)}(u.auth,{idToken:d})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,d){var g,C,P,D,V,ne,_e,Me;const Oe=null!==(g=d.displayName)&&void 0!==g?g:void 0,_n=null!==(C=d.email)&&void 0!==C?C:void 0,jo=null!==(P=d.phoneNumber)&&void 0!==P?P:void 0,vu=null!==(D=d.photoURL)&&void 0!==D?D:void 0,hC=null!==(V=d.tenantId)&&void 0!==V?V:void 0,fC=null!==(ne=d._redirectEventId)&&void 0!==ne?ne:void 0,pC=null!==(_e=d.createdAt)&&void 0!==_e?_e:void 0,gC=null!==(Me=d.lastLoginAt)&&void 0!==Me?Me:void 0,{uid:Ug,emailVerified:Cu,isAnonymous:Bg,providerData:jg,stsTokenManager:$g}=d;re(Ug&&$g,u,"internal-error");const Xk=T.fromJSON(this.name,$g);re("string"==typeof Ug,u,"internal-error"),S(Oe,u.name),S(_n,u.name),re("boolean"==typeof Cu,u,"internal-error"),re("boolean"==typeof Bg,u,"internal-error"),S(jo,u.name),S(vu,u.name),S(hC,u.name),S(fC,u.name),S(pC,u.name),S(gC,u.name);const vh=new J({uid:Ug,auth:u,email:_n,emailVerified:Cu,displayName:Oe,isAnonymous:Bg,photoURL:vu,phoneNumber:jo,tenantId:hC,stsTokenManager:Xk,createdAt:pC,lastLoginAt:gC});return jg&&Array.isArray(jg)&&(vh.providerData=jg.map(Jk=>Object.assign({},Jk))),fC&&(vh._redirectEventId=fC),vh}static _fromIdTokenResponse(u,d,g=!1){return(0,I.Z)(function*(){const C=new T;C.updateFromServerResponse(d);const P=new J({uid:d.localId,auth:u,stsTokenManager:C,isAnonymous:g});return yield _r(P),P})()}}const U=new Map;function H(f){tn(f instanceof Function,"Expected a class definition");let u=U.get(f);return u?(tn(u instanceof f,"Instance stored in cache mismatched with class"),u):(u=new f,U.set(f,u),u)}const Mt=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,I.Z)(function*(){return!0})()}_set(d,g){var C=this;return(0,I.Z)(function*(){C.storage[d]=g})()}_get(d){var g=this;return(0,I.Z)(function*(){const C=g.storage[d];return void 0===C?null:C})()}_remove(d){var g=this;return(0,I.Z)(function*(){delete g.storage[d]})()}_addListener(d,g){}_removeListener(d,g){}}return f.type="NONE",f})();function Ke(f,u,d){return`firebase:${f}:${u}:${d}`}class rn{constructor(u,d,g){this.persistence=u,this.auth=d,this.userKey=g;const{config:C,name:P}=this.auth;this.fullUserKey=Ke(this.userKey,C.apiKey,P),this.fullPersistenceKey=Ke("persistence",C.apiKey,P),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,I.Z)(function*(){const d=yield u.persistence._get(u.fullUserKey);return d?J._fromJSON(u.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var d=this;return(0,I.Z)(function*(){if(d.persistence===u)return;const g=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=u,g?d.setCurrentUser(g):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,d,g="authUser"){return(0,I.Z)(function*(){if(!d.length)return new rn(H(Mt),u,g);const C=(yield Promise.all(d.map(function(){var _e=(0,I.Z)(function*(Me){if(yield Me._isAvailable())return Me});return function(Me){return _e.apply(this,arguments)}}()))).filter(_e=>_e);let P=C[0]||H(Mt);const D=Ke(g,u.config.apiKey,u.name);let V=null;for(const _e of d)try{const Me=yield _e._get(D);if(Me){const Oe=J._fromJSON(u,Me);_e!==P&&(V=Oe),P=_e;break}}catch{}const ne=C.filter(_e=>_e._shouldAllowMigration);return P._shouldAllowMigration&&ne.length?(P=ne[0],V&&(yield P._set(D,V.toJSON())),yield Promise.all(d.map(function(){var _e=(0,I.Z)(function*(Me){if(Me!==P)try{yield Me._remove(D)}catch{}});return function(Me){return _e.apply(this,arguments)}}())),new rn(P,u,g)):new rn(P,u,g)})()}}function Pi(f){const u=f.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(ss(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if(Re(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(j(u))return"Blackberry";if(N(u))return"Webos";if(sr(u))return"Safari";if((u.includes("chrome/")||Ut(u))&&!u.includes("edge/"))return"Chrome";if(pa(u))return"Android";{const g=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===g?.length)return g[1]}return"Other"}function Re(f=(0,Z.z$)()){return/firefox\//i.test(f)}function sr(f=(0,Z.z$)()){const u=f.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function Ut(f=(0,Z.z$)()){return/crios\//i.test(f)}function ss(f=(0,Z.z$)()){return/iemobile/i.test(f)}function pa(f=(0,Z.z$)()){return/android/i.test(f)}function j(f=(0,Z.z$)()){return/blackberry/i.test(f)}function N(f=(0,Z.z$)()){return/webos/i.test(f)}function ue(f=(0,Z.z$)()){return/iphone|ipad|ipod/i.test(f)||/macintosh/i.test(f)&&/mobile/i.test(f)}function Y(f=(0,Z.z$)()){return ue(f)||pa(f)||N(f)||j(f)||/windows phone/i.test(f)||ss(f)}function De(f,u=[]){let d;switch(f){case"Browser":d=Pi((0,Z.z$)());break;case"Worker":d=`${Pi((0,Z.z$)())}-${f}`;break;default:d=f}const g=u.length?u.join(","):"FirebaseCore-web";return`${d}/JsCore/${$e.SDK_VERSION}/${g}`}class ht{constructor(u){this.auth=u,this.queue=[]}pushCallback(u,d){const g=P=>new Promise((D,V)=>{try{D(u(P))}catch(ne){V(ne)}});g.onAbort=d,this.queue.push(g);const C=this.queue.length-1;return()=>{this.queue[C]=()=>Promise.resolve()}}runMiddleware(u){var d=this;return(0,I.Z)(function*(){if(d.auth.currentUser===u)return;const g=[];try{for(const C of d.queue)yield C(u),C.onAbort&&g.push(C.onAbort)}catch(C){g.reverse();for(const P of g)try{P()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:C?.message})}})()}}function iv(){return(iv=(0,I.Z)(function*(f,u={}){return K(f,"GET","/v2/passwordPolicy",ae(f,u))})).apply(this,arguments)}class Ap{constructor(u){var d,g,C,P;const D=u.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(d=D.minPasswordLength)&&void 0!==d?d:6,D.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=D.maxPasswordLength),void 0!==D.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=D.containsLowercaseCharacter),void 0!==D.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=D.containsUppercaseCharacter),void 0!==D.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=D.containsNumericCharacter),void 0!==D.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=D.containsNonAlphanumericCharacter),this.enforcementState=u.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(C=null===(g=u.allowedNonAlphanumericCharacters)||void 0===g?void 0:g.join(""))&&void 0!==C?C:"",this.forceUpgradeOnSignin=null!==(P=u.forceUpgradeOnSignin)&&void 0!==P&&P,this.schemaVersion=u.schemaVersion}validatePassword(u){var d,g,C,P,D,V;const ne={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(u,ne),this.validatePasswordCharacterOptions(u,ne),ne.isValid&&(ne.isValid=null===(d=ne.meetsMinPasswordLength)||void 0===d||d),ne.isValid&&(ne.isValid=null===(g=ne.meetsMaxPasswordLength)||void 0===g||g),ne.isValid&&(ne.isValid=null===(C=ne.containsLowercaseLetter)||void 0===C||C),ne.isValid&&(ne.isValid=null===(P=ne.containsUppercaseLetter)||void 0===P||P),ne.isValid&&(ne.isValid=null===(D=ne.containsNumericCharacter)||void 0===D||D),ne.isValid&&(ne.isValid=null===(V=ne.containsNonAlphanumericCharacter)||void 0===V||V),ne}validatePasswordLengthOptions(u,d){const g=this.customStrengthOptions.minPasswordLength,C=this.customStrengthOptions.maxPasswordLength;g&&(d.meetsMinPasswordLength=u.length>=g),C&&(d.meetsMaxPasswordLength=u.length<=C)}validatePasswordCharacterOptions(u,d){let g;this.updatePasswordCharacterOptionsStatuses(d,!1,!1,!1,!1);for(let C=0;C<u.length;C++)g=u.charAt(C),this.updatePasswordCharacterOptionsStatuses(d,g>="a"&&g<="z",g>="A"&&g<="Z",g>="0"&&g<="9",this.allowedNonAlphanumericCharacters.includes(g))}updatePasswordCharacterOptionsStatuses(u,d,g,C,P){this.customStrengthOptions.containsLowercaseLetter&&(u.containsLowercaseLetter||(u.containsLowercaseLetter=d)),this.customStrengthOptions.containsUppercaseLetter&&(u.containsUppercaseLetter||(u.containsUppercaseLetter=g)),this.customStrengthOptions.containsNumericCharacter&&(u.containsNumericCharacter||(u.containsNumericCharacter=C)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(u.containsNonAlphanumericCharacter||(u.containsNonAlphanumericCharacter=P))}}class Ei{constructor(u,d,g,C){this.app=u,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=g,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ov(this),this.idTokenSubscription=new ov(this),this.beforeStateQueue=new ht(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=He,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(u,d){var g=this;return d&&(this._popupRedirectResolver=H(d)),this._initializationPromise=this.queue((0,I.Z)(function*(){var C,P;if(!g._deleted&&(g.persistenceManager=yield rn.create(g,u),!g._deleted)){if(null!==(C=g._popupRedirectResolver)&&void 0!==C&&C._shouldInitProactively)try{yield g._popupRedirectResolver._initialize(g)}catch{}yield g.initializeCurrentUser(d),g.lastNotifiedUid=(null===(P=g.currentUser)||void 0===P?void 0:P.uid)||null,!g._deleted&&(g._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,I.Z)(function*(){if(u._deleted)return;const d=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||d){if(u.currentUser&&d&&u.currentUser.uid===d.uid)return u._currentUser._assign(d),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(d,!0)}})()}initializeCurrentUser(u){var d=this;return(0,I.Z)(function*(){var g;const C=yield d.assertedPersistence.getCurrentUser();let P=C,D=!1;if(u&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const V=null===(g=d.redirectUser)||void 0===g?void 0:g._redirectEventId,ne=P?._redirectEventId,_e=yield d.tryRedirectSignIn(u);(!V||V===ne)&&_e?.user&&(P=_e.user,D=!0)}if(!P)return d.directlySetCurrentUser(null);if(!P._redirectEventId){if(D)try{yield d.beforeStateQueue.runMiddleware(P)}catch(V){P=C,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(V))}return P?d.reloadAndSetCurrentUserOrClear(P):d.directlySetCurrentUser(null)}return re(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===P._redirectEventId?d.directlySetCurrentUser(P):d.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(u){var d=this;return(0,I.Z)(function*(){let g=null;try{g=yield d._popupRedirectResolver._completeRedirectFn(d,u,!0)}catch{yield d._setRedirectUser(null)}return g})()}reloadAndSetCurrentUserOrClear(u){var d=this;return(0,I.Z)(function*(){try{yield _r(u)}catch(g){if("auth/network-request-failed"!==g?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function Ts(){if(typeof navigator>"u")return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var u=this;return(0,I.Z)(function*(){u._deleted=!0})()}updateCurrentUser(u){var d=this;return(0,I.Z)(function*(){const g=u?(0,Z.m9)(u):null;return g&&re(g.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(g&&g._clone(d))})()}_updateCurrentUser(u,d=!1){var g=this;return(0,I.Z)(function*(){if(!g._deleted)return u&&re(g.tenantId===u.tenantId,g,"tenant-id-mismatch"),d||(yield g.beforeStateQueue.runMiddleware(u)),g.queue((0,I.Z)(function*(){yield g.directlySetCurrentUser(u),g.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,I.Z)(function*(){return yield u.beforeStateQueue.runMiddleware(null),(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null,!0)})()}setPersistence(u){var d=this;return this.queue((0,I.Z)(function*(){yield d.assertedPersistence.setPersistence(H(u))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(u){var d=this;return(0,I.Z)(function*(){d._getPasswordPolicyInternal()||(yield d._updatePasswordPolicy());const g=d._getPasswordPolicyInternal();return g.schemaVersion!==d.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(d._errorFactory.create("unsupported-password-policy-schema-version",{})):g.validatePassword(u)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var u=this;return(0,I.Z)(function*(){const d=yield function Wl(f){return iv.apply(this,arguments)}(u),g=new Ap(d);null===u.tenantId?u._projectPasswordPolicy=g:u._tenantPasswordPolicies[u.tenantId]=g})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new Z.LL("auth","Firebase",u())}onAuthStateChanged(u,d,g){return this.registerStateListener(this.authStateSubscription,u,d,g)}beforeAuthStateChanged(u,d){return this.beforeStateQueue.pushCallback(u,d)}onIdTokenChanged(u,d,g){return this.registerStateListener(this.idTokenSubscription,u,d,g)}authStateReady(){return new Promise((u,d)=>{if(this.currentUser)u();else{const g=this.onAuthStateChanged(()=>{g(),u()},d)}})}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,d){var g=this;return(0,I.Z)(function*(){const C=yield g.getOrInitRedirectPersistenceManager(d);return null===u?C.removeCurrentUser():C.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var d=this;return(0,I.Z)(function*(){if(!d.redirectPersistenceManager){const g=u&&H(u)||d._popupRedirectResolver;re(g,d,"argument-error"),d.redirectPersistenceManager=yield rn.create(d,[H(g._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(u){var d=this;return(0,I.Z)(function*(){var g,C;return d._isInitialized&&(yield d.queue((0,I.Z)(function*(){}))),(null===(g=d._currentUser)||void 0===g?void 0:g._redirectEventId)===u?d._currentUser:(null===(C=d.redirectUser)||void 0===C?void 0:C._redirectEventId)===u?d.redirectUser:null})()}_persistUserIfCurrent(u){var d=this;return(0,I.Z)(function*(){if(u===d.currentUser)return d.queue((0,I.Z)(function*(){return d.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const g=null!==(d=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==g&&(this.lastNotifiedUid=g,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,d,g,C){if(this._deleted)return()=>{};const P="function"==typeof d?d:d.next.bind(d);let D=!1;const V=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(V,this,"internal-error"),V.then(()=>{D||P(this.currentUser)}),"function"==typeof d){const ne=u.addObserver(d,g,C);return()=>{D=!0,ne()}}{const ne=u.addObserver(d);return()=>{D=!0,ne()}}}directlySetCurrentUser(u){var d=this;return(0,I.Z)(function*(){d.currentUser&&d.currentUser!==u&&d._currentUser._stopProactiveRefresh(),u&&d.isProactiveRefreshEnabled&&u._startProactiveRefresh(),d.currentUser=u,u?yield d.assertedPersistence.setCurrentUser(u):yield d.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=De(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,I.Z)(function*(){var d;const g={"X-Client-Version":u.clientVersion};u.app.options.appId&&(g["X-Firebase-gmpid"]=u.app.options.appId);const C=yield null===(d=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();C&&(g["X-Firebase-Client"]=C);const P=yield u._getAppCheckToken();return P&&(g["X-Firebase-AppCheck"]=P),g})()}_getAppCheckToken(){var u=this;return(0,I.Z)(function*(){var d;const g=yield null===(d=u.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return g?.error&&function ir(f,...u){gr.logLevel<=Pt.in.WARN&&gr.warn(`Auth (${$e.SDK_VERSION}): ${f}`,...u)}(`Error while retrieving App Check token: ${g.error}`),g?.token})()}}function pn(f){return(0,Z.m9)(f)}class ov{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,Z.ne)(d=>this.observer=d)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function as(f){return new Promise((u,d)=>{const g=document.createElement("script");g.setAttribute("src",f),g.onload=u,g.onerror=C=>{const P=zt("internal-error");P.customData=C,d(P)},g.type="text/javascript",g.charset="UTF-8",function wk(){var f,u;return null!==(u=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==u?u:document}().appendChild(g)})}function ZE(f){return`__${f}${Math.floor(1e6*Math.random())}`}class sv{constructor(u){this.type="recaptcha-enterprise",this.auth=pn(u)}verify(u="verify",d=!1){var g=this;return(0,I.Z)(function*(){function P(){return P=(0,I.Z)(function*(V){if(!d){if(null==V.tenantId&&null!=V._agentRecaptchaConfig)return V._agentRecaptchaConfig.siteKey;if(null!=V.tenantId&&void 0!==V._tenantRecaptchaConfigs[V.tenantId])return V._tenantRecaptchaConfigs[V.tenantId].siteKey}return new Promise(function(){var ne=(0,I.Z)(function*(_e,Me){Fn(V,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Oe=>{if(void 0!==Oe.recaptchaKey){const _n=new vi(Oe);return null==V.tenantId?V._agentRecaptchaConfig=_n:V._tenantRecaptchaConfigs[V.tenantId]=_n,_e(_n.siteKey)}Me(new Error("recaptcha Enterprise site key undefined"))}).catch(Oe=>{Me(Oe)})});return function(_e,Me){return ne.apply(this,arguments)}}())}),P.apply(this,arguments)}function D(V,ne,_e){const Me=window.grecaptcha;Vr(Me)?Me.enterprise.ready(()=>{Me.enterprise.execute(V,{action:u}).then(Oe=>{ne(Oe)}).catch(()=>{ne("NO_RECAPTCHA")})}):_e(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((V,ne)=>{(function C(V){return P.apply(this,arguments)})(g.auth).then(_e=>{if(!d&&Vr(window.grecaptcha))D(_e,V,ne);else{if(typeof window>"u")return void ne(new Error("RecaptchaVerifier is only supported in browser"));as("https://www.google.com/recaptcha/enterprise.js?render="+_e).then(()=>{D(_e,V,ne)}).catch(Me=>{ne(Me)})}}).catch(_e=>{ne(_e)})})})()}}function QE(f,u,d){return Dp.apply(this,arguments)}function Dp(){return(Dp=(0,I.Z)(function*(f,u,d,g=!1){const C=new sv(f);let P;try{P=yield C.verify(d)}catch{P=yield C.verify(d,!0)}const D=Object.assign({},u);return Object.assign(D,g?{captchaResp:P}:{captchaResponse:P}),Object.assign(D,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(D,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),D})).apply(this,arguments)}function Sp(f,u,d,g){return ti.apply(this,arguments)}function ti(){return ti=(0,I.Z)(function*(f,u,d,g){var C;if(null!==(C=f._getRecaptchaConfig())&&void 0!==C&&C.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const P=yield QE(f,u,d,"getOobCode"===d);return g(f,P)}return g(f,u).catch(function(){var P=(0,I.Z)(function*(D){if("auth/missing-recaptcha-token"===D.code){console.log(`${d} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const V=yield QE(f,u,d,"getOobCode"===d);return g(f,V)}return Promise.reject(D)});return function(D){return P.apply(this,arguments)}}())}),ti.apply(this,arguments)}function YE(f){const u=f.indexOf(":");return u<0?"":f.substr(0,u+1)}function ql(f){if(!f)return null;const u=Number(f);return isNaN(u)?null:u}class ga{constructor(u,d){this.providerId=u,this.signInMethod=d}toJSON(){return hn("not implemented")}_getIdTokenResponse(u){return hn("not implemented")}_linkToIdToken(u,d){return hn("not implemented")}_getReauthenticationResolver(u){return hn("not implemented")}}function cv(f,u){return gc.apply(this,arguments)}function gc(){return(gc=(0,I.Z)(function*(f,u){return K(f,"POST","/v1/accounts:resetPassword",ae(f,u))})).apply(this,arguments)}function Kl(f,u){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,I.Z)(function*(f,u){return K(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Rp(){return(Rp=(0,I.Z)(function*(f,u){return K(f,"POST","/v1/accounts:update",ae(f,u))})).apply(this,arguments)}function ft(f,u){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,I.Z)(function*(f,u){return Se(f,"POST","/v1/accounts:signInWithPassword",ae(f,u))})).apply(this,arguments)}function Yl(f,u){return br.apply(this,arguments)}function br(){return(br=(0,I.Z)(function*(f,u){return K(f,"POST","/v1/accounts:sendOobCode",ae(f,u))})).apply(this,arguments)}function dv(){return(dv=(0,I.Z)(function*(f,u){return Yl(f,u)})).apply(this,arguments)}function Gt(f,u){return hv.apply(this,arguments)}function hv(){return(hv=(0,I.Z)(function*(f,u){return Yl(f,u)})).apply(this,arguments)}function bk(f,u){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,I.Z)(function*(f,u){return Yl(f,u)})).apply(this,arguments)}function bd(){return(bd=(0,I.Z)(function*(f,u){return Yl(f,u)})).apply(this,arguments)}function Np(){return(Np=(0,I.Z)(function*(f,u){return Se(f,"POST","/v1/accounts:signInWithEmailLink",ae(f,u))})).apply(this,arguments)}function fv(){return(fv=(0,I.Z)(function*(f,u){return Se(f,"POST","/v1/accounts:signInWithEmailLink",ae(f,u))})).apply(this,arguments)}class Td extends ga{constructor(u,d,g,C=null){super("password",g),this._email=u,this._password=d,this._tenantId=C}static _fromEmailAndPassword(u,d){return new Td(u,d,"password")}static _fromEmailAndCode(u,d,g=null){return new Td(u,d,"emailLink",g)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(u){var d=this;return(0,I.Z)(function*(){switch(d.signInMethod){case"password":return Sp(u,{returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ft);case"emailLink":return function kp(f,u){return Np.apply(this,arguments)}(u,{email:d._email,oobCode:d._password});default:Rt(u,"internal-error")}})()}_linkToIdToken(u,d){var g=this;return(0,I.Z)(function*(){switch(g.signInMethod){case"password":return Kl(u,{idToken:d,returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Fp(f,u){return fv.apply(this,arguments)}(u,{idToken:d,email:g._email,oobCode:g._password});default:Rt(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function xs(f,u){return pv.apply(this,arguments)}function pv(){return(pv=(0,I.Z)(function*(f,u){return Se(f,"POST","/v1/accounts:signInWithIdp",ae(f,u))})).apply(this,arguments)}class ni extends ga{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const d=new ni(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(d.idToken=u.idToken),u.accessToken&&(d.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(d.nonce=u.nonce),u.pendingToken&&(d.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(d.accessToken=u.oauthToken,d.secret=u.oauthTokenSecret):Rt("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:g,signInMethod:C}=d,P=(0,Jt._T)(d,["providerId","signInMethod"]);if(!g||!C)return null;const D=new ni(g,C);return D.idToken=P.idToken||void 0,D.accessToken=P.accessToken||void 0,D.secret=P.secret,D.nonce=P.nonce,D.pendingToken=P.pendingToken||null,D}_getIdTokenResponse(u){return xs(u,this.buildRequest())}_linkToIdToken(u,d){const g=this.buildRequest();return g.idToken=d,xs(u,g)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,xs(u,d)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),u.postBody=(0,Z.xO)(d)}return u}}function mc(){return(mc=(0,I.Z)(function*(f,u){return K(f,"POST","/v1/accounts:sendVerificationCode",ae(f,u))})).apply(this,arguments)}function Vp(){return(Vp=(0,I.Z)(function*(f,u){return Se(f,"POST","/v1/accounts:signInWithPhoneNumber",ae(f,u))})).apply(this,arguments)}function Ad(){return(Ad=(0,I.Z)(function*(f,u){const d=yield Se(f,"POST","/v1/accounts:signInWithPhoneNumber",ae(f,u));if(d.temporaryProof)throw Wn(f,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const _c={USER_NOT_FOUND:"user-not-found"};function Do(){return(Do=(0,I.Z)(function*(f,u){return Se(f,"POST","/v1/accounts:signInWithPhoneNumber",ae(f,Object.assign(Object.assign({},u),{operation:"REAUTH"})),_c)})).apply(this,arguments)}class ma extends ga{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,d){return new ma({verificationId:u,verificationCode:d})}static _fromTokenResponse(u,d){return new ma({phoneNumber:u,temporaryProof:d})}_getIdTokenResponse(u){return function JE(f,u){return Vp.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,d){return function eM(f,u){return Ad.apply(this,arguments)}(u,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function tM(f,u){return Do.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:d,verificationId:g,verificationCode:C}=this.params;return u&&d?{temporaryProof:u,phoneNumber:d}:{sessionInfo:g,code:C}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:d,verificationCode:g,phoneNumber:C,temporaryProof:P}=u;return g||d||C||P?new ma({verificationId:d,verificationCode:g,phoneNumber:C,temporaryProof:P}):null}}class we{constructor(u){var d,g,C,P,D,V;const ne=(0,Z.zd)((0,Z.pd)(u)),_e=null!==(d=ne.apiKey)&&void 0!==d?d:null,Me=null!==(g=ne.oobCode)&&void 0!==g?g:null,Oe=function ee(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(C=ne.mode)&&void 0!==C?C:null);re(_e&&Me&&Oe,"argument-error"),this.apiKey=_e,this.operation=Oe,this.code=Me,this.continueUrl=null!==(P=ne.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(D=ne.languageCode)&&void 0!==D?D:null,this.tenantId=null!==(V=ne.tenantId)&&void 0!==V?V:null}static parseLink(u){const d=function gv(f){const u=(0,Z.zd)((0,Z.pd)(f)).link,d=u?(0,Z.zd)((0,Z.pd)(u)).deep_link_id:null,g=(0,Z.zd)((0,Z.pd)(f)).deep_link_id;return(g?(0,Z.zd)((0,Z.pd)(g)).link:null)||g||d||u||f}(u);try{return new we(d)}catch{return null}}}let Jl=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(d,g){return Td._fromEmailAndPassword(d,g)}static credentialWithLink(d,g){const C=we.parseLink(g);return re(C,"argument-error"),Td._fromEmailAndCode(d,C.code,C.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class Mi{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class yc extends Mi{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class vc extends yc{static credentialFromJSON(u){const d="string"==typeof u?JSON.parse(u):u;return re("providerId"in d&&"signInMethod"in d,"argument-error"),ni._fromParams(d)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return re(u.idToken||u.accessToken,"argument-error"),ni._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return vc.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return vc.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:d,oauthAccessToken:g,oauthTokenSecret:C,pendingToken:P,nonce:D,providerId:V}=u;if(!g&&!C&&!d&&!P||!V)return null;try{return new vc(V)._credential({idToken:d,accessToken:g,nonce:D,pendingToken:P})}catch{return null}}}let mv=(()=>{class f extends yc{constructor(){super("facebook.com")}static credential(d){return ni._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),So=(()=>{class f extends yc{constructor(){super("google.com"),this.addScope("profile")}static credential(d,g){return ni._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:g})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:g,oauthAccessToken:C}=d;if(!g&&!C)return null;try{return f.credential(g,C)}catch{return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),eu=(()=>{class f extends yc{constructor(){super("github.com")}static credential(d){return ni._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class jr extends ga{constructor(u,d){super(u,u),this.pendingToken=d}_getIdTokenResponse(u){return xs(u,this.buildRequest())}_linkToIdToken(u,d){const g=this.buildRequest();return g.idToken=d,xs(u,g)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,xs(u,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:g,signInMethod:C,pendingToken:P}=d;return g&&C&&P&&g===C?new jr(g,P):null}static _create(u,d){return new jr(u,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class _a extends Mi{constructor(u){re(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return _a.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return _a.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const d=jr.fromJSON(u);return re(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:d,providerId:g}=u;if(!d||!g)return null;try{return jr._create(g,d)}catch{return null}}}let Dd=(()=>{class f extends yc{constructor(){super("twitter.com")}static credential(d,g){return ni._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:g})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:g,oauthTokenSecret:C}=d;if(!g||!C)return null;try{return f.credential(g,C)}catch{return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function Sd(f,u){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,I.Z)(function*(f,u){return Se(f,"POST","/v1/accounts:signUp",ae(f,u))})).apply(this,arguments)}class Ln{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,d,g,C=!1){return(0,I.Z)(function*(){const P=yield J._fromIdTokenResponse(u,g,C),D=Cc(g);return new Ln({user:P,providerId:D,_tokenResponse:g,operationType:d})})()}static _forOperation(u,d,g){return(0,I.Z)(function*(){yield u._updateTokensIfNecessary(g,!0);const C=Cc(g);return new Ln({user:u,providerId:C,_tokenResponse:g,operationType:d})})()}}function Cc(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function xd(){return(xd=(0,I.Z)(function*(f){var u;const d=pn(f);if(yield d._initializationPromise,null!==(u=d.currentUser)&&void 0!==u&&u.isAnonymous)return new Ln({user:d.currentUser,providerId:null,operationType:"signIn"});const g=yield Sd(d,{returnSecureToken:!0}),C=yield Ln._fromIdTokenResponse(d,"signIn",g,!0);return yield d._updateCurrentUser(C.user),C})).apply(this,arguments)}class wc extends Z.ZR{constructor(u,d,g,C){var P;super(d.code,d.message),this.operationType=g,this.user=C,Object.setPrototypeOf(this,wc.prototype),this.customData={appName:u.name,tenantId:null!==(P=u.tenantId)&&void 0!==P?P:void 0,_serverResponse:d.customData._serverResponse,operationType:g}}static _fromErrorAndOperation(u,d,g,C){return new wc(u,d,g,C)}}function Bp(f,u,d,g){return("reauthenticate"===u?d._getReauthenticationResolver(f):d._getIdTokenResponse(f)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?wc._fromErrorAndOperation(f,P,u,g):P})}function jp(f){return new Set(f.map(({providerId:u})=>u).filter(u=>!!u))}function kd(){return kd=(0,I.Z)(function*(f,u){const d=(0,Z.m9)(f);yield nu(!0,d,u);const{providerUserInfo:g}=yield function zl(f,u){return Ur.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[u]}),C=jp(g||[]);return d.providerData=d.providerData.filter(P=>C.has(P.providerId)),C.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),kd.apply(this,arguments)}function Nd(f,u){return $p.apply(this,arguments)}function $p(){return($p=(0,I.Z)(function*(f,u,d=!1){const g=yield wi(f,u._linkToIdToken(f.auth,yield f.getIdToken()),d);return Ln._forOperation(f,"link",g)})).apply(this,arguments)}function nu(f,u,d){return Hp.apply(this,arguments)}function Hp(){return(Hp=(0,I.Z)(function*(f,u,d){yield _r(u);const C=!1===f?"provider-already-linked":"no-such-provider";re(jp(u.providerData).has(d)===f,u.auth,C)})).apply(this,arguments)}function yv(f,u){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,I.Z)(function*(f,u,d=!1){const{auth:g}=f,C="reauthenticate";try{const P=yield wi(f,Bp(g,C,u,f),d);re(P.idToken,g,"internal-error");const D=dc(P.idToken);re(D,g,"internal-error");const{sub:V}=D;return re(f.uid===V,g,"user-mismatch"),Ln._forOperation(f,C,P)}catch(P){throw"auth/user-not-found"===P?.code&&Rt(g,"user-mismatch"),P}})).apply(this,arguments)}function vv(f,u){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,I.Z)(function*(f,u,d=!1){const g="signIn",C=yield Bp(f,g,u),P=yield Ln._fromIdTokenResponse(f,g,C);return d||(yield f._updateCurrentUser(P.user)),P})).apply(this,arguments)}function Ld(f,u){return zp.apply(this,arguments)}function zp(){return(zp=(0,I.Z)(function*(f,u){return vv(pn(f),u)})).apply(this,arguments)}function Cv(f,u){return Gp.apply(this,arguments)}function Gp(){return(Gp=(0,I.Z)(function*(f,u){const d=(0,Z.m9)(f);return yield nu(!1,d,u.providerId),Nd(d,u)})).apply(this,arguments)}function Wp(f,u){return qp.apply(this,arguments)}function qp(){return(qp=(0,I.Z)(function*(f,u){return yv((0,Z.m9)(f),u)})).apply(this,arguments)}function Kp(){return(Kp=(0,I.Z)(function*(f,u){return Se(f,"POST","/v1/accounts:signInWithCustomToken",ae(f,u))})).apply(this,arguments)}function Zp(){return Zp=(0,I.Z)(function*(f,u){const d=pn(f),g=yield function nM(f,u){return Kp.apply(this,arguments)}(d,{token:u,returnSecureToken:!0}),C=yield Ln._fromIdTokenResponse(d,"signIn",g);return yield d._updateCurrentUser(C.user),C}),Zp.apply(this,arguments)}class ru{constructor(u,d){this.factorId=u,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(u,d){return"phoneInfo"in d?Qp._fromServerResponse(u,d):"totpInfo"in d?Vn._fromServerResponse(u,d):Rt(u,"internal-error")}}class Qp extends ru{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,d){return new Qp(d)}}class Vn extends ru{constructor(u){super("totp",u)}static _fromServerResponse(u,d){return new Vn(d)}}function Vd(f,u,d){var g;re((null===(g=d.url)||void 0===g?void 0:g.length)>0,f,"invalid-continue-uri"),re(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),u.continueUrl=d.url,u.dynamicLinkDomain=d.dynamicLinkDomain,u.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(re(d.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),u.iOSBundleId=d.iOS.bundleId),d.android&&(re(d.android.packageName.length>0,f,"missing-android-pkg-name"),u.androidInstallApp=d.android.installApp,u.androidMinimumVersionCode=d.android.minimumVersion,u.androidPackageName=d.android.packageName)}function Ud(f){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,I.Z)(function*(f){const u=pn(f);u._getPasswordPolicyInternal()&&(yield u._updatePasswordPolicy())})).apply(this,arguments)}function mt(){return(mt=(0,I.Z)(function*(f,u,d){const g=pn(f),C={requestType:"PASSWORD_RESET",email:u,clientType:"CLIENT_TYPE_WEB"};d&&Vd(g,C,d),yield Sp(g,C,"getOobCode",Gt)})).apply(this,arguments)}function vr(){return vr=(0,I.Z)(function*(f,u,d){yield cv((0,Z.m9)(f),{oobCode:u,newPassword:d}).catch(function(){var g=(0,I.Z)(function*(C){throw"auth/password-does-not-meet-requirements"===C.code&&Ud(f),C});return function(C){return g.apply(this,arguments)}}())}),vr.apply(this,arguments)}function $r(){return $r=(0,I.Z)(function*(f,u){yield function lv(f,u){return Rp.apply(this,arguments)}((0,Z.m9)(f),{oobCode:u})}),$r.apply(this,arguments)}function Yp(f,u){return Bd.apply(this,arguments)}function Bd(){return(Bd=(0,I.Z)(function*(f,u){const d=(0,Z.m9)(f),g=yield cv(d,{oobCode:u}),C=g.requestType;switch(re(C,d,"internal-error"),C){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":re(g.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":re(g.mfaInfo,d,"internal-error");default:re(g.email,d,"internal-error")}let P=null;return g.mfaInfo&&(P=ru._fromServerResponse(pn(d),g.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.newEmail:g.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.email:g.newEmail)||null,multiFactorInfo:P},operation:C}})).apply(this,arguments)}function Xp(){return(Xp=(0,I.Z)(function*(f,u){const{data:d}=yield Yp((0,Z.m9)(f),u);return d.email})).apply(this,arguments)}function on(){return(on=(0,I.Z)(function*(f,u,d){const g=pn(f),D=yield Sp(g,{returnSecureToken:!0,email:u,password:d,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Sd).catch(ne=>{throw"auth/password-does-not-meet-requirements"===ne.code&&Ud(f),ne}),V=yield Ln._fromIdTokenResponse(g,"signIn",D);return yield g._updateCurrentUser(V.user),V})).apply(this,arguments)}function Wt(){return(Wt=(0,I.Z)(function*(f,u,d){const g=pn(f),C={requestType:"EMAIL_SIGNIN",email:u,clientType:"CLIENT_TYPE_WEB"};(function P(D,V){re(V.handleCodeInApp,g,"argument-error"),V&&Vd(g,D,V)})(C,d),yield Sp(g,C,"getOobCode",bk)})).apply(this,arguments)}function ar(){return(ar=(0,I.Z)(function*(f,u,d){const g=(0,Z.m9)(f),C=Jl.credentialWithLink(u,d||Nn());return re(C._tenantId===(g.tenantId||null),g,"tenant-id-mismatch"),Ld(g,C)})).apply(this,arguments)}function gn(){return(gn=(0,I.Z)(function*(f,u){return K(f,"POST","/v1/accounts:createAuthUri",ae(f,u))})).apply(this,arguments)}function Ns(){return Ns=(0,I.Z)(function*(f,u){const g={identifier:u,continueUri:bo()?Nn():"http://localhost"},{signinMethods:C}=yield function Ec(f,u){return gn.apply(this,arguments)}((0,Z.m9)(f),g);return C||[]}),Ns.apply(this,arguments)}function ya(){return ya=(0,I.Z)(function*(f,u){const d=(0,Z.m9)(f),C={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};u&&Vd(d.auth,C,u);const{email:P}=yield function uv(f,u){return dv.apply(this,arguments)}(d.auth,C);P!==f.email&&(yield f.reload())}),ya.apply(this,arguments)}function Fs(){return Fs=(0,I.Z)(function*(f,u,d){const g=(0,Z.m9)(f),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:u};d&&Vd(g.auth,P,d);const{email:D}=yield function xp(f,u){return bd.apply(this,arguments)}(g.auth,P);D!==f.email&&(yield f.reload())}),Fs.apply(this,arguments)}function va(){return(va=(0,I.Z)(function*(f,u){return K(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Hi(){return Hi=(0,I.Z)(function*(f,{displayName:u,photoURL:d}){if(void 0===u&&void 0===d)return;const g=(0,Z.m9)(f),P={idToken:yield g.getIdToken(),displayName:u,photoUrl:d,returnSecureToken:!0},D=yield wi(g,function Dn(f,u){return va.apply(this,arguments)}(g.auth,P));g.displayName=D.displayName||null,g.photoURL=D.photoUrl||null;const V=g.providerData.find(({providerId:ne})=>"password"===ne);V&&(V.displayName=g.displayName,V.photoURL=g.photoURL),yield g._updateTokensIfNecessary(D)}),Hi.apply(this,arguments)}function cs(f,u,d){return uo.apply(this,arguments)}function uo(){return(uo=(0,I.Z)(function*(f,u,d){const{auth:g}=f,P={idToken:yield f.getIdToken(),returnSecureToken:!0};u&&(P.email=u),d&&(P.password=d);const D=yield wi(f,Kl(g,P));yield f._updateTokensIfNecessary(D,!0)})).apply(this,arguments)}class Ro{constructor(u,d,g={}){this.isNewUser=u,this.providerId=d,this.profile=g}}class ut extends Ro{constructor(u,d,g,C){super(u,d,g),this.username=C}}class Ak extends Ro{constructor(u,d){super(u,"facebook.com",d)}}class Jp extends ut{constructor(u,d){super(u,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class Ev extends Ro{constructor(u,d){super(u,"google.com",d)}}class xo extends ut{constructor(u,d,g){super(u,"twitter.com",d,g)}}function $d(f){const{user:u,_tokenResponse:d}=f;return u.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function su(f){var u,d;if(!f)return null;const{providerId:g}=f,C=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},P=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!g&&f?.idToken){const D=null===(d=null===(u=dc(f.idToken))||void 0===u?void 0:u.firebase)||void 0===d?void 0:d.sign_in_provider;if(D)return new Ro(P,"anonymous"!==D&&"custom"!==D?D:null)}if(!g)return null;switch(g){case"facebook.com":return new Ak(P,C);case"github.com":return new Jp(P,C);case"google.com":return new Ev(P,C);case"twitter.com":return new xo(P,C,f.screenName||null);case"custom":case"anonymous":return new Ro(P,null);default:return new Ro(P,g,C)}}(d)}class Ca{constructor(u,d,g){this.type=u,this.credential=d,this.user=g}static _fromIdtoken(u,d){return new Ca("enroll",u,d)}static _fromMfaPendingCredential(u){return new Ca("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var d,g;if(u?.multiFactorSession){if(null!==(d=u.multiFactorSession)&&void 0!==d&&d.pendingCredential)return Ca._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null!==(g=u.multiFactorSession)&&void 0!==g&&g.idToken)return Ca._fromIdtoken(u.multiFactorSession.idToken)}return null}}class bv{constructor(u,d,g){this.session=u,this.hints=d,this.signInResolver=g}static _fromError(u,d){const g=pn(u),C=d.customData._serverResponse,P=(C.mfaInfo||[]).map(V=>ru._fromServerResponse(g,V));re(C.mfaPendingCredential,g,"internal-error");const D=Ca._fromMfaPendingCredential(C.mfaPendingCredential);return new bv(D,P,function(){var V=(0,I.Z)(function*(ne){const _e=yield ne._process(g,D);delete C.mfaInfo,delete C.mfaPendingCredential;const Me=Object.assign(Object.assign({},C),{idToken:_e.idToken,refreshToken:_e.refreshToken});switch(d.operationType){case"signIn":const Oe=yield Ln._fromIdTokenResponse(g,d.operationType,Me);return yield g._updateCurrentUser(Oe.user),Oe;case"reauthenticate":return re(d.user,g,"internal-error"),Ln._forOperation(d.user,d.operationType,Me);default:Rt(g,"internal-error")}});return function(ne){return V.apply(this,arguments)}}())}resolveSignIn(u){var d=this;return(0,I.Z)(function*(){return d.signInResolver(u)})()}}class Tv{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(g=>ru._fromServerResponse(u.auth,g)))})}static _fromUser(u){return new Tv(u)}getSession(){var u=this;return(0,I.Z)(function*(){return Ca._fromIdtoken(yield u.user.getIdToken(),u.user)})()}enroll(u,d){var g=this;return(0,I.Z)(function*(){const C=u,P=yield g.getSession(),D=yield wi(g.user,C._process(g.user.auth,P,d));return yield g.user._updateTokensIfNecessary(D),g.user.reload()})()}unenroll(u){var d=this;return(0,I.Z)(function*(){const g="string"==typeof u?u:u.uid,C=yield d.user.getIdToken();try{const P=yield wi(d.user,function Rk(f,u){return K(f,"POST","/v2/accounts/mfaEnrollment:withdraw",ae(f,u))}(d.user.auth,{idToken:C,mfaEnrollmentId:g}));d.enrolledFactors=d.enrolledFactors.filter(({uid:D})=>D!==g),yield d.user._updateTokensIfNecessary(P),yield d.user.reload()}catch(P){throw P}})()}}const Av=new WeakMap,ng="__sak";class sM{constructor(u,d){this.storageRetriever=u,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(ng,"1"),this.storage.removeItem(ng),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(u,d){return this.storage.setItem(u,JSON.stringify(d)),Promise.resolve()}_get(u){const d=this.storage.getItem(u);return Promise.resolve(d?JSON.parse(d):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const cu=(()=>{class f extends sM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,g)=>this.onStorageEvent(d,g),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function kk(){const f=(0,Z.z$)();return sr(f)||ue(f)}()&&function Kn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Y(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const g of Object.keys(this.listeners)){const C=this.storage.getItem(g),P=this.localCache[g];C!==P&&d(g,P,C)}}onStorageEvent(d,g=!1){if(!d.key)return void this.forAllChangedKeys((V,ne,_e)=>{this.notifyListeners(V,_e)});const C=d.key;if(g?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const V=this.storage.getItem(C);if(d.newValue!==V)null!==d.newValue?this.storage.setItem(C,d.newValue):this.storage.removeItem(C);else if(this.localCache[C]===d.newValue&&!g)return}const P=()=>{const V=this.storage.getItem(C);!g&&this.localCache[C]===V||this.notifyListeners(C,V)},D=this.storage.getItem(C);!function lt(){return(0,Z.w1)()&&10===document.documentMode}()||D===d.newValue||d.newValue===d.oldValue?P():setTimeout(P,10)}notifyListeners(d,g){this.localCache[d]=g;const C=this.listeners[d];if(C)for(const P of Array.from(C))P(g&&JSON.parse(g))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,g,C)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:g,newValue:C}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,g){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(g)}_removeListener(d,g){this.listeners[d]&&(this.listeners[d].delete(g),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,g){var C=()=>super._set,P=this;return(0,I.Z)(function*(){yield C().call(P,d,g),P.localCache[d]=JSON.stringify(g)})()}_get(d){var g=()=>super._get,C=this;return(0,I.Z)(function*(){const P=yield g().call(C,d);return C.localCache[d]=JSON.stringify(P),P})()}_remove(d){var g=()=>super._remove,C=this;return(0,I.Z)(function*(){yield g().call(C,d),delete C.localCache[d]})()}}return f.type="LOCAL",f})(),wa=(()=>{class f extends sM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,g){}_removeListener(d,g){}}return f.type="SESSION",f})();let Pa=(()=>{class f{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const g=this.receivers.find(P=>P.isListeningto(d));if(g)return g;const C=new f(d);return this.receivers.push(C),C}isListeningto(d){return this.eventTarget===d}handleEvent(d){var g=this;return(0,I.Z)(function*(){const C=d,{eventId:P,eventType:D,data:V}=C.data,ne=g.handlersMap[D];if(!ne?.size)return;C.ports[0].postMessage({status:"ack",eventId:P,eventType:D});const _e=Array.from(ne).map(function(){var Oe=(0,I.Z)(function*(_n){return _n(C.origin,V)});return function(_n){return Oe.apply(this,arguments)}}()),Me=yield function Lk(f){return Promise.all(f.map(function(){var u=(0,I.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(g){return{fulfilled:!1,reason:g}}});return function(d){return u.apply(this,arguments)}}()))}(_e);C.ports[0].postMessage({status:"done",eventId:P,eventType:D,response:Me})})()}_subscribe(d,g){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(g)}_unsubscribe(d,g){this.handlersMap[d]&&g&&this.handlersMap[d].delete(g),(!g||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function zi(f="",u=10){let d="";for(let g=0;g<u;g++)d+=Math.floor(10*Math.random());return f+d}class Vk{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,d,g=50){var C=this;return(0,I.Z)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let D,V;return new Promise((ne,_e)=>{const Me=zi("",20);P.port1.start();const Oe=setTimeout(()=>{_e(new Error("unsupported_event"))},g);V={messageChannel:P,onMessage(_n){const jo=_n;if(jo.data.eventId===Me)switch(jo.data.status){case"ack":clearTimeout(Oe),D=setTimeout(()=>{_e(new Error("timeout"))},3e3);break;case"done":clearTimeout(D),ne(jo.data.response);break;default:clearTimeout(Oe),clearTimeout(D),_e(new Error("invalid_response"))}}},C.handlers.add(V),P.port1.addEventListener("message",V.onMessage),C.target.postMessage({eventType:u,eventId:Me,data:d},[P.port2])}).finally(()=>{V&&C.removeMessageHandler(V)})})()}}function Qn(){return window}function Oc(){return typeof Qn().WorkerGlobalScope<"u"&&"function"==typeof Qn().importScripts}function zd(){return(zd=(0,I.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const rg="firebaseLocalStorageDb",lu="firebaseLocalStorage",Gd="fbase_key";class Ea{constructor(u){this.request=u}toPromise(){return new Promise((u,d)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function uu(f,u){return f.transaction([lu],u?"readwrite":"readonly").objectStore(lu)}function Wd(){const f=indexedDB.open(rg,1);return new Promise((u,d)=>{f.addEventListener("error",()=>{d(f.error)}),f.addEventListener("upgradeneeded",()=>{const g=f.result;try{g.createObjectStore(lu,{keyPath:Gd})}catch(C){d(C)}}),f.addEventListener("success",(0,I.Z)(function*(){const g=f.result;g.objectStoreNames.contains(lu)?u(g):(g.close(),yield function Rv(){const f=indexedDB.deleteDatabase(rg);return new Ea(f).toPromise()}(),u(yield Wd()))}))})}function du(f,u,d){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,I.Z)(function*(f,u,d){const g=uu(f,!0).put({[Gd]:u,value:d});return new Ea(g).toPromise()})).apply(this,arguments)}function qd(){return(qd=(0,I.Z)(function*(f,u){const d=uu(f,!1).get(u),g=yield new Ea(d).toPromise();return void 0===g?null:g.value})).apply(this,arguments)}function cM(f,u){const d=uu(f,!0).delete(u);return new Ea(d).toPromise()}const Tc=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,I.Z)(function*(){return d.db||(d.db=yield Wd()),d.db})()}_withRetries(d){var g=this;return(0,I.Z)(function*(){let C=0;for(;;)try{const P=yield g._openDb();return yield d(P)}catch(P){if(C++>3)throw P;g.db&&(g.db.close(),g.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,I.Z)(function*(){return Oc()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,I.Z)(function*(){d.receiver=Pa._getInstance(function Sv(){return Oc()?self:null}()),d.receiver._subscribe("keyChanged",function(){var g=(0,I.Z)(function*(C,P){return{keyProcessed:(yield d._poll()).includes(P.key)}});return function(C,P){return g.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var g=(0,I.Z)(function*(C,P){return["keyChanged"]});return function(C,P){return g.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,I.Z)(function*(){var g,C;if(d.activeServiceWorker=yield function Gi(){return zd.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new Vk(d.activeServiceWorker);const P=yield d.sender._send("ping",{},800);P&&null!==(g=P[0])&&void 0!==g&&g.fulfilled&&null!==(C=P[0])&&void 0!==C&&C.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var g=this;return(0,I.Z)(function*(){if(g.sender&&g.activeServiceWorker&&function Dv(){var f;return(null===(f=navigator?.serviceWorker)||void 0===f?void 0:f.controller)||null}()===g.activeServiceWorker)try{yield g.sender._send("keyChanged",{key:d},g.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,I.Z)(function*(){try{if(!indexedDB)return!1;const d=yield Wd();return yield du(d,ng,"1"),yield cM(d,ng),!0}catch{}return!1})()}_withPendingWrite(d){var g=this;return(0,I.Z)(function*(){g.pendingWrites++;try{yield d()}finally{g.pendingWrites--}})()}_set(d,g){var C=this;return(0,I.Z)(function*(){return C._withPendingWrite((0,I.Z)(function*(){return yield C._withRetries(P=>du(P,d,g)),C.localCache[d]=g,C.notifyServiceWorker(d)}))})()}_get(d){var g=this;return(0,I.Z)(function*(){const C=yield g._withRetries(P=>function bc(f,u){return qd.apply(this,arguments)}(P,d));return g.localCache[d]=C,C})()}_remove(d){var g=this;return(0,I.Z)(function*(){return g._withPendingWrite((0,I.Z)(function*(){return yield g._withRetries(C=>cM(C,d)),delete g.localCache[d],g.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,I.Z)(function*(){const g=yield d._withRetries(D=>{const V=uu(D,!1).getAll();return new Ea(V).toPromise()});if(!g)return[];if(0!==d.pendingWrites)return[];const C=[],P=new Set;for(const{fbase_key:D,value:V}of g)P.add(D),JSON.stringify(d.localCache[D])!==JSON.stringify(V)&&(d.notifyListeners(D,V),C.push(D));for(const D of Object.keys(d.localCache))d.localCache[D]&&!P.has(D)&&(d.notifyListeners(D,null),C.push(D));return C})()}notifyListeners(d,g){this.localCache[d]=g;const C=this.listeners[d];if(C)for(const P of Array.from(C))P(g)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,I.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,g){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(g)}_removeListener(d,g){this.listeners[d]&&(this.listeners[d].delete(g),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})(),ag=1e12;class Hk{constructor(u){this.auth=u,this.counter=ag,this._widgets=new Map}render(u,d){const g=this.counter;return this._widgets.set(g,new uM(u,this.auth.name,d||{})),this.counter++,g}reset(u){var d;const g=u||ag;null===(d=this._widgets.get(g))||void 0===d||d.delete(),this._widgets.delete(g)}getResponse(u){var d;return(null===(d=this._widgets.get(u||ag))||void 0===d?void 0:d.getResponse())||""}execute(u){var d=this;return(0,I.Z)(function*(){var g;return null===(g=d._widgets.get(u||ag))||void 0===g||g.execute(),""})()}}class uM{constructor(u,d,g){this.params=g,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const C="string"==typeof u?document.getElementById(u):u;re(C,"argument-error",{appName:d}),this.container=C,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function kv(f){const u=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<f;g++)u.push(d.charAt(Math.floor(62*Math.random())));return u.join("")}(50);const{callback:u,"expired-callback":d}=this.params;if(u)try{u(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Kd=ZE("rcb"),dM=new Ao(3e4,6e4);class fM{constructor(){var u;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(u=Qn().grecaptcha)||void 0===u||!u.render)}load(u,d=""){return re(function Nv(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(d),u,"argument-error"),this.shouldResolveImmediately(d)&&Lr(Qn().grecaptcha)?Promise.resolve(Qn().grecaptcha):new Promise((g,C)=>{const P=Qn().setTimeout(()=>{C(zt(u,"network-request-failed"))},dM.get());Qn()[Kd]=()=>{Qn().clearTimeout(P),delete Qn()[Kd];const V=Qn().grecaptcha;if(!V||!Lr(V))return void C(zt(u,"internal-error"));const ne=V.render;V.render=(_e,Me)=>{const Oe=ne(_e,Me);return this.counter++,Oe},this.hostLanguage=d,g(V)},as(`https://www.google.com/recaptcha/api.js??${(0,Z.xO)({onload:Kd,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(P),C(zt(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){var d;return!(null===(d=Qn().grecaptcha)||void 0===d||!d.render)&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class pM{load(u){return(0,I.Z)(function*(){return new Hk(u)})()}clearedOneInstance(){}}const cg="recaptcha",gM={theme:"light",type:"image"};class zk{constructor(u,d,g=Object.assign({},gM)){this.parameters=g,this.type=cg,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pn(u),this.isInvisible="invisible"===this.parameters.size,re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const C="string"==typeof d?document.getElementById(d):d;re(C,this.auth,"argument-error"),this.container=C,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new pM:new fM,this.validateStartingState()}verify(){var u=this;return(0,I.Z)(function*(){u.assertNotDestroyed();const d=yield u.render(),g=u.getAssertedRecaptcha();return g.getResponse(d)||new Promise(P=>{const D=V=>{V&&(u.tokenChangeListeners.delete(D),P(V))};u.tokenChangeListeners.add(D),u.isInvisible&&g.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){re(!this.parameters.sitekey,this.auth,"argument-error"),re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return d=>{if(this.tokenChangeListeners.forEach(g=>g(d)),"function"==typeof u)u(d);else if("string"==typeof u){const g=Qn()[u];"function"==typeof g&&g(d)}}}assertNotDestroyed(){re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,I.Z)(function*(){if(yield u.init(),!u.widgetId){let d=u.container;if(!u.isInvisible){const g=document.createElement("div");d.appendChild(g),d=g}u.widgetId=u.getAssertedRecaptcha().render(d,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,I.Z)(function*(){re(bo()&&!Oc(),u.auth,"internal-error"),yield function mM(){let f=null;return new Promise(u=>{"complete"!==document.readyState?(f=()=>u(),window.addEventListener("load",f)):u()}).catch(u=>{throw f&&window.removeEventListener("load",f),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const d=yield function lc(f){return rs.apply(this,arguments)}(u.auth);re(d,u.auth,"internal-error"),u.parameters.sitekey=d})()}getAssertedRecaptcha(){return re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class oi{constructor(u,d){this.verificationId=u,this.onConfirmation=d}confirm(u){const d=ma._fromVerification(this.verificationId,u);return this.onConfirmation(d)}}function lg(){return(lg=(0,I.Z)(function*(f,u,d){const g=pn(f),C=yield Ac(g,u,(0,Z.m9)(d));return new oi(C,P=>Ld(g,P))})).apply(this,arguments)}function Zd(){return(Zd=(0,I.Z)(function*(f,u,d){const g=(0,Z.m9)(f);yield nu(!1,g,"phone");const C=yield Ac(g.auth,u,(0,Z.m9)(d));return new oi(C,P=>Cv(g,P))})).apply(this,arguments)}function ug(){return(ug=(0,I.Z)(function*(f,u,d){const g=(0,Z.m9)(f),C=yield Ac(g.auth,u,(0,Z.m9)(d));return new oi(C,P=>Wp(g,P))})).apply(this,arguments)}function Ac(f,u,d){return dg.apply(this,arguments)}function dg(){return dg=(0,I.Z)(function*(f,u,d){var g;const C=yield d.verify();try{let P;if(re("string"==typeof C,f,"argument-error"),re(d.type===cg,f,"argument-error"),P="string"==typeof u?{phoneNumber:u}:u,"session"in P){const D=P.session;if("phoneNumber"in P)return re("enroll"===D.type,f,"internal-error"),(yield function oM(f,u){return K(f,"POST","/v2/accounts/mfaEnrollment:start",ae(f,u))}(f,{idToken:D.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:C}})).phoneSessionInfo.sessionInfo;{re("signin"===D.type,f,"internal-error");const V=(null===(g=P.multiFactorHint)||void 0===g?void 0:g.uid)||P.multiFactorUid;return re(V,f,"missing-multi-factor-info"),(yield function $k(f,u){return K(f,"POST","/v2/accounts/mfaSignIn:start",ae(f,u))}(f,{mfaPendingCredential:D.credential,mfaEnrollmentId:V,phoneSignInInfo:{recaptchaToken:C}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:D}=yield function Lp(f,u){return mc.apply(this,arguments)}(f,{phoneNumber:P.phoneNumber,recaptchaToken:C});return D}}finally{d._reset()}}),dg.apply(this,arguments)}function Qd(){return(Qd=(0,I.Z)(function*(f,u){yield Nd((0,Z.m9)(f),u)})).apply(this,arguments)}let Dc=(()=>{class f{constructor(d){this.providerId=f.PROVIDER_ID,this.auth=pn(d)}verifyPhoneNumber(d,g){return Ac(this.auth,d,(0,Z.m9)(g))}static credential(d,g){return ma._fromVerification(d,g)}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:g,temporaryProof:C}=d;return g&&C?ma._fromTokenResponse(g,C):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function bt(f,u){return u?H(u):(re(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class hu extends ga{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return xs(u,this._buildIdpRequest())}_linkToIdToken(u,d){return xs(u,this._buildIdpRequest(d))}_getReauthenticationResolver(u){return xs(u,this._buildIdpRequest())}_buildIdpRequest(u){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(d.idToken=u),d}}function Yd(f){return vv(f.auth,new hu(f),f.bypassAuthState)}function si(f){const{auth:u,user:d}=f;return re(d,u,"internal-error"),yv(d,new hu(f),f.bypassAuthState)}function yM(f){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,I.Z)(function*(f){const{auth:u,user:d}=f;return re(d,u,"internal-error"),Nd(d,new hu(f),f.bypassAuthState)})).apply(this,arguments)}class Ia{constructor(u,d,g,C,P=!1){this.auth=u,this.resolver=g,this.user=C,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var u=this;return new Promise(function(){var d=(0,I.Z)(function*(g,C){u.pendingPromise={resolve:g,reject:C};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(P){u.reject(P)}});return function(g,C){return d.apply(this,arguments)}}())}onAuthEvent(u){var d=this;return(0,I.Z)(function*(){const{urlResponse:g,sessionId:C,postBody:P,tenantId:D,error:V,type:ne}=u;if(V)return void d.reject(V);const _e={auth:d.auth,requestUri:g,sessionId:C,tenantId:D||void 0,postBody:P||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(ne)(_e))}catch(Me){d.reject(Me)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return Yd;case"linkViaPopup":case"linkViaRedirect":return yM;case"reauthViaPopup":case"reauthViaRedirect":return si;default:Rt(this.auth,"internal-error")}}resolve(u){tn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){tn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Oi=new Ao(2e3,1e4);function hg(){return(hg=(0,I.Z)(function*(f,u,d){const g=pn(f);nt(f,u,Mi);const C=bt(g,d);return new Jd(g,"signInViaPopup",u,C).executeNotNull()})).apply(this,arguments)}function Fo(){return(Fo=(0,I.Z)(function*(f,u,d){const g=(0,Z.m9)(f);nt(g.auth,u,Mi);const C=bt(g.auth,d);return new Jd(g.auth,"reauthViaPopup",u,C,g).executeNotNull()})).apply(this,arguments)}function fg(){return(fg=(0,I.Z)(function*(f,u,d){const g=(0,Z.m9)(f);nt(g.auth,u,Mi);const C=bt(g.auth,d);return new Jd(g.auth,"linkViaPopup",u,C,g).executeNotNull()})).apply(this,arguments)}let Jd=(()=>{class f extends Ia{constructor(d,g,C,P,D){super(d,g,P,D),this.provider=C,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var d=this;return(0,I.Z)(function*(){const g=yield d.execute();return re(g,d.auth,"internal-error"),g})()}onExecution(){var d=this;return(0,I.Z)(function*(){tn(1===d.filter.length,"Popup operations only handle one event");const g=zi();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],g),d.authWindow.associatedEvent=g,d.resolver._originValidation(d.auth).catch(C=>{d.reject(C)}),d.resolver._isIframeWebStorageSupported(d.auth,C=>{C||d.reject(zt(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(zt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const d=()=>{var g,C;this.pollId=null!==(C=null===(g=this.authWindow)||void 0===g?void 0:g.window)&&void 0!==C&&C.closed?window.setTimeout(()=>{this.pollId=null,this.reject(zt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,Oi.get())};d()}}return f.currentPopupAction=null,f})();const Uv="pendingRedirect",Sc=new Map;class wM extends Ia{constructor(u,d,g=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,g),this.eventId=null}execute(){var u=()=>super.execute,d=this;return(0,I.Z)(function*(){let g=Sc.get(d.auth._key());if(!g){try{const P=(yield function je(f,u){return eh.apply(this,arguments)}(d.resolver,d.auth))?yield u().call(d):null;g=()=>Promise.resolve(P)}catch(C){g=()=>Promise.reject(C)}Sc.set(d.auth._key(),g)}return d.bypassAuthState||Sc.set(d.auth._key(),()=>Promise.resolve(null)),g()})()}onAuthEvent(u){var d=()=>super.onAuthEvent,g=this;return(0,I.Z)(function*(){if("signInViaRedirect"===u.type)return d().call(g,u);if("unknown"!==u.type){if(u.eventId){const C=yield g.auth._redirectUserForId(u.eventId);if(C)return g.user=C,d().call(g,u);g.resolve(null)}}else g.resolve(null)})()}onExecution(){return(0,I.Z)(function*(){})()}cleanUp(){}}function eh(){return(eh=(0,I.Z)(function*(f,u){const d=Oa(u),g=mg(f);if(!(yield g._isAvailable()))return!1;const C="true"===(yield g._get(d));return yield g._remove(d),C})).apply(this,arguments)}function Bv(f,u){return pg.apply(this,arguments)}function pg(){return(pg=(0,I.Z)(function*(f,u){return mg(f)._set(Oa(u),"true")})).apply(this,arguments)}function gg(f,u){Sc.set(f._key(),u)}function mg(f){return H(f._redirectPersistence)}function Oa(f){return Ke(Uv,f.config.apiKey,f.name)}function EM(f,u,d){return function MM(f,u,d){return _g.apply(this,arguments)}(f,u,d)}function _g(){return(_g=(0,I.Z)(function*(f,u,d){const g=pn(f);nt(f,u,Mi),yield g._initializationPromise;const C=bt(g,d);return yield Bv(C,g),C._openRedirect(g,u,"signInViaRedirect")})).apply(this,arguments)}function IM(f,u,d){return function OM(f,u,d){return se.apply(this,arguments)}(f,u,d)}function se(){return(se=(0,I.Z)(function*(f,u,d){const g=(0,Z.m9)(f);nt(g.auth,u,Mi),yield g.auth._initializationPromise;const C=bt(g.auth,d);yield Bv(C,g.auth);const P=yield nh(g);return C._openRedirect(g.auth,u,"reauthViaRedirect",P)})).apply(this,arguments)}function Ct(f,u,d){return function bi(f,u,d){return zr.apply(this,arguments)}(f,u,d)}function zr(){return(zr=(0,I.Z)(function*(f,u,d){const g=(0,Z.m9)(f);nt(g.auth,u,Mi),yield g.auth._initializationPromise;const C=bt(g.auth,d);yield nu(!1,g,u.providerId),yield Bv(C,g.auth);const P=yield nh(g);return C._openRedirect(g.auth,u,"linkViaRedirect",P)})).apply(this,arguments)}function th(){return(th=(0,I.Z)(function*(f,u){return yield pn(f)._initializationPromise,Ls(f,u,!1)})).apply(this,arguments)}function Ls(f,u){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,I.Z)(function*(f,u,d=!1){const g=pn(f),C=bt(g,u),D=yield new wM(g,C,d).execute();return D&&!d&&(delete D.user._redirectEventId,yield g._persistUserIfCurrent(D.user),yield g._setRedirectUser(null,u)),D})).apply(this,arguments)}function nh(f){return fu.apply(this,arguments)}function fu(){return(fu=(0,I.Z)(function*(f){const u=zi(`${f.uid}:::`);return f._redirectEventId=u,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),u})).apply(this,arguments)}class TM{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let d=!1;return this.consumers.forEach(g=>{this.isEventForConsumer(u,g)&&(d=!0,this.sendToConsumer(u,g),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function ls(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ar(f);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=u,d=!0)),d}sendToConsumer(u,d){var g;if(u.error&&!Ar(u)){const C=(null===(g=u.error.code)||void 0===g?void 0:g.split("auth/")[1])||"internal-error";d.onError(zt(this.auth,C))}else d.onAuthEvent(u)}isEventForConsumer(u,d){const g=null===d.eventId||!!u.eventId&&u.eventId===d.eventId;return d.filter.includes(u.type)&&g}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(yg(u))}saveEventToCache(u){this.cachedEventUids.add(yg(u)),this.lastProcessedEventTime=Date.now()}}function yg(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(u=>u).join("-")}function Ar({type:f,error:u}){return"unknown"===f&&"auth/no-auth-event"===u?.code}function vg(f){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,I.Z)(function*(f,u={}){return K(f,"GET","/v1/projects",u)})).apply(this,arguments)}const us=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AM=/^https?/;function Cg(){return(Cg=(0,I.Z)(function*(f){if(f.config.emulator)return;const{authorizedDomains:u}=yield vg(f);for(const d of u)try{if(DM(d))return}catch{}Rt(f,"unauthorized-domain")})).apply(this,arguments)}function DM(f){const u=Nn(),{protocol:d,hostname:g}=new URL(u);if(f.startsWith("chrome-extension://")){const D=new URL(f);return""===D.hostname&&""===g?"chrome-extension:"===d&&f.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===d&&D.hostname===g}if(!AM.test(d))return!1;if(us.test(f))return g===f;const C=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+C+"|"+C+")$","i").test(g)}const wg=new Ao(3e4,6e4);function rh(){const f=Qn().___jsl;if(f?.H)for(const u of Object.keys(f.H))if(f.H[u].r=f.H[u].r||[],f.H[u].L=f.H[u].L||[],f.H[u].r=[...f.H[u].L],f.CP)for(let d=0;d<f.CP.length;d++)f.CP[d]=null}let Rc=null;const Hv=new Ao(5e3,15e3),Pg="__/auth/iframe",zv="emulator/auth/iframe",Gv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Wv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qv(f){const u=f.config;re(u.authDomain,f,"auth-domain-config-required");const d=u.emulator?G(u,zv):`https://${f.config.authDomain}/${Pg}`,g={apiKey:u.apiKey,appName:f.name,v:$e.SDK_VERSION},C=Wv.get(f.config.apiHost);C&&(g.eid=C);const P=f._getFrameworks();return P.length&&(g.fw=P.join(",")),`${d}?${(0,Z.xO)(g).slice(1)}`}function Mg(){return Mg=(0,I.Z)(function*(f){const u=yield function SM(f){return Rc=Rc||function $v(f){return new Promise((u,d)=>{var g,C,P;function D(){rh(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{rh(),d(zt(f,"network-request-failed"))},timeout:wg.get()})}if(null!==(C=null===(g=Qn().gapi)||void 0===g?void 0:g.iframes)&&void 0!==C&&C.Iframe)u(gapi.iframes.getContext());else{if(null===(P=Qn().gapi)||void 0===P||!P.load){const V=ZE("iframefcb");return Qn()[V]=()=>{gapi.load?D():d(zt(f,"network-request-failed"))},as(`https://apis.google.com/js/api.js?onload=${V}`).catch(ne=>d(ne))}D()}}).catch(u=>{throw Rc=null,u})}(f),Rc}(f),d=Qn().gapi;return re(d,f,"internal-error"),u.open({where:document.body,url:qv(f),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Gv,dontclear:!0},g=>new Promise(function(){var C=(0,I.Z)(function*(P,D){yield g.restyle({setHideOnLeave:!1});const V=zt(f,"network-request-failed"),ne=Qn().setTimeout(()=>{D(V)},Hv.get());function _e(){Qn().clearTimeout(ne),P(g)}g.ping(_e).then(_e,()=>{D(V)})});return function(P,D){return C.apply(this,arguments)}}()))}),Mg.apply(this,arguments)}const RM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Kv{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Zv="__/auth/handler",Qv="emulator/auth/handler",ih=encodeURIComponent("fac");function Lo(f,u,d,g,C,P){return Ig.apply(this,arguments)}function Ig(){return(Ig=(0,I.Z)(function*(f,u,d,g,C,P){re(f.config.authDomain,f,"auth-domain-config-required"),re(f.config.apiKey,f,"invalid-api-key");const D={apiKey:f.config.apiKey,appName:f.name,authType:d,redirectUrl:g,v:$e.SDK_VERSION,eventId:C};if(u instanceof Mi){u.setDefaultLanguage(f.languageCode),D.providerId=u.providerId||"",(0,Z.xb)(u.getCustomParameters())||(D.customParameters=JSON.stringify(u.getCustomParameters()));for(const[Me,Oe]of Object.entries(P||{}))D[Me]=Oe}if(u instanceof yc){const Me=u.getScopes().filter(Oe=>""!==Oe);Me.length>0&&(D.scopes=Me.join(","))}f.tenantId&&(D.tid=f.tenantId);const V=D;for(const Me of Object.keys(V))void 0===V[Me]&&delete V[Me];const ne=yield f._getAppCheckToken(),_e=ne?`#${ih}=${encodeURIComponent(ne)}`:"";return`${function oh({config:f}){return f.emulator?G(f,Qv):`https://${f.authDomain}/${Zv}`}(f)}?${(0,Z.xO)(V).slice(1)}${_e}`})).apply(this,arguments)}const xc="webStorageSupport",ah=class sh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wa,this._completeRedirectFn=Ls,this._overrideRedirectResult=gg}_openPopup(u,d,g,C){var P=this;return(0,I.Z)(function*(){var D;tn(null===(D=P.eventManagers[u._key()])||void 0===D?void 0:D.manager,"_initialize() not called before _openPopup()");const V=yield Lo(u,d,g,Nn(),C);return function kM(f,u,d,g=500,C=600){const P=Math.max((window.screen.availHeight-C)/2,0).toString(),D=Math.max((window.screen.availWidth-g)/2,0).toString();let V="";const ne=Object.assign(Object.assign({},RM),{width:g.toString(),height:C.toString(),top:P,left:D}),_e=(0,Z.z$)().toLowerCase();d&&(V=Ut(_e)?"_blank":d),Re(_e)&&(u=u||"http://localhost",ne.scrollbars="yes");const Me=Object.entries(ne).reduce((_n,[jo,vu])=>`${_n}${jo}=${vu},`,"");if(function Ze(f=(0,Z.z$)()){var u;return ue(f)&&!(null===(u=window.navigator)||void 0===u||!u.standalone)}(_e)&&"_self"!==V)return function NM(f,u){const d=document.createElement("a");d.href=f,d.target=u;const g=document.createEvent("MouseEvent");g.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(g)}(u||"",V),new Kv(null);const Oe=window.open(u||"",V,Me);re(Oe,f,"popup-blocked");try{Oe.focus()}catch{}return new Kv(Oe)}(u,V,zi())})()}_openRedirect(u,d,g,C){var P=this;return(0,I.Z)(function*(){return yield P._originValidation(u),function Cr(f){Qn().location.href=f}(yield Lo(u,d,g,Nn(),C)),new Promise(()=>{})})()}_initialize(u){const d=u._key();if(this.eventManagers[d]){const{manager:C,promise:P}=this.eventManagers[d];return C?Promise.resolve(C):(tn(P,"If manager is not set, promise should be"),P)}const g=this.initAndGetManager(u);return this.eventManagers[d]={promise:g},g.catch(()=>{delete this.eventManagers[d]}),g}initAndGetManager(u){var d=this;return(0,I.Z)(function*(){const g=yield function Eg(f){return Mg.apply(this,arguments)}(u),C=new TM(u);return g.register("authEvent",P=>(re(P?.authEvent,u,"invalid-auth-event"),{status:C.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[u._key()]={manager:C},d.iframes[u._key()]=g,C})()}_isIframeWebStorageSupported(u,d){this.iframes[u._key()].send(xc,{type:xc},C=>{var P;const D=null===(P=C?.[0])||void 0===P?void 0:P[xc];void 0!==D&&d(!!D),Rt(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const d=u._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function jv(f){return Cg.apply(this,arguments)}(u)),this.originValidationPromises[d]}get _shouldInitProactively(){return Y()||sr()||ue()}};class Yv{constructor(u){this.factorId=u}_process(u,d,g){switch(d.type){case"enroll":return this._finalizeEnroll(u,d.credential,g);case"signin":return this._finalizeSignIn(u,d.credential);default:return hn("unexpected MultiFactorSessionType")}}}class ch extends Yv{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new ch(u)}_finalizeEnroll(u,d,g){return function Dk(f,u){return K(f,"POST","/v2/accounts/mfaEnrollment:finalize",ae(f,u))}(u,{idToken:d,displayName:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,d){return function xv(f,u){return K(f,"POST","/v2/accounts/mfaSignIn:finalize",ae(f,u))}(u,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let FM=(()=>{class f{constructor(){}static assertion(d){return ch._fromCredential(d)}}return f.FACTOR_ID="phone",f})();var lh="@firebase/auth";class VM{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var d=this;return(0,I.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const d=this.auth.onIdTokenChanged(g=>{u(g?.stsTokenManager.accessToken||null)});this.internalListeners.set(u,d),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const d=this.internalListeners.get(u);d&&(this.internalListeners.delete(u),d(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ds(){return window}(0,Z.Pz)("authIdTokenMaxAge"),function Gk(f){(0,$e._registerComponent)(new Pn.wA("auth",(u,{options:d})=>{const g=u.getProvider("app").getImmediate(),C=u.getProvider("heartbeat"),P=u.getProvider("app-check-internal"),{apiKey:D,authDomain:V}=g.options;re(D&&!D.includes(":"),"invalid-api-key",{appName:g.name});const ne={apiKey:D,authDomain:V,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:De(f)},_e=new Ei(g,C,P,ne);return function Ok(f,u){const d=u?.persistence||[],g=(Array.isArray(d)?d:[d]).map(H);u?.errorMap&&f._updateErrorMap(u.errorMap),f._initializeWithPersistence(g,u?.popupRedirectResolver)}(_e,d),_e},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,d,g)=>{u.getProvider("auth-internal").initialize()})),(0,$e._registerComponent)(new Pn.wA("auth-internal",u=>{const d=pn(u.getProvider("auth").getImmediate());return new VM(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,$e.registerVersion)(lh,"1.3.2",function UM(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(f)),(0,$e.registerVersion)(lh,"1.3.2","esm2017")}("Browser");function hh(){return hh=(0,I.Z)(function*(f,u,d){var g;const{BuildInfo:C}=ds();tn(u.sessionId,"AuthEvent did not contain a session ID");const P=yield function eC(f){return Fc.apply(this,arguments)}(u.sessionId),D={};return ue()?D.ibi=C.packageName:pa()?D.apn=C.packageName:Rt(f,"operation-not-supported-in-this-environment"),C.displayName&&(D.appDisplayName=C.displayName),D.sessionId=P,Lo(f,d,u.type,void 0,null!==(g=u.eventId)&&void 0!==g?g:void 0,D)}),hh.apply(this,arguments)}function Tg(){return(Tg=(0,I.Z)(function*(f){const{BuildInfo:u}=ds(),d={};ue()?d.iosBundleId=u.packageName:pa()?d.androidPackageName=u.packageName:Rt(f,"operation-not-supported-in-this-environment"),yield vg(f,d)})).apply(this,arguments)}function Nc(){return(Nc=(0,I.Z)(function*(f,u,d){const{cordova:g}=ds();let C=()=>{};try{yield new Promise((P,D)=>{let V=null;function ne(){var Oe;P();const _n=null===(Oe=g.plugins.browsertab)||void 0===Oe?void 0:Oe.close;"function"==typeof _n&&_n(),"function"==typeof d?.close&&d.close()}function _e(){V||(V=window.setTimeout(()=>{D(zt(f,"redirect-cancelled-by-user"))},2e3))}function Me(){"visible"===document?.visibilityState&&_e()}u.addPassiveListener(ne),document.addEventListener("resume",_e,!1),pa()&&document.addEventListener("visibilitychange",Me,!1),C=()=>{u.removePassiveListener(ne),document.removeEventListener("resume",_e,!1),document.removeEventListener("visibilitychange",Me,!1),V&&window.clearTimeout(V)}})}finally{C()}})).apply(this,arguments)}function Fc(){return(Fc=(0,I.Z)(function*(f){const u=function Dg(f){if(tn(/[0-9a-zA-Z]+/.test(f),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(f);const u=new ArrayBuffer(f.length),d=new Uint8Array(u);for(let g=0;g<f.length;g++)d[g]=f.charCodeAt(g);return d}(f),d=yield crypto.subtle.digest("SHA-256",u);return Array.from(new Uint8Array(d)).map(C=>C.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class tC extends TM{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(u=>{this.resolveInialized=u})}addPassiveListener(u){this.passiveListeners.add(u)}removePassiveListener(u){this.passiveListeners.delete(u)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(u){return this.resolveInialized(),this.passiveListeners.forEach(d=>d(u)),super.onEvent(u)}initialized(){var u=this;return(0,I.Z)(function*(){yield u.initPromise})()}}function Sg(f){return Rg.apply(this,arguments)}function Rg(){return(Rg=(0,I.Z)(function*(f){const u=yield xg()._get(ph(f));return u&&(yield xg()._remove(ph(f))),u})).apply(this,arguments)}function Aa(){const f=[];for(let d=0;d<20;d++){const g=Math.floor(62*Math.random());f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(g))}return f.join("")}function xg(){return H(cu)}function ph(f){return Ke("authEvent",f.config.apiKey,f.name)}function gh(f){if(!f?.includes("?"))return{};const[u,...d]=f.split("?");return(0,Z.zd)(d.join("?"))}const Pr=class HM{constructor(){this._redirectPersistence=wa,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ls,this._overrideRedirectResult=gg}_initialize(u){var d=this;return(0,I.Z)(function*(){const g=u._key();let C=d.eventManagers.get(g);return C||(C=new tC(u),d.eventManagers.set(g,C),d.attachCallbackListeners(u,C)),C})()}_openPopup(u){Rt(u,"operation-not-supported-in-this-environment")}_openRedirect(u,d,g,C){var P=this;return(0,I.Z)(function*(){!function Ag(f){var u,d,g,C,P,D,V,ne,_e,Me;const Oe=ds();re("function"==typeof(null===(u=Oe?.universalLinks)||void 0===u?void 0:u.subscribe),f,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),re(typeof(null===(d=Oe?.BuildInfo)||void 0===d?void 0:d.packageName)<"u",f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),re("function"==typeof(null===(P=null===(C=null===(g=Oe?.cordova)||void 0===g?void 0:g.plugins)||void 0===C?void 0:C.browsertab)||void 0===P?void 0:P.openUrl),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),re("function"==typeof(null===(ne=null===(V=null===(D=Oe?.cordova)||void 0===D?void 0:D.plugins)||void 0===V?void 0:V.browsertab)||void 0===ne?void 0:ne.isAvailable),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),re("function"==typeof(null===(Me=null===(_e=Oe?.cordova)||void 0===_e?void 0:_e.InAppBrowser)||void 0===Me?void 0:Me.open),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(u);const D=yield P._initialize(u);yield D.initialized(),D.resetRedirect(),function PM(){Sc.clear()}(),yield P._originValidation(u);const V=function nC(f,u,d=null){return{type:u,eventId:d,urlResponse:null,sessionId:Aa(),postBody:null,tenantId:f.tenantId,error:zt(f,"no-auth-event")}}(u,g,C);yield function rC(f,u){return xg()._set(ph(f),u)}(u,V);const ne=yield function qk(f,u,d){return hh.apply(this,arguments)}(u,V,d),_e=yield function Vo(f){const{cordova:u}=ds();return new Promise(d=>{u.plugins.browsertab.isAvailable(g=>{let C=null;g?u.plugins.browsertab.openUrl(f):C=u.InAppBrowser.open(f,function xe(f=(0,Z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}()?"_blank":"_system","location=yes"),d(C)})})}(ne);return function jM(f,u,d){return Nc.apply(this,arguments)}(u,D,_e)})()}_isIframeWebStorageSupported(u,d){throw new Error("Method not implemented.")}_originValidation(u){const d=u._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function Jv(f){return Tg.apply(this,arguments)}(u)),this.originValidationPromises[d]}attachCallbackListeners(u,d){const{universalLinks:g,handleOpenURL:C,BuildInfo:P}=ds(),D=setTimeout((0,I.Z)(function*(){yield Sg(u),d.onEvent(mh())}),500),V=function(){var Me=(0,I.Z)(function*(Oe){clearTimeout(D);const _n=yield Sg(u);let jo=null;_n&&Oe?.url&&(jo=function fh(f,u){var d,g;const C=function gu(f){const u=gh(f),d=u.link?decodeURIComponent(u.link):void 0,g=gh(d).link,C=u.deep_link_id?decodeURIComponent(u.deep_link_id):void 0;return gh(C).link||C||g||d||f}(u);if(C.includes("/__/auth/callback")){const P=gh(C),D=P.firebaseError?function iC(f){try{return JSON.parse(f)}catch{return null}}(decodeURIComponent(P.firebaseError)):null,V=null===(g=null===(d=D?.code)||void 0===d?void 0:d.split("auth/"))||void 0===g?void 0:g[1],ne=V?zt(V):null;return ne?{type:f.type,eventId:f.eventId,tenantId:f.tenantId,error:ne,urlResponse:null,sessionId:null,postBody:null}:{type:f.type,eventId:f.eventId,tenantId:f.tenantId,sessionId:f.sessionId,urlResponse:C,postBody:null}}return null}(_n,Oe.url)),d.onEvent(jo||mh())});return function(_n){return Me.apply(this,arguments)}}();typeof g<"u"&&"function"==typeof g.subscribe&&g.subscribe(null,V);const ne=C,_e=`${P.packageName.toLowerCase()}://`;ds().handleOpenURL=function(){var Me=(0,I.Z)(function*(Oe){if(Oe.toLowerCase().startsWith(_e)&&V({url:Oe}),"function"==typeof ne)try{ne(Oe)}catch(_n){console.error(_n)}});return function(Oe){return Me.apply(this,arguments)}}()}};function mh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:zt("no-auth-event")}}function Uo(){var f;return(null===(f=self?.location)||void 0===f?void 0:f.protocol)||null}function kg(f=(0,Z.z$)()){return!("file:"!==Uo()&&"ionic:"!==Uo()&&"capacitor:"!==Uo()||!f.toLowerCase().match(/iphone|ipad|ipod|android/))}function WM(){try{const f=self.localStorage,u=zi();if(f)return f.setItem(u,"1"),f.removeItem(u),!function GM(f=(0,Z.z$)()){return function Uc(){return(0,Z.w1)()&&11===document?.documentMode}()||function Kk(f=(0,Z.z$)()){return/Edge\/\d+/.test(f)}(f)}()||(0,Z.hl)()}catch{return sC()&&(0,Z.hl)()}return!1}function sC(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function aC(){return(function Vc(){return"http:"===Uo()||"https:"===Uo()}()||(0,Z.ru)()||kg())&&!function Ng(){return(0,Z.b$)()||(0,Z.UG)()}()&&WM()&&!sC()}function qM(){return kg()&&typeof document<"u"}function cC(){return(cC=(0,I.Z)(function*(){return!!qM()&&new Promise(f=>{const u=setTimeout(()=>{f(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(u),f(!0)})})})).apply(this,arguments)}const Ti={LOCAL:"local",NONE:"none",SESSION:"session"},mu=re,Un="persistence";function Da(f){return Fg.apply(this,arguments)}function Fg(){return(Fg=(0,I.Z)(function*(f){yield f._initializationPromise;const u=Sa(),d=Ke(Un,f.config.apiKey,f.name);u&&u.setItem(d,f._getPersistence())})).apply(this,arguments)}function Sa(){var f;try{return(null===(f=function Bc(){return typeof window<"u"?window:null}())||void 0===f?void 0:f.sessionStorage)||null}catch{return null}}const lC=re;class ho{constructor(){this.browserResolver=H(ah),this.cordovaResolver=H(Pr),this.underlyingResolver=null,this._redirectPersistence=wa,this._completeRedirectFn=Ls,this._overrideRedirectResult=gg}_initialize(u){var d=this;return(0,I.Z)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(u)})()}_openPopup(u,d,g,C){var P=this;return(0,I.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(u,d,g,C)})()}_openRedirect(u,d,g,C){var P=this;return(0,I.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(u,d,g,C)})()}_isIframeWebStorageSupported(u,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(u,d)}_originValidation(u){return this.assertedUnderlyingResolver._originValidation(u)}get _shouldInitProactively(){return qM()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return lC(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var u=this;return(0,I.Z)(function*(){if(u.underlyingResolver)return;const d=yield function Zk(){return cC.apply(this,arguments)}();u.underlyingResolver=d?u.cordovaResolver:u.browserResolver})()}}function jc(f){return f.unwrap()}function Qk(f){return YM(f)}function YM(f){const{_tokenResponse:u}=f instanceof Z.ZR?f.customData:f;if(!u)return null;if(!(f instanceof Z.ZR)&&"temporaryProof"in u&&"phoneNumber"in u)return Dc.credentialFromResult(f);const d=u.providerId;if(!d||d===dt.PASSWORD)return null;let g;switch(d){case dt.GOOGLE:g=So;break;case dt.FACEBOOK:g=mv;break;case dt.GITHUB:g=eu;break;case dt.TWITTER:g=Dd;break;default:const{oauthIdToken:C,oauthAccessToken:P,oauthTokenSecret:D,pendingToken:V,nonce:ne}=u;return P||D||C||V?V?d.startsWith("saml.")?jr._create(d,V):ni._fromParams({providerId:d,signInMethod:d,pendingToken:V,idToken:C,accessToken:P}):new vc(d).credential({idToken:C,accessToken:P,rawNonce:ne}):null}return f instanceof Z.ZR?g.credentialFromError(f):g.credentialFromResult(f)}function qt(f,u){return u.catch(d=>{throw d instanceof Z.ZR&&function QM(f,u){var d;const g=null===(d=u.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===u?.code)u.resolver=new Yk(f,function iM(f,u){var d;const g=(0,Z.m9)(f),C=u;return re(u.customData.operationType,g,"argument-error"),re(null===(d=C.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,g,"argument-error"),bv._fromError(g,C)}(f,u));else if(g){const C=YM(u),P=u;C&&(P.credential=C,P.tenantId=g.tenantId||void 0,P.email=g.email||void 0,P.phoneNumber=g.phoneNumber||void 0)}}(f,d),d}).then(d=>{const C=d.user;return{operationType:d.operationType,credential:Qk(d),additionalUserInfo:$d(d),user:Bo.getOrCreate(C)}})}function _u(f,u){return Us.apply(this,arguments)}function Us(){return(Us=(0,I.Z)(function*(f,u){const d=yield u;return{verificationId:d.verificationId,confirm:g=>qt(f,d.confirm(g))}})).apply(this,arguments)}class Yk{constructor(u,d){this.resolver=d,this.auth=function ZM(f){return f.wrapped()}(u)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(u){return qt(jc(this.auth),this.resolver.resolveSignIn(u))}}class Bo{constructor(u){this._delegate=u,this.multiFactor=function xk(f){const u=(0,Z.m9)(f);return Av.has(u)||Av.set(u,Tv._fromUser(u)),Av.get(u)}(u)}static getOrCreate(u){return Bo.USER_MAP.has(u)||Bo.USER_MAP.set(u,new Bo(u)),Bo.USER_MAP.get(u)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(u){return this._delegate.getIdTokenResult(u)}getIdToken(u){return this._delegate.getIdToken(u)}linkAndRetrieveDataWithCredential(u){return this.linkWithCredential(u)}linkWithCredential(u){var d=this;return(0,I.Z)(function*(){return qt(d.auth,Cv(d._delegate,u))})()}linkWithPhoneNumber(u,d){var g=this;return(0,I.Z)(function*(){return _u(g.auth,function _M(f,u,d){return Zd.apply(this,arguments)}(g._delegate,u,d))})()}linkWithPopup(u){var d=this;return(0,I.Z)(function*(){return qt(d.auth,function Vv(f,u,d){return fg.apply(this,arguments)}(d._delegate,u,ho))})()}linkWithRedirect(u){var d=this;return(0,I.Z)(function*(){return yield Da(pn(d.auth)),Ct(d._delegate,u,ho)})()}reauthenticateAndRetrieveDataWithCredential(u){return this.reauthenticateWithCredential(u)}reauthenticateWithCredential(u){var d=this;return(0,I.Z)(function*(){return qt(d.auth,Wp(d._delegate,u))})()}reauthenticateWithPhoneNumber(u,d){return _u(this.auth,function Lv(f,u,d){return ug.apply(this,arguments)}(this._delegate,u,d))}reauthenticateWithPopup(u){return qt(this.auth,function CM(f,u,d){return Fo.apply(this,arguments)}(this._delegate,u,ho))}reauthenticateWithRedirect(u){var d=this;return(0,I.Z)(function*(){return yield Da(pn(d.auth)),IM(d._delegate,u,ho)})()}sendEmailVerification(u){return function Ge(f,u){return ya.apply(this,arguments)}(this._delegate,u)}unlink(u){var d=this;return(0,I.Z)(function*(){return yield function tu(f,u){return kd.apply(this,arguments)}(d._delegate,u),d})()}updateEmail(u){return function ou(f,u){return cs((0,Z.m9)(f),u,null)}(this._delegate,u)}updatePassword(u){return function Pv(f,u){return cs((0,Z.m9)(f),null,u)}(this._delegate,u)}updatePhoneNumber(u){return function No(f,u){return Qd.apply(this,arguments)}(this._delegate,u)}updateProfile(u){return function Mc(f,u){return Hi.apply(this,arguments)}(this._delegate,u)}verifyBeforeUpdateEmail(u,d){return function wv(f,u,d){return Fs.apply(this,arguments)}(this._delegate,u,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Bo.USER_MAP=new WeakMap;const yu=re;let uC=(()=>{class f{constructor(d,g){if(this.app=d,g.isInitialized())return this._delegate=g.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:C}=d.options;yu(C,"invalid-api-key",{appName:d.name}),yu(C,"invalid-api-key",{appName:d.name});const P=typeof window<"u"?ho:void 0;this._delegate=g.initialize({options:{persistence:XM(C,d.name),popupRedirectResolver:P}}),this._delegate._updateErrorMap(pr),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Bo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,g){!function be(f,u,d){const g=pn(f);re(g._canInitEmulator,g,"emulator-config-failed"),re(/^https?:\/\//.test(u),g,"invalid-emulator-scheme");const C=!!d?.disableWarnings,P=YE(u),{host:D,port:V}=function Zn(f){const u=YE(f),d=/(\/\/)?([^?#/]+)/.exec(f.substr(u.length));if(!d)return{host:"",port:null};const g=d[2].split("@").pop()||"",C=/^(\[[^\]]+\])(:|$)/.exec(g);if(C){const P=C[1];return{host:P,port:ql(g.substr(P.length+1))}}{const[P,D]=g.split(":");return{host:P,port:ql(D)}}}(u);g.config.emulator={url:`${P}//${D}${null===V?"":`:${V}`}/`},g.settings.appVerificationDisabledForTesting=!0,g.emulatorConfig=Object.freeze({host:D,port:V,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:C})}),C||function XE(){function f(){const u=document.createElement("p"),d=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}(this._delegate,d,g)}applyActionCode(d){return function Pc(f,u){return $r.apply(this,arguments)}(this._delegate,d)}checkActionCode(d){return Yp(this._delegate,d)}confirmPasswordReset(d,g){return function yr(f,u,d){return vr.apply(this,arguments)}(this._delegate,d,g)}createUserWithEmailAndPassword(d,g){var C=this;return(0,I.Z)(function*(){return qt(C._delegate,function rM(f,u,d){return on.apply(this,arguments)}(C._delegate,d,g))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return function ks(f,u){return Ns.apply(this,arguments)}(this._delegate,d)}isSignInWithEmailLink(d){return function lo(f,u){const d=we.parseLink(u);return"EMAIL_SIGNIN"===d?.operation}(0,d)}getRedirectResult(){var d=this;return(0,I.Z)(function*(){yu(aC(),d._delegate,"operation-not-supported-in-this-environment");const g=yield function wr(f,u){return th.apply(this,arguments)}(d._delegate,ho);return g?qt(d._delegate,Promise.resolve(g)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function zM(f,u){pn(f)._logFramework(u)}(this._delegate,d)}onAuthStateChanged(d,g,C){const{next:P,error:D,complete:V}=dC(d,g,C);return this._delegate.onAuthStateChanged(P,D,V)}onIdTokenChanged(d,g,C){const{next:P,error:D,complete:V}=dC(d,g,C);return this._delegate.onIdTokenChanged(P,D,V)}sendSignInLinkToEmail(d,g){return function Qe(f,u,d){return Wt.apply(this,arguments)}(this._delegate,d,g)}sendPasswordResetEmail(d,g){return function ri(f,u,d){return mt.apply(this,arguments)}(this._delegate,d,g||void 0)}setPersistence(d){var g=this;return(0,I.Z)(function*(){let C;switch(function KM(f,u){mu(Object.values(Ti).includes(u),f,"invalid-persistence-type"),(0,Z.b$)()?mu(u!==Ti.SESSION,f,"unsupported-persistence-type"):(0,Z.UG)()?mu(u===Ti.NONE,f,"unsupported-persistence-type"):sC()?mu(u===Ti.NONE||u===Ti.LOCAL&&(0,Z.hl)(),f,"unsupported-persistence-type"):mu(u===Ti.NONE||WM(),f,"unsupported-persistence-type")}(g._delegate,d),d){case Ti.SESSION:C=wa;break;case Ti.LOCAL:C=(yield H(Tc)._isAvailable())?Tc:cu;break;case Ti.NONE:C=Mt;break;default:return Rt("argument-error",{appName:g._delegate.name})}return g._delegate.setPersistence(C)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return qt(this._delegate,function _v(f){return xd.apply(this,arguments)}(this._delegate))}signInWithCredential(d){return qt(this._delegate,Ld(this._delegate,d))}signInWithCustomToken(d){return qt(this._delegate,function xt(f,u){return Zp.apply(this,arguments)}(this._delegate,d))}signInWithEmailAndPassword(d,g){return qt(this._delegate,function Pe(f,u,d){return Ld((0,Z.m9)(f),Jl.credential(u,d)).catch(function(){var g=(0,I.Z)(function*(C){throw"auth/password-does-not-meet-requirements"===C.code&&Ud(f),C});return function(C){return g.apply(this,arguments)}}())}(this._delegate,d,g))}signInWithEmailLink(d,g){return qt(this._delegate,function iu(f,u,d){return ar.apply(this,arguments)}(this._delegate,d,g))}signInWithPhoneNumber(d,g){return _u(this._delegate,function Fv(f,u,d){return lg.apply(this,arguments)}(this._delegate,d,g))}signInWithPopup(d){var g=this;return(0,I.Z)(function*(){return yu(aC(),g._delegate,"operation-not-supported-in-this-environment"),qt(g._delegate,function vM(f,u,d){return hg.apply(this,arguments)}(g._delegate,d,ho))})()}signInWithRedirect(d){var g=this;return(0,I.Z)(function*(){return yu(aC(),g._delegate,"operation-not-supported-in-this-environment"),yield Da(g._delegate),EM(g._delegate,d,ho)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return function jd(f,u){return Xp.apply(this,arguments)}(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return f.Persistence=Ti,f})();function dC(f,u,d){let g=f;"function"!=typeof f&&({next:g,error:u,complete:d}=f);const C=g;return{next:D=>C(D&&Bo.getOrCreate(D)),error:u,complete:d}}function XM(f,u){const d=function qi(f,u){const d=Sa();if(!d)return[];const g=Ke(Un,f,u);switch(d.getItem(g)){case Ti.NONE:return[Mt];case Ti.LOCAL:return[Tc,wa];case Ti.SESSION:return[wa];default:return[]}}(f,u);if(typeof self<"u"&&!d.includes(Tc)&&d.push(Tc),typeof window<"u")for(const g of[cu,wa])d.includes(g)||d.push(g);return d.includes(Mt)||d.push(Mt),d}class Lg{constructor(){this.providerId="phone",this._delegate=new Dc(jc(Ue.Z.auth()))}static credential(u,d){return Dc.credential(u,d)}verifyPhoneNumber(u,d){return this._delegate.verifyPhoneNumber(u,d)}unwrap(){return this._delegate}}Lg.PHONE_SIGN_IN_METHOD=Dc.PHONE_SIGN_IN_METHOD,Lg.PROVIDER_ID=Dc.PROVIDER_ID;const JM=re;class Vg{constructor(u,d,g=Ue.Z.app()){var C;JM(null===(C=g.options)||void 0===C?void 0:C.apiKey,"invalid-api-key",{appName:g.name}),this._delegate=new zk(g.auth(),u,d),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function eI(f){f.INTERNAL.registerComponent(new Pn.wA("auth-compat",u=>{const d=u.getProvider("app-compat").getImmediate(),g=u.getProvider("auth");return new uC(d,g)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Jl,FacebookAuthProvider:mv,GithubAuthProvider:eu,GoogleAuthProvider:So,OAuthProvider:vc,SAMLAuthProvider:_a,PhoneAuthProvider:Lg,PhoneMultiFactorGenerator:FM,RecaptchaVerifier:Vg,TwitterAuthProvider:Dd,Auth:uC,AuthCredential:ga,Error:Z.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),f.registerVersion("@firebase/auth-compat","0.4.8")}(Ue.Z)},861:(ns,fr,qe)=>{function I(Z,$e,Pt,Jt,Pn,rr,dt){try{var oe=Z[rr](dt),he=oe.value}catch(Ae){return void Pt(Ae)}oe.done?$e(he):Promise.resolve(he).then(Jt,Pn)}function Ue(Z){return function(){var $e=this,Pt=arguments;return new Promise(function(Jt,Pn){var rr=Z.apply($e,Pt);function dt(he){I(rr,Jt,Pn,dt,oe,"next",he)}function oe(he){I(rr,Jt,Pn,dt,oe,"throw",he)}dt(void 0)})}}qe.d(fr,{Z:()=>Ue})},582:(ns,fr,qe)=>{function $e(G,q){var Q={};for(var te in G)Object.prototype.hasOwnProperty.call(G,te)&&q.indexOf(te)<0&&(Q[te]=G[te]);if(null!=G&&"function"==typeof Object.getOwnPropertySymbols){var ae=0;for(te=Object.getOwnPropertySymbols(G);ae<te.length;ae++)q.indexOf(te[ae])<0&&Object.prototype.propertyIsEnumerable.call(G,te[ae])&&(Q[te[ae]]=G[te[ae]])}return Q}function Ae(G,q,Q,te){return new(Q||(Q=Promise))(function(K,Ce){function yt(Et){try{Se(te.next(Et))}catch(fn){Ce(fn)}}function ge(Et){try{Se(te.throw(Et))}catch(fn){Ce(fn)}}function Se(Et){Et.done?K(Et.value):function ae(K){return K instanceof Q?K:new Q(function(Ce){Ce(K)})}(Et.value).then(yt,ge)}Se((te=te.apply(G,q||[])).next())})}function en(G){return this instanceof en?(this.v=G,this):new en(G)}function Rt(G,q,Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae,te=Q.apply(G,q||[]),K=[];return ae={},Ce("next"),Ce("throw"),Ce("return"),ae[Symbol.asyncIterator]=function(){return this},ae;function Ce(Qt){te[Qt]&&(ae[Qt]=function(mr){return new Promise(function(Wn,Lr){K.push([Qt,mr,Wn,Lr])>1||yt(Qt,mr)})})}function yt(Qt,mr){try{!function ge(Qt){Qt.value instanceof en?Promise.resolve(Qt.value.v).then(Se,Et):fn(K[0][2],Qt)}(te[Qt](mr))}catch(Wn){fn(K[0][3],Wn)}}function Se(Qt){yt("next",Qt)}function Et(Qt){yt("throw",Qt)}function fn(Qt,mr){Qt(mr),K.shift(),K.length&&yt(K[0][0],K[0][1])}}function ei(G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q,q=G[Symbol.asyncIterator];return q?q.call(G):(G=function St(G){var q="function"==typeof Symbol&&Symbol.iterator,Q=q&&G[q],te=0;if(Q)return Q.call(G);if(G&&"number"==typeof G.length)return{next:function(){return G&&te>=G.length&&(G=void 0),{value:G&&G[te++],done:!G}}};throw new TypeError(q?"Object is not iterable.":"Symbol.iterator is not defined.")}(G),Q={},te("next"),te("throw"),te("return"),Q[Symbol.asyncIterator]=function(){return this},Q);function te(K){Q[K]=G[K]&&function(Ce){return new Promise(function(yt,ge){!function ae(K,Ce,yt,ge){Promise.resolve(ge).then(function(Se){K({value:Se,done:yt})},Ce)}(yt,ge,(Ce=G[K](Ce)).done,Ce.value)})}}}qe.d(fr,{FC:()=>Rt,KL:()=>ei,_T:()=>$e,mG:()=>Ae,qq:()=>en}),"function"==typeof SuppressedError&&SuppressedError}},ns=>{ns(ns.s=907)}]);