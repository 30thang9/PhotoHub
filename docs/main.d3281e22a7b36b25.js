"use strict";(self.webpackChunkphotohub=self.webpackChunkphotohub||[]).push([[179],{58:(hs,wr,Ye)=>{Ye.d(wr,{BH:()=>Zt,DV:()=>Zr,Dv:()=>to,G6:()=>Vo,GJ:()=>tr,L:()=>ft,LL:()=>X,P0:()=>hr,Pz:()=>Lt,Sg:()=>hi,UG:()=>se,UI:()=>wc,US:()=>on,Wj:()=>Ri,Wl:()=>xe,Yr:()=>js,ZB:()=>De,ZR:()=>le,aH:()=>sn,b$:()=>Hn,cI:()=>me,dS:()=>gs,eu:()=>Y,g5:()=>J,gK:()=>nr,gQ:()=>Yr,h$:()=>dr,hl:()=>G,hu:()=>$e,jU:()=>mn,lb:()=>ki,m9:()=>Ic,ne:()=>fs,p$:()=>pe,pd:()=>eu,r3:()=>Kr,ru:()=>an,tV:()=>ae,uI:()=>pr,ug:()=>Hs,vZ:()=>ps,w1:()=>Lo,w9:()=>Er,xO:()=>Jl,xb:()=>xi,z$:()=>it,zd:()=>yo});const I={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},$e=function(k,D){if(!k)throw J(D)},J=function(k){return new Error("Firebase Database ("+I.SDK_VERSION+") INTERNAL ASSERT FAILED: "+k)},We=function(k){const D=[];let R=0;for(let ne=0;ne<k.length;ne++){let B=k.charCodeAt(ne);B<128?D[R++]=B:B<2048?(D[R++]=B>>6|192,D[R++]=63&B|128):55296==(64512&B)&&ne+1<k.length&&56320==(64512&k.charCodeAt(ne+1))?(B=65536+((1023&B)<<10)+(1023&k.charCodeAt(++ne)),D[R++]=B>>18|240,D[R++]=B>>12&63|128,D[R++]=B>>6&63|128,D[R++]=63&B|128):(D[R++]=B>>12|224,D[R++]=B>>6&63|128,D[R++]=63&B|128)}return D},on={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(k,D){if(!Array.isArray(k))throw Error("encodeByteArray takes an array as a parameter");this.init_();const R=D?this.byteToCharMapWebSafe_:this.byteToCharMap_,ne=[];for(let B=0;B<k.length;B+=3){const Q=k[B],qe=B+1<k.length,bt=qe?k[B+1]:0,et=B+2<k.length,ln=et?k[B+2]:0;let fr=(15&bt)<<2|ln>>6,zt=63&ln;et||(zt=64,qe||(fr=64)),ne.push(R[Q>>2],R[(3&Q)<<4|bt>>4],R[fr],R[zt])}return ne.join("")},encodeString(k,D){return this.HAS_NATIVE_SUPPORT&&!D?btoa(k):this.encodeByteArray(We(k),D)},decodeString(k,D){return this.HAS_NATIVE_SUPPORT&&!D?atob(k):function(k){const D=[];let R=0,ne=0;for(;R<k.length;){const B=k[R++];if(B<128)D[ne++]=String.fromCharCode(B);else if(B>191&&B<224){const Q=k[R++];D[ne++]=String.fromCharCode((31&B)<<6|63&Q)}else if(B>239&&B<365){const et=((7&B)<<18|(63&k[R++])<<12|(63&k[R++])<<6|63&k[R++])-65536;D[ne++]=String.fromCharCode(55296+(et>>10)),D[ne++]=String.fromCharCode(56320+(1023&et))}else{const Q=k[R++],qe=k[R++];D[ne++]=String.fromCharCode((15&B)<<12|(63&Q)<<6|63&qe)}}return D.join("")}(this.decodeStringToByteArray(k,D))},decodeStringToByteArray(k,D){this.init_();const R=D?this.charToByteMapWebSafe_:this.charToByteMap_,ne=[];for(let B=0;B<k.length;){const Q=R[k.charAt(B++)],bt=B<k.length?R[k.charAt(B)]:0;++B;const ln=B<k.length?R[k.charAt(B)]:64;++B;const ke=B<k.length?R[k.charAt(B)]:64;if(++B,null==Q||null==bt||null==ln||null==ke)throw new Dn;ne.push(Q<<2|bt>>4),64!==ln&&(ne.push(bt<<4&240|ln>>2),64!==ke&&ne.push(ln<<6&192|ke))}return ne},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let k=0;k<this.ENCODED_VALS.length;k++)this.byteToCharMap_[k]=this.ENCODED_VALS.charAt(k),this.charToByteMap_[this.byteToCharMap_[k]]=k,this.byteToCharMapWebSafe_[k]=this.ENCODED_VALS_WEBSAFE.charAt(k),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[k]]=k,k>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(k)]=k,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(k)]=k)}}};class Dn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dr=function(k){const D=We(k);return on.encodeByteArray(D,!0)},ft=function(k){return dr(k).replace(/\./g,"")},ae=function(k){try{return on.decodeString(k,!0)}catch(D){console.error("base64Decode failed: ",D)}return null};function pe(k){return De(void 0,k)}function De(k,D){if(!(D instanceof Object))return D;switch(D.constructor){case Date:return new Date(D.getTime());case Object:void 0===k&&(k={});break;case Array:k=[];break;default:return D}for(const R in D)!D.hasOwnProperty(R)||!lt(R)||(k[R]=De(k[R],D[R]));return k}function lt(k){return"__proto__"!==k}const rt=()=>{try{return function At(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const k=process.env.__FIREBASE_DEFAULTS__;return k?JSON.parse(k):void 0})()||(()=>{if(typeof document>"u")return;let k;try{k=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const D=k&&ae(k[1]);return D&&JSON.parse(D)})()}catch(k){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${k}`)}},hr=k=>{const D=(k=>{var D,R;return null===(R=null===(D=rt())||void 0===D?void 0:D.emulatorHosts)||void 0===R?void 0:R[k]})(k);if(!D)return;const R=D.lastIndexOf(":");if(R<=0||R+1===D.length)throw new Error(`Invalid host ${D} with no separate hostname and port!`);const ne=parseInt(D.substring(R+1),10);return"["===D[0]?[D.substring(1,R-1),ne]:[D.substring(0,R),ne]},sn=()=>{var k;return null===(k=rt())||void 0===k?void 0:k.config},Lt=k=>{var D;return null===(D=rt())||void 0===D?void 0:D[`_${k}`]};class Zt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((D,R)=>{this.resolve=D,this.reject=R})}wrapCallback(D){return(R,ne)=>{R?this.reject(R):this.resolve(ne),"function"==typeof D&&(this.promise.catch(()=>{}),1===D.length?D(R):D(R,ne))}}}function hi(k,D){if(k.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ne=D||"demo-project",B=k.iat||0,Q=k.sub||k.user_id;if(!Q)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const qe=Object.assign({iss:`https://securetoken.google.com/${ne}`,aud:ne,iat:B,exp:B+3600,auth_time:B,sub:Q,user_id:Q,firebase:{sign_in_provider:"custom",identities:{}}},k);return[ft(JSON.stringify({alg:"none",type:"JWT"})),ft(JSON.stringify(qe)),""].join(".")}function it(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function pr(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())}function se(){var k;const D=null===(k=rt())||void 0===k?void 0:k.forceEnvironment;if("node"===D)return!0;if("browser"===D)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function mn(){return"object"==typeof self&&self.self===self}function an(){const k="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof k&&void 0!==k.id}function Hn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Lo(){const k=it();return k.indexOf("MSIE ")>=0||k.indexOf("Trident/")>=0}function js(){return!0===I.NODE_CLIENT||!0===I.NODE_ADMIN}function Vo(){return!se()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function G(){try{return"object"==typeof indexedDB}catch{return!1}}function Y(){return new Promise((k,D)=>{try{let R=!0;const ne="validate-browser-context-for-indexeddb-analytics-module",B=self.indexedDB.open(ne);B.onsuccess=()=>{B.result.close(),R||self.indexedDB.deleteDatabase(ne),k(!0)},B.onupgradeneeded=()=>{R=!1},B.onerror=()=>{var Q;D((null===(Q=B.error)||void 0===Q?void 0:Q.message)||"")}}catch(R){D(R)}})}class le extends Error{constructor(D,R,ne){super(R),this.code=D,this.customData=ne,this.name="FirebaseError",Object.setPrototypeOf(this,le.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,X.prototype.create)}}class X{constructor(D,R,ne){this.service=D,this.serviceName=R,this.errors=ne}create(D,...R){const ne=R[0]||{},B=`${this.service}/${D}`,Q=this.errors[D],qe=Q?function we(k,D){return k.replace(wt,(R,ne)=>{const B=D[ne];return null!=B?String(B):`<${ne}?>`})}(Q,ne):"Error";return new le(B,`${this.serviceName}: ${qe} (${B}).`,ne)}}const wt=/\{\$([^}]+)}/g;function me(k){return JSON.parse(k)}function xe(k){return JSON.stringify(k)}const It=function(k){let D={},R={},ne={},B="";try{const Q=k.split(".");D=me(ae(Q[0])||""),R=me(ae(Q[1])||""),B=Q[2],ne=R.d||{},delete R.d}catch{}return{header:D,claims:R,data:ne,signature:B}},Er=function(k){const R=It(k).claims;return!!R&&"object"==typeof R&&R.hasOwnProperty("iat")},tr=function(k){const D=It(k).claims;return"object"==typeof D&&!0===D.admin};function Kr(k,D){return Object.prototype.hasOwnProperty.call(k,D)}function Zr(k,D){if(Object.prototype.hasOwnProperty.call(k,D))return k[D]}function xi(k){for(const D in k)if(Object.prototype.hasOwnProperty.call(k,D))return!1;return!0}function wc(k,D,R){const ne={};for(const B in k)Object.prototype.hasOwnProperty.call(k,B)&&(ne[B]=D.call(R,k[B],B,k));return ne}function ps(k,D){if(k===D)return!0;const R=Object.keys(k),ne=Object.keys(D);for(const B of R){if(!ne.includes(B))return!1;const Q=k[B],qe=D[B];if(zn(Q)&&zn(qe)){if(!ps(Q,qe))return!1}else if(Q!==qe)return!1}for(const B of ne)if(!R.includes(B))return!1;return!0}function zn(k){return null!==k&&"object"==typeof k}function Jl(k){const D=[];for(const[R,ne]of Object.entries(k))Array.isArray(ne)?ne.forEach(B=>{D.push(encodeURIComponent(R)+"="+encodeURIComponent(B))}):D.push(encodeURIComponent(R)+"="+encodeURIComponent(ne));return D.length?"&"+D.join("&"):""}function yo(k){const D={};return k.replace(/^\?/,"").split("&").forEach(ne=>{if(ne){const[B,Q]=ne.split("=");D[decodeURIComponent(B)]=decodeURIComponent(Q)}}),D}function eu(k){const D=k.indexOf("?");if(!D)return"";const R=k.indexOf("#",D);return k.substring(D,R>0?R:void 0)}class Yr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let D=1;D<this.blockSize;++D)this.pad_[D]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(D,R){R||(R=0);const ne=this.W_;if("string"==typeof D)for(let ke=0;ke<16;ke++)ne[ke]=D.charCodeAt(R)<<24|D.charCodeAt(R+1)<<16|D.charCodeAt(R+2)<<8|D.charCodeAt(R+3),R+=4;else for(let ke=0;ke<16;ke++)ne[ke]=D[R]<<24|D[R+1]<<16|D[R+2]<<8|D[R+3],R+=4;for(let ke=16;ke<80;ke++){const fr=ne[ke-3]^ne[ke-8]^ne[ke-14]^ne[ke-16];ne[ke]=4294967295&(fr<<1|fr>>>31)}let ln,Ni,B=this.chain_[0],Q=this.chain_[1],qe=this.chain_[2],bt=this.chain_[3],et=this.chain_[4];for(let ke=0;ke<80;ke++){ke<40?ke<20?(ln=bt^Q&(qe^bt),Ni=1518500249):(ln=Q^qe^bt,Ni=1859775393):ke<60?(ln=Q&qe|bt&(Q|qe),Ni=2400959708):(ln=Q^qe^bt,Ni=3395469782);const fr=(B<<5|B>>>27)+ln+et+Ni+ne[ke]&4294967295;et=bt,bt=qe,qe=4294967295&(Q<<30|Q>>>2),Q=B,B=fr}this.chain_[0]=this.chain_[0]+B&4294967295,this.chain_[1]=this.chain_[1]+Q&4294967295,this.chain_[2]=this.chain_[2]+qe&4294967295,this.chain_[3]=this.chain_[3]+bt&4294967295,this.chain_[4]=this.chain_[4]+et&4294967295}update(D,R){if(null==D)return;void 0===R&&(R=D.length);const ne=R-this.blockSize;let B=0;const Q=this.buf_;let qe=this.inbuf_;for(;B<R;){if(0===qe)for(;B<=ne;)this.compress_(D,B),B+=this.blockSize;if("string"==typeof D){for(;B<R;)if(Q[qe]=D.charCodeAt(B),++qe,++B,qe===this.blockSize){this.compress_(Q),qe=0;break}}else for(;B<R;)if(Q[qe]=D[B],++qe,++B,qe===this.blockSize){this.compress_(Q),qe=0;break}}this.inbuf_=qe,this.total_+=R}digest(){const D=[];let R=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let B=this.blockSize-1;B>=56;B--)this.buf_[B]=255&R,R/=256;this.compress_(this.buf_);let ne=0;for(let B=0;B<5;B++)for(let Q=24;Q>=0;Q-=8)D[ne]=this.chain_[B]>>Q&255,++ne;return D}}function fs(k,D){const R=new $s(k,D);return R.subscribe.bind(R)}class $s{constructor(D,R){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=R,this.task.then(()=>{D(this)}).catch(ne=>{this.error(ne)})}next(D){this.forEachObserver(R=>{R.next(D)})}error(D){this.forEachObserver(R=>{R.error(D)}),this.close(D)}complete(){this.forEachObserver(D=>{D.complete()}),this.close()}subscribe(D,R,ne){let B;if(void 0===D&&void 0===R&&void 0===ne)throw new Error("Missing Observer.");B=function Ia(k,D){if("object"!=typeof k||null===k)return!1;for(const R of D)if(R in k&&"function"==typeof k[R])return!0;return!1}(D,["next","error","complete"])?D:{next:D,error:R,complete:ne},void 0===B.next&&(B.next=cn),void 0===B.error&&(B.error=cn),void 0===B.complete&&(B.complete=cn);const Q=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?B.error(this.finalError):B.complete()}catch{}}),this.observers.push(B),Q}unsubscribeOne(D){void 0===this.observers||void 0===this.observers[D]||(delete this.observers[D],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(D){if(!this.finalized)for(let R=0;R<this.observers.length;R++)this.sendOne(R,D)}sendOne(D,R){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[D])try{R(this.observers[D])}catch(ne){typeof console<"u"&&console.error&&console.error(ne)}})}close(D){this.finalized||(this.finalized=!0,void 0!==D&&(this.finalError=D),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cn(){}const to=function(k,D,R,ne){let B;if(ne<D?B="at least "+D:ne>R&&(B=0===R?"none":"no more than "+R),B)throw new Error(k+" failed: Was called with "+ne+(1===ne?" argument.":" arguments.")+" Expects "+B+".")};function nr(k,D){return`${k} failed: ${D} argument `}function Ri(k,D,R,ne){if((!ne||R)&&"function"!=typeof R)throw new Error(nr(k,D)+"must be a valid function.")}function ki(k,D,R,ne){if((!ne||R)&&("object"!=typeof R||null===R))throw new Error(nr(k,D)+"must be a valid context object.")}const gs=function(k){const D=[];let R=0;for(let ne=0;ne<k.length;ne++){let B=k.charCodeAt(ne);if(B>=55296&&B<=56319){const Q=B-55296;ne++,$e(ne<k.length,"Surrogate pair missing trail surrogate."),B=65536+(Q<<10)+(k.charCodeAt(ne)-56320)}B<128?D[R++]=B:B<2048?(D[R++]=B>>6|192,D[R++]=63&B|128):B<65536?(D[R++]=B>>12|224,D[R++]=B>>6&63|128,D[R++]=63&B|128):(D[R++]=B>>18|240,D[R++]=B>>12&63|128,D[R++]=B>>6&63|128,D[R++]=63&B|128)}return D},Hs=function(k){let D=0;for(let R=0;R<k.length;R++){const ne=k.charCodeAt(R);ne<128?D++:ne<2048?D+=2:ne>=55296&&ne<=56319?(D+=4,R++):D+=3}return D};function Ic(k){return k&&k._delegate?k._delegate:k}},452:(hs,wr,Ye)=>{function I(t){return"function"==typeof t}function $e(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const J=$e(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function We(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Ot{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(I(r))try{r()}catch(o){e=o instanceof J?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{dr(o)}catch(s){e=e??[],s instanceof J?e=[...e,...s.errors]:e.push(s)}}if(e)throw new J(e)}}add(e){var n;if(e&&e!==this)if(this.closed)dr(e);else{if(e instanceof Ot){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&We(n,e)}remove(e){const{_finalizers:n}=this;n&&We(n,e),e instanceof Ot&&e._removeParent(this)}}Ot.EMPTY=(()=>{const t=new Ot;return t.closed=!0,t})();const on=Ot.EMPTY;function Dn(t){return t instanceof Ot||t&&"closed"in t&&I(t.remove)&&I(t.add)&&I(t.unsubscribe)}function dr(t){I(t)?t():t.unsubscribe()}const ft={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ae={setTimeout(t,e,...n){const{delegate:r}=ae;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=ae;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function pe(t){ae.setTimeout(()=>{const{onUnhandledError:e}=ft;if(!e)throw t;e(t)})}function De(){}const lt=Ft("C",void 0,void 0);function Ft(t,e,n){return{kind:t,value:e,error:n}}let Ge=null;function rt(t){if(ft.useDeprecatedSynchronousErrorHandling){const e=!Ge;if(e&&(Ge={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Ge;if(Ge=null,n)throw r}}else t()}class hr extends Ot{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Dn(e)&&e.add(this)):this.destination=mn}static create(e,n,r){return new hi(e,n,r)}next(e){this.isStopped?se(function Pr(t){return Ft("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?se(function At(t){return Ft("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?se(lt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const sn=Function.prototype.bind;function Lt(t,e){return sn.call(t,e)}class Zt{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){it(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){it(r)}else it(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){it(n)}}}class hi extends hr{constructor(e,n,r){let i;if(super(),I(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&ft.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Lt(e.next,o),error:e.error&&Lt(e.error,o),complete:e.complete&&Lt(e.complete,o)}):i=e}this.destination=new Zt(i)}}function it(t){ft.useDeprecatedSynchronousErrorHandling?function Mr(t){ft.useDeprecatedSynchronousErrorHandling&&Ge&&(Ge.errorThrown=!0,Ge.error=t)}(t):pe(t)}function se(t,e){const{onStoppedNotification:n}=ft;n&&ae.setTimeout(()=>n(t,e))}const mn={closed:!0,next:De,error:function pr(t){throw t},complete:De},an="function"==typeof Symbol&&Symbol.observable||"@@observable";function Hn(t){return t}function Lo(t){return 0===t.length?Hn:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let at=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function G(t){return t&&t instanceof hr||function Vo(t){return t&&I(t.next)&&I(t.error)&&I(t.complete)}(t)&&Dn(t)}(n)?n:new hi(n,r,i);return rt(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=js(r))((i,o)=>{const s=new hi({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[an](){return this}pipe(...n){return Lo(n)(this)}toPromise(n){return new(n=js(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function js(t){var e;return null!==(e=t??ft.Promise)&&void 0!==e?e:Promise}const Y=$e(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ee=(()=>{class t extends at{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new re(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Y}next(n){rt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){rt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){rt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?on:(this.currentObservers=null,o.push(n),new Ot(()=>{this.currentObservers=null,We(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new at;return n.source=this,n}}return t.create=(e,n)=>new re(e,n),t})();class re extends ee{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:on}}function le(t){return I(t?.lift)}function X(t){return e=>{if(le(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function we(t,e,n,r,i){return new wt(t,e,n,r,i)}class wt extends hr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function me(t,e){return X((n,r)=>{let i=0;n.subscribe(we(r,o=>{r.next(t.call(e,o,i++))}))})}var xe=Ye(582);const It=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function yn(t){return I(t?.then)}function tn(t){return I(t[an])}function Er(t){return Symbol.asyncIterator&&I(t?.[Symbol.asyncIterator])}function tr(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Zr=function Kr(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function xi(t){return I(t?.[Zr])}function wc(t){return(0,xe.FC)(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield(0,xe.qq)(n.read());if(i)return yield(0,xe.qq)(void 0);yield yield(0,xe.qq)(r)}}finally{n.releaseLock()}})}function ps(t){return I(t?.getReader)}function zn(t){if(t instanceof at)return t;if(null!=t){if(tn(t))return function Pc(t){return new at(e=>{const n=t[an]();if(I(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(It(t))return function Jl(t){return new at(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(yn(t))return function yo(t){return new at(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,pe)})}(t);if(Er(t))return Yr(t);if(xi(t))return function eu(t){return new at(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(ps(t))return function fs(t){return Yr(wc(t))}(t)}throw tr(t)}function Yr(t){return new at(e=>{(function $s(t,e){var n,r,i,o;return(0,xe.mG)(this,void 0,void 0,function*(){try{for(n=(0,xe.KL)(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Lr(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function cn(t,e,n=1/0){return I(e)?cn((r,i)=>me((o,s)=>e(r,o,i,s))(zn(t(r,i))),n):("number"==typeof e&&(n=e),X((r,i)=>function Ia(t,e,n,r,i,o,s,a){const c=[];let l=0,h=0,f=!1;const _=()=>{f&&!c.length&&!l&&e.complete()},v=b=>l<r?M(b):c.push(b),M=b=>{o&&e.next(b),l++;let T=!1;zn(n(b,h++)).subscribe(we(e,V=>{i?.(V),o?v(V):e.next(V)},()=>{T=!0},void 0,()=>{if(T)try{for(l--;c.length&&l<r;){const V=c.shift();s?Lr(e,s,()=>M(V)):M(V)}_()}catch(V){e.error(V)}}))};return t.subscribe(we(e,v,()=>{f=!0,_()})),()=>{a?.()}}(r,i,t,n)))}function to(t=1/0){return cn(Hn,t)}const nr=new at(t=>t.complete());function gs(t){return t[t.length-1]}function Hs(t){return I(gs(t))?t.pop():void 0}function zs(t){return function ki(t){return t&&I(t.schedule)}(gs(t))?t.pop():void 0}function Or(t,e=0){return X((n,r)=>{n.subscribe(we(r,i=>Lr(r,t,()=>r.next(i),e),()=>Lr(r,t,()=>r.complete(),e),i=>Lr(r,t,()=>r.error(i),e)))})}function Qr(t,e=0){return X((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Ic(t,e){if(!t)throw new Error("Iterable cannot be null");return new at(n=>{Lr(n,e,()=>{const r=t[Symbol.asyncIterator]();Lr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function R(t,e){return e?function D(t,e){if(null!=t){if(tn(t))return function Ws(t,e){return zn(t).pipe(Qr(e),Or(e))}(t,e);if(It(t))return function kd(t,e){return new at(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(yn(t))return function Oc(t,e){return zn(t).pipe(Qr(e),Or(e))}(t,e);if(Er(t))return Ic(t,e);if(xi(t))return function tu(t,e){return new at(n=>{let r;return Lr(n,e,()=>{r=t[Zr](),Lr(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>I(r?.return)&&r.return()})}(t,e);if(ps(t))return function k(t,e){return Ic(wc(t),e)}(t,e)}throw tr(t)}(t,e):zn(t)}function ne(...t){const e=zs(t),n=function Ec(t,e){return"number"==typeof gs(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?zn(r[0]):to(n)(R(r,e)):nr}class B extends ee{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Q(...t){return R(t,zs(t))}function qe(t={}){const{connector:e=(()=>new ee),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,c,l=0,h=!1,f=!1;const _=()=>{a?.unsubscribe(),a=void 0},v=()=>{_(),s=c=void 0,h=f=!1},M=()=>{const b=s;v(),b?.unsubscribe()};return X((b,T)=>{l++,!f&&!h&&_();const V=c=c??e();T.add(()=>{l--,0===l&&!f&&!h&&(a=bt(M,i))}),V.subscribe(T),!s&&l>0&&(s=new hi({next:N=>V.next(N),error:N=>{f=!0,_(),a=bt(v,n,N),V.error(N)},complete:()=>{h=!0,_(),a=bt(v,r),V.complete()}}),zn(b).subscribe(s))})(o)}}function bt(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new hi({next:()=>{r.unsubscribe(),t()}});return zn(e(...n)).subscribe(r)}function et(t,e){return X((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(we(r,c=>{i?.unsubscribe();let l=0;const h=o++;zn(t(c,h)).subscribe(i=we(r,f=>r.next(e?e(c,f,h,l++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ln(t,e=Hn){return t=t??Ni,X((n,r)=>{let i,o=!0;n.subscribe(we(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function Ni(t,e){return t===e}function ke(t){for(let e in t)if(t[e]===ke)return e;throw Error("Could not find renamed property on target object.")}function fr(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function zt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(zt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function _s(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const ba=ke({__forward_ref__:ke});function $(t){return t.__forward_ref__=$,t.toString=function(){return zt(this())},t}function L(t){return de(t)?t():t}function de(t){return"function"==typeof t&&t.hasOwnProperty(ba)&&t.__forward_ref__===$}function Fe(t){return t&&!!t.\u0275providers}const ut="https://g.co/ng/security#xss";class te extends Error{constructor(e,n){super(function rr(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Se(t){return"string"==typeof t?t:null==t?"":String(t)}function Ff(t,e){throw new te(-201,!1)}function pi(t,e){null==t&&function He(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function Te(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ir(t){return{providers:t.providers||[],imports:t.imports||[]}}function ru(t){return Ta(t,iu)||Ta(t,gv)}function Ta(t,e){return t.hasOwnProperty(e)?t[e]:null}function bc(t){return t&&(t.hasOwnProperty(ou)||t.hasOwnProperty(Uf))?t[ou]:null}const iu=ke({\u0275prov:ke}),ou=ke({\u0275inj:ke}),gv=ke({ngInjectableDef:ke}),Uf=ke({ngInjectorDef:ke});var _t=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(_t||{});let su;function Vr(t){const e=su;return su=t,e}function _v(t,e,n){const r=ru(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&_t.Optional?null:void 0!==e?e:void Ff(zt(t))}const Yt=globalThis,fi={},zf="__NG_DI_FLAG__",Tc="ngTempTokenPath",Wf=/\n/gm,Ld="__source";let Ac;function Uo(t){const e=Ac;return Ac=t,e}function Aa(t,e=_t.Default){if(void 0===Ac)throw new te(-203,!1);return null===Ac?_v(t,void 0,e):Ac.get(t,e&_t.Optional?null:void 0,e)}function oe(t,e=_t.Default){return(function au(){return su}()||Aa)(L(t),e)}function Pe(t,e=_t.Default){return oe(t,Gf(e))}function Gf(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function lu(t){const e=[];for(let n=0;n<t.length;n++){const r=L(t[n]);if(Array.isArray(r)){if(0===r.length)throw new te(900,!1);let i,o=_t.Default;for(let s=0;s<r.length;s++){const a=r[s],c=Dc(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}e.push(oe(i,o))}else e.push(oe(r))}return e}function Li(t,e){return t[zf]=e,t.prototype[zf]=e,t}function Dc(t){return t[zf]}function Bo(t){return{toString:t}.toString()}var uu=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(uu||{}),vo=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(vo||{});const Xr={},Dt=[],Da=ke({\u0275cmp:ke}),Vd=ke({\u0275dir:ke}),Ud=ke({\u0275pipe:ke}),Bd=ke({\u0275mod:ke}),Wn=ke({\u0275fac:ke}),xc=ke({__NG_ELEMENT_ID__:ke}),Mv=ke({__NG_ENV_ID__:ke});function jd(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Rc(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];Kf(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function qf(t){return 3===t||4===t||6===t}function Kf(t){return 64===t.charCodeAt(0)}function du(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||$d(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function $d(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const Hd="ng-template";function Zf(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==jd(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function hu(t){return 4===t.type&&t.value!==Hd}function Yf(t,e,n){return e===(4!==t.type||n?t.value:Hd)}function Ev(t,e,n){let r=4;const i=t.attrs||[],o=function Qf(t){for(let e=0;e<t.length;e++)if(qf(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!Yf(t,c,n)||""===c&&1===e.length){if(Vi(r))return!1;s=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!Zf(t.attrs,l,n)){if(Vi(r))return!1;s=!0}continue}const f=Ov(8&r?"class":c,i,hu(t),n);if(-1===f){if(Vi(r))return!1;s=!0;continue}if(""!==l){let _;_=f>o?"":i[f+1].toLowerCase();const v=8&r?_:null;if(v&&-1!==jd(v,l,0)||2&r&&l!==_){if(Vi(r))return!1;s=!0}}}}else{if(!s&&!Vi(r)&&!Vi(c))return!1;if(s&&Vi(c))continue;s=!1,r=c|1&r}}return Vi(r)||s}function Vi(t){return 0==(1&t)}function Ov(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function Iv(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function zd(t,e,n=!1){for(let r=0;r<e.length;r++)if(Ev(t,e[r],n))return!0;return!1}function Xf(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Jf(t,e){return t?":not("+e.trim()+")":e}function eg(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Vi(s)&&(e+=Jf(o,i),i=""),r=s,o=o||!Vi(r);n++}return""!==i&&(e+=Jf(o,i)),e}function Tt(t){return Bo(()=>{const e=ig(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===uu.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||vo.Emulated,styles:t.styles||Dt,_:null,schemas:t.schemas||null,tView:null,id:""};Kd(n);const r=t.dependencies;return n.directiveDefs=Zd(r,!1),n.pipeDefs=Zd(r,!0),n.id=function pE(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function pu(t){return vt(t)||Ir(t)}function rg(t){return null!==t}function Gn(t){return Bo(()=>({type:t.type,bootstrap:t.bootstrap||Dt,declarations:t.declarations||Dt,imports:t.imports||Dt,exports:t.exports||Dt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function qd(t,e){if(null==t)return Xr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function je(t){return Bo(()=>{const e=ig(t);return Kd(e),e})}function vt(t){return t[Da]||null}function Ir(t){return t[Vd]||null}function br(t){return t[Ud]||null}function Jr(t,e){const n=t[Bd]||null;if(!n&&!0===e)throw new Error(`Type ${zt(t)} does not have '\u0275mod' property.`);return n}function ig(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Xr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Dt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:qd(t.inputs,e),outputs:qd(t.outputs)}}function Kd(t){t.features?.forEach(e=>e(t))}function Zd(t,e){if(!t)return null;const n=e?br:pu;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(rg)}const un=0,Me=1,Xe=2,Qt=3,Co=4,fu=5,gr=6,Nc=7,Cn=8,qs=9,Ks=10,Ke=11,Sa=12,bv=13,Zs=14,Vn=15,xa=16,Fc=17,no=18,gu=19,Tv=20,ys=21,wo=22,_u=23,jo=24,dt=25,sg=1,Av=2,$o=7,mu=9,Ur=11;function _i(t){return Array.isArray(t)&&"object"==typeof t[sg]}function ei(t){return Array.isArray(t)&&!0===t[sg]}function Sv(t){return 0!=(4&t.flags)}function Lc(t){return t.componentOffset>-1}function ag(t){return 1==(1&t.flags)}function Ho(t){return!!t.template}function xv(t){return 0!=(512&t[Xe])}function Na(t,e){return t.hasOwnProperty(Wn)?t[Wn]:null}let Tr=null,Vc=!1;function io(t){const e=Tr;return Tr=t,e}const Xd={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Lv(t){if(!La(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Cu(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function vu(t){t.dirty=!0,function ug(t){if(void 0===t.liveConsumerNode)return;const e=Vc;Vc=!0;try{for(const n of t.liveConsumerNode)n.dirty||vu(n)}finally{Vc=e}}(t),t.consumerMarkedDirty?.(t)}function Jd(t){return t&&(t.nextProducerIndex=0),io(t)}function Fa(t,e){if(io(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(La(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)wu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Cu(t){Uc(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Lv(n),r!==n.version))return!0}return!1}function Vv(t){if(Uc(t),La(t))for(let e=0;e<t.producerNode.length;e++)wu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function wu(t,e){if(function th(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Uc(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)wu(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Uc(i),i.producerIndexOfThis[r]=e}}function La(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Uc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Uv=null;const gg=()=>{},OE=(()=>({...Xd,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:gg}))();class IE{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function mi(){return $v}function $v(t){return t.type.prototype.ngOnChanges&&(t.setInput=bE),_g}function _g(){const t=Hv(this),e=t?.current;if(e){const n=t.previous;if(n===Xr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function bE(t,e,n,r){const i=this.declaredInputs[n],o=Hv(t)||function mg(t,e){return t[rh]=e}(t,{previous:Xr,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new IE(c&&c.currentValue,e,a===Xr),t[r]=e}mi.ngInherit=!0;const rh="__ngSimpleChanges__";function Hv(t){return t[rh]||null}const zo=function(t,e,n){};function St(t){for(;Array.isArray(t);)t=t[un];return t}function oh(t,e){return St(e[t])}function yi(t,e){return St(e[t.index])}function sh(t,e){return t.data[e]}function Ui(t,e){const n=e[t];return _i(n)?n:n[un]}function Wo(t,e){return null==e?null:t[e]}function zv(t){t[Fc]=0}function Cg(t){1024&t[Xe]||(t[Xe]|=1024,Wv(t,1))}function ah(t){1024&t[Xe]&&(t[Xe]&=-1025,Wv(t,-1))}function Wv(t,e){let n=t[Qt];if(null===n)return;n[fu]+=e;let r=n;for(n=n[Qt];null!==n&&(1===e&&1===r[fu]||-1===e&&0===r[fu]);)n[fu]+=e,r=n,n=n[Qt]}const ze={lFrame:Qv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Mg(){return ze.bindingsEnabled}function Ua(){return null!==ze.skipHydrationRootTNode}function ce(){return ze.lFrame.lView}function Mt(){return ze.lFrame.tView}function Bt(t){return ze.lFrame.contextLView=t,t[Cn]}function Vt(t){return ze.lFrame.contextLView=null,t}function Ar(){let t=lh();for(;null!==t&&64===t.type;)t=t.parent;return t}function lh(){return ze.lFrame.currentTNode}function oo(t,e){const n=ze.lFrame;n.currentTNode=t,n.isParent=e}function uh(){return ze.lFrame.isParent}function Mu(){ze.lFrame.isParent=!1}function Br(){const t=ze.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Qs(){return ze.lFrame.bindingIndex++}function Cs(t){const e=ze.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function bg(t,e){const n=ze.lFrame;n.bindingIndex=n.bindingRootIndex=t,Tg(e)}function Tg(t){ze.lFrame.currentDirectiveIndex=t}function Kv(){return ze.lFrame.currentQueryIndex}function zc(t){ze.lFrame.currentQueryIndex=t}function jE(t){const e=t[Me];return 2===e.type?e.declTNode:1===e.type?t[gr]:null}function Zv(t,e,n){if(n&_t.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&_t.Host||(i=jE(o),null===i||(o=o[Zs],10&i.type))););if(null===i)return!1;e=i,t=o}const r=ze.lFrame=Yv();return r.currentTNode=e,r.lView=t,!0}function Ag(t){const e=Yv(),n=t[Me];ze.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Yv(){const t=ze.lFrame,e=null===t?null:t.child;return null===e?Qv(t):e}function Qv(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Xv(){const t=ze.lFrame;return ze.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Jv=Xv;function Dg(){const t=Xv();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ti(){return ze.lFrame.selectedIndex}function Ba(t){ze.lFrame.selectedIndex=t}function wn(){const t=ze.lFrame;return sh(t.tView,t.selectedIndex)}let nC=!0;function hh(){return nC}function Go(t){nC=t}function ph(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=h&&(t.destroyHooks??=[]).push(n,h)}}function Wc(t,e,n){rC(t,e,3,n)}function fh(t,e,n,r){(3&t[Xe])===n&&rC(t,e,n,r)}function gh(t,e){let n=t[Xe];(3&n)===e&&(n&=8191,n+=1,t[Xe]=n)}function rC(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let c=void 0!==r?65535&t[Fc]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[Fc]+=65536),(a<o||-1==o)&&(GE(t,n,e,c),t[Fc]=(4294901760&t[Fc])+c+2),c++}function _h(t,e){zo(4,t,e);const n=io(null);try{e.call(t)}finally{io(n),zo(5,t,e)}}function GE(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[Xe]>>13<t[Fc]>>16&&(3&t[Xe])===e&&(t[Xe]+=8192,_h(a,o)):_h(a,o)}const Eu=-1;class ja{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function kg(t){return t!==Eu}function Gc(t){return 32767&t}function yh(t,e){let n=function YE(t){return t>>16}(t),r=e;for(;n>0;)r=r[Zs],n--;return r}let ws=!0;function vh(t){const e=ws;return ws=t,e}const Ch=255,oC=5;let Ng=0;const qo={};function qc(t,e){const n=sC(t,e);if(-1!==n)return n;const r=e[Me];r.firstCreatePass&&(t.injectorIndex=e.length,Fg(r.data,t),Fg(e,null),Fg(r.blueprint,null));const i=Kc(t,e),o=t.injectorIndex;if(kg(i)){const s=Gc(i),a=yh(i,e),c=a[Me].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Fg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function sC(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Kc(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=dC(i),null===r)return Eu;if(n++,i=i[Zs],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Eu}function Lg(t,e,n){!function QE(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(xc)&&(r=n[xc]),null==r&&(r=n[xc]=Ng++);const i=r&Ch;e.data[t+(i>>oC)]|=1<<i}(t,e,n)}function aC(t,e,n){if(n&_t.Optional||void 0!==t)return t;Ff()}function cC(t,e,n,r){if(n&_t.Optional&&void 0===r&&(r=null),!(n&(_t.Self|_t.Host))){const i=t[qs],o=Vr(void 0);try{return i?i.get(e,r,n&_t.Optional):_v(e,r,n&_t.Optional)}finally{Vr(o)}}return aC(r,0,n)}function lC(t,e,n,r=_t.Default,i){if(null!==t){if(2048&e[Xe]&&!(r&_t.Self)){const s=function eO(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[Xe]&&!(512&s[Xe]);){const a=Vg(o,s,n,r|_t.Self,qo);if(a!==qo)return a;let c=o.parent;if(!c){const l=s[Tv];if(l){const h=l.get(n,qo,r);if(h!==qo)return h}c=dC(s),s=s[Zs]}o=c}return i}(t,e,n,r,qo);if(s!==qo)return s}const o=Vg(t,e,n,r,qo);if(o!==qo)return o}return cC(e,n,r,i)}function Vg(t,e,n,r,i){const o=function Bg(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(xc)?t[xc]:void 0;return"number"==typeof e?e>=0?e&Ch:JE:e}(n);if("function"==typeof o){if(!Zv(e,t,r))return r&_t.Host?aC(i,0,r):cC(e,n,r,i);try{let s;if(s=o(r),null!=s||r&_t.Optional)return s;Ff()}finally{Jv()}}else if("number"==typeof o){let s=null,a=sC(t,e),c=Eu,l=r&_t.Host?e[Vn][gr]:null;for((-1===a||r&_t.SkipSelf)&&(c=-1===a?Kc(t,e):e[a+8],c!==Eu&&uC(r,!1)?(s=e[Me],a=Gc(c),e=yh(c,e)):a=-1);-1!==a;){const h=e[Me];if(Ph(o,a,h.data)){const f=Ug(a,e,n,s,r,l);if(f!==qo)return f}c=e[a+8],c!==Eu&&uC(r,e[Me].data[a+8]===l)&&Ph(o,a,e)?(s=h,a=Gc(c),e=yh(c,e)):a=-1}}return i}function Ug(t,e,n,r,i,o){const s=e[Me],a=s.data[t+8],h=wh(a,s,n,null==r?Lc(a)&&ws:r!=s&&0!=(3&a.type),i&_t.Host&&o===a);return null!==h?$a(e,s,h,a):qo}function wh(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,c=t.directiveStart,h=o>>20,_=i?a+h:t.directiveEnd;for(let v=r?a:a+h;v<_;v++){const M=s[v];if(v<c&&n===M||v>=c&&M.type===n)return v}if(i){const v=s[c];if(v&&Ho(v)&&v.type===n)return c}return null}function $a(t,e,n,r){let i=t[n];const o=e.data;if(function iC(t){return t instanceof ja}(i)){const s=i;s.resolving&&function nu(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new te(-200,`Circular dependency in DI detected for ${t}${n}`)}(function gt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Se(t)}(o[n]));const a=vh(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Vr(s.injectImpl):null;Zv(t,r,_t.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function xg(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=$v(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==l&&Vr(l),vh(a),s.resolving=!1,Jv()}}return i}function Ph(t,e,n){return!!(n[e+(t>>oC)]&1<<t)}function uC(t,e){return!(t&_t.Self||t&_t.Host&&e)}class ni{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return lC(this._tNode,this._lView,e,Gf(r),n)}}function JE(){return new ni(Ar(),ce())}function Dr(t){return Bo(()=>{const e=t.prototype.constructor,n=e[Wn]||Eh(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[Wn]||Eh(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Eh(t){return de(t)?()=>{const e=Eh(L(t));return e&&e()}:Na(t)}function dC(t){const e=t[Me],n=e.type;return 2===n?e.declTNode:1===n?t[gr]:null}const Ko="__parameters__";function Qc(t,e,n){return Bo(()=>{const r=function $g(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,l,h){const f=c.hasOwnProperty(Ko)?c[Ko]:Object.defineProperty(c,Ko,{value:[]})[Ko];for(;f.length<=h;)f.push(null);return(f[h]=f[h]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function za(t,e){t.forEach(n=>Array.isArray(n)?za(n,e):e(n))}function gC(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Po(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Jc(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function Xt(t,e,n){let r=Xs(t,e);return r>=0?t[1|r]=n:(r=~r,function sO(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function bu(t,e){const n=Xs(t,e);if(n>=0)return t[1|n]}function Xs(t,e){return function Zo(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const p=Li(Qc("Optional"),8),d=Li(Qc("SkipSelf"),4);function EC(t){return 128==(128&t.flags)}var el=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(el||{});const IW=/^>|^->|<!--|-->|--!>|<!-$/g,bW=/(<|>)/g,TW="\u200b$1\u200b";const pO=new Map;let AW=0;const gO="__ngContext__";function vi(t,e){_i(e)?(t[gO]=e[gu],function SW(t){pO.set(t[gu],t)}(e)):t[gO]=e}let _O;function mO(t,e){return _O(t,e)}function Qg(t){const e=t[Qt];return ei(e)?e[Qt]:e}function vN(t){return wN(t[Sa])}function CN(t){return wN(t[Co])}function wN(t){for(;null!==t&&!ei(t);)t=t[Co];return t}function Ah(t,e,n,r,i){if(null!=r){let o,s=!1;ei(r)?o=r:_i(r)&&(s=!0,r=r[un]);const a=St(r);0===t&&null!==n?null==i?ON(e,n,a):Su(e,n,a,i||null,!0):1===t&&null!==n?Su(e,n,a,i||null,!0):2===t?function SC(t,e,n){const r=AC(t,e);r&&function YW(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function JW(t,e,n,r,i){const o=n[$o];o!==St(n)&&Ah(e,t,r,o,i);for(let a=Ur;a<n.length;a++){const c=n[a];Jg(c[Me],c,t,e,r,o)}}(e,t,o,n,i)}}function yO(t,e){return t.createComment(function dN(t){return t.replace(IW,e=>e.replace(bW,TW))}(e))}function bC(t,e,n){return t.createElement(e,n)}function MN(t,e){const n=t[mu],r=n.indexOf(e);ah(e),n.splice(r,1)}function TC(t,e){if(t.length<=Ur)return;const n=Ur+e,r=t[n];if(r){const i=r[xa];null!==i&&i!==t&&MN(i,r),e>0&&(t[n-1][Co]=r[Co]);const o=Po(t,Ur+e);!function $W(t,e){Jg(t,e,e[Ke],2,null,null),e[un]=null,e[gr]=null}(r[Me],r);const s=o[no];null!==s&&s.detachView(o[Me]),r[Qt]=null,r[Co]=null,r[Xe]&=-129}return r}function vO(t,e){if(!(256&e[Xe])){const n=e[Ke];e[_u]&&Vv(e[_u]),e[jo]&&Vv(e[jo]),n.destroyNode&&Jg(t,e,n,3,null,null),function WW(t){let e=t[Sa];if(!e)return CO(t[Me],t);for(;e;){let n=null;if(_i(e))n=e[Sa];else{const r=e[Ur];r&&(n=r)}if(!n){for(;e&&!e[Co]&&e!==t;)_i(e)&&CO(e[Me],e),e=e[Qt];null===e&&(e=t),_i(e)&&CO(e[Me],e),n=e&&e[Co]}e=n}}(e)}}function CO(t,e){if(!(256&e[Xe])){e[Xe]&=-129,e[Xe]|=256,function ZW(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof ja)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];zo(4,a,c);try{c.call(a)}finally{zo(5,a,c)}}else{zo(4,i,o);try{o.call(i)}finally{zo(5,i,o)}}}}}(t,e),function KW(t,e){const n=t.cleanup,r=e[Nc];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[Nc]=null);const i=e[ys];if(null!==i){e[ys]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[Me].type&&e[Ke].destroy();const n=e[xa];if(null!==n&&ei(e[Qt])){n!==e[Qt]&&MN(n,e);const r=e[no];null!==r&&r.detachView(t)}!function xW(t){pO.delete(t[gu])}(e)}}function wO(t,e,n){return function EN(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[un];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===vo.None||o===vo.Emulated)return null}return yi(r,n)}}(t,e.parent,n)}function Su(t,e,n,r,i){t.insertBefore(e,n,r,i)}function ON(t,e,n){t.appendChild(e,n)}function IN(t,e,n,r,i){null!==r?Su(t,e,n,r,i):ON(t,e,n)}function AC(t,e){return t.parentNode(e)}function bN(t,e,n){return AN(t,e,n)}let PO,IO,RC,AN=function TN(t,e,n){return 40&t.type?yi(t,n):null};function DC(t,e,n,r){const i=wO(t,r,e),o=e[Ke],a=bN(r.parent||e[gr],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)IN(o,i,n[c],a,!1);else IN(o,i,n,a,!1);void 0!==PO&&PO(o,r,e,n,i)}function Xg(t,e){if(null!==e){const n=e.type;if(3&n)return yi(e,t);if(4&n)return MO(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Xg(t,r);{const i=t[e.index];return ei(i)?MO(-1,i):St(i)}}if(32&n)return mO(e,t)()||St(t[e.index]);{const r=SN(t,e);return null!==r?Array.isArray(r)?r[0]:Xg(Qg(t[Vn]),r):Xg(t,e.next)}}return null}function SN(t,e){return null!==e?t[Vn][gr].projection[e.projection]:null}function MO(t,e){const n=Ur+t+1;if(n<e.length){const r=e[n],i=r[Me].firstChild;if(null!==i)return Xg(r,i)}return e[$o]}function EO(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;if(s&&0===e&&(a&&vi(St(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)EO(t,e,n.child,r,i,o,!1),Ah(e,t,i,a,o);else if(32&c){const l=mO(n,r);let h;for(;h=l();)Ah(e,t,i,h,o);Ah(e,t,i,a,o)}else 16&c?RN(t,e,r,n,i,o):Ah(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Jg(t,e,n,r,i,o){EO(n,r,t.firstChild,e,i,o,!1)}function RN(t,e,n,r,i,o){const s=n[Vn],c=s[gr].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Ah(e,t,i,c[l],o);else{let l=c;const h=s[Qt];EC(r)&&(l.flags|=128),EO(t,e,l,h,i,o,!0)}}function kN(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function NN(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&Rc(t,e,r),null!==i&&kN(t,e,i),null!==o&&function tG(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}function VN(t){return function bO(){if(void 0===RC&&(RC=null,Yt.trustedTypes))try{RC=Yt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return RC}()?.createScriptURL(t)||t}class UN{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ut})`}}function tl(t){return t instanceof UN?t.changingThisBreaksApplicationSecurity:t}function e_(t,e){const n=function dG(t){return t instanceof UN&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${ut})`)}return n===e}const gG=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var xh=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(xh||{});function Sr(t){const e=n_();return e?e.sanitize(xh.URL,t)||"":e_(t,"URL")?tl(t):function TO(t){return(t=String(t)).match(gG)?t:"unsafe:"+t}(Se(t))}function GN(t){const e=n_();if(e)return VN(e.sanitize(xh.RESOURCE_URL,t)||"");if(e_(t,"ResourceURL"))return VN(tl(t));throw new te(904,!1)}function n_(){const t=ce();return t&&t[Ks].sanitizer}class ge{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Te({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const r_=new ge("ENVIRONMENT_INITIALIZER"),KN=new ge("INJECTOR",-1),ZN=new ge("INJECTOR_DEF_TYPES");class xO{get(e,n=fi){if(n===fi){const r=new Error(`NullInjectorError: No provider for ${zt(e)}!`);throw r.name="NullInjectorError",r}return n}}function TG(...t){return{\u0275providers:YN(0,t),\u0275fromNgModule:!0}}function YN(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return za(e,s=>{const a=s;NC(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&QN(i,o),n}function QN(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];kO(i,o=>{e(o,r)})}}function NC(t,e,n,r){if(!(t=L(t)))return!1;let i=null,o=bc(t);const s=!o&&vt(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const c=t.ngModule;if(o=bc(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)NC(l,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;r.add(i);try{za(o.imports,h=>{NC(h,e,n,r)&&(l||=[],l.push(h))})}finally{}void 0!==l&&QN(l,e)}if(!a){const l=Na(i)||(()=>new i);e({provide:i,useFactory:l,deps:Dt},i),e({provide:ZN,useValue:i,multi:!0},i),e({provide:r_,useValue:()=>oe(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const l=t;kO(c,h=>{e(h,l)})}}}return i!==t&&void 0!==t.providers}function kO(t,e){for(let n of t)Fe(n)&&(n=n.\u0275providers),Array.isArray(n)?kO(n,e):e(n)}const AG=ke({provide:String,useValue:ke});function NO(t){return null!==t&&"object"==typeof t&&AG in t}function xu(t){return"function"==typeof t}const FO=new ge("Set Injector scope."),FC={},SG={};let LO;function LC(){return void 0===LO&&(LO=new xO),LO}class Mo{}class VC extends Mo{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,UO(e,s=>this.processProvider(s)),this.records.set(KN,Rh(void 0,this)),i.has("environment")&&this.records.set(Mo,Rh(void 0,this));const o=this.records.get(FO);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ZN.multi,Dt,_t.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Uo(this),r=Vr(void 0);try{return e()}finally{Uo(n),Vr(r)}}get(e,n=fi,r=_t.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Mv))return e[Mv](this);r=Gf(r);const o=Uo(this),s=Vr(void 0);try{if(!(r&_t.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function FG(t){return"function"==typeof t||"object"==typeof t&&t instanceof ge}(e)&&ru(e);c=l&&this.injectableDefInScope(l)?Rh(VO(e),FC):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&_t.Self?LC():this.parent).get(e,n=r&_t.Optional&&n===fi?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Tc]=a[Tc]||[]).unshift(zt(e)),o)throw a;return function Sc(t,e,n,r){const i=t[Tc];throw e[Ld]&&i.unshift(e[Ld]),t.message=function Pv(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=zt(e);if(Array.isArray(e))i=e.map(zt).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):zt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Wf,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Tc]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Vr(s),Uo(o)}}resolveInjectorInitializers(){const e=Uo(this),n=Vr(void 0);try{const i=this.get(r_.multi,Dt,_t.Self);for(const o of i)o()}finally{Uo(e),Vr(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(zt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new te(205,!1)}processProvider(e){let n=xu(e=L(e))?e:L(e&&e.provide);const r=function RG(t){return NO(t)?Rh(void 0,t.useValue):Rh(e2(t),FC)}(e);if(xu(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Rh(void 0,FC,!0),i.factory=()=>lu(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===FC&&(n.value=SG,n.value=n.factory()),"object"==typeof n.value&&n.value&&function NG(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=L(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function VO(t){const e=ru(t),n=null!==e?e.factory:Na(t);if(null!==n)return n;if(t instanceof ge)throw new te(204,!1);if(t instanceof Function)return function xG(t){const e=t.length;if(e>0)throw Jc(e,"?"),new te(204,!1);const n=function fv(t){return t&&(t[iu]||t[gv])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new te(204,!1)}function e2(t,e,n){let r;if(xu(t)){const i=L(t);return Na(i)||VO(i)}if(NO(t))r=()=>L(t.useValue);else if(function JN(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...lu(t.deps||[]));else if(function XN(t){return!(!t||!t.useExisting)}(t))r=()=>oe(L(t.useExisting));else{const i=L(t&&(t.useClass||t.provide));if(!function kG(t){return!!t.deps}(t))return Na(i)||VO(i);r=()=>new i(...lu(t.deps))}return r}function Rh(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function UO(t,e){for(const n of t)Array.isArray(n)?UO(n,e):n&&Fe(n)?UO(n.\u0275providers,e):e(n)}const UC=new ge("AppId",{providedIn:"root",factory:()=>LG}),LG="ng",t2=new ge("Platform Initializer"),Eo=new ge("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),n2=new ge("CSP nonce",{providedIn:"root",factory:()=>function Sh(){if(void 0!==IO)return IO;if(typeof document<"u")return document;throw new te(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let r2=(t,e,n)=>null;function qO(t,e,n=!1){return r2(t,e,n)}class qG{}class s2{}class ZG{resolveComponentFactory(e){throw function KG(t){const e=Error(`No component factory found for ${zt(t)}.`);return e.ngComponent=t,e}(e)}}let WC=(()=>{class e{}return e.NULL=new ZG,e})();function YG(){return Fh(Ar(),ce())}function Fh(t,e){return new ji(yi(t,e))}let ji=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=YG,e})();function QG(t){return t instanceof ji?t.nativeElement:t}class c2{}let Ga=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function XG(){const t=ce(),n=Ui(Ar().index,t);return(_i(n)?n:t)[Ke]}(),e})(),JG=(()=>{var t;class e{}return(t=e).\u0275prov=Te({token:t,providedIn:"root",factory:()=>null}),e})();class Lh{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const YO=new Lh("16.2.6"),QO={};function h2(t,e=null,n=null,r){const i=p2(t,e,n,r);return i.resolveInjectorInitializers(),i}function p2(t,e=null,n=null,r,i=new Set){const o=[n||Dt,TG(t)];return r=r||("object"==typeof t?void 0:zt(t)),new VC(o,e||LC(),r||null,i)}let $i=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return h2({name:""},i,r,"");{const o=r.name??"";return h2({name:o},r.parent,r.providers,o)}}}return(t=e).THROW_IF_NOT_FOUND=fi,t.NULL=new xO,t.\u0275prov=Te({token:t,providedIn:"any",factory:()=>oe(KN)}),t.__NG_ELEMENT_ID__=-1,e})();function JO(t){return t.ngOriginalError}class qa{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&JO(e);for(;n&&JO(n);)n=JO(n);return n||null}}function t1(t){return e=>{setTimeout(t,void 0,e)}}const Sn=class sq extends ee{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=t1(o),i&&(i=t1(i)),s&&(s=t1(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ot&&e.add(a),a}};function g2(...t){}class xt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Sn(!1),this.onMicrotaskEmpty=new Sn(!1),this.onStable=new Sn(!1),this.onError=new Sn(!1),typeof Zone>"u")throw new te(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function aq(){const t="function"==typeof Yt.requestAnimationFrame;let e=Yt[t?"requestAnimationFrame":"setTimeout"],n=Yt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function uq(t){const e=()=>{!function lq(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Yt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,r1(t),t.isCheckStableRunning=!0,n1(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),r1(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function hq(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return _2(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),m2(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return _2(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),m2(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,r1(t),n1(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!xt.isInAngularZone())throw new te(909,!1)}static assertNotInAngularZone(){if(xt.isInAngularZone())throw new te(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,cq,g2,g2);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const cq={};function n1(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function r1(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function _2(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function m2(t){t._nesting--,n1(t)}class dq{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Sn,this.onMicrotaskEmpty=new Sn,this.onStable=new Sn,this.onError=new Sn}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const y2=new ge("",{providedIn:"root",factory:v2});function v2(){const t=Pe(xt);let e=!0;return ne(new at(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new at(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{xt.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=t.onUnstable.subscribe(()=>{xt.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(qe()))}function Ru(t){return t.ownerDocument}function Ka(t){return t instanceof Function?t():t}let i1=(()=>{var t;class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}}return(t=e).\u0275prov=Te({token:t,providedIn:"root",factory:()=>new t}),e})();function s_(t){for(;t;){t[Xe]|=64;const e=Qg(t);if(xv(t)&&!e)return t;t=e}return null}const E2=new ge("",{providedIn:"root",factory:()=>!1});let qC=null;function T2(t,e){return t[e]??S2()}function A2(t,e){const n=S2();n.producerNode?.length&&(t[e]=qC,n.lView=t,qC=D2())}const wq={...Xd,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{s_(t.lView)},lView:null};function D2(){return Object.create(wq)}function S2(){return qC??=D2(),qC}const tt={};function O(t){x2(Mt(),ce(),ti()+t,!1)}function x2(t,e,n,r){if(!r)if(3==(3&e[Xe])){const o=t.preOrderCheckHooks;null!==o&&Wc(e,o,n)}else{const o=t.preOrderHooks;null!==o&&fh(e,o,0,n)}Ba(n)}function Z(t,e=_t.Default){const n=ce();return null===n?oe(t,e):lC(Ar(),n,L(t),e)}function KC(t,e,n,r,i,o,s,a,c,l,h){const f=e.blueprint.slice();return f[un]=i,f[Xe]=140|r,(null!==l||t&&2048&t[Xe])&&(f[Xe]|=2048),zv(f),f[Qt]=f[Zs]=t,f[Cn]=n,f[Ks]=s||t&&t[Ks],f[Ke]=a||t&&t[Ke],f[qs]=c||t&&t[qs]||null,f[gr]=o,f[gu]=function DW(){return AW++}(),f[wo]=h,f[Tv]=l,f[Vn]=2==e.type?t[Vn]:f,f}function Bh(t,e,n,r,i){let o=t.data[e];if(null===o)o=function o1(t,e,n,r,i){const o=lh(),s=uh(),c=t.data[e]=function Aq(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Ua()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(t,e,n,r,i),function UE(){return ze.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Ys(){const t=ze.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return oo(o,!0),o}function a_(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function k2(t,e,n,r,i){const o=T2(e,_u),s=ti(),a=2&r;try{Ba(-1),a&&e.length>dt&&x2(t,e,dt,!1),zo(a?2:0,i);const l=a?o:null,h=Jd(l);try{null!==l&&(l.dirty=!1),n(r,i)}finally{Fa(l,h)}}finally{a&&null===e[_u]&&A2(e,_u),Ba(s),zo(a?3:1,i)}}function s1(t,e,n){if(Sv(e)){const r=io(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{io(r)}}}function a1(t,e,n){Mg()&&(function Fq(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;Lc(n)&&function Hq(t,e,n){const r=yi(e,t),i=N2(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=ZC(t,KC(t,i,null,s,r,e,null,t[Ks].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||qc(n,e),vi(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const c=t.data[a],l=$a(e,t,a,n);vi(l,e),null!==s&&zq(0,a-i,l,c,0,s),Ho(c)&&(Ui(n.index,e)[Cn]=$a(e,t,a,n))}}(t,e,n,yi(n,e)),64==(64&n.flags)&&B2(t,e,n))}function c1(t,e,n=yi){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function N2(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=l1(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function l1(t,e,n,r,i,o,s,a,c,l,h){const f=dt+r,_=f+i,v=function Mq(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:tt);return n}(f,_),M="function"==typeof l?l():l;return v[Me]={type:t,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:M,incompleteFirstPass:!1,ssrId:h}}let F2=t=>null;function L2(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const o=t[i];null===r?V2(n,e,i,o):r.hasOwnProperty(i)&&V2(n,e,r[i],o)}return n}function V2(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Oo(t,e,n,r,i,o,s,a){const c=yi(e,n);let h,l=e.inputs;!a&&null!=l&&(h=l[r])?(f1(t,n,h,r,i),Lc(e)&&function xq(t,e){const n=Ui(e,t);16&n[Xe]||(n[Xe]|=64)}(n,e.index)):3&e.type&&(r=function Sq(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(c,r,i))}function u1(t,e,n,r){if(Mg()){const i=null===r?null:{"":-1},o=function Vq(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(zd(e,s.selectors,!1))if(r||(r=[]),Ho(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),d1(t,e,a.length)}else r.unshift(s),d1(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&U2(t,e,n,s,i,a),i&&function Uq(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new te(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=du(n.mergedAttrs,n.attrs)}function U2(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Lg(qc(n,e),t,r[l].type);!function jq(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,c=a_(t,e,r.length,null);for(let l=0;l<r.length;l++){const h=r[l];n.mergedAttrs=du(n.mergedAttrs,h.hostAttrs),$q(t,n,e,c,h),Bq(c,h,i),null!==h.contentQueries&&(n.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(n.flags|=64);const f=h.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function Dq(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let c=null,l=null;for(let h=e.directiveStart;h<i;h++){const f=o[h],_=n?n.get(f):null,M=_?_.outputs:null;c=L2(f.inputs,h,c,_?_.inputs:null),l=L2(f.outputs,h,l,M);const b=null===c||null===s||hu(e)?null:Wq(c,h,s);a.push(b)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(t,n,o)}function B2(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function BE(){return ze.lFrame.currentDirectiveIndex}();try{Ba(o);for(let a=r;a<i;a++){const c=t.data[a],l=e[a];Tg(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&Lq(c,l)}}finally{Ba(-1),Tg(s)}}function Lq(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function d1(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Bq(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ho(e)&&(n[""]=t)}}function $q(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=Na(i.type)),s=new ja(o,Ho(i),Z);t.blueprint[r]=s,n[r]=s,function kq(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function Nq(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,a_(t,n,i.hostVars,tt),i)}function Js(t,e,n,r,i,o){const s=yi(t,e);!function h1(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?Se(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[Ke],s,o,t.value,n,r,i)}function zq(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)j2(r,n,s[a++],s[a++],s[a++])}function j2(t,e,n,r,i){const o=io(null);try{const s=t.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{io(o)}}function Wq(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function $2(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function H2(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=t.data[o];zc(n[r]),s.contentQueries(2,e[o],o)}}}function ZC(t,e){return t[Sa]?t[bv][Co]=e:t[Sa]=e,t[bv]=e,e}function p1(t,e,n){zc(0);const r=io(null);try{e(t,n)}finally{io(r)}}function z2(t){return t[Nc]||(t[Nc]=[])}function W2(t){return t.cleanup||(t.cleanup=[])}function q2(t,e){const n=t[qs],r=n?n.get(qa,null):null;r&&r.handleError(e)}function f1(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];j2(t.data[s],e[s],r,a,i)}}function Gq(t,e){const n=Ui(e,t),r=n[Me];!function qq(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[un];null!==i&&null===n[wo]&&(n[wo]=qO(i,n[qs])),g1(r,n,n[Cn])}function g1(t,e,n){Ag(e);try{const r=t.viewQuery;null!==r&&p1(1,r,n);const i=t.template;null!==i&&k2(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&H2(t,e),t.staticViewQueries&&p1(2,t.viewQuery,n);const o=t.components;null!==o&&function Kq(t,e){for(let n=0;n<e.length;n++)Gq(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Xe]&=-5,Dg()}}let K2=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,o){const s=typeof Zone>"u"?null:Zone.current,a=function EE(t,e,n){const r=Object.create(OE);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>vu(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Cu(r))return;r.hasRun=!0;const s=Jd(r);try{r.cleanupFn(),r.cleanupFn=gg,r.fn(i)}finally{Fa(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(r,h=>{this.all.has(h)&&this.queue.set(h,s)},o);let c;this.all.add(a),a.notify();const l=()=>{a.cleanup(),c?.(),this.all.delete(a),this.queue.delete(a)};return c=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=Te({token:t,providedIn:"root",factory:()=>new t}),e})();function YC(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=_s(i,a):2==o&&(r=_s(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function c_(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];null!==o&&r.push(St(o)),ei(o)&&Z2(o,r);const s=n.type;if(8&s)c_(t,e,n.child,r);else if(32&s){const a=mO(n,e);let c;for(;c=a();)r.push(c)}else if(16&s){const a=SN(e,n);if(Array.isArray(a))r.push(...a);else{const c=Qg(e[Vn]);c_(c[Me],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Z2(t,e){for(let n=Ur;n<t.length;n++){const r=t[n],i=r[Me].firstChild;null!==i&&c_(r[Me],r,i,e)}t[$o]!==t[un]&&e.push(t[$o])}function QC(t,e,n,r=!0){const i=e[Ks],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{Y2(t,e,t.template,n)}catch(c){throw r&&q2(e,c),c}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function Y2(t,e,n,r){const i=e[Xe];if(256!=(256&i)){e[Ks].effectManager?.flush(),Ag(e);try{zv(e),function Ig(t){return ze.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&k2(t,e,n,2,r);const s=3==(3&i);if(s){const l=t.preOrderCheckHooks;null!==l&&Wc(e,l,null)}else{const l=t.preOrderHooks;null!==l&&fh(e,l,0,null),gh(e,0)}if(function Qq(t){for(let e=vN(t);null!==e;e=CN(e)){if(!e[Av])continue;const n=e[mu];for(let r=0;r<n.length;r++){Cg(n[r])}}}(e),Q2(e,2),null!==t.contentQueries&&H2(t,e),s){const l=t.contentCheckHooks;null!==l&&Wc(e,l)}else{const l=t.contentHooks;null!==l&&fh(e,l,1),gh(e,1)}!function Pq(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=T2(e,jo);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)Ba(~o);else{const s=o,a=n[++i],c=n[++i];bg(a,s),r.dirty=!1;const l=Jd(r);try{c(2,e[s])}finally{Fa(r,l)}}}}finally{null===e[jo]&&A2(e,jo),Ba(-1)}}(t,e);const a=t.components;null!==a&&J2(e,a,0);const c=t.viewQuery;if(null!==c&&p1(2,c,r),s){const l=t.viewCheckHooks;null!==l&&Wc(e,l)}else{const l=t.viewHooks;null!==l&&fh(e,l,2),gh(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[Xe]&=-73,ah(e)}finally{Dg()}}}function Q2(t,e){for(let n=vN(t);null!==n;n=CN(n))for(let r=Ur;r<n.length;r++)X2(n[r],e)}function Xq(t,e,n){X2(Ui(e,t),n)}function X2(t,e){if(!function vg(t){return 128==(128&t[Xe])}(t))return;const n=t[Me],r=t[Xe];if(80&r&&0===e||1024&r||2===e)Y2(n,t,n.template,t[Cn]);else if(t[fu]>0){Q2(t,1);const i=n.components;null!==i&&J2(t,i,1)}}function J2(t,e,n){for(let r=0;r<e.length;r++)Xq(t,e[r],n)}class l_{get rootNodes(){const e=this._lView,n=e[Me];return c_(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Cn]}set context(e){this._lView[Cn]=e}get destroyed(){return 256==(256&this._lView[Xe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Qt];if(ei(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(TC(e,r),Po(n,r))}this._attachedToViewContainer=!1}vO(this._lView[Me],this._lView)}onDestroy(e){!function Hc(t,e){if(256==(256&t[Xe]))throw new te(911,!1);null===t[ys]&&(t[ys]=[]),t[ys].push(e)}(this._lView,e)}markForCheck(){s_(this._cdRefInjectingView||this._lView)}detach(){this._lView[Xe]&=-129}reattach(){this._lView[Xe]|=128}detectChanges(){QC(this._lView[Me],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function zW(t,e){Jg(t,e,e[Ke],2,null,null)}(this._lView[Me],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new te(902,!1);this._appRef=e}}class Jq extends l_{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;QC(e[Me],e,e[Cn],!1)}checkNoChanges(){}get context(){return null}}class eF extends WC{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=vt(e);return new u_(n,this.ngModule)}}function tF(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class tK{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Gf(r);const i=this.injector.get(e,QO,r);return i!==QO||n===QO?i:this.parentInjector.get(e,n,r)}}class u_ extends s2{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=tF(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return tF(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function hE(t){return t.map(eg).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof Mo?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new tK(e,o):e,a=s.get(c2,null);if(null===a)throw new te(407,!1);const f={rendererFactory:a,sanitizer:s.get(JG,null),effectManager:s.get(K2,null),afterRenderEventManager:s.get(i1,null)},_=a.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",M=r?function Eq(t,e,n,r){const o=r.get(E2,!1)||n===vo.ShadowDom,s=t.selectRootElement(e,o);return function Oq(t){F2(t)}(s),s}(_,r,this.componentDef.encapsulation,s):bC(_,v,function eK(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(v)),V=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let N=null;null!==M&&(N=qO(M,s,!0));const W=l1(0,null,null,1,0,null,null,null,null,null,null),z=KC(null,W,null,V,null,null,f,_,s,null,N);let fe,Ie;Ag(z);try{const ct=this.componentDef;let en,mo=null;ct.findHostDirectiveDefs?(en=[],mo=new Map,ct.findHostDirectiveDefs(ct,en,mo),en.push(ct)):en=[ct];const Nf=function rK(t,e){const n=t[Me],r=dt;return t[r]=e,Bh(n,r,2,"#host",null)}(z,M),hMe=function iK(t,e,n,r,i,o,s){const a=i[Me];!function oK(t,e,n,r){for(const i of t)e.mergedAttrs=du(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(YC(e,e.mergedAttrs,!0),null!==n&&NN(r,n,e))}(r,t,e,s);let c=null;null!==e&&(c=qO(e,i[qs]));const l=o.rendererFactory.createRenderer(e,n);let h=16;n.signals?h=4096:n.onPush&&(h=64);const f=KC(i,N2(n),null,h,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&d1(a,t,r.length-1),ZC(i,f),i[t.index]=f}(Nf,M,ct,en,z,f,_);Ie=sh(W,dt),M&&function aK(t,e,n,r){if(r)Rc(t,n,["ng-version",YO.full]);else{const{attrs:i,classes:o}=function tg(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Vi(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Rc(t,n,i),o&&o.length>0&&kN(t,n,o.join(" "))}}(_,ct,M,r),void 0!==n&&function cK(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(Ie,this.ngContentSelectors,n),fe=function sK(t,e,n,r,i,o){const s=Ar(),a=i[Me],c=yi(s,i);U2(a,i,s,n,null,r);for(let h=0;h<n.length;h++)vi($a(i,a,s.directiveStart+h,s),i);B2(a,i,s),c&&vi(c,i);const l=$a(i,a,s.directiveStart+s.componentOffset,s);if(t[Cn]=i[Cn]=l,null!==o)for(const h of o)h(l,e);return s1(a,s,t),l}(hMe,ct,en,mo,z,[lK]),g1(W,z,null)}finally{Dg()}return new nK(this.componentType,fe,Fh(Ie,z),z,Ie)}}class nK extends qG{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Jq(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;f1(o[Me],o,i,e,n),this.previousInputValues.set(e,n),s_(Ui(this._tNode.index,o))}}get injector(){return new ni(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function lK(){const t=Ar();ph(ce()[Me],t)}function Wt(t){let e=function nF(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Ho(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new te(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=XC(t.inputs),s.inputTransforms=XC(t.inputTransforms),s.declaredInputs=XC(t.declaredInputs),s.outputs=XC(t.outputs);const a=i.hostBindings;a&&pK(t,a);const c=i.viewQuery,l=i.contentQueries;if(c&&dK(t,c),l&&hK(t,l),fr(t.inputs,i.inputs),fr(t.declaredInputs,i.declaredInputs),fr(t.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),fr(s.inputTransforms,i.inputTransforms)),Ho(i)&&i.data.animation){const h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===Wt&&(n=!1)}}e=Object.getPrototypeOf(e)}!function uK(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=du(i.hostAttrs,n=du(n,i.hostAttrs))}}(r)}function XC(t){return t===Xr?{}:t===Dt?[]:t}function dK(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function hK(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function pK(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function sF(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function JC(t){return!!_1(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function _1(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ea(t,e,n){return t[e]=n}function Ci(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Xo(t,e,n,r){const i=ce();return Ci(i,Qs(),e)&&(Mt(),Js(wn(),i,t,e,n,r)),Xo}function $h(t,e,n,r){return Ci(t,Qs(),n)?e+Se(n)+r:tt}function q(t,e,n,r,i,o,s,a){const c=ce(),l=Mt(),h=t+dt,f=l.firstCreatePass?function VK(t,e,n,r,i,o,s,a,c){const l=e.consts,h=Bh(e,t,4,s||null,Wo(l,a));u1(e,n,h,Wo(l,c)),ph(e,h);const f=h.tView=l1(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,h),f.queries=e.queries.embeddedTView(h)),h}(h,l,c,e,n,r,i,o,s):l.data[h];oo(f,!1);const _=vF(l,c,f,t);hh()&&DC(l,c,_,f),vi(_,c),ZC(c,c[h]=$2(_,c,_,f)),ag(f)&&a1(l,c,f),null!=s&&c1(c,f,a)}let vF=function CF(t,e,n,r){return Go(!0),e[Ke].createComment("")};function wi(t){return function Va(t,e){return t[e]}(function LE(){return ze.lFrame.contextLView}(),dt+t)}function F(t,e,n){const r=ce();return Ci(r,Qs(),e)&&Oo(Mt(),wn(),r,t,e,r[Ke],n,!1),F}function P1(t,e,n,r,i){const s=i?"class":"style";f1(t,n,e.inputs[s],s,r)}function m(t,e,n,r){const i=ce(),o=Mt(),s=dt+t,a=i[Ke],c=o.firstCreatePass?function $K(t,e,n,r,i,o){const s=e.consts,c=Bh(e,t,2,r,Wo(s,i));return u1(e,n,c,Wo(s,o)),null!==c.attrs&&YC(c,c.attrs,!1),null!==c.mergedAttrs&&YC(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,e,n,r):o.data[s],l=wF(o,i,c,a,e,t);i[s]=l;const h=ag(c);return oo(c,!0),NN(a,l,c),32!=(32&c.flags)&&hh()&&DC(o,i,l,c),0===function wg(){return ze.lFrame.elementDepthCount}()&&vi(l,i),function xE(){ze.lFrame.elementDepthCount++}(),h&&(a1(o,i,c),s1(o,c,i)),null!==r&&c1(i,c),m}function y(){let t=Ar();uh()?Mu():(t=t.parent,oo(t,!1));const e=t;(function RE(t){return ze.skipHydrationRootTNode===t})(e)&&function FE(){ze.skipHydrationRootTNode=null}(),function Pg(){ze.lFrame.elementDepthCount--}();const n=Mt();return n.firstCreatePass&&(ph(n,t),Sv(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function KE(t){return 0!=(8&t.flags)}(e)&&P1(n,e,ce(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function ZE(t){return 0!=(16&t.flags)}(e)&&P1(n,e,ce(),e.stylesWithoutHost,!1),y}function A(t,e,n,r){return m(t,e,n,r),y(),A}let wF=(t,e,n,r,i,o)=>(Go(!0),bC(r,i,function tC(){return ze.lFrame.currentNamespace}()));function ht(t,e,n){const r=ce(),i=Mt(),o=t+dt,s=i.firstCreatePass?function WK(t,e,n,r,i){const o=e.consts,s=Wo(o,r),a=Bh(e,t,8,"ng-container",s);return null!==s&&YC(a,s,!0),u1(e,n,a,Wo(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];oo(s,!0);const a=MF(i,r,s,t);return r[o]=a,hh()&&DC(i,r,a,s),vi(a,r),ag(s)&&(a1(i,r,s),s1(i,s,r)),null!=n&&c1(r,s),ht}function pt(){let t=Ar();const e=Mt();return uh()?Mu():(t=t.parent,oo(t,!1)),e.firstCreatePass&&(ph(e,t),Sv(t)&&e.queries.elementEnd(t)),pt}let MF=(t,e,n,r)=>(Go(!0),yO(e[Ke],""));function Kn(){return ce()}function g_(t){return!!t&&"function"==typeof t.then}function EF(t){return!!t&&"function"==typeof t.subscribe}function H(t,e,n,r){const i=ce(),o=Mt(),s=Ar();return function IF(t,e,n,r,i,o,s){const a=ag(r),l=t.firstCreatePass&&W2(t),h=e[Cn],f=z2(e);let _=!0;if(3&r.type||s){const b=yi(r,e),T=s?s(b):b,V=f.length,N=s?z=>s(St(z[r.index])):r.index;let W=null;if(!s&&a&&(W=function KK(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[Nc],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==W)(W.__ngLastListenerFn__||W).__ngNextListenerFn__=o,W.__ngLastListenerFn__=o,_=!1;else{o=TF(r,e,h,o,!1);const z=n.listen(T,i,o);f.push(o,z),l&&l.push(i,N,V,V+1)}}else o=TF(r,e,h,o,!1);const v=r.outputs;let M;if(_&&null!==v&&(M=v[i])){const b=M.length;if(b)for(let T=0;T<b;T+=2){const fe=e[M[T]][M[T+1]].subscribe(o),Ie=f.length;f.push(o,fe),l&&l.push(i,r.index,Ie,-(Ie+1))}}}(o,i,i[Ke],s,t,e,r),H}function bF(t,e,n,r){try{return zo(6,e,n),!1!==n(r)}catch(i){return q2(t,i),!1}finally{zo(7,e,n)}}function TF(t,e,n,r,i){return function o(s){if(s===Function)return r;s_(t.componentOffset>-1?Ui(t.index,e):e);let c=bF(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)c=bF(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&s.preventDefault(),c}}function Re(t=1){return function Sg(t){return(ze.lFrame.contextLView=function $E(t,e){for(;t>0;)e=e[Zs],t--;return e}(t,ze.lFrame.contextLView))[Cn]}(t)}function ZK(t,e){let n=null;const r=function Wd(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?zd(t,o,!0):Xf(r,o))return i}else n=i}return n}function Jo(t,e,n){return o0(t,"",e,"",n),Jo}function o0(t,e,n,r,i){const o=ce(),s=$h(o,e,n,r);return s!==tt&&Oo(Mt(),wn(),o,t,s,o[Ke],i,!1),o0}function s0(t,e){return t<<17|e<<2}function nl(t){return t>>17&32767}function M1(t){return 2|t}function Nu(t){return(131068&t)>>2}function E1(t,e){return-131069&t|e<<2}function O1(t){return 1|t}function UF(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?nl(o):Nu(o),c=!1;for(;0!==a&&(!1===c||s);){const h=t[a+1];tZ(t[a],e)&&(c=!0,t[a+1]=r?O1(h):M1(h)),a=r?nl(h):Nu(h)}c&&(t[n+1]=r?M1(o):O1(o))}function tZ(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Xs(t,e)>=0}const xr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function BF(t){return t.substring(xr.key,xr.keyEnd)}function jF(t,e){const n=xr.textEnd;return n===e?-1:(e=xr.keyEnd=function oZ(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,xr.key=e,n),Yh(t,e,n))}function Yh(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function es(t,e){return function Ps(t,e,n,r){const i=ce(),o=Mt(),s=Cs(2);o.firstUpdatePass&&KF(o,t,s,r),e!==tt&&Ci(i,s,e)&&YF(o,o.data[ti()],i,i[Ke],t,i[s+1]=function _Z(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=zt(tl(t)))),t}(e,n),r,s)}(t,e,null,!0),es}function Mn(t){!function Ms(t,e,n,r){const i=Mt(),o=Cs(2);i.firstUpdatePass&&KF(i,null,o,r);const s=ce();if(n!==tt&&Ci(s,o,n)){const a=i.data[ti()];if(XF(a,r)&&!qF(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(n=_s(c,n||"")),P1(i,a,s,n,r)}else!function gZ(t,e,n,r,i,o,s,a){i===tt&&(i=Dt);let c=0,l=0,h=0<i.length?i[0]:null,f=0<o.length?o[0]:null;for(;null!==h||null!==f;){const _=c<i.length?i[c+1]:void 0,v=l<o.length?o[l+1]:void 0;let b,M=null;h===f?(c+=2,l+=2,_!==v&&(M=f,b=v)):null===f||null!==h&&h<f?(c+=2,M=h):(l+=2,M=f,b=v),null!==M&&YF(t,e,n,r,M,b,s,a),h=c<i.length?i[c]:null,f=l<o.length?o[l]:null}}(i,a,s,s[Ke],s[o+1],s[o+1]=function pZ(t,e,n){if(null==n||""===n)return Dt;const r=[],i=tl(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}(fZ,na,t,!0)}function na(t,e){for(let n=function rZ(t){return function HF(t){xr.key=0,xr.keyEnd=0,xr.value=0,xr.valueEnd=0,xr.textEnd=t.length}(t),jF(t,Yh(t,0,xr.textEnd))}(e);n>=0;n=jF(e,n))Xt(t,BF(e),!0)}function qF(t,e){return e>=t.expandoStartIndex}function KF(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[ti()],s=qF(t,n);XF(o,r)&&null===e&&!s&&(e=!1),e=function lZ(t,e,n,r){const i=function dh(t){const e=ze.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=__(n=I1(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=I1(i,t,e,n,r),null===o){let c=function uZ(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Nu(r))return t[nl(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=I1(null,t,e,c[1],r),c=__(c,e.attrs,r),function dZ(t,e,n,r){t[nl(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else o=function hZ(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=__(r,t[o].hostAttrs,n);return __(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function JK(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=nl(s),c=Nu(s);t[r]=n;let h,l=!1;if(Array.isArray(n)?(h=n[1],(null===h||Xs(n,h)>0)&&(l=!0)):h=n,i)if(0!==c){const _=nl(t[a+1]);t[r+1]=s0(_,a),0!==_&&(t[_+1]=E1(t[_+1],r)),t[a+1]=function QK(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=s0(a,0),0!==a&&(t[a+1]=E1(t[a+1],r)),a=r;else t[r+1]=s0(c,0),0===a?a=r:t[c+1]=E1(t[c+1],r),c=r;l&&(t[r+1]=M1(t[r+1])),UF(t,h,r,!0),UF(t,h,r,!1),function eZ(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Xs(o,e)>=0&&(n[r+1]=O1(n[r+1]))}(e,h,t,r,o),s=s0(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function I1(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=__(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function __(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Xt(t,s,!!n||e[++o]))}return void 0===t?null:t}function fZ(t,e,n){const r=String(e);""!==r&&!r.includes(" ")&&Xt(t,r,n)}function YF(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const c=t.data,l=c[a+1],h=function XK(t){return 1==(1&t)}(l)?QF(c,e,n,i,Nu(l),s):void 0;a0(h)||(a0(o)||function YK(t){return 2==(2&t)}(l)&&(o=QF(c,null,n,i,a,s)),function eG(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:el.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=el.Important),t.setStyle(n,r,i,o))}}(r,s,oh(ti(),n),i,o))}function QF(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const c=t[i],l=Array.isArray(c),h=l?c[1]:c,f=null===h;let _=n[i+1];_===tt&&(_=f?Dt:void 0);let v=f?bu(_,r):h===r?_:void 0;if(l&&!a0(v)&&(v=bu(c,r)),a0(v)&&(a=v,s))return a;const M=t[i+1];i=s?nl(M):Nu(M)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=bu(c,r))}return a}function a0(t){return void 0!==t}function XF(t,e){return 0!=(t.flags&(e?8:16))}function w(t,e=""){const n=ce(),r=Mt(),i=t+dt,o=r.firstCreatePass?Bh(r,i,1,e,null):r.data[i],s=JF(r,n,o,e,t);n[i]=s,hh()&&DC(r,n,s,o),oo(o,!1)}let JF=(t,e,n,r,i)=>(Go(!0),function IC(t,e){return t.createText(e)}(e[Ke],r));function Ne(t){return Rt("",t,""),Ne}function Rt(t,e,n){const r=ce(),i=$h(r,t,e,n);return i!==tt&&function Za(t,e,n){const r=oh(e,t);!function PN(t,e,n){t.setValue(e,n)}(t[Ke],r,n)}(r,ti(),i),Rt}const Xh="en-US";let wL=Xh;function A1(t,e,n,r,i){if(t=L(t),Array.isArray(t))for(let o=0;o<t.length;o++)A1(t[o],e,n,r,i);else{const o=Mt(),s=ce(),a=Ar();let c=xu(t)?t:L(t.provide);const l=e2(t),h=1048575&a.providerIndexes,f=a.directiveStart,_=a.providerIndexes>>20;if(xu(t)||!t.multi){const v=new ja(l,i,Z),M=S1(c,e,i?h:h+_,f);-1===M?(Lg(qc(a,s),o,c),D1(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),s.push(v)):(n[M]=v,s[M]=v)}else{const v=S1(c,e,h+_,f),M=S1(c,e,h,h+_),T=M>=0&&n[M];if(i&&!T||!i&&!(v>=0&&n[v])){Lg(qc(a,s),o,c);const V=function LY(t,e,n,r,i){const o=new ja(t,n,Z);return o.multi=[],o.index=e,o.componentProviders=0,GL(o,i,r&&!n),o}(i?FY:NY,n.length,i,r,l);!i&&T&&(n[M].providerFactory=V),D1(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(V),s.push(V)}else D1(o,t,v>-1?v:M,GL(n[i?M:v],l,!i&&r));!i&&r&&T&&n[M].componentProviders++}}}function D1(t,e,n,r){const i=xu(e),o=function DG(t){return!!t.useClass}(e);if(i||o){const c=(o?L(e.useClass):e).prototype.ngOnDestroy;if(c){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const h=l.indexOf(n);-1===h?l.push(n,[r,c]):l[h+1].push(r,c)}else l.push(n,c)}}}function GL(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function S1(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function NY(t,e,n,r){return x1(this.multi,[])}function FY(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=$a(n,n[Me],this.providerFactory.index,r);o=a.slice(0,s),x1(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],x1(i,o);return o}function x1(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function xn(t,e=[]){return n=>{n.providersResolver=(r,i)=>function kY(t,e,n){const r=Mt();if(r.firstCreatePass){const i=Ho(t);A1(n,r.data,r.blueprint,i,!0),A1(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Lu{}class qL{}class R1 extends Lu{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new eF(this);const i=Jr(e);this._bootstrapComponents=Ka(i.bootstrap),this._r3Injector=p2(e,n,[{provide:Lu,useValue:this},{provide:WC,useValue:this.componentFactoryResolver},...r],zt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class k1 extends qL{constructor(e){super(),this.moduleType=e}create(e){return new R1(this.moduleType,e,[])}}class KL extends Lu{constructor(e){super(),this.componentFactoryResolver=new eF(this),this.instance=null;const n=new VC([...e.providers,{provide:Lu,useValue:this},{provide:WC,useValue:this.componentFactoryResolver}],e.parent||LC(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function N1(t,e,n=null){return new KL({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let BY=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=YN(0,r.type),o=i.length>0?N1([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=Te({token:t,providedIn:"environment",factory:()=>new t(oe(Mo))}),e})();function ZL(t){t.getStandaloneInjector=e=>e.get(BY).getOrCreateStandaloneInjector(t)}function Rr(t,e,n,r){return function rV(t,e,n,r,i,o){const s=e+n;return Ci(t,s,i)?ea(t,s+1,o?r.call(o,i):r(i)):P_(t,s+1)}(ce(),Br(),t,e,n,r)}function nV(t,e,n,r,i){return function iV(t,e,n,r,i,o,s){const a=e+n;return function ku(t,e,n,r){const i=Ci(t,e,n);return Ci(t,e+1,r)||i}(t,a,i,o)?ea(t,a+2,s?r.call(s,i,o):r(i,o)):P_(t,a+2)}(ce(),Br(),t,e,n,r,i)}function P_(t,e){const n=t[e];return n===tt?void 0:n}function uQ(){return this._results[Symbol.iterator]()}class L1{get changes(){return this._changes||(this._changes=new Sn)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=L1.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=uQ)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function so(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Hg(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function hQ(t,e,n,r=!0){const i=e[Me];if(function GW(t,e,n,r){const i=Ur+r,o=n.length;r>0&&(n[i-1][Co]=e),r<o-Ur?(e[Co]=n[i],gC(n,Ur+r,e)):(n.push(e),e[Co]=null),e[Qt]=n;const s=e[xa];null!==s&&n!==s&&function qW(t,e){const n=t[mu];e[Vn]!==e[Qt][Qt][Vn]&&(t[Av]=!0),null===n?t[mu]=[e]:n.push(e)}(s,e);const a=e[no];null!==a&&a.insertView(t),e[Xe]|=128}(i,e,t,n),r){const o=MO(n,t),s=e[Ke],a=AC(s,t[$o]);null!==a&&function HW(t,e,n,r,i,o){r[un]=i,r[gr]=e,Jg(t,r,n,1,i,o)}(i,t[gr],s,e,a,o)}}let Ya=(()=>{class e{}return e.__NG_ELEMENT_ID__=gQ,e})();const pQ=Ya,fQ=class extends pQ{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function dQ(t,e,n,r){const i=e.tView,a=KC(t,i,n,4096&t[Xe]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[xa]=t[e.index];const l=t[no];return null!==l&&(a[no]=l.createEmbeddedView(i)),g1(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new l_(i)}};function gQ(){return h0(Ar(),ce())}function h0(t,e){return 4&t.type?new fQ(e,t,Fh(t,e)):null}let Es=(()=>{class e{}return e.__NG_ELEMENT_ID__=wQ,e})();function wQ(){return fV(Ar(),ce())}const PQ=Es,hV=class extends PQ{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Fh(this._hostTNode,this._hostLView)}get injector(){return new ni(this._hostTNode,this._hostLView)}get parentInjector(){const e=Kc(this._hostTNode,this._hostLView);if(kg(e)){const n=yh(e,this._hostLView),r=Gc(e);return new ni(n[Me].data[r+8],n)}return new ni(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=pV(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Ur}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,o){const s=e&&!function Ha(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const b=n||{};a=b.index,r=b.injector,i=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef}const c=s?e:new u_(vt(e)),l=r||this.parentInjector;if(!o&&null==c.ngModule){const T=(s?l:this.parentInjector).get(Mo,null);T&&(o=T)}vt(c.componentType??{});const v=c.create(l,i,null,o);return this.insertImpl(v.hostView,a,false),v}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function DE(t){return ei(t[Qt])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=i[Qt],h=new hV(l,l[gr],l[Qt]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),a=this._lContainer;return hQ(a,i,s,!r),e.attachToViewContainerRef(),gC(V1(a),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=pV(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=TC(this._lContainer,n);r&&(Po(V1(this._lContainer),n),vO(r[Me],r))}detach(e){const n=this._adjustIndex(e,-1),r=TC(this._lContainer,n);return r&&null!=Po(V1(this._lContainer),n)?new l_(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function pV(t){return t[8]}function V1(t){return t[8]||(t[8]=[])}function fV(t,e){let n;const r=e[t.index];return ei(r)?n=r:(n=$2(r,e,null,t),e[t.index]=n,ZC(e,n)),gV(n,e,t,r),new hV(n,t,e)}let gV=function _V(t,e,n,r){if(t[$o])return;let i;i=8&n.type?St(r):function MQ(t,e){const n=t[Ke],r=n.createComment(""),i=yi(e,t);return Su(n,AC(n,i),r,function QW(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[$o]=i};class U1{constructor(e){this.queryList=e,this.matches=null}clone(){return new U1(this.queryList)}setDirty(){this.queryList.setDirty()}}class B1{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new B1(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==PV(e,n).matches&&this.queries[n].setDirty()}}class mV{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class j1{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new j1(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class $1{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new $1(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,n,IQ(n,o)),this.matchTNodeWithReadOption(e,n,wh(n,e,o,!1,!1))}else r===Ya?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,wh(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===ji||i===Es||i===Ya&&4&n.type)this.addMatch(n.index,-2);else{const o=wh(n,e,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function IQ(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function TQ(t,e,n,r){return-1===n?function bQ(t,e){return 11&t.type?Fh(t,e):4&t.type?h0(t,e):null}(e,t):-2===n?function AQ(t,e,n){return n===ji?Fh(e,t):n===Ya?h0(e,t):n===Es?fV(e,t):void 0}(t,e,r):$a(t,t[Me],n,e)}function yV(t,e,n,r){const i=e[no].queries[r];if(null===i.matches){const o=t.data,s=n.matches,a=[];for(let c=0;c<s.length;c+=2){const l=s[c];a.push(l<0?null:TQ(e,o[l],s[c+1],n.metadata.read))}i.matches=a}return i.matches}function H1(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=yV(t,e,i,n);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const l=o[a+1],h=e[-c];for(let f=Ur;f<h.length;f++){const _=h[f];_[xa]===_[Qt]&&H1(_[Me],_,l,r)}if(null!==h[mu]){const f=h[mu];for(let _=0;_<f.length;_++){const v=f[_];H1(v[Me],v,l,r)}}}}}return r}function Zn(t){const e=ce(),n=Mt(),r=Kv();zc(r+1);const i=PV(n,r);if(t.dirty&&function AE(t){return 4==(4&t[Xe])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?H1(n,e,r,[]):yV(n,e,i,r);t.reset(o,QG),t.notifyOnChanges()}return!0}return!1}function sr(t,e,n){const r=Mt();r.firstCreatePass&&(function wV(t,e,n){null===t.queries&&(t.queries=new j1),t.queries.track(new $1(e,n))}(r,new mV(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function CV(t,e,n){const r=new L1(4==(4&n));(function Tq(t,e,n,r){const i=z2(e);i.push(n),t.firstCreatePass&&W2(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[no]&&(e[no]=new B1),e[no].queries.push(new U1(r))}(r,ce(),e)}function Yn(){return function DQ(t,e){return t[no].queries[e].queryList}(ce(),Kv())}function PV(t,e){return t.queries.getByIndex(e)}function Pi(t,e){return h0(t,e)}const Z1=new ge("Application Initializer");let Y1=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=Pe(Z1,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const o of this.appInits){const s=o();if(g_(s))r.push(s);else if(EF(s)){const a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),UV=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const Qa=new ge("LocaleId",{providedIn:"root",factory:()=>Pe(Qa,_t.Optional|_t.SkipSelf)||function XQ(){return typeof $localize<"u"&&$localize.locale||Xh}()});let g0=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new B(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class tX{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let BV=(()=>{var t;class e{compileModuleSync(r){return new k1(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),s=Ka(Jr(r).declarations).reduce((a,c)=>{const l=vt(c);return l&&a.push(new u_(l)),a},[]);return new tX(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const zV=new ge(""),m0=new ge("");let tI,J1=(()=>{var t;class e{constructor(r,i,o){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,tI||(function wX(t){tI=t}(o),o.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{xt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:o})}whenStable(r,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,o){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(oe(xt),oe(eI),oe(m0))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),e})(),eI=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return tI?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),rl=null;const WV=new ge("AllowMultipleToken"),nI=new ge("PlatformDestroyListeners"),rI=new ge("appBootstrapListener");class qV{constructor(e,n){this.name=e,this.token=n}}function ZV(t,e,n=[]){const r=`Platform: ${e}`,i=new ge(r);return(o=[])=>{let s=iI();if(!s||s.injector.get(WV,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function EX(t){if(rl&&!rl.get(WV,!1))throw new te(400,!1);(function GV(){!function vE(t){Uv=t}(()=>{throw new te(600,!1)})})(),rl=t;const e=t.get(QV);(function KV(t){t.get(t2,null)?.forEach(n=>n())})(t)}(function YV(t=[],e){return $i.create({name:e,providers:[{provide:FO,useValue:"platform"},{provide:nI,useValue:new Set([()=>rl=null])},...t]})}(a,r))}return function IX(t){const e=iI();if(!e)throw new te(401,!1);return e}()}}function iI(){return rl?.get(QV)??null}let QV=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const o=function bX(t="zone.js",e){return"noop"===t?new dq:"zone.js"===t?new xt(e):t}(i?.ngZone,function XV(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return o.run(()=>{const s=function UY(t,e,n){return new R1(t,e,n)}(r.moduleType,this.injector,function r3(t){return[{provide:xt,useFactory:t},{provide:r_,multi:!0,useFactory:()=>{const e=Pe(AX,{optional:!0});return()=>e.initialize()}},{provide:n3,useFactory:TX},{provide:y2,useFactory:v2}]}(()=>o)),a=s.injector.get(qa,null);return o.runOutsideAngular(()=>{const c=o.onError.subscribe({next:l=>{a.handleError(l)}});s.onDestroy(()=>{y0(this._modules,s),c.unsubscribe()})}),function JV(t,e,n){try{const r=n();return g_(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,o,()=>{const c=s.injector.get(Y1);return c.runInitializers(),c.donePromise.then(()=>(function PL(t){pi(t,"Expected localeId to be defined"),"string"==typeof t&&(wL=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Qa,Xh)||Xh),this._moduleDoBootstrap(s),s))})})}bootstrapModule(r,i=[]){const o=e3({},i);return function PX(t,e,n){const r=new k1(n);return Promise.resolve(r)}(0,0,r).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(r){const i=r.injector.get(tp);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(o=>i.bootstrap(o));else{if(!r.instance.ngDoBootstrap)throw new te(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new te(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(nI,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(oe($i))},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function e3(t,e){return Array.isArray(e)?e.reduce(e3,t):{...t,...e}}let tp=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Pe(n3),this.zoneIsStable=Pe(y2),this.componentTypes=[],this.components=[],this.isStable=Pe(g0).hasPendingTasks.pipe(et(r=>r?Q(!1):this.zoneIsStable),ln(),qe()),this._injector=Pe(Mo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const o=r instanceof s2;if(!this._injector.get(Y1).done)throw!o&&function kc(t){const e=vt(t)||Ir(t)||br(t);return null!==e&&e.standalone}(r),new te(405,!1);let a;a=o?r:this._injector.get(WC).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const c=function MX(t){return t.isBoundToModule}(a)?void 0:this._injector.get(Lu),h=a.create($i.NULL,[],i||a.selector,c),f=h.location.nativeElement,_=h.injector.get(zV,null);return _?.registerApplication(f),h.onDestroy(()=>{this.detachView(h.hostView),y0(this.components,h),_?.unregisterApplication(f)}),this._loadComponent(h),h}tick(){if(this._runningTick)throw new te(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;y0(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(rI,[]);i.push(...this._bootstrapListeners),i.forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>y0(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new te(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function y0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const n3=new ge("",{providedIn:"root",factory:()=>Pe(qa).handleError.bind(void 0)});function TX(){const t=Pe(xt),e=Pe(qa);return n=>t.runOutsideAngular(()=>e.handleError(n))}let AX=(()=>{var t;class e{constructor(){this.zone=Pe(xt),this.applicationRef=Pe(tp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let v0=(()=>{class e{}return e.__NG_ELEMENT_ID__=SX,e})();function SX(t){return function xX(t,e,n){if(Lc(t)&&!n){const r=Ui(t.index,e);return new l_(r,r)}return 47&t.type?new l_(e[Vn],e):null}(Ar(),ce(),16==(16&t))}class c3{constructor(){}supports(e){return JC(e)}create(e){return new VX(e)}}const LX=(t,e)=>e;class VX{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||LX}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<u3(r,i,o)?n:r,a=u3(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const l=a-i,h=c-i;if(l!=h){for(let _=0;_<l;_++){const v=_<o.length?o[_]:o[_]=0,M=v+_;h<=M&&M<l&&(o[_]=v+1)}o[s.previousIndex]=h-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!JC(e))throw new te(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function CK(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new UX(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new l3),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new l3),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class UX{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class BX{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class l3{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new BX,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function u3(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class d3{constructor(){}supports(e){return e instanceof Map||_1(e)}create(){return new jX}}class jX{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||_1(e)))throw new te(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new $X(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class $X{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function h3(){return new P0([new c3])}let P0=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||h3()),deps:[[e,new d,new p]]}}find(r){const i=this.factories.find(o=>o.supports(r));if(null!=i)return i;throw new te(901,!1)}}return(t=e).\u0275prov=Te({token:t,providedIn:"root",factory:h3}),e})();function p3(){return new I_([new d3])}let I_=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(i){const o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||p3()),deps:[[e,new d,new p]]}}find(r){const i=this.factories.find(o=>o.supports(r));if(i)return i;throw new te(901,!1)}}return(t=e).\u0275prov=Te({token:t,providedIn:"root",factory:p3}),e})();const WX=ZV(null,"core",[]);let GX=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(oe(tp))},t.\u0275mod=Gn({type:t}),t.\u0275inj=ir({}),e})();function np(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let uI=null;function il(){return uI}class sJ{}const Io=new ge("DocumentToken");let dI=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:function(){return Pe(cJ)},providedIn:"platform"}),e})();const aJ=new ge("Location Initialized");let cJ=(()=>{var t;class e extends dI{constructor(){super(),this._doc=Pe(Io),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return il().getBaseHref(this._doc)}onPopState(r){const i=il().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=il().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function hI(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function P3(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Xa(t){return t&&"?"!==t[0]?"?"+t:t}let Uu=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:function(){return Pe(E3)},providedIn:"root"}),e})();const M3=new ge("appBaseHref");let E3=(()=>{var t;class e extends Uu{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Pe(Io).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return hI(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+Xa(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){const a=this.prepareExternalUrl(o+Xa(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){const a=this.prepareExternalUrl(o+Xa(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(oe(dI),oe(M3,8))},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),lJ=(()=>{var t;class e extends Uu{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(r){const i=hI(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Xa(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Xa(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(oe(dI),oe(M3,8))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),e})(),pI=(()=>{var t;class e{constructor(r){this._subject=new Sn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function hJ(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(P3(O3(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Xa(i))}normalize(r){return e.stripTrailingSlash(function dJ(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,O3(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Xa(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Xa(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}}return(t=e).normalizeQueryParams=Xa,t.joinWithSlash=hI,t.stripTrailingSlash=P3,t.\u0275fac=function(r){return new(r||t)(oe(Uu))},t.\u0275prov=Te({token:t,factory:function(){return function uJ(){return new pI(oe(Uu))}()},providedIn:"root"}),e})();function O3(t){return t.replace(/\/index.html$/,"")}function k3(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}const MI=/\s+/,N3=[];let Is=(()=>{var t;class e{constructor(r,i,o,s){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=o,this._renderer=s,this.initialClasses=N3,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(MI):N3}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(MI):r}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const i of r)this._updateState(i,!0);else if(null!=r)for(const i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){const o=this.stateMap.get(r);void 0!==o?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){(r=r.trim()).length>0&&r.split(MI).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return(t=e).\u0275fac=function(r){return new(r||t)(Z(P0),Z(I_),Z(ji),Z(Ga))},t.\u0275dir=je({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class QJ{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Gi=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new QJ(o.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const c=i.get(s);i.move(c,a),L3(c,o)}});for(let o=0,s=i.length;o<s;o++){const c=i.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{L3(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(Z(Es),Z(Ya),Z(P0))},t.\u0275dir=je({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function L3(t,e){t.context.$implicit=e.item}let ri=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new XJ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){V3("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){V3("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(Z(Es),Z(Ya))},t.\u0275dir=je({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class XJ{constructor(){this.$implicit=null,this.ngIf=null}}function V3(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${zt(e)}'.`)}class EI{constructor(e,n){this._viewContainerRef=e,this._templateRef=n,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let k0=(()=>{var t;class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(r){this._ngSwitch=r,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(r){this._defaultViews.push(r)}_matchCase(r){const i=r==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(r){if(this._defaultViews.length>0&&r!==this._defaultUsed){this._defaultUsed=r;for(const i of this._defaultViews)i.enforceState(r)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=je({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),e})(),U3=(()=>{var t;class e{constructor(r,i,o){this.ngSwitch=o,o._addCase(),this._view=new EI(r,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return(t=e).\u0275fac=function(r){return new(r||t)(Z(Es),Z(Ya),Z(k0,9))},t.\u0275dir=je({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),e})(),B3=(()=>{var t;class e{constructor(r,i,o){o._addDefault(new EI(r,i))}}return(t=e).\u0275fac=function(r){return new(r||t)(Z(Es),Z(Ya),Z(k0,9))},t.\u0275dir=je({type:t,selectors:[["","ngSwitchDefault",""]],standalone:!0}),e})(),wee=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Gn({type:t}),t.\u0275inj=ir({}),e})();function N0(t){return"server"===t}let Oee=(()=>{var t;class e{}return(t=e).\u0275prov=Te({token:t,providedIn:"root",factory:()=>new Iee(oe(Io),window)}),e})();class Iee{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function bee(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class z3{}class Yee extends sJ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class AI extends Yee{static makeCurrent(){!function oJ(t){uI||(uI=t)}(new AI)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Qee(){return D_=D_||document.querySelector("base"),D_?D_.getAttribute("href"):null}();return null==n?null:function Xee(t){V0=V0||document.createElement("a"),V0.setAttribute("href",t);const e=V0.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){D_=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return k3(document.cookie,e)}}let V0,D_=null,ete=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),e})();const DI=new ge("EventManagerPlugins");let Z3=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new te(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(oe(DI),oe(xt))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),e})();class Y3{constructor(e){this._doc=e}}const SI="ng-app-id";let Q3=(()=>{var t;class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=N0(s),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${SI}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(o=>{null!=o.textContent&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){const o=this.styleRef;if(o.has(r)){const s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(SI),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(SI,this.appId),a}}addStyleToHost(r,i){const o=this.getStyleElement(r,i);r.appendChild(o);const s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(oe(Io),oe(UC),oe(n2,8),oe(Eo))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),e})();const xI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},RI=/%COMP%/g,ite=new ge("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function J3(t,e){return e.map(n=>n.replace(RI,t))}let eU=(()=>{var t;class e{constructor(r,i,o,s,a,c,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=N0(c),this.defaultRenderer=new kI(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===vo.ShadowDom&&(i={...i,encapsulation:vo.Emulated});const o=this.getOrCreateRenderer(r,i);return o instanceof nU?o.applyToHost(r):o instanceof NI&&o.applyStyles(),o}getOrCreateRenderer(r,i){const o=this.rendererByCompId;let s=o.get(i.id);if(!s){const a=this.doc,c=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,_=this.platformIsServer;switch(i.encapsulation){case vo.Emulated:s=new nU(l,h,i,this.appId,f,a,c,_);break;case vo.ShadowDom:return new cte(l,h,r,i,a,c,this.nonce,_);default:s=new NI(l,h,i,f,a,c,_)}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(oe(Z3),oe(Q3),oe(UC),oe(ite),oe(Io),oe(Eo),oe(xt),oe(n2))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),e})();class kI{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(xI[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(tU(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(tU(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new te(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=xI[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=xI[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(el.DashCase|el.Important)?e.style.setProperty(n,r,i&el.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&el.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=il().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function tU(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class cte extends kI{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=J3(i.id,i.styles);for(const h of l){const f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class NI extends kI{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?J3(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class nU extends NI{constructor(e,n,r,i,o,s,a,c){const l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=function ote(t){return"_ngcontent-%COMP%".replace(RI,t)}(l),this.hostAttr=function ste(t){return"_nghost-%COMP%".replace(RI,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let lte=(()=>{var t;class e extends Y3{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}}return(t=e).\u0275fac=function(r){return new(r||t)(oe(Io))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),e})();const rU=["alt","control","meta","shift"],ute={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dte={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let hte=(()=>{var t;class e extends Y3{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,o){const s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>il().onAndCancel(r,s.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const s=e._normalizeKey(i.pop());let a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),rU.forEach(h=>{const f=i.indexOf(h);f>-1&&(i.splice(f,1),a+=h+".")}),a+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=ute[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),rU.forEach(a=>{a!==o&&(0,dte[a])(r)&&(s+=a+".")}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(oe(Io))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),e})();const oU=[{provide:Eo,useValue:"browser"},{provide:t2,useValue:function pte(){AI.makeCurrent()},multi:!0},{provide:Io,useFactory:function gte(){return function oG(t){IO=t}(document),document},deps:[]}],_te=ZV(WX,"browser",oU),mte=new ge(""),sU=[{provide:m0,useClass:class Jee{addToWindow(e){Yt.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new te(5103,!1);return o},Yt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Yt.getAllAngularRootElements=()=>e.getAllRootElements(),Yt.frameworkStabilizers||(Yt.frameworkStabilizers=[]),Yt.frameworkStabilizers.push(r=>{const i=Yt.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(c){s=s||c,o--,0==o&&r(s)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?il().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:zV,useClass:J1,deps:[xt,eI,m0]},{provide:J1,useClass:J1,deps:[xt,eI,m0]}],aU=[{provide:FO,useValue:"root"},{provide:qa,useFactory:function fte(){return new qa},deps:[]},{provide:DI,useClass:lte,multi:!0,deps:[Io,xt,Eo]},{provide:DI,useClass:hte,multi:!0,deps:[Io]},eU,Q3,Z3,{provide:c2,useExisting:eU},{provide:z3,useClass:ete,deps:[]},[]];let yte=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:UC,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(oe(mte,12))},t.\u0275mod=Gn({type:t}),t.\u0275inj=ir({providers:[...aU,...sU],imports:[wee,GX]}),e})(),cU=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(oe(Io))},t.\u0275prov=Te({token:t,factory:function(r){let i=null;return i=r?new r:function Cte(){return new cU(oe(Io))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;const{isArray:Ite}=Array,{getPrototypeOf:bte,prototype:Tte,keys:Ate}=Object;function hU(t){if(1===t.length){const e=t[0];if(Ite(e))return{args:e,keys:null};if(function Dte(t){return t&&"object"==typeof t&&bte(t)===Tte}(e)){const n=Ate(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:Ste}=Array;function pU(t){return me(e=>function xte(t,e){return Ste(e)?t(...e):t(e)}(t,e))}function fU(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function sl(...t){const e=zs(t),n=Hs(t),{args:r,keys:i}=hU(t);if(0===r.length)return R([],e);const o=new at(function Rte(t,e,n=Hn){return r=>{gU(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)gU(e,()=>{const l=R(t[c],e);let h=!1;l.subscribe(we(r,f=>{o[c]=f,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>fU(i,s):Hn));return n?o.pipe(pU(n)):o}function gU(t,e,n){t?Lr(n,t,e):e()}const U0=$e(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function LI(...t){return function kte(){return to(1)}()(R(t,zs(t)))}function _U(t){return new at(e=>{zn(t()).subscribe(e)})}function S_(t,e){const n=I(t)?t:()=>t,r=i=>i.error(n());return new at(e?i=>e.schedule(r,0,i):r)}function VI(){return X((t,e)=>{let n=null;t._refCount++;const r=we(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class mU extends at{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,le(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ot;const n=this.getSubject();e.add(this.source.subscribe(we(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ot.EMPTY)}return e}refCount(){return VI()(this)}}function ip(t){return t<=0?()=>nr:X((e,n)=>{let r=0;e.subscribe(we(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function B0(...t){const e=zs(t);return X((n,r)=>{(e?LI(t,n,e):LI(t,n)).subscribe(r)})}function rs(t,e){return X((n,r)=>{let i=0;n.subscribe(we(r,o=>t.call(e,o,i++)&&r.next(o)))})}function j0(t){return X((e,n)=>{let r=!1;e.subscribe(we(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function yU(t=Nte){return X((e,n)=>{let r=!1;e.subscribe(we(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Nte(){return new U0}function al(t,e){const n=arguments.length>=2;return r=>r.pipe(t?rs((i,o)=>t(i,o,r)):Hn,ip(1),n?j0(e):yU(()=>new U0))}function op(t,e){return I(e)?cn(t,e,1):cn(t,1)}function ii(t,e,n){const r=I(t)||e||n?{next:t,error:e,complete:n}:t;return r?X((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(we(o,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),o.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Hn}function is(t){return X((e,n)=>{let o,r=null,i=!1;r=e.subscribe(we(n,void 0,void 0,s=>{o=zn(t(s,is(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function sp(t,e){return X(function Fte(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(we(s,h=>{const f=l++;c=a?t(c,h,f):(a=!0,h),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(t,e,arguments.length>=2,!0))}function UI(t){return t<=0?()=>nr:X((e,n)=>{let r=[];e.subscribe(we(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function x_(t){return X((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const ot="primary",R_=Symbol("RouteTitle");class Bte{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function ap(t){return new Bte(t)}function jte(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ra(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!vU(t[i],e[i]))return!1;return!0}function vU(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function CU(t){return t.length>0?t[t.length-1]:null}function cl(t){return function Ote(t){return!!t&&(t instanceof at||I(t.lift)&&I(t.subscribe))}(t)?t:g_(t)?R(Promise.resolve(t)):Q(t)}const Hte={exact:function MU(t,e,n){if(!Bu(t.segments,e.segments)||!$0(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!MU(t.children[r],e.children[r],n))return!1;return!0},subset:EU},wU={exact:function zte(t,e){return ra(t,e)},subset:function Wte(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>vU(t[n],e[n]))},ignored:()=>!0};function PU(t,e,n){return Hte[n.paths](t.root,e.root,n.matrixParams)&&wU[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function EU(t,e,n){return OU(t,e,e.segments,n)}function OU(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Bu(i,n)||e.hasChildren()||!$0(i,n,r))}if(t.segments.length===n.length){if(!Bu(t.segments,n)||!$0(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!EU(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(Bu(t.segments,i)&&$0(t.segments,i,r)&&t.children[ot])&&OU(t.children[ot],e,o,r)}}function $0(t,e,n){return e.every((r,i)=>wU[n](t[i].parameters,r.parameters))}class cp{constructor(e=new Gt([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ap(this.queryParams)),this._queryParamMap}toString(){return Kte.serialize(this)}}class Gt{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return H0(this)}}class k_{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=ap(this.parameters)),this._parameterMap}toString(){return TU(this)}}function Bu(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let N_=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:function(){return new BI},providedIn:"root"}),e})();class BI{parse(e){const n=new one(e);return new cp(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${F_(e.root,!0)}`,r=function Qte(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${z0(n)}=${z0(i)}`).join("&"):`${z0(n)}=${z0(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function Zte(t){return encodeURI(t)}(e.fragment)}`:""}`}}const Kte=new BI;function H0(t){return t.segments.map(e=>TU(e)).join("/")}function F_(t,e){if(!t.hasChildren())return H0(t);if(e){const n=t.children[ot]?F_(t.children[ot],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ot&&r.push(`${i}:${F_(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function qte(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ot&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ot&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ot?[F_(t.children[ot],!1)]:[`${i}:${F_(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ot]?`${H0(t)}/${n[0]}`:`${H0(t)}/(${n.join("//")})`}}function IU(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function z0(t){return IU(t).replace(/%3B/gi,";")}function jI(t){return IU(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function W0(t){return decodeURIComponent(t)}function bU(t){return W0(t.replace(/\+/g,"%20"))}function TU(t){return`${jI(t.path)}${function Yte(t){return Object.keys(t).map(e=>`;${jI(e)}=${jI(t[e])}`).join("")}(t.parameters)}`}const Xte=/^[^\/()?;#]+/;function $I(t){const e=t.match(Xte);return e?e[0]:""}const Jte=/^[^\/()?;=#]+/,tne=/^[^=?&#]+/,rne=/^[^&#]+/;class one{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Gt([],{}):new Gt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ot]=new Gt(e,n)),r}parseSegment(){const e=$I(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new te(4009,!1);return this.capture(e),new k_(W0(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function ene(t){const e=t.match(Jte);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=$I(this.remaining);i&&(r=i,this.capture(r))}e[W0(n)]=W0(r)}parseQueryParam(e){const n=function nne(t){const e=t.match(tne);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function ine(t){const e=t.match(rne);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=bU(n),o=bU(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=$I(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new te(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ot);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[ot]:new Gt([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new te(4011,!1)}}function AU(t){return t.segments.length>0?new Gt([],{[ot]:t}):t}function DU(t){const e={};for(const r of Object.keys(t.children)){const o=DU(t.children[r]);if(r===ot&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function sne(t){if(1===t.numberOfChildren&&t.children[ot]){const e=t.children[ot];return new Gt(t.segments.concat(e.segments),e.children)}return t}(new Gt(t.segments,e))}function ju(t){return t instanceof cp}function SU(t){let e;const i=AU(function n(o){const s={};for(const c of o.children){const l=n(c);s[c.outlet]=l}const a=new Gt(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function xU(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return HI(i,i,i,n,r);const o=function cne(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new kU(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new kU(n,e,r)}(e);if(o.toRoot())return HI(i,i,new Gt([],{}),n,r);const s=function lne(t,e,n){if(t.isAbsolute)return new q0(e,!0,0);if(!n)return new q0(e,!1,NaN);if(null===n.parent)return new q0(n,!0,0);const r=G0(t.commands[0])?0:1;return function une(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new te(4005,!1);i=r.segments.length}return new q0(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?V_(s.segmentGroup,s.index,o.commands):NU(s.segmentGroup,s.index,o.commands);return HI(i,s.segmentGroup,a,n,r)}function G0(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function L_(t){return"object"==typeof t&&null!=t&&t.outlets}function HI(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`}),s=t===e?n:RU(t,e,n);const a=AU(DU(s));return new cp(a,o,i)}function RU(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:RU(o,e,n)}),new Gt(t.segments,r)}class kU{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&G0(r[0]))throw new te(4003,!1);const i=r.find(L_);if(i&&i!==CU(r))throw new te(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class q0{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function NU(t,e,n){if(t||(t=new Gt([],{})),0===t.segments.length&&t.hasChildren())return V_(t,e,n);const r=function hne(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(L_(a))break;const c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!LU(c,l,s))return o;r+=2}else{if(!LU(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new Gt(t.segments.slice(0,r.pathIndex),{});return o.children[ot]=new Gt(t.segments.slice(r.pathIndex),t.children),V_(o,0,i)}return r.match&&0===i.length?new Gt(t.segments,{}):r.match&&!t.hasChildren()?zI(t,e,n):r.match?V_(t,0,i):zI(t,e,n)}function V_(t,e,n){if(0===n.length)return new Gt(t.segments,{});{const r=function dne(t){return L_(t[0])?t[0].outlets:{[ot]:t}}(n),i={};if(Object.keys(r).some(o=>o!==ot)&&t.children[ot]&&1===t.numberOfChildren&&0===t.children[ot].segments.length){const o=V_(t.children[ot],e,n);return new Gt(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=NU(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new Gt(t.segments,i)}}function zI(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(L_(o)){const c=pne(o.outlets);return new Gt(r,c)}if(0===i&&G0(n[0])){r.push(new k_(t.segments[e].path,FU(n[0]))),i++;continue}const s=L_(o)?o.outlets[ot]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&G0(a)?(r.push(new k_(s,FU(a))),i+=2):(r.push(new k_(s,{})),i++)}return new Gt(r,{})}function pne(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=zI(new Gt([],{}),0,r))}),e}function FU(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function LU(t,e,n){return t==n.path&&ra(e,n.parameters)}const U_="imperative";class ia{constructor(e,n){this.id=e,this.url=n}}class K0 extends ia{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ll extends ia{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class B_ extends ia{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class lp extends ia{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Z0 extends ia{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class VU extends ia{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fne extends ia{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gne extends ia{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _ne extends ia{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mne extends ia{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yne{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vne{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Cne{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wne{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pne{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mne{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class UU{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class WI{}class GI{constructor(e){this.url=e}}class Ene{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new j_,this.attachRef=null}}let j_=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Ene,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class BU{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=qI(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=qI(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=KI(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return KI(e,this._root).map(n=>n.value)}}function qI(t,e){if(t===e.value)return e;for(const n of e.children){const r=qI(t,n);if(r)return r}return null}function KI(t,e){if(t===e.value)return[e];for(const n of e.children){const r=KI(t,n);if(r.length)return r.unshift(e),r}return[]}class tc{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function up(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class jU extends BU{constructor(e,n){super(e),this.snapshot=n,ZI(this,e)}toString(){return this.snapshot.toString()}}function $U(t,e){const n=function One(t,e){const s=new Y0([],{},{},"",{},ot,e,null,{});return new zU("",new tc(s,[]))}(0,e),r=new B([new k_("",{})]),i=new B({}),o=new B({}),s=new B({}),a=new B(""),c=new Ts(r,i,s,a,o,ot,e,n.root);return c.snapshot=n.root,new jU(new tc(c,[]),n)}class Ts{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(me(l=>l[R_]))??Q(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(me(e=>ap(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(me(e=>ap(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function HU(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function Ine(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Y0{get title(){return this.data?.[R_]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ap(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ap(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zU extends BU{constructor(e,n){super(n),this.url=e,ZI(this,n)}toString(){return WU(this._root)}}function ZI(t,e){e.value._routerState=t,e.children.forEach(n=>ZI(t,n))}function WU(t){const e=t.children.length>0?` { ${t.children.map(WU).join(", ")} } `:"";return`${t.value}${e}`}function YI(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ra(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ra(e.params,n.params)||t.paramsSubject.next(n.params),function $te(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ra(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),ra(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function QI(t,e){const n=ra(t.params,e.params)&&function Gte(t,e){return Bu(t,e)&&t.every((n,r)=>ra(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||QI(t.parent,e.parent))}let ul=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ot,this.activateEvents=new Sn,this.deactivateEvents=new Sn,this.attachEvents=new Sn,this.detachEvents=new Sn,this.parentContexts=Pe(j_),this.location=Pe(Es),this.changeDetector=Pe(v0),this.environmentInjector=Pe(Mo),this.inputBinder=Pe(Q0,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new te(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new te(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new te(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new te(4013,!1);this._activatedRoute=r;const o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new bne(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=je({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[mi]}),e})();class bne{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ts?this.route:e===j_?this.childContexts:this.parent.get(e,n)}}const Q0=new ge("");let GU=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:i}=r,o=sl([i.queryParams,i.params,i.data]).pipe(et(([s,a,c],l)=>(c={...s,...a,...c},0===l?Q(c):Promise.resolve(c)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(r);const a=function iJ(t){const e=vt(t);if(!e)return null;const n=new u_(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(a)for(const{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,s[c]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,o)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),e})();function $_(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Ane(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return $_(t,r,i);return $_(t,r)})}(t,e,n);return new tc(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>$_(t,a)),s}}const r=function Dne(t){return new Ts(new B(t.url),new B(t.params),new B(t.queryParams),new B(t.fragment),new B(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>$_(t,o));return new tc(r,i)}}const XI="ngNavigationCancelingError";function qU(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=ju(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=KU(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function KU(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[XI]=!0,r.cancellationCode=e,n&&(r.url=n),r}function ZU(t){return t&&t[XI]}let YU=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tt({type:t,selectors:[["ng-component"]],standalone:!0,features:[ZL],decls:1,vars:0,template:function(r,i){1&r&&A(0,"router-outlet")},dependencies:[ul],encapsulation:2}),e})();function JI(t){const e=t.children&&t.children.map(JI),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ot&&(n.component=YU),n}function As(t){return t.outlet||ot}function H_(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Vne{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),YI(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=up(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=up(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=up(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=up(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Mne(o.value.snapshot))}),e.children.length&&this.forwardEvent(new wne(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(YI(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),YI(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=H_(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class QU{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class X0{constructor(e,n){this.component=e,this.route=n}}function Une(t,e,n){const r=t._root;return z_(r,e?e._root:null,n,[r.value])}function dp(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function cE(t){return null!==ru(t)}(t)?e.get(t):t:r}function z_(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=up(e);return t.children.forEach(s=>{(function jne(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function $ne(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Bu(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Bu(t.url,e.url)||!ra(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!QI(t,e)||!ra(t.queryParams,e.queryParams);default:return!QI(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new QU(r)):(o.data=s.data,o._resolvedData=s._resolvedData),z_(t,e,o.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new X0(a.outlet.component,s))}else s&&W_(e,a,i),i.canActivateChecks.push(new QU(r)),z_(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>W_(a,n.getContext(s),i)),i}function W_(t,e,n){const r=up(t),i=t.value;Object.entries(r).forEach(([o,s])=>{W_(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new X0(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function G_(t){return"function"==typeof t}function XU(t){return t instanceof U0||"EmptyError"===t?.name}const J0=Symbol("INITIAL_VALUE");function hp(){return et(t=>sl(t.map(e=>e.pipe(ip(1),B0(J0)))).pipe(me(e=>{for(const n of e)if(!0!==n){if(n===J0)return J0;if(!1===n||n instanceof cp)return n}return!0}),rs(e=>e!==J0),ip(1)))}function JU(t){return function Fo(...t){return Lo(t)}(ii(e=>{if(ju(e))throw qU(0,e)}),me(e=>!0===e))}class ew{constructor(e){this.segmentGroup=e||null}}class e5{constructor(e){this.urlTree=e}}function pp(t){return S_(new ew(t))}function t5(t){return S_(new e5(t))}class cre{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new te(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Q(r);if(i.numberOfChildren>1||!i.children[ot])return S_(new te(4e3,!1));i=i.children[ot]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new cp(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Gt(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new te(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const eb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function lre(t,e,n,r,i){const o=tb(t,e,n);return o.matched?(r=function xne(t,e){return t.providers&&!t._injector&&(t._injector=N1(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function ore(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?Q(i.map(s=>{const a=dp(s,t);return cl(function Kne(t){return t&&G_(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(hp(),JU()):Q(!0)}(r,e,n).pipe(me(s=>!0===s?o:{...eb}))):Q(o)}function tb(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...eb}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||jte)(n,t,e);if(!i)return{...eb};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function n5(t,e,n,r){return n.length>0&&function hre(t,e,n){return n.some(r=>tw(t,e,r)&&As(r)!==ot)}(t,n,r)?{segmentGroup:new Gt(e,dre(r,new Gt(n,t.children))),slicedSegments:[]}:0===n.length&&function pre(t,e,n){return n.some(r=>tw(t,e,r))}(t,n,r)?{segmentGroup:new Gt(t.segments,ure(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Gt(t.segments,t.children),slicedSegments:n}}function ure(t,e,n,r,i){const o={};for(const s of r)if(tw(t,n,s)&&!i[As(s)]){const a=new Gt([],{});o[As(s)]=a}return{...i,...o}}function dre(t,e){const n={};n[ot]=e;for(const r of t)if(""===r.path&&As(r)!==ot){const i=new Gt([],{});n[As(r)]=i}return n}function tw(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class mre{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new cre(this.urlSerializer,this.urlTree)}noMatchError(e){return new te(4002,!1)}recognize(){const e=n5(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ot).pipe(is(n=>{if(n instanceof e5)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof ew?this.noMatchError(n):n}),me(n=>{const r=new Y0([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ot,this.rootComponentType,null,{}),i=new tc(r,n),o=new zU("",i),s=function ane(t,e,n=null,r=null){return xU(SU(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ot).pipe(is(r=>{throw r instanceof ew?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=HU(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return R(i).pipe(op(o=>{const s=r.children[o],a=function Fne(t,e){const n=t.filter(r=>As(r)===e);return n.push(...t.filter(r=>As(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),sp((o,s)=>(o.push(...s),o)),j0(null),function Lte(t,e){const n=arguments.length>=2;return r=>r.pipe(t?rs((i,o)=>t(i,o,r)):Hn,UI(1),n?j0(e):yU(()=>new U0))}(),cn(o=>{if(null===o)return pp(r);const s=r5(o);return function yre(t){t.sort((e,n)=>e.value.outlet===ot?-1:n.value.outlet===ot?1:e.value.outlet.localeCompare(n.value.outlet))}(s),Q(s)}))}processSegment(e,n,r,i,o,s){return R(n).pipe(op(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(is(c=>{if(c instanceof ew)return Q(null);throw c}))),al(a=>!!a),is(a=>{if(XU(a))return function gre(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?Q([]):pp(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function fre(t,e,n,r){return!!(As(t)===r||r!==ot&&tw(e,n,t))&&("**"===t.path||tb(e,t,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):pp(i):pp(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?t5(o):this.applyRedirects.lineralizeSegments(r,o).pipe(cn(s=>{const a=new Gt(s,{});return this.processSegment(e,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:h}=tb(n,i,o);if(!a)return pp(n);const f=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,h);return i.redirectTo.startsWith("/")?t5(f):this.applyRedirects.lineralizeSegments(i,f).pipe(cn(_=>this.processSegment(e,r,n,_.concat(l),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a;if("**"===r.path){const c=i.length>0?CU(i).parameters:{};a=Q({snapshot:new Y0(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,i5(r),As(r),r.component??r._loadedComponent??null,r,o5(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=lre(n,r,i,e).pipe(me(({matched:c,consumedSegments:l,remainingSegments:h,parameters:f})=>c?{snapshot:new Y0(l,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,i5(r),As(r),r.component??r._loadedComponent??null,r,o5(r)),consumedSegments:l,remainingSegments:h}:null));return a.pipe(et(c=>null===c?pp(n):this.getChildConfig(e=r._injector??e,r,i).pipe(et(({routes:l})=>{const h=r._loadedInjector??e,{snapshot:f,consumedSegments:_,remainingSegments:v}=c,{segmentGroup:M,slicedSegments:b}=n5(n,_,v,l);if(0===b.length&&M.hasChildren())return this.processChildren(h,l,M).pipe(me(V=>null===V?null:[new tc(f,V)]));if(0===l.length&&0===b.length)return Q([new tc(f,[])]);const T=As(r)===o;return this.processSegment(h,l,M,b,T?ot:o,!0).pipe(me(V=>[new tc(f,V)]))}))))}getChildConfig(e,n,r){return n.children?Q({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?Q({routes:n._loadedRoutes,injector:n._loadedInjector}):function ire(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?Q(!0):Q(i.map(s=>{const a=dp(s,t);return cl(function zne(t){return t&&G_(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(hp(),JU())}(e,n,r).pipe(cn(i=>i?this.configLoader.loadChildren(e,n).pipe(ii(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function are(t){return S_(KU(!1,3))}())):Q({routes:[],injector:e})}}function vre(t){const e=t.value.routeConfig;return e&&""===e.path}function r5(t){const e=[],n=new Set;for(const r of t){if(!vre(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=r5(r.children);e.push(new tc(r.value,i))}return e.filter(r=>!n.has(r))}function i5(t){return t.data||{}}function o5(t){return t.resolve||{}}function s5(t){return"string"==typeof t.title||null===t.title}function nb(t){return et(e=>{const n=t(e);return n?R(n).pipe(me(()=>e)):Q(e)})}const fp=new ge("ROUTES");let rb=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Pe(BV)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Q(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=cl(r.loadComponent()).pipe(me(a5),ii(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),x_(()=>{this.componentLoaders.delete(r)})),o=new mU(i,()=>new ee).pipe(VI());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Q({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function Ire(t,e,n,r){return cl(t.loadChildren()).pipe(me(a5),cn(i=>i instanceof qL||Array.isArray(i)?Q(i):R(e.compileModuleAsync(i))),me(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(fp,[],{optional:!0,self:!0}).flat()),{routes:s.map(JI),injector:o}}))}(i,this.compiler,r,this.onLoadEndListener).pipe(x_(()=>{this.childrenLoaders.delete(i)})),a=new mU(s,()=>new ee).pipe(VI());return this.childrenLoaders.set(i,a),a}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function a5(t){return function bre(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let nw=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ee,this.transitionAbortSubject=new ee,this.configLoader=Pe(rb),this.environmentInjector=Pe(Mo),this.urlSerializer=Pe(N_),this.rootContexts=Pe(j_),this.inputBindingEnabled=null!==Pe(Q0,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Q(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new vne(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new yne(o))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,o){return this.transitions=new B({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:r.urlHandlingStrategy.extract(i),urlAfterRedirects:r.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:U_,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(rs(s=>0!==s.id),me(s=>({...s,extractedUrl:r.urlHandlingStrategy.extract(s.rawUrl)})),et(s=>{this.currentTransition=s;let a=!1,c=!1;return Q(s).pipe(ii(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),et(l=>{const h=l.currentBrowserUrl.toString(),f=!r.navigated||l.extractedUrl.toString()!==h||h!==l.currentUrlTree.toString();if(!f&&"reload"!==(l.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const v="";return this.events.next(new lp(l.id,this.urlSerializer.serialize(l.rawUrl),v,0)),l.resolve(null),nr}if(r.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Q(l).pipe(et(v=>{const M=this.transitions?.getValue();return this.events.next(new K0(v.id,this.urlSerializer.serialize(v.extractedUrl),v.source,v.restoredState)),M!==this.transitions?.getValue()?nr:Promise.resolve(v)}),function Cre(t,e,n,r,i,o){return cn(s=>function _re(t,e,n,r,i,o,s="emptyOnly"){return new mre(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(me(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),ii(v=>{s.targetSnapshot=v.targetSnapshot,s.urlAfterRedirects=v.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:v.urlAfterRedirects};const M=new VU(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(M)}));if(f&&r.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:v,extractedUrl:M,source:b,restoredState:T,extras:V}=l,N=new K0(v,this.urlSerializer.serialize(M),b,T);this.events.next(N);const W=$U(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:W,urlAfterRedirects:M,extras:{...V,skipLocationChange:!1,replaceUrl:!1}},Q(s)}{const v="";return this.events.next(new lp(l.id,this.urlSerializer.serialize(l.extractedUrl),v,1)),l.resolve(null),nr}}),ii(l=>{const h=new fne(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),me(l=>(this.currentTransition=s={...l,guards:Une(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function Yne(t,e){return cn(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Q({...n,guardsResult:!0}):function Qne(t,e,n,r){return R(t).pipe(cn(i=>function rre(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Q(o.map(a=>{const c=H_(e)??i,l=dp(a,c);return cl(function qne(t){return t&&G_(t.canDeactivate)}(l)?l.canDeactivate(t,e,n,r):c.runInContext(()=>l(t,e,n,r))).pipe(al())})).pipe(hp()):Q(!0)}(i.component,i.route,n,e,r)),al(i=>!0!==i,!0))}(s,r,i,t).pipe(cn(a=>a&&function Hne(t){return"boolean"==typeof t}(a)?function Xne(t,e,n,r){return R(e).pipe(op(i=>LI(function ere(t,e){return null!==t&&e&&e(new Cne(t)),Q(!0)}(i.route.parent,r),function Jne(t,e){return null!==t&&e&&e(new Pne(t)),Q(!0)}(i.route,r),function nre(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function Bne(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>_U(()=>Q(s.guards.map(c=>{const l=H_(s.node)??n,h=dp(c,l);return cl(function Gne(t){return t&&G_(t.canActivateChild)}(h)?h.canActivateChild(r,t):l.runInContext(()=>h(r,t))).pipe(al())})).pipe(hp())));return Q(o).pipe(hp())}(t,i.path,n),function tre(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Q(!0);const i=r.map(o=>_U(()=>{const s=H_(e)??n,a=dp(o,s);return cl(function Wne(t){return t&&G_(t.canActivate)}(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t))).pipe(al())}));return Q(i).pipe(hp())}(t,i.route,n))),al(i=>!0!==i,!0))}(r,o,t,e):Q(a)),me(a=>({...n,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),ii(l=>{if(s.guardsResult=l.guardsResult,ju(l.guardsResult))throw qU(0,l.guardsResult);const h=new gne(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),rs(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),nb(l=>{if(l.guards.canActivateChecks.length)return Q(l).pipe(ii(h=>{const f=new _ne(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}),et(h=>{let f=!1;return Q(h).pipe(function wre(t,e){return cn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Q(n);let o=0;return R(i).pipe(op(s=>function Pre(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!s5(i)&&(o[R_]=i.title),function Mre(t,e,n,r){const i=function Ere(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return Q({});const o={};return R(i).pipe(cn(s=>function Ore(t,e,n,r){const i=H_(e)??r,o=dp(t,i);return cl(o.resolve?o.resolve(e,n):i.runInContext(()=>o(e,n)))}(t[s],e,n,r).pipe(al(),ii(a=>{o[s]=a}))),UI(1),function Vte(t){return me(()=>t)}(o),is(s=>XU(s)?nr:S_(s)))}(o,t,e,r).pipe(me(s=>(t._resolvedData=s,t.data=HU(t,n).resolve,i&&s5(i)&&(t.data[R_]=i.title),null)))}(s.route,r,t,e)),ii(()=>o++),UI(1),cn(s=>o===i.length?Q(n):nr))})}(r.paramsInheritanceStrategy,this.environmentInjector),ii({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(h,"",2)}}))}),ii(h=>{const f=new mne(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}))}),nb(l=>{const h=f=>{const _=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(f.routeConfig).pipe(ii(v=>{f.component=v}),me(()=>{})));for(const v of f.children)_.push(...h(v));return _};return sl(h(l.targetSnapshot.root)).pipe(j0(),ip(1))}),nb(()=>this.afterPreactivation()),me(l=>{const h=function Tne(t,e,n){const r=$_(t,e._root,n?n._root:void 0);return new jU(r,e)}(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:h},s}),ii(()=>{this.events.next(new WI)}),((t,e,n,r)=>me(i=>(new Vne(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),ip(1),ii({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ll(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),r.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),function Ute(t){return X((e,n)=>{zn(t).subscribe(we(n,()=>n.complete(),De)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(ii(l=>{throw l}))),x_(()=>{a||c||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),is(l=>{if(c=!0,ZU(l))this.events.next(new B_(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function Sne(t){return ZU(t)&&ju(t.url)}(l)?this.events.next(new GI(l.url)):s.resolve(!1);else{this.events.next(new Z0(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(h){s.reject(h)}}return nr}))}))}cancelNavigationTransition(r,i,o){const s=new B_(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function c5(t){return t!==U_}let l5=(()=>{var t;class e{buildTitle(r){let i,o=r.root;for(;void 0!==o;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===ot);return i}getResolvedTitleForRoute(r){return r.data[R_]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:function(){return Pe(Tre)},providedIn:"root"}),e})(),Tre=(()=>{var t;class e extends l5{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(oe(cU))},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Are=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:function(){return Pe(Sre)},providedIn:"root"}),e})();class Dre{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Sre=(()=>{var t;class e extends Dre{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Dr(t)))(i||t)}}(),t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const rw=new ge("",{providedIn:"root",factory:()=>({})});let xre=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:function(){return Pe(Rre)},providedIn:"root"}),e})(),Rre=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var q_=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(q_||{});function u5(t,e){t.events.pipe(rs(n=>n instanceof ll||n instanceof B_||n instanceof Z0||n instanceof lp),me(n=>n instanceof ll||n instanceof lp?q_.COMPLETE:n instanceof B_&&(0===n.code||1===n.code)?q_.REDIRECTING:q_.FAILED),rs(n=>n!==q_.REDIRECTING),ip(1)).subscribe(()=>{e()})}function kre(t){throw t}function Nre(t,e,n){return e.parse("/")}const Fre={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Lre={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let mr=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Pe(UV),this.isNgZoneEnabled=!1,this._events=new ee,this.options=Pe(rw,{optional:!0})||{},this.pendingTasks=Pe(g0),this.errorHandler=this.options.errorHandler||kre,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Nre,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Pe(xre),this.routeReuseStrategy=Pe(Are),this.titleStrategy=Pe(l5),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Pe(fp,{optional:!0})?.flat()??[],this.navigationTransitions=Pe(nw),this.urlSerializer=Pe(N_),this.location=Pe(pI),this.componentInputBindingEnabled=!!Pe(Q0,{optional:!0}),this.eventsSubscription=new Ot,this.isNgZoneEnabled=Pe(xt)instanceof xt&&xt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new cp,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=$U(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:o}=this.navigationTransitions;if(null===o)return void(d5(i)&&this._events.next(i));if(i instanceof K0)c5(o.source)&&(this.browserUrlTree=o.extractedUrl);else if(i instanceof lp)this.rawUrlTree=o.rawUrl;else if(i instanceof VU){if("eager"===this.urlUpdateStrategy){if(!o.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl);this.setBrowserUrl(s,o)}this.browserUrlTree=o.urlAfterRedirects}}else if(i instanceof WI)this.currentUrlTree=o.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o),this.browserUrlTree=o.urlAfterRedirects);else if(i instanceof B_)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(o);else if(i instanceof GI){const s=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),a={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||c5(o.source)};this.scheduleNavigation(s,U_,null,a,{resolve:o.resolve,reject:o.reject,promise:o.promise})}i instanceof Z0&&this.restoreHistory(o,!0),i instanceof ll&&(this.navigated=!0),d5(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),U_,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,o){const s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){const l={...o};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(JI),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a;let _,f=null;switch(c){case"merge":f={...this.currentUrlTree.queryParams,...s};break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}null!==f&&(f=this.removeEmptyProps(f));try{_=SU(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),_=this.currentUrlTree.root}return xU(_,r,f,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){const o=ju(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,U_,null,i)}navigate(r,i={skipLocationChange:!1}){return function Vre(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new te(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(o){i=this.malformedUriErrorHandler(o,this.urlSerializer,r)}return i}isActive(r,i){let o;if(o=!0===i?{...Fre}:!1===i?{...Lre}:i,ju(r))return PU(this.currentUrlTree,r,o);const s=this.parseUrl(r);return PU(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.keys(r).reduce((i,o)=>{const s=r[o];return null!=s&&(i[o]=s),i},{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,h;a?(c=a.resolve,l=a.reject,h=a.promise):h=new Promise((_,v)=>{c=_,l=v});const f=this.pendingTasks.add();return u5(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:s,resolve:c,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(_=>Promise.reject(_))}setBrowserUrl(r,i){const o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(o,"",a)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(o,"",s)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function d5(t){return!(t instanceof WI||t instanceof GI)}let kr=(()=>{var t;class e{constructor(r,i,o,s,a,c){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new ee,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof ll&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){null!=r?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){return!!(null===this.urlTree||this.isAnchorElement&&(0!==r||i||o||s||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const r=null===this.href?null:function qN(t,e,n){return function bG(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?GN:Sr}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){const o=this.renderer,s=this.el.nativeElement;null!==i?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(t=e).\u0275fac=function(r){return new(r||t)(Z(mr),Z(Ts),function Oh(t){return function XE(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(qf(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}(Ar(),t)}("tabindex"),Z(Ga),Z(ji),Z(Uu))},t.\u0275dir=je({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&H("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&Xo("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",np],skipLocationChange:["skipLocationChange","skipLocationChange",np],replaceUrl:["replaceUrl","replaceUrl",np],routerLink:"routerLink"},standalone:!0,features:[sF,mi]}),e})();class h5{}let jre=(()=>{var t;class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(rs(r=>r instanceof ll),op(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){const o=[];for(const s of i){s.providers&&!s._injector&&(s._injector=N1(s.providers,r,`Route: ${s.path}`));const a=s._injector??r,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(c,s.children??s._loadedRoutes))}return R(o).pipe(to())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;o=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(r,i):Q(null);const s=o.pipe(cn(a=>null===a?Q(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));return i.loadComponent&&!i._loadedComponent?R([s,this.loader.loadComponent(i)]).pipe(to()):s})}}return(t=e).\u0275fac=function(r){return new(r||t)(oe(mr),oe(BV),oe(Mo),oe(h5),oe(rb))},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const ib=new ge("");let p5=(()=>{var t;class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof K0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof ll?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof lp&&0===r.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof UU&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new UU(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){!function R2(){throw new Error("invalid")}()},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),e})();function nc(t,e){return{\u0275kind:t,\u0275providers:e}}function g5(){const t=Pe($i);return e=>{const n=t.get(tp);if(e!==n.components[0])return;const r=t.get(mr),i=t.get(_5);1===t.get(ob)&&r.initialNavigation(),t.get(m5,null,_t.Optional)?.setUpPreloading(),t.get(ib,null,_t.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const _5=new ge("",{factory:()=>new ee}),ob=new ge("",{providedIn:"root",factory:()=>1}),m5=new ge("");function Wre(t){return nc(0,[{provide:m5,useExisting:jre},{provide:h5,useExisting:t}])}const y5=new ge("ROUTER_FORROOT_GUARD"),qre=[pI,{provide:N_,useClass:BI},mr,j_,{provide:Ts,useFactory:function f5(t){return t.routerState.root},deps:[mr]},rb,[]];function Kre(){return new qV("Router",mr)}let v5=(()=>{var t;class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[qre,[],{provide:fp,multi:!0,useValue:r},{provide:y5,useFactory:Xre,deps:[[mr,new p,new d]]},{provide:rw,useValue:i||{}},i?.useHash?{provide:Uu,useClass:lJ}:{provide:Uu,useClass:E3},{provide:ib,useFactory:()=>{const t=Pe(Oee),e=Pe(xt),n=Pe(rw),r=Pe(nw),i=Pe(N_);return n.scrollOffset&&t.setOffset(n.scrollOffset),new p5(i,r,t,e,n)}},i?.preloadingStrategy?Wre(i.preloadingStrategy).\u0275providers:[],{provide:qV,multi:!0,useFactory:Kre},i?.initialNavigation?Jre(i):[],i?.bindToComponentInputs?nc(8,[GU,{provide:Q0,useExisting:GU}]).\u0275providers:[],[{provide:C5,useFactory:g5},{provide:rI,multi:!0,useExisting:C5}]]}}static forChild(r){return{ngModule:e,providers:[{provide:fp,multi:!0,useValue:r}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(oe(y5,8))},t.\u0275mod=Gn({type:t}),t.\u0275inj=ir({}),e})();function Xre(t){return"guarded"}function Jre(t){return["disabled"===t.initialNavigation?nc(3,[{provide:Z1,multi:!0,useFactory:()=>{const e=Pe(mr);return()=>{e.setUpLocationChangeListener()}}},{provide:ob,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?nc(2,[{provide:ob,useValue:0},{provide:Z1,multi:!0,deps:[$i],useFactory:e=>{const n=e.get(aJ,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(mr),o=e.get(_5);u5(i,()=>{r(!0)}),e.get(nw).afterPreactivation=()=>(r(!0),o.closed?Q(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const C5=new ge("");var x=Ye(861),Be=Ye(534);(0,Be.registerVersion)("firebase","10.5.2","app");var To=Ye(537),E=Ye(58),Mi=Ye(879);const w5="@firebase/database";let sb="";function ab(t){sb=t}class rie{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,E.Wl)(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:(0,E.cI)(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class iie{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return(0,E.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const M5=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new rie(e)}}catch{}return new iie},$u=M5("localStorage"),cb=M5("sessionStorage"),gp=new Mi.Yd("@firebase/database"),E5=function(){let t=1;return function(){return t++}}(),O5=function(t){const e=(0,E.dS)(t),n=new E.gQ;n.update(e);const r=n.digest();return E.US.encodeByteArray(r)},K_=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=K_.apply(null,r):e+="object"==typeof r?(0,E.Wl)(r):r,e+=" "}return e};let Hu=null,I5=!0;const b5=function(t,e){(0,E.hu)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(gp.logLevel=Mi.in.VERBOSE,Hu=gp.log.bind(gp),e&&cb.set("logging_enabled",!0)):"function"==typeof t?Hu=t:(Hu=null,cb.remove("logging_enabled"))},jr=function(...t){if(!0===I5&&(I5=!1,null===Hu&&!0===cb.get("logging_enabled")&&b5(!0)),Hu){const e=K_.apply(null,t);Hu(e)}},Z_=function(t){return function(...e){jr(t,...e)}},lb=function(...t){const e="FIREBASE INTERNAL ERROR: "+K_(...t);gp.error(e)},oa=function(...t){const e=`FIREBASE FATAL ERROR: ${K_(...t)}`;throw gp.error(e),new Error(e)},Ei=function(...t){const e="FIREBASE WARNING: "+K_(...t);gp.warn(e)},iw=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},dl="[MIN_NAME]",rc="[MAX_NAME]",zu=function(t,e){if(t===e)return 0;if(t===dl||e===rc)return-1;if(e===dl||t===rc)return 1;{const n=D5(t),r=D5(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},aie=function(t,e){return t===e?0:t<e?-1:1},Y_=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+(0,E.Wl)(e))},ub=function(t){if("object"!=typeof t||null===t)return(0,E.Wl)(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=(0,E.Wl)(e[r]),n+=":",n+=ub(t[e[r]]);return n+="}",n},T5=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function $r(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const A5=function(t){(0,E.hu)(!iw(t),"Invalid JSON number");const r=1023;let i,o,s,a,c;0===t?(o=0,s=0,i=1/t==-1/0?1:0):(i=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(t/Math.pow(2,-1074))));const l=[];for(c=52;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=11;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();const h=l.join("");let f="";for(c=0;c<64;c+=8){let _=parseInt(h.substr(c,8),2).toString(16);1===_.length&&(_="0"+_),f+=_}return f.toLowerCase()},die=new RegExp("^-?(0*)\\d{1,10}$"),D5=function(t){if(die.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},_p=function(t){try{t()}catch(e){setTimeout(()=>{throw Ei("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Q_=function(t,e){const n=setTimeout(t,e);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class gie{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ei(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class _ie{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(jr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ei(e)}}let X_=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const N5=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,V5="websocket",U5="long_polling";class hb{constructor(e,n,r,i,o=!1,s="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=$u.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&$u.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function B5(t,e,n){let r;if((0,E.hu)("string"==typeof e,"typeof type must == string"),(0,E.hu)("object"==typeof n,"typeof params must == object"),e===V5)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==U5)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function mie(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return $r(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}class yie{constructor(){this.counters_={}}incrementCounter(e,n=1){(0,E.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return(0,E.p$)(this.counters_)}}const pb={},fb={};function gb(t){const e=t.toString();return pb[e]||(pb[e]=new yie),pb[e]}class Cie{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&_p(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class hl{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Z_(e),this.stats_=gb(n),this.urlFn=c=>(this.appCheckToken&&(c.ac=this.appCheckToken),B5(n,U5,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Cie(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if((0,E.Yr)()||"complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new _b((...o)=>{const[s,a,c,l,h]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=c;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&N5.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){hl.forceAllow_=!0}static forceDisallow(){hl.forceDisallow_=!0}static isAvailable(){return!((0,E.Yr)()||!hl.forceAllow_&&(hl.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=(0,E.Wl)(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=(0,E.h$)(n),i=T5(r,1840);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if((0,E.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=(0,E.Wl)(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class _b{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,E.Yr)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=E5(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=_b.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){jr("frame writing exception"),a.stack&&jr(a.stack),jr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||jr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const s=this.pendingSegs.shift();r=r+"&seg"+i+"="+s.seg+"&ts"+i+"="+s.ts+"&d"+i+"="+s.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,n){(0,E.Yr)()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{jr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let sw=null;typeof MozWebSocket<"u"?sw=MozWebSocket:typeof WebSocket<"u"&&(sw=WebSocket);let mp=(()=>{class t{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Z_(this.connId),this.stats_=gb(r),this.connURL=t.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){const a={v:"5"};return!(0,E.Yr)()&&typeof location<"u"&&location.hostname&&N5.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),o&&(a.ac=o),s&&(a.p=s),B5(n,V5,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$u.set("previous_websocket_failure",!0);try{let i;if((0,E.Yr)()){i={headers:{"User-Agent":`Firebase/5/${sb}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const s=process.env,a=0===this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new sw(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==sw&&!t.forceDisallow_}static previouslyFailed(){return $u.isInMemoryStorage||!0===$u.get("previous_websocket_failure")}markConnectionHealthy(){$u.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,E.cI)(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if((0,E.hu)(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=(0,E.Wl)(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=T5(r,16384);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),q5=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[hl,mp]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=mp&&mp.isAvailable();let i=r&&!mp.previouslyFailed();if(n.webSocketOnly&&(r||Ei("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[mp];else{const o=this.transports_=[];for(const s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class e4{constructor(e,n,r,i,o,s,a,c,l,h){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Z_("c:"+this.id+":"),this.transportManager_=new q5(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Q_(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Y_("t",e),r=Y_("d",e);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Y_("t",e),r=Y_("d",e);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Y_("t",e);if("d"in e){const r=e.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?lb("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):lb("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&Ei("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Q_(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Q_(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($u.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class t4{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class n4{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,E.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context))return void i.splice(o,1)}validateEventType_(e){(0,E.hu)(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class aw extends n4{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,E.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new aw}getInitialEvent(e){return(0,E.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Ht{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ut(){return new Ht("")}function mt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function pl(t){return t.pieces_.length-t.pieceNum_}function rn(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ht(t.pieces_,e)}function yb(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function J_(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function o4(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ht(e,0)}function Rn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ht)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Ht(n,0)}function yt(t){return t.pieceNum_>=t.pieces_.length}function qi(t,e){const n=mt(t),r=mt(e);if(null===n)return e;if(n===r)return qi(rn(t),rn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function $ie(t,e){const n=J_(t,0),r=J_(e,0);for(let i=0;i<n.length&&i<r.length;i++){const o=zu(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function vb(t,e){if(pl(t)!==pl(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function os(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(pl(t)>pl(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Hie{constructor(e,n){this.errorPrefix_=n,this.parts_=J_(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,E.ug)(this.parts_[r]);s4(this)}}function s4(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Wu(t))}function Wu(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class Cb extends n4{constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Cb}getInitialEvent(e){return(0,E.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const em=1e3;let lw,Gu=(()=>{class t extends t4{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=Z_("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=em,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!(0,E.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Cb.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&aw.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_((0,E.Wl)(s)),(0,E.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();const r=new E.BH,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const c=a.d;"ok"===a.s?r.resolve(c):r.reject(c)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,o){this.initConnection_();const s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),(0,E.hu)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,E.hu)(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);const s={p:i};n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest("q",s,c=>{const l=c.d,h=c.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),"ok"!==h&&this.removeListen_(i,o),n.onComplete&&n.onComplete(h,l))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&(0,E.r3)(n,"w")){const i=(0,E.DV)(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();Ei(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||(0,E.GJ)(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=(0,E.w9)(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{const s=o.s,a=o.d||"error";this.authToken_===n&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),(0,E.hu)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);const s={p:n};o&&(s.q=i,s.t=o),this.sendRequest("n",s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){const s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();const a={p:r,d:i};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+(0,E.Wl)(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):lb("Unrecognized action received from server: "+(0,E.Wl)(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){(0,E.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=em,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=em,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=em),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return(0,x.Z)(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),o=n.onRealtimeDisconnect_.bind(n),s=n.id+":"+t.nextConnectionId_++,a=n.lastSessionId;let c=!1,l=null;const h=function(){l?l.close():(c=!0,o())};n.realtime_={close:h,sendRequest:function(v){(0,E.hu)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(v)}};const _=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[v,M]=yield Promise.all([n.authTokenProvider_.getToken(_),n.appCheckTokenProvider_.getToken(_)]);c?jr("getToken() completed but was canceled"):(jr("getToken() completed. Creating connection."),n.authToken_=v&&v.accessToken,n.appCheckToken_=M&&M.token,l=new e4(s,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,o,b=>{Ei(b+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(v){n.log_("Failed to get token: "+v),c||(n.repoInfo_.nodeAdmin&&Ei(v),h())}}})()}interrupt(n){jr("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){jr("Resuming connection for reason: "+n),delete this.interruptReasons_[n],(0,E.xb)(this.interruptReasons_)&&(this.reconnectDelay_=em,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(s=>ub(s)).join("$"):"default";const o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){const i=new Ht(n).toString();let o;if(this.listens.has(i)){const s=this.listens.get(i);o=s.get(r),s.delete(r),0===s.size&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){jr("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){jr("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";(0,E.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),n["sdk."+r+"."+sb.replace(/\./g,"-")]=1,(0,E.uI)()?n["framework.cordova"]=1:(0,E.b$)()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=aw.getInstance().currentlyOnline();return(0,E.xb)(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class Ct{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ct(e,n)}}class cw{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Ct(dl,e),i=new Ct(dl,n);return 0!==this.compare(r,i)}minPost(){return Ct.MIN}}class l4 extends cw{static get __EMPTY_NODE(){return lw}static set __EMPTY_NODE(e){lw=e}compare(e,n){return zu(e.name,n.name)}isDefinedOn(e){throw(0,E.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ct.MIN}maxPost(){return new Ct(rc,lw)}makePost(e,n){return(0,E.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Ct(e,lw)}toString(){return".key"}}const sa=new l4;class uw{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,i&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let Pb,Ds=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??uo.EMPTY_NODE,this.right=s??uo.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this;const s=i(n,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(n,r,i),null):0===s?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return uo.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return uo.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class uo{constructor(e,n=uo.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new uo(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ds.BLACK,null,null))}remove(e){return new uo(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ds.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new uw(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new uw(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new uw(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new uw(this.root_,null,this.comparator_,!0,e)}}function Qie(t,e){return zu(t.name,e.name)}function wb(t,e){return zu(t,e)}uo.EMPTY_NODE=new class Yie{copy(e,n,r,i,o){return this}insert(e,n,r){return new Ds(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const u4=function(t){return"number"==typeof t?"number:"+A5(t):"string:"+t},d4=function(t){if(t.isLeafNode()){const e=t.val();(0,E.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,E.r3)(e,".sv"),"Priority must be a string or number.")}else(0,E.hu)(t===Pb||t.isEmpty(),"priority of unexpected type.");(0,E.hu)(t===Pb||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let h4,p4,f4,yp=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,(0,E.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),d4(this.priorityNode_)}static set __childrenNodeConstructor(n){h4=n}static get __childrenNodeConstructor(){return h4}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return yt(n)?this:".priority"===mt(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=mt(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,E.hu)(".priority"!==i||1===pl(n),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(rn(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+u4(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?A5(this.value_):this.value_,this.lazyHash_=O5(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:((0,E.hu)(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return(0,E.hu)(o>=0,"Unknown leaf type: "+r),(0,E.hu)(s>=0,"Unknown leaf type: "+i),o===s?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const pn=new class toe extends cw{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return 0===o?zu(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ct.MIN}maxPost(){return new Ct(rc,new yp("[PRIORITY-POST]",f4))}makePost(e,n){const r=p4(e);return new Ct(n,new yp("[PRIORITY-POST]",r))}toString(){return".priority"}},noe=Math.log(2);class roe{constructor(e){this.count=parseInt(Math.log(e+1)/noe,10),this.current_=this.count-1;const i=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const dw=function(t,e,n,r){t.sort(e);const i=function(c,l){const h=l-c;let f,_;if(0===h)return null;if(1===h)return f=t[c],_=n?n(f):f,new Ds(_,f.node,Ds.BLACK,null,null);{const v=parseInt(h/2,10)+c,M=i(c,v),b=i(v+1,l);return f=t[v],_=n?n(f):f,new Ds(_,f.node,Ds.BLACK,M,b)}},a=function(c){let l=null,h=null,f=t.length;const _=function(M,b){const T=f-M,V=f;f-=M;const N=i(T+1,V),W=t[T],z=n?n(W):W;v(new Ds(z,W.node,b,null,N))},v=function(M){l?(l.left=M,l=M):(h=M,l=M)};for(let M=0;M<c.count;++M){const b=c.nextBitIsOne(),T=Math.pow(2,c.count-(M+1));b?_(T,Ds.BLACK):(_(T,Ds.BLACK),_(T,Ds.RED))}return h}(new roe(t.length));return new uo(r||e,a)};let Mb;const vp={};class ic{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return(0,E.hu)(vp&&pn,"ChildrenNode.ts has not been loaded"),Mb=Mb||new ic({".priority":vp},{".priority":pn}),Mb}get(e){const n=(0,E.DV)(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof uo?n:null}hasIndex(e){return(0,E.r3)(this.indexSet_,e.toString())}addIndex(e,n){(0,E.hu)(e!==sa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(Ct.Wrap);let a,s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();a=i?dw(r,e.getCompare()):vp;const c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;const h=Object.assign({},this.indexes_);return h[c]=a,new ic(h,l)}addToIndexes(e,n){const r=(0,E.UI)(this.indexes_,(i,o)=>{const s=(0,E.DV)(this.indexSet_,o);if((0,E.hu)(s,"Missing index implementation for "+o),i===vp){if(s.isDefinedOn(e.node)){const a=[],c=n.getIterator(Ct.Wrap);let l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),dw(a,s.getCompare())}return vp}{const a=n.get(e.name);let c=i;return a&&(c=c.remove(new Ct(e.name,a))),c.insert(e,e.node)}});return new ic(r,this.indexSet_)}removeFromIndexes(e,n){const r=(0,E.UI)(this.indexes_,i=>{if(i===vp)return i;{const o=n.get(e.name);return o?i.remove(new Ct(e.name,o)):i}});return new ic(r,this.indexSet_)}}let tm,nt=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&d4(this.priorityNode_),this.children_.isEmpty()&&(0,E.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return tm||(tm=new t(new uo(wb),null,ic.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||tm}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?tm:r}}getChild(n){const r=mt(n);return null===r?this:this.getImmediateChild(r).getChild(rn(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if((0,E.hu)(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new Ct(n,r);let o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));const a=o.isEmpty()?tm:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){const i=mt(n);if(null===i)return r;{(0,E.hu)(".priority"!==mt(n)||1===pl(n),".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(rn(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,o=0,s=!0;if(this.forEachChild(pn,(a,c)=>{r[a]=c.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){const a=[];for(const c in r)a[c]=r[c];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+u4(this.getPriority().val())+":"),this.forEachChild(pn,(r,i)=>{const o=i.hash();""!==o&&(n+=":"+r+":"+o)}),this.lazyHash_=""===n?"":O5(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const o=this.resolveIndex_(i);if(o){const s=o.getPredecessorKey(new Ct(n,r));return s?s.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new Ct(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new Ct(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,Ct.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,Ct.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===nm?-1:0}withIndex(n){if(n===sa||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===sa||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(pn),o=r.getIterator(pn);let s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(n){return n===sa?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const nm=new class ioe extends nt{constructor(){super(new uo(wb),nt.EMPTY_NODE,ic.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return nt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Ct,{MIN:{value:new Ct(dl,nt.EMPTY_NODE)},MAX:{value:new Ct(rc,nm)}}),l4.__EMPTY_NODE=nt.EMPTY_NODE,yp.__childrenNodeConstructor=nt,function Xie(t){Pb=t}(nm),function eoe(t){f4=t}(nm);const ooe=!0;function Un(t,e=null){if(null===t)return nt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),(0,E.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new yp(t,Un(e));if(t instanceof Array||!ooe){let n=nt.EMPTY_NODE;return $r(t,(r,i)=>{if((0,E.r3)(t,r)&&"."!==r.substring(0,1)){const o=Un(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Un(e))}{const n=[];let r=!1;if($r(t,(s,a)=>{if("."!==s.substring(0,1)){const c=Un(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new Ct(s,c)))}}),0===n.length)return nt.EMPTY_NODE;const o=dw(n,Qie,s=>s.name,wb);if(r){const s=dw(n,pn.getCompare());return new nt(o,Un(e),new ic({".priority":s},{".priority":pn}))}return new nt(o,Un(e),ic.Default)}}!function Jie(t){p4=t}(Un);class Eb extends cw{constructor(e){super(),this.indexPath_=e,(0,E.hu)(!yt(e)&&".priority"!==mt(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return 0===o?zu(e.name,n.name):o}makePost(e,n){const r=Un(e),i=nt.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ct(n,i)}maxPost(){const e=nt.EMPTY_NODE.updateChild(this.indexPath_,nm);return new Ct(rc,e)}toString(){return J_(this.indexPath_,0).join("/")}}const Ob=new class soe extends cw{compare(e,n){const r=e.node.compareTo(n.node);return 0===r?zu(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ct.MIN}maxPost(){return Ct.MAX}makePost(e,n){const r=Un(e);return new Ct(n,r)}toString(){return".value"}};function g4(t){return{type:"value",snapshotNode:t}}function Cp(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function rm(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function im(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class Ib{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){(0,E.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(null!=s&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(rm(n,a)):(0,E.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Cp(n,r)):s.trackChildChange(im(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return null!=r&&(e.isLeafNode()||e.forEachChild(pn,(i,o)=>{n.hasChild(i)||r.trackChildChange(rm(i,o))}),n.isLeafNode()||n.forEachChild(pn,(i,o)=>{if(e.hasChild(i)){const s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(im(i,o,s))}else r.trackChildChange(Cp(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?nt.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class om{constructor(e){this.indexedFilter_=new Ib(e.getIndex()),this.index_=e.getIndex(),this.startPost_=om.getStartPost_(e),this.endPost_=om.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new Ct(n,r))||(r=nt.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=nt.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(nt.EMPTY_NODE);const o=this;return n.forEachChild(pn,(s,a)=>{o.matches(new Ct(s,a))||(i=i.updateImmediateChild(s,nt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}return e.getIndex().maxPost()}}class coe{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new om(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new Ct(n,r))||(r=nt.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=nt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<n.numChildren()&&n.isIndexed(this.index_)){let o;i=nt.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;i=i.updateImmediateChild(a.name,a.node),s++}}}else{let o;i=n.withIndex(this.index_),i=i.updatePriority(nt.EMPTY_NODE),o=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,nt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){const f=this.index_.getCompare();s=(_,v)=>f(v,_)}else s=this.index_.getCompare();const a=e;(0,E.hu)(a.numChildren()===this.limit_,"");const c=new Ct(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(a.hasChild(n)){const f=a.getImmediateChild(n);let _=i.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=_&&(_.name===n||a.hasChild(_.name));)_=i.getChildAfterChild(this.index_,_,this.reverse_);const v=null==_?1:s(_,c);if(h&&!r.isEmpty()&&v>=0)return o?.trackChildChange(im(n,r,f)),a.updateImmediateChild(n,r);{o?.trackChildChange(rm(n,f));const b=a.updateImmediateChild(n,nt.EMPTY_NODE);return null!=_&&this.rangedFilter_.matches(_)?(o?.trackChildChange(Cp(_.name,_.node)),b.updateImmediateChild(_.name,_.node)):b}}return r.isEmpty()?e:h&&s(l,c)>=0?(null!=o&&(o.trackChildChange(rm(l.name,l.node)),o.trackChildChange(Cp(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,nt.EMPTY_NODE)):e}}class hw{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=pn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,E.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,E.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:dl}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,E.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,E.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:rc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,E.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===pn}copy(){const e=new hw;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function bb(t,e,n){const r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Tb(t,e,n){const r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function pw(t,e){const n=t.copy();return n.index_=e,n}function _4(t){const e={};if(t.isDefault())return e;let n;if(t.index_===pn?n="$priority":t.index_===Ob?n="$value":t.index_===sa?n="$key":((0,E.hu)(t.index_ instanceof Eb,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=(0,E.Wl)(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=(0,E.Wl)(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+(0,E.Wl)(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=(0,E.Wl)(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+(0,E.Wl)(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function m4(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==pn&&(e.i=t.index_.toString()),e}class fw extends t4{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Z_("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:((0,E.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=fw.getListenId_(e,r),a={};this.listens_[s]=a;const c=_4(e._queryParams);this.restRequest_(o+".json",c,(l,h)=>{let f=h;if(404===l&&(f=null,l=null),null===l&&this.onDataUpdate_(o,f,!1,r),(0,E.DV)(this.listens_,s)===a){let _;_=l?401===l?"permission_denied":"rest_error:"+l:"ok",i(_,null)}})}unlisten(e,n){const r=fw.getListenId_(e,n);delete this.listens_[r]}get(e){const n=_4(e._queryParams),r=e._path.toString(),i=new E.BH;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,E.xO)(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=(0,E.cI)(a.responseText)}catch{Ei("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else 401!==a.status&&404!==a.status&&Ei("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}class foe{constructor(){this.rootNode_=nt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function gw(){return{value:null,children:new Map}}function wp(t,e,n){if(yt(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=mt(e);t.children.has(r)||t.children.set(r,gw()),wp(t.children.get(r),e=rn(e),n)}}function Ab(t,e){if(yt(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(pn,(r,i)=>{wp(t,new Ht(r),i)}),Ab(t,e)}}if(t.children.size>0){const n=mt(e);return e=rn(e),t.children.has(n)&&Ab(t.children.get(n),e)&&t.children.delete(n),0===t.children.size}return!0}function Db(t,e,n){null!==t.value?n(e,t.value):function goe(t,e){t.children.forEach((n,r)=>{e(r,n)})}(t,(r,i)=>{Db(i,new Ht(e.toString()+"/"+r),n)})}class _oe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&$r(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}class voe{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new _oe(e);const r=1e4+2e4*Math.random();Q_(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;$r(e,(i,o)=>{o>0&&(0,E.r3)(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Q_(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var aa=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(aa||{});function Rb(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class _w{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=aa.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(yt(this.path)){if(null!=this.affectedTree.value)return(0,E.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ht(e));return new _w(Ut(),n,this.revert)}}return(0,E.hu)(mt(this.path)===e,"operationForChild called for unrelated child."),new _w(rn(this.path),this.affectedTree,this.revert)}}class sm{constructor(e,n){this.source=e,this.path=n,this.type=aa.LISTEN_COMPLETE}operationForChild(e){return yt(this.path)?new sm(this.source,Ut()):new sm(this.source,rn(this.path))}}class qu{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=aa.OVERWRITE}operationForChild(e){return yt(this.path)?new qu(this.source,Ut(),this.snap.getImmediateChild(e)):new qu(this.source,rn(this.path),this.snap)}}class Pp{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=aa.MERGE}operationForChild(e){if(yt(this.path)){const n=this.children.subtree(new Ht(e));return n.isEmpty()?null:n.value?new qu(this.source,Ut(),n.value):new Pp(this.source,Ut(),n)}return(0,E.hu)(mt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Pp(this.source,rn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class fl{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(yt(e))return this.isFullyInitialized()&&!this.filtered_;const n=mt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Coe{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function am(t,e,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,c)=>function Moe(t,e,n){if(null==e.childName||null==n.childName)throw(0,E.g5)("Should only compare child_ events.");const r=new Ct(e.childName,e.snapshotNode),i=new Ct(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,a,c)),s.forEach(a=>{const c=function Poe(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,a,o);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,t.query_))})})}function mw(t,e){return{eventCache:t,serverCache:e}}function cm(t,e,n,r){return mw(new fl(e,n,r),t.serverCache)}function v4(t,e,n,r){return mw(t.eventCache,new fl(e,n,r))}function yw(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ku(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let kb;class fn{constructor(e,n=(()=>(kb||(kb=new uo(aie)),kb))()){this.value=e,this.children=n}static fromObject(e){let n=new fn(null);return $r(e,(r,i)=>{n=n.set(new Ht(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:Ut(),value:this.value};if(yt(e))return null;{const r=mt(e),i=this.children.get(r);if(null!==i){const o=i.findRootMostMatchingPathAndValue(rn(e),n);return null!=o?{path:Rn(new Ht(r),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(yt(e))return this;{const n=mt(e),r=this.children.get(n);return null!==r?r.subtree(rn(e)):new fn(null)}}set(e,n){if(yt(e))return new fn(n,this.children);{const r=mt(e),o=(this.children.get(r)||new fn(null)).set(rn(e),n),s=this.children.insert(r,o);return new fn(this.value,s)}}remove(e){if(yt(e))return this.children.isEmpty()?new fn(null):new fn(null,this.children);{const n=mt(e),r=this.children.get(n);if(r){const i=r.remove(rn(e));let o;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new fn(null):new fn(this.value,o)}return this}}get(e){if(yt(e))return this.value;{const n=mt(e),r=this.children.get(n);return r?r.get(rn(e)):null}}setTree(e,n){if(yt(e))return n;{const r=mt(e),o=(this.children.get(r)||new fn(null)).setTree(rn(e),n);let s;return s=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new fn(this.value,s)}}fold(e){return this.fold_(Ut(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Rn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Ut(),n)}findOnPath_(e,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(yt(e))return null;{const o=mt(e),s=this.children.get(o);return s?s.findOnPath_(rn(e),Rn(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ut(),n)}foreachOnPath_(e,n,r){if(yt(e))return this;{this.value&&r(n,this.value);const i=mt(e),o=this.children.get(i);return o?o.foreachOnPath_(rn(e),Rn(n,i),r):new fn(null)}}foreach(e){this.foreach_(Ut(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Rn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class Ss{constructor(e){this.writeTree_=e}static empty(){return new Ss(new fn(null))}}function lm(t,e,n){if(yt(e))return new Ss(new fn(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let o=r.value;const s=qi(i,e);return o=o.updateChild(s,n),new Ss(t.writeTree_.set(i,o))}{const i=new fn(n),o=t.writeTree_.setTree(e,i);return new Ss(o)}}}function Nb(t,e,n){let r=t;return $r(n,(i,o)=>{r=lm(r,Rn(e,i),o)}),r}function C4(t,e){if(yt(e))return Ss.empty();{const n=t.writeTree_.setTree(e,new fn(null));return new Ss(n)}}function Fb(t,e){return null!=Zu(t,e)}function Zu(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(qi(n.path,e)):null}function w4(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(pn,(r,i)=>{e.push(new Ct(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new Ct(r,i.value))}),e}function gl(t,e){if(yt(e))return t;{const n=Zu(t,e);return new Ss(null!=n?new fn(n):t.writeTree_.subtree(e))}}function Lb(t){return t.writeTree_.isEmpty()}function Mp(t,e){return P4(Ut(),t.writeTree_,e)}function P4(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{".priority"===i?((0,E.hu)(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=P4(Rn(t,i),o,n)}),!n.getChild(t).isEmpty()&&null!==r&&(n=n.updateChild(Rn(t,".priority"),r)),n}}function vw(t,e){return b4(e,t)}function Aoe(t,e){if(t.snap)return os(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&os(Rn(t.path,n),e))return!0;return!1}function Soe(t){return t.visible}function M4(t,e,n){let r=Ss.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let a;if(o.snap)os(n,s)?(a=qi(n,s),r=lm(r,a,o.snap)):os(s,n)&&(a=qi(s,n),r=lm(r,Ut(),o.snap.getChild(a)));else{if(!o.children)throw(0,E.g5)("WriteRecord should have .snap or .children");if(os(n,s))a=qi(n,s),r=Nb(r,a,o.children);else if(os(s,n))if(a=qi(s,n),yt(a))r=Nb(r,Ut(),o.children);else{const c=(0,E.DV)(o.children,mt(a));if(c){const l=c.getChild(rn(a));r=lm(r,Ut(),l)}}}}}return r}function E4(t,e,n,r,i){if(r||i){const o=gl(t.visibleWrites,e);return!i&&Lb(o)?n:i||null!=n||Fb(o,Ut())?Mp(M4(t.allWrites,function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(os(l.path,e)||os(e,l.path))},e),n||nt.EMPTY_NODE):null}{const o=Zu(t.visibleWrites,e);if(null!=o)return o;{const s=gl(t.visibleWrites,e);return Lb(s)?n:null!=n||Fb(s,Ut())?Mp(s,n||nt.EMPTY_NODE):null}}}function Cw(t,e,n,r){return E4(t.writeTree,t.treePath,e,n,r)}function Vb(t,e){return function xoe(t,e,n){let r=nt.EMPTY_NODE;const i=Zu(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(pn,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=gl(t.visibleWrites,e);return n.forEachChild(pn,(s,a)=>{const c=Mp(gl(o,new Ht(s)),a);r=r.updateImmediateChild(s,c)}),w4(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}return w4(gl(t.visibleWrites,e)).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}(t.writeTree,t.treePath,e)}function O4(t,e,n,r){return function Roe(t,e,n,r,i){(0,E.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Rn(e,n);if(Fb(t.visibleWrites,o))return null;{const s=gl(t.visibleWrites,o);return Lb(s)?i.getChild(n):Mp(s,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function ww(t,e){return function Noe(t,e){return Zu(t.visibleWrites,e)}(t.writeTree,Rn(t.treePath,e))}function Ub(t,e,n){return function koe(t,e,n,r){const i=Rn(e,n),o=Zu(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?Mp(gl(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function I4(t,e){return b4(Rn(t.treePath,e),t.writeTree)}function b4(t,e){return{treePath:t,writeTree:e}}class Uoe{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;(0,E.hu)("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),(0,E.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if("child_added"===n&&"child_removed"===o)this.changeMap.set(r,im(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===o)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===o)this.changeMap.set(r,rm(r,i.oldSnap));else if("child_changed"===n&&"child_added"===o)this.changeMap.set(r,Cp(r,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==o)throw(0,E.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,im(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const T4=new class Boe{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}};class Bb{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new fl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ub(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ku(this.viewCache_),o=function Voe(t,e,n,r,i,o){return function Foe(t,e,n,r,i,o,s){let a;const c=gl(t.visibleWrites,e),l=Zu(c,Ut());if(null!=l)a=l;else{if(null==n)return[];a=Mp(c,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const h=[],f=s.getCompare(),_=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let v=_.getNext();for(;v&&h.length<i;)0!==f(v,r)&&h.push(v),v=_.getNext();return h}}(t.writeTree,t.treePath,e,n,r,i,o)}(this.writes_,i,n,1,r,e);return 0===o.length?null:o[0]}}function A4(t,e,n,r,i,o){const s=e.eventCache;if(null!=ww(r,n))return e;{let a,c;if(yt(n))if((0,E.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const l=Ku(e),f=Vb(r,l instanceof nt?l:nt.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{const l=Cw(r,Ku(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{const l=mt(n);if(".priority"===l){(0,E.hu)(1===pl(n),"Can't have a priority with additional path components");const h=s.getNode();c=e.serverCache.getNode();const f=O4(r,n,h,c);a=null!=f?t.filter.updatePriority(h,f):s.getNode()}else{const h=rn(n);let f;if(s.isCompleteForChild(l)){c=e.serverCache.getNode();const _=O4(r,n,s.getNode(),c);f=null!=_?s.getNode().getImmediateChild(l).updateChild(h,_):s.getNode().getImmediateChild(l)}else f=Ub(r,l,e.serverCache);a=null!=f?t.filter.updateChild(s.getNode(),l,f,h,i,o):s.getNode()}}return cm(e,a,s.isFullyInitialized()||yt(n),t.filter.filtersNodes())}}function Pw(t,e,n,r,i,o,s,a){const c=e.serverCache;let l;const h=s?t.filter:t.filter.getIndexedFilter();if(yt(n))l=h.updateFullNode(c.getNode(),r,null);else if(h.filtersNodes()&&!c.isFiltered()){const v=c.getNode().updateChild(n,r);l=h.updateFullNode(c.getNode(),v,null)}else{const v=mt(n);if(!c.isCompleteForPath(n)&&pl(n)>1)return e;const M=rn(n),T=c.getNode().getImmediateChild(v).updateChild(M,r);l=".priority"===v?h.updatePriority(c.getNode(),T):h.updateChild(c.getNode(),v,T,M,T4,null)}const f=v4(e,l,c.isFullyInitialized()||yt(n),h.filtersNodes());return A4(t,f,n,i,new Bb(i,f,o),a)}function jb(t,e,n,r,i,o,s){const a=e.eventCache;let c,l;const h=new Bb(i,e,o);if(yt(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,s),c=cm(e,l,!0,t.filter.filtersNodes());else{const f=mt(n);if(".priority"===f)l=t.filter.updatePriority(e.eventCache.getNode(),r),c=cm(e,l,a.isFullyInitialized(),a.isFiltered());else{const _=rn(n),v=a.getNode().getImmediateChild(f);let M;if(yt(_))M=r;else{const b=h.getCompleteChild(f);M=null!=b?".priority"===yb(_)&&b.getChild(o4(_)).isEmpty()?b:b.updateChild(_,r):nt.EMPTY_NODE}c=v.equals(M)?e:cm(e,t.filter.updateChild(a.getNode(),f,M,_,h,s),a.isFullyInitialized(),t.filter.filtersNodes())}}return c}function D4(t,e){return t.eventCache.isCompleteForChild(e)}function S4(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function $b(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l,c=e;l=yt(n)?r:new fn(null).setTree(n,r);const h=e.serverCache.getNode();return l.children.inorderTraversal((f,_)=>{if(h.hasChild(f)){const M=S4(0,e.serverCache.getNode().getImmediateChild(f),_);c=Pw(t,c,new Ht(f),M,i,o,s,a)}}),l.children.inorderTraversal((f,_)=>{const v=!e.serverCache.isCompleteForChild(f)&&null===_.value;if(!h.hasChild(f)&&!v){const b=S4(0,e.serverCache.getNode().getImmediateChild(f),_);c=Pw(t,c,new Ht(f),b,i,o,s,a)}}),c}class Zoe{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Ib(r.getIndex()),o=function loe(t){return t.loadsAllData()?new Ib(t.getIndex()):t.hasLimit()?new coe(t):new om(t)}(r);this.processor_=function joe(t){return{filter:t}}(o);const s=n.serverCache,a=n.eventCache,c=i.updateFullNode(nt.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(nt.EMPTY_NODE,a.getNode(),null),h=new fl(c,s.isFullyInitialized(),i.filtersNodes()),f=new fl(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=mw(f,h),this.eventGenerator_=new Coe(this.query_)}get query(){return this.query_}}function Xoe(t,e){const n=Ku(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!yt(e)&&!n.getImmediateChild(mt(e)).isEmpty())?n.getChild(e):null}function x4(t){return 0===t.eventRegistrations_.length}function R4(t,e,n){const r=[];if(n){(0,E.hu)(null==e,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){const s=t.eventRegistrations_[o];if(s.matches(e)){if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}else i.push(s)}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function k4(t,e,n,r){e.type===aa.MERGE&&null!==e.source.queryId&&((0,E.hu)(Ku(t.viewCache_),"We should always have a full cache before handling merges"),(0,E.hu)(yw(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=function Hoe(t,e,n,r,i){const o=new Uoe;let s,a;if(n.type===aa.OVERWRITE){const l=n;l.source.fromUser?s=jb(t,e,l.path,l.snap,r,i,o):((0,E.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!yt(l.path),s=Pw(t,e,l.path,l.snap,r,i,a,o))}else if(n.type===aa.MERGE){const l=n;l.source.fromUser?s=function Woe(t,e,n,r,i,o,s){let a=e;return r.foreach((c,l)=>{const h=Rn(n,c);D4(e,mt(h))&&(a=jb(t,a,h,l,i,o,s))}),r.foreach((c,l)=>{const h=Rn(n,c);D4(e,mt(h))||(a=jb(t,a,h,l,i,o,s))}),a}(t,e,l.path,l.children,r,i,o):((0,E.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=$b(t,e,l.path,l.children,r,i,a,o))}else if(n.type===aa.ACK_USER_WRITE){const l=n;s=l.revert?function Koe(t,e,n,r,i,o){let s;if(null!=ww(r,n))return e;{const a=new Bb(r,e,i),c=e.eventCache.getNode();let l;if(yt(n)||".priority"===mt(n)){let h;if(e.serverCache.isFullyInitialized())h=Cw(r,Ku(e));else{const f=e.serverCache.getNode();(0,E.hu)(f instanceof nt,"serverChildren would be complete if leaf node"),h=Vb(r,f)}l=t.filter.updateFullNode(c,h,o)}else{const h=mt(n);let f=Ub(r,h,e.serverCache);null==f&&e.serverCache.isCompleteForChild(h)&&(f=c.getImmediateChild(h)),l=null!=f?t.filter.updateChild(c,h,f,rn(n),a,o):e.eventCache.getNode().hasChild(h)?t.filter.updateChild(c,h,nt.EMPTY_NODE,rn(n),a,o):c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Cw(r,Ku(e)),s.isLeafNode()&&(l=t.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||null!=ww(r,Ut()),cm(e,l,s,t.filter.filtersNodes())}}(t,e,l.path,r,i,o):function Goe(t,e,n,r,i,o,s){if(null!=ww(i,n))return e;const a=e.serverCache.isFiltered(),c=e.serverCache;if(null!=r.value){if(yt(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Pw(t,e,n,c.getNode().getChild(n),i,o,a,s);if(yt(n)){let l=new fn(null);return c.getNode().forEachChild(sa,(h,f)=>{l=l.set(new Ht(h),f)}),$b(t,e,n,l,i,o,a,s)}return e}{let l=new fn(null);return r.foreach((h,f)=>{const _=Rn(n,h);c.isCompleteForPath(_)&&(l=l.set(h,c.getNode().getChild(_)))}),$b(t,e,n,l,i,o,a,s)}}(t,e,l.path,l.affectedTree,r,i,o)}else{if(n.type!==aa.LISTEN_COMPLETE)throw(0,E.g5)("Unknown operation type: "+n.type);s=function qoe(t,e,n,r,i){const o=e.serverCache;return A4(t,v4(e,o.getNode(),o.isFullyInitialized()||yt(n),o.isFiltered()),n,r,T4,i)}(t,e,n.path,r,o)}const c=o.getChanges();return function zoe(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=yw(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(g4(yw(e)))}}(e,s,c),{viewCache:s,changes:c}}(t.processor_,i,e,n,r);return function $oe(t,e){(0,E.hu)(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),(0,E.hu)(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,o.viewCache),(0,E.hu)(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,N4(t,o.changes,o.viewCache.eventCache.getNode(),null)}function N4(t,e,n,r){return function woe(t,e,n,r){const i=[],o=[];return e.forEach(s=>{"child_changed"===s.type&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function aoe(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(s.childName,s.snapshotNode))}),am(t,i,"child_removed",e,r,n),am(t,i,"child_added",e,r,n),am(t,i,"child_moved",o,r,n),am(t,i,"child_changed",e,r,n),am(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}let Mw,Ow;class F4{constructor(){this.views=new Map}}function Hb(t,e,n,r){const i=e.source.queryId;if(null!==i){const o=t.views.get(i);return(0,E.hu)(null!=o,"SyncTree gave us an op for an invalid query."),k4(o,e,n,r)}{let o=[];for(const s of t.views.values())o=o.concat(k4(s,e,n,r));return o}}function L4(t,e,n,r,i){const s=t.views.get(e._queryIdentifier);if(!s){let a=Cw(n,i?r:null),c=!1;a?c=!0:r instanceof nt?(a=Vb(n,r),c=!1):(a=nt.EMPTY_NODE,c=!1);const l=mw(new fl(a,c,!1),new fl(r,i,!1));return new Zoe(e,l)}return s}function V4(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function _l(t,e){let n=null;for(const r of t.views.values())n=n||Xoe(r,e);return n}function U4(t,e){return e._queryParams.loadsAllData()?Ew(t):t.views.get(e._queryIdentifier)}function B4(t,e){return null!=U4(t,e)}function ml(t){return null!=Ew(t)}function Ew(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let cse=1;class j4{constructor(e){this.listenProvider_=e,this.syncPointTree_=new fn(null),this.pendingWriteTree_=function Loe(){return{visibleWrites:Ss.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function zb(t,e,n,r,i){return function Ooe(t,e,n,r,i){(0,E.hu)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=lm(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?Ep(t,new qu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function yl(t,e,n=!1){const r=function boe(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function Toe(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);(0,E.hu)(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&Aoe(a,r.path)?i=!1:os(r.path,a.path)&&(o=!0)),s--}return!!i&&(o?(function Doe(t){t.visibleWrites=M4(t.allWrites,Soe,Ut()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=C4(t.visibleWrites,r.path):$r(r.children,c=>{t.visibleWrites=C4(t.visibleWrites,Rn(r.path,c))}),!0))}(t.pendingWriteTree_,e)){let o=new fn(null);return null!=r.snap?o=o.set(Ut(),!0):$r(r.children,s=>{o=o.set(new Ht(s),!0)}),Ep(t,new _w(r.path,o,n))}return[]}function um(t,e,n){return Ep(t,new qu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function Iw(t,e,n,r,i=!1){const o=e._path,s=t.syncPointTree_.get(o);let a=[];if(s&&("default"===e._queryIdentifier||B4(s,e))){const c=function ose(t,e,n,r){const i=e._queryIdentifier,o=[];let s=[];const a=ml(t);if("default"===i)for(const[c,l]of t.views.entries())s=s.concat(R4(l,n,r)),x4(l)&&(t.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{const c=t.views.get(i);c&&(s=s.concat(R4(c,n,r)),x4(c)&&(t.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!ml(t)&&o.push(new(function nse(){return(0,E.hu)(Mw,"Reference.ts has not been loaded"),Mw}())(e._repo,e._path)),{removed:o,events:s}}(s,e,n,r);(function rse(t){return 0===t.views.size})(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const l=c.removed;if(a=c.events,!i){const h=-1!==l.findIndex(_=>_._queryParams.loadsAllData()),f=t.syncPointTree_.findOnPath(o,(_,v)=>ml(v));if(h&&!f){const _=t.syncPointTree_.subtree(o);if(!_.isEmpty()){const v=function gse(t){return t.fold((e,n,r)=>{if(n&&ml(n))return[Ew(n)];{let i=[];return n&&(i=V4(n)),$r(r,(o,s)=>{i=i.concat(s)}),i}})}(_);for(let M=0;M<v.length;++M){const b=v[M],T=b.query,V=W4(t,b);t.listenProvider_.startListening(hm(T),dm(t,T),V.hashFn,V.onComplete)}}}!f&&l.length>0&&!r&&(h?t.listenProvider_.stopListening(hm(e),null):l.forEach(_=>{const v=t.queryToTagMap.get(Tw(_));t.listenProvider_.stopListening(hm(_),v)}))}!function _se(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Tw(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,l)}return a}function $4(t,e,n,r){const i=Gb(t,r);if(null!=i){const o=qb(i),s=o.path,a=o.queryId,c=qi(s,e);return Kb(t,s,new qu(Rb(a),c,n))}return[]}function Wb(t,e,n,r=!1){const i=e._path;let o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(_,v)=>{const M=qi(_,i);o=o||_l(v,M),s=s||ml(v)});let c,a=t.syncPointTree_.get(i);a?(s=s||ml(a),o=o||_l(a,Ut())):(a=new F4,t.syncPointTree_=t.syncPointTree_.set(i,a)),null!=o?c=!0:(c=!1,o=nt.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((v,M)=>{const b=_l(M,Ut());b&&(o=o.updateImmediateChild(v,b))}));const l=B4(a,e);if(!l&&!e._queryParams.loadsAllData()){const _=Tw(e);(0,E.hu)(!t.queryToTagMap.has(_),"View does not exist, but we have a tag");const v=function mse(){return cse++}();t.queryToTagMap.set(_,v),t.tagToQueryMap.set(v,_)}let f=function ise(t,e,n,r,i,o){const s=L4(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),function Joe(t,e){t.eventRegistrations_.push(e)}(s,n),function ese(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(pn,(o,s)=>{r.push(Cp(o,s))}),n.isFullyInitialized()&&r.push(g4(n.getNode())),N4(t,r,n.getNode(),e)}(s,n)}(a,e,n,vw(t.pendingWriteTree_,i),o,c);if(!l&&!s&&!r){const _=U4(a,e);f=f.concat(function yse(t,e,n){const r=e._path,i=dm(t,e),o=W4(t,n),s=t.listenProvider_.startListening(hm(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)(0,E.hu)(!ml(a.value),"If we're adding a query, it shouldn't be shadowed");else{const c=a.fold((l,h,f)=>{if(!yt(l)&&h&&ml(h))return[Ew(h).query];{let _=[];return h&&(_=_.concat(V4(h).map(v=>v.query))),$r(f,(v,M)=>{_=_.concat(M)}),_}});for(let l=0;l<c.length;++l){const h=c[l];t.listenProvider_.stopListening(hm(h),dm(t,h))}}return s}(t,e,_))}return f}function bw(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const l=_l(a,qi(s,e));if(l)return l});return E4(i,e,o,n,!0)}function Ep(t,e){return H4(e,t.syncPointTree_,null,vw(t.pendingWriteTree_,Ut()))}function H4(t,e,n,r){if(yt(t.path))return z4(t,e,n,r);{const i=e.get(Ut());null==n&&null!=i&&(n=_l(i,Ut()));let o=[];const s=mt(t.path),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){const l=n?n.getImmediateChild(s):null,h=I4(r,s);o=o.concat(H4(a,c,l,h))}return i&&(o=o.concat(Hb(i,t,r,n))),o}}function z4(t,e,n,r){const i=e.get(Ut());null==n&&null!=i&&(n=_l(i,Ut()));let o=[];return e.children.inorderTraversal((s,a)=>{const c=n?n.getImmediateChild(s):null,l=I4(r,s),h=t.operationForChild(s);h&&(o=o.concat(z4(h,a,c,l)))}),i&&(o=o.concat(Hb(i,t,r,n))),o}function W4(t,e){const n=e.query,r=dm(t,n);return{hashFn:()=>(function Yoe(t){return t.viewCache_.serverCache.getNode()}(e)||nt.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function hse(t,e,n){const r=Gb(t,n);if(r){const i=qb(r),o=i.path,s=i.queryId,a=qi(o,e);return Kb(t,o,new sm(Rb(s),a))}return[]}(t,n._path,r):function dse(t,e){return Ep(t,new sm({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);{const o=function uie(t,e){let n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(i,n);return Iw(t,n,null,o)}}}}function dm(t,e){const n=Tw(e);return t.queryToTagMap.get(n)}function Tw(t){return t._path.toString()+"$"+t._queryIdentifier}function Gb(t,e){return t.tagToQueryMap.get(e)}function qb(t){const e=t.indexOf("$");return(0,E.hu)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ht(t.substr(0,e))}}function Kb(t,e,n){const r=t.syncPointTree_.get(e);return(0,E.hu)(r,"Missing sync point for query tag that we're tracking"),Hb(r,n,vw(t.pendingWriteTree_,e),null)}function hm(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(function ase(){return(0,E.hu)(Ow,"Reference.ts has not been loaded"),Ow}())(t._repo,t._path):t}class Zb{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Zb(n)}node(){return this.node_}}class Yb{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Rn(this.path_,e);return new Yb(this.syncTree_,n)}node(){return bw(this.syncTree_,this.path_)}}const vse=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},G4=function(t,e,n){return t&&"object"==typeof t?((0,E.hu)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?Cse(t[".sv"],e,n):"object"==typeof t[".sv"]?wse(t[".sv"],e):void(0,E.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Cse=function(t,e,n){if("timestamp"===t)return n.timestamp;(0,E.hu)(!1,"Unexpected server value: "+t)},wse=function(t,e,n){t.hasOwnProperty("increment")||(0,E.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&(0,E.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,E.hu)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!=typeof s?r:s+r},q4=function(t,e,n,r){return Xb(e,new Yb(n,t),r)},Qb=function(t,e,n){return Xb(t,new Zb(e),n)};function Xb(t,e,n){const r=t.getPriority().val(),i=G4(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=G4(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new yp(a,Un(i)):t}{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new yp(i))),s.forEachChild(pn,(a,c)=>{const l=Xb(c,e.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}class Jb{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Aw(t,e){let n=e instanceof Ht?e:new Ht(e),r=t,i=mt(n);for(;null!==i;){const o=(0,E.DV)(r.node.children,i)||{children:{},childCount:0};r=new Jb(i,r,o),n=rn(n),i=mt(n)}return r}function Yu(t){return t.node.value}function eT(t,e){t.node.value=e,tT(t)}function K4(t){return t.node.childCount>0}function Dw(t,e){$r(t.node.children,(n,r)=>{e(new Jb(n,t,r))})}function Z4(t,e,n,r){n&&!r&&e(t),Dw(t,i=>{Z4(i,e,!0,r)}),n&&r&&e(t)}function pm(t){return new Ht(null===t.parent?t.name:pm(t.parent)+"/"+t.name)}function tT(t){null!==t.parent&&function Ese(t,e,n){const r=function Pse(t){return void 0===Yu(t)&&!K4(t)}(n),i=(0,E.r3)(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,tT(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,tT(t))}(t.parent,t.name,t)}const Ose=/[\[\].#$\/\u0000-\u001F\u007F]/,Ise=/[\[\].#$\u0000-\u001F\u007F]/,nT=10485760,Sw=function(t){return"string"==typeof t&&0!==t.length&&!Ose.test(t)},Y4=function(t){return"string"==typeof t&&0!==t.length&&!Ise.test(t)},fm=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!iw(t)||t&&"object"==typeof t&&(0,E.r3)(t,".sv")},ca=function(t,e,n,r){r&&void 0===e||gm((0,E.gK)(t,"value"),e,n)},gm=function(t,e,n){const r=n instanceof Ht?new Hie(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+Wu(r));if("function"==typeof e)throw new Error(t+"contains a function "+Wu(r)+" with contents = "+e.toString());if(iw(e))throw new Error(t+"contains "+e.toString()+" "+Wu(r));if("string"==typeof e&&e.length>nT/3&&(0,E.ug)(e)>nT)throw new Error(t+"contains a string greater than "+nT+" utf8 bytes "+Wu(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,o=!1;if($r(e,(s,a)=>{if(".value"===s)i=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!Sw(s)))throw new Error(t+" contains an invalid key ("+s+") "+Wu(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function zie(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=(0,E.ug)(e),s4(t)})(r,s),gm(t,a,r),function Wie(t){const e=t.parts_.pop();t.byteLength_-=(0,E.ug)(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&o)throw new Error(t+' contains ".value" child '+Wu(r)+" in addition to actual children.")}},Q4=function(t,e,n,r){if(r&&void 0===e)return;const i=(0,E.gK)(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const o=[];$r(e,(s,a)=>{const c=new Ht(s);if(gm(i,a,Rn(n,c)),".priority"===yb(c)&&!fm(a))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(c)}),function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const o=J_(r);for(let s=0;s<o.length;s++)if((".priority"!==o[s]||s!==o.length-1)&&!Sw(o[s]))throw new Error(t+"contains an invalid key ("+o[s]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort($ie);let i=null;for(n=0;n<e.length;n++){if(r=e[n],null!==i&&os(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,o)},rT=function(t,e,n){if(!n||void 0!==e){if(iw(e))throw new Error((0,E.gK)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!fm(e))throw new Error((0,E.gK)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},_m=function(t,e,n,r){if(!(r&&void 0===n||Sw(n)))throw new Error((0,E.gK)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},mm=function(t,e,n,r){if(!(r&&void 0===n||Y4(n)))throw new Error((0,E.gK)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ase=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),mm(t,e,n,r)},ss=function(t,e){if(".info"===mt(e))throw new Error(t+" failed = Can't modify data under /.info/")},X4=function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Sw(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Y4(t)}(n))throw new Error((0,E.gK)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Dse{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function xw(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();null!==n&&!vb(o,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function J4(t,e,n){xw(t,n),eB(t,r=>vb(r,e))}function Ao(t,e,n){xw(t,n),eB(t,r=>os(r,e)||os(e,r))}function eB(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(Sse(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function Sse(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();Hu&&jr("event: "+n.toString()),_p(r)}}}const tB="repo_interrupt",xse=25;class Rse{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Dse,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=gw(),this.transactionQueueTree_=new Jb,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function nB(t){const n=t.infoData_.getNode(new Ht(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function ym(t){return vse({timestamp:nB(t)})}function rB(t,e,n,r,i){t.dataUpdateCount++;const o=new Ht(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const c=(0,E.UI)(n,l=>Un(l));s=function pse(t,e,n,r){const i=Gb(t,r);if(i){const o=qb(i),s=o.path,a=o.queryId,c=qi(s,e),l=fn.fromObject(n);return Kb(t,s,new Pp(Rb(a),c,l))}return[]}(t.serverSyncTree_,o,c,i)}else{const c=Un(n);s=$4(t.serverSyncTree_,o,c,i)}else if(r){const c=(0,E.UI)(n,l=>Un(l));s=function use(t,e,n){const r=fn.fromObject(n);return Ep(t,new Pp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,o,c)}else{const c=Un(n);s=um(t.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=Ip(t,o)),Ao(t.eventQueue_,a,s)}function iB(t,e){iT(t,"connected",e),!1===e&&function Vse(t){Op(t,"onDisconnectEvents");const e=ym(t),n=gw();Db(t.onDisconnect_,Ut(),(i,o)=>{const s=q4(i,o,t.serverSyncTree_,e);wp(n,i,s)});let r=[];Db(n,Ut(),(i,o)=>{r=r.concat(um(t.serverSyncTree_,i,o));const s=cT(t,i);Ip(t,s)}),t.onDisconnect_=gw(),Ao(t.eventQueue_,Ut(),r)}(t)}function iT(t,e,n){const r=new Ht("/.info/"+e),i=Un(n);t.infoData_.updateSnapshot(r,i);const o=um(t.infoSyncTree_,r,i);Ao(t.eventQueue_,r,o)}function Rw(t){return t.nextWriteId_++}function oT(t,e,n,r,i){Op(t,"set",{path:e.toString(),value:n,priority:r});const o=ym(t),s=Un(n,r),a=bw(t.serverSyncTree_,e),c=Qb(s,a,o),l=Rw(t),h=zb(t.serverSyncTree_,e,c,l,!0);xw(t.eventQueue_,h),t.server_.put(e.toString(),s.val(!0),(_,v)=>{const M="ok"===_;M||Ei("set at "+e+" failed: "+_);const b=yl(t.serverSyncTree_,l,!M);Ao(t.eventQueue_,e,b),vl(0,i,_,v)});const f=cT(t,e);Ip(t,f),Ao(t.eventQueue_,f,[])}function Use(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{"ok"===r&&Ab(t.onDisconnect_,e),vl(0,n,r,i)})}function oB(t,e,n,r){const i=Un(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(o,s)=>{"ok"===o&&wp(t.onDisconnect_,e,i),vl(0,r,o,s)})}function sT(t,e,n){let r;r=".info"===mt(e._path)?Iw(t.infoSyncTree_,e,n):Iw(t.serverSyncTree_,e,n),J4(t.eventQueue_,e._path,r)}function sB(t){t.persistentConnection_&&t.persistentConnection_.interrupt(tB)}function Op(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),jr(n,...e)}function vl(t,e,n,r){e&&_p(()=>{if("ok"===n)e(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,e(s)}})}function aT(t,e,n){return bw(t.serverSyncTree_,e,n)||nt.EMPTY_NODE}function kw(t,e=t.transactionQueueTree_){if(e||Nw(t,e),Yu(e)){const n=cB(t,e);(0,E.hu)(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function Wse(t,e,n){const r=n.map(l=>l.currentWriteId),i=aT(t,e,r);let o=i;const s=i.hash();for(let l=0;l<n.length;l++){const h=n[l];(0,E.hu)(0===h.status,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const f=qi(e,h.path);o=o.updateChild(f,h.currentOutputSnapshotRaw)}const a=o.val(!0),c=e;t.server_.put(c.toString(),a,l=>{Op(t,"transaction put response",{path:c.toString(),status:l});let h=[];if("ok"===l){const f=[];for(let _=0;_<n.length;_++)n[_].status=2,h=h.concat(yl(t.serverSyncTree_,n[_].currentWriteId)),n[_].onComplete&&f.push(()=>n[_].onComplete(null,!0,n[_].currentOutputSnapshotResolved)),n[_].unwatcher();Nw(t,Aw(t.transactionQueueTree_,e)),kw(t,t.transactionQueueTree_),Ao(t.eventQueue_,e,h);for(let _=0;_<f.length;_++)_p(f[_])}else{if("datastale"===l)for(let f=0;f<n.length;f++)n[f].status=3===n[f].status?4:0;else{Ei("transaction at "+c.toString()+" failed: "+l);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=l}Ip(t,e)}},s)}(t,pm(e),n)}else K4(e)&&Dw(e,n=>{kw(t,n)})}function Ip(t,e){const n=aB(t,e),r=pm(n);return function Gse(t,e,n){if(0===e.length)return;const r=[];let i=[];const s=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const c=e[a],l=qi(n,c.path);let f,h=!1;if((0,E.hu)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)h=!0,f=c.abortReason,i=i.concat(yl(t.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=xse)h=!0,f="maxretry",i=i.concat(yl(t.serverSyncTree_,c.currentWriteId,!0));else{const _=aT(t,c.path,s);c.currentInputSnapshot=_;const v=e[a].update(_.val());if(void 0!==v){gm("transaction failed: Data returned ",v,c.path);let M=Un(v);"object"==typeof v&&null!=v&&(0,E.r3)(v,".priority")||(M=M.updatePriority(_.getPriority()));const T=c.currentWriteId,V=ym(t),N=Qb(M,_,V);c.currentOutputSnapshotRaw=M,c.currentOutputSnapshotResolved=N,c.currentWriteId=Rw(t),s.splice(s.indexOf(T),1),i=i.concat(zb(t.serverSyncTree_,c.path,N,c.currentWriteId,c.applyLocally)),i=i.concat(yl(t.serverSyncTree_,T,!0))}else h=!0,f="nodata",i=i.concat(yl(t.serverSyncTree_,c.currentWriteId,!0))}Ao(t.eventQueue_,n,i),i=[],h&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===f?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(f),!1,null)))}Nw(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)_p(r[a]);kw(t,t.transactionQueueTree_)}(t,cB(t,n),r),r}function aB(t,e){let n,r=t.transactionQueueTree_;for(n=mt(e);null!==n&&void 0===Yu(r);)r=Aw(r,n),n=mt(e=rn(e));return r}function cB(t,e){const n=[];return lB(t,e,n),n.sort((r,i)=>r.order-i.order),n}function lB(t,e,n){const r=Yu(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Dw(e,i=>{lB(t,i,n)})}function Nw(t,e){const n=Yu(e);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,eT(e,n.length>0?n:void 0)}Dw(e,r=>{Nw(t,r)})}function cT(t,e){const n=pm(aB(t,e)),r=Aw(t.transactionQueueTree_,e);return function Mse(t,e,n){let r=n?t:t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{lT(t,i)}),lT(t,r),Z4(r,i=>{lT(t,i)}),n}function lT(t,e){const n=Yu(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,E.hu)(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):((0,E.hu)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(yl(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?eT(e,void 0):n.length=o+1,Ao(t.eventQueue_,pm(e),i);for(let s=0;s<r.length;s++)_p(r[s])}}const uT=function(t,e){const n=Zse(t),r=n.namespace;return"firebase.com"===n.domain&&oa(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&oa("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ei("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new hb(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,e,"",r!==n.subdomain),path:new Ht(n.pathString)}},Zse=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",c=443;if("string"==typeof t){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let h=t.indexOf("/");-1===h&&(h=t.length);let f=t.indexOf("?");-1===f&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(i=function qse(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(t.substring(h,f)));const _=function Kse(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ei(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,f)));l=e.indexOf(":"),l>=0?(s="https"===a||"wss"===a,c=parseInt(e.substring(l+1),10)):l=e.length;const v=e.slice(0,l);if("localhost"===v.toLowerCase())n="localhost";else if(v.split(".").length<=2)n=v;else{const M=e.indexOf(".");r=e.substring(0,M).toLowerCase(),n=e.substring(M+1),o=r}"ns"in _&&(o=_.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},uB="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Yse=function(){let t=0;const e=[];return function(n){const r=n===t;let i;t=n;const o=new Array(8);for(i=7;i>=0;i--)o[i]=uB.charAt(n%64),n=Math.floor(n/64);(0,E.hu)(0===n,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&63===e[i];i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)s+=uB.charAt(e[i]);return(0,E.hu)(20===s.length,"nextPushId: Length should be 20."),s}}();class dB{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,E.Wl)(this.snapshot.exportVal())}}class hB{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class dT{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return(0,E.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class pB{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new E.BH;return Use(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){ss("OnDisconnect.remove",this._path);const e=new E.BH;return oB(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){ss("OnDisconnect.set",this._path),ca("OnDisconnect.set",e,this._path,!1);const n=new E.BH;return oB(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){ss("OnDisconnect.setWithPriority",this._path),ca("OnDisconnect.setWithPriority",e,this._path,!1),rT("OnDisconnect.setWithPriority",n,!1);const r=new E.BH;return function Bse(t,e,n,r,i){const o=Un(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),(s,a)=>{"ok"===s&&wp(t.onDisconnect_,e,o),vl(0,i,s,a)})}(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){ss("OnDisconnect.update",this._path),Q4("OnDisconnect.update",e,this._path,!1);const n=new E.BH;return function jse(t,e,n,r){if((0,E.xb)(n))return jr("onDisconnect().update() called with empty data.  Don't do anything."),void vl(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,(i,o)=>{"ok"===i&&$r(n,(s,a)=>{const c=Un(a);wp(t.onDisconnect_,Rn(e,s),c)}),vl(0,r,i,o)})}(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}}class ho{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return yt(this._path)?null:yb(this._path)}get ref(){return new as(this._repo,this._path)}get _queryIdentifier(){const e=m4(this._queryParams),n=ub(e);return"{}"===n?"default":n}get _queryObject(){return m4(this._queryParams)}isEqual(e){if(!((e=(0,E.m9)(e))instanceof ho))return!1;const n=this._repo===e._repo,r=vb(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function jie(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}function Fw(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Cl(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===sa){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==dl)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==rc)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===pn){if(null!=e&&!fm(e)||null!=n&&!fm(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,E.hu)(t.getIndex()instanceof Eb||t.getIndex()===Ob,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Lw(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class as extends ho{constructor(e,n){super(e,n,new hw,!1)}get parent(){const e=o4(this._path);return null===e?null:new as(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Qu{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ht(e),r=Xu(this.ref,e);return new Qu(this._node.getChild(n),r,pn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new Qu(i,Xu(this.ref,r),pn)))}hasChild(e){const n=new Ht(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function En(t,e){return(t=(0,E.m9)(t))._checkNotDeleted("ref"),void 0!==e?Xu(t._root,e):t._root}function fB(t,e){(t=(0,E.m9)(t))._checkNotDeleted("refFromURL");const n=uT(e,t._repo.repoInfo_.nodeAdmin);X4("refFromURL",n);const r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&oa("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),En(t,n.path.toString())}function Xu(t,e){return null===mt((t=(0,E.m9)(t))._path)?Ase("child","path",e,!1):mm("child","path",e,!1),new as(t._repo,Rn(t._path,e))}function Do(t,e){t=(0,E.m9)(t),ss("set",t._path),ca("set",e,t._path,!1);const n=new E.BH;return oT(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function tae(t,e){Q4("update",e,t._path,!1);const n=new E.BH;return function Lse(t,e,n,r){Op(t,"update",{path:e.toString(),value:n});let i=!0;const o=ym(t),s={};if($r(n,(a,c)=>{i=!1,s[a]=q4(Rn(e,a),Un(c),t.serverSyncTree_,o)}),i)jr("update() called with empty data.  Don't do anything."),vl(0,r,"ok",void 0);else{const a=Rw(t),c=function lse(t,e,n,r){!function Ioe(t,e,n,r){(0,E.hu)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Nb(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);const i=fn.fromObject(n);return Ep(t,new Pp({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,e,s,a);xw(t.eventQueue_,c),t.server_.merge(e.toString(),n,(l,h)=>{const f="ok"===l;f||Ei("update at "+e+" failed: "+l);const _=yl(t.serverSyncTree_,a,!f),v=_.length>0?Ip(t,e):e;Ao(t.eventQueue_,v,_),vl(0,r,l,h)}),$r(n,l=>{const h=cT(t,Rn(e,l));Ip(t,h)}),Ao(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function bp(t){t=(0,E.m9)(t);const e=new dT(()=>{}),n=new vm(e);return function Fse(t,e,n){const r=function fse(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(l,h)=>{const f=qi(l,n);r=r||_l(h,f)});let i=t.syncPointTree_.get(n);i?r=r||_l(i,Ut()):(i=new F4,t.syncPointTree_=t.syncPointTree_.set(n,i));const o=null!=r,s=o?new fl(r,!0,!1):null;return function Qoe(t){return yw(t.viewCache_)}(L4(i,e,vw(t.pendingWriteTree_,e._path),o?s.getNode():nt.EMPTY_NODE,o))}(t.serverSyncTree_,e);return null!=r?Promise.resolve(r):t.server_.get(e).then(i=>{const o=Un(i).withIndex(e._queryParams.getIndex());let s;if(Wb(t.serverSyncTree_,e,n,!0),e._queryParams.loadsAllData())s=um(t.serverSyncTree_,e._path,o);else{const a=dm(t.serverSyncTree_,e);s=$4(t.serverSyncTree_,e._path,o,a)}return Ao(t.eventQueue_,e._path,s),Iw(t.serverSyncTree_,e,n,null,!0),o},i=>(Op(t,"get for query "+(0,E.Wl)(e)+" failed: "+i),Promise.reject(new Error(i))))}(t._repo,t,n).then(r=>new Qu(r,new as(t._repo,t._path),t._queryParams.getIndex()))}class vm{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,n){const r=n._queryParams.getIndex();return new dB("value",this,new Qu(e.snapshotNode,new as(n._repo,n._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new hB(this,e,n):null}matches(e){return e instanceof vm&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Vw{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n="children_added"===e?"child_added":e;return n="children_removed"===n?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new hB(this,e,n):null}createEvent(e,n){(0,E.hu)(null!=e.childName,"Child events should have a childName.");const r=Xu(new as(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new dB(e.type,this,new Qu(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Vw&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Cm(t,e,n,r,i){let o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){const c=n,l=(h,f)=>{sT(t._repo,t,a),c(h,f)};l.userCallback=n.userCallback,l.context=n.context,n=l}const s=new dT(n,o||void 0),a="value"===e?new vm(s):new Vw(e,s);return function $se(t,e,n){let r;r=".info"===mt(e._path)?Wb(t.infoSyncTree_,e,n):Wb(t.serverSyncTree_,e,n),J4(t.eventQueue_,e._path,r)}(t._repo,t,a),()=>sT(t._repo,t,a)}function xs(t,e,n,r){return Cm(t,"value",e,n,r)}function gB(t,e,n,r){return Cm(t,"child_added",e,n,r)}function _B(t,e,n,r){return Cm(t,"child_changed",e,n,r)}function mB(t,e,n,r){return Cm(t,"child_moved",e,n,r)}function yB(t,e,n,r){return Cm(t,"child_removed",e,n,r)}function vB(t,e,n){let r=null;const i=n?new dT(n):null;"value"===e?r=new vm(i):e&&(r=new Vw(e,i)),sT(t._repo,t,r)}class Rs{}class CB extends Rs{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){ca("endAt",this._value,e._path,!0);const n=Tb(e._queryParams,this._value,this._key);if(Lw(n),Cl(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ho(e._repo,e._path,n,e._orderByCalled)}}class rae extends Rs{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){ca("endBefore",this._value,e._path,!1);const n=function poe(t,e,n){let r;return r=Tb(t,e,t.index_===sa||n?n:dl),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(Lw(n),Cl(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ho(e._repo,e._path,n,e._orderByCalled)}}class wB extends Rs{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){ca("startAt",this._value,e._path,!0);const n=bb(e._queryParams,this._value,this._key);if(Lw(n),Cl(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ho(e._repo,e._path,n,e._orderByCalled)}}class sae extends Rs{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){ca("startAfter",this._value,e._path,!1);const n=function hoe(t,e,n){let r;return r=bb(t,e,t.index_===sa||n?n:rc),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Lw(n),Cl(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ho(e._repo,e._path,n,e._orderByCalled)}}class cae extends Rs{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ho(e._repo,e._path,function uoe(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}class uae extends Rs{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ho(e._repo,e._path,function doe(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}class hae extends Rs{constructor(e){super(),this._path=e}_apply(e){Fw(e,"orderByChild");const n=new Ht(this._path);if(yt(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new Eb(n),i=pw(e._queryParams,r);return Cl(i),new ho(e._repo,e._path,i,!0)}}class fae extends Rs{_apply(e){Fw(e,"orderByKey");const n=pw(e._queryParams,sa);return Cl(n),new ho(e._repo,e._path,n,!0)}}class _ae extends Rs{_apply(e){Fw(e,"orderByPriority");const n=pw(e._queryParams,pn);return Cl(n),new ho(e._repo,e._path,n,!0)}}class yae extends Rs{_apply(e){Fw(e,"orderByValue");const n=pw(e._queryParams,Ob);return Cl(n),new ho(e._repo,e._path,n,!0)}}class Cae extends Rs{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){if(ca("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new CB(this._value,this._key)._apply(new wB(this._value,this._key)._apply(e))}}function ks(t,...e){let n=(0,E.m9)(t);for(const r of e)n=r._apply(n);return n}(function tse(t){(0,E.hu)(!Mw,"__referenceConstructor has already been defined"),Mw=t})(as),function sse(t){(0,E.hu)(!Ow,"__referenceConstructor has already been defined"),Ow=t}(as);const hT={};function pT(t,e,n,r,i){let o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||oa("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),jr("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let c,l,s=uT(o,i),a=s.repoInfo;typeof process<"u"&&process.env&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=uT(o,i),a=s.repoInfo):c=!s.repoInfo.secure;const h=i&&c?new X_(X_.OWNER):new _ie(t.name,t.options,e);X4("Invalid Firebase Database URL",s),yt(s.path)||oa("Database URL must point to the root of a Firebase Database (not including a child path).");const f=function Oae(t,e,n,r){let i=hT[e.name];i||(i={},hT[e.name]=i);let o=i[t.toURLString()];return o&&oa("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Rse(t,false,n,r),i[t.toURLString()]=o,o}(a,t,h,new gie(t.name,n));return new bae(f,t)}class bae{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function kse(t,e,n){if(t.stats_=gb(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new fw(t.repoInfo_,(r,i,o,s)=>{rB(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>iB(t,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,E.Wl)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Gu(t.repoInfo_,e,(r,i,o,s)=>{rB(t,r,i,o,s)},r=>{iB(t,r)},r=>{!function Nse(t,e){$r(e,(n,r)=>{iT(t,n,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function vie(t,e){const n=t.toString();return fb[n]||(fb[n]=e()),fb[n]}(t.repoInfo_,()=>new voe(t.stats_,t.server_)),t.infoData_=new foe,t.infoSyncTree_=new j4({startListening:(r,i,o,s)=>{let a=[];const c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=um(t.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),iT(t,"connected",!1),t.serverSyncTree_=new j4({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,c)=>{const l=s(a,c);Ao(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new as(this._repo,Ut())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Eae(t,e){const n=hT[e];(!n||n[t.key]!==t)&&oa(`Database ${e}(${t.repoInfo_}) has already been deleted.`),sB(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&oa("Cannot call "+e+" on a deleted database.")}}function MB(){q5.IS_TRANSPORT_INITIALIZED&&Ei("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Tae(){MB(),hl.forceDisallow()}function Aae(){MB(),mp.forceDisallow(),hl.forceAllow()}function Bn(t=(0,Be.getApp)(),e){const n=(0,Be._getProvider)(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=(0,E.P0)("database");r&&EB(n,...r)}return n}function EB(t,e,n,r={}){(t=(0,E.m9)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&oa("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&oa('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new X_(X_.OWNER);else if(r.mockUserToken){const s="string"==typeof r.mockUserToken?r.mockUserToken:(0,E.Sg)(r.mockUserToken,t.app.options.projectId);o=new X_(s)}!function Mae(t,e,n,r){t.repoInfo_=new hb(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}(i,e,n,o)}function xae(t,e){b5(t,e)}const kae={".sv":"timestamp"};class Lae{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Gu.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Gu.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},function Rae(t){ab(Be.SDK_VERSION),(0,Be._registerComponent)(new To.wA("database",(e,{instanceIdentifier:n})=>pT(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),(0,Be.registerVersion)(w5,"1.0.1",t),(0,Be.registerVersion)(w5,"1.0.1","esm2017")}();const On_firebaseConfig={apiKey:"AIzaSyBAbOn_DL4wzdJtwKluPbbuaigV-4At9WY",authDomain:"photohub-4d669.firebaseapp.com",databaseURL:"https://photohub-4d669-default-rtdb.firebaseio.com",projectId:"photohub-4d669",storageBucket:"photohub-4d669.appspot.com",messagingSenderId:"825330385142",appId:"1:825330385142:web:b2b6add9e9f69aed14acd7",measurementId:"G-6K792J2R3M"};let Tp=(()=>{var t;class e{getUsers(){return new Promise((r,i)=>{xs(En(Bn((0,Be.initializeApp)(On_firebaseConfig)),"users/"),c=>{const l=c.val(),h=[];for(const f in l)if(l.hasOwnProperty(f)){const _=l[f];h.push({id:_.id,username:_.username||"",password:_.password||"",full_name:_.full_name||"",email:_.email||"",phone_number:_.phone_number||"",address:_.address||"",avatar:_.avatar||"",role_id:_.role_id||0,exp:_.exp||0})}r(h)})})}getUserById(r){var i=this;return(0,x.Z)(function*(){try{return(yield i.getUsers()).find(a=>a.id===r)||null}catch(o){return console.error("Error fetching user by ID:",o),null}})()}getUserByUsername(r){var i=this;return(0,x.Z)(function*(){try{return(yield i.getUsers()).find(a=>a.username===r)||null}catch(o){return console.error("Error fetching user by username",o),null}})()}createUser(r){var i=this;return(0,x.Z)(function*(){try{if(!(yield i.isUsernameUnique(r.username)))return console.log("The username is not unique"),null;const a=Bn((0,Be.initializeApp)(On_firebaseConfig)),c=yield i.generateNewId(),l=En(a,"users/"+c),h={id:c,username:r.username,password:r.password,full_name:r.full_name,email:r.email,phone_number:r.phone_number,address:r.address,exp:r.exp,avatar:r.avatar,role_id:r.role_id};return yield Do(l,h),h}catch(o){return console.error("Error creating user:",o),null}})()}updateUser(r){var i=this;return(0,x.Z)(function*(){try{if(null===(yield i.getUserById(r.id)))return console.error("User information not found for ID:",r.id),null;const a=Bn((0,Be.initializeApp)(On_firebaseConfig)),c={id:r.id,username:r.username,password:r.password,full_name:r.full_name,email:r.email,phone_number:r.phone_number,address:r.address,avatar:r.avatar,role_id:r.role_id,exp:r.exp},l=En(a,`users/${r.id}`);return yield Do(l,c),r}catch(o){return console.error("Error updating user:",o),null}})()}generateNewId(){var r=this;return(0,x.Z)(function*(){const i=yield r.getUsers();return(0===i.length?0:Math.max(...i.map(s=>s.id)))+1})()}isUsernameUnique(r){return(0,x.Z)(function*(){const s=En(Bn((0,Be.initializeApp)(On_firebaseConfig)),"users"),c=(yield bp(s)).val();if(c)for(const l in c)if(c.hasOwnProperty(l)&&c[l].username===r)return!1;return!0})()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),fT=(()=>{var t;class e{getUserInfos(){return new Promise((r,i)=>{xs(En(Bn((0,Be.initializeApp)(On_firebaseConfig)),"user_info/"),c=>{const l=c.val(),h=[];for(const f in l)if(l.hasOwnProperty(f)){const _=l[f];h.push({id:_.id,user_id:_.user_id,img1:_.img1||"",img2:_.img2||"",img3:_.img3||"",cost:_.cost||0,description:_.description||"",prize:_.prize||"",interest:_.interest||"",language:_.language||"",camera:_.camera||"",portfolio:_.portfolio||[],typeOfPhoto:_.typeOfPhoto||[]})}r(h)})})}getUserInfoById(r){var i=this;return(0,x.Z)(function*(){try{return(yield i.getUserInfos()).find(a=>a.id===r)||null}catch(o){return console.error("Error fetching user info by ID:",o),null}})()}createUserInfo(r){var i=this;return(0,x.Z)(function*(){try{if(!(yield i.isUserIdUnique(r.user_id)))return console.log("The id is not unique"),null;const a=Bn((0,Be.initializeApp)(On_firebaseConfig)),c=yield i.generateNewId(),l=En(a,"user_info/"+c),h={id:c,user_id:r.user_id,img1:r.img1||"",img2:r.img2||"",img3:r.img3||"",cost:r.cost||0,description:r.description||"",prize:r.prize||"",interest:r.interest||"",language:r.language||"",camera:r.camera||"",portfolio:r.portfolio||[],typeOfPhoto:r.typeOfPhoto||[]};return yield Do(l,h),h}catch(o){return console.error("Error creating user:",o),null}})()}updateUserInfo(r){var i=this;return(0,x.Z)(function*(){try{const s=Bn((0,Be.initializeApp)(On_firebaseConfig));if(null===(yield i.getUserInfoById(r.id)))return console.error("User information not found for ID:",r.id),null;const c={id:r.id,user_id:r.user_id,img1:r.img1||"",img2:r.img2||"",img3:r.img3||"",cost:r.cost||0,description:r.description||"",prize:r.prize||"",interest:r.interest||"",language:r.language||"",camera:r.camera||"",portfolio:r.portfolio||[],typeOfPhoto:r.typeOfPhoto||[]},l=En(s,`user_info/${r.id}`);return yield Do(l,c),c}catch(o){return console.error("Error updating user information:",o),null}})()}generateNewId(){var r=this;return(0,x.Z)(function*(){const i=yield r.getUserInfos();return(0===i.length?0:Math.max(...i.map(s=>s.id)))+1})()}isUserIdUnique(r){return(0,x.Z)(function*(){const s=En(Bn((0,Be.initializeApp)(On_firebaseConfig)),"user_info"),c=(yield bp(s)).val();if(c)for(const l in c)if(c.hasOwnProperty(l)&&c[l].user_id===r)return!1;return!0})()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Uw=(()=>{var t;class e{constructor(r,i){this.userService=r,this.userInfoService=i}getUserInfoDTOs(){return sl([this.userService.getUsers(),this.userInfoService.getUserInfos()]).pipe(me(([r,i])=>{const o=[];for(const s of r){const a=i.find(c=>c.user_id===s.id);a&&o.push({user:s,userInfo:a})}return o}),is(r=>[]))}getUserInfoDTOsByRole(r){return sl([this.userService.getUsers(),this.userInfoService.getUserInfos()]).pipe(me(([i,o])=>{const s=[];for(const a of i){const c=o.find(l=>l.user_id===a.id&&a.role_id===r);c&&s.push({user:a,userInfo:c})}return s}),is(i=>[]))}getUserInfoDTOsById(r){return sl([this.userService.getUsers(),this.userInfoService.getUserInfos()]).pipe(me(([i,o])=>{const s=[];for(const c of i){const l=o.find(h=>h.user_id===c.id);l&&s.push({user:c,userInfo:l})}return s.find(c=>c.user.id===r)||null}),is(i=>Q(null)))}}return(t=e).\u0275fac=function(r){return new(r||t)(oe(Tp),oe(fT))},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Uae(t,e){if(1&t&&(m(0,"div",80)(1,"a",81)(2,"div",82)(3,"div",83)(4,"div",84),A(5,"img",85),y(),m(6,"div",86)(7,"div",87),A(8,"img",85),y(),m(9,"div",88),A(10,"img",85),y()()(),m(11,"div",89)(12,"div",90)(13,"h4",91),w(14),y(),m(15,"span",92),w(16),y()(),m(17,"div",93)(18,"p",94),w(19),y(),m(20,"div",95)(21,"div",96),A(22,"img",97)(23,"img",97)(24,"img",97)(25,"img",97)(26,"img",97),y(),m(27,"span",98),w(28,"5.0"),y()()()(),m(29,"div",99),A(30,"img",100),y()()()()),2&t){const n=e.$implicit;O(1),o0("routerLink","/profile/",n.user.id,""),O(4),Jo("src",n.userInfo.img1,Sr),O(3),Jo("src",n.userInfo.img2,Sr),O(2),Jo("src",n.userInfo.img3,Sr),O(4),Ne(n.user.full_name),O(2),Ne(n.user.address),O(3),Rt("",n.userInfo.cost,"/h")}}let OB=(()=>{var t;class e{constructor(r){this.userInfoDTOService=r,this.userInfoData=[]}ngOnInit(){this.loadUserInfoData()}loadUserInfoData(){this.userInfoDTOService.getUserInfoDTOsByRole(2).subscribe(r=>{this.userInfoData=r},r=>{console.error("Error fetching user information: ",r)})}}return(t=e).\u0275fac=function(r){return new(r||t)(Z(Uw))},t.\u0275cmp=Tt({type:t,selectors:[["app-home"]],decls:141,vars:1,consts:[[1,"home-content"],[1,"banner-wrapper"],[1,"banner-container"],[1,"banner-content"],["src","./assets/images/banner.jpg","alt","banner",1,"banner-image"],[1,"banner-search"],[1,"bsearch-title"],[1,"stitle"],[1,"slogan"],[1,"bsearch-content"],[1,"bsearch-quest-wrapper"],["type","text","name","","id","bsearch-quest","placeholder","D\u1ecbch v\u1ee5 b\u1ea1n \u0111ang t\xecm ki\u1ebfm ?"],[1,"bsearch-locate-wrapper"],["href","javascript:void(0)",1,"locate-icon"],[1,"bx","bxs-map"],["type","text","name","","id","bsearch-locate","placeholder","\u0110\u1ecba \u0111i\u1ec3m"],["href","javascript:void(0)","id","bsearch-icon"],[1,"bx","bx-search"],[1,"bsearch-suggest"],[1,"content-wrapper"],[1,"forUs-wrapper"],[1,"forUs-title"],[1,"fu-content-wrapper"],[1,"fu-content"],[1,"icon-wrapper"],["src","./assets/images/icons/icon1.png","alt","",1,"fu-icon"],[1,"fu-txt"],["src","./assets/images/icons/icon2.png","alt","",1,"fu-icon"],["src","./assets/images/icons/icon3.png","alt","",1,"fu-icon"],[1,"photo-popular-wrapper"],[1,"ppopular-title"],[1,"ppopular-wrapper"],["class","ppopular-item ",4,"ngFor","ngForOf"],[1,"ppopular-detail"],["routerLink","/collection",1,"ppopular-detail-link"],[1,"bx","bx-chevron-right"],[1,"category-wrapper"],[1,"category-title"],[1,"cate-content-wrapper"],[1,"cate-content"],["routerLink","/collection"],[1,"cate-picture"],[1,"picture-wrapper"],["src","./assets/images/user/Rectangle 23.png","alt",""],[1,"cate-name"],[1,"text-name"],["src","./assets/images/user/Rectangle 24.png","alt",""],["src","./assets/images/user/Rectangle 25.png","alt",""],["src","./assets/images/user/Rectangle 26.png","alt",""],[1,"description-wrapper"],[1,"des-title"],[1,"des-content-wrapper"],[1,"des-content"],[1,"des-left"],[1,"des-attention"],[1,"des-atten-title"],[1,"des-atten-text"],[1,"bx","bx-calendar-check"],[1,"bx","bx-smile"],[1,"des-right"],[1,"right-picture-first"],[1,"rf-left"],[1,"rf-left-first"],["src","./assets/images/user/Rectangle 28.png","alt",""],[1,"rf-left-second"],["src","./assets/images/user/Rectangle 34.png","alt",""],["src","./assets/images/user/Rectangle 35.png","alt",""],[1,"rf-right"],["src","./assets/images/user/Rectangle 29.png","alt","",1,"rf-right-img1"],["src","./assets/images/user/Rectangle 30.png","alt","",1,"rf-right-img2"],[1,"right-picture-second"],["src","./assets/images/user/Rectangle 32.png","alt",""],["src","./assets/images/user/Rectangle 47.png","alt",""],["src","./assets/images/user/Rectangle 33.png","alt",""],[1,"call-contact-warpper"],[1,"contact-bg"],["src","./assets/images/user/Rectangle 36.png","alt",""],[1,"contact-text"],[1,"contact-title"],["routerLink","",1,"contact-link"],[1,"ppopular-item"],[1,"ppopular-link",3,"routerLink"],[1,"ppopular-content"],[1,"pp-picture"],[1,"picture-1"],["alt","",3,"src"],[1,"picture-right"],[1,"picture-2"],[1,"picture-3"],[1,"pp-info"],[1,"info-left"],[1,"info-title"],[1,"info-address"],[1,"info-right"],[1,"info-price"],[1,"info-rate"],[1,"rate-star"],["src","./assets/images/icons/star-fill.png","alt",""],[1,"rate-text"],[1,"pp-avatar"],["src","./assets/images/avatar/avatar1.jpeg","alt","avatar"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),A(4,"img",4),y()(),m(5,"div",5)(6,"div",6)(7,"h1",7),w(8,"PhotoHub"),y(),m(9,"p",8),w(10,"Picture - Perfect Memory, Just a Click Away"),y()(),m(11,"div",9)(12,"div",10),A(13,"input",11),y(),m(14,"div",12)(15,"a",13),A(16,"i",14),y(),A(17,"input",15),y(),m(18,"a",16),A(19,"i",17),y()(),A(20,"div",18),y()(),m(21,"div",19)(22,"div",20)(23,"h2",21),w(24,"\u0110\u1ebfn v\u1edbi ch\xfang t\xf4i"),y(),m(25,"div",22)(26,"div",23)(27,"div",24),A(28,"img",25),y(),m(29,"p",26),w(30,"\u0110\u1ed9i ng\u0169 nhi\u1ebfp \u1ea3nh chuy\xean nghi\u1ec7p"),y()(),m(31,"div",23)(32,"div",24),A(33,"img",27),y(),m(34,"p",26),w(35,"\u0110\u1ea3m b\u1ea3o h\xe0i l\xf2ng kh\xe1ch h\xe0ng ho\u1eb7c ho\xe0n tr\u1ea3 ti\u1ec1n n\u1ebfu kh\xf4ng \u0111\xe1p \u1ee9ng \u0111\u1ee7 y\xeau c\u1ea7u"),y()(),m(36,"div",23)(37,"div",24),A(38,"img",28),y(),m(39,"p",26),w(40,"C\xf3 \u0111\u1ebfn 800+ nhi\u1ebfp \u1ea3nh tr\xean PhotoHub v\u1edbi 4.5+ start \u0111\xe1nh gi\xe1"),y()()()(),m(41,"div",29)(42,"h2",30),w(43,"Nhi\u1ebfp \u1ea3nh gia ph\u1ed5 bi\u1ebfn"),y(),m(44,"div",31),q(45,Uae,31,7,"div",32),y(),m(46,"div",33)(47,"a",34),w(48,"Xem t\u1ea5t c\u1ea3 "),A(49,"i",35),y()()(),m(50,"div",36)(51,"h2",37),w(52,"Th\u1ec3 lo\u1ea1i"),y(),m(53,"div",38)(54,"div",39)(55,"a",40)(56,"div",41)(57,"div",42),A(58,"img",43),y()(),m(59,"div",44)(60,"div",45)(61,"h4"),w(62,"Du l\u1ecbch"),y()()()()(),m(63,"div",39)(64,"a",40)(65,"div",41)(66,"div",42),A(67,"img",46),y()(),m(68,"div",44)(69,"div",45)(70,"h4"),w(71,"LookBook"),y()()()()(),m(72,"div",39)(73,"a",40)(74,"div",41)(75,"div",42),A(76,"img",47),y()(),m(77,"div",44)(78,"div",45)(79,"h4"),w(80,"Catalogue"),y()()()()(),m(81,"div",39)(82,"a",40)(83,"div",41)(84,"div",42),A(85,"img",48),y()(),m(86,"div",44)(87,"div",45)(88,"h4"),w(89,"Kh\xe1c"),y()()()()()()(),m(90,"div",49)(91,"h2",50),w(92,"N\u1eafm b\u1eaft kho\u1ea3nh kh\u1eafc c\u1ee7a b\u1ea1n "),m(93,"span"),w(94,"ch\u1ec9 v\u1edbi 3 b\u01b0\u1edbc"),y()(),m(95,"div",51)(96,"div",52)(97,"div",53)(98,"div",54)(99,"h4",55),A(100,"i",17),w(101," T\xecm ki\u1ebfm nhi\u1ebfp \u1ea3nh gia "),y(),m(102,"div",56),w(103," T\xecm ki\u1ebfm nh\u1eefng nhi\u1ebfp \u1ea3nh gia xung quanh khu v\u1ef1c b\u1ea1n v\u1edbi gi\xe1 c\u1ea3 h\u1ee3p l\xfd, ph\xf9 h\u1ee3p v\u1edbi nhu c\u1ea7u c\u1ee7a b\u1ea1n. Tham kh\u1ea3o h\u1ed3 s\u01a1 v\xe0 th\xeam ngay c\xe1c nhi\u1ebfp \u1ea3nh gia v\xe0o danh m\u1ee5c y\xeau th\xedch. "),y()(),m(104,"div",54)(105,"h4",55),A(106,"i",57),w(107," \u0110\u1eb7t l\u1ecbch h\u1eb9n "),y(),m(108,"div",56),w(109," Sau khi l\u1ef1a ch\u1ecdn xong nhi\u1ebfp \u1ea3nh gia ph\xf9 h\u1ee3p, nhanh ch\xf3ng \u0111\u1eb7t l\u1ecbch ch\u1ec9 b\u1eb1ng v\xe0i thao t\xe1c chu\u1ed9t. Nhi\u1ebfp \u1ea3nh gia s\u1ebd x\xe1c nh\u1eadn v\xe0 c\xf9ng ch\u1edd \u0111\u1ee3i \u0111\u1ebfn ng\xe0y ch\u1ee5p \u1ea3nh. "),y()(),m(110,"div",54)(111,"h4",55),A(112,"i",58),w(113," Chia s\u1ebb kho\u1ea3nh kh\u1eafc tuy\u1ec7t v\u1eddi c\u1ee7a b\u1ea1n "),y(),m(114,"div",56),w(115," H\xe3y gi\u1eef li\xean l\u1ea1c v\u1edbi nhi\u1ebfp \u1ea3nh gia c\u1ee7a b\u1ea1n trong v\xe0 sau khi nh\u1eadn booking. Sau ng\xe0y ch\u1ee5p \u1ea3nh, b\u1ea1n c\xf3 th\u1ec3 l\u1ef1a ch\u1ecdn v\xe0 chia s\u1ebb c\xe1c b\u1ee9c h\xecnh \u0111\u1eb9p m\xe0 nhi\u1ebfp \u1ea3nh gia \u0111\xe3 ch\u1ee5p v\xe0 x\u1eed l\xfd. "),y()()(),m(116,"div",59)(117,"div",60)(118,"div",61)(119,"div",62),A(120,"img",63),y(),m(121,"div",64),A(122,"img",65)(123,"img",66),y()(),m(124,"div",67),A(125,"img",68)(126,"img",69),y()(),m(127,"div",70),A(128,"img",71)(129,"img",72)(130,"img",73),y()()()()(),m(131,"div",74)(132,"div",75),A(133,"img",76),y(),m(134,"div",77)(135,"h3",78),w(136," B\u1ea1n c\xf3 ph\u1ea3i l\xe0 m\u1ed9t nhi\u1ebfp \u1ea3nh gia chuy\xean nghi\u1ec7p v\xe0 \u0111\u1ea7y tham v\u1ecdng? "),y(),m(137,"p"),w(138,"Tham gia c\u1ed9ng \u0111\u1ed3ng PhotoHub v\xe0 nh\u1eadn booking job ngay h\xf4m nay"),y(),m(139,"a",79),w(140," \u0110\u0103ng k\xfd ngay "),y()()()()()),2&r&&(O(45),F("ngForOf",i.userInfoData))},dependencies:[Gi,kr],styles:['@charset "UTF-8";.banner-wrapper[_ngcontent-%COMP%]{height:calc(100vh - 10.75rem);max-height:800px;position:relative}.banner-wrapper[_ngcontent-%COMP%]   .banner-container[_ngcontent-%COMP%], .banner-wrapper[_ngcontent-%COMP%]   .banner-container[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]{height:100%}.banner-wrapper[_ngcontent-%COMP%]   .banner-container[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-image[_ngcontent-%COMP%]{height:100%;width:100%}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]{width:100%;position:absolute;top:20%;left:50%;transform:translateY(-50%);transform:translate(-50%)}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-title[_ngcontent-%COMP%]{margin-bottom:2rem}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-title[_ngcontent-%COMP%]   .stitle[_ngcontent-%COMP%]{color:var(--color-primary);text-transform:uppercase;margin:1rem 0;text-align:center}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-title[_ngcontent-%COMP%]   .slogan[_ngcontent-%COMP%]{margin:.5rem 0;text-align:center;font-weight:600;font-size:22px}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]{width:80%;margin:0 auto;display:flex;justify-content:center}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-quest-wrapper[_ngcontent-%COMP%]{width:calc(60% - 1.14rem);height:2.25rem;background-color:var(--color-light);border-right:2px solid var(--color-primary);border-top-left-radius:.3rem!important;border-bottom-left-radius:.3rem!important}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-quest-wrapper[_ngcontent-%COMP%]   #bsearch-quest[_ngcontent-%COMP%]{width:100%;height:100%;border:0;outline:none;color:var(--color-text-body);padding-left:1.25rem}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-quest-wrapper[_ngcontent-%COMP%]   #bsearch-quest[_ngcontent-%COMP%]::placeholder{color:var(--color-text-body)}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-locate-wrapper[_ngcontent-%COMP%]{width:calc(40% - 1.14rem);height:2.25rem;background-color:var(--color-light);display:flex;justify-content:center}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-locate-wrapper[_ngcontent-%COMP%]   .locate-icon[_ngcontent-%COMP%]{height:2.25rem;width:2.25rem;color:var(--color-primary);font-size:22px;display:flex;justify-content:center;align-items:center;text-decoration:none}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-locate-wrapper[_ngcontent-%COMP%]   #bsearch-locate[_ngcontent-%COMP%]{width:100%;height:100%;border:0;outline:none;color:var(--color-text-body);padding-left:.25rem}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-locate-wrapper[_ngcontent-%COMP%]   #bsearch-locate[_ngcontent-%COMP%]::placeholder{color:var(--color-text-body)}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   #bsearch-icon[_ngcontent-%COMP%]{height:2.28rem;width:2.28rem;background-color:var(--color-primary);border-top-right-radius:.3rem;border-bottom-right-radius:.3rem;display:flex;justify-content:center;align-items:center;font-size:24px;text-decoration:none;color:var(--color-secondary)}@media (min-width: 1200px){.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]{max-width:600px}}@media (max-width: 575.98px){.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-title[_ngcontent-%COMP%]   .slogan[_ngcontent-%COMP%]{padding-left:10%;padding-right:10%}}.forUs-wrapper[_ngcontent-%COMP%]   .forUs-title[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:700;text-align:center;margin-bottom:2.5rem}.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:2rem}.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]   .fu-content[_ngcontent-%COMP%]{margin-bottom:2rem}.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]   .fu-content[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:.75rem}.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]   .fu-content[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .fu-icon[_ngcontent-%COMP%]{height:40px;object-fit:cover}.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]   .fu-content[_ngcontent-%COMP%]   .fu-txt[_ngcontent-%COMP%]{text-align:center}@media (max-width: 991.98px){.forUs-wrapper[_ngcontent-%COMP%]   .forUs-title[_ngcontent-%COMP%]{text-align:left!important}.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 767.98px){.forUs-wrapper[_ngcontent-%COMP%]{margin-top:1.5rem!important}}@media (max-width: 575.98px){.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}}.photo-popular-wrapper[_ngcontent-%COMP%]{margin-top:4rem;position:relative}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-title[_ngcontent-%COMP%]{color:var(--color-primary);margin-bottom:2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]{position:relative;max-height:300px;border-radius:.3rem;margin-bottom:2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]{color:var(--color-text-body)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]{position:relative;height:100%;width:100%;border-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]{height:100%;display:flex;column-gap:.2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-1[_ngcontent-%COMP%]{flex:calc(60% - .1rem);border-right:1px solid var(--color-light)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-top-left-radius:.3rem;border-bottom-left-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]{flex:calc(40% - .1rem);display:flex;row-gap:.1rem;flex-direction:column}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%], .photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]{height:calc(100% - .1rem)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:calc(100% - .15rem);width:100%;object-fit:cover}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%]{height:40%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-top-right-radius:.3rem;border-bottom:1px solid var(--color-light)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]{height:60%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-bottom-right-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;left:0;min-height:4.5rem;display:flex;justify-content:space-between;background-color:#ededed;border-bottom-left-radius:.3rem;border-bottom-right-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-left[_ngcontent-%COMP%]{padding-left:1rem;padding-top:.75rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-left[_ngcontent-%COMP%]   .info-title[_ngcontent-%COMP%]{flex:0 0 100%;width:100%;margin:0 0 .25rem;font-size:20px}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-left[_ngcontent-%COMP%]   .info-address[_ngcontent-%COMP%]{flex:0 0 100%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]{padding-top:.75rem;padding-right:.5rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-price[_ngcontent-%COMP%]{width:100%;font-size:14px;text-align:right;margin:0;margin-bottom:.75rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]{margin-right:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:12px;object-fit:cover}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]   .rate-text[_ngcontent-%COMP%]{font-size:14px;padding-top:2px}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-avatar[_ngcontent-%COMP%]{width:3em;height:3em;border-radius:50%;position:absolute;bottom:3.75rem;left:1rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]:hover:before{content:"Xem h\\1ed3  s\\1a1";position:absolute;inset:0;background-color:#000000b3;color:var(--color-light);font-size:20px;padding:10px;transition:opacity .3s;opacity:0;z-index:1;border-radius:.3rem;display:flex;justify-content:center;align-items:center}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]:hover:before{opacity:1}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]{position:absolute;right:0;top:2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]{text-decoration:none;display:flex;align-items:center;color:var(--color-primary)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:-1px;left:0;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}@media (max-width: 1100px){.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 767.98px){.photo-popular-wrapper[_ngcontent-%COMP%]{margin-top:1.5rem!important}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]{height:7rem;justify-content:flex-start;flex-direction:column}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;padding-left:1rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-price[_ngcontent-%COMP%]{text-align:left;width:auto;margin-right:1.5rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]{justify-content:flex-start}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-avatar[_ngcontent-%COMP%]{bottom:6.26rem}}@media (max-width: 575.98px){.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}}.category-wrapper[_ngcontent-%COMP%]{margin-top:4rem}.category-wrapper[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]{color:var(--color-primary);margin-bottom:2rem}.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);grid-auto-rows:1fr;column-gap:2rem}.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-text-body)}.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]   .cate-content[_ngcontent-%COMP%]{position:relative;margin-bottom:2rem}.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]   .cate-content[_ngcontent-%COMP%]   .cate-picture[_ngcontent-%COMP%], .category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]   .cate-content[_ngcontent-%COMP%]   .cate-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]{height:100%}.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]   .cate-content[_ngcontent-%COMP%]   .cate-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:.3rem}.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]   .cate-content[_ngcontent-%COMP%]   .cate-name[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;left:0;height:4.5rem;width:100%;background-color:#ededed;display:flex;justify-content:center;align-items:center;border-bottom-left-radius:.3rem;border-bottom-right-radius:.3rem}@media (max-width: 991.98px){.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 767.98px){.category-wrapper[_ngcontent-%COMP%]{margin-top:1.5rem!important}}@media (max-width: 575.98px){.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}}.description-wrapper[_ngcontent-%COMP%]   .des-title[_ngcontent-%COMP%]{color:var(--color-primary);margin-bottom:2rem}.description-wrapper[_ngcontent-%COMP%]   .des-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;color:var(--color-warning)}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:3rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-left[_ngcontent-%COMP%]   .des-attention[_ngcontent-%COMP%]{margin-bottom:2rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-left[_ngcontent-%COMP%]   .des-attention[_ngcontent-%COMP%]   .des-atten-title[_ngcontent-%COMP%]{font-size:19px;margin:0;margin-bottom:1rem;display:flex;align-items:center;color:var(--color-primary);font-weight:600}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-left[_ngcontent-%COMP%]   .des-attention[_ngcontent-%COMP%]   .des-atten-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:25px;margin-right:1rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-left[_ngcontent-%COMP%]   .des-attention[_ngcontent-%COMP%]   .des-atten-text[_ngcontent-%COMP%]{padding-left:2.5rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]{max-height:600px;display:flex;flex-direction:column;row-gap:.5rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]{height:calc(60% - .25rem);width:100%;display:flex;column-gap:.5rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-left[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;row-gap:.5rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-left[_ngcontent-%COMP%]   .rf-left-first[_ngcontent-%COMP%]{width:100%;height:calc(70% - .25rem)}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-left[_ngcontent-%COMP%]   .rf-left-first[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-left[_ngcontent-%COMP%]   .rf-left-second[_ngcontent-%COMP%]{width:100%;height:calc(30% - .25rem);display:grid;grid-template-columns:repeat(2,1fr);grid-auto-rows:1fr;column-gap:.5rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-left[_ngcontent-%COMP%]   .rf-left-second[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-right[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;row-gap:.5rem;img-object-fit:cover}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-right[_ngcontent-%COMP%]   .rf-right-img1[_ngcontent-%COMP%]{height:calc(35% - .25rem);width:100%}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-right[_ngcontent-%COMP%]   .rf-right-img2[_ngcontent-%COMP%]{height:calc(65% - .25rem);width:100%}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-second[_ngcontent-%COMP%]{height:calc(40% - .25rem);width:100%;display:flex;column-gap:.5rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-second[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:calc(33.3333333333% - (.25rem + 1px));height:100%;object-fit:cover}@media (max-width: 991.98px){.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}}@media (max-width: 767.98px){.description-wrapper[_ngcontent-%COMP%]{margin-top:1.5rem!important}}@media (max-width: 575.98px){.description-wrapper[_ngcontent-%COMP%]   .des-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline!important}}.call-contact-warpper[_ngcontent-%COMP%]{margin-top:6rem;position:relative}.call-contact-warpper[_ngcontent-%COMP%]   .contact-bg[_ngcontent-%COMP%]{width:100%}.call-contact-warpper[_ngcontent-%COMP%]   .contact-bg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-height:400px;object-fit:fill;object-position:center}.call-contact-warpper[_ngcontent-%COMP%]   .contact-text[_ngcontent-%COMP%]{height:calc(100% - 3rem);width:80%;position:absolute;top:3rem;left:50%;transform:translate(-50%);text-align:center;display:flex;flex-direction:column}.call-contact-warpper[_ngcontent-%COMP%]   .contact-text[_ngcontent-%COMP%]   .contact-title[_ngcontent-%COMP%]{margin-bottom:0}.call-contact-warpper[_ngcontent-%COMP%]   .contact-text[_ngcontent-%COMP%]   .contact-link[_ngcontent-%COMP%]{margin-top:2rem;font-size:18px;font-weight:700;text-decoration:none;color:var(--color-primary);padding:1rem;border:1px solid var(--color-primary);border-radius:.3rem;width:13rem;margin:0 auto}@media (max-width: 767.98px){.call-contact-warpper[_ngcontent-%COMP%]{margin-top:1.5rem!important}}@media (max-width: 575.98px){.call-contact-warpper[_ngcontent-%COMP%]   .contact-bg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:350px}.call-contact-warpper[_ngcontent-%COMP%]   .contact-text[_ngcontent-%COMP%]{width:95%;top:1rem!important}.call-contact-warpper[_ngcontent-%COMP%]   .contact-text[_ngcontent-%COMP%]   .contact-title[_ngcontent-%COMP%]{font-size:20px}}.home-content[_ngcontent-%COMP%]{position:relative}.home-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 4rem 0}@media (max-width: 767.98px){.home-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 2rem 0!important}}']}),e})();function Bae(t,e){if(1&t&&(m(0,"div",6)(1,"a",7)(2,"div",8)(3,"div",9)(4,"div",10),A(5,"img",11),y(),m(6,"div",12)(7,"div",13),A(8,"img",11),y(),m(9,"div",14),A(10,"img",11),y()()(),m(11,"div",15)(12,"div",16)(13,"h4",17),w(14),y(),m(15,"span",18),w(16),y()(),m(17,"div",19)(18,"p",20),w(19),y(),m(20,"div",21)(21,"div",22),A(22,"img",23)(23,"img",23)(24,"img",23)(25,"img",23)(26,"img",23),y(),m(27,"span",24),w(28,"5.0"),y()()()(),m(29,"div",25),A(30,"img",26),y()()()()),2&t){const n=e.$implicit;O(1),F("routerLink","/profile/"+n.user.id),O(4),F("src",n.userInfo.img1,Sr),O(3),F("src",n.userInfo.img2,Sr),O(2),F("src",n.userInfo.img3,Sr),O(4),Ne(n.user.full_name),O(2),Ne(n.user.address),O(3),Rt("",n.userInfo.cost,"/h"),O(11),F("src",n.user.avatar,Sr)}}let IB=(()=>{var t;class e{constructor(r){this.userInfoDTOService=r,this.userInfoData=[],this.userCount=0}ngOnInit(){this.loadUserInfoData()}loadUserInfoData(){this.userInfoDTOService.getUserInfoDTOsByRole(2).subscribe(r=>{this.userInfoData=r,this.userCount=this.userInfoData.length},r=>{console.error("Error fetching user information: ",r)})}}return(t=e).\u0275fac=function(r){return new(r||t)(Z(Uw))},t.\u0275cmp=Tt({type:t,selectors:[["app-shop"]],decls:7,vars:2,consts:[[1,"shop-content"],[1,"content-wrapper"],[1,"photo-popular-wrapper"],[1,"ppopular-title"],[1,"ppopular-wrapper"],["class","ppopular-item",4,"ngFor","ngForOf"],[1,"ppopular-item"],[1,"ppopular-link",3,"routerLink"],[1,"ppopular-content"],[1,"pp-picture"],[1,"picture-1"],["alt","",3,"src"],[1,"picture-right"],[1,"picture-2"],[1,"picture-3"],[1,"pp-info"],[1,"info-left"],[1,"info-title"],[1,"info-address"],[1,"info-right"],[1,"info-price"],[1,"info-rate"],[1,"rate-star"],["src","./assets/images/icons/star-fill.png","alt",""],[1,"rate-text"],[1,"pp-avatar"],["alt","avatar",3,"src"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),w(4),y(),m(5,"div",4),q(6,Bae,31,8,"div",5),y()()()()),2&r&&(O(4),Rt("",i.userCount," nhi\u1ebfp \u1ea3nh gia"),O(2),F("ngForOf",i.userInfoData))},dependencies:[Gi,kr],styles:['@charset "UTF-8";.shop-content[_ngcontent-%COMP%]{position:relative}.shop-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 4rem 0}@media (max-width: 767.98px){.shop-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 2rem 0!important}}.photo-popular-wrapper[_ngcontent-%COMP%]{margin-top:4rem;position:relative}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-title[_ngcontent-%COMP%]{color:var(--color-primary);margin-bottom:2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:3.5rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]{position:relative;max-height:300px;border-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]{color:var(--color-text-body)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]{position:relative;height:100%;width:100%;border-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]{height:100%;display:flex;column-gap:.2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-1[_ngcontent-%COMP%]{flex:calc(60% - .1rem);border-right:1px solid var(--color-light)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-top-left-radius:.3rem;border-bottom-left-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]{flex:calc(40% - .1rem);display:flex;row-gap:.1rem;flex-direction:column}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%], .photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]{height:calc(100% - .1rem)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:calc(100% - .15rem);width:100%;object-fit:cover}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%]{height:40%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-top-right-radius:.3rem;border-bottom:1px solid var(--color-light)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]{height:60%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-bottom-right-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;left:0;min-height:4.5rem;display:flex;justify-content:space-between;background-color:#ededed;border-bottom-left-radius:.3rem;border-bottom-right-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-left[_ngcontent-%COMP%]{padding-left:1rem;padding-top:.75rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-left[_ngcontent-%COMP%]   .info-title[_ngcontent-%COMP%]{flex:0 0 100%;width:100%;margin:0 0 .25rem;font-size:20px}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-left[_ngcontent-%COMP%]   .info-address[_ngcontent-%COMP%]{flex:0 0 100%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]{padding-top:.75rem;padding-right:.5rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-price[_ngcontent-%COMP%]{width:100%;font-size:14px;text-align:right;margin:0;margin-bottom:.75rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]{margin-right:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:12px;object-fit:cover}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]   .rate-text[_ngcontent-%COMP%]{font-size:14px;padding-top:2px}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-avatar[_ngcontent-%COMP%]{width:3em;height:3em;border-radius:50%;position:absolute;bottom:3.75rem;left:1rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]:hover:before{content:"Xem h\\1ed3  s\\1a1";position:absolute;inset:0;background-color:#000000b3;color:var(--color-light);font-size:20px;padding:10px;transition:opacity .3s;opacity:0;z-index:1;border-radius:.3rem;display:flex;justify-content:center;align-items:center}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]:hover:before{opacity:1}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]{position:absolute;right:0;top:2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]{text-decoration:none;display:flex;align-items:center;color:var(--color-primary)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:-1px;left:0;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}@media (max-width: 1350px){.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)!important}}@media (max-width: 1100px){.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 767.98px){.photo-popular-wrapper[_ngcontent-%COMP%]{margin-top:1.5rem!important}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]{height:7rem;justify-content:flex-start;flex-direction:column}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;padding-left:1rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-price[_ngcontent-%COMP%]{text-align:left;width:auto;margin-right:1.5rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]{justify-content:flex-start}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-avatar[_ngcontent-%COMP%]{bottom:6.26rem}}@media (max-width: 575.98px){.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}}']}),e})(),bB=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Z(Ga),Z(ji))},t.\u0275dir=je({type:t}),e})(),Ju=(()=>{var t;class e extends bB{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Dr(t)))(i||t)}}(),t.\u0275dir=je({type:t,features:[Wt]}),e})();const la=new ge("NgValueAccessor"),Hae={provide:la,useExisting:$(()=>Ns),multi:!0},Wae=new ge("CompositionEventMode");let Ns=(()=>{var t;class e extends bB{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function zae(){const t=il()?il().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Z(Ga),Z(ji),Z(Wae,8))},t.\u0275dir=je({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&H("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[xn([Hae]),Wt]}),e})();function wl(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}const Oi=new ge("NgValidators"),Pl=new ge("NgAsyncValidators");function xB(t){return wl(t.value)?{required:!0}:null}function Bw(t){return null}function VB(t){return null!=t}function UB(t){return g_(t)?R(t):t}function BB(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function jB(t,e){return e.map(n=>n(t))}function $B(t){return t.map(e=>function qae(t){return!t.validate}(e)?e:n=>e.validate(n))}function gT(t){return null!=t?function HB(t){if(!t)return null;const e=t.filter(VB);return 0==e.length?null:function(n){return BB(jB(n,e))}}($B(t)):null}function _T(t){return null!=t?function zB(t){if(!t)return null;const e=t.filter(VB);return 0==e.length?null:function(n){return function jae(...t){const e=Hs(t),{args:n,keys:r}=hU(t),i=new at(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let h=0;h<s;h++){let f=!1;zn(n[h]).subscribe(we(o,_=>{f||(f=!0,l--),a[h]=_},()=>c--,void 0,()=>{(!c||!f)&&(l||o.next(r?fU(r,a):a),o.complete())}))}});return e?i.pipe(pU(e)):i}(jB(n,e).map(UB)).pipe(me(BB))}}($B(t)):null}function WB(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function mT(t){return t?Array.isArray(t)?t:[t]:[]}function jw(t,e){return Array.isArray(t)?t.includes(e):t===e}function KB(t,e){const n=mT(e);return mT(t).forEach(i=>{jw(n,i)||n.push(i)}),n}function ZB(t,e){return mT(e).filter(n=>!jw(t,n))}class YB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=gT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=_T(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Ki extends YB{get formDirective(){return null}get path(){return null}}class Ml extends YB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class QB{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ua=(()=>{var t;class e extends QB{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Z(Ml,2))},t.\u0275dir=je({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&es("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Wt]}),e})(),wm=(()=>{var t;class e extends QB{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Z(Ki,10))},t.\u0275dir=je({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&es("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Wt]}),e})();const Pm="VALID",Hw="INVALID",Ap="PENDING",Mm="DISABLED";function CT(t){return(zw(t)?t.validators:t)||null}function wT(t,e){return(zw(e)?e.asyncValidators:t)||null}function zw(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class tj{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Pm}get invalid(){return this.status===Hw}get pending(){return this.status==Ap}get disabled(){return this.status===Mm}get enabled(){return this.status!==Mm}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(KB(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(KB(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ZB(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ZB(e,this._rawAsyncValidators))}hasValidator(e){return jw(this._rawValidators,e)}hasAsyncValidator(e){return jw(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ap,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Mm,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Pm,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pm||this.status===Ap)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Mm:Pm}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ap,this._hasOwnPendingAsyncValidator=!0;const n=UB(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Sn,this.statusChanges=new Sn}_calculateStatus(){return this._allControlsDisabled()?Mm:this.errors?Hw:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ap)?Ap:this._anyControlsHaveStatus(Hw)?Hw:Pm}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){zw(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Qae(t){return Array.isArray(t)?gT(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Xae(t){return Array.isArray(t)?_T(t):t||null}(this._rawAsyncValidators)}}class PT extends tj{constructor(e,n,r){super(CT(n),wT(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function ej(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new te(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function JB(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new te(1e3,"");if(!r[n])throw new te(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Dp=new ge("CallSetDisabledState",{providedIn:"root",factory:()=>Ww}),Ww="always";function Em(t,e,n=Ww){MT(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function tce(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&nj(t,e)})}(t,e),function rce(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function nce(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&nj(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function ece(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Kw(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function MT(t,e){const n=function GB(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(WB(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function qB(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(WB(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Kw(e._rawValidators,i),Kw(e._rawAsyncValidators,i)}function nj(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const cce={provide:Ki,useExisting:$(()=>ed)},Om=(()=>Promise.resolve())();let ed=(()=>{var t;class e extends Ki{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Sn,this.form=new PT({},gT(r),_T(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Om.then(()=>{const i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),Em(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Om.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Om.then(()=>{const i=this._findContainer(r.path),o=new PT({});(function rj(t,e){MT(t,e)})(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Om.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Om.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,function ij(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return(t=e).\u0275fac=function(r){return new(r||t)(Z(Oi,10),Z(Pl,10),Z(Dp,8))},t.\u0275dir=je({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&H("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[xn([cce]),Wt]}),e})();function oj(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function sj(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const aj=class extends tj{constructor(e=null,n,r){super(CT(n),wT(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zw(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=sj(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){oj(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){oj(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){sj(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},dce={provide:Ml,useExisting:$(()=>Fs)},uj=(()=>Promise.resolve())();let Fs=(()=>{var t;class e extends Ml{constructor(r,i,o,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new aj,this._registered=!1,this.name="",this.update=new Sn,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=function IT(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===Ns?n=o:function sce(t){return Object.getPrototypeOf(t.constructor)===Ju}(o)?r=o:i=o}),i||r||n||null}(0,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),function OT(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Em(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){uj.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,o=0!==i&&np(i);uj.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?function Gw(t,e){return[...e.path,t]}(r,this._parent):[r]}}return(t=e).\u0275fac=function(r){return new(r||t)(Z(Ki,9),Z(Oi,10),Z(Pl,10),Z(la,10),Z(v0,8),Z(Dp,8))},t.\u0275dir=je({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[xn([dce]),Wt,mi]}),e})(),Im=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=je({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),hj=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Gn({type:t}),t.\u0275inj=ir({}),e})();const wce={provide:la,useExisting:$(()=>Yw),multi:!0};function vj(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Yw=(()=>{var t;class e extends Ju{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;const o=vj(this._getOptionId(r),r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){const i=function Pce(t){return t.split(":")[0]}(r);return this._optionMap.has(i)?this._optionMap.get(i):r}}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Dr(t)))(i||t)}}(),t.\u0275dir=je({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&H("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[xn([wce]),Wt]}),e})(),Qw=(()=>{var t;class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){null!=this._select&&(this._select._optionMap.set(this.id,r),this._setElementValue(vj(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(t=e).\u0275fac=function(r){return new(r||t)(Z(ji),Z(Ga),Z(Yw,9))},t.\u0275dir=je({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const Mce={provide:la,useExisting:$(()=>DT),multi:!0};function Cj(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let DT=(()=>{var t;class e extends Ju{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){let i;if(this.value=r,Array.isArray(r)){const o=r.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{const o=[],s=i.selectedOptions;if(void 0!==s){const a=s;for(let c=0;c<a.length;c++){const h=this._getOptionValue(a[c].value);o.push(h)}}else{const a=i.options;for(let c=0;c<a.length;c++){const l=a[c];if(l.selected){const h=this._getOptionValue(l.value);o.push(h)}}}this.value=o,r(o)}}_registerOption(r){const i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){const i=function Ece(t){return t.split(":")[0]}(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Dr(t)))(i||t)}}(),t.\u0275dir=je({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&H("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[xn([Mce]),Wt]}),e})(),Xw=(()=>{var t;class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){null!=this._select&&(this._value=r,this._setElementValue(Cj(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(Cj(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(t=e).\u0275fac=function(r){return new(r||t)(Z(ji),Z(Ga),Z(DT,9))},t.\u0275dir=je({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})(),td=(()=>{var t;class e{constructor(){this._validator=Bw}ngOnChanges(r){if(this.inputName in r){const i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Bw,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return null!=r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=je({type:t,features:[mi]}),e})();const bce={provide:Oi,useExisting:$(()=>bm),multi:!0};let bm=(()=>{var t;class e extends td{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=np,this.createValidator=r=>xB}enabled(r){return r}}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Dr(t)))(i||t)}}(),t.\u0275dir=je({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&Xo("required",i._enabled?"":null)},inputs:{required:"required"},features:[xn([bce]),Wt]}),e})();const xce={provide:Oi,useExisting:$(()=>ST),multi:!0};let ST=(()=>{var t;class e extends td{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=r=>r,this.createValidator=r=>function LB(t){if(!t)return Bw;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(wl(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(r)}}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Dr(t)))(i||t)}}(),t.\u0275dir=je({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Xo("pattern",i._enabled?i.pattern:null)},inputs:{pattern:"pattern"},features:[xn([xce]),Wt]}),e})(),Rce=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Gn({type:t}),t.\u0275inj=ir({imports:[hj]}),e})(),Nce=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:Dp,useValue:r.callSetDisabledState??Ww}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Gn({type:t}),t.\u0275inj=ir({imports:[Rce]}),e})();function Fce(t,e){1&t&&(m(0,"span",37),w(1,"Vui l\xf2ng nh\u1eadp email h\u1ee3p l\u1ec7."),y())}function Lce(t,e){1&t&&(m(0,"span",37),w(1,"M\u1eadt kh\u1ea9u ph\u1ea3i c\xf3 \xedt nh\u1ea5t 6 k\xfd t\u1ef1."),y())}let Vce=(()=>{var t;class e{constructor(r,i){this.userService=r,this.router=i,this.isShowPassword=!1,this.invalidEmail=!1,this.invalidPassword=!1,this.email="",this.password="",this.loginMessage=""}onChangeEmail(r){this.email=r.target.value,this.validateEmail()}onChangePassword(r){this.password=r.target.value,this.validatePassword()}togglePassword(){this.isShowPassword=!this.isShowPassword}onSubmit(){var r=this;return(0,x.Z)(function*(){if(r.validateEmail()&&r.validatePassword()){var i=yield r.userService.getUserByUsername(r.email);i?r.router.navigate(1===i.role_id?["/admin/home"]:2===i.role_id?["/partner/"+i.id]:["/home"]):r.loginMessage="Sai email ho\u1eb7c m\u1eadt kh\u1ea9u"}else r.validateEmail(),r.validatePassword()})()}validateEmail(){const i=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(this.email);return this.invalidEmail=!i,i}validatePassword(){return this.invalidPassword=this.password.length<6,!this.invalidPassword}}return(t=e).\u0275fac=function(r){return new(r||t)(Z(Tp),Z(mr))},t.\u0275cmp=Tt({type:t,selectors:[["app-login"]],decls:53,vars:8,consts:[[1,"login-wrapper"],[1,"login-container"],[1,"login-header"],[1,"go-home"],["routerLink","/home",1,"go-home-link"],[1,"bx","bxs-chevron-left"],[1,"login-title"],[1,"brand"],["routerLink","/home",1,"brand-link"],["src","./assets/images/logo2.png","alt","logo",1,"brand-image"],[1,"login-message"],[1,"login-content"],[3,"ngSubmit"],[1,"form-group"],["for","username"],["type","text","id","username","name","username","required","","placeholder","quang@gmail.com",3,"input"],["class","validate-message",4,"ngIf"],["for","password"],[1,"password-wrapper"],["id","password","name","password","required","",3,"type","input"],["id","showPassword","href","javascript:void(0)",3,"click"],[1,"bx","bx-show"],["id","hidePassword","href","javascript:void(0)",3,"click"],[1,"bx","bx-hide"],["routerLink","",1,"forgot-password"],["type","submit"],[1,"wall-login"],[1,"line-left"],[1,"line-right"],[1,"login-footer"],[1,"login-option"],["href","javascript:void(0)",1,"login-option-icon"],[1,"bx","bxl-google"],[1,"bx","bxl-facebook"],[1,"bx","bxl-instagram-alt"],[1,"sign-in"],["routerLink","/auth/register"],[1,"validate-message"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),A(5,"i",5),w(6," Trang ch\u1ee7 "),y()(),m(7,"h3",6),w(8," \u0110\u0103ng nh\u1eadp "),y(),m(9,"div",7)(10,"a",8),A(11,"img",9),y()()(),m(12,"div",10),w(13),y(),m(14,"div",11)(15,"form",12),H("ngSubmit",function(){return i.onSubmit()}),m(16,"div",13)(17,"label",14),w(18,"Email"),y(),m(19,"input",15),H("input",function(s){return i.onChangeEmail(s)}),y(),q(20,Fce,2,0,"span",16),y(),m(21,"div",13)(22,"label",17),w(23,"M\u1eadt kh\u1ea9u"),y(),m(24,"div",18)(25,"input",19),H("input",function(s){return i.onChangePassword(s)}),y(),m(26,"a",20),H("click",function(){return i.togglePassword()}),A(27,"i",21),y(),m(28,"a",22),H("click",function(){return i.togglePassword()}),A(29,"i",23),y()(),q(30,Lce,2,0,"span",16),m(31,"a",24),w(32,"Qu\xean m\u1eadt kh\u1ea9u?"),y()(),m(33,"button",25),w(34,"\u0110\u0103ng nh\u1eadp"),y()()(),m(35,"div",26),A(36,"div",27),m(37,"span"),w(38,"Ho\u1eb7c \u0111\u0103ng nh\u1eadp b\u1eb1ng"),y(),A(39,"div",28),y(),m(40,"div",29)(41,"div",30)(42,"a",31),A(43,"i",32),y(),m(44,"a",31),A(45,"i",33),y(),m(46,"a",31),A(47,"i",34),y()(),m(48,"div",35)(49,"div"),w(50,"B\u1ea1n ch\u01b0a c\xf3 t\xe0i kho\u1ea3n?"),m(51,"a",36),w(52," \u0110\u0103ng k\xfd"),y()()()()()()),2&r&&(O(13),Ne(i.loginMessage),O(7),F("ngIf",i.invalidEmail),O(5),F("type",i.isShowPassword?"text":"password"),O(1),es("show",i.isShowPassword),O(2),es("show",!i.isShowPassword),O(2),F("ngIf",i.invalidPassword))},dependencies:[ri,kr,Im,wm,ed],styles:['.login-wrapper[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;min-height:100vh;background-image:url(/assets/images/banner.jpg);background-size:cover;background-repeat:no-repeat;background-position:center;padding:2rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]{padding:2rem;border-radius:.5rem;width:700px;margin:auto;min-height:calc(100vh - 4rem);height:100%;background-color:#ffffffa8;box-shadow:0 0 10px #0000004d}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem;position:relative}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{position:absolute;top:0rem;left:0rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]   .go-home-link[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;text-decoration:none;color:var(--color-primary);font-weight:700;position:relative}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   .login-title[_ngcontent-%COMP%]{text-align:center;color:var(--color-primary);font-size:32px;font-weight:700}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{display:flex;justify-content:center}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]   .brand-image[_ngcontent-%COMP%]{width:5rem;height:5rem;object-fit:cover}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-message[_ngcontent-%COMP%]{color:red;margin-bottom:1.5rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:15px}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:gray;font-weight:600;font-size:18px}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 10px;border:2px solid gray;border-radius:5px;background-color:transparent;outline:none}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--color-primary)}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]{position:relative}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #hidePassword[_ngcontent-%COMP%], .login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #showPassword[_ngcontent-%COMP%]{position:absolute;right:10px;top:calc(50% + 3px);transform:translateY(-50%);text-decoration:none;font-size:20px;color:var(--color-primary);display:none}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #hidePassword.show[_ngcontent-%COMP%], .login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #showPassword.show[_ngcontent-%COMP%]{display:block}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{width:100%;font-size:14px;color:#ff1818}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{position:absolute;top:100%;color:var(--color-primary);width:100%;right:0;text-align:right}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:3rem;display:block;width:100%;padding:15px 10px;background-color:var(--color-primary);color:#fff;border:none;border-radius:5px;font-size:20px;cursor:pointer}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]{margin:2rem 0;display:flex;align-items:center}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]   .line-left[_ngcontent-%COMP%], .login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]   .line-right[_ngcontent-%COMP%]{flex-grow:1;height:2px;background-color:var(--color-primary)}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 10px;white-space:nowrap}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .login-option[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;justify-content:center;column-gap:1.5rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .login-option[_ngcontent-%COMP%]   .login-option-icon[_ngcontent-%COMP%]{font-size:42px;color:var(--color-primary);text-decoration:none}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%]{color:var(--color-primary)}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;text-decoration:none;color:var(--color-primary)}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:-1px;left:0}@media (max-width: 767.98px){.login-wrapper[_ngcontent-%COMP%]{width:100%;left:50%;transform:translate(-50%);padding:1rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]{width:100%;min-height:calc(100vh - 2rem)}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{top:-.5rem;left:-1rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{font-size:12px}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2rem;padding:10px;font-size:17px}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]{margin:1rem 0}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .login-option[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;justify-content:center;column-gap:1.5rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .login-option[_ngcontent-%COMP%]   .login-option-icon[_ngcontent-%COMP%]{font-size:26px;color:var(--color-primary);text-decoration:none}}']}),e})();const Aj={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Jw;const Uce=new Uint8Array(16);function Bce(){if(!Jw&&(Jw=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Jw))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Jw(Uce)}const oi=[];for(let t=0;t<256;++t)oi.push((t+256).toString(16).slice(1));const eP=function jce(t,e,n){if(Aj.randomUUID&&!e&&!t)return Aj.randomUUID();const r=(t=t||{}).random||(t.rng||Bce)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return function Dj(t,e=0){return oi[t[e+0]]+oi[t[e+1]]+oi[t[e+2]]+oi[t[e+3]]+"-"+oi[t[e+4]]+oi[t[e+5]]+"-"+oi[t[e+6]]+oi[t[e+7]]+"-"+oi[t[e+8]]+oi[t[e+9]]+"-"+oi[t[e+10]]+oi[t[e+11]]+oi[t[e+12]]+oi[t[e+13]]+oi[t[e+14]]+oi[t[e+15]]}(r)};function Tm(t){return(Tm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ue(t,e,n){return(e=function Hce(t){var e=function $ce(t,e){if("object"!==Tm(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Tm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Tm(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class zce extends Ot{constructor(e,n){super()}schedule(e,n=0){return this}}const tP={setInterval(t,e,...n){const{delegate:r}=tP;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=tP;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class Sj extends zce{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return tP.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&tP.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,We(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const xT={now:()=>(xT.delegate||Date).now(),delegate:void 0};class Am{constructor(e,n=Am.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Am.now=xT.now;class xj extends Am{constructor(e,n=Am.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const qce=new class Gce extends xj{}(class Wce extends Sj{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),nP=new xj(Sj),El=new Lh("ANGULARFIRE2_VERSION");const RT=(t,e)=>{const n=e?[e]:(0,Be.getApps)(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};class Dm{constructor(){return RT(Kce)}}const Kce="app-check";function Sp(){}class kj{constructor(e,n=qce){Ue(this,"zone",void 0),Ue(this,"delegate",void 0),this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class Zce{constructor(e){Ue(this,"zone",void 0),Ue(this,"task",null),this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Sp,{},Sp,Sp)),n.pipe(ii({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let xp=(()=>{var t;class e{constructor(r){Ue(this,"ngZone",void 0),Ue(this,"outsideAngular",void 0),Ue(this,"insideAngular",void 0),this.ngZone=r,this.outsideAngular=r.runOutsideAngular(()=>new kj(Zone.current)),this.insideAngular=r.run(()=>new kj(Zone.current,nP)),globalThis.\u0275AngularFireScheduler||=this}}return t=e,Ue(e,"\u0275fac",function(r){return new(r||t)(oe(xt))}),Ue(e,"\u0275prov",Te({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();function Rp(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function nd(t){return Rp().ngZone.run(()=>t())}function Nj(t){return t.pipe(Or(Rp().outsideAngular))}function cr(t){return function Qce(t){return function(n){return(n=n.lift(new Zce(t.ngZone))).pipe(Qr(t.outsideAngular),Or(t.insideAngular))}}(Rp())(t)}const Xce=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),nd(()=>t.apply(void 0,r))},Jce=(t,e)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(n||=nd(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Sp,{},Sp,Sp))),r[o]=Xce(r[o],n));const i=function Yce(t){return Rp().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof at){const o=Rp();return i.pipe(Qr(o.outsideAngular),Or(o.insideAngular))}return nd(()=>i)}return i instanceof at?i.pipe(cr):i instanceof Promise?nd(()=>new Promise((o,s)=>i.then(a=>nd(()=>o(a)),a=>nd(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:nd(()=>i)};var cs=Ye(106);cs.Z.registerVersion("firebase","10.5.2","app-compat");const rle=["ngOnDestroy"];class Fj{constructor(e){return e}}const kp=new ge("angularfire2.app.options"),Np=new ge("angularfire2.app.name");function Sm(t,e,n){const i="object"==typeof n&&n||{};i.name=i.name||"string"==typeof n&&n||"[DEFAULT]";const s=cs.Z.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>cs.Z.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){const a=!!module.hot;sle("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Fj(s)}const sle=(t,...e)=>{},ale={provide:Fj,useFactory:Sm,deps:[kp,xt,[new p,Np]]};let cle=(()=>{var t;class e{static initializeApp(r,i){return{ngModule:e,providers:[{provide:kp,useValue:r},{provide:Np,useValue:i}]}}constructor(r){cs.Z.registerVersion("angularfire",El.full,"core"),cs.Z.registerVersion("angularfire",El.full,"app-compat"),cs.Z.registerVersion("angular",YO.full,r.toString())}}return t=e,Ue(e,"\u0275fac",function(r){return new(r||t)(oe(Eo))}),Ue(e,"\u0275mod",Gn({type:t})),Ue(e,"\u0275inj",ir({providers:[ale]})),e})();function rP(t,e,n,r,i){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return function lle(t,e){try{return t.toString()===e.toString()}catch{return t===e}}(i,s)||(Lj("error",`${e} was already initialized on the ${n} Firebase App with different settings.${ule?" You may need to reload as Firebase is not HMR aware.":""}`),Lj("warn",{is:i,was:s})),o;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}const ule=typeof module<"u"&&!!module.hot,Lj=(t,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[];const Vj="firebasestorage.googleapis.com",Uj="storageBucket";class jn extends E.ZR{constructor(e,n,r=0){super(kT(e),`Firebase Storage: ${n} (${kT(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,jn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return kT(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var kn=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(kn||{});function kT(t){return"storage/"+t}function NT(){return new jn(kn.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Bj(){return new jn(kn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function jj(){return new jn(kn.CANCELED,"User canceled the upload/download.")}function $j(){return new jn(kn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Fp(t){return new jn(kn.INVALID_ARGUMENT,t)}function Hj(){return new jn(kn.APP_DELETED,"The Firebase app was deleted.")}function zj(t){return new jn(kn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function xm(t,e){return new jn(kn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Rm(t){throw new jn(kn.INTERNAL_ERROR,"Internal error: "+t)}class Ii{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ii.makeFromUrl(e,n)}catch{return new Ii(e,"")}if(""===r.path)return r;throw function Cle(t){return new jn(kn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function l(z){z.path_=decodeURIComponent(z.path)}const f=n.replace(/[.]/g,"\\."),W=[{regex:a,indices:{bucket:1,path:3},postModify:function o(z){"/"===z.path.charAt(z.path.length-1)&&(z.path_=z.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${f}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:l},{regex:new RegExp(`^https?://${n===Vj?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:l}];for(let z=0;z<W.length;z++){const fe=W[z],Ie=fe.regex.exec(e);if(Ie){let en=Ie[fe.indices.path];en||(en=""),r=new Ii(Ie[fe.indices.bucket],en),fe.postModify(r);break}}if(null==r)throw function vle(t){return new jn(kn.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r}}class Ole{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function iP(t){return"string"==typeof t||t instanceof String}function Wj(t){return FT()&&t instanceof Blob}function FT(){return typeof Blob<"u"&&!(0,E.UG)()}function LT(t,e,n,r){if(r<e)throw Fp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Fp(`Invalid value for '${t}'. Expected ${n} or less.`)}function oc(t,e,n){let r=e;return null==n&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Gj(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}var Lp=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Lp||{});function qj(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),o=-1!==e.indexOf(t);return n||i||o}class Sle{constructor(e,n,r,i,o,s,a,c,l,h,f,_=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=h,this.connectionFactory_=f,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,M)=>{this.resolve_=v,this.reject_=M,this.start_()})}start_(){const n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());!function Tle(t){return void 0!==t}(c)?o():o(c)}catch(c){s(c)}else if(null!==a){const c=NT();c.serverResponse=a.getErrorText(),s(this.errorCallback_?this.errorCallback_(a,c):c)}else s(i.canceled?this.appDelete_?Hj():jj():Bj())};this.canceled_?n(0,new oP(!1,null,!0)):this.backoffId_=function Ile(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function c(){return 2===a}let l=!1;function h(...T){l||(l=!0,e.apply(null,T))}function f(T){i=setTimeout(()=>{i=null,t(v,c())},T)}function _(){o&&clearTimeout(o)}function v(T,...V){if(l)return void _();if(T)return _(),void h.call(null,T,...V);if(c()||s)return _(),void h.call(null,T,...V);let W;r<64&&(r*=2),1===a?(a=2,W=0):W=1e3*(r+Math.random()),f(W)}let M=!1;function b(T){M||(M=!0,_(),!l&&(null!==i?(T||(a=2),clearTimeout(i),f(0)):T||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,b(!0)},n),b}((r,i)=>{if(i)return void r(!1,new oP(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Lp.NO_ERROR,c=o.getStatus();if(!a||qj(c,this.additionalRetryCodes_)&&this.retry){const h=o.getErrorCode()===Lp.ABORT;return void r(!1,new oP(!1,null,h))}const l=-1!==this.successCodes_.indexOf(c);r(!0,new oP(l,o))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function ble(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class oP{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Vle(...t){const e=function Lle(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}if(FT())return new Blob(t);throw new jn(kn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const So={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class VT{constructor(e,n){this.data=e,this.contentType=n||null}}function UT(t,e){switch(t){case So.RAW:return new VT(Kj(e));case So.BASE64:case So.BASE64URL:return new VT(Zj(t,e));case So.DATA_URL:return new VT(function $le(t){const e=new Yj(t);return e.base64?Zj(So.BASE64,e.rest):function jle(t){let e;try{e=decodeURIComponent(t)}catch{throw xm(So.DATA_URL,"Malformed data URL.")}return Kj(e)}(e.rest)}(e),function Hle(t){return new Yj(t).contentType}(e))}throw NT()}function Kj(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?n<t.length-1&&56320==(64512&t.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Zj(t,e){switch(t){case So.BASE64:{const i=-1!==e.indexOf("-"),o=-1!==e.indexOf("_");if(i||o)throw xm(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case So.BASE64URL:{const i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw xm(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function Ble(t){if(typeof atob>"u")throw function Ele(t){return new jn(kn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(t)}(e)}catch(i){throw i.message.includes("polyfill")?i:xm(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Yj{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(null===n)throw xm(So.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;null!=r&&(this.base64=function zle(t,e){return t.length>=e.length&&t.substring(t.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class da{constructor(e,n){let r=0,i="";Wj(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Wj(this.data_)){const i=function Ule(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===i?null:new da(i)}{const r=new Uint8Array(this.data_.buffer,e,n-e);return new da(r,!0)}}static getBlob(...e){if(FT()){const n=e.map(r=>r instanceof da?r.data_:r);return new da(Vle.apply(null,n))}{const n=e.map(s=>iP(s)?UT(So.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new da(i,!0)}}uploadData(){return this.data_}}function BT(t){let e;try{e=JSON.parse(t)}catch{return null}return function Dle(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function Qj(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function qle(t,e){return e}class Zi{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||qle}}let sP=null;function km(){if(sP)return sP;const t=[];t.push(new Zi("bucket")),t.push(new Zi("generation")),t.push(new Zi("metageneration")),t.push(new Zi("name","fullPath",!0));const n=new Zi("name");n.xform=function e(o,s){return function Kle(t){return!iP(t)||t.length<2?t:Qj(t)}(s)},t.push(n);const i=new Zi("size");return i.xform=function r(o,s){return void 0!==s?Number(s):s},t.push(i),t.push(new Zi("timeCreated")),t.push(new Zi("updated")),t.push(new Zi("md5Hash",null,!0)),t.push(new Zi("cacheControl",null,!0)),t.push(new Zi("contentDisposition",null,!0)),t.push(new Zi("contentEncoding",null,!0)),t.push(new Zi("contentLanguage",null,!0)),t.push(new Zi("contentType",null,!0)),t.push(new Zi("metadata","customMetadata",!0)),sP=t,sP}function Xj(t,e,n){const r=BT(e);return null===r?null:function Yle(t,e,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return function Zle(t,e){Object.defineProperty(t,"ref",{get:function n(){const o=new Ii(t.bucket,t.fullPath);return e._makeStorageReference(o)}})}(r,t),r}(t,r,n)}function jT(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}const Jj="prefixes",e9="items";class ha{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function pa(t){if(!t)throw NT()}function aP(t,e){return function n(r,i){const o=Xj(t,i,e);return pa(null!==o),o}}function Vp(t){return function e(n,r){let i;return i=401===n.getStatus()?n.getErrorText().includes("Firebase App Check token is invalid")?function mle(){return new jn(kn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function _le(){return new jn(kn.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===n.getStatus()?function gle(t){return new jn(kn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(t.bucket):403===n.getStatus()?function yle(t){return new jn(kn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}(t.path):r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}}function Nm(t){const e=Vp(t);return function n(r,i){let o=e(r,i);return 404===r.getStatus()&&(o=function fle(t){return new jn(kn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}(t.path)),o.serverResponse=i.serverResponse,o}}function t9(t,e,n){const i=oc(e.fullServerUrl(),t.host,t._protocol),s=t.maxOperationRetryTime,a=new ha(i,"GET",aP(t,n),s);return a.errorHandler=Nm(e),a}function nue(t,e,n,r,i){const o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const a=oc(e.bucketOnlyServerUrl(),t.host,t._protocol),l=t.maxOperationRetryTime,h=new ha(a,"GET",function eue(t,e){return function n(r,i){const o=function Jle(t,e,n){const r=BT(n);return null===r?null:function Xle(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Jj])for(const i of n[Jj]){const o=i.replace(/\/$/,""),s=t._makeStorageReference(new Ii(e,o));r.prefixes.push(s)}if(n[e9])for(const i of n[e9]){const o=t._makeStorageReference(new Ii(e,i.name));r.items.push(o)}return r}(t,e,r)}(t,e,i);return pa(null!==o),o}}(t,e.bucket),l);return h.urlParams=o,h.errorHandler=Vp(e),h}function r9(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function sue(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class cP{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function $T(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{pa(!1)}return pa(!!n&&-1!==(e||["active"]).indexOf(n)),n}const uue={STATE_CHANGED:"state_changed"},Yi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function HT(t){switch(t){case"running":case"pausing":case"canceling":return Yi.RUNNING;case"paused":return Yi.PAUSED;case"success":return Yi.SUCCESS;case"canceled":return Yi.CANCELED;default:return Yi.ERROR}}class due{constructor(e,n,r){if(function Ale(t){return"function"==typeof t}(e)||null!=n||null!=r)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function Up(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}let s9=null;class hue{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Lp.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Lp.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Lp.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Rm("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),void 0!==i)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Rm("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Rm("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Rm("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Rm("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class pue extends hue{initXhr(){this.xhr_.responseType="text"}}function Ls(){return s9?s9():new pue}class a9{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=km(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(kn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(qj(i.status,[])){if(!o)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=Bj()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(kn.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,n)=>{const r=function aue(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s=r9(e,r,i),a={name:s.fullPath},c=oc(o,t.host,t._protocol),h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},f=jT(s,n),M=new ha(c,"POST",function v(b){let T;$T(b);try{T=b.getResponseHeader("X-Goog-Upload-URL")}catch{pa(!1)}return pa(iP(T)),T},t.maxUploadRetryTime);return M.urlParams=a,M.headers=h,M.body=f,M.errorHandler=Vp(e),M}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ls,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=function cue(t,e,n,r){const c=new ha(n,"POST",function o(l){const h=$T(l,["active","final"]);let f=null;try{f=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{pa(!1)}f||pa(!1);const _=Number(f);return pa(!isNaN(_)),new cP(_,r.size(),"final"===h)},t.maxUploadRetryTime);return c.headers={"X-Goog-Upload-Command":"query"},c.errorHandler=Vp(e),c}(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(i,Ls,n,r);this._request=o,o.getPromise().then(s=>{this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,n=new cP(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,o)=>{let s;try{s=function lue(t,e,n,r,i,o,s,a){const c=new cP(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw function Ple(){return new jn(kn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const l=c.total-c.current;let h=l;i>0&&(h=Math.min(h,i));const f=c.current;let v="";v=0===h?"finalize":l===h?"upload, finalize":"upload";const M={"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":`${c.current}`},b=r.slice(f,f+h);if(null===b)throw $j();const W=new ha(n,"POST",function T(z,fe){const Ie=$T(z,["active","final"]),ct=c.current+h,en=r.size();let mo;return mo="final"===Ie?aP(e,o)(z,fe):null,new cP(ct,en,"final"===Ie,mo)},e.maxUploadRetryTime);return W.headers=M,W.body=b.uploadData(),W.progressCallback=a||null,W.errorHandler=Vp(t),W}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(c){return this._error=c,void this._transition("error")}const a=this._ref.storage._makeRequest(s,Ls,i,o,!1);this._request=a,a.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=t9(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Ls,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=function i9(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},c=function a(){let W="";for(let z=0;z<2;z++)W+=Math.random().toString().slice(2);return W}();s["Content-Type"]="multipart/related; boundary="+c;const l=r9(e,r,i),h=jT(l,n),v=da.getBlob("--"+c+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+h+"\r\n--"+c+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",r,"\r\n--"+c+"--");if(null===v)throw $j();const M={name:l.fullPath},b=oc(o,t.host,t._protocol),V=t.maxUploadRetryTime,N=new ha(b,"POST",aP(t,n),V);return N.urlParams=M,N.headers=s,N.body=v.uploadData(),N.errorHandler=Vp(e),N}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ls,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n="paused"===this._state;this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=jj(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=HT(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const o=new due(n||void 0,r||void 0,i||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);-1!==n&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(HT(this._state)){case Yi.SUCCESS:Up(this._resolve.bind(null,this.snapshot))();break;case Yi.CANCELED:case Yi.ERROR:Up(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(HT(this._state)){case Yi.RUNNING:case Yi.PAUSED:e.next&&Up(e.next.bind(e,this.snapshot))();break;case Yi.SUCCESS:e.complete&&Up(e.complete.bind(e))();break;default:e.error&&Up(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class rd{constructor(e,n){this._service=e,this._location=n instanceof Ii?n:Ii.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new rd(e,n)}get root(){const e=new Ii(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Qj(this._location.path)}get storage(){return this._service}get parent(){const e=function Wle(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new Ii(this._location.bucket,e);return new rd(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw zj(e)}}function l9(t,e,n){return zT.apply(this,arguments)}function zT(){return(zT=(0,x.Z)(function*(t,e,n){const i=yield u9(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield l9(t,e,i.nextPageToken))})).apply(this,arguments)}function u9(t,e){null!=e&&"number"==typeof e.maxResults&&LT("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=nue(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,Ls)}function Oue(t){t._throwIfRoot("getDownloadURL");const e=function rue(t,e,n){const i=oc(e.fullServerUrl(),t.host,t._protocol),s=t.maxOperationRetryTime,a=new ha(i,"GET",function tue(t,e){return function n(r,i){const o=Xj(t,i,e);return pa(null!==o),function Qle(t,e,n,r){const i=BT(e);if(null===i||!iP(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map(l=>{const f=t.fullPath;return oc("/b/"+s(t.bucket)+"/o/"+s(f),n,r)+Gj({alt:"media",token:l})})[0]}(o,i,t.host,t._protocol)}}(t,n),s);return a.errorHandler=Nm(e),a}(t.storage,t._location,km());return t.storage.makeRequestWithTokens(e,Ls).then(n=>{if(null===n)throw function Mle(){return new jn(kn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return n})}function d9(t,e){const n=function Gle(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new Ii(t._location.bucket,n);return new rd(t.storage,r)}function h9(t,e){if(t instanceof WT){const n=t;if(null==n._bucket)throw function wle(){return new jn(kn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Uj+"' property when initializing the app?")}();const r=new rd(n,n._bucket);return null!=e?h9(r,e):r}return void 0!==e?d9(t,e):t}function Aue(t,e){if(e&&function bue(t){return/^[A-Za-z]+:\/\//.test(t)}(e)){if(t instanceof WT)return function Tue(t,e){return new rd(t,e)}(t,e);throw Fp("To use ref(service, url), the first argument must be a Storage instance.")}return h9(t,e)}function p9(t,e){const n=e?.[Uj];return null==n?null:Ii.makeFromBucketSpec(n,t)}class WT{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=Vj,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Ii.makeFromBucketSpec(i,this._host):p9(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Ii.makeFromBucketSpec(this._url,e):p9(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){LT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){LT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,x.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,x.Z)(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new rd(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new Ole(Hj());{const s=function Fle(t,e,n,r,i,o,s=!0){const a=Gj(t.urlParams),c=t.url+a,l=Object.assign({},t.headers);return function kle(t,e){e&&(t["X-Firebase-GMPID"]=e)}(l,e),function xle(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(l,n),function Rle(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(l,o),function Nle(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(l,r),new Sle(c,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){var r=this;return(0,x.Z)(function*(){const[i,o]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,o).getPromise()})()}}const f9="@firebase/storage";function m9(t,e){return Aue(t=(0,E.m9)(t),e)}function Uue(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new WT(n,r,i,e,Be.SDK_VERSION)}!function Bue(){(0,Be._registerComponent)(new To.wA("storage",Uue,"PUBLIC").setMultipleInstances(!0)),(0,Be.registerVersion)(f9,"0.11.2",""),(0,Be.registerVersion)(f9,"0.11.2","esm2017")}();class lP{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class v9{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new lP(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new lP(r,this,this._ref))},n)}on(e,n,r,i){let o;return n&&(o="function"==typeof n?s=>n(new lP(s,this,this._ref)):{next:n.next?s=>n.next(new lP(s,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,o,r||void 0,i||void 0)}}class C9{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new sc(e,this._service))}get items(){return this._delegate.items.map(e=>new sc(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class sc{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=function Vue(t,e){return d9(t,e)}(this._delegate,e);return new sc(n,this.storage)}get root(){return new sc(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new sc(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new v9(function Sue(t,e,n){return function Cue(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new a9(t,new da(e),n)}(t=(0,E.m9)(t),e,n)}(this._delegate,e,n),this)}putString(e,n=So.RAW,r){this._throwIfRoot("putString");const i=UT(n,e),o=Object.assign({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new v9(new a9(this._delegate,new da(i.data,!0),o),this)}listAll(){return function Nue(t){return function Pue(t){const e={prefixes:[],items:[]};return l9(t,e).then(()=>e)}(t=(0,E.m9)(t))}(this._delegate).then(e=>new C9(e,this.storage))}list(e){return function kue(t,e){return u9(t=(0,E.m9)(t),e)}(this._delegate,e||void 0).then(n=>new C9(n,this.storage))}getMetadata(){return function xue(t){return function Mue(t){t._throwIfRoot("getMetadata");const e=t9(t.storage,t._location,km());return t.storage.makeRequestWithTokens(e,Ls)}(t=(0,E.m9)(t))}(this._delegate)}updateMetadata(e){return function Rue(t,e){return function Eue(t,e){t._throwIfRoot("updateMetadata");const n=function iue(t,e,n,r){const o=oc(e.fullServerUrl(),t.host,t._protocol),a=jT(n,r),l=t.maxOperationRetryTime,h=new ha(o,"PATCH",aP(t,r),l);return h.headers={"Content-Type":"application/json; charset=utf-8"},h.body=a,h.errorHandler=Nm(e),h}(t.storage,t._location,e,km());return t.storage.makeRequestWithTokens(n,Ls)}(t=(0,E.m9)(t),e)}(this._delegate,e)}getDownloadURL(){return function Fue(t){return Oue(t=(0,E.m9)(t))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Lue(t){return function Iue(t){t._throwIfRoot("deleteObject");const e=function oue(t,e){const r=oc(e.fullServerUrl(),t.host,t._protocol),a=new ha(r,"DELETE",function s(c,l){},t.maxOperationRetryTime);return a.successCodes=[200,204],a.errorHandler=Nm(e),a}(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Ls)}(t=(0,E.m9)(t))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw zj(e)}}class w9{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(P9(e))throw Fp("ref() expected a child path but got a URL, use refFromURL instead.");return new sc(m9(this._delegate,e),this)}refFromURL(e){if(!P9(e))throw Fp("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ii.makeFromUrl(e,this._delegate.host)}catch{throw Fp("refFromUrl() expected a valid full URL but got an invalid one.")}return new sc(m9(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){!function y9(t,e,n,r={}){!function Due(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:(0,E.Sg)(i,t.app.options.projectId))}(t,e,n,r)}(this._delegate,e,n,r)}}function P9(t){return/^[A-Za-z]+:\/\//.test(t)}function zue(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new w9(n,r)}function M9(t){const e=function Gue(t){return new at(e=>{const n=s=>e.next(s);n(t.snapshot);const o=t.on("state_changed",n);return t.then(s=>{n(s),e.complete()},s=>{n(t.snapshot),(s=>{e.error(s)})(s)}),function(){o()}}).pipe(function ele(t,e=nP){return X((n,r)=>{let i=null,o=null,s=null;const a=()=>{if(i){i.unsubscribe(),i=null;const l=o;o=null,r.next(l)}};function c(){const l=s+t,h=e.now();if(h<l)return i=this.schedule(void 0,l-h),void r.add(i);a()}n.subscribe(we(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(me(n=>n.bytesTransferred/n.totalBytes*100))}}function uP(t){return{getDownloadURL:()=>Q(void 0).pipe(Nj,et(()=>t.getDownloadURL()),cr),getMetadata:()=>Q(void 0).pipe(Nj,et(()=>t.getMetadata()),cr),delete:()=>R(t.delete()),child:e=>uP(t.child(e)),updateMetadata:e=>R(t.updateMetadata(e)),put:(e,n)=>M9(t.put(e,n)),putString:(e,n,r)=>M9(t.putString(e,n,r)),list:e=>R(t.list(e)),listAll:()=>R(t.listAll())}}!function Wue(t){const e={TaskState:Yi,TaskEvent:uue,StringFormat:So,Storage:w9,Reference:sc};t.INTERNAL.registerComponent(new To.wA("storage-compat",zue,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage-compat","0.3.2")}(cs.Z);const que=new ge("angularfire2.storageBucket"),Kue=new ge("angularfire2.storage.maxUploadRetryTime"),Zue=new ge("angularfire2.storage.maxOperationRetryTime"),Yue=new ge("angularfire2.storage.use-emulator");let dP=(()=>{var t;class e{constructor(r,i,o,s,a,c,l,h,f,_){Ue(this,"storage",void 0);const v=Sm(r,a,i);this.storage=rP(`${v.name}.storage.${o}`,"AngularFireStorage",v.name,()=>{const M=a.runOutsideAngular(()=>v.storage(o||void 0)),b=f;return b&&M.useEmulator(...b),l&&M.setMaxUploadRetryTime(l),h&&M.setMaxOperationRetryTime(h),M},[l,h])}ref(r){return uP(this.storage.ref(r))}refFromURL(r){return uP(this.storage.refFromURL(r))}upload(r,i,o){return uP(this.storage.ref(r)).put(i,o)}}return t=e,Ue(e,"\u0275fac",function(r){return new(r||t)(oe(kp),oe(Np,8),oe(que,8),oe(Eo),oe(xt),oe(xp),oe(Kue,8),oe(Zue,8),oe(Yue,8),oe(Dm,8))}),Ue(e,"\u0275prov",Te({token:t,factory:t.\u0275fac,providedIn:"any"})),e})(),Que=(()=>{var t;class e{}return t=e,Ue(e,"\u0275fac",function(r){return new(r||t)}),Ue(e,"\u0275mod",Gn({type:t})),Ue(e,"\u0275inj",ir({})),e})(),Xue=(()=>{var t;class e{constructor(){cs.Z.registerVersion("angularfire",El.full,"gcs-compat")}}return t=e,Ue(e,"\u0275fac",function(r){return new(r||t)}),Ue(e,"\u0275mod",Gn({type:t})),Ue(e,"\u0275inj",ir({providers:[dP],imports:[Que]})),e})();function Jue(t,e){1&t&&(m(0,"span",58),w(1,"Vui l\xf2ng nh\u1eadp email h\u1ee3p l\u1ec7."),y())}function ede(t,e){1&t&&(m(0,"span",58),w(1,"Vui l\xf2ng nh\u1eadp h\u1ecd t\xean."),y())}function tde(t,e){1&t&&(m(0,"span",58),w(1,"M\u1eadt kh\u1ea9u ph\u1ea3i c\xf3 \xedt nh\u1ea5t 6 k\xfd t\u1ef1."),y())}function nde(t,e){1&t&&(m(0,"span",58),w(1,"M\u1eadt kh\u1ea9u ph\u1ea3i c\xf3 \xedt nh\u1ea5t 6 k\xfd t\u1ef1 v\xe0 tr\xf9ng m\u1edbi m\u1eadt kh\u1ea9u \u1edf tr\xean."),y())}function rde(t,e){1&t&&(m(0,"span",58),w(1,"Vui lo\u0300ng nh\xe2\u0323p s\xf4\u0301 n\u0103m kinh nghi\xea\u0323m"),y())}function ide(t,e){1&t&&(m(0,"span",58),w(1,"Vui lo\u0300ng nh\xe2\u0323p gia\u0301 chu\u0323p a\u0309nh"),y())}function ode(t,e){1&t&&(m(0,"span",58),w(1,"Vui lo\u0300ng nh\xe2\u0323p \u0111i\u0323a chi\u0309"),y())}function sde(t,e){1&t&&(m(0,"span",58),w(1,"Vui lo\u0300ng cho\u0323n a\u0309nh \u0111a\u0323i di\xea\u0323n"),y())}function ade(t,e){if(1&t&&(m(0,"div"),A(1,"img",61),y()),2&t){const n=e.$implicit;O(1),F("src",n,Sr)}}function cde(t,e){if(1&t&&(m(0,"div",59),q(1,ade,2,1,"div",60),y()),2&t){const n=Re();O(1),F("ngForOf",n.avatarPreview)}}function lde(t,e){1&t&&(m(0,"span",58),w(1,"Vui lo\u0300ng cho\u0323n 3 a\u0309nh bi\u0300a"),y())}function ude(t,e){if(1&t){const n=Kn();m(0,"div"),A(1,"img",61),m(2,"a",63),H("click",function(){const o=Bt(n).index;return Vt(Re(2).deletePicture(o))}),A(3,"i",64),y()()}if(2&t){const n=e.$implicit;O(1),F("src",n,Sr)}}function dde(t,e){if(1&t&&(m(0,"div",62),q(1,ude,4,1,"div",60),y()),2&t){const n=Re();O(1),F("ngForOf",n.picturePreview)}}let hde=(()=>{var t;class e{constructor(r,i,o,s){this.userService=r,this.userInfoService=i,this.router=o,this.fileStorage=s,this.isShowPassword=!1,this.isShowConfirmPassword=!1,this.invalidEmail=!1,this.invalidPassword=!1,this.invalidConfirmPassword=!1,this.invalidFullName=!1,this.invalidExp=!1,this.invalidAvatar=!1,this.invalidPicture=!1,this.invalidCost=!1,this.invalidAddress=!1,this.email="",this.password="",this.confirmPassword="",this.fullName="",this.exp="",this.cost="",this.address="",this.registerMessage="",this.filesAddAvatar=[],this.avatarPreview=[],this.filesAddPicture=[],this.picturePreview=[]}onChangeEmail(r){this.email=r.target.value,this.validateEmail()}onChangePassword(r){this.password=r.target.value,this.validatePassword(),this.confirmPassword.length>0&&this.validateConfirmPassword()}onChangeConfirmPassword(r){this.confirmPassword=r.target.value,this.validateConfirmPassword()}onChangeFullName(r){this.fullName=r.target.value,this.validateFullName()}onChangeExp(r){this.exp=r.target.value,this.validateExp()}onChangeCost(r){this.cost=r.target.value,this.validateExp()}onChangeAddress(r){this.address=r.target.value,this.validateExp()}togglePassword(){this.isShowPassword=!this.isShowPassword}toggleConfirmPassword(){this.isShowConfirmPassword=!this.isShowConfirmPassword}validateEmail(){const i=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(this.email);return this.invalidEmail=!i,i}validateFullName(){return this.invalidFullName=this.fullName.length<1,!this.invalidFullName}validatePassword(){return this.invalidPassword=this.password.length<6,!this.invalidPassword}validateConfirmPassword(){return this.invalidConfirmPassword=this.confirmPassword.length<6||this.confirmPassword!==this.password,!this.invalidConfirmPassword}validateCost(){return this.invalidCost=this.cost.length<1,!this.invalidCost}validateAddress(){return this.invalidAddress=this.address.length<1,!this.invalidAddress}validateExp(){const i=/^\d+$/.test(this.exp);return this.invalidExp=!i,i}previewAvatar(r){const o=r.target.files;if(o&&o.length>0){this.filesAddAvatar=Array.from(o).slice(0,1),this.avatarPreview=[];for(let s=0;s<this.filesAddAvatar.length;s++){const a=this.filesAddAvatar[s],c=new FileReader;c.onload=l=>{this.avatarPreview.push(l.target?.result)},c.readAsDataURL(a)}}else this.avatarPreview=[];this.validateAvatar()}previewPicture(r){const o=r.target.files;if(o&&o.length>0){const s=3-this.filesAddPicture.length;if(s>0){const a=Array.from(o).slice(0,s);this.filesAddPicture.push(...a)}this.picturePreview=[];for(let a=0;a<this.filesAddPicture.length;a++){const c=this.filesAddPicture[a],l=new FileReader;l.onload=h=>{this.picturePreview.push(h.target?.result)},l.readAsDataURL(c)}}else this.picturePreview=[];this.validatePicture()}deletePicture(r){r>=0&&r<this.picturePreview.length&&(this.picturePreview.splice(r,1),this.filesAddPicture.splice(r,1))}onSubmit(){var r=this;return(0,x.Z)(function*(){if(r.validateEmail()&&r.validatePassword()&&r.validateConfirmPassword()&&r.validateFullName()&&r.validateExp()&&r.validateAvatar()&&r.validatePicture()&&r.validateCost()&&r.validateAddress())if(yield r.userService.isUsernameUnique(r.email)){var o=yield r.uploadAvatar();const h={id:0,username:r.email,password:r.password,full_name:r.fullName,role_id:2,email:"",phone_number:"",address:r.address,avatar:o[0],exp:parseFloat(r.exp)};var s=yield r.userService.createUser(h);if(null!=s){var a=yield r.uploadPicture(),c=parseFloat(r.cost);const f={id:0,user_id:s.id,img1:a[0]||"",img2:a[1]||"",img3:a[2]||"",cost:c,description:"T\xf4i \u0111\xe3 ch\u1ee5p \u1ea3nh c\u1ea3 \u0111\u1eddi nh\u01b0ng quy\u1ebft \u0111\u1ecbnh ch\u1ee5p \u1ea3nh chuy\xean nghi\u1ec7p v\xe0o n\u0103m 2010 v\xe0 t\xf4i c\xe0ng y\xeau th\xedch n\xf3 h\u01a1n m\u1ed7i ng\xe0y. T\xf4i r\u1ea5t l\xe0 ng\u01b0\u1eddi c\u1ee7a m\u1ecdi ng\u01b0\u1eddi nh\u01b0ng tr\u1edb tr\xeau thay chuy\xean m\xf4n c\u1ee7a t\xf4i l\u1ea1i l\xe0 ch\u1ee5p \u1ea3nh s\u1ea3n ph\u1ea9m, \u0111\u1ed3 \u0103n v\xe0 \u0111\u1ed3 u\u1ed1ng. Ch\u1ec9 v\xec t\xf4i chuy\xean ch\u1ee5p \u0111\u1ed3 kh\xf4ng c\xf3 ngh\u0129a l\xe0 t\xf4i thi\u1ebfu ch\u1ee5p \u1ea3nh ch\xe2n dung, th\u1ee9 duy nh\u1ea5t t\xf4i kh\xf4ng ch\u1ee5p l\xe0 \u0111\xe1m c\u01b0\u1edbi ;)",prize:"Nhi\u1ebfp \u1ea3nh gia t\xe0i n\u0103ng khu v\u1ef1c mi\u1ec1n B\u1eafc n\u0103m 2023",interest:"T\xf4i b\u1ecb \xe1m \u1ea3nh b\u1edfi m\xe1y \u1ea3nh t\u1eeb khi l\xean 3 v\xe0 m\u1eb9 t\xf4i \u0111\xe3 cho t\xf4i ch\u01a1i v\u1edbi m\xe1y \u1ea3nh Polaroid :)",language:"Ti\xea\u0301ng Vi\xea\u0323t",camera:"Sony A7iii, LUMIX G9, Panasonic GH5",portfolio:[],typeOfPhoto:[{id:1,name:"Ch\u1ee5p ch\xe2n dung",cost:"500000"},{id:2,name:"Ch\u1ee5p s\u1ea3n ph\u1ea9m",cost:"400000"},{id:3,name:"Ch\u1ee5p c\u1ea3nh",cost:"300000"},{id:4,name:"Ch\u1ee5p s\u1ef1 ki\u1ec7n",cost:"800000"},{id:5,name:"Ch\u1ee5p beauty",cost:"550000"}]};(yield r.userInfoService.createUserInfo(f))?(r.registerMessage="Th\xeam ng\u01b0\u1eddi d\xf9ng th\xe0nh c\xf4ng.",window.alert(r.registerMessage),r.router.navigate(["/auth/login"])):(r.registerMessage="Th\xeam th\xf4ng tin kh\xf4ng th\xe0nh c\xf4ng.",window.alert(r.registerMessage))}else r.registerMessage="Th\xeam ng\u01b0\u1eddi d\xf9ng kh\xf4ng th\xe0nh c\xf4ng.",window.alert(r.registerMessage)}else r.registerMessage="Ng\u01b0\u1eddi d\xf9ng \u0111\xe3 t\u1ed3n t\u1ea1i.",window.alert(r.registerMessage);else r.validateEmail(),r.validateFullName(),r.validatePassword(),r.validateConfirmPassword(),r.validateExp(),r.validateAvatar(),r.validatePicture(),r.validateCost(),r.validateAddress()})()}uploadAvatar(){var r=this;return(0,x.Z)(function*(){var i=[],o=[];for(let s=0;s<r.filesAddAvatar.length;s++){const a=r.filesAddAvatar[s],c=a.name.split(".").pop(),l=eP()+"."+c;o.push(new File([a],l,{type:a.type}))}for(let s=0;s<o.length;s++){const a=o[s],c=`avatar/${a.name}`,h=yield(yield r.fileStorage.upload(c,a)).ref.getDownloadURL();i.push(h)}return i})()}uploadPicture(){var r=this;return(0,x.Z)(function*(){var i=[],o=[];for(let s=0;s<r.filesAddPicture.length;s++){const a=r.filesAddPicture[s],c=a.name.split(".").pop(),l=eP()+"."+c;o.push(new File([a],l,{type:a.type}))}for(let s=0;s<o.length;s++){const a=o[s],c=`bias/${a.name}`,h=yield(yield r.fileStorage.upload(c,a)).ref.getDownloadURL();i.push(h)}return i})()}validateAvatar(){return this.invalidAvatar=this.filesAddAvatar.length<1,!this.invalidAvatar}validatePicture(){return this.invalidPicture=3!==this.filesAddPicture.length,!this.invalidPicture}}return(t=e).\u0275fac=function(r){return new(r||t)(Z(Tp),Z(fT),Z(mr),Z(dP))},t.\u0275cmp=Tt({type:t,selectors:[["app-register"]],decls:100,vars:22,consts:[[1,"register-wrapper"],[1,"register-container"],[1,"register-header"],[1,"go-home"],["routerLink","/home",1,"go-home-link"],[1,"bx","bxs-chevron-left"],[1,"register-title"],[1,"brand"],["routerLink","/home",1,"brand-link"],["src","./assets/images/logo2.png","alt","logo",1,"brand-image"],[1,"register-message"],[1,"register-content"],[3,"ngSubmit"],[1,"form-content"],[1,"form-left"],[1,"form-group"],["for","username"],["type","text","id","username","name","username","required","","placeholder","quang@gmail.com",3,"input"],["class","validate-message",4,"ngIf"],["for","fullName"],["type","text","id","fullName","name","fullName","required","","placeholder","Nguyen Quang Nam",3,"input"],["for","password"],[1,"password-wrapper"],["id","password","name","password","required","",3,"type","input"],["id","showPassword","href","javascript:void(0)",3,"click"],[1,"bx","bx-show"],["id","hidePassword","href","javascript:void(0)",3,"click"],[1,"bx","bx-hide"],["for","confirmPassword"],["name","password","required","",3,"type","input"],["id","showConfirmPassword","href","javascript:void(0)",3,"click"],["id","hideConfirmPassword","href","javascript:void(0)",3,"click"],[1,"form-right"],["for","exprire"],["min","0","type","number","required","",3,"input"],["for","cost"],["for","address"],["type","text","required","",3,"input"],[1,"form-groupk"],["for","avatar",1,"label-input-file"],["type","file","accept","image/*","id","avatar","required","","multiple","",2,"display","none",3,"change"],["class","avatar-preview",4,"ngIf"],["for","picture"],["for","picture-3",1,"label-input-file"],["multiple","","type","file","id","picture-3","accept","image/*","required","","placeholder","Cho\u0323n 3 a\u0309nh bi\u0300a",2,"display","none",3,"change"],["class","picture-review",4,"ngIf"],["type","submit"],[1,"wall-login"],[1,"line-left"],[1,"line-right"],[1,"register-footer"],[1,"register-option"],["href","javascript:void(0)",1,"register-option-icon"],[1,"bx","bxl-google"],[1,"bx","bxl-facebook"],[1,"bx","bxl-instagram-alt"],[1,"login"],["routerLink","/auth/login"],[1,"validate-message"],[1,"avatar-preview"],[4,"ngFor","ngForOf"],["alt","Preview Image",3,"src"],[1,"picture-review"],["href","javascript:void(0)",1,"btn-del-image",3,"click"],[1,"bx","bx-x"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),A(5,"i",5),w(6," Trang ch\u1ee7 "),y()(),m(7,"h3",6),w(8," \u0110\u0103ng k\xfd "),y(),m(9,"div",7)(10,"a",8),A(11,"img",9),y()()(),m(12,"div",10),w(13),y(),m(14,"div",11)(15,"form",12),H("ngSubmit",function(){return i.onSubmit()}),m(16,"div",13)(17,"div",14)(18,"div",15)(19,"label",16),w(20,"Email"),y(),m(21,"input",17),H("input",function(s){return i.onChangeEmail(s)}),y(),q(22,Jue,2,0,"span",18),y(),m(23,"div",15)(24,"label",19),w(25,"H\u1ecd t\xean"),y(),m(26,"input",20),H("input",function(s){return i.onChangeFullName(s)}),y(),q(27,ede,2,0,"span",18),y(),m(28,"div",15)(29,"label",21),w(30,"M\u1eadt kh\u1ea9u"),y(),m(31,"div",22)(32,"input",23),H("input",function(s){return i.onChangePassword(s)}),y(),m(33,"a",24),H("click",function(){return i.togglePassword()}),A(34,"i",25),y(),m(35,"a",26),H("click",function(){return i.togglePassword()}),A(36,"i",27),y()(),q(37,tde,2,0,"span",18),y(),m(38,"div",15)(39,"label",28),w(40,"X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u"),y(),m(41,"div",22)(42,"input",29),H("input",function(s){return i.onChangeConfirmPassword(s)}),y(),m(43,"a",30),H("click",function(){return i.toggleConfirmPassword()}),A(44,"i",25),y(),m(45,"a",31),H("click",function(){return i.toggleConfirmPassword()}),A(46,"i",27),y()(),q(47,nde,2,0,"span",18),y()(),m(48,"div",32)(49,"div",15)(50,"label",33),w(51,"S\xf4\u0301 n\u0103m kinh nghi\xea\u0323m"),y(),m(52,"input",34),H("input",function(s){return i.onChangeExp(s)}),y(),q(53,rde,2,0,"span",18),y(),m(54,"div",15)(55,"label",35),w(56,"Gia\u0301 chu\u0323p c\u01a1 ba\u0309n(x/1 ti\xea\u0301ng)"),y(),m(57,"input",34),H("input",function(s){return i.onChangeCost(s)}),y(),q(58,ide,2,0,"span",18),y(),m(59,"div",15)(60,"label",36),w(61,"\u0110i\u0323a chi\u0309 cu\u0309a ba\u0323n"),y(),m(62,"input",37),H("input",function(s){return i.onChangeAddress(s)}),y(),q(63,ode,2,0,"span",18),y()()(),m(64,"div",38)(65,"label"),w(66,"A\u0309nh \u0111a\u0323i di\xea\u0323n"),y(),m(67,"label",39),w(68,"Cho\u0323n"),y(),m(69,"input",40),H("change",function(s){return i.previewAvatar(s)}),y(),q(70,sde,2,0,"span",18),q(71,cde,2,1,"div",41),y(),m(72,"div",38)(73,"label",42),w(74,"A\u0309nh bi\u0300a cu\u0309a ba\u0323n(3/3 a\u0309nh)"),y(),m(75,"label",43),w(76,"Cho\u0323n"),y(),m(77,"input",44),H("change",function(s){return i.previewPicture(s)}),y(),q(78,lde,2,0,"span",18),q(79,dde,2,1,"div",45),y(),m(80,"button",46),w(81,"\u0110\u0103ng k\xfd"),y()()(),m(82,"div",47),A(83,"div",48),m(84,"span"),w(85,"Ho\u1eb7c \u0111\u0103ng nh\u1eadp b\u1eb1ng"),y(),A(86,"div",49),y(),m(87,"div",50)(88,"div",51)(89,"a",52),A(90,"i",53),y(),m(91,"a",52),A(92,"i",54),y(),m(93,"a",52),A(94,"i",55),y()(),m(95,"div",56)(96,"div"),w(97," B\u1ea1n \u0111\xe3 c\xf3 t\xe0i kho\u1ea3n? "),m(98,"a",57),w(99," \u0110\u0103ng nh\u1eadp"),y()()()()()()),2&r&&(O(13),Ne(i.registerMessage),O(9),F("ngIf",i.invalidEmail),O(5),F("ngIf",i.invalidFullName),O(5),F("type",i.isShowPassword?"text":"password"),O(1),es("show",i.isShowPassword),O(2),es("show",!i.isShowPassword),O(2),F("ngIf",i.invalidPassword),O(5),F("type",i.isShowConfirmPassword?"text":"password"),O(1),es("show",i.isShowConfirmPassword),O(2),es("show",!i.isShowConfirmPassword),O(2),F("ngIf",i.invalidConfirmPassword),O(6),F("ngIf",i.invalidExp),O(5),F("ngIf",i.invalidCost),O(5),F("ngIf",i.invalidAddress),O(7),F("ngIf",i.invalidAvatar),O(1),F("ngIf",i.avatarPreview.length>0),O(7),F("ngIf",i.invalidPicture),O(1),F("ngIf",i.picturePreview.length>0))},dependencies:[Gi,ri,kr,Im,wm,ed],styles:['.register-wrapper[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;min-height:100vh;background-image:url(/assets/images/banner.jpg);background-size:cover;background-repeat:no-repeat;background-position:center;padding:2rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]{padding:2rem;border-radius:.5rem;width:700px;margin:auto;min-height:calc(100vh - 4rem);height:100%;background-color:#ffffffa8;box-shadow:0 0 10px #0000004d}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem;position:relative}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{position:absolute;top:0rem;left:0rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]   .go-home-link[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;text-decoration:none;color:var(--color-primary);font-weight:700;position:relative}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]   .register-title[_ngcontent-%COMP%]{text-align:center;color:var(--color-primary);font-size:32px;font-weight:700}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{display:flex;justify-content:center}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]   .brand-image[_ngcontent-%COMP%]{width:5rem;height:5rem;object-fit:cover}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-message[_ngcontent-%COMP%]{color:red;margin-bottom:1.5rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:1rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-left[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-right[_ngcontent-%COMP%]{grid-column:span 1}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:15px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:gray;font-weight:600;font-size:18px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 10px;border:2px solid gray;border-radius:5px;background-color:transparent;outline:none}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--color-primary)}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]{position:relative}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #hidePassword[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #showPassword[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #hideConfirmPassword[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #showConfirmPassword[_ngcontent-%COMP%]{position:absolute;right:10px;top:calc(50% + 3px);transform:translateY(-50%);text-decoration:none;font-size:20px;color:var(--color-primary);display:none}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #hidePassword.show[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #showPassword.show[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #hideConfirmPassword.show[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #showConfirmPassword.show[_ngcontent-%COMP%]{display:block}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{width:100%;font-size:14px;color:#ff1818}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{position:absolute;top:100%;color:var(--color-primary);width:100%;right:0;text-align:right}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]{position:relative;margin-bottom:15px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{width:100%;font-size:14px;color:#ff1818}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:gray;font-weight:600;font-size:18px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]   .label-input-file[_ngcontent-%COMP%]{background-color:var(--color-secondary);padding:5px;width:70px;border:1px solid black;border-radius:5px;display:flex;justify-content:center;align-items:center;cursor:pointer;font-size:14px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]   .picture-review[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;gap:1rem;padding-top:1rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]   .picture-review[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:200px;object-fit:cover}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]   .picture-review[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:relative}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]   .picture-review[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .btn-del-image[_ngcontent-%COMP%]{position:absolute;top:-.4rem;right:-.3rem;font-size:22px;width:22px;height:22px;display:flex;justify-content:center;align-items:center;border-radius:50%;background-color:var(--color-secondary);text-decoration:none;color:#000;padding-top:1px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]   .avatar-preview[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]   .avatar-preview[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:200px;object-fit:cover;border-radius:50%}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:3rem;display:block;width:100%;padding:15px 10px;background-color:var(--color-primary);color:#fff;border:none;border-radius:5px;font-size:20px;cursor:pointer}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]{margin:2rem 0;display:flex;align-items:center}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]   .line-left[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]   .line-right[_ngcontent-%COMP%]{flex-grow:1;height:2px;background-color:var(--color-primary)}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 10px;white-space:nowrap}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-footer[_ngcontent-%COMP%]   .register-option[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;justify-content:center;column-gap:1.5rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-footer[_ngcontent-%COMP%]   .register-option[_ngcontent-%COMP%]   .register-option-icon[_ngcontent-%COMP%]{font-size:42px;color:var(--color-primary);text-decoration:none}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-footer[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;text-decoration:none;color:var(--color-primary)}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-footer[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:-1px;left:0}@media (max-width: 767.98px){.register-wrapper[_ngcontent-%COMP%]{width:100%;left:50%;transform:translate(-50%);padding:1rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]{width:100%;min-height:calc(100vh - 2rem)}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{top:-.5rem;left:-1rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{font-size:12px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2rem;padding:10px;font-size:17px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]{margin:1rem 0}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-footer[_ngcontent-%COMP%]   .register-option[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;justify-content:center;column-gap:1.5rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-footer[_ngcontent-%COMP%]   .register-option[_ngcontent-%COMP%]   .register-option-icon[_ngcontent-%COMP%]{font-size:26px;color:var(--color-primary);text-decoration:none}.form-content[_ngcontent-%COMP%]   .form-left[_ngcontent-%COMP%], .form-content[_ngcontent-%COMP%]   .form-right[_ngcontent-%COMP%]{grid-column:span 2!important}}']}),e})();function pde(t,e){if(1&t&&(m(0,"tr")(1,"td"),w(2),y(),m(3,"td"),w(4),y(),m(5,"td"),w(6),y()()),2&t){const n=e.$implicit;O(2),Ne(n.id),O(2),Ne(n.username),O(2),Ne(n.email)}}let E9=(()=>{var t;class e{constructor(r){this.userService=r,this.users=[]}ngOnInit(){var r=this;return(0,x.Z)(function*(){r.users=yield r.userService.getUsers()})()}}return(t=e).\u0275fac=function(r){return new(r||t)(Z(Tp))},t.\u0275cmp=Tt({type:t,selectors:[["app-user-list"]],decls:13,vars:1,consts:[[4,"ngFor","ngForOf"]],template:function(r,i){1&r&&(m(0,"h1"),w(1,"User List"),y(),m(2,"table")(3,"thead")(4,"tr")(5,"th"),w(6,"ID"),y(),m(7,"th"),w(8,"Username"),y(),m(9,"th"),w(10,"Email"),y()()(),m(11,"tbody"),q(12,pde,7,3,"tr",0),y()()),2&r&&(O(12),F("ngForOf",i.users))},dependencies:[Gi]}),e})(),O9=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tt({type:t,selectors:[["app-home-admin"]],decls:2,vars:0,template:function(r,i){1&r&&(m(0,"p"),w(1,"home-admin works!"),y())}}),e})(),Ol=(()=>{var t;class e{getOrders(){return new Promise((r,i)=>{xs(En(Bn((0,Be.initializeApp)(On_firebaseConfig)),"orders/"),c=>{const l=c.val(),h=[];for(const f in l)if(l.hasOwnProperty(f)){const _=l[f];h.push({id:_.id,order_date:_.order_date,time:_.time,appoi_time:_.appoi_time,shooting_type:_.shooting_type,partner_id:_.partner_id,cust_name:_.cust_name,cust_email:_.cust_email,cust_phone:_.cust_phone,address:_.address,price:_.price,status:_.status,code:_.code,link_down:_.link_down,des_refund:_.des_refund})}r(h)})})}getOrderByPartnerId(r){return new Promise((i,o)=>{xs(En(Bn((0,Be.initializeApp)(On_firebaseConfig)),"orders/"),l=>{const h=l.val(),f=[];for(const _ in h)if(h.hasOwnProperty(_)){const v=h[_];v.partner_id===r&&f.push({id:v.id,order_date:v.order_date,time:v.time,appoi_time:v.appoi_time,shooting_type:v.shooting_type,partner_id:v.partner_id,cust_name:v.cust_name,cust_email:v.cust_email,cust_phone:v.cust_phone,address:v.address,price:v.price,status:v.status,code:v.code,link_down:v.link_down,des_refund:v.des_refund})}i(f)})})}getOrderByStatus(r){return new Promise((i,o)=>{xs(En(Bn((0,Be.initializeApp)(On_firebaseConfig)),"orders/"),l=>{const h=l.val(),f=[];for(const _ in h)if(h.hasOwnProperty(_)){const v=h[_];v.status===r&&f.push({id:v.id,order_date:v.order_date,time:v.time,appoi_time:v.appoi_time,shooting_type:v.shooting_type,partner_id:v.partner_id,cust_name:v.cust_name,cust_email:v.cust_email,cust_phone:v.cust_phone,address:v.address,price:v.price,status:v.status,code:v.code,link_down:v.link_down,des_refund:v.des_refund})}i(f)})})}getOrderById(r){var i=this;return(0,x.Z)(function*(){try{return(yield i.getOrders()).find(a=>a.id===r)||null}catch(o){return console.error("Error fetching Order by ID:",o),null}})()}getOrderByCode(r){var i=this;return(0,x.Z)(function*(){try{return(yield i.getOrders()).find(a=>a.code===r)||null}catch(o){return console.error("Error fetching Order by code:",o),null}})()}createOrder(r){var i=this;return(0,x.Z)(function*(){try{const s=Bn((0,Be.initializeApp)(On_firebaseConfig)),a=yield i.generateNewId(),c=En(s,"orders/"+a),l={id:a,order_date:r.order_date,time:r.time,appoi_time:r.appoi_time,shooting_type:r.shooting_type,partner_id:r.partner_id,cust_name:r.cust_name,cust_email:r.cust_email,cust_phone:r.cust_phone,address:r.address,price:r.price,status:r.status,code:r.code,link_down:r.link_down,des_refund:r.des_refund};return yield Do(c,l),l}catch(o){return console.error("Error creating Order:",o),null}})()}updateOrder(r){var i=this;return(0,x.Z)(function*(){try{if(null===(yield i.getOrderById(r.id)))return console.error("Order information not found for ID:",r.id),null;const a=Bn((0,Be.initializeApp)(On_firebaseConfig)),c={id:r.id,order_date:r.order_date,time:r.time,appoi_time:r.appoi_time,shooting_type:r.shooting_type,partner_id:r.partner_id,cust_name:r.cust_name,cust_email:r.cust_email,cust_phone:r.cust_phone,address:r.address,price:r.price,status:r.status,code:r.code,link_down:r.link_down,des_refund:r.des_refund},l=En(a,`orders/${r.id}`);return yield Do(l,c),r}catch(o){return console.error("Error updating Order:",o),null}})()}generateNewId(){var r=this;return(0,x.Z)(function*(){const i=yield r.getOrders();return(0===i.length?0:Math.max(...i.map(s=>s.id)))+1})()}isOrderCodeUnique(r){return(0,x.Z)(function*(){const s=En(Bn((0,Be.initializeApp)(On_firebaseConfig)),"orders"),c=(yield bp(s)).val();if(c)for(const l in c)if(c.hasOwnProperty(l)&&c[l].code===r)return!1;return!0})()}generateUniqueOrderCode(){var r=this;return(0,x.Z)(function*(){const i=r.generateRandomOrderCode(6);return(yield r.isOrderCodeUnique(i))?Q(i):r.generateUniqueOrderCode()})()}generateRandomOrderCode(r){let o="";for(let s=0;s<r;s++)o+="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(36*Math.random()));return o}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),I9=(()=>{var t;class e{constructor(r,i){this.orderService=r,this.userService=i}getOrderDTOs(){return sl([this.orderService.getOrders(),this.userService.getUsers()]).pipe(me(([r,i])=>{const o=[];for(const s of r){const a=i.find(c=>c.id===s.partner_id);a&&o.push({order:s,user:a})}return o}),is(r=>[]))}getOrderDTOsByStatus(r){return sl([this.orderService.getOrders(),this.userService.getUsers()]).pipe(me(([i,o])=>{const s=[];for(const a of i){const c=o.find(l=>l.id===a.partner_id&&a.status===r);c&&s.push({order:a,user:c})}return s}),is(i=>[]))}getOrderDTOsById(r){return this.getOrderDTOs().pipe(me(i=>i.find(o=>o.order.id===r)||null))}updateOrder(r){var i=this;return(0,x.Z)(function*(){var o=yield i.orderService.getOrderById(r.order.id);return o?(r.order.status="da_duyet",(o=yield i.orderService.updateOrder(r.order))?(r.order=o,Q(r)):Q(null)):Q(null)})()}}return(t=e).\u0275fac=function(r){return new(r||t)(oe(Ol),oe(Tp))},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function fde(t,e){1&t&&(ht(0),w(1," Ch\u1edd duy\u1ec7t "),pt())}function gde(t,e){}function _de(t,e){1&t&&(ht(0),w(1," \u0110\xe3 duy\u1ec7t "),pt())}function mde(t,e){}function yde(t,e){1&t&&(ht(0),w(1," \u0110\xe3 tr\u1ea3 "),pt())}function vde(t,e){}function Cde(t,e){1&t&&(ht(0),w(1," Y\xeau c\u1ea7u s\u1eeda "),pt())}function wde(t,e){}function Pde(t,e){1&t&&(ht(0),w(1," Ch\u01b0a \u0111i\u1ec1n th\xf4ng tin "),pt())}function Mde(t,e){}function Ede(t,e){if(1&t&&(m(0,"tr",16)(1,"td",17),w(2),y(),m(3,"td",17),w(4),y(),m(5,"td",17),w(6),y(),m(7,"td",17),w(8),y(),m(9,"td",17),w(10),y(),m(11,"td",17),w(12),y(),m(13,"td",17),w(14),y(),m(15,"td",17),w(16),y(),m(17,"td",17),w(18),y(),m(19,"td",17),w(20),y(),m(21,"td",17),w(22),y(),m(23,"td",17),q(24,fde,2,0,"ng-container",9),q(25,gde,0,0,"ng-template",null,18,Pi),q(27,_de,2,0,"ng-container",9),q(28,mde,0,0,"ng-template",null,19,Pi),q(30,yde,2,0,"ng-container",9),q(31,vde,0,0,"ng-template",null,20,Pi),q(33,Cde,2,0,"ng-container",9),q(34,wde,0,0,"ng-template",null,21,Pi),q(36,Pde,2,0,"ng-container",9),q(37,Mde,0,0,"ng-template",null,22,Pi),y()()),2&t){const n=e.$implicit,r=e.index,i=wi(26),o=wi(29),s=wi(32),a=wi(35),c=wi(38);O(2),Ne(r+1),O(2),Ne(n.order.cust_name),O(2),Ne(n.order.cust_phone),O(2),Ne(n.order.cust_email),O(2),Ne(n.order.order_date),O(2),Ne(n.order.appoi_time),O(2),Ne(n.order.time),O(2),Ne(n.order.shooting_type),O(2),Ne(n.user.full_name),O(2),Ne(n.order.price),O(2),Ne(n.order.code),O(2),F("ngIf","cho_duyet"===n.order.status)("ngIfElse",i),O(3),F("ngIf","da_duyet"===n.order.status)("ngIfElse",o),O(3),F("ngIf","da_tra"===n.order.status)("ngIfElse",s),O(3),F("ngIf","yc_sua"===n.order.status)("ngIfElse",a),O(3),F("ngIf","chua_dien_tt"===n.order.status)("ngIfElse",c)}}function Ode(t,e){if(1&t&&(ht(0),m(1,"div",11)(2,"table",12)(3,"thead")(4,"tr",13)(5,"th",14),w(6,"#"),y(),m(7,"th",14),w(8,"T\xean kh\xe1ch"),y(),m(9,"th",14),w(10,"SDT kh\xe1ch"),y(),m(11,"th",14),w(12,"Email kh\xe1ch"),y(),m(13,"th",14),w(14,"Ng\xe0y"),y(),m(15,"th",14),w(16,"Th\u1eddi gian"),y(),m(17,"th",14),w(18,"Th\u1eddi l\u01b0\u1ee3ng"),y(),m(19,"th",14),w(20,"Lo\u1ea1i ch\u1ee5p"),y(),m(21,"th",14),w(22,"Ng\u01b0\u1eddi ch\u1ee5p"),y(),m(23,"th",14),w(24,"T\xf4\u0309ng ti\xea\u0300n"),y(),m(25,"th",14),w(26,"Ma\u0303"),y(),m(27,"th",14),w(28,"Tr\u1ea1ng th\xe1i"),y()()(),m(29,"tbody"),q(30,Ede,39,21,"tr",15),y()()(),pt()),2&t){const n=Re();O(30),F("ngForOf",n.orderData)}}function Ide(t,e){1&t&&(m(0,"div",23)(1,"h4"),w(2,"Ch\u01b0a co\u0301 kha\u0301ch \u0111\u0103\u0323t li\u0323ch"),y()())}let bde=(()=>{var t;class e{constructor(r){this.orderDTOService=r,this.orderData=[]}ngOnInit(){this.loadOrderData()}loadOrderData(){this.orderDTOService.getOrderDTOs().subscribe(r=>{this.orderData=r,console.log("orderData:",this.orderData)},r=>{console.error("Error fetching order: ",r)})}onAccept(r){var i=this;console.log(r),this.orderDTOService.getOrderDTOsById(r).subscribe(function(){var o=(0,x.Z)(function*(s){null!==s?(console.log("D\u1eef li\u1ec7u \u0111\xe3 t\xecm th\u1ea5y:",s),(yield i.orderDTOService.updateOrder(s)).subscribe(a=>{null!==a?i.loadOrderData():console.log("C\u1eadp nh\u1eadt th\u1ea5t b\u1ea1i.")},a=>{console.error("L\u1ed7i khi c\u1eadp nh\u1eadt:",a)})):console.log("D\u1eef li\u1ec7u kh\xf4ng t\u1ed3n t\u1ea1i.")});return function(s){return o.apply(this,arguments)}}(),o=>{console.error("L\u1ed7i x\u1ea3y ra:",o)})}}return(t=e).\u0275fac=function(r){return new(r||t)(Z(I9))},t.\u0275cmp=Tt({type:t,selectors:[["app-order-list-admin"]],decls:14,vars:2,consts:[[1,"layout-list-booking"],[1,"list-booking-wrapper"],[1,"list-booking-container"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/admin/home"],["aria-current","page",1,"breadcrumb-item","active"],[1,"list-booking-content"],[4,"ngIf","ngIfElse"],["elseBlock",""],[1,"table-wrapper"],[1,"table"],[1,"col-header"],[1,"row-header"],["class","col-content",4,"ngFor","ngForOf"],[1,"col-content"],[1,"row-content"],["notChoDuyet",""],["notDaDuyet",""],["notDaTra",""],["notYeuCauSua",""],["notChuaDienTT",""],[1,"empty-row"]],template:function(r,i){if(1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"nav",3)(4,"ol",4)(5,"li",5)(6,"a",6),w(7,"Trang chu"),y()(),m(8,"li",7),w(9,"Danh sach booking"),y()()(),m(10,"div",8),q(11,Ode,31,1,"ng-container",9),q(12,Ide,3,0,"ng-template",null,10,Pi),y()()()()),2&r){const o=wi(13);O(11),F("ngIf",i.orderData.length>0)("ngIfElse",o)}},dependencies:[Gi,ri,kr],styles:['@charset "UTF-8";.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{padding:0}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]{display:inline}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item.active[_ngcontent-%COMP%]{color:#333}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{padding:8px;color:#000;content:"/\\a0"}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{width:100%;max-width:100%;overflow-x:auto;position:relative}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;height:12px}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cccccc;border-radius:6px}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#bbbbbb}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border:1px solid #ddd}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:transparent}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-color:inherit;border-style:solid;border-width:0}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr.col-header[_ngcontent-%COMP%]{background-color:#f2f2f2;font-weight:700}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr.col-header[_ngcontent-%COMP%]   th.row-header[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td.row-content[_ngcontent-%COMP%]{padding:.625rem 1.25rem;text-align:left;white-space:nowrap}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td.row-content[_ngcontent-%COMP%]:last-child{text-align:center}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.btn-accept[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:6px 12px;border:none;border-radius:4px;text-align:center;text-decoration:none;display:inline-block;cursor:pointer}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.btn-accept[_ngcontent-%COMP%]:hover{background-color:#45a049}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .empty-row[_ngcontent-%COMP%]{text-align:center}']}),e})();function Tde(t,e){1&t&&(ht(0),w(1," Ch\u1edd duy\u1ec7t "),pt())}function Ade(t,e){}function Dde(t,e){1&t&&(ht(0),w(1," \u0110\xe3 duy\u1ec7t "),pt())}function Sde(t,e){}function xde(t,e){1&t&&(ht(0),w(1," \u0110\xe3 tr\u1ea3 "),pt())}function Rde(t,e){}function kde(t,e){1&t&&(ht(0),w(1," Y\xeau c\u1ea7u s\u1eeda "),pt())}function Nde(t,e){}function Fde(t,e){1&t&&(ht(0),w(1," Ch\u01b0a \u0111i\u1ec1n th\xf4ng tin "),pt())}function Lde(t,e){}function Vde(t,e){if(1&t){const n=Kn();m(0,"tr",17)(1,"td",18),w(2),y(),m(3,"td",18),w(4),y(),m(5,"td",18),w(6),y(),m(7,"td",18),w(8),y(),m(9,"td",18),w(10),y(),m(11,"td",18),w(12),y(),m(13,"td",18),w(14),y(),m(15,"td",18),w(16),y(),m(17,"td",18),w(18),y(),m(19,"td",18),q(20,Tde,2,0,"ng-container",9),q(21,Ade,0,0,"ng-template",null,19,Pi),q(23,Dde,2,0,"ng-container",9),q(24,Sde,0,0,"ng-template",null,20,Pi),q(26,xde,2,0,"ng-container",9),q(27,Rde,0,0,"ng-template",null,21,Pi),q(29,kde,2,0,"ng-container",9),q(30,Nde,0,0,"ng-template",null,22,Pi),q(32,Fde,2,0,"ng-container",9),q(33,Lde,0,0,"ng-template",null,23,Pi),y(),m(35,"td",18),w(36),y(),m(37,"td",18),w(38),y(),m(39,"td",24)(40,"a",25),H("click",function(){const o=Bt(n).$implicit;return Vt(Re(2).onAccept(o.order.id))}),w(41,"Duy\u1ec7t"),y()()()}if(2&t){const n=e.$implicit,r=e.index,i=wi(22),o=wi(25),s=wi(28),a=wi(31),c=wi(34);O(2),Ne(r+1),O(2),Ne(n.order.cust_name),O(2),Ne(n.order.cust_phone),O(2),Ne(n.order.cust_email),O(2),Ne(n.order.order_date),O(2),Ne(n.order.appoi_time),O(2),Ne(n.order.time),O(2),Ne(n.order.shooting_type),O(1),Xo("data-id",n.user.id),O(1),Ne(n.user.full_name),O(2),F("ngIf","cho_duyet"===n.order.status)("ngIfElse",i),O(3),F("ngIf","da_duyet"===n.order.status)("ngIfElse",o),O(3),F("ngIf","da_tra"===n.order.status)("ngIfElse",s),O(3),F("ngIf","yc_sua"===n.order.status)("ngIfElse",a),O(3),F("ngIf","chua_dien_tt"===n.order.status)("ngIfElse",c),O(4),Ne(n.order.price),O(2),Ne(n.order.code)}}function Ude(t,e){if(1&t&&(ht(0),m(1,"div",11)(2,"table",12)(3,"thead")(4,"tr",13)(5,"th",14),w(6,"#"),y(),m(7,"th",14),w(8,"T\xean kh\xe1ch"),y(),m(9,"th",14),w(10,"SDT kh\xe1ch"),y(),m(11,"th",14),w(12,"Email kh\xe1ch"),y(),m(13,"th",14),w(14,"Ng\xe0y"),y(),m(15,"th",14),w(16,"Th\u1eddi gian"),y(),m(17,"th",14),w(18,"Th\u1eddi l\u01b0\u1ee3ng"),y(),m(19,"th",14),w(20,"Lo\u1ea1i ch\u1ee5p"),y(),m(21,"th",14),w(22,"Ng\u01b0\u1eddi ch\u1ee5p"),y(),m(23,"th",14),w(24,"Tr\u1ea1ng th\xe1i"),y(),m(25,"th",14),w(26,"T\xf4\u0309ng ti\xea\u0300n"),y(),m(27,"th",14),w(28,"Ma\u0303"),y(),m(29,"th",15),w(30,"Ch\u1ee9c n\u0103ng"),y()()(),m(31,"tbody"),q(32,Vde,42,22,"tr",16),y()()(),pt()),2&t){const n=Re();O(32),F("ngForOf",n.orderData)}}function Bde(t,e){1&t&&(m(0,"div",26)(1,"h4"),w(2,"Ch\u01b0a co\u0301 kha\u0301ch \u0111\u0103\u0323t li\u0323ch"),y()())}let jde=(()=>{var t;class e{constructor(r){this.orderDTOService=r,this.orderData=[]}ngOnInit(){this.loadOrderData()}loadOrderData(){this.orderDTOService.getOrderDTOsByStatus("cho_duyet").subscribe(r=>{this.orderData=r},r=>{console.error("Error fetching order: ",r)})}onAccept(r){var i=this;console.log(r),this.orderDTOService.getOrderDTOsById(r).subscribe(function(){var o=(0,x.Z)(function*(s){null!==s?(console.log("D\u1eef li\u1ec7u \u0111\xe3 t\xecm th\u1ea5y:",s),(yield i.orderDTOService.updateOrder(s)).subscribe(a=>{null!==a?i.loadOrderData():console.log("C\u1eadp nh\u1eadt th\u1ea5t b\u1ea1i.")},a=>{console.error("L\u1ed7i khi c\u1eadp nh\u1eadt:",a)})):console.log("D\u1eef li\u1ec7u kh\xf4ng t\u1ed3n t\u1ea1i.")});return function(s){return o.apply(this,arguments)}}(),o=>{console.error("L\u1ed7i x\u1ea3y ra:",o)})}}return(t=e).\u0275fac=function(r){return new(r||t)(Z(I9))},t.\u0275cmp=Tt({type:t,selectors:[["app-order-accept-admin"]],decls:14,vars:2,consts:[[1,"layout-list-booking"],[1,"list-booking-wrapper"],[1,"list-booking-container"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/admin/home"],["aria-current","page",1,"breadcrumb-item","active"],[1,"list-booking-content"],[4,"ngIf","ngIfElse"],["elseBlock",""],[1,"table-wrapper"],[1,"table"],[1,"col-header"],[1,"row-header"],[1,"row-header",".col-fixed"],["class","col-content",4,"ngFor","ngForOf"],[1,"col-content"],[1,"row-content"],["notChoDuyet",""],["notDaDuyet",""],["notDaTra",""],["notYeuCauSua",""],["notChuaDienTT",""],[1,"row-content",".col-fixed"],["href","javascript:void(0)",1,"btn","btn-accept",3,"click"],[1,"empty-row"]],template:function(r,i){if(1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"nav",3)(4,"ol",4)(5,"li",5)(6,"a",6),w(7,"Trang chu"),y()(),m(8,"li",7),w(9,"Duyet booking"),y()()(),m(10,"div",8),q(11,Ude,33,1,"ng-container",9),q(12,Bde,3,0,"ng-template",null,10,Pi),y()()()()),2&r){const o=wi(13);O(11),F("ngIf",i.orderData.length>0)("ngIfElse",o)}},dependencies:[Gi,ri,kr],styles:['@charset "UTF-8";.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{padding:0}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]{display:inline}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item.active[_ngcontent-%COMP%]{color:#333}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{padding:8px;color:#000;content:"/\\a0"}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{width:100%;max-width:100%;overflow-x:auto;position:relative}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;height:12px}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cccccc;border-radius:6px}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#bbbbbb}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border:1px solid #ddd}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:transparent}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-color:inherit;border-style:solid;border-width:0}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr.col-header[_ngcontent-%COMP%]{background-color:#f2f2f2;font-weight:700}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr.col-header[_ngcontent-%COMP%]   th.row-header[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td.row-content[_ngcontent-%COMP%]{padding:.625rem 1.25rem;text-align:left;white-space:nowrap}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td.row-content[_ngcontent-%COMP%]:last-child{text-align:center}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.btn-accept[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:6px 12px;border:none;border-radius:4px;text-align:center;text-decoration:none;display:inline-block;cursor:pointer}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.btn-accept[_ngcontent-%COMP%]:hover{background-color:#45a049}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .empty-row[_ngcontent-%COMP%]{text-align:center}']}),e})(),b9=(()=>{var t;class e{getDeces(){return new Promise((r,i)=>{xs(En(Bn((0,Be.initializeApp)(On_firebaseConfig)),"deces/"),c=>{const l=c.val(),h=[];for(const f in l)if(l.hasOwnProperty(f)){const _=l[f];h.push({id:_.id,partner_id:_.partner_id,category:_.category})}r(h)})})}getDecesByPartnerId(r){var i=this;return(0,x.Z)(function*(){try{return(yield i.getDeces()).find(a=>a.partner_id===r)||null}catch(o){return console.error("Error fetching user by ID:",o),null}})()}getDecesById(r){var i=this;return(0,x.Z)(function*(){try{return(yield i.getDeces()).find(a=>a.id===r)||null}catch(o){return console.error("Error fetching user by ID:",o),null}})()}createDeces(r){var i=this;return(0,x.Z)(function*(){try{if(!(yield i.isPartnerUnique(r.partner_id)))return console.log("The order is not unique"),null;const a=Bn((0,Be.initializeApp)(On_firebaseConfig)),c=yield i.generateNewId(),l=En(a,"deces/"+c),h={id:c,partner_id:r.partner_id,category:r.category};return yield Do(l,h),h}catch(o){return console.error("Error creating user:",o),null}})()}updateDeces(r){var i=this;return(0,x.Z)(function*(){try{if(null===(yield i.getDecesById(r.id)))return console.error("User information not found for ID:",r.id),null;const a=Bn((0,Be.initializeApp)(On_firebaseConfig)),c={id:r.id,partner_id:r.partner_id,category:r.category},l=En(a,`deces/${r.id}`);return yield Do(l,c),r}catch(o){return console.error("Error updating user:",o),null}})()}generateNewId(){var r=this;return(0,x.Z)(function*(){const i=yield r.getDeces();return(0===i.length?0:Math.max(...i.map(s=>s.id)))+1})()}isPartnerUnique(r){return(0,x.Z)(function*(){const s=En(Bn((0,Be.initializeApp)(On_firebaseConfig)),"deces"),c=(yield bp(s)).val();if(c)for(const l in c)if(c.hasOwnProperty(l)&&c[l].partner_id===r)return!1;return!0})()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function $de(t,e){if(1&t){const n=Kn();m(0,"div",18),H("click",function(){const o=Bt(n).$implicit;return Vt(Re(2).selectDate(o))}),w(1),y()}if(2&t){const n=e.$implicit,r=Re(2);es("calendar-day-hover",null!==n)("selected-date",null!==n&&n===r.selectedDay)("curr-date",r.isCurrentDate(n)),O(1),Rt(" ",n," ")}}function Hde(t,e){if(1&t){const n=Kn();m(0,"div",19),H("click",function(){const o=Bt(n).index;return Vt(Re(2).selectMonth(o))}),w(1),y()}if(2&t){const n=e.$implicit;O(1),Rt("",n," ")}}function zde(t,e){if(1&t){const n=Kn();m(0,"div",6)(1,"div",7)(2,"span",8),H("click",function(){return Bt(n),Vt(Re().toggleMonthList())}),w(3),y(),m(4,"div",9)(5,"span",10),H("click",function(){return Bt(n),Vt(Re().prevYear())}),w(6,"<"),y(),m(7,"span",11),w(8),y(),m(9,"span",10),H("click",function(){return Bt(n),Vt(Re().nextYear())}),w(10,">"),y()()(),m(11,"div",12)(12,"div",13)(13,"div"),w(14,"CN"),y(),m(15,"div"),w(16,"T2"),y(),m(17,"div"),w(18,"T3"),y(),m(19,"div"),w(20,"T4"),y(),m(21,"div"),w(22,"T5"),y(),m(23,"div"),w(24,"T6"),y(),m(25,"div"),w(26,"T7"),y()(),m(27,"div",14),q(28,$de,2,7,"div",15),y()(),m(29,"div",16),q(30,Hde,2,1,"div",17),y()()}if(2&t){const n=Re();O(3),Ne(n.monthNames[n.currMonth]),O(5),Ne(n.currYear),O(20),F("ngForOf",n.calendarDays),O(1),es("show",n.isMonthListVisible),O(1),F("ngForOf",n.monthNames)}}let GT=(()=>{var t;class e{constructor(r){this.el=r,this.textDefault="DD-MM-YYYY",this.selectedDate="",this.selectedDateChange=new Sn,this.isCalendarVisible=!1,this.monthNames=["Th\xe1ng 1","Th\xe1ng 2","Th\xe1ng 3","Th\xe1ng 4","Th\xe1ng 5","Th\xe1ng 6","Th\xe1ng 7","Th\xe1ng 8","Th\xe1ng 9","Th\xe1ng 10","Th\xe1ng 11","Th\xe1ng 12"],this.calendarDays=[],this.isMonthListVisible=!1,this.selectedDay=null}ngAfterViewInit(){}ngOnInit(){const r=new Date;this.currMonth=r.getMonth(),this.currYear=r.getFullYear(),this.generateCalendar(this.currMonth,this.currYear),this.selectedDateChange.subscribe(i=>{const o=new Date;this.currMonth=o.getMonth(),this.currYear=o.getFullYear(),this.generateCalendar(this.currMonth,this.currYear)})}toggleCalendar(){this.isCalendarVisible=!this.isCalendarVisible,this.isCalendarVisible||(this.isMonthListVisible=!1)}prevYear(){this.currYear--,this.generateCalendar(this.currMonth,this.currYear),this.selectedDay=null}nextYear(){this.currYear++,this.generateCalendar(this.currMonth,this.currYear),this.selectedDay=null}toggleMonthList(){this.isMonthListVisible=!this.isMonthListVisible}selectMonth(r){this.isMonthListVisible=!1,this.currMonth=r,this.generateCalendar(this.currMonth,this.currYear),this.selectedDay=null}isLeapYear(r){return r%4==0&&r%100!=0||r%400==0}getFebDays(r){return this.isLeapYear(r)?29:28}generateCalendar(r,i){const o=[31,this.getFebDays(i),31,30,31,30,31,31,30,31,30,31];this.calendarDays=[];const s=new Date(i,r,1);for(let a=0;a<=o[r]+s.getDay()-1;a++)a>=s.getDay()?this.calendarDays.push(a-s.getDay()+1):this.calendarDays.push(null)}selectDate(r){if(null!==r){this.selectedDay=r;const i=new Date(this.currYear,this.currMonth,r);this.selectedDate=i.toLocaleDateString(),this.isCalendarVisible=!1}this.selectedDateChange.emit(this.selectedDate)}isCurrentDate(r){if(null===r)return!1;const i=new Date;return r===i.getDate()&&this.currYear===i.getFullYear()&&this.currMonth===i.getMonth()}onDocumentClick(r){!this.el.nativeElement.contains(r.target)&&this.isCalendarVisible&&(this.isCalendarVisible=!1,this.isMonthListVisible=!1,this.selectedDateChange.subscribe(i=>{const o=new Date;this.currMonth=o.getMonth(),this.currYear=o.getFullYear(),this.generateCalendar(this.currMonth,this.currYear)}))}}return(t=e).\u0275fac=function(r){return new(r||t)(Z(ji))},t.\u0275cmp=Tt({type:t,selectors:[["app-date-picker"]],hostBindings:function(r,i){1&r&&H("click",function(s){return i.onDocumentClick(s)},0,Ru)},inputs:{textDefault:"textDefault",selectedDate:"selectedDate"},outputs:{selectedDateChange:"selectedDateChange"},decls:8,vars:3,consts:[[1,"calendar-wrapper"],[1,"select-button",3,"click"],["selectButton",""],[1,"bx","bx-calendar"],["class","calendar",4,"ngIf"],["type","text",2,"display","none",3,"ngModel","ngModelChange"],[1,"calendar"],[1,"calendar-header"],[1,"month-picker",3,"click"],[1,"year-picker"],[1,"year-change",3,"click"],["id","year"],[1,"calendar-body"],[1,"calendar-week-day"],[1,"calendar-days"],[3,"calendar-day-hover","selected-date","curr-date","click",4,"ngFor","ngForOf"],[1,"month-list"],["class","month-item",3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"month-item",3,"click"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1,2),H("click",function(){return i.toggleCalendar()}),m(3,"span"),w(4),y(),A(5,"i",3),y(),q(6,zde,31,6,"div",4),m(7,"input",5),H("ngModelChange",function(s){return i.selectedDate=s}),y()()),2&r&&(O(4),Ne(i.selectedDate||i.textDefault),O(2),F("ngIf",i.isCalendarVisible),O(1),F("ngModel",i.selectedDate))},dependencies:[Gi,ri,Ns,ua,Fs],styles:[".calendar-wrapper[_ngcontent-%COMP%]{position:relative;min-width:150px}.calendar-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.calendar-wrapper[_ngcontent-%COMP%]   .select-button[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;padding:8px 12px;border:1px solid var(--color-primary);border-radius:4px;background-color:var(--color-light);display:flex;justify-content:space-between;column-gap:.75rem;align-items:center;color:var(--color-primary)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]{position:absolute;top:calc(100% + .3rem);left:0;background-color:var(--color-bg-body);width:260px;height:290px;border-radius:.5rem;padding:.5rem;overflow:hidden;box-shadow:0 2px 5px #0003;z-index:2}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:17px;font-weight:700;padding:10px 0}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]   .month-picker[_ngcontent-%COMP%]{color:var(--color-primary);padding:5px 10px;border-radius:10px;cursor:pointer}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]   .month-picker[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]   .year-picker[_ngcontent-%COMP%]{display:flex;align-items:center;color:var(--color-primary)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]   .year-picker[_ngcontent-%COMP%]   .year-change[_ngcontent-%COMP%]{height:30px;width:30px;border-radius:50%;display:grid;place-items:center;margin:0 10px;cursor:pointer;color:var(--color-primary)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]   .year-picker[_ngcontent-%COMP%]   .year-change[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]{padding:10px}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-week-day[_ngcontent-%COMP%]{height:30px;display:grid;grid-template-columns:repeat(7,1fr);font-weight:600}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-week-day[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:grid;place-items:center;color:var(--color-dark)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:2px;color:#151426}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:30px;height:30px;display:flex;align-items:center;justify-content:center;padding:5px;position:relative;animation:_ngcontent-%COMP%_to-top 1s forwards}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div.calendar-day-hover[_ngcontent-%COMP%]{cursor:pointer;border-radius:50%}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div.calendar-day-hover[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary);color:var(--color-primary);font-weight:600}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div.curr-date[_ngcontent-%COMP%], .calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div.curr-date[_ngcontent-%COMP%]:hover{background-color:var(--color-primary);color:#fff}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div.selected-date[_ngcontent-%COMP%], .calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div.selected-date[_ngcontent-%COMP%]:hover{background-color:var(--color-info)!important;color:#fff}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month-list[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background-color:var(--color-bg-body);padding:.5rem;grid-template-columns:repeat(3,auto);gap:7px;display:grid;transform:scale(1.5);visibility:hidden;pointer-events:none}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;place-items:center;width:100%;border-radius:10px;cursor:pointer;color:var(--color-primary);font-weight:700}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month-list.show[_ngcontent-%COMP%]{transform:scale(1);visibility:visible;pointer-events:visible;transition:all .2s ease-in-out}@keyframes _ngcontent-%COMP%_to-top{0%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}"]}),e})();const Wde=["selectElement"],Gde=["selectButton"],qde=["selectOptions"];function Kde(t,e){1&t&&A(0,"i",10)}function Zde(t,e){1&t&&A(0,"i",11)}function Yde(t,e){if(1&t){const n=Kn();m(0,"li",12),H("click",function(){const o=Bt(n).$implicit;return Vt(Re().selectOption(o.value))}),w(1),y()}if(2&t){const n=e.$implicit;O(1),Rt(" ",n.textContent," ")}}const Qde=[[["","custom-option",""]]],Xde=function(t){return{active:t}},Jde=["[custom-option]"];let qT=(()=>{var t;class e{constructor(){this.textDefault="-- Choose --",this.selectedOption="",this.selectedOptionChange=new Sn,this.selectedOptionText="",this.options=[],this.isDropdownOpen=!1,this.dropdownPosition={top:"0",left:"0"}}ngOnInit(){}ngAfterViewInit(){const r=this.selectElement.nativeElement;for(let i=0;i<r.options.length;i++){const o=r.options[i];this.options.push({value:o.value,textContent:o.textContent})}}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen}selectOption(r){this.selectedOption=r,this.selectedOptionText=this.options.find(i=>i.value===this.selectedOption)?.textContent||"",this.selectedOptionChange.emit(this.selectedOption),this.isDropdownOpen=!1}onClickOutside(r){!this.selectButton.nativeElement.contains(r.target)&&!this.selectOptions.nativeElement.contains(r.target)&&(this.isDropdownOpen=!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tt({type:t,selectors:[["app-custom-select"]],viewQuery:function(r,i){if(1&r&&(sr(Wde,5),sr(Gde,5),sr(qde,5)),2&r){let o;Zn(o=Yn())&&(i.selectElement=o.first),Zn(o=Yn())&&(i.selectButton=o.first),Zn(o=Yn())&&(i.selectOptions=o.first)}},hostBindings:function(r,i){1&r&&H("click",function(s){return i.onClickOutside(s)},0,Ru)},inputs:{textDefault:"textDefault",selectedOption:"selectedOption"},outputs:{selectedOptionChange:"selectedOptionChange"},ngContentSelectors:Jde,decls:13,vars:8,consts:[[1,"custom-select"],[1,"select-button",3,"click"],["selectButton",""],["class","bx bx-collapse-vertical",4,"ngIf"],["class","bx bx-expand-vertical",4,"ngIf"],[1,"select-options",3,"ngClass"],["selectOptions",""],[3,"click",4,"ngFor","ngForOf"],[2,"display","none",3,"ngModel","ngModelChange"],["selectElement",""],[1,"bx","bx-collapse-vertical"],[1,"bx","bx-expand-vertical"],[3,"click"]],template:function(r,i){1&r&&(function AF(t){const e=ce()[Vn][gr];if(!e.projection){const r=e.projection=Jc(t?t.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=t?ZK(o,t):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}(Qde),m(0,"div",0)(1,"div",1,2),H("click",function(){return i.toggleDropdown()}),m(3,"span"),w(4),y(),q(5,Kde,1,0,"i",3),q(6,Zde,1,0,"i",4),y(),m(7,"ul",5,6),q(9,Yde,2,1,"li",7),y(),m(10,"select",8,9),H("ngModelChange",function(s){return i.selectedOption=s}),function DF(t,e=0,n){const r=ce(),i=Mt(),o=Bh(i,dt+t,16,null,n||null);null===o.projection&&(o.projection=e),Mu(),(!r[wo]||Ua())&&32!=(32&o.flags)&&function XW(t,e,n){RN(e[Ke],0,e,n,wO(t,n,e),bN(n.parent||e[gr],n,e))}(i,r,o)}(12),y()()),2&r&&(O(4),Ne(i.selectedOptionText||i.textDefault),O(1),F("ngIf",!i.isDropdownOpen),O(1),F("ngIf",i.isDropdownOpen),O(1),F("ngClass",Rr(6,Xde,i.isDropdownOpen)),O(2),F("ngForOf",i.options),O(1),F("ngModel",i.selectedOption))},dependencies:[Is,Gi,ri,Yw,ua,Fs],styles:[".custom-select[_ngcontent-%COMP%]{position:relative;min-width:150px}.custom-select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{display:none}.custom-select[_ngcontent-%COMP%]   .select-button[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;padding:8px 12px;border:1px solid var(--color-primary);border-radius:4px;background-color:var(--color-light);display:flex;justify-content:space-between;align-items:center;column-gap:.75rem;color:var(--color-primary);text-wrap:nowrap}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;position:absolute;top:calc(100% + .3rem);left:0;background-color:var(--color-light);border-top:none;border-radius:.3rem;box-shadow:0 2px 5px #0003;display:none;z-index:2;min-width:150px;max-height:200px;overflow-y:auto;scrollbar-width:thin;scrollbar-color:var(--color-primary) var(--color-light)}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--color-light)}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#f6f6f6;border-radius:4px;border:2px solid var(--color-light)}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px 12px;cursor:pointer;color:var(--color-primary);text-wrap:nowrap}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-of-type{border-top-right-radius:.3rem;border-top-left-radius:.3rem}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-of-type{border-bottom-right-radius:.3rem;border-bottom-left-radius:.3rem}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f6f6f6}.custom-select[_ngcontent-%COMP%]   .select-options.active[_ngcontent-%COMP%]{display:block}"]}),e})();function ehe(t,e){if(1&t){const n=Kn();m(0,"div",169)(1,"a",170)(2,"div",171),A(3,"img",172),y(),m(4,"div",173)(5,"h3",174),w(6),y(),m(7,"span",175),w(8),y(),m(9,"div",176),H("click",function(){const o=Bt(n).$implicit;return Vt(Re().toggleAsk(o.name))}),A(10,"i",31),y()()()()}if(2&t){const n=e.$implicit;O(3),Jo("src",n.images[0],Sr),O(3),Ne(n.name),O(2),Ne(n.images.length)}}function the(t,e){if(1&t&&(m(0,"div",177),w(1),y()),2&t){const n=Re();O(1),Rt(" ",n.errorMessage," ")}}function nhe(t,e){if(1&t){const n=Kn();m(0,"div",178),A(1,"img",179),m(2,"a",180),H("click",function(){const o=Bt(n).index;return Vt(Re().delPicture(o))}),A(3,"i",131),y()()}if(2&t){const n=e.$implicit;O(1),Jo("src",n,Sr)}}function rhe(t,e){if(1&t){const n=Kn();m(0,"div",178),A(1,"img",179),m(2,"a",181),H("click",function(){const o=Bt(n).index;return Vt(Re().deleteImageFromAsk(o))}),A(3,"i",131),y()()}if(2&t){const n=e.$implicit;O(1),Jo("src",n.url,Sr)}}function ihe(t,e){if(1&t){const n=Kn();m(0,"div",182)(1,"div",183),A(2,"img",184),m(3,"a",185),H("click",function(){const o=Bt(n).index;return Vt(Re().deleteImageOfNewPortfo(o))}),A(4,"i",131),y()()()}if(2&t){const n=e.$implicit;O(2),F("src",n,Sr)}}const ohe=function(t){return["/ware-house-picture",t]},she=function(t){return["/ware-house-repair",t]};function ahe(t,e){if(1&t){const n=Kn();m(0,"div",186)(1,"div")(2,"a",187),w(3,"Kho a\u0309nh tra\u0309"),y()(),m(4,"div")(5,"a",187),w(6,"Kho a\u0309nh y\xeau c\xe2\u0300u s\u01b0\u0309a"),y()(),m(7,"a",188),H("click",function(){return Bt(n),Vt(Re().hideWarehouse())}),A(8,"i",131),y()()}if(2&t){const n=Re();O(2),F("routerLink",Rr(2,ohe,n.partnerId)),O(3),F("routerLink",Rr(4,she,n.partnerId))}}let che=(()=>{var t;class e{toggleAsk(r){this.isShowAskRepair=!this.isShowAskRepair,this.modalName=r,this.decesData?.category.forEach(i=>{i.name!==r||(this.modalImagesRepair=i.images)})}closeAsk(){this.isShowAskRepair=!1}constructor(r,i,o,s,a,c,l,h){this.router=r,this.route=i,this.orderService=o,this.userInfoDTOService=s,this.userInfoService=a,this.userService=c,this.decesService=l,this.fileStorage=h,this.userData=null,this.decesData=null,this.selectedDateU="",this.selectedOptionTL="",this.selectedOptionType="",this.errorMessage="",this.isError=!1,this.dateVal="",this.selectedOptionTLVal="",this.selectedOptionTypeVal="",this.setTimeVal="",this.partnerId=0,this.isShowOrder=!1,this.isShowForMeEdit=!1,this.isShowIcEdit=!1,this.isShowFeEdit=!1,this.nameText="",this.expText="",this.addressText="",this.desText="",this.prizeText="",this.interestText="",this.languageText="",this.cameraText="",this.isShowAskRepair=!1,this.isShowAddPortfo=!1,this.isShowWarehouse=!1,this.modalName="",this.modalImagesRepair=[],this.imagePreviews=[],this.filesAddPortfo=[],this.portfo_name="",this.imageData=[],this.route.params.subscribe(f=>{const _=f.id;_?this.partnerId=parseInt(_,10):console.error("ID not found in URL")})}ngOnInit(){this.route.params.subscribe(r=>{const i=r.id;if(i){const o=parseInt(i,10);this.loadUserInfoData(o),this.loadDecesData(o)}else console.error("ID not found in URL")})}loadUserInfoData(r){this.userInfoDTOService.getUserInfoDTOsById(r).subscribe(i=>{this.userData=i,this.nameText=this.userData?.user.full_name||"",this.addressText=this.userData?.user.address||"",this.expText=this.userData?.user.exp.toString()||"",this.desText=this.userData?.userInfo.description||"",this.prizeText=this.userData?.userInfo.prize||"",this.interestText=this.userData?.userInfo.interest||"",this.languageText=this.userData?.userInfo.language||"",this.cameraText=this.userData?.userInfo.camera||""},i=>{console.error("Error loading user info:",i)})}loadDecesData(r){var i=this;return(0,x.Z)(function*(){i.decesData=yield i.decesService.getDecesByPartnerId(r),console.log(i.decesData)})()}onDateChange(r){this.dateVal=r}onOptionTLChange(r){this.selectedOptionTLVal=r}onOptionTypeChange(r){this.selectedOptionTypeVal=r}onSubmit(){var r=this;return(0,x.Z)(function*(){if(r.isError=!1,r.selectedDateU&&r.selectedOptionTL&&r.selectedOptionType){if(0!==r.partnerId){console.log("true");const o={id:0,order_date:r.dateVal,time:r.selectedOptionTLVal,appoi_time:r.setTimeVal,shooting_type:r.selectedOptionTypeVal,partner_id:r.partnerId,cust_name:"",cust_email:"",cust_phone:"",code:"",status:"cho_duyet",address:"",price:"",link_down:"",des_refund:""};var i=yield r.orderService.createOrder(o);i&&(localStorage.setItem("order_id",i.id.toString()),r.router.navigate(["/contact"]))}}else r.errorMessage="Vui l\xf2ng \u0111i\u1ec1n \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin",r.isError=!0,console.log(r.dateVal),console.log(r.setTimeVal)})()}showOrder(){this.isShowOrder=!0}hideOrder(){this.isShowOrder=!1}showForMeEdit(){this.isShowForMeEdit=!0}showIcEdit(){this.isShowIcEdit=!0}showFeEdit(){this.isShowFeEdit=!0}hideForMeEdit(){this.isShowForMeEdit=!1}hideIcEdit(){this.isShowIcEdit=!1}hideFeEdit(){this.isShowFeEdit=!1}toggleWarehouse(){this.isShowWarehouse=!this.isShowWarehouse}hideWarehouse(){this.isShowWarehouse=!0}updateValue(r,i){switch(r){case"nameText":this.nameText=i;break;case"desText":this.desText=i;break;case"prizeText":this.prizeText=i;break;case"interestText":this.interestText=i;break;case"addressText":this.addressText=i;break;case"expText":this.expText=i}}saveIc(){var r=this;return(0,x.Z)(function*(){if(void 0!==r.userData?.user.id){const s=r.userData?.userInfo.id;var i=yield r.userInfoService.getUserInfoById(s);if(i)if(void 0!==r.desText&&void 0!==r.prizeText&&void 0!==r.interestText){i.description=r.desText,i.prize=r.prizeText,i.interest=r.interestText,console.log(i);var o=yield r.userInfoService.updateUserInfo(i);o?(console.log("Th\xf4ng tin ng\u01b0\u1eddi d\xf9ng \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt th\xe0nh c\xf4ng",o),window.alert("Th\xf4ng tin ng\u01b0\u1eddi d\xf9ng \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt th\xe0nh c\xf4ng")):(console.error("L\u1ed7i khi c\u1eadp nh\u1eadt th\xf4ng tin ng\u01b0\u1eddi d\xf9ng"),window.alert("L\u1ed7i khi c\u1eadp nh\u1eadt th\xf4ng tin ng\u01b0\u1eddi d\xf9ng"))}else console.error("M\u1ed9t trong c\xe1c tr\u01b0\u1eddng d\u1eef li\u1ec7u l\xe0 undefined"),window.alert("M\u1ed9t trong c\xe1c tr\u01b0\u1eddng d\u1eef li\u1ec7u l\xe0 undefined");else console.error("Kh\xf4ng t\xf4\u0300n ta\u0323i ta\u0323i th\xf4ng tin cu\u0309a ta\u0300i khoa\u0309n na\u0300y"),window.alert("Kh\xf4ng t\xf4\u0300n ta\u0323i ta\u0323i th\xf4ng tin cu\u0309a ta\u0300i khoa\u0309n na\u0300y")}else console.error("User ID is undefined"),window.alert("User ID is undefined")})()}saveForMe(){var r=this;return(0,x.Z)(function*(){if(void 0!==r.userData?.user.id){const s=r.userData?.user.id;var i=yield r.userService.getUserById(s);if(i)if(void 0!==r.nameText&&void 0!==r.addressText&&void 0!==r.expText){i.full_name=r.nameText,i.address=r.addressText,i.exp=parseFloat(r.expText);var o=yield r.userService.updateUser(i);o?(console.log("Th\xf4ng tin ng\u01b0\u1eddi d\xf9ng \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt th\xe0nh c\xf4ng",o),window.alert("Th\xf4ng tin ng\u01b0\u1eddi d\xf9ng \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt th\xe0nh c\xf4ng")):(console.error("L\u1ed7i khi c\u1eadp nh\u1eadt th\xf4ng tin ng\u01b0\u1eddi d\xf9ng"),window.alert("L\u1ed7i khi c\u1eadp nh\u1eadt th\xf4ng tin ng\u01b0\u1eddi d\xf9ng"))}else console.error("M\u1ed9t trong c\xe1c tr\u01b0\u1eddng d\u1eef li\u1ec7u l\xe0 undefined"),window.alert("M\u1ed9t trong c\xe1c tr\u01b0\u1eddng d\u1eef li\u1ec7u l\xe0 undefined");else console.error("Kh\xf4ng t\xf4\u0300n ta\u0323i ta\u0323i th\xf4ng tin cu\u0309a ta\u0300i khoa\u0309n na\u0300y"),window.alert("Kh\xf4ng t\xf4\u0300n ta\u0323i ta\u0323i th\xf4ng tin cu\u0309a ta\u0300i khoa\u0309n na\u0300y")}else console.error("User ID is undefined"),window.alert("User ID is undefined")})()}saveFe(){var r=this;return(0,x.Z)(function*(){if(void 0!==r.userData?.user.id){const s=r.userData?.userInfo.id;var i=yield r.userInfoService.getUserInfoById(s);if(i)if(void 0!==r.languageText&&void 0!==r.cameraText){i.language=r.languageText,i.prize=r.languageText;var o=yield r.userInfoService.updateUserInfo(i);o?(console.log("Th\xf4ng tin ng\u01b0\u1eddi d\xf9ng \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt th\xe0nh c\xf4ng",o),window.alert("Th\xf4ng tin ng\u01b0\u1eddi d\xf9ng \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt th\xe0nh c\xf4ng")):(console.error("L\u1ed7i khi c\u1eadp nh\u1eadt th\xf4ng tin ng\u01b0\u1eddi d\xf9ng"),window.alert("L\u1ed7i khi c\u1eadp nh\u1eadt th\xf4ng tin ng\u01b0\u1eddi d\xf9ng"))}else console.error("M\u1ed9t trong c\xe1c tr\u01b0\u1eddng d\u1eef li\u1ec7u l\xe0 undefined"),window.alert("M\u1ed9t trong c\xe1c tr\u01b0\u1eddng d\u1eef li\u1ec7u l\xe0 undefined");else console.error("Kh\xf4ng t\xf4\u0300n ta\u0323i ta\u0323i th\xf4ng tin cu\u0309a ta\u0300i khoa\u0309n na\u0300y"),window.alert("Kh\xf4ng t\xf4\u0300n ta\u0323i ta\u0323i th\xf4ng tin cu\u0309a ta\u0300i khoa\u0309n na\u0300y")}else console.error("User ID is undefined"),window.alert("User ID is undefined")})()}showAddPortfo(){this.isShowAddPortfo=!this.isShowAddPortfo}closeNewPortfo(){this.isShowAddPortfo=!1}previewImages(r){const o=r.target.files;if(o&&o.length>0){this.filesAddPortfo=Array.from(o),this.imagePreviews=[];for(let s=0;s<o.length;s++){const a=o[s],c=new FileReader;c.onload=l=>{this.imagePreviews.push(l.target?.result)},c.readAsDataURL(a)}}else this.imagePreviews=[]}deleteImageOfNewPortfo(r){r>=0&&r<this.imagePreviews.length&&(this.imagePreviews.splice(r,1),this.filesAddPortfo.splice(r,1),document.getElementById("image").value="")}addNewPortfo(){var r=this;return(0,x.Z)(function*(){if(""!==r.portfo_name&&r.filesAddPortfo.length>0){var i=[],o=[];for(let f=0;f<r.filesAddPortfo.length;f++){const _=r.filesAddPortfo[f],v=_.name.split(".").pop(),M=eP()+"."+v;o.push(new File([_],M,{type:_.type}))}for(let f=0;f<o.length;f++){const _=o[f],v=`images/${_.name}`,b=yield(yield r.fileStorage.upload(v,_)).ref.getDownloadURL();i.push(b)}var s=yield r.decesService.getDecesByPartnerId(r.partnerId);if(s){var a=!1;s.category.forEach(f=>{f.name!==r.portfo_name||(a=!0)}),a||s.category.push({name:r.portfo_name,images:i}),yield r.decesService.updateDeces(s),window.alert("Category added successfully"),yield r.loadDecesData(r.partnerId)}else{var l=[];l.push({name:r.portfo_name,images:i});var h={id:0,partner_id:r.partnerId,category:l};yield r.decesService.createDeces(h),window.alert("Category added successfully"),yield r.loadDecesData(r.partnerId)}}})()}delPicture(r){r>=0&&r<this.modalImagesRepair.length&&this.modalImagesRepair.splice(r,1)}addImageFromAsk(r,i){this.imageData.push({url:r,file:i})}deleteImageFromAsk(r){r>=0&&r<this.imageData.length&&this.imageData.splice(r,1)}onFileInputChange(r){const i=r.target.files;if(i)for(let o=0;o<i.length;o++){const s=i[o],a=URL.createObjectURL(s);this.addImageFromAsk(a,s)}}triggerFileInput(){document.getElementById("hiddenFileInput").click()}submitRepair(){var r=this;return(0,x.Z)(function*(){if(r.imageData.length>0){var i=[],o=[];for(let c=0;c<r.imageData.length;c++){const l=r.imageData[c].file,h=l.name.split(".").pop(),f=eP()+"."+h;o.push(new File([l],f,{type:l.type}))}for(let c=0;c<o.length;c++){const l=o[c],h=`images/${l.name}`,_=yield(yield r.fileStorage.upload(h,l)).ref.getDownloadURL();i.push(_)}var s=yield r.decesService.getDecesByPartnerId(r.partnerId);if(s)for(let c=0;c<s.category.length;c++){const l=s.category[c];if(l.name===r.modalName){l.images=[...l.images,...i],yield r.decesService.updateDeces(s),window.alert("Category added successfully"),yield r.loadDecesData(r.partnerId),r.decesData?.category.forEach(h=>{h.name!==r.modalName||(r.modalImagesRepair=h.images)}),r.imageData=[];break}}}})()}}return(t=e).\u0275fac=function(r){return new(r||t)(Z(mr),Z(Ts),Z(Ol),Z(Uw),Z(fT),Z(Tp),Z(b9),Z(dP))},t.\u0275cmp=Tt({type:t,selectors:[["app-partner-profile"]],decls:341,vars:44,consts:[[1,"profile-content"],[1,"wall-wrapper"],[1,"wall-content"],[1,"wall1"],[1,"wall1-1"],["src","./assets/images/profile/pf1.jpg","alt",""],[1,"wall1-2"],["src","./assets/images/profile/pf2.jpg","alt",""],[1,"wall2"],["src","./assets/images/profile/pf3.jpg","alt",""],[1,"wall3"],[1,"wall3-1"],["src","./assets/images/profile/pf4.jpg","alt",""],[1,"wall3-2"],["src","./assets/images/profile/pf5.jpg","alt",""],[1,"wall4"],["src","./assets/images/profile/pf6.jpg","alt",""],[1,"wall5"],[1,"wall5-1"],["src","./assets/images/profile/pf7.jpg","alt",""],[1,"wall5-2"],["src","./assets/images/profile/pf8.jpg","alt",""],[1,"content-wrapper"],[1,"forMe-wrapper"],[1,"forMe-content"],[1,"avatar-wrapper"],[1,"avatar"],["alt","",1,"avatar-image",3,"src"],[1,"des-forMe-wrapper"],[1,"des-forMe-name"],[1,"btn-edit-forMe",3,"click"],[1,"bx","bx-edit-alt"],[1,"des-forMe-address"],[1,"des-forMe-rate"],[1,"rate-star"],["src","./assets/images/icons/star-fill.png","alt",""],[1,"rate-text"],[1,"des-forMe-exp"],[1,"forMe-edit",3,"ngClass"],[3,"ngModel","ngModelChange"],[1,"des-forMe-address",3,"ngModel","ngModelChange"],[1,"des-forMe-exp",3,"ngModel","ngModelChange"],[1,"btn-edit-control"],["href","javascript:void(0)",1,"btn-save",3,"click"],["href","javascript:void(0)",1,"btn-cancel",3,"click"],[1,"info-wrapper"],[1,"infor-title-list"],[1,"title-list"],[1,"it-item"],["href","javascript:void(0)",1,"it-link"],[1,"deliver-line"],[1,"infor-content-list"],[1,"ic-item"],[1,"text-description"],[1,"prize"],[1,"prize-title"],[1,"interest"],[1,"interest-title"],[1,"btn-ic-edit",3,"click"],[1,"ic-edit",2,"overflow-y","auto",3,"ngClass"],[1,"feature-wrapper"],[1,"feature-title"],[1,"feature-content"],[1,"language"],[1,"language-title"],["src","./assets/images/icons/translate.png","alt",""],[1,"camera"],[1,"camera-title"],["src","./assets/images/icons/camera.png","alt",""],[1,"btn-feature-edit",3,"click"],[1,"feature-edit",3,"ngClass"],[3,"ngModel"],[1,"portfolio"],[1,"portfolio-title"],["href","javascript:void(0);",3,"click"],[1,"bx","bx-plus-circle"],[1,"portfolio-content"],["class","portfolio-item",4,"ngFor","ngForOf"],[1,"appraise"],[1,"appraise-title"],[1,"rate"],[1,"appraise-content"],[1,"appraise-item"],[1,"ai-header"],[1,"header-avatar"],["src","./assets/images/avatar/avatar1.jpeg","alt",""],[1,"header-name"],[1,"ai-comment"],[1,"how-it-works"],[1,"hiw-title"],[1,"hiw-content"],[1,"hiw-item"],[1,"item-title"],[1,"title-icon"],[1,"bx","bx-calendar-check"],[1,"title-text"],[1,"item-content"],[1,"content-deliver"],[1,"content-text"],[1,"bx","bxs-camera"],[1,"bx","bx-happy-alt"],[1,"order-wrapper",3,"ngClass"],[1,"order-container"],["class","mess-valid",4,"ngIf"],[1,"order-content"],[1,"filter-date-picker"],["for","ngay-chup"],[3,"selectedDate","textDefault","selectedDateChange"],[1,"filter-tl"],["for","thoi-luong"],[3,"selectedOption","textDefault","selectedOptionChange"],["custom-option","","value","1"],["custom-option","","value","2"],["custom-option","","value","3"],["custom-option","","value","4"],["custom-option","","value","5"],["custom-option","","value","6"],["custom-option","","value","7"],["custom-option","","value","8"],[1,"set-time"],["for","gio-hen"],["type","time","id","gio-hen","name","gio-hen","required","",3,"ngModel","ngModelChange"],[1,"filter-type"],["custom-option","","value","chup-san-pham"],["custom-option","","value","chup-chan-dung"],["custom-option","","value","chup-canh"],["href","javascript:void(0)",3,"click"],[1,"p-footer"],[1,"sug-foot"],[1,"bx","bx-check"],[1,"btn-close-order",3,"click"],[1,"bx","bx-x"],[1,"toggle-order-wrapper",3,"ngClass","click"],[1,"ask-repair-wrapper",3,"ngClass"],[1,"ask-repair-container"],[1,"ask-repair-content"],[1,"repair-title"],[1,"repair-cont"],[1,"repair-picture"],[1,"picture-wrapper"],["class","picture-item",4,"ngFor","ngForOf"],[1,"ask-repair-button"],[1,"rs-left"],["type","file","id","hiddenFileInput","accept","image/*","multiple","",2,"display","none",3,"change"],["href","javascript:void(0)",1,"btn-upload-repair",3,"click"],[1,"rs-right"],["href","javascript:void(0)",1,"btn-submit-repair",3,"click"],["href","javascript:void(0)",1,"btn-close-ask",3,"click"],[1,"add-new-portfo",3,"ngClass"],[1,"new-portfo-container"],[1,"new-portfo-content"],[1,"new-portfo-title"],[1,"new-portfo-cont"],[1,"name-wapper"],["for","name"],["type","text","name","name","id","name",3,"ngModel","ngModelChange"],[1,"image-wrapper"],[1,"upload-control"],["for","image"],["type","file","name","image","id","image","accept","image/*","multiple","",3,"change"],[1,"list-preview"],["class","preview-item",4,"ngFor","ngForOf"],[1,"submit-portfo-wrapper"],[1,"btn-add-portfo",3,"click"],["href","javascript:void(0);",1,""],["href","javascript:void(0)",1,"btn-close-newPortfo",3,"click"],[1,"toggle-warehouse-wrapper",3,"click"],[1,"bx","bx-left-arrow-circle"],["class","warehouse-menu",4,"ngIf"],[1,"portfolio-item"],["href","javascript:void(0);"],[1,"it-header"],["alt","",3,"src"],[1,"it-footer"],[1,"it-cate"],[1,"it-count-picture"],[1,"btn-portfolio-edit",3,"click"],[1,"mess-valid"],[1,"picture-item"],["alt","","srcset","",3,"src"],["href","javascript:void(0;)",1,"btn-del-image",3,"click"],["href","javascript:void(0)",1,"btn-del-image",3,"click"],[1,"preview-item"],[1,"preview-content"],["alt","Preview Image",2,"max-width","100%","max-height","200px",3,"src"],["href","javascript:void(0);",1,"item-close",3,"click"],[1,"warehouse-menu"],[3,"routerLink"],["href","javascript:void(0);",1,"close-warehouse",3,"click"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),A(5,"img",5),y(),m(6,"div",6),A(7,"img",7),y()(),m(8,"div",8),A(9,"img",9),y(),m(10,"div",10)(11,"div",11),A(12,"img",12),y(),m(13,"div",13),A(14,"img",14),y()(),m(15,"div",15),A(16,"img",16),y(),m(17,"div",17)(18,"div",18),A(19,"img",19),y(),m(20,"div",20),A(21,"img",21),y()()()(),m(22,"div",22)(23,"div",23)(24,"div",24)(25,"div",25)(26,"div",26),A(27,"img",27),y()(),m(28,"div",28)(29,"div",29)(30,"h2"),w(31),y(),m(32,"div",30),H("click",function(){return i.showForMeEdit()}),A(33,"i",31),y()(),m(34,"p",32),w(35),y(),m(36,"div",33)(37,"div",34),A(38,"img",35)(39,"img",35)(40,"img",35)(41,"img",35)(42,"img",35),y(),m(43,"span",36),w(44,"5.0"),y()(),m(45,"p",37),w(46),y(),m(47,"div",38)(48,"div",29)(49,"input",39),H("ngModelChange",function(s){return i.updateValue("nameText",s)}),y()(),m(50,"input",40),H("ngModelChange",function(s){return i.updateValue("addressText",s)}),y(),m(51,"input",41),H("ngModelChange",function(s){return i.updateValue("expText",s)}),y(),m(52,"div",42)(53,"a",43),H("click",function(){return i.saveForMe()}),w(54,"L\u01b0u"),y(),m(55,"a",44),H("click",function(){return i.hideForMeEdit()}),w(56,"Hu\u0309y"),y()()()()()(),m(57,"div",45)(58,"div",46)(59,"div",47)(60,"li",48)(61,"a",49),w(62,"V\u1ec1 t\xf4i"),y()(),m(63,"li",48)(64,"a",49),w(65,"H\u1ed3 s\u01a1"),y()(),m(66,"li",48)(67,"a",49),w(68,"\u0110\xe1nh gi\xe1"),y()(),m(69,"li",48)(70,"a",49),w(71,"How it works"),y()()()(),A(72,"div",50),m(73,"div",51)(74,"div",52)(75,"div",53)(76,"p"),w(77),y()(),m(78,"div",54)(79,"h3",55),w(80," Gi\u1ea3i th\u01b0\u1edfng "),y(),m(81,"p"),w(82),y()(),m(83,"div",56)(84,"h3",57),w(85," \u0110i\u1ec1u th\xfa v\u1ecb v\u1ec1 t\xf4i "),y(),m(86,"p"),w(87),y()(),m(88,"div",58),H("click",function(){return i.showIcEdit()}),A(89,"i",31),y(),m(90,"div",59)(91,"div",53)(92,"textarea",39),H("ngModelChange",function(s){return i.updateValue("desText",s)}),w(93),y()(),m(94,"div",54)(95,"h3",55),w(96," Gi\u1ea3i th\u01b0\u1edfng "),y(),m(97,"textarea",39),H("ngModelChange",function(s){return i.updateValue("prizeText",s)}),w(98),y()(),m(99,"div",56)(100,"h3",57),w(101," \u0110i\u1ec1u th\xfa v\u1ecb v\u1ec1 t\xf4i "),y(),m(102,"textarea",39),H("ngModelChange",function(s){return i.updateValue("interestText",s)}),w(103),y()(),m(104,"div",42)(105,"a",43),H("click",function(){return i.saveIc()}),w(106,"L\u01b0u"),y(),m(107,"a",44),H("click",function(){return i.hideIcEdit()}),w(108,"Hu\u0309y"),y()()()()(),A(109,"div",50),m(110,"div",60)(111,"h3",61),w(112,"Ng\xf4n ng\u1eef & M\xe1y \u1ea3nh"),y(),m(113,"div",62)(114,"div",63)(115,"div",64),A(116,"img",65),m(117,"h3"),w(118,"Ng\xf4n ng\u1eef"),y()(),m(119,"p"),w(120),y()(),m(121,"div",66)(122,"div",67),A(123,"img",68),m(124,"h3"),w(125,"M\xe1y \u1ea3nh"),y()(),m(126,"p"),w(127),y()(),m(128,"div",69),H("click",function(){return i.showFeEdit()}),A(129,"i",31),y()(),m(130,"div",70)(131,"h3",61),w(132,"Ng\xf4n ng\u1eef & M\xe1y \u1ea3nh"),y(),m(133,"div",62)(134,"div",63)(135,"div",64),A(136,"img",65),m(137,"h3"),w(138,"Ng\xf4n ng\u1eef"),y()(),m(139,"textarea",71),w(140),y()(),m(141,"div",66)(142,"div",67),A(143,"img",68),m(144,"h3"),w(145,"M\xe1y \u1ea3nh"),y()(),m(146,"textarea",71),w(147),y()()(),m(148,"div",42)(149,"a",43),H("click",function(){return i.saveFe()}),w(150,"L\u01b0u"),y(),m(151,"a",44),H("click",function(){return i.hideFeEdit()}),w(152,"Hu\u0309y"),y()()()(),A(153,"div",50),m(154,"div",72)(155,"div",73)(156,"h3"),w(157," My Portfolio "),y(),m(158,"a",74),H("click",function(){return i.showAddPortfo()}),A(159,"i",75),y()(),m(160,"div",76),q(161,ehe,11,3,"div",77),y()(),A(162,"div",50),m(163,"div",78)(164,"div",79)(165,"h3"),w(166,"\u0110\xe1nh Gi\xe1"),y(),m(167,"div",80)(168,"div",34),A(169,"img",35)(170,"img",35)(171,"img",35)(172,"img",35)(173,"img",35),y(),m(174,"span",36),w(175,"5.0"),y()()(),m(176,"div",81)(177,"div",82)(178,"div",83)(179,"div",84),A(180,"img",85),y(),m(181,"span",86),w(182,"Lalisa Manoban "),y()(),m(183,"div",87)(184,"p"),w(185,"Kh\xf4ng c\xf2n nghi ng\u1edd g\xec n\u1eefa, \u0111\xe2y l\xe0 m\u1ed9t trong nh\u1eefng nhi\u1ebfp \u1ea3nh gia tuy\u1ec7t v\u1eddi nh\u1ea5t v\xe0 c\xf3 k\u1ef9 n\u0103ng ch\u1ee5p \u1ea3nh \u0111a d\u1ea1ng! T\xf4i th\u01b0\u1eddng kh\xf4ng \u0111\u0103ng \u0111\xe1nh gi\xe1 nh\u01b0ng c\xf4ng vi\u1ec7c \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n b\u1edfi nhi\u1ebfp \u1ea3nh gia Ph\u1ea1m Vi\u1ec7t C\u01b0\u1eddng x\u1ee9ng \u0111\xe1ng v\xe0 h\u01a1n th\u1ebf n\u1eefa! T\xf4i v\xe0 YG s\u1ebd ti\u1ebfp t\u1ee5c l\xe0m nhi\u1ec1u vi\u1ec7c h\u01a1n v\u1edbi anh \u1ea5y!!"),y()()()()(),A(186,"div",50),m(187,"div",88)(188,"h3",89),w(189,"How it Works"),y(),m(190,"div",90)(191,"div",91)(192,"div",92)(193,"div",93),A(194,"i",94),y(),m(195,"h3",95),w(196,"Book."),y()(),m(197,"div",96)(198,"div",97),A(199,"p"),y(),m(200,"div",98)(201,"p"),w(202,"Nhanh ch\xf3ng t\xecm th\u1ea5y m\u1ed9t nhi\u1ebfp \u1ea3nh gia \u0111\u01b0\u1ee3c x\u1ebfp h\u1ea1ng h\xe0ng \u0111\u1ea7u g\u1ea7n b\u1ea1n. \u0110\u1eb7t ch\u1ed7 ph\xf9 h\u1ee3p cho kho\u1ea3nh kh\u1eafc \u0111\u1eb7c bi\u1ec7t c\u1ee7a b\u1ea1n ch\u1ec9 b\u1eb1ng v\xe0i c\xfa nh\u1ea5p chu\u1ed9t \u0111\u01a1n gi\u1ea3n."),y()()()(),m(203,"div",91)(204,"div",92)(205,"div",93),A(206,"i",99),y(),m(207,"h3",95),w(208,"Sheet."),y()(),m(209,"div",96)(210,"div",97),A(211,"p"),y(),m(212,"div",98)(213,"p"),w(214,"H\xe3y th\u01b0 gi\xe3n v\xe0 t\u1eadn h\u01b0\u1edfng kho\u1ea3nh kh\u1eafc khi m\u1ed9t nhi\u1ebfp \u1ea3nh gia gi\xe0u kinh nghi\u1ec7m ch\u1ee5p \u1ea3nh cho b\u1ea1n. H\u1ecd s\u1ebd ch\u0103m s\xf3c t\u1ea5t c\u1ea3 c\xe1c chi ti\u1ebft."),y()()()(),m(215,"div",91)(216,"div",92)(217,"div",93),A(218,"i",100),y(),m(219,"h3",95),w(220,"Enjoy!."),y()(),m(221,"div",96),A(222,"div",97),m(223,"div",98)(224,"p"),w(225," Trong v\xf2ng 2 ng\xe0y l\xe0m vi\u1ec7c k\u1ec3 t\u1eeb ng\xe0y ch\u1ee5p \u1ea3nh, b\u1ea1n s\u1ebd c\xf3 th\u1ec3 xem, t\u1ea3i xu\u1ed1ng v\xe0 chia s\u1ebb. T\u1eadn h\u01b0\u1edfng t\u1ea5t c\u1ea3 m\u1ed9t l\u1ea7n n\u1eefa v\xe0 m\u1ed9t l\u1ea7n n\u1eefa. "),y()()()()()()()(),m(226,"div",101)(227,"div",102)(228,"h4"),w(229,"\u0110\u1eb7t l\u1ecbch ch\u1ee5p t\u1ef1 \u0111\u1ed9ng"),y(),q(230,the,2,1,"div",103),m(231,"div",104)(232,"div",105)(233,"label",106),w(234,"Ng\xe0y ch\u1ee5p:"),y(),m(235,"app-date-picker",107),H("selectedDateChange",function(s){return i.onDateChange(s)})("selectedDateChange",function(s){return i.selectedDateU=s}),y()(),m(236,"div",108)(237,"label",109),w(238,"Th\u1eddi l\u01b0\u1ee3ng (gi\u1edd):"),y(),m(239,"app-custom-select",110),H("selectedOptionChange",function(s){return i.onOptionTLChange(s)})("selectedOptionChange",function(s){return i.selectedOptionTL=s}),m(240,"option",111),w(241,"1 gi\u1edd"),y(),m(242,"option",112),w(243,"2 gi\u1edd"),y(),m(244,"option",113),w(245,"3 gi\u1edd"),y(),m(246,"option",114),w(247,"4 gi\u1edd"),y(),m(248,"option",115),w(249,"5 gi\u1edd"),y(),m(250,"option",116),w(251,"6 gi\u1edd"),y(),m(252,"option",117),w(253,"7 gi\u1edd"),y(),m(254,"option",118),w(255,"8 gi\u1edd"),y()()(),m(256,"div",119)(257,"label",120),w(258,"Gi\u1edd h\u1eb9n:"),y(),m(259,"input",121),H("ngModelChange",function(s){return i.setTimeVal=s}),y()(),m(260,"div",122)(261,"label",109),w(262,"Lo\u1ea1i ch\u1ee5p"),y(),m(263,"app-custom-select",110),H("selectedOptionChange",function(s){return i.onOptionTypeChange(s)})("selectedOptionChange",function(s){return i.selectedOptionType=s}),m(264,"option",123),w(265,"Ch\u1ee5p s\u1ea3n ph\u1ea9m"),y(),m(266,"option",124),w(267,"Ch\u1ee5p ch\xe2n dung"),y(),m(268,"option",125),w(269,"Ch\u1ee5p c\u1ea3nh"),y()()(),m(270,"a",126),H("click",function(){return i.onSubmit()}),w(271,"\u0110\u1eb7t l\u1ecbch"),y(),A(272,"div",50),m(273,"p",127),w(274,"300.000 "),m(275,"span"),w(276,"1 ti\u1ebfng"),y()(),A(277,"div",50),m(278,"span",128),A(279,"i",129),w(280," 15 \u1ea3nh c\xf3 \u0111\u1ed9 ph\xe2n gi\u1ea3i cao \u1edf \u0111\u1ecbnh d\u1ea1ng JPEG "),y(),m(281,"span",128),A(282,"i",129),w(283," \u0110\xe3 ch\u1ec9nh s\u1eeda v\xe0 ch\u1ec9nh m\xe0u "),y(),m(284,"span",128),A(285,"i",129),w(286," Giao h\xe0ng sau 2 ng\xe0y l\xe0m vi\u1ec7c "),y()()(),m(287,"div",130),H("click",function(){return i.hideOrder()}),A(288,"i",131),y()(),m(289,"div",132),H("click",function(){return i.showOrder()}),A(290,"i",75),y(),m(291,"div",133)(292,"div",134)(293,"div",135)(294,"div",136)(295,"h2"),w(296),y(),A(297,"div",50),y(),m(298,"div",137)(299,"div",138)(300,"div",139),q(301,nhe,4,1,"div",140),q(302,rhe,4,1,"div",140),y()()(),m(303,"div",141)(304,"div",142)(305,"input",143),H("change",function(s){return i.onFileInputChange(s)}),y(),m(306,"a",144),H("click",function(){return i.triggerFileInput()}),w(307,"Ta\u0309i l\xean"),y()(),m(308,"div",145)(309,"a",146),H("click",function(){return i.submitRepair()}),w(310,"C\xe2\u0323p nh\xe2\u0323t"),y()()(),m(311,"a",147),H("click",function(){return i.closeAsk()}),A(312,"i",131),y()()()(),m(313,"div",148)(314,"div",149)(315,"div",150)(316,"div",151)(317,"h2"),w(318,"Th\xeam m\u1edbi"),y(),A(319,"div",50),y(),m(320,"div",152)(321,"div",153)(322,"label",154),w(323,"T\xean"),y(),m(324,"input",155),H("ngModelChange",function(s){return i.portfo_name=s}),y()(),m(325,"div",156)(326,"div",157)(327,"label",158),w(328,"\u1ea2nh"),y(),m(329,"input",159),H("change",function(s){return i.previewImages(s)}),y()(),m(330,"div",160),q(331,ihe,5,1,"div",161),y()(),m(332,"div",162)(333,"div",163),H("click",function(){return i.addNewPortfo()}),m(334,"a",164),w(335,"Up"),y()()()(),m(336,"a",165),H("click",function(){return i.closeNewPortfo()}),A(337,"i",131),y()()()(),m(338,"div",166),H("click",function(){return i.toggleWarehouse()}),A(339,"i",167),q(340,ahe,9,6,"div",168),y()()),2&r&&(O(27),Jo("src",null==i.userData||null==i.userData.user?null:i.userData.user.avatar,Sr),O(4),Rt(" ",i.nameText," "),O(4),Rt(" ",i.addressText," "),O(11),Rt("",i.expText," n\u0103m kinh nghi\xea\u0323m"),O(1),F("ngClass",i.isShowForMeEdit?"show":""),O(2),F("ngModel",i.nameText),O(1),F("ngModel",i.addressText),O(1),F("ngModel",i.expText),O(26),Rt(" ",i.desText," "),O(5),Rt(" ",i.prizeText," "),O(5),Rt(" ",i.interestText," "),O(3),F("ngClass",i.isShowIcEdit?"show":""),O(2),F("ngModel",i.desText),O(1),Rt("                                ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.description,"\n                            "),O(4),F("ngModel",i.prizeText),O(1),Rt("                                ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.prize,"\n                            "),O(4),F("ngModel",i.interestText),O(1),Rt("                                ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.interest,"\n                            "),O(17),Rt(" ",i.languageText," "),O(7),Rt(" ",i.cameraText," "),O(3),F("ngClass",i.isShowFeEdit?"show":""),O(9),F("ngModel",i.languageText),O(1),Rt("                                ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.language,"\n                            "),O(6),F("ngModel",i.cameraText),O(1),Rt("                                ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.camera,"\n                            "),O(14),F("ngForOf",null==i.decesData?null:i.decesData.category),O(65),F("ngClass",i.isShowOrder?"show":""),O(4),F("ngIf",i.isError),O(5),F("selectedDate",i.selectedDateU)("textDefault","Ng\xe0y"),O(4),F("selectedOption",i.selectedOptionTL)("textDefault","Th\u1eddi l\u01b0\u1ee3ng"),O(20),F("ngModel",i.setTimeVal),O(4),F("selectedOption",i.selectedOptionType)("textDefault","Ch\u1ecdn lo\u1ea1i ch\u1ee5p"),O(26),F("ngClass",i.isShowOrder?"hide":""),O(2),F("ngClass",i.isShowAskRepair?"active":""),O(5),Ne(i.modalName),O(5),F("ngForOf",i.modalImagesRepair),O(1),F("ngForOf",i.imageData),O(11),F("ngClass",i.isShowAddPortfo?"active":""),O(11),F("ngModel",i.portfo_name),O(7),F("ngForOf",i.imagePreviews),O(9),F("ngIf",i.isShowWarehouse))},dependencies:[Is,Gi,ri,kr,Qw,Xw,Ns,ua,bm,Fs,GT,qT],styles:['@charset "UTF-8";.forMe-wrapper[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:5rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:3rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   .avatar-image[_ngcontent-%COMP%]{height:130px;width:130px;object-fit:cover;border-radius:50%}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]{width:100%;position:relative}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-name[_ngcontent-%COMP%]{width:100%;position:relative;display:flex;justify-content:flex-start;align-items:center;column-gap:2rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-name[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:2px 0;color:var(--color-primary);font-weight:700;font-size:28px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-name[_ngcontent-%COMP%]   .btn-edit-forMe[_ngcontent-%COMP%]{cursor:pointer;width:28px;height:28px;font-size:28px;display:flex;justify-content:center;align-items:center}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-address[_ngcontent-%COMP%]{margin:4px 0;font-size:15px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-rate[_ngcontent-%COMP%]{margin:.5rem 0;display:flex;justify-content:flex-start;column-gap:.75rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:16px;width:16px;object-fit:cover}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-rate[_ngcontent-%COMP%]   .rate-text[_ngcontent-%COMP%]{font-size:15px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-exp[_ngcontent-%COMP%]{margin:4px 0}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .forMe-edit[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#e8e8e8;border-radius:.3rem;overflow-y:auto;padding:1rem 2rem;display:none}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .forMe-edit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-top:1em;width:100%;height:40px;border:none;outline:none;border-radius:.3rem;background-color:#ddd;padding:5px 10px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .forMe-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]{position:sticky;right:0;bottom:0rem;display:flex;justify-content:flex-end;column-gap:.5rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .forMe-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{line-height:35px;color:var(--color-light);padding:0 15px;background-color:var(--color-primary);text-decoration:none;border-radius:.3rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .forMe-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background-color:#b8b8b8;color:#000}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .forMe-edit.show[_ngcontent-%COMP%]{display:block}.infor-title-list[_ngcontent-%COMP%]{padding-left:2rem}.infor-title-list[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:4rem;flex-wrap:wrap;row-gap:2rem}.infor-title-list[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]   .it-item[_ngcontent-%COMP%]{list-style:none;display:inline}.infor-title-list[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]   .it-item[_ngcontent-%COMP%]   .it-link[_ngcontent-%COMP%]{text-decoration:none;display:block;font-weight:700;color:var(--color-primary);font-size:20px;text-wrap:nowrap}.infor-content-list[_ngcontent-%COMP%]{padding-top:1.5rem;padding-left:2rem;position:relative}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .prize[_ngcontent-%COMP%]   .prize-title[_ngcontent-%COMP%]{color:var(--color-primary);font-size:20px;font-weight:700}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .interest[_ngcontent-%COMP%]   .interest-title[_ngcontent-%COMP%]{font-weight:700;font-size:20px;color:var(--color-primary)}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .btn-ic-edit[_ngcontent-%COMP%]{cursor:pointer;width:100%;display:flex;justify-content:center;font-size:28px}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .ic-edit[_ngcontent-%COMP%]{display:none;position:absolute;top:0;left:0;width:100%;height:100%;background-color:#e8e8e8;border-radius:.5rem;padding:1.5rem 2rem}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .ic-edit[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin-top:1em;width:100%;height:80px;border:none;outline:none;border-radius:.3rem;background-color:#ddd;padding:5px 10px}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .ic-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]{position:sticky;right:0;bottom:0;display:flex;justify-content:flex-end;column-gap:.5rem}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .ic-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{line-height:35px;color:var(--color-light);padding:0 15px;background-color:var(--color-primary);text-decoration:none;border-radius:.3rem}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .ic-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background-color:#b8b8b8;color:#000}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .ic-edit.show[_ngcontent-%COMP%]{display:block}.feature-wrapper[_ngcontent-%COMP%]{padding-left:2rem;padding-top:.5rem;position:relative}.feature-wrapper[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:700;font-size:20px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]{position:relative}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   .language-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   .language-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   .language-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:var(--color-primary);font-weight:700}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-left:3rem;font-size:18px;margin-top:0}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   .camera-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   .camera-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   .camera-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:var(--color-primary);font-weight:700}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:0;padding-left:3rem;font-size:18px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .btn-feature-edit[_ngcontent-%COMP%]{cursor:pointer;width:100%;display:flex;justify-content:center;font-size:28px}.feature-wrapper[_ngcontent-%COMP%]   .feature-edit[_ngcontent-%COMP%]{display:none;position:absolute;top:0;left:0;width:100%;height:100%;background-color:#e8e8e8;border-radius:.5rem;padding:.5rem 2rem;overflow-y:auto}.feature-wrapper[_ngcontent-%COMP%]   .feature-edit[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin-top:1em;width:100%;height:80px;border:none;outline:none;border-radius:.3rem;background-color:#ddd;padding:5px 10px}.feature-wrapper[_ngcontent-%COMP%]   .feature-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]{position:sticky;right:0;bottom:1rem;display:flex;justify-content:flex-end;column-gap:.5rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{line-height:35px;color:var(--color-light);padding:0 15px;background-color:var(--color-primary);text-decoration:none;border-radius:.3rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background-color:#b8b8b8;color:#000}.feature-wrapper[_ngcontent-%COMP%]   .feature-edit.show[_ngcontent-%COMP%]{display:block}.portfolio[_ngcontent-%COMP%]{padding-left:2rem;padding-right:25%;padding-top:.5rem}.portfolio[_ngcontent-%COMP%]   .portfolio-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:2rem;align-items:center}.portfolio[_ngcontent-%COMP%]   .portfolio-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;color:var(--color-warning)}.portfolio[_ngcontent-%COMP%]   .portfolio-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:25px;display:flex;justify-content:center;align-items:center;text-decoration:none;color:var(--color-text-body)}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-auto-rows:1fr;gap:2rem}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-text-body);text-decoration:none}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   .portfolio-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:250px;object-fit:cover}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   .it-footer[_ngcontent-%COMP%]{position:relative}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   .it-footer[_ngcontent-%COMP%]   .it-cate[_ngcontent-%COMP%]{font-size:20px;margin-bottom:10px}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   .it-footer[_ngcontent-%COMP%]   .btn-portfolio-edit[_ngcontent-%COMP%]{cursor:pointer;width:100%;display:flex;justify-content:flex-end;font-size:28px;position:absolute;right:1.5rem;top:50%;transform:translateY(-50%);z-index:1}.appraise[_ngcontent-%COMP%]{padding-left:2rem;padding-top:.5rem}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--color-warning);font-weight:700}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;column-gap:.5rem}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:15px;width:15px;object-fit:cover}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   .rate-text[_ngcontent-%COMP%]{font-weight:700}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:.75rem}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]   .header-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;object-fit:cover}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]   .header-name[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:700}.how-it-works[_ngcontent-%COMP%]{padding-left:1.5rem;padding-top:.5rem}.how-it-works[_ngcontent-%COMP%]   .hiw-title[_ngcontent-%COMP%]{color:var(--color-warning);font-weight:700}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;flex-direction:column}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{font-size:30px;color:var(--color-primary)}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]   .title-text[_ngcontent-%COMP%]{margin:8px 0;font-size:20px;font-weight:700;color:var(--color-primary)}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:2rem;align-items:center;height:100%}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .content-deliver[_ngcontent-%COMP%]{display:flex;justify-content:center;height:auto;width:3px;margin-left:12px;background-color:var(--color-primary)}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .content-deliver[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;height:100%}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .content-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 400px 0 4rem}.content-wrapper[_ngcontent-%COMP%]   .info-wrapper[_ngcontent-%COMP%]   .deliver-line[_ngcontent-%COMP%]{height:2px;width:100%;margin:1.5rem 0;background-color:var(--color-primary)}.order-wrapper[_ngcontent-%COMP%]{background-color:var(--color-bg-body);position:fixed;top:100px;right:50px;border-radius:.3rem;box-shadow:0 2px 5px #0003;z-index:600}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]{width:300px;min-height:500px;max-height:calc(100vh - 100px);padding:20px;overflow-y:auto}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--color-light)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--color-secondary);border-radius:4px;border:2px solid var(--color-light)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;color:#333;font-size:20px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .mess-valid[_ngcontent-%COMP%]{font-size:14px;color:red}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .filter-date-picker[_ngcontent-%COMP%]{z-index:999}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;margin-top:.5rem}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%], .order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   input[type=time][_ngcontent-%COMP%], .order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:4px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:10px 15px;border:none;border-radius:4px;text-decoration:none;margin-top:1rem;text-align:center}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#0056b3}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .deliver-line[_ngcontent-%COMP%]{height:2px;width:100%;margin:1rem 0;background-color:var(--color-secondary)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .p-footer[_ngcontent-%COMP%]{color:var(--color-warning);font-weight:700;margin:0;padding-left:.5rem}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .p-footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--color-text-body)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .sug-foot[_ngcontent-%COMP%]{font-size:13px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .sug-foot[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--color-warning);font-size:18px}.order-wrapper[_ngcontent-%COMP%]   .btn-close-order[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-8px;font-size:30px;color:#000;cursor:pointer;height:30px;width:30px;border-radius:50%;background-color:var(--color-secondary);display:none}.toggle-order-wrapper[_ngcontent-%COMP%]{position:fixed;bottom:5rem;right:1rem;width:40px;height:40px;background-color:var(--color-primary);z-index:999;display:none;font-size:30px;border-radius:50%;padding-top:3.5px;padding-left:5px;color:var(--color-light)}.ask-repair-wrapper[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;z-index:999}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]{width:100%;height:100vh;padding-top:100px;display:flex;justify-content:center;align-items:center;position:relative}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]{height:80%;width:90%;margin:auto;background-color:var(--color-light);position:absolute;transform:translateY(-200%);padding:0 1rem}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-title[_ngcontent-%COMP%]{height:100px}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .deliver-line[_ngcontent-%COMP%]{height:2px;width:100%;margin:1.5rem 0;background-color:var(--color-primary)}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]{max-height:calc(100% - 150px);overflow-y:auto;padding-top:1rem}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-picture[_ngcontent-%COMP%]{height:100%;padding-right:1rem}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]{height:100%;display:grid;grid-template-columns:repeat(4,1fr);gap:1rem}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-item[_ngcontent-%COMP%]{grid-column:span 1;width:100%;position:relative}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-item[_ngcontent-%COMP%]   .btn-del-image[_ngcontent-%COMP%]{position:absolute;top:-.4rem;right:-.3rem;font-size:22px;width:22px;height:22px;display:flex;justify-content:center;align-items:center;border-radius:50%;background-color:var(--color-secondary);text-decoration:none;color:#000;padding-top:1px}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-item.hide[_ngcontent-%COMP%]{display:none}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .ask-repair-button[_ngcontent-%COMP%]{position:absolute;bottom:1.5rem;right:1.5rem;color:#000;border-radius:50%;display:flex;justify-content:center;align-items:center;column-gap:1rem}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .ask-repair-button[_ngcontent-%COMP%]   .rs-left[_ngcontent-%COMP%]{border-radius:.35rem;background-color:var(--color-warning);display:flex;justify-content:center;align-items:center;padding:5px 8px}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .ask-repair-button[_ngcontent-%COMP%]   .rs-left[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--color-light)}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .ask-repair-button[_ngcontent-%COMP%]   .rs-right[_ngcontent-%COMP%]{border-radius:.35rem;background-color:var(--color-primary);display:flex;justify-content:center;align-items:center;padding:5px 8px}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .ask-repair-button[_ngcontent-%COMP%]   .rs-right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--color-light)}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .btn-close-ask[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;color:#000;font-weight:700;font-size:28px;width:25px;height:25px;border-radius:50%;display:flex;justify-content:center;align-items:center;text-decoration:none}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .btn-close-ask[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary);color:#000;transform:rotate(35deg)}.ask-repair-wrapper.active[_ngcontent-%COMP%]{display:block}.ask-repair-wrapper.active[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]{transform:translateY(0)}.add-new-portfo[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;z-index:999}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]{width:100%;height:100vh;padding-top:100px;display:flex;justify-content:center;align-items:center;position:relative}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]{height:80%;width:90%;margin:auto;background-color:var(--color-light);position:absolute;transform:translateY(-200%);padding:0 1rem;border:1px solid #ddd;border-radius:5px;display:flex;flex-direction:column;gap:20px}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-title[_ngcontent-%COMP%]{text-align:center;font-size:24px;height:100px}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .deliver-line[_ngcontent-%COMP%]{width:100%;height:2px;background-color:#333;margin:10px 0}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]{max-height:calc(100% - 150px);overflow-y:auto;padding-top:1rem;display:flex;flex-direction:column;gap:20px}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .name-wapper[_ngcontent-%COMP%]{display:flex}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .name-wapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-right:1rem}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .name-wapper[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:5px;border:1px solid #ccc;border-radius:3px}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   .upload-control[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-right:1rem}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   .upload-control[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{padding:5px;border:1px solid #ccc;border-radius:3px}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   .list-preview[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;gap:10px}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   .list-preview[_ngcontent-%COMP%]   .preview-item[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]{position:relative}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   .list-preview[_ngcontent-%COMP%]   .preview-item[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:200px;object-fit:cover}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   .list-preview[_ngcontent-%COMP%]   .preview-item[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .item-close[_ngcontent-%COMP%]{position:absolute;top:-.4rem;right:-.3rem;font-size:22px;width:22px;height:22px;display:flex;justify-content:center;align-items:center;border-radius:50%;background-color:var(--color-secondary);text-decoration:none;color:#000;padding-top:1px}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .submit-portfo-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .submit-portfo-wrapper[_ngcontent-%COMP%]   .btn-add-portfo[_ngcontent-%COMP%]{border-radius:.35rem;background-color:var(--color-primary);display:flex;justify-content:center;align-items:center;padding:10px 25px;margin-top:2rem;cursor:pointer}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .submit-portfo-wrapper[_ngcontent-%COMP%]   .btn-add-portfo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--color-light)}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .btn-close-newPortfo[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;color:#000;font-weight:700;font-size:28px;width:25px;height:25px;border-radius:50%;display:flex;justify-content:center;align-items:center;text-decoration:none}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .btn-close-newPortfo[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary);color:#000;transform:rotate(35deg)}.add-new-portfo.active[_ngcontent-%COMP%]{display:block!important}.add-new-portfo.active[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]{transform:translateY(0)}.profile-content[_ngcontent-%COMP%]{position:relative;margin-top:6rem}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(9,1fr);column-gap:.3rem;height:500px}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall2[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall4[_ngcontent-%COMP%]{grid-column:span 2;height:500px}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall4[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:.3rem}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-2[_ngcontent-%COMP%]{height:calc(250px - .15rem)}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-2[_ngcontent-%COMP%]{height:calc(250px - .15rem)}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-2[_ngcontent-%COMP%]{height:calc(250px - .15rem)}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.toggle-warehouse-wrapper[_ngcontent-%COMP%]{position:fixed;bottom:2rem;right:1rem;width:40px;height:40px;background-color:var(--color-primary);z-index:999;font-size:30px;border-radius:50%;padding-top:3.5px;padding-left:5px;color:var(--color-light)}.toggle-warehouse-wrapper[_ngcontent-%COMP%]   .warehouse-menu[_ngcontent-%COMP%]{position:absolute;right:calc(100% + 1rem);bottom:50%;display:flex;flex-direction:column;min-width:200px;background-color:var(--color-warning);padding:.25rem 1rem;border-radius:.35rem}.toggle-warehouse-wrapper[_ngcontent-%COMP%]   .warehouse-menu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:16px;text-decoration:none;color:var(--color-light);line-height:2.5em;position:relative}.toggle-warehouse-wrapper[_ngcontent-%COMP%]   .warehouse-menu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-light);bottom:-1px;left:0;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.toggle-warehouse-wrapper[_ngcontent-%COMP%]   .warehouse-menu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.toggle-warehouse-wrapper[_ngcontent-%COMP%]   .warehouse-menu[_ngcontent-%COMP%]   .close-warehouse[_ngcontent-%COMP%]{position:absolute;top:-.4rem;right:-.3rem;font-size:22px;width:22px;height:22px;display:flex;justify-content:center;align-items:center;border-radius:50%;background-color:var(--color-warning);text-decoration:none;color:var(--color-light);padding-top:1px}@media (max-width: 1200px){.picture-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)!important}}@media (max-width: 991.98px){.order-wrapper[_ngcontent-%COMP%]{display:none}.order-wrapper.show[_ngcontent-%COMP%]{display:block}.toggle-order-wrapper[_ngcontent-%COMP%]{display:block!important}.toggle-order-wrapper.hide[_ngcontent-%COMP%]{display:none!important}.btn-close-order[_ngcontent-%COMP%]{display:block!important}.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 2rem 0!important}.profile-content[_ngcontent-%COMP%]   .ic-edit[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .feature-edit[_ngcontent-%COMP%]{padding-right:0!important}.picture-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 767.98px){.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 2rem 0!important}.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]{flex-direction:column;row-gap:2rem}.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .info-wrapper[_ngcontent-%COMP%]   .portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}@media (max-width: 575.98px){.picture-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}}']}),e})();const lhe=[{path:"",component:OB,title:"Home"},{path:"home",component:OB,title:"Home"}],uhe=[{path:"",component:IB,title:"Collection"},{path:"all",component:IB,title:"Collection"}],dhe=[{path:"login",component:Vce,title:"Login"},{path:"register",component:hde,title:"Register"}],hhe=[{path:"",component:E9,title:"User"},{path:"all",component:E9,title:"User"}],phe=[{path:"",component:che,title:"Partner | Profile"}],fhe=[{path:"",component:O9,title:"Admin | Home"},{path:"home",component:O9,title:"Admin | Home"},{path:"order",component:bde,title:"Admin | Order List"},{path:"order-accept",component:jde,title:"Admin | Order Accept"}];let hP=(()=>{var t;class e{constructor(){this.eventMap={}}registerEvent(r){return this.eventMap[r]||(this.eventMap[r]=new B(null)),this.eventMap[r].asObservable()}emitEvent(r,i){this.eventMap[r]&&this.eventMap[r].next(i)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const ghe=["iconToggle"],_he=["headerContentMobile"],mhe=["inputSearchMobile"],yhe=["menuDropdown"],vhe=["menuDropdown1"],Che=["itemDropdown"],whe=["itemDropdown1"];function Phe(t,e){1&t&&(m(0,"div",59)(1,"p"),w(2,"H\xe0 N\u1ed9i"),y(),m(3,"p"),w(4,"H\u1ed3 Ch\xed Minh"),y(),m(5,"p"),w(6,"Ch\xe2n dung"),y(),m(7,"p"),w(8,"S\u1ef1 ki\u1ec7n"),y()())}function Mhe(t,e){if(1&t){const n=Kn();m(0,"div",64)(1,"a",65),w(2,"Profile"),y(),m(3,"a",66),H("click",function(){return Bt(n),Vt(Re(2).logout())}),w(4,"\u0110\u0103ng xu\u1ea5t"),y()()}}function Ehe(t,e){if(1&t){const n=Kn();ht(0),m(1,"li",60),H("click",function(){return Bt(n),Vt(Re().toggleDropdownLo())}),m(2,"div",61),A(3,"img",62),y(),q(4,Mhe,5,0,"div",63),y(),pt()}if(2&t){const n=Re();O(4),F("ngIf",n.showDropdown)}}function Ohe(t,e){1&t&&(m(0,"li",67)(1,"a",68),w(2,"\u1ea2nh c\u1ee7a t\xf4i"),y()(),m(3,"li",67)(4,"a",69),w(5,"\u0110\u0103ng nh\u1eadp"),y()(),m(6,"li",67)(7,"a",70),w(8,"\u0110\u0103ng k\xfd"),y()())}function Ihe(t,e){1&t&&(m(0,"div",71)(1,"p"),w(2,"H\xe0 N\u1ed9i"),y(),m(3,"p"),w(4,"H\u1ed3 Ch\xed Minh"),y(),m(5,"p"),w(6,"Ch\xe2n dung"),y(),m(7,"p"),w(8,"S\u1ef1 ki\u1ec7n"),y()())}function bhe(t,e){1&t&&A(0,"i",72)}function The(t,e){1&t&&A(0,"i",73)}function Ahe(t,e){1&t&&A(0,"i",72)}function Dhe(t,e){1&t&&A(0,"i",73)}const Fm=function(t){return{show:t}},T9=function(t){return{active:t}};let KT=(()=>{var t;class e{constructor(r){this.eventService=r,this.isMenuVisible=!1,this.isSearchMobileVisible=!1,this.isDropdownVisible=!1,this.isDropdown1Visible=!1,this.inputSearchMobileValue="",this.inputSearchValue="",this.toggleSuggestMobile=!1,this.toggleSuggest=!1,this.loggedIn=!1,this.showDropdown=!1}showMenu(){this.isMenuVisible=!0}hideMenu(){this.isMenuVisible=!1}showSearchMobile(){this.isSearchMobileVisible=!0,this.isSearchMobileVisible&&setTimeout(()=>{this.inputSearchMobile.nativeElement.focus()})}hideSearchMobile(){this.isSearchMobileVisible=!1,this.toggleSuggestMobile=!1,this.inputSearchMobileValue=""}toggleDropdown(){this.isDropdownVisible=!this.isDropdownVisible}toggleDropdown1(){this.isDropdown1Visible=!this.isDropdown1Visible}onChangeInputSearchMobile(r){this.inputSearchMobileValue=r.target.value,this.toggleSuggestMobile=""!==this.inputSearchMobileValue.trim()}onChangeInputSearch(r){this.inputSearchValue=r.target.value,this.toggleSuggest=""!==this.inputSearchValue.trim()}closeDropdown(r){!this.headerContentMobile.nativeElement.contains(r.target)&&!this.iconToggle.nativeElement.contains(r.target)&&this.isMenuVisible&&(this.isMenuVisible=!1),!this.menuDropdown.nativeElement.contains(r.target)&&!this.itemDropdown.nativeElement.contains(r.target)&&this.isDropdownVisible&&(this.isDropdownVisible=!1),!this.menuDropdown1.nativeElement.contains(r.target)&&!this.itemDropdown1.nativeElement.contains(r.target)&&this.isDropdown1Visible&&(this.isDropdown1Visible=!1)}toggleDropdownLo(){this.showDropdown=!this.showDropdown}logout(){this.loggedIn=!1}}return(t=e).\u0275fac=function(r){return new(r||t)(Z(hP))},t.\u0275cmp=Tt({type:t,selectors:[["app-header"]],viewQuery:function(r,i){if(1&r&&(sr(ghe,5),sr(_he,5),sr(mhe,5),sr(yhe,5),sr(vhe,5),sr(Che,5),sr(whe,5)),2&r){let o;Zn(o=Yn())&&(i.iconToggle=o.first),Zn(o=Yn())&&(i.headerContentMobile=o.first),Zn(o=Yn())&&(i.inputSearchMobile=o.first),Zn(o=Yn())&&(i.menuDropdown=o.first),Zn(o=Yn())&&(i.menuDropdown1=o.first),Zn(o=Yn())&&(i.itemDropdown=o.first),Zn(o=Yn())&&(i.itemDropdown1=o.first)}},hostBindings:function(r,i){1&r&&H("mousedown",function(s){return i.closeDropdown(s)},0,Ru)},decls:103,vars:31,consts:[[1,"layout-header"],[1,"header-container"],[1,"header-content"],[1,"brand"],[1,"brand-logo"],["routerLink","/home"],["src","./assets/images/logoo.png","alt","",1,"brand-image"],[1,"search-bar"],[1,"search-container"],[1,"search-content"],["id","search-input","type","text","placeholder","D\u1ecbch v\u1ee5 b\u1ea1n \u0111ang t\xecm ki\u1ebfm ?",3,"ngModel","ngModelChange","input"],["inputSearch",""],["id","search-icon","href","javascript:void(0)"],[1,"bx","bx-search"],["class","search-suggest",4,"ngIf"],[1,"header-content-right"],[4,"ngIf","ngIfElse"],["notLoggedInBlock",""],[1,"icon-toggle-bar"],["href","javascript:void(0)",1,"toggle-search",3,"click"],["href","javascript:void(0)",1,"toggle-menu",3,"click"],["iconToggle",""],[1,"bx","bx-menu"],[1,"search-mobile",3,"ngClass"],[1,"search-bar-mobile"],["type","text","name","","id","","placeholder","D\u1ecbch v\u1ee5 b\u1ea1n \u0111ang t\xecm ki\u1ebfm ?",1,"search-input-mobile",3,"ngModel","ngModelChange","input"],["inputSearchMobile",""],["href","javascript:void(0)",1,"search-iconClose-mobile",3,"click"],[1,"bx","bx-x"],["class","search-suggest-mobile",4,"ngIf"],[1,"header-content-mobile",3,"ngClass"],["headerContentMobile",""],[1,"header-mobile-inner"],[1,"brand-mobile"],[1,"brand-logo-mobile"],["src","./assets/images/logoo.png","alt","",1,"brand-image-mobile"],[1,"menu-container-mobile"],[1,"menu-item",3,"ngClass"],["itemDropdown",""],["href","javascript:void(0)",1,"menu-link",3,"click"],["class","bx bx-collapse-vertical",4,"ngIf"],["class","bx bx-expand-vertical",4,"ngIf"],[1,"menu-dropdown",3,"ngClass"],["menuDropdown",""],[1,"menu-dropdown-item"],["routerLink","/collection",1,"menu-dropdown-link"],["itemDropdown1",""],["menuDropdown1",""],[1,"menu-item"],["routerLink","/collection",1,"menu-link"],[1,"control-mobile"],[1,"control-item","item-col"],["routerLink","/refund-picture",1,"control-link"],[1,"control-item"],["routerLink","/auth/login",1,"control-link"],["routerLink","/auth/register",1,"control-link"],[1,"close-menu"],["href","javascript:void(0)",1,"close-menu-icon",3,"click"],[1,"header-overlay",3,"ngClass"],[1,"search-suggest"],[1,"cright-item",3,"click"],[1,"avatar"],["src","link_to_user_image.jpg","alt","Avatar"],["class","dropdown-menu",4,"ngIf"],[1,"dropdown-menu"],[1,"dropdown-item"],[1,"dropdown-item",3,"click"],[1,"cright-item"],["routerLink","/refund-picture",1,"cright-link"],["routerLink","/auth/login",1,"cright-link"],["routerLink","/auth/register",1,"cright-link"],[1,"search-suggest-mobile"],[1,"bx","bx-collapse-vertical"],[1,"bx","bx-expand-vertical"]],template:function(r,i){if(1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5),A(6,"img",6),y()()(),m(7,"div",7)(8,"div",8)(9,"div",9)(10,"input",10,11),H("ngModelChange",function(s){return i.inputSearchValue=s})("input",function(s){return i.onChangeInputSearch(s)}),y(),m(12,"a",12),A(13,"i",13),y()(),q(14,Phe,9,0,"div",14),y()(),m(15,"div",15),q(16,Ehe,5,1,"ng-container",16),q(17,Ohe,9,0,"ng-template",null,17,Pi),y(),m(19,"div",18)(20,"a",19),H("click",function(){return i.showSearchMobile()}),A(21,"i",13),y(),m(22,"a",20,21),H("click",function(){return i.showMenu()}),A(24,"i",22),y()(),m(25,"div",23)(26,"div",24)(27,"input",25,26),H("ngModelChange",function(s){return i.inputSearchMobileValue=s})("input",function(s){return i.onChangeInputSearchMobile(s)}),y(),m(29,"a",27),H("click",function(){return i.hideSearchMobile()}),A(30,"i",28),y()(),q(31,Ihe,9,0,"div",29),y()(),m(32,"div",30,31)(34,"div",32)(35,"div",33)(36,"div",34)(37,"a",5),A(38,"img",35),y()()(),m(39,"div",36)(40,"li",37,38)(42,"a",39),H("click",function(){return i.toggleDropdown()}),w(43,"Du l\u1ecbch "),q(44,bhe,1,0,"i",40),q(45,The,1,0,"i",41),y(),m(46,"ul",42,43)(48,"li",44)(49,"a",45),w(50,"Ch\xe2n dung"),y()(),m(51,"li",44)(52,"a",45),w(53,"Phong c\u1ea3nh"),y()(),m(54,"li",44)(55,"a",45),w(56,"\u0110\u01b0\u1eddng ph\u1ed1"),y()(),m(57,"li",44)(58,"a",45),w(59,"Th\u1ec3 thao"),y()(),m(60,"li",44)(61,"a",45),w(62,"K\u1ef7 y\u1ebfu"),y()()()(),m(63,"li",37,46)(65,"a",39),H("click",function(){return i.toggleDropdown1()}),w(66,"Lookbook "),q(67,Ahe,1,0,"i",40),q(68,Dhe,1,0,"i",41),y(),m(69,"ul",42,47)(71,"li",44)(72,"a",45),w(73,"Th\u1eddi trang"),y()(),m(74,"li",44)(75,"a",45),w(76,"Ph\u1ee5 ki\u1ec7n"),y()(),m(77,"li",44)(78,"a",45),w(79,"M\u1ef9 ph\u1ea9m"),y()(),m(80,"li",44)(81,"a",45),w(82,"Th\u1ef1c ph\u1ea9m"),y()()()(),m(83,"li",48)(84,"a",49),w(85,"Catalogue"),y()(),m(86,"li",48)(87,"a",49),w(88,"Kh\xe1c"),y()()(),m(89,"div",50)(90,"li",51)(91,"a",52),w(92,"\u1ea2nh c\u1ee7a t\xf4i"),y()(),m(93,"li",53)(94,"a",54),w(95," \u0110\u0103ng nh\u1eadp "),y()(),m(96,"li",53)(97,"a",55),w(98," \u0110\u0103ng k\xfd "),y()()(),m(99,"div",56)(100,"a",57),H("click",function(){return i.hideMenu()}),A(101,"i",28),y()()()()(),A(102,"div",58),y()),2&r){const o=wi(18);O(10),F("ngModel",i.inputSearchValue),O(4),F("ngIf",i.toggleSuggest),O(2),F("ngIf",i.loggedIn)("ngIfElse",o),O(9),F("ngClass",Rr(17,Fm,i.isSearchMobileVisible)),O(2),F("ngModel",i.inputSearchMobileValue),O(4),F("ngIf",i.toggleSuggestMobile),O(1),F("ngClass",Rr(19,Fm,i.isMenuVisible)),O(8),F("ngClass",Rr(21,T9,i.isDropdownVisible)),O(4),F("ngIf",!i.isDropdownVisible),O(1),F("ngIf",i.isDropdownVisible),O(1),F("ngClass",Rr(23,Fm,i.isDropdownVisible)),O(17),F("ngClass",Rr(25,T9,i.isDropdown1Visible)),O(4),F("ngIf",!i.isDropdown1Visible),O(1),F("ngIf",i.isDropdown1Visible),O(1),F("ngClass",Rr(27,Fm,i.isDropdown1Visible)),O(33),F("ngClass",Rr(29,Fm,i.isMenuVisible))}},dependencies:[Is,ri,kr,Ns,ua,Fs],styles:['.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;position:relative}.header-content[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%]{display:flex;align-items:center}.header-content[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%]   .brand-image[_ngcontent-%COMP%]{width:5.5rem;height:5.5rem;margin-left:1.5rem;margin-right:1.5rem}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{width:100%;margin:0 2rem}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{position:relative;width:100%;display:flex;justify-content:center}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]{width:100%;height:3rem;position:relative;display:flex;justify-content:center}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   #search-input[_ngcontent-%COMP%]{width:100%;height:100%;border:0;outline:none;background-color:#f0f0f0;border-radius:.3rem;color:var(--color-text-body);padding-left:1.25rem;padding-right:2.75rem}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   #search-input[_ngcontent-%COMP%]::placeholder{color:var(--color-text-body)}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   #search-icon[_ngcontent-%COMP%]{position:absolute;right:1rem;top:50%;transform:translateY(-50%);color:var(--color-text-body);display:flex;justify-content:center;align-items:center;text-decoration:none;font-weight:700;font-size:26px;border-radius:.3rem;padding-top:2px}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-suggest[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 1.5rem - 1.5px);left:0;background-color:var(--color-bg-body);width:100%;min-height:250px;border-radius:.5rem;box-shadow:0 2px 5px #0003;padding:20px}.header-content[_ngcontent-%COMP%]   .header-content-right[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end}.header-content[_ngcontent-%COMP%]   .header-content-right[_ngcontent-%COMP%]   .cright-item[_ngcontent-%COMP%]{text-wrap:nowrap;list-style:none;padding:0 1rem}.header-content[_ngcontent-%COMP%]   .header-content-right[_ngcontent-%COMP%]   .cright-item[_ngcontent-%COMP%]   .cright-link[_ngcontent-%COMP%]{position:relative;text-decoration:none;color:var(--color-text-body);font-size:18px}.header-content[_ngcontent-%COMP%]   .header-content-right[_ngcontent-%COMP%]   .cright-item[_ngcontent-%COMP%]   .cright-link[_ngcontent-%COMP%]:hover{font-size:600;color:var(--color-primary)}.header-content[_ngcontent-%COMP%]   .header-content-right[_ngcontent-%COMP%]   .cright-item[_ngcontent-%COMP%]   .cright-link[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:-.3rem;left:0;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.header-content[_ngcontent-%COMP%]   .header-content-right[_ngcontent-%COMP%]   .cright-item[_ngcontent-%COMP%]   .cright-link[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.header-content[_ngcontent-%COMP%]   .icon-toggle-bar[_ngcontent-%COMP%]{padding-right:1.5rem;display:flex}.header-content[_ngcontent-%COMP%]   .icon-toggle-bar[_ngcontent-%COMP%]   .toggle-menu[_ngcontent-%COMP%]{color:var(--color-dark);font-size:32px;text-align:center;text-decoration:none;display:none}.header-content[_ngcontent-%COMP%]   .icon-toggle-bar[_ngcontent-%COMP%]   .toggle-search[_ngcontent-%COMP%]{color:var(--color-dark);font-size:28px;text-align:center;text-decoration:none;display:none;margin-top:.25rem;margin-right:.75rem}.header-content[_ngcontent-%COMP%]   .search-mobile[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0rem;right:0;left:0;background-color:var(--color-light);display:none}.header-content[_ngcontent-%COMP%]   .search-mobile[_ngcontent-%COMP%]   .search-bar-mobile[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;justify-content:center;align-items:center;position:relative;padding:.5rem 0}.header-content[_ngcontent-%COMP%]   .search-mobile[_ngcontent-%COMP%]   .search-bar-mobile[_ngcontent-%COMP%]   .search-input-mobile[_ngcontent-%COMP%]{height:100%;width:100%;border:0;outline:none;background-color:#f0f0f0;color:var(--color-text-body);padding-left:1.25rem}.header-content[_ngcontent-%COMP%]   .search-mobile[_ngcontent-%COMP%]   .search-bar-mobile[_ngcontent-%COMP%]   .search-input-mobile[_ngcontent-%COMP%]::placeholder{color:var(--color-text-body)}.header-content[_ngcontent-%COMP%]   .search-mobile[_ngcontent-%COMP%]   .search-bar-mobile[_ngcontent-%COMP%]   .search-iconClose-mobile[_ngcontent-%COMP%]{height:2.25rem;width:3rem;padding-right:.75rem;color:var(--color-dark);font-size:28px;text-align:center;position:absolute;right:0rem;top:50%;transform:translateY(-50%);display:flex;justify-content:center;align-items:center;text-decoration:none;font-weight:700;background-color:#f0f0f0}.header-content[_ngcontent-%COMP%]   .search-mobile[_ngcontent-%COMP%]   .search-suggest-mobile[_ngcontent-%COMP%]{position:absolute;width:100vw;height:100vh;background-color:var(--color-light);padding:20px}@media (max-width:991.98px){.header-content[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%]   .brand-image[_ngcontent-%COMP%]{width:4rem!important;height:4rem!important;margin-left:1.5rem!important;margin-right:1rem!important}.header-content[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.search-bar, .header-content-right)[_ngcontent-%COMP%]{display:none!important}.header-content[_ngcontent-%COMP%]   .search-mobile.show[_ngcontent-%COMP%]{display:block!important}.header-content[_ngcontent-%COMP%]   .icon-toggle-bar[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.toggle-menu, .toggle-search)[_ngcontent-%COMP%]{display:block!important}}.header-content-mobile[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:16.25rem;height:100vh;background-color:var(--color-bg-body);display:none;padding-bottom:2.5rem;z-index:1080}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .brand-mobile[_ngcontent-%COMP%]{padding-top:.5rem;position:sticky;top:0;left:0;right:0;margin-bottom:1.5rem;background-color:var(--color-bg-body)}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .brand-mobile[_ngcontent-%COMP%]   .brand-logo-mobile[_ngcontent-%COMP%]{display:flex;justify-content:center}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .brand-mobile[_ngcontent-%COMP%]   .brand-logo-mobile[_ngcontent-%COMP%]   .brand-image-mobile[_ngcontent-%COMP%]{width:5rem;height:5rem;object-fit:cover}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]{margin-bottom:2rem;min-height:calc(100vh - 17.5rem)}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{display:block;list-style:none}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]{padding-left:1.5rem;line-height:2.5rem;width:100%;display:flex;justify-content:space-between;align-items:center;column-gap:.5rem;text-decoration:none;color:var(--color-primary);font-size:18px;padding-right:1.5rem}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]{display:none;margin:0;padding:0}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-item[_ngcontent-%COMP%]{list-style:none}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-item[_ngcontent-%COMP%]   .menu-dropdown-link[_ngcontent-%COMP%]{padding-left:2.25rem;color:var(--color-primary);line-height:2.5rem;width:100%;display:block;text-decoration:none;font-size:17px}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-dropdown.show[_ngcontent-%COMP%]{display:block!important}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   .menu-dropdown[_ngcontent-%COMP%]{background-color:var(--color-bg-body)}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-item[_ngcontent-%COMP%]:hover, .header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item.active[_ngcontent-%COMP%]{background-color:#f5f5f5}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item.active[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]{background-color:var(--color-bg-body)}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .control-mobile[_ngcontent-%COMP%]{padding:0 1.5rem;display:grid;grid-template-columns:repeat(2,1fr);column-gap:.5rem}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .control-mobile[_ngcontent-%COMP%]   .control-item[_ngcontent-%COMP%]{grid-column:span 1;list-style:none;display:flex;justify-content:flex-start;align-items:center}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .control-mobile[_ngcontent-%COMP%]   .control-item[_ngcontent-%COMP%]   .control-link[_ngcontent-%COMP%]{position:relative;line-height:2.5rem;display:block;text-align:center;text-decoration:none;color:var(--color-primary);font-size:18px}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .control-mobile[_ngcontent-%COMP%]   .control-item[_ngcontent-%COMP%]   .control-link[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:.3rem;left:0;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .control-mobile[_ngcontent-%COMP%]   .control-item[_ngcontent-%COMP%]   .control-link[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .control-mobile[_ngcontent-%COMP%]   .item-col[_ngcontent-%COMP%]{justify-content:flex-start;grid-column:span 2}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .close-menu[_ngcontent-%COMP%]{position:absolute;width:2.25rem;height:2.25rem;top:10px;right:10px;border-radius:50%;background-color:#f6f6f6}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .close-menu[_ngcontent-%COMP%]   .close-menu-icon[_ngcontent-%COMP%]{color:var(--color-primary);text-decoration:none;font-size:28px;display:flex;justify-content:center;align-items:center;padding-top:4px}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .close-menu[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;transform:rotate(22.5deg)}@media (max-width:991.98px){.header-content-mobile[_ngcontent-%COMP%]{display:block!important;transform:translate(-200%)}.header-content-mobile.show[_ngcontent-%COMP%]{transform:translate(0)!important}}.layout-header[_ngcontent-%COMP%]{height:5.75rem;background-color:var(--color-bg-body);width:100%;display:flex;align-items:center;position:fixed;top:0;z-index:1025}.layout-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]{width:100%;margin:0 auto}.layout-header[_ngcontent-%COMP%]   .header-overlay[_ngcontent-%COMP%]{width:100vw;height:100vh;position:fixed;inset:0;display:none;background:#435971;opacity:.5;cursor:pointer;z-index:999}@media (min-width: 1400px){.layout-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.layout-header[_ngcontent-%COMP%]{box-shadow:0 .5rem 1rem #00000013!important}.layout-header[_ngcontent-%COMP%]   .header-overlay.show[_ngcontent-%COMP%]{display:block!important}}']}),e})(),ZT=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tt({type:t,selectors:[["app-footer"]],decls:33,vars:0,consts:[[1,"layout-footer"],[1,"footer-wrapper"],[1,"footer-container"],[1,"footer-content"],[1,"ft-content-left"],[1,"ft-l-title"],[1,"ft-l-text"],["routerLink","",1,"ft-l-link"],[1,"ft-content-middle"],[1,"ft-m-item"],["routerLink","",1,"ft-m-link"],[1,"dots"],[1,"bx","bxs-circle"],[1,"ft-content-right"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),w(6,"V\u1ec1 PhotoHub"),y(),m(7,"p",6),w(8,"PhotoHub l\xe0 trang web h\xe0ng \u0111\u1ea7u Vi\u1ec7t Nam v\u1ec1 k\u1ebft n\u1ed1i nh\u1eefng ng\u01b0\u1eddi \u0111am m\xea v\xe0 chuy\xean nghi\u1ec7p v\u1ec1 nhi\u1ebfp \u1ea3nh v\u1edbi nh\u1eefng qu\xfd kh\xe1ch h\xe0ng mu\u1ed1n l\u01b0u gi\u1eef nh\u1eefng kho\u1ea3nh kh\u1eafc \u0111\u1eb9p nh\u1ea5t trong cu\u1ed9c \u0111\u1eddi "),y(),m(9,"a",7),w(10,"Xem th\xeam"),y()(),m(11,"div",8)(12,"li",9)(13,"a",10),w(14,"Blog"),y()(),m(15,"p",11),A(16,"i",12),y(),m(17,"li",9)(18,"a",10),w(19,"Support"),y()(),m(20,"p",11),A(21,"i",12),y(),m(22,"li",9)(23,"a",10),w(24,"Term"),y()(),m(25,"p",11),A(26,"i",12),y(),m(27,"li",9)(28,"a",10),w(29,"Policy"),y()()(),m(30,"div",13)(31,"p"),w(32,"@2003 PhotoHub"),y()()()()()())},dependencies:[kr],styles:['.layout-footer[_ngcontent-%COMP%]{margin-top:4rem;background-color:var(--color-primary)}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]{width:100%;margin:0 auto;padding:1.5rem 0}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]{padding:0 4rem}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(10,1fr);column-gap:2rem;color:var(--color-light)}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-left[_ngcontent-%COMP%]{grid-column:span 5}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-left[_ngcontent-%COMP%]   .ft-l-title[_ngcontent-%COMP%]{font-size:18px;margin-top:0;margin-bottom:.5rem}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-left[_ngcontent-%COMP%]   .ft-l-link[_ngcontent-%COMP%]{color:var(--color-info);text-decoration:none;position:relative}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-left[_ngcontent-%COMP%]   .ft-l-link[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-info);bottom:-1px;left:0;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-left[_ngcontent-%COMP%]   .ft-l-link[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%]{grid-column:span 3;display:flex;justify-content:center;align-items:center}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%]   .ft-m-item[_ngcontent-%COMP%]{display:inline-block}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%]   .ft-m-item[_ngcontent-%COMP%]   .ft-m-link[_ngcontent-%COMP%]{display:block;text-decoration:none;color:var(--color-light);padding:.75rem 1rem;position:relative}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%]   .ft-m-item[_ngcontent-%COMP%]   .ft-m-link[_ngcontent-%COMP%]:after{content:"";position:absolute;width:calc(100% - 2rem);height:1.5px;background-color:var(--color-light);bottom:.6rem;left:1rem;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%]   .ft-m-item[_ngcontent-%COMP%]   .ft-m-link[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%]   .dots[_ngcontent-%COMP%]{font-size:8px;margin:0}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-right[_ngcontent-%COMP%]{grid-column:span 2;display:flex;justify-content:center;align-items:center}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-right[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}@media (min-width: 1400px){.footer-wrapper[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.footer-wrapper[_ngcontent-%COMP%]{padding:1.5rem 0 2.5rem!important}.ft-content-middle[_ngcontent-%COMP%]{display:block!important}.ft-content-middle[_ngcontent-%COMP%]   .ft-m-item[_ngcontent-%COMP%]{width:100%}.ft-content-middle[_ngcontent-%COMP%]   .ft-m-item[_ngcontent-%COMP%]   .ft-m-link[_ngcontent-%COMP%]{padding-top:0!important;text-align:left!important}.ft-content-middle[_ngcontent-%COMP%]   .dots[_ngcontent-%COMP%]{display:none}.ft-content-right[_ngcontent-%COMP%]{align-items:flex-start!important}}@media (max-width: 767.98px){.footer-container[_ngcontent-%COMP%]{padding:0 1.5rem!important}}@media (max-width: 575.98px){.footer-container[_ngcontent-%COMP%]{column-gap:.5rem}.footer-container[_ngcontent-%COMP%]   .ft-content-left[_ngcontent-%COMP%]{grid-column:span 4!important}.footer-container[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%], .footer-container[_ngcontent-%COMP%]   .ft-content-right[_ngcontent-%COMP%]{grid-column:span 3!important}}']}),e})(),She=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tt({type:t,selectors:[["app-menu"]],decls:47,vars:0,consts:[[1,"layout-menu"],[1,"menu-container"],[1,"menu-item","dropdown"],["routerLink","/collection",1,"menu-link"],[1,"bx","bx-collapse-vertical","icon-collapse"],[1,"bx","bx-expand-vertical","icon-expand"],[1,"dropdown-menu"],[1,"dropdown-item"],["routerLink","/collection",1,"dropdown-link"],[1,"menu-item"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"li",2)(3,"a",3),w(4,"Du l\u1ecbch "),A(5,"i",4)(6,"i",5),y(),m(7,"ul",6)(8,"li",7)(9,"a",8),w(10,"Ch\xe2n dung"),y()(),m(11,"li",7)(12,"a",8),w(13,"Th\u1ec3 thao"),y()(),m(14,"li",7)(15,"a",8),w(16,"\u0110\u01b0\u1eddng ph\u1ed1"),y()(),m(17,"li",7)(18,"a",8),w(19,"Phong c\u1ea3nh"),y()(),m(20,"li",7)(21,"a",8),w(22,"K\u1ef7 y\u1ebfu"),y()()()(),m(23,"li",2)(24,"a",3),w(25,"Lookbook "),A(26,"i",4)(27,"i",5),y(),m(28,"ul",6)(29,"li",7)(30,"a",8),w(31,"Th\u1eddi trang"),y()(),m(32,"li",7)(33,"a",8),w(34,"Ph\u1ee5 ki\u1ec7n"),y()(),m(35,"li",7)(36,"a",8),w(37,"M\u1ef9 ph\u1ea9m"),y()(),m(38,"li",7)(39,"a",8),w(40,"Th\u1ef1c ph\u1ea9m"),y()()()(),m(41,"li",9)(42,"a",3),w(43,"Catalogue"),y()(),m(44,"li",9)(45,"a",3),w(46,"Kh\xe1c"),y()()()())},dependencies:[kr],styles:['.layout-menu[_ngcontent-%COMP%]{position:fixed;top:5.75rem;width:100%;height:5rem;background-color:var(--color-bg-body);z-index:1024;box-shadow:0 .5rem 1rem #00000013!important}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]{height:3.25rem;width:100%;margin:0 auto;display:flex;align-items:center;justify-content:center;column-gap:2rem;border:1px solid var(--color-secondary);border-left:0;border-right:0}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{position:relative;list-style:none;height:100%;display:flex;justify-items:flex-start;column-gap:.75rem;align-items:center}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]{height:100%;text-decoration:none;color:var(--color-text-body);font-weight:700;font-size:20px;line-height:3.25rem;display:flex;justify-content:center;align-items:center;column-gap:.5rem}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]   .icon-expand[_ngcontent-%COMP%], .layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]   .icon-collapse[_ngcontent-%COMP%]{font-size:16px;color:var(--color-primary)}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]   .icon-expand[_ngcontent-%COMP%]{display:none}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   .menu-link[_ngcontent-%COMP%]{color:var(--color-primary)}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   .menu-link[_ngcontent-%COMP%]   .icon-expand[_ngcontent-%COMP%]{display:block}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   .menu-link[_ngcontent-%COMP%]   .icon-collapse[_ngcontent-%COMP%]{display:none}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:0;left:0;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.dropdown[_ngcontent-%COMP%]{position:relative;display:inline-block}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{margin:0;padding:0;display:none;position:absolute;top:100%;left:0;background-color:var(--color-bg-body);box-shadow:0 2px 5px #0003;min-width:150px;border-radius:.3rem}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{list-style:none;padding:10px}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .dropdown-link[_ngcontent-%COMP%]{text-decoration:none;color:var(--color-text-body)}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover   .dropdown-link[_ngcontent-%COMP%]{color:var(--color-primary)}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:first-of-type{border-top-right-radius:.3rem;border-top-left-radius:.3rem}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:last-of-type{border-bottom-left-radius:.3rem;border-bottom-right-radius:.3rem}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:100%;left:50%;transform:translate(-50%);border-width:8px;border-style:solid;border-color:transparent transparent var(--color-bg-body) transparent}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-menu[_ngcontent-%COMP%]{display:block}@media (min-width: 1400px){.menu-container[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.layout-menu[_ngcontent-%COMP%]{display:none!important}}']}),e})(),xhe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tt({type:t,selectors:[["app-layout-client"]],decls:8,vars:0,consts:[[1,"layout-wrapper"],[1,"layout-container"],[1,"content-wrapper"],[1,"content-container"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1),A(2,"app-header")(3,"app-menu"),m(4,"div",2)(5,"div",3),A(6,"router-outlet"),y()(),A(7,"app-footer"),y()())},dependencies:[ul,KT,ZT,She],styles:[".layout-wrapper[_ngcontent-%COMP%], .layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%], .layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{width:100%}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{width:100%;margin:0 auto;margin-top:10.75rem}@media (min-width: 1400px){.content-container[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.content-container[_ngcontent-%COMP%]{margin-top:5rem!important}}"]}),e})();const Rhe=["sortSelectButton"],khe=["sortSelectOptions"],Nhe=["addressButton"],Fhe=["addressBar"];function Lhe(t,e){if(1&t&&(m(0,"option",52),w(1),y()),2&t){const n=e.$implicit;F("value",n),O(1),Ne(n)}}function Vhe(t,e){1&t&&A(0,"i",53)}function Uhe(t,e){1&t&&A(0,"i",54)}function Bhe(t,e){1&t&&A(0,"i",53)}function jhe(t,e){1&t&&A(0,"i",54)}function $he(t,e){1&t&&A(0,"i",53)}function Hhe(t,e){1&t&&A(0,"i",54)}function zhe(t,e){1&t&&A(0,"i",53)}function Whe(t,e){1&t&&A(0,"i",54)}function Ghe(t,e){1&t&&A(0,"i",53)}function qhe(t,e){1&t&&A(0,"i",54)}const A9=function(t){return{show:t}};let Khe=(()=>{var t;class e{constructor(){this.timeOptions=["12:30 am","1:00 am","1:30 am","2:00 am","2:30 am","3:00 am","4:00 am","4:30 am","5:00 am","5:30 am","6:00 am","6:30 am","7:00 am","7:30 am","8:00 am","8:30 am","9:00 am","9:30 am","10:00 am","10:30 am","11:00 am","11:30 am","12:00 pm","12:30 pm","1:00 pm","1:30 pm","2:00 pm","2:30 pm","3:00 pm","3:30 pm","4:00 pm","4:30 pm","5:00 pm","5:30 pm","6:00 pm","6:30 pm","7:00 pm","7:30 pm","8:00 pm","8:30 pm","9:00 pm","9:30 pm","10:00 pm","10:30 pm","11:00 pm","11:30 pm"],this.selectedDateY="",this.selectedOptionTL="",this.selectedOptionTime="",this.selectedOptionPrice="",this.isShowSortMenu=!1,this.checkedSortText="",this.checkedSortValue=null,this.addressValue="",this.isShowAddressBar=!1}ngAfterViewInit(){}toggleSort(){this.isShowSortMenu=!this.isShowSortMenu}checked(r,i){this.checkedSortValue=r,this.checkedSortText=i,this.isShowSortMenu=!1}toggleAddress(){this.isShowAddressBar=!this.isShowAddressBar}clearAddress(){this.addressValue=""}resetFilter(){this.addressValue="",this.isShowSortMenu=!1,this.selectedOptionTL="",this.selectedOptionTime="",this.selectedDateY=""}onClickOutside(r){!this.sortSelectButton.nativeElement.contains(r.target)&&!this.sortSelectOptions.nativeElement.contains(r.target)&&(this.isShowSortMenu=!1),!this.addressButton.nativeElement.contains(r.target)&&!this.addressBar.nativeElement.contains(r.target)&&(this.isShowAddressBar=!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tt({type:t,selectors:[["app-filter-bar"]],viewQuery:function(r,i){if(1&r&&(sr(Rhe,5),sr(khe,5),sr(Nhe,5),sr(Fhe,5)),2&r){let o;Zn(o=Yn())&&(i.sortSelectButton=o.first),Zn(o=Yn())&&(i.sortSelectOptions=o.first),Zn(o=Yn())&&(i.addressButton=o.first),Zn(o=Yn())&&(i.addressBar=o.first)}},hostBindings:function(r,i){1&r&&H("mousedown",function(s){return i.onClickOutside(s)},0,Ru)},decls:111,vars:28,consts:[[1,"layout-filter"],[1,"filter-container"],[1,"filter-content"],[1,"filter-left"],[1,"filter-param"],[1,"filter-date-picker"],[3,"selectedDate","textDefault","selectedDateChange"],[1,"filter-tl"],[3,"selectedOption","textDefault","selectedOptionChange"],["custom-option","","value","1"],["custom-option","","value","2"],["custom-option","","value","3"],["custom-option","","value","4"],["custom-option","","value","5"],["custom-option","","value","6"],["custom-option","","value","7"],["custom-option","","value","8"],[1,"filter-time"],["custom-option","",3,"value",4,"ngFor","ngForOf"],[1,"filter-address"],[1,"filter-address-content"],[1,"address-button",3,"click"],["addressButton",""],[1,"bx","bxs-navigation"],[1,"address-bar",3,"ngClass"],["addressBar",""],[1,"address-form"],[1,"address-form-first"],["type","text",1,"address-input",3,"ngModel","ngModelChange"],["id","clearAddress",1,"bx","bx-x",3,"click"],["id","iconAddress",1,"bx","bxs-navigation"],[1,"address-form-second"],[1,"bx","bx-time-five"],[1,"horizontal-line"],[1,"address-suggest"],[1,"suggest-text"],[1,"filter-price"],[1,"filter-reset"],["href","javascript:void(0)","id","filter-icon-reset",3,"click"],[1,"filter-right"],[1,"filter-sort"],[1,"sort-tilte"],[1,"sort-content"],[1,"sort-text",3,"click"],["sortSelectButton",""],[1,"sort-menu",3,"ngClass"],["sortSelectOptions",""],[1,"sort-item",3,"click"],["href","javascript:void(0)",1,"sort-link","sort-default"],["class","bx bxs-check-circle sort-icon-checked",4,"ngIf"],["class","bx bx-circle sort-icon-unchecked",4,"ngIf"],["href","javascript:void(0)",1,"sort-link"],["custom-option","",3,"value"],[1,"bx","bxs-check-circle","sort-icon-checked"],[1,"bx","bx-circle","sort-icon-unchecked"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"app-date-picker",6),H("selectedDateChange",function(s){return i.selectedDateY=s}),y()(),m(7,"div",7)(8,"app-custom-select",8),H("selectedOptionChange",function(s){return i.selectedOptionTL=s}),m(9,"option",9),w(10,"1 gi\u1edd"),y(),m(11,"option",10),w(12,"2 gi\u1edd"),y(),m(13,"option",11),w(14,"3 gi\u1edd"),y(),m(15,"option",12),w(16,"4 gi\u1edd"),y(),m(17,"option",13),w(18,"5 gi\u1edd"),y(),m(19,"option",14),w(20,"6 gi\u1edd"),y(),m(21,"option",15),w(22,"7 gi\u1edd"),y(),m(23,"option",16),w(24,"8 gi\u1edd"),y()()(),m(25,"div",17)(26,"app-custom-select",8),H("selectedOptionChange",function(s){return i.selectedOptionTime=s}),q(27,Lhe,2,2,"option",18),y()(),m(28,"div",19)(29,"div",20)(30,"div",21,22),H("click",function(){return i.toggleAddress()}),A(32,"i",23),m(33,"span"),w(34),y()(),m(35,"div",24,25)(37,"div",26)(38,"div",27)(39,"input",28),H("ngModelChange",function(s){return i.addressValue=s}),y(),m(40,"i",29),H("click",function(){return i.clearAddress()}),y(),A(41,"i",30),y(),m(42,"div",31),A(43,"i",32),w(44," H\u1ed3 T\xe2y, H\xe0 N\u1ed9i "),y()(),A(45,"div",33),m(46,"div",34)(47,"p",35),A(48,"i",23),w(49," C\xf4ng vi\xean Y\xean S\u1edf, Ho\xe0ng Mai, H\xe0 N\u1ed9i "),y(),m(50,"p",35),A(51,"i",23),w(52," C\xf4ng vi\xean Th\u1ed1ng Nh\u1ea5t, H\xe0 N\u1ed9i "),y(),m(53,"p",35),A(54,"i",23),w(55," Ph\u1ed1 \u0111i b\u1ed9 Nguy\u1ec5n Hu\u1ec7, H\u1ed3 Ch\xed Minh "),y(),m(56,"p",35),A(57,"i",23),w(58," H\u1ed3 H\xf2a Trung, \u0110\xe0 N\u1eb5ng "),y()()()()(),m(59,"div",36)(60,"app-custom-select",8),H("selectedOptionChange",function(s){return i.selectedOptionPrice=s}),m(61,"option",9),w(62,"D\u01b0\u1edbi 300.000 VN\u0110"),y(),m(63,"option",10),w(64,"300.000 - 500.000 VN\u0110"),y(),m(65,"option",11),w(66,"500.000 - 800.000 VN\u0110"),y(),m(67,"option",12),w(68,"800.000 - 1200.000 VN\u0110"),y(),m(69,"option",13),w(70,"Tr\xean 1200.000 VN\u0110"),y()()(),m(71,"div",37)(72,"a",38),H("click",function(){return i.resetFilter()}),w(73," C\xe0i l\u1ea1i "),y()()()(),m(74,"div",39)(75,"div",40)(76,"div",41)(77,"span"),w(78,"S\u1eafp x\u1ebfp theo"),y()(),m(79,"div",42)(80,"div",43,44),H("click",function(){return i.toggleSort()}),m(82,"span"),w(83),y()(),m(84,"div",45,46)(86,"li",47),H("click",function(){return i.checked(0,"M\u1eb7c \u0111\u1ecbnh")}),m(87,"a",48),q(88,Vhe,1,0,"i",49),q(89,Uhe,1,0,"i",50),w(90," M\u1eb7c \u0111\u1ecbnh "),y()(),m(91,"li",47),H("click",function(){return i.checked(1,"Gi\xe1 : Th\u1ea5p - Cao")}),m(92,"a",51),q(93,Bhe,1,0,"i",49),q(94,jhe,1,0,"i",50),w(95," Gi\xe1 : Th\u1ea5p - Cao "),y()(),m(96,"li",47),H("click",function(){return i.checked(2,"Gi\xe1: Cao - Th\u1ea5p")}),m(97,"a",51),q(98,$he,1,0,"i",49),q(99,Hhe,1,0,"i",50),w(100," Gi\xe1: Cao - Th\u1ea5p "),y()(),m(101,"li",47),H("click",function(){return i.checked(3,"\u0110\xe1nh gi\xe1 : Th\u1ea5p - Cao")}),m(102,"a",51),q(103,zhe,1,0,"i",49),q(104,Whe,1,0,"i",50),w(105," \u0110\xe1nh gi\xe1 : Th\u1ea5p - Cao "),y()(),m(106,"li",47),H("click",function(){return i.checked(4,"\u0110\xe1nh gi\xe1 : Cao - Th\u1ea5p")}),m(107,"a",51),q(108,Ghe,1,0,"i",49),q(109,qhe,1,0,"i",50),w(110," \u0110\xe1nh gi\xe1 : Cao - Th\u1ea5p "),y()()()()()()()()()),2&r&&(O(6),F("selectedDate",i.selectedDateY)("textDefault","Ng\xe0y"),O(2),F("selectedOption",i.selectedOptionTL)("textDefault","Th\u1eddi l\u01b0\u1ee3ng"),O(18),F("selectedOption",i.selectedOptionTime)("textDefault","Th\u1eddi gian"),O(1),F("ngForOf",i.timeOptions),O(7),Ne(i.addressValue||"\u0110\u1ecba \u0111i\u1ec3m ch\u1ee5p \u1ea3nh"),O(1),F("ngClass",Rr(24,A9,i.isShowAddressBar)),O(4),F("ngModel",i.addressValue),O(21),F("selectedOption",i.selectedOptionPrice)("textDefault","Gi\xe1"),O(23),Ne(i.checkedSortText||"M\u1eb7c \u0111\u1ecbnh"),O(1),F("ngClass",Rr(26,A9,i.isShowSortMenu)),O(4),F("ngIf",!i.checkedSortValue||0===i.checkedSortValue),O(1),F("ngIf",i.checkedSortValue&&0!==i.checkedSortValue),O(4),F("ngIf",i.checkedSortValue&&1===i.checkedSortValue),O(1),F("ngIf",!i.checkedSortValue||1!==i.checkedSortValue),O(4),F("ngIf",i.checkedSortValue&&2===i.checkedSortValue),O(1),F("ngIf",!i.checkedSortValue||2!==i.checkedSortValue),O(4),F("ngIf",i.checkedSortValue&&3===i.checkedSortValue),O(1),F("ngIf",!i.checkedSortValue||3!==i.checkedSortValue),O(4),F("ngIf",i.checkedSortValue&&4===i.checkedSortValue),O(1),F("ngIf",!i.checkedSortValue||4!==i.checkedSortValue))},dependencies:[Is,Gi,ri,Qw,Xw,Ns,ua,Fs,GT,qT],styles:['.filter-left[_ngcontent-%COMP%]{width:calc(100% - 350px)}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(6,1fr);gap:.5rem}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]{position:relative;min-width:12rem}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-button[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;padding:8px 12px;border:1px solid var(--color-primary);border-radius:4px;background-color:var(--color-light);display:flex;justify-content:flex-start;column-gap:.75rem;align-items:center;color:var(--color-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]{position:absolute;top:calc(100% + .3rem);left:0%;min-width:13rem;background-color:var(--color-bg-body);box-shadow:0 2px 5px #0003;border-radius:.3rem;padding:.5rem 1.5rem;z-index:1;display:none}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]{margin-top:1.5rem;width:100%;display:flex;flex-direction:column}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]   .address-form-first[_ngcontent-%COMP%]{position:relative}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]   .address-form-first[_ngcontent-%COMP%]   .address-input[_ngcontent-%COMP%]{width:100%;padding:10px 1.25rem 10px 1.5rem;outline:none;border:1px solid var(--color-primary);color:var(--color-primary);border-radius:.3rem}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]   .address-form-first[_ngcontent-%COMP%]   #iconAddress[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);left:.3rem}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]   .address-form-first[_ngcontent-%COMP%]   #clearAddress[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);right:.3rem;cursor:pointer;border-radius:50%}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]   .address-form-first[_ngcontent-%COMP%]   #clearAddress[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]   .address-form-second[_ngcontent-%COMP%]{padding:8px 0;display:flex;justify-content:flex-start;column-gap:.75rem;align-items:center;color:var(--color-primary);font-size:14px}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .horizontal-line[_ngcontent-%COMP%]{height:2px;background-color:#e6e6e6;margin:.1rem 0}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-suggest[_ngcontent-%COMP%]{margin-top:.5rem}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-suggest[_ngcontent-%COMP%]   .suggest-text[_ngcontent-%COMP%]{margin:5px 0!important;font-size:14px}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar.show[_ngcontent-%COMP%]{display:block!important}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-reset[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-reset[_ngcontent-%COMP%]   #filter-icon-reset[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;text-decoration:none;color:var(--color-primary);font-size:18px;border-radius:.3rem;padding:0 1.5rem;background-color:var(--color-secondary);text-wrap:nowrap}@media (max-width: 1400px){.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)!important}}@media (max-width: 1200px){.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)!important}}@media (max-width: 991.98px){.filter-left[_ngcontent-%COMP%]{width:100%;order:2}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)!important}}@media (max-width: 600px){.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 470px){.filter-left[_ngcontent-%COMP%]{width:200px}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-reset[_ngcontent-%COMP%]   #filter-icon-reset[_ngcontent-%COMP%]{padding:.5rem 1.5rem}}.filter-right[_ngcontent-%COMP%]{min-width:350px}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:8px}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-tilte[_ngcontent-%COMP%]{text-wrap:nowrap;margin-right:1rem;color:var(--color-primary)}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]{position:relative}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-text[_ngcontent-%COMP%]{min-width:200px;font-weight:700;color:var(--color-primary);cursor:pointer}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;display:inline-block}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;bottom:-.25rem;width:100%;height:2px;background-color:#000;transition:all .3s ease}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-text[_ngcontent-%COMP%]   span.active[_ngcontent-%COMP%]:after{width:0}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]{position:absolute;top:calc(100% + .3rem);right:10%;min-width:13rem;background-color:var(--color-bg-body);box-shadow:0 2px 5px #0003;border-radius:.3rem;padding:.5rem 0;z-index:2;display:none}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]   .sort-item[_ngcontent-%COMP%]{list-style:none;display:block;padding-left:1rem}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]   .sort-item[_ngcontent-%COMP%]   .sort-link[_ngcontent-%COMP%]{color:var(--color-primary);display:block;text-decoration:none;text-align:center;line-height:2.5rem;display:flex;flex-wrap:nowrap;align-items:center}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]   .sort-item[_ngcontent-%COMP%]   .sort-link[_ngcontent-%COMP%]   .sort-icon-checked[_ngcontent-%COMP%], .filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]   .sort-item[_ngcontent-%COMP%]   .sort-link[_ngcontent-%COMP%]   .sort-icon-unchecked[_ngcontent-%COMP%]{margin-bottom:3px;margin-right:.5rem}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]   .sort-item[_ngcontent-%COMP%]:hover{background-color:#f6f6f6}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu.show[_ngcontent-%COMP%]{display:block!important}@media (max-width: 991.98px){.filter-right[_ngcontent-%COMP%]{order:1;min-width:auto;width:100%;margin-bottom:2rem}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]{justify-content:flex-start}}.layout-filter[_ngcontent-%COMP%]{margin-top:5.57rem}.layout-filter[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]{width:100%;margin:0 auto}.layout-filter[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   .filter-content[_ngcontent-%COMP%]{padding:2.5rem;display:flex;justify-content:space-between}@media (min-width: 1400px){.filter-container[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.layout-filter[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   .filter-content[_ngcontent-%COMP%]{flex-direction:column}}']}),e})(),D9=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tt({type:t,selectors:[["app-layout-shop"]],decls:8,vars:0,consts:[[1,"layout-wrapper"],[1,"layout-container"],[1,"content-wrapper"],[1,"content-container"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1),A(2,"app-header")(3,"app-filter-bar"),m(4,"div",2)(5,"div",3),A(6,"router-outlet"),y()(),A(7,"app-footer"),y()())},dependencies:[ul,KT,ZT,Khe],styles:[".layout-wrapper[_ngcontent-%COMP%], .layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%], .layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{width:100%}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{width:100%;margin:0 auto}@media (min-width: 1400px){.content-container[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.content-container[_ngcontent-%COMP%]{margin-top:5rem!important}}"]}),e})(),YT=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tt({type:t,selectors:[["app-layout-auth"]],decls:3,vars:0,consts:[[1,"layout-auth"],[1,"auth-wrapper"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1),A(2,"router-outlet"),y()())},dependencies:[ul],styles:[".layout-auth[_ngcontent-%COMP%]{width:100%;height:100%}"]}),e})(),S9=(()=>{var t;class e{constructor(r){this.el=r}onInputChange(r){const i=this.el.nativeElement.value,o=i.replace(/[^0-9]/g,"");i!==o&&(this.el.nativeElement.value=o,r.preventDefault())}}return(t=e).\u0275fac=function(r){return new(r||t)(Z(ji))},t.\u0275dir=je({type:t,selectors:[["","appOnlyNumbers",""]],hostBindings:function(r,i){1&r&&H("input",function(s){return i.onInputChange(s)})}}),e})();function Zhe(t,e){1&t&&(m(0,"span",24),w(1,"Vui l\xf2ng nh\u1eadp t\xean."),y())}function Yhe(t,e){1&t&&(m(0,"span",24),w(1,"Vui l\xf2ng nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i h\u1ee3p l\u1ec7."),y())}function Qhe(t,e){1&t&&(m(0,"span",24),w(1,"Vui l\xf2ng nh\u1eadp email h\u1ee3p l\u1ec7."),y())}function Xhe(t,e){1&t&&(m(0,"span",24),w(1,"Vui l\xf2ng nh\u1eadp \u0111i\u0323a chi\u0309 h\u1ee3p l\u1ec7."),y())}let Jhe=(()=>{var t;class e{constructor(r){this.orderService=r,this.invalidEmail=!1,this.invalidPhone=!1,this.invalidName=!1,this.invalidAddress=!1,this.email="",this.phone="",this.name="",this.address="",this.messageText="",this.isSuccess=!0}onChangeName(r){this.name=r.target.value,this.validateName()}onChangePhone(r){this.phone=r.target.value,this.validatePhone()}onChangeEmail(r){this.email=r.target.value,this.validateEmail()}onChangeAddress(r){this.address=r.target.value,this.validateAddress()}onSubmit(){var r=this;return(0,x.Z)(function*(){if(r.validateName()&&r.validatePhone()&&r.validateEmail()&&r.validateAddress()){const a=localStorage.getItem("order_id");if(a){const c=parseInt(a,10);var i=yield r.orderService.getOrderById(c);if(i){i.cust_name=r.name,i.cust_email=r.email,i.cust_phone=r.phone,i.address=r.address,i.status="cho_duyet";var o="";(yield r.orderService.generateUniqueOrderCode()).subscribe(l=>{o=l}),i.code=o,(yield r.orderService.updateOrder(i))?(r.isSuccess=!0,r.messageText="Th\xe0nh c\xf4ng.",window.alert(r.messageText)):(r.messageText="Th\u1ea5t b\u1ea1i.",r.isSuccess=!1,window.alert(r.messageText))}else r.messageText="Th\u1ea5t b\u1ea1i.",r.isSuccess=!1,window.alert(r.messageText);localStorage.removeItem("order_id")}else r.messageText="Th\u1ea5t b\u1ea1i.",r.isSuccess=!1,window.alert(r.messageText)}else r.validateName(),r.validatePhone(),r.validateEmail(),r.validateAddress()})()}validateName(){return this.invalidName=this.name.length<1,!this.invalidName}validateAddress(){return this.invalidAddress=this.address.length<1,!this.invalidAddress}validatePhone(){const i=/^0[0-9]{9,10}$/.test(this.phone);return this.invalidPhone=!i,i}validateEmail(){const i=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(this.email);return this.invalidEmail=!i,i}}return(t=e).\u0275fac=function(r){return new(r||t)(Z(Ol))},t.\u0275cmp=Tt({type:t,selectors:[["app-send-contact"]],decls:38,vars:6,consts:[[1,"send-ct-wrapper"],[1,"send-ct-container"],[1,"send-ct-header"],[1,"go-home"],["routerLink","/home",1,"go-home-link"],[1,"bx","bxs-chevron-left"],[1,"brand"],["routerLink","/home",1,"brand-link"],["src","./assets/images/logo2.png","alt","logo",1,"brand-image"],[1,"send-ct-title"],[1,"message",3,"ngClass"],[1,"send-ct-content"],[3,"ngSubmit"],[1,"form-group"],["for","fullname"],["type","text","id","fullname","name","fullname","required","","placeholder","Nguyen Quang Nam",3,"input"],["class","validate-message",4,"ngIf"],["for","phone"],["type","text","id","phone","name","phone","required","","placeholder","0123456789","appOnlyNumbers","",3,"input"],["for","username"],["type","text","id","username","name","username","required","","placeholder","quang@gmail.com",3,"input"],["for","address"],["type","text","id","address","name","address","required","","placeholder","",3,"input"],["type","submit"],[1,"validate-message"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),A(5,"i",5),w(6," Trang ch\u1ee7 "),y()(),m(7,"div",6)(8,"a",7),A(9,"img",8),y()(),m(10,"h3",9),w(11," Vui l\xf2ng \u0111\u1ec3 l\u1ea1i th\xf4ng tin li\xean h\u1ec7. "),y()(),m(12,"div",10),w(13),y(),m(14,"div",11)(15,"form",12),H("ngSubmit",function(){return i.onSubmit()}),m(16,"div",13)(17,"label",14),w(18,"H\u1ecd v\xe0 t\xean"),y(),m(19,"input",15),H("input",function(s){return i.onChangeName(s)}),y(),q(20,Zhe,2,0,"span",16),y(),m(21,"div",13)(22,"label",17),w(23,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),y(),m(24,"input",18),H("input",function(s){return i.onChangePhone(s)}),y(),q(25,Yhe,2,0,"span",16),y(),m(26,"div",13)(27,"label",19),w(28,"Email"),y(),m(29,"input",20),H("input",function(s){return i.onChangeEmail(s)}),y(),q(30,Qhe,2,0,"span",16),y(),m(31,"div",13)(32,"label",21),w(33,"\u0110i\u0323a chi\u0309 chu\u0323p a\u0309nh"),y(),m(34,"input",22),H("input",function(s){return i.onChangeAddress(s)}),y(),q(35,Xhe,2,0,"span",16),y(),m(36,"button",23),w(37,"G\u1eedi"),y()()()()()),2&r&&(O(12),F("ngClass",i.isSuccess?"success":"error"),O(1),Rt(" ",i.messageText," "),O(7),F("ngIf",i.invalidName),O(5),F("ngIf",i.invalidPhone),O(5),F("ngIf",i.invalidEmail),O(5),F("ngIf",i.invalidAddress))},dependencies:[Is,ri,kr,Im,wm,ed,S9],styles:[".send-ct-wrapper[_ngcontent-%COMP%]{width:100%;margin:0 auto;min-height:500px;min-height:100vh;padding:2rem;background-image:url(/assets/images/banner.jpg);background-size:cover;background-repeat:no-repeat;background-position:center}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]{padding:2rem;border-radius:.5rem;width:700px;margin:auto;min-height:calc(100vh - 4rem);height:100%;background-color:#ffffffa8;box-shadow:0 0 10px #0000004d}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem;position:relative}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{position:absolute;top:0rem;left:0rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]   .go-home-link[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;text-decoration:none;color:var(--color-primary);font-weight:700;position:relative}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .send-ct-title[_ngcontent-%COMP%]{text-align:center;color:var(--color-primary);font-size:32px;font-weight:700}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{display:flex;justify-content:center}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]   .brand-image[_ngcontent-%COMP%]{width:5rem;height:5rem;object-fit:cover}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin-bottom:1rem;font-weight:600}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .message.error[_ngcontent-%COMP%]{color:red}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .message.success[_ngcontent-%COMP%]{color:green}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:15px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:gray;font-weight:600;font-size:18px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 10px;border:2px solid gray;border-radius:5px;background-color:transparent;outline:none}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--color-primary)}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{width:100%;font-size:14px;color:#ff1818}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 auto;margin-top:3rem;display:block;padding:15px 25px;background-color:var(--color-primary);color:#fff;border:none;border-radius:5px;font-size:20px;cursor:pointer}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}@media (max-width: 767.98px){.send-ct-wrapper[_ngcontent-%COMP%]{width:100%!important;padding:1rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]{width:100%;min-height:calc(100vh - 2rem)}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{position:absolute;top:-.5rem;left:-1rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .send-ct-title[_ngcontent-%COMP%]{font-size:26px!important}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{padding-top:1rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{font-size:12px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2rem;padding:10px 15px;font-size:20px!important}}"]}),e})(),x9=(()=>{var t;class e{getReviews(){return new Promise((r,i)=>{xs(En(Bn((0,Be.initializeApp)(On_firebaseConfig)),"reviews/"),c=>{const l=c.val(),h=[];for(const f in l)if(l.hasOwnProperty(f)){const _=l[f];h.push({id:_.id,partner_id:_.partner_id,rate:_.rate||"",description:_.description||"",order_id:_.order_id,cus_name:_.cus_name||"",date:_.date||""})}r(h)})})}getReviewByPartnerId(r){return new Promise((i,o)=>{xs(En(Bn((0,Be.initializeApp)(On_firebaseConfig)),"reviews/"),l=>{const h=l.val(),f=[];for(const _ in h)if(h.hasOwnProperty(_)){const v=h[_];v.partner_id===r&&f.push({id:v.id,partner_id:v.partner_id,rate:v.rate||"",description:v.description||"",order_id:v.order_id,cus_name:v.cus_name||"",date:v.date||""})}i(f)})})}getReviewById(r){var i=this;return(0,x.Z)(function*(){try{return(yield i.getReviews()).find(a=>a.id===r)||null}catch(o){return console.error("Error fetching user by ID:",o),null}})()}createReview(r){var i=this;return(0,x.Z)(function*(){try{if(!(yield i.isOderUnique(r.order_id)))return console.log("The order is not unique"),null;const a=Bn((0,Be.initializeApp)(On_firebaseConfig)),c=yield i.generateNewId(),l=En(a,"reviews/"+c),h={id:c,partner_id:r.partner_id,rate:r.rate,description:r.description,order_id:r.order_id,cus_name:r.cus_name,date:r.date};return yield Do(l,h),h}catch(o){return console.error("Error creating user:",o),null}})()}updateUser(r){var i=this;return(0,x.Z)(function*(){try{if(null===(yield i.getReviewById(r.id)))return console.error("User information not found for ID:",r.id),null;const a=Bn((0,Be.initializeApp)(On_firebaseConfig)),c={id:r.id,partner_id:r.partner_id,rate:r.rate,description:r.description,order_id:r.order_id},l=En(a,`reviews/${r.id}`);return yield Do(l,c),r}catch(o){return console.error("Error updating user:",o),null}})()}generateNewId(){var r=this;return(0,x.Z)(function*(){const i=yield r.getReviews();return(0===i.length?0:Math.max(...i.map(s=>s.id)))+1})()}isOderUnique(r){return(0,x.Z)(function*(){const s=En(Bn((0,Be.initializeApp)(On_firebaseConfig)),"reviews"),c=(yield bp(s)).val();if(c)for(const l in c)if(c.hasOwnProperty(l)&&c[l].order_id===r)return!1;return!0})()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function epe(t,e){1&t&&A(0,"i"),2&t&&Mn(e.$implicit)}function tpe(t,e){if(1&t&&(ht(0),q(1,epe,1,2,"i",109),pt()),2&t){const n=Re();O(1),F("ngForOf",n.review1Star)}}function npe(t,e){1&t&&A(0,"i"),2&t&&Mn(e.$implicit)}function rpe(t,e){if(1&t&&(ht(0),q(1,npe,1,2,"i",109),pt()),2&t){const n=Re();O(1),F("ngForOf",n.review2Star)}}function ipe(t,e){1&t&&A(0,"i"),2&t&&Mn(e.$implicit)}function ope(t,e){if(1&t&&(ht(0),q(1,ipe,1,2,"i",109),pt()),2&t){const n=Re();O(1),F("ngForOf",n.review3Star)}}function spe(t,e){1&t&&A(0,"i"),2&t&&Mn(e.$implicit)}function ape(t,e){if(1&t&&(ht(0),q(1,spe,1,2,"i",109),pt()),2&t){const n=Re();O(1),F("ngForOf",n.review4Star)}}function cpe(t,e){1&t&&A(0,"i"),2&t&&Mn(e.$implicit)}function lpe(t,e){if(1&t&&(ht(0),q(1,cpe,1,2,"i",109),pt()),2&t){const n=Re();O(1),F("ngForOf",n.review5Star)}}function upe(t,e){1&t&&A(0,"i"),2&t&&Mn(e.$implicit)}function dpe(t,e){if(1&t&&(ht(0),q(1,upe,1,2,"i",109),pt()),2&t){const n=Re();O(1),F("ngForOf",n.review5Star)}}function hpe(t,e){if(1&t&&(m(0,"div",110)(1,"a",111)(2,"div",112),A(3,"img",113),y(),m(4,"div",114)(5,"h3",115),w(6),y(),m(7,"span",116),w(8),y()()()()),2&t){const n=e.$implicit;O(3),Jo("src",n.images[0],Sr),O(3),Ne(n.name),O(2),Ne(n.images.length)}}function ppe(t,e){1&t&&A(0,"i"),2&t&&Mn(e.$implicit)}function fpe(t,e){if(1&t&&(ht(0),q(1,ppe,1,2,"i",109),pt()),2&t){const n=Re();O(1),F("ngForOf",n.review1Star)}}function gpe(t,e){1&t&&A(0,"i"),2&t&&Mn(e.$implicit)}function _pe(t,e){if(1&t&&(ht(0),q(1,gpe,1,2,"i",109),pt()),2&t){const n=Re();O(1),F("ngForOf",n.review2Star)}}function mpe(t,e){1&t&&A(0,"i"),2&t&&Mn(e.$implicit)}function ype(t,e){if(1&t&&(ht(0),q(1,mpe,1,2,"i",109),pt()),2&t){const n=Re();O(1),F("ngForOf",n.review3Star)}}function vpe(t,e){1&t&&A(0,"i"),2&t&&Mn(e.$implicit)}function Cpe(t,e){if(1&t&&(ht(0),q(1,vpe,1,2,"i",109),pt()),2&t){const n=Re();O(1),F("ngForOf",n.review4Star)}}function wpe(t,e){1&t&&A(0,"i"),2&t&&Mn(e.$implicit)}function Ppe(t,e){if(1&t&&(ht(0),q(1,wpe,1,2,"i",109),pt()),2&t){const n=Re();O(1),F("ngForOf",n.review5Star)}}function Mpe(t,e){1&t&&A(0,"i"),2&t&&Mn(e.$implicit)}function Epe(t,e){if(1&t&&(ht(0),q(1,Mpe,1,2,"i",109),pt()),2&t){const n=Re();O(1),F("ngForOf",n.review5Star)}}function Ope(t,e){1&t&&A(0,"i"),2&t&&Mn(e.$implicit)}function Ipe(t,e){if(1&t&&(ht(0),q(1,Ope,1,2,"i",109),pt()),2&t){const n=Re(2);O(1),F("ngForOf",n.review1Star)}}function bpe(t,e){1&t&&A(0,"i"),2&t&&Mn(e.$implicit)}function Tpe(t,e){if(1&t&&(ht(0),q(1,bpe,1,2,"i",109),pt()),2&t){const n=Re(2);O(1),F("ngForOf",n.review2Star)}}function Ape(t,e){1&t&&A(0,"i"),2&t&&Mn(e.$implicit)}function Dpe(t,e){if(1&t&&(ht(0),q(1,Ape,1,2,"i",109),pt()),2&t){const n=Re(2);O(1),F("ngForOf",n.review3Star)}}function Spe(t,e){1&t&&A(0,"i"),2&t&&Mn(e.$implicit)}function xpe(t,e){if(1&t&&(ht(0),q(1,Spe,1,2,"i",109),pt()),2&t){const n=Re(2);O(1),F("ngForOf",n.review4Star)}}function Rpe(t,e){1&t&&A(0,"i"),2&t&&Mn(e.$implicit)}function kpe(t,e){if(1&t&&(ht(0),q(1,Rpe,1,2,"i",109),pt()),2&t){const n=Re(2);O(1),F("ngForOf",n.review5Star)}}function Npe(t,e){1&t&&A(0,"i"),2&t&&Mn(e.$implicit)}function Fpe(t,e){if(1&t&&(ht(0),q(1,Npe,1,2,"i",109),pt()),2&t){const n=Re(2);O(1),F("ngForOf",n.review5Star)}}function Lpe(t,e){if(1&t&&(m(0,"div",117)(1,"div",118)(2,"div",119),A(3,"img",120),m(4,"span",121),w(5),y(),m(6,"div",122),ht(7,123),q(8,Ipe,2,1,"ng-container",124),q(9,Tpe,2,1,"ng-container",124),q(10,Dpe,2,1,"ng-container",124),q(11,xpe,2,1,"ng-container",124),q(12,kpe,2,1,"ng-container",124),q(13,Fpe,2,1,"ng-container",125),pt(),y()(),m(14,"div",126),w(15),y()(),m(16,"div",127)(17,"p"),w(18),y()()()),2&t){const n=e.$implicit;O(5),Ne(n.cus_name),O(2),F("ngSwitch",n.rate),O(1),F("ngSwitchCase",1),O(1),F("ngSwitchCase",2),O(1),F("ngSwitchCase",3),O(1),F("ngSwitchCase",4),O(1),F("ngSwitchCase",5),O(3),Ne(n.date),O(3),Ne(n.description)}}function Vpe(t,e){if(1&t&&(m(0,"div",128),w(1),y()),2&t){const n=Re();O(1),Rt(" ",n.errorMessage," ")}}function Upe(t,e){if(1&t&&(m(0,"option",130),w(1),y()),2&t){const n=e.$implicit;F("value",n.id),O(1),Rt(" ",n.name," ")}}function Bpe(t,e){if(1&t){const n=Kn();ht(0),m(1,"app-custom-select",92),H("selectedOptionChange",function(i){return Bt(n),Vt(Re().onOptionTypeChange(i))})("selectedOptionChange",function(i){return Bt(n),Vt(Re().selectedOptionType=i)}),q(2,Upe,2,2,"option",129),y(),pt()}if(2&t){const n=Re();O(1),F("selectedOption",n.selectedOptionType)("textDefault","Ch\u1ecdn lo\u1ea1i ch\u1ee5p"),O(1),F("ngForOf",n.typeOfPhoto)}}function jpe(t,e){if(1&t&&(ht(0),m(1,"p",131),w(2),m(3,"span"),w(4),y()(),pt()),2&t){const n=Re();O(2),Rt(" ",n.costPreview," "),O(2),Rt("/",""!==n.selectedOptionTLVal&&""!==n.selectedOptionTypeVal?n.selectedOptionTLVal:1," ti\u1ebfng")}}let $pe=(()=>{var t;class e{constructor(r,i,o,s,a,c){this.router=r,this.route=i,this.orderService=o,this.userInfoDTOService=s,this.reviewService=a,this.decesService=c,this.userData=null,this.decesData=null,this.reviewData=[],this.orderData=[],this.selectedDateU="",this.selectedOptionTL="",this.selectedOptionType="",this.errorMessage="",this.isError=!1,this.dateVal="",this.selectedOptionTLVal="",this.selectedOptionTypeVal="",this.setTimeVal="",this.partnerId=0,this.isShowOrder=!1,this.isValidOrderTime=!0,this.typeOfPhoto=[],this.costPreview=3e5,this.review1Star=["bx bxs-star","bx bx-star","bx bx-star","bx bx-star","bx bx-star"],this.review2Star=["bx bxs-star","bx bxs-star","bx bx-star","bx bx-star","bx bx-star"],this.review3Star=["bx bxs-star","bx bxs-star","bx bxs-star","bx bx-star","bx bx-star"],this.review4Star=["bx bxs-star","bx bxs-star","bx bxs-star","bx bxs-star","bx bx-star"],this.review5Star=["bx bxs-star","bx bxs-star","bx bxs-star","bx bxs-star","bx bxs-star"],this.countRate=0,this.route.params.subscribe(l=>{const h=l.id;h?this.partnerId=parseInt(h,10):console.error("ID not found in URL")})}ngOnInit(){this.route.params.subscribe(r=>{const i=r.id;if(i){const o=parseInt(i,10);this.loadUserInfoData(o),this.loadDecesData(o),this.loadReviewData(o),this.loadOrderData(o)}else console.error("ID not found in URL")})}loadUserInfoData(r){this.userInfoDTOService.getUserInfoDTOsById(r).subscribe(i=>{this.userData=i,this.typeOfPhoto=this.userData?.userInfo.typeOfPhoto||[]},i=>{console.error("Error loading user info:",i)})}loadDecesData(r){var i=this;return(0,x.Z)(function*(){i.decesData=yield i.decesService.getDecesByPartnerId(r),console.log(i.decesData)})()}loadOrderData(r){var i=this;return(0,x.Z)(function*(){i.orderData=yield i.orderService.getOrderByPartnerId(r)})()}loadReviewData(r){var i=this;return(0,x.Z)(function*(){i.reviewData=yield i.reviewService.getReviewByPartnerId(r);var o=0,s=0;i.reviewData.forEach(a=>{o+=a.rate,s++}),i.countRate=s>0?parseFloat((o/s).toFixed(1)):0})()}onDateChange(r){this.dateVal=r,this.validBook()}onOptionTLChange(r){this.selectedOptionTLVal=r,console.log(r);var i=parseInt(this.selectedOptionTLVal,10);if(""!==this.selectedOptionTypeVal){var o=parseInt(this.selectedOptionTypeVal,10);const a=this.typeOfPhoto.find(c=>c.id===o);if(a){var s=parseInt(a.cost,10);this.costPreview=s*i}}this.validBook()}onSetTimeChange(){this.validBook()}onOptionTypeChange(r){this.selectedOptionTypeVal=r;const i=parseInt(r.trim(),10),o=this.typeOfPhoto.find(c=>c.id===i);if(o){var s=parseInt(o.cost,10);if(""!==this.selectedOptionTLVal){var a=parseInt(this.selectedOptionTLVal,10);this.costPreview=s*a}else this.costPreview=s}}validBook(){if(""!==this.dateVal&&""!==this.setTimeVal&&""!==this.selectedOptionTLVal){const i=this.orderData.filter(o=>o.order_date===this.dateVal);if(i.length>0){var r=this.setTimeVal.split(":");console.log(r[0]),console.log(r[1]);const o=3600*parseInt(r[0].trim())+60*parseInt(r[1].trim()),s=3600*parseInt(this.selectedOptionTLVal),a=o+s;let c=!0;i.forEach(l=>{var h=l.appoi_time.split(":");const f=3600*parseInt(h[0].trim())+60*parseInt(h[1].trim()),v=f+3600*parseInt(l.time);return console.log(o),console.log(a),console.log(f),console.log(v),o>=f&&o<=v||a>=f&&a<=v||f>=o&&f<=a||v>=o&&v<=a?(c=!1,this.errorMessage=`Ti\xea\u0301c qua\u0301 \u0111a\u0303 co\u0301 ng\u01b0\u01a1\u0300i \u0111\u0103\u0323t t\u01b0\u0300: ${this.formatTimeFromSeconds(f)} \u0111\xea\u0301n ${this.formatTimeFromSeconds(v)}`,this.isError=!0,void(this.isValidOrderTime=!1)):void 0}),c?(console.log("Kho\u1ea3ng th\u1eddi gian h\u1ee3p l\u1ec7."),this.isError=!1,this.isValidOrderTime=!0):console.log("Kho\u1ea3ng th\u1eddi gian kh\xf4ng h\u1ee3p l\u1ec7 v\u1edbi \u0111\u01a1n \u0111\u1eb7t h\xe0ng hi\u1ec7n t\u1ea1i.")}}}formatTimeFromSeconds(r){const i=Math.floor(r/3600),o=Math.floor(r%3600/60);return`${String(i).padStart(2,"0")}:${String(o).padStart(2,"0")}`}onSubmit(){var r=this;return(0,x.Z)(function*(){if(r.selectedDateU&&r.selectedOptionTL&&r.selectedOptionType&&r.setTimeVal&&r.isValidOrderTime){if(0!==r.partnerId){console.log("true");const o=parseInt(r.selectedOptionTLVal,10)*r.costPreview,s=r.typeOfPhoto.find(c=>c.id==parseInt(r.selectedOptionTLVal))?.name,a={id:0,order_date:r.dateVal,time:r.selectedOptionTLVal,appoi_time:r.setTimeVal,shooting_type:s||"",partner_id:r.partnerId,cust_name:"",cust_email:"",cust_phone:"",code:"",status:"chua_dien_tt",address:"",price:o.toString(),link_down:"",des_refund:""};var i=yield r.orderService.createOrder(a);i&&(localStorage.setItem("order_id",i.id.toString()),r.router.navigate(["/contact"]))}}else r.isValidOrderTime&&(r.errorMessage="Vui l\xf2ng \u0111i\u1ec1n \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin"),r.isError=!0})()}showOrder(){this.isShowOrder=!0}hideOrder(){this.isShowOrder=!1}}return(t=e).\u0275fac=function(r){return new(r||t)(Z(mr),Z(Ts),Z(Ol),Z(Uw),Z(x9),Z(b9))},t.\u0275cmp=Tt({type:t,selectors:[["app-profile"]],decls:214,vars:36,consts:[[1,"profile-content"],[1,"wall-wrapper"],[1,"wall-content"],[1,"wall1"],[1,"wall1-1"],["src","./assets/images/profile/pf1.jpg","alt",""],[1,"wall1-2"],["src","./assets/images/profile/pf2.jpg","alt",""],[1,"wall2"],["src","./assets/images/profile/pf3.jpg","alt",""],[1,"wall3"],[1,"wall3-1"],["src","./assets/images/profile/pf4.jpg","alt",""],[1,"wall3-2"],["src","./assets/images/profile/pf5.jpg","alt",""],[1,"wall4"],["src","./assets/images/profile/pf6.jpg","alt",""],[1,"wall5"],[1,"wall5-1"],["src","./assets/images/profile/pf7.jpg","alt",""],[1,"wall5-2"],["src","./assets/images/profile/pf8.jpg","alt",""],[1,"content-wrapper"],[1,"forMe-wrapper"],[1,"forMe-content"],[1,"avatar-wrapper"],[1,"avatar"],["alt","",1,"avatar-image",3,"src"],[1,"des-forMe-wrapper"],[1,"des-forMe-name"],[1,"des-forMe-address"],[1,"des-forMe-rate"],[1,"rate-star"],[4,"ngIf"],[1,"rate-text"],[1,"des-forMe-exp"],[1,"info-wrapper"],[1,"infor-title-list"],[1,"title-list"],[1,"it-item"],["href","javascript:void(0)",1,"it-link"],[1,"deliver-line"],[1,"infor-content-list"],[1,"ic-item"],[1,"text-description"],[1,"prize"],[1,"prize-title"],[1,"interest"],[1,"interest-title"],[1,"feature-wrapper"],[1,"feature-title"],[1,"feature-content"],[1,"language"],[1,"language-title"],["src","./assets/images/icons/translate.png","alt",""],[1,"camera"],[1,"camera-title"],["src","./assets/images/icons/camera.png","alt",""],[1,"portfolio"],[1,"portfolio-title"],[1,"portfolio-content"],["class","portfolio-item",4,"ngFor","ngForOf"],[1,"appraise"],[1,"appraise-title"],[1,"rate"],[1,"appraise-content"],["class","appraise-item",4,"ngFor","ngForOf"],[1,"how-it-works"],[1,"hiw-title"],[1,"hiw-content"],[1,"hiw-item"],[1,"item-title"],[1,"title-icon"],[1,"bx","bx-calendar-check"],[1,"title-text"],[1,"item-content"],[1,"content-deliver"],[1,"content-text"],[1,"bx","bxs-camera"],[1,"bx","bx-happy-alt"],[1,"order-wrapper",3,"ngClass"],[1,"order-container"],["class","mess-valid",4,"ngIf"],[1,"order-content"],[1,"filter-date-picker"],["for","ngay-chup"],[3,"selectedDate","textDefault","selectedDateChange"],[1,"set-time"],["for","gio-hen"],["type","time","id","gio-hen","name","gio-hen","pattern","^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$","placeholder","hh:mm","required","",3,"ngModel","ngModelChange","change"],[1,"filter-tl"],["for","thoi-luong"],[3,"selectedOption","textDefault","selectedOptionChange"],["custom-option","","value","1"],["custom-option","","value","2"],["custom-option","","value","3"],["custom-option","","value","4"],["custom-option","","value","5"],["custom-option","","value","6"],["custom-option","","value","7"],["custom-option","","value","8"],[1,"filter-type"],["href","javascript:void(0)",3,"click"],[1,"sug-foot"],[1,"bx","bx-check"],[1,"btn-close-order",3,"click"],[1,"bx","bx-x"],[1,"toggle-order-wrapper",3,"ngClass","click"],[1,"bx","bx-plus-circle"],[3,"class",4,"ngFor","ngForOf"],[1,"portfolio-item"],["href","javascript:void(0);"],[1,"it-header"],["alt","",3,"src"],[1,"it-footer"],[1,"it-cate"],[1,"it-count-picture"],[1,"appraise-item"],[1,"ai-header"],[1,"header-avatar"],["src","./assets/images/avatar_review.jpg","alt",""],[1,"header-name"],[1,"header-rate"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"header-date"],[1,"ai-comment"],[1,"mess-valid"],["custom-option","",3,"value",4,"ngFor","ngForOf"],["custom-option","",3,"value"],[1,"p-footer"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),A(5,"img",5),y(),m(6,"div",6),A(7,"img",7),y()(),m(8,"div",8),A(9,"img",9),y(),m(10,"div",10)(11,"div",11),A(12,"img",12),y(),m(13,"div",13),A(14,"img",14),y()(),m(15,"div",15),A(16,"img",16),y(),m(17,"div",17)(18,"div",18),A(19,"img",19),y(),m(20,"div",20),A(21,"img",21),y()()()(),m(22,"div",22)(23,"div",23)(24,"div",24)(25,"div",25)(26,"div",26),A(27,"img",27),y()(),m(28,"div",28)(29,"h2",29),w(30),y(),m(31,"p",30),w(32),y(),m(33,"div",31)(34,"div",32),q(35,tpe,2,1,"ng-container",33),q(36,rpe,2,1,"ng-container",33),q(37,ope,2,1,"ng-container",33),q(38,ape,2,1,"ng-container",33),q(39,lpe,2,1,"ng-container",33),q(40,dpe,2,1,"ng-container",33),y(),m(41,"span",34),w(42),y()(),m(43,"p",35),w(44),y()()()(),m(45,"div",36)(46,"div",37)(47,"div",38)(48,"li",39)(49,"a",40),w(50,"V\u1ec1 t\xf4i"),y()(),m(51,"li",39)(52,"a",40),w(53,"H\u1ed3 s\u01a1"),y()(),m(54,"li",39)(55,"a",40),w(56,"\u0110\xe1nh gi\xe1"),y()(),m(57,"li",39)(58,"a",40),w(59,"How it works"),y()()()(),A(60,"div",41),m(61,"div",42)(62,"div",43)(63,"div",44)(64,"p"),w(65),y()(),m(66,"div",45)(67,"h3",46),w(68," Gi\u1ea3i th\u01b0\u1edfng "),y(),m(69,"p"),w(70),y()(),m(71,"div",47)(72,"h3",48),w(73," \u0110i\u1ec1u th\xfa v\u1ecb v\u1ec1 t\xf4i "),y(),m(74,"p"),w(75),y()()()(),A(76,"div",41),m(77,"div",49)(78,"h3",50),w(79,"Ng\xf4n ng\u1eef & M\xe1y \u1ea3nh"),y(),m(80,"div",51)(81,"div",52)(82,"div",53),A(83,"img",54),m(84,"h3"),w(85,"Ng\xf4n ng\u1eef"),y()(),m(86,"p"),w(87),y()(),m(88,"div",55)(89,"div",56),A(90,"img",57),m(91,"h3"),w(92,"M\xe1y \u1ea3nh"),y()(),m(93,"p"),w(94),y()()()(),A(95,"div",41),m(96,"div",58)(97,"h3",59),w(98,"My Portfolio"),y(),m(99,"div",60),q(100,hpe,9,3,"div",61),y()(),A(101,"div",41),m(102,"div",62)(103,"div",63)(104,"h3"),w(105,"\u0110\xe1nh Gi\xe1"),y(),m(106,"div",64)(107,"div",32),q(108,fpe,2,1,"ng-container",33),q(109,_pe,2,1,"ng-container",33),q(110,ype,2,1,"ng-container",33),q(111,Cpe,2,1,"ng-container",33),q(112,Ppe,2,1,"ng-container",33),q(113,Epe,2,1,"ng-container",33),y(),m(114,"span",34),w(115),y()()(),m(116,"div",65),q(117,Lpe,19,9,"div",66),y()(),A(118,"div",41),m(119,"div",67)(120,"h3",68),w(121,"How it Works"),y(),m(122,"div",69)(123,"div",70)(124,"div",71)(125,"div",72),A(126,"i",73),y(),m(127,"h3",74),w(128,"Book."),y()(),m(129,"div",75)(130,"div",76),A(131,"p"),y(),m(132,"div",77)(133,"p"),w(134,"Nhanh ch\xf3ng t\xecm th\u1ea5y m\u1ed9t nhi\u1ebfp \u1ea3nh gia \u0111\u01b0\u1ee3c x\u1ebfp h\u1ea1ng h\xe0ng \u0111\u1ea7u g\u1ea7n b\u1ea1n. \u0110\u1eb7t ch\u1ed7 ph\xf9 h\u1ee3p cho kho\u1ea3nh kh\u1eafc \u0111\u1eb7c bi\u1ec7t c\u1ee7a b\u1ea1n ch\u1ec9 b\u1eb1ng v\xe0i c\xfa nh\u1ea5p chu\u1ed9t \u0111\u01a1n gi\u1ea3n."),y()()()(),m(135,"div",70)(136,"div",71)(137,"div",72),A(138,"i",78),y(),m(139,"h3",74),w(140,"Sheet."),y()(),m(141,"div",75)(142,"div",76),A(143,"p"),y(),m(144,"div",77)(145,"p"),w(146,"H\xe3y th\u01b0 gi\xe3n v\xe0 t\u1eadn h\u01b0\u1edfng kho\u1ea3nh kh\u1eafc khi m\u1ed9t nhi\u1ebfp \u1ea3nh gia gi\xe0u kinh nghi\u1ec7m ch\u1ee5p \u1ea3nh cho b\u1ea1n. H\u1ecd s\u1ebd ch\u0103m s\xf3c t\u1ea5t c\u1ea3 c\xe1c chi ti\u1ebft."),y()()()(),m(147,"div",70)(148,"div",71)(149,"div",72),A(150,"i",79),y(),m(151,"h3",74),w(152,"Enjoy!."),y()(),m(153,"div",75),A(154,"div",76),m(155,"div",77)(156,"p"),w(157," Trong v\xf2ng 2 ng\xe0y l\xe0m vi\u1ec7c k\u1ec3 t\u1eeb ng\xe0y ch\u1ee5p \u1ea3nh, b\u1ea1n s\u1ebd c\xf3 th\u1ec3 xem, t\u1ea3i xu\u1ed1ng v\xe0 chia s\u1ebb. T\u1eadn h\u01b0\u1edfng t\u1ea5t c\u1ea3 m\u1ed9t l\u1ea7n n\u1eefa v\xe0 m\u1ed9t l\u1ea7n n\u1eefa. "),y()()()()()()()(),m(158,"div",80)(159,"div",81)(160,"h4"),w(161,"\u0110\u1eb7t l\u1ecbch ch\u1ee5p t\u1ef1 \u0111\u1ed9ng"),y(),q(162,Vpe,2,1,"div",82),m(163,"div",83)(164,"div",84)(165,"label",85),w(166,"Ng\xe0y ch\u1ee5p:"),y(),m(167,"app-date-picker",86),H("selectedDateChange",function(s){return i.onDateChange(s)})("selectedDateChange",function(s){return i.selectedDateU=s}),y()(),m(168,"div",87)(169,"label",88),w(170,"Gi\u1edd h\u1eb9n:"),y(),m(171,"input",89),H("ngModelChange",function(s){return i.setTimeVal=s})("change",function(){return i.onSetTimeChange()}),y()(),m(172,"div",90)(173,"label",91),w(174,"Th\u1eddi l\u01b0\u1ee3ng (gi\u1edd):"),y(),m(175,"app-custom-select",92),H("selectedOptionChange",function(s){return i.onOptionTLChange(s)})("selectedOptionChange",function(s){return i.selectedOptionTL=s}),m(176,"option",93),w(177,"1 gi\u1edd"),y(),m(178,"option",94),w(179,"2 gi\u1edd"),y(),m(180,"option",95),w(181,"3 gi\u1edd"),y(),m(182,"option",96),w(183,"4 gi\u1edd"),y(),m(184,"option",97),w(185,"5 gi\u1edd"),y(),m(186,"option",98),w(187,"6 gi\u1edd"),y(),m(188,"option",99),w(189,"7 gi\u1edd"),y(),m(190,"option",100),w(191,"8 gi\u1edd"),y()()(),m(192,"div",101)(193,"label",91),w(194,"Lo\u1ea1i ch\u1ee5p"),y(),q(195,Bpe,3,3,"ng-container",33),y(),m(196,"a",102),H("click",function(){return i.onSubmit()}),w(197,"\u0110\u1eb7t l\u1ecbch"),y(),A(198,"div",41),q(199,jpe,5,2,"ng-container",33),A(200,"div",41),m(201,"span",103),A(202,"i",104),w(203," 15 \u1ea3nh c\xf3 \u0111\u1ed9 ph\xe2n gi\u1ea3i cao \u1edf \u0111\u1ecbnh d\u1ea1ng JPEG "),y(),m(204,"span",103),A(205,"i",104),w(206," \u0110\xe3 ch\u1ec9nh s\u1eeda v\xe0 ch\u1ec9nh m\xe0u "),y(),m(207,"span",103),A(208,"i",104),w(209," Giao h\xe0ng sau 2 ng\xe0y l\xe0m vi\u1ec7c "),y()()(),m(210,"div",105),H("click",function(){return i.hideOrder()}),A(211,"i",106),y()(),m(212,"div",107),H("click",function(){return i.showOrder()}),A(213,"i",108),y()()),2&r&&(O(27),Jo("src",null==i.userData||null==i.userData.user?null:i.userData.user.avatar,Sr),O(3),Rt(" ",null==i.userData||null==i.userData.user?null:i.userData.user.full_name," "),O(2),Rt(" ",null==i.userData||null==i.userData.user?null:i.userData.user.address," "),O(3),F("ngIf",i.countRate>0&&i.countRate<=1),O(1),F("ngIf",i.countRate>1&&i.countRate<=2),O(1),F("ngIf",i.countRate>2&&i.countRate<=3),O(1),F("ngIf",i.countRate>3&&i.countRate<=4),O(1),F("ngIf",i.countRate>4&&i.countRate<=5),O(1),F("ngIf",0===i.countRate),O(2),Ne(i.countRate),O(2),Rt("",null==i.userData||null==i.userData.user?null:i.userData.user.exp," n\u0103m kinh nghi\u1ec7m"),O(21),Rt(" ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.description," "),O(5),Rt(" ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.prize," "),O(5),Rt(" ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.interest," "),O(12),Ne(null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.language),O(7),Ne(null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.camera),O(6),F("ngForOf",null==i.decesData?null:i.decesData.category),O(8),F("ngIf",i.countRate>0&&i.countRate<=1),O(1),F("ngIf",i.countRate>1&&i.countRate<=2),O(1),F("ngIf",i.countRate>2&&i.countRate<=3),O(1),F("ngIf",i.countRate>3&&i.countRate<=4),O(1),F("ngIf",i.countRate>4&&i.countRate<=5),O(1),F("ngIf",0===i.countRate),O(2),Ne(i.countRate),O(2),F("ngForOf",i.reviewData),O(41),F("ngClass",i.isShowOrder?"show":""),O(2),Xo("data-id",null==i.userData||null==i.userData.user?null:i.userData.user.id),O(2),F("ngIf",i.isError),O(5),F("selectedDate",i.selectedDateU)("textDefault","Ng\xe0y"),O(4),F("ngModel",i.setTimeVal),O(4),F("selectedOption",i.selectedOptionTL)("textDefault","Th\u1eddi l\u01b0\u1ee3ng"),O(20),F("ngIf",i.typeOfPhoto.length>0),O(4),F("ngIf",i.costPreview),O(13),F("ngClass",i.isShowOrder?"hide":""))},dependencies:[Is,Gi,ri,k0,U3,B3,Qw,Xw,Ns,ua,bm,ST,Fs,GT,qT],styles:['@charset "UTF-8";.forMe-wrapper[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:5rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:3rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   .avatar-image[_ngcontent-%COMP%]{height:130px;width:130px;object-fit:cover;border-radius:50%}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-name[_ngcontent-%COMP%]{margin:2px 0;color:var(--color-primary);font-weight:700;font-size:28px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-address[_ngcontent-%COMP%]{margin:4px 0;font-size:15px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-rate[_ngcontent-%COMP%]{margin:.5rem 0;display:flex;justify-content:flex-start;column-gap:.75rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--color-warning)}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-rate[_ngcontent-%COMP%]   .rate-text[_ngcontent-%COMP%]{font-size:15px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-exp[_ngcontent-%COMP%]{margin:4px 0}.infor-title-list[_ngcontent-%COMP%]{padding-left:2rem}.infor-title-list[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:4rem;flex-wrap:wrap;row-gap:2rem}.infor-title-list[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]   .it-item[_ngcontent-%COMP%]{list-style:none;display:inline}.infor-title-list[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]   .it-item[_ngcontent-%COMP%]   .it-link[_ngcontent-%COMP%]{text-decoration:none;display:block;font-weight:700;color:var(--color-primary);font-size:20px;text-wrap:nowrap}.infor-content-list[_ngcontent-%COMP%]{padding-top:1.5rem;padding-left:2rem}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .prize[_ngcontent-%COMP%]   .prize-title[_ngcontent-%COMP%]{color:var(--color-primary);font-size:20px;font-weight:700}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .interest[_ngcontent-%COMP%]   .interest-title[_ngcontent-%COMP%]{font-weight:700;font-size:20px;color:var(--color-primary)}.feature-wrapper[_ngcontent-%COMP%]{padding-left:2rem;padding-top:.5rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:700;font-size:20px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   .language-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   .language-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   .language-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:var(--color-primary);font-weight:700}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-left:3rem;font-size:18px;margin-top:0}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   .camera-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   .camera-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   .camera-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:var(--color-primary);font-weight:700}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:0;padding-left:3rem;font-size:18px}.portfolio[_ngcontent-%COMP%]{padding-left:2rem;padding-right:25%;padding-top:.5rem}.portfolio[_ngcontent-%COMP%]   .portfolio-title[_ngcontent-%COMP%]{font-weight:700;color:var(--color-warning)}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-auto-rows:1fr;gap:2rem}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-text-body);text-decoration:none}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   .portfolio-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:250px;object-fit:cover}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   .it-footer[_ngcontent-%COMP%]   .it-cate[_ngcontent-%COMP%]{font-size:20px;margin-bottom:10px}.appraise[_ngcontent-%COMP%]{padding-left:2rem;padding-top:.5rem}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--color-warning);font-weight:700}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;column-gap:.5rem}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--color-warning)}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   .rate-text[_ngcontent-%COMP%]{font-weight:700}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]{margin-bottom:1rem}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;flex-direction:column;align-items:center;column-gap:.75rem}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]   .header-avatar[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-start;column-gap:.5rem}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]   .header-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;object-fit:cover}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]   .header-avatar[_ngcontent-%COMP%]   .header-name[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:300}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]   .header-avatar[_ngcontent-%COMP%]   .header-rate[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:13px;color:var(--color-warning)}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]   .header-date[_ngcontent-%COMP%]{width:100%;font-weight:300;font-size:12px;padding-left:3rem}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-comment[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;margin-top:.75rem;padding-left:2.25rem;font-size:14px}.how-it-works[_ngcontent-%COMP%]{padding-left:1.5rem;padding-top:.5rem}.how-it-works[_ngcontent-%COMP%]   .hiw-title[_ngcontent-%COMP%]{color:var(--color-warning);font-weight:700}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;flex-direction:column}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{font-size:30px;color:var(--color-primary)}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]   .title-text[_ngcontent-%COMP%]{margin:8px 0;font-size:20px;font-weight:700;color:var(--color-primary)}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:2rem;align-items:center;height:100%}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .content-deliver[_ngcontent-%COMP%]{display:flex;justify-content:center;height:auto;width:3px;margin-left:12px;background-color:var(--color-primary)}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .content-deliver[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;height:100%}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .content-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 400px 0 4rem}.content-wrapper[_ngcontent-%COMP%]   .info-wrapper[_ngcontent-%COMP%]   .deliver-line[_ngcontent-%COMP%]{height:2px;width:100%;margin:1.5rem 0;background-color:var(--color-primary)}.order-wrapper[_ngcontent-%COMP%]{background-color:var(--color-bg-body);position:fixed;top:100px;right:50px;border-radius:.3rem;box-shadow:0 2px 5px #0003;z-index:600}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]{width:300px;min-height:500px;max-height:calc(100vh - 100px);padding:20px;overflow-y:auto}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--color-light)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--color-secondary);border-radius:4px;border:2px solid var(--color-light)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;color:#333;font-size:20px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .mess-valid[_ngcontent-%COMP%]{font-size:14px;color:red}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .filter-date-picker[_ngcontent-%COMP%]{z-index:999}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;margin-top:.5rem}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%], .order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   input[type=time][_ngcontent-%COMP%], .order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:4px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   input[type=time][_ngcontent-%COMP%]::-webkit-datetime-edit-second-field{display:none}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:10px 15px;border:none;border-radius:4px;text-decoration:none;margin-top:1rem;text-align:center}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#0056b3}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .deliver-line[_ngcontent-%COMP%]{height:2px;width:100%;margin:1rem 0;background-color:var(--color-secondary)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .p-footer[_ngcontent-%COMP%]{color:var(--color-warning);font-weight:700;margin:0;padding-left:.5rem}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .p-footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--color-text-body)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .sug-foot[_ngcontent-%COMP%]{font-size:13px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .sug-foot[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--color-warning);font-size:18px}.order-wrapper[_ngcontent-%COMP%]   .btn-close-order[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-8px;font-size:30px;color:#000;cursor:pointer;height:30px;width:30px;border-radius:50%;background-color:var(--color-secondary);display:none}.profile-content[_ngcontent-%COMP%]{position:relative;margin-top:6rem}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(9,1fr);column-gap:.3rem;height:500px}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall2[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall4[_ngcontent-%COMP%]{grid-column:span 2;height:500px}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall4[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:.3rem}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-2[_ngcontent-%COMP%]{height:calc(250px - .15rem)}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-2[_ngcontent-%COMP%]{height:calc(250px - .15rem)}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-2[_ngcontent-%COMP%]{height:calc(250px - .15rem)}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .toggle-order-wrapper[_ngcontent-%COMP%]{position:fixed;bottom:5rem;right:1rem;width:40px;height:40px;background-color:var(--color-primary);z-index:999;display:none;font-size:30px;border-radius:50%;padding-top:3.5px;padding-left:5px;color:var(--color-light)}@media (max-width: 991.98px){.order-wrapper[_ngcontent-%COMP%]{display:none}.order-wrapper.show[_ngcontent-%COMP%]{display:block}.toggle-order-wrapper[_ngcontent-%COMP%]{display:block!important}.toggle-order-wrapper.hide[_ngcontent-%COMP%]{display:none!important}.btn-close-order[_ngcontent-%COMP%]{display:block!important}.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 2rem 0!important}}@media (max-width: 767.98px){.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 2rem 0!important}.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]{flex-direction:column;row-gap:2rem}.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .info-wrapper[_ngcontent-%COMP%]   .portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}']}),e})(),R9=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tt({type:t,selectors:[["app-layout-profile"]],decls:7,vars:0,consts:[[1,"layout-wrapper"],[1,"layout-container"],[1,"content-wrapper"],[1,"content-container"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1),A(2,"app-header"),m(3,"div",2)(4,"div",3),A(5,"router-outlet"),y()(),A(6,"app-footer"),y()())},dependencies:[ul,KT,ZT],styles:[".layout-wrapper[_ngcontent-%COMP%], .layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%], .layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{width:100%}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{width:100%;margin:0 auto}@media (min-width: 1400px){.content-container[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.content-container[_ngcontent-%COMP%]{margin-top:5rem!important}}"]}),e})();function Hpe(t,e){1&t&&(m(0,"span",22),w(1,"Vui l\xf2ng nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i h\u1ee3p l\u1ec7."),y())}function zpe(t,e){1&t&&(m(0,"span",22),w(1,"Vui l\xf2ng nh\u1eadp email h\u1ee3p l\u1ec7."),y())}function Wpe(t,e){1&t&&(m(0,"span",22),w(1,"Vui l\xf2ng nh\u1eadp 6 ky\u0301 t\u01b0\u0323."),y())}function Gpe(t,e){if(1&t){const n=Kn();m(0,"div",23)(1,"div",24),A(2,"i",25),w(3," B\u1ea1n kh\xf4ng c\xf3 \u1ea3nh tr\u1ea3. "),y(),m(4,"a",26),H("click",function(){return Bt(n),Vt(Re().closeError())}),w(5," Th\u1eed l\u1ea1i "),y()()}}let qpe=(()=>{var t;class e{constructor(r,i){this.orderService=r,this.router=i,this.invalidEmail=!1,this.invalidPhone=!1,this.invalidCode=!1,this.isError=!1,this.email="",this.phone="",this.code=""}onChangePhone(r){let i=r.target.value;i=i.replace(/[^0-9]/g,""),this.phone=i,this.validatePhone()}onChangeEmail(r){this.email=r.target.value,this.validateEmail()}onChangeCode(r){this.code=r.target.value,this.validateCode()}onSubmit(){var r=this;return(0,x.Z)(function*(){if(r.validateEmail()&&r.validatePhone()&&r.validateCode()){const o=yield r.orderService.getOrderByCode(r.code);o?(window.alert("Tha\u0300nh c\xf4ng"),r.router.navigate(["/refund-pc/"+o.id])):r.isError=!0}else r.validateEmail(),r.validatePhone(),r.validateCode()})()}validateEmail(){const i=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(this.email);return this.invalidEmail=!i,i}validatePhone(){const i=/^0[0-9]{9,10}$/.test(this.phone);return this.invalidPhone=!i,i}validateCode(){const r=6===this.code.length;return this.invalidCode=!r,r}closeError(){this.isError=!1}}return(t=e).\u0275fac=function(r){return new(r||t)(Z(Ol),Z(mr))},t.\u0275cmp=Tt({type:t,selectors:[["app-refund-picture"]],decls:32,vars:4,consts:[[1,"send-ct-wrapper"],[1,"send-ct-container"],[1,"send-ct-header"],[1,"go-home"],["routerLink","/home",1,"go-home-link"],[1,"bx","bxs-chevron-left"],[1,"brand"],["routerLink","/home",1,"brand-link"],["src","./assets/images/logo2.png","alt","logo",1,"brand-image"],[1,"send-ct-title"],[1,"send-ct-content"],[3,"ngSubmit"],[1,"form-group"],["for","phone"],["type","text","id","phone","name","phone","required","","placeholder","0123456789","appOnlyNumbers","",3,"input"],["class","validate-message",4,"ngIf"],["for","username"],["type","text","id","username","name","username","required","","placeholder","quang@gmail.com",3,"input"],["for","code"],["type","text","id","code","name","code","required","","placeholder","xxxxxx",3,"input"],["type","submit"],["class","error",4,"ngIf"],[1,"validate-message"],[1,"error"],[1,"icon-error-wr"],[1,"bx","bx-error-circle","icon-error"],["href","javascript:void(0)",1,"close-error",3,"click"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),A(5,"i",5),w(6," Trang ch\u1ee7 "),y()(),m(7,"div",6)(8,"a",7),A(9,"img",8),y()(),m(10,"h3",9),w(11," Vui l\xf2ng \u0111i\u1ec1n th\xf4ng tin c\u1ee7a b\u1ea1n. "),y()(),m(12,"div",10)(13,"form",11),H("ngSubmit",function(){return i.onSubmit()}),m(14,"div",12)(15,"label",13),w(16,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),y(),m(17,"input",14),H("input",function(s){return i.onChangePhone(s)}),y(),q(18,Hpe,2,0,"span",15),y(),m(19,"div",12)(20,"label",16),w(21,"Email"),y(),m(22,"input",17),H("input",function(s){return i.onChangeEmail(s)}),y(),q(23,zpe,2,0,"span",15),y(),m(24,"div",12)(25,"label",18),w(26,"Ma\u0303"),y(),m(27,"input",19),H("input",function(s){return i.onChangeCode(s)}),y(),q(28,Wpe,2,0,"span",15),y(),m(29,"button",20),w(30,"G\u1eedi"),y()()(),q(31,Gpe,6,0,"div",21),y()()),2&r&&(O(18),F("ngIf",i.invalidPhone),O(5),F("ngIf",i.invalidEmail),O(5),F("ngIf",i.invalidCode),O(3),F("ngIf",i.isError))},dependencies:[ri,kr,Im,wm,ed,S9],styles:[".send-ct-wrapper[_ngcontent-%COMP%]{width:100%;margin:0 auto;min-height:100vh;padding:2rem;background-image:url(/assets/images/banner.jpg);background-size:cover;background-repeat:no-repeat;background-position:center}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]{padding:2rem;border-radius:.5rem;width:700px;margin:auto;min-height:calc(100vh - 4rem);background-color:#ffffffa8;box-shadow:0 0 10px #0000004d;position:relative}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem;position:relative}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{position:absolute;top:0rem;left:0rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]   .go-home-link[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;text-decoration:none;color:var(--color-primary);font-weight:700;position:relative}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .send-ct-title[_ngcontent-%COMP%]{text-align:center;color:var(--color-primary);font-size:32px;font-weight:700}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{display:flex;justify-content:center}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]   .brand-image[_ngcontent-%COMP%]{width:5rem;height:5rem;object-fit:cover}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:15px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:gray;font-weight:600;font-size:18px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 10px;border:2px solid gray;border-radius:5px;background-color:transparent;outline:none}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--color-primary)}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{width:100%;font-size:14px;color:#ff1818}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 auto;margin-top:3rem;display:block;padding:15px 25px;background-color:var(--color-primary);color:#fff;border:none;border-radius:5px;font-size:20px;cursor:pointer}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;background-color:#fff;box-shadow:0 0 10px #0000004d;display:flex;flex-direction:column;justify-content:center;row-gap:5rem;align-items:center;border-radius:.5rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]   .icon-error-wr[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:1rem;justify-content:center;align-items:center;font-weight:700;font-size:25px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]   .icon-error-wr[_ngcontent-%COMP%]   .icon-error[_ngcontent-%COMP%]{font-size:100px;color:red}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]   .close-error[_ngcontent-%COMP%]{text-decoration:none;padding:15px 20px;background-color:var(--color-primary);color:#fff;border:none;border-radius:5px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]   .close-error[_ngcontent-%COMP%]:hover{background-color:#0056b3}@media (max-width: 767.98px){.send-ct-wrapper[_ngcontent-%COMP%]{width:100%!important;padding:1rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]{width:100%;min-height:calc(100vh - 2rem)}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{top:-.5rem;left:-1rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .send-ct-title[_ngcontent-%COMP%]{font-size:26px!important}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{font-size:12px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2rem;padding:10px 15px;font-size:20px!important}}"]}),e})();function Kpe(t,e){if(1&t&&(ht(0),m(1,"a",49),w(2," Link Download "),y(),pt()),2&t){const n=Re();O(1),Jo("href",n.order.link_down,Sr)}}function Zpe(t,e){1&t&&(m(0,"a",50),w(1," Link Download "),y())}function Ype(t,e){if(1&t&&(ht(0),A(1,"i"),pt()),2&t){const n=e.$implicit;O(1),Mn(n)}}function Qpe(t,e){1&t&&A(0,"i"),2&t&&Mn(e.$implicit)}function Xpe(t,e){1&t&&A(0,"i"),2&t&&Mn(e.$implicit)}function Jpe(t,e){1&t&&A(0,"i"),2&t&&Mn(e.$implicit)}function efe(t,e){1&t&&A(0,"i"),2&t&&Mn(e.$implicit)}function tfe(t,e){1&t&&A(0,"i"),2&t&&Mn(e.$implicit)}function nfe(t,e){if(1&t){const n=Kn();m(0,"div",51)(1,"li",52),H("click",function(){return Bt(n),Vt(Re().chooseRate(1))}),q(2,Qpe,1,2,"i",53),y(),m(3,"li",52),H("click",function(){return Bt(n),Vt(Re().chooseRate(2))}),q(4,Xpe,1,2,"i",53),y(),m(5,"li",52),H("click",function(){return Bt(n),Vt(Re().chooseRate(3))}),q(6,Jpe,1,2,"i",53),y(),m(7,"li",52),H("click",function(){return Bt(n),Vt(Re().chooseRate(4))}),q(8,efe,1,2,"i",53),y(),m(9,"li",52),H("click",function(){return Bt(n),Vt(Re().chooseRate(5))}),q(10,tfe,1,2,"i",53),y()()}if(2&t){const n=Re();O(2),F("ngForOf",n.selected1Stars),O(2),F("ngForOf",n.selected2Stars),O(2),F("ngForOf",n.selected3Stars),O(2),F("ngForOf",n.selected4Stars),O(2),F("ngForOf",n.selected5Stars)}}function rfe(t,e){1&t&&A(0,"i",54)}function ife(t,e){1&t&&A(0,"i",55)}let ofe=(()=>{var t;class e{constructor(r,i,o,s){this.router=r,this.route=i,this.orderService=o,this.reviewService=s,this.isShowAskRepair=!1,this.isDropdownOpen=!1,this.des_refund="",this.isHideInfo=!1,this.comment="",this.selectedStars=["bx bxs-star","bx bx-star","bx bx-star","bx bx-star","bx bx-star"],this.selected1Stars=["bx bxs-star","bx bx-star","bx bx-star","bx bx-star","bx bx-star"],this.selected2Stars=["bx bxs-star","bx bxs-star","bx bx-star","bx bx-star","bx bx-star"],this.selected3Stars=["bx bxs-star","bx bxs-star","bx bxs-star","bx bx-star","bx bx-star"],this.selected4Stars=["bx bxs-star","bx bxs-star","bx bxs-star","bx bxs-star","bx bx-star"],this.selected5Stars=["bx bxs-star","bx bxs-star","bx bxs-star","bx bxs-star","bx bxs-star"],this.countStars=0,this.route.params.subscribe(a=>{const c=a.id;c?this.orderId=parseInt(c,10):console.error("ID not found in URL")})}ngOnInit(){var r=this;this.route.params.subscribe(function(){var i=(0,x.Z)(function*(o){const s=o.id;if(s){const a=parseInt(s,10);r.orderService.getOrderById(a).then(c=>{null!==c&&(r.order=c)}).catch(c=>{console.error("Error:",c)})}else console.error("ID not found in URL")});return function(o){return i.apply(this,arguments)}}())}toggleAsk(){this.isShowAskRepair=!this.isShowAskRepair}closeAsk(){this.isShowAskRepair=!1}sendAsk(){var r=this;return(0,x.Z)(function*(){if(""!==r.des_refund){var i=yield r.orderService.getOrderById(r.orderId);i?(i.des_refund=r.des_refund,i.status="yc_sua",(yield r.orderService.updateOrder(i))?window.alert("Y\xeau c\xe2\u0300u s\u01b0\u0309a a\u0309nh tha\u0300nh c\xf4ng"):window.alert("Y\xeau c\xe2\u0300u th\xe2\u0301t ba\u0323i")):window.alert("Y\xeau c\xe2\u0300u th\xe2\u0301t ba\u0323i")}else window.alert("Ha\u0303y nh\xe2\u0323p y\xeau c\xe2\u0300u")})()}toggleHideInfo(){this.isHideInfo=!this.isHideInfo}chooseRate(r){switch(r){case 1:this.selectedStars=this.selected1Stars,this.countStars=1;break;case 2:this.selectedStars=this.selected2Stars,this.countStars=2;break;case 3:this.selectedStars=this.selected3Stars,this.countStars=3;break;case 4:this.selectedStars=this.selected4Stars,this.countStars=4;break;case 5:this.selectedStars=this.selected5Stars,this.countStars=5}this.isDropdownOpen=!this.isDropdownOpen}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen}onReview(){var r=this;return(0,x.Z)(function*(){if(r.countStars>0&&""!==r.comment){var i=yield r.orderService.getOrderById(r.orderId);if(i){var o=r.isHideInfo?"\xe2\u0309n danh":i.cust_name||"\xe2\u0309n danh";const a=new Date,c=`${a.getFullYear()}-${(a.getMonth()+1).toString().padStart(2,"0")}-${a.getDate().toString().padStart(2,"0")}`,l={id:0,partner_id:i.partner_id,cus_name:o,order_id:i.id,description:r.comment,rate:r.countStars,date:c};(yield r.reviewService.createReview(l))?window.alert("\u0110a\u0301nh gia\u0301 tha\u0300nh c\xf4ng"):window.alert("\u0110a\u0301nh gia\u0301 kh\xf4ng tha\u0300nh c\xf4ng")}}})()}}return(t=e).\u0275fac=function(r){return new(r||t)(Z(mr),Z(Ts),Z(Ol),Z(x9))},t.\u0275cmp=Tt({type:t,selectors:[["app-page-picture-refund"]],decls:80,vars:9,consts:[[1,"page-pr-wrapper"],[1,"page-header"],[1,"header-content"],[1,"header-left"],[1,"header-right"],["routerLink","/home"],[1,"page-content"],[1,"link-dow-wrapper"],[1,"link-dow-content"],[4,"ngIf","ngIfElse"],["elseBlock",""],[1,"link-dow-footer"],["href","javascript:void(0)",3,"click"],[1,"review-wrapper"],[1,"review-title"],[1,"review-content"],[1,"review-content-first"],[1,"rating"],[4,"ngFor","ngForOf"],["class","dropdownRate",4,"ngIf"],[1,"comment"],["name","comment","id","","cols","30","rows","5",3,"ngModel","ngModelChange"],[1,"sub-t"],[1,"review-content-second"],["href","javascript:void(0)",1,"btn","btn-hide-inf",3,"click"],["class","bx bx-toggle-left",4,"ngIf"],["class","bx bx-toggle-right",4,"ngIf"],["href","javascript:void(0)",1,"btn","btn-submit",3,"click"],[1,"ask-repair-wrapper",3,"ngClass"],[1,"ask-repair-container"],[1,"ask-repair-content"],[1,"repair-header"],[1,"bx","bx-chevron-left"],[1,"repair-cont"],[1,"repair-content"],[1,"enter-code-picture"],[1,"ecp-title"],[1,"po-title"],[1,"repair-police"],[1,"ecp-content"],["name","","id","ecp-code","cols","30","rows","10",3,"ngModel","ngModelChange"],[1,"po-content-wr"],[1,"po-content"],[1,"repair-submit"],[1,"rs-left"],[1,"rs-right"],["href","javascript:void(0)",1,"btn-submit-repair",3,"click"],["href","javascript:void(0)",1,"btn-close-ask",3,"click"],[1,"bx","bx-x"],["target","_blank",1,"btn-get-link",3,"href"],["href","javascript:void(0);",1,"btn-get-link"],[1,"dropdownRate"],[3,"click"],[3,"class",4,"ngFor","ngForOf"],[1,"bx","bx-toggle-left"],[1,"bx","bx-toggle-right"]],template:function(r,i){if(1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),w(5,"B\u1ed9 s\u01b0u t\u1eadp \u1ea3nh"),y(),m(6,"p"),w(7,"H\xe3y c\xf9ng th\u01b0\u1edfng th\u1ee9c b\u1ee9c h\xecnh tuy\u1ec7t v\u1eddi c\u1ee7a b\u1ea1n!"),y()(),m(8,"div",4)(9,"a",5),w(10,"Trang ch\u1ee7"),y()()()(),m(11,"div",6)(12,"div",7)(13,"div",8),q(14,Kpe,3,1,"ng-container",9),q(15,Zpe,2,0,"ng-template",null,10,Pi),m(17,"span"),w(18,"File \u1ea3nh c\xf3 \u0111\u1ecbnh dang JPEG"),y()(),m(19,"div",11)(20,"a",12),H("click",function(){return i.toggleAsk()}),w(21,"Y\xeau c\u1ea7u s\u1eeda \u1ea3nh"),y()()(),m(22,"div",13)(23,"div",14)(24,"p"),w(25," \u0110\xe1nh gi\xe1 c\u1ee7a b\u1ea1n "),y()(),m(26,"div",15)(27,"div",16)(28,"div",17)(29,"span"),w(30,"Ch\u1ea5t l\u01b0\u1ee3ng: "),y(),m(31,"a",12),H("click",function(){return i.toggleDropdown()}),q(32,Ype,2,2,"ng-container",18),y(),q(33,nfe,11,5,"div",19),y(),m(34,"div",20)(35,"p"),w(36,"Vi\u1ebft \u0111\xe1nh gi\xe1"),y(),m(37,"textarea",21),H("ngModelChange",function(s){return i.comment=s}),y()(),m(38,"div",22)(39,"span"),w(40,"T\u1ed1i \u0111a 450 ch\u1eef"),y()()(),m(41,"div",23)(42,"a",24),H("click",function(){return i.toggleHideInfo()}),w(43," \u1ea8n danh "),q(44,rfe,1,0,"i",25),q(45,ife,1,0,"i",26),y(),m(46,"a",27),H("click",function(){return i.onReview()}),w(47,"\u0110\u0103ng"),y()()()()(),m(48,"div",28)(49,"div",29)(50,"div",30)(51,"div",31)(52,"h2"),A(53,"i",32),w(54,"Y\xeau c\u1ea7u s\u1eeda \u1ea3nh"),y()(),m(55,"div",33)(56,"div",34)(57,"div",35)(58,"div",36),w(59,"Nh\xe2\u0323p y\xeau c\xe2\u0300u s\u01b0\u0309a a\u0309nh"),y(),m(60,"div",37),w(61," Ch\xednh s\xe1ch y\xeau c\u1ea7u s\u1eeda \u1ea3nh "),y()(),m(62,"div",38)(63,"div",39)(64,"textarea",40),H("ngModelChange",function(s){return i.des_refund=s}),y()(),m(65,"div",41)(66,"div",42)(67,"li"),w(68,"Kh\xe1ch h\xe0ng \u0111i\u1ec1n m\xe3 \u1ea3nh \u0111\u1ed1i v\u1edbi nh\u1eefng b\u1ee9c \u1ea3nh m\xe0 m\xecnh mu\u1ed1n ch\u1ec9nh s\u1eeda"),y(),m(69,"li"),w(70,"S\u1ed1 l\u01b0\u1ee3ng b\u1ee9c \u1ea3nh \u0111\u01b0\u1ee3c s\u1eeda ph\u1ee5 thu\u1ed9c v\xe0o g\xf3i ch\u1ee5p \u1ea3nh \u0111\xe3 th\u1ecfa thu\u1eadn v\u1edbi nhi\u1ebfp \u1ea3nh gia tr\u01b0\u1edbc \u0111\xf3"),y(),m(71,"li"),w(72,"Truy c\u1eadp l\u1ea1i file nh\u1eadn \u1ea3nh \u0111\u1ec3 nh\u1eefng b\u1ee9c \u1ea3nh \u0111\xe3 \u0111\u01b0\u1ee3c ch\u1ec9nh s\u1eeda sau 2-3 ng\xe0y"),y()()()()(),m(73,"div",43),A(74,"div",44),m(75,"div",45)(76,"a",46),H("click",function(){return i.sendAsk()}),w(77,"G\u1eedi y\xeau c\u1ea7u"),y()()()(),m(78,"a",47),H("click",function(){return i.closeAsk()}),A(79,"i",48),y()()()()()),2&r){const o=wi(16);O(14),F("ngIf",""!==i.order.link_down)("ngIfElse",o),O(18),F("ngForOf",i.selectedStars),O(1),F("ngIf",i.isDropdownOpen),O(4),F("ngModel",i.comment),O(7),F("ngIf",i.isHideInfo),O(1),F("ngIf",!i.isHideInfo),O(3),F("ngClass",i.isShowAskRepair?"active":""),O(16),F("ngModel",i.des_refund)}},dependencies:[Is,Gi,ri,kr,Ns,ua,Fs],styles:[".page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{background-color:var(--color-primary);height:140px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;height:100%;padding:0 2rem;margin:0 auto}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{padding-bottom:2rem;display:flex;flex-direction:column;justify-content:flex-end}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:700;color:var(--color-light)}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-light);font-weight:100;margin:.3rem 0 0}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:300;color:var(--color-light);text-decoration:none}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:4rem 2rem;margin:0 auto}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .btn-control-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:.5rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .btn-control-wrapper[_ngcontent-%COMP%]   .btn-control[_ngcontent-%COMP%]{line-height:40px;padding:0 30px;border:2px solid var(--color-primary);border-radius:.3rem;color:#000;background-color:var(--color-light);text-decoration:none}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .btn-control-wrapper[_ngcontent-%COMP%]   .btn-control.active[_ngcontent-%COMP%]{background-color:var(--color-info);border-color:var(--color-info);color:var(--color-light)}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]{padding-top:3.5rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-content[_ngcontent-%COMP%]   .picture-item[_ngcontent-%COMP%]{width:100%}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-content[_ngcontent-%COMP%]   .picture-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .link-dow-wrapper[_ngcontent-%COMP%]{margin-top:3rem;border:2px solid black;border-radius:.3rem;height:250px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .link-dow-wrapper[_ngcontent-%COMP%]   .link-dow-content[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .link-dow-wrapper[_ngcontent-%COMP%]   .link-dow-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{line-height:50px;padding:0 70px;background-color:var(--color-info);border-color:var(--color-info);color:var(--color-light);text-decoration:none;font-size:22px;font-weight:700;border-radius:.2rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .link-dow-wrapper[_ngcontent-%COMP%]   .link-dow-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:1rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .link-dow-wrapper[_ngcontent-%COMP%]   .link-dow-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:.5rem 0}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .link-dow-wrapper[_ngcontent-%COMP%]   .link-dow-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:600}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]{padding:3rem 0}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]{border:2px solid black;border-radius:.3rem;background-color:var(--color-light);height:200px;padding:.3rem 1rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]{position:relative}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-warning)}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]   .dropdownRate[_ngcontent-%COMP%]{position:absolute;left:5rem;background-color:var(--color-light);border-radius:.3rem;box-shadow:0 0 .5rem;padding:0 5px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]   .dropdownRate[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:30px;list-style:none;color:var(--color-warning);cursor:pointer;display:block}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:4px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;border:none;outline:none;resize:none;padding:.25rem 0}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--color-light)}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--color-secondary);border-radius:4px;border:2px solid var(--color-light)}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .sub-t[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;font-size:14px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-second[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:1rem;column-gap:1rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-second[_ngcontent-%COMP%]   .btn-hide-inf[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;text-decoration:none;color:var(--color-text-body)}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-second[_ngcontent-%COMP%]   .btn-hide-inf[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:.3rem;font-size:40px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-second[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]{line-height:40px;background-color:var(--color-primary);color:var(--color-light);border-radius:.3rem;padding:0 25px;text-decoration:none}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;z-index:900}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;justify-content:center;align-items:center;position:relative}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]{height:90%;width:90%;margin:auto;background-color:var(--color-light);position:relative;transform:translateY(-200%)}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-header[_ngcontent-%COMP%]{background-color:var(--color-primary);height:120px;display:flex;justify-content:flex-start;align-items:flex-end;padding:1rem 2rem}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:var(--color-light);font-weight:500;display:flex;align-items:center}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:50px}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]{max-height:calc(100% - 120px);overflow-y:auto;position:relative}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]{padding:2rem 3rem}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .enter-code-picture[_ngcontent-%COMP%]{display:grid;column-gap:1rem;grid-template-columns:repeat(2,1fr);margin-bottom:1.5rem}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .enter-code-picture[_ngcontent-%COMP%]   .ecp-title[_ngcontent-%COMP%], .page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .enter-code-picture[_ngcontent-%COMP%]   .po-title[_ngcontent-%COMP%]{grid-column:span 1}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .repair-police[_ngcontent-%COMP%]{display:grid;column-gap:1rem;grid-template-columns:repeat(2,1fr)}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .repair-police[_ngcontent-%COMP%]   .ecp-content[_ngcontent-%COMP%]{grid-column:span 1;width:100%;height:100%}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .repair-police[_ngcontent-%COMP%]   .ecp-content[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:100%;width:100%;outline:none;border:2px solid var(--color-secondary);padding:.5rem;resize:none}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .repair-police[_ngcontent-%COMP%]   .po-content-wr[_ngcontent-%COMP%]{grid-column:span 1;padding:1rem;display:flex;justify-content:center;align-items:center;background-color:var(--color-secondary);height:100%}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-submit[_ngcontent-%COMP%]{padding:0 3rem;margin-bottom:3rem;display:flex;justify-content:space-between}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-submit[_ngcontent-%COMP%]   .rs-right[_ngcontent-%COMP%]{width:calc(50% - .5rem);height:40px;display:flex}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-submit[_ngcontent-%COMP%]   .rs-right[_ngcontent-%COMP%]   .btn-submit-repair[_ngcontent-%COMP%]{border-radius:.3rem;height:100%;background-color:var(--color-primary);color:var(--color-light);width:100%;text-align:center;text-decoration:none;line-height:40px}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .btn-close-ask[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;color:var(--color-light);font-weight:700;font-size:28px;width:25px;height:25px;border-radius:50%;display:flex;justify-content:center;align-items:center;text-decoration:none}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .btn-close-ask[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary);color:#000;transform:rotate(35deg)}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper.active[_ngcontent-%COMP%]{display:block}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper.active[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]{transform:translateY(0)}@media (min-width: 1400px){.header-content[_ngcontent-%COMP%], .page-content[_ngcontent-%COMP%], .ask-repair-content[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.page-pr-wrapper[_ngcontent-%COMP%]   .picture-content[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}"]}),e})();const sfe=["iconToggle"],afe=["searchInput"],cfe=["searchBarToggle"],lfe=["navSearch"];function ufe(t,e){1&t&&(m(0,"div",34)(1,"p"),w(2,"hk"),y(),m(3,"p"),w(4,"hk"),y(),m(5,"p"),w(6,"hk"),y(),m(7,"p"),w(8,"hk"),y()())}const dfe=function(t){return{"search-bar-block":t}};let k9=(()=>{var t;class e{constructor(r){this.eventService=r,this.isShowSearchBar=!1,this.isMenuVisible=!1,this.inputValue="",this.toggleSuggest=!1}showMenu(){this.isMenuVisible=!0,this.eventService.emitEvent("showMenuFromNavbar",this.isMenuVisible)}toggleSearch(){this.isShowSearchBar=!this.isShowSearchBar,this.isShowSearchBar&&setTimeout(()=>{this.searchInput.nativeElement.focus()}),this.inputValue="",this.toggleSuggest=!1,this.eventService.emitEvent("toggleSuggestSearch",this.toggleSuggest)}onInputChange(r){this.inputValue=r.target.value,this.toggleSuggest=""!==this.inputValue.trim(),this.eventService.emitEvent("toggleSuggestSearch",this.toggleSuggest)}closeDropdown(r){!this.searchBarToggle.nativeElement.contains(r.target)&&!this.navSearch.nativeElement.contains(r.target)&&this.isShowSearchBar&&(this.toggleSuggest=!1,this.inputValue="",this.isShowSearchBar=!1,this.eventService.emitEvent("toggleSuggestSearch",this.toggleSuggest))}}return(t=e).\u0275fac=function(r){return new(r||t)(Z(hP))},t.\u0275cmp=Tt({type:t,selectors:[["app-navbar-admin"]],viewQuery:function(r,i){if(1&r&&(sr(sfe,5),sr(afe,5),sr(cfe,5),sr(lfe,5)),2&r){let o;Zn(o=Yn())&&(i.iconToggle=o.first),Zn(o=Yn())&&(i.searchInput=o.first),Zn(o=Yn())&&(i.searchBarToggle=o.first),Zn(o=Yn())&&(i.navSearch=o.first)}},hostBindings:function(r,i){1&r&&H("click",function(s){return i.closeDropdown(s)},0,Ru)},decls:39,vars:5,consts:[[1,"navbar-container"],[1,"toggle-menu"],[1,"toggle-icon"],["href","javascript:void(0)",1,"toggle-link","nav-link",3,"click"],["iconToggle",""],[1,"bx","bx-menu","bx-sm"],[1,"navbar-content"],[1,"nav-left"],[1,"nav-search-wrapper"],["navSearch",""],[1,"nav-search-icon"],["href","javascript:void(0)",1,"search-link","nav-link",3,"click"],[1,"bx","bx-search","bx-sm"],[1,"search-placeholder"],[1,"nav-right"],[1,"language","language-dropdown","nav-item"],["href","javascript:void(0)",1,"nav-link"],[1,"bx","bx-globe","bx-sm"],[1,"nav-item"],[1,"bx","bx-grid-alt","bx-sm"],[1,"bx","bx-bell","bx-sm"],[1,"badge-notifications"],[1,"nav-item","navbar-dropdown","dropdown-user","dropdown"],["href","javascript:void(0);","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle","hide-arrow"],[1,"avatar","avatar-online"],["src","./assets/images/avatar.png","alt","",1,"w-px-40","h-auto","rounded-circle"],[1,"search-toggle",3,"ngClass"],["searchBarToggle",""],[1,"search-toggle-content"],["type","text","id","ip","placeholder","Search...",3,"value","input"],["searchInput",""],["href","javascript:void(0)",1,"nav-link","search-close",3,"click"],[1,"bx","bx-x","bx-sm"],["class","search-suggest",4,"ngIf"],[1,"search-suggest"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3,4),H("click",function(){return i.showMenu()}),A(5,"i",5),y()()(),m(6,"div",6)(7,"div",7)(8,"div",8,9)(10,"div",10)(11,"a",11),H("click",function(){return i.toggleSearch()}),A(12,"i",12),m(13,"span",13),w(14,"Search (Ctrl+/)"),y()()()()(),m(15,"div",14)(16,"li",15)(17,"a",16),A(18,"i",17),y()(),m(19,"li",18)(20,"a",16),A(21,"i",19),y()(),m(22,"li",18)(23,"a",16),A(24,"i",20),m(25,"span",21),w(26,"5"),y()()(),m(27,"li",22)(28,"a",23)(29,"div",24),A(30,"img",25),y()()()()(),m(31,"div",26,27)(33,"div",28)(34,"input",29,30),H("input",function(s){return i.onInputChange(s)}),y(),m(36,"a",31),H("click",function(){return i.toggleSearch()}),A(37,"i",32),y(),q(38,ufe,9,0,"div",33),y()()()),2&r&&(O(31),F("ngClass",Rr(3,dfe,i.isShowSearchBar)),O(3),F("value",i.inputValue),O(4),F("ngIf",i.toggleSuggest))},dependencies:[Is,ri],styles:['.nav-link[_ngcontent-%COMP%]{padding:.5rem 0;display:flex;align-items:center;text-decoration:none;color:#697a8d}.nav-item[_ngcontent-%COMP%]{list-style-type:none}.search-bar-block[_ngcontent-%COMP%]{display:block!important;opacity:1;transform:translateY(0)}.navbar-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center}.navbar-container[_ngcontent-%COMP%]   i.bx[_ngcontent-%COMP%]{padding-top:.125rem}.navbar-container[_ngcontent-%COMP%]   .toggle-menu[_ngcontent-%COMP%]{margin-right:1.2rem}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]{display:flex;flex-basis:100%}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-left[_ngcontent-%COMP%]{display:flex;align-items:center}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-left[_ngcontent-%COMP%]   .search-placeholder[_ngcontent-%COMP%]{display:none;text-wrap:nowrap;color:#a1acb8!important;opacity:1;padding-left:.25rem}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:auto!important}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{margin-right:1rem;position:relative}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .badge-notifications[_ngcontent-%COMP%]{border-radius:100%;position:absolute;top:3px;right:-7px;background-color:var(--bs-red);width:1.1rem;height:1.1rem;color:var(--bs-white);font-size:10px;display:flex;justify-content:center;align-items:center;font-weight:700}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%]   li.dropdown-user[_ngcontent-%COMP%]{margin-right:0}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%]   li.dropdown-user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:2.375rem;height:2.375rem;position:relative}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%]   li.dropdown-user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;border-radius:50%}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%]   li.dropdown-user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]:after{content:"";width:8px;height:8px;position:absolute;right:3px;bottom:0;background-color:var(--bs-success);border-radius:50%}.navbar-container[_ngcontent-%COMP%]   .search-toggle[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:var(--bs-white);padding-left:1.5rem;padding-right:.5rem;border-radius:.375rem;box-shadow:0 0 .375rem .25rem #a1acb826;display:none}.navbar-container[_ngcontent-%COMP%]   .search-toggle[_ngcontent-%COMP%]   .search-toggle-content[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%}.navbar-container[_ngcontent-%COMP%]   .search-toggle[_ngcontent-%COMP%]   .search-toggle-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:0!important;outline:none!important;font-family:var(--bs-body-font-family);font-size:var(--bs-body-font-size);font-weight:var(--bs-body-font-weight);color:var(--bs-body-color);opacity:1}.navbar-container[_ngcontent-%COMP%]   .search-toggle[_ngcontent-%COMP%]   .search-toggle-content[_ngcontent-%COMP%]   .search-close[_ngcontent-%COMP%]{margin-left:auto;margin-right:.5rem}.navbar-container[_ngcontent-%COMP%]   .search-toggle[_ngcontent-%COMP%]   .search-toggle-content[_ngcontent-%COMP%]   .search-suggest[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 3px);left:0;right:0;background-color:var(--bs-white);border-radius:.375rem;box-shadow:0 0 .375rem .25rem #a1acb826}@media (min-width: 1200px){.navbar-container[_ngcontent-%COMP%]   .toggle-menu[_ngcontent-%COMP%]{display:none}}@media (min-width: 768px){.search-placeholder[_ngcontent-%COMP%]{display:inline-block!important}}']}),e})(),hfe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tt({type:t,selectors:[["app-footer-admin"]],decls:2,vars:0,template:function(r,i){1&r&&(m(0,"p"),w(1,"footer-admin works!"),y())}}),e})(),pfe=(()=>{var t;class e{constructor(r){this.eventService=r,this.isShow=!1}toggleMenuDropdown(){this.isShow=!this.isShow}hideMenu(){this.eventService.emitEvent("hideMenuFromIconClose",!1)}}return(t=e).\u0275fac=function(r){return new(r||t)(Z(hP))},t.\u0275cmp=Tt({type:t,selectors:[["app-menu-admin"]],decls:38,vars:1,consts:[[1,"layout-menu"],[1,"brand-wrapper"],["routerLink","/admin/home",1,"brand-link"],["src","./assets/images/logo2.png","alt","logo",1,"brand-img"],[1,"brand-text"],["href","javascript:void(0)",1,"btn-close-menu",3,"click"],[1,"bx","bx-chevron-left","bx-sm","align-middle"],[1,"menu-container"],[1,"menu-content"],[1,"menu-list"],[1,"menu-item"],["routerLink","/admin/home",1,"menu-link"],[1,"menu-icon","bx","bx-home-circle"],[1,"text-truncate"],[1,"menu-item","menu-dropdown",3,"ngClass","click"],["href","javascript:void(0)",1,"menu-link"],[1,"menu-icon","bx","bx-list-ul"],[1,"menu-dropdown-list"],[1,"menu-dropdown-item"],["routerLink","/admin/order",1,"menu-dropdown-link"],[1,"menu-icon","bx","bxs-circle"],["routerLink","/admin/order-accept",1,"menu-dropdown-link"],["routerLink","",1,"menu-link"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"a",2),A(3,"img",3),m(4,"span",4),w(5,"PhotoHub"),y()(),m(6,"a",5),H("click",function(){return i.hideMenu()}),A(7,"i",6),y()(),m(8,"div",7)(9,"div",8)(10,"ul",9)(11,"li",10)(12,"a",11),A(13,"i",12),m(14,"div",13),w(15,"Trang ch\u1ee7"),y()()(),m(16,"li",14),H("click",function(){return i.toggleMenuDropdown()}),m(17,"a",15),A(18,"i",16),m(19,"div",13),w(20,"Qu\u1ea3n l\xfd booking"),y()(),m(21,"ul",17)(22,"li",18)(23,"a",19),A(24,"i",20),m(25,"div",13),w(26,"Danh s\xe1ch booking"),y()()(),m(27,"li",18)(28,"a",21),A(29,"i",20),m(30,"div",13),w(31,"Duy\u1ec7t booking"),y()()()()(),m(32,"li",10),A(33,"a",22),y(),m(34,"li",10),A(35,"a",22),y(),m(36,"li",10),A(37,"a",22),y()()()()()),2&r&&(O(16),F("ngClass",i.isShow?"show":""))},dependencies:[Is,kr],styles:['.layout-menu[_ngcontent-%COMP%]{width:100%;position:relative}.layout-menu[_ngcontent-%COMP%]   .brand-wrapper[_ngcontent-%COMP%]{position:relative;padding:0 2rem;display:flex;align-items:center;margin-top:2rem;margin-bottom:1rem}.layout-menu[_ngcontent-%COMP%]   .brand-wrapper[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]{color:#566a7f;text-decoration:none;display:flex;align-items:center}.layout-menu[_ngcontent-%COMP%]   .brand-wrapper[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]   .brand-img[_ngcontent-%COMP%]{height:40px;width:40px;object-fit:cover;border-radius:50%}.layout-menu[_ngcontent-%COMP%]   .brand-wrapper[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]   .brand-text[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700!important;opacity:1;margin-left:.75rem}.layout-menu[_ngcontent-%COMP%]   .brand-wrapper[_ngcontent-%COMP%]   .btn-close-menu[_ngcontent-%COMP%]{position:absolute;right:-10px;background-color:var(--bs-dark);color:var(--bs-white);font-weight:700;border-radius:50%;width:26px;height:26px}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]{margin:0;padding:0}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{display:block}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]{display:block;margin:0 1rem;padding:0 1rem;line-height:2.5rem;text-decoration:none;color:var(--bs-body-color);font-weight:600;display:flex;justify-content:flex-start;align-items:center}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{width:1.5rem;flex-grow:0;flex-shrink:0;margin-right:.5rem;font-size:1.25rem}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]{margin:0;padding:0;display:none}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-item[_ngcontent-%COMP%]{display:block}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-item[_ngcontent-%COMP%]   .menu-dropdown-link[_ngcontent-%COMP%]{position:relative;display:block;margin:0 1rem;padding:0 1rem 0 2rem;line-height:2.5rem;text-decoration:none;color:var(--bs-body-color);font-weight:600;display:flex;justify-content:flex-start;align-items:center}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-item[_ngcontent-%COMP%]   .menu-dropdown-link[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{width:1.5rem;flex-grow:0;flex-shrink:0;margin-right:.5rem;font-size:.75rem}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-link[_ngcontent-%COMP%]{padding-left:3rem}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-link[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{font-size:.5rem}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item.menu-dropdown[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]{position:relative}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item.menu-dropdown[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;display:block;width:.42em;height:.42em;border:1px solid;border-bottom:0;right:.5rem;border-left:0;transform:translateY(-50%) rotate(45deg)}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown-item.menu-dropdown[_ngcontent-%COMP%] > .menu-dropdown-link[_ngcontent-%COMP%]{position:relative}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown-item.menu-dropdown[_ngcontent-%COMP%] > .menu-dropdown-link[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;display:block;width:.42em;height:.42em;border:1px solid;border-bottom:0;right:.5rem;border-left:0;transform:translateY(-50%) rotate(45deg)}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown.show[_ngcontent-%COMP%] > .menu-dropdown-list[_ngcontent-%COMP%]{display:block!important}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown.show[_ngcontent-%COMP%] > .menu-link[_ngcontent-%COMP%]:after{transform:translateY(-50%) rotate(135deg)!important}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown.show[_ngcontent-%COMP%] > .menu-dropdown-link[_ngcontent-%COMP%]:after{transform:translateY(-50%) rotate(135deg)!important}@media (max-width: 1199.98px){.brand-wrapper[_ngcontent-%COMP%]:before{content:"";position:absolute;right:-16px;width:38px;height:38px;background-color:var(--bs-body-bg);border-radius:50%}}@media (min-width: 1200px){.brand-wrapper[_ngcontent-%COMP%]   .btn-close-menu[_ngcontent-%COMP%]{display:none!important}}']}),e})();const ffe=["layoutMenu"],gfe=function(t){return{"layout-menu-toggle":t}},_fe=function(t,e){return{"layout-overlay-toggle":t,"layout-overlay-increase-zindex":e}};let mfe=(()=>{var t;class e{constructor(r){this.eventService=r,this.isShowOverlay=!1,this.isShowMenu=!1}ngOnInit(){this.eventService.registerEvent("toggleSuggestSearch").subscribe(r=>{this.isShowOverlay=r}),this.eventService.registerEvent("showMenuFromNavbar").subscribe(r=>{this.isShowMenu=r,this.isShowOverlay=r}),this.eventService.registerEvent("hideMenuFromIconClose").subscribe(r=>{this.isShowMenu=r,this.isShowOverlay=r})}closeDropdown(r){const i=this.navbar?.iconToggle.nativeElement;!this.layoutMenu.nativeElement.contains(r.target)&&!i.contains(r.target)&&this.isShowMenu&&(this.isShowMenu=!1,this.isShowOverlay=!1)}}return(t=e).\u0275fac=function(r){return new(r||t)(Z(hP))},t.\u0275cmp=Tt({type:t,selectors:[["app-layout-admin"]],viewQuery:function(r,i){if(1&r&&(sr(k9,5),sr(ffe,5)),2&r){let o;Zn(o=Yn())&&(i.navbar=o.first),Zn(o=Yn())&&(i.layoutMenu=o.first)}},hostBindings:function(r,i){1&r&&H("click",function(s){return i.closeDropdown(s)},0,Ru)},decls:14,vars:7,consts:[[1,"layout-wrapper"],[1,"layout-container"],[1,"layout-menu",3,"ngClass"],["layoutMenu",""],[1,"layout-page"],[1,"layout-navbar"],[1,"content-wrapper"],[1,"content-container"],[1,"layout-footer"],[1,"layout-overlay",3,"ngClass"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2,3),A(4,"app-menu-admin"),y(),m(5,"div",4)(6,"div",5),A(7,"app-navbar-admin"),y(),m(8,"div",6)(9,"div",7),A(10,"router-outlet"),y(),m(11,"div",8),A(12,"app-footer-admin"),y()()()(),A(13,"div",9),y()),2&r&&(O(2),F("ngClass",Rr(2,gfe,i.isShowMenu)),O(11),F("ngClass",nV(4,_fe,i.isShowOverlay,i.isShowMenu)))},dependencies:[Is,ul,hfe,pfe,k9],styles:["[_ngcontent-%COMP%]:root{font-size:var(--bs-root-font-size)}@media (prefers-reduced-motion: no-preference){[_ngcontent-%COMP%]:root{scroll-behavior:smooth}}body[_ngcontent-%COMP%]{margin:0;font-family:var(--bs-body-font-family);font-size:var(--bs-body-font-size);font-weight:var(--bs-body-font-weight);line-height:var(--bs-body-line-height);color:var(--bs-body-color);text-align:var(--bs-body-text-align);background-color:var(--bs-body-bg);-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(67,89,113,0)}.bg-light[_ngcontent-%COMP%]{background-color:var(--bs-white)}.layout-overlay-toggle[_ngcontent-%COMP%]{display:block!important}.layout-overlay-increase-zindex[_ngcontent-%COMP%]{z-index:1050!important}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]{display:flex;align-items:stretch}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-menu[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;width:16.25rem;background-color:var(--bs-white);box-shadow:0 .125rem .375rem #a1acb81f;z-index:1080}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]{width:100%;padding:4.625rem 0 0}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]   .layout-navbar[_ngcontent-%COMP%]{position:fixed;top:0;right:0;left:16.25rem;padding:0 1.5rem;margin:.75rem auto 0;width:calc(100% - 19.5rem);height:3.875rem;background-color:var(--bs-white);border-radius:.375rem;box-shadow:0 0 .375rem .25rem #a1acb826;z-index:1024}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding-left:16.25rem;margin-top:0}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{min-height:calc(100vh - 4.625rem);margin:0 auto;padding:1.675rem 1.675rem 0}.layout-wrapper[_ngcontent-%COMP%]   .layout-overlay[_ngcontent-%COMP%]{position:fixed;top:0;right:0;height:100%!important;left:0;display:none;background:#435971;opacity:.5;cursor:pointer;z-index:999}@media (max-width: 1199.98px){.layout-menu-toggle[_ngcontent-%COMP%]{transform:translateZ(0)!important}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-menu[_ngcontent-%COMP%]{position:fixed!important;top:0;left:0;transition:transform .5s ease;transform:translate3d(-200%,0,0);will-change:transform -webkit-transform}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]{width:100%}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]   .layout-navbar[_ngcontent-%COMP%]{left:0;width:calc(100% - 3.25rem)}}@media (min-width: 1400px){.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]   .layout-navbar[_ngcontent-%COMP%]{max-width:calc(1440px - 3.35rem)}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{max-width:1440px}}"]}),e})(),yfe=(()=>{var t;class e{constructor(r){this.fileStorage=r}onChangeFile(r){this.file=r.target.files[0],this.file&&console.log(this.file)}onUpload(){var r=this;return(0,x.Z)(function*(){const i=`yt/${r.file.name}`,s=yield(yield r.fileStorage.upload(i,r.file)).ref.getDownloadURL();console.log(s)})()}}return(t=e).\u0275fac=function(r){return new(r||t)(Z(dP))},t.\u0275cmp=Tt({type:t,selectors:[["app-test1"]],decls:5,vars:0,consts:[["for","ig1"],["type","file","name","image","id","ig1",3,"change"],["type","button",3,"click"]],template:function(r,i){1&r&&(m(0,"label",0),w(1,"Upload"),y(),m(2,"input",1),H("change",function(s){return i.onChangeFile(s)}),y(),m(3,"button",2),H("click",function(){return i.onUpload()}),w(4,"Up"),y())}}),e})();function vfe(t,e){if(1&t){const n=Kn();m(0,"a",20),H("click",function(){Bt(n);const i=Re().$implicit;return Vt(Re().onAccept(i.id))}),w(1," Tra\u0309 a\u0309nh "),y()}}function Cfe(t,e){if(1&t){const n=Kn();m(0,"a",20),H("click",function(){Bt(n);const i=Re().$implicit;return Vt(Re().onRepair(i.id))}),w(1," S\u01b0\u0309a link "),y()}}function wfe(t,e){if(1&t){const n=Kn();m(0,"tr",15)(1,"td",16),w(2),y(),m(3,"td",16),w(4),y(),m(5,"td",16),w(6),y(),m(7,"td",16),w(8),y(),m(9,"td",17)(10,"input",18),H("ngModelChange",function(i){return Vt(Bt(n).$implicit.link_down=i)}),y(),m(11,"p"),w(12),y()(),m(13,"td",16),q(14,vfe,2,0,"a",19),q(15,Cfe,2,0,"a",19),y()()}if(2&t){const n=e.$implicit,r=e.index,i=Re();O(2),Ne(r+1),O(2),Ne(n.code),O(2),Ne(n.cust_name),O(2),Ne(n.order_date),O(2),F("ngModel",n.link_down),O(2),Ne(i.linkText),O(2),F("ngIf","da_duyet"===n.status),O(1),F("ngIf","da_tra"===n.status||"yc_sua"===n.status)}}const N9=function(t){return["/partner",t]};let Pfe=(()=>{var t;class e{constructor(r,i,o){this.router=r,this.route=i,this.orderService=o,this.orders=[],this.linkText="",this.isShowAskRepair=!1,this.isDropdownOpen=!1,this.route.params.subscribe(s=>{const a=s.id;a?this.partnerId=parseInt(a,10):console.error("ID not found in URL")})}ngOnInit(){var r=this;this.route.params.subscribe(function(){var i=(0,x.Z)(function*(o){const s=o.id;if(s){const a=parseInt(s,10);r.orders=yield r.orderService.getOrderByPartnerId(a),r.orders=r.orders.filter(c=>"da_duyet"===c.status||"da_tra"===c.status||"yc_sua"===c.status)}else console.error("ID not found in URL")});return function(o){return i.apply(this,arguments)}}())}onAccept(r){var i=this;return(0,x.Z)(function*(){var o=i.orders.find(a=>a.id===r);o&&(""!==o.link_down?(o.status="da_tra",(yield i.orderService.updateOrder(o))?(window.alert("Tra\u0309 a\u0309nh tha\u0300nh c\xf4ng"),i.orders=yield i.orderService.getOrderByPartnerId(i.partnerId)):window.alert("Kh\xf4ng tha\u0300nh c\xf4ng")):window.alert("Vui lo\u0300ng \u0111i\xea\u0300n link"))})()}onRepair(r){var i=this;return(0,x.Z)(function*(){var o=i.orders.find(a=>a.id===r);o&&(""!==o.link_down?(yield i.orderService.updateOrder(o))?(window.alert("Tra\u0309 a\u0309nh tha\u0300nh c\xf4ng"),i.orders=yield i.orderService.getOrderByPartnerId(i.partnerId)):window.alert("Kh\xf4ng tha\u0300nh c\xf4ng"):window.alert("Vui lo\u0300ng \u0111i\xea\u0300n link"))})()}toggleAsk(){this.isShowAskRepair=!this.isShowAskRepair}closeAsk(){this.isShowAskRepair=!1}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen}}return(t=e).\u0275fac=function(r){return new(r||t)(Z(mr),Z(Ts),Z(Ol))},t.\u0275cmp=Tt({type:t,selectors:[["app-warehouse-picture"]],decls:34,vars:7,consts:[[1,"page-pr-wrapper"],[1,"page-header"],[1,"header-content"],[1,"header-left"],[3,"routerLink"],[1,"bx","bx-left-arrow-alt"],[1,"header-right"],[1,"bx","bx-chevron-left"],[1,"page-content"],[1,"list-order-wrapper"],[1,"table-wrapper"],[1,"table"],[1,"col-header"],[1,"row-header"],["class","col-content",4,"ngFor","ngForOf"],[1,"col-content"],[1,"row-content"],[1,"row-content","row-link-down"],["type","text","name","link_down","id","","placeholder","Nh\xe2\u0323p link a\u0309nh",3,"ngModel","ngModelChange"],["href","javascript:void(0)","class","btn btn-accept",3,"click",4,"ngIf"],["href","javascript:void(0)",1,"btn","btn-accept",3,"click"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2")(5,"a",4),A(6,"i",5),y(),w(7," Kho tra\u0309 a\u0309nh kha\u0301ch ha\u0300ng "),y(),m(8,"p"),w(9,"Nhi\xea\u0301p a\u0309nh gia tra\u0309 a\u0309nh cho kha\u0301ch ha\u0300ng cu\u0309a mi\u0300nh ta\u0323i \u0111\xe2y."),y()(),m(10,"div",6)(11,"a",4),A(12,"i",7),w(13,"Quay la\u0323i"),y()()()(),m(14,"div",8)(15,"div",9)(16,"div",10)(17,"table",11)(18,"thead")(19,"tr",12)(20,"th",13),w(21,"#"),y(),m(22,"th",13),w(23,"Ma\u0303 a\u0309nh"),y(),m(24,"th",13),w(25,"T\xean kh\xe1ch"),y(),m(26,"th",13),w(27,"Nga\u0300y chu\u0323p"),y(),m(28,"th",13),w(29,"Link ta\u0309i a\u0309nh"),y(),m(30,"th",13),w(31,"Tr\u1ea1ng th\xe1i"),y()()(),m(32,"tbody"),q(33,wfe,16,8,"tr",14),y()()()()()()),2&r&&(O(5),F("routerLink",Rr(3,N9,i.partnerId)),O(6),F("routerLink",Rr(5,N9,i.partnerId)),O(22),F("ngForOf",i.orders))},dependencies:[Gi,ri,kr,Ns,ua,Fs],styles:[".page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{background-color:var(--color-light);height:140px;position:fixed;top:0;left:0;right:0;box-shadow:0 3px 3px #a4a4a433}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;height:100%;padding:0 2rem;margin:0 auto}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{padding-bottom:2rem;display:flex;flex-direction:column;justify-content:flex-end}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:700;color:var(--color-primary);display:flex;align-items:center}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-primary);text-decoration:none;margin-right:1rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-primary);padding-left:2.5rem;margin:.3rem 0 0}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-primary);text-decoration:none;font-weight:600;display:flex;align-items:center}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:2rem;margin:140px auto 0}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{width:100%;max-width:100%;overflow-x:auto;position:relative}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;height:12px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cccccc;border-radius:6px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#bbbbbb}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border:1px solid #ddd}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:transparent}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], .page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-color:inherit;border-style:solid;border-width:0}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr.col-header[_ngcontent-%COMP%]{background-color:#f2f2f2;font-weight:700}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr.col-header[_ngcontent-%COMP%]   th.row-header[_ngcontent-%COMP%], .page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td.row-content[_ngcontent-%COMP%]{padding:.625rem 1.25rem;text-align:left;white-space:nowrap}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.btn-accept[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:6px 12px;border:none;border-radius:4px;text-align:center;text-decoration:none;display:inline-block;cursor:pointer}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.btn-accept[_ngcontent-%COMP%]:hover{background-color:#45a049}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td.row-link-down[_ngcontent-%COMP%]{display:flex;align-items:center}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td.row-link-down[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;padding:8px 12px;border-radius:4px;background-color:#f8f8f8;border:1px solid #f2f2f2;width:100%}@media (min-width: 1400px){.header-content[_ngcontent-%COMP%], .page-content[_ngcontent-%COMP%]{max-width:1440px}}"]}),e})();function Mfe(t,e){if(1&t){const n=Kn();m(0,"a",22),H("click",function(){Bt(n);const i=Re().$implicit;return Vt(Re(2).onConfirm(i.id))}),w(1," Xa\u0301c nh\xe2\u0323n "),y()}}function Efe(t,e){if(1&t){const n=Kn();m(0,"tr",17)(1,"td",18),w(2),y(),m(3,"td",18),w(4),y(),m(5,"td",18),w(6),y(),m(7,"td",18),w(8),y(),m(9,"td",18),w(10),y(),m(11,"td",19)(12,"input",20),H("ngModelChange",function(i){return Vt(Bt(n).$implicit.link_down=i)}),y(),m(13,"p"),w(14),y()(),m(15,"td",18),q(16,Mfe,2,0,"a",21),y()()}if(2&t){const n=e.$implicit,r=e.index,i=Re(2);O(2),Ne(r+1),O(2),Ne(n.code),O(2),Ne(n.cust_name),O(2),Ne(n.order_date),O(2),Ne(n.des_refund),O(2),F("ngModel",n.link_down),O(2),Ne(i.linkText),O(2),F("ngIf","yc_sua"===n.status)}}function Ofe(t,e){if(1&t&&(ht(0),m(1,"div",12)(2,"table",13)(3,"thead")(4,"tr",14)(5,"th",15),w(6,"#"),y(),m(7,"th",15),w(8,"Ma\u0303 a\u0309nh"),y(),m(9,"th",15),w(10,"T\xean kh\xe1ch"),y(),m(11,"th",15),w(12,"Nga\u0300y chu\u0323p"),y(),m(13,"th",15),w(14,"N\xf4\u0323i dung y\xeau c\xe2\u0300u"),y(),m(15,"th",15),w(16,"Link ta\u0309i a\u0309nh"),y(),m(17,"th",15),w(18,"Tr\u1ea1ng th\xe1i"),y()()(),m(19,"tbody"),q(20,Efe,17,8,"tr",16),y()()(),pt()),2&t){const n=Re();O(20),F("ngForOf",n.orders)}}function Ife(t,e){1&t&&(m(0,"div",23)(1,"h4"),w(2,"Kh\xf4ng co\u0301 y\xeau c\xe2\u0300u s\u01b0\u0309a na\u0300o."),y()())}const F9=function(t){return["/partner",t]},bfe=[{path:"",component:xhe,children:lhe},{path:"collection",component:D9,children:uhe},{path:"auth",component:YT,children:dhe},{path:"contact",component:YT,children:[{path:"",component:Jhe,title:"Contact send"}]},{path:"refund-picture",component:YT,children:[{path:"",component:qpe,title:"Refund pictures"}]},{path:"profile/:id",component:R9,children:[{path:"",component:$pe,title:"Profile"}]},{path:"user",component:D9,children:hhe},{path:"refund-pc/:id",component:ofe},{path:"partner/:id",component:R9,children:phe},{path:"ware-house-picture/:id",component:Pfe},{path:"ware-house-repair/:id",component:(()=>{var t;class e{constructor(r,i,o){this.router=r,this.route=i,this.orderService=o,this.orders=[],this.linkText="",this.isShowAskRepair=!1,this.isDropdownOpen=!1,this.route.params.subscribe(s=>{const a=s.id;a?this.partnerId=parseInt(a,10):console.error("ID not found in URL")})}ngOnInit(){var r=this;this.route.params.subscribe(function(){var i=(0,x.Z)(function*(o){const s=o.id;if(s){const a=parseInt(s,10);r.loadData(a)}else console.error("ID not found in URL")});return function(o){return i.apply(this,arguments)}}())}loadData(r){var i=this;return(0,x.Z)(function*(){i.orders=yield i.orderService.getOrderByPartnerId(r),i.orders=i.orders.filter(o=>"yc_sua"===o.status)})()}onConfirm(r){var i=this;return(0,x.Z)(function*(){var o=i.orders.find(a=>a.id===r);if(o){o.status="da_tra";var s=yield i.orderService.updateOrder(o);s?(window.alert("Xa\u0301c nh\xe2\u0323n tha\u0300nh c\xf4ng"),i.loadData(s.partner_id)):window.alert("l\xf4\u0303i h\xea\u0323 th\xf4\u0301ng")}})()}toggleAsk(){this.isShowAskRepair=!this.isShowAskRepair}closeAsk(){this.isShowAskRepair=!1}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen}}return(t=e).\u0275fac=function(r){return new(r||t)(Z(mr),Z(Ts),Z(Ol))},t.\u0275cmp=Tt({type:t,selectors:[["app-warehouse-repair"]],decls:19,vars:8,consts:[[1,"page-pr-wrapper"],[1,"page-header"],[1,"header-content"],[1,"header-left"],[3,"routerLink"],[1,"bx","bx-left-arrow-alt"],[1,"header-right"],[1,"bx","bx-chevron-left"],[1,"page-content"],[1,"list-order-wrapper"],[4,"ngIf","ngIfElse"],["elseBlock",""],[1,"table-wrapper"],[1,"table"],[1,"col-header"],[1,"row-header"],["class","col-content",4,"ngFor","ngForOf"],[1,"col-content"],[1,"row-content"],[1,"row-content","row-link-down"],["type","text","name","link_down","id","","placeholder","Nh\xe2\u0323p link a\u0309nh",3,"ngModel","ngModelChange"],["href","javascript:void(0)","class","btn btn-accept",3,"click",4,"ngIf"],["href","javascript:void(0)",1,"btn","btn-accept",3,"click"],[1,"empty-row"]],template:function(r,i){if(1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2")(5,"a",4),A(6,"i",5),y(),w(7," Y\xeau c\xe2\u0300u s\u01b0\u0309a a\u0309nh cu\u0309a kha\u0301ch ha\u0300ng "),y(),m(8,"p"),w(9,"Nhi\xea\u0301p a\u0309nh gia xa\u0301c nh\xe2\u0323n \u0111a\u0303 s\u01b0\u0309a a\u0309nh theo y\xeau c\xe2\u0300u cu\u0309a kha\u0301ch ha\u0300ng."),y()(),m(10,"div",6)(11,"a",4),A(12,"i",7),w(13,"Quay la\u0323i"),y()()()(),m(14,"div",8)(15,"div",9),q(16,Ofe,21,1,"ng-container",10),q(17,Ife,3,0,"ng-template",null,11,Pi),y()()()),2&r){const o=wi(18);O(5),F("routerLink",Rr(4,F9,i.partnerId)),O(6),F("routerLink",Rr(6,F9,i.partnerId)),O(5),F("ngIf",i.orders.length>0)("ngIfElse",o)}},dependencies:[Gi,ri,kr,Ns,ua,Fs],styles:[".page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{background-color:var(--color-light);height:140px;position:fixed;top:0;left:0;right:0;box-shadow:0 3px 3px #a4a4a433}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;height:100%;padding:0 2rem;margin:0 auto}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{padding-bottom:2rem;display:flex;flex-direction:column;justify-content:flex-end}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:700;color:var(--color-primary);display:flex;align-items:center}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-primary);text-decoration:none;margin-right:1rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-primary);padding-left:2.5rem;margin:.3rem 0 0}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-primary);text-decoration:none;font-weight:600;display:flex;align-items:center}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:2rem;margin:140px auto 0}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{width:100%;max-width:100%;overflow-x:auto;position:relative}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;height:12px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cccccc;border-radius:6px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#bbbbbb}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border:1px solid #ddd}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:transparent}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], .page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-color:inherit;border-style:solid;border-width:0}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr.col-header[_ngcontent-%COMP%]{background-color:#f2f2f2;font-weight:700}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr.col-header[_ngcontent-%COMP%]   th.row-header[_ngcontent-%COMP%], .page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td.row-content[_ngcontent-%COMP%]{padding:.625rem 1.25rem;text-align:left;white-space:nowrap}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.btn-accept[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:6px 12px;border:none;border-radius:4px;text-align:center;text-decoration:none;display:inline-block;cursor:pointer}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.btn-accept[_ngcontent-%COMP%]:hover{background-color:#45a049}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td.row-link-down[_ngcontent-%COMP%]{display:flex;align-items:center}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td.row-link-down[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;padding:8px 12px;border-radius:4px;background-color:#f8f8f8;border:1px solid #f2f2f2;width:100%}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .empty-row[_ngcontent-%COMP%]{text-align:center}@media (min-width: 1400px){.header-content[_ngcontent-%COMP%], .page-content[_ngcontent-%COMP%]{max-width:1440px}}"]}),e})()},{path:"admin",component:mfe,children:fhe},{path:"test",component:yfe}];let Tfe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Gn({type:t}),t.\u0275inj=ir({imports:[v5.forRoot(bfe),v5]}),e})(),Afe=(()=>{var t;class e{constructor(){this.title="photohub"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tt({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&A(0,"router-outlet")},dependencies:[ul]}),e})();class pP{}class fP{}class fa{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof fa?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new fa;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof fa?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(n);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class Dfe{encodeKey(e){return L9(e)}encodeValue(e){return L9(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const xfe=/%(\d[a-f0-9])/gi,Rfe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function L9(t){return encodeURIComponent(t).replace(xfe,(e,n)=>Rfe[n]??e)}function gP(t){return`${t}`}class Il{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Dfe,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Sfe(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(gP):[gP(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new Il({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(gP(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(gP(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class kfe{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function V9(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function U9(t){return typeof Blob<"u"&&t instanceof Blob}function B9(t){return typeof FormData<"u"&&t instanceof FormData}class Lm{constructor(e,n,r,i){let o;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Nfe(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new fa),this.context||(this.context=new kfe),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new Il,this.urlWithParams=n}serializeBody(){return null===this.body?null:V9(this.body)||U9(this.body)||B9(this.body)||function Ffe(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Il?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||B9(this.body)?null:U9(this.body)?this.body.type||null:V9(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Il?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const h=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((f,_)=>f.set(_,e.setHeaders[_]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((f,_)=>f.set(_,e.setParams[_]),l)),new Lm(n,r,o,{params:l,headers:c,context:h,reportProgress:a,responseType:i,withCredentials:s})}}var Bp=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Bp||{});class QT{constructor(e,n=200,r="OK"){this.headers=e.headers||new fa,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class XT extends QT{constructor(e={}){super(e),this.type=Bp.ResponseHeader}clone(e={}){return new XT({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class jp extends QT{constructor(e={}){super(e),this.type=Bp.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new jp({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class j9 extends QT{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function JT(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Lfe=(()=>{var t;class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof Lm)s=r;else{let l,h;l=o.headers instanceof fa?o.headers:new fa(o.headers),o.params&&(h=o.params instanceof Il?o.params:new Il({fromObject:o.params})),s=new Lm(r,i,void 0!==o.body?o.body:null,{headers:l,context:o.context,params:h,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const a=Q(s).pipe(op(l=>this.handler.handle(l)));if(r instanceof Lm||"events"===o.observe)return a;const c=a.pipe(rs(l=>l instanceof jp));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(me(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(me(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(me(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return c.pipe(me(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:(new Il).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,JT(o,i))}post(r,i,o={}){return this.request("POST",r,JT(o,i))}put(r,i,o={}){return this.request("PUT",r,JT(o,i))}}return(t=e).\u0275fac=function(r){return new(r||t)(oe(pP))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),e})();function z9(t,e){return e(t)}function Ufe(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const jfe=new ge(""),Vm=new ge(""),W9=new ge("");function $fe(){let t=null;return(e,n)=>{null===t&&(t=(Pe(jfe,{optional:!0})??[]).reduceRight(Ufe,z9));const r=Pe(g0),i=r.add();return t(e,n).pipe(x_(()=>r.remove(i)))}}let G9=(()=>{var t;class e extends pP{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=Pe(g0)}handle(r){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(Vm),...this.injector.get(W9,[])]));this.chain=o.reduceRight((s,a)=>function Bfe(t,e,n){return(r,i)=>n.runInContext(()=>e(r,o=>t(o,i)))}(s,a,this.injector),z9)}const i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(x_(()=>this.pendingTasks.remove(i)))}}return(t=e).\u0275fac=function(r){return new(r||t)(oe(fP),oe(Mo))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),e})();const Gfe=/^\)\]\}',?\n/;let K9=(()=>{var t;class e{constructor(r){this.xhrFactory=r}handle(r){if("JSONP"===r.method)throw new te(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?R(i.\u0275loadImpl()):Q(null)).pipe(et(()=>new at(s=>{const a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((T,V)=>a.setRequestHeader(T,V.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const T=r.detectContentTypeHeader();null!==T&&a.setRequestHeader("Content-Type",T)}if(r.responseType){const T=r.responseType.toLowerCase();a.responseType="json"!==T?T:"text"}const c=r.serializeBody();let l=null;const h=()=>{if(null!==l)return l;const T=a.statusText||"OK",V=new fa(a.getAllResponseHeaders()),N=function qfe(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(a)||r.url;return l=new XT({headers:V,status:a.status,statusText:T,url:N}),l},f=()=>{let{headers:T,status:V,statusText:N,url:W}=h(),z=null;204!==V&&(z=typeof a.response>"u"?a.responseText:a.response),0===V&&(V=z?200:0);let fe=V>=200&&V<300;if("json"===r.responseType&&"string"==typeof z){const Ie=z;z=z.replace(Gfe,"");try{z=""!==z?JSON.parse(z):null}catch(ct){z=Ie,fe&&(fe=!1,z={error:ct,text:z})}}fe?(s.next(new jp({body:z,headers:T,status:V,statusText:N,url:W||void 0})),s.complete()):s.error(new j9({error:z,headers:T,status:V,statusText:N,url:W||void 0}))},_=T=>{const{url:V}=h(),N=new j9({error:T,status:a.status||0,statusText:a.statusText||"Unknown Error",url:V||void 0});s.error(N)};let v=!1;const M=T=>{v||(s.next(h()),v=!0);let V={type:Bp.DownloadProgress,loaded:T.loaded};T.lengthComputable&&(V.total=T.total),"text"===r.responseType&&a.responseText&&(V.partialText=a.responseText),s.next(V)},b=T=>{let V={type:Bp.UploadProgress,loaded:T.loaded};T.lengthComputable&&(V.total=T.total),s.next(V)};return a.addEventListener("load",f),a.addEventListener("error",_),a.addEventListener("timeout",_),a.addEventListener("abort",_),r.reportProgress&&(a.addEventListener("progress",M),null!==c&&a.upload&&a.upload.addEventListener("progress",b)),a.send(c),s.next({type:Bp.Sent}),()=>{a.removeEventListener("error",_),a.removeEventListener("abort",_),a.removeEventListener("load",f),a.removeEventListener("timeout",_),r.reportProgress&&(a.removeEventListener("progress",M),null!==c&&a.upload&&a.upload.removeEventListener("progress",b)),a.readyState!==a.DONE&&a.abort()}})))}}return(t=e).\u0275fac=function(r){return new(r||t)(oe(z3))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),e})();const eA=new ge("XSRF_ENABLED"),Z9=new ge("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Y9=new ge("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Q9{}let Yfe=(()=>{var t;class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=k3(r,this.cookieName),this.lastCookieString=r),this.lastToken}}return(t=e).\u0275fac=function(r){return new(r||t)(oe(Io),oe(Eo),oe(Z9))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),e})();function Qfe(t,e){const n=t.url.toLowerCase();if(!Pe(eA)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=Pe(Q9).getToken(),i=Pe(Y9);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var bl=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(bl||{});function id(t,e){return{\u0275kind:t,\u0275providers:e}}function Xfe(...t){const e=[Lfe,K9,G9,{provide:pP,useExisting:G9},{provide:fP,useExisting:K9},{provide:Vm,useValue:Qfe,multi:!0},{provide:eA,useValue:!0},{provide:Q9,useClass:Yfe}];for(const n of t)e.push(...n.\u0275providers);return function RO(t){return{\u0275providers:t}}(e)}const X9=new ge("LEGACY_INTERCEPTOR_FN");let ege=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Gn({type:t}),t.\u0275inj=ir({providers:[Xfe(id(bl.LegacyInterceptors,[{provide:X9,useFactory:$fe},{provide:Vm,useExisting:X9,multi:!0}]))]}),e})();class Um{constructor(e){return e}}class J9{constructor(){return(0,Be.getApps)()}}const tA=new ge("angularfire2._apps"),age={provide:Um,useFactory:function sge(t){return t&&1===t.length?t[0]:new Um((0,Be.getApp)())},deps:[[new p,tA]]},cge={provide:J9,deps:[[new p,tA]]};function lge(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Um(r)}}let uge=(()=>{var t;class e{constructor(r){(0,Be.registerVersion)("angularfire",El.full,"core"),(0,Be.registerVersion)("angularfire",El.full,"app"),(0,Be.registerVersion)("angular",YO.full,r.toString())}}return t=e,Ue(e,"\u0275fac",function(r){return new(r||t)(oe(Eo))}),Ue(e,"\u0275mod",Gn({type:t})),Ue(e,"\u0275inj",ir({providers:[age,cge]})),e})();function dge(t,...e){return{ngModule:uge,providers:[{provide:tA,useFactory:lge(t),multi:!0,deps:[xt,$i,xp,...e]}]}}const hge=function e6(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},t6=new E.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),mP=new Mi.Yd("@firebase/auth");function yP(t,...e){mP.logLevel<=Mi.in.ERROR&&mP.error(`Auth (${Be.SDK_VERSION}): ${t}`,...e)}function po(t,...e){throw nA(t,...e)}function ga(t,...e){return nA(t,...e)}function nA(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return t6.create(t,...e)}function _e(t,e,...n){if(!t)throw nA(e,...n)}function _a(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yP(e),new Error(e)}function Tl(t,e){t||_a(e)}function r6(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class jm{constructor(e,n){this.shortDelay=e,this.longDelay=n,Tl(n>e,"Short delay should be less than long delay!"),this.isMobile=(0,E.uI)()||(0,E.b$)()}get(){return function fge(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function rA(){return"http:"===r6()||"https:"===r6()}()||(0,E.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class i6{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void _a("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void _a("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void _a("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _ge={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},mge=new jm(3e4,6e4);function $n(t,e,n,r){return oA.apply(this,arguments)}function oA(){return(oA=(0,x.Z)(function*(t,e,n,r,i={}){return o6(t,i,(0,x.Z)(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=(0,E.xO)(Object.assign({key:t.config.apiKey},s)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),i6.fetch()(s6(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function o6(t,e,n){return sA.apply(this,arguments)}function sA(){return(sA=(0,x.Z)(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},_ge),e);try{const i=new vge(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw $m(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw $m(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw $m(t,"email-already-in-use",s);if("USER_DISABLED"===c)throw $m(t,"user-disabled",s);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw function n6(t,e,n){const r=Object.assign(Object.assign({},hge()),{[e]:n});return new E.LL("auth","Firebase",r).create(e,{appName:t.name})}(t,h,l);po(t,h)}}catch(i){if(i instanceof E.ZR)throw i;po(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function s6(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function iA(t,e){Tl(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class vge{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ga(this.auth,"network-request-failed")),mge.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $m(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ga(t,e,r);return i.customData._tokenResponse=n,i}function uA(){return(uA=(0,x.Z)(function*(t,e){return $n(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function hA(){return(hA=(0,x.Z)(function*(t,e){return $n(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Hm(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function pA(){return(pA=(0,x.Z)(function*(t,e=!1){const n=(0,E.m9)(t),r=yield n.getIdToken(e),i=vP(r);_e(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Hm(fA(i.auth_time)),issuedAtTime:Hm(fA(i.iat)),expirationTime:Hm(fA(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function fA(t){return 1e3*Number(t)}function vP(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return yP("JWT malformed, contained fewer than 3 sections"),null;try{const i=(0,E.tV)(n);return i?JSON.parse(i):(yP("Failed to decode base64 JWT payload"),null)}catch(i){return yP("Caught error parsing JWT payload as JSON",i?.toString()),null}}function cc(t,e){return gA.apply(this,arguments)}function gA(){return(gA=(0,x.Z)(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof E.ZR&&function Ige({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class bge{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,x.Z)(function*(){yield n.iteration()}),r)}iteration(){var e=this;return(0,x.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class d6{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hm(this.lastLoginAt),this.creationTime=Hm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function zm(t){return _A.apply(this,arguments)}function _A(){return _A=(0,x.Z)(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield cc(t,function Mge(t,e){return hA.apply(this,arguments)}(n,{idToken:r}));_e(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function Dge(t){return t.map(e=>{var{providerId:n}=e,r=(0,xe._T)(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function Age(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),h=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new d6(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,f)}),_A.apply(this,arguments)}function mA(){return(mA=(0,x.Z)(function*(t){const e=(0,E.m9)(t);yield zm(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function yA(){return(yA=(0,x.Z)(function*(t,e){const n=yield o6(t,{},(0,x.Z)(function*(){const r=(0,E.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=s6(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",i6.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Wm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Oge(t){const e=vP(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return(0,x.Z)(function*(){return _e(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return(0,x.Z)(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function Sge(t,e){return yA.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Wm;return r&&(_e("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(_e("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(_e("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wm,this.toJSON())}_performRefresh(){return _a("not implemented")}}function Al(t,e){_e("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class od{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=(0,xe._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bge(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new d6(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return(0,x.Z)(function*(){const r=yield cc(n,n.stsTokenManager.getToken(n.auth,e));return _e(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Ege(t){return pA.apply(this,arguments)}(this,e)}reload(){return function Tge(t){return mA.apply(this,arguments)}(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new od(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return(0,x.Z)(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield zm(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,x.Z)(function*(){const n=yield e.getIdToken();return yield cc(e,function wge(t,e){return uA.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,h;const f=null!==(r=n.displayName)&&void 0!==r?r:void 0,_=null!==(i=n.email)&&void 0!==i?i:void 0,v=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,M=null!==(s=n.photoURL)&&void 0!==s?s:void 0,b=null!==(a=n.tenantId)&&void 0!==a?a:void 0,T=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,V=null!==(l=n.createdAt)&&void 0!==l?l:void 0,N=null!==(h=n.lastLoginAt)&&void 0!==h?h:void 0,{uid:W,emailVerified:z,isAnonymous:fe,providerData:Ie,stsTokenManager:ct}=n;_e(W&&ct,e,"internal-error");const en=Wm.fromJSON(this.name,ct);_e("string"==typeof W,e,"internal-error"),Al(f,e.name),Al(_,e.name),_e("boolean"==typeof z,e,"internal-error"),_e("boolean"==typeof fe,e,"internal-error"),Al(v,e.name),Al(M,e.name),Al(b,e.name),Al(T,e.name),Al(V,e.name),Al(N,e.name);const mo=new od({uid:W,auth:e,email:_,emailVerified:z,displayName:f,isAnonymous:fe,photoURL:M,phoneNumber:v,tenantId:b,stsTokenManager:en,createdAt:V,lastLoginAt:N});return Ie&&Array.isArray(Ie)&&(mo.providerData=Ie.map(Nf=>Object.assign({},Nf))),T&&(mo._redirectEventId=T),mo}static _fromIdTokenResponse(e,n,r=!1){return(0,x.Z)(function*(){const i=new Wm;i.updateFromServerResponse(n);const o=new od({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield zm(o),o})()}}const h6=new Map;function lc(t){Tl(t instanceof Function,"Expected a class definition");let e=h6.get(t);return e?(Tl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,h6.set(t,e),e)}const p6=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,x.Z)(function*(){return!0})()}_set(n,r){var i=this;return(0,x.Z)(function*(){i.storage[n]=r})()}_get(n){var r=this;return(0,x.Z)(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return(0,x.Z)(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function CP(t,e,n){return`firebase:${t}:${e}:${n}`}class Hp{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=CP(this.userKey,i.apiKey,o),this.fullPersistenceKey=CP("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,x.Z)(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?od._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return(0,x.Z)(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return(0,x.Z)(function*(){if(!n.length)return new Hp(lc(p6),e,r);const i=(yield Promise.all(n.map(function(){var l=(0,x.Z)(function*(h){if(yield h._isAvailable())return h});return function(h){return l.apply(this,arguments)}}()))).filter(l=>l);let o=i[0]||lc(p6);const s=CP(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const h=yield l._get(s);if(h){const f=od._fromJSON(e,h);l!==o&&(a=f),o=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return o._shouldAllowMigration&&c.length?(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var l=(0,x.Z)(function*(h){if(h!==o)try{yield h._remove(s)}catch{}});return function(h){return l.apply(this,arguments)}}())),new Hp(o,e,r)):new Hp(o,e,r)})()}}function f6(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function m6(t=(0,E.z$)()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function g6(t=(0,E.z$)()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function v6(t=(0,E.z$)()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function C6(t=(0,E.z$)()){return/webos/i.test(t)}(e))return"Webos";if(function vA(t=(0,E.z$)()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function _6(t=(0,E.z$)()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function y6(t=(0,E.z$)()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function w6(t,e=[]){let n;switch(t){case"Browser":n=f6((0,E.z$)());break;case"Worker":n=`${f6((0,E.z$)())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Be.SDK_VERSION}/${r}`}class kge{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return(0,x.Z)(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function CA(){return(CA=(0,x.Z)(function*(t,e={}){return $n(t,"GET","/v2/passwordPolicy",function Nn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))})).apply(this,arguments)}class Lge{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=s.minPasswordLength)&&void 0!==n?n:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=null===(n=c.meetsMinPasswordLength)||void 0===n||n),c.isValid&&(c.isValid=null===(r=c.meetsMaxPasswordLength)||void 0===r||r),c.isValid&&(c.isValid=null===(i=c.containsLowercaseLetter)||void 0===i||i),c.isValid&&(c.isValid=null===(o=c.containsUppercaseLetter)||void 0===o||o),c.isValid&&(c.isValid=null===(s=c.containsNumericCharacter)||void 0===s||s),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class Vge{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new P6(this),this.idTokenSubscription=new P6(this),this.beforeStateQueue=new kge(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=t6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=lc(n)),this._initializationPromise=this.queue((0,x.Z)(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Hp.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,x.Z)(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return(0,x.Z)(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=o?._redirectEventId,l=yield n.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(o=l.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return _e(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return(0,x.Z)(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return(0,x.Z)(function*(){try{yield zm(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function gge(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return(0,x.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return(0,x.Z)(function*(){const r=e?(0,E.m9)(e):null;return r&&_e(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return(0,x.Z)(function*(){if(!r._deleted)return e&&_e(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,x.Z)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,x.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue((0,x.Z)(function*(){yield n.assertedPersistence.setPersistence(lc(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return(0,x.Z)(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return(0,x.Z)(function*(){const n=yield function Nge(t){return CA.apply(this,arguments)}(e),r=new Lge(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new E.LL("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return(0,x.Z)(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return(0,x.Z)(function*(){if(!n.redirectPersistenceManager){const r=e&&lc(e)||n._popupRedirectResolver;_e(r,n,"argument-error"),n.redirectPersistenceManager=yield Hp.create(n,[lc(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return(0,x.Z)(function*(){var r,i;return n._isInitialized&&(yield n.queue((0,x.Z)(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return(0,x.Z)(function*(){if(e===n.currentUser)return n.queue((0,x.Z)(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof n){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}{const c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){var n=this;return(0,x.Z)(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=w6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,x.Z)(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return(0,x.Z)(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function pge(t,...e){mP.logLevel<=Mi.in.WARN&&mP.warn(`Auth (${Be.SDK_VERSION}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}class P6{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,E.ne)(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function M6(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new jm(3e4,6e4),new jm(2e3,1e4),new jm(3e4,6e4),new jm(5e3,15e3),encodeURIComponent("fac");var t$="@firebase/auth";class Vme{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return(0,x.Z)(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,E.Pz)("authIdTokenMaxAge"),function Bme(t){(0,Be._registerComponent)(new To.wA("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;_e(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:w6(t)},l=new Vge(r,i,o,c);return function Wge(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(lc);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),(0,Be._registerComponent)(new To.wA("auth-internal",e=>{const n=function yr(t){return(0,E.m9)(t)}(e.getProvider("auth").getImmediate());return new Vme(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Be.registerVersion)(t$,"1.3.2",function Ume(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),(0,Be.registerVersion)(t$,"1.3.2","esm2017")}("Browser");class o${constructor(){return RT("auth")}}var Ee,qme=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Vs={},dS=dS||{},Je=qme||self;function kP(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ym(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var hS="closure_uid_"+(1e9*Math.random()>>>0),Zme=0;function Yme(t,e,n){return t.call.apply(t.bind,arguments)}function Qme(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function bi(t,e,n){return(bi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Yme:Qme).apply(null,arguments)}function NP(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Hr(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Dl(){this.s=this.s,this.o=this.o}Dl.prototype.s=!1,Dl.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Kme(t){Object.prototype.hasOwnProperty.call(t,hS)&&t[hS]||(t[hS]=++Zme)}(this)},Dl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const s$=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function pS(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function a$(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(kP(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Ti(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ti.prototype.h=function(){this.defaultPrevented=!0};var Jme=function(){if(!Je.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Je.addEventListener("test",()=>{},e),Je.removeEventListener("test",()=>{},e)}catch{}return t}();function Qm(t){return/^[\s\xa0]*$/.test(t)}function FP(){var t=Je.navigator;return t&&(t=t.userAgent)?t:""}function ma(t){return-1!=FP().indexOf(t)}function fS(t){return fS[" "](t),t}fS[" "]=function(){};var _S,t,tye=ma("Opera"),zp=ma("Trident")||ma("MSIE"),c$=ma("Edge"),gS=c$||zp,l$=ma("Gecko")&&!(-1!=FP().toLowerCase().indexOf("webkit")&&!ma("Edge"))&&!(ma("Trident")||ma("MSIE"))&&!ma("Edge"),nye=-1!=FP().toLowerCase().indexOf("webkit")&&!ma("Edge");function u$(){var t=Je.document;return t?t.documentMode:void 0}e:{var mS="",yS=(t=FP(),l$?/rv:([^\);]+)(\)|;)/.exec(t):c$?/Edge\/([\d\.]+)/.exec(t):zp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):nye?/WebKit\/(\S+)/.exec(t):tye?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(yS&&(mS=yS?yS[1]:""),zp){var vS=u$();if(null!=vS&&vS>parseFloat(mS)){_S=String(vS);break e}}_S=mS}var rye=Je.document&&zp&&(u$()||parseInt(_S,10))||void 0;function Xm(t,e){if(Ti.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(l$){e:{try{fS(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:iye[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Xm.$.h.call(this)}}Hr(Xm,Ti);var iye={2:"touch",3:"pen",4:"mouse"};Xm.prototype.h=function(){Xm.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Jm="closure_listenable_"+(1e6*Math.random()|0),oye=0;function sye(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++oye,this.fa=this.ia=!1}function LP(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function wS(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function h$(t){const e={};for(const n in t)e[n]=t[n];return e}const p$="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function f$(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let o=0;o<p$.length;o++)n=p$[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function VP(t){this.src=t,this.g={},this.h=0}function PS(t,e){var n=e.type;if(n in t.g){var o,r=t.g[n],i=s$(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(LP(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function MS(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}VP.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=MS(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):((e=new sye(e,this.src,o,!!r,i)).ia=n,t.push(e)),e};var ES="closure_lm_"+(1e6*Math.random()|0),OS={};function g$(t,e,n,r,i){if(r&&r.once)return m$(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)g$(t,e[o],n,r,i);return null}return n=AS(n),t&&t[Jm]?t.O(e,n,Ym(r)?!!r.capture:!!r,i):_$(t,e,n,!1,r,i)}function _$(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Ym(i)?!!i.capture:!!i,a=bS(t);if(a||(t[ES]=a=new VP(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function cye(){const e=lye;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Jme||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(v$(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function m$(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)m$(t,e[o],n,r,i);return null}return n=AS(n),t&&t[Jm]?t.P(e,n,Ym(r)?!!r.capture:!!r,i):_$(t,e,n,!0,r,i)}function y$(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)y$(t,e[o],n,r,i);else r=Ym(r)?!!r.capture:!!r,n=AS(n),t&&t[Jm]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=MS(o=t.g[e],n,r,i))&&(LP(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=bS(t))&&(e=t.g[e.toString()],t=-1,e&&(t=MS(e,n,r,i)),(n=-1<t?e[t]:null)&&IS(n))}function IS(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Jm])PS(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(v$(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=bS(e))?(PS(n,t),0==n.h&&(n.src=null,e[ES]=null)):LP(t)}}}function v$(t){return t in OS?OS[t]:OS[t]="on"+t}function lye(t,e){if(t.fa)t=!0;else{e=new Xm(e,this);var n=t.listener,r=t.la||t.src;t.ia&&IS(t),t=n.call(r,e)}return t}function bS(t){return(t=t[ES])instanceof VP?t:null}var TS="__closure_events_fn_"+(1e9*Math.random()>>>0);function AS(t){return"function"==typeof t?t:(t[TS]||(t[TS]=function(e){return t.handleEvent(e)}),t[TS])}function zr(){Dl.call(this),this.i=new VP(this),this.S=this,this.J=null}function si(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Ti(e,t);else if(e instanceof Ti)e.target=e.target||t;else{var i=e;f$(e=new Ti(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=UP(s,r,!0,e)&&i}if(i=UP(s=e.g=t,r,!0,e)&&i,i=UP(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=UP(s=e.g=n[o],r,!1,e)&&i}function UP(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&PS(t.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Hr(zr,Dl),zr.prototype[Jm]=!0,zr.prototype.removeEventListener=function(t,e,n,r){y$(this,t,e,n,r)},zr.prototype.N=function(){if(zr.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)LP(n[r]);delete t.g[e],t.h--}}this.J=null},zr.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},zr.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var DS=Je.JSON.stringify;function dye(){var t=SS;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var C$=new class uye{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new pye,t=>t.reset());class pye{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function fye(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function gye(t){Je.setTimeout(()=>{throw t},0)}let ey,ty=!1,SS=new class hye{constructor(){this.h=this.g=null}add(e,n){const r=C$.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},w$=()=>{const t=Je.Promise.resolve(void 0);ey=()=>{t.then(_ye)}};var _ye=()=>{for(var t;t=dye();){try{t.h.call(t.g)}catch(n){gye(n)}var e=C$;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ty=!1};function BP(t,e){zr.call(this),this.h=t||1,this.g=e||Je,this.j=bi(this.qb,this),this.l=Date.now()}function xS(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function RS(t,e,n){if("function"==typeof t)n&&(t=bi(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=bi(t.handleEvent,t)}return 2147483647<Number(e)?-1:Je.setTimeout(t,e||0)}function P$(t){t.g=RS(()=>{t.g=null,t.i&&(t.i=!1,P$(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Hr(BP,zr),(Ee=BP.prototype).ga=!1,Ee.T=null,Ee.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),si(this,"tick"),this.ga&&(xS(this),this.start()))}},Ee.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ee.N=function(){BP.$.N.call(this),xS(this),delete this.g};class mye extends Dl{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:P$(this)}N(){super.N(),this.g&&(Je.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ny(t){Dl.call(this),this.h=t,this.g={}}Hr(ny,Dl);var M$=[];function E$(t,e,n,r){Array.isArray(n)||(n&&(M$[0]=n.toString()),n=M$);for(var i=0;i<n.length;i++){var o=g$(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function O$(t){wS(t.g,function(e,n){this.g.hasOwnProperty(n)&&IS(e)},t),t.g={}}function jP(){this.g=!0}function Wp(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function wye(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return DS(n)}catch{return e}}(t,n)+(r?" "+r:"")})}ny.prototype.N=function(){ny.$.N.call(this),O$(this)},ny.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},jP.prototype.Ea=function(){this.g=!1},jP.prototype.info=function(){};var ld={},I$=null;function $P(){return I$=I$||new zr}function b$(t){Ti.call(this,ld.Ta,t)}function ry(t){const e=$P();si(e,new b$(e))}function T$(t,e){Ti.call(this,ld.STAT_EVENT,t),this.stat=e}function Qi(t){const e=$P();si(e,new T$(e,t))}function A$(t,e){Ti.call(this,ld.Ua,t),this.size=e}function iy(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Je.setTimeout(function(){t()},e)}ld.Ta="serverreachability",Hr(b$,Ti),ld.STAT_EVENT="statevent",Hr(T$,Ti),ld.Ua="timingevent",Hr(A$,Ti);var HP={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},D$={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function kS(){}function x$(){}kS.prototype.h=null;var LS,oy={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function NS(){Ti.call(this,"d")}function FS(){Ti.call(this,"c")}function zP(){}function sy(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ny(this),this.P=Pye,this.V=new BP(t=gS?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new R$}function R$(){this.i=null,this.g="",this.h=!1}Hr(NS,Ti),Hr(FS,Ti),Hr(zP,kS),zP.prototype.g=function(){return new XMLHttpRequest},zP.prototype.i=function(){return{}},LS=new zP;var Pye=45e3,VS={},WP={};function US(t,e,n){t.L=1,t.v=ZP(dc(e)),t.s=n,t.S=!0,k$(t,null)}function k$(t,e){t.G=Date.now(),ay(t),t.A=dc(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),z$(n.i,"t",r),t.C=0,n=t.l.J,t.h=new R$,t.g=fH(t.l,n?e:null,!t.s),0<t.O&&(t.M=new mye(bi(t.Pa,t,t.g),t.O)),E$(t.U,t.g,"readystatechange",t.nb),e=t.I?h$(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),ry(),function yye(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var h=l[0];l=l[1];var f=h.split("_");s=2<=f.length&&"type"==f[1]?s+(h+"=")+l+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.W,t.s)}function N$(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function F$(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Mye(t,n),i==WP){4==e&&(t.o=4,Qi(14),r=!1),Wp(t.j,t.m,null,"[Incomplete Response]");break}if(i==VS){t.o=4,Qi(15),Wp(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Wp(t.j,t.m,i,null),BS(t,i)}N$(t)&&i!=WP&&i!=VS&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Qi(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),qS(e),e.M=!0,Qi(11))):(Wp(t.j,t.m,n,"[Invalid Chunked Response]"),ud(t),cy(t))}function Mye(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?WP:(n=Number(e.substring(n,r)),isNaN(n)?VS:(r+=1)+n>e.length?WP:(e=e.slice(r,r+n),t.C=r+n,e))}function ay(t){t.Y=Date.now()+t.P,L$(t,t.P)}function L$(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=iy(bi(t.lb,t),e)}function GP(t){t.B&&(Je.clearTimeout(t.B),t.B=null)}function cy(t){0==t.l.H||t.J||uH(t.l,t)}function ud(t){GP(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,xS(t.V),O$(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function BS(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||jS(n.i,t)))if(!t.K&&jS(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;tM(n),JP(n)}GS(n),Qi(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=iy(bi(n.ib,n),6e3));if(1>=q$(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else hd(n,11)}else if((t.K||n.g==t)&&tM(n),!Qm(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const h=l[3];null!=h&&(n.ra=h,n.l.info("VER="+n.ra));const f=l[4];null!=f&&(n.Ga=f,n.l.info("SVER="+n.Ga));const _=l[5];null!=_&&"number"==typeof _&&0<_&&(n.L=r=1.5*_,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const v=t.g;if(v){const M=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(M){var o=r.i;o.g||-1==M.indexOf("spdy")&&-1==M.indexOf("quic")&&-1==M.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&($S(o,o.h),o.h=null))}if(r.F){const b=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;b&&(r.Da=b,In(r.I,r.F,b))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=t;if((r=n).wa=pH(r,r.J?r.pa:null,r.Y),s.K){K$(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.B&&(GP(a),ay(a)),r.g=s}else cH(r);0<n.j.length&&eM(n)}else"stop"!=l[0]&&"close"!=l[0]||hd(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?hd(n,7):WS(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}ry()}catch{}}function V$(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(kP(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Oye(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(kP(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Eye(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(kP(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(Ee=sy.prototype).setTimeout=function(t){this.P=t},Ee.nb=function(t){t=t.target;const e=this.M;e&&3==ya(t)?e.l():this.Pa(t)},Ee.Pa=function(t){try{if(t==this.g)e:{const h=ya(this.g);var e=this.g.Ia();if(this.g.da(),!(3>h)&&(3!=h||gS||this.g&&(this.h.h||this.g.ja()||nH(this.g)))){this.J||4!=h||7==e||ry(),GP(this);var n=this.g.da();this.ca=n;t:if(N$(this)){var r=nH(this.g);t="";var i=r.length,o=4==ya(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ud(this),cy(this);var s="";break t}this.h.i=new Je.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function vye(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,h,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qm(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,Qi(12),ud(this),cy(this);break e}Wp(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,BS(this,n)}this.S?(F$(this,h,s),gS&&this.i&&3==h&&(E$(this.U,this.V,"tick",this.mb),this.V.start())):(Wp(this.j,this.m,s,null),BS(this,s)),4==h&&ud(this),this.i&&!this.J&&(4==h?uH(this.l,this):(this.i=!1,ay(this)))}else(function Hye(t){const e={};t=(t.g&&2<=ya(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Qm(t[r]))continue;var n=fye(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}!function aye(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.o=3,Qi(12)):(this.o=0,Qi(13)),ud(this),cy(this)}}}catch{}},Ee.mb=function(){if(this.g){var t=ya(this.g),e=this.g.ja();this.C<e.length&&(GP(this),F$(this,t,e),this.i&&4!=t&&ay(this))}},Ee.cancel=function(){this.J=!0,ud(this)},Ee.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function Cye(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(ry(),Qi(17)),ud(this),this.o=2,cy(this)):L$(this,this.Y-t)};var U$=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dd(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof dd){this.h=t.h,qP(this,t.j),this.s=t.s,this.g=t.g,KP(this,t.m),this.l=t.l;var e=t.i,n=new dy;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),B$(this,n),this.o=t.o}else t&&(e=String(t).match(U$))?(this.h=!1,qP(this,e[1]||"",!0),this.s=ly(e[2]||""),this.g=ly(e[3]||"",!0),KP(this,e[4]),this.l=ly(e[5]||"",!0),B$(this,e[6]||"",!0),this.o=ly(e[7]||"")):(this.h=!1,this.i=new dy(null,this.h))}function dc(t){return new dd(t)}function qP(t,e,n){t.j=n?ly(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function KP(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function B$(t,e,n){e instanceof dy?(t.i=e,function xye(t,e){e&&!t.j&&(Sl(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&($$(this,r),z$(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=uy(e,Dye)),t.i=new dy(e,t.h))}function In(t,e,n){t.i.set(e,n)}function ZP(t){return In(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ly(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function uy(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,bye),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function bye(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}dd.prototype.toString=function(){var t=[],e=this.j;e&&t.push(uy(e,j$,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(uy(e,j$,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(uy(n,"/"==n.charAt(0)?Aye:Tye,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",uy(n,Sye)),t.join("")};var j$=/[#\/\?@]/g,Tye=/[#\?:]/g,Aye=/[#\?]/g,Dye=/[#\?@]/g,Sye=/#/g;function dy(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Sl(t){t.g||(t.g=new Map,t.h=0,t.i&&function Iye(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function $$(t,e){Sl(t),e=Gp(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function H$(t,e){return Sl(t),e=Gp(t,e),t.g.has(e)}function z$(t,e,n){$$(t,e),0<n.length&&(t.i=null,t.g.set(Gp(t,e),pS(n)),t.h+=n.length)}function Gp(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function W$(t){this.l=t||kye,t=Je.PerformanceNavigationTiming?0<(t=Je.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Je.g&&Je.g.Ka&&Je.g.Ka()&&Je.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ee=dy.prototype).add=function(t,e){Sl(this),this.i=null,t=Gp(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Ee.forEach=function(t,e){Sl(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},Ee.ta=function(){Sl(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n},Ee.Z=function(t){Sl(this);let e=[];if("string"==typeof t)H$(this,t)&&(e=e.concat(this.g.get(Gp(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},Ee.set=function(t,e){return Sl(this),this.i=null,H$(this,t=Gp(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Ee.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},Ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};var kye=10;function G$(t){return!!t.h||!!t.g&&t.g.size>=t.j}function q$(t){return t.h?1:t.g?t.g.size:0}function jS(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function $S(t,e){t.g?t.g.add(e):t.h=e}function K$(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Z$(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return pS(t.i)}W$.prototype.cancel=function(){if(this.i=Z$(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Nye=class{stringify(t){return Je.JSON.stringify(t,void 0)}parse(t){return Je.JSON.parse(t,void 0)}};function Fye(){this.g=new Nye}function Lye(t,e,n){const r=n||"";try{V$(t,function(i,o){let s=i;Ym(i)&&(s=DS(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function YP(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function hy(t){this.l=t.ec||null,this.j=t.ob||!1}function QP(t,e){zr.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=HS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Hr(hy,kS),hy.prototype.g=function(){return new QP(this.l,this.j)},hy.prototype.i=function(t){return function(){return t}}({}),Hr(QP,zr);var HS=0;function Y$(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function py(t){t.readyState=4,t.l=null,t.j=null,t.A=null,fy(t)}function fy(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Ee=QP.prototype).open=function(t,e){if(this.readyState!=HS)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,fy(this)},Ee.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Je).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,py(this)),this.readyState=HS},Ee.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,fy(this)),this.g&&(this.readyState=3,fy(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Je.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Y$(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},Ee.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?py(this):fy(this),3==this.readyState&&Y$(this)}},Ee.Za=function(t){this.g&&(this.response=this.responseText=t,py(this))},Ee.Ya=function(t){this.g&&(this.response=t,py(this))},Ee.ka=function(){this.g&&py(this)},Ee.setRequestHeader=function(t,e){this.v.append(t,e)},Ee.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Ee.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(QP.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Uye=Je.JSON.parse;function Xn(t){zr.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Q$,this.L=this.M=!1}Hr(Xn,zr);var Q$="",Bye=/^https?$/i,jye=["POST","PUT"];function X$(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,J$(t),XP(t)}function J$(t){t.F||(t.F=!0,si(t,"complete"),si(t,"error"))}function eH(t){if(t.h&&typeof dS<"u"&&(!t.C[1]||4!=ya(t)||2!=t.da()))if(t.v&&4==ya(t))RS(t.La,0,t);else if(si(t,"readystatechange"),4==ya(t)){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===s){var i=String(t.I).match(U$)[1]||null;!i&&Je.self&&Je.self.location&&(i=Je.self.location.protocol.slice(0,-1)),r=!Bye.test(i?i.toLowerCase():"")}n=r}if(n)si(t,"complete"),si(t,"success");else{t.m=6;try{var o=2<ya(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",J$(t)}}finally{XP(t)}}}function XP(t,e){if(t.g){tH(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||si(t,"ready");try{n.onreadystatechange=r}catch{}}}function tH(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Je.clearTimeout(t.A),t.A=null)}function ya(t){return t.g?t.g.readyState:0}function nH(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Q$:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function rH(t){let e="";return wS(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function zS(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=rH(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):In(t,e,n))}function gy(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function iH(t){this.Ga=0,this.j=[],this.l=new jP,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=gy("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=gy("baseRetryDelayMs",5e3,t),this.hb=gy("retryDelaySeedMs",1e4,t),this.eb=gy("forwardChannelMaxRetries",2,t),this.xa=gy("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new W$(t&&t.concurrentRequestLimit),this.Ja=new Fye,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function WS(t){if(oH(t),3==t.H){var e=t.W++,n=dc(t.I);if(In(n,"SID",t.K),In(n,"RID",e),In(n,"TYPE","terminate"),_y(t,n),(e=new sy(t,t.l,e)).L=2,e.v=ZP(dc(n)),n=!1,Je.navigator&&Je.navigator.sendBeacon)try{n=Je.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Je.Image&&((new Image).src=e.v,n=!0),n||(e.g=fH(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ay(e)}hH(t)}function JP(t){t.g&&(qS(t),t.g.cancel(),t.g=null)}function oH(t){JP(t),t.u&&(Je.clearTimeout(t.u),t.u=null),tM(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Je.clearTimeout(t.m),t.m=null)}function eM(t){if(!G$(t.i)&&!t.m){t.m=!0;var e=t.Na;ey||w$(),ty||(ey(),ty=!0),SS.add(e,t),t.C=0}}function sH(t,e){var n;n=e?e.m:t.W++;const r=dc(t.I);In(r,"SID",t.K),In(r,"RID",n),In(r,"AID",t.V),_y(t,r),t.o&&t.s&&zS(r,t.o,t.s),n=new sy(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=aH(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),$S(t.i,n),US(n,r,e)}function _y(t,e){t.na&&wS(t.na,function(n,r){In(e,r,n)}),t.h&&V$({},function(n,r){In(e,r,n)})}function aH(t,e,n){n=Math.min(t.j.length,n);var r=t.h?bi(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];-1==o?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let l=i[c].g;const h=i[c].map;if(l-=o,0>l)o=Math.max(0,i[c].g-100),a=!1;else try{Lye(h,s,"req"+l+"_")}catch{r&&r(h)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function cH(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ey||w$(),ty||(ey(),ty=!0),SS.add(e,t),t.A=0}}function GS(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=iy(bi(t.Ma,t),dH(t,t.A)),t.A++,0))}function qS(t){null!=t.B&&(Je.clearTimeout(t.B),t.B=null)}function lH(t){t.g=new sy(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=dc(t.wa);In(e,"RID","rpc"),In(e,"SID",t.K),In(e,"AID",t.V),In(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&In(e,"TO",t.qa),In(e,"TYPE","xmlhttp"),_y(t,e),t.o&&t.s&&zS(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=ZP(dc(e)),n.s=null,n.S=!0,k$(n,t)}function tM(t){null!=t.v&&(Je.clearTimeout(t.v),t.v=null)}function uH(t,e){var n=null;if(t.g==e){tM(t),qS(t),t.g=null;var r=2}else{if(!jS(t.i,e))return;n=e.F,K$(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;si(r=$P(),new A$(r,n)),eM(t)}else cH(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function zye(t,e){return!(q$(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=iy(bi(t.Na,t,e),dH(t,t.C)),t.C++,0)))}(t,e)||2==r&&GS(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:hd(t,5);break;case 4:hd(t,10);break;case 3:hd(t,6);break;default:hd(t,2)}}function dH(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function hd(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=bi(t.pb,t);n||(n=new dd("//www.google.com/images/cleardot.gif"),Je.location&&"http"==Je.location.protocol||qP(n,"https"),ZP(n)),function Vye(t,e){const n=new jP;if(Je.Image){const r=new Image;r.onload=NP(YP,n,r,"TestLoadImage: loaded",!0,e),r.onerror=NP(YP,n,r,"TestLoadImage: error",!1,e),r.onabort=NP(YP,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=NP(YP,n,r,"TestLoadImage: timeout",!1,e),Je.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Qi(2);t.H=0,t.h&&t.h.za(e),hH(t),oH(t)}function hH(t){if(t.H=0,t.ma=[],t.h){const e=Z$(t.i);(0!=e.length||0!=t.j.length)&&(a$(t.ma,e),a$(t.ma,t.j),t.i.i.length=0,pS(t.j),t.j.length=0),t.h.ya()}}function pH(t,e,n){var r=n instanceof dd?dc(n):new dd(n);if(""!=r.g)e&&(r.g=e+"."+r.g),KP(r,r.m);else{var i=Je.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new dd(null);r&&qP(o,r),e&&(o.g=e),i&&KP(o,i),n&&(o.l=n),r=o}return e=t.Da,(n=t.F)&&e&&In(r,n,e),In(r,"VER",t.ra),_y(t,r),r}function fH(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Xn(n&&t.Ha&&!t.va?new hy({ob:!0}):t.va)).Oa(t.J),e}function gH(){}function nM(){if(zp&&!(10<=Number(rye)))throw Error("Environmental error: no available transport.")}function xo(t,e){zr.call(this),this.g=new iH(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Qm(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Qm(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new qp(this)}function _H(t){NS.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function mH(){FS.call(this),this.status=1}function qp(t){this.g=t}function Us(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function KS(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var o=t.g[3],s=(e=t.g[0])+(o^(n=t.g[1])&((i=t.g[2])^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=n+((s=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function qt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}(Ee=Xn.prototype).Oa=function(t){this.M=t},Ee.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():LS.g(),this.C=function S$(t){return t.h||(t.h=t.i())}(this.u?this.u:LS),this.g.onreadystatechange=bi(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void X$(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())n.set(o,r.get(o))}r=Array.from(n.keys()).find(o=>"content-type"==o.toLowerCase()),i=Je.FormData&&t instanceof Je.FormData,!(0<=s$(jye,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{tH(this),0<this.B&&((this.L=function $ye(t){return zp&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=bi(this.ua,this)):this.A=RS(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){X$(this,o)}},Ee.ua=function(){typeof dS<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,si(this,"timeout"),this.abort(8))},Ee.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,si(this,"complete"),si(this,"abort"),XP(this))},Ee.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),XP(this,!0)),Xn.$.N.call(this)},Ee.La=function(){this.s||(this.G||this.v||this.l?eH(this):this.kb())},Ee.kb=function(){eH(this)},Ee.isActive=function(){return!!this.g},Ee.da=function(){try{return 2<ya(this)?this.g.status:-1}catch{return-1}},Ee.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ee.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Uye(e)}},Ee.Ia=function(){return this.m},Ee.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ee=iH.prototype).ra=8,Ee.H=1,Ee.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new sy(this,this.l,t);let o=this.s;if(this.U&&(o?(o=h$(o),f$(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=aH(this,i,e),In(n=dc(this.I),"RID",t),In(n,"CVER",22),this.F&&In(n,"X-HTTP-Session-Id",this.F),_y(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(rH(o)))+"&"+e:this.o&&zS(n,this.o,o)),$S(this.i,i),this.bb&&In(n,"TYPE","init"),this.P?(In(n,"$req",e),In(n,"SID","null"),i.aa=!0,US(i,n,null)):US(i,n,e),this.H=2}}else 3==this.H&&(t?sH(this,t):0==this.j.length||G$(this.i)||sH(this))},Ee.Ma=function(){if(this.u=null,lH(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=iy(bi(this.jb,this),t)}},Ee.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Qi(10),JP(this),lH(this))},Ee.ib=function(){null!=this.v&&(this.v=null,JP(this),GS(this),Qi(19))},Ee.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Qi(2)):(this.l.info("Failed to ping google.com"),Qi(1))},Ee.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ee=gH.prototype).Ba=function(){},Ee.Aa=function(){},Ee.za=function(){},Ee.ya=function(){},Ee.isActive=function(){return!0},Ee.Va=function(){},nM.prototype.g=function(t,e){return new xo(t,e)},Hr(xo,zr),xo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Qi(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=pH(t,null,t.Y),eM(t)},xo.prototype.close=function(){WS(this.g)},xo.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=DS(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&eM(e)},xo.prototype.N=function(){this.g.h=null,delete this.j,WS(this.g),delete this.g,xo.$.N.call(this)},Hr(_H,NS),Hr(mH,FS),Hr(qp,gH),qp.prototype.Ba=function(){si(this.g,"a")},qp.prototype.Aa=function(t){si(this.g,new _H(t))},qp.prototype.za=function(t){si(this.g,new mH)},qp.prototype.ya=function(){si(this.g,"b")},Hr(Us,function Wye(){this.blockSize=-1}),Us.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Us.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=n;)KS(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){KS(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){KS(this,r),i=0;break}}this.h=i,this.i+=e},Us.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Gye={};function ZS(t){return-128<=t&&128>t?function eye(t,e){var n=Gye;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new qt([0|e],0>e?-1:0)}):new qt([0|t],0>t?-1:0)}function va(t){if(isNaN(t)||!isFinite(t))return Kp;if(0>t)return ai(va(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=YS;return new qt(e,0)}var YS=4294967296,Kp=ZS(0),QS=ZS(1),vH=ZS(16777216);function hc(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function us(t){return-1==t.h}function ai(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new qt(n,~t.h).add(QS)}function rM(t,e){return t.add(ai(e))}function iM(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function my(t,e){this.g=t,this.h=e}function oM(t,e){if(hc(e))throw Error("division by zero");if(hc(t))return new my(Kp,Kp);if(us(t))return e=oM(ai(t),e),new my(ai(e.g),ai(e.h));if(us(e))return e=oM(t,ai(e)),new my(ai(e.g),e.h);if(30<t.g.length){if(us(t)||us(e))throw Error("slowDivide_ only works with positive integers.");for(var n=QS,r=e;0>=r.X(t);)n=CH(n),r=CH(r);var i=Zp(n,1),o=Zp(r,1);for(r=Zp(r,2),n=Zp(n,2);!hc(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Zp(r,1),n=Zp(n,1)}return e=rM(t,i.R(e)),new my(i,e)}for(i=Kp;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=va(n)).R(e);us(s)||0<s.X(t);)s=(o=va(n-=r)).R(e);hc(o)&&(o=QS),i=i.add(o),t=rM(t,s)}return new my(i,t)}function CH(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new qt(n,t.h)}function Zp(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new qt(i,t.h)}(Ee=qt.prototype).ea=function(){if(us(this))return-ai(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:YS+r)*e,e*=YS}return t},Ee.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(hc(this))return"0";if(us(this))return"-"+ai(this).toString(t);for(var e=va(Math.pow(t,6)),n=this,r="";;){var i=oM(n,e).g,o=((0<(n=rM(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(hc(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},Ee.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},Ee.X=function(t){return us(t=rM(this,t))?-1:hc(t)?0:1},Ee.abs=function(){return us(this)?ai(this):this},Ee.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&t.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,n[i]=(s&=65535)<<16|(o&=65535)}return new qt(n,-2147483648&n[n.length-1]?-1:0)},Ee.R=function(t){if(hc(this)||hc(t))return Kp;if(us(this))return us(t)?ai(this).R(ai(t)):ai(ai(this).R(t));if(us(t))return ai(this.R(ai(t)));if(0>this.X(vH)&&0>t.X(vH))return va(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=s*c,iM(n,2*r+2*i),n[2*r+2*i+1]+=o*c,iM(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,iM(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,iM(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new qt(n,0)},Ee.gb=function(t){return oM(this,t).h},Ee.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new qt(n,this.h&t.h)},Ee.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new qt(n,this.h|t.h)},Ee.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new qt(n,this.h^t.h)},nM.prototype.createWebChannel=nM.prototype.g,xo.prototype.send=xo.prototype.u,xo.prototype.open=xo.prototype.m,xo.prototype.close=xo.prototype.close,HP.NO_ERROR=0,HP.TIMEOUT=8,HP.HTTP_ERROR=6,D$.COMPLETE="complete",x$.EventType=oy,oy.OPEN="a",oy.CLOSE="b",oy.ERROR="c",oy.MESSAGE="d",zr.prototype.listen=zr.prototype.O,Xn.prototype.listenOnce=Xn.prototype.P,Xn.prototype.getLastError=Xn.prototype.Sa,Xn.prototype.getLastErrorCode=Xn.prototype.Ia,Xn.prototype.getStatus=Xn.prototype.da,Xn.prototype.getResponseJson=Xn.prototype.Wa,Xn.prototype.getResponseText=Xn.prototype.ja,Xn.prototype.send=Xn.prototype.ha,Xn.prototype.setWithCredentials=Xn.prototype.Oa,Us.prototype.digest=Us.prototype.l,Us.prototype.reset=Us.prototype.reset,Us.prototype.update=Us.prototype.j,qt.prototype.add=qt.prototype.add,qt.prototype.multiply=qt.prototype.R,qt.prototype.modulo=qt.prototype.gb,qt.prototype.compare=qt.prototype.X,qt.prototype.toNumber=qt.prototype.ea,qt.prototype.toString=qt.prototype.toString,qt.prototype.getBits=qt.prototype.D,qt.fromNumber=va,qt.fromString=function yH(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return ai(yH(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=va(Math.pow(e,8)),r=Kp,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=va(Math.pow(e,o)),r=r.R(o).add(va(s))):r=(r=r.R(n)).add(va(s))}return r};var qye=Vs.createWebChannelTransport=function(){return new nM},Kye=Vs.getStatEventTarget=function(){return $P()},XS=Vs.ErrorCode=HP,Zye=Vs.EventType=D$,Yye=Vs.Event=ld,wH=Vs.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Qye=Vs.FetchXmlHttpFactory=hy,sM=Vs.WebChannel=x$,Xye=Vs.XhrIo=Xn,Jye=Vs.Md5=Us,Yp=Vs.Integer=qt;const PH="@firebase/firestore";class Wr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wr.UNAUTHENTICATED=new Wr(null),Wr.GOOGLE_CREDENTIALS=new Wr("google-credentials-uid"),Wr.FIRST_PARTY=new Wr("first-party-uid"),Wr.MOCK_USER=new Wr("mock-user");let Qp="10.5.2";const xl=new Mi.Yd("@firebase/firestore");function Xp(){return xl.logLevel}function he(t,...e){if(xl.logLevel<=Mi.in.DEBUG){const n=e.map(JS);xl.debug(`Firestore (${Qp}): ${t}`,...n)}}function lr(t,...e){if(xl.logLevel<=Mi.in.ERROR){const n=e.map(JS);xl.error(`Firestore (${Qp}): ${t}`,...n)}}function fo(t,...e){if(xl.logLevel<=Mi.in.WARN){const n=e.map(JS);xl.warn(`Firestore (${Qp}): ${t}`,...n)}}function JS(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function Ae(t="Unexpected state"){const e=`FIRESTORE (${Qp}) INTERNAL ASSERTION FAILED: `+t;throw lr(e),new Error(e)}function Le(t,e){t||Ae()}function ve(t,e){return t}const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends E.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Nr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class MH{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nve{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Wr.UNAUTHENTICATED))}shutdown(){}}class rve{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ive{constructor(e){this.t=e,this.currentUser=Wr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const o=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new Nr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Nr,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable((0,x.Z)(function*(){yield l.promise,yield o(r.currentUser)}))},c=l=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Nr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le("string"==typeof r.accessToken),new MH(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Le(null===e||"string"==typeof e),new Wr(e)}}class ove{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Wr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class sve{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ove(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Wr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class EH{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ave{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{null!=o.error&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,he("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Le("string"==typeof n.token),this.R=n.token,new EH(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function cve(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class OH{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=cve(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function Ze(t,e){return t<e?-1:t>e?1:0}function Jp(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function IH(t){return t+"\0"}class Fn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ue(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Fn.fromMillis(Date.now())}static fromDate(e){return Fn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Fn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ve{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new Fn(0,0))}static max(){return new Ve(new Fn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class yy{constructor(e,n,r){void 0===n?n=0:n>e.length&&Ae(),void 0===r?r=e.length-n:r>e.length-n&&Ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===yy.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yy?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class kt extends yy{construct(e,n,r){return new kt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new kt(n)}static emptyPath(){return new kt([])}}const lve=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends yy{construct(e,n,r){return new bn(e,n,r)}static isValidIdentifier(e){return lve.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new bn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new ue(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new ue(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new ue(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ue(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(n)}static emptyPath(){return new bn([])}}class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(kt.fromString(e))}static fromName(e){return new Ce(kt.fromString(e).popFirst(5))}static empty(){return new Ce(kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===kt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return kt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new kt(e.slice()))}}class ef{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function ex(t){return t.fields.find(e=>2===e.kind)}function pd(t){return t.fields.filter(e=>2!==e.kind)}ef.UNKNOWN_ID=-1;class fd{constructor(e,n){this.fieldPath=e,this.kind=n}}class tf{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new tf(0,Ro.min())}}function bH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ve.fromTimestamp(1e9===r?new Fn(n+1,0):new Fn(n,r));return new Ro(i,Ce.empty(),e)}function TH(t){return new Ro(t.readTime,t.key,-1)}class Ro{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ro(Ve.min(),Ce.empty(),-1)}static max(){return new Ro(Ve.max(),Ce.empty(),-1)}}function tx(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=Ce.comparator(t.documentKey,e.documentKey),0!==n?n:Ze(t.largestBatchId,e.largestBatchId))}const AH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Rl(t){return nx.apply(this,arguments)}function nx(){return nx=(0,x.Z)(function*(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==AH)throw t;he("LocalStore","Unexpectedly lost primary lease")}),nx.apply(this,arguments)}class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,r)=>{n(e)})}static reject(e){return new j((n,r)=>{r(e)})}static waitFor(e){return new j((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next(i=>i?j.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new j((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const l=c;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new j((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}class aM{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Nr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new vy(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=rx(r.target.error);this.V.reject(new vy(e,i))}}static open(e,n,r,i){try{return new aM(n,e.transaction(i,r))}catch(o){throw new vy(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(he("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new pve(n)}}class Bs{constructor(e,n,r){this.name=e,this.version=n,this.p=r,12.2===Bs.S((0,E.z$)())&&lr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return he("SimpleDb","Removing database:",e),gd(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,E.hl)())return!1;if(Bs.C())return!0;const e=(0,E.z$)(),n=Bs.S(e),r=0<n&&n<10,i=Bs.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var n=this;return(0,x.Z)(function*(){return n.db||(he("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,i)=>{const o=indexedDB.open(n.name,n.version);o.onsuccess=s=>{r(s.target.result)},o.onblocked=()=>{i(new vy(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;i("VersionError"===a.name?new ue(K.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new ue(K.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new vy(e,a))},o.onupgradeneeded=s=>{he("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',s.oldVersion),n.p.N(s.target.result,o.transaction,s.oldVersion,n.version).next(()=>{he("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=r=>n.B(r)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){var o=this;return(0,x.Z)(function*(){const s="readonly"===n;let a=0;for(;;){++a;try{o.db=yield o.O(e);const c=aM.open(o.db,e,s?"readonly":"readwrite",r),l=i(c).next(h=>(c.g(),h)).catch(h=>(c.abort(h),j.reject(h))).toPromise();return l.catch(()=>{}),yield c.m,l}catch(c){const l=c,h="FirebaseError"!==l.name&&a<3;if(he("SimpleDb","Transaction failed with error:",l.message,"Retrying:",h),o.close(),!h)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class hve{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return gd(this.k.delete())}}class vy extends ue{constructor(e,n){super(K.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function kl(t){return"IndexedDbTransactionError"===t.name}class pve{constructor(e){this.store=e}put(e,n){let r;return void 0!==n?(he("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(he("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),gd(r)}add(e){return he("SimpleDb","ADD",this.store.name,e,e),gd(this.store.add(e))}get(e){return gd(this.store.get(e)).next(n=>(void 0===n&&(n=null),he("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return he("SimpleDb","DELETE",this.store.name,e),gd(this.store.delete(e))}count(){return he("SimpleDb","COUNT",this.store.name),gd(this.store.count())}W(e,n){const r=this.options(e,n);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),o=[];return this.G(i,(s,a)=>{o.push(a)}).next(()=>o)}{const i=this.store.getAll(r.range);return new j((o,s)=>{i.onerror=a=>{s(a.target.error)},i.onsuccess=a=>{o(a.target.result)}})}}j(e,n){const r=this.store.getAll(e,null===n?void 0:n);return new j((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){he("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new j((r,i)=>{n.onerror=o=>{const s=rx(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){const r=[];return new j((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const c=new hve(a),l=n(a.primaryKey,a.value,c);if(l instanceof j){const h=l.catch(f=>(c.done(),j.reject(f)));r.push(h)}c.isDone?i():null===c.$?a.continue():a.continue(c.$)}}).next(()=>j.waitFor(r))}options(e,n){let r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function gd(t){return new j((e,n)=>{t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{const i=rx(r.target.error);n(i)}})}let SH=!1;function rx(t){const e=Bs.S((0,E.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ue("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return SH||(SH=!0,setTimeout(()=>{throw r},0)),r}}return t}class fve{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var n=this;he("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,x.Z)(function*(){n.task=null;try{he("IndexBackiller",`Documents written: ${yield n.X.te()}`)}catch(r){kl(r)?he("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Rl(r)}yield n.ee(6e4)}))}}class gve{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){var n=this;return(0,x.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>n.ne(r,e))})()}ne(e,n){const r=new Set;let i=n,o=!0;return j.doWhile(()=>!0===o&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!r.has(s))return he("IndexBackiller",`Processing collection: ${s}`),this.re(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.ie(i,o)).next(a=>(he("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,o)=>{const s=TH(o);tx(s,r)>0&&(r=s)}),new Ro(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}let ko=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function Cy(t){return null==t}function wy(t){return 0===t&&1/t==-1/0}function xH(t){return"number"==typeof t&&Number.isInteger(t)&&!wy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Ai(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=RH(e)),e=_ve(t.get(n),e);return RH(e)}function _ve(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function RH(t){return t+"\x01\x01"}function Ca(t){const e=t.length;if(Le(e>=2),2===e)return Le("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),kt.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const s=t.indexOf("\x01",o);switch((s<0||s>n)&&Ae(),t.charAt(s+1)){case"\x01":const a=t.substring(o,s);let c;0===i.length?c=a:(i+=a,c=i,i=""),r.push(c);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Ae()}o=s+2}return new kt(r)}const kH=["userId","batchId"];function cM(t,e){return[t,Ai(e)]}function NH(t,e,n){return[t,Ai(e),n]}const mve={},yve=["prefixPath","collectionGroup","readTime","documentId"],vve=["prefixPath","collectionGroup","documentId"],Cve=["collectionGroup","readTime","prefixPath","documentId"],wve=["canonicalId","targetId"],Pve=["targetId","path"],Mve=["path","targetId"],Eve=["collectionId","parent"],Ove=["indexId","uid"],Ive=["uid","sequenceNumber"],bve=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Tve=["indexId","uid","orderedDocumentKey"],Ave=["userId","collectionPath","documentId"],Dve=["userId","collectionPath","largestBatchId"],Sve=["userId","collectionGroup","largestBatchId"],FH=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],xve=[...FH,"documentOverlays"],LH=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],VH=LH,Rve=[...VH,"indexConfiguration","indexState","indexEntries"];class ix extends DH{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function Gr(t,e){const n=ve(t);return Bs.M(n.ae,e)}function UH(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Nl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function BH(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class gn{constructor(e,n){this.comparator=e,this.root=n||ci.EMPTY}insert(e,n){return new gn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ci.BLACK,null,null))}remove(e){return new gn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ci.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lM(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lM(this.root,e,this.comparator,!1)}getReverseIterator(){return new lM(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lM(this.root,e,this.comparator,!0)}}class lM{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ci{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??ci.RED,this.left=i??ci.EMPTY,this.right=o??ci.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new ci(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ci.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return ci.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ci.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ci.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}ci.EMPTY=null,ci.RED=!0,ci.BLACK=!1,ci.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,n,r,i,o){return this}insert(e,n,r){return new ci(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jt{constructor(e){this.comparator=e,this.data=new gn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jH(this.data.getIterator())}getIteratorFrom(e){return new jH(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Jt(this.comparator);return n.data=e,n}}class jH{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function nf(t){return t.hasNext()?t.getNext():void 0}class go{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new go([])}unionWith(e){let n=new Jt(bn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new go(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Jp(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class $H extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Fr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new $H("Invalid base64 string: "+o):o}}(e);return new Fr(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Fr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fr.EMPTY_BYTE_STRING=new Fr("");const Nve=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fl(t){if(Le(!!t),"string"==typeof t){let e=0;const n=Nve.exec(t);if(Le(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Jn(t.seconds),nanos:Jn(t.nanos)}}function Jn(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function pc(t){return"string"==typeof t?Fr.fromBase64String(t):Fr.fromUint8Array(t)}function uM(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function dM(t){const e=t.mapValue.fields.__previous_value__;return uM(e)?dM(e):e}function Py(t){const e=Fl(t.mapValue.fields.__local_write_time__.timestampValue);return new Fn(e.seconds,e.nanos)}class Fve{constructor(e,n,r,i,o,s,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class Ll{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ll("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ll&&e.projectId===this.projectId&&e.database===this.database}}const Vl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},hM={nullValue:"NULL_VALUE"};function Ul(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?uM(t)?4:GH(t)?9007199254740991:10:Ae()}function wa(t,e){if(t===e)return!0;const n=Ul(t);if(n!==Ul(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Py(t).isEqual(Py(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Fl(i.timestampValue),a=Fl(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return o=e,pc(t.bytesValue).isEqual(pc(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Jn(i.geoPointValue.latitude)===Jn(o.geoPointValue.latitude)&&Jn(i.geoPointValue.longitude)===Jn(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Jn(i.integerValue)===Jn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Jn(i.doubleValue),a=Jn(o.doubleValue);return s===a?wy(s)===wy(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Jp(t.arrayValue.values||[],e.arrayValue.values||[],wa);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(UH(s)!==UH(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===a[c]||!wa(s[c],a[c])))return!1;return!0}(t,e);default:return Ae()}var o}function My(t,e){return void 0!==(t.values||[]).find(n=>wa(n,e))}function Bl(t,e){if(t===e)return 0;const n=Ul(t),r=Ul(e);if(n!==r)return Ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ze(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Jn(o.integerValue||o.doubleValue),c=Jn(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return HH(t.timestampValue,e.timestampValue);case 4:return HH(Py(t),Py(e));case 5:return Ze(t.stringValue,e.stringValue);case 6:return function(o,s){const a=pc(o),c=pc(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){const h=Ze(a[l],c[l]);if(0!==h)return h}return Ze(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Ze(Jn(o.latitude),Jn(s.latitude));return 0!==a?a:Ze(Jn(o.longitude),Jn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],c=s.values||[];for(let l=0;l<a.length&&l<c.length;++l){const h=Bl(a[l],c[l]);if(h)return h}return Ze(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Vl.mapValue&&s===Vl.mapValue)return 0;if(o===Vl.mapValue)return 1;if(s===Vl.mapValue)return-1;const a=o.fields||{},c=Object.keys(a),l=s.fields||{},h=Object.keys(l);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const _=Ze(c[f],h[f]);if(0!==_)return _;const v=Bl(a[c[f]],l[h[f]]);if(0!==v)return v}return Ze(c.length,h.length)}(t.mapValue,e.mapValue);default:throw Ae()}}function HH(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ze(t,e);const n=Fl(t),r=Fl(e),i=Ze(n.seconds,r.seconds);return 0!==i?i:Ze(n.nanos,r.nanos)}function rf(t){return ox(t)}function ox(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Fl(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?pc(t.bytesValue).toBase64():"referenceValue"in t?Ce.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=ox(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${ox(n.fields[s])}`;return i+"}"}(t.mapValue):Ae()}function _d(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function sx(t){return!!t&&"integerValue"in t}function Ey(t){return!!t&&"arrayValue"in t}function zH(t){return!!t&&"nullValue"in t}function WH(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fM(t){return!!t&&"mapValue"in t}function Oy(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Nl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Oy(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Oy(t.arrayValue.values[n]);return e}return Object.assign({},t)}function GH(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function Lve(t){return"nullValue"in t?hM:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?_d(Ll.empty(),Ce.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Ae()}function Vve(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?_d(Ll.empty(),Ce.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Vl:Ae()}function qH(t,e){const n=Bl(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function KH(t,e){const n=Bl(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class li{constructor(e){this.value=e}static empty(){return new li({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!fM(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oy(n)}setAll(e){let n=bn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Oy(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());fM(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];fM(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Nl(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new li(Oy(this.value))}}function ZH(t){const e=[];return Nl(t.fields,(n,r)=>{const i=new bn([n]);if(fM(r)){const o=ZH(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new go(e)}class Tn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Tn(e,0,Ve.min(),Ve.min(),Ve.min(),li.empty(),0)}static newFoundDocument(e,n,r,i){return new Tn(e,1,n,Ve.min(),r,i,0)}static newNoDocument(e,n){return new Tn(e,2,n,Ve.min(),Ve.min(),li.empty(),0)}static newUnknownDocument(e,n){return new Tn(e,3,n,Ve.min(),Ve.min(),li.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=li.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=li.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class jl{constructor(e,n){this.position=e,this.inclusive=n}}function YH(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?Ce.comparator(Ce.fromName(s.referenceValue),n.key):Bl(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function QH(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!wa(t.position[n],e.position[n]))return!1;return!0}class Iy{constructor(e,n="asc"){this.field=e,this.dir=n}}function Uve(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class XH{}class Et extends XH{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Bve(e,n,r):"array-contains"===n?new Hve(e,r):"in"===n?new i8(e,r):"not-in"===n?new zve(e,r):"array-contains-any"===n?new Wve(e,r):new Et(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new jve(e,r):new $ve(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Bl(n,this.value)):null!==n&&Ul(this.value)===Ul(n)&&this.matchesComparison(Bl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kt extends XH{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Kt(e,n)}matches(e){return sf(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function sf(t){return"and"===t.op}function ax(t){return"or"===t.op}function cx(t){return JH(t)&&sf(t)}function JH(t){for(const e of t.filters)if(e instanceof Kt)return!1;return!0}function lx(t){if(t instanceof Et)return t.field.canonicalString()+t.op.toString()+rf(t.value);if(cx(t))return t.filters.map(e=>lx(e)).join(",");{const e=t.filters.map(n=>lx(n)).join(",");return`${t.op}(${e})`}}function e8(t,e){return t instanceof Et?(r=t,(i=e)instanceof Et&&r.op===i.op&&r.field.isEqual(i.field)&&wa(r.value,i.value)):t instanceof Kt?function(r,i){return i instanceof Kt&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&e8(s,i.filters[a]),!0)}(t,e):void Ae();var r,i}function t8(t,e){const n=t.filters.concat(e);return Kt.create(n,t.op)}function n8(t){return t instanceof Et?`${(n=t).field.canonicalString()} ${n.op} ${rf(n.value)}`:t instanceof Kt?function(n){return n.op.toString()+" {"+n.getFilters().map(n8).join(" ,")+"}"}(t):"Filter";var n}class Bve extends Et{constructor(e,n,r){super(e,n,r),this.key=Ce.fromName(r.referenceValue)}matches(e){const n=Ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class jve extends Et{constructor(e,n){super(e,"in",n),this.keys=r8(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class $ve extends Et{constructor(e,n){super(e,"not-in",n),this.keys=r8(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function r8(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>Ce.fromName(r.referenceValue))}class Hve extends Et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ey(n)&&My(n.arrayValue,this.value)}}class i8 extends Et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&My(this.value.arrayValue,n)}}class zve extends Et{constructor(e,n){super(e,"not-in",n)}matches(e){if(My(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!My(this.value.arrayValue,n)}}class Wve extends Et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ey(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>My(this.value.arrayValue,r))}}class Gve{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function ux(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Gve(t,e,n,r,i,o,s)}function md(t){const e=ve(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>lx(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Cy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>rf(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>rf(r)).join(",")),e.ce=n}return e.ce}function by(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Uve(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!e8(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!QH(t.startAt,e.startAt)&&QH(t.endAt,e.endAt)}function gM(t){return Ce.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function _M(t,e){return t.filters.filter(n=>n instanceof Et&&n.field.isEqual(e))}function o8(t,e,n){let r=hM,i=!0;for(const o of _M(t,e)){let s=hM,a=!0;switch(o.op){case"<":case"<=":s=Lve(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=hM}qH({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(null!==n)for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];qH({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}return{value:r,inclusive:i}}function s8(t,e,n){let r=Vl,i=!0;for(const o of _M(t,e)){let s=Vl,a=!0;switch(o.op){case">=":case">":s=Vve(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Vl}KH({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(null!==n)for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];KH({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}return{value:r,inclusive:i}}class fc{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null}}function a8(t,e,n,r,i,o,s,a){return new fc(t,e,n,r,i,o,s,a)}function af(t){return new fc(t)}function c8(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function dx(t){return null!==t.collectionGroup}function cf(t){const e=ve(t);if(null===e.le){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Jt(bn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Iy(o,r))}),n.has(bn.keyField().canonicalString())||e.le.push(new Iy(bn.keyField(),r))}return e.le}function Xi(t){const e=ve(t);return e.he||(e.he=function l8(t,e){if("F"===t.limitType)return ux(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new Iy(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new jl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new jl(t.startAt.position,t.startAt.inclusive):null;return ux(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,cf(t))),e.he}function hx(t,e){const n=t.filters.concat([e]);return new fc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function mM(t,e,n){return new fc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ty(t,e){return by(Xi(t),Xi(e))&&t.limitType===e.limitType}function u8(t){return`${md(Xi(t))}|lt:${t.limitType}`}function lf(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>n8(i)).join(", ")}]`),Cy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>rf(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>rf(i)).join(",")),`Target(${r})`}(Xi(t))}; limitType=${t.limitType})`}function Ay(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ce.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of cf(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(s,a,c){const l=YH(s,a,c);return s.inclusive?l<=0:l<0}(r.startAt,cf(r),i)||r.endAt&&!function(s,a,c){const l=YH(s,a,c);return s.inclusive?l>=0:l>0}(r.endAt,cf(r),i)));var r,i}function d8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function h8(t){return(e,n)=>{let r=!1;for(const i of cf(t)){const o=qve(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function qve(t,e,n){const r=t.field.isKeyField()?Ce.comparator(e.key,n.key):function(o,s,a){const c=s.data.field(o),l=a.data.field(o);return null!==c&&null!==l?Bl(c,l):Ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ae()}}class gc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Nl(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return BH(this.inner)}size(){return this.innerSize}}const Kve=new gn(Ce.comparator);function _o(){return Kve}const p8=new gn(Ce.comparator);function Dy(...t){let e=p8;for(const n of t)e=e.insert(n.key,n);return e}function f8(t){let e=p8;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Pa(){return Sy()}function g8(){return Sy()}function Sy(){return new gc(t=>t.toString(),(t,e)=>t.isEqual(e))}const Zve=new gn(Ce.comparator),Yve=new Jt(Ce.comparator);function st(...t){let e=Yve;for(const n of t)e=e.add(n);return e}const Qve=new Jt(Ze);function px(){return Qve}function _8(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wy(e)?"-0":e}}function m8(t){return{integerValue:""+t}}function y8(t,e){return xH(e)?m8(e):_8(t,e)}class yM{constructor(){this._=void 0}}function Xve(t,e,n){return t instanceof uf?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&uM(o)&&(o=dM(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof yd?C8(t,e):t instanceof vd?w8(t,e):function(i,o){const s=v8(i,o),a=P8(s)+P8(i.Ie);return sx(s)&&sx(i.Ie)?m8(a):_8(i.serializer,a)}(t,e)}function Jve(t,e,n){return t instanceof yd?C8(t,e):t instanceof vd?w8(t,e):n}function v8(t,e){return t instanceof df?sx(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class uf extends yM{}class yd extends yM{constructor(e){super(),this.elements=e}}function C8(t,e){const n=M8(e);for(const r of t.elements)n.some(i=>wa(i,r))||n.push(r);return{arrayValue:{values:n}}}class vd extends yM{constructor(e){super(),this.elements=e}}function w8(t,e){let n=M8(e);for(const r of t.elements)n=n.filter(i=>!wa(i,r));return{arrayValue:{values:n}}}class df extends yM{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function P8(t){return Jn(t.integerValue||t.doubleValue)}function M8(t){return Ey(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class xy{constructor(e,n){this.field=e,this.transform=n}}class tCe{constructor(e,n){this.version=e,this.transformResults=n}}class Ln{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ln}static exists(e){return new Ln(void 0,e)}static updateTime(e){return new Ln(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vM(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class CM{}function E8(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new pf(t.key,Ln.none()):new hf(t.key,t.data,Ln.none());{const n=t.data,r=li.empty();let i=new Jt(bn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new _c(t.key,r,new go(i.toArray()),Ln.none())}}function nCe(t,e,n){t instanceof hf?function(i,o,s){const a=i.value.clone(),c=b8(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof _c?function(i,o,s){if(!vM(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=b8(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(I8(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Ry(t,e,n,r){return t instanceof hf?function(o,s,a,c){if(!vM(o.precondition,s))return a;const l=o.value.clone(),h=T8(o.fieldTransforms,c,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof _c?function(o,s,a,c){if(!vM(o.precondition,s))return a;const l=T8(o.fieldTransforms,c,s),h=s.data;return h.setAll(I8(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):(a=n,vM(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function rCe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=v8(r.transform,i||null);null!=o&&(null===n&&(n=li.empty()),n.set(r.field,o))}return n||null}function O8(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&Jp(r,i,(o,s)=>function eCe(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof yd&&i instanceof yd||r instanceof vd&&i instanceof vd?Jp(r.elements,i.elements,wa):r instanceof df&&i instanceof df?wa(r.Ie,i.Ie):r instanceof uf&&i instanceof uf);var r,i}(o,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class hf extends CM{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _c extends CM{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function I8(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function b8(t,e,n){const r=new Map;Le(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Jve(s,a,n[i]))}return r}function T8(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Xve(o,s,e))}return r}class pf extends CM{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fx extends CM{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class gx{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&nCe(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ry(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ry(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=g8();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const c=E8(s,a);null!==c&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Ve.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),st())}isEqual(e){return this.batchId===e.batchId&&Jp(this.mutations,e.mutations,(n,r)=>O8(n,r))&&Jp(this.baseMutations,e.baseMutations,(n,r)=>O8(n,r))}}class _x{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Le(e.mutations.length===r.length);let i=Zve;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new _x(e,n,r,i)}}class mx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class oCe{constructor(e,n){this.count=e,this.unchangedNames=n}}var Cr,Nt;function A8(t){switch(t){default:return Ae();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0}}function D8(t){if(void 0===t)return lr("GRPC error has no .code"),K.UNKNOWN;switch(t){case Cr.OK:return K.OK;case Cr.CANCELLED:return K.CANCELLED;case Cr.UNKNOWN:return K.UNKNOWN;case Cr.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Cr.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Cr.INTERNAL:return K.INTERNAL;case Cr.UNAVAILABLE:return K.UNAVAILABLE;case Cr.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Cr.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Cr.NOT_FOUND:return K.NOT_FOUND;case Cr.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Cr.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Cr.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Cr.ABORTED:return K.ABORTED;case Cr.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Cr.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Cr.DATA_LOSS:return K.DATA_LOSS;default:return Ae()}}(Nt=Cr||(Cr={}))[Nt.OK=0]="OK",Nt[Nt.CANCELLED=1]="CANCELLED",Nt[Nt.UNKNOWN=2]="UNKNOWN",Nt[Nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nt[Nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nt[Nt.NOT_FOUND=5]="NOT_FOUND",Nt[Nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nt[Nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nt[Nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nt[Nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nt[Nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nt[Nt.ABORTED=10]="ABORTED",Nt[Nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nt[Nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nt[Nt.INTERNAL=13]="INTERNAL",Nt[Nt.UNAVAILABLE=14]="UNAVAILABLE",Nt[Nt.DATA_LOSS=15]="DATA_LOSS";function S8(){return new TextEncoder}const sCe=new Yp([4294967295,4294967295],0);function x8(t){const e=S8().encode(t),n=new Jye;return n.update(e),new Uint8Array(n.digest())}function R8(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Yp([n,r],0),new Yp([i,o],0)]}class yx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ky(`Invalid padding: ${n}`);if(r<0)throw new ky(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new ky(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new ky(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Yp.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Yp.fromNumber(r)));return 1===i.compare(sCe)&&(i=new Yp([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=x8(e),[r,i]=R8(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new yx(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const n=x8(e),[r,i]=R8(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class ky extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ny{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Fy.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ny(Ve.min(),i,new gn(Ze),_o(),st())}}class Fy{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Fy(r,n,st(),st(),st())}}class PM{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class k8{constructor(e,n){this.targetId=e,this.fe=n}}class N8{constructor(e,n,r=Fr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class F8{constructor(){this.ge=0,this.pe=V8(),this.ye=Fr.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=st(),n=st(),r=st();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ae()}}),new Fy(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=V8()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class aCe{constructor(e){this.Le=e,this.ke=new Map,this.qe=_o(),this.Qe=L8(),this.Ke=new gn(Ze)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(gM(o))if(0===r){const s=new Ce(o.path);this.We(n,s,Tn.newNoDocument(s,Ve.min()))}else Le(1===r);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),c=a?this.et(a,e,s):1;0!==c&&(this.He(n),this.Ke=this.Ke.insert(n,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=pc(r).toUint8Array()}catch(c){if(c instanceof $H)return fo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new yx(s,i,o)}catch(c){return fo(c instanceof ky?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&gM(a.target)){const c=new Ce(a.target.path);null!==this.qe.get(c)||this.st(s,c)||this.We(s,c,Tn.newNoDocument(c,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=st();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const l=this.Ye(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new Ny(e,n,this.Ke,this.qe,r);return this.qe=_o(),this.Qe=L8(),this.Ke=new gn(Ze),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new F8,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Jt(Ze),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||he("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new F8),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function L8(){return new gn(Ce.comparator)}function V8(){return new gn(Ce.comparator)}const cCe={asc:"ASCENDING",desc:"DESCENDING"},lCe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uCe={and:"AND",or:"OR"};class dCe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vx(t,e){return t.useProto3Json||Cy(e)?e:{value:e}}function ff(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function U8(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hCe(t,e){return ff(t,e.toTimestamp())}function ur(t){return Le(!!t),Ve.fromTimestamp(function(n){const r=Fl(n);return new Fn(r.seconds,r.nanos)}(t))}function Cx(t,e){return(r=t,new kt(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function B8(t){const e=kt.fromString(t);return Le(Z8(e)),e}function Ly(t,e){return Cx(t.databaseId,e.path)}function Ma(t,e){const n=B8(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ce($8(n))}function wx(t,e){return Cx(t.databaseId,e)}function j8(t){const e=B8(t);return 4===e.length?kt.emptyPath():$8(e)}function Vy(t){return new kt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $8(t){return Le(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function H8(t,e,n){return{name:Ly(t,e),fields:n.value.mapValue.fields}}function z8(t,e,n){const r=Ma(t,e.name),i=ur(e.updateTime),o=e.createTime?ur(e.createTime):Ve.min(),s=new li({mapValue:{fields:e.fields}}),a=Tn.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Uy(t,e){let n;if(e instanceof hf)n={update:H8(t,e.key,e.value)};else if(e instanceof pf)n={delete:Ly(t,e.key)};else if(e instanceof _c)n={update:H8(t,e.key,e.data),updateMask:CCe(e.fieldMask)};else{if(!(e instanceof fx))return Ae();n={verify:Ly(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof uf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof yd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof vd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof df)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw Ae()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:hCe(t,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Ae()),n;var o}function Px(t,e){const n=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Ln.updateTime(ur(o.updateTime)):void 0!==o.exists?Ln.exists(o.exists):Ln.none():Ln.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let c=null;"setToServerValue"in a?(Le("REQUEST_TIME"===a.setToServerValue),c=new uf):"appendMissingElements"in a?c=new yd(a.appendMissingElements.values||[]):"removeAllFromArray"in a?c=new vd(a.removeAllFromArray.values||[]):"increment"in a?c=new df(s,a.increment):Ae();const l=bn.fromServerFormat(a.fieldPath);return new xy(l,c)}(t,i)):[];var o;if(e.update){const i=Ma(t,e.update.name),o=new li({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new go((e.updateMask.fieldPaths||[]).map(h=>bn.fromServerFormat(h)));return new _c(i,o,s,n,r)}return new hf(i,o,n,r)}if(e.delete){const i=Ma(t,e.delete);return new pf(i,n)}if(e.verify){const i=Ma(t,e.verify);return new fx(i,n)}return Ae()}function W8(t,e){return{documents:[wx(t,e.path)]}}function Mx(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=wx(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=wx(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return K8(Kt.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(0!==c.length)return c.map(l=>{return{field:$l((f=l).field),direction:mCe(f.dir)};var f})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=vx(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n;var c}function G8(t){let e=j8(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Le(1===r);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(f){const _=q8(f);return _ instanceof Kt&&cx(_)?_.getFilters():[_]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(_=>{return new Iy(gf((M=_).field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let a=null;n.limit&&(a=function(f){let _;return _="object"==typeof f?f.value:f,Cy(_)?null:_}(n.limit));let c=null;var f;n.startAt&&(c=new jl((f=n.startAt).values||[],!!f.before));let l=null;return n.endAt&&(l=function(f){return new jl(f.values||[],!f.before)}(n.endAt)),a8(e,i,s,o,a,"F",c,l)}function q8(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=gf(n.unaryFilter.field);return Et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=gf(n.unaryFilter.field);return Et.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=gf(n.unaryFilter.field);return Et.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=gf(n.unaryFilter.field);return Et.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(t):void 0!==t.fieldFilter?Et.create(gf((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return Kt.create(n.compositeFilter.filters.map(r=>q8(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ae()}}(n.compositeFilter.op))}(t):Ae();var n}function mCe(t){return cCe[t]}function yCe(t){return lCe[t]}function vCe(t){return uCe[t]}function $l(t){return{fieldPath:t.canonicalString()}}function gf(t){return bn.fromServerFormat(t.fieldPath)}function K8(t){return t instanceof Et?function(n){if("=="===n.op){if(WH(n.value))return{unaryFilter:{field:$l(n.field),op:"IS_NAN"}};if(zH(n.value))return{unaryFilter:{field:$l(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(WH(n.value))return{unaryFilter:{field:$l(n.field),op:"IS_NOT_NAN"}};if(zH(n.value))return{unaryFilter:{field:$l(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$l(n.field),op:yCe(n.op),value:n.value}}}(t):t instanceof Kt?function(n){const r=n.getFilters().map(i=>K8(i));return 1===r.length?r[0]:{compositeFilter:{op:vCe(n.op),filters:r}}}(t):Ae()}function CCe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Z8(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class mc{constructor(e,n,r,i,o=Ve.min(),s=Ve.min(),a=Fr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new mc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new mc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Y8{constructor(e){this.ut=e}}function Q8(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:MM(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Ly(o=t.ut,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:ff(o,s.version.toTimestamp()),createTime:ff(o,s.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Cd(e.version)};else{if(!e.isUnknownDocument())return Ae();r.unknownDocument={path:n.path.toArray(),version:Cd(e.version)}}var o,s;return r}function MM(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Cd(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function wd(t){const e=new Fn(t.seconds,t.nanoseconds);return Ve.fromTimestamp(e)}function Pd(t,e){const n=(e.baseMutations||[]).map(o=>Px(t.ut,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const r=e.mutations.map(o=>Px(t.ut,o)),i=Fn.fromMillis(e.localWriteTimeMs);return new gx(e.batchId,i,n,r)}function By(t){const e=wd(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?wd(t.lastLimboFreeSnapshotVersion):Ve.min();let r;return r=void 0!==t.query.documents?(Le(1===(o=t.query).documents.length),Xi(af(j8(o.documents[0])))):function(o){return Xi(G8(o))}(t.query),new mc(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Fr.fromBase64String(t.resumeToken));var o}function X8(t,e){const n=Cd(e.snapshotVersion),r=Cd(e.lastLimboFreeSnapshotVersion);let i;i=gM(e.target)?W8(t.ut,e.target):Mx(t.ut,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:md(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Ex(t){const e=G8({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?mM(e,e.limit,"L"):e}function Ox(t,e){return new mx(e.largestBatchId,Px(t.ut,e.overlayMutation))}function J8(t,e){const n=e.path.lastSegment();return[t,Ai(e.path.popLast()),n]}function ez(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:Cd(r.readTime),documentKey:Ai(r.documentKey.path),largestBatchId:r.largestBatchId}}class PCe{getBundleMetadata(e,n){return tz(e).get(n).next(r=>{if(r)return{id:(o=r).bundleId,createTime:wd(o.createTime),version:o.version};var o})}saveBundleMetadata(e,n){return tz(e).put({bundleId:(i=n).id,createTime:Cd(ur(i.createTime)),version:i.version});var i}getNamedQuery(e,n){return nz(e).get(n).next(r=>{if(r)return{name:(o=r).name,query:Ex(o.bundledQuery),readTime:wd(o.readTime)};var o})}saveNamedQuery(e,n){return nz(e).put({name:(i=n).name,readTime:Cd(ur(i.readTime)),bundledQuery:i.bundledQuery});var i}}function tz(t){return Gr(t,"bundles")}function nz(t){return Gr(t,"namedQueries")}class EM{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){return new EM(e,n.uid||"")}getOverlay(e,n){return jy(e).get(J8(this.userId,n)).next(r=>r?Ox(this.serializer,r):null)}getOverlays(e,n){const r=Pa();return j.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((o,s)=>{const a=new mx(n,s);i.push(this.lt(e,a))}),j.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(s=>i.add(Ai(s.getCollectionPath())));const o=[];return i.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(jy(e).H("collectionPathOverlayIndex",a))}),j.waitFor(o)}getOverlaysForCollection(e,n,r){const i=Pa(),o=Ai(n),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return jy(e).W("collectionPathOverlayIndex",s).next(a=>{for(const c of a){const l=Ox(this.serializer,c);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const o=Pa();let s;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return jy(e).Y({index:"collectionGroupOverlayIndex",range:a},(c,l,h)=>{const f=Ox(this.serializer,l);o.size()<i||f.largestBatchId===s?(o.set(f.getKey(),f),s=f.largestBatchId):h.done()}).next(()=>o)}lt(e,n){return jy(e).put(function(i,o,s){const[a,c,l]=J8(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Uy(i.ut,s.mutation)}}(this.serializer,this.userId,n))}}function jy(t){return Gr(t,"documentOverlays")}class Md{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Jn(e.integerValue));else if("doubleValue"in e){const r=Jn(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),wy(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),"string"==typeof r?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(pc(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?GH(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):Ae()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),Ce.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}function MCe(t){if(0===t)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function rz(t){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const s=MCe(255&r[o]);if(i+=s,8!==s)break}return i}(t);return Math.ceil(e/8)}Md.St=new Md;class ECe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Dt(r.value),r=n.next();this.Ct()}vt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{const i=n.codePointAt(0);this.Dt(240|i>>>18),this.Dt(128|63&i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i)}}this.Ct()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Nt(e){const n=this.Bt(e),r=rz(n);this.Lt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}kt(e){const n=this.Bt(e),r=rz(n);this.Lt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=0!=(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Dt(e){const n=255&e;0===n?(this.Qt(0),this.Qt(255)):255===n?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){const n=255&e;0===n?(this.$t(0),this.$t(255)):255===n?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class OCe{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class ICe{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class $y{constructor(){this.Wt=new ECe,this.Gt=new OCe(this.Wt),this.zt=new ICe(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Ed{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Ht(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ed(this.indexId,this.documentKey,this.arrayValue,r)}}function Hl(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=iz(t.arrayValue,e.arrayValue),0!==n?n:(n=iz(t.directionalValue,e.directionalValue),0!==n?n:Ce.comparator(t.documentKey,e.documentKey)))}function iz(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(0!==r)return r}return t.length-e.length}class oz{constructor(e){this.Jt=new Jt((n,r)=>bn.comparator(n.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(Le(e.collectionGroup===this.collectionId),this.Xt)return!1;const n=ex(e);if(void 0!==n&&!this.tn(n))return!1;const r=pd(e);let i=new Set,o=0,s=0;for(;o<r.length&&this.tn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const c=r[o];if(!this.nn(a,c)||!this.rn(this.Yt[s++],c))return!1}++o}for(;o<r.length;++o)if(s>=this.Yt.length||!this.rn(this.Yt[s++],r[o]))return!1;return!0}sn(){if(this.Xt)return null;let e=new Jt(bn.comparator);const n=[];for(const r of this.Zt)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)n.push(new fd(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new fd(r.field,0))}for(const r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new fd(r.field,"asc"===r.dir?0:1)));return new ef(ef.UNKNOWN_ID,this.collectionId,n,tf.empty())}tn(e){for(const n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function sz(t){var e,n;if(Le(t instanceof Et||t instanceof Kt),t instanceof Et){if(t instanceof i8){const i=(null===(n=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(o=>Et.create(t.field,"==",o)))||[];return Kt.create(i,"or")}return t}const r=t.filters.map(i=>sz(i));return Kt.create(r,t.op)}function bCe(t){if(0===t.getFilters().length)return[];const e=Tx(sz(t));return Le(az(e)),Ix(e)||bx(e)?[e]:e.getFilters()}function Ix(t){return t instanceof Et}function bx(t){return t instanceof Kt&&cx(t)}function az(t){return Ix(t)||bx(t)||function(n){if(n instanceof Kt&&ax(n)){for(const r of n.getFilters())if(!Ix(r)&&!bx(r))return!1;return!0}return!1}(t)}function Tx(t){if(Le(t instanceof Et||t instanceof Kt),t instanceof Et)return t;if(1===t.filters.length)return Tx(t.filters[0]);const e=t.filters.map(r=>Tx(r));let n=Kt.create(e,t.op);return n=OM(n),az(n)?n:(Le(n instanceof Kt),Le(sf(n)),Le(n.filters.length>1),n.filters.reduce((r,i)=>Ax(r,i)))}function Ax(t,e){let n;return Le(t instanceof Et||t instanceof Kt),Le(e instanceof Et||e instanceof Kt),n=t instanceof Et?e instanceof Et?Kt.create([t,e],"and"):cz(t,e):e instanceof Et?cz(e,t):function(i,o){if(Le(i.filters.length>0&&o.filters.length>0),sf(i)&&sf(o))return t8(i,o.getFilters());const s=ax(i)?i:o,a=ax(i)?o:i,c=s.filters.map(l=>Ax(l,a));return Kt.create(c,"or")}(t,e),OM(n)}function cz(t,e){if(sf(e))return t8(e,t.getFilters());{const n=e.filters.map(r=>Ax(t,r));return Kt.create(n,"or")}}function OM(t){if(Le(t instanceof Et||t instanceof Kt),t instanceof Et)return t;const e=t.getFilters();if(1===e.length)return OM(e[0]);if(JH(t))return t;const n=e.map(i=>OM(i)),r=[];return n.forEach(i=>{i instanceof Et?r.push(i):i instanceof Kt&&(i.op===t.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Kt.create(r,t.op)}class TCe{constructor(){this.on=new Dx}addToCollectionParentIndex(e,n){return this.on.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(Ro.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(Ro.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class Dx{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Jt(kt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Jt(kt.comparator)).toArray()}}const IM=new Uint8Array(0);class ACe{constructor(e,n){this.user=e,this.databaseId=n,this._n=new Dx,this.an=new gc(r=>md(r),(r,i)=>by(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});const o={collectionId:r,parent:Ai(i)};return lz(e).put(o)}return j.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[IH(n),""],!1,!0);return lz(e).W(i).next(o=>{for(const s of o){if(s.collectionId!==n)break;r.push(Ca(s.parent))}return r})}addFieldIndex(e,n){const r=Hy(e),i={indexId:(a=n).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;delete i.indexId;const o=r.add(i);if(n.indexState){const s=mf(e);return o.next(a=>{s.put(ez(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const r=Hy(e),i=mf(e),o=_f(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Hy(e),r=_f(e),i=mf(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return j.forEach(this.un(n),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const o=new oz(r).sn();if(null!=o)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){const r=_f(e);let i=!0;const o=new Map;return j.forEach(this.un(n),s=>this.cn(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=st();const a=[];return j.forEach(o,(c,l)=>{var W;he("IndexedDbIndexManager",`Using index ${W=c,`id=${W.indexId}|cg=${W.collectionGroup}|f=${W.fields.map(z=>`${z.fieldPath}:${z.kind}`).join(",")}`} to execute ${md(n)}`);const h=function(W,z){const fe=ex(z);if(void 0===fe)return null;for(const Ie of _M(W,fe.fieldPath))switch(Ie.op){case"array-contains-any":return Ie.value.arrayValue.values||[];case"array-contains":return[Ie.value]}return null}(l,c),f=function(W,z){const fe=new Map;for(const Ie of pd(z))for(const ct of _M(W,Ie.fieldPath))switch(ct.op){case"==":case"in":fe.set(Ie.fieldPath.canonicalString(),ct.value);break;case"not-in":case"!=":return fe.set(Ie.fieldPath.canonicalString(),ct.value),Array.from(fe.values())}return null}(l,c),_=function(W,z){const fe=[];let Ie=!0;for(const ct of pd(z)){const en=0===ct.kind?o8(W,ct.fieldPath,W.startAt):s8(W,ct.fieldPath,W.startAt);fe.push(en.value),Ie&&(Ie=en.inclusive)}return new jl(fe,Ie)}(l,c),v=function(W,z){const fe=[];let Ie=!0;for(const ct of pd(z)){const en=0===ct.kind?s8(W,ct.fieldPath,W.endAt):o8(W,ct.fieldPath,W.endAt);fe.push(en.value),Ie&&(Ie=en.inclusive)}return new jl(fe,Ie)}(l,c),M=this.ln(c,l,_),b=this.ln(c,l,v),T=this.hn(c,l,f),V=this.Pn(c.indexId,h,M,_.inclusive,b,v.inclusive,T);return j.forEach(V,N=>r.j(N,n.limit).next(W=>{W.forEach(z=>{const fe=Ce.fromSegments(z.documentKey);s.has(fe)||(s=s.add(fe),a.push(fe))})}))}).next(()=>a)}return j.resolve(null)})}un(e){let n=this.an.get(e);return n||(n=0===e.filters.length?[e]:bCe(Kt.create(e.filters,"and")).map(r=>ux(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,r,i,o,s,a){const c=(null!=n?n.length:1)*Math.max(r.length,o.length),l=c/(null!=n?n.length:1),h=[];for(let f=0;f<c;++f){const _=n?this.In(n[f/l]):IM,v=this.Tn(e,_,r[f%l],i),M=this.En(e,_,o[f%l],s),b=a.map(T=>this.Tn(e,_,T,!0));h.push(...this.createRange(v,M,b))}return h}Tn(e,n,r,i){const o=new Ed(e,Ce.empty(),n,r);return i?o:o.Ht()}En(e,n,r,i){const o=new Ed(e,Ce.empty(),n,r);return i?o.Ht():o}cn(e,n){const r=new oz(n),i=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(const a of o)r.en(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let r=2;const i=this.un(n);return j.forEach(i,o=>this.cn(e,o).next(s=>{s?0!==r&&s.fields.length<function(c){let l=new Jt(bn.comparator),h=!1;for(const f of c.filters)for(const _ of f.getFlattenedFilters())_.field.isKeyField()||("array-contains"===_.op||"array-contains-any"===_.op?h=!0:l=l.add(_.field));for(const f of c.orderBy)f.field.isKeyField()||(l=l.add(f.field));return l.size+(h?1:0)}(o)&&(r=1):r=0})).next(()=>null!==n.limit&&i.length>1&&2===r?1:r)}dn(e,n){const r=new $y;for(const i of pd(e)){const o=n.data.field(i.fieldPath);if(null==o)return null;const s=r.jt(i.kind);Md.St.ht(o,s)}return r.Ut()}In(e){const n=new $y;return Md.St.ht(e,n.jt(0)),n.Ut()}An(e,n){const r=new $y;return Md.St.ht(_d(this.databaseId,n),r.jt(function(o){const s=pd(o);return 0===s.length?0:s[s.length-1].kind}(e))),r.Ut()}hn(e,n,r){if(null===r)return[];let i=[];i.push(new $y);let o=0;for(const s of pd(e)){const a=r[o++];for(const c of i)if(this.Rn(n,s.fieldPath)&&Ey(a))i=this.Vn(i,s,a);else{const l=c.jt(s.kind);Md.St.ht(a,l)}}return this.mn(i)}ln(e,n,r){return this.hn(e,n,r.position)}mn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Ut();return n}Vn(e,n,r){const i=[...e],o=[];for(const s of r.arrayValue.values||[])for(const a of i){const c=new $y;c.seed(a.Ut()),Md.St.ht(s,c.jt(n.kind)),o.push(c)}return o}Rn(e,n){return!!e.filters.find(r=>r instanceof Et&&r.field.isEqual(n)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,n){const r=Hy(e),i=mf(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(o=>{const s=[];return j.forEach(o,a=>i.get([a.indexId,this.uid]).next(c=>{s.push(function(h,f){const _=f?new tf(f.sequenceNumber,new Ro(wd(f.readTime),new Ce(Ca(f.documentKey)),f.largestBatchId)):tf.empty(),v=h.fields.map(([M,b])=>new fd(bn.fromServerFormat(M),b));return new ef(h.indexId,h.collectionGroup,v,_)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==o?o:Ze(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Hy(e),o=mf(e);return this.fn(e).next(s=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>j.forEach(a,c=>o.put(ez(c.indexId,this.user,s,r)))))}updateIndexEntries(e,n){const r=new Map;return j.forEach(n,(i,o)=>{const s=r.get(i.collectionGroup);return(s?j.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),j.forEach(a,c=>this.gn(e,i,c).next(l=>{const h=this.pn(o,c);return l.isEqual(h)?j.resolve():this.yn(e,o,c,l,h)}))))})}wn(e,n,r,i){return _f(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.An(r,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,r,i){return _f(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.An(r,n.key),n.key.path.toArray()])}gn(e,n,r){const i=_f(e);let o=new Jt(Hl);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,n)])},(s,a)=>{o=o.add(new Ed(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}pn(e,n){let r=new Jt(Hl);const i=this.dn(n,e);if(null==i)return r;const o=ex(n);if(null!=o){const s=e.data.field(o.fieldPath);if(Ey(s))for(const a of s.arrayValue.values||[])r=r.add(new Ed(n.indexId,e.key,this.In(a),i))}else r=r.add(new Ed(n.indexId,e.key,IM,i));return r}yn(e,n,r,i,o){he("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const s=[];return function(c,l,h,f,_){const v=c.getIterator(),M=l.getIterator();let b=nf(v),T=nf(M);for(;b||T;){let V=!1,N=!1;if(b&&T){const W=h(b,T);W<0?N=!0:W>0&&(V=!0)}else null!=b?N=!0:V=!0;V?(f(T),T=nf(M)):N?(_(b),b=nf(v)):(b=nf(v),T=nf(M))}}(i,o,Hl,a=>{s.push(this.wn(e,n,r,a))},a=>{s.push(this.Sn(e,n,r,a))}),j.waitFor(s)}fn(e){let n=1;return mf(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,a)=>Hl(s,a)).filter((s,a,c)=>!a||0!==Hl(s,c[a-1]));const i=[];i.push(e);for(const s of r){const a=Hl(s,e),c=Hl(s,n);if(0===a)i[0]=e.Ht();else if(a>0&&c<0)i.push(s),i.push(s.Ht());else if(c>0)break}i.push(n);const o=[];for(let s=0;s<i.length;s+=2){if(this.bn(i[s],i[s+1]))return[];o.push(IDBKeyRange.bound([i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,IM,[]],[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,IM,[]]))}return o}bn(e,n){return Hl(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(uz)}getMinOffset(e,n){return j.mapArray(this.un(n),r=>this.cn(e,r).next(i=>i||Ae())).next(uz)}}function lz(t){return Gr(t,"collectionParents")}function _f(t){return Gr(t,"indexEntries")}function Hy(t){return Gr(t,"indexConfiguration")}function mf(t){return Gr(t,"indexState")}function uz(t){Le(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;tx(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Ro(e.readTime,e.documentKey,n)}const dz={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Di{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Di(e,Di.DEFAULT_COLLECTION_PERCENTILE,Di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function hz(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const c=r.Y({range:s},(h,f,_)=>(a++,_.delete()));o.push(c.next(()=>{Le(1===a)}));const l=[];for(const h of n.mutations){const f=NH(e,h.key.path,n.batchId);o.push(i.delete(f)),l.push(h.key)}return j.waitFor(o).next(()=>l)}function bM(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ae();e=t.noDocument}return JSON.stringify(e).length}Di.DEFAULT_COLLECTION_PERCENTILE=10,Di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Di.DEFAULT=new Di(41943040,Di.DEFAULT_COLLECTION_PERCENTILE,Di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Di.DISABLED=new Di(-1,0,0);class TM{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}static ct(e,n,r,i){Le(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new TM(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return zl(e).Y({index:"userMutationsIndex",range:r},(i,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const o=yf(e),s=zl(e);return s.add({}).next(a=>{Le("number"==typeof a);const c=new gx(a,n,r,i),l=function(v,M,b){const T=b.baseMutations.map(N=>Uy(v.ut,N)),V=b.mutations.map(N=>Uy(v.ut,N));return{userId:M,batchId:b.batchId,localWriteTimeMs:b.localWriteTime.toMillis(),baseMutations:T,mutations:V}}(this.serializer,this.userId,c),h=[];let f=new Jt((_,v)=>Ze(_.canonicalString(),v.canonicalString()));for(const _ of i){const v=NH(this.userId,_.key.path,a);f=f.add(_.key.path.popLast()),h.push(s.put(l)),h.push(o.put(v,mve))}return f.forEach(_=>{h.push(this.indexManager.addToCollectionParentIndex(e,_))}),e.addOnCommittedListener(()=>{this.Dn[a]=c.keys()}),j.waitFor(h).next(()=>c)})}lookupMutationBatch(e,n){return zl(e).get(n).next(r=>r?(Le(r.userId===this.userId),Pd(this.serializer,r)):null)}Cn(e,n){return this.Dn[n]?j.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Dn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return zl(e).Y({index:"userMutationsIndex",range:i},(s,a,c)=>{a.userId===this.userId&&(Le(a.batchId>=r),o=Pd(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return zl(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return zl(e).W("userMutationsIndex",n).next(r=>r.map(i=>Pd(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=cM(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return yf(e).Y({range:i},(s,a,c)=>{const[l,h,f]=s,_=Ca(h);if(l===this.userId&&n.path.isEqual(_))return zl(e).get(f).next(v=>{if(!v)throw Ae();Le(v.userId===this.userId),o.push(Pd(this.serializer,v))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Jt(Ze);const i=[];return n.forEach(o=>{const s=cM(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=yf(e).Y({range:a},(l,h,f)=>{const[_,v,M]=l,b=Ca(v);_===this.userId&&o.path.isEqual(b)?r=r.add(M):f.done()});i.push(c)}),j.waitFor(i).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=cM(this.userId,r),s=IDBKeyRange.lowerBound(o);let a=new Jt(Ze);return yf(e).Y({range:s},(c,l,h)=>{const[f,_,v]=c,M=Ca(_);f===this.userId&&r.isPrefixOf(M)?M.length===i&&(a=a.add(v)):h.done()}).next(()=>this.vn(e,a))}vn(e,n){const r=[],i=[];return n.forEach(o=>{i.push(zl(e).get(o).next(s=>{if(null===s)throw Ae();Le(s.userId===this.userId),r.push(Pd(this.serializer,s))}))}),j.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return hz(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),j.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return j.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return yf(e).Y({range:r},(o,s,a)=>{if(o[0]===this.userId){const c=Ca(o[1]);i.push(c)}else a.done()}).next(()=>{Le(0===i.length)})})}containsKey(e,n){return pz(e,this.userId,n)}Mn(e){return fz(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function pz(t,e,n){const r=cM(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return yf(t).Y({range:o,J:!0},(a,c,l)=>{const[h,f,_]=a;h===e&&f===i&&(s=!0),l.done()}).next(()=>s)}function zl(t){return Gr(t,"mutations")}function yf(t){return Gr(t,"documentMutations")}function fz(t){return Gr(t,"mutationQueues")}class Od{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Od(0)}static Nn(){return new Od(-1)}}class DCe{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new Od(n.highestTargetId);return n.highestTargetId=r.next(),this.Ln(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>Ve.fromTimestamp(new Fn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Ln(e,i)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.qn(n,r),this.Ln(e,r))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>vf(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(Le(r.targetCount>0),r.targetCount-=1,this.Ln(e,r)))}removeTargets(e,n,r){let i=0;const o=[];return vf(e).Y((s,a)=>{const c=By(a);c.sequenceNumber<=n&&null===r.get(c.targetId)&&(i++,o.push(this.removeTargetData(e,c)))}).next(()=>j.waitFor(o)).next(()=>i)}forEachTarget(e,n){return vf(e).Y((r,i)=>{const o=By(i);n(o)})}Bn(e){return gz(e).get("targetGlobalKey").next(n=>(Le(null!==n),n))}Ln(e,n){return gz(e).put("targetGlobalKey",n)}kn(e,n){return vf(e).put(X8(this.serializer,n))}qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=md(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return vf(e).Y({range:i,index:"queryTargetsIndex"},(s,a,c)=>{const l=By(a);by(n,l.target)&&(o=l,c.done())}).next(()=>o)}addMatchingKeys(e,n,r){const i=[],o=Wl(e);return n.forEach(s=>{const a=Ai(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),j.waitFor(i)}removeMatchingKeys(e,n,r){const i=Wl(e);return j.forEach(n,o=>{const s=Ai(o.path);return j.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){const r=Wl(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Wl(e);let o=st();return i.Y({range:r,J:!0},(s,a,c)=>{const l=Ca(s[1]),h=new Ce(l);o=o.add(h)}).next(()=>o)}containsKey(e,n){const r=Ai(n.path),i=IDBKeyRange.bound([r],[IH(r)],!1,!0);let o=0;return Wl(e).Y({index:"documentTargetsIndex",J:!0,range:i},([s,a],c,l)=>{0!==s&&(o++,l.done())}).next(()=>o>0)}_t(e,n){return vf(e).get(n).next(r=>r?By(r):null)}}function vf(t){return Gr(t,"targets")}function gz(t){return Gr(t,"targetGlobal")}function Wl(t){return Gr(t,"targetDocuments")}function _z([t,e],[n,r]){const i=Ze(t,n);return 0===i?Ze(e,r):i}class SCe{constructor(e){this.Qn=e,this.buffer=new Jt(_z),this.Kn=0}$n(){return++this.Kn}Un(e){const n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();_z(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class mz{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var n=this;he("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,x.Z)(function*(){n.Wn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){kl(r)?he("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Rl(r)}yield n.Gn(3e5)}))}}class xCe{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return j.resolve(ko._e);const r=new SCe(n);return this.zn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.zn.Hn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(dz)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dz):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let r,i,o,s,a,c,l;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(l=Date.now(),Xp()<=Mi.in.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-h}ms\n\tDetermined least recently used ${i} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(c-a)+`ms\n\tRemoved ${f} documents in `+(l-c)+`ms\nTotal Duration: ${l-h}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}class RCe{constructor(e,n){this.db=e,this.garbageCollector=function yz(t,e){return new xCe(t,e)}(this,n)}jn(e){const n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Yn(e){let n=0;return this.Hn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(r,i)=>n(i))}addReference(e,n,r){return AM(e,r)}removeReference(e,n,r){return AM(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return AM(e,n)}Xn(e,n){return function(i,o){let s=!1;return fz(i).Z(a=>pz(i,a,o).next(c=>(c&&(s=!0),j.resolve(!c)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Zn(e,(s,a)=>{if(a<=n){const c=this.Xn(e,s).next(l=>{if(!l)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,Ve.min()),Wl(e).delete([0,Ai(s.path)])))});i.push(c)}}).next(()=>j.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return AM(e,n)}Zn(e,n){const r=Wl(e);let i,o=ko._e;return r.Y({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:l})=>{0===s?(o!==ko._e&&n(new Ce(Ca(i)),o),o=l,i=c):o=ko._e}).next(()=>{o!==ko._e&&n(new Ce(Ca(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function AM(t,e){return Wl(t).put((i=t.currentSequenceNumber,{targetId:0,path:Ai(e.path),sequenceNumber:i}));var i}class vz{constructor(){this.changes=new gc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kCe{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Id(e).put(r)}removeEntry(e,n,r){return Id(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],MM(s),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.er(e,r)))}getEntry(e,n){let r=Tn.newInvalidDocument(n);return Id(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(zy(n))},(i,o)=>{r=this.tr(n,o)}).next(()=>r)}nr(e,n){let r={size:0,document:Tn.newInvalidDocument(n)};return Id(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(zy(n))},(i,o)=>{r={document:this.tr(n,o),size:bM(o)}}).next(()=>r)}getEntries(e,n){let r=_o();return this.rr(e,n,(i,o)=>{const s=this.tr(i,o);r=r.insert(i,s)}).next(()=>r)}ir(e,n){let r=_o(),i=new gn(Ce.comparator);return this.rr(e,n,(o,s)=>{const a=this.tr(o,s);r=r.insert(o,a),i=i.insert(o,bM(s))}).next(()=>({documents:r,sr:i}))}rr(e,n,r){if(n.isEmpty())return j.resolve();let i=new Jt(Mz);n.forEach(c=>i=i.add(c));const o=IDBKeyRange.bound(zy(i.first()),zy(i.last())),s=i.getIterator();let a=s.getNext();return Id(e).Y({index:"documentKeyIndex",range:o},(c,l,h)=>{const f=Ce.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&Mz(a,f)<0;)r(a,null),a=s.getNext();a&&a.isEqual(f)&&(r(a,l),a=s.hasNext()?s.getNext():null),a?h.U(zy(a)):h.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,o){const s=n.path,a=[s.popLast().toArray(),s.lastSegment(),MM(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Id(e).W(IDBKeyRange.bound(a,c,!0)).next(l=>{o?.incrementDocumentReadCount(l.length);let h=_o();for(const f of l){const _=this.tr(Ce.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);_.isFoundDocument()&&(Ay(n,_)||i.has(_.key))&&(h=h.insert(_.key,_))}return h})}getAllFromCollectionGroup(e,n,r,i){let o=_o();const s=Pz(n,r),a=Pz(n,Ro.max());return Id(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,l,h)=>{const f=this.tr(Ce.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(f.key,f),o.size===i&&h.done()}).next(()=>o)}newChangeBuffer(e){return new NCe(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return wz(e).get("remoteDocumentGlobalKey").next(n=>(Le(!!n),n))}er(e,n){return wz(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){const r=function wCe(t,e){let n;if(e.document)n=z8(t.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ce.fromSegments(e.noDocument.path),i=wd(e.noDocument.readTime);n=Tn.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ae();{const r=Ce.fromSegments(e.unknownDocument.path),i=wd(e.unknownDocument.version);n=Tn.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const o=new Fn(i[0],i[1]);return Ve.fromTimestamp(o)}(e.readTime)),n}(this.serializer,n);if(!r.isNoDocument()||!r.version.isEqual(Ve.min()))return r}return Tn.newInvalidDocument(e)}}function Cz(t){return new kCe(t)}class NCe extends vz{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new gc(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Jt((o,s)=>Ze(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ar.get(o);if(n.push(this._r.removeEntry(e,o,a.readTime)),s.isValidDocument()){const c=Q8(this._r.serializer,s);i=i.add(o.path.popLast());const l=bM(c);r+=l-a.size,n.push(this._r.addEntry(e,o,c))}else if(r-=a.size,this.trackRemovals){const c=Q8(this._r.serializer,s.convertToNoDocument(Ve.min()));n.push(this._r.addEntry(e,o,c))}}),i.forEach(o=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,o))}),n.push(this._r.updateMetadata(e,r)),j.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(r=>(this.ar.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:r,sr:i})=>(i.forEach((o,s)=>{this.ar.set(o,{size:s,readTime:r.get(o).readTime})}),r))}}function wz(t){return Gr(t,"remoteDocumentGlobal")}function Id(t){return Gr(t,"remoteDocumentsV14")}function zy(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Pz(t,e){const n=e.documentKey.path.toArray();return[t,MM(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Mz(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=Ze(n[o],r[o]),i)return i;return i=Ze(n.length,r.length),i||(i=Ze(n[n.length-2],r[r.length-2]),i||Ze(n[n.length-1],r[r.length-1]))}class FCe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Ez{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Ry(r.mutation,i,go.empty(),Fn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,st()).next(()=>r))}getLocalViewOfDocuments(e,n,r=st()){const i=Pa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Dy();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Pa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,st()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=_o();const s=Sy(),a=Sy();return n.forEach((c,l)=>{const h=r.get(l.key);i.has(l.key)&&(void 0===h||h.mutation instanceof _c)?o=o.insert(l.key,l):void 0!==h?(s.set(l.key,h.mutation.getFieldMask()),Ry(h.mutation,l,h.mutation.getFieldMask(),Fn.now())):s.set(l.key,go.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var f;return a.set(l,new FCe(h,null!==(f=s.get(l))&&void 0!==f?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Sy();let i=new gn((s,a)=>s-a),o=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(c=>{const l=n.get(c);if(null===l)return;let h=r.get(c)||go.empty();h=a.applyToLocalView(l,h),r.set(c,h);const f=(i.get(a.batchId)||st()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,h=c.value,f=g8();h.forEach(_=>{if(!o.has(_)){const v=E8(n.get(_),r.get(_));null!==v&&f.set(_,v),o=o.add(_)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,f))}return j.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return Ce.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):dx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var s}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):j.resolve(Pa());let a=-1,c=o;return s.next(l=>j.forEach(l,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(h)?j.resolve():this.remoteDocumentCache.getEntry(e,h).next(_=>{c=c.insert(h,_)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,st())).next(h=>({batchId:a,changes:f8(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ce(n)).next(r=>{let i=Dy();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Dy();return this.indexManager.getCollectionParents(e,o).next(a=>j.forEach(a,c=>{const l=(f=n,_=c.child(o),new fc(_,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt));var f,_;return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((f,_)=>{s=s.insert(f,_)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,l)=>{const h=l.getKey();null===s.get(h)&&(s=s.insert(h,Tn.newInvalidDocument(h)))});let a=Dy();return s.forEach((c,l)=>{const h=o.get(c);void 0!==h&&Ry(h.mutation,l,go.empty(),Fn.now()),Ay(n,l)&&(a=a.insert(c,l))}),a})}}class LCe{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return j.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(i=n).id,version:i.version,createTime:ur(i.createTime)}),j.resolve();var i}getNamedQuery(e,n){return j.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(i=n).name,query:Ex(i.bundledQuery),readTime:ur(i.readTime)}),j.resolve();var i}}class VCe{constructor(){this.overlays=new gn(Ce.comparator),this.lr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Pa();return j.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.lt(e,n,o)}),j.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const i=Pa(),o=n.length+1,s=new Ce(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return j.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new gn((l,h)=>l-h);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);null===h&&(h=Pa(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}const a=Pa(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return j.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new mx(n,r));let o=this.lr.get(n);void 0===o&&(o=st(),this.lr.set(n,o)),this.lr.set(n,o.add(r.key))}}class Sx{constructor(){this.hr=new Jt(qr.Pr),this.Ir=new Jt(qr.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new qr(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new qr(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new Ce(new kt([])),r=new qr(n,e),i=new qr(n,e+1),o=[];return this.Ir.forEachInRange([r,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new Ce(new kt([])),r=new qr(n,e),i=new qr(n,e+1);let o=st();return this.Ir.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new qr(e,0),r=this.hr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class qr{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return Ce.comparator(e.key,n.key)||Ze(e.gr,n.gr)}static Tr(e,n){return Ze(e.gr,n.gr)||Ce.comparator(e.key,n.key)}}class UCe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Jt(qr.Pr)}checkEmpty(e){return j.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.pr;this.pr++;const s=new gx(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.yr=this.yr.add(new qr(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return j.resolve(s)}lookupMutationBatch(e,n){return j.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Sr(n+1),o=i<0?0:i;return j.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qr(n,0),i=new qr(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,i],s=>{const a=this.wr(s.gr);o.push(a)}),j.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Jt(Ze);return n.forEach(i=>{const o=new qr(i,0),s=new qr(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{r=r.add(a.gr)})}),j.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Ce.isDocumentKey(o)||(o=o.child(""));const s=new qr(new Ce(o),0);let a=new Jt(Ze);return this.yr.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.gr)),!0)},s),j.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){Le(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return j.forEach(n.mutations,i=>{const o=new qr(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new qr(n,0),i=this.yr.firstAfterOrEqual(r);return j.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return j.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class BCe{constructor(e){this.Cr=e,this.docs=new gn(Ce.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():Tn.newInvalidDocument(n))}getEntries(e,n){let r=_o();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Tn.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=_o();const s=n.path,a=new Ce(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:h}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||tx(TH(h),r)<=0||(i.has(h.key)||Ay(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return j.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ae()}vr(e,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new jCe(this)}getSize(e){return j.resolve(this.size)}}class jCe extends vz{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),j.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class $Ce{constructor(e){this.persistence=e,this.Fr=new gc(n=>md(n),by),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Sx,this.targetCount=0,this.Nr=Od.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),j.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Od(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.kn(n),j.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),j.waitFor(o).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),j.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),j.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this.Or.containsKey(n))}}class xx{constructor(e,n){this.Br={},this.overlays={},this.Lr=new ko(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new $Ce(this),this.indexManager=new TCe,this.remoteDocumentCache=new BCe(r=>this.referenceDelegate.Qr(r)),this.serializer=new Y8(n),this.Kr=new LCe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new VCe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new UCe(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const i=new HCe(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(e,n){return j.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class HCe extends DH{constructor(e){super(),this.currentSequenceNumber=e}}class DM{constructor(e){this.persistence=e,this.Gr=new Sx,this.zr=null}static jr(e){return new DM(e)}get Hr(){if(this.zr)return this.zr;throw Ae()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),j.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.Hr,r=>{const i=Ce.fromPath(r);return this.Jr(e,i).next(o=>{o||n.removeEntry(i,Ve.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return j.or([()=>j.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class zCe{constructor(e){this.serializer=e}N(e,n,r,i){const o=new aM("createOrUpgrade",n);var c;r<1&&i>=1&&(e.createObjectStore("owner"),(c=e).createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kH,{unique:!0}),c.createObjectStore("documentMutations"),Oz(e),function(c){c.createObjectStore("remoteDocuments")}(e));let s=j.resolve();return r<3&&i>=3&&(0!==r&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),Oz(e)),s=s.next(()=>function(c){const l=c.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ve.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",h)}(o))),r<4&&i>=4&&(0!==r&&(s=s.next(()=>function(c,l){return l.store("mutations").W().next(h=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kH,{unique:!0});const f=l.store("mutations"),_=h.map(v=>f.put(v));return j.waitFor(_)})}(e,o))),s=s.next(()=>{!function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(s=s.next(()=>this.Zr(o))),r<6&&i>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(o)))),r<7&&i>=7&&(s=s.next(()=>this.ei(o))),r<8&&i>=8&&(s=s.next(()=>this.ti(e,o))),r<9&&i>=9&&(s=s.next(()=>{!function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(s=s.next(()=>this.ni(o))),r<11&&i>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{!function(c){const l=c.createObjectStore("documentOverlays",{keyPath:Ave});l.createIndex("collectionPathOverlayIndex",Dve,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",Sve,{unique:!1})}(e)})),r<13&&i>=13&&(s=s.next(()=>function(c){const l=c.createObjectStore("remoteDocumentsV14",{keyPath:yve});l.createIndex("documentKeyIndex",vve),l.createIndex("collectionGroupIndex",Cve)}(e)).next(()=>this.ri(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.ii(e,o))),r<15&&i>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:Ove}).createIndex("sequenceNumberIndex",Ive,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:bve}).createIndex("documentKeyIndex",Tve,{unique:!1})}(e))),s}Xr(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=bM(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>j.forEach(i,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",s).next(a=>j.forEach(a,c=>{Le(c.userId===o.userId);const l=Pd(this.serializer,c);return hz(e,o.userId,l).next(()=>{})}))}))}ei(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.Y((s,a)=>{const c=new kt(s),l=[0,Ai(c)];o.push(n.get(l).next(h=>h?j.resolve():n.put({targetId:0,path:Ai(c),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>j.waitFor(o))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:Eve});const r=n.store("collectionParents"),i=new Dx,o=s=>{if(i.add(s)){const a=s.lastSegment(),c=s.popLast();return r.put({collectionId:a,parent:Ai(c)})}};return n.store("remoteDocuments").Y({J:!0},(s,a)=>{const c=new kt(s);return o(c.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([s,a,c],l)=>{const h=Ca(a);return o(h.popLast())}))}ni(e){const n=e.store("targets");return n.Y((r,i)=>{const o=By(i),s=X8(this.serializer,o);return n.put(s)})}ri(e,n){const r=n.store("remoteDocuments"),i=[];return r.Y((o,s)=>{const a=n.store("remoteDocumentsV14"),c=(f=s,f.document?new Ce(kt.fromString(f.document.name).popFirst(5)):f.noDocument?Ce.fromSegments(f.noDocument.path):f.unknownDocument?Ce.fromSegments(f.unknownDocument.path):Ae()).path.toArray(),l={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var f;i.push(a.put(l))}).next(()=>j.waitFor(i))}ii(e,n){const r=n.store("mutations"),i=Cz(this.serializer),o=new xx(DM.jr,this.serializer.ut);return r.W().next(s=>{const a=new Map;return s.forEach(c=>{var l;let h=null!==(l=a.get(c.userId))&&void 0!==l?l:st();Pd(this.serializer,c).keys().forEach(f=>h=h.add(f)),a.set(c.userId,h)}),j.forEach(a,(c,l)=>{const h=new Wr(l),f=EM.ct(this.serializer,h),_=o.getIndexManager(h),v=TM.ct(h,this.serializer,_,o.referenceDelegate);return new Ez(i,v,f,_).recalculateAndSaveOverlaysForDocumentKeys(new ix(n,ko._e),c).next()})})}}function Oz(t){t.createObjectStore("targetDocuments",{keyPath:Pve}).createIndex("documentTargetsIndex",Mve,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",wve,{unique:!0}),t.createObjectStore("targetGlobal")}const Rx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class kx{constructor(e,n,r,i,o,s,a,c,l,h,f=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.si=o,this.window=s,this.document=a,this.oi=l,this._i=h,this.ai=f,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=_=>Promise.resolve(),!kx.D())throw new ue(K.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new RCe(this,i),this.Ii=n+"main",this.serializer=new Y8(c),this.Ti=new Bs(this.Ii,this.ai,new zCe(this.serializer)),this.qr=new DCe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Cz(this.serializer),this.Kr=new PCe,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===h&&lr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ue(K.FAILED_PRECONDITION,Rx);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new ko(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var n=this;return this.Pi=function(){var r=(0,x.Z)(function*(i){if(n.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var n=(0,x.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,x.Z)(function*(){n.started&&(yield n.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>xM(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(kl(e))return he("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return he("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return Wy(e).get("owner").next(n=>j.resolve(this.wi(n)))}Si(e){return xM(e).delete(this.clientId)}bi(){var e=this;return(0,x.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Gr(r,"clientMetadata");return i.W().next(o=>{const s=e.Ci(o,18e5),a=o.filter(c=>-1===s.indexOf(c));return j.forEach(a,c=>i.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Ei)for(const r of n)e.Ei.removeItem(e.vi(r.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?j.resolve(!0):Wy(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new ue(K.FAILED_PRECONDITION,Rx);return!1}}return!(!this.networkEnabled||!this.inForeground)||xM(e).W().next(r=>void 0===this.Ci(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(n=>(this.isPrimary!==n&&he("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,x.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const r=new ix(n,ko._e);return e.pi(r).next(()=>e.Si(r))}),e.Ti.close(),e.Ni()})()}Ci(e,n){return e.filter(r=>this.Di(r.updateTimeMs,n)&&!this.Fi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>xM(e).W().next(n=>this.Ci(n,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return TM.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ACe(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return EM.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,r){he("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===n?"readonly":"readwrite",o=15===(c=this.ai)?Rve:14===c?VH:13===c?LH:12===c?xve:11===c?FH:void Ae();var c;let s;return this.Ti.runTransaction(e,i,o,a=>(s=new ix(a,this.Lr?this.Lr.next():ko._e),"readwrite-primary"===n?this.fi(s).next(c=>!!c||this.gi(s)).next(c=>{if(!c)throw lr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new ue(K.FAILED_PRECONDITION,AH);return r(s)}).next(c=>this.yi(s).next(()=>c)):this.Li(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Li(e){return Wy(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ue(K.FAILED_PRECONDITION,Rx)})}yi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Wy(e).put("owner",n)}static D(){return Bs.D()}pi(e){const n=Wy(e);return n.get("owner").next(r=>this.wi(r)?(he("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):j.resolve())}Di(e,n){const r=Date.now();return!(e<r-n||e>r&&(lr(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const n=/(?:Version|Mobile)\/1[456]/;(0,E.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{const r=null!==(null===(n=this.Ei)||void 0===n?void 0:n.getItem(this.vi(e)));return he("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return lr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){lr("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Wy(t){return Gr(t,"owner")}function xM(t){return Gr(t,"clientMetadata")}function Nx(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class Fx{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=st(),i=st();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Fx(e,n.fromCache,r,i)}}class WCe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Iz{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.zi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new WCe;return this.Hi(e,n,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,n,s,a.size)})}).next(()=>o.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Xp()<=Mi.in.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",lf(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),j.resolve()):(Xp()<=Mi.in.DEBUG&&he("QueryEngine","Query:",lf(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Xp()<=Mi.in.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",lf(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xi(n))):j.resolve())}zi(e,n){if(c8(n))return j.resolve(null);let r=Xi(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=mM(n,null,"F"),r=Xi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=st(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.Yi(n,a);return this.Zi(n,l,s,c.readTime)?this.zi(e,mM(n,null,"F")):this.Xi(e,l,n,c)}))})))}ji(e,n,r,i){return c8(n)||i.isEqual(Ve.min())?j.resolve(null):this.Gi.getDocuments(e,r).next(o=>{const s=this.Yi(n,o);return this.Zi(n,s,r,i)?j.resolve(null):(Xp()<=Mi.in.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),lf(n)),this.Xi(e,s,n,bH(i,-1)).next(a=>a))})}Yi(e,n){let r=new Jt(h8(e));return n.forEach((i,o)=>{Ay(e,o)&&(r=r.add(o))}),r}Zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(e,n,r){return Xp()<=Mi.in.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",lf(n)),this.Gi.getDocumentsMatchingQuery(e,n,Ro.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class GCe{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new gn(Ze),this.ns=new gc(o=>md(o),by),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ez(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function bz(t,e,n,r){return new GCe(t,e,n,r)}function Tz(t,e){return Lx.apply(this,arguments)}function Lx(){return Lx=(0,x.Z)(function*(t,e){const n=ve(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let c=st();for(const l of i){s.push(l.batchId);for(const h of l.mutations)c=c.add(h.key)}for(const l of o){a.push(l.batchId);for(const h of l.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(l=>({_s:l,removedBatchIds:s,addedBatchIds:a}))})})}),Lx.apply(this,arguments)}function Az(t){const e=ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function Dz(t,e,n){let r=st(),i=st();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=_o();return n.forEach((a,c)=>{const l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Ve.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):he("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{us:s,cs:i}})}function ZCe(t,e){const n=ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Cf(t,e){const n=ve(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(o=>o?(i=o,j.resolve(i)):n.qr.allocateTargetId(r).next(s=>(i=new mc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}function wf(t,e,n){return Vx.apply(this,arguments)}function Vx(){return Vx=(0,x.Z)(function*(t,e,n){const r=ve(t),i=r.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!kl(s))throw s;he("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),Vx.apply(this,arguments)}function RM(t,e,n){const r=ve(t);let i=Ve.min(),o=st();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,h){const f=ve(c),_=f.ns.get(h);return void 0!==_?j.resolve(f.ts.get(_)):f.qr.getTargetData(l,h)}(r,s,Xi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.es.getDocumentsMatchingQuery(s,e,n?i:Ve.min(),n?o:st())).next(a=>(Rz(r,d8(e),a),{documents:a,ls:o})))}function Sz(t,e){const n=ve(t),r=ve(n.qr),i=n.ts.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",o=>r._t(o,e).next(s=>s?s.target:null))}function xz(t,e){const n=ve(t),r=n.rs.get(e)||Ve.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.ss.getAllFromCollectionGroup(i,e,bH(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(Rz(n,e,i),i))}function Rz(t,e,n){let r=t.rs.get(e)||Ve.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.rs.set(e,r)}function Ux(){return Ux=(0,x.Z)(function*(t,e,n,r){const i=ve(t);let o=st(),s=_o();for(const l of n){const h=e.hs(l.metadata.name);l.document&&(o=o.add(h));const f=e.Ps(l);f.setReadTime(e.Is(l.metadata.readTime)),s=s.insert(h,f)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),c=yield Cf(i,(h=r,Xi(af(kt.fromString(`__bundle__/docs/${h}`)))));var h;return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>Dz(l,a,s).next(h=>(a.apply(l),h)).next(h=>i.qr.removeMatchingKeysForTargetId(l,c.targetId).next(()=>i.qr.addMatchingKeys(l,o,c.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,h.us,h.cs)).next(()=>h.us)))}),Ux.apply(this,arguments)}function QCe(t,e){return Bx.apply(this,arguments)}function Bx(){return Bx=(0,x.Z)(function*(t,e,n=st()){const r=yield Cf(t,Xi(Ex(e.bundledQuery))),i=ve(t);return i.persistence.runTransaction("Save named query","readwrite",o=>{const s=ur(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Kr.saveNamedQuery(o,e);const a=r.withResumeToken(Fr.EMPTY_BYTE_STRING,s);return i.ts=i.ts.insert(a.targetId,a),i.qr.updateTargetData(o,a).next(()=>i.qr.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.qr.addMatchingKeys(o,n,r.targetId)).next(()=>i.Kr.saveNamedQuery(o,e))})}),Bx.apply(this,arguments)}function kz(t,e){return`firestore_clients_${t}_${e}`}function Nz(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function jx(t,e){return`firestore_targets_${t}_${e}`}class kM{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ts(e,n,r){const i=JSON.parse(r);let o,s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(o=new ue(i.error.code,i.error.message))),s?new kM(e,n,i.state,o):(lr("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gy{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ts(e,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new ue(r.error.code,r.error.message))),o?new Gy(e,r.state,i):(lr("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class NM{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ts(e,n){const r=JSON.parse(n);let i="object"==typeof r&&r.activeTargetIds instanceof Array,o=px();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=xH(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new NM(e,o):(lr("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class $x{constructor(e,n){this.clientId=e,this.onlineState=n}static Ts(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new $x(n.clientId,n.onlineState):(lr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Hx{constructor(){this.activeTargetIds=px()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zx{constructor(e,n,r,i,o){this.window=e,this.si=n,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new gn(Ze),this.started=!1,this.ps=[];const s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ys=kz(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new Hx),this.Ss=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,x.Z)(function*(){const n=yield e.syncEngine.Bi();for(const i of n){if(i===e.Rs)continue;const o=e.getItem(kz(e.persistenceKey,i));if(o){const s=NM.Ts(i,o);s&&(e.gs=e.gs.insert(s.clientId,s))}}e.Fs();const r=e.storage.getItem(e.Cs);if(r){const i=e.Ms(r);i&&e.xs(i)}for(const i of e.ps)e.fs(i);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let n=!1;return this.gs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,n,r){this.Ns(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(jx(this.persistenceKey,e));if(r){const i=Gy.Ts(e,r);i&&(n=i.state)}}return this.Ls.ds(e),this.Fs(),n}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(jx(this.persistenceKey,e))}updateQueryState(e,n,r){this.ks(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return he("SharedClientState","READ",e,n),n}setItem(e,n){he("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){he("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var n=this;const r=e;if(r.storageArea===this.storage){if(he("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ys)return void lr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,x.Z)(function*(){if(n.started){if(null!==r.key)if(n.Ss.test(r.key)){if(null==r.newValue){const i=n.Ks(r.key);return n.$s(i,null)}{const i=n.Us(r.key,r.newValue);if(i)return n.$s(i.clientId,i)}}else if(n.bs.test(r.key)){if(null!==r.newValue){const i=n.Ws(r.key,r.newValue);if(i)return n.Gs(i)}}else if(n.Ds.test(r.key)){if(null!==r.newValue){const i=n.zs(r.key,r.newValue);if(i)return n.js(i)}}else if(r.key===n.Cs){if(null!==r.newValue){const i=n.Ms(r.newValue);if(i)return n.xs(i)}}else if(r.key===n.ws){const i=function(s){let a=ko._e;if(null!=s)try{const c=JSON.parse(s);Le("number"==typeof c),a=c}catch(c){lr("SharedClientState","Failed to read sequence number from WebStorage",c)}return a}(r.newValue);i!==ko._e&&n.sequenceNumberHandler(i)}else if(r.key===n.vs){const i=n.Hs(r.newValue);yield Promise.all(i.map(o=>n.syncEngine.Js(o)))}}else n.ps.push(r)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,n,r){const i=new kM(this.currentUser,e,n,r),o=Nz(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Es())}Bs(e){const n=Nz(this.persistenceKey,this.currentUser,e);this.removeItem(n)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,n,r){const i=jx(this.persistenceKey,e),o=new Gy(e,n,r);this.setItem(i,o.Es())}Qs(e){const n=JSON.stringify(Array.from(e));this.setItem(this.vs,n)}Ks(e){const n=this.Ss.exec(e);return n?n[1]:null}Us(e,n){const r=this.Ks(e);return NM.Ts(r,n)}Ws(e,n){const r=this.bs.exec(e),i=Number(r[1]);return kM.Ts(new Wr(void 0!==r[2]?r[2]:null),i,n)}zs(e,n){const r=this.Ds.exec(e),i=Number(r[1]);return Gy.Ts(i,n)}Ms(e){return $x.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var n=this;return(0,x.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Ys(e.batchId,e.state,e.error);he("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,n){const r=n?this.gs.insert(e,n):this.gs.remove(e),i=this.Os(this.gs),o=this.Os(r),s=[],a=[];return o.forEach(c=>{i.has(c)||s.push(c)}),i.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.Xs(s,a).then(()=>{this.gs=r})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let n=px();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class Fz{constructor(){this.eo=new Hx,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Hx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class XCe{ro(e){}shutdown(){}}class Lz{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let FM=null;function Wx(){return null===FM?FM=268435456+Math.round(2147483648*Math.random()):FM++,"0x"+FM.toString(16)}const JCe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class e0e{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Si="WebChannelConnection";class t0e extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${o}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get yo(){return!1}wo(n,r,i,o,s){const a=Wx(),c=this.So(n,r);he("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,o,s),this.Do(n,c,l,i).then(h=>(he("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw fo("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",c,"request:",i),h})}Co(n,r,i,o,s,a){return this.wo(n,r,i,o,s)}bo(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+Qp,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}So(n,r){return`${this.mo}/v1/${r}:${JCe[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const o=Wx();return new Promise((s,a)=>{const c=new Xye;c.setWithCredentials(!0),c.listenOnce(Zye.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case XS.NO_ERROR:const h=c.getResponseJson();he(Si,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case XS.TIMEOUT:he(Si,`RPC '${e}' ${o} timed out`),a(new ue(K.DEADLINE_EXCEEDED,"Request time out"));break;case XS.HTTP_ERROR:const f=c.getStatus();if(he(Si,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let _=c.getResponseJson();Array.isArray(_)&&(_=_[0]);const v=_?.error;if(v&&v.status&&v.message){const M=function(T){const V=T.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(V)>=0?V:K.UNKNOWN}(v.status);a(new ue(M,v.message))}else a(new ue(K.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new ue(K.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{he(Si,`RPC '${e}' ${o} completed.`)}});const l=JSON.stringify(i);he(Si,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",l,r,15)})}vo(e,n,r){const i=Wx(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=qye(),a=Kye(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new Qye({})),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=o.join("");he(Si,`Creating RPC '${e}' stream ${i}: ${h}`,c);const f=s.createWebChannel(h,c);let _=!1,v=!1;const M=new e0e({co:T=>{v?he(Si,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(_||(he(Si,`Opening RPC '${e}' stream ${i} transport.`),f.open(),_=!0),he(Si,`RPC '${e}' stream ${i} sending:`,T),f.send(T))},lo:()=>f.close()}),b=(T,V,N)=>{T.listen(V,W=>{try{N(W)}catch(z){setTimeout(()=>{throw z},0)}})};return b(f,sM.EventType.OPEN,()=>{v||he(Si,`RPC '${e}' stream ${i} transport opened.`)}),b(f,sM.EventType.CLOSE,()=>{v||(v=!0,he(Si,`RPC '${e}' stream ${i} transport closed`),M.Ro())}),b(f,sM.EventType.ERROR,T=>{v||(v=!0,fo(Si,`RPC '${e}' stream ${i} transport errored:`,T),M.Ro(new ue(K.UNAVAILABLE,"The operation could not be completed")))}),b(f,sM.EventType.MESSAGE,T=>{var V;if(!v){const N=T.data[0];Le(!!N);const z=N.error||(null===(V=N[0])||void 0===V?void 0:V.error);if(z){he(Si,`RPC '${e}' stream ${i} received error:`,z);const fe=z.status;let Ie=function(mo){const Nf=Cr[mo];if(void 0!==Nf)return D8(Nf)}(fe),ct=z.message;void 0===Ie&&(Ie=K.INTERNAL,ct="Unknown error status: "+fe+" with message "+z.message),v=!0,M.Ro(new ue(Ie,ct)),f.close()}else he(Si,`RPC '${e}' stream ${i} received:`,N),M.Vo(N)}}),b(a,Yye.STAT_EVENT,T=>{T.stat===wH.PROXY?he(Si,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===wH.NOPROXY&&he(Si,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{M.Ao()},0),M}}function Vz(){return typeof window<"u"?window:null}function LM(){return typeof document<"u"?document:null}function qy(t){return new dCe(t,!0)}class Gx{constructor(e,n,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Uz{constructor(e,n,r,i,o,s,a,c){this.si=e,this.Ko=r,this.$o=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Gx(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,x.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,x.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var r=this;return(0,x.Z)(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(lr(n.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):n&&n.code===K.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new ue(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko((0,x.Z)(function*(){e.state=0,e.start()}))}o_(e){return he("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class n0e extends Uz{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function fCe(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:Ae(),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Le(void 0===h||"string"==typeof h),Fr.fromBase64String(h||"")):(Le(void 0===h||h instanceof Uint8Array),Fr.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const h=void 0===l.code?K.UNKNOWN:D8(l.code);return new ue(h,l.message||"")}(s);n=new N8(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Ma(t,r.document.name),o=ur(r.document.updateTime),s=r.document.createTime?ur(r.document.createTime):Ve.min(),a=new li({mapValue:{fields:r.document.fields}}),c=Tn.newFoundDocument(i,o,s,a);n=new PM(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=Ma(t,r.document),o=r.readTime?ur(r.readTime):Ve.min(),s=Tn.newNoDocument(i,o);n=new PM([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=Ma(t,r.document);n=new PM([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Ae();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new oCe(i,o);n=new k8(r.targetId,s)}}var l;return n}(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ve.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Ve.min():s.readTime?ur(s.readTime):Ve.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=Vy(this.serializer),n.addTarget=function(o,s){let a;const c=s.target;if(a=gM(c)?{documents:W8(o,c)}:{query:Mx(o,c)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=U8(o,s.resumeToken);const l=vx(o,s.expectedCount);null!==l&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(Ve.min())>0){a.readTime=ff(o,s.snapshotVersion.toTimestamp());const l=vx(o,s.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,e);const r=function _Ce(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=Vy(this.serializer),n.removeTarget=e,this.e_(n)}}class r0e extends Uz{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Le(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function gCe(t,e){return t&&t.length>0?(Le(void 0!==e),t.map(n=>function(i,o){let s=ur(i.updateTime?i.updateTime:o);return s.isEqual(Ve.min())&&(s=ur(o)),new tCe(s,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=ur(e.commitTime);return this.listener.I_(r,n)}return Le(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Vy(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Uy(this.serializer,r))};this.e_(n)}}class i0e extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new ue(K.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.wo(e,n,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ue(K.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,n,r,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(K.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class s0e{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(lr(n),this.f_=!1):he("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class a0e{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{r.enqueueAndForget((0,x.Z)(function*(){var c;Gl(s)&&(he("RemoteStore","Restarting streams for network reachability change."),yield(c=(0,x.Z)(function*(h){const f=ve(h);f.C_.add(4),yield Pf(f),f.M_.set("Unknown"),f.C_.delete(4),yield Ky(f)}),function l(h){return c.apply(this,arguments)})(s))}))}),this.M_=new s0e(r,i)}}function Ky(t){return Kx.apply(this,arguments)}function Kx(){return Kx=(0,x.Z)(function*(t){if(Gl(t))for(const e of t.v_)yield e(!0)}),Kx.apply(this,arguments)}function Pf(t){return Zx.apply(this,arguments)}function Zx(){return Zx=(0,x.Z)(function*(t){for(const e of t.v_)yield e(!1)}),Zx.apply(this,arguments)}function VM(t,e){const n=ve(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),Xx(n)?Qx(n):Ef(n).Ho()&&Yx(n,e))}function Zy(t,e){const n=ve(t),r=Ef(n);n.D_.delete(e),r.Ho()&&Bz(n,e),0===n.D_.size&&(r.Ho()?r.Zo():Gl(n)&&n.M_.set("Unknown"))}function Yx(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ef(t).u_(e)}function Bz(t,e){t.x_.Oe(e),Ef(t).c_(e)}function Qx(t){t.x_=new aCe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Ef(t).start(),t.M_.g_()}function Xx(t){return Gl(t)&&!Ef(t).jo()&&t.D_.size>0}function Gl(t){return 0===ve(t).C_.size}function jz(t){t.x_=void 0}function c0e(t){return Jx.apply(this,arguments)}function Jx(){return Jx=(0,x.Z)(function*(t){t.D_.forEach((e,n)=>{Yx(t,e)})}),Jx.apply(this,arguments)}function l0e(t,e){return eR.apply(this,arguments)}function eR(){return eR=(0,x.Z)(function*(t,e){jz(t),Xx(t)?(t.M_.w_(e),Qx(t)):t.M_.set("Unknown")}),eR.apply(this,arguments)}function u0e(t,e,n){return tR.apply(this,arguments)}function tR(){return tR=(0,x.Z)(function*(t,e,n){if(t.M_.set("Online"),e instanceof N8&&2===e.state&&e.cause)try{yield(r=(0,x.Z)(function*(o,s){const a=s.cause;for(const c of s.targetIds)o.D_.has(c)&&(yield o.remoteSyncer.rejectListen(c,a),o.D_.delete(c),o.x_.removeTarget(c))}),function i(o,s){return r.apply(this,arguments)})(t,e)}catch(r){he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield UM(t,r)}else if(e instanceof PM?t.x_.$e(e):e instanceof k8?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(Ve.min()))try{const r=yield Az(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const h=o.D_.get(l);h&&o.D_.set(l,h.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{const h=o.D_.get(c);if(!h)return;o.D_.set(c,h.withResumeToken(Fr.EMPTY_BYTE_STRING,h.snapshotVersion)),Bz(o,c);const f=new mc(h.target,c,l,h.sequenceNumber);Yx(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){he("RemoteStore","Failed to raise snapshot:",r),yield UM(t,r)}var r}),tR.apply(this,arguments)}function UM(t,e,n){return nR.apply(this,arguments)}function nR(){return nR=(0,x.Z)(function*(t,e,n){if(!kl(e))throw e;t.C_.add(1),yield Pf(t),t.M_.set("Offline"),n||(n=()=>Az(t.localStore)),t.asyncQueue.enqueueRetryable((0,x.Z)(function*(){he("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield Ky(t)}))}),nR.apply(this,arguments)}function $z(t,e){return e().catch(n=>UM(t,n,e))}function Mf(t){return rR.apply(this,arguments)}function rR(){return rR=(0,x.Z)(function*(t){const e=ve(t),n=ql(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;d0e(e);)try{const i=yield ZCe(e.localStore,r);if(null===i){0===e.b_.length&&n.Zo();break}r=i.batchId,h0e(e,i)}catch(i){yield UM(e,i)}Hz(e)&&zz(e)}),rR.apply(this,arguments)}function d0e(t){return Gl(t)&&t.b_.length<10}function h0e(t,e){t.b_.push(e);const n=ql(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function Hz(t){return Gl(t)&&!ql(t).jo()&&t.b_.length>0}function zz(t){ql(t).start()}function p0e(t){return iR.apply(this,arguments)}function iR(){return iR=(0,x.Z)(function*(t){ql(t).E_()}),iR.apply(this,arguments)}function f0e(t){return oR.apply(this,arguments)}function oR(){return oR=(0,x.Z)(function*(t){const e=ql(t);for(const n of t.b_)e.P_(n.mutations)}),oR.apply(this,arguments)}function g0e(t,e,n){return sR.apply(this,arguments)}function sR(){return sR=(0,x.Z)(function*(t,e,n){const r=t.b_.shift(),i=_x.from(r,e,n);yield $z(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Mf(t)}),sR.apply(this,arguments)}function _0e(t,e){return aR.apply(this,arguments)}function aR(){return aR=(0,x.Z)(function*(t,e){var n;e&&ql(t).h_&&(yield(n=(0,x.Z)(function*(i,o){if(A8(a=o.code)&&a!==K.ABORTED){const s=i.b_.shift();ql(i).Yo(),yield $z(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield Mf(i)}var a}),function r(i,o){return n.apply(this,arguments)})(t,e)),Hz(t)&&zz(t)}),aR.apply(this,arguments)}function Wz(t,e){return cR.apply(this,arguments)}function cR(){return cR=(0,x.Z)(function*(t,e){const n=ve(t);n.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const r=Gl(n);n.C_.add(3),yield Pf(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield Ky(n)}),cR.apply(this,arguments)}function lR(t,e){return uR.apply(this,arguments)}function uR(){return uR=(0,x.Z)(function*(t,e){const n=ve(t);e?(n.C_.delete(2),yield Ky(n)):e||(n.C_.add(2),yield Pf(n),n.M_.set("Unknown"))}),uR.apply(this,arguments)}function Ef(t){return t.O_||(t.O_=function(n,r,i){const o=ve(n);return o.A_(),new n0e(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:c0e.bind(null,t),Io:l0e.bind(null,t),a_:u0e.bind(null,t)}),t.v_.push(function(){var e=(0,x.Z)(function*(n){n?(t.O_.Yo(),Xx(t)?Qx(t):t.M_.set("Unknown")):(yield t.O_.stop(),jz(t))});return function(n){return e.apply(this,arguments)}}())),t.O_}function ql(t){return t.N_||(t.N_=function(n,r,i){const o=ve(n);return o.A_(),new r0e(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:p0e.bind(null,t),Io:_0e.bind(null,t),T_:f0e.bind(null,t),I_:g0e.bind(null,t)}),t.v_.push(function(){var e=(0,x.Z)(function*(n){n?(t.N_.Yo(),yield Mf(t)):(yield t.N_.stop(),t.b_.length>0&&(he("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))});return function(n){return e.apply(this,arguments)}}())),t.N_}class dR{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new dR(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ue(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Of(t,e){if(lr("AsyncQueue",`${e}: ${t}`),kl(t))return new ue(K.UNAVAILABLE,`${e}: ${t}`);throw t}class If{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ce.comparator(n.key,r.key):(n,r)=>Ce.comparator(n.key,r.key),this.keyedMap=Dy(),this.sortedSet=new gn(this.comparator)}static emptySet(e){return new If(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof If)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new If;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Gz{constructor(){this.B_=new gn(Ce.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(n):1===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Ae():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class bf{constructor(e,n,r,i,o,s,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new bf(e,n,If.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ty(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class m0e{constructor(){this.k_=void 0,this.listeners=[]}}class y0e{constructor(){this.queries=new gc(e=>u8(e),Ty),this.onlineState="Unknown",this.q_=new Set}}function hR(t,e){return pR.apply(this,arguments)}function pR(){return pR=(0,x.Z)(function*(t,e){const n=ve(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new m0e),i)try{o.k_=yield n.onListen(r)}catch(s){const a=Of(s,`Initialization of query '${lf(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Q_(n.onlineState),o.k_&&e.K_(o.k_)&&_R(n)}),pR.apply(this,arguments)}function fR(t,e){return gR.apply(this,arguments)}function gR(){return gR=(0,x.Z)(function*(t,e){const n=ve(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),gR.apply(this,arguments)}function v0e(t,e){const n=ve(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.listeners)a.K_(i)&&(r=!0);s.k_=i}}r&&_R(n)}function C0e(t,e,n){const r=ve(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function _R(t){t.q_.forEach(e=>{e.next()})}class mR{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new bf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=bf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class w0e{constructor(e,n){this.Y_=e,this.byteLength=n}Z_(){return"metadata"in this.Y_}}class qz{constructor(e){this.serializer=e}hs(e){return Ma(this.serializer,e)}Ps(e){return e.metadata.exists?z8(this.serializer,e.document,!1):Tn.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return ur(e)}}class P0e{constructor(e,n,r){this.X_=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Kz(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++n;const r=kt.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ta(e){const n=new Map,r=new qz(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.hs(i.metadata.name);for(const s of i.metadata.queries){const a=(n.get(s)||st()).add(o);n.set(s,a)}}return n}complete(){var e=this;return(0,x.Z)(function*(){const n=yield function YCe(t,e,n,r){return Ux.apply(this,arguments)}(e.localStore,new qz(e.serializer),e.documents,e.X_.id),r=e.ta(e.documents);for(const i of e.queries)yield QCe(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:n}})()}}function Kz(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class Zz{constructor(e){this.key=e}}class Yz{constructor(e){this.key=e}}class Qz{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=st(),this.mutatedKeys=st(),this._a=h8(e),this.aa=new If(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new Gz,i=n?n.aa:this.aa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const _=i.get(h),v=Ay(this.query,f)?f:null,M=!!_&&this.mutatedKeys.has(_.key),b=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let T=!1;_&&v?_.data.isEqual(v.data)?M!==b&&(r.track({type:3,doc:v}),T=!0):this.ha(_,v)||(r.track({type:2,doc:v}),T=!0,(c&&this._a(v,c)>0||l&&this._a(v,l)<0)&&(a=!0)):!_&&v?(r.track({type:0,doc:v}),T=!0):_&&!v&&(r.track({type:1,doc:_}),T=!0,(c||l)&&(a=!0)),T&&(v?(s=s.add(v),o=b?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const h="F"===this.query.limitType?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{aa:s,la:r,Zi:a,mutatedKeys:o}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((l,h)=>function(_,v){const M=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return M(_)-M(v)}(l.type,h.type)||this._a(l.doc,h.doc)),this.Pa(r);const s=n?this.Ia():[],a=0===this.oa.size&&this.current?1:0,c=a!==this.sa;return this.sa=a,0!==o.length||c?{snapshot:new bf(this.query,e.aa,i,o,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new Gz,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=st(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new Yz(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new Zz(r))}),n}da(e){this.ia=e.ls,this.oa=st();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return bf.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class M0e{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class E0e{constructor(e){this.key=e,this.Ra=!1}}class O0e{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new gc(a=>u8(a),Ty),this.fa=new Map,this.ga=new Set,this.pa=new gn(Ce.comparator),this.ya=new Map,this.wa=new Sx,this.Sa={},this.ba=new Map,this.Da=Od.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function I0e(t,e){return yR.apply(this,arguments)}function yR(){return yR=(0,x.Z)(function*(t,e){const n=jR(t);let r,i;const o=n.ma.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{const s=yield Cf(n.localStore,Xi(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield vR(n,e,r,"current"===a,s.resumeToken),n.isPrimaryClient&&VM(n.remoteStore,s)}return i}),yR.apply(this,arguments)}function vR(t,e,n,r,i){return CR.apply(this,arguments)}function CR(){return CR=(0,x.Z)(function*(t,e,n,r,i){t.va=(f,_,v)=>{return(M=(0,x.Z)(function*(T,V,N,W){let z=V.view.ca(N);z.Zi&&(z=yield RM(T.localStore,V.query,!1).then(({documents:ct})=>V.view.ca(ct,z)));const fe=W&&W.targetChanges.get(V.targetId),Ie=V.view.applyChanges(z,T.isPrimaryClient,fe);return DR(T,V.targetId,Ie.Ta),Ie.snapshot}),function b(T,V,N,W){return M.apply(this,arguments)})(t,f,_,v);var M};const o=yield RM(t.localStore,e,!0),s=new Qz(e,o.ls),a=s.ca(o.documents),c=Fy.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=s.applyChanges(a,t.isPrimaryClient,c);DR(t,n,l.Ta);const h=new M0e(e,n,s);return t.ma.set(e,h),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),l.snapshot}),CR.apply(this,arguments)}function b0e(t,e){return wR.apply(this,arguments)}function wR(){return wR=(0,x.Z)(function*(t,e){const n=ve(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(o=>!Ty(o,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield wf(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Zy(n.remoteStore,r.targetId),Tf(n,r.targetId)}).catch(Rl))):(Tf(n,r.targetId),yield wf(n.localStore,r.targetId,!0))}),wR.apply(this,arguments)}function PR(){return PR=(0,x.Z)(function*(t,e,n){const r=$R(t);try{const i=yield function(s,a){const c=ve(s),l=Fn.now(),h=a.reduce((v,M)=>v.add(M.key),st());let f,_;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let M=_o(),b=st();return c.ss.getEntries(v,h).next(T=>{M=T,M.forEach((V,N)=>{N.isValidDocument()||(b=b.add(V))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,M)).next(T=>{f=T;const V=[];for(const N of a){const W=rCe(N,f.get(N.key).overlayedDocument);null!=W&&V.push(new _c(N.key,W,ZH(W.value.mapValue),Ln.exists(!0)))}return c.mutationQueue.addMutationBatch(v,l,V,a)}).next(T=>{_=T;const V=T.applyToLocalDocumentSet(f,b);return c.documentOverlayCache.saveOverlays(v,T.batchId,V)})}).then(()=>({batchId:_.batchId,changes:f8(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let l=s.Sa[s.currentUser.toKey()];l||(l=new gn(Ze)),l=l.insert(a,c),s.Sa[s.currentUser.toKey()]=l}(r,i.batchId,n),yield yc(r,i.changes),yield Mf(r.remoteStore)}catch(i){const o=Of(i,"Failed to persist write");n.reject(o)}}),PR.apply(this,arguments)}function Xz(t,e){return MR.apply(this,arguments)}function MR(){return MR=(0,x.Z)(function*(t,e){const n=ve(t);try{const r=yield function KCe(t,e){const n=ve(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((h,f)=>{const _=i.get(f);if(!_)return;a.push(n.qr.removeMatchingKeys(o,h.removedDocuments,f).next(()=>n.qr.addMatchingKeys(o,h.addedDocuments,f)));let v=_.withSequenceNumber(o.currentSequenceNumber);var b,T,V;null!==e.targetMismatches.get(f)?v=v.withResumeToken(Fr.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(f,v),T=v,V=h,(0===(b=_).resumeToken.approximateByteSize()||T.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8||V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0)&&a.push(n.qr.updateTargetData(o,v))});let c=_o(),l=st();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(Dz(o,s,e.documentUpdates).next(h=>{c=h.us,l=h.cs})),!r.isEqual(Ve.min())){const h=n.qr.getLastRemoteSnapshotVersion(o).next(f=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return j.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(n.ts=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.ya.get(o);s&&(Le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ra=!0:i.modifiedDocuments.size>0?Le(s.Ra):i.removedDocuments.size>0&&(Le(s.Ra),s.Ra=!1))}),yield yc(n,r,e)}catch(r){yield Rl(r)}}),MR.apply(this,arguments)}function Jz(t,e,n){const r=ve(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const c=ve(s);c.onlineState=a;let l=!1;c.queries.forEach((h,f)=>{for(const _ of f.listeners)_.Q_(a)&&(l=!0)}),l&&_R(c)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function A0e(t,e,n){return ER.apply(this,arguments)}function ER(){return ER=(0,x.Z)(function*(t,e,n){const r=ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),o=i&&i.key;if(o){let s=new gn(Ce.comparator);s=s.insert(o,Tn.newNoDocument(o,Ve.min()));const a=st().add(o),c=new Ny(Ve.min(),new Map,new gn(Ze),s,a);yield Xz(r,c),r.pa=r.pa.remove(o),r.ya.delete(e),SR(r)}else yield wf(r.localStore,e,!1).then(()=>Tf(r,e,n)).catch(Rl)}),ER.apply(this,arguments)}function D0e(t,e){return OR.apply(this,arguments)}function OR(){return OR=(0,x.Z)(function*(t,e){const n=ve(t),r=e.batch.batchId;try{const i=yield function qCe(t,e){const n=ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,h){const f=l.batch,_=f.keys();let v=j.resolve();return _.forEach(M=>{v=v.next(()=>h.getEntry(c,M)).next(b=>{const T=l.docVersions.get(M);Le(null!==T),b.version.compareTo(T)<0&&(f.applyToRemoteDocument(b,l),b.isValidDocument()&&(b.setReadTime(l.commitVersion),h.addEntry(b)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=st();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);AR(n,r,null),TR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield yc(n,i)}catch(i){yield Rl(i)}}),OR.apply(this,arguments)}function S0e(t,e,n){return IR.apply(this,arguments)}function IR(){return IR=(0,x.Z)(function*(t,e,n){const r=ve(t);try{const i=yield function(s,a){const c=ve(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return c.mutationQueue.lookupMutationBatch(l,a).next(f=>(Le(null!==f),h=f.keys(),c.mutationQueue.removeMutationBatch(l,f))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>c.localDocuments.getDocuments(l,h))})}(r.localStore,e);AR(r,e,n),TR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield yc(r,i)}catch(i){yield Rl(i)}}),IR.apply(this,arguments)}function bR(){return bR=(0,x.Z)(function*(t,e){const n=ve(t);Gl(n.remoteStore)||he("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const a=ve(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(n.localStore);if(-1===r)return void e.resolve();const i=n.ba.get(r)||[];i.push(e),n.ba.set(r,i)}catch(r){const i=Of(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),bR.apply(this,arguments)}function TR(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function AR(t,e,n){const r=ve(t);let i=r.Sa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Tf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||e7(t,r)})}function e7(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);null!==n&&(Zy(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),SR(t))}function DR(t,e,n){for(const r of n)r instanceof Zz?(t.wa.addReference(r.key,e),R0e(t,r)):r instanceof Yz?(he("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||e7(t,r.key)):Ae()}function R0e(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(he("SyncEngine","New document in limbo: "+n),t.ga.add(r),SR(t))}function SR(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new Ce(kt.fromString(e)),r=t.Da.next();t.ya.set(r,new E0e(n)),t.pa=t.pa.insert(n,r),VM(t.remoteStore,new mc(Xi(af(n.path)),r,"TargetPurposeLimboResolution",ko._e))}}function yc(t,e,n){return xR.apply(this,arguments)}function xR(){return xR=(0,x.Z)(function*(t,e,n){const r=ve(t),i=[],o=[],s=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,c)=>{s.push(r.va(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const h=Fx.Qi(c.targetId,l);o.push(h)}}))}),yield Promise.all(s),r.Va.a_(i),yield(a=(0,x.Z)(function*(l,h){const f=ve(l);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>j.forEach(h,v=>j.forEach(v.ki,M=>f.persistence.referenceDelegate.addReference(_,v.targetId,M)).next(()=>j.forEach(v.qi,M=>f.persistence.referenceDelegate.removeReference(_,v.targetId,M)))))}catch(_){if(!kl(_))throw _;he("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of h){const v=_.targetId;if(!_.fromCache){const M=f.ts.get(v),T=M.withLastLimboFreeSnapshotVersion(M.snapshotVersion);f.ts=f.ts.insert(v,T)}}}),function c(l,h){return a.apply(this,arguments)})(r.localStore,o))}),xR.apply(this,arguments)}function k0e(t,e){return RR.apply(this,arguments)}function RR(){return RR=(0,x.Z)(function*(t,e){const n=ve(t);if(!n.currentUser.isEqual(e)){he("SyncEngine","User change. New user:",e.toKey());const r=yield Tz(n.localStore,e);n.currentUser=e,(o=n).ba.forEach(a=>{a.forEach(c=>{c.reject(new ue(K.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ba.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield yc(n,r._s)}var o}),RR.apply(this,arguments)}function N0e(t,e){const n=ve(t),r=n.ya.get(e);if(r&&r.Ra)return st().add(r.key);{let i=st();const o=n.fa.get(e);if(!o)return i;for(const s of o){const a=n.ma.get(s);i=i.unionWith(a.view.ua)}return i}}function F0e(t,e){return kR.apply(this,arguments)}function kR(){return kR=(0,x.Z)(function*(t,e){const n=ve(t),r=yield RM(n.localStore,e.query,!0),i=e.view.da(r);return n.isPrimaryClient&&DR(n,e.targetId,i.Ta),i}),kR.apply(this,arguments)}function L0e(t,e){return NR.apply(this,arguments)}function NR(){return NR=(0,x.Z)(function*(t,e){const n=ve(t);return xz(n.localStore,e).then(r=>yc(n,r))}),NR.apply(this,arguments)}function V0e(t,e,n,r){return FR.apply(this,arguments)}function FR(){return FR=(0,x.Z)(function*(t,e,n,r){const i=ve(t),o=yield function(a,c){const l=ve(a),h=ve(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",f=>h.Cn(f,c).next(_=>_?l.localDocuments.getDocuments(f,_):j.resolve(null)))}(i.localStore,e);var c;null!==o?("pending"===n?yield Mf(i.remoteStore):"acknowledged"===n||"rejected"===n?(AR(i,e,r||null),TR(i,e),c=e,ve(ve(i.localStore).mutationQueue).Fn(c)):Ae(),yield yc(i,o)):he("SyncEngine","Cannot apply mutation batch with id: "+e)}),FR.apply(this,arguments)}function LR(){return LR=(0,x.Z)(function*(t,e){const n=ve(t);if(jR(n),$R(n),!0===e&&!0!==n.Ca){const r=n.sharedClientState.getAllActiveQueryTargets(),i=yield t7(n,r.toArray());n.Ca=!0,yield lR(n.remoteStore,!0);for(const o of i)VM(n.remoteStore,o)}else if(!1===e&&!1!==n.Ca){const r=[];let i=Promise.resolve();n.fa.forEach((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(Tf(n,s),wf(n.localStore,s,!0))),Zy(n.remoteStore,s)}),yield i,yield t7(n,r),function(s){const a=ve(s);a.ya.forEach((c,l)=>{Zy(a.remoteStore,l)}),a.wa.Vr(),a.ya=new Map,a.pa=new gn(Ce.comparator)}(n),n.Ca=!1,yield lR(n.remoteStore,!1)}}),LR.apply(this,arguments)}function t7(t,e,n){return VR.apply(this,arguments)}function VR(){return VR=(0,x.Z)(function*(t,e,n){const r=ve(t),i=[],o=[];for(const s of e){let a;const c=r.fa.get(s);if(c&&0!==c.length){a=yield Cf(r.localStore,Xi(c[0]));for(const l of c){const h=r.ma.get(l),f=yield F0e(r,h);f.snapshot&&o.push(f.snapshot)}}else{const l=yield Sz(r.localStore,s);a=yield Cf(r.localStore,l),yield vR(r,n7(l),s,!1,a.resumeToken)}i.push(a)}return r.Va.a_(o),i}),VR.apply(this,arguments)}function n7(t){return a8(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function B0e(t){return n=ve(t).localStore,ve(ve(n).persistence).Bi();var n}function j0e(t,e,n,r){return UR.apply(this,arguments)}function UR(){return UR=(0,x.Z)(function*(t,e,n,r){const i=ve(t);if(i.Ca)return void he("SyncEngine","Ignoring unexpected query state notification.");const o=i.fa.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{const s=yield xz(i.localStore,d8(o[0])),a=Ny.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,Fr.EMPTY_BYTE_STRING);yield yc(i,s,a);break}case"rejected":yield wf(i.localStore,e,!0),Tf(i,e,r);break;default:Ae()}}),UR.apply(this,arguments)}function $0e(t,e,n){return BR.apply(this,arguments)}function BR(){return BR=(0,x.Z)(function*(t,e,n){const r=jR(t);if(r.Ca){for(const i of e){if(r.fa.has(i)){he("SyncEngine","Adding an already active target "+i);continue}const o=yield Sz(r.localStore,i),s=yield Cf(r.localStore,o);yield vR(r,n7(o),s.targetId,!1,s.resumeToken),VM(r.remoteStore,s)}for(const i of n)r.fa.has(i)&&(yield wf(r.localStore,i,!1).then(()=>{Zy(r.remoteStore,i),Tf(r,i)}).catch(Rl))}}),BR.apply(this,arguments)}function jR(t){const e=ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Xz.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=N0e.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=A0e.bind(null,e),e.Va.a_=v0e.bind(null,e.eventManager),e.Va.Fa=C0e.bind(null,e.eventManager),e}function $R(t){const e=ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=D0e.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=S0e.bind(null,e),e}class Yy{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,x.Z)(function*(){n.serializer=qy(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return bz(this.persistence,new Iz,e.initialUser,this.serializer)}createPersistence(e){return new xx(DM.jr,this.serializer)}createSharedClientState(e){return new Fz}terminate(){var e=this;return(0,x.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class HR extends Yy{constructor(e,n,r){super(),this.xa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,r=this;return(0,x.Z)(function*(){yield n().call(r,e),yield r.xa.initialize(r,e),yield $R(r.xa.syncEngine),yield Mf(r.xa.remoteStore),yield r.persistence.mi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return bz(this.persistence,new Iz,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new mz(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new gve(n,this.persistence);return new fve(e.asyncQueue,r)}createPersistence(e){const n=Nx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Di.withCacheSize(this.cacheSizeBytes):Di.DEFAULT;return new kx(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,Vz(),LM(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Fz}}class r7 extends HR{constructor(e,n){super(e,n,!1),this.xa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,r=this;return(0,x.Z)(function*(){yield n().call(r,e);const i=r.xa.syncEngine;r.sharedClientState instanceof zx&&(r.sharedClientState.syncEngine={Ys:V0e.bind(null,i),Zs:j0e.bind(null,i),Xs:$0e.bind(null,i),Bi:B0e.bind(null,i),Js:L0e.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.mi(function(){var o=(0,x.Z)(function*(s){yield function U0e(t,e){return LR.apply(this,arguments)}(r.xa.syncEngine,s),r.gcScheduler&&(s&&!r.gcScheduler.started?r.gcScheduler.start():s||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(s&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():s||r.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const n=Vz();if(!zx.D(n))throw new ue(K.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Nx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new zx(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Af{initialize(e,n){var r=this;return(0,x.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Jz(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=k0e.bind(null,r.syncEngine),yield lR(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new y0e}createDatastore(e){const n=qy(e.databaseInfo.databaseId),r=new t0e(e.databaseInfo);return new i0e(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,o=e.asyncQueue,s=n=>Jz(this.syncEngine,n,0),a=Lz.D()?new Lz:new XCe,new a0e(r,i,o,s,a);var r,i,o,s,a}createSyncEngine(e,n){return function(i,o,s,a,c,l,h){const f=new O0e(i,o,s,a,c,l);return h&&(f.Ca=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,x.Z)(function*(r){const i=ve(r);he("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield Pf(i),i.F_.shutdown(),i.M_.set("Unknown")}),function n(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function i7(t,e=10240){let n=0;return{read:()=>(0,x.Z)(function*(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})(),cancel:()=>(0,x.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class BM{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):lr("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class W0e{constructor(e,n){this.Ba=e,this.serializer=n,this.metadata=new Nr,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(r=>{r&&r.Z_()?this.metadata.resolve(r.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Y_)}`))},r=>this.metadata.reject(r))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,x.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,x.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,x.Z)(function*(){const n=yield e.qa();if(null===n)return null;const r=e.La.decode(n),i=Number(r);isNaN(i)&&e.Qa(`length string (${r}) is not valid number`);const o=yield e.Ka(i);return new w0e(JSON.parse(o),n.length+i)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,x.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const n=e.$a();n<0&&e.Qa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),r})()}Ka(e){var n=this;return(0,x.Z)(function*(){for(;n.buffer.length<e;)(yield n.Ua())&&n.Qa("Reached the end of bundle when more is expected.");const r=n.La.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),r})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,x.Z)(function*(){const n=yield e.Ba.read();if(!n.done){const r=new Uint8Array(e.buffer.length+n.value.length);r.set(e.buffer),r.set(n.value,e.buffer.length),e.buffer=r}return n.done})()}}class G0e{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,x.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new ue(K.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,x.Z)(function*(s,a){const c=ve(s),l=Vy(c.serializer)+"/documents",h={documents:a.map(M=>Ly(c.serializer,M))},f=yield c.Co("BatchGetDocuments",l,h,a.length),_=new Map;f.forEach(M=>{const b=function pCe(t,e){return"found"in e?function(r,i){Le(!!i.found);const o=Ma(r,i.found.name),s=ur(i.found.updateTime),a=i.found.createTime?ur(i.found.createTime):Ve.min(),c=new li({mapValue:{fields:i.found.fields}});return Tn.newFoundDocument(o,s,a,c)}(t,e):"missing"in e?function(r,i){Le(!!i.missing),Le(!!i.readTime);const o=Ma(r,i.missing),s=ur(i.readTime);return Tn.newNoDocument(o,s)}(t,e):Ae()}(c.serializer,M);_.set(b.key.toString(),b)});const v=[];return a.forEach(M=>{const b=_.get(M.toString());Le(!!b),v.push(b)}),v}),function o(s,a){return i.apply(this,arguments)})(n.datastore,e);var i;return r.forEach(i=>n.recordVersion(i)),r})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new pf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,x.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var r;e.mutations.forEach(r=>{n.delete(r.key.toString())}),n.forEach((r,i)=>{const o=Ce.fromPath(i);e.mutations.push(new fx(o,e.precondition(o)))}),yield(r=(0,x.Z)(function*(o,s){const a=ve(o),c=Vy(a.serializer)+"/documents",l={writes:s.map(h=>Uy(a.serializer,h))};yield a.wo("Commit",c,l)}),function i(o,s){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Ae();n=Ve.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new ue(K.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Ve.min())?Ln.exists(!1):Ln.updateTime(n):Ln.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ve.min()))throw new ue(K.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ln.updateTime(n)}return Ln.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class q0e{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this.Wa=r.maxAttempts,this.zo=new Gx(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,x.Z)(function*(){const n=new G0e(e.datastore),r=e.za(n);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(i)}).catch(o=>{e.ja(o)}))}).catch(i=>{e.ja(i)})}))}za(e){try{const n=this.updateFunction(e);return!Cy(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!A8(n)}return!1}}class K0e{constructor(e,n,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Wr.UNAUTHENTICATED,this.clientId=OH.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=(0,x.Z)(function*(a){he("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(he("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return(0,x.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ue(K.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,x.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Of(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function jM(t,e){return zR.apply(this,arguments)}function zR(){return zR=(0,x.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=(0,x.Z)(function*(o){r.isEqual(o)||(yield Tz(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),zR.apply(this,arguments)}function WR(t,e){return GR.apply(this,arguments)}function GR(){return GR=(0,x.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield qR(t);he("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>Wz(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>Wz(e.remoteStore,o)),t._onlineComponents=e}),GR.apply(this,arguments)}function o7(t){return"FirebaseError"===t.name?t.code===K.FAILED_PRECONDITION||t.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function qR(t){return KR.apply(this,arguments)}function KR(){return KR=(0,x.Z)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{yield jM(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!o7(n))throw n;fo("Error using user provided cache. Falling back to memory cache: "+n),yield jM(t,new Yy)}}else he("FirestoreClient","Using default OfflineComponentProvider"),yield jM(t,new Yy);return t._offlineComponents}),KR.apply(this,arguments)}function $M(t){return ZR.apply(this,arguments)}function ZR(){return ZR=(0,x.Z)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),yield WR(t,t._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),yield WR(t,new Af))),t._onlineComponents}),ZR.apply(this,arguments)}function s7(t){return qR(t).then(e=>e.persistence)}function Df(t){return qR(t).then(e=>e.localStore)}function a7(t){return $M(t).then(e=>e.remoteStore)}function YR(t){return $M(t).then(e=>e.syncEngine)}function Sf(t){return QR.apply(this,arguments)}function QR(){return QR=(0,x.Z)(function*(t){const e=yield $M(t),n=e.eventManager;return n.onListen=I0e.bind(null,e.syncEngine),n.onUnlisten=b0e.bind(null,e.syncEngine),n}),QR.apply(this,arguments)}function l7(t,e,n={}){const r=new Nr;return t.asyncQueue.enqueueAndForget((0,x.Z)(function*(){return function(o,s,a,c,l){const h=new BM({next:_=>{s.enqueueAndForget(()=>fR(o,f));const v=_.docs.has(a);!v&&_.fromCache?l.reject(new ue(K.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&_.fromCache&&c&&"server"===c.source?l.reject(new ue(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(_)},error:_=>l.reject(_)}),f=new mR(af(a.path),h,{includeMetadataChanges:!0,J_:!0});return hR(o,f)}(yield Sf(t),t.asyncQueue,e,n,r)})),r.promise}function u7(t,e,n={}){const r=new Nr;return t.asyncQueue.enqueueAndForget((0,x.Z)(function*(){return function(o,s,a,c,l){const h=new BM({next:_=>{s.enqueueAndForget(()=>fR(o,f)),_.fromCache&&"server"===c.source?l.reject(new ue(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(_)},error:_=>l.reject(_)}),f=new mR(a,h,{includeMetadataChanges:!0,J_:!0});return hR(o,f)}(yield Sf(t),t.asyncQueue,e,n,r)})),r.promise}function d7(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const h7=new Map;function XR(t,e,n){if(!n)throw new ue(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function p7(t,e,n,r){if(!0===e&&!0===r)throw new ue(K.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function f7(t){if(!Ce.isDocumentKey(t))throw new ue(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function g7(t){if(Ce.isDocumentKey(t))throw new ue(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function HM(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":Ae()}function Pt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=HM(t);throw new ue(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function _7(t,e){if(e<=0)throw new ue(K.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class m7{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new ue(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ue(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}p7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=d7(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new ue(K.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ue(K.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ue(K.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new m7({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ue(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ue(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new m7(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new nve;switch(r.type){case"firstParty":return new sve(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=h7.get(n);r&&(he("ComponentProvider","Removing Datastore"),h7.delete(n),r.terminate())}(this),Promise.resolve()}}function y7(t,e,n,r={}){var i;const o=(t=Pt(t,Qy))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=Wr.MOCK_USER;else{a=(0,E.Sg)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new ue(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Wr(l)}t._authCredentials=new rve(new MH(a,c))}}class ui{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ui(this.firestore,e,this._query)}}class An{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ea(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new An(this.firestore,e,this._key)}}class Ea extends ui{constructor(e,n,r){super(e,n,af(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new An(this.firestore,null,new Ce(e))}withConverter(e){return new Ea(this.firestore,e,this._path)}}function v7(t,e,...n){if(t=(0,E.m9)(t),XR("collection","path",e),t instanceof Qy){const r=kt.fromString(e,...n);return g7(r),new Ea(t,null,r)}{if(!(t instanceof An||t instanceof Ea))throw new ue(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(kt.fromString(e,...n));return g7(r),new Ea(t.firestore,null,r)}}function zM(t,e,...n){if(t=(0,E.m9)(t),1===arguments.length&&(e=OH.newId()),XR("doc","path",e),t instanceof Qy){const r=kt.fromString(e,...n);return f7(r),new An(t,null,new Ce(r))}{if(!(t instanceof An||t instanceof Ea))throw new ue(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(kt.fromString(e,...n));return f7(r),new An(t.firestore,t instanceof Ea?t.converter:null,new Ce(r))}}function C7(t,e){return t=(0,E.m9)(t),e=(0,E.m9)(e),(t instanceof An||t instanceof Ea)&&(e instanceof An||e instanceof Ea)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function JR(t,e){return t=(0,E.m9)(t),e=(0,E.m9)(e),t instanceof ui&&e instanceof ui&&t.firestore===e.firestore&&Ty(t._query,e._query)&&t.converter===e.converter}class swe{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Gx(this,"async_queue_retry"),this.iu=()=>{const n=LM();n&&he("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=LM();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=LM();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Nr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,x.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!kl(n))throw n;he("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,lr("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=dR.createAndSchedule(this,e,n,r,o=>this.au(o));return this.Xa.push(i),i}su(){this.eu&&Ae()}verifyOperationInProgress(){}uu(){var e=this;return(0,x.Z)(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function ek(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(t)}class awe{constructor(){this._progressObserver={},this._taskCompletionResolver=new Nr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class _n extends Qy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new swe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||w7(this),this._firestoreClient.terminate()}}function lwe(t,e){const n="object"==typeof t?t:(0,Be.getApp)(),r="string"==typeof t?t:e||"(default)",i=(0,Be._getProvider)(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(0,E.P0)("firestore");o&&y7(i,...o)}return i}function er(t){return t._firestoreClient||w7(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function w7(t){var e,n,r;const i=t._freezeSettings(),o=(c=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Fve(t._databaseId,c,t._persistenceKey,(h=i).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,d7(h.experimentalLongPollingOptions),h.useFetchStreams));var c,h;t._firestoreClient=new K0e(t._authCredentials,t._appCheckCredentials,t._queue,o),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function P7(t,e,n){const r=new Nr;return t.asyncQueue.enqueue((0,x.Z)(function*(){try{yield jM(t,n),yield WR(t,e),r.resolve()}catch(i){const o=i;if(!o7(o))throw o;fo("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}})).then(()=>r.promise)}function M7(t){if(t._initialized||t._terminated)throw new ue(K.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Oa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oa(Fr.fromBase64String(e))}catch(n){throw new ue(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Oa(Fr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class vc{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new ue(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bd{constructor(e){this._methodName=e}}class WM{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}}const vwe=/^__.*__$/;class Cwe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new _c(e,this.data,this.fieldMask,n,this.fieldTransforms):new hf(e,this.data,n,this.fieldTransforms)}}class E7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new _c(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function O7(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class GM{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new GM(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return ZM(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(O7(this.Iu)&&vwe.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class wwe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qy(e)}pu(e,n,r,i=!1){return new GM({Iu:e,methodName:n,gu:r,path:bn.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Td(t){const e=t._freezeSettings(),n=qy(t._databaseId);return new wwe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qM(t,e,n,r,i,o={}){const s=t.pu(o.merge||o.mergeFields?2:0,e,n,i);ik("Data must be an object, but it was:",s,r);const a=T7(r,s);let c,l;if(o.merge)c=new go(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const f of o.mergeFields){const _=ev(e,f,n);if(!s.contains(_))throw new ue(K.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);D7(h,_)||h.push(_)}c=new go(h),l=s.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,l=s.fieldTransforms;return new Cwe(new li(a),c,l)}class Jy extends bd{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jy}}function I7(t,e,n){return new GM({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class tk extends bd{_toFieldTransform(e){return new xy(e.path,new uf)}isEqual(e){return e instanceof tk}}class Pwe extends bd{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=I7(this,e,!0),r=this.yu.map(o=>Ad(o,n)),i=new yd(r);return new xy(e.path,i)}isEqual(e){return this===e}}class Mwe extends bd{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=I7(this,e,!0),r=this.yu.map(o=>Ad(o,n)),i=new vd(r);return new xy(e.path,i)}isEqual(e){return this===e}}class Ewe extends bd{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=new df(e.serializer,y8(e.serializer,this.wu));return new xy(e.path,n)}isEqual(e){return this===e}}function nk(t,e,n,r){const i=t.pu(1,e,n);ik("Data must be an object, but it was:",i,r);const o=[],s=li.empty();Nl(r,(c,l)=>{const h=KM(e,c,n);l=(0,E.m9)(l);const f=i.Ru(h);if(l instanceof Jy)o.push(h);else{const _=Ad(l,f);null!=_&&(o.push(h),s.set(h,_))}});const a=new go(o);return new E7(s,a,i.fieldTransforms)}function rk(t,e,n,r,i,o){const s=t.pu(1,e,n),a=[ev(e,r,n)],c=[i];if(o.length%2!=0)throw new ue(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)a.push(ev(e,o[_])),c.push(o[_+1]);const l=[],h=li.empty();for(let _=a.length-1;_>=0;--_)if(!D7(l,a[_])){const v=a[_];let M=c[_];M=(0,E.m9)(M);const b=s.Ru(v);if(M instanceof Jy)l.push(v);else{const T=Ad(M,b);null!=T&&(l.push(v),h.set(v,T))}}const f=new go(l);return new E7(h,f,s.fieldTransforms)}function b7(t,e,n,r=!1){return Ad(n,t.pu(r?4:3,e))}function Ad(t,e){if(A7(t=(0,E.m9)(t)))return ik("Unsupported field value:",e,t),T7(t,e);if(t instanceof bd)return function(r,i){if(!O7(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let c=Ad(a,i.Vu(s));null==c&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if(null===(r=(0,E.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return y8(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=Fn.fromDate(r);return{timestampValue:ff(i.serializer,o)}}if(r instanceof Fn){const o=new Fn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ff(i.serializer,o)}}if(r instanceof WM)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Oa)return{bytesValue:U8(i.serializer,r._byteString)};if(r instanceof An){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Cx(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${HM(r)}`)}(t,e)}function T7(t,e){const n={};return BH(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Nl(t,(r,i)=>{const o=Ad(i,e.Eu(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function A7(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Fn||t instanceof WM||t instanceof Oa||t instanceof An||t instanceof bd)}function ik(t,e,n){if(!A7(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=HM(n);throw e.mu("an object"===r?t+" a custom object":t+" "+r)}var i}function ev(t,e,n){if((e=(0,E.m9)(e))instanceof vc)return e._internalPath;if("string"==typeof e)return KM(t,e);throw ZM("Field path arguments must be of type string or ",t,!1,void 0,n)}const Owe=new RegExp("[~\\*/\\[\\]]");function KM(t,e,n){if(e.search(Owe)>=0)throw ZM(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vc(...e.split("."))._internalPath}catch{throw ZM(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ZM(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new ue(K.INVALID_ARGUMENT,a+t+c)}function D7(t,e){return t.some(n=>n.isEqual(e))}class tv{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new An(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Iwe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(YM("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Iwe extends tv{data(){return super.data()}}function YM(t,e){return"string"==typeof e?KM(t,e):e instanceof vc?e._internalPath:e._delegate._internalPath}function S7(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new ue(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ok{}class nv extends ok{}function Kl(t,e,...n){let r=[];e instanceof ok&&r.push(e),r=r.concat(n),function(o){const s=o.filter(c=>c instanceof xf).length,a=o.filter(c=>c instanceof rv).length;if(s>1||s>0&&a>0)throw new ue(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class rv extends nv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new rv(e,n,r)}_apply(e){const n=this._parse(e);return N7(e._query,n),new ui(e.firestore,e.converter,hx(e._query,n))}_parse(e){const n=Td(e.firestore);return function(o,s,a,c,l,h,f){let _;if(l.isKeyField()){if("array-contains"===h||"array-contains-any"===h)throw new ue(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if("in"===h||"not-in"===h){k7(f,h);const v=[];for(const M of f)v.push(R7(c,o,M));_={arrayValue:{values:v}}}else _=R7(c,o,f)}else"in"!==h&&"not-in"!==h&&"array-contains-any"!==h||k7(f,h),_=b7(a,"where",f,"in"===h||"not-in"===h);return Et.create(l,h,_)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class xf extends ok{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new xf(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Kt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const c of a)N7(s,c),s=hx(s,c)}(e._query,n),new ui(e.firestore,e.converter,hx(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class sk extends nv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new sk(e,n)}_apply(e){const n=function(i,o,s){if(null!==i.startAt)throw new ue(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new ue(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Iy(o,s)}(e._query,this._field,this._direction);return new ui(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new fc(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}class QM extends nv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new QM(e,n,r)}_apply(e){return new ui(e.firestore,e.converter,mM(e._query,this._limit,this._limitType))}}class XM extends nv{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new XM(e,n,r)}_apply(e){const n=x7(e,this.type,this._docOrFields,this._inclusive);return new ui(e.firestore,e.converter,(o=n,new fc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)));var i,o}}class JM extends nv{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new JM(e,n,r)}_apply(e){const n=x7(e,this.type,this._docOrFields,this._inclusive);return new ui(e.firestore,e.converter,(o=n,new fc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)));var i,o}}function x7(t,e,n,r){if(n[0]=(0,E.m9)(n[0]),n[0]instanceof tv)return function(o,s,a,c,l){if(!c)throw new ue(K.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const f of cf(o))if(f.field.isKeyField())h.push(_d(s,c.key));else{const _=c.data.field(f.field);if(uM(_))throw new ue(K.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===_){const v=f.field.canonicalString();throw new ue(K.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}h.push(_)}return new jl(h,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Td(t.firestore);return function(s,a,c,l,h,f){const _=s.explicitOrderBy;if(h.length>_.length)throw new ue(K.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const v=[];for(let M=0;M<h.length;M++){const b=h[M];if(_[M].field.isKeyField()){if("string"!=typeof b)throw new ue(K.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof b}`);if(!dx(s)&&-1!==b.indexOf("/"))throw new ue(K.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${b}' contains a slash.`);const T=s.path.child(kt.fromString(b));if(!Ce.isDocumentKey(T))throw new ue(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${T}' is not because it contains an odd number of segments.`);const V=new Ce(T);v.push(_d(a,V))}else{const T=b7(c,l,b);v.push(T)}}return new jl(v,f)}(t._query,t.firestore._databaseId,i,e,n,r)}}function R7(t,e,n){if("string"==typeof(n=(0,E.m9)(n))){if(""===n)throw new ue(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dx(e)&&-1!==n.indexOf("/"))throw new ue(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(kt.fromString(n));if(!Ce.isDocumentKey(r))throw new ue(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _d(t,new Ce(r))}if(n instanceof An)return _d(t,n._key);throw new ue(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${HM(n)}.`)}function k7(t,e){if(!Array.isArray(t)||0===t.length)throw new ue(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function N7(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new ue(K.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ak{convertValue(e,n="none"){switch(Ul(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(pc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Nl(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new WM(Jn(e.latitude),Jn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=dM(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Py(e));default:return null}}convertTimestamp(e){const n=Fl(e);return new Fn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=kt.fromString(e);Le(Z8(r));const i=new Ll(r.get(1),r.get(3)),o=new Ce(r.popFirst(5));return i.isEqual(n)||lr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function eE(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Nwe extends ak{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new An(this.firestore,null,n)}}class Dd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cc extends tv{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new iv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(YM("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class iv extends Cc{data(e={}){return super.data(e)}}class Zl{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Dd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new iv(this._firestore,this._userDataWriter,r.key,r,new Dd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new iv(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Dd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const c=new iv(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Dd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,h=-1;return 0!==a.type&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:Lwe(a.type),doc:c,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Lwe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}function L7(t,e){return t instanceof Cc&&e instanceof Cc?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Zl&&e instanceof Zl&&t._firestore===e._firestore&&JR(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}class Yl extends ak{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new An(this.firestore,null,n)}}function V7(t,e,n){t=Pt(t,An);const r=Pt(t.firestore,_n),i=eE(t.converter,e,n);return Rf(r,[qM(Td(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Ln.none())])}function U7(t,e,n,...r){t=Pt(t,An);const i=Pt(t.firestore,_n),o=Td(i);let s;return s="string"==typeof(e=(0,E.m9)(e))||e instanceof vc?rk(o,"updateDoc",t._key,e,n,r):nk(o,"updateDoc",t._key,e),Rf(i,[s.toMutation(t._key,Ln.exists(!0))])}function B7(t,...e){var n,r,i;t=(0,E.m9)(t);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||ek(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(ek(e[s])){const f=e[s];e[s]=null===(n=f.next)||void 0===n?void 0:n.bind(f),e[s+1]=null===(r=f.error)||void 0===r?void 0:r.bind(f),e[s+2]=null===(i=f.complete)||void 0===i?void 0:i.bind(f)}let c,l,h;if(t instanceof An)l=Pt(t.firestore,_n),h=af(t._key.path),c={next:f=>{e[s]&&e[s](ck(l,t,f))},error:e[s+1],complete:e[s+2]};else{const f=Pt(t,ui);l=Pt(f.firestore,_n),h=f._query;const _=new Yl(l);c={next:v=>{e[s]&&e[s](new Zl(l,_,f,v))},error:e[s+1],complete:e[s+2]},S7(t._query)}return function(_,v,M,b){const T=new BM(b),V=new mR(v,T,M);return _.asyncQueue.enqueueAndForget((0,x.Z)(function*(){return hR(yield Sf(_),V)})),()=>{T.Na(),_.asyncQueue.enqueueAndForget((0,x.Z)(function*(){return fR(yield Sf(_),V)}))}}(er(l),h,a,c)}function Rf(t,e){return function(r,i){const o=new Nr;return r.asyncQueue.enqueueAndForget((0,x.Z)(function*(){return function T0e(t,e,n){return PR.apply(this,arguments)}(yield YR(r),i,o)})),o.promise}(er(t),e)}function ck(t,e,n){const r=n.docs.get(e._key),i=new Yl(t);return new Cc(t,i,e._key,r,new Dd(n.hasPendingWrites,n.fromCache),e.converter)}const tPe={maxAttempts:5};class j7{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Td(e)}set(e,n,r){this._verifyNotCommitted();const i=Ql(e,this._firestore),o=eE(i.converter,n,r),s=qM(this._dataReader,"WriteBatch.set",i._key,o,null!==i.converter,r);return this._mutations.push(s.toMutation(i._key,Ln.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=Ql(e,this._firestore);let s;return s="string"==typeof(n=(0,E.m9)(n))||n instanceof vc?rk(this._dataReader,"WriteBatch.update",o._key,n,r,i):nk(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,Ln.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Ql(e,this._firestore);return this._mutations=this._mutations.concat(new pf(n._key,Ln.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ue(K.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ql(t,e){if((t=(0,E.m9)(t)).firestore!==e)throw new ue(K.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class nPe extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Td(n)}get(n){const r=Ql(n,this._firestore),i=new Nwe(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||1!==o.length)return Ae();const s=o[0];if(s.isFoundDocument())return new tv(this._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new tv(this._firestore,i,r._key,null,r.converter);throw Ae()})}set(n,r,i){const o=Ql(n,this._firestore),s=eE(o.converter,r,i),a=qM(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,i);return this._transaction.set(o._key,a),this}update(n,r,i,...o){const s=Ql(n,this._firestore);let a;return a="string"==typeof(r=(0,E.m9)(r))||r instanceof vc?rk(this._dataReader,"Transaction.update",s._key,r,i,o):nk(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(n){const r=Ql(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Ql(e,this._firestore),r=new Yl(this._firestore);return super.get(e).then(i=>new Cc(this._firestore,r,n._key,i._document,new Dd(!1,!1),n.converter))}}!function(e,n=!0){Qp=Be.SDK_VERSION,(0,Be._registerComponent)(new To.wA("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new _n(new ive(r.getProvider("auth-internal")),new ave(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new ue(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,Be.registerVersion)(PH,"4.3.2",e),(0,Be.registerVersion)(PH,"4.3.2","esm2017")}();class uk{constructor(e){return e}}const W7="firestore",dk=new ge("angularfire2.firestore-instances");function hPe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new uk(r)}}const pPe={provide:class uPe{constructor(){return RT(W7)}},deps:[[new p,dk]]},fPe={provide:uk,useFactory:function dPe(t,e){const n=function Rj(t,e,n){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(W7,t,e);return n&&new uk(n)},deps:[[new p,dk],Um]};let G7=(()=>{var t;class e{constructor(){(0,Be.registerVersion)("angularfire",El.full,"fst")}}return t=e,Ue(e,"\u0275fac",function(r){return new(r||t)}),Ue(e,"\u0275mod",Gn({type:t})),Ue(e,"\u0275inj",ir({providers:[fPe,pPe]})),e})();function gPe(t,...e){return{ngModule:G7,providers:[{provide:dk,useFactory:hPe(t),multi:!0,deps:[xt,$i,xp,J9,[new p,o$],[new p,Dm],...e]}]}}const _Pe=Jce(lwe,!0);Ye(643);class mPe extends ee{constructor(e=1/0,n=1/0,r=xT){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const s=n.now();let a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}}function q7(t,e,n){let r,i=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t):r=t??1/0,qe({connector:()=>new mPe(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function K7(t,e){return I(e)?et(()=>t,e):et(()=>t)}const hk=new ge("angularfire2.auth.use-emulator"),pk=new ge("angularfire2.auth.settings"),fk=new ge("angularfire2.auth.tenant-id"),gk=new ge("angularfire2.auth.langugage-code"),_k=new ge("angularfire2.auth.use-device-language"),mk=new ge("angularfire.auth.persistence"),yk=(t,e,n,r,i,o,s,a)=>rP(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const c=e.runOutsideAngular(()=>t.auth());if(n&&c.useEmulator(...n),r&&(c.tenantId=r),c.languageCode=i,o&&c.useDeviceLanguage(),s)for(const[l,h]of Object.entries(s))c.settings[l]=h;return a&&c.setPersistence(a),c},[n,r,i,o,s,a]);let vk=(()=>{var t;class e{constructor(r,i,o,s,a,c,l,h,f,_,v,M){Ue(this,"authState",void 0),Ue(this,"idToken",void 0),Ue(this,"user",void 0),Ue(this,"idTokenResult",void 0),Ue(this,"credential",void 0);const b=new ee,T=Q(void 0).pipe(Or(a.outsideAngular),et(()=>s.runOutsideAngular(()=>Promise.resolve().then(Ye.bind(Ye,643)))),me(()=>Sm(r,s,i)),me(V=>yk(V,s,c,h,f,_,l,v)),q7({bufferSize:1,refCount:!1}));if(N0(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Q(null);else{T.pipe(al()).subscribe();const V=T.pipe(et(z=>z.getRedirectResult().then(fe=>fe,()=>null)),cr,q7({bufferSize:1,refCount:!1})),N=T.pipe(et(z=>new at(fe=>({unsubscribe:s.runOutsideAngular(()=>z.onAuthStateChanged(Ie=>fe.next(Ie),Ie=>fe.error(Ie),()=>fe.complete()))})))),W=T.pipe(et(z=>new at(fe=>({unsubscribe:s.runOutsideAngular(()=>z.onIdTokenChanged(Ie=>fe.next(Ie),Ie=>fe.error(Ie),()=>fe.complete()))}))));this.authState=V.pipe(K7(N),Qr(a.outsideAngular),Or(a.insideAngular)),this.user=V.pipe(K7(W),Qr(a.outsideAngular),Or(a.insideAngular)),this.idToken=this.user.pipe(et(z=>z?R(z.getIdToken()):Q(null))),this.idTokenResult=this.user.pipe(et(z=>z?R(z.getIdTokenResult()):Q(null))),this.credential=ne(V,b,this.authState.pipe(rs(z=>!z))).pipe(me(z=>z?.user?z:null),Qr(a.outsideAngular),Or(a.insideAngular))}return((t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{if(t[o])return r?.spy?.get&&r.spy.get(o,t[o]),t[o];if(rle.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(a=>{const c=a?.[o];return"function"==typeof c?c.bind(a):c?.then?c.then(l=>n.run(()=>l)):n.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,l)=>s.then(h=>{const f=h?.(...l);return r?.spy?.apply&&r.spy.apply(o,l,f),f})})})}))(this,T,s,{spy:{apply:(V,N,W)=>{(V.startsWith("signIn")||V.startsWith("createUser"))&&W.then(z=>b.next(z))}}})}}return t=e,Ue(e,"\u0275fac",function(r){return new(r||t)(oe(kp),oe(Np,8),oe(Eo),oe(xt),oe(xp),oe(hk,8),oe(pk,8),oe(fk,8),oe(gk,8),oe(_k,8),oe(mk,8),oe(Dm,8))}),Ue(e,"\u0275prov",Te({token:t,factory:t.\u0275fac,providedIn:"any"})),e})();const MPe=new Mi.Yd("@firebase/database-compat"),Z7=function(t){MPe.warn("FIREBASE WARNING: "+t)};class IPe{constructor(e){this._delegate=e}cancel(e){(0,E.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,E.Wj)("OnDisconnect.cancel","onComplete",e,!0);const n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){(0,E.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,E.Wj)("OnDisconnect.remove","onComplete",e,!0);const n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){(0,E.Dv)("OnDisconnect.set",1,2,arguments.length),(0,E.Wj)("OnDisconnect.set","onComplete",n,!0);const r=this._delegate.set(e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){(0,E.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,E.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,n);return r&&i.then(()=>r(null),o=>r(o)),i}update(e,n){if((0,E.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,Z7("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,E.Wj)("OnDisconnect.update","onComplete",n,!0);const r=this._delegate.update(e);return n&&r.then(()=>n(null),i=>n(i)),r}}class bPe{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return(0,E.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Xl{constructor(e,n){this._database=e,this._delegate=n}val(){return(0,E.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,E.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,E.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,E.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,E.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),mm("DataSnapshot.child","path",e,!1),new Xl(this._database,this._delegate.child(e))}hasChild(e){return(0,E.Dv)("DataSnapshot.hasChild",1,1,arguments.length),mm("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,E.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,E.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,E.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new Xl(this._database,n)))}hasChildren(){return(0,E.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,E.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,E.Dv)("DataSnapshot.ref",0,0,arguments.length),new No(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class di{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,i){var o;(0,E.Dv)("Query.on",2,4,arguments.length),(0,E.Wj)("Query.on","callback",n,!1);const s=di.getCancelAndContextArgs_("Query.on",r,i),a=(l,h)=>{n.call(s.context,new Xl(this.database,l),h)};a.userCallback=n,a.context=s.context;const c=null===(o=s.cancel)||void 0===o?void 0:o.bind(s.context);switch(e){case"value":return xs(this._delegate,a,c),n;case"child_added":return gB(this._delegate,a,c),n;case"child_removed":return yB(this._delegate,a,c),n;case"child_changed":return _B(this._delegate,a,c),n;case"child_moved":return mB(this._delegate,a,c),n;default:throw new Error((0,E.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if((0,E.Dv)("Query.off",0,3,arguments.length),function(t,e,n){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,E.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,E.Wj)("Query.off","callback",n,!0),(0,E.lb)("Query.off","context",r,!0),n){const i=()=>{};i.userCallback=n,i.context=r,vB(this._delegate,e,i)}else vB(this._delegate,e)}get(){return bp(this._delegate).then(e=>new Xl(this.database,e))}once(e,n,r,i){(0,E.Dv)("Query.once",1,4,arguments.length),(0,E.Wj)("Query.once","callback",n,!0);const o=di.getCancelAndContextArgs_("Query.once",r,i),s=new E.BH,a=(l,h)=>{const f=new Xl(this.database,l);n&&n.call(o.context,f,h),s.resolve(f)};a.userCallback=n,a.context=o.context;const c=l=>{o.cancel&&o.cancel.call(o.context,l),s.reject(l)};switch(e){case"value":xs(this._delegate,a,c,{onlyOnce:!0});break;case"child_added":gB(this._delegate,a,c,{onlyOnce:!0});break;case"child_removed":yB(this._delegate,a,c,{onlyOnce:!0});break;case"child_changed":_B(this._delegate,a,c,{onlyOnce:!0});break;case"child_moved":mB(this._delegate,a,c,{onlyOnce:!0});break;default:throw new Error((0,E.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(e){return(0,E.Dv)("Query.limitToFirst",1,1,arguments.length),new di(this.database,ks(this._delegate,function lae(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new cae(t)}(e)))}limitToLast(e){return(0,E.Dv)("Query.limitToLast",1,1,arguments.length),new di(this.database,ks(this._delegate,function dae(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new uae(t)}(e)))}orderByChild(e){return(0,E.Dv)("Query.orderByChild",1,1,arguments.length),new di(this.database,ks(this._delegate,function pae(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return mm("orderByChild","path",t,!1),new hae(t)}(e)))}orderByKey(){return(0,E.Dv)("Query.orderByKey",0,0,arguments.length),new di(this.database,ks(this._delegate,function gae(){return new fae}()))}orderByPriority(){return(0,E.Dv)("Query.orderByPriority",0,0,arguments.length),new di(this.database,ks(this._delegate,function mae(){return new _ae}()))}orderByValue(){return(0,E.Dv)("Query.orderByValue",0,0,arguments.length),new di(this.database,ks(this._delegate,function vae(){return new yae}()))}startAt(e=null,n){return(0,E.Dv)("Query.startAt",0,2,arguments.length),new di(this.database,ks(this._delegate,function oae(t=null,e){return _m("startAt","key",e,!0),new wB(t,e)}(e,n)))}startAfter(e=null,n){return(0,E.Dv)("Query.startAfter",0,2,arguments.length),new di(this.database,ks(this._delegate,function aae(t,e){return _m("startAfter","key",e,!0),new sae(t,e)}(e,n)))}endAt(e=null,n){return(0,E.Dv)("Query.endAt",0,2,arguments.length),new di(this.database,ks(this._delegate,function nae(t,e){return _m("endAt","key",e,!0),new CB(t,e)}(e,n)))}endBefore(e=null,n){return(0,E.Dv)("Query.endBefore",0,2,arguments.length),new di(this.database,ks(this._delegate,function iae(t,e){return _m("endBefore","key",e,!0),new rae(t,e)}(e,n)))}equalTo(e,n){return(0,E.Dv)("Query.equalTo",1,2,arguments.length),new di(this.database,ks(this._delegate,function wae(t,e){return _m("equalTo","key",e,!0),new Cae(t,e)}(e,n)))}toString(){return(0,E.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,E.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,E.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof di))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){const i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,(0,E.Wj)(e,"cancel",i.cancel,!0),i.context=r,(0,E.lb)(e,"context",i.context,!0);else if(n)if("object"==typeof n&&null!==n)i.context=n;else{if("function"!=typeof n)throw new Error((0,E.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=n}return i}get ref(){return new No(this.database,new as(this._delegate._repo,this._delegate._path))}}class No extends di{constructor(e,n){super(e,new ho(n._repo,n._path,new hw,!1)),this.database=e,this._delegate=n}getKey(){return(0,E.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,E.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new No(this.database,Xu(this._delegate,e))}getParent(){(0,E.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new No(this.database,e):null}getRoot(){return(0,E.Dv)("Reference.root",0,0,arguments.length),new No(this.database,this._delegate.root)}set(e,n){(0,E.Dv)("Reference.set",1,2,arguments.length),(0,E.Wj)("Reference.set","onComplete",n,!0);const r=Do(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}update(e,n){if((0,E.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,Z7("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ss("Reference.update",this._delegate._path),(0,E.Wj)("Reference.update","onComplete",n,!0);const r=tae(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){(0,E.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,E.Wj)("Reference.setWithPriority","onComplete",r,!0);const i=function eae(t,e,n){if(ss("setWithPriority",t._path),ca("setWithPriority",e,t._path,!1),rT("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";const r=new E.BH;return oT(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}(this._delegate,e,n);return r&&i.then(()=>r(null),o=>r(o)),i}remove(e){(0,E.Dv)("Reference.remove",0,1,arguments.length),(0,E.Wj)("Reference.remove","onComplete",e,!0);const n=function Xse(t){return ss("remove",t._path),Do(t,null)}(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){(0,E.Dv)("Reference.transaction",1,3,arguments.length),(0,E.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,E.Wj)("Reference.transaction","onComplete",n,!0),function(t,e,n,r){if(void 0!==n&&"boolean"!=typeof n)throw new Error((0,E.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const i=function Vae(t,e,n){var r;if(t=(0,E.m9)(t),ss("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";const i=null===(r=n?.applyLocally)||void 0===r||r,o=new E.BH,a=xs(t,()=>{});return function zse(t,e,n,r,i,o){Op(t,"transaction on "+e);const s={path:e,update:n,onComplete:r,status:null,order:E5(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=aT(t,e,void 0);s.currentInputSnapshot=a;const c=s.update(a.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{gm("transaction failed: Data returned ",c,s.path),s.status=0;const l=Aw(t.transactionQueueTree_,e),h=Yu(l)||[];let f;h.push(s),eT(l,h),"object"==typeof c&&null!==c&&(0,E.r3)(c,".priority")?(f=(0,E.DV)(c,".priority"),(0,E.hu)(fm(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(bw(t.serverSyncTree_,e)||nt.EMPTY_NODE).getPriority().val();const _=ym(t),v=Un(c,f),M=Qb(v,a,_);s.currentOutputSnapshotRaw=v,s.currentOutputSnapshotResolved=M,s.currentWriteId=Rw(t);const b=zb(t.serverSyncTree_,e,M,s.currentWriteId,s.applyLocally);Ao(t.eventQueue_,e,b),kw(t,t.transactionQueueTree_)}}(t._repo,t._path,e,(c,l,h)=>{let f=null;c?o.reject(c):(f=new Qu(h,new as(t._repo,t._path),pn),o.resolve(new Lae(l,f)))},a,i),o.promise}(this._delegate,e,{applyLocally:r}).then(o=>new bPe(o.committed,new Xl(this.database,o.snapshot)));return n&&i.then(o=>n(null,o.committed,o.snapshot),o=>n(o,!1,null)),i}setPriority(e,n){(0,E.Dv)("Reference.setPriority",1,2,arguments.length),(0,E.Wj)("Reference.setPriority","onComplete",n,!0);const r=function Jse(t,e){t=(0,E.m9)(t),ss("setPriority",t._path),rT("setPriority",e,!1);const n=new E.BH;return oT(t._repo,Rn(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}push(e,n){(0,E.Dv)("Reference.push",0,2,arguments.length),(0,E.Wj)("Reference.push","onComplete",n,!0);const r=function Qse(t,e){t=(0,E.m9)(t),ss("push",t._path),ca("push",e,t._path,!0);const n=nB(t._repo),r=Yse(n),i=Xu(t,r),o=Xu(t,r);let s;return s=null!=e?Do(o,e).then(()=>o):Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}(this._delegate,e),i=r.then(s=>new No(this.database,s));n&&i.then(()=>n(null),s=>n(s));const o=new No(this.database,r);return o.then=i.then.bind(i),o.catch=i.catch.bind(i,void 0),o}onDisconnect(){return ss("Reference.onDisconnect",this._delegate._path),new IPe(new pB(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class ov{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Tae,forceLongPolling:Aae}}useEmulator(e,n,r={}){EB(this._delegate,e,n,r)}ref(e){if((0,E.Dv)("database.ref",0,1,arguments.length),e instanceof No){const n=fB(this._delegate,e.toString());return new No(this,n)}{const n=En(this._delegate,e);return new No(this,n)}}refFromURL(e){(0,E.Dv)("database.refFromURL",1,1,arguments.length);const r=fB(this._delegate,e);return new No(this,r)}goOffline(){return(0,E.Dv)("database.goOffline",0,0,arguments.length),function Dae(t){(t=(0,E.m9)(t))._checkNotDeleted("goOffline"),sB(t._repo)}(this._delegate)}goOnline(){return(0,E.Dv)("database.goOnline",0,0,arguments.length),function Sae(t){(t=(0,E.m9)(t))._checkNotDeleted("goOnline"),function Hse(t){t.persistentConnection_&&t.persistentConnection_.resume(tB)}(t._repo)}(this._delegate)}}ov.ServerValue={TIMESTAMP:function Nae(){return kae}(),increment:t=>function Fae(t){return{".sv":{increment:t}}}(t)};var APe=Object.freeze({__proto__:null,initStandalone:function TPe({app:t,url:e,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:o,nodeAdmin:s=!1}){ab(n);const a=new To.H0("database-standalone"),c=new To.zt("auth-internal",a);let l;return c.setComponent(new To.wA("auth-internal",()=>r,"PRIVATE")),i&&(l=new To.zt("app-check-internal",a),l.setComponent(new To.wA("app-check-internal",()=>i,"PRIVATE"))),{instance:new ov(pT(t,c,l,e,s),t),namespace:o}}});const DPe=ov.ServerValue;function sv(t,e,n="on",r=nP){return new at(i=>{let o=null;return o=t[n](e,(s,a)=>{r.schedule(()=>{i.next({snapshot:s,prevKey:a})}),"once"===n&&r.schedule(()=>i.complete())},s=>{r.schedule(()=>i.error(s))}),"on"===n?{unsubscribe(){null!=o&&t.off(e,o)}}:{unsubscribe(){}}}).pipe(me(i=>{const{snapshot:o,prevKey:s}=i;let a=null;return o.exists()&&(a=o.key),{type:e,payload:o,prevKey:s,key:a}}),qe())}function Y7(t){return null==t}function Q7(t){return"function"==typeof t.set}function X7(t,e){return Q7(e)?e:t.ref(e)}function J7(t,e){if(function xPe(t){return"string"==typeof t}(t))return e.stringCase();if(Q7(t))return e.firebaseCase();if(function RPe(t){return"function"==typeof t.exportVal}(t))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function eW(t){return(Y7(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function tW(t,e,n){return ne(...(e=eW(e)).map(i=>sv(t,i,"on",n)))}function nW(t,e){return function(r,i){return J7(r,{stringCase:()=>t.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function LPe(t){return function(n){return n?J7(n,{stringCase:()=>t.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):t.remove()}}function rW(t,e){const n=t.length;for(let r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function BPe(t,e){const{payload:n,prevKey:r,key:i}=e,o=rW(t,i),s=function UPe(t,e){if(Y7(e))return 0;{const n=rW(t,e);return-1===n?t.length:n+1}}(t,r);switch(e.type){case"value":if(e.payload?.exists()){let a=null;e.payload.forEach(c=>{const l={payload:c,type:"value",prevKey:a,key:c.key};return a=c.key,t=[...t,l],!1})}return t;case"child_added":if(o>-1)(t[o-1]?.key||null)!==r&&(t=t.filter(c=>c.payload.key!==n.key)).splice(s,0,e);else{if(null==r)return[e,...t];(t=t.slice()).splice(s,0,e)}return t;case"child_removed":return t.filter(a=>a.payload.key!==n.key);case"child_changed":return t.map(a=>a.payload.key===i?e:a);case"child_moved":if(o>-1){const a=t.splice(o,1)[0];return(t=t.slice()).splice(s,0,a),t}return t;default:return t}}function iW(t,e,n){return function VPe(t,e,n){return sv(t,"value","once",n).pipe(et(r=>{const i=[Q(r)];return e.forEach(o=>i.push(sv(t,o,"on",n))),ne(...i).pipe(sp(BPe,[]))}),ln())}(t,e=eW(e),n)}function oW(t,e){return function(){return sv(t,"value","on",e)}}!function SPe(t){t.INTERNAL.registerComponent(new To.wA("database-compat",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new ov(i,r)},"PUBLIC").setServiceProps({Reference:No,Query:di,Database:ov,DataSnapshot:Xl,enableLogging:xae,INTERNAL:APe,ServerValue:DPe}).setMultipleInstances(!0)),t.registerVersion("@firebase/database-compat","1.0.1")}(cs.Z);const HPe=new ge("angularfire2.realtimeDatabaseURL"),zPe=new ge("angularfire2.database.use-emulator");let WPe=(()=>{var t;class e{constructor(r,i,o,s,a,c,l,h,f,_,v,M,b,T,V){Ue(this,"schedulers",void 0),Ue(this,"database",void 0),this.schedulers=c;const N=l,W=Sm(r,a,i);h&&yk(W,a,f,v,M,b,_,T),this.database=rP(`${W.name}.database.${o}`,"AngularFireDatabase",W.name,()=>{const z=a.runOutsideAngular(()=>W.database(o||void 0));return N&&z.useEmulator(...N),z},[N])}list(r,i){const o=this.schedulers.ngZone.runOutsideAngular(()=>X7(this.database,r));let s=o;return i&&(s=i(o)),function jPe(t,e){const n=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:nW(r,"update"),set:nW(r,"set"),push:i=>r.push(i),remove:LPe(r),snapshotChanges:i=>iW(t,i,n).pipe(cr),stateChanges:i=>tW(t,i,n).pipe(cr),auditTrail:i=>function kPe(t,e,n){return function FPe(t,e,n){return function NPe(t,e){return sv(t,"value","on",e).pipe(me(n=>{let r;return n.payload.forEach(i=>(r=i.key,!1)),{data:n,lastKeyToLoad:r}}))}(t,n).pipe(function vPe(...t){const e=Hs(t);return X((n,r)=>{const i=t.length,o=new Array(i);let s=t.map(()=>!1),a=!1;for(let c=0;c<i;c++)zn(t[c]).subscribe(we(r,l=>{o[c]=l,!a&&!s[c]&&(s[c]=!0,(a=s.every(Hn))&&(s=null))},De));n.subscribe(we(r,c=>{if(a){const l=[c,...o];r.next(e?e(...l):l)}}))})}(e),me(([i,o])=>{const s=i.lastKeyToLoad,a=o.map(c=>c.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),function CPe(t){return X((e,n)=>{let r=!1,i=0;e.subscribe(we(n,o=>(r||(r=!t(o,i++)))&&n.next(o)))})}(i=>-1===i.loadedKeys.indexOf(i.lastKeyToLoad)),me(i=>i.actions))}(t,tW(t,e).pipe(sp((i,o)=>[...i,o],[])),n)}(t,i,n).pipe(cr),valueChanges:(i,o)=>iW(t,i,n).pipe(me(a=>a.map(c=>o&&o.idField?{...c.payload.val(),[o.idField]:c.key}:c.payload.val())),cr)}}(s,this)}object(r){return function $Pe(t,e){return{query:t,snapshotChanges:()=>oW(t,e.schedulers.outsideAngular)().pipe(cr),update:n=>t.ref.update(n),set:n=>t.ref.set(n),remove:()=>t.ref.remove(),valueChanges:()=>oW(t,e.schedulers.outsideAngular)().pipe(cr,me(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>X7(this.database,r)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t=e,Ue(e,"\u0275fac",function(r){return new(r||t)(oe(kp),oe(Np,8),oe(HPe,8),oe(Eo),oe(xt),oe(xp),oe(zPe,8),oe(vk,8),oe(hk,8),oe(pk,8),oe(fk,8),oe(gk,8),oe(_k,8),oe(mk,8),oe(Dm,8))}),Ue(e,"\u0275prov",Te({token:t,factory:t.\u0275fac,providedIn:"any"})),e})(),GPe=(()=>{var t;class e{constructor(){cs.Z.registerVersion("angularfire",El.full,"rtdb-compat")}}return t=e,Ue(e,"\u0275fac",function(r){return new(r||t)}),Ue(e,"\u0275mod",Gn({type:t})),Ue(e,"\u0275inj",ir({providers:[WPe]})),e})();function Ck(){return X((t,e)=>{let n,r=!1;t.subscribe(we(e,i=>{const o=n;n=i,r&&e.next([o,i]),r=!0}))})}function wk(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ue("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function sW(){if(typeof Uint8Array>"u")throw new ue("unimplemented","Uint8Arrays are not available in this environment.")}function aW(){if(!function kve(){return typeof atob<"u"}())throw new ue("unimplemented","Blobs are unavailable in Firestore in this environment.")}class av{constructor(e){this._delegate=e}static fromBase64String(e){return aW(),new av(Oa.fromBase64String(e))}static fromUint8Array(e){return sW(),new av(Oa.fromUint8Array(e))}toBase64(){return aW(),this._delegate.toBase64()}toUint8Array(){return sW(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Pk(t){return function ZPe(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}(t,["next","error","complete"])}class YPe{enableIndexedDbPersistence(e,n){return function uwe(t,e){M7(t=Pt(t,_n));const n=er(t);if(n._uninitializedComponentsProvider)throw new ue(K.FAILED_PRECONDITION,"SDK cache is already specified.");fo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new Af;return P7(n,i,new HR(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function dwe(t){M7(t=Pt(t,_n));const e=er(t);if(e._uninitializedComponentsProvider)throw new ue(K.FAILED_PRECONDITION,"SDK cache is already specified.");fo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new Af;return P7(e,r,new r7(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function hwe(t){if(t._initialized&&!t._terminated)throw new ue(K.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Nr;return t._queue.enqueueAndForgetEvenWhileRestricted((0,x.Z)(function*(){try{yield(n=(0,x.Z)(function*(i){if(!Bs.D())return Promise.resolve();const o=i+"main";yield Bs.delete(o)}),function r(i){return n.apply(this,arguments)})(Nx(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class cW{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ll||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&fo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,r={}){y7(this._delegate,e,n,r)}enableNetwork(){return function fwe(t){return function Z0e(t){return t.asyncQueue.enqueue((0,x.Z)(function*(){const e=yield s7(t),n=yield a7(t);return e.setNetworkEnabled(!0),function(i){const o=ve(i);return o.C_.delete(0),Ky(o)}(n)}))}(er(t=Pt(t,_n)))}(this._delegate)}disableNetwork(){return function gwe(t){return function Y0e(t){return t.asyncQueue.enqueue((0,x.Z)(function*(){const e=yield s7(t),n=yield a7(t);return e.setNetworkEnabled(!1),(r=(0,x.Z)(function*(o){const s=ve(o);s.C_.add(0),yield Pf(s),s.M_.set("Offline")}),function i(o){return r.apply(this,arguments)})(n);var r}))}(er(t=Pt(t,_n)))}(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,p7("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function pwe(t){return function(n){const r=new Nr;return n.asyncQueue.enqueueAndForget((0,x.Z)(function*(){return function x0e(t,e){return bR.apply(this,arguments)}(yield YR(n),r)})),r.promise}(er(t=Pt(t,_n)))}(this._delegate)}onSnapshotsInSync(e){return function Gwe(t,e){return function J0e(t,e){const n=new BM(e);return t.asyncQueue.enqueueAndForget((0,x.Z)(function*(){return i=yield Sf(t),o=n,ve(i).q_.add(o),void o.next();var i,o})),()=>{n.Na(),t.asyncQueue.enqueueAndForget((0,x.Z)(function*(){return i=yield Sf(t),o=n,void ve(i).q_.delete(o);var i,o}))}}(er(t=Pt(t,_n)),ek(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ue("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new kf(this,v7(this._delegate,e))}catch(n){throw Ji(n,"collection()","Firestore.collection()")}}doc(e){try{return new ds(this,zM(this._delegate,e))}catch(n){throw Ji(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new eo(this,function owe(t,e){if(t=Pt(t,Qy),XR("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ue(K.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ui(t,null,(r=e,new fc(kt.emptyPath(),r)));var r}(this._delegate,e))}catch(n){throw Ji(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function rPe(t,e,n){t=Pt(t,_n);const r=Object.assign(Object.assign({},tPe),n);return function(o){if(o.maxAttempts<1)throw new ue(K.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){const c=new Nr;return o.asyncQueue.enqueueAndForget((0,x.Z)(function*(){const l=yield function c7(t){return $M(t).then(e=>e.datastore)}(o);new q0e(o.asyncQueue,l,a,s,c).run()})),c.promise}(er(t),i=>e(new nPe(t,i)),r)}(this._delegate,n=>e(new lW(this,n)))}batch(){return er(this._delegate),new uW(new j7(this._delegate,e=>Rf(this._delegate,e)))}loadBundle(e){return function _we(t,e){const n=er(t=Pt(t,_n)),r=new awe;return function ewe(t,e,n,r){const i=function(s,a){let c;return c="string"==typeof s?S8().encode(s):s,h=function(h,f){if(h instanceof Uint8Array)return i7(h,f);if(h instanceof ArrayBuffer)return i7(new Uint8Array(h),f);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),new W0e(h,a);var h}(n,qy(e));t.asyncQueue.enqueueAndForget((0,x.Z)(function*(){!function H0e(t,e,n){const r=ve(t);var i;(i=(0,x.Z)(function*(s,a,c){try{const l=yield a.getMetadata();if(yield function(M,b){const T=ve(M),V=ur(b.createTime);return T.persistence.runTransaction("hasNewerBundle","readonly",N=>T.Kr.getBundleMetadata(N,b.id)).then(N=>!!N&&N.createTime.compareTo(V)>=0)}(s.localStore,l))return yield a.close(),c._completeWith({taskState:"Success",documentsLoaded:(M=l).totalDocuments,bytesLoaded:M.totalBytes,totalDocuments:M.totalDocuments,totalBytes:M.totalBytes}),Promise.resolve(new Set);c._updateProgress(Kz(l));const h=new P0e(l,s.localStore,a.serializer);let f=yield a.Ma();for(;f;){const v=yield h.ea(f);v&&c._updateProgress(v),f=yield a.Ma()}const _=yield h.complete();return yield yc(s,_.ra,void 0),yield function(M,b){const T=ve(M);return T.persistence.runTransaction("Save bundle","readwrite",V=>T.Kr.saveBundleMetadata(V,b))}(s.localStore,l),c._completeWith(_.progress),Promise.resolve(_.na)}catch(l){return fo("SyncEngine",`Loading bundle failed with ${l}`),c._failWith(l),Promise.resolve(new Set)}var M}),function o(s,a,c){return i.apply(this,arguments)})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield YR(t),i,r)}))}(n,t._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function mwe(t,e){return function twe(t,e){return t.asyncQueue.enqueue((0,x.Z)(function*(){return function(r,i){const o=ve(r);return o.persistence.runTransaction("Get named query","readonly",s=>o.Kr.getNamedQuery(s,i))}(yield Df(t),e)}))}(er(t=Pt(t,_n)),e).then(n=>n?new ui(t,null,n.query):null)}(this._delegate,e).then(n=>n?new eo(this,n):null)}}class nE extends ak{constructor(e){super(),this.firestore=e}convertBytes(e){return new av(new Oa(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return ds.forKey(n,this.firestore,null)}}class lW{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new nE(e)}get(e){const n=xd(e);return this._delegate.get(n).then(r=>new cv(this._firestore,new Cc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=xd(e);return r?(wk("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=xd(e);return 2===arguments.length?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=xd(e);return this._delegate.delete(n),this}}class uW{constructor(e){this._delegate=e}set(e,n,r){const i=xd(e);return r?(wk("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=xd(e);return 2===arguments.length?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=xd(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Sd{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new iv(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new lv(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Sd.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(n);return o||(o=new Sd(e,new nE(e),n),i.set(n,o)),o}}Sd.INSTANCES=new WeakMap;class ds{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new nE(e)}static forPath(e,n,r){if(e.length%2!=0)throw new ue("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ds(n,new An(n._delegate,r,new Ce(e)))}static forKey(e,n,r){return new ds(n,new An(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new kf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new kf(this.firestore,v7(this._delegate,e))}catch(n){throw Ji(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,E.m9)(e))instanceof An&&C7(this._delegate,e)}set(e,n){n=wk("DocumentReference.set",n);try{return n?V7(this._delegate,e,n):V7(this._delegate,e)}catch(r){throw Ji(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return 1===arguments.length?U7(this._delegate,e):U7(this._delegate,e,n,...r)}catch(i){throw Ji(i,"updateDoc()","DocumentReference.update()")}}delete(){return function zwe(t){return Rf(Pt(t.firestore,_n),[new pf(t._key,Ln.none())])}(this._delegate)}onSnapshot(...e){const n=dW(e),r=hW(e,i=>new cv(this.firestore,new Cc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return B7(this._delegate,n,r)}get(e){let n;return n="cache"===e?.source?function Uwe(t){t=Pt(t,An);const e=Pt(t.firestore,_n),n=er(e),r=new Yl(e);return function Q0e(t,e){const n=new Nr;return t.asyncQueue.enqueueAndForget((0,x.Z)(function*(){return(r=(0,x.Z)(function*(o,s,a){try{const c=yield function(h,f){const _=ve(h);return _.persistence.runTransaction("read document","readonly",v=>_.localDocuments.getDocument(v,f))}(o,s);c.isFoundDocument()?a.resolve(c):c.isNoDocument()?a.resolve(null):a.reject(new ue(K.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const l=Of(c,`Failed to get document '${s} from cache`);a.reject(l)}}),function i(o,s,a){return r.apply(this,arguments)})(yield Df(t),e,n);var r})),n.promise}(n,t._key).then(i=>new Cc(e,r,t._key,i,new Dd(null!==i&&i.hasLocalMutations,!0),t.converter))}(this._delegate):"server"===e?.source?function Bwe(t){t=Pt(t,An);const e=Pt(t.firestore,_n);return l7(er(e),t._key,{source:"server"}).then(n=>ck(e,t,n))}(this._delegate):function Vwe(t){t=Pt(t,An);const e=Pt(t.firestore,_n);return l7(er(e),t._key).then(n=>ck(e,t,n))}(this._delegate),n.then(r=>new cv(this.firestore,new Cc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ds(this.firestore,this._delegate.withConverter(e?Sd.getInstance(this.firestore,e):null))}}function Ji(t,e,n){return t.message=t.message.replace(e,n),t}function dW(t){for(const e of t)if("object"==typeof e&&!Pk(e))return e;return{}}function hW(t,e){var n,r;let i;return i=Pk(t[0])?t[0]:Pk(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:o=>{i.next&&i.next(e(o))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class cv{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new ds(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return L7(this._delegate,e._delegate)}}class lv extends cv{data(e){const n=this._delegate.data(e);return function tve(t,e){t||Ae()}(void 0!==n),n}}class eo{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new nE(e)}where(e,n,r){try{return new eo(this.firestore,Kl(this._delegate,function bwe(t,e,n){const r=e,i=YM("where",t);return rv._create(i,r,n)}(e,n,r)))}catch(i){throw Ji(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new eo(this.firestore,Kl(this._delegate,function Twe(t,e="asc"){const n=e,r=YM("orderBy",t);return sk._create(r,n)}(e,n)))}catch(r){throw Ji(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new eo(this.firestore,Kl(this._delegate,function Awe(t){return _7("limit",t),QM._create("limit",t,"F")}(e)))}catch(n){throw Ji(n,"limit()","Query.limit()")}}limitToLast(e){try{return new eo(this.firestore,Kl(this._delegate,function Dwe(t){return _7("limitToLast",t),QM._create("limitToLast",t,"L")}(e)))}catch(n){throw Ji(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new eo(this.firestore,Kl(this._delegate,function Swe(...t){return XM._create("startAt",t,!0)}(...e)))}catch(n){throw Ji(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new eo(this.firestore,Kl(this._delegate,function xwe(...t){return XM._create("startAfter",t,!1)}(...e)))}catch(n){throw Ji(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new eo(this.firestore,Kl(this._delegate,function Rwe(...t){return JM._create("endBefore",t,!1)}(...e)))}catch(n){throw Ji(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new eo(this.firestore,Kl(this._delegate,function kwe(...t){return JM._create("endAt",t,!0)}(...e)))}catch(n){throw Ji(n,"endAt()","Query.endAt()")}}isEqual(e){return JR(this._delegate,e._delegate)}get(e){let n;return n="cache"===e?.source?function $we(t){t=Pt(t,ui);const e=Pt(t.firestore,_n),n=er(e),r=new Yl(e);return function X0e(t,e){const n=new Nr;return t.asyncQueue.enqueueAndForget((0,x.Z)(function*(){return(r=(0,x.Z)(function*(o,s,a){try{const c=yield RM(o,s,!0),l=new Qz(s,c.ls),h=l.ca(c.documents),f=l.applyChanges(h,!1);a.resolve(f.snapshot)}catch(c){const l=Of(c,`Failed to execute query '${s} against cache`);a.reject(l)}}),function i(o,s,a){return r.apply(this,arguments)})(yield Df(t),e,n);var r})),n.promise}(n,t._query).then(i=>new Zl(e,r,t,i))}(this._delegate):"server"===e?.source?function Hwe(t){t=Pt(t,ui);const e=Pt(t.firestore,_n),n=er(e),r=new Yl(e);return u7(n,t._query,{source:"server"}).then(i=>new Zl(e,r,t,i))}(this._delegate):function jwe(t){t=Pt(t,ui);const e=Pt(t.firestore,_n),n=er(e),r=new Yl(e);return S7(t._query),u7(n,t._query).then(i=>new Zl(e,r,t,i))}(this._delegate),n.then(r=>new Mk(this.firestore,new Zl(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=dW(e),r=hW(e,i=>new Mk(this.firestore,new Zl(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return B7(this._delegate,n,r)}withConverter(e){return new eo(this.firestore,this._delegate.withConverter(e?Sd.getInstance(this.firestore,e):null))}}class XPe{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new lv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Mk{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new eo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new lv(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new XPe(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new lv(this._firestore,r))})}isEqual(e){return L7(this._delegate,e._delegate)}}class kf extends eo{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ds(this.firestore,e):null}doc(e){try{return new ds(this.firestore,void 0===e?zM(this._delegate):zM(this._delegate,e))}catch(n){throw Ji(n,"doc()","CollectionReference.doc()")}}add(e){return function Wwe(t,e){const n=Pt(t.firestore,_n),r=zM(t),i=eE(t.converter,e);return Rf(n,[qM(Td(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Ln.exists(!1))]).then(()=>r)}(this._delegate,e).then(n=>new ds(this.firestore,n))}isEqual(e){return C7(this._delegate,e._delegate)}withConverter(e){return new kf(this.firestore,this._delegate.withConverter(e?Sd.getInstance(this.firestore,e):null))}}function xd(t){return Pt(t,An)}class Ek{constructor(...e){this._delegate=new vc(...e)}static documentId(){return new Ek(bn.keyField().canonicalString())}isEqual(e){return(e=(0,E.m9)(e))instanceof vc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Rd{constructor(e){this._delegate=e}static serverTimestamp(){const e=function oPe(){return new tk("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Rd(e)}static delete(){const e=function iPe(){return new Jy("deleteField")}();return e._methodName="FieldValue.delete",new Rd(e)}static arrayUnion(...e){const n=function sPe(...t){return new Pwe("arrayUnion",t)}(...e);return n._methodName="FieldValue.arrayUnion",new Rd(n)}static arrayRemove(...e){const n=function aPe(...t){return new Mwe("arrayRemove",t)}(...e);return n._methodName="FieldValue.arrayRemove",new Rd(n)}static increment(e){const n=function cPe(t){return new Ewe("increment",t)}(e);return n._methodName="FieldValue.increment",new Rd(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const JPe={Firestore:cW,GeoPoint:WM,Timestamp:Fn,Blob:av,Transaction:lW,WriteBatch:uW,DocumentReference:ds,DocumentSnapshot:cv,Query:eo,QueryDocumentSnapshot:lv,QuerySnapshot:Mk,CollectionReference:kf,FieldPath:Ek,FieldValue:Rd,setLogLevel:function QPe(t){!function eve(t){xl.setLogLevel(t)}(t)},CACHE_SIZE_UNLIMITED:-1};function pW(t,e){return function nMe(t,e=nP){return new at(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{r?.()}})}(t,e)}function Ok(t,e){return pW(t,e).pipe(me(n=>({payload:n,type:"query"})))}!function tMe(t){(function eMe(t,e){t.INTERNAL.registerComponent(new To.wA("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},JPe)))})(t,(e,n)=>new cW(e,n,new YPe)),t.registerVersion("@firebase/firestore-compat","0.3.21")}(cs.Z);class fW{constructor(e,n){Ue(this,"ref",void 0),Ue(this,"afs",void 0),this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const r=this.ref.collection(e),{ref:i,query:o}=CW(r,n);return new mW(i,o,this.afs)}snapshotChanges(){return function rMe(t,e){return pW(t,e).pipe(B0(void 0),Ck(),me(n=>{const[r,i]=n;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(cr)}valueChanges(e={}){return this.snapshotChanges().pipe(me(({payload:n})=>e.idField?{...n.data(),[e.idField]:n.id}:n.data()))}get(e){return R(this.ref.get(e)).pipe(cr)}}function rE(t,e){return Ok(t,e).pipe(B0(void 0),Ck(),me(n=>{const[r,i]=n,o=i.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,c)=>{const l=o.find(f=>f.doc.ref.isEqual(a.ref)),h=r?.payload.docs.find(f=>f.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function gW(t,e,n){return rE(t,n).pipe(sp((r,i)=>function iMe(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=function oMe(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Ik(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Ik(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Ik(t,e.oldIndex,1)}return t}(t,r))}),t}(r,i.map(o=>o.payload),e),[]),ln(),me(r=>r.map(i=>({type:i.type,payload:i}))))}function Ik(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function _W(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class mW{constructor(e,n,r){Ue(this,"ref",void 0),Ue(this,"query",void 0),Ue(this,"afs",void 0),this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=rE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(me(r=>r.filter(i=>e.indexOf(i.type)>-1)))),n.pipe(B0(void 0),Ck(),rs(([r,i])=>i.length>0||!r),me(([,r])=>r),cr)}auditTrail(e){return this.stateChanges(e).pipe(sp((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=_W(e);return gW(this.query,n,this.afs.schedulers.outsideAngular).pipe(cr)}valueChanges(e={}){return Ok(this.query,this.afs.schedulers.outsideAngular).pipe(me(n=>n.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),cr)}get(e){return R(this.query.get(e)).pipe(cr)}add(e){return this.ref.add(e)}doc(e){return new fW(this.ref.doc(e),this.afs)}}class sMe{constructor(e,n){Ue(this,"query",void 0),Ue(this,"afs",void 0),this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?rE(this.query,this.afs.schedulers.outsideAngular).pipe(me(n=>n.filter(r=>e.indexOf(r.type)>-1)),rs(n=>n.length>0),cr):rE(this.query,this.afs.schedulers.outsideAngular).pipe(cr)}auditTrail(e){return this.stateChanges(e).pipe(sp((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=_W(e);return gW(this.query,n,this.afs.schedulers.outsideAngular).pipe(cr)}valueChanges(e={}){return Ok(this.query,this.afs.schedulers.outsideAngular).pipe(me(r=>r.payload.docs.map(i=>e.idField?{[e.idField]:i.id,...i.data()}:i.data())),cr)}get(e){return R(this.query.get(e)).pipe(cr)}}const yW=new ge("angularfire2.enableFirestorePersistence"),vW=new ge("angularfire2.firestore.persistenceSettings"),aMe=new ge("angularfire2.firestore.settings"),cMe=new ge("angularfire2.firestore.use-emulator");function CW(t,e=(n=>n)){return{query:e(t),ref:t}}let lMe=(()=>{var t;class e{constructor(r,i,o,s,a,c,l,h,f,_,v,M,b,T,V,N,W){Ue(this,"schedulers",void 0),Ue(this,"firestore",void 0),Ue(this,"persistenceEnabled$",void 0),this.schedulers=l;const z=Sm(r,c,i),fe=f;_&&yk(z,c,v,b,T,V,M,N),[this.firestore,this.persistenceEnabled$]=rP(`${z.name}.firestore`,"AngularFirestore",z.name,()=>{const Ie=c.runOutsideAngular(()=>z.firestore());if(s&&Ie.settings(s),fe&&Ie.useEmulator(...fe),o&&!N0(a)){const ct=()=>{try{return R(Ie.enablePersistence(h||void 0).then(()=>!0,()=>!1))}catch(en){return typeof console<"u"&&console.warn(en),Q(!1)}};return[Ie,c.runOutsideAngular(ct)]}return[Ie,Q(!1)]},[s,fe,o])}collection(r,i){let o;o="string"==typeof r?this.firestore.collection(r):r;const{ref:s,query:a}=CW(o,i),c=this.schedulers.ngZone.run(()=>s);return new mW(c,a,this)}collectionGroup(r,i){const o=i||(a=>a),s=this.firestore.collectionGroup(r);return new sMe(o(s),this)}doc(r){let i;i="string"==typeof r?this.firestore.doc(r):r;const o=this.schedulers.ngZone.run(()=>i);return new fW(o,this)}createId(){return this.firestore.collection("_").doc().id}}return t=e,Ue(e,"\u0275fac",function(r){return new(r||t)(oe(kp),oe(Np,8),oe(yW,8),oe(aMe,8),oe(Eo),oe(xt),oe(xp),oe(vW,8),oe(cMe,8),oe(vk,8),oe(hk,8),oe(pk,8),oe(fk,8),oe(gk,8),oe(_k,8),oe(mk,8),oe(Dm,8))}),Ue(e,"\u0275prov",Te({token:t,factory:t.\u0275fac,providedIn:"any"})),e})(),uMe=(()=>{var t;class e{constructor(){cs.Z.registerVersion("angularfire",El.full,"fst-compat")}static enablePersistence(r){return{ngModule:e,providers:[{provide:yW,useValue:!0},{provide:vW,useValue:r}]}}}return t=e,Ue(e,"\u0275fac",function(r){return new(r||t)}),Ue(e,"\u0275mod",Gn({type:t})),Ue(e,"\u0275inj",ir({providers:[lMe]})),e})(),dMe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Gn({type:t,bootstrap:[Afe]}),t.\u0275inj=ir({imports:[yte,Tfe,Nce,ege,dge(()=>(0,Be.initializeApp)(On_firebaseConfig)),gPe(()=>_Pe()),cle.initializeApp(On_firebaseConfig),Xue,G7,GPe,uMe]}),e})();_te().bootstrapModule(dMe).catch(t=>console.error(t))},106:(hs,wr,Ye)=>{Ye.d(wr,{Z:()=>Pr});var I=Ye(58),$e=Ye(537),J=Ye(534),We=Ye(879);class Ot{constructor(Ge,rt){this._delegate=Ge,this.firebase=rt,(0,J._addComponent)(Ge,new $e.wA("app-compat",()=>this,"PUBLIC")),this.container=Ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ge){this._delegate.automaticDataCollectionEnabled=Ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ge=>{this._delegate.checkDestroyed(),Ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,J.deleteApp)(this._delegate)))}_getService(Ge,rt=J._DEFAULT_ENTRY_NAME){var Mr;this._delegate.checkDestroyed();const hr=this._delegate.container.getProvider(Ge);return!hr.isInitialized()&&"EXPLICIT"===(null===(Mr=hr.getComponent())||void 0===Mr?void 0:Mr.instantiationMode)&&hr.initialize(),hr.getImmediate({identifier:rt})}_removeServiceInstance(Ge,rt=J._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ge).clearInstance(rt)}_addComponent(Ge){(0,J._addComponent)(this._delegate,Ge)}_addOrOverwriteComponent(Ge){(0,J._addOrOverwriteComponent)(this._delegate,Ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Dn=new I.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ae=function ft(){const Ft=function dr(Ft){const Ge={},rt={__esModule:!0,initializeApp:function sn(it,pr={}){const se=J.initializeApp(it,pr);if((0,I.r3)(Ge,se.name))return Ge[se.name];const mn=new Ft(se,rt);return Ge[se.name]=mn,mn},app:hr,registerVersion:J.registerVersion,setLogLevel:J.setLogLevel,onLog:J.onLog,apps:null,SDK_VERSION:J.SDK_VERSION,INTERNAL:{registerComponent:function Zt(it){const pr=it.name,se=pr.replace("-compat","");if(J._registerComponent(it)&&"PUBLIC"===it.type){const mn=(an=hr())=>{if("function"!=typeof an[se])throw Dn.create("invalid-app-argument",{appName:pr});return an[se]()};void 0!==it.serviceProps&&(0,I.ZB)(mn,it.serviceProps),rt[se]=mn,Ft.prototype[se]=function(...an){return this._getService.bind(this,pr).apply(this,it.multipleInstances?an:[])}}return"PUBLIC"===it.type?rt[se]:null},removeApp:function Mr(it){delete Ge[it]},useAsService:function hi(it,pr){return"serverAuth"===pr?null:pr},modularAPIs:J}};function hr(it){if(!(0,I.r3)(Ge,it=it||J._DEFAULT_ENTRY_NAME))throw Dn.create("no-app",{appName:it});return Ge[it]}return rt.default=rt,Object.defineProperty(rt,"apps",{get:function Lt(){return Object.keys(Ge).map(it=>Ge[it])}}),hr.App=Ft,rt}(Ot);return Ft.INTERNAL=Object.assign(Object.assign({},Ft.INTERNAL),{createFirebaseNamespace:ft,extendNamespace:function Ge(rt){(0,I.ZB)(Ft,rt)},createSubscribe:I.ne,ErrorFactory:I.LL,deepExtend:I.ZB}),Ft}(),pe=new We.Yd("@firebase/app-compat");if((0,I.jU)()&&void 0!==self.firebase){pe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ft=self.firebase.SDK_VERSION;Ft&&Ft.indexOf("LITE")>=0&&pe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Pr=ae;!function At(Ft){(0,J.registerVersion)("@firebase/app-compat","0.2.22",Ft)}()},534:(hs,wr,Ye)=>{Ye.r(wr),Ye.d(wr,{FirebaseError:()=>We.ZR,SDK_VERSION:()=>gs,_DEFAULT_ENTRY_NAME:()=>yo,_addComponent:()=>$s,_addOrOverwriteComponent:()=>Lr,_apps:()=>Yr,_clearComponents:()=>nr,_components:()=>fs,_getProvider:()=>cn,_registerComponent:()=>Ia,_removeServiceInstance:()=>to,deleteApp:()=>Or,getApp:()=>zs,getApps:()=>Ec,initializeApp:()=>Hs,onLog:()=>Oc,registerVersion:()=>Ws,setLogLevel:()=>kd});var I=Ye(861),$e=Ye(537),J=Ye(879),We=Ye(58);const Ot=($,L)=>L.some(de=>$ instanceof de);let on,Dn;const ae=new WeakMap,pe=new WeakMap,De=new WeakMap,lt=new WeakMap,At=new WeakMap;let Ge={get($,L,de){if($ instanceof IDBTransaction){if("done"===L)return pe.get($);if("objectStoreNames"===L)return $.objectStoreNames||De.get($);if("store"===L)return de.objectStoreNames[1]?void 0:de.objectStore(de.objectStoreNames[0])}return sn($[L])},set:($,L,de)=>($[L]=de,!0),has:($,L)=>$ instanceof IDBTransaction&&("done"===L||"store"===L)||L in $};function hr($){return"function"==typeof $?function Mr($){return $!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ft(){return Dn||(Dn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes($)?function(...L){return $.apply(Lt(this),L),sn(ae.get(this))}:function(...L){return sn($.apply(Lt(this),L))}:function(L,...de){const Fe=$.call(Lt(this),L,...de);return De.set(Fe,L.sort?L.sort():[L]),sn(Fe)}}($):($ instanceof IDBTransaction&&function Ft($){if(pe.has($))return;const L=new Promise((de,Fe)=>{const Qe=()=>{$.removeEventListener("complete",ut),$.removeEventListener("error",te),$.removeEventListener("abort",te)},ut=()=>{de(),Qe()},te=()=>{Fe($.error||new DOMException("AbortError","AbortError")),Qe()};$.addEventListener("complete",ut),$.addEventListener("error",te),$.addEventListener("abort",te)});pe.set($,L)}($),Ot($,function dr(){return on||(on=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy($,Ge):$)}function sn($){if($ instanceof IDBRequest)return function Pr($){const L=new Promise((de,Fe)=>{const Qe=()=>{$.removeEventListener("success",ut),$.removeEventListener("error",te)},ut=()=>{de(sn($.result)),Qe()},te=()=>{Fe($.error),Qe()};$.addEventListener("success",ut),$.addEventListener("error",te)});return L.then(de=>{de instanceof IDBCursor&&ae.set(de,$)}).catch(()=>{}),At.set(L,$),L}($);if(lt.has($))return lt.get($);const L=hr($);return L!==$&&(lt.set($,L),At.set(L,$)),L}const Lt=$=>At.get($),it=["get","getKey","getAll","getAllKeys","count"],pr=["put","add","delete","clear"],se=new Map;function mn($,L){if(!($ instanceof IDBDatabase)||L in $||"string"!=typeof L)return;if(se.get(L))return se.get(L);const de=L.replace(/FromIndex$/,""),Fe=L!==de,Qe=pr.includes(de);if(!(de in(Fe?IDBIndex:IDBObjectStore).prototype)||!Qe&&!it.includes(de))return;const ut=function(){var te=(0,I.Z)(function*(rr,...Se){const gt=this.transaction(rr,Qe?"readwrite":"readonly");let nu=gt.store;return Fe&&(nu=nu.index(Se.shift())),(yield Promise.all([nu[de](...Se),Qe&&gt.done]))[0]});return function(Se){return te.apply(this,arguments)}}();return se.set(L,ut),ut}!function rt($){Ge=$(Ge)}($=>({...$,get:(L,de,Fe)=>mn(L,de)||$.get(L,de,Fe),has:(L,de)=>!!mn(L,de)||$.has(L,de)}));class an{constructor(L){this.container=L}getPlatformInfoString(){return this.container.getProviders().map(de=>{if(function Hn($){const L=$.getComponent();return"VERSION"===L?.type}(de)){const Fe=de.getImmediate();return`${Fe.library}/${Fe.version}`}return null}).filter(de=>de).join(" ")}}const Fo="@firebase/app",at=new J.Yd("@firebase/app"),yo="[DEFAULT]",eu={[Fo]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Yr=new Map,fs=new Map;function $s($,L){try{$.container.addComponent(L)}catch(de){at.debug(`Component ${L.name} failed to register with FirebaseApp ${$.name}`,de)}}function Lr($,L){$.container.addOrOverwriteComponent(L)}function Ia($){const L=$.name;if(fs.has(L))return at.debug(`There were multiple attempts to register component ${L}.`),!1;fs.set(L,$);for(const de of Yr.values())$s(de,$);return!0}function cn($,L){const de=$.container.getProvider("heartbeat").getImmediate({optional:!0});return de&&de.triggerHeartbeat(),$.container.getProvider(L)}function to($,L,de=yo){cn($,L).clearInstance(de)}function nr(){fs.clear()}const Ri=new We.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ki{constructor(L,de,Fe){this._isDeleted=!1,this._options=Object.assign({},L),this._config=Object.assign({},de),this._name=de.name,this._automaticDataCollectionEnabled=de.automaticDataCollectionEnabled,this._container=Fe,this.container.addComponent(new $e.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(L){this.checkDestroyed(),this._automaticDataCollectionEnabled=L}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(L){this._isDeleted=L}checkDestroyed(){if(this.isDeleted)throw Ri.create("app-deleted",{appName:this._name})}}const gs="10.5.2";function Hs($,L={}){let de=$;"object"!=typeof L&&(L={name:L});const Fe=Object.assign({name:yo,automaticDataCollectionEnabled:!1},L),Qe=Fe.name;if("string"!=typeof Qe||!Qe)throw Ri.create("bad-app-name",{appName:String(Qe)});if(de||(de=(0,We.aH)()),!de)throw Ri.create("no-options");const ut=Yr.get(Qe);if(ut){if((0,We.vZ)(de,ut.options)&&(0,We.vZ)(Fe,ut.config))return ut;throw Ri.create("duplicate-app",{appName:Qe})}const te=new $e.H0(Qe);for(const Se of fs.values())te.addComponent(Se);const rr=new ki(de,Fe,te);return Yr.set(Qe,rr),rr}function zs($=yo){const L=Yr.get($);if(!L&&$===yo&&(0,We.aH)())return Hs();if(!L)throw Ri.create("no-app",{appName:$});return L}function Ec(){return Array.from(Yr.values())}function Or($){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,I.Z)(function*($){const L=$.name;Yr.has(L)&&(Yr.delete(L),yield Promise.all($.container.getProviders().map(de=>de.delete())),$.isDeleted=!0)})).apply(this,arguments)}function Ws($,L,de){var Fe;let Qe=null!==(Fe=eu[$])&&void 0!==Fe?Fe:$;de&&(Qe+=`-${de}`);const ut=Qe.match(/\s|\//),te=L.match(/\s|\//);if(ut||te){const rr=[`Unable to register library "${Qe}" with version "${L}":`];return ut&&rr.push(`library name "${Qe}" contains illegal characters (whitespace or "/")`),ut&&te&&rr.push("and"),te&&rr.push(`version name "${L}" contains illegal characters (whitespace or "/")`),void at.warn(rr.join(" "))}Ia(new $e.wA(`${Qe}-version`,()=>({library:Qe,version:L}),"VERSION"))}function Oc($,L){if(null!==$&&"function"!=typeof $)throw Ri.create("invalid-log-argument");(0,J.Am)($,L)}function kd($){(0,J.Ub)($)}const tu="firebase-heartbeat-database",Ic=1,k="firebase-heartbeat-store";let D=null;function R(){return D||(D=function Zt($,L,{blocked:de,upgrade:Fe,blocking:Qe,terminated:ut}={}){const te=indexedDB.open($,L),rr=sn(te);return Fe&&te.addEventListener("upgradeneeded",Se=>{Fe(sn(te.result),Se.oldVersion,Se.newVersion,sn(te.transaction),Se)}),de&&te.addEventListener("blocked",Se=>de(Se.oldVersion,Se.newVersion,Se)),rr.then(Se=>{ut&&Se.addEventListener("close",()=>ut()),Qe&&Se.addEventListener("versionchange",gt=>Qe(gt.oldVersion,gt.newVersion,gt))}).catch(()=>{}),rr}(tu,Ic,{upgrade:($,L)=>{0===L&&$.createObjectStore(k)}}).catch($=>{throw Ri.create("idb-open",{originalErrorMessage:$.message})})),D}function B(){return(B=(0,I.Z)(function*($){try{return yield(yield R()).transaction(k).objectStore(k).get(bt($))}catch(L){if(L instanceof We.ZR)at.warn(L.message);else{const de=Ri.create("idb-get",{originalErrorMessage:L?.message});at.warn(de.message)}}})).apply(this,arguments)}function Q($,L){return qe.apply(this,arguments)}function qe(){return(qe=(0,I.Z)(function*($,L){try{const Fe=(yield R()).transaction(k,"readwrite");yield Fe.objectStore(k).put(L,bt($)),yield Fe.done}catch(de){if(de instanceof We.ZR)at.warn(de.message);else{const Fe=Ri.create("idb-set",{originalErrorMessage:de?.message});at.warn(Fe.message)}}})).apply(this,arguments)}function bt($){return`${$.name}!${$.options.appId}`}class Ni{constructor(L){this.container=L,this._heartbeatsCache=null;const de=this.container.getProvider("app").getImmediate();this._storage=new zt(de),this._heartbeatsCachePromise=this._storage.read().then(Fe=>(this._heartbeatsCache=Fe,Fe))}triggerHeartbeat(){var L=this;return(0,I.Z)(function*(){const Fe=L.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Qe=ke();if(null===L._heartbeatsCache&&(L._heartbeatsCache=yield L._heartbeatsCachePromise),L._heartbeatsCache.lastSentHeartbeatDate!==Qe&&!L._heartbeatsCache.heartbeats.some(ut=>ut.date===Qe))return L._heartbeatsCache.heartbeats.push({date:Qe,agent:Fe}),L._heartbeatsCache.heartbeats=L._heartbeatsCache.heartbeats.filter(ut=>{const te=new Date(ut.date).valueOf();return Date.now()-te<=2592e6}),L._storage.overwrite(L._heartbeatsCache)})()}getHeartbeatsHeader(){var L=this;return(0,I.Z)(function*(){if(null===L._heartbeatsCache&&(yield L._heartbeatsCachePromise),null===L._heartbeatsCache||0===L._heartbeatsCache.heartbeats.length)return"";const de=ke(),{heartbeatsToSend:Fe,unsentEntries:Qe}=function fr($,L=1024){const de=[];let Fe=$.slice();for(const Qe of $){const ut=de.find(te=>te.agent===Qe.agent);if(ut){if(ut.dates.push(Qe.date),_s(de)>L){ut.dates.pop();break}}else if(de.push({agent:Qe.agent,dates:[Qe.date]}),_s(de)>L){de.pop();break}Fe=Fe.slice(1)}return{heartbeatsToSend:de,unsentEntries:Fe}}(L._heartbeatsCache.heartbeats),ut=(0,We.L)(JSON.stringify({version:2,heartbeats:Fe}));return L._heartbeatsCache.lastSentHeartbeatDate=de,Qe.length>0?(L._heartbeatsCache.heartbeats=Qe,yield L._storage.overwrite(L._heartbeatsCache)):(L._heartbeatsCache.heartbeats=[],L._storage.overwrite(L._heartbeatsCache)),ut})()}}function ke(){return(new Date).toISOString().substring(0,10)}class zt{constructor(L){this.app=L,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,I.Z)(function*(){return!!(0,We.hl)()&&(0,We.eu)().then(()=>!0).catch(()=>!1)})()}read(){var L=this;return(0,I.Z)(function*(){return(yield L._canUseIndexedDBPromise)&&(yield function ne($){return B.apply(this,arguments)}(L.app))||{heartbeats:[]}})()}overwrite(L){var de=this;return(0,I.Z)(function*(){var Fe;if(yield de._canUseIndexedDBPromise){const ut=yield de.read();return Q(de.app,{lastSentHeartbeatDate:null!==(Fe=L.lastSentHeartbeatDate)&&void 0!==Fe?Fe:ut.lastSentHeartbeatDate,heartbeats:L.heartbeats})}})()}add(L){var de=this;return(0,I.Z)(function*(){var Fe;if(yield de._canUseIndexedDBPromise){const ut=yield de.read();return Q(de.app,{lastSentHeartbeatDate:null!==(Fe=L.lastSentHeartbeatDate)&&void 0!==Fe?Fe:ut.lastSentHeartbeatDate,heartbeats:[...ut.heartbeats,...L.heartbeats]})}})()}}function _s($){return(0,We.L)(JSON.stringify({version:2,heartbeats:$})).length}!function ba($){Ia(new $e.wA("platform-logger",L=>new an(L),"PRIVATE")),Ia(new $e.wA("heartbeat",L=>new Ni(L),"PRIVATE")),Ws(Fo,"0.9.22",$),Ws(Fo,"0.9.22","esm2017"),Ws("fire-js","")}("")},537:(hs,wr,Ye)=>{Ye.d(wr,{H0:()=>dr,wA:()=>J,zt:()=>Ot});var I=Ye(861),$e=Ye(58);class J{constructor(ae,pe,De){this.name=ae,this.instanceFactory=pe,this.type=De,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ae){return this.instantiationMode=ae,this}setMultipleInstances(ae){return this.multipleInstances=ae,this}setServiceProps(ae){return this.serviceProps=ae,this}setInstanceCreatedCallback(ae){return this.onInstanceCreated=ae,this}}const We="[DEFAULT]";class Ot{constructor(ae,pe){this.name=ae,this.container=pe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ae){const pe=this.normalizeInstanceIdentifier(ae);if(!this.instancesDeferred.has(pe)){const De=new $e.BH;if(this.instancesDeferred.set(pe,De),this.isInitialized(pe)||this.shouldAutoInitialize())try{const lt=this.getOrInitializeService({instanceIdentifier:pe});lt&&De.resolve(lt)}catch{}}return this.instancesDeferred.get(pe).promise}getImmediate(ae){var pe;const De=this.normalizeInstanceIdentifier(ae?.identifier),lt=null!==(pe=ae?.optional)&&void 0!==pe&&pe;if(!this.isInitialized(De)&&!this.shouldAutoInitialize()){if(lt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:De})}catch(At){if(lt)return null;throw At}}getComponent(){return this.component}setComponent(ae){if(ae.name!==this.name)throw Error(`Mismatching Component ${ae.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ae,this.shouldAutoInitialize()){if(function Dn(ft){return"EAGER"===ft.instantiationMode}(ae))try{this.getOrInitializeService({instanceIdentifier:We})}catch{}for(const[pe,De]of this.instancesDeferred.entries()){const lt=this.normalizeInstanceIdentifier(pe);try{const At=this.getOrInitializeService({instanceIdentifier:lt});De.resolve(At)}catch{}}}}clearInstance(ae=We){this.instancesDeferred.delete(ae),this.instancesOptions.delete(ae),this.instances.delete(ae)}delete(){var ae=this;return(0,I.Z)(function*(){const pe=Array.from(ae.instances.values());yield Promise.all([...pe.filter(De=>"INTERNAL"in De).map(De=>De.INTERNAL.delete()),...pe.filter(De=>"_delete"in De).map(De=>De._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ae=We){return this.instances.has(ae)}getOptions(ae=We){return this.instancesOptions.get(ae)||{}}initialize(ae={}){const{options:pe={}}=ae,De=this.normalizeInstanceIdentifier(ae.instanceIdentifier);if(this.isInitialized(De))throw Error(`${this.name}(${De}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const lt=this.getOrInitializeService({instanceIdentifier:De,options:pe});for(const[At,Pr]of this.instancesDeferred.entries())De===this.normalizeInstanceIdentifier(At)&&Pr.resolve(lt);return lt}onInit(ae,pe){var De;const lt=this.normalizeInstanceIdentifier(pe),At=null!==(De=this.onInitCallbacks.get(lt))&&void 0!==De?De:new Set;At.add(ae),this.onInitCallbacks.set(lt,At);const Pr=this.instances.get(lt);return Pr&&ae(Pr,lt),()=>{At.delete(ae)}}invokeOnInitCallbacks(ae,pe){const De=this.onInitCallbacks.get(pe);if(De)for(const lt of De)try{lt(ae,pe)}catch{}}getOrInitializeService({instanceIdentifier:ae,options:pe={}}){let De=this.instances.get(ae);if(!De&&this.component&&(De=this.component.instanceFactory(this.container,{instanceIdentifier:(ft=ae,ft===We?void 0:ft),options:pe}),this.instances.set(ae,De),this.instancesOptions.set(ae,pe),this.invokeOnInitCallbacks(De,ae),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ae,De)}catch{}var ft;return De||null}normalizeInstanceIdentifier(ae=We){return this.component?this.component.multipleInstances?ae:We:ae}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class dr{constructor(ae){this.name=ae,this.providers=new Map}addComponent(ae){const pe=this.getProvider(ae.name);if(pe.isComponentSet())throw new Error(`Component ${ae.name} has already been registered with ${this.name}`);pe.setComponent(ae)}addOrOverwriteComponent(ae){this.getProvider(ae.name).isComponentSet()&&this.providers.delete(ae.name),this.addComponent(ae)}getProvider(ae){if(this.providers.has(ae))return this.providers.get(ae);const pe=new Ot(ae,this);return this.providers.set(ae,pe),pe}getProviders(){return Array.from(this.providers.values())}}},879:(hs,wr,Ye)=>{Ye.d(wr,{Am:()=>ft,Ub:()=>dr,Yd:()=>Dn,in:()=>$e});const I=[];var $e=function(ae){return ae[ae.DEBUG=0]="DEBUG",ae[ae.VERBOSE=1]="VERBOSE",ae[ae.INFO=2]="INFO",ae[ae.WARN=3]="WARN",ae[ae.ERROR=4]="ERROR",ae[ae.SILENT=5]="SILENT",ae}($e||{});const J={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},We=$e.INFO,Ot={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},on=(ae,pe,...De)=>{if(pe<ae.logLevel)return;const lt=(new Date).toISOString(),At=Ot[pe];if(!At)throw new Error(`Attempted to log a message with an invalid logType (value: ${pe})`);console[At](`[${lt}]  ${ae.name}:`,...De)};class Dn{constructor(pe){this.name=pe,this._logLevel=We,this._logHandler=on,this._userLogHandler=null,I.push(this)}get logLevel(){return this._logLevel}set logLevel(pe){if(!(pe in $e))throw new TypeError(`Invalid value "${pe}" assigned to \`logLevel\``);this._logLevel=pe}setLogLevel(pe){this._logLevel="string"==typeof pe?J[pe]:pe}get logHandler(){return this._logHandler}set logHandler(pe){if("function"!=typeof pe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=pe}get userLogHandler(){return this._userLogHandler}set userLogHandler(pe){this._userLogHandler=pe}debug(...pe){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...pe),this._logHandler(this,$e.DEBUG,...pe)}log(...pe){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...pe),this._logHandler(this,$e.VERBOSE,...pe)}info(...pe){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...pe),this._logHandler(this,$e.INFO,...pe)}warn(...pe){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...pe),this._logHandler(this,$e.WARN,...pe)}error(...pe){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...pe),this._logHandler(this,$e.ERROR,...pe)}}function dr(ae){I.forEach(pe=>{pe.setLogLevel(ae)})}function ft(ae,pe){for(const De of I){let lt=null;pe&&pe.level&&(lt=J[pe.level]),De.userLogHandler=null===ae?null:(At,Pr,...Ft)=>{const Ge=Ft.map(rt=>{if(null==rt)return null;if("string"==typeof rt)return rt;if("number"==typeof rt||"boolean"==typeof rt)return rt.toString();if(rt instanceof Error)return rt.message;try{return JSON.stringify(rt)}catch{return null}}).filter(rt=>rt).join(" ");Pr>=(lt??At.logLevel)&&ae({level:$e[Pr].toLowerCase(),message:Ge,args:Ft,type:At.name})}}}},643:(hs,wr,Ye)=>{Ye.r(wr);var I=Ye(861),$e=Ye(106),J=Ye(58),We=Ye(534),Ot=Ye(879),on=Ye(582),Dn=Ye(537);const ft={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Pr=function lt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Ft=function At(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ge=new J.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Mr=new Ot.Yd("@firebase/auth");function sn(p,...u){Mr.logLevel<=Ot.in.ERROR&&Mr.error(`Auth (${We.SDK_VERSION}): ${p}`,...u)}function Lt(p,...u){throw pr(p,...u)}function Zt(p,...u){return pr(p,...u)}function hi(p,u,d){const g=Object.assign(Object.assign({},Ft()),{[u]:d});return new J.LL("auth","Firebase",g).create(u,{appName:p.name})}function it(p,u,d){if(!(u instanceof d))throw d.name!==u.constructor.name&&Lt(p,"argument-error"),hi(p,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function pr(p,...u){if("string"!=typeof p){const d=u[0],g=[...u.slice(1)];return g[0]&&(g[0].appName=p.name),p._errorFactory.create(d,...g)}return Ge.create(p,...u)}function se(p,u,...d){if(!p)throw pr(u,...d)}function mn(p){const u="INTERNAL ASSERTION FAILED: "+p;throw sn(u),new Error(u)}function an(p,u){p||mn(u)}function Hn(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.href)||""}function Fo(){return"http:"===Lo()||"https:"===Lo()}function Lo(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.protocol)||null}class Vo{constructor(u,d){this.shortDelay=u,this.longDelay=d,an(d>u,"Short delay should be less than long delay!"),this.isMobile=(0,J.uI)()||(0,J.b$)()}get(){return function at(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Fo()||(0,J.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function G(p,u){an(p.emulator,"Emulator should always be set here");const{url:d}=p.emulator;return u?`${d}${u.startsWith("/")?u.slice(1):u}`:d}class Y{static initialize(u,d,g){this.fetchImpl=u,d&&(this.headersImpl=d),g&&(this.responseImpl=g)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void mn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void mn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void mn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ee={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},re=new Vo(3e4,6e4);function le(p,u){return p.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:p.tenantId}):u}function X(p,u,d,g){return we.apply(this,arguments)}function we(){return(we=(0,I.Z)(function*(p,u,d,g,C={}){return wt(p,C,(0,I.Z)(function*(){let P={},S={};g&&("GET"===u?S=g:P={body:JSON.stringify(g)});const U=(0,J.xO)(Object.assign({key:p.config.apiKey},S)).slice(1),ie=yield p._getAdditionalHeaders();return ie["Content-Type"]="application/json",p.languageCode&&(ie["X-Firebase-Locale"]=p.languageCode),Y.fetch()(yn(p,p.config.apiHost,d,U),Object.assign({method:u,headers:ie,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function wt(p,u,d){return me.apply(this,arguments)}function me(){return(me=(0,I.Z)(function*(p,u,d){p._canInitEmulator=!1;const g=Object.assign(Object.assign({},ee),u);try{const C=new Er(p),P=yield Promise.race([d(),C.promise]);C.clearNetworkTimeout();const S=yield P.json();if("needConfirmation"in S)throw tr(p,"account-exists-with-different-credential",S);if(P.ok&&!("errorMessage"in S))return S;{const U=P.ok?S.errorMessage:S.error.message,[ie,ye]=U.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ie)throw tr(p,"credential-already-in-use",S);if("EMAIL_EXISTS"===ie)throw tr(p,"email-already-in-use",S);if("USER_DISABLED"===ie)throw tr(p,"user-disabled",S);const Oe=g[ie]||ie.toLowerCase().replace(/[_\s]+/g,"-");if(ye)throw hi(p,Oe,ye);Lt(p,Oe)}}catch(C){if(C instanceof J.ZR)throw C;Lt(p,"network-request-failed",{message:String(C)})}})).apply(this,arguments)}function xe(p,u,d,g){return It.apply(this,arguments)}function It(){return(It=(0,I.Z)(function*(p,u,d,g,C={}){const P=yield X(p,u,d,g,C);return"mfaPendingCredential"in P&&Lt(p,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function yn(p,u,d,g){const C=`${u}${d}?${g}`;return p.config.emulator?G(p.config,C):`${p.config.apiScheme}://${C}`}function tn(p){switch(p){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Er{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((d,g)=>{this.timer=setTimeout(()=>g(Zt(this.auth,"network-request-failed")),re.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function tr(p,u,d){const g={appName:p.name};d.email&&(g.email=d.email),d.phoneNumber&&(g.phoneNumber=d.phoneNumber);const C=Zt(p,u,g);return C.customData._tokenResponse=d,C}function Kr(p){return void 0!==p&&void 0!==p.getResponse}function Zr(p){return void 0!==p&&void 0!==p.enterprise}class xi{constructor(u){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===u.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=u.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=u.recaptchaEnforcementState}getProviderEnforcementState(u){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const d of this.recaptchaEnforcementState)if(d.provider&&d.provider===u)return tn(d.enforcementState);return null}isProviderEnabled(u){return"ENFORCE"===this.getProviderEnforcementState(u)||"AUDIT"===this.getProviderEnforcementState(u)}}function ps(){return(ps=(0,I.Z)(function*(p){return(yield X(p,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function zn(p,u){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,I.Z)(function*(p,u){return X(p,"GET","/v2/recaptchaConfig",le(p,u))})).apply(this,arguments)}function yo(){return(yo=(0,I.Z)(function*(p,u){return X(p,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function Yr(){return(Yr=(0,I.Z)(function*(p,u){return X(p,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function $s(){return($s=(0,I.Z)(function*(p,u){return X(p,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function Lr(p){if(p)try{const u=new Date(Number(p));if(!isNaN(u.getTime()))return u.toUTCString()}catch{}}function to(){return(to=(0,I.Z)(function*(p,u=!1){const d=(0,J.m9)(p),g=yield d.getIdToken(u),C=Mc(g);se(C&&C.exp&&C.auth_time&&C.iat,d.auth,"internal-error");const P="object"==typeof C.firebase?C.firebase:void 0,S=P?.sign_in_provider;return{claims:C,token:g,authTime:Lr(nr(C.auth_time)),issuedAtTime:Lr(nr(C.iat)),expirationTime:Lr(nr(C.exp)),signInProvider:S||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function nr(p){return 1e3*Number(p)}function Mc(p){const[u,d,g]=p.split(".");if(void 0===u||void 0===d||void 0===g)return sn("JWT malformed, contained fewer than 3 sections"),null;try{const C=(0,J.tV)(d);return C?JSON.parse(C):(sn("Failed to decode base64 JWT payload"),null)}catch(C){return sn("Caught error parsing JWT payload as JSON",C?.toString()),null}}function ki(p,u){return gs.apply(this,arguments)}function gs(){return(gs=(0,I.Z)(function*(p,u,d=!1){if(d)return u;try{return yield u}catch(g){throw g instanceof J.ZR&&function Hs({code:p}){return"auth/user-disabled"===p||"auth/user-token-expired"===p}(g)&&p.auth.currentUser===p&&(yield p.auth.signOut()),g}})).apply(this,arguments)}class zs{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var d;if(u){const g=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),g}{this.errorBackoff=3e4;const C=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,C)}}schedule(u=!1){var d=this;if(!this.isRunning)return;const g=this.getInterval(u);this.timerId=setTimeout((0,I.Z)(function*(){yield d.iteration()}),g)}iteration(){var u=this;return(0,I.Z)(function*(){try{yield u.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&u.schedule(!0))}u.schedule()})()}}class Ec{constructor(u,d){this.createdAt=u,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lr(this.lastLoginAt),this.creationTime=Lr(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Or(p){return Qr.apply(this,arguments)}function Qr(){return Qr=(0,I.Z)(function*(p){var u;const d=p.auth,g=yield p.getIdToken(),C=yield ki(p,function fs(p,u){return $s.apply(this,arguments)}(d,{idToken:g}));se(C?.users.length,d,"internal-error");const P=C.users[0];p._notifyReloadListener(P);const S=null!==(u=P.providerUserInfo)&&void 0!==u&&u.length?function tu(p){return p.map(u=>{var{providerId:d}=u,g=(0,on._T)(u,["providerId"]);return{providerId:d,uid:g.rawId||"",displayName:g.displayName||null,email:g.email||null,phoneNumber:g.phoneNumber||null,photoURL:g.photoUrl||null}})}(P.providerUserInfo):[],U=function kd(p,u){return[...p.filter(g=>!u.some(C=>C.providerId===g.providerId)),...u]}(p.providerData,S),Oe=!!p.isAnonymous&&!(p.email&&P.passwordHash||U?.length),be={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:U,metadata:new Ec(P.createdAt,P.lastLoginAt),isAnonymous:Oe};Object.assign(p,be)}),Qr.apply(this,arguments)}function Oc(){return(Oc=(0,I.Z)(function*(p){const u=(0,J.m9)(p);yield Or(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function k(){return(k=(0,I.Z)(function*(p,u){const d=yield wt(p,{},(0,I.Z)(function*(){const g=(0,J.xO)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:C,apiKey:P}=p.config,S=yn(p,C,"/v1/token",`key=${P}`),U=yield p._getAdditionalHeaders();return U["Content-Type"]="application/x-www-form-urlencoded",Y.fetch()(S,{method:"POST",headers:U,body:g})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}class D{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){se(u.idToken,"internal-error"),se(typeof u.idToken<"u","internal-error"),se(typeof u.refreshToken<"u","internal-error");const d="expiresIn"in u&&typeof u.expiresIn<"u"?Number(u.expiresIn):function Ri(p){const u=Mc(p);return se(u,"internal-error"),se(typeof u.exp<"u","internal-error"),se(typeof u.iat<"u","internal-error"),Number(u.exp)-Number(u.iat)}(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,d)}getToken(u,d=!1){var g=this;return(0,I.Z)(function*(){return se(!g.accessToken||g.refreshToken,u,"user-token-expired"),d||!g.accessToken||g.isExpired?g.refreshToken?(yield g.refresh(u,g.refreshToken),g.accessToken):null:g.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,d){var g=this;return(0,I.Z)(function*(){const{accessToken:C,refreshToken:P,expiresIn:S}=yield function Ic(p,u){return k.apply(this,arguments)}(u,d);g.updateTokensAndExpiration(C,P,Number(S))})()}updateTokensAndExpiration(u,d,g){this.refreshToken=d||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*g}static fromJSON(u,d){const{refreshToken:g,accessToken:C,expirationTime:P}=d,S=new D;return g&&(se("string"==typeof g,"internal-error",{appName:u}),S.refreshToken=g),C&&(se("string"==typeof C,"internal-error",{appName:u}),S.accessToken=C),P&&(se("number"==typeof P,"internal-error",{appName:u}),S.expirationTime=P),S}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new D,this.toJSON())}_performRefresh(){return mn("not implemented")}}function R(p,u){se("string"==typeof p||typeof p>"u","internal-error",{appName:u})}class ne{constructor(u){var{uid:d,auth:g,stsTokenManager:C}=u,P=(0,on._T)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=g,this.stsTokenManager=C,this.accessToken=C.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new Ec(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(u){var d=this;return(0,I.Z)(function*(){const g=yield ki(d,d.stsTokenManager.getToken(d.auth,u));return se(g,d.auth,"internal-error"),d.accessToken!==g&&(d.accessToken=g,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),g})()}getIdTokenResult(u){return function cn(p){return to.apply(this,arguments)}(this,u)}reload(){return function Ws(p){return Oc.apply(this,arguments)}(this)}_assign(u){this!==u&&(se(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(d=>Object.assign({},d)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){const d=new ne(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(u){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,d=!1){var g=this;return(0,I.Z)(function*(){let C=!1;u.idToken&&u.idToken!==g.stsTokenManager.accessToken&&(g.stsTokenManager.updateFromServerResponse(u),C=!0),d&&(yield Or(g)),yield g.auth._persistUserIfCurrent(g),C&&g.auth._notifyListenersIfCurrent(g)})()}delete(){var u=this;return(0,I.Z)(function*(){const d=yield u.getIdToken();return yield ki(u,function Jl(p,u){return yo.apply(this,arguments)}(u.auth,{idToken:d})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,d){var g,C,P,S,U,ie,ye,Oe;const be=null!==(g=d.displayName)&&void 0!==g?g:void 0,Pn=null!==(C=d.email)&&void 0!==C?C:void 0,Yo=null!==(P=d.phoneNumber)&&void 0!==P?P:void 0,Au=null!==(S=d.photoURL)&&void 0!==S?S:void 0,yC=null!==(U=d.tenantId)&&void 0!==U?U:void 0,vC=null!==(ie=d._redirectEventId)&&void 0!==ie?ie:void 0,CC=null!==(ye=d.createdAt)&&void 0!==ye?ye:void 0,wC=null!==(Oe=d.lastLoginAt)&&void 0!==Oe?Oe:void 0,{uid:Gg,emailVerified:Du,isAnonymous:qg,providerData:Kg,stsTokenManager:Zg}=d;se(Gg&&Zg,u,"internal-error");const iN=D.fromJSON(this.name,Zg);se("string"==typeof Gg,u,"internal-error"),R(be,u.name),R(Pn,u.name),se("boolean"==typeof Du,u,"internal-error"),se("boolean"==typeof qg,u,"internal-error"),R(Yo,u.name),R(Au,u.name),R(yC,u.name),R(vC,u.name),R(CC,u.name),R(wC,u.name);const bh=new ne({uid:Gg,auth:u,email:Pn,emailVerified:Du,displayName:be,isAnonymous:qg,photoURL:Au,phoneNumber:Yo,tenantId:yC,stsTokenManager:iN,createdAt:CC,lastLoginAt:wC});return Kg&&Array.isArray(Kg)&&(bh.providerData=Kg.map(oN=>Object.assign({},oN))),vC&&(bh._redirectEventId=vC),bh}static _fromIdTokenResponse(u,d,g=!1){return(0,I.Z)(function*(){const C=new D;C.updateFromServerResponse(d);const P=new ne({uid:d.localId,auth:u,stsTokenManager:C,isAnonymous:g});return yield Or(P),P})()}}const B=new Map;function Q(p){an(p instanceof Function,"Expected a class definition");let u=B.get(p);return u?(an(u instanceof p,"Instance stored in cache mismatched with class"),u):(u=new p,B.set(p,u),u)}const bt=(()=>{class p{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,I.Z)(function*(){return!0})()}_set(d,g){var C=this;return(0,I.Z)(function*(){C.storage[d]=g})()}_get(d){var g=this;return(0,I.Z)(function*(){const C=g.storage[d];return void 0===C?null:C})()}_remove(d){var g=this;return(0,I.Z)(function*(){delete g.storage[d]})()}_addListener(d,g){}_removeListener(d,g){}}return p.type="NONE",p})();function et(p,u,d){return`firebase:${p}:${u}:${d}`}class ln{constructor(u,d,g){this.persistence=u,this.auth=d,this.userKey=g;const{config:C,name:P}=this.auth;this.fullUserKey=et(this.userKey,C.apiKey,P),this.fullPersistenceKey=et("persistence",C.apiKey,P),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,I.Z)(function*(){const d=yield u.persistence._get(u.fullUserKey);return d?ne._fromJSON(u.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var d=this;return(0,I.Z)(function*(){if(d.persistence===u)return;const g=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=u,g?d.setCurrentUser(g):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,d,g="authUser"){return(0,I.Z)(function*(){if(!d.length)return new ln(Q(bt),u,g);const C=(yield Promise.all(d.map(function(){var ye=(0,I.Z)(function*(Oe){if(yield Oe._isAvailable())return Oe});return function(Oe){return ye.apply(this,arguments)}}()))).filter(ye=>ye);let P=C[0]||Q(bt);const S=et(g,u.config.apiKey,u.name);let U=null;for(const ye of d)try{const Oe=yield ye._get(S);if(Oe){const be=ne._fromJSON(u,Oe);ye!==P&&(U=be),P=ye;break}}catch{}const ie=C.filter(ye=>ye._shouldAllowMigration);return P._shouldAllowMigration&&ie.length?(P=ie[0],U&&(yield P._set(S,U.toJSON())),yield Promise.all(d.map(function(){var ye=(0,I.Z)(function*(Oe){if(Oe!==P)try{yield Oe._remove(S)}catch{}});return function(Oe){return ye.apply(this,arguments)}}())),new ln(P,u,g)):new ln(P,u,g)})()}}function Ni(p){const u=p.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(_s(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if(ke(u))return"Firefox";if(u.includes("silk/"))return"Silk";if($(u))return"Blackberry";if(L(u))return"Webos";if(fr(u))return"Safari";if((u.includes("chrome/")||zt(u))&&!u.includes("edge/"))return"Chrome";if(ba(u))return"Android";{const g=p.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===g?.length)return g[1]}return"Other"}function ke(p=(0,J.z$)()){return/firefox\//i.test(p)}function fr(p=(0,J.z$)()){const u=p.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function zt(p=(0,J.z$)()){return/crios\//i.test(p)}function _s(p=(0,J.z$)()){return/iemobile/i.test(p)}function ba(p=(0,J.z$)()){return/android/i.test(p)}function $(p=(0,J.z$)()){return/blackberry/i.test(p)}function L(p=(0,J.z$)()){return/webos/i.test(p)}function de(p=(0,J.z$)()){return/iphone|ipad|ipod/i.test(p)||/macintosh/i.test(p)&&/mobile/i.test(p)}function te(p=(0,J.z$)()){return de(p)||ba(p)||L(p)||$(p)||/windows phone/i.test(p)||_s(p)}function Se(p,u=[]){let d;switch(p){case"Browser":d=Ni((0,J.z$)());break;case"Worker":d=`${Ni((0,J.z$)())}-${p}`;break;default:d=p}const g=u.length?u.join(","):"FirebaseCore-web";return`${d}/JsCore/${We.SDK_VERSION}/${g}`}class gt{constructor(u){this.auth=u,this.queue=[]}pushCallback(u,d){const g=P=>new Promise((S,U)=>{try{S(u(P))}catch(ie){U(ie)}});g.onAbort=d,this.queue.push(g);const C=this.queue.length-1;return()=>{this.queue[C]=()=>Promise.resolve()}}runMiddleware(u){var d=this;return(0,I.Z)(function*(){if(d.auth.currentUser===u)return;const g=[];try{for(const C of d.queue)yield C(u),C.onAbort&&g.push(C.onAbort)}catch(C){g.reverse();for(const P of g)try{P()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:C?.message})}})()}}function uv(){return(uv=(0,I.Z)(function*(p,u={}){return X(p,"GET","/v2/passwordPolicy",le(p,u))})).apply(this,arguments)}class Ff{constructor(u){var d,g,C,P;const S=u.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(d=S.minPasswordLength)&&void 0!==d?d:6,S.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=S.maxPasswordLength),void 0!==S.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=S.containsLowercaseCharacter),void 0!==S.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=S.containsUppercaseCharacter),void 0!==S.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=S.containsNumericCharacter),void 0!==S.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=S.containsNonAlphanumericCharacter),this.enforcementState=u.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(C=null===(g=u.allowedNonAlphanumericCharacters)||void 0===g?void 0:g.join(""))&&void 0!==C?C:"",this.forceUpgradeOnSignin=null!==(P=u.forceUpgradeOnSignin)&&void 0!==P&&P,this.schemaVersion=u.schemaVersion}validatePassword(u){var d,g,C,P,S,U;const ie={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(u,ie),this.validatePasswordCharacterOptions(u,ie),ie.isValid&&(ie.isValid=null===(d=ie.meetsMinPasswordLength)||void 0===d||d),ie.isValid&&(ie.isValid=null===(g=ie.meetsMaxPasswordLength)||void 0===g||g),ie.isValid&&(ie.isValid=null===(C=ie.containsLowercaseLetter)||void 0===C||C),ie.isValid&&(ie.isValid=null===(P=ie.containsUppercaseLetter)||void 0===P||P),ie.isValid&&(ie.isValid=null===(S=ie.containsNumericCharacter)||void 0===S||S),ie.isValid&&(ie.isValid=null===(U=ie.containsNonAlphanumericCharacter)||void 0===U||U),ie}validatePasswordLengthOptions(u,d){const g=this.customStrengthOptions.minPasswordLength,C=this.customStrengthOptions.maxPasswordLength;g&&(d.meetsMinPasswordLength=u.length>=g),C&&(d.meetsMaxPasswordLength=u.length<=C)}validatePasswordCharacterOptions(u,d){let g;this.updatePasswordCharacterOptionsStatuses(d,!1,!1,!1,!1);for(let C=0;C<u.length;C++)g=u.charAt(C),this.updatePasswordCharacterOptionsStatuses(d,g>="a"&&g<="z",g>="A"&&g<="Z",g>="0"&&g<="9",this.allowedNonAlphanumericCharacters.includes(g))}updatePasswordCharacterOptionsStatuses(u,d,g,C,P){this.customStrengthOptions.containsLowercaseLetter&&(u.containsLowercaseLetter||(u.containsLowercaseLetter=d)),this.customStrengthOptions.containsUppercaseLetter&&(u.containsUppercaseLetter||(u.containsUppercaseLetter=g)),this.customStrengthOptions.containsNumericCharacter&&(u.containsNumericCharacter||(u.containsNumericCharacter=C)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(u.containsNonAlphanumericCharacter||(u.containsNonAlphanumericCharacter=P))}}class Fi{constructor(u,d,g,C){this.app=u,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=g,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dv(this),this.idTokenSubscription=new dv(this),this.beforeStateQueue=new gt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ge,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(u,d){var g=this;return d&&(this._popupRedirectResolver=Q(d)),this._initializationPromise=this.queue((0,I.Z)(function*(){var C,P;if(!g._deleted&&(g.persistenceManager=yield ln.create(g,u),!g._deleted)){if(null!==(C=g._popupRedirectResolver)&&void 0!==C&&C._shouldInitProactively)try{yield g._popupRedirectResolver._initialize(g)}catch{}yield g.initializeCurrentUser(d),g.lastNotifiedUid=(null===(P=g.currentUser)||void 0===P?void 0:P.uid)||null,!g._deleted&&(g._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,I.Z)(function*(){if(u._deleted)return;const d=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||d){if(u.currentUser&&d&&u.currentUser.uid===d.uid)return u._currentUser._assign(d),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(d,!0)}})()}initializeCurrentUser(u){var d=this;return(0,I.Z)(function*(){var g;const C=yield d.assertedPersistence.getCurrentUser();let P=C,S=!1;if(u&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const U=null===(g=d.redirectUser)||void 0===g?void 0:g._redirectEventId,ie=P?._redirectEventId,ye=yield d.tryRedirectSignIn(u);(!U||U===ie)&&ye?.user&&(P=ye.user,S=!0)}if(!P)return d.directlySetCurrentUser(null);if(!P._redirectEventId){if(S)try{yield d.beforeStateQueue.runMiddleware(P)}catch(U){P=C,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(U))}return P?d.reloadAndSetCurrentUserOrClear(P):d.directlySetCurrentUser(null)}return se(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===P._redirectEventId?d.directlySetCurrentUser(P):d.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(u){var d=this;return(0,I.Z)(function*(){let g=null;try{g=yield d._popupRedirectResolver._completeRedirectFn(d,u,!0)}catch{yield d._setRedirectUser(null)}return g})()}reloadAndSetCurrentUserOrClear(u){var d=this;return(0,I.Z)(function*(){try{yield Or(u)}catch(g){if("auth/network-request-failed"!==g?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function js(){if(typeof navigator>"u")return null;const p=navigator;return p.languages&&p.languages[0]||p.language||null}()}_delete(){var u=this;return(0,I.Z)(function*(){u._deleted=!0})()}updateCurrentUser(u){var d=this;return(0,I.Z)(function*(){const g=u?(0,J.m9)(u):null;return g&&se(g.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(g&&g._clone(d))})()}_updateCurrentUser(u,d=!1){var g=this;return(0,I.Z)(function*(){if(!g._deleted)return u&&se(g.tenantId===u.tenantId,g,"tenant-id-mismatch"),d||(yield g.beforeStateQueue.runMiddleware(u)),g.queue((0,I.Z)(function*(){yield g.directlySetCurrentUser(u),g.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,I.Z)(function*(){return yield u.beforeStateQueue.runMiddleware(null),(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null,!0)})()}setPersistence(u){var d=this;return this.queue((0,I.Z)(function*(){yield d.assertedPersistence.setPersistence(Q(u))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(u){var d=this;return(0,I.Z)(function*(){d._getPasswordPolicyInternal()||(yield d._updatePasswordPolicy());const g=d._getPasswordPolicyInternal();return g.schemaVersion!==d.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(d._errorFactory.create("unsupported-password-policy-schema-version",{})):g.validatePassword(u)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var u=this;return(0,I.Z)(function*(){const d=yield function nu(p){return uv.apply(this,arguments)}(u),g=new Ff(d);null===u.tenantId?u._projectPasswordPolicy=g:u._tenantPasswordPolicies[u.tenantId]=g})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new J.LL("auth","Firebase",u())}onAuthStateChanged(u,d,g){return this.registerStateListener(this.authStateSubscription,u,d,g)}beforeAuthStateChanged(u,d){return this.beforeStateQueue.pushCallback(u,d)}onIdTokenChanged(u,d,g){return this.registerStateListener(this.idTokenSubscription,u,d,g)}authStateReady(){return new Promise((u,d)=>{if(this.currentUser)u();else{const g=this.onAuthStateChanged(()=>{g(),u()},d)}})}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,d){var g=this;return(0,I.Z)(function*(){const C=yield g.getOrInitRedirectPersistenceManager(d);return null===u?C.removeCurrentUser():C.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var d=this;return(0,I.Z)(function*(){if(!d.redirectPersistenceManager){const g=u&&Q(u)||d._popupRedirectResolver;se(g,d,"argument-error"),d.redirectPersistenceManager=yield ln.create(d,[Q(g._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(u){var d=this;return(0,I.Z)(function*(){var g,C;return d._isInitialized&&(yield d.queue((0,I.Z)(function*(){}))),(null===(g=d._currentUser)||void 0===g?void 0:g._redirectEventId)===u?d._currentUser:(null===(C=d.redirectUser)||void 0===C?void 0:C._redirectEventId)===u?d.redirectUser:null})()}_persistUserIfCurrent(u){var d=this;return(0,I.Z)(function*(){if(u===d.currentUser)return d.queue((0,I.Z)(function*(){return d.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const g=null!==(d=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==g&&(this.lastNotifiedUid=g,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,d,g,C){if(this._deleted)return()=>{};const P="function"==typeof d?d:d.next.bind(d);let S=!1;const U=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(U,this,"internal-error"),U.then(()=>{S||P(this.currentUser)}),"function"==typeof d){const ie=u.addObserver(d,g,C);return()=>{S=!0,ie()}}{const ie=u.addObserver(d);return()=>{S=!0,ie()}}}directlySetCurrentUser(u){var d=this;return(0,I.Z)(function*(){d.currentUser&&d.currentUser!==u&&d._currentUser._stopProactiveRefresh(),u&&d.isProactiveRefreshEnabled&&u._startProactiveRefresh(),d.currentUser=u,u?yield d.assertedPersistence.setCurrentUser(u):yield d.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=Se(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,I.Z)(function*(){var d;const g={"X-Client-Version":u.clientVersion};u.app.options.appId&&(g["X-Firebase-gmpid"]=u.app.options.appId);const C=yield null===(d=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();C&&(g["X-Firebase-Client"]=C);const P=yield u._getAppCheckToken();return P&&(g["X-Firebase-AppCheck"]=P),g})()}_getAppCheckToken(){var u=this;return(0,I.Z)(function*(){var d;const g=yield null===(d=u.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return g?.error&&function hr(p,...u){Mr.logLevel<=Ot.in.WARN&&Mr.warn(`Auth (${We.SDK_VERSION}): ${p}`,...u)}(`Error while retrieving App Check token: ${g.error}`),g?.token})()}}function vn(p){return(0,J.m9)(p)}class dv{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,J.ne)(d=>this.observer=d)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ms(p){return new Promise((u,d)=>{const g=document.createElement("script");g.setAttribute("src",p),g.onload=u,g.onerror=C=>{const P=Zt("internal-error");P.customData=C,d(P)},g.type="text/javascript",g.charset="UTF-8",function bk(){var p,u;return null!==(u=null===(p=document.getElementsByTagName("head"))||void 0===p?void 0:p[0])&&void 0!==u?u:document}().appendChild(g)})}function oE(p){return`__${p}${Math.floor(1e6*Math.random())}`}class hv{constructor(u){this.type="recaptcha-enterprise",this.auth=vn(u)}verify(u="verify",d=!1){var g=this;return(0,I.Z)(function*(){function P(){return P=(0,I.Z)(function*(U){if(!d){if(null==U.tenantId&&null!=U._agentRecaptchaConfig)return U._agentRecaptchaConfig.siteKey;if(null!=U.tenantId&&void 0!==U._tenantRecaptchaConfigs[U.tenantId])return U._tenantRecaptchaConfigs[U.tenantId].siteKey}return new Promise(function(){var ie=(0,I.Z)(function*(ye,Oe){zn(U,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(be=>{if(void 0!==be.recaptchaKey){const Pn=new xi(be);return null==U.tenantId?U._agentRecaptchaConfig=Pn:U._tenantRecaptchaConfigs[U.tenantId]=Pn,ye(Pn.siteKey)}Oe(new Error("recaptcha Enterprise site key undefined"))}).catch(be=>{Oe(be)})});return function(ye,Oe){return ie.apply(this,arguments)}}())}),P.apply(this,arguments)}function S(U,ie,ye){const Oe=window.grecaptcha;Zr(Oe)?Oe.enterprise.ready(()=>{Oe.enterprise.execute(U,{action:u}).then(be=>{ie(be)}).catch(()=>{ie("NO_RECAPTCHA")})}):ye(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((U,ie)=>{(function C(U){return P.apply(this,arguments)})(g.auth).then(ye=>{if(!d&&Zr(window.grecaptcha))S(ye,U,ie);else{if(typeof window>"u")return void ie(new Error("RecaptchaVerifier is only supported in browser"));ms("https://www.google.com/recaptcha/enterprise.js?render="+ye).then(()=>{S(ye,U,ie)}).catch(Oe=>{ie(Oe)})}}).catch(ye=>{ie(ye)})})})()}}function sE(p,u,d){return Lf.apply(this,arguments)}function Lf(){return(Lf=(0,I.Z)(function*(p,u,d,g=!1){const C=new hv(p);let P;try{P=yield C.verify(d)}catch{P=yield C.verify(d,!0)}const S=Object.assign({},u);return Object.assign(S,g?{captchaResp:P}:{captchaResponse:P}),Object.assign(S,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(S,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),S})).apply(this,arguments)}function Vf(p,u,d,g){return pi.apply(this,arguments)}function pi(){return pi=(0,I.Z)(function*(p,u,d,g){var C;if(null!==(C=p._getRecaptchaConfig())&&void 0!==C&&C.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const P=yield sE(p,u,d,"getOobCode"===d);return g(p,P)}return g(p,u).catch(function(){var P=(0,I.Z)(function*(S){if("auth/missing-recaptcha-token"===S.code){console.log(`${d} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const U=yield sE(p,u,d,"getOobCode"===d);return g(p,U)}return Promise.reject(S)});return function(S){return P.apply(this,arguments)}}())}),pi.apply(this,arguments)}function aE(p){const u=p.indexOf(":");return u<0?"":p.substr(0,u+1)}function ru(p){if(!p)return null;const u=Number(p);return isNaN(u)?null:u}class Ta{constructor(u,d){this.providerId=u,this.signInMethod=d}toJSON(){return mn("not implemented")}_getIdTokenResponse(u){return mn("not implemented")}_linkToIdToken(u,d){return mn("not implemented")}_getReauthenticationResolver(u){return mn("not implemented")}}function fv(p,u){return bc.apply(this,arguments)}function bc(){return(bc=(0,I.Z)(function*(p,u){return X(p,"POST","/v1/accounts:resetPassword",le(p,u))})).apply(this,arguments)}function iu(p,u){return ou.apply(this,arguments)}function ou(){return(ou=(0,I.Z)(function*(p,u){return X(p,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Uf(){return(Uf=(0,I.Z)(function*(p,u){return X(p,"POST","/v1/accounts:update",le(p,u))})).apply(this,arguments)}function _t(p,u){return su.apply(this,arguments)}function su(){return(su=(0,I.Z)(function*(p,u){return xe(p,"POST","/v1/accounts:signInWithPassword",le(p,u))})).apply(this,arguments)}function au(p,u){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,I.Z)(function*(p,u){return X(p,"POST","/v1/accounts:sendOobCode",le(p,u))})).apply(this,arguments)}function mv(){return(mv=(0,I.Z)(function*(p,u){return au(p,u)})).apply(this,arguments)}function Yt(p,u){return yv.apply(this,arguments)}function yv(){return(yv=(0,I.Z)(function*(p,u){return au(p,u)})).apply(this,arguments)}function Rk(p,u){return cu.apply(this,arguments)}function cu(){return(cu=(0,I.Z)(function*(p,u){return au(p,u)})).apply(this,arguments)}function Nd(){return(Nd=(0,I.Z)(function*(p,u){return au(p,u)})).apply(this,arguments)}function $f(){return($f=(0,I.Z)(function*(p,u){return xe(p,"POST","/v1/accounts:signInWithEmailLink",le(p,u))})).apply(this,arguments)}function vv(){return(vv=(0,I.Z)(function*(p,u){return xe(p,"POST","/v1/accounts:signInWithEmailLink",le(p,u))})).apply(this,arguments)}class Fd extends Ta{constructor(u,d,g,C=null){super("password",g),this._email=u,this._password=d,this._tenantId=C}static _fromEmailAndPassword(u,d){return new Fd(u,d,"password")}static _fromEmailAndCode(u,d,g=null){return new Fd(u,d,"emailLink",g)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(u){var d=this;return(0,I.Z)(function*(){switch(d.signInMethod){case"password":return Vf(u,{returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",_t);case"emailLink":return function jf(p,u){return $f.apply(this,arguments)}(u,{email:d._email,oobCode:d._password});default:Lt(u,"internal-error")}})()}_linkToIdToken(u,d){var g=this;return(0,I.Z)(function*(){switch(g.signInMethod){case"password":return iu(u,{idToken:d,returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Hf(p,u){return vv.apply(this,arguments)}(u,{idToken:d,email:g._email,oobCode:g._password});default:Lt(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function Gs(p,u){return Cv.apply(this,arguments)}function Cv(){return(Cv=(0,I.Z)(function*(p,u){return xe(p,"POST","/v1/accounts:signInWithIdp",le(p,u))})).apply(this,arguments)}class fi extends Ta{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const d=new fi(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(d.idToken=u.idToken),u.accessToken&&(d.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(d.nonce=u.nonce),u.pendingToken&&(d.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(d.accessToken=u.oauthToken,d.secret=u.oauthTokenSecret):Lt("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:g,signInMethod:C}=d,P=(0,on._T)(d,["providerId","signInMethod"]);if(!g||!C)return null;const S=new fi(g,C);return S.idToken=P.idToken||void 0,S.accessToken=P.accessToken||void 0,S.secret=P.secret,S.nonce=P.nonce,S.pendingToken=P.pendingToken||null,S}_getIdTokenResponse(u){return Gs(u,this.buildRequest())}_linkToIdToken(u,d){const g=this.buildRequest();return g.idToken=d,Gs(u,g)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,Gs(u,d)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),u.postBody=(0,J.xO)(d)}return u}}function Tc(){return(Tc=(0,I.Z)(function*(p,u){return X(p,"POST","/v1/accounts:sendVerificationCode",le(p,u))})).apply(this,arguments)}function Wf(){return(Wf=(0,I.Z)(function*(p,u){return xe(p,"POST","/v1/accounts:signInWithPhoneNumber",le(p,u))})).apply(this,arguments)}function Ld(){return(Ld=(0,I.Z)(function*(p,u){const d=yield xe(p,"POST","/v1/accounts:signInWithPhoneNumber",le(p,u));if(d.temporaryProof)throw tr(p,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const Ac={USER_NOT_FOUND:"user-not-found"};function Uo(){return(Uo=(0,I.Z)(function*(p,u){return xe(p,"POST","/v1/accounts:signInWithPhoneNumber",le(p,Object.assign(Object.assign({},u),{operation:"REAUTH"})),Ac)})).apply(this,arguments)}class Aa extends Ta{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,d){return new Aa({verificationId:u,verificationCode:d})}static _fromTokenResponse(u,d){return new Aa({phoneNumber:u,temporaryProof:d})}_getIdTokenResponse(u){return function lE(p,u){return Wf.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,d){return function uE(p,u){return Ld.apply(this,arguments)}(u,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function dE(p,u){return Uo.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:d,verificationId:g,verificationCode:C}=this.params;return u&&d?{temporaryProof:u,phoneNumber:d}:{sessionInfo:g,code:C}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:d,verificationCode:g,phoneNumber:C,temporaryProof:P}=u;return g||d||C||P?new Aa({verificationId:d,verificationCode:g,phoneNumber:C,temporaryProof:P}):null}}class Pe{constructor(u){var d,g,C,P,S,U;const ie=(0,J.zd)((0,J.pd)(u)),ye=null!==(d=ie.apiKey)&&void 0!==d?d:null,Oe=null!==(g=ie.oobCode)&&void 0!==g?g:null,be=function oe(p){switch(p){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(C=ie.mode)&&void 0!==C?C:null);se(ye&&Oe&&be,"argument-error"),this.apiKey=ye,this.operation=be,this.code=Oe,this.continueUrl=null!==(P=ie.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(S=ie.languageCode)&&void 0!==S?S:null,this.tenantId=null!==(U=ie.tenantId)&&void 0!==U?U:null}static parseLink(u){const d=function wv(p){const u=(0,J.zd)((0,J.pd)(p)).link,d=u?(0,J.zd)((0,J.pd)(u)).deep_link_id:null,g=(0,J.zd)((0,J.pd)(p)).deep_link_id;return(g?(0,J.zd)((0,J.pd)(g)).link:null)||g||d||u||p}(u);try{return new Pe(d)}catch{return null}}}let lu=(()=>{class p{constructor(){this.providerId=p.PROVIDER_ID}static credential(d,g){return Fd._fromEmailAndPassword(d,g)}static credentialWithLink(d,g){const C=Pe.parseLink(g);return se(C,"argument-error"),Fd._fromEmailAndCode(d,C.code,C.tenantId)}}return p.PROVIDER_ID="password",p.EMAIL_PASSWORD_SIGN_IN_METHOD="password",p.EMAIL_LINK_SIGN_IN_METHOD="emailLink",p})();class Li{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class Dc extends Li{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class Sc extends Dc{static credentialFromJSON(u){const d="string"==typeof u?JSON.parse(u):u;return se("providerId"in d&&"signInMethod"in d,"argument-error"),fi._fromParams(d)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return se(u.idToken||u.accessToken,"argument-error"),fi._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return Sc.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return Sc.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:d,oauthAccessToken:g,oauthTokenSecret:C,pendingToken:P,nonce:S,providerId:U}=u;if(!g&&!C&&!d&&!P||!U)return null;try{return new Sc(U)._credential({idToken:d,accessToken:g,nonce:S,pendingToken:P})}catch{return null}}}let Pv=(()=>{class p extends Dc{constructor(){super("facebook.com")}static credential(d){return fi._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return p.credential(d.oauthAccessToken)}catch{return null}}}return p.FACEBOOK_SIGN_IN_METHOD="facebook.com",p.PROVIDER_ID="facebook.com",p})(),Bo=(()=>{class p extends Dc{constructor(){super("google.com"),this.addScope("profile")}static credential(d,g){return fi._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:g})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:g,oauthAccessToken:C}=d;if(!g&&!C)return null;try{return p.credential(g,C)}catch{return null}}}return p.GOOGLE_SIGN_IN_METHOD="google.com",p.PROVIDER_ID="google.com",p})(),uu=(()=>{class p extends Dc{constructor(){super("github.com")}static credential(d){return fi._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return p.credential(d.oauthAccessToken)}catch{return null}}}return p.GITHUB_SIGN_IN_METHOD="github.com",p.PROVIDER_ID="github.com",p})();class Xr extends Ta{constructor(u,d){super(u,u),this.pendingToken=d}_getIdTokenResponse(u){return Gs(u,this.buildRequest())}_linkToIdToken(u,d){const g=this.buildRequest();return g.idToken=d,Gs(u,g)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,Gs(u,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:g,signInMethod:C,pendingToken:P}=d;return g&&C&&P&&g===C?new Xr(g,P):null}static _create(u,d){return new Xr(u,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Da extends Li{constructor(u){se(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return Da.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return Da.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const d=Xr.fromJSON(u);return se(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:d,providerId:g}=u;if(!d||!g)return null;try{return Xr._create(g,d)}catch{return null}}}let Vd=(()=>{class p extends Dc{constructor(){super("twitter.com")}static credential(d,g){return fi._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:g})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:g,oauthTokenSecret:C}=d;if(!g||!C)return null;try{return p.credential(g,C)}catch{return null}}}return p.TWITTER_SIGN_IN_METHOD="twitter.com",p.PROVIDER_ID="twitter.com",p})();function Ud(p,u){return Bd.apply(this,arguments)}function Bd(){return(Bd=(0,I.Z)(function*(p,u){return xe(p,"POST","/v1/accounts:signUp",le(p,u))})).apply(this,arguments)}class Wn{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,d,g,C=!1){return(0,I.Z)(function*(){const P=yield ne._fromIdTokenResponse(u,g,C),S=xc(g);return new Wn({user:P,providerId:S,_tokenResponse:g,operationType:d})})()}static _forOperation(u,d,g){return(0,I.Z)(function*(){yield u._updateTokensIfNecessary(g,!0);const C=xc(g);return new Wn({user:u,providerId:C,_tokenResponse:g,operationType:d})})()}}function xc(p){return p.providerId?p.providerId:"phoneNumber"in p?"phone":null}function jd(){return(jd=(0,I.Z)(function*(p){var u;const d=vn(p);if(yield d._initializationPromise,null!==(u=d.currentUser)&&void 0!==u&&u.isAnonymous)return new Wn({user:d.currentUser,providerId:null,operationType:"signIn"});const g=yield Ud(d,{returnSecureToken:!0}),C=yield Wn._fromIdTokenResponse(d,"signIn",g,!0);return yield d._updateCurrentUser(C.user),C})).apply(this,arguments)}class Rc extends J.ZR{constructor(u,d,g,C){var P;super(d.code,d.message),this.operationType=g,this.user=C,Object.setPrototypeOf(this,Rc.prototype),this.customData={appName:u.name,tenantId:null!==(P=u.tenantId)&&void 0!==P?P:void 0,_serverResponse:d.customData._serverResponse,operationType:g}}static _fromErrorAndOperation(u,d,g,C){return new Rc(u,d,g,C)}}function qf(p,u,d,g){return("reauthenticate"===u?d._getReauthenticationResolver(p):d._getIdTokenResponse(p)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?Rc._fromErrorAndOperation(p,P,u,g):P})}function Kf(p){return new Set(p.map(({providerId:u})=>u).filter(u=>!!u))}function $d(){return $d=(0,I.Z)(function*(p,u){const d=(0,J.m9)(p);yield hu(!0,d,u);const{providerUserInfo:g}=yield function eu(p,u){return Yr.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[u]}),C=Kf(g||[]);return d.providerData=d.providerData.filter(P=>C.has(P.providerId)),C.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),$d.apply(this,arguments)}function Hd(p,u){return Zf.apply(this,arguments)}function Zf(){return(Zf=(0,I.Z)(function*(p,u,d=!1){const g=yield ki(p,u._linkToIdToken(p.auth,yield p.getIdToken()),d);return Wn._forOperation(p,"link",g)})).apply(this,arguments)}function hu(p,u,d){return Yf.apply(this,arguments)}function Yf(){return(Yf=(0,I.Z)(function*(p,u,d){yield Or(u);const C=!1===p?"provider-already-linked":"no-such-provider";se(Kf(u.providerData).has(d)===p,u.auth,C)})).apply(this,arguments)}function Ev(p,u){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,I.Z)(function*(p,u,d=!1){const{auth:g}=p,C="reauthenticate";try{const P=yield ki(p,qf(g,C,u,p),d);se(P.idToken,g,"internal-error");const S=Mc(P.idToken);se(S,g,"internal-error");const{sub:U}=S;return se(p.uid===U,g,"user-mismatch"),Wn._forOperation(p,C,P)}catch(P){throw"auth/user-not-found"===P?.code&&Lt(g,"user-mismatch"),P}})).apply(this,arguments)}function Ov(p,u){return zd.apply(this,arguments)}function zd(){return(zd=(0,I.Z)(function*(p,u,d=!1){const g="signIn",C=yield qf(p,g,u),P=yield Wn._fromIdTokenResponse(p,g,C);return d||(yield p._updateCurrentUser(P.user)),P})).apply(this,arguments)}function Wd(p,u){return Qf.apply(this,arguments)}function Qf(){return(Qf=(0,I.Z)(function*(p,u){return Ov(vn(p),u)})).apply(this,arguments)}function Iv(p,u){return Xf.apply(this,arguments)}function Xf(){return(Xf=(0,I.Z)(function*(p,u){const d=(0,J.m9)(p);return yield hu(!1,d,u.providerId),Hd(d,u)})).apply(this,arguments)}function Jf(p,u){return eg.apply(this,arguments)}function eg(){return(eg=(0,I.Z)(function*(p,u){return Ev((0,J.m9)(p),u)})).apply(this,arguments)}function tg(){return(tg=(0,I.Z)(function*(p,u){return xe(p,"POST","/v1/accounts:signInWithCustomToken",le(p,u))})).apply(this,arguments)}function ng(){return ng=(0,I.Z)(function*(p,u){const d=vn(p),g=yield function hE(p,u){return tg.apply(this,arguments)}(d,{token:u,returnSecureToken:!0}),C=yield Wn._fromIdTokenResponse(d,"signIn",g);return yield d._updateCurrentUser(C.user),C}),ng.apply(this,arguments)}class pu{constructor(u,d){this.factorId=u,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(u,d){return"phoneInfo"in d?rg._fromServerResponse(u,d):"totpInfo"in d?Gn._fromServerResponse(u,d):Lt(u,"internal-error")}}class rg extends pu{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,d){return new rg(d)}}class Gn extends pu{constructor(u){super("totp",u)}static _fromServerResponse(u,d){return new Gn(d)}}function Gd(p,u,d){var g;se((null===(g=d.url)||void 0===g?void 0:g.length)>0,p,"invalid-continue-uri"),se(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,p,"invalid-dynamic-link-domain"),u.continueUrl=d.url,u.dynamicLinkDomain=d.dynamicLinkDomain,u.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(se(d.iOS.bundleId.length>0,p,"missing-ios-bundle-id"),u.iOSBundleId=d.iOS.bundleId),d.android&&(se(d.android.packageName.length>0,p,"missing-android-pkg-name"),u.androidInstallApp=d.android.installApp,u.androidMinimumVersionCode=d.android.minimumVersion,u.androidPackageName=d.android.packageName)}function qd(p){return je.apply(this,arguments)}function je(){return(je=(0,I.Z)(function*(p){const u=vn(p);u._getPasswordPolicyInternal()&&(yield u._updatePasswordPolicy())})).apply(this,arguments)}function vt(){return(vt=(0,I.Z)(function*(p,u,d){const g=vn(p),C={requestType:"PASSWORD_RESET",email:u,clientType:"CLIENT_TYPE_WEB"};d&&Gd(g,C,d),yield Vf(g,C,"getOobCode",Yt)})).apply(this,arguments)}function br(){return br=(0,I.Z)(function*(p,u,d){yield fv((0,J.m9)(p),{oobCode:u,newPassword:d}).catch(function(){var g=(0,I.Z)(function*(C){throw"auth/password-does-not-meet-requirements"===C.code&&qd(p),C});return function(C){return g.apply(this,arguments)}}())}),br.apply(this,arguments)}function Jr(){return Jr=(0,I.Z)(function*(p,u){yield function gv(p,u){return Uf.apply(this,arguments)}((0,J.m9)(p),{oobCode:u})}),Jr.apply(this,arguments)}function ig(p,u){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,I.Z)(function*(p,u){const d=(0,J.m9)(p),g=yield fv(d,{oobCode:u}),C=g.requestType;switch(se(C,d,"internal-error"),C){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":se(g.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":se(g.mfaInfo,d,"internal-error");default:se(g.email,d,"internal-error")}let P=null;return g.mfaInfo&&(P=pu._fromServerResponse(vn(d),g.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.newEmail:g.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.email:g.newEmail)||null,multiFactorInfo:P},operation:C}})).apply(this,arguments)}function og(){return(og=(0,I.Z)(function*(p,u){const{data:d}=yield ig((0,J.m9)(p),u);return d.email})).apply(this,arguments)}function un(){return(un=(0,I.Z)(function*(p,u,d){const g=vn(p),S=yield Vf(g,{returnSecureToken:!0,email:u,password:d,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ud).catch(ie=>{throw"auth/password-does-not-meet-requirements"===ie.code&&qd(p),ie}),U=yield Wn._fromIdTokenResponse(g,"signIn",S);return yield g._updateCurrentUser(U.user),U})).apply(this,arguments)}function Qt(){return(Qt=(0,I.Z)(function*(p,u,d){const g=vn(p),C={requestType:"EMAIL_SIGNIN",email:u,clientType:"CLIENT_TYPE_WEB"};(function P(S,U){se(U.handleCodeInApp,g,"argument-error"),U&&Gd(g,S,U)})(C,d),yield Vf(g,C,"getOobCode",Rk)})).apply(this,arguments)}function gr(){return(gr=(0,I.Z)(function*(p,u,d){const g=(0,J.m9)(p),C=lu.credentialWithLink(u,d||Hn());return se(C._tenantId===(g.tenantId||null),g,"tenant-id-mismatch"),Wd(g,C)})).apply(this,arguments)}function Cn(){return(Cn=(0,I.Z)(function*(p,u){return X(p,"POST","/v1/accounts:createAuthUri",le(p,u))})).apply(this,arguments)}function Ks(){return Ks=(0,I.Z)(function*(p,u){const g={identifier:u,continueUri:Fo()?Hn():"http://localhost"},{signinMethods:C}=yield function Nc(p,u){return Cn.apply(this,arguments)}((0,J.m9)(p),g);return C||[]}),Ks.apply(this,arguments)}function Sa(){return Sa=(0,I.Z)(function*(p,u){const d=(0,J.m9)(p),C={requestType:"VERIFY_EMAIL",idToken:yield p.getIdToken()};u&&Gd(d.auth,C,u);const{email:P}=yield function _v(p,u){return mv.apply(this,arguments)}(d.auth,C);P!==p.email&&(yield p.reload())}),Sa.apply(this,arguments)}function Zs(){return Zs=(0,I.Z)(function*(p,u,d){const g=(0,J.m9)(p),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield p.getIdToken(),newEmail:u};d&&Gd(g.auth,P,d);const{email:S}=yield function Bf(p,u){return Nd.apply(this,arguments)}(g.auth,P);S!==p.email&&(yield p.reload())}),Zs.apply(this,arguments)}function xa(){return(xa=(0,I.Z)(function*(p,u){return X(p,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function no(){return no=(0,I.Z)(function*(p,{displayName:u,photoURL:d}){if(void 0===u&&void 0===d)return;const g=(0,J.m9)(p),P={idToken:yield g.getIdToken(),displayName:u,photoUrl:d,returnSecureToken:!0},S=yield ki(g,function Vn(p,u){return xa.apply(this,arguments)}(g.auth,P));g.displayName=S.displayName||null,g.photoURL=S.photoUrl||null;const U=g.providerData.find(({providerId:ie})=>"password"===ie);U&&(U.displayName=g.displayName,U.photoURL=g.photoURL),yield g._updateTokensIfNecessary(S)}),no.apply(this,arguments)}function ys(p,u,d){return wo.apply(this,arguments)}function wo(){return(wo=(0,I.Z)(function*(p,u,d){const{auth:g}=p,P={idToken:yield p.getIdToken(),returnSecureToken:!0};u&&(P.email=u),d&&(P.password=d);const S=yield ki(p,iu(g,P));yield p._updateTokensIfNecessary(S,!0)})).apply(this,arguments)}class jo{constructor(u,d,g={}){this.isNewUser=u,this.providerId=d,this.profile=g}}class dt extends jo{constructor(u,d,g,C){super(u,d,g),this.username=C}}class Nk extends jo{constructor(u,d){super(u,"facebook.com",d)}}class sg extends dt{constructor(u,d){super(u,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class Av extends jo{constructor(u,d){super(u,"google.com",d)}}class $o extends dt{constructor(u,d,g){super(u,"twitter.com",d,g)}}function Yd(p){const{user:u,_tokenResponse:d}=p;return u.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function _u(p){var u,d;if(!p)return null;const{providerId:g}=p,C=p.rawUserInfo?JSON.parse(p.rawUserInfo):{},P=p.isNewUser||"identitytoolkit#SignupNewUserResponse"===p.kind;if(!g&&p?.idToken){const S=null===(d=null===(u=Mc(p.idToken))||void 0===u?void 0:u.firebase)||void 0===d?void 0:d.sign_in_provider;if(S)return new jo(P,"anonymous"!==S&&"custom"!==S?S:null)}if(!g)return null;switch(g){case"facebook.com":return new Nk(P,C);case"github.com":return new sg(P,C);case"google.com":return new Av(P,C);case"twitter.com":return new $o(P,C,p.screenName||null);case"custom":case"anonymous":return new jo(P,null);default:return new jo(P,g,C)}}(d)}class Ra{constructor(u,d,g){this.type=u,this.credential=d,this.user=g}static _fromIdtoken(u,d){return new Ra("enroll",u,d)}static _fromMfaPendingCredential(u){return new Ra("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var d,g;if(u?.multiFactorSession){if(null!==(d=u.multiFactorSession)&&void 0!==d&&d.pendingCredential)return Ra._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null!==(g=u.multiFactorSession)&&void 0!==g&&g.idToken)return Ra._fromIdtoken(u.multiFactorSession.idToken)}return null}}class Rv{constructor(u,d,g){this.session=u,this.hints=d,this.signInResolver=g}static _fromError(u,d){const g=vn(u),C=d.customData._serverResponse,P=(C.mfaInfo||[]).map(U=>pu._fromServerResponse(g,U));se(C.mfaPendingCredential,g,"internal-error");const S=Ra._fromMfaPendingCredential(C.mfaPendingCredential);return new Rv(S,P,function(){var U=(0,I.Z)(function*(ie){const ye=yield ie._process(g,S);delete C.mfaInfo,delete C.mfaPendingCredential;const Oe=Object.assign(Object.assign({},C),{idToken:ye.idToken,refreshToken:ye.refreshToken});switch(d.operationType){case"signIn":const be=yield Wn._fromIdTokenResponse(g,d.operationType,Oe);return yield g._updateCurrentUser(be.user),be;case"reauthenticate":return se(d.user,g,"internal-error"),Wn._forOperation(d.user,d.operationType,Oe);default:Lt(g,"internal-error")}});return function(ie){return U.apply(this,arguments)}}())}resolveSignIn(u){var d=this;return(0,I.Z)(function*(){return d.signInResolver(u)})()}}class kv{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(g=>pu._fromServerResponse(u.auth,g)))})}static _fromUser(u){return new kv(u)}getSession(){var u=this;return(0,I.Z)(function*(){return Ra._fromIdtoken(yield u.user.getIdToken(),u.user)})()}enroll(u,d){var g=this;return(0,I.Z)(function*(){const C=u,P=yield g.getSession(),S=yield ki(g.user,C._process(g.user.auth,P,d));return yield g.user._updateTokensIfNecessary(S),g.user.reload()})()}unenroll(u){var d=this;return(0,I.Z)(function*(){const g="string"==typeof u?u:u.uid,C=yield d.user.getIdToken();try{const P=yield ki(d.user,function Vk(p,u){return X(p,"POST","/v2/accounts/mfaEnrollment:withdraw",le(p,u))}(d.user.auth,{idToken:C,mfaEnrollmentId:g}));d.enrolledFactors=d.enrolledFactors.filter(({uid:S})=>S!==g),yield d.user._updateTokensIfNecessary(P),yield d.user.reload()}catch(P){throw P}})()}}const Nv=new WeakMap,lg="__sak";class _E{constructor(u,d){this.storageRetriever=u,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(lg,"1"),this.storage.removeItem(lg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(u,d){return this.storage.setItem(u,JSON.stringify(d)),Promise.resolve()}_get(u){const d=this.storage.getItem(u);return Promise.resolve(d?JSON.parse(d):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const yu=(()=>{class p extends _E{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,g)=>this.onStorageEvent(d,g),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Bk(){const p=(0,J.z$)();return fr(p)||de(p)}()&&function rr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=te(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const g of Object.keys(this.listeners)){const C=this.storage.getItem(g),P=this.localCache[g];C!==P&&d(g,P,C)}}onStorageEvent(d,g=!1){if(!d.key)return void this.forAllChangedKeys((U,ie,ye)=>{this.notifyListeners(U,ye)});const C=d.key;if(g?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const U=this.storage.getItem(C);if(d.newValue!==U)null!==d.newValue?this.storage.setItem(C,d.newValue):this.storage.removeItem(C);else if(this.localCache[C]===d.newValue&&!g)return}const P=()=>{const U=this.storage.getItem(C);!g&&this.localCache[C]===U||this.notifyListeners(C,U)},S=this.storage.getItem(C);!function ut(){return(0,J.w1)()&&10===document.documentMode}()||S===d.newValue||d.newValue===d.oldValue?P():setTimeout(P,10)}notifyListeners(d,g){this.localCache[d]=g;const C=this.listeners[d];if(C)for(const P of Array.from(C))P(g&&JSON.parse(g))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,g,C)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:g,newValue:C}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,g){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(g)}_removeListener(d,g){this.listeners[d]&&(this.listeners[d].delete(g),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,g){var C=()=>super._set,P=this;return(0,I.Z)(function*(){yield C().call(P,d,g),P.localCache[d]=JSON.stringify(g)})()}_get(d){var g=()=>super._get,C=this;return(0,I.Z)(function*(){const P=yield g().call(C,d);return C.localCache[d]=JSON.stringify(P),P})()}_remove(d){var g=()=>super._remove,C=this;return(0,I.Z)(function*(){yield g().call(C,d),delete C.localCache[d]})()}}return p.type="LOCAL",p})(),ka=(()=>{class p extends _E{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,g){}_removeListener(d,g){}}return p.type="SESSION",p})();let Na=(()=>{class p{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const g=this.receivers.find(P=>P.isListeningto(d));if(g)return g;const C=new p(d);return this.receivers.push(C),C}isListeningto(d){return this.eventTarget===d}handleEvent(d){var g=this;return(0,I.Z)(function*(){const C=d,{eventId:P,eventType:S,data:U}=C.data,ie=g.handlersMap[S];if(!ie?.size)return;C.ports[0].postMessage({status:"ack",eventId:P,eventType:S});const ye=Array.from(ie).map(function(){var be=(0,I.Z)(function*(Pn){return Pn(C.origin,U)});return function(Pn){return be.apply(this,arguments)}}()),Oe=yield function Hk(p){return Promise.all(p.map(function(){var u=(0,I.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(g){return{fulfilled:!1,reason:g}}});return function(d){return u.apply(this,arguments)}}()))}(ye);C.ports[0].postMessage({status:"done",eventId:P,eventType:S,response:Oe})})()}_subscribe(d,g){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(g)}_unsubscribe(d,g){this.handlersMap[d]&&g&&this.handlersMap[d].delete(g),(!g||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return p.receivers=[],p})();function ro(p="",u=10){let d="";for(let g=0;g<u;g++)d+=Math.floor(10*Math.random());return p+d}class zk{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,d,g=50){var C=this;return(0,I.Z)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let S,U;return new Promise((ie,ye)=>{const Oe=ro("",20);P.port1.start();const be=setTimeout(()=>{ye(new Error("unsupported_event"))},g);U={messageChannel:P,onMessage(Pn){const Yo=Pn;if(Yo.data.eventId===Oe)switch(Yo.data.status){case"ack":clearTimeout(be),S=setTimeout(()=>{ye(new Error("timeout"))},3e3);break;case"done":clearTimeout(S),ie(Yo.data.response);break;default:clearTimeout(be),clearTimeout(S),ye(new Error("invalid_response"))}}},C.handlers.add(U),P.port1.addEventListener("message",U.onMessage),C.target.postMessage({eventType:u,eventId:Oe,data:d},[P.port2])}).finally(()=>{U&&C.removeMessageHandler(U)})})()}}function or(){return window}function Vc(){return typeof or().WorkerGlobalScope<"u"&&"function"==typeof or().importScripts}function Xd(){return(Xd=(0,I.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ug="firebaseLocalStorageDb",vu="firebaseLocalStorage",Jd="fbase_key";class Fa{constructor(u){this.request=u}toPromise(){return new Promise((u,d)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function Cu(p,u){return p.transaction([vu],u?"readwrite":"readonly").objectStore(vu)}function eh(){const p=indexedDB.open(ug,1);return new Promise((u,d)=>{p.addEventListener("error",()=>{d(p.error)}),p.addEventListener("upgradeneeded",()=>{const g=p.result;try{g.createObjectStore(vu,{keyPath:Jd})}catch(C){d(C)}}),p.addEventListener("success",(0,I.Z)(function*(){const g=p.result;g.objectStoreNames.contains(vu)?u(g):(g.close(),yield function Vv(){const p=indexedDB.deleteDatabase(ug);return new Fa(p).toPromise()}(),u(yield eh()))}))})}function wu(p,u,d){return La.apply(this,arguments)}function La(){return(La=(0,I.Z)(function*(p,u,d){const g=Cu(p,!0).put({[Jd]:u,value:d});return new Fa(g).toPromise()})).apply(this,arguments)}function th(){return(th=(0,I.Z)(function*(p,u){const d=Cu(p,!1).get(u),g=yield new Fa(d).toPromise();return void 0===g?null:g.value})).apply(this,arguments)}function yE(p,u){const d=Cu(p,!0).delete(u);return new Fa(d).toPromise()}const Bc=(()=>{class p{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,I.Z)(function*(){return d.db||(d.db=yield eh()),d.db})()}_withRetries(d){var g=this;return(0,I.Z)(function*(){let C=0;for(;;)try{const P=yield g._openDb();return yield d(P)}catch(P){if(C++>3)throw P;g.db&&(g.db.close(),g.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,I.Z)(function*(){return Vc()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,I.Z)(function*(){d.receiver=Na._getInstance(function Lv(){return Vc()?self:null}()),d.receiver._subscribe("keyChanged",function(){var g=(0,I.Z)(function*(C,P){return{keyProcessed:(yield d._poll()).includes(P.key)}});return function(C,P){return g.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var g=(0,I.Z)(function*(C,P){return["keyChanged"]});return function(C,P){return g.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,I.Z)(function*(){var g,C;if(d.activeServiceWorker=yield function io(){return Xd.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new zk(d.activeServiceWorker);const P=yield d.sender._send("ping",{},800);P&&null!==(g=P[0])&&void 0!==g&&g.fulfilled&&null!==(C=P[0])&&void 0!==C&&C.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var g=this;return(0,I.Z)(function*(){if(g.sender&&g.activeServiceWorker&&function Fv(){var p;return(null===(p=navigator?.serviceWorker)||void 0===p?void 0:p.controller)||null}()===g.activeServiceWorker)try{yield g.sender._send("keyChanged",{key:d},g.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,I.Z)(function*(){try{if(!indexedDB)return!1;const d=yield eh();return yield wu(d,lg,"1"),yield yE(d,lg),!0}catch{}return!1})()}_withPendingWrite(d){var g=this;return(0,I.Z)(function*(){g.pendingWrites++;try{yield d()}finally{g.pendingWrites--}})()}_set(d,g){var C=this;return(0,I.Z)(function*(){return C._withPendingWrite((0,I.Z)(function*(){return yield C._withRetries(P=>wu(P,d,g)),C.localCache[d]=g,C.notifyServiceWorker(d)}))})()}_get(d){var g=this;return(0,I.Z)(function*(){const C=yield g._withRetries(P=>function Uc(p,u){return th.apply(this,arguments)}(P,d));return g.localCache[d]=C,C})()}_remove(d){var g=this;return(0,I.Z)(function*(){return g._withPendingWrite((0,I.Z)(function*(){return yield g._withRetries(C=>yE(C,d)),delete g.localCache[d],g.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,I.Z)(function*(){const g=yield d._withRetries(S=>{const U=Cu(S,!1).getAll();return new Fa(U).toPromise()});if(!g)return[];if(0!==d.pendingWrites)return[];const C=[],P=new Set;for(const{fbase_key:S,value:U}of g)P.add(S),JSON.stringify(d.localCache[S])!==JSON.stringify(U)&&(d.notifyListeners(S,U),C.push(S));for(const S of Object.keys(d.localCache))d.localCache[S]&&!P.has(S)&&(d.notifyListeners(S,null),C.push(S));return C})()}notifyListeners(d,g){this.localCache[d]=g;const C=this.listeners[d];if(C)for(const P of Array.from(C))P(g)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,I.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,g){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(g)}_removeListener(d,g){this.listeners[d]&&(this.listeners[d].delete(g),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return p.type="LOCAL",p})(),fg=1e12;class Zk{constructor(u){this.auth=u,this.counter=fg,this._widgets=new Map}render(u,d){const g=this.counter;return this._widgets.set(g,new CE(u,this.auth.name,d||{})),this.counter++,g}reset(u){var d;const g=u||fg;null===(d=this._widgets.get(g))||void 0===d||d.delete(),this._widgets.delete(g)}getResponse(u){var d;return(null===(d=this._widgets.get(u||fg))||void 0===d?void 0:d.getResponse())||""}execute(u){var d=this;return(0,I.Z)(function*(){var g;return null===(g=d._widgets.get(u||fg))||void 0===g||g.execute(),""})()}}class CE{constructor(u,d,g){this.params=g,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const C="string"==typeof u?document.getElementById(u):u;se(C,"argument-error",{appName:d}),this.container=C,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Bv(p){const u=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<p;g++)u.push(d.charAt(Math.floor(62*Math.random())));return u.join("")}(50);const{callback:u,"expired-callback":d}=this.params;if(u)try{u(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const nh=oE("rcb"),wE=new Vo(3e4,6e4);class ME{constructor(){var u;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(u=or().grecaptcha)||void 0===u||!u.render)}load(u,d=""){return se(function jv(p){return p.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(p)}(d),u,"argument-error"),this.shouldResolveImmediately(d)&&Kr(or().grecaptcha)?Promise.resolve(or().grecaptcha):new Promise((g,C)=>{const P=or().setTimeout(()=>{C(Zt(u,"network-request-failed"))},wE.get());or()[nh]=()=>{or().clearTimeout(P),delete or()[nh];const U=or().grecaptcha;if(!U||!Kr(U))return void C(Zt(u,"internal-error"));const ie=U.render;U.render=(ye,Oe)=>{const be=ie(ye,Oe);return this.counter++,be},this.hostLanguage=d,g(U)},ms(`https://www.google.com/recaptcha/api.js??${(0,J.xO)({onload:nh,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(P),C(Zt(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){var d;return!(null===(d=or().grecaptcha)||void 0===d||!d.render)&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class EE{load(u){return(0,I.Z)(function*(){return new Zk(u)})()}clearedOneInstance(){}}const gg="recaptcha",OE={theme:"light",type:"image"};class Yk{constructor(u,d,g=Object.assign({},OE)){this.parameters=g,this.type=gg,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=vn(u),this.isInvisible="invisible"===this.parameters.size,se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const C="string"==typeof d?document.getElementById(d):d;se(C,this.auth,"argument-error"),this.container=C,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new EE:new ME,this.validateStartingState()}verify(){var u=this;return(0,I.Z)(function*(){u.assertNotDestroyed();const d=yield u.render(),g=u.getAssertedRecaptcha();return g.getResponse(d)||new Promise(P=>{const S=U=>{U&&(u.tokenChangeListeners.delete(S),P(U))};u.tokenChangeListeners.add(S),u.isInvisible&&g.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){se(!this.parameters.sitekey,this.auth,"argument-error"),se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return d=>{if(this.tokenChangeListeners.forEach(g=>g(d)),"function"==typeof u)u(d);else if("string"==typeof u){const g=or()[u];"function"==typeof g&&g(d)}}}assertNotDestroyed(){se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,I.Z)(function*(){if(yield u.init(),!u.widgetId){let d=u.container;if(!u.isInvisible){const g=document.createElement("div");d.appendChild(g),d=g}u.widgetId=u.getAssertedRecaptcha().render(d,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,I.Z)(function*(){se(Fo()&&!Vc(),u.auth,"internal-error"),yield function IE(){let p=null;return new Promise(u=>{"complete"!==document.readyState?(p=()=>u(),window.addEventListener("load",p)):u()}).catch(u=>{throw p&&window.removeEventListener("load",p),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const d=yield function wc(p){return ps.apply(this,arguments)}(u.auth);se(d,u.auth,"internal-error"),u.parameters.sitekey=d})()}getAssertedRecaptcha(){return se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class mi{constructor(u,d){this.verificationId=u,this.onConfirmation=d}confirm(u){const d=Aa._fromVerification(this.verificationId,u);return this.onConfirmation(d)}}function _g(){return(_g=(0,I.Z)(function*(p,u,d){const g=vn(p),C=yield jc(g,u,(0,J.m9)(d));return new mi(C,P=>Wd(g,P))})).apply(this,arguments)}function rh(){return(rh=(0,I.Z)(function*(p,u,d){const g=(0,J.m9)(p);yield hu(!1,g,"phone");const C=yield jc(g.auth,u,(0,J.m9)(d));return new mi(C,P=>Iv(g,P))})).apply(this,arguments)}function mg(){return(mg=(0,I.Z)(function*(p,u,d){const g=(0,J.m9)(p),C=yield jc(g.auth,u,(0,J.m9)(d));return new mi(C,P=>Jf(g,P))})).apply(this,arguments)}function jc(p,u,d){return yg.apply(this,arguments)}function yg(){return yg=(0,I.Z)(function*(p,u,d){var g;const C=yield d.verify();try{let P;if(se("string"==typeof C,p,"argument-error"),se(d.type===gg,p,"argument-error"),P="string"==typeof u?{phoneNumber:u}:u,"session"in P){const S=P.session;if("phoneNumber"in P)return se("enroll"===S.type,p,"internal-error"),(yield function gE(p,u){return X(p,"POST","/v2/accounts/mfaEnrollment:start",le(p,u))}(p,{idToken:S.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:C}})).phoneSessionInfo.sessionInfo;{se("signin"===S.type,p,"internal-error");const U=(null===(g=P.multiFactorHint)||void 0===g?void 0:g.uid)||P.multiFactorUid;return se(U,p,"missing-multi-factor-info"),(yield function Kk(p,u){return X(p,"POST","/v2/accounts/mfaSignIn:start",le(p,u))}(p,{mfaPendingCredential:S.credential,mfaEnrollmentId:U,phoneSignInInfo:{recaptchaToken:C}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:S}=yield function zf(p,u){return Tc.apply(this,arguments)}(p,{phoneNumber:P.phoneNumber,recaptchaToken:C});return S}}finally{d._reset()}}),yg.apply(this,arguments)}function ih(){return(ih=(0,I.Z)(function*(p,u){yield Hd((0,J.m9)(p),u)})).apply(this,arguments)}let $c=(()=>{class p{constructor(d){this.providerId=p.PROVIDER_ID,this.auth=vn(d)}verifyPhoneNumber(d,g){return jc(this.auth,d,(0,J.m9)(g))}static credential(d,g){return Aa._fromVerification(d,g)}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:g,temporaryProof:C}=d;return g&&C?Aa._fromTokenResponse(g,C):null}}return p.PROVIDER_ID="phone",p.PHONE_SIGN_IN_METHOD="phone",p})();function St(p,u){return u?Q(u):(se(p._popupRedirectResolver,p,"argument-error"),p._popupRedirectResolver)}class Pu extends Ta{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return Gs(u,this._buildIdpRequest())}_linkToIdToken(u,d){return Gs(u,this._buildIdpRequest(d))}_getReauthenticationResolver(u){return Gs(u,this._buildIdpRequest())}_buildIdpRequest(u){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(d.idToken=u),d}}function oh(p){return Ov(p.auth,new Pu(p),p.bypassAuthState)}function yi(p){const{auth:u,user:d}=p;return se(d,u,"internal-error"),Ev(d,new Pu(p),p.bypassAuthState)}function TE(p){return sh.apply(this,arguments)}function sh(){return(sh=(0,I.Z)(function*(p){const{auth:u,user:d}=p;return se(d,u,"internal-error"),Hd(d,new Pu(p),p.bypassAuthState)})).apply(this,arguments)}class Va{constructor(u,d,g,C,P=!1){this.auth=u,this.resolver=g,this.user=C,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var u=this;return new Promise(function(){var d=(0,I.Z)(function*(g,C){u.pendingPromise={resolve:g,reject:C};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(P){u.reject(P)}});return function(g,C){return d.apply(this,arguments)}}())}onAuthEvent(u){var d=this;return(0,I.Z)(function*(){const{urlResponse:g,sessionId:C,postBody:P,tenantId:S,error:U,type:ie}=u;if(U)return void d.reject(U);const ye={auth:d.auth,requestUri:g,sessionId:C,tenantId:S||void 0,postBody:P||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(ie)(ye))}catch(Oe){d.reject(Oe)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return oh;case"linkViaPopup":case"linkViaRedirect":return TE;case"reauthViaPopup":case"reauthViaRedirect":return yi;default:Lt(this.auth,"internal-error")}}resolve(u){an(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){an(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ui=new Vo(2e3,1e4);function vg(){return(vg=(0,I.Z)(function*(p,u,d){const g=vn(p);it(p,u,Li);const C=St(g,d);return new ah(g,"signInViaPopup",u,C).executeNotNull()})).apply(this,arguments)}function Wo(){return(Wo=(0,I.Z)(function*(p,u,d){const g=(0,J.m9)(p);it(g.auth,u,Li);const C=St(g.auth,d);return new ah(g.auth,"reauthViaPopup",u,C,g).executeNotNull()})).apply(this,arguments)}function Cg(){return(Cg=(0,I.Z)(function*(p,u,d){const g=(0,J.m9)(p);it(g.auth,u,Li);const C=St(g.auth,d);return new ah(g.auth,"linkViaPopup",u,C,g).executeNotNull()})).apply(this,arguments)}let ah=(()=>{class p extends Va{constructor(d,g,C,P,S){super(d,g,P,S),this.provider=C,this.authWindow=null,this.pollId=null,p.currentPopupAction&&p.currentPopupAction.cancel(),p.currentPopupAction=this}executeNotNull(){var d=this;return(0,I.Z)(function*(){const g=yield d.execute();return se(g,d.auth,"internal-error"),g})()}onExecution(){var d=this;return(0,I.Z)(function*(){an(1===d.filter.length,"Popup operations only handle one event");const g=ro();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],g),d.authWindow.associatedEvent=g,d.resolver._originValidation(d.auth).catch(C=>{d.reject(C)}),d.resolver._isIframeWebStorageSupported(d.auth,C=>{C||d.reject(Zt(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(Zt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,p.currentPopupAction=null}pollUserCancellation(){const d=()=>{var g,C;this.pollId=null!==(C=null===(g=this.authWindow)||void 0===g?void 0:g.window)&&void 0!==C&&C.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Zt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,Ui.get())};d()}}return p.currentPopupAction=null,p})();const Wv="pendingRedirect",Hc=new Map;class SE extends Va{constructor(u,d,g=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,g),this.eventId=null}execute(){var u=()=>super.execute,d=this;return(0,I.Z)(function*(){let g=Hc.get(d.auth._key());if(!g){try{const P=(yield function ze(p,u){return ch.apply(this,arguments)}(d.resolver,d.auth))?yield u().call(d):null;g=()=>Promise.resolve(P)}catch(C){g=()=>Promise.reject(C)}Hc.set(d.auth._key(),g)}return d.bypassAuthState||Hc.set(d.auth._key(),()=>Promise.resolve(null)),g()})()}onAuthEvent(u){var d=()=>super.onAuthEvent,g=this;return(0,I.Z)(function*(){if("signInViaRedirect"===u.type)return d().call(g,u);if("unknown"!==u.type){if(u.eventId){const C=yield g.auth._redirectUserForId(u.eventId);if(C)return g.user=C,d().call(g,u);g.resolve(null)}}else g.resolve(null)})()}onExecution(){return(0,I.Z)(function*(){})()}cleanUp(){}}function ch(){return(ch=(0,I.Z)(function*(p,u){const d=Ua(u),g=Mg(p);if(!(yield g._isAvailable()))return!1;const C="true"===(yield g._get(d));return yield g._remove(d),C})).apply(this,arguments)}function Gv(p,u){return wg.apply(this,arguments)}function wg(){return(wg=(0,I.Z)(function*(p,u){return Mg(p)._set(Ua(u),"true")})).apply(this,arguments)}function Pg(p,u){Hc.set(p._key(),u)}function Mg(p){return Q(p._redirectPersistence)}function Ua(p){return et(Wv,p.config.apiKey,p.name)}function RE(p,u,d){return function kE(p,u,d){return Eg.apply(this,arguments)}(p,u,d)}function Eg(){return(Eg=(0,I.Z)(function*(p,u,d){const g=vn(p);it(p,u,Li),yield g._initializationPromise;const C=St(g,d);return yield Gv(C,g),C._openRedirect(g,u,"signInViaRedirect")})).apply(this,arguments)}function NE(p,u,d){return function FE(p,u,d){return ce.apply(this,arguments)}(p,u,d)}function ce(){return(ce=(0,I.Z)(function*(p,u,d){const g=(0,J.m9)(p);it(g.auth,u,Li),yield g.auth._initializationPromise;const C=St(g.auth,d);yield Gv(C,g.auth);const P=yield uh(g);return C._openRedirect(g.auth,u,"reauthViaRedirect",P)})).apply(this,arguments)}function Mt(p,u,d){return function Bt(p,u,d){return Vt.apply(this,arguments)}(p,u,d)}function Vt(){return(Vt=(0,I.Z)(function*(p,u,d){const g=(0,J.m9)(p);it(g.auth,u,Li),yield g.auth._initializationPromise;const C=St(g.auth,d);yield hu(!1,g,u.providerId),yield Gv(C,g.auth);const P=yield uh(g);return C._openRedirect(g.auth,u,"linkViaRedirect",P)})).apply(this,arguments)}function lh(){return(lh=(0,I.Z)(function*(p,u){return yield vn(p)._initializationPromise,Ys(p,u,!1)})).apply(this,arguments)}function Ys(p,u){return oo.apply(this,arguments)}function oo(){return(oo=(0,I.Z)(function*(p,u,d=!1){const g=vn(p),C=St(g,u),S=yield new SE(g,C,d).execute();return S&&!d&&(delete S.user._redirectEventId,yield g._persistUserIfCurrent(S.user),yield g._setRedirectUser(null,u)),S})).apply(this,arguments)}function uh(p){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,I.Z)(function*(p){const u=ro(`${p.uid}:::`);return p._redirectEventId=u,yield p.auth._setRedirectUser(p),yield p.auth._persistUserIfCurrent(p),u})).apply(this,arguments)}class VE{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let d=!1;return this.consumers.forEach(g=>{this.isEventForConsumer(u,g)&&(d=!0,this.sendToConsumer(u,g),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function vs(p){switch(p.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Br(p);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=u,d=!0)),d}sendToConsumer(u,d){var g;if(u.error&&!Br(u)){const C=(null===(g=u.error.code)||void 0===g?void 0:g.split("auth/")[1])||"internal-error";d.onError(Zt(this.auth,C))}else d.onAuthEvent(u)}isEventForConsumer(u,d){const g=null===d.eventId||!!u.eventId&&u.eventId===d.eventId;return d.filter.includes(u.type)&&g}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Og(u))}saveEventToCache(u){this.cachedEventUids.add(Og(u)),this.lastProcessedEventTime=Date.now()}}function Og(p){return[p.type,p.eventId,p.sessionId,p.tenantId].filter(u=>u).join("-")}function Br({type:p,error:u}){return"unknown"===p&&"auth/no-auth-event"===u?.code}function Ig(p){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,I.Z)(function*(p,u={}){return X(p,"GET","/v1/projects",u)})).apply(this,arguments)}const Cs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UE=/^https?/;function bg(){return(bg=(0,I.Z)(function*(p){if(p.config.emulator)return;const{authorizedDomains:u}=yield Ig(p);for(const d of u)try{if(BE(d))return}catch{}Lt(p,"unauthorized-domain")})).apply(this,arguments)}function BE(p){const u=Hn(),{protocol:d,hostname:g}=new URL(u);if(p.startsWith("chrome-extension://")){const S=new URL(p);return""===S.hostname&&""===g?"chrome-extension:"===d&&p.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===d&&S.hostname===g}if(!UE.test(d))return!1;if(Cs.test(p))return g===p;const C=p.replace(/\./g,"\\.");return new RegExp("^(.+\\."+C+"|"+C+")$","i").test(g)}const Tg=new Vo(3e4,6e4);function dh(){const p=or().___jsl;if(p?.H)for(const u of Object.keys(p.H))if(p.H[u].r=p.H[u].r||[],p.H[u].L=p.H[u].L||[],p.H[u].r=[...p.H[u].L],p.CP)for(let d=0;d<p.CP.length;d++)p.CP[d]=null}let zc=null;const Zv=new Vo(5e3,15e3),Ag="__/auth/iframe",Yv="emulator/auth/iframe",Qv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jv(p){const u=p.config;se(u.authDomain,p,"auth-domain-config-required");const d=u.emulator?G(u,Yv):`https://${p.config.authDomain}/${Ag}`,g={apiKey:u.apiKey,appName:p.name,v:We.SDK_VERSION},C=Xv.get(p.config.apiHost);C&&(g.eid=C);const P=p._getFrameworks();return P.length&&(g.fw=P.join(",")),`${d}?${(0,J.xO)(g).slice(1)}`}function Sg(){return Sg=(0,I.Z)(function*(p){const u=yield function jE(p){return zc=zc||function Kv(p){return new Promise((u,d)=>{var g,C,P;function S(){dh(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{dh(),d(Zt(p,"network-request-failed"))},timeout:Tg.get()})}if(null!==(C=null===(g=or().gapi)||void 0===g?void 0:g.iframes)&&void 0!==C&&C.Iframe)u(gapi.iframes.getContext());else{if(null===(P=or().gapi)||void 0===P||!P.load){const U=oE("iframefcb");return or()[U]=()=>{gapi.load?S():d(Zt(p,"network-request-failed"))},ms(`https://apis.google.com/js/api.js?onload=${U}`).catch(ie=>d(ie))}S()}}).catch(u=>{throw zc=null,u})}(p),zc}(p),d=or().gapi;return se(d,p,"internal-error"),u.open({where:document.body,url:Jv(p),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qv,dontclear:!0},g=>new Promise(function(){var C=(0,I.Z)(function*(P,S){yield g.restyle({setHideOnLeave:!1});const U=Zt(p,"network-request-failed"),ie=or().setTimeout(()=>{S(U)},Zv.get());function ye(){or().clearTimeout(ie),P(g)}g.ping(ye).then(ye,()=>{S(U)})});return function(P,S){return C.apply(this,arguments)}}()))}),Sg.apply(this,arguments)}const $E={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class eC{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const tC="__/auth/handler",nC="emulator/auth/handler",hh=encodeURIComponent("fac");function Go(p,u,d,g,C,P){return xg.apply(this,arguments)}function xg(){return(xg=(0,I.Z)(function*(p,u,d,g,C,P){se(p.config.authDomain,p,"auth-domain-config-required"),se(p.config.apiKey,p,"invalid-api-key");const S={apiKey:p.config.apiKey,appName:p.name,authType:d,redirectUrl:g,v:We.SDK_VERSION,eventId:C};if(u instanceof Li){u.setDefaultLanguage(p.languageCode),S.providerId=u.providerId||"",(0,J.xb)(u.getCustomParameters())||(S.customParameters=JSON.stringify(u.getCustomParameters()));for(const[Oe,be]of Object.entries(P||{}))S[Oe]=be}if(u instanceof Dc){const Oe=u.getScopes().filter(be=>""!==be);Oe.length>0&&(S.scopes=Oe.join(","))}p.tenantId&&(S.tid=p.tenantId);const U=S;for(const Oe of Object.keys(U))void 0===U[Oe]&&delete U[Oe];const ie=yield p._getAppCheckToken(),ye=ie?`#${hh}=${encodeURIComponent(ie)}`:"";return`${function ph({config:p}){return p.emulator?G(p,nC):`https://${p.authDomain}/${tC}`}(p)}?${(0,J.xO)(U).slice(1)}${ye}`})).apply(this,arguments)}const Wc="webStorageSupport",gh=class fh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ka,this._completeRedirectFn=Ys,this._overrideRedirectResult=Pg}_openPopup(u,d,g,C){var P=this;return(0,I.Z)(function*(){var S;an(null===(S=P.eventManagers[u._key()])||void 0===S?void 0:S.manager,"_initialize() not called before _openPopup()");const U=yield Go(u,d,g,Hn(),C);return function zE(p,u,d,g=500,C=600){const P=Math.max((window.screen.availHeight-C)/2,0).toString(),S=Math.max((window.screen.availWidth-g)/2,0).toString();let U="";const ie=Object.assign(Object.assign({},$E),{width:g.toString(),height:C.toString(),top:P,left:S}),ye=(0,J.z$)().toLowerCase();d&&(U=zt(ye)?"_blank":d),ke(ye)&&(u=u||"http://localhost",ie.scrollbars="yes");const Oe=Object.entries(ie).reduce((Pn,[Yo,Au])=>`${Pn}${Yo}=${Au},`,"");if(function Qe(p=(0,J.z$)()){var u;return de(p)&&!(null===(u=window.navigator)||void 0===u||!u.standalone)}(ye)&&"_self"!==U)return function WE(p,u){const d=document.createElement("a");d.href=p,d.target=u;const g=document.createEvent("MouseEvent");g.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(g)}(u||"",U),new eC(null);const be=window.open(u||"",U,Oe);se(be,p,"popup-blocked");try{be.focus()}catch{}return new eC(be)}(u,U,ro())})()}_openRedirect(u,d,g,C){var P=this;return(0,I.Z)(function*(){return yield P._originValidation(u),function Tr(p){or().location.href=p}(yield Go(u,d,g,Hn(),C)),new Promise(()=>{})})()}_initialize(u){const d=u._key();if(this.eventManagers[d]){const{manager:C,promise:P}=this.eventManagers[d];return C?Promise.resolve(C):(an(P,"If manager is not set, promise should be"),P)}const g=this.initAndGetManager(u);return this.eventManagers[d]={promise:g},g.catch(()=>{delete this.eventManagers[d]}),g}initAndGetManager(u){var d=this;return(0,I.Z)(function*(){const g=yield function Dg(p){return Sg.apply(this,arguments)}(u),C=new VE(u);return g.register("authEvent",P=>(se(P?.authEvent,u,"invalid-auth-event"),{status:C.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[u._key()]={manager:C},d.iframes[u._key()]=g,C})()}_isIframeWebStorageSupported(u,d){this.iframes[u._key()].send(Wc,{type:Wc},C=>{var P;const S=null===(P=C?.[0])||void 0===P?void 0:P[Wc];void 0!==S&&d(!!S),Lt(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const d=u._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function qv(p){return bg.apply(this,arguments)}(u)),this.originValidationPromises[d]}get _shouldInitProactively(){return te()||fr()||de()}};class rC{constructor(u){this.factorId=u}_process(u,d,g){switch(d.type){case"enroll":return this._finalizeEnroll(u,d.credential,g);case"signin":return this._finalizeSignIn(u,d.credential);default:return mn("unexpected MultiFactorSessionType")}}}class _h extends rC{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new _h(u)}_finalizeEnroll(u,d,g){return function Fk(p,u){return X(p,"POST","/v2/accounts/mfaEnrollment:finalize",le(p,u))}(u,{idToken:d,displayName:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,d){return function Uv(p,u){return X(p,"POST","/v2/accounts/mfaSignIn:finalize",le(p,u))}(u,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let GE=(()=>{class p{constructor(){}static assertion(d){return _h._fromCredential(d)}}return p.FACTOR_ID="phone",p})();var mh="@firebase/auth";class KE{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var d=this;return(0,I.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const d=this.auth.onIdTokenChanged(g=>{u(g?.stsTokenManager.accessToken||null)});this.internalListeners.set(u,d),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const d=this.internalListeners.get(u);d&&(this.internalListeners.delete(u),d(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ws(){return window}(0,J.Pz)("authIdTokenMaxAge"),function Qk(p){(0,We._registerComponent)(new Dn.wA("auth",(u,{options:d})=>{const g=u.getProvider("app").getImmediate(),C=u.getProvider("heartbeat"),P=u.getProvider("app-check-internal"),{apiKey:S,authDomain:U}=g.options;se(S&&!S.includes(":"),"invalid-api-key",{appName:g.name});const ie={apiKey:S,authDomain:U,clientPlatform:p,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Se(p)},ye=new Fi(g,C,P,ie);return function xk(p,u){const d=u?.persistence||[],g=(Array.isArray(d)?d:[d]).map(Q);u?.errorMap&&p._updateErrorMap(u.errorMap),p._initializeWithPersistence(g,u?.popupRedirectResolver)}(ye,d),ye},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,d,g)=>{u.getProvider("auth-internal").initialize()})),(0,We._registerComponent)(new Dn.wA("auth-internal",u=>{const d=vn(u.getProvider("auth").getImmediate());return new KE(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,We.registerVersion)(mh,"1.3.2",function ZE(p){switch(p){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(p)),(0,We.registerVersion)(mh,"1.3.2","esm2017")}("Browser");function Ch(){return Ch=(0,I.Z)(function*(p,u,d){var g;const{BuildInfo:C}=ws();an(u.sessionId,"AuthEvent did not contain a session ID");const P=yield function sC(p){return Kc.apply(this,arguments)}(u.sessionId),S={};return de()?S.ibi=C.packageName:ba()?S.apn=C.packageName:Lt(p,"operation-not-supported-in-this-environment"),C.displayName&&(S.appDisplayName=C.displayName),S.sessionId=P,Go(p,d,u.type,void 0,null!==(g=u.eventId)&&void 0!==g?g:void 0,S)}),Ch.apply(this,arguments)}function Ng(){return(Ng=(0,I.Z)(function*(p){const{BuildInfo:u}=ws(),d={};de()?d.iosBundleId=u.packageName:ba()?d.androidPackageName=u.packageName:Lt(p,"operation-not-supported-in-this-environment"),yield Ig(p,d)})).apply(this,arguments)}function qc(){return(qc=(0,I.Z)(function*(p,u,d){const{cordova:g}=ws();let C=()=>{};try{yield new Promise((P,S)=>{let U=null;function ie(){var be;P();const Pn=null===(be=g.plugins.browsertab)||void 0===be?void 0:be.close;"function"==typeof Pn&&Pn(),"function"==typeof d?.close&&d.close()}function ye(){U||(U=window.setTimeout(()=>{S(Zt(p,"redirect-cancelled-by-user"))},2e3))}function Oe(){"visible"===document?.visibilityState&&ye()}u.addPassiveListener(ie),document.addEventListener("resume",ye,!1),ba()&&document.addEventListener("visibilitychange",Oe,!1),C=()=>{u.removePassiveListener(ie),document.removeEventListener("resume",ye,!1),document.removeEventListener("visibilitychange",Oe,!1),U&&window.clearTimeout(U)}})}finally{C()}})).apply(this,arguments)}function Kc(){return(Kc=(0,I.Z)(function*(p){const u=function Lg(p){if(an(/[0-9a-zA-Z]+/.test(p),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(p);const u=new ArrayBuffer(p.length),d=new Uint8Array(u);for(let g=0;g<p.length;g++)d[g]=p.charCodeAt(g);return d}(p),d=yield crypto.subtle.digest("SHA-256",u);return Array.from(new Uint8Array(d)).map(C=>C.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class aC extends VE{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(u=>{this.resolveInialized=u})}addPassiveListener(u){this.passiveListeners.add(u)}removePassiveListener(u){this.passiveListeners.delete(u)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(u){return this.resolveInialized(),this.passiveListeners.forEach(d=>d(u)),super.onEvent(u)}initialized(){var u=this;return(0,I.Z)(function*(){yield u.initPromise})()}}function Vg(p){return Ug.apply(this,arguments)}function Ug(){return(Ug=(0,I.Z)(function*(p){const u=yield Bg()._get(Ph(p));return u&&(yield Bg()._remove(Ph(p))),u})).apply(this,arguments)}function $a(){const p=[];for(let d=0;d<20;d++){const g=Math.floor(62*Math.random());p.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(g))}return p.join("")}function Bg(){return Q(yu)}function Ph(p){return et("authEvent",p.config.apiKey,p.name)}function Mh(p){if(!p?.includes("?"))return{};const[u,...d]=p.split("?");return(0,J.zd)(d.join("?"))}const Dr=class JE{constructor(){this._redirectPersistence=ka,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ys,this._overrideRedirectResult=Pg}_initialize(u){var d=this;return(0,I.Z)(function*(){const g=u._key();let C=d.eventManagers.get(g);return C||(C=new aC(u),d.eventManagers.set(g,C),d.attachCallbackListeners(u,C)),C})()}_openPopup(u){Lt(u,"operation-not-supported-in-this-environment")}_openRedirect(u,d,g,C){var P=this;return(0,I.Z)(function*(){!function Fg(p){var u,d,g,C,P,S,U,ie,ye,Oe;const be=ws();se("function"==typeof(null===(u=be?.universalLinks)||void 0===u?void 0:u.subscribe),p,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),se(typeof(null===(d=be?.BuildInfo)||void 0===d?void 0:d.packageName)<"u",p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),se("function"==typeof(null===(P=null===(C=null===(g=be?.cordova)||void 0===g?void 0:g.plugins)||void 0===C?void 0:C.browsertab)||void 0===P?void 0:P.openUrl),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),se("function"==typeof(null===(ie=null===(U=null===(S=be?.cordova)||void 0===S?void 0:S.plugins)||void 0===U?void 0:U.browsertab)||void 0===ie?void 0:ie.isAvailable),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),se("function"==typeof(null===(Oe=null===(ye=be?.cordova)||void 0===ye?void 0:ye.InAppBrowser)||void 0===Oe?void 0:Oe.open),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(u);const S=yield P._initialize(u);yield S.initialized(),S.resetRedirect(),function xE(){Hc.clear()}(),yield P._originValidation(u);const U=function cC(p,u,d=null){return{type:u,eventId:d,urlResponse:null,sessionId:$a(),postBody:null,tenantId:p.tenantId,error:Zt(p,"no-auth-event")}}(u,g,C);yield function lC(p,u){return Bg()._set(Ph(p),u)}(u,U);const ie=yield function Jk(p,u,d){return Ch.apply(this,arguments)}(u,U,d),ye=yield function qo(p){const{cordova:u}=ws();return new Promise(d=>{u.plugins.browsertab.isAvailable(g=>{let C=null;g?u.plugins.browsertab.openUrl(p):C=u.InAppBrowser.open(p,function Fe(p=(0,J.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(p)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(p)}()?"_blank":"_system","location=yes"),d(C)})})}(ie);return function QE(p,u,d){return qc.apply(this,arguments)}(u,S,ye)})()}_isIframeWebStorageSupported(u,d){throw new Error("Method not implemented.")}_originValidation(u){const d=u._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function oC(p){return Ng.apply(this,arguments)}(u)),this.originValidationPromises[d]}attachCallbackListeners(u,d){const{universalLinks:g,handleOpenURL:C,BuildInfo:P}=ws(),S=setTimeout((0,I.Z)(function*(){yield Vg(u),d.onEvent(Eh())}),500),U=function(){var Oe=(0,I.Z)(function*(be){clearTimeout(S);const Pn=yield Vg(u);let Yo=null;Pn&&be?.url&&(Yo=function wh(p,u){var d,g;const C=function Ou(p){const u=Mh(p),d=u.link?decodeURIComponent(u.link):void 0,g=Mh(d).link,C=u.deep_link_id?decodeURIComponent(u.deep_link_id):void 0;return Mh(C).link||C||g||d||p}(u);if(C.includes("/__/auth/callback")){const P=Mh(C),S=P.firebaseError?function uC(p){try{return JSON.parse(p)}catch{return null}}(decodeURIComponent(P.firebaseError)):null,U=null===(g=null===(d=S?.code)||void 0===d?void 0:d.split("auth/"))||void 0===g?void 0:g[1],ie=U?Zt(U):null;return ie?{type:p.type,eventId:p.eventId,tenantId:p.tenantId,error:ie,urlResponse:null,sessionId:null,postBody:null}:{type:p.type,eventId:p.eventId,tenantId:p.tenantId,sessionId:p.sessionId,urlResponse:C,postBody:null}}return null}(Pn,be.url)),d.onEvent(Yo||Eh())});return function(Pn){return Oe.apply(this,arguments)}}();typeof g<"u"&&"function"==typeof g.subscribe&&g.subscribe(null,U);const ie=C,ye=`${P.packageName.toLowerCase()}://`;ws().handleOpenURL=function(){var Oe=(0,I.Z)(function*(be){if(be.toLowerCase().startsWith(ye)&&U({url:be}),"function"==typeof ie)try{ie(be)}catch(Pn){console.error(Pn)}});return function(be){return Oe.apply(this,arguments)}}()}};function Eh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Zt("no-auth-event")}}function Ko(){var p;return(null===(p=self?.location)||void 0===p?void 0:p.protocol)||null}function jg(p=(0,J.z$)()){return!("file:"!==Ko()&&"ionic:"!==Ko()&&"capacitor:"!==Ko()||!p.toLowerCase().match(/iphone|ipad|ipod|android/))}function nO(){try{const p=self.localStorage,u=ro();if(p)return p.setItem(u,"1"),p.removeItem(u),!function tO(p=(0,J.z$)()){return function Qc(){return(0,J.w1)()&&11===document?.documentMode}()||function eN(p=(0,J.z$)()){return/Edge\/\d+/.test(p)}(p)}()||(0,J.hl)()}catch{return hC()&&(0,J.hl)()}return!1}function hC(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function pC(){return(function Yc(){return"http:"===Ko()||"https:"===Ko()}()||(0,J.ru)()||jg())&&!function $g(){return(0,J.b$)()||(0,J.UG)()}()&&nO()&&!hC()}function rO(){return jg()&&typeof document<"u"}function fC(){return(fC=(0,I.Z)(function*(){return!!rO()&&new Promise(p=>{const u=setTimeout(()=>{p(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(u),p(!0)})})})).apply(this,arguments)}const Bi={LOCAL:"local",NONE:"none",SESSION:"session"},Iu=se,qn="persistence";function Ha(p){return Hg.apply(this,arguments)}function Hg(){return(Hg=(0,I.Z)(function*(p){yield p._initializationPromise;const u=za(),d=et(qn,p.config.apiKey,p.name);u&&u.setItem(d,p._getPersistence())})).apply(this,arguments)}function za(){var p;try{return(null===(p=function Xc(){return typeof window<"u"?window:null}())||void 0===p?void 0:p.sessionStorage)||null}catch{return null}}const gC=se;class Po{constructor(){this.browserResolver=Q(gh),this.cordovaResolver=Q(Dr),this.underlyingResolver=null,this._redirectPersistence=ka,this._completeRedirectFn=Ys,this._overrideRedirectResult=Pg}_initialize(u){var d=this;return(0,I.Z)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(u)})()}_openPopup(u,d,g,C){var P=this;return(0,I.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(u,d,g,C)})()}_openRedirect(u,d,g,C){var P=this;return(0,I.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(u,d,g,C)})()}_isIframeWebStorageSupported(u,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(u,d)}_originValidation(u){return this.assertedUnderlyingResolver._originValidation(u)}get _shouldInitProactively(){return rO()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return gC(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var u=this;return(0,I.Z)(function*(){if(u.underlyingResolver)return;const d=yield function tN(){return fC.apply(this,arguments)}();u.underlyingResolver=d?u.cordovaResolver:u.browserResolver})()}}function Jc(p){return p.unwrap()}function nN(p){return aO(p)}function aO(p){const{_tokenResponse:u}=p instanceof J.ZR?p.customData:p;if(!u)return null;if(!(p instanceof J.ZR)&&"temporaryProof"in u&&"phoneNumber"in u)return $c.credentialFromResult(p);const d=u.providerId;if(!d||d===ft.PASSWORD)return null;let g;switch(d){case ft.GOOGLE:g=Bo;break;case ft.FACEBOOK:g=Pv;break;case ft.GITHUB:g=uu;break;case ft.TWITTER:g=Vd;break;default:const{oauthIdToken:C,oauthAccessToken:P,oauthTokenSecret:S,pendingToken:U,nonce:ie}=u;return P||S||C||U?U?d.startsWith("saml.")?Xr._create(d,U):fi._fromParams({providerId:d,signInMethod:d,pendingToken:U,idToken:C,accessToken:P}):new Sc(d).credential({idToken:C,accessToken:P,rawNonce:ie}):null}return p instanceof J.ZR?g.credentialFromError(p):g.credentialFromResult(p)}function Xt(p,u){return u.catch(d=>{throw d instanceof J.ZR&&function sO(p,u){var d;const g=null===(d=u.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===u?.code)u.resolver=new rN(p,function fE(p,u){var d;const g=(0,J.m9)(p),C=u;return se(u.customData.operationType,g,"argument-error"),se(null===(d=C.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,g,"argument-error"),Rv._fromError(g,C)}(p,u));else if(g){const C=aO(u),P=u;C&&(P.credential=C,P.tenantId=g.tenantId||void 0,P.email=g.email||void 0,P.phoneNumber=g.phoneNumber||void 0)}}(p,d),d}).then(d=>{const C=d.user;return{operationType:d.operationType,credential:nN(d),additionalUserInfo:Yd(d),user:Zo.getOrCreate(C)}})}function bu(p,u){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,I.Z)(function*(p,u){const d=yield u;return{verificationId:d.verificationId,confirm:g=>Xt(p,d.confirm(g))}})).apply(this,arguments)}class rN{constructor(u,d){this.resolver=d,this.auth=function oO(p){return p.wrapped()}(u)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(u){return Xt(Jc(this.auth),this.resolver.resolveSignIn(u))}}class Zo{constructor(u){this._delegate=u,this.multiFactor=function Uk(p){const u=(0,J.m9)(p);return Nv.has(u)||Nv.set(u,kv._fromUser(u)),Nv.get(u)}(u)}static getOrCreate(u){return Zo.USER_MAP.has(u)||Zo.USER_MAP.set(u,new Zo(u)),Zo.USER_MAP.get(u)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(u){return this._delegate.getIdTokenResult(u)}getIdToken(u){return this._delegate.getIdToken(u)}linkAndRetrieveDataWithCredential(u){return this.linkWithCredential(u)}linkWithCredential(u){var d=this;return(0,I.Z)(function*(){return Xt(d.auth,Iv(d._delegate,u))})()}linkWithPhoneNumber(u,d){var g=this;return(0,I.Z)(function*(){return bu(g.auth,function bE(p,u,d){return rh.apply(this,arguments)}(g._delegate,u,d))})()}linkWithPopup(u){var d=this;return(0,I.Z)(function*(){return Xt(d.auth,function zv(p,u,d){return Cg.apply(this,arguments)}(d._delegate,u,Po))})()}linkWithRedirect(u){var d=this;return(0,I.Z)(function*(){return yield Ha(vn(d.auth)),Mt(d._delegate,u,Po)})()}reauthenticateAndRetrieveDataWithCredential(u){return this.reauthenticateWithCredential(u)}reauthenticateWithCredential(u){var d=this;return(0,I.Z)(function*(){return Xt(d.auth,Jf(d._delegate,u))})()}reauthenticateWithPhoneNumber(u,d){return bu(this.auth,function Hv(p,u,d){return mg.apply(this,arguments)}(this._delegate,u,d))}reauthenticateWithPopup(u){return Xt(this.auth,function DE(p,u,d){return Wo.apply(this,arguments)}(this._delegate,u,Po))}reauthenticateWithRedirect(u){var d=this;return(0,I.Z)(function*(){return yield Ha(vn(d.auth)),NE(d._delegate,u,Po)})()}sendEmailVerification(u){return function Ke(p,u){return Sa.apply(this,arguments)}(this._delegate,u)}unlink(u){var d=this;return(0,I.Z)(function*(){return yield function du(p,u){return $d.apply(this,arguments)}(d._delegate,u),d})()}updateEmail(u){return function gu(p,u){return ys((0,J.m9)(p),u,null)}(this._delegate,u)}updatePassword(u){return function Tv(p,u){return ys((0,J.m9)(p),null,u)}(this._delegate,u)}updatePhoneNumber(u){return function zo(p,u){return ih.apply(this,arguments)}(this._delegate,u)}updateProfile(u){return function Fc(p,u){return no.apply(this,arguments)}(this._delegate,u)}verifyBeforeUpdateEmail(u,d){return function bv(p,u,d){return Zs.apply(this,arguments)}(this._delegate,u,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Zo.USER_MAP=new WeakMap;const Tu=se;let _C=(()=>{class p{constructor(d,g){if(this.app=d,g.isInitialized())return this._delegate=g.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:C}=d.options;Tu(C,"invalid-api-key",{appName:d.name}),Tu(C,"invalid-api-key",{appName:d.name});const P=typeof window<"u"?Po:void 0;this._delegate=g.initialize({options:{persistence:cO(C,d.name),popupRedirectResolver:P}}),this._delegate._updateErrorMap(Pr),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Zo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,g){!function Te(p,u,d){const g=vn(p);se(g._canInitEmulator,g,"emulator-config-failed"),se(/^https?:\/\//.test(u),g,"invalid-emulator-scheme");const C=!!d?.disableWarnings,P=aE(u),{host:S,port:U}=function ir(p){const u=aE(p),d=/(\/\/)?([^?#/]+)/.exec(p.substr(u.length));if(!d)return{host:"",port:null};const g=d[2].split("@").pop()||"",C=/^(\[[^\]]+\])(:|$)/.exec(g);if(C){const P=C[1];return{host:P,port:ru(g.substr(P.length+1))}}{const[P,S]=g.split(":");return{host:P,port:ru(S)}}}(u);g.config.emulator={url:`${P}//${S}${null===U?"":`:${U}`}/`},g.settings.appVerificationDisabledForTesting=!0,g.emulatorConfig=Object.freeze({host:S,port:U,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:C})}),C||function cE(){function p(){const u=document.createElement("p"),d=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p())}()}(this._delegate,d,g)}applyActionCode(d){return function kc(p,u){return Jr.apply(this,arguments)}(this._delegate,d)}checkActionCode(d){return ig(this._delegate,d)}confirmPasswordReset(d,g){return function Ir(p,u,d){return br.apply(this,arguments)}(this._delegate,d,g)}createUserWithEmailAndPassword(d,g){var C=this;return(0,I.Z)(function*(){return Xt(C._delegate,function pE(p,u,d){return un.apply(this,arguments)}(C._delegate,d,g))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return function qs(p,u){return Ks.apply(this,arguments)}(this._delegate,d)}isSignInWithEmailLink(d){return function Co(p,u){const d=Pe.parseLink(u);return"EMAIL_SIGNIN"===d?.operation}(0,d)}getRedirectResult(){var d=this;return(0,I.Z)(function*(){Tu(pC(),d._delegate,"operation-not-supported-in-this-environment");const g=yield function Ar(p,u){return lh.apply(this,arguments)}(d._delegate,Po);return g?Xt(d._delegate,Promise.resolve(g)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function eO(p,u){vn(p)._logFramework(u)}(this._delegate,d)}onAuthStateChanged(d,g,C){const{next:P,error:S,complete:U}=mC(d,g,C);return this._delegate.onAuthStateChanged(P,S,U)}onIdTokenChanged(d,g,C){const{next:P,error:S,complete:U}=mC(d,g,C);return this._delegate.onIdTokenChanged(P,S,U)}sendSignInLinkToEmail(d,g){return function Xe(p,u,d){return Qt.apply(this,arguments)}(this._delegate,d,g)}sendPasswordResetEmail(d,g){return function gi(p,u,d){return vt.apply(this,arguments)}(this._delegate,d,g||void 0)}setPersistence(d){var g=this;return(0,I.Z)(function*(){let C;switch(function iO(p,u){Iu(Object.values(Bi).includes(u),p,"invalid-persistence-type"),(0,J.b$)()?Iu(u!==Bi.SESSION,p,"unsupported-persistence-type"):(0,J.UG)()?Iu(u===Bi.NONE,p,"unsupported-persistence-type"):hC()?Iu(u===Bi.NONE||u===Bi.LOCAL&&(0,J.hl)(),p,"unsupported-persistence-type"):Iu(u===Bi.NONE||nO(),p,"unsupported-persistence-type")}(g._delegate,d),d){case Bi.SESSION:C=ka;break;case Bi.LOCAL:C=(yield Q(Bc)._isAvailable())?Bc:yu;break;case Bi.NONE:C=bt;break;default:return Lt("argument-error",{appName:g._delegate.name})}return g._delegate.setPersistence(C)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return Xt(this._delegate,function Mv(p){return jd.apply(this,arguments)}(this._delegate))}signInWithCredential(d){return Xt(this._delegate,Wd(this._delegate,d))}signInWithCustomToken(d){return Xt(this._delegate,function Tt(p,u){return ng.apply(this,arguments)}(this._delegate,d))}signInWithEmailAndPassword(d,g){return Xt(this._delegate,function Me(p,u,d){return Wd((0,J.m9)(p),lu.credential(u,d)).catch(function(){var g=(0,I.Z)(function*(C){throw"auth/password-does-not-meet-requirements"===C.code&&qd(p),C});return function(C){return g.apply(this,arguments)}}())}(this._delegate,d,g))}signInWithEmailLink(d,g){return Xt(this._delegate,function fu(p,u,d){return gr.apply(this,arguments)}(this._delegate,d,g))}signInWithPhoneNumber(d,g){return bu(this._delegate,function $v(p,u,d){return _g.apply(this,arguments)}(this._delegate,d,g))}signInWithPopup(d){var g=this;return(0,I.Z)(function*(){return Tu(pC(),g._delegate,"operation-not-supported-in-this-environment"),Xt(g._delegate,function AE(p,u,d){return vg.apply(this,arguments)}(g._delegate,d,Po))})()}signInWithRedirect(d){var g=this;return(0,I.Z)(function*(){return Tu(pC(),g._delegate,"operation-not-supported-in-this-environment"),yield Ha(g._delegate),RE(g._delegate,d,Po)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return function Zd(p,u){return og.apply(this,arguments)}(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return p.Persistence=Bi,p})();function mC(p,u,d){let g=p;"function"!=typeof p&&({next:g,error:u,complete:d}=p);const C=g;return{next:S=>C(S&&Zo.getOrCreate(S)),error:u,complete:d}}function cO(p,u){const d=function so(p,u){const d=za();if(!d)return[];const g=et(qn,p,u);switch(d.getItem(g)){case Bi.NONE:return[bt];case Bi.LOCAL:return[Bc,ka];case Bi.SESSION:return[ka];default:return[]}}(p,u);if(typeof self<"u"&&!d.includes(Bc)&&d.push(Bc),typeof window<"u")for(const g of[yu,ka])d.includes(g)||d.push(g);return d.includes(bt)||d.push(bt),d}class zg{constructor(){this.providerId="phone",this._delegate=new $c(Jc($e.Z.auth()))}static credential(u,d){return $c.credential(u,d)}verifyPhoneNumber(u,d){return this._delegate.verifyPhoneNumber(u,d)}unwrap(){return this._delegate}}zg.PHONE_SIGN_IN_METHOD=$c.PHONE_SIGN_IN_METHOD,zg.PROVIDER_ID=$c.PROVIDER_ID;const lO=se;class Wg{constructor(u,d,g=$e.Z.app()){var C;lO(null===(C=g.options)||void 0===C?void 0:C.apiKey,"invalid-api-key",{appName:g.name}),this._delegate=new Yk(g.auth(),u,d),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function uO(p){p.INTERNAL.registerComponent(new Dn.wA("auth-compat",u=>{const d=u.getProvider("app-compat").getImmediate(),g=u.getProvider("auth");return new _C(d,g)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:lu,FacebookAuthProvider:Pv,GithubAuthProvider:uu,GoogleAuthProvider:Bo,OAuthProvider:Sc,SAMLAuthProvider:Da,PhoneAuthProvider:zg,PhoneMultiFactorGenerator:GE,RecaptchaVerifier:Wg,TwitterAuthProvider:Vd,Auth:_C,AuthCredential:Ta,Error:J.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),p.registerVersion("@firebase/auth-compat","0.4.8")}($e.Z)},861:(hs,wr,Ye)=>{function I(J,We,Ot,on,Dn,dr,ft){try{var ae=J[dr](ft),pe=ae.value}catch(De){return void Ot(De)}ae.done?We(pe):Promise.resolve(pe).then(on,Dn)}function $e(J){return function(){var We=this,Ot=arguments;return new Promise(function(on,Dn){var dr=J.apply(We,Ot);function ft(pe){I(dr,on,Dn,ft,ae,"next",pe)}function ae(pe){I(dr,on,Dn,ft,ae,"throw",pe)}ft(void 0)})}}Ye.d(wr,{Z:()=>$e})},582:(hs,wr,Ye)=>{function We(G,Y){var ee={};for(var re in G)Object.prototype.hasOwnProperty.call(G,re)&&Y.indexOf(re)<0&&(ee[re]=G[re]);if(null!=G&&"function"==typeof Object.getOwnPropertySymbols){var le=0;for(re=Object.getOwnPropertySymbols(G);le<re.length;le++)Y.indexOf(re[le])<0&&Object.prototype.propertyIsEnumerable.call(G,re[le])&&(ee[re[le]]=G[re[le]])}return ee}function De(G,Y,ee,re){return new(ee||(ee=Promise))(function(X,we){function wt(It){try{xe(re.next(It))}catch(yn){we(yn)}}function me(It){try{xe(re.throw(It))}catch(yn){we(yn)}}function xe(It){It.done?X(It.value):function le(X){return X instanceof ee?X:new ee(function(we){we(X)})}(It.value).then(wt,me)}xe((re=re.apply(G,Y||[])).next())})}function sn(G){return this instanceof sn?(this.v=G,this):new sn(G)}function Lt(G,Y,ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,re=ee.apply(G,Y||[]),X=[];return le={},we("next"),we("throw"),we("return"),le[Symbol.asyncIterator]=function(){return this},le;function we(tn){re[tn]&&(le[tn]=function(Er){return new Promise(function(tr,Kr){X.push([tn,Er,tr,Kr])>1||wt(tn,Er)})})}function wt(tn,Er){try{!function me(tn){tn.value instanceof sn?Promise.resolve(tn.value.v).then(xe,It):yn(X[0][2],tn)}(re[tn](Er))}catch(tr){yn(X[0][3],tr)}}function xe(tn){wt("next",tn)}function It(tn){wt("throw",tn)}function yn(tn,Er){tn(Er),X.shift(),X.length&&wt(X[0][0],X[0][1])}}function hi(G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ee,Y=G[Symbol.asyncIterator];return Y?Y.call(G):(G=function Ft(G){var Y="function"==typeof Symbol&&Symbol.iterator,ee=Y&&G[Y],re=0;if(ee)return ee.call(G);if(G&&"number"==typeof G.length)return{next:function(){return G&&re>=G.length&&(G=void 0),{value:G&&G[re++],done:!G}}};throw new TypeError(Y?"Object is not iterable.":"Symbol.iterator is not defined.")}(G),ee={},re("next"),re("throw"),re("return"),ee[Symbol.asyncIterator]=function(){return this},ee);function re(X){ee[X]=G[X]&&function(we){return new Promise(function(wt,me){!function le(X,we,wt,me){Promise.resolve(me).then(function(xe){X({value:xe,done:wt})},we)}(wt,me,(we=G[X](we)).done,we.value)})}}}Ye.d(wr,{FC:()=>Lt,KL:()=>hi,_T:()=>We,mG:()=>De,qq:()=>sn}),"function"==typeof SuppressedError&&SuppressedError}},hs=>{hs(hs.s=452)}]);