"use strict";(self.webpackChunkphotohub=self.webpackChunkphotohub||[]).push([[179],{58:(os,pr,Ze)=>{Ze.d(pr,{BH:()=>zt,DV:()=>jr,Dv:()=>qi,G6:()=>So,GJ:()=>qn,L:()=>dt,LL:()=>Z,P0:()=>ir,Pz:()=>xt,Sg:()=>ri,UG:()=>oe,UI:()=>dc,US:()=>en,Wj:()=>Oi,Wl:()=>Re,Yr:()=>Rs,ZB:()=>Ae,ZR:()=>ce,aH:()=>tn,b$:()=>Nn,cI:()=>_e,dS:()=>cs,eu:()=>W,g5:()=>Y,gK:()=>Kn,gQ:()=>$r,h$:()=>rr,hl:()=>z,hu:()=>Ue,jU:()=>pn,lb:()=>Ii,m9:()=>_c,ne:()=>as,p$:()=>he,pd:()=>Wl,r3:()=>Br,ru:()=>nn,tV:()=>se,uI:()=>or,ug:()=>ks,vZ:()=>ss,w1:()=>Do,w9:()=>_r,xO:()=>Gl,xb:()=>Mi,z$:()=>rt,zd:()=>lo});const O={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Ue=function(x,T){if(!x)throw Y(T)},Y=function(x){return new Error("Firebase Database ("+O.SDK_VERSION+") INTERNAL ASSERT FAILED: "+x)},$e=function(x){const T=[];let R=0;for(let te=0;te<x.length;te++){let U=x.charCodeAt(te);U<128?T[R++]=U:U<2048?(T[R++]=U>>6|192,T[R++]=63&U|128):55296==(64512&U)&&te+1<x.length&&56320==(64512&x.charCodeAt(te+1))?(U=65536+((1023&U)<<10)+(1023&x.charCodeAt(++te)),T[R++]=U>>18|240,T[R++]=U>>12&63|128,T[R++]=U>>6&63|128,T[R++]=63&U|128):(T[R++]=U>>12|224,T[R++]=U>>6&63|128,T[R++]=63&U|128)}return T},en={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(x,T){if(!Array.isArray(x))throw Error("encodeByteArray takes an array as a parameter");this.init_();const R=T?this.byteToCharMapWebSafe_:this.byteToCharMap_,te=[];for(let U=0;U<x.length;U+=3){const q=x[U],Ge=U+1<x.length,Mt=Ge?x[U+1]:0,Je=U+2<x.length,on=Je?x[U+2]:0;let sr=(15&Mt)<<2|on>>6,Ut=63&on;Je||(Ut=64,Ge||(sr=64)),te.push(R[q>>2],R[(3&q)<<4|Mt>>4],R[sr],R[Ut])}return te.join("")},encodeString(x,T){return this.HAS_NATIVE_SUPPORT&&!T?btoa(x):this.encodeByteArray($e(x),T)},decodeString(x,T){return this.HAS_NATIVE_SUPPORT&&!T?atob(x):function(x){const T=[];let R=0,te=0;for(;R<x.length;){const U=x[R++];if(U<128)T[te++]=String.fromCharCode(U);else if(U>191&&U<224){const q=x[R++];T[te++]=String.fromCharCode((31&U)<<6|63&q)}else if(U>239&&U<365){const Je=((7&U)<<18|(63&x[R++])<<12|(63&x[R++])<<6|63&x[R++])-65536;T[te++]=String.fromCharCode(55296+(Je>>10)),T[te++]=String.fromCharCode(56320+(1023&Je))}else{const q=x[R++],Ge=x[R++];T[te++]=String.fromCharCode((15&U)<<12|(63&q)<<6|63&Ge)}}return T.join("")}(this.decodeStringToByteArray(x,T))},decodeStringToByteArray(x,T){this.init_();const R=T?this.charToByteMapWebSafe_:this.charToByteMap_,te=[];for(let U=0;U<x.length;){const q=R[x.charAt(U++)],Mt=U<x.length?R[x.charAt(U)]:0;++U;const on=U<x.length?R[x.charAt(U)]:64;++U;const xe=U<x.length?R[x.charAt(U)]:64;if(++U,null==q||null==Mt||null==on||null==xe)throw new En;te.push(q<<2|Mt>>4),64!==on&&(te.push(Mt<<4&240|on>>2),64!==xe&&te.push(on<<6&192|xe))}return te},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let x=0;x<this.ENCODED_VALS.length;x++)this.byteToCharMap_[x]=this.ENCODED_VALS.charAt(x),this.charToByteMap_[this.byteToCharMap_[x]]=x,this.byteToCharMapWebSafe_[x]=this.ENCODED_VALS_WEBSAFE.charAt(x),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[x]]=x,x>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(x)]=x,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(x)]=x)}}};class En extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rr=function(x){const T=$e(x);return en.encodeByteArray(T,!0)},dt=function(x){return rr(x).replace(/\./g,"")},se=function(x){try{return en.decodeString(x,!0)}catch(T){console.error("base64Decode failed: ",T)}return null};function he(x){return Ae(void 0,x)}function Ae(x,T){if(!(T instanceof Object))return T;switch(T.constructor){case Date:return new Date(T.getTime());case Object:void 0===x&&(x={});break;case Array:x=[];break;default:return T}for(const R in T)!T.hasOwnProperty(R)||!ct(R)||(x[R]=Ae(x[R],T[R]));return x}function ct(x){return"__proto__"!==x}const nt=()=>{try{return function Ot(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const x=process.env.__FIREBASE_DEFAULTS__;return x?JSON.parse(x):void 0})()||(()=>{if(typeof document>"u")return;let x;try{x=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const T=x&&se(x[1]);return T&&JSON.parse(T)})()}catch(x){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${x}`)}},ir=x=>{const T=(x=>{var T,R;return null===(R=null===(T=nt())||void 0===T?void 0:T.emulatorHosts)||void 0===R?void 0:R[x]})(x);if(!T)return;const R=T.lastIndexOf(":");if(R<=0||R+1===T.length)throw new Error(`Invalid host ${T} with no separate hostname and port!`);const te=parseInt(T.substring(R+1),10);return"["===T[0]?[T.substring(1,R-1),te]:[T.substring(0,R),te]},tn=()=>{var x;return null===(x=nt())||void 0===x?void 0:x.config},xt=x=>{var T;return null===(T=nt())||void 0===T?void 0:T[`_${x}`]};class zt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((T,R)=>{this.resolve=T,this.reject=R})}wrapCallback(T){return(R,te)=>{R?this.reject(R):this.resolve(te),"function"==typeof T&&(this.promise.catch(()=>{}),1===T.length?T(R):T(R,te))}}}function ri(x,T){if(x.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const te=T||"demo-project",U=x.iat||0,q=x.sub||x.user_id;if(!q)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ge=Object.assign({iss:`https://securetoken.google.com/${te}`,aud:te,iat:U,exp:U+3600,auth_time:U,sub:q,user_id:q,firebase:{sign_in_provider:"custom",identities:{}}},x);return[dt(JSON.stringify({alg:"none",type:"JWT"})),dt(JSON.stringify(Ge)),""].join(".")}function rt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function or(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rt())}function oe(){var x;const T=null===(x=nt())||void 0===x?void 0:x.forceEnvironment;if("node"===T)return!0;if("browser"===T)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function pn(){return"object"==typeof self&&self.self===self}function nn(){const x="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof x&&void 0!==x.id}function Nn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Do(){const x=rt();return x.indexOf("MSIE ")>=0||x.indexOf("Trident/")>=0}function Rs(){return!0===O.NODE_CLIENT||!0===O.NODE_ADMIN}function So(){return!oe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function z(){try{return"object"==typeof indexedDB}catch{return!1}}function W(){return new Promise((x,T)=>{try{let R=!0;const te="validate-browser-context-for-indexeddb-analytics-module",U=self.indexedDB.open(te);U.onsuccess=()=>{U.result.close(),R||self.indexedDB.deleteDatabase(te),x(!0)},U.onupgradeneeded=()=>{R=!1},U.onerror=()=>{var q;T((null===(q=U.error)||void 0===q?void 0:q.message)||"")}}catch(R){T(R)}})}class ce extends Error{constructor(T,R,te){super(R),this.code=T,this.customData=te,this.name="FirebaseError",Object.setPrototypeOf(this,ce.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Z.prototype.create)}}class Z{constructor(T,R,te){this.service=T,this.serviceName=R,this.errors=te}create(T,...R){const te=R[0]||{},U=`${this.service}/${T}`,q=this.errors[T],Ge=q?function Ce(x,T){return x.replace(yt,(R,te)=>{const U=T[te];return null!=U?String(U):`<${te}?>`})}(q,te):"Error";return new ce(U,`${this.serviceName}: ${Ge} (${U}).`,te)}}const yt=/\{\$([^}]+)}/g;function _e(x){return JSON.parse(x)}function Re(x){return JSON.stringify(x)}const Et=function(x){let T={},R={},te={},U="";try{const q=x.split(".");T=_e(se(q[0])||""),R=_e(se(q[1])||""),U=q[2],te=R.d||{},delete R.d}catch{}return{header:T,claims:R,data:te,signature:U}},_r=function(x){const R=Et(x).claims;return!!R&&"object"==typeof R&&R.hasOwnProperty("iat")},qn=function(x){const T=Et(x).claims;return"object"==typeof T&&!0===T.admin};function Br(x,T){return Object.prototype.hasOwnProperty.call(x,T)}function jr(x,T){if(Object.prototype.hasOwnProperty.call(x,T))return x[T]}function Mi(x){for(const T in x)if(Object.prototype.hasOwnProperty.call(x,T))return!1;return!0}function dc(x,T,R){const te={};for(const U in x)Object.prototype.hasOwnProperty.call(x,U)&&(te[U]=T.call(R,x[U],U,x));return te}function ss(x,T){if(x===T)return!0;const R=Object.keys(x),te=Object.keys(T);for(const U of R){if(!te.includes(U))return!1;const q=x[U],Ge=T[U];if(Fn(q)&&Fn(Ge)){if(!ss(q,Ge))return!1}else if(q!==Ge)return!1}for(const U of te)if(!R.includes(U))return!1;return!0}function Fn(x){return null!==x&&"object"==typeof x}function Gl(x){const T=[];for(const[R,te]of Object.entries(x))Array.isArray(te)?te.forEach(U=>{T.push(encodeURIComponent(R)+"="+encodeURIComponent(U))}):T.push(encodeURIComponent(R)+"="+encodeURIComponent(te));return T.length?"&"+T.join("&"):""}function lo(x){const T={};return x.replace(/^\?/,"").split("&").forEach(te=>{if(te){const[U,q]=te.split("=");T[decodeURIComponent(U)]=decodeURIComponent(q)}}),T}function Wl(x){const T=x.indexOf("?");if(!T)return"";const R=x.indexOf("#",T);return x.substring(T,R>0?R:void 0)}class $r{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let T=1;T<this.blockSize;++T)this.pad_[T]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(T,R){R||(R=0);const te=this.W_;if("string"==typeof T)for(let xe=0;xe<16;xe++)te[xe]=T.charCodeAt(R)<<24|T.charCodeAt(R+1)<<16|T.charCodeAt(R+2)<<8|T.charCodeAt(R+3),R+=4;else for(let xe=0;xe<16;xe++)te[xe]=T[R]<<24|T[R+1]<<16|T[R+2]<<8|T[R+3],R+=4;for(let xe=16;xe<80;xe++){const sr=te[xe-3]^te[xe-8]^te[xe-14]^te[xe-16];te[xe]=4294967295&(sr<<1|sr>>>31)}let on,bi,U=this.chain_[0],q=this.chain_[1],Ge=this.chain_[2],Mt=this.chain_[3],Je=this.chain_[4];for(let xe=0;xe<80;xe++){xe<40?xe<20?(on=Mt^q&(Ge^Mt),bi=1518500249):(on=q^Ge^Mt,bi=1859775393):xe<60?(on=q&Ge|Mt&(q|Ge),bi=2400959708):(on=q^Ge^Mt,bi=3395469782);const sr=(U<<5|U>>>27)+on+Je+bi+te[xe]&4294967295;Je=Mt,Mt=Ge,Ge=4294967295&(q<<30|q>>>2),q=U,U=sr}this.chain_[0]=this.chain_[0]+U&4294967295,this.chain_[1]=this.chain_[1]+q&4294967295,this.chain_[2]=this.chain_[2]+Ge&4294967295,this.chain_[3]=this.chain_[3]+Mt&4294967295,this.chain_[4]=this.chain_[4]+Je&4294967295}update(T,R){if(null==T)return;void 0===R&&(R=T.length);const te=R-this.blockSize;let U=0;const q=this.buf_;let Ge=this.inbuf_;for(;U<R;){if(0===Ge)for(;U<=te;)this.compress_(T,U),U+=this.blockSize;if("string"==typeof T){for(;U<R;)if(q[Ge]=T.charCodeAt(U),++Ge,++U,Ge===this.blockSize){this.compress_(q),Ge=0;break}}else for(;U<R;)if(q[Ge]=T[U],++Ge,++U,Ge===this.blockSize){this.compress_(q),Ge=0;break}}this.inbuf_=Ge,this.total_+=R}digest(){const T=[];let R=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let U=this.blockSize-1;U>=56;U--)this.buf_[U]=255&R,R/=256;this.compress_(this.buf_);let te=0;for(let U=0;U<5;U++)for(let q=24;q>=0;q-=8)T[te]=this.chain_[U]>>q&255,++te;return T}}function as(x,T){const R=new xs(x,T);return R.subscribe.bind(R)}class xs{constructor(T,R){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=R,this.task.then(()=>{T(this)}).catch(te=>{this.error(te)})}next(T){this.forEachObserver(R=>{R.next(T)})}error(T){this.forEachObserver(R=>{R.error(T)}),this.close(T)}complete(){this.forEachObserver(T=>{T.complete()}),this.close()}subscribe(T,R,te){let U;if(void 0===T&&void 0===R&&void 0===te)throw new Error("Missing Observer.");U=function _a(x,T){if("object"!=typeof x||null===x)return!1;for(const R of T)if(R in x&&"function"==typeof x[R])return!0;return!1}(T,["next","error","complete"])?T:{next:T,error:R,complete:te},void 0===U.next&&(U.next=rn),void 0===U.error&&(U.error=rn),void 0===U.complete&&(U.complete=rn);const q=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?U.error(this.finalError):U.complete()}catch{}}),this.observers.push(U),q}unsubscribeOne(T){void 0===this.observers||void 0===this.observers[T]||(delete this.observers[T],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(T){if(!this.finalized)for(let R=0;R<this.observers.length;R++)this.sendOne(R,T)}sendOne(T,R){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[T])try{R(this.observers[T])}catch(te){typeof console<"u"&&console.error&&console.error(te)}})}close(T){this.finalized||(this.finalized=!0,void 0!==T&&(this.finalError=T),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rn(){}const qi=function(x,T,R,te){let U;if(te<T?U="at least "+T:te>R&&(U=0===R?"none":"no more than "+R),U)throw new Error(x+" failed: Was called with "+te+(1===te?" argument.":" arguments.")+" Expects "+U+".")};function Kn(x,T){return`${x} failed: ${T} argument `}function Oi(x,T,R,te){if((!te||R)&&"function"!=typeof R)throw new Error(Kn(x,T)+"must be a valid function.")}function Ii(x,T,R,te){if((!te||R)&&("object"!=typeof R||null===R))throw new Error(Kn(x,T)+"must be a valid context object.")}const cs=function(x){const T=[];let R=0;for(let te=0;te<x.length;te++){let U=x.charCodeAt(te);if(U>=55296&&U<=56319){const q=U-55296;te++,Ue(te<x.length,"Surrogate pair missing trail surrogate."),U=65536+(q<<10)+(x.charCodeAt(te)-56320)}U<128?T[R++]=U:U<2048?(T[R++]=U>>6|192,T[R++]=63&U|128):U<65536?(T[R++]=U>>12|224,T[R++]=U>>6&63|128,T[R++]=63&U|128):(T[R++]=U>>18|240,T[R++]=U>>12&63|128,T[R++]=U>>6&63|128,T[R++]=63&U|128)}return T},ks=function(x){let T=0;for(let R=0;R<x.length;R++){const te=x.charCodeAt(R);te<128?T++:te<2048?T+=2:te>=55296&&te<=56319?(T+=4,R++):T+=3}return T};function _c(x){return x&&x._delegate?x._delegate:x}},365:(os,pr,Ze)=>{function O(t){return"function"==typeof t}function Ue(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Y=Ue(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function $e(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Pt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(O(r))try{r()}catch(o){e=o instanceof Y?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{rr(o)}catch(s){e=e??[],s instanceof Y?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Y(e)}}add(e){var n;if(e&&e!==this)if(this.closed)rr(e);else{if(e instanceof Pt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&$e(n,e)}remove(e){const{_finalizers:n}=this;n&&$e(n,e),e instanceof Pt&&e._removeParent(this)}}Pt.EMPTY=(()=>{const t=new Pt;return t.closed=!0,t})();const en=Pt.EMPTY;function En(t){return t instanceof Pt||t&&"closed"in t&&O(t.remove)&&O(t.add)&&O(t.unsubscribe)}function rr(t){O(t)?t():t.unsubscribe()}const dt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},se={setTimeout(t,e,...n){const{delegate:r}=se;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=se;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function he(t){se.setTimeout(()=>{const{onUnhandledError:e}=dt;if(!e)throw t;e(t)})}function Ae(){}const ct=Rt("C",void 0,void 0);function Rt(t,e,n){return{kind:t,value:e,error:n}}let ze=null;function nt(t){if(dt.useDeprecatedSynchronousErrorHandling){const e=!ze;if(e&&(ze={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=ze;if(ze=null,n)throw r}}else t()}class ir extends Pt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,En(e)&&e.add(this)):this.destination=pn}static create(e,n,r){return new ri(e,n,r)}next(e){this.isStopped?oe(function fr(t){return Rt("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?oe(function Ot(t){return Rt("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?oe(ct,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const tn=Function.prototype.bind;function xt(t,e){return tn.call(t,e)}class zt{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){rt(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){rt(r)}else rt(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){rt(n)}}}class ri extends ir{constructor(e,n,r){let i;if(super(),O(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&dt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&xt(e.next,o),error:e.error&&xt(e.error,o),complete:e.complete&&xt(e.complete,o)}):i=e}this.destination=new zt(i)}}function rt(t){dt.useDeprecatedSynchronousErrorHandling?function gr(t){dt.useDeprecatedSynchronousErrorHandling&&ze&&(ze.errorThrown=!0,ze.error=t)}(t):he(t)}function oe(t,e){const{onStoppedNotification:n}=dt;n&&se.setTimeout(()=>n(t,e))}const pn={closed:!0,next:Ae,error:function or(t){throw t},complete:Ae},nn="function"==typeof Symbol&&Symbol.observable||"@@observable";function Nn(t){return t}function Do(t){return 0===t.length?Nn:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let st=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function z(t){return t&&t instanceof ir||function So(t){return t&&O(t.next)&&O(t.error)&&O(t.complete)}(t)&&En(t)}(n)?n:new ri(n,r,i);return nt(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Rs(r))((i,o)=>{const s=new ri({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[nn](){return this}pipe(...n){return Do(n)(this)}toPromise(n){return new(n=Rs(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Rs(t){var e;return null!==(e=t??dt.Promise)&&void 0!==e?e:Promise}const W=Ue(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Q=(()=>{class t extends st{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new ne(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new W}next(n){nt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){nt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){nt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?en:(this.currentObservers=null,o.push(n),new Pt(()=>{this.currentObservers=null,$e(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new st;return n.source=this,n}}return t.create=(e,n)=>new ne(e,n),t})();class ne extends Q{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:en}}function ce(t){return O(t?.lift)}function Z(t){return e=>{if(ce(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ce(t,e,n,r,i){return new yt(t,e,n,r,i)}class yt extends ir{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function _e(t,e){return Z((n,r)=>{let i=0;n.subscribe(Ce(r,o=>{r.next(t.call(e,o,i++))}))})}var Re=Ze(582);const Et=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function fn(t){return O(t?.then)}function Yt(t){return O(t[nn])}function _r(t){return Symbol.asyncIterator&&O(t?.[Symbol.asyncIterator])}function qn(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const jr=function Br(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Mi(t){return O(t?.[jr])}function dc(t){return(0,Re.FC)(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield(0,Re.qq)(n.read());if(i)return yield(0,Re.qq)(void 0);yield yield(0,Re.qq)(r)}}finally{n.releaseLock()}})}function ss(t){return O(t?.getReader)}function Fn(t){if(t instanceof st)return t;if(null!=t){if(Yt(t))return function hc(t){return new st(e=>{const n=t[nn]();if(O(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Et(t))return function Gl(t){return new st(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(fn(t))return function lo(t){return new st(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,he)})}(t);if(_r(t))return $r(t);if(Mi(t))return function Wl(t){return new st(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(ss(t))return function as(t){return $r(dc(t))}(t)}throw qn(t)}function $r(t){return new st(e=>{(function xs(t,e){var n,r,i,o;return(0,Re.mG)(this,void 0,void 0,function*(){try{for(n=(0,Re.KL)(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Ir(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function rn(t,e,n=1/0){return O(e)?rn((r,i)=>_e((o,s)=>e(r,o,i,s))(Fn(t(r,i))),n):("number"==typeof e&&(n=e),Z((r,i)=>function _a(t,e,n,r,i,o,s,a){const c=[];let l=0,h=0,f=!1;const _=()=>{f&&!c.length&&!l&&e.complete()},v=I=>l<r?E(I):c.push(I),E=I=>{o&&e.next(I),l++;let b=!1;Fn(n(I,h++)).subscribe(Ce(e,L=>{i?.(L),o?v(L):e.next(L)},()=>{b=!0},void 0,()=>{if(b)try{for(l--;c.length&&l<r;){const L=c.shift();s?Ir(e,s,()=>E(L)):E(L)}_()}catch(L){e.error(L)}}))};return t.subscribe(Ce(e,v,()=>{f=!0,_()})),()=>{a?.()}}(r,i,t,n)))}function qi(t=1/0){return rn(Nn,t)}const Kn=new st(t=>t.complete());function cs(t){return t[t.length-1]}function ks(t){return O(cs(t))?t.pop():void 0}function Ns(t){return function Ii(t){return t&&O(t.schedule)}(cs(t))?t.pop():void 0}function mr(t,e=0){return Z((n,r)=>{n.subscribe(Ce(r,i=>Ir(r,t,()=>r.next(i),e),()=>Ir(r,t,()=>r.complete(),e),i=>Ir(r,t,()=>r.error(i),e)))})}function Hr(t,e=0){return Z((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function _c(t,e){if(!t)throw new Error("Iterable cannot be null");return new st(n=>{Ir(n,e,()=>{const r=t[Symbol.asyncIterator]();Ir(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function R(t,e){return e?function T(t,e){if(null!=t){if(Yt(t))return function Fs(t,e){return Fn(t).pipe(Hr(e),mr(e))}(t,e);if(Et(t))return function Td(t,e){return new st(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(fn(t))return function gc(t,e){return Fn(t).pipe(Hr(e),mr(e))}(t,e);if(_r(t))return _c(t,e);if(Mi(t))return function ql(t,e){return new st(n=>{let r;return Ir(n,e,()=>{r=t[jr](),Ir(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>O(r?.return)&&r.return()})}(t,e);if(ss(t))return function x(t,e){return _c(dc(t),e)}(t,e)}throw qn(t)}(t,e):Fn(t)}function te(...t){const e=Ns(t),n=function fc(t,e){return"number"==typeof cs(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Fn(r[0]):qi(n)(R(r,e)):Kn}class U extends Q{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function q(...t){return R(t,Ns(t))}function Ge(t={}){const{connector:e=(()=>new Q),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,c,l=0,h=!1,f=!1;const _=()=>{a?.unsubscribe(),a=void 0},v=()=>{_(),s=c=void 0,h=f=!1},E=()=>{const I=s;v(),I?.unsubscribe()};return Z((I,b)=>{l++,!f&&!h&&_();const L=c=c??e();b.add(()=>{l--,0===l&&!f&&!h&&(a=Mt(E,i))}),L.subscribe(b),!s&&l>0&&(s=new ri({next:N=>L.next(N),error:N=>{f=!0,_(),a=Mt(v,n,N),L.error(N)},complete:()=>{h=!0,_(),a=Mt(v,r),L.complete()}}),Fn(I).subscribe(s))})(o)}}function Mt(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new ri({next:()=>{r.unsubscribe(),t()}});return Fn(e(...n)).subscribe(r)}function Je(t,e){return Z((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(Ce(r,c=>{i?.unsubscribe();let l=0;const h=o++;Fn(t(c,h)).subscribe(i=Ce(r,f=>r.next(e?e(c,f,h,l++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function on(t,e=Nn){return t=t??bi,Z((n,r)=>{let i,o=!0;n.subscribe(Ce(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function bi(t,e){return t===e}function xe(t){for(let e in t)if(t[e]===xe)return e;throw Error("Could not find renamed property on target object.")}function sr(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ut(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ut).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function ls(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const ma=xe({__forward_ref__:xe});function j(t){return t.__forward_ref__=j,t.toString=function(){return Ut(this())},t}function F(t){return ue(t)?t():t}function ue(t){return"function"==typeof t&&t.hasOwnProperty(ma)&&t.__forward_ref__===j}function ke(t){return t&&!!t.\u0275providers}const lt="https://g.co/ng/security#xss";class X extends Error{constructor(e,n){super(function Zn(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Se(t){return"string"==typeof t?t:null==t?"":String(t)}function Sf(t,e){throw new X(-201,!1)}function ii(t,e){null==t&&function Be(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function be(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Yn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Zl(t){return ya(t,Yl)||ya(t,dv)}function ya(t,e){return t.hasOwnProperty(e)?t[e]:null}function mc(t){return t&&(t.hasOwnProperty(Ql)||t.hasOwnProperty(kf))?t[Ql]:null}const Yl=xe({\u0275prov:xe}),Ql=xe({\u0275inj:xe}),dv=xe({ngInjectableDef:xe}),kf=xe({ngInjectorDef:xe});var pt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(pt||{});let Xl;function br(t){const e=Xl;return Xl=t,e}function hv(t,e,n){const r=Zl(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&pt.Optional?null:void 0!==e?e:void Sf(Ut(t))}const Gt=globalThis,oi={},Uf="__NG_DI_FLAG__",yc="ngTempTokenPath",Bf=/\n/gm,Sd="__source";let vc;function Ro(t){const e=vc;return vc=t,e}function va(t,e=pt.Default){if(void 0===vc)throw new X(-203,!1);return null===vc?hv(t,void 0,e):vc.get(t,e&pt.Optional?null:void 0,e)}function ie(t,e=pt.Default){return(function Jl(){return Xl}()||va)(F(t),e)}function we(t,e=pt.Default){return ie(t,jf(e))}function jf(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function tu(t){const e=[];for(let n=0;n<t.length;n++){const r=F(t[n]);if(Array.isArray(r)){if(0===r.length)throw new X(900,!1);let i,o=pt.Default;for(let s=0;s<r.length;s++){const a=r[s],c=Cc(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}e.push(ie(i,o))}else e.push(ie(r))}return e}function Ai(t,e){return t[Uf]=e,t.prototype[Uf]=e,t}function Cc(t){return t[Uf]}function xo(t){return{toString:t}.toString()}var nu=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(nu||{}),uo=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(uo||{});const zr={},It=[],Ca=xe({\u0275cmp:xe}),Rd=xe({\u0275dir:xe}),xd=xe({\u0275pipe:xe}),kd=xe({\u0275mod:xe}),Ln=xe({\u0275fac:xe}),Pc=xe({__NG_ELEMENT_ID__:xe}),vv=xe({__NG_ENV_ID__:xe});function Nd(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Ec(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];Hf(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function $f(t){return 3===t||4===t||6===t}function Hf(t){return 64===t.charCodeAt(0)}function ru(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Fd(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Fd(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const Ld="ng-template";function zf(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==Nd(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function iu(t){return 4===t.type&&t.value!==Ld}function Gf(t,e,n){return e===(4!==t.type||n?t.value:Ld)}function Cv(t,e,n){let r=4;const i=t.attrs||[],o=function Wf(t){for(let e=0;e<t.length;e++)if($f(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!Gf(t,c,n)||""===c&&1===e.length){if(Di(r))return!1;s=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!zf(t.attrs,l,n)){if(Di(r))return!1;s=!0}continue}const f=wv(8&r?"class":c,i,iu(t),n);if(-1===f){if(Di(r))return!1;s=!0;continue}if(""!==l){let _;_=f>o?"":i[f+1].toLowerCase();const v=8&r?_:null;if(v&&-1!==Nd(v,l,0)||2&r&&l!==_){if(Di(r))return!1;s=!0}}}}else{if(!s&&!Di(r)&&!Di(c))return!1;if(s&&Di(c))continue;s=!1,r=c|1&r}}return Di(r)||s}function Di(t){return 0==(1&t)}function wv(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function Pv(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Vd(t,e,n=!1){for(let r=0;r<e.length;r++)if(Cv(t,e[r],n))return!0;return!1}function qf(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Kf(t,e){return t?":not("+e.trim()+")":e}function Zf(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Di(s)&&(e+=Kf(o,i),i=""),r=s,o=o||!Di(r);n++}return""!==i&&(e+=Kf(o,i)),e}function kt(t){return xo(()=>{const e=Jf(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===nu.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||uo.Emulated,styles:t.styles||It,_:null,schemas:t.schemas||null,tView:null,id:""};$d(n);const r=t.dependencies;return n.directiveDefs=Hd(r,!1),n.pipeDefs=Hd(r,!0),n.id=function lM(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function ou(t){return _t(t)||yr(t)}function Xf(t){return null!==t}function Vn(t){return xo(()=>({type:t.type,bootstrap:t.bootstrap||It,declarations:t.declarations||It,imports:t.imports||It,exports:t.exports||It,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function jd(t,e){if(null==t)return zr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function Ve(t){return xo(()=>{const e=Jf(t);return $d(e),e})}function _t(t){return t[Ca]||null}function yr(t){return t[Rd]||null}function vr(t){return t[xd]||null}function Gr(t,e){const n=t[kd]||null;if(!n&&!0===e)throw new Error(`Type ${Ut(t)} does not have '\u0275mod' property.`);return n}function Jf(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||zr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||It,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:jd(t.inputs,e),outputs:jd(t.outputs)}}function $d(t){t.features?.forEach(e=>e(t))}function Hd(t,e){if(!t)return null;const n=e?vr:ou;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(Xf)}const sn=0,Pe=1,Qe=2,Wt=3,ho=4,su=5,ar=6,Oc=7,_n=8,Vs=9,Us=10,qe=11,wa=12,Ev=13,Bs=14,Sn=15,Pa=16,Ic=17,Ki=18,au=19,Mv=20,ds=21,po=22,cu=23,ko=24,ut=25,tg=1,Ov=2,No=7,lu=9,Tr=11;function ai(t){return Array.isArray(t)&&"object"==typeof t[tg]}function Wr(t){return Array.isArray(t)&&!0===t[tg]}function bv(t){return 0!=(4&t.flags)}function bc(t){return t.componentOffset>-1}function ng(t){return 1==(1&t.flags)}function Fo(t){return!!t.template}function Tv(t){return 0!=(512&t[Qe])}function Oa(t,e){return t.hasOwnProperty(Ln)?t[Ln]:null}let Cr=null,Tc=!1;function Yi(t){const e=Cr;return Cr=t,e}const Wd={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function xv(t){if(!ba(t)||t.dirty){if(!t.producerMustRecompute(t)&&!hu(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function du(t){t.dirty=!0,function og(t){if(void 0===t.liveConsumerNode)return;const e=Tc;Tc=!0;try{for(const n of t.liveConsumerNode)n.dirty||du(n)}finally{Tc=e}}(t),t.consumerMarkedDirty?.(t)}function qd(t){return t&&(t.nextProducerIndex=0),Yi(t)}function Ia(t,e){if(Yi(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(ba(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)pu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function hu(t){Ac(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(xv(n),r!==n.version))return!0}return!1}function kv(t){if(Ac(t),ba(t))for(let e=0;e<t.producerNode.length;e++)pu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function pu(t,e){if(function Zd(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Ac(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)pu(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ac(i),i.producerIndexOfThis[r]=e}}function ba(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ac(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Nv=null;const ug=()=>{},wM=(()=>({...Wd,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:ug}))();class PM{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function ci(){return Vv}function Vv(t){return t.type.prototype.ngOnChanges&&(t.setInput=EM),dg}function dg(){const t=Uv(this),e=t?.current;if(e){const n=t.previous;if(n===zr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function EM(t,e,n,r){const i=this.declaredInputs[n],o=Uv(t)||function hg(t,e){return t[Qd]=e}(t,{previous:zr,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new PM(c&&c.currentValue,e,a===zr),t[r]=e}ci.ngInherit=!0;const Qd="__ngSimpleChanges__";function Uv(t){return t[Qd]||null}const Lo=function(t,e,n){};function bt(t){for(;Array.isArray(t);)t=t[sn];return t}function Jd(t,e){return bt(e[t])}function li(t,e){return bt(e[t.index])}function eh(t,e){return t.data[e]}function Si(t,e){const n=e[t];return ai(n)?n:n[sn]}function Vo(t,e){return null==e?null:t[e]}function Bv(t){t[Ic]=0}function gg(t){1024&t[Qe]||(t[Qe]|=1024,jv(t,1))}function th(t){1024&t[Qe]&&(t[Qe]&=-1025,jv(t,-1))}function jv(t,e){let n=t[Wt];if(null===n)return;n[su]+=e;let r=n;for(n=n[Wt];null!==n&&(1===e&&1===r[su]||-1===e&&0===r[su]);)n[su]+=e,r=n,n=n[Wt]}const je={lFrame:qv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function yg(){return je.bindingsEnabled}function Aa(){return null!==je.skipHydrationRootTNode}function ae(){return je.lFrame.lView}function Ct(){return je.lFrame.tView}function cr(t){return je.lFrame.contextLView=t,t[_n]}function Un(t){return je.lFrame.contextLView=null,t}function wr(){let t=rh();for(;null!==t&&64===t.type;)t=t.parent;return t}function rh(){return je.lFrame.currentTNode}function Qi(t,e){const n=je.lFrame;n.currentTNode=t,n.isParent=e}function ih(){return je.lFrame.isParent}function gu(){je.lFrame.isParent=!1}function Ar(){const t=je.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function $s(){return je.lFrame.bindingIndex++}function Pg(t,e){const n=je.lFrame;n.bindingIndex=n.bindingRootIndex=t,Eg(e)}function Eg(t){je.lFrame.currentDirectiveIndex=t}function zv(){return je.lFrame.currentQueryIndex}function kc(t){je.lFrame.currentQueryIndex=t}function LM(t){const e=t[Pe];return 2===e.type?e.declTNode:1===e.type?t[ar]:null}function Gv(t,e,n){if(n&pt.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&pt.Host||(i=LM(o),null===i||(o=o[Bs],10&i.type))););if(null===i)return!1;e=i,t=o}const r=je.lFrame=Wv();return r.currentTNode=e,r.lView=t,!0}function Mg(t){const e=Wv(),n=t[Pe];je.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Wv(){const t=je.lFrame,e=null===t?null:t.child;return null===e?qv(t):e}function qv(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Kv(){const t=je.lFrame;return je.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Zv=Kv;function Og(){const t=Kv();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function qr(){return je.lFrame.selectedIndex}function Da(t){je.lFrame.selectedIndex=t}function mn(){const t=je.lFrame;return eh(t.tView,t.selectedIndex)}let Xv=!0;function sh(){return Xv}function Uo(t){Xv=t}function ah(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=h&&(t.destroyHooks??=[]).push(n,h)}}function Nc(t,e,n){Jv(t,e,3,n)}function ch(t,e,n,r){(3&t[Qe])===n&&Jv(t,e,n,r)}function lh(t,e){let n=t[Qe];(3&n)===e&&(n&=8191,n+=1,t[Qe]=n)}function Jv(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let c=void 0!==r?65535&t[Ic]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[Ic]+=65536),(a<o||-1==o)&&($M(t,n,e,c),t[Ic]=(4294901760&t[Ic])+c+2),c++}function uh(t,e){Lo(4,t,e);const n=Yi(null);try{e.call(t)}finally{Yi(n),Lo(5,t,e)}}function $M(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[Qe]>>13<t[Ic]>>16&&(3&t[Qe])===e&&(t[Qe]+=8192,uh(a,o)):uh(a,o)}const _u=-1;class Sa{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Ag(t){return t!==_u}function Fc(t){return 32767&t}function hh(t,e){let n=function WM(t){return t>>16}(t),r=e;for(;n>0;)r=r[Bs],n--;return r}let fs=!0;function ph(t){const e=fs;return fs=t,e}const fh=255,tC=5;let Dg=0;const Bo={};function Lc(t,e){const n=nC(t,e);if(-1!==n)return n;const r=e[Pe];r.firstCreatePass&&(t.injectorIndex=e.length,Sg(r.data,t),Sg(e,null),Sg(r.blueprint,null));const i=Vc(t,e),o=t.injectorIndex;if(Ag(i)){const s=Fc(i),a=hh(i,e),c=a[Pe].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Sg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function nC(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Vc(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=aC(i),null===r)return _u;if(n++,i=i[Bs],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return _u}function Rg(t,e,n){!function qM(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Pc)&&(r=n[Pc]),null==r&&(r=n[Pc]=Dg++);const i=r&fh;e.data[t+(i>>tC)]|=1<<i}(t,e,n)}function rC(t,e,n){if(n&pt.Optional||void 0!==t)return t;Sf()}function iC(t,e,n,r){if(n&pt.Optional&&void 0===r&&(r=null),!(n&(pt.Self|pt.Host))){const i=t[Vs],o=br(void 0);try{return i?i.get(e,r,n&pt.Optional):hv(e,r,n&pt.Optional)}finally{br(o)}}return rC(r,0,n)}function oC(t,e,n,r=pt.Default,i){if(null!==t){if(2048&e[Qe]&&!(r&pt.Self)){const s=function YM(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[Qe]&&!(512&s[Qe]);){const a=xg(o,s,n,r|pt.Self,Bo);if(a!==Bo)return a;let c=o.parent;if(!c){const l=s[Mv];if(l){const h=l.get(n,Bo,r);if(h!==Bo)return h}c=aC(s),s=s[Bs]}o=c}return i}(t,e,n,r,Bo);if(s!==Bo)return s}const o=xg(t,e,n,r,Bo);if(o!==Bo)return o}return iC(e,n,r,i)}function xg(t,e,n,r,i){const o=function Ng(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Pc)?t[Pc]:void 0;return"number"==typeof e?e>=0?e&fh:ZM:e}(n);if("function"==typeof o){if(!Gv(e,t,r))return r&pt.Host?rC(i,0,r):iC(e,n,r,i);try{let s;if(s=o(r),null!=s||r&pt.Optional)return s;Sf()}finally{Zv()}}else if("number"==typeof o){let s=null,a=nC(t,e),c=_u,l=r&pt.Host?e[Sn][ar]:null;for((-1===a||r&pt.SkipSelf)&&(c=-1===a?Vc(t,e):e[a+8],c!==_u&&sC(r,!1)?(s=e[Pe],a=Fc(c),e=hh(c,e)):a=-1);-1!==a;){const h=e[Pe];if(_h(o,a,h.data)){const f=kg(a,e,n,s,r,l);if(f!==Bo)return f}c=e[a+8],c!==_u&&sC(r,e[Pe].data[a+8]===l)&&_h(o,a,e)?(s=h,a=Fc(c),e=hh(c,e)):a=-1}}return i}function kg(t,e,n,r,i,o){const s=e[Pe],a=s.data[t+8],h=gh(a,s,n,null==r?bc(a)&&fs:r!=s&&0!=(3&a.type),i&pt.Host&&o===a);return null!==h?Ra(e,s,h,a):Bo}function gh(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,c=t.directiveStart,h=o>>20,_=i?a+h:t.directiveEnd;for(let v=r?a:a+h;v<_;v++){const E=s[v];if(v<c&&n===E||v>=c&&E.type===n)return v}if(i){const v=s[c];if(v&&Fo(v)&&v.type===n)return c}return null}function Ra(t,e,n,r){let i=t[n];const o=e.data;if(function eC(t){return t instanceof Sa}(i)){const s=i;s.resolving&&function Kl(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new X(-200,`Circular dependency in DI detected for ${t}${n}`)}(function ht(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Se(t)}(o[n]));const a=ph(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?br(s.injectImpl):null;Gv(t,r,pt.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function bg(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=Vv(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==l&&br(l),ph(a),s.resolving=!1,Zv()}}return i}function _h(t,e,n){return!!(n[e+(t>>tC)]&1<<t)}function sC(t,e){return!(t&pt.Self||t&pt.Host&&e)}class Kr{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return oC(this._tNode,this._lView,e,jf(r),n)}}function ZM(){return new Kr(wr(),ae())}function Pr(t){return xo(()=>{const e=t.prototype.constructor,n=e[Ln]||yh(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[Ln]||yh(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function yh(t){return ue(t)?()=>{const e=yh(F(t));return e&&e()}:Oa(t)}function aC(t){const e=t[Pe],n=e.type;return 2===n?e.declTNode:1===n?t[ar]:null}const jo="__parameters__";function jc(t,e,n){return xo(()=>{const r=function Lg(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,l,h){const f=c.hasOwnProperty(jo)?c[jo]:Object.defineProperty(c,jo,{value:[]})[jo];for(;f.length<=h;)f.push(null);return(f[h]=f[h]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function ka(t,e){t.forEach(n=>Array.isArray(n)?ka(n,e):e(n))}function dC(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function fo(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Hc(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function qt(t,e,n){let r=Hs(t,e);return r>=0?t[1|r]=n:(r=~r,function nO(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function vu(t,e){const n=Hs(t,e);if(n>=0)return t[1|n]}function Hs(t,e){return function $o(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const p=Ai(jc("Optional"),8),d=Ai(jc("SkipSelf"),4);function CC(t){return 128==(128&t.flags)}var zc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(zc||{});const CG=/^>|^->|<!--|-->|--!>|<!-$/g,wG=/(<|>)/g,PG="\u200b$1\u200b";const lO=new Map;let EG=0;const dO="__ngContext__";function ui(t,e){ai(e)?(t[dO]=e[au],function OG(t){lO.set(t[au],t)}(e)):t[dO]=e}let hO;function pO(t,e){return hO(t,e)}function Wg(t){const e=t[Wt];return Wr(e)?e[Wt]:e}function gN(t){return mN(t[wa])}function _N(t){return mN(t[ho])}function mN(t){for(;null!==t&&!Wr(t);)t=t[ho];return t}function Eh(t,e,n,r,i){if(null!=r){let o,s=!1;Wr(r)?o=r:ai(r)&&(s=!0,r=r[sn]);const a=bt(r);0===t&&null!==n?null==i?wN(e,n,a):Eu(e,n,a,i||null,!0):1===t&&null!==n?Eu(e,n,a,i||null,!0):2===t?function bC(t,e,n){const r=OC(t,e);r&&function zG(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function qG(t,e,n,r,i){const o=n[No];o!==bt(n)&&Eh(e,t,r,o,i);for(let a=Tr;a<n.length;a++){const c=n[a];Kg(c[Pe],c,t,e,r,o)}}(e,t,o,n,i)}}function fO(t,e){return t.createComment(function aN(t){return t.replace(CG,e=>e.replace(wG,PG))}(e))}function EC(t,e,n){return t.createElement(e,n)}function vN(t,e){const n=t[lu],r=n.indexOf(e);th(e),n.splice(r,1)}function MC(t,e){if(t.length<=Tr)return;const n=Tr+e,r=t[n];if(r){const i=r[Pa];null!==i&&i!==t&&vN(i,r),e>0&&(t[n-1][ho]=r[ho]);const o=fo(t,Tr+e);!function FG(t,e){Kg(t,e,e[qe],2,null,null),e[sn]=null,e[ar]=null}(r[Pe],r);const s=o[Ki];null!==s&&s.detachView(o[Pe]),r[Wt]=null,r[ho]=null,r[Qe]&=-129}return r}function gO(t,e){if(!(256&e[Qe])){const n=e[qe];e[cu]&&kv(e[cu]),e[ko]&&kv(e[ko]),n.destroyNode&&Kg(t,e,n,3,null,null),function UG(t){let e=t[wa];if(!e)return _O(t[Pe],t);for(;e;){let n=null;if(ai(e))n=e[wa];else{const r=e[Tr];r&&(n=r)}if(!n){for(;e&&!e[ho]&&e!==t;)ai(e)&&_O(e[Pe],e),e=e[Wt];null===e&&(e=t),ai(e)&&_O(e[Pe],e),n=e&&e[ho]}e=n}}(e)}}function _O(t,e){if(!(256&e[Qe])){e[Qe]&=-129,e[Qe]|=256,function HG(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Sa)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];Lo(4,a,c);try{c.call(a)}finally{Lo(5,a,c)}}else{Lo(4,i,o);try{o.call(i)}finally{Lo(5,i,o)}}}}}(t,e),function $G(t,e){const n=t.cleanup,r=e[Oc];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[Oc]=null);const i=e[ds];if(null!==i){e[ds]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[Pe].type&&e[qe].destroy();const n=e[Pa];if(null!==n&&Wr(e[Wt])){n!==e[Wt]&&vN(n,e);const r=e[Ki];null!==r&&r.detachView(t)}!function IG(t){lO.delete(t[au])}(e)}}function mO(t,e,n){return function CN(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[sn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===uo.None||o===uo.Emulated)return null}return li(r,n)}}(t,e.parent,n)}function Eu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function wN(t,e,n){t.appendChild(e,n)}function PN(t,e,n,r,i){null!==r?Eu(t,e,n,r,i):wN(t,e,n)}function OC(t,e){return t.parentNode(e)}function EN(t,e,n){return ON(t,e,n)}let yO,PO,AC,ON=function MN(t,e,n){return 40&t.type?li(t,n):null};function IC(t,e,n,r){const i=mO(t,r,e),o=e[qe],a=EN(r.parent||e[ar],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)PN(o,i,n[c],a,!1);else PN(o,i,n,a,!1);void 0!==yO&&yO(o,r,e,n,i)}function qg(t,e){if(null!==e){const n=e.type;if(3&n)return li(e,t);if(4&n)return vO(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return qg(t,r);{const i=t[e.index];return Wr(i)?vO(-1,i):bt(i)}}if(32&n)return pO(e,t)()||bt(t[e.index]);{const r=bN(t,e);return null!==r?Array.isArray(r)?r[0]:qg(Wg(t[Sn]),r):qg(t,e.next)}}return null}function bN(t,e){return null!==e?t[Sn][ar].projection[e.projection]:null}function vO(t,e){const n=Tr+t+1;if(n<e.length){const r=e[n],i=r[Pe].firstChild;if(null!==i)return qg(r,i)}return e[No]}function CO(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;if(s&&0===e&&(a&&ui(bt(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)CO(t,e,n.child,r,i,o,!1),Eh(e,t,i,a,o);else if(32&c){const l=pO(n,r);let h;for(;h=l();)Eh(e,t,i,h,o);Eh(e,t,i,a,o)}else 16&c?AN(t,e,r,n,i,o):Eh(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Kg(t,e,n,r,i,o){CO(n,r,t.firstChild,e,i,o,!1)}function AN(t,e,n,r,i,o){const s=n[Sn],c=s[ar].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Eh(e,t,i,c[l],o);else{let l=c;const h=s[Wt];CC(r)&&(l.flags|=128),CO(t,e,l,h,i,o,!0)}}function DN(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function SN(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&Ec(t,e,r),null!==i&&DN(t,e,i),null!==o&&function ZG(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}function kN(t){return function EO(){if(void 0===AC&&(AC=null,Gt.trustedTypes))try{AC=Gt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return AC}()?.createScriptURL(t)||t}class NN{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lt})`}}function Gc(t){return t instanceof NN?t.changingThisBreaksApplicationSecurity:t}function Zg(t,e){const n=function oW(t){return t instanceof NN&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${lt})`)}return n===e}const lW=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ih=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ih||{});function Dr(t){const e=Qg();return e?e.sanitize(Ih.URL,t)||"":Zg(t,"URL")?Gc(t):function MO(t){return(t=String(t)).match(lW)?t:"unsafe:"+t}(Se(t))}function $N(t){const e=Qg();if(e)return kN(e.sanitize(Ih.RESOURCE_URL,t)||"");if(Zg(t,"ResourceURL"))return kN(Gc(t));throw new X(904,!1)}function Qg(){const t=ae();return t&&t[Us].sanitizer}class fe{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=be({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Xg=new fe("ENVIRONMENT_INITIALIZER"),zN=new fe("INJECTOR",-1),GN=new fe("INJECTOR_DEF_TYPES");class TO{get(e,n=oi){if(n===oi){const r=new Error(`NullInjectorError: No provider for ${Ut(e)}!`);throw r.name="NullInjectorError",r}return n}}function PW(...t){return{\u0275providers:WN(0,t),\u0275fromNgModule:!0}}function WN(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return ka(e,s=>{const a=s;SC(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&qN(i,o),n}function qN(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];DO(i,o=>{e(o,r)})}}function SC(t,e,n,r){if(!(t=F(t)))return!1;let i=null,o=mc(t);const s=!o&&_t(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const c=t.ngModule;if(o=mc(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)SC(l,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;r.add(i);try{ka(o.imports,h=>{SC(h,e,n,r)&&(l||=[],l.push(h))})}finally{}void 0!==l&&qN(l,e)}if(!a){const l=Oa(i)||(()=>new i);e({provide:i,useFactory:l,deps:It},i),e({provide:GN,useValue:i,multi:!0},i),e({provide:Xg,useValue:()=>ie(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const l=t;DO(c,h=>{e(h,l)})}}}return i!==t&&void 0!==t.providers}function DO(t,e){for(let n of t)ke(n)&&(n=n.\u0275providers),Array.isArray(n)?DO(n,e):e(n)}const EW=xe({provide:String,useValue:xe});function SO(t){return null!==t&&"object"==typeof t&&EW in t}function Mu(t){return"function"==typeof t}const RO=new fe("Set Injector scope."),RC={},OW={};let xO;function xC(){return void 0===xO&&(xO=new TO),xO}class go{}class kC extends go{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,NO(e,s=>this.processProvider(s)),this.records.set(zN,bh(void 0,this)),i.has("environment")&&this.records.set(go,bh(void 0,this));const o=this.records.get(RO);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(GN.multi,It,pt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Ro(this),r=br(void 0);try{return e()}finally{Ro(n),br(r)}}get(e,n=oi,r=pt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(vv))return e[vv](this);r=jf(r);const o=Ro(this),s=br(void 0);try{if(!(r&pt.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function DW(t){return"function"==typeof t||"object"==typeof t&&t instanceof fe}(e)&&Zl(e);c=l&&this.injectableDefInScope(l)?bh(kO(e),RC):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&pt.Self?xC():this.parent).get(e,n=r&pt.Optional&&n===oi?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[yc]=a[yc]||[]).unshift(Ut(e)),o)throw a;return function wc(t,e,n,r){const i=t[yc];throw e[Sd]&&i.unshift(e[Sd]),t.message=function yv(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Ut(e);if(Array.isArray(e))i=e.map(Ut).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Ut(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Bf,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[yc]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{br(s),Ro(o)}}resolveInjectorInitializers(){const e=Ro(this),n=br(void 0);try{const i=this.get(Xg.multi,It,pt.Self);for(const o of i)o()}finally{Ro(e),br(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Ut(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new X(205,!1)}processProvider(e){let n=Mu(e=F(e))?e:F(e&&e.provide);const r=function bW(t){return SO(t)?bh(void 0,t.useValue):bh(YN(t),RC)}(e);if(Mu(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=bh(void 0,RC,!0),i.factory=()=>tu(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===RC&&(n.value=OW,n.value=n.factory()),"object"==typeof n.value&&n.value&&function AW(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=F(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function kO(t){const e=Zl(t),n=null!==e?e.factory:Oa(t);if(null!==n)return n;if(t instanceof fe)throw new X(204,!1);if(t instanceof Function)return function IW(t){const e=t.length;if(e>0)throw Hc(e,"?"),new X(204,!1);const n=function uv(t){return t&&(t[Yl]||t[dv])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new X(204,!1)}function YN(t,e,n){let r;if(Mu(t)){const i=F(t);return Oa(i)||kO(i)}if(SO(t))r=()=>F(t.useValue);else if(function ZN(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...tu(t.deps||[]));else if(function KN(t){return!(!t||!t.useExisting)}(t))r=()=>ie(F(t.useExisting));else{const i=F(t&&(t.useClass||t.provide));if(!function TW(t){return!!t.deps}(t))return Oa(i)||kO(i);r=()=>new i(...tu(t.deps))}return r}function bh(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function NO(t,e){for(const n of t)Array.isArray(n)?NO(n,e):n&&ke(n)?NO(n.\u0275providers,e):e(n)}const NC=new fe("AppId",{providedIn:"root",factory:()=>SW}),SW="ng",QN=new fe("Platform Initializer"),_o=new fe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),XN=new fe("CSP nonce",{providedIn:"root",factory:()=>function Oh(){if(void 0!==PO)return PO;if(typeof document<"u")return document;throw new X(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let JN=(t,e,n)=>null;function HO(t,e,n=!1){return JN(t,e,n)}class jW{}class n2{}class HW{resolveComponentFactory(e){throw function $W(t){const e=Error(`No component factory found for ${Ut(t)}.`);return e.ngComponent=t,e}(e)}}let jC=(()=>{class e{}return e.NULL=new HW,e})();function zW(){return Dh(wr(),ae())}function Dh(t,e){return new xi(li(t,e))}let xi=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=zW,e})();function GW(t){return t instanceof xi?t.nativeElement:t}class i2{}let Fa=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function WW(){const t=ae(),n=Si(wr().index,t);return(ai(n)?n:t)[qe]}(),e})(),qW=(()=>{var t;class e{}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:()=>null}),e})();class Sh{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const WO=new Sh("16.2.6"),qO={};function c2(t,e=null,n=null,r){const i=l2(t,e,n,r);return i.resolveInjectorInitializers(),i}function l2(t,e=null,n=null,r,i=new Set){const o=[n||It,PW(t)];return r=r||("object"==typeof t?void 0:Ut(t)),new kC(o,e||xC(),r||null,i)}let ki=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return c2({name:""},i,r,"");{const o=r.name??"";return c2({name:o},r.parent,r.providers,o)}}}return(t=e).THROW_IF_NOT_FOUND=oi,t.NULL=new TO,t.\u0275prov=be({token:t,providedIn:"any",factory:()=>ie(zN)}),t.__NG_ELEMENT_ID__=-1,e})();function ZO(t){return t.ngOriginalError}class La{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&ZO(e);for(;n&&ZO(n);)n=ZO(n);return n||null}}function QO(t){return e=>{setTimeout(t,void 0,e)}}const Mn=class eq extends Q{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=QO(o),i&&(i=QO(i)),s&&(s=QO(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Pt&&e.add(a),a}};function d2(...t){}class Tt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Mn(!1),this.onMicrotaskEmpty=new Mn(!1),this.onStable=new Mn(!1),this.onError=new Mn(!1),typeof Zone>"u")throw new X(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function tq(){const t="function"==typeof Gt.requestAnimationFrame;let e=Gt[t?"requestAnimationFrame":"setTimeout"],n=Gt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function iq(t){const e=()=>{!function rq(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Gt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,JO(t),t.isCheckStableRunning=!0,XO(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),JO(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function sq(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return h2(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),p2(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return h2(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),p2(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,JO(t),XO(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Tt.isInAngularZone())throw new X(909,!1)}static assertNotInAngularZone(){if(Tt.isInAngularZone())throw new X(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,nq,d2,d2);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const nq={};function XO(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function JO(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function h2(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function p2(t){t._nesting--,XO(t)}class oq{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mn,this.onMicrotaskEmpty=new Mn,this.onStable=new Mn,this.onError=new Mn}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const f2=new fe("",{providedIn:"root",factory:g2});function g2(){const t=we(Tt);let e=!0;return te(new st(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new st(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{Tt.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=t.onUnstable.subscribe(()=>{Tt.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(Ge()))}function Ou(t){return t.ownerDocument}function Va(t){return t instanceof Function?t():t}let eI=(()=>{var t;class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:()=>new t}),e})();function t_(t){for(;t;){t[Qe]|=64;const e=Wg(t);if(Tv(t)&&!e)return t;t=e}return null}const C2=new fe("",{providedIn:"root",factory:()=>!1});let HC=null;function M2(t,e){return t[e]??b2()}function O2(t,e){const n=b2();n.producerNode?.length&&(t[e]=HC,n.lView=t,HC=I2())}const gq={...Wd,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{t_(t.lView)},lView:null};function I2(){return Object.create(gq)}function b2(){return HC??=I2(),HC}const et={};function S(t){T2(Ct(),ae(),qr()+t,!1)}function T2(t,e,n,r){if(!r)if(3==(3&e[Qe])){const o=t.preOrderCheckHooks;null!==o&&Nc(e,o,n)}else{const o=t.preOrderHooks;null!==o&&ch(e,o,0,n)}Da(n)}function ee(t,e=pt.Default){const n=ae();return null===n?ie(t,e):oC(wr(),n,F(t),e)}function zC(t,e,n,r,i,o,s,a,c,l,h){const f=e.blueprint.slice();return f[sn]=i,f[Qe]=140|r,(null!==l||t&&2048&t[Qe])&&(f[Qe]|=2048),Bv(f),f[Wt]=f[Bs]=t,f[_n]=n,f[Us]=s||t&&t[Us],f[qe]=a||t&&t[qe],f[Vs]=c||t&&t[Vs]||null,f[ar]=o,f[au]=function MG(){return EG++}(),f[po]=h,f[Mv]=l,f[Sn]=2==e.type?t[Sn]:f,f}function kh(t,e,n,r,i){let o=t.data[e];if(null===o)o=function tI(t,e,n,r,i){const o=rh(),s=ih(),c=t.data[e]=function Eq(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Aa()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(t,e,n,r,i),function NM(){return je.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function js(){const t=je.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Qi(o,!0),o}function n_(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function D2(t,e,n,r,i){const o=M2(e,cu),s=qr(),a=2&r;try{Da(-1),a&&e.length>ut&&T2(t,e,ut,!1),Lo(a?2:0,i);const l=a?o:null,h=qd(l);try{null!==l&&(l.dirty=!1),n(r,i)}finally{Ia(l,h)}}finally{a&&null===e[cu]&&O2(e,cu),Da(s),Lo(a?3:1,i)}}function nI(t,e,n){if(bv(e)){const r=Yi(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{Yi(r)}}}function rI(t,e,n){yg()&&(function Dq(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;bc(n)&&function Lq(t,e,n){const r=li(e,t),i=S2(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=GC(t,zC(t,i,null,s,r,e,null,t[Us].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Lc(n,e),ui(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const c=t.data[a],l=Ra(e,t,a,n);ui(l,e),null!==s&&Vq(0,a-i,l,c,0,s),Fo(c)&&(Si(n.index,e)[_n]=Ra(e,t,a,n))}}(t,e,n,li(n,e)),64==(64&n.flags)&&F2(t,e,n))}function iI(t,e,n=li){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function S2(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=oI(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function oI(t,e,n,r,i,o,s,a,c,l,h){const f=ut+r,_=f+i,v=function mq(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:et);return n}(f,_),E="function"==typeof l?l():l;return v[Pe]={type:t,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:E,incompleteFirstPass:!1,ssrId:h}}let R2=t=>null;function x2(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const o=t[i];null===r?k2(n,e,i,o):r.hasOwnProperty(i)&&k2(n,e,r[i],o)}return n}function k2(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function mo(t,e,n,r,i,o,s,a){const c=li(e,n);let h,l=e.inputs;!a&&null!=l&&(h=l[r])?(uI(t,n,h,r,i),bc(e)&&function Iq(t,e){const n=Si(e,t);16&n[Qe]||(n[Qe]|=64)}(n,e.index)):3&e.type&&(r=function Oq(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(c,r,i))}function sI(t,e,n,r){if(yg()){const i=null===r?null:{"":-1},o=function Rq(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(Vd(e,s.selectors,!1))if(r||(r=[]),Fo(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),aI(t,e,a.length)}else r.unshift(s),aI(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&N2(t,e,n,s,i,a),i&&function xq(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new X(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=ru(n.mergedAttrs,n.attrs)}function N2(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Rg(Lc(n,e),t,r[l].type);!function Nq(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,c=n_(t,e,r.length,null);for(let l=0;l<r.length;l++){const h=r[l];n.mergedAttrs=ru(n.mergedAttrs,h.hostAttrs),Fq(t,n,e,c,h),kq(c,h,i),null!==h.contentQueries&&(n.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(n.flags|=64);const f=h.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function Mq(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let c=null,l=null;for(let h=e.directiveStart;h<i;h++){const f=o[h],_=n?n.get(f):null,E=_?_.outputs:null;c=x2(f.inputs,h,c,_?_.inputs:null),l=x2(f.outputs,h,l,E);const I=null===c||null===s||iu(e)?null:Uq(c,h,s);a.push(I)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(t,n,o)}function F2(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function FM(){return je.lFrame.currentDirectiveIndex}();try{Da(o);for(let a=r;a<i;a++){const c=t.data[a],l=e[a];Eg(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&Sq(c,l)}}finally{Da(-1),Eg(s)}}function Sq(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function aI(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function kq(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Fo(e)&&(n[""]=t)}}function Fq(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=Oa(i.type)),s=new Sa(o,Fo(i),ee);t.blueprint[r]=s,n[r]=s,function Tq(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function Aq(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,n_(t,n,i.hostVars,et),i)}function zs(t,e,n,r,i,o){const s=li(t,e);!function cI(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?Se(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[qe],s,o,t.value,n,r,i)}function Vq(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)L2(r,n,s[a++],s[a++],s[a++])}function L2(t,e,n,r,i){const o=Yi(null);try{const s=t.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{Yi(o)}}function Uq(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function V2(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function U2(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=t.data[o];kc(n[r]),s.contentQueries(2,e[o],o)}}}function GC(t,e){return t[wa]?t[Ev][ho]=e:t[wa]=e,t[Ev]=e,e}function lI(t,e,n){kc(0);const r=Yi(null);try{e(t,n)}finally{Yi(r)}}function B2(t){return t[Oc]||(t[Oc]=[])}function j2(t){return t.cleanup||(t.cleanup=[])}function H2(t,e){const n=t[Vs],r=n?n.get(La,null):null;r&&r.handleError(e)}function uI(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];L2(t.data[s],e[s],r,a,i)}}function Bq(t,e){const n=Si(e,t),r=n[Pe];!function jq(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[sn];null!==i&&null===n[po]&&(n[po]=HO(i,n[Vs])),dI(r,n,n[_n])}function dI(t,e,n){Mg(e);try{const r=t.viewQuery;null!==r&&lI(1,r,n);const i=t.template;null!==i&&D2(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&U2(t,e),t.staticViewQueries&&lI(2,t.viewQuery,n);const o=t.components;null!==o&&function $q(t,e){for(let n=0;n<e.length;n++)Bq(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Qe]&=-5,Og()}}let z2=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,o){const s=typeof Zone>"u"?null:Zone.current,a=function CM(t,e,n){const r=Object.create(wM);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>du(r),run:()=>{if(r.dirty=!1,r.hasRun&&!hu(r))return;r.hasRun=!0;const s=qd(r);try{r.cleanupFn(),r.cleanupFn=ug,r.fn(i)}finally{Ia(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(r,h=>{this.all.has(h)&&this.queue.set(h,s)},o);let c;this.all.add(a),a.notify();const l=()=>{a.cleanup(),c?.(),this.all.delete(a),this.queue.delete(a)};return c=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:()=>new t}),e})();function WC(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=ls(i,a):2==o&&(r=ls(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function r_(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];null!==o&&r.push(bt(o)),Wr(o)&&G2(o,r);const s=n.type;if(8&s)r_(t,e,n.child,r);else if(32&s){const a=pO(n,e);let c;for(;c=a();)r.push(c)}else if(16&s){const a=bN(e,n);if(Array.isArray(a))r.push(...a);else{const c=Wg(e[Sn]);r_(c[Pe],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function G2(t,e){for(let n=Tr;n<t.length;n++){const r=t[n],i=r[Pe].firstChild;null!==i&&r_(r[Pe],r,i,e)}t[No]!==t[sn]&&e.push(t[No])}function qC(t,e,n,r=!0){const i=e[Us],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{W2(t,e,t.template,n)}catch(c){throw r&&H2(e,c),c}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function W2(t,e,n,r){const i=e[Qe];if(256!=(256&i)){e[Us].effectManager?.flush(),Mg(e);try{Bv(e),function wg(t){return je.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&D2(t,e,n,2,r);const s=3==(3&i);if(s){const l=t.preOrderCheckHooks;null!==l&&Nc(e,l,null)}else{const l=t.preOrderHooks;null!==l&&ch(e,l,0,null),lh(e,0)}if(function Gq(t){for(let e=gN(t);null!==e;e=_N(e)){if(!e[Ov])continue;const n=e[lu];for(let r=0;r<n.length;r++){gg(n[r])}}}(e),q2(e,2),null!==t.contentQueries&&U2(t,e),s){const l=t.contentCheckHooks;null!==l&&Nc(e,l)}else{const l=t.contentHooks;null!==l&&ch(e,l,1),lh(e,1)}!function _q(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=M2(e,ko);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)Da(~o);else{const s=o,a=n[++i],c=n[++i];Pg(a,s),r.dirty=!1;const l=qd(r);try{c(2,e[s])}finally{Ia(r,l)}}}}finally{null===e[ko]&&O2(e,ko),Da(-1)}}(t,e);const a=t.components;null!==a&&Z2(e,a,0);const c=t.viewQuery;if(null!==c&&lI(2,c,r),s){const l=t.viewCheckHooks;null!==l&&Nc(e,l)}else{const l=t.viewHooks;null!==l&&ch(e,l,2),lh(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[Qe]&=-73,th(e)}finally{Og()}}}function q2(t,e){for(let n=gN(t);null!==n;n=_N(n))for(let r=Tr;r<n.length;r++)K2(n[r],e)}function Wq(t,e,n){K2(Si(e,t),n)}function K2(t,e){if(!function fg(t){return 128==(128&t[Qe])}(t))return;const n=t[Pe],r=t[Qe];if(80&r&&0===e||1024&r||2===e)W2(n,t,n.template,t[_n]);else if(t[su]>0){q2(t,1);const i=n.components;null!==i&&Z2(t,i,1)}}function Z2(t,e,n){for(let r=0;r<e.length;r++)Wq(t,e[r],n)}class i_{get rootNodes(){const e=this._lView,n=e[Pe];return r_(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[_n]}set context(e){this._lView[_n]=e}get destroyed(){return 256==(256&this._lView[Qe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Wt];if(Wr(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(MC(e,r),fo(n,r))}this._attachedToViewContainer=!1}gO(this._lView[Pe],this._lView)}onDestroy(e){!function xc(t,e){if(256==(256&t[Qe]))throw new X(911,!1);null===t[ds]&&(t[ds]=[]),t[ds].push(e)}(this._lView,e)}markForCheck(){t_(this._cdRefInjectingView||this._lView)}detach(){this._lView[Qe]&=-129}reattach(){this._lView[Qe]|=128}detectChanges(){qC(this._lView[Pe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new X(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function VG(t,e){Kg(t,e,e[qe],2,null,null)}(this._lView[Pe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new X(902,!1);this._appRef=e}}class qq extends i_{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;qC(e[Pe],e,e[_n],!1)}checkNoChanges(){}get context(){return null}}class Y2 extends jC{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=_t(e);return new o_(n,this.ngModule)}}function Q2(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Zq{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=jf(r);const i=this.injector.get(e,qO,r);return i!==qO||n===qO?i:this.parentInjector.get(e,n,r)}}class o_ extends n2{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=Q2(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Q2(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function cM(t){return t.map(Zf).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof go?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new Zq(e,o):e,a=s.get(i2,null);if(null===a)throw new X(407,!1);const f={rendererFactory:a,sanitizer:s.get(qW,null),effectManager:s.get(z2,null),afterRenderEventManager:s.get(eI,null)},_=a.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",E=r?function yq(t,e,n,r){const o=r.get(C2,!1)||n===uo.ShadowDom,s=t.selectRootElement(e,o);return function vq(t){R2(t)}(s),s}(_,r,this.componentDef.encapsulation,s):EC(_,v,function Kq(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(v)),L=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let N=null;null!==E&&(N=HO(E,s,!0));const H=oI(0,null,null,1,0,null,null,null,null,null,null),$=zC(null,H,null,L,null,null,f,_,s,null,N);let pe,Oe;Mg($);try{const at=this.componentDef;let Zt,co=null;at.findHostDirectiveDefs?(Zt=[],co=new Map,at.findHostDirectiveDefs(at,Zt,co),Zt.push(at)):Zt=[at];const Df=function Qq(t,e){const n=t[Pe],r=ut;return t[r]=e,kh(n,r,2,"#host",null)}($,E),x0e=function Xq(t,e,n,r,i,o,s){const a=i[Pe];!function Jq(t,e,n,r){for(const i of t)e.mergedAttrs=ru(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(WC(e,e.mergedAttrs,!0),null!==n&&SN(r,n,e))}(r,t,e,s);let c=null;null!==e&&(c=HO(e,i[Vs]));const l=o.rendererFactory.createRenderer(e,n);let h=16;n.signals?h=4096:n.onPush&&(h=64);const f=zC(i,S2(n),null,h,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&aI(a,t,r.length-1),GC(i,f),i[t.index]=f}(Df,E,at,Zt,$,f,_);Oe=eh(H,ut),E&&function tK(t,e,n,r){if(r)Ec(t,n,["ng-version",WO.full]);else{const{attrs:i,classes:o}=function Yf(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Di(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Ec(t,n,i),o&&o.length>0&&DN(t,n,o.join(" "))}}(_,at,E,r),void 0!==n&&function nK(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(Oe,this.ngContentSelectors,n),pe=function eK(t,e,n,r,i,o){const s=wr(),a=i[Pe],c=li(s,i);N2(a,i,s,n,null,r);for(let h=0;h<n.length;h++)ui(Ra(i,a,s.directiveStart+h,s),i);F2(a,i,s),c&&ui(c,i);const l=Ra(i,a,s.directiveStart+s.componentOffset,s);if(t[_n]=i[_n]=l,null!==o)for(const h of o)h(l,e);return nI(a,s,t),l}(x0e,at,Zt,co,$,[rK]),dI(H,$,null)}finally{Og()}return new Yq(this.componentType,pe,Dh(Oe,$),$,Oe)}}class Yq extends jW{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new qq(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;uI(o[Pe],o,i,e,n),this.previousInputValues.set(e,n),t_(Si(this._tNode.index,o))}}get injector(){return new Kr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function rK(){const t=wr();ah(ae()[Pe],t)}function Bt(t){let e=function X2(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Fo(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new X(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=KC(t.inputs),s.inputTransforms=KC(t.inputTransforms),s.declaredInputs=KC(t.declaredInputs),s.outputs=KC(t.outputs);const a=i.hostBindings;a&&aK(t,a);const c=i.viewQuery,l=i.contentQueries;if(c&&oK(t,c),l&&sK(t,l),sr(t.inputs,i.inputs),sr(t.declaredInputs,i.declaredInputs),sr(t.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),sr(s.inputTransforms,i.inputTransforms)),Fo(i)&&i.data.animation){const h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===Bt&&(n=!1)}}e=Object.getPrototypeOf(e)}!function iK(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ru(i.hostAttrs,n=ru(n,i.hostAttrs))}}(r)}function KC(t){return t===zr?{}:t===It?[]:t}function oK(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function sK(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function aK(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function nF(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function ZC(t){return!!hI(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function hI(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Gs(t,e,n){return t[e]=n}function di(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Go(t,e,n,r){const i=ae();return di(i,$s(),e)&&(Ct(),zs(mn(),i,t,e,n,r)),Go}function Fh(t,e,n,r){return di(t,$s(),n)?e+Se(n)+r:et}function De(t,e,n,r,i,o,s,a){const c=ae(),l=Ct(),h=t+ut,f=l.firstCreatePass?function RK(t,e,n,r,i,o,s,a,c){const l=e.consts,h=kh(e,t,4,s||null,Vo(l,a));sI(e,n,h,Vo(l,c)),ah(e,h);const f=h.tView=oI(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,h),f.queries=e.queries.embeddedTView(h)),h}(h,l,c,e,n,r,i,o,s):l.data[h];Qi(f,!1);const _=gF(l,c,f,t);sh()&&IC(l,c,_,f),ui(_,c),GC(c,c[h]=V2(_,c,_,f)),ng(f)&&rI(l,c,f),null!=s&&iI(c,f,a)}let gF=function _F(t,e,n,r){return Uo(!0),e[qe].createComment("")};function J(t,e,n){const r=ae();return di(r,$s(),e)&&mo(Ct(),mn(),r,t,e,r[qe],n,!1),J}function yI(t,e,n,r,i){const s=i?"class":"style";uI(t,n,e.inputs[s],s,r)}function m(t,e,n,r){const i=ae(),o=Ct(),s=ut+t,a=i[qe],c=o.firstCreatePass?function FK(t,e,n,r,i,o){const s=e.consts,c=kh(e,t,2,r,Vo(s,i));return sI(e,n,c,Vo(s,o)),null!==c.attrs&&WC(c,c.attrs,!1),null!==c.mergedAttrs&&WC(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,e,n,r):o.data[s],l=yF(o,i,c,a,e,t);i[s]=l;const h=ng(c);return Qi(c,!0),SN(a,l,c),32!=(32&c.flags)&&sh()&&IC(o,i,l,c),0===function _g(){return je.lFrame.elementDepthCount}()&&ui(l,i),function TM(){je.lFrame.elementDepthCount++}(),h&&(rI(o,i,c),nI(o,c,i)),null!==r&&iI(i,c),m}function y(){let t=wr();ih()?gu():(t=t.parent,Qi(t,!1));const e=t;(function AM(t){return je.skipHydrationRootTNode===t})(e)&&function RM(){je.skipHydrationRootTNode=null}(),function mg(){je.lFrame.elementDepthCount--}();const n=Ct();return n.firstCreatePass&&(ah(n,t),bv(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function zM(t){return 0!=(8&t.flags)}(e)&&yI(n,e,ae(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function GM(t){return 0!=(16&t.flags)}(e)&&yI(n,e,ae(),e.stylesWithoutHost,!1),y}function D(t,e,n,r){return m(t,e,n,r),y(),D}let yF=(t,e,n,r,i,o)=>(Uo(!0),EC(r,i,function Qv(){return je.lFrame.currentNamespace}()));function zh(t,e,n){const r=ae(),i=Ct(),o=t+ut,s=i.firstCreatePass?function UK(t,e,n,r,i){const o=e.consts,s=Vo(o,r),a=kh(e,t,8,"ng-container",s);return null!==s&&WC(a,s,!0),sI(e,n,a,Vo(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];Qi(s,!0);const a=CF(i,r,s,t);return r[o]=a,sh()&&IC(i,r,a,s),ui(a,r),ng(s)&&(rI(i,r,s),nI(i,s,r)),null!=n&&iI(r,s),zh}function Gh(){let t=wr();const e=Ct();return ih()?gu():(t=t.parent,Qi(t,!1)),e.firstCreatePass&&(ah(e,t),bv(t)&&e.queries.elementEnd(t)),Gh}let CF=(t,e,n,r)=>(Uo(!0),fO(e[qe],""));function Ni(){return ae()}function u_(t){return!!t&&"function"==typeof t.then}function wF(t){return!!t&&"function"==typeof t.subscribe}function K(t,e,n,r){const i=ae(),o=Ct(),s=wr();return function EF(t,e,n,r,i,o,s){const a=ng(r),l=t.firstCreatePass&&j2(t),h=e[_n],f=B2(e);let _=!0;if(3&r.type||s){const I=li(r,e),b=s?s(I):I,L=f.length,N=s?$=>s(bt($[r.index])):r.index;let H=null;if(!s&&a&&(H=function $K(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[Oc],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==H)(H.__ngLastListenerFn__||H).__ngNextListenerFn__=o,H.__ngLastListenerFn__=o,_=!1;else{o=OF(r,e,h,o,!1);const $=n.listen(b,i,o);f.push(o,$),l&&l.push(i,N,L,L+1)}}else o=OF(r,e,h,o,!1);const v=r.outputs;let E;if(_&&null!==v&&(E=v[i])){const I=E.length;if(I)for(let b=0;b<I;b+=2){const pe=e[E[b]][E[b+1]].subscribe(o),Oe=f.length;f.push(o,pe),l&&l.push(i,r.index,Oe,-(Oe+1))}}}(o,i,i[qe],s,t,e,r),K}function MF(t,e,n,r){try{return Lo(6,e,n),!1!==n(r)}catch(i){return H2(t,i),!1}finally{Lo(7,e,n)}}function OF(t,e,n,r,i){return function o(s){if(s===Function)return r;t_(t.componentOffset>-1?Si(t.index,e):e);let c=MF(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)c=MF(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&s.preventDefault(),c}}function Qt(t=1){return function Ig(t){return(je.lFrame.contextLView=function VM(t,e){for(;t>0;)e=e[Bs],t--;return e}(t,je.lFrame.contextLView))[_n]}(t)}function HK(t,e){let n=null;const r=function Ud(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?Vd(t,o,!0):qf(r,o))return i}else n=i}return n}function gs(t,e,n){return ew(t,"",e,"",n),gs}function ew(t,e,n,r,i){const o=ae(),s=Fh(o,e,n,r);return s!==et&&mo(Ct(),mn(),o,t,s,o[qe],i,!1),ew}function tw(t,e){return t<<17|e<<2}function Wc(t){return t>>17&32767}function vI(t){return 2|t}function bu(t){return(131068&t)>>2}function CI(t,e){return-131069&t|e<<2}function wI(t){return 1|t}function FF(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Wc(o):bu(o),c=!1;for(;0!==a&&(!1===c||s);){const h=t[a+1];ZK(t[a],e)&&(c=!0,t[a+1]=r?wI(h):vI(h)),a=r?Wc(h):bu(h)}c&&(t[n+1]=r?vI(o):wI(o))}function ZK(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Hs(t,e)>=0}function Wo(t,e){return function _s(t,e,n,r){const i=ae(),o=Ct(),s=function ps(t){const e=je.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);o.firstUpdatePass&&function GF(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[qr()],s=function zF(t,e){return e>=t.expandoStartIndex}(t,n);(function ZF(t,e){return 0!=(t.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function iZ(t,e,n,r){const i=function oh(t){const e=je.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=d_(n=PI(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=PI(i,t,e,n,r),null===o){let c=function oZ(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==bu(r))return t[Wc(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=PI(null,t,e,c[1],r),c=d_(c,e.attrs,r),function sZ(t,e,n,r){t[Wc(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else o=function aZ(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=d_(r,t[o].hostAttrs,n);return d_(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function qK(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Wc(s),c=bu(s);t[r]=n;let h,l=!1;if(Array.isArray(n)?(h=n[1],(null===h||Hs(n,h)>0)&&(l=!0)):h=n,i)if(0!==c){const _=Wc(t[a+1]);t[r+1]=tw(_,a),0!==_&&(t[_+1]=CI(t[_+1],r)),t[a+1]=function GK(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=tw(a,0),0!==a&&(t[a+1]=CI(t[a+1],r)),a=r;else t[r+1]=tw(c,0),0===a?a=r:t[c+1]=CI(t[c+1],r),c=r;l&&(t[r+1]=vI(t[r+1])),FF(t,h,r,!0),FF(t,h,r,!1),function KK(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Hs(o,e)>=0&&(n[r+1]=wI(n[r+1]))}(e,h,t,r,o),s=tw(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==et&&di(i,s,e)&&function qF(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const c=t.data,l=c[a+1],h=function WK(t){return 1==(1&t)}(l)?KF(c,e,n,i,bu(l),s):void 0;nw(h)||(nw(o)||function zK(t){return 2==(2&t)}(l)&&(o=KF(c,null,n,i,a,s)),function KG(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:zc.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=zc.Important),t.setStyle(n,r,i,o))}}(r,s,Jd(qr(),n),i,o))}(o,o.data[qr()],i,i[qe],t,i[s+1]=function dZ(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Ut(Gc(t)))),t}(e,n),r,s)}(t,e,null,!0),Wo}function PI(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=d_(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function d_(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),qt(t,s,!!n||e[++o]))}return void 0===t?null:t}function KF(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const c=t[i],l=Array.isArray(c),h=l?c[1]:c,f=null===h;let _=n[i+1];_===et&&(_=f?It:void 0);let v=f?vu(_,r):h===r?_:void 0;if(l&&!nw(v)&&(v=vu(c,r)),nw(v)&&(a=v,s))return a;const E=t[i+1];i=s?Wc(E):bu(E)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=vu(c,r))}return a}function nw(t){return void 0!==t}function w(t,e=""){const n=ae(),r=Ct(),i=t+ut,o=r.firstCreatePass?kh(r,i,1,e,null):r.data[i],s=YF(r,n,o,e,t);n[i]=s,sh()&&IC(r,n,s,o),Qi(o,!1)}let YF=(t,e,n,r,i)=>(Uo(!0),function PC(t,e){return t.createText(e)}(e[qe],r));function He(t){return At("",t,""),He}function At(t,e,n){const r=ae(),i=Fh(r,t,e,n);return i!==et&&function Ua(t,e,n){const r=Jd(e,t);!function yN(t,e,n){t.setValue(e,n)}(t[qe],r,n)}(r,qr(),i),At}const Kh="en-US";let yL=Kh;function OI(t,e,n,r,i){if(t=F(t),Array.isArray(t))for(let o=0;o<t.length;o++)OI(t[o],e,n,r,i);else{const o=Ct(),s=ae(),a=wr();let c=Mu(t)?t:F(t.provide);const l=YN(t),h=1048575&a.providerIndexes,f=a.directiveStart,_=a.providerIndexes>>20;if(Mu(t)||!t.multi){const v=new Sa(l,i,ee),E=bI(c,e,i?h:h+_,f);-1===E?(Rg(Lc(a,s),o,c),II(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),s.push(v)):(n[E]=v,s[E]=v)}else{const v=bI(c,e,h+_,f),E=bI(c,e,h,h+_),b=E>=0&&n[E];if(i&&!b||!i&&!(v>=0&&n[v])){Rg(Lc(a,s),o,c);const L=function RY(t,e,n,r,i){const o=new Sa(t,n,ee);return o.multi=[],o.index=e,o.componentProviders=0,HL(o,i,r&&!n),o}(i?SY:DY,n.length,i,r,l);!i&&b&&(n[E].providerFactory=L),II(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(L),s.push(L)}else II(o,t,v>-1?v:E,HL(n[i?E:v],l,!i&&r));!i&&r&&b&&n[E].componentProviders++}}}function II(t,e,n,r){const i=Mu(e),o=function MW(t){return!!t.useClass}(e);if(i||o){const c=(o?F(e.useClass):e).prototype.ngOnDestroy;if(c){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const h=l.indexOf(n);-1===h?l.push(n,[r,c]):l[h+1].push(r,c)}else l.push(n,c)}}}function HL(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function bI(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function DY(t,e,n,r){return TI(this.multi,[])}function SY(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Ra(n,n[Pe],this.providerFactory.index,r);o=a.slice(0,s),TI(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],TI(i,o);return o}function TI(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function On(t,e=[]){return n=>{n.providersResolver=(r,i)=>function AY(t,e,n){const r=Ct();if(r.firstCreatePass){const i=Fo(t);OI(n,r.data,r.blueprint,i,!0),OI(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Au{}class zL{}class AI extends Au{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Y2(this);const i=Gr(e);this._bootstrapComponents=Va(i.bootstrap),this._r3Injector=l2(e,n,[{provide:Au,useValue:this},{provide:jC,useValue:this.componentFactoryResolver},...r],Ut(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class DI extends zL{constructor(e){super(),this.moduleType=e}create(e){return new AI(this.moduleType,e,[])}}class GL extends Au{constructor(e){super(),this.componentFactoryResolver=new Y2(this),this.instance=null;const n=new kC([...e.providers,{provide:Au,useValue:this},{provide:jC,useValue:this.componentFactoryResolver}],e.parent||xC(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function SI(t,e,n=null){return new GL({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let NY=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=WN(0,r.type),o=i.length>0?SI([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=be({token:t,providedIn:"environment",factory:()=>new t(ie(go))}),e})();function WL(t){t.getStandaloneInjector=e=>e.get(NY).getOrCreateStandaloneInjector(t)}function yo(t,e,n,r){return function eV(t,e,n,r,i,o){const s=e+n;return di(t,s,i)?Gs(t,s+1,o?r.call(o,i):r(i)):m_(t,s+1)}(ae(),Ar(),t,e,n,r)}function JL(t,e,n,r,i){return function tV(t,e,n,r,i,o,s){const a=e+n;return function Iu(t,e,n,r){const i=di(t,e,n);return di(t,e+1,r)||i}(t,a,i,o)?Gs(t,a+2,s?r.call(s,i,o):r(i,o)):m_(t,a+2)}(ae(),Ar(),t,e,n,r,i)}function m_(t,e){const n=t[e];return n===et?void 0:n}function oQ(){return this._results[Symbol.iterator]()}class xI{get changes(){return this._changes||(this._changes=new Mn)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=xI.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=oQ)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function Xi(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Vg(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function aQ(t,e,n,r=!0){const i=e[Pe];if(function BG(t,e,n,r){const i=Tr+r,o=n.length;r>0&&(n[i-1][ho]=e),r<o-Tr?(e[ho]=n[i],dC(n,Tr+r,e)):(n.push(e),e[ho]=null),e[Wt]=n;const s=e[Pa];null!==s&&n!==s&&function jG(t,e){const n=t[lu];e[Sn]!==e[Wt][Wt][Sn]&&(t[Ov]=!0),null===n?t[lu]=[e]:n.push(e)}(s,e);const a=e[Ki];null!==a&&a.insertView(t),e[Qe]|=128}(i,e,t,n),r){const o=vO(n,t),s=e[qe],a=OC(s,t[No]);null!==a&&function LG(t,e,n,r,i,o){r[sn]=i,r[ar]=e,Kg(t,r,n,1,i,o)}(i,t[ar],s,e,a,o)}}let Ba=(()=>{class e{}return e.__NG_ELEMENT_ID__=uQ,e})();const cQ=Ba,lQ=class extends cQ{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function sQ(t,e,n,r){const i=e.tView,a=zC(t,i,n,4096&t[Qe]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Pa]=t[e.index];const l=t[Ki];return null!==l&&(a[Ki]=l.createEmbeddedView(i)),dI(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new i_(i)}};function uQ(){return aw(wr(),ae())}function aw(t,e){return 4&t.type?new lQ(e,t,Dh(t,e)):null}let ys=(()=>{class e{}return e.__NG_ELEMENT_ID__=_Q,e})();function _Q(){return dV(wr(),ae())}const mQ=ys,lV=class extends mQ{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Dh(this._hostTNode,this._hostLView)}get injector(){return new Kr(this._hostTNode,this._hostLView)}get parentInjector(){const e=Vc(this._hostTNode,this._hostLView);if(Ag(e)){const n=hh(e,this._hostLView),r=Fc(e);return new Kr(n[Pe].data[r+8],n)}return new Kr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=uV(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Tr}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,o){const s=e&&!function xa(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const I=n||{};a=I.index,r=I.injector,i=I.projectableNodes,o=I.environmentInjector||I.ngModuleRef}const c=s?e:new o_(_t(e)),l=r||this.parentInjector;if(!o&&null==c.ngModule){const b=(s?l:this.parentInjector).get(go,null);b&&(o=b)}_t(c.componentType??{});const v=c.create(l,i,null,o);return this.insertImpl(v.hostView,a,false),v}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function IM(t){return Wr(t[Wt])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=i[Wt],h=new lV(l,l[ar],l[Wt]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),a=this._lContainer;return aQ(a,i,s,!r),e.attachToViewContainerRef(),dC(kI(a),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=uV(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=MC(this._lContainer,n);r&&(fo(kI(this._lContainer),n),gO(r[Pe],r))}detach(e){const n=this._adjustIndex(e,-1),r=MC(this._lContainer,n);return r&&null!=fo(kI(this._lContainer),n)?new i_(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function uV(t){return t[8]}function kI(t){return t[8]||(t[8]=[])}function dV(t,e){let n;const r=e[t.index];return Wr(r)?n=r:(n=V2(r,e,null,t),e[t.index]=n,GC(e,n)),hV(n,e,t,r),new lV(n,t,e)}let hV=function pV(t,e,n,r){if(t[No])return;let i;i=8&n.type?bt(r):function yQ(t,e){const n=t[qe],r=n.createComment(""),i=li(e,t);return Eu(n,OC(n,i),r,function GG(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[No]=i};class NI{constructor(e){this.queryList=e,this.matches=null}clone(){return new NI(this.queryList)}setDirty(){this.queryList.setDirty()}}class FI{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new FI(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==vV(e,n).matches&&this.queries[n].setDirty()}}class fV{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class LI{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new LI(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class VI{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new VI(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,n,wQ(n,o)),this.matchTNodeWithReadOption(e,n,gh(n,e,o,!1,!1))}else r===Ba?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,gh(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===xi||i===ys||i===Ba&&4&n.type)this.addMatch(n.index,-2);else{const o=gh(n,e,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function wQ(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function EQ(t,e,n,r){return-1===n?function PQ(t,e){return 11&t.type?Dh(t,e):4&t.type?aw(t,e):null}(e,t):-2===n?function MQ(t,e,n){return n===xi?Dh(e,t):n===Ba?aw(e,t):n===ys?dV(e,t):void 0}(t,e,r):Ra(t,t[Pe],n,e)}function gV(t,e,n,r){const i=e[Ki].queries[r];if(null===i.matches){const o=t.data,s=n.matches,a=[];for(let c=0;c<s.length;c+=2){const l=s[c];a.push(l<0?null:EQ(e,o[l],s[c+1],n.metadata.read))}i.matches=a}return i.matches}function UI(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=gV(t,e,i,n);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const l=o[a+1],h=e[-c];for(let f=Tr;f<h.length;f++){const _=h[f];_[Pa]===_[Wt]&&UI(_[Pe],_,l,r)}if(null!==h[lu]){const f=h[lu];for(let _=0;_<f.length;_++){const v=f[_];UI(v[Pe],v,l,r)}}}}}return r}function jn(t){const e=ae(),n=Ct(),r=zv();kc(r+1);const i=vV(n,r);if(t.dirty&&function OM(t){return 4==(4&t[Qe])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?UI(n,e,r,[]):gV(n,e,i,r);t.reset(o,GW),t.notifyOnChanges()}return!0}return!1}function Xn(t,e,n){const r=Ct();r.firstCreatePass&&(function yV(t,e,n){null===t.queries&&(t.queries=new LI),t.queries.track(new VI(e,n))}(r,new fV(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function mV(t,e,n){const r=new xI(4==(4&n));(function Pq(t,e,n,r){const i=B2(e);i.push(n),t.firstCreatePass&&j2(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[Ki]&&(e[Ki]=new FI),e[Ki].queries.push(new NI(r))}(r,ae(),e)}function $n(){return function OQ(t,e){return t[Ki].queries[e].queryList}(ae(),zv())}function vV(t,e){return t.queries.getByIndex(e)}function CV(t,e){return aw(t,e)}const GI=new fe("Application Initializer");let WI=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=we(GI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const o of this.appInits){const s=o();if(u_(s))r.push(s);else if(wF(s)){const a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),LV=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const ja=new fe("LocaleId",{providedIn:"root",factory:()=>we(ja,pt.Optional|pt.SkipSelf)||function qQ(){return typeof $localize<"u"&&$localize.locale||Kh}()});let uw=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new U(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class YQ{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let VV=(()=>{var t;class e{compileModuleSync(r){return new DI(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),s=Va(Gr(r).declarations).reduce((a,c)=>{const l=_t(c);return l&&a.push(new o_(l)),a},[]);return new YQ(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const $V=new fe(""),hw=new fe("");let QI,ZI=(()=>{var t;class e{constructor(r,i,o){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,QI||(function _X(t){QI=t}(o),o.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Tt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:o})}whenStable(r,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,o){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(Tt),ie(YI),ie(hw))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})(),YI=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return QI?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),qc=null;const HV=new fe("AllowMultipleToken"),XI=new fe("PlatformDestroyListeners"),JI=new fe("appBootstrapListener");class GV{constructor(e,n){this.name=e,this.token=n}}function qV(t,e,n=[]){const r=`Platform: ${e}`,i=new fe(r);return(o=[])=>{let s=e1();if(!s||s.injector.get(HV,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function vX(t){if(qc&&!qc.get(HV,!1))throw new X(400,!1);(function zV(){!function gM(t){Nv=t}(()=>{throw new X(600,!1)})})(),qc=t;const e=t.get(ZV);(function WV(t){t.get(QN,null)?.forEach(n=>n())})(t)}(function KV(t=[],e){return ki.create({name:e,providers:[{provide:RO,useValue:"platform"},{provide:XI,useValue:new Set([()=>qc=null])},...t]})}(a,r))}return function wX(t){const e=e1();if(!e)throw new X(401,!1);return e}()}}function e1(){return qc?.get(ZV)??null}let ZV=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const o=function PX(t="zone.js",e){return"noop"===t?new oq:"zone.js"===t?new Tt(e):t}(i?.ngZone,function YV(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return o.run(()=>{const s=function kY(t,e,n){return new AI(t,e,n)}(r.moduleType,this.injector,function t3(t){return[{provide:Tt,useFactory:t},{provide:Xg,multi:!0,useFactory:()=>{const e=we(MX,{optional:!0});return()=>e.initialize()}},{provide:e3,useFactory:EX},{provide:f2,useFactory:g2}]}(()=>o)),a=s.injector.get(La,null);return o.runOutsideAngular(()=>{const c=o.onError.subscribe({next:l=>{a.handleError(l)}});s.onDestroy(()=>{pw(this._modules,s),c.unsubscribe()})}),function QV(t,e,n){try{const r=n();return u_(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,o,()=>{const c=s.injector.get(WI);return c.runInitializers(),c.donePromise.then(()=>(function vL(t){ii(t,"Expected localeId to be defined"),"string"==typeof t&&(yL=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(ja,Kh)||Kh),this._moduleDoBootstrap(s),s))})})}bootstrapModule(r,i=[]){const o=XV({},i);return function mX(t,e,n){const r=new DI(n);return Promise.resolve(r)}(0,0,r).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(r){const i=r.injector.get(Qh);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(o=>i.bootstrap(o));else{if(!r.instance.ngDoBootstrap)throw new X(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new X(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(XI,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(ki))},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function XV(t,e){return Array.isArray(e)?e.reduce(XV,t):{...t,...e}}let Qh=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=we(e3),this.zoneIsStable=we(f2),this.componentTypes=[],this.components=[],this.isStable=we(uw).hasPendingTasks.pipe(Je(r=>r?q(!1):this.zoneIsStable),on(),Ge()),this._injector=we(go)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const o=r instanceof n2;if(!this._injector.get(WI).done)throw!o&&function Mc(t){const e=_t(t)||yr(t)||vr(t);return null!==e&&e.standalone}(r),new X(405,!1);let a;a=o?r:this._injector.get(jC).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const c=function yX(t){return t.isBoundToModule}(a)?void 0:this._injector.get(Au),h=a.create(ki.NULL,[],i||a.selector,c),f=h.location.nativeElement,_=h.injector.get($V,null);return _?.registerApplication(f),h.onDestroy(()=>{this.detachView(h.hostView),pw(this.components,h),_?.unregisterApplication(f)}),this._loadComponent(h),h}tick(){if(this._runningTick)throw new X(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;pw(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(JI,[]);i.push(...this._bootstrapListeners),i.forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>pw(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new X(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function pw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const e3=new fe("",{providedIn:"root",factory:()=>we(La).handleError.bind(void 0)});function EX(){const t=we(Tt),e=we(La);return n=>t.runOutsideAngular(()=>e.handleError(n))}let MX=(()=>{var t;class e{constructor(){this.zone=we(Tt),this.applicationRef=we(Qh)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let fw=(()=>{class e{}return e.__NG_ELEMENT_ID__=IX,e})();function IX(t){return function bX(t,e,n){if(bc(t)&&!n){const r=Si(t.index,e);return new i_(r,r)}return 47&t.type?new i_(e[Sn],e):null}(wr(),ae(),16==(16&t))}class s3{constructor(){}supports(e){return ZC(e)}create(e){return new xX(e)}}const RX=(t,e)=>e;class xX{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||RX}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<c3(r,i,o)?n:r,a=c3(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const l=a-i,h=c-i;if(l!=h){for(let _=0;_<l;_++){const v=_<o.length?o[_]:o[_]=0,E=v+_;h<=E&&E<l&&(o[_]=v+1)}o[s.previousIndex]=h-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!ZC(e))throw new X(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function fK(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new kX(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new a3),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new a3),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class kX{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class NX{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class a3{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new NX,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function c3(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class l3{constructor(){}supports(e){return e instanceof Map||hI(e)}create(){return new FX}}class FX{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||hI(e)))throw new X(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new LX(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class LX{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function u3(){return new mw([new s3])}let mw=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||u3()),deps:[[e,new d,new p]]}}find(r){const i=this.factories.find(o=>o.supports(r));if(null!=i)return i;throw new X(901,!1)}}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:u3}),e})();function d3(){return new w_([new l3])}let w_=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(i){const o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||d3()),deps:[[e,new d,new p]]}}find(r){const i=this.factories.find(o=>o.supports(r));if(i)return i;throw new X(901,!1)}}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:d3}),e})();const BX=qV(null,"core",[]);let jX=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(Qh))},t.\u0275mod=Vn({type:t}),t.\u0275inj=Yn({}),e})();function Xh(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let s1=null;function Kc(){return s1}class tJ{}const vo=new fe("DocumentToken");let a1=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return we(rJ)},providedIn:"platform"}),e})();const nJ=new fe("Location Initialized");let rJ=(()=>{var t;class e extends a1{constructor(){super(),this._doc=we(vo),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Kc().getBaseHref(this._doc)}onPopState(r){const i=Kc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=Kc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function c1(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function C3(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function $a(t){return t&&"?"!==t[0]?"?"+t:t}let Su=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return we(P3)},providedIn:"root"}),e})();const w3=new fe("appBaseHref");let P3=(()=>{var t;class e extends Su{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??we(vo).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return c1(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+$a(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){const a=this.prepareExternalUrl(o+$a(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){const a=this.prepareExternalUrl(o+$a(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(a1),ie(w3,8))},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),iJ=(()=>{var t;class e extends Su{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(r){const i=c1(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+$a(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+$a(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(a1),ie(w3,8))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})(),l1=(()=>{var t;class e{constructor(r){this._subject=new Mn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function aJ(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(C3(E3(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+$a(i))}normalize(r){return e.stripTrailingSlash(function sJ(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,E3(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+$a(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+$a(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}}return(t=e).normalizeQueryParams=$a,t.joinWithSlash=c1,t.stripTrailingSlash=C3,t.\u0275fac=function(r){return new(r||t)(ie(Su))},t.\u0275prov=be({token:t,factory:function(){return function oJ(){return new l1(ie(Su))}()},providedIn:"root"}),e})();function E3(t){return t.replace(/\/index.html$/,"")}function R3(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}const v1=/\s+/,x3=[];let Cs=(()=>{var t;class e{constructor(r,i,o,s){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=o,this._renderer=s,this.initialClasses=x3,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(v1):x3}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(v1):r}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const i of r)this._updateState(i,!0);else if(null!=r)for(const i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){const o=this.stateMap.get(r);void 0!==o?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){(r=r.trim()).length>0&&r.split(v1).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(mw),ee(w_),ee(xi),ee(Fa))},t.\u0275dir=Ve({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class WJ{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Zo=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new WJ(o.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const c=i.get(s);i.move(c,a),N3(c,o)}});for(let o=0,s=i.length;o<s;o++){const c=i.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{N3(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(ys),ee(Ba),ee(mw))},t.\u0275dir=Ve({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function N3(t,e){t.context.$implicit=e.item}let wo=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new qJ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){F3("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){F3("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(ys),ee(Ba))},t.\u0275dir=Ve({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class qJ{constructor(){this.$implicit=null,this.ngIf=null}}function F3(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Ut(e)}'.`)}let yee=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Vn({type:t}),t.\u0275inj=Yn({}),e})();function Aw(t){return"server"===t}let Pee=(()=>{var t;class e{}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:()=>new Eee(ie(vo),window)}),e})();class Eee{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function Mee(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class B3{}class qee extends tJ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class I1 extends qee{static makeCurrent(){!function eJ(t){s1||(s1=t)}(new I1)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Kee(){return O_=O_||document.querySelector("base"),O_?O_.getAttribute("href"):null}();return null==n?null:function Zee(t){Rw=Rw||document.createElement("a"),Rw.setAttribute("href",t);const e=Rw.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){O_=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return R3(document.cookie,e)}}let Rw,O_=null,Qee=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const b1=new fe("EventManagerPlugins");let G3=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new X(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(b1),ie(Tt))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();class W3{constructor(e){this._doc=e}}const T1="ng-app-id";let q3=(()=>{var t;class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Aw(s),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${T1}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(o=>{null!=o.textContent&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){const o=this.styleRef;if(o.has(r)){const s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(T1),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(T1,this.appId),a}}addStyleToHost(r,i){const o=this.getStyleElement(r,i);r.appendChild(o);const s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(vo),ie(NC),ie(XN,8),ie(_o))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const A1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},D1=/%COMP%/g,tte=new fe("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Z3(t,e){return e.map(n=>n.replace(D1,t))}let Y3=(()=>{var t;class e{constructor(r,i,o,s,a,c,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=Aw(c),this.defaultRenderer=new S1(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===uo.ShadowDom&&(i={...i,encapsulation:uo.Emulated});const o=this.getOrCreateRenderer(r,i);return o instanceof X3?o.applyToHost(r):o instanceof R1&&o.applyStyles(),o}getOrCreateRenderer(r,i){const o=this.rendererByCompId;let s=o.get(i.id);if(!s){const a=this.doc,c=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,_=this.platformIsServer;switch(i.encapsulation){case uo.Emulated:s=new X3(l,h,i,this.appId,f,a,c,_);break;case uo.ShadowDom:return new ote(l,h,r,i,a,c,this.nonce,_);default:s=new R1(l,h,i,f,a,c,_)}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(G3),ie(q3),ie(NC),ie(tte),ie(vo),ie(_o),ie(Tt),ie(XN))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();class S1{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(A1[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Q3(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Q3(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new X(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=A1[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=A1[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(zc.DashCase|zc.Important)?e.style.setProperty(n,r,i&zc.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&zc.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Kc().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function Q3(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class ote extends S1{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Z3(i.id,i.styles);for(const h of l){const f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class R1 extends S1{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?Z3(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class X3 extends R1{constructor(e,n,r,i,o,s,a,c){const l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=function nte(t){return"_ngcontent-%COMP%".replace(D1,t)}(l),this.hostAttr=function rte(t){return"_nghost-%COMP%".replace(D1,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let ste=(()=>{var t;class e extends W3{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(vo))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const J3=["alt","control","meta","shift"],ate={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},cte={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let lte=(()=>{var t;class e extends W3{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,o){const s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Kc().onAndCancel(r,s.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const s=e._normalizeKey(i.pop());let a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),J3.forEach(h=>{const f=i.indexOf(h);f>-1&&(i.splice(f,1),a+=h+".")}),a+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=ate[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),J3.forEach(a=>{a!==o&&(0,cte[a])(r)&&(s+=a+".")}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(vo))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const tU=[{provide:_o,useValue:"browser"},{provide:QN,useValue:function ute(){I1.makeCurrent()},multi:!0},{provide:vo,useFactory:function hte(){return function JG(t){PO=t}(document),document},deps:[]}],pte=qV(BX,"browser",tU),fte=new fe(""),nU=[{provide:hw,useClass:class Yee{addToWindow(e){Gt.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new X(5103,!1);return o},Gt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Gt.getAllAngularRootElements=()=>e.getAllRootElements(),Gt.frameworkStabilizers||(Gt.frameworkStabilizers=[]),Gt.frameworkStabilizers.push(r=>{const i=Gt.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(c){s=s||c,o--,0==o&&r(s)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Kc().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:$V,useClass:ZI,deps:[Tt,YI,hw]},{provide:ZI,useClass:ZI,deps:[Tt,YI,hw]}],rU=[{provide:RO,useValue:"root"},{provide:La,useFactory:function dte(){return new La},deps:[]},{provide:b1,useClass:ste,multi:!0,deps:[vo,Tt,_o]},{provide:b1,useClass:lte,multi:!0,deps:[vo]},Y3,q3,G3,{provide:i2,useExisting:Y3},{provide:B3,useClass:Qee,deps:[]},[]];let gte=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:NC,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(fte,12))},t.\u0275mod=Vn({type:t}),t.\u0275inj=Yn({providers:[...rU,...nU],imports:[yee,jX]}),e})(),iU=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(vo))},t.\u0275prov=be({token:t,factory:function(r){let i=null;return i=r?new r:function mte(){return new iU(ie(vo))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;const{isArray:Ete}=Array,{getPrototypeOf:Mte,prototype:Ote,keys:Ite}=Object;function cU(t){if(1===t.length){const e=t[0];if(Ete(e))return{args:e,keys:null};if(function bte(t){return t&&"object"==typeof t&&Mte(t)===Ote}(e)){const n=Ite(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:Tte}=Array;function lU(t){return _e(e=>function Ate(t,e){return Tte(e)?t(...e):t(e)}(t,e))}function uU(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Yc(...t){const e=Ns(t),n=ks(t),{args:r,keys:i}=cU(t);if(0===r.length)return R([],e);const o=new st(function Dte(t,e,n=Nn){return r=>{dU(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)dU(e,()=>{const l=R(t[c],e);let h=!1;l.subscribe(Ce(r,f=>{o[c]=f,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>uU(i,s):Nn));return n?o.pipe(lU(n)):o}function dU(t,e,n){t?Ir(n,t,e):e()}const xw=Ue(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function k1(...t){return function Ste(){return qi(1)}()(R(t,Ns(t)))}function hU(t){return new st(e=>{Fn(t()).subscribe(e)})}function I_(t,e){const n=O(t)?t:()=>t,r=i=>i.error(n());return new st(e?i=>e.schedule(r,0,i):r)}function N1(){return Z((t,e)=>{let n=null;t._refCount++;const r=Ce(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class pU extends st{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ce(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pt;const n=this.getSubject();e.add(this.source.subscribe(Ce(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pt.EMPTY)}return e}refCount(){return N1()(this)}}function ep(t){return t<=0?()=>Kn:Z((e,n)=>{let r=0;e.subscribe(Ce(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function kw(...t){const e=Ns(t);return Z((n,r)=>{(e?k1(t,n,e):k1(t,n)).subscribe(r)})}function Yo(t,e){return Z((n,r)=>{let i=0;n.subscribe(Ce(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Nw(t){return Z((e,n)=>{let r=!1;e.subscribe(Ce(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function fU(t=Rte){return Z((e,n)=>{let r=!1;e.subscribe(Ce(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Rte(){return new xw}function Qc(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Yo((i,o)=>t(i,o,r)):Nn,ep(1),n?Nw(e):fU(()=>new xw))}function tp(t,e){return O(e)?rn(t,e,1):rn(t,1)}function Zr(t,e,n){const r=O(t)||e||n?{next:t,error:e,complete:n}:t;return r?Z((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Ce(o,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),o.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Nn}function Qo(t){return Z((e,n)=>{let o,r=null,i=!1;r=e.subscribe(Ce(n,void 0,void 0,s=>{o=Fn(t(s,Qo(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function np(t,e){return Z(function xte(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(Ce(s,h=>{const f=l++;c=a?t(c,h,f):(a=!0,h),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(t,e,arguments.length>=2,!0))}function F1(t){return t<=0?()=>Kn:Z((e,n)=>{let r=[];e.subscribe(Ce(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function b_(t){return Z((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const it="primary",T_=Symbol("RouteTitle");class Lte{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function rp(t){return new Lte(t)}function Vte(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ks(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!gU(t[i],e[i]))return!1;return!0}function gU(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function _U(t){return t.length>0?t[t.length-1]:null}function Xc(t){return function Pte(t){return!!t&&(t instanceof st||O(t.lift)&&O(t.subscribe))}(t)?t:u_(t)?R(Promise.resolve(t)):q(t)}const Bte={exact:function vU(t,e,n){if(!Ru(t.segments,e.segments)||!Fw(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!vU(t.children[r],e.children[r],n))return!1;return!0},subset:CU},mU={exact:function jte(t,e){return Ks(t,e)},subset:function $te(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>gU(t[n],e[n]))},ignored:()=>!0};function yU(t,e,n){return Bte[n.paths](t.root,e.root,n.matrixParams)&&mU[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function CU(t,e,n){return wU(t,e,e.segments,n)}function wU(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Ru(i,n)||e.hasChildren()||!Fw(i,n,r))}if(t.segments.length===n.length){if(!Ru(t.segments,n)||!Fw(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!CU(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(Ru(t.segments,i)&&Fw(t.segments,i,r)&&t.children[it])&&wU(t.children[it],e,o,r)}}function Fw(t,e,n){return e.every((r,i)=>mU[n](t[i].parameters,r.parameters))}class ip{constructor(e=new jt([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rp(this.queryParams)),this._queryParamMap}toString(){return Gte.serialize(this)}}class jt{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lw(this)}}class A_{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=rp(this.parameters)),this._parameterMap}toString(){return MU(this)}}function Ru(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let D_=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return new L1},providedIn:"root"}),e})();class L1{parse(e){const n=new nne(e);return new ip(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${S_(e.root,!0)}`,r=function Kte(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Vw(n)}=${Vw(i)}`).join("&"):`${Vw(n)}=${Vw(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function Wte(t){return encodeURI(t)}(e.fragment)}`:""}`}}const Gte=new L1;function Lw(t){return t.segments.map(e=>MU(e)).join("/")}function S_(t,e){if(!t.hasChildren())return Lw(t);if(e){const n=t.children[it]?S_(t.children[it],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==it&&r.push(`${i}:${S_(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function zte(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===it&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==it&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===it?[S_(t.children[it],!1)]:[`${i}:${S_(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[it]?`${Lw(t)}/${n[0]}`:`${Lw(t)}/(${n.join("//")})`}}function PU(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vw(t){return PU(t).replace(/%3B/gi,";")}function V1(t){return PU(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Uw(t){return decodeURIComponent(t)}function EU(t){return Uw(t.replace(/\+/g,"%20"))}function MU(t){return`${V1(t.path)}${function qte(t){return Object.keys(t).map(e=>`;${V1(e)}=${V1(t[e])}`).join("")}(t.parameters)}`}const Zte=/^[^\/()?;#]+/;function U1(t){const e=t.match(Zte);return e?e[0]:""}const Yte=/^[^\/()?;=#]+/,Xte=/^[^=?&#]+/,ene=/^[^&#]+/;class nne{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new jt([],{}):new jt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[it]=new jt(e,n)),r}parseSegment(){const e=U1(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new X(4009,!1);return this.capture(e),new A_(Uw(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function Qte(t){const e=t.match(Yte);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=U1(this.remaining);i&&(r=i,this.capture(r))}e[Uw(n)]=Uw(r)}parseQueryParam(e){const n=function Jte(t){const e=t.match(Xte);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function tne(t){const e=t.match(ene);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=EU(n),o=EU(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=U1(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new X(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=it);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[it]:new jt([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new X(4011,!1)}}function OU(t){return t.segments.length>0?new jt([],{[it]:t}):t}function IU(t){const e={};for(const r of Object.keys(t.children)){const o=IU(t.children[r]);if(r===it&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function rne(t){if(1===t.numberOfChildren&&t.children[it]){const e=t.children[it];return new jt(t.segments.concat(e.segments),e.children)}return t}(new jt(t.segments,e))}function xu(t){return t instanceof ip}function bU(t){let e;const i=OU(function n(o){const s={};for(const c of o.children){const l=n(c);s[c.outlet]=l}const a=new jt(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function TU(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return B1(i,i,i,n,r);const o=function one(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new DU(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new DU(n,e,r)}(e);if(o.toRoot())return B1(i,i,new jt([],{}),n,r);const s=function sne(t,e,n){if(t.isAbsolute)return new jw(e,!0,0);if(!n)return new jw(e,!1,NaN);if(null===n.parent)return new jw(n,!0,0);const r=Bw(t.commands[0])?0:1;return function ane(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new X(4005,!1);i=r.segments.length}return new jw(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?x_(s.segmentGroup,s.index,o.commands):SU(s.segmentGroup,s.index,o.commands);return B1(i,s.segmentGroup,a,n,r)}function Bw(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function R_(t){return"object"==typeof t&&null!=t&&t.outlets}function B1(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`}),s=t===e?n:AU(t,e,n);const a=OU(IU(s));return new ip(a,o,i)}function AU(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:AU(o,e,n)}),new jt(t.segments,r)}class DU{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Bw(r[0]))throw new X(4003,!1);const i=r.find(R_);if(i&&i!==_U(r))throw new X(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class jw{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function SU(t,e,n){if(t||(t=new jt([],{})),0===t.segments.length&&t.hasChildren())return x_(t,e,n);const r=function lne(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(R_(a))break;const c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!xU(c,l,s))return o;r+=2}else{if(!xU(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new jt(t.segments.slice(0,r.pathIndex),{});return o.children[it]=new jt(t.segments.slice(r.pathIndex),t.children),x_(o,0,i)}return r.match&&0===i.length?new jt(t.segments,{}):r.match&&!t.hasChildren()?j1(t,e,n):r.match?x_(t,0,i):j1(t,e,n)}function x_(t,e,n){if(0===n.length)return new jt(t.segments,{});{const r=function cne(t){return R_(t[0])?t[0].outlets:{[it]:t}}(n),i={};if(Object.keys(r).some(o=>o!==it)&&t.children[it]&&1===t.numberOfChildren&&0===t.children[it].segments.length){const o=x_(t.children[it],e,n);return new jt(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=SU(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new jt(t.segments,i)}}function j1(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(R_(o)){const c=une(o.outlets);return new jt(r,c)}if(0===i&&Bw(n[0])){r.push(new A_(t.segments[e].path,RU(n[0]))),i++;continue}const s=R_(o)?o.outlets[it]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Bw(a)?(r.push(new A_(s,RU(a))),i+=2):(r.push(new A_(s,{})),i++)}return new jt(r,{})}function une(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=j1(new jt([],{}),0,r))}),e}function RU(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function xU(t,e,n){return t==n.path&&Ks(e,n.parameters)}const k_="imperative";class Zs{constructor(e,n){this.id=e,this.url=n}}class $w extends Zs{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Jc extends Zs{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class N_ extends Zs{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class op extends Zs{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Hw extends Zs{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class kU extends Zs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dne extends Zs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hne extends Zs{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class pne extends Zs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fne extends Zs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gne{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _ne{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class mne{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yne{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vne{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cne{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class NU{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class $1{}class H1{constructor(e){this.url=e}}class wne{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new F_,this.attachRef=null}}let F_=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new wne,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class FU{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=z1(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=z1(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=G1(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return G1(e,this._root).map(n=>n.value)}}function z1(t,e){if(t===e.value)return e;for(const n of e.children){const r=z1(t,n);if(r)return r}return null}function G1(t,e){if(t===e.value)return[e];for(const n of e.children){const r=G1(t,n);if(r.length)return r.unshift(e),r}return[]}class Ga{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function sp(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class LU extends FU{constructor(e,n){super(e),this.snapshot=n,W1(this,e)}toString(){return this.snapshot.toString()}}function VU(t,e){const n=function Pne(t,e){const s=new zw([],{},{},"",{},it,e,null,{});return new BU("",new Ga(s,[]))}(0,e),r=new U([new A_("",{})]),i=new U({}),o=new U({}),s=new U({}),a=new U(""),c=new el(r,i,s,a,o,it,e,n.root);return c.snapshot=n.root,new LU(new Ga(c,[]),n)}class el{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(_e(l=>l[T_]))??q(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(_e(e=>rp(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(_e(e=>rp(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function UU(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function Ene(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class zw{get title(){return this.data?.[T_]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=rp(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rp(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class BU extends FU{constructor(e,n){super(n),this.url=e,W1(this,n)}toString(){return jU(this._root)}}function W1(t,e){e.value._routerState=t,e.children.forEach(n=>W1(t,n))}function jU(t){const e=t.children.length>0?` { ${t.children.map(jU).join(", ")} } `:"";return`${t.value}${e}`}function q1(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ks(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Ks(e.params,n.params)||t.paramsSubject.next(n.params),function Ute(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ks(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Ks(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function K1(t,e){const n=Ks(t.params,e.params)&&function Hte(t,e){return Ru(t,e)&&t.every((n,r)=>Ks(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||K1(t.parent,e.parent))}let tl=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=it,this.activateEvents=new Mn,this.deactivateEvents=new Mn,this.attachEvents=new Mn,this.detachEvents=new Mn,this.parentContexts=we(F_),this.location=we(ys),this.changeDetector=we(fw),this.environmentInjector=we(go),this.inputBinder=we(Gw,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new X(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new X(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new X(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new X(4013,!1);this._activatedRoute=r;const o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new Mne(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Ve({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ci]}),e})();class Mne{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===el?this.route:e===F_?this.childContexts:this.parent.get(e,n)}}const Gw=new fe("");let $U=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:i}=r,o=Yc([i.queryParams,i.params,i.data]).pipe(Je(([s,a,c],l)=>(c={...s,...a,...c},0===l?q(c):Promise.resolve(c)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(r);const a=function JX(t){const e=_t(t);if(!e)return null;const n=new o_(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(a)for(const{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,s[c]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,o)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();function L_(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Ine(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return L_(t,r,i);return L_(t,r)})}(t,e,n);return new Ga(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>L_(t,a)),s}}const r=function bne(t){return new el(new U(t.url),new U(t.params),new U(t.queryParams),new U(t.fragment),new U(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>L_(t,o));return new Ga(r,i)}}const Z1="ngNavigationCancelingError";function HU(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=xu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=zU(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function zU(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Z1]=!0,r.cancellationCode=e,n&&(r.url=n),r}function GU(t){return t&&t[Z1]}let WU=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kt({type:t,selectors:[["ng-component"]],standalone:!0,features:[WL],decls:1,vars:0,template:function(r,i){1&r&&D(0,"router-outlet")},dependencies:[tl],encapsulation:2}),e})();function Y1(t){const e=t.children&&t.children.map(Y1),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==it&&(n.component=WU),n}function Ps(t){return t.outlet||it}function V_(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Nne{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),q1(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=sp(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=sp(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=sp(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=sp(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Cne(o.value.snapshot))}),e.children.length&&this.forwardEvent(new yne(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(q1(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),q1(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=V_(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class qU{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ww{constructor(e,n){this.component=e,this.route=n}}function Fne(t,e,n){const r=t._root;return U_(r,e?e._root:null,n,[r.value])}function ap(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function iM(t){return null!==Zl(t)}(t)?e.get(t):t:r}function U_(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=sp(e);return t.children.forEach(s=>{(function Vne(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function Une(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ru(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ru(t.url,e.url)||!Ks(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!K1(t,e)||!Ks(t.queryParams,e.queryParams);default:return!K1(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new qU(r)):(o.data=s.data,o._resolvedData=s._resolvedData),U_(t,e,o.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ww(a.outlet.component,s))}else s&&B_(e,a,i),i.canActivateChecks.push(new qU(r)),U_(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>B_(a,n.getContext(s),i)),i}function B_(t,e,n){const r=sp(t),i=t.value;Object.entries(r).forEach(([o,s])=>{B_(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Ww(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function j_(t){return"function"==typeof t}function KU(t){return t instanceof xw||"EmptyError"===t?.name}const qw=Symbol("INITIAL_VALUE");function cp(){return Je(t=>Yc(t.map(e=>e.pipe(ep(1),kw(qw)))).pipe(_e(e=>{for(const n of e)if(!0!==n){if(n===qw)return qw;if(!1===n||n instanceof ip)return n}return!0}),Yo(e=>e!==qw),ep(1)))}function ZU(t){return function Ao(...t){return Do(t)}(Zr(e=>{if(xu(e))throw HU(0,e)}),_e(e=>!0===e))}class Kw{constructor(e){this.segmentGroup=e||null}}class YU{constructor(e){this.urlTree=e}}function lp(t){return I_(new Kw(t))}function QU(t){return I_(new YU(t))}class ore{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new X(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return q(r);if(i.numberOfChildren>1||!i.children[it])return I_(new X(4e3,!1));i=i.children[it]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new ip(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new jt(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new X(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const Q1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function sre(t,e,n,r,i){const o=X1(t,e,n);return o.matched?(r=function Ane(t,e){return t.providers&&!t._injector&&(t._injector=SI(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function nre(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?q(i.map(s=>{const a=ap(s,t);return Xc(function Gne(t){return t&&j_(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(cp(),ZU()):q(!0)}(r,e,n).pipe(_e(s=>!0===s?o:{...Q1}))):q(o)}function X1(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Q1}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Vte)(n,t,e);if(!i)return{...Q1};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function XU(t,e,n,r){return n.length>0&&function lre(t,e,n){return n.some(r=>Zw(t,e,r)&&Ps(r)!==it)}(t,n,r)?{segmentGroup:new jt(e,cre(r,new jt(n,t.children))),slicedSegments:[]}:0===n.length&&function ure(t,e,n){return n.some(r=>Zw(t,e,r))}(t,n,r)?{segmentGroup:new jt(t.segments,are(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new jt(t.segments,t.children),slicedSegments:n}}function are(t,e,n,r,i){const o={};for(const s of r)if(Zw(t,n,s)&&!i[Ps(s)]){const a=new jt([],{});o[Ps(s)]=a}return{...i,...o}}function cre(t,e){const n={};n[it]=e;for(const r of t)if(""===r.path&&Ps(r)!==it){const i=new jt([],{});n[Ps(r)]=i}return n}function Zw(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class fre{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new ore(this.urlSerializer,this.urlTree)}noMatchError(e){return new X(4002,!1)}recognize(){const e=XU(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,it).pipe(Qo(n=>{if(n instanceof YU)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Kw?this.noMatchError(n):n}),_e(n=>{const r=new zw([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},it,this.rootComponentType,null,{}),i=new Ga(r,n),o=new BU("",i),s=function ine(t,e,n=null,r=null){return TU(bU(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,it).pipe(Qo(r=>{throw r instanceof Kw?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=UU(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return R(i).pipe(tp(o=>{const s=r.children[o],a=function xne(t,e){const n=t.filter(r=>Ps(r)===e);return n.push(...t.filter(r=>Ps(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),np((o,s)=>(o.push(...s),o)),Nw(null),function kte(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Yo((i,o)=>t(i,o,r)):Nn,F1(1),n?Nw(e):fU(()=>new xw))}(),rn(o=>{if(null===o)return lp(r);const s=JU(o);return function gre(t){t.sort((e,n)=>e.value.outlet===it?-1:n.value.outlet===it?1:e.value.outlet.localeCompare(n.value.outlet))}(s),q(s)}))}processSegment(e,n,r,i,o,s){return R(n).pipe(tp(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(Qo(c=>{if(c instanceof Kw)return q(null);throw c}))),Qc(a=>!!a),Qo(a=>{if(KU(a))return function hre(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?q([]):lp(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function dre(t,e,n,r){return!!(Ps(t)===r||r!==it&&Zw(e,n,t))&&("**"===t.path||X1(e,t,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):lp(i):lp(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?QU(o):this.applyRedirects.lineralizeSegments(r,o).pipe(rn(s=>{const a=new jt(s,{});return this.processSegment(e,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:h}=X1(n,i,o);if(!a)return lp(n);const f=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,h);return i.redirectTo.startsWith("/")?QU(f):this.applyRedirects.lineralizeSegments(i,f).pipe(rn(_=>this.processSegment(e,r,n,_.concat(l),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a;if("**"===r.path){const c=i.length>0?_U(i).parameters:{};a=q({snapshot:new zw(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,e5(r),Ps(r),r.component??r._loadedComponent??null,r,t5(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=sre(n,r,i,e).pipe(_e(({matched:c,consumedSegments:l,remainingSegments:h,parameters:f})=>c?{snapshot:new zw(l,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,e5(r),Ps(r),r.component??r._loadedComponent??null,r,t5(r)),consumedSegments:l,remainingSegments:h}:null));return a.pipe(Je(c=>null===c?lp(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Je(({routes:l})=>{const h=r._loadedInjector??e,{snapshot:f,consumedSegments:_,remainingSegments:v}=c,{segmentGroup:E,slicedSegments:I}=XU(n,_,v,l);if(0===I.length&&E.hasChildren())return this.processChildren(h,l,E).pipe(_e(L=>null===L?null:[new Ga(f,L)]));if(0===l.length&&0===I.length)return q([new Ga(f,[])]);const b=Ps(r)===o;return this.processSegment(h,l,E,I,b?it:o,!0).pipe(_e(L=>[new Ga(f,L)]))}))))}getChildConfig(e,n,r){return n.children?q({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?q({routes:n._loadedRoutes,injector:n._loadedInjector}):function tre(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?q(!0):q(i.map(s=>{const a=ap(s,t);return Xc(function jne(t){return t&&j_(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(cp(),ZU())}(e,n,r).pipe(rn(i=>i?this.configLoader.loadChildren(e,n).pipe(Zr(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function ire(t){return I_(zU(!1,3))}())):q({routes:[],injector:e})}}function _re(t){const e=t.value.routeConfig;return e&&""===e.path}function JU(t){const e=[],n=new Set;for(const r of t){if(!_re(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=JU(r.children);e.push(new Ga(r.value,i))}return e.filter(r=>!n.has(r))}function e5(t){return t.data||{}}function t5(t){return t.resolve||{}}function n5(t){return"string"==typeof t.title||null===t.title}function J1(t){return Je(e=>{const n=t(e);return n?R(n).pipe(_e(()=>e)):q(e)})}const up=new fe("ROUTES");let eb=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=we(VV)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return q(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=Xc(r.loadComponent()).pipe(_e(r5),Zr(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),b_(()=>{this.componentLoaders.delete(r)})),o=new pU(i,()=>new Q).pipe(N1());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return q({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function Ere(t,e,n,r){return Xc(t.loadChildren()).pipe(_e(r5),rn(i=>i instanceof zL||Array.isArray(i)?q(i):R(e.compileModuleAsync(i))),_e(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(up,[],{optional:!0,self:!0}).flat()),{routes:s.map(Y1),injector:o}}))}(i,this.compiler,r,this.onLoadEndListener).pipe(b_(()=>{this.childrenLoaders.delete(i)})),a=new pU(s,()=>new Q).pipe(N1());return this.childrenLoaders.set(i,a),a}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function r5(t){return function Mre(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Yw=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Q,this.transitionAbortSubject=new Q,this.configLoader=we(eb),this.environmentInjector=we(go),this.urlSerializer=we(D_),this.rootContexts=we(F_),this.inputBindingEnabled=null!==we(Gw,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>q(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new _ne(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new gne(o))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,o){return this.transitions=new U({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:r.urlHandlingStrategy.extract(i),urlAfterRedirects:r.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:k_,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Yo(s=>0!==s.id),_e(s=>({...s,extractedUrl:r.urlHandlingStrategy.extract(s.rawUrl)})),Je(s=>{this.currentTransition=s;let a=!1,c=!1;return q(s).pipe(Zr(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Je(l=>{const h=l.currentBrowserUrl.toString(),f=!r.navigated||l.extractedUrl.toString()!==h||h!==l.currentUrlTree.toString();if(!f&&"reload"!==(l.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const v="";return this.events.next(new op(l.id,this.urlSerializer.serialize(l.rawUrl),v,0)),l.resolve(null),Kn}if(r.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return q(l).pipe(Je(v=>{const E=this.transitions?.getValue();return this.events.next(new $w(v.id,this.urlSerializer.serialize(v.extractedUrl),v.source,v.restoredState)),E!==this.transitions?.getValue()?Kn:Promise.resolve(v)}),function mre(t,e,n,r,i,o){return rn(s=>function pre(t,e,n,r,i,o,s="emptyOnly"){return new fre(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(_e(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),Zr(v=>{s.targetSnapshot=v.targetSnapshot,s.urlAfterRedirects=v.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:v.urlAfterRedirects};const E=new kU(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(E)}));if(f&&r.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:v,extractedUrl:E,source:I,restoredState:b,extras:L}=l,N=new $w(v,this.urlSerializer.serialize(E),I,b);this.events.next(N);const H=VU(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:H,urlAfterRedirects:E,extras:{...L,skipLocationChange:!1,replaceUrl:!1}},q(s)}{const v="";return this.events.next(new op(l.id,this.urlSerializer.serialize(l.extractedUrl),v,1)),l.resolve(null),Kn}}),Zr(l=>{const h=new dne(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),_e(l=>(this.currentTransition=s={...l,guards:Fne(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function qne(t,e){return rn(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?q({...n,guardsResult:!0}):function Kne(t,e,n,r){return R(t).pipe(rn(i=>function ere(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?q(o.map(a=>{const c=V_(e)??i,l=ap(a,c);return Xc(function zne(t){return t&&j_(t.canDeactivate)}(l)?l.canDeactivate(t,e,n,r):c.runInContext(()=>l(t,e,n,r))).pipe(Qc())})).pipe(cp()):q(!0)}(i.component,i.route,n,e,r)),Qc(i=>!0!==i,!0))}(s,r,i,t).pipe(rn(a=>a&&function Bne(t){return"boolean"==typeof t}(a)?function Zne(t,e,n,r){return R(e).pipe(tp(i=>k1(function Qne(t,e){return null!==t&&e&&e(new mne(t)),q(!0)}(i.route.parent,r),function Yne(t,e){return null!==t&&e&&e(new vne(t)),q(!0)}(i.route,r),function Jne(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function Lne(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>hU(()=>q(s.guards.map(c=>{const l=V_(s.node)??n,h=ap(c,l);return Xc(function Hne(t){return t&&j_(t.canActivateChild)}(h)?h.canActivateChild(r,t):l.runInContext(()=>h(r,t))).pipe(Qc())})).pipe(cp())));return q(o).pipe(cp())}(t,i.path,n),function Xne(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return q(!0);const i=r.map(o=>hU(()=>{const s=V_(e)??n,a=ap(o,s);return Xc(function $ne(t){return t&&j_(t.canActivate)}(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t))).pipe(Qc())}));return q(i).pipe(cp())}(t,i.route,n))),Qc(i=>!0!==i,!0))}(r,o,t,e):q(a)),_e(a=>({...n,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Zr(l=>{if(s.guardsResult=l.guardsResult,xu(l.guardsResult))throw HU(0,l.guardsResult);const h=new hne(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),Yo(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),J1(l=>{if(l.guards.canActivateChecks.length)return q(l).pipe(Zr(h=>{const f=new pne(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}),Je(h=>{let f=!1;return q(h).pipe(function yre(t,e){return rn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return q(n);let o=0;return R(i).pipe(tp(s=>function vre(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!n5(i)&&(o[T_]=i.title),function Cre(t,e,n,r){const i=function wre(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return q({});const o={};return R(i).pipe(rn(s=>function Pre(t,e,n,r){const i=V_(e)??r,o=ap(t,i);return Xc(o.resolve?o.resolve(e,n):i.runInContext(()=>o(e,n)))}(t[s],e,n,r).pipe(Qc(),Zr(a=>{o[s]=a}))),F1(1),function Nte(t){return _e(()=>t)}(o),Qo(s=>KU(s)?Kn:I_(s)))}(o,t,e,r).pipe(_e(s=>(t._resolvedData=s,t.data=UU(t,n).resolve,i&&n5(i)&&(t.data[T_]=i.title),null)))}(s.route,r,t,e)),Zr(()=>o++),F1(1),rn(s=>o===i.length?q(n):Kn))})}(r.paramsInheritanceStrategy,this.environmentInjector),Zr({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(h,"",2)}}))}),Zr(h=>{const f=new fne(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}))}),J1(l=>{const h=f=>{const _=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(f.routeConfig).pipe(Zr(v=>{f.component=v}),_e(()=>{})));for(const v of f.children)_.push(...h(v));return _};return Yc(h(l.targetSnapshot.root)).pipe(Nw(),ep(1))}),J1(()=>this.afterPreactivation()),_e(l=>{const h=function One(t,e,n){const r=L_(t,e._root,n?n._root:void 0);return new LU(r,e)}(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:h},s}),Zr(()=>{this.events.next(new $1)}),((t,e,n,r)=>_e(i=>(new Nne(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),ep(1),Zr({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Jc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),r.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),function Fte(t){return Z((e,n)=>{Fn(t).subscribe(Ce(n,()=>n.complete(),Ae)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Zr(l=>{throw l}))),b_(()=>{a||c||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Qo(l=>{if(c=!0,GU(l))this.events.next(new N_(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function Tne(t){return GU(t)&&xu(t.url)}(l)?this.events.next(new H1(l.url)):s.resolve(!1);else{this.events.next(new Hw(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(h){s.reject(h)}}return Kn}))}))}cancelNavigationTransition(r,i,o){const s=new N_(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function i5(t){return t!==k_}let o5=(()=>{var t;class e{buildTitle(r){let i,o=r.root;for(;void 0!==o;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===it);return i}getResolvedTitleForRoute(r){return r.data[T_]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return we(Ore)},providedIn:"root"}),e})(),Ore=(()=>{var t;class e extends o5{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(iU))},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Ire=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return we(Tre)},providedIn:"root"}),e})();class bre{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Tre=(()=>{var t;class e extends bre{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Pr(t)))(i||t)}}(),t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Qw=new fe("",{providedIn:"root",factory:()=>({})});let Are=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return we(Dre)},providedIn:"root"}),e})(),Dre=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var $_=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}($_||{});function s5(t,e){t.events.pipe(Yo(n=>n instanceof Jc||n instanceof N_||n instanceof Hw||n instanceof op),_e(n=>n instanceof Jc||n instanceof op?$_.COMPLETE:n instanceof N_&&(0===n.code||1===n.code)?$_.REDIRECTING:$_.FAILED),Yo(n=>n!==$_.REDIRECTING),ep(1)).subscribe(()=>{e()})}function Sre(t){throw t}function Rre(t,e,n){return e.parse("/")}const xre={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kre={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let hi=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=we(LV),this.isNgZoneEnabled=!1,this._events=new Q,this.options=we(Qw,{optional:!0})||{},this.pendingTasks=we(uw),this.errorHandler=this.options.errorHandler||Sre,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Rre,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=we(Are),this.routeReuseStrategy=we(Ire),this.titleStrategy=we(o5),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=we(up,{optional:!0})?.flat()??[],this.navigationTransitions=we(Yw),this.urlSerializer=we(D_),this.location=we(l1),this.componentInputBindingEnabled=!!we(Gw,{optional:!0}),this.eventsSubscription=new Pt,this.isNgZoneEnabled=we(Tt)instanceof Tt&&Tt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ip,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=VU(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:o}=this.navigationTransitions;if(null===o)return void(a5(i)&&this._events.next(i));if(i instanceof $w)i5(o.source)&&(this.browserUrlTree=o.extractedUrl);else if(i instanceof op)this.rawUrlTree=o.rawUrl;else if(i instanceof kU){if("eager"===this.urlUpdateStrategy){if(!o.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl);this.setBrowserUrl(s,o)}this.browserUrlTree=o.urlAfterRedirects}}else if(i instanceof $1)this.currentUrlTree=o.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o),this.browserUrlTree=o.urlAfterRedirects);else if(i instanceof N_)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(o);else if(i instanceof H1){const s=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),a={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||i5(o.source)};this.scheduleNavigation(s,k_,null,a,{resolve:o.resolve,reject:o.reject,promise:o.promise})}i instanceof Hw&&this.restoreHistory(o,!0),i instanceof Jc&&(this.navigated=!0),a5(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),k_,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,o){const s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){const l={...o};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Y1),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a;let _,f=null;switch(c){case"merge":f={...this.currentUrlTree.queryParams,...s};break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}null!==f&&(f=this.removeEmptyProps(f));try{_=bU(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),_=this.currentUrlTree.root}return TU(_,r,f,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){const o=xu(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,k_,null,i)}navigate(r,i={skipLocationChange:!1}){return function Nre(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new X(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(o){i=this.malformedUriErrorHandler(o,this.urlSerializer,r)}return i}isActive(r,i){let o;if(o=!0===i?{...xre}:!1===i?{...kre}:i,xu(r))return yU(this.currentUrlTree,r,o);const s=this.parseUrl(r);return yU(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.keys(r).reduce((i,o)=>{const s=r[o];return null!=s&&(i[o]=s),i},{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,h;a?(c=a.resolve,l=a.reject,h=a.promise):h=new Promise((_,v)=>{c=_,l=v});const f=this.pendingTasks.add();return s5(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:s,resolve:c,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(_=>Promise.reject(_))}setBrowserUrl(r,i){const o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(o,"",a)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(o,"",s)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function a5(t){return!(t instanceof $1||t instanceof H1)}let pi=(()=>{var t;class e{constructor(r,i,o,s,a,c){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new Q,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof Jc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){null!=r?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){return!!(null===this.urlTree||this.isAnchorElement&&(0!==r||i||o||s||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const r=null===this.href?null:function HN(t,e,n){return function wW(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?$N:Dr}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){const o=this.renderer,s=this.el.nativeElement;null!==i?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(hi),ee(el),function vh(t){return function KM(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if($f(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}(wr(),t)}("tabindex"),ee(Fa),ee(xi),ee(Su))},t.\u0275dir=Ve({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&K("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&Go("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Xh],skipLocationChange:["skipLocationChange","skipLocationChange",Xh],replaceUrl:["replaceUrl","replaceUrl",Xh],routerLink:"routerLink"},standalone:!0,features:[nF,ci]}),e})();class c5{}let Vre=(()=>{var t;class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Yo(r=>r instanceof Jc),tp(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){const o=[];for(const s of i){s.providers&&!s._injector&&(s._injector=SI(s.providers,r,`Route: ${s.path}`));const a=s._injector??r,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(c,s.children??s._loadedRoutes))}return R(o).pipe(qi())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;o=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(r,i):q(null);const s=o.pipe(rn(a=>null===a?q(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));return i.loadComponent&&!i._loadedComponent?R([s,this.loader.loadComponent(i)]).pipe(qi()):s})}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(hi),ie(VV),ie(go),ie(c5),ie(eb))},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const tb=new fe("");let l5=(()=>{var t;class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof $w?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Jc?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof op&&0===r.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof NU&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new NU(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){!function A2(){throw new Error("invalid")}()},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();function Wa(t,e){return{\u0275kind:t,\u0275providers:e}}function d5(){const t=we(ki);return e=>{const n=t.get(Qh);if(e!==n.components[0])return;const r=t.get(hi),i=t.get(h5);1===t.get(nb)&&r.initialNavigation(),t.get(p5,null,pt.Optional)?.setUpPreloading(),t.get(tb,null,pt.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const h5=new fe("",{factory:()=>new Q}),nb=new fe("",{providedIn:"root",factory:()=>1}),p5=new fe("");function $re(t){return Wa(0,[{provide:p5,useExisting:Vre},{provide:c5,useExisting:t}])}const f5=new fe("ROUTER_FORROOT_GUARD"),zre=[l1,{provide:D_,useClass:L1},hi,F_,{provide:el,useFactory:function u5(t){return t.routerState.root},deps:[hi]},eb,[]];function Gre(){return new GV("Router",hi)}let g5=(()=>{var t;class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[zre,[],{provide:up,multi:!0,useValue:r},{provide:f5,useFactory:Zre,deps:[[hi,new p,new d]]},{provide:Qw,useValue:i||{}},i?.useHash?{provide:Su,useClass:iJ}:{provide:Su,useClass:P3},{provide:tb,useFactory:()=>{const t=we(Pee),e=we(Tt),n=we(Qw),r=we(Yw),i=we(D_);return n.scrollOffset&&t.setOffset(n.scrollOffset),new l5(i,r,t,e,n)}},i?.preloadingStrategy?$re(i.preloadingStrategy).\u0275providers:[],{provide:GV,multi:!0,useFactory:Gre},i?.initialNavigation?Yre(i):[],i?.bindToComponentInputs?Wa(8,[$U,{provide:Gw,useExisting:$U}]).\u0275providers:[],[{provide:_5,useFactory:d5},{provide:JI,multi:!0,useExisting:_5}]]}}static forChild(r){return{ngModule:e,providers:[{provide:up,multi:!0,useValue:r}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(f5,8))},t.\u0275mod=Vn({type:t}),t.\u0275inj=Yn({}),e})();function Zre(t){return"guarded"}function Yre(t){return["disabled"===t.initialNavigation?Wa(3,[{provide:GI,multi:!0,useFactory:()=>{const e=we(hi);return()=>{e.setUpLocationChangeListener()}}},{provide:nb,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Wa(2,[{provide:nb,useValue:0},{provide:GI,multi:!0,deps:[ki],useFactory:e=>{const n=e.get(nJ,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(hi),o=e.get(h5);s5(i,()=>{r(!0)}),e.get(Yw).afterPreactivation=()=>(r(!0),o.closed?q(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const _5=new fe("");var k=Ze(861),We=Ze(534);(0,We.registerVersion)("firebase","10.5.2","app");var Po=Ze(537),M=Ze(58),fi=Ze(879);const m5="@firebase/database";let rb="";function ib(t){rb=t}class eie{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,M.Wl)(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:(0,M.cI)(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class tie{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return(0,M.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const v5=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new eie(e)}}catch{}return new tie},ku=v5("localStorage"),ob=v5("sessionStorage"),dp=new fi.Yd("@firebase/database"),C5=function(){let t=1;return function(){return t++}}(),w5=function(t){const e=(0,M.dS)(t),n=new M.gQ;n.update(e);const r=n.digest();return M.US.encodeByteArray(r)},H_=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=H_.apply(null,r):e+="object"==typeof r?(0,M.Wl)(r):r,e+=" "}return e};let Nu=null,P5=!0;const E5=function(t,e){(0,M.hu)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(dp.logLevel=fi.in.VERBOSE,Nu=dp.log.bind(dp),e&&ob.set("logging_enabled",!0)):"function"==typeof t?Nu=t:(Nu=null,ob.remove("logging_enabled"))},Sr=function(...t){if(!0===P5&&(P5=!1,null===Nu&&!0===ob.get("logging_enabled")&&E5(!0)),Nu){const e=H_.apply(null,t);Nu(e)}},z_=function(t){return function(...e){Sr(t,...e)}},sb=function(...t){const e="FIREBASE INTERNAL ERROR: "+H_(...t);dp.error(e)},Ys=function(...t){const e=`FIREBASE FATAL ERROR: ${H_(...t)}`;throw dp.error(e),new Error(e)},gi=function(...t){const e="FIREBASE WARNING: "+H_(...t);dp.warn(e)},Xw=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},nl="[MIN_NAME]",qa="[MAX_NAME]",Fu=function(t,e){if(t===e)return 0;if(t===nl||e===qa)return-1;if(e===nl||t===qa)return 1;{const n=I5(t),r=I5(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},iie=function(t,e){return t===e?0:t<e?-1:1},G_=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+(0,M.Wl)(e))},ab=function(t){if("object"!=typeof t||null===t)return(0,M.Wl)(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=(0,M.Wl)(e[r]),n+=":",n+=ab(t[e[r]]);return n+="}",n},M5=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function Rr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const O5=function(t){(0,M.hu)(!Xw(t),"Invalid JSON number");const r=1023;let i,o,s,a,c;0===t?(o=0,s=0,i=1/t==-1/0?1:0):(i=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(t/Math.pow(2,-1074))));const l=[];for(c=52;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=11;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();const h=l.join("");let f="";for(c=0;c<64;c+=8){let _=parseInt(h.substr(c,8),2).toString(16);1===_.length&&(_="0"+_),f+=_}return f.toLowerCase()},cie=new RegExp("^-?(0*)\\d{1,10}$"),I5=function(t){if(cie.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},hp=function(t){try{t()}catch(e){setTimeout(()=>{throw gi("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},W_=function(t,e){const n=setTimeout(t,e);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class hie{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){gi(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class pie{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(Sr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',gi(e)}}let q_=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const S5=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,k5="websocket",N5="long_polling";class lb{constructor(e,n,r,i,o=!1,s="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ku.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ku.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function F5(t,e,n){let r;if((0,M.hu)("string"==typeof e,"typeof type must == string"),(0,M.hu)("object"==typeof n,"typeof params must == object"),e===k5)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==N5)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function fie(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return Rr(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}class gie{constructor(){this.counters_={}}incrementCounter(e,n=1){(0,M.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return(0,M.p$)(this.counters_)}}const ub={},db={};function hb(t){const e=t.toString();return ub[e]||(ub[e]=new gie),ub[e]}class mie{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&hp(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class rl{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=z_(e),this.stats_=hb(n),this.urlFn=c=>(this.appCheckToken&&(c.ac=this.appCheckToken),F5(n,N5,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new mie(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if((0,M.Yr)()||"complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new pb((...o)=>{const[s,a,c,l,h]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=c;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&S5.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){rl.forceAllow_=!0}static forceDisallow(){rl.forceDisallow_=!0}static isAvailable(){return!((0,M.Yr)()||!rl.forceAllow_&&(rl.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=(0,M.Wl)(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=(0,M.h$)(n),i=M5(r,1840);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if((0,M.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=(0,M.Wl)(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class pb{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,M.Yr)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=C5(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=pb.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Sr("frame writing exception"),a.stack&&Sr(a.stack),Sr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Sr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const s=this.pendingSegs.shift();r=r+"&seg"+i+"="+s.seg+"&ts"+i+"="+s.ts+"&d"+i+"="+s.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,n){(0,M.Yr)()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Sr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let e0=null;typeof MozWebSocket<"u"?e0=MozWebSocket:typeof WebSocket<"u"&&(e0=WebSocket);let pp=(()=>{class t{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=z_(this.connId),this.stats_=hb(r),this.connURL=t.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){const a={v:"5"};return!(0,M.Yr)()&&typeof location<"u"&&location.hostname&&S5.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),o&&(a.ac=o),s&&(a.p=s),F5(n,k5,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ku.set("previous_websocket_failure",!0);try{let i;if((0,M.Yr)()){i={headers:{"User-Agent":`Firebase/5/${rb}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const s=process.env,a=0===this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new e0(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==e0&&!t.forceDisallow_}static previouslyFailed(){return ku.isInMemoryStorage||!0===ku.get("previous_websocket_failure")}markConnectionHealthy(){ku.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,M.cI)(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if((0,M.hu)(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=(0,M.Wl)(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=M5(r,16384);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),H5=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[rl,pp]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=pp&&pp.isAvailable();let i=r&&!pp.previouslyFailed();if(n.webSocketOnly&&(r||gi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[pp];else{const o=this.transports_=[];for(const s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class Y5{constructor(e,n,r,i,o,s,a,c,l,h){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=z_("c:"+this.id+":"),this.transportManager_=new H5(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=W_(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=G_("t",e),r=G_("d",e);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=G_("t",e),r=G_("d",e);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=G_("t",e);if("d"in e){const r=e.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?sb("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):sb("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&gi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),W_(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):W_(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ku.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Q5{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class X5{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,M.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context))return void i.splice(o,1)}validateEventType_(e){(0,M.hu)(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class t0 extends X5{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,M.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t0}getInitialEvent(e){return(0,M.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Vt{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function Nt(){return new Vt("")}function ft(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function il(t){return t.pieces_.length-t.pieceNum_}function Jt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Vt(t.pieces_,e)}function gb(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function K_(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function tB(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Vt(e,0)}function In(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Vt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Vt(n,0)}function gt(t){return t.pieceNum_>=t.pieces_.length}function Ui(t,e){const n=ft(t),r=ft(e);if(null===n)return e;if(n===r)return Ui(Jt(t),Jt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Uie(t,e){const n=K_(t,0),r=K_(e,0);for(let i=0;i<n.length&&i<r.length;i++){const o=Fu(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function _b(t,e){if(il(t)!==il(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Xo(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(il(t)>il(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Bie{constructor(e,n){this.errorPrefix_=n,this.parts_=K_(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,M.ug)(this.parts_[r]);nB(this)}}function nB(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Lu(t))}function Lu(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class mb extends X5{constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new mb}getInitialEvent(e){return(0,M.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Z_=1e3;let r0,Vu=(()=>{class t extends Q5{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=z_("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Z_,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!(0,M.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");mb.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&t0.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_((0,M.Wl)(s)),(0,M.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();const r=new M.BH,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const c=a.d;"ok"===a.s?r.resolve(c):r.reject(c)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,o){this.initConnection_();const s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),(0,M.hu)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,M.hu)(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);const s={p:i};n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest("q",s,c=>{const l=c.d,h=c.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),"ok"!==h&&this.removeListen_(i,o),n.onComplete&&n.onComplete(h,l))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&(0,M.r3)(n,"w")){const i=(0,M.DV)(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();gi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||(0,M.GJ)(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=(0,M.w9)(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{const s=o.s,a=o.d||"error";this.authToken_===n&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),(0,M.hu)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);const s={p:n};o&&(s.q=i,s.t=o),this.sendRequest("n",s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){const s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();const a={p:r,d:i};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+(0,M.Wl)(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):sb("Unrecognized action received from server: "+(0,M.Wl)(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){(0,M.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Z_,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Z_,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Z_),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return(0,k.Z)(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),o=n.onRealtimeDisconnect_.bind(n),s=n.id+":"+t.nextConnectionId_++,a=n.lastSessionId;let c=!1,l=null;const h=function(){l?l.close():(c=!0,o())};n.realtime_={close:h,sendRequest:function(v){(0,M.hu)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(v)}};const _=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[v,E]=yield Promise.all([n.authTokenProvider_.getToken(_),n.appCheckTokenProvider_.getToken(_)]);c?Sr("getToken() completed but was canceled"):(Sr("getToken() completed. Creating connection."),n.authToken_=v&&v.accessToken,n.appCheckToken_=E&&E.token,l=new Y5(s,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,o,I=>{gi(I+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(v){n.log_("Failed to get token: "+v),c||(n.repoInfo_.nodeAdmin&&gi(v),h())}}})()}interrupt(n){Sr("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Sr("Resuming connection for reason: "+n),delete this.interruptReasons_[n],(0,M.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Z_,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(s=>ab(s)).join("$"):"default";const o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){const i=new Vt(n).toString();let o;if(this.listens.has(i)){const s=this.listens.get(i);o=s.get(r),s.delete(r),0===s.size&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Sr("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Sr("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";(0,M.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),n["sdk."+r+"."+rb.replace(/\./g,"-")]=1,(0,M.uI)()?n["framework.cordova"]=1:(0,M.b$)()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=t0.getInstance().currentlyOnline();return(0,M.xb)(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class mt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new mt(e,n)}}class n0{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new mt(nl,e),i=new mt(nl,n);return 0!==this.compare(r,i)}minPost(){return mt.MIN}}class oB extends n0{static get __EMPTY_NODE(){return r0}static set __EMPTY_NODE(e){r0=e}compare(e,n){return Fu(e.name,n.name)}isDefinedOn(e){throw(0,M.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return mt.MIN}maxPost(){return new mt(qa,r0)}makePost(e,n){return(0,M.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new mt(e,r0)}toString(){return".key"}}const Qs=new oB;class o0{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,i&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let vb,Es=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??no.EMPTY_NODE,this.right=s??no.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this;const s=i(n,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(n,r,i),null):0===s?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return no.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return no.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class no{constructor(e,n=no.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new no(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Es.BLACK,null,null))}remove(e){return new no(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Es.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new o0(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new o0(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new o0(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new o0(this.root_,null,this.comparator_,!0,e)}}function Kie(t,e){return Fu(t.name,e.name)}function yb(t,e){return Fu(t,e)}no.EMPTY_NODE=new class qie{copy(e,n,r,i,o){return this}insert(e,n,r){return new Es(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const sB=function(t){return"number"==typeof t?"number:"+O5(t):"string:"+t},aB=function(t){if(t.isLeafNode()){const e=t.val();(0,M.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,M.r3)(e,".sv"),"Priority must be a string or number.")}else(0,M.hu)(t===vb||t.isEmpty(),"priority of unexpected type.");(0,M.hu)(t===vb||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let cB,lB,uB,fp=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,(0,M.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),aB(this.priorityNode_)}static set __childrenNodeConstructor(n){cB=n}static get __childrenNodeConstructor(){return cB}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return gt(n)?this:".priority"===ft(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=ft(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,M.hu)(".priority"!==i||1===il(n),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Jt(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+sB(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?O5(this.value_):this.value_,this.lazyHash_=w5(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:((0,M.hu)(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return(0,M.hu)(o>=0,"Unknown leaf type: "+r),(0,M.hu)(s>=0,"Unknown leaf type: "+i),o===s?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const ln=new class Xie extends n0{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return 0===o?Fu(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return mt.MIN}maxPost(){return new mt(qa,new fp("[PRIORITY-POST]",uB))}makePost(e,n){const r=lB(e);return new mt(n,new fp("[PRIORITY-POST]",r))}toString(){return".priority"}},Jie=Math.log(2);class eoe{constructor(e){this.count=parseInt(Math.log(e+1)/Jie,10),this.current_=this.count-1;const i=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const s0=function(t,e,n,r){t.sort(e);const i=function(c,l){const h=l-c;let f,_;if(0===h)return null;if(1===h)return f=t[c],_=n?n(f):f,new Es(_,f.node,Es.BLACK,null,null);{const v=parseInt(h/2,10)+c,E=i(c,v),I=i(v+1,l);return f=t[v],_=n?n(f):f,new Es(_,f.node,Es.BLACK,E,I)}},a=function(c){let l=null,h=null,f=t.length;const _=function(E,I){const b=f-E,L=f;f-=E;const N=i(b+1,L),H=t[b],$=n?n(H):H;v(new Es($,H.node,I,null,N))},v=function(E){l?(l.left=E,l=E):(h=E,l=E)};for(let E=0;E<c.count;++E){const I=c.nextBitIsOne(),b=Math.pow(2,c.count-(E+1));I?_(b,Es.BLACK):(_(b,Es.BLACK),_(b,Es.RED))}return h}(new eoe(t.length));return new no(r||e,a)};let Cb;const gp={};class Ka{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return(0,M.hu)(gp&&ln,"ChildrenNode.ts has not been loaded"),Cb=Cb||new Ka({".priority":gp},{".priority":ln}),Cb}get(e){const n=(0,M.DV)(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof no?n:null}hasIndex(e){return(0,M.r3)(this.indexSet_,e.toString())}addIndex(e,n){(0,M.hu)(e!==Qs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(mt.Wrap);let a,s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();a=i?s0(r,e.getCompare()):gp;const c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;const h=Object.assign({},this.indexes_);return h[c]=a,new Ka(h,l)}addToIndexes(e,n){const r=(0,M.UI)(this.indexes_,(i,o)=>{const s=(0,M.DV)(this.indexSet_,o);if((0,M.hu)(s,"Missing index implementation for "+o),i===gp){if(s.isDefinedOn(e.node)){const a=[],c=n.getIterator(mt.Wrap);let l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),s0(a,s.getCompare())}return gp}{const a=n.get(e.name);let c=i;return a&&(c=c.remove(new mt(e.name,a))),c.insert(e,e.node)}});return new Ka(r,this.indexSet_)}removeFromIndexes(e,n){const r=(0,M.UI)(this.indexes_,i=>{if(i===gp)return i;{const o=n.get(e.name);return o?i.remove(new mt(e.name,o)):i}});return new Ka(r,this.indexSet_)}}let Y_,tt=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&aB(this.priorityNode_),this.children_.isEmpty()&&(0,M.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Y_||(Y_=new t(new no(yb),null,Ka.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Y_}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?Y_:r}}getChild(n){const r=ft(n);return null===r?this:this.getImmediateChild(r).getChild(Jt(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if((0,M.hu)(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new mt(n,r);let o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));const a=o.isEmpty()?Y_:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){const i=ft(n);if(null===i)return r;{(0,M.hu)(".priority"!==ft(n)||1===il(n),".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(Jt(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,o=0,s=!0;if(this.forEachChild(ln,(a,c)=>{r[a]=c.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){const a=[];for(const c in r)a[c]=r[c];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+sB(this.getPriority().val())+":"),this.forEachChild(ln,(r,i)=>{const o=i.hash();""!==o&&(n+=":"+r+":"+o)}),this.lazyHash_=""===n?"":w5(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const o=this.resolveIndex_(i);if(o){const s=o.getPredecessorKey(new mt(n,r));return s?s.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new mt(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new mt(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,mt.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,mt.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Q_?-1:0}withIndex(n){if(n===Qs||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Qs||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(ln),o=r.getIterator(ln);let s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(n){return n===Qs?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const Q_=new class toe extends tt{constructor(){super(new no(yb),tt.EMPTY_NODE,Ka.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return tt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(mt,{MIN:{value:new mt(nl,tt.EMPTY_NODE)},MAX:{value:new mt(qa,Q_)}}),oB.__EMPTY_NODE=tt.EMPTY_NODE,fp.__childrenNodeConstructor=tt,function Zie(t){vb=t}(Q_),function Qie(t){uB=t}(Q_);const noe=!0;function Rn(t,e=null){if(null===t)return tt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),(0,M.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new fp(t,Rn(e));if(t instanceof Array||!noe){let n=tt.EMPTY_NODE;return Rr(t,(r,i)=>{if((0,M.r3)(t,r)&&"."!==r.substring(0,1)){const o=Rn(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Rn(e))}{const n=[];let r=!1;if(Rr(t,(s,a)=>{if("."!==s.substring(0,1)){const c=Rn(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new mt(s,c)))}}),0===n.length)return tt.EMPTY_NODE;const o=s0(n,Kie,s=>s.name,yb);if(r){const s=s0(n,ln.getCompare());return new tt(o,Rn(e),new Ka({".priority":s},{".priority":ln}))}return new tt(o,Rn(e),Ka.Default)}}!function Yie(t){lB=t}(Rn);class wb extends n0{constructor(e){super(),this.indexPath_=e,(0,M.hu)(!gt(e)&&".priority"!==ft(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return 0===o?Fu(e.name,n.name):o}makePost(e,n){const r=Rn(e),i=tt.EMPTY_NODE.updateChild(this.indexPath_,r);return new mt(n,i)}maxPost(){const e=tt.EMPTY_NODE.updateChild(this.indexPath_,Q_);return new mt(qa,e)}toString(){return K_(this.indexPath_,0).join("/")}}const Pb=new class roe extends n0{compare(e,n){const r=e.node.compareTo(n.node);return 0===r?Fu(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return mt.MIN}maxPost(){return mt.MAX}makePost(e,n){const r=Rn(e);return new mt(n,r)}toString(){return".value"}};function dB(t){return{type:"value",snapshotNode:t}}function _p(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function X_(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function J_(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class Eb{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){(0,M.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(null!=s&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(X_(n,a)):(0,M.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(_p(n,r)):s.trackChildChange(J_(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return null!=r&&(e.isLeafNode()||e.forEachChild(ln,(i,o)=>{n.hasChild(i)||r.trackChildChange(X_(i,o))}),n.isLeafNode()||n.forEachChild(ln,(i,o)=>{if(e.hasChild(i)){const s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(J_(i,o,s))}else r.trackChildChange(_p(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?tt.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class em{constructor(e){this.indexedFilter_=new Eb(e.getIndex()),this.index_=e.getIndex(),this.startPost_=em.getStartPost_(e),this.endPost_=em.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new mt(n,r))||(r=tt.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=tt.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(tt.EMPTY_NODE);const o=this;return n.forEachChild(ln,(s,a)=>{o.matches(new mt(s,a))||(i=i.updateImmediateChild(s,tt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}return e.getIndex().maxPost()}}class ooe{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new em(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new mt(n,r))||(r=tt.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=tt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<n.numChildren()&&n.isIndexed(this.index_)){let o;i=tt.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;i=i.updateImmediateChild(a.name,a.node),s++}}}else{let o;i=n.withIndex(this.index_),i=i.updatePriority(tt.EMPTY_NODE),o=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,tt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){const f=this.index_.getCompare();s=(_,v)=>f(v,_)}else s=this.index_.getCompare();const a=e;(0,M.hu)(a.numChildren()===this.limit_,"");const c=new mt(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(a.hasChild(n)){const f=a.getImmediateChild(n);let _=i.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=_&&(_.name===n||a.hasChild(_.name));)_=i.getChildAfterChild(this.index_,_,this.reverse_);const v=null==_?1:s(_,c);if(h&&!r.isEmpty()&&v>=0)return o?.trackChildChange(J_(n,r,f)),a.updateImmediateChild(n,r);{o?.trackChildChange(X_(n,f));const I=a.updateImmediateChild(n,tt.EMPTY_NODE);return null!=_&&this.rangedFilter_.matches(_)?(o?.trackChildChange(_p(_.name,_.node)),I.updateImmediateChild(_.name,_.node)):I}}return r.isEmpty()?e:h&&s(l,c)>=0?(null!=o&&(o.trackChildChange(X_(l.name,l.node)),o.trackChildChange(_p(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,tt.EMPTY_NODE)):e}}class a0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ln}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,M.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,M.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:nl}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,M.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,M.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:qa}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,M.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ln}copy(){const e=new a0;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Mb(t,e,n){const r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Ob(t,e,n){const r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function c0(t,e){const n=t.copy();return n.index_=e,n}function hB(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ln?n="$priority":t.index_===Pb?n="$value":t.index_===Qs?n="$key":((0,M.hu)(t.index_ instanceof wb,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=(0,M.Wl)(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=(0,M.Wl)(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+(0,M.Wl)(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=(0,M.Wl)(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+(0,M.Wl)(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function pB(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==ln&&(e.i=t.index_.toString()),e}class l0 extends Q5{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=z_("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:((0,M.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=l0.getListenId_(e,r),a={};this.listens_[s]=a;const c=hB(e._queryParams);this.restRequest_(o+".json",c,(l,h)=>{let f=h;if(404===l&&(f=null,l=null),null===l&&this.onDataUpdate_(o,f,!1,r),(0,M.DV)(this.listens_,s)===a){let _;_=l?401===l?"permission_denied":"rest_error:"+l:"ok",i(_,null)}})}unlisten(e,n){const r=l0.getListenId_(e,n);delete this.listens_[r]}get(e){const n=hB(e._queryParams),r=e._path.toString(),i=new M.BH;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,M.xO)(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=(0,M.cI)(a.responseText)}catch{gi("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else 401!==a.status&&404!==a.status&&gi("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}class doe{constructor(){this.rootNode_=tt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function u0(){return{value:null,children:new Map}}function mp(t,e,n){if(gt(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=ft(e);t.children.has(r)||t.children.set(r,u0()),mp(t.children.get(r),e=Jt(e),n)}}function Ib(t,e){if(gt(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(ln,(r,i)=>{mp(t,new Vt(r),i)}),Ib(t,e)}}if(t.children.size>0){const n=ft(e);return e=Jt(e),t.children.has(n)&&Ib(t.children.get(n),e)&&t.children.delete(n),0===t.children.size}return!0}function bb(t,e,n){null!==t.value?n(e,t.value):function hoe(t,e){t.children.forEach((n,r)=>{e(r,n)})}(t,(r,i)=>{bb(i,new Vt(e.toString()+"/"+r),n)})}class poe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Rr(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}class _oe{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new poe(e);const r=1e4+2e4*Math.random();W_(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Rr(e,(i,o)=>{o>0&&(0,M.r3)(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),W_(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Xs=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Xs||{});function Db(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class d0{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Xs.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(gt(this.path)){if(null!=this.affectedTree.value)return(0,M.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Vt(e));return new d0(Nt(),n,this.revert)}}return(0,M.hu)(ft(this.path)===e,"operationForChild called for unrelated child."),new d0(Jt(this.path),this.affectedTree,this.revert)}}class tm{constructor(e,n){this.source=e,this.path=n,this.type=Xs.LISTEN_COMPLETE}operationForChild(e){return gt(this.path)?new tm(this.source,Nt()):new tm(this.source,Jt(this.path))}}class Uu{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Xs.OVERWRITE}operationForChild(e){return gt(this.path)?new Uu(this.source,Nt(),this.snap.getImmediateChild(e)):new Uu(this.source,Jt(this.path),this.snap)}}class yp{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Xs.MERGE}operationForChild(e){if(gt(this.path)){const n=this.children.subtree(new Vt(e));return n.isEmpty()?null:n.value?new Uu(this.source,Nt(),n.value):new yp(this.source,Nt(),n)}return(0,M.hu)(ft(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new yp(this.source,Jt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ol{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(gt(e))return this.isFullyInitialized()&&!this.filtered_;const n=ft(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class moe{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function nm(t,e,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,c)=>function Coe(t,e,n){if(null==e.childName||null==n.childName)throw(0,M.g5)("Should only compare child_ events.");const r=new mt(e.childName,e.snapshotNode),i=new mt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,a,c)),s.forEach(a=>{const c=function voe(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,a,o);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,t.query_))})})}function h0(t,e){return{eventCache:t,serverCache:e}}function rm(t,e,n,r){return h0(new ol(e,n,r),t.serverCache)}function gB(t,e,n,r){return h0(t.eventCache,new ol(e,n,r))}function p0(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Bu(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let Sb;class un{constructor(e,n=(()=>(Sb||(Sb=new no(iie)),Sb))()){this.value=e,this.children=n}static fromObject(e){let n=new un(null);return Rr(e,(r,i)=>{n=n.set(new Vt(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:Nt(),value:this.value};if(gt(e))return null;{const r=ft(e),i=this.children.get(r);if(null!==i){const o=i.findRootMostMatchingPathAndValue(Jt(e),n);return null!=o?{path:In(new Vt(r),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(gt(e))return this;{const n=ft(e),r=this.children.get(n);return null!==r?r.subtree(Jt(e)):new un(null)}}set(e,n){if(gt(e))return new un(n,this.children);{const r=ft(e),o=(this.children.get(r)||new un(null)).set(Jt(e),n),s=this.children.insert(r,o);return new un(this.value,s)}}remove(e){if(gt(e))return this.children.isEmpty()?new un(null):new un(null,this.children);{const n=ft(e),r=this.children.get(n);if(r){const i=r.remove(Jt(e));let o;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new un(null):new un(this.value,o)}return this}}get(e){if(gt(e))return this.value;{const n=ft(e),r=this.children.get(n);return r?r.get(Jt(e)):null}}setTree(e,n){if(gt(e))return n;{const r=ft(e),o=(this.children.get(r)||new un(null)).setTree(Jt(e),n);let s;return s=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new un(this.value,s)}}fold(e){return this.fold_(Nt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(In(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Nt(),n)}findOnPath_(e,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(gt(e))return null;{const o=ft(e),s=this.children.get(o);return s?s.findOnPath_(Jt(e),In(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Nt(),n)}foreachOnPath_(e,n,r){if(gt(e))return this;{this.value&&r(n,this.value);const i=ft(e),o=this.children.get(i);return o?o.foreachOnPath_(Jt(e),In(n,i),r):new un(null)}}foreach(e){this.foreach_(Nt(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(In(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class Ms{constructor(e){this.writeTree_=e}static empty(){return new Ms(new un(null))}}function im(t,e,n){if(gt(e))return new Ms(new un(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let o=r.value;const s=Ui(i,e);return o=o.updateChild(s,n),new Ms(t.writeTree_.set(i,o))}{const i=new un(n),o=t.writeTree_.setTree(e,i);return new Ms(o)}}}function Rb(t,e,n){let r=t;return Rr(n,(i,o)=>{r=im(r,In(e,i),o)}),r}function _B(t,e){if(gt(e))return Ms.empty();{const n=t.writeTree_.setTree(e,new un(null));return new Ms(n)}}function xb(t,e){return null!=ju(t,e)}function ju(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(Ui(n.path,e)):null}function mB(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(ln,(r,i)=>{e.push(new mt(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new mt(r,i.value))}),e}function sl(t,e){if(gt(e))return t;{const n=ju(t,e);return new Ms(null!=n?new un(n):t.writeTree_.subtree(e))}}function kb(t){return t.writeTree_.isEmpty()}function vp(t,e){return yB(Nt(),t.writeTree_,e)}function yB(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{".priority"===i?((0,M.hu)(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=yB(In(t,i),o,n)}),!n.getChild(t).isEmpty()&&null!==r&&(n=n.updateChild(In(t,".priority"),r)),n}}function f0(t,e){return EB(e,t)}function Ioe(t,e){if(t.snap)return Xo(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Xo(In(t.path,n),e))return!0;return!1}function Toe(t){return t.visible}function vB(t,e,n){let r=Ms.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let a;if(o.snap)Xo(n,s)?(a=Ui(n,s),r=im(r,a,o.snap)):Xo(s,n)&&(a=Ui(s,n),r=im(r,Nt(),o.snap.getChild(a)));else{if(!o.children)throw(0,M.g5)("WriteRecord should have .snap or .children");if(Xo(n,s))a=Ui(n,s),r=Rb(r,a,o.children);else if(Xo(s,n))if(a=Ui(s,n),gt(a))r=Rb(r,Nt(),o.children);else{const c=(0,M.DV)(o.children,ft(a));if(c){const l=c.getChild(Jt(a));r=im(r,Nt(),l)}}}}}return r}function CB(t,e,n,r,i){if(r||i){const o=sl(t.visibleWrites,e);return!i&&kb(o)?n:i||null!=n||xb(o,Nt())?vp(vB(t.allWrites,function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(Xo(l.path,e)||Xo(e,l.path))},e),n||tt.EMPTY_NODE):null}{const o=ju(t.visibleWrites,e);if(null!=o)return o;{const s=sl(t.visibleWrites,e);return kb(s)?n:null!=n||xb(s,Nt())?vp(s,n||tt.EMPTY_NODE):null}}}function g0(t,e,n,r){return CB(t.writeTree,t.treePath,e,n,r)}function Nb(t,e){return function Aoe(t,e,n){let r=tt.EMPTY_NODE;const i=ju(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ln,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=sl(t.visibleWrites,e);return n.forEachChild(ln,(s,a)=>{const c=vp(sl(o,new Vt(s)),a);r=r.updateImmediateChild(s,c)}),mB(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}return mB(sl(t.visibleWrites,e)).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}(t.writeTree,t.treePath,e)}function wB(t,e,n,r){return function Doe(t,e,n,r,i){(0,M.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=In(e,n);if(xb(t.visibleWrites,o))return null;{const s=sl(t.visibleWrites,o);return kb(s)?i.getChild(n):vp(s,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function _0(t,e){return function Roe(t,e){return ju(t.visibleWrites,e)}(t.writeTree,In(t.treePath,e))}function Fb(t,e,n){return function Soe(t,e,n,r){const i=In(e,n),o=ju(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?vp(sl(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function PB(t,e){return EB(In(t.treePath,e),t.writeTree)}function EB(t,e){return{treePath:t,writeTree:e}}class Foe{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;(0,M.hu)("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),(0,M.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if("child_added"===n&&"child_removed"===o)this.changeMap.set(r,J_(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===o)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===o)this.changeMap.set(r,X_(r,i.oldSnap));else if("child_changed"===n&&"child_added"===o)this.changeMap.set(r,_p(r,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==o)throw(0,M.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,J_(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const MB=new class Loe{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}};class Lb{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new ol(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Fb(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Bu(this.viewCache_),o=function Noe(t,e,n,r,i,o){return function xoe(t,e,n,r,i,o,s){let a;const c=sl(t.visibleWrites,e),l=ju(c,Nt());if(null!=l)a=l;else{if(null==n)return[];a=vp(c,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const h=[],f=s.getCompare(),_=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let v=_.getNext();for(;v&&h.length<i;)0!==f(v,r)&&h.push(v),v=_.getNext();return h}}(t.writeTree,t.treePath,e,n,r,i,o)}(this.writes_,i,n,1,r,e);return 0===o.length?null:o[0]}}function OB(t,e,n,r,i,o){const s=e.eventCache;if(null!=_0(r,n))return e;{let a,c;if(gt(n))if((0,M.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const l=Bu(e),f=Nb(r,l instanceof tt?l:tt.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{const l=g0(r,Bu(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{const l=ft(n);if(".priority"===l){(0,M.hu)(1===il(n),"Can't have a priority with additional path components");const h=s.getNode();c=e.serverCache.getNode();const f=wB(r,n,h,c);a=null!=f?t.filter.updatePriority(h,f):s.getNode()}else{const h=Jt(n);let f;if(s.isCompleteForChild(l)){c=e.serverCache.getNode();const _=wB(r,n,s.getNode(),c);f=null!=_?s.getNode().getImmediateChild(l).updateChild(h,_):s.getNode().getImmediateChild(l)}else f=Fb(r,l,e.serverCache);a=null!=f?t.filter.updateChild(s.getNode(),l,f,h,i,o):s.getNode()}}return rm(e,a,s.isFullyInitialized()||gt(n),t.filter.filtersNodes())}}function m0(t,e,n,r,i,o,s,a){const c=e.serverCache;let l;const h=s?t.filter:t.filter.getIndexedFilter();if(gt(n))l=h.updateFullNode(c.getNode(),r,null);else if(h.filtersNodes()&&!c.isFiltered()){const v=c.getNode().updateChild(n,r);l=h.updateFullNode(c.getNode(),v,null)}else{const v=ft(n);if(!c.isCompleteForPath(n)&&il(n)>1)return e;const E=Jt(n),b=c.getNode().getImmediateChild(v).updateChild(E,r);l=".priority"===v?h.updatePriority(c.getNode(),b):h.updateChild(c.getNode(),v,b,E,MB,null)}const f=gB(e,l,c.isFullyInitialized()||gt(n),h.filtersNodes());return OB(t,f,n,i,new Lb(i,f,o),a)}function Vb(t,e,n,r,i,o,s){const a=e.eventCache;let c,l;const h=new Lb(i,e,o);if(gt(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,s),c=rm(e,l,!0,t.filter.filtersNodes());else{const f=ft(n);if(".priority"===f)l=t.filter.updatePriority(e.eventCache.getNode(),r),c=rm(e,l,a.isFullyInitialized(),a.isFiltered());else{const _=Jt(n),v=a.getNode().getImmediateChild(f);let E;if(gt(_))E=r;else{const I=h.getCompleteChild(f);E=null!=I?".priority"===gb(_)&&I.getChild(tB(_)).isEmpty()?I:I.updateChild(_,r):tt.EMPTY_NODE}c=v.equals(E)?e:rm(e,t.filter.updateChild(a.getNode(),f,E,_,h,s),a.isFullyInitialized(),t.filter.filtersNodes())}}return c}function IB(t,e){return t.eventCache.isCompleteForChild(e)}function bB(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Ub(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l,c=e;l=gt(n)?r:new un(null).setTree(n,r);const h=e.serverCache.getNode();return l.children.inorderTraversal((f,_)=>{if(h.hasChild(f)){const E=bB(0,e.serverCache.getNode().getImmediateChild(f),_);c=m0(t,c,new Vt(f),E,i,o,s,a)}}),l.children.inorderTraversal((f,_)=>{const v=!e.serverCache.isCompleteForChild(f)&&null===_.value;if(!h.hasChild(f)&&!v){const I=bB(0,e.serverCache.getNode().getImmediateChild(f),_);c=m0(t,c,new Vt(f),I,i,o,s,a)}}),c}class Woe{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Eb(r.getIndex()),o=function soe(t){return t.loadsAllData()?new Eb(t.getIndex()):t.hasLimit()?new ooe(t):new em(t)}(r);this.processor_=function Voe(t){return{filter:t}}(o);const s=n.serverCache,a=n.eventCache,c=i.updateFullNode(tt.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(tt.EMPTY_NODE,a.getNode(),null),h=new ol(c,s.isFullyInitialized(),i.filtersNodes()),f=new ol(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=h0(f,h),this.eventGenerator_=new moe(this.query_)}get query(){return this.query_}}function Zoe(t,e){const n=Bu(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!gt(e)&&!n.getImmediateChild(ft(e)).isEmpty())?n.getChild(e):null}function TB(t){return 0===t.eventRegistrations_.length}function AB(t,e,n){const r=[];if(n){(0,M.hu)(null==e,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){const s=t.eventRegistrations_[o];if(s.matches(e)){if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}else i.push(s)}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function DB(t,e,n,r){e.type===Xs.MERGE&&null!==e.source.queryId&&((0,M.hu)(Bu(t.viewCache_),"We should always have a full cache before handling merges"),(0,M.hu)(p0(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=function Boe(t,e,n,r,i){const o=new Foe;let s,a;if(n.type===Xs.OVERWRITE){const l=n;l.source.fromUser?s=Vb(t,e,l.path,l.snap,r,i,o):((0,M.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!gt(l.path),s=m0(t,e,l.path,l.snap,r,i,a,o))}else if(n.type===Xs.MERGE){const l=n;l.source.fromUser?s=function $oe(t,e,n,r,i,o,s){let a=e;return r.foreach((c,l)=>{const h=In(n,c);IB(e,ft(h))&&(a=Vb(t,a,h,l,i,o,s))}),r.foreach((c,l)=>{const h=In(n,c);IB(e,ft(h))||(a=Vb(t,a,h,l,i,o,s))}),a}(t,e,l.path,l.children,r,i,o):((0,M.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=Ub(t,e,l.path,l.children,r,i,a,o))}else if(n.type===Xs.ACK_USER_WRITE){const l=n;s=l.revert?function Goe(t,e,n,r,i,o){let s;if(null!=_0(r,n))return e;{const a=new Lb(r,e,i),c=e.eventCache.getNode();let l;if(gt(n)||".priority"===ft(n)){let h;if(e.serverCache.isFullyInitialized())h=g0(r,Bu(e));else{const f=e.serverCache.getNode();(0,M.hu)(f instanceof tt,"serverChildren would be complete if leaf node"),h=Nb(r,f)}l=t.filter.updateFullNode(c,h,o)}else{const h=ft(n);let f=Fb(r,h,e.serverCache);null==f&&e.serverCache.isCompleteForChild(h)&&(f=c.getImmediateChild(h)),l=null!=f?t.filter.updateChild(c,h,f,Jt(n),a,o):e.eventCache.getNode().hasChild(h)?t.filter.updateChild(c,h,tt.EMPTY_NODE,Jt(n),a,o):c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=g0(r,Bu(e)),s.isLeafNode()&&(l=t.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||null!=_0(r,Nt()),rm(e,l,s,t.filter.filtersNodes())}}(t,e,l.path,r,i,o):function Hoe(t,e,n,r,i,o,s){if(null!=_0(i,n))return e;const a=e.serverCache.isFiltered(),c=e.serverCache;if(null!=r.value){if(gt(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return m0(t,e,n,c.getNode().getChild(n),i,o,a,s);if(gt(n)){let l=new un(null);return c.getNode().forEachChild(Qs,(h,f)=>{l=l.set(new Vt(h),f)}),Ub(t,e,n,l,i,o,a,s)}return e}{let l=new un(null);return r.foreach((h,f)=>{const _=In(n,h);c.isCompleteForPath(_)&&(l=l.set(h,c.getNode().getChild(_)))}),Ub(t,e,n,l,i,o,a,s)}}(t,e,l.path,l.affectedTree,r,i,o)}else{if(n.type!==Xs.LISTEN_COMPLETE)throw(0,M.g5)("Unknown operation type: "+n.type);s=function zoe(t,e,n,r,i){const o=e.serverCache;return OB(t,gB(e,o.getNode(),o.isFullyInitialized()||gt(n),o.isFiltered()),n,r,MB,i)}(t,e,n.path,r,o)}const c=o.getChanges();return function joe(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=p0(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(dB(p0(e)))}}(e,s,c),{viewCache:s,changes:c}}(t.processor_,i,e,n,r);return function Uoe(t,e){(0,M.hu)(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),(0,M.hu)(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,o.viewCache),(0,M.hu)(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,SB(t,o.changes,o.viewCache.eventCache.getNode(),null)}function SB(t,e,n,r){return function yoe(t,e,n,r){const i=[],o=[];return e.forEach(s=>{"child_changed"===s.type&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function ioe(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(s.childName,s.snapshotNode))}),nm(t,i,"child_removed",e,r,n),nm(t,i,"child_added",e,r,n),nm(t,i,"child_moved",o,r,n),nm(t,i,"child_changed",e,r,n),nm(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}let y0,C0;class RB{constructor(){this.views=new Map}}function Bb(t,e,n,r){const i=e.source.queryId;if(null!==i){const o=t.views.get(i);return(0,M.hu)(null!=o,"SyncTree gave us an op for an invalid query."),DB(o,e,n,r)}{let o=[];for(const s of t.views.values())o=o.concat(DB(s,e,n,r));return o}}function xB(t,e,n,r,i){const s=t.views.get(e._queryIdentifier);if(!s){let a=g0(n,i?r:null),c=!1;a?c=!0:r instanceof tt?(a=Nb(n,r),c=!1):(a=tt.EMPTY_NODE,c=!1);const l=h0(new ol(a,c,!1),new ol(r,i,!1));return new Woe(e,l)}return s}function kB(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function al(t,e){let n=null;for(const r of t.views.values())n=n||Zoe(r,e);return n}function NB(t,e){return e._queryParams.loadsAllData()?v0(t):t.views.get(e._queryIdentifier)}function FB(t,e){return null!=NB(t,e)}function cl(t){return null!=v0(t)}function v0(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let ose=1;class LB{constructor(e){this.listenProvider_=e,this.syncPointTree_=new un(null),this.pendingWriteTree_=function koe(){return{visibleWrites:Ms.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function jb(t,e,n,r,i){return function Poe(t,e,n,r,i){(0,M.hu)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=im(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?Cp(t,new Uu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function ll(t,e,n=!1){const r=function Moe(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function Ooe(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);(0,M.hu)(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&Ioe(a,r.path)?i=!1:Xo(r.path,a.path)&&(o=!0)),s--}return!!i&&(o?(function boe(t){t.visibleWrites=vB(t.allWrites,Toe,Nt()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=_B(t.visibleWrites,r.path):Rr(r.children,c=>{t.visibleWrites=_B(t.visibleWrites,In(r.path,c))}),!0))}(t.pendingWriteTree_,e)){let o=new un(null);return null!=r.snap?o=o.set(Nt(),!0):Rr(r.children,s=>{o=o.set(new Vt(s),!0)}),Cp(t,new d0(r.path,o,n))}return[]}function om(t,e,n){return Cp(t,new Uu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function w0(t,e,n,r,i=!1){const o=e._path,s=t.syncPointTree_.get(o);let a=[];if(s&&("default"===e._queryIdentifier||FB(s,e))){const c=function nse(t,e,n,r){const i=e._queryIdentifier,o=[];let s=[];const a=cl(t);if("default"===i)for(const[c,l]of t.views.entries())s=s.concat(AB(l,n,r)),TB(l)&&(t.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{const c=t.views.get(i);c&&(s=s.concat(AB(c,n,r)),TB(c)&&(t.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!cl(t)&&o.push(new(function Joe(){return(0,M.hu)(y0,"Reference.ts has not been loaded"),y0}())(e._repo,e._path)),{removed:o,events:s}}(s,e,n,r);(function ese(t){return 0===t.views.size})(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const l=c.removed;if(a=c.events,!i){const h=-1!==l.findIndex(_=>_._queryParams.loadsAllData()),f=t.syncPointTree_.findOnPath(o,(_,v)=>cl(v));if(h&&!f){const _=t.syncPointTree_.subtree(o);if(!_.isEmpty()){const v=function hse(t){return t.fold((e,n,r)=>{if(n&&cl(n))return[v0(n)];{let i=[];return n&&(i=kB(n)),Rr(r,(o,s)=>{i=i.concat(s)}),i}})}(_);for(let E=0;E<v.length;++E){const I=v[E],b=I.query,L=jB(t,I);t.listenProvider_.startListening(am(b),sm(t,b),L.hashFn,L.onComplete)}}}!f&&l.length>0&&!r&&(h?t.listenProvider_.stopListening(am(e),null):l.forEach(_=>{const v=t.queryToTagMap.get(E0(_));t.listenProvider_.stopListening(am(_),v)}))}!function pse(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=E0(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,l)}return a}function VB(t,e,n,r){const i=Hb(t,r);if(null!=i){const o=zb(i),s=o.path,a=o.queryId,c=Ui(s,e);return Gb(t,s,new Uu(Db(a),c,n))}return[]}function $b(t,e,n,r=!1){const i=e._path;let o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(_,v)=>{const E=Ui(_,i);o=o||al(v,E),s=s||cl(v)});let c,a=t.syncPointTree_.get(i);a?(s=s||cl(a),o=o||al(a,Nt())):(a=new RB,t.syncPointTree_=t.syncPointTree_.set(i,a)),null!=o?c=!0:(c=!1,o=tt.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((v,E)=>{const I=al(E,Nt());I&&(o=o.updateImmediateChild(v,I))}));const l=FB(a,e);if(!l&&!e._queryParams.loadsAllData()){const _=E0(e);(0,M.hu)(!t.queryToTagMap.has(_),"View does not exist, but we have a tag");const v=function fse(){return ose++}();t.queryToTagMap.set(_,v),t.tagToQueryMap.set(v,_)}let f=function tse(t,e,n,r,i,o){const s=xB(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),function Yoe(t,e){t.eventRegistrations_.push(e)}(s,n),function Qoe(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ln,(o,s)=>{r.push(_p(o,s))}),n.isFullyInitialized()&&r.push(dB(n.getNode())),SB(t,r,n.getNode(),e)}(s,n)}(a,e,n,f0(t.pendingWriteTree_,i),o,c);if(!l&&!s&&!r){const _=NB(a,e);f=f.concat(function gse(t,e,n){const r=e._path,i=sm(t,e),o=jB(t,n),s=t.listenProvider_.startListening(am(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)(0,M.hu)(!cl(a.value),"If we're adding a query, it shouldn't be shadowed");else{const c=a.fold((l,h,f)=>{if(!gt(l)&&h&&cl(h))return[v0(h).query];{let _=[];return h&&(_=_.concat(kB(h).map(v=>v.query))),Rr(f,(v,E)=>{_=_.concat(E)}),_}});for(let l=0;l<c.length;++l){const h=c[l];t.listenProvider_.stopListening(am(h),sm(t,h))}}return s}(t,e,_))}return f}function P0(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const l=al(a,Ui(s,e));if(l)return l});return CB(i,e,o,n,!0)}function Cp(t,e){return UB(e,t.syncPointTree_,null,f0(t.pendingWriteTree_,Nt()))}function UB(t,e,n,r){if(gt(t.path))return BB(t,e,n,r);{const i=e.get(Nt());null==n&&null!=i&&(n=al(i,Nt()));let o=[];const s=ft(t.path),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){const l=n?n.getImmediateChild(s):null,h=PB(r,s);o=o.concat(UB(a,c,l,h))}return i&&(o=o.concat(Bb(i,t,r,n))),o}}function BB(t,e,n,r){const i=e.get(Nt());null==n&&null!=i&&(n=al(i,Nt()));let o=[];return e.children.inorderTraversal((s,a)=>{const c=n?n.getImmediateChild(s):null,l=PB(r,s),h=t.operationForChild(s);h&&(o=o.concat(BB(h,a,c,l)))}),i&&(o=o.concat(Bb(i,t,r,n))),o}function jB(t,e){const n=e.query,r=sm(t,n);return{hashFn:()=>(function qoe(t){return t.viewCache_.serverCache.getNode()}(e)||tt.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function lse(t,e,n){const r=Hb(t,n);if(r){const i=zb(r),o=i.path,s=i.queryId,a=Ui(o,e);return Gb(t,o,new tm(Db(s),a))}return[]}(t,n._path,r):function cse(t,e){return Cp(t,new tm({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);{const o=function aie(t,e){let n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(i,n);return w0(t,n,null,o)}}}}function sm(t,e){const n=E0(e);return t.queryToTagMap.get(n)}function E0(t){return t._path.toString()+"$"+t._queryIdentifier}function Hb(t,e){return t.tagToQueryMap.get(e)}function zb(t){const e=t.indexOf("$");return(0,M.hu)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Vt(t.substr(0,e))}}function Gb(t,e,n){const r=t.syncPointTree_.get(e);return(0,M.hu)(r,"Missing sync point for query tag that we're tracking"),Bb(r,n,f0(t.pendingWriteTree_,e),null)}function am(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(function ise(){return(0,M.hu)(C0,"Reference.ts has not been loaded"),C0}())(t._repo,t._path):t}class Wb{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Wb(n)}node(){return this.node_}}class qb{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=In(this.path_,e);return new qb(this.syncTree_,n)}node(){return P0(this.syncTree_,this.path_)}}const _se=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},$B=function(t,e,n){return t&&"object"==typeof t?((0,M.hu)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?mse(t[".sv"],e,n):"object"==typeof t[".sv"]?yse(t[".sv"],e):void(0,M.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},mse=function(t,e,n){if("timestamp"===t)return n.timestamp;(0,M.hu)(!1,"Unexpected server value: "+t)},yse=function(t,e,n){t.hasOwnProperty("increment")||(0,M.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&(0,M.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,M.hu)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!=typeof s?r:s+r},HB=function(t,e,n,r){return Zb(e,new qb(n,t),r)},Kb=function(t,e,n){return Zb(t,new Wb(e),n)};function Zb(t,e,n){const r=t.getPriority().val(),i=$B(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=$B(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new fp(a,Rn(i)):t}{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new fp(i))),s.forEachChild(ln,(a,c)=>{const l=Zb(c,e.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}class Yb{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function M0(t,e){let n=e instanceof Vt?e:new Vt(e),r=t,i=ft(n);for(;null!==i;){const o=(0,M.DV)(r.node.children,i)||{children:{},childCount:0};r=new Yb(i,r,o),n=Jt(n),i=ft(n)}return r}function $u(t){return t.node.value}function Qb(t,e){t.node.value=e,Xb(t)}function zB(t){return t.node.childCount>0}function O0(t,e){Rr(t.node.children,(n,r)=>{e(new Yb(n,t,r))})}function GB(t,e,n,r){n&&!r&&e(t),O0(t,i=>{GB(i,e,!0,r)}),n&&r&&e(t)}function cm(t){return new Vt(null===t.parent?t.name:cm(t.parent)+"/"+t.name)}function Xb(t){null!==t.parent&&function wse(t,e,n){const r=function vse(t){return void 0===$u(t)&&!zB(t)}(n),i=(0,M.r3)(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Xb(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Xb(t))}(t.parent,t.name,t)}const Pse=/[\[\].#$\/\u0000-\u001F\u007F]/,Ese=/[\[\].#$\u0000-\u001F\u007F]/,Jb=10485760,I0=function(t){return"string"==typeof t&&0!==t.length&&!Pse.test(t)},WB=function(t){return"string"==typeof t&&0!==t.length&&!Ese.test(t)},lm=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!Xw(t)||t&&"object"==typeof t&&(0,M.r3)(t,".sv")},Js=function(t,e,n,r){r&&void 0===e||um((0,M.gK)(t,"value"),e,n)},um=function(t,e,n){const r=n instanceof Vt?new Bie(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+Lu(r));if("function"==typeof e)throw new Error(t+"contains a function "+Lu(r)+" with contents = "+e.toString());if(Xw(e))throw new Error(t+"contains "+e.toString()+" "+Lu(r));if("string"==typeof e&&e.length>Jb/3&&(0,M.ug)(e)>Jb)throw new Error(t+"contains a string greater than "+Jb+" utf8 bytes "+Lu(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,o=!1;if(Rr(e,(s,a)=>{if(".value"===s)i=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!I0(s)))throw new Error(t+" contains an invalid key ("+s+") "+Lu(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function jie(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=(0,M.ug)(e),nB(t)})(r,s),um(t,a,r),function $ie(t){const e=t.parts_.pop();t.byteLength_-=(0,M.ug)(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&o)throw new Error(t+' contains ".value" child '+Lu(r)+" in addition to actual children.")}},qB=function(t,e,n,r){if(r&&void 0===e)return;const i=(0,M.gK)(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const o=[];Rr(e,(s,a)=>{const c=new Vt(s);if(um(i,a,In(n,c)),".priority"===gb(c)&&!lm(a))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(c)}),function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const o=K_(r);for(let s=0;s<o.length;s++)if((".priority"!==o[s]||s!==o.length-1)&&!I0(o[s]))throw new Error(t+"contains an invalid key ("+o[s]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(Uie);let i=null;for(n=0;n<e.length;n++){if(r=e[n],null!==i&&Xo(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,o)},eT=function(t,e,n){if(!n||void 0!==e){if(Xw(e))throw new Error((0,M.gK)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!lm(e))throw new Error((0,M.gK)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},dm=function(t,e,n,r){if(!(r&&void 0===n||I0(n)))throw new Error((0,M.gK)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},hm=function(t,e,n,r){if(!(r&&void 0===n||WB(n)))throw new Error((0,M.gK)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ise=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),hm(t,e,n,r)},Jo=function(t,e){if(".info"===ft(e))throw new Error(t+" failed = Can't modify data under /.info/")},KB=function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!I0(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),WB(t)}(n))throw new Error((0,M.gK)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class bse{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function b0(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();null!==n&&!_b(o,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function ZB(t,e,n){b0(t,n),YB(t,r=>_b(r,e))}function Eo(t,e,n){b0(t,n),YB(t,r=>Xo(r,e)||Xo(e,r))}function YB(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(Tse(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function Tse(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();Nu&&Sr("event: "+n.toString()),hp(r)}}}const QB="repo_interrupt",Ase=25;class Dse{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new bse,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=u0(),this.transactionQueueTree_=new Yb,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function XB(t){const n=t.infoData_.getNode(new Vt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function pm(t){return _se({timestamp:XB(t)})}function JB(t,e,n,r,i){t.dataUpdateCount++;const o=new Vt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const c=(0,M.UI)(n,l=>Rn(l));s=function use(t,e,n,r){const i=Hb(t,r);if(i){const o=zb(i),s=o.path,a=o.queryId,c=Ui(s,e),l=un.fromObject(n);return Gb(t,s,new yp(Db(a),c,l))}return[]}(t.serverSyncTree_,o,c,i)}else{const c=Rn(n);s=VB(t.serverSyncTree_,o,c,i)}else if(r){const c=(0,M.UI)(n,l=>Rn(l));s=function ase(t,e,n){const r=un.fromObject(n);return Cp(t,new yp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,o,c)}else{const c=Rn(n);s=om(t.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=Pp(t,o)),Eo(t.eventQueue_,a,s)}function e4(t,e){tT(t,"connected",e),!1===e&&function Nse(t){wp(t,"onDisconnectEvents");const e=pm(t),n=u0();bb(t.onDisconnect_,Nt(),(i,o)=>{const s=HB(i,o,t.serverSyncTree_,e);mp(n,i,s)});let r=[];bb(n,Nt(),(i,o)=>{r=r.concat(om(t.serverSyncTree_,i,o));const s=oT(t,i);Pp(t,s)}),t.onDisconnect_=u0(),Eo(t.eventQueue_,Nt(),r)}(t)}function tT(t,e,n){const r=new Vt("/.info/"+e),i=Rn(n);t.infoData_.updateSnapshot(r,i);const o=om(t.infoSyncTree_,r,i);Eo(t.eventQueue_,r,o)}function T0(t){return t.nextWriteId_++}function nT(t,e,n,r,i){wp(t,"set",{path:e.toString(),value:n,priority:r});const o=pm(t),s=Rn(n,r),a=P0(t.serverSyncTree_,e),c=Kb(s,a,o),l=T0(t),h=jb(t.serverSyncTree_,e,c,l,!0);b0(t.eventQueue_,h),t.server_.put(e.toString(),s.val(!0),(_,v)=>{const E="ok"===_;E||gi("set at "+e+" failed: "+_);const I=ll(t.serverSyncTree_,l,!E);Eo(t.eventQueue_,e,I),ul(0,i,_,v)});const f=oT(t,e);Pp(t,f),Eo(t.eventQueue_,f,[])}function Fse(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{"ok"===r&&Ib(t.onDisconnect_,e),ul(0,n,r,i)})}function t4(t,e,n,r){const i=Rn(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(o,s)=>{"ok"===o&&mp(t.onDisconnect_,e,i),ul(0,r,o,s)})}function rT(t,e,n){let r;r=".info"===ft(e._path)?w0(t.infoSyncTree_,e,n):w0(t.serverSyncTree_,e,n),ZB(t.eventQueue_,e._path,r)}function n4(t){t.persistentConnection_&&t.persistentConnection_.interrupt(QB)}function wp(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Sr(n,...e)}function ul(t,e,n,r){e&&hp(()=>{if("ok"===n)e(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,e(s)}})}function iT(t,e,n){return P0(t.serverSyncTree_,e,n)||tt.EMPTY_NODE}function A0(t,e=t.transactionQueueTree_){if(e||D0(t,e),$u(e)){const n=i4(t,e);(0,M.hu)(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function $se(t,e,n){const r=n.map(l=>l.currentWriteId),i=iT(t,e,r);let o=i;const s=i.hash();for(let l=0;l<n.length;l++){const h=n[l];(0,M.hu)(0===h.status,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const f=Ui(e,h.path);o=o.updateChild(f,h.currentOutputSnapshotRaw)}const a=o.val(!0),c=e;t.server_.put(c.toString(),a,l=>{wp(t,"transaction put response",{path:c.toString(),status:l});let h=[];if("ok"===l){const f=[];for(let _=0;_<n.length;_++)n[_].status=2,h=h.concat(ll(t.serverSyncTree_,n[_].currentWriteId)),n[_].onComplete&&f.push(()=>n[_].onComplete(null,!0,n[_].currentOutputSnapshotResolved)),n[_].unwatcher();D0(t,M0(t.transactionQueueTree_,e)),A0(t,t.transactionQueueTree_),Eo(t.eventQueue_,e,h);for(let _=0;_<f.length;_++)hp(f[_])}else{if("datastale"===l)for(let f=0;f<n.length;f++)n[f].status=3===n[f].status?4:0;else{gi("transaction at "+c.toString()+" failed: "+l);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=l}Pp(t,e)}},s)}(t,cm(e),n)}else zB(e)&&O0(e,n=>{A0(t,n)})}function Pp(t,e){const n=r4(t,e),r=cm(n);return function Hse(t,e,n){if(0===e.length)return;const r=[];let i=[];const s=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const c=e[a],l=Ui(n,c.path);let f,h=!1;if((0,M.hu)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)h=!0,f=c.abortReason,i=i.concat(ll(t.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=Ase)h=!0,f="maxretry",i=i.concat(ll(t.serverSyncTree_,c.currentWriteId,!0));else{const _=iT(t,c.path,s);c.currentInputSnapshot=_;const v=e[a].update(_.val());if(void 0!==v){um("transaction failed: Data returned ",v,c.path);let E=Rn(v);"object"==typeof v&&null!=v&&(0,M.r3)(v,".priority")||(E=E.updatePriority(_.getPriority()));const b=c.currentWriteId,L=pm(t),N=Kb(E,_,L);c.currentOutputSnapshotRaw=E,c.currentOutputSnapshotResolved=N,c.currentWriteId=T0(t),s.splice(s.indexOf(b),1),i=i.concat(jb(t.serverSyncTree_,c.path,N,c.currentWriteId,c.applyLocally)),i=i.concat(ll(t.serverSyncTree_,b,!0))}else h=!0,f="nodata",i=i.concat(ll(t.serverSyncTree_,c.currentWriteId,!0))}Eo(t.eventQueue_,n,i),i=[],h&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===f?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(f),!1,null)))}D0(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)hp(r[a]);A0(t,t.transactionQueueTree_)}(t,i4(t,n),r),r}function r4(t,e){let n,r=t.transactionQueueTree_;for(n=ft(e);null!==n&&void 0===$u(r);)r=M0(r,n),n=ft(e=Jt(e));return r}function i4(t,e){const n=[];return o4(t,e,n),n.sort((r,i)=>r.order-i.order),n}function o4(t,e,n){const r=$u(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);O0(e,i=>{o4(t,i,n)})}function D0(t,e){const n=$u(e);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Qb(e,n.length>0?n:void 0)}O0(e,r=>{D0(t,r)})}function oT(t,e){const n=cm(r4(t,e)),r=M0(t.transactionQueueTree_,e);return function Cse(t,e,n){let r=n?t:t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{sT(t,i)}),sT(t,r),GB(r,i=>{sT(t,i)}),n}function sT(t,e){const n=$u(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,M.hu)(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):((0,M.hu)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(ll(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?Qb(e,void 0):n.length=o+1,Eo(t.eventQueue_,cm(e),i);for(let s=0;s<r.length;s++)hp(r[s])}}const aT=function(t,e){const n=Wse(t),r=n.namespace;return"firebase.com"===n.domain&&Ys(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&Ys("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&gi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new lb(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,e,"",r!==n.subdomain),path:new Vt(n.pathString)}},Wse=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",c=443;if("string"==typeof t){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let h=t.indexOf("/");-1===h&&(h=t.length);let f=t.indexOf("?");-1===f&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(i=function zse(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(t.substring(h,f)));const _=function Gse(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):gi(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,f)));l=e.indexOf(":"),l>=0?(s="https"===a||"wss"===a,c=parseInt(e.substring(l+1),10)):l=e.length;const v=e.slice(0,l);if("localhost"===v.toLowerCase())n="localhost";else if(v.split(".").length<=2)n=v;else{const E=e.indexOf(".");r=e.substring(0,E).toLowerCase(),n=e.substring(E+1),o=r}"ns"in _&&(o=_.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},s4="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",qse=function(){let t=0;const e=[];return function(n){const r=n===t;let i;t=n;const o=new Array(8);for(i=7;i>=0;i--)o[i]=s4.charAt(n%64),n=Math.floor(n/64);(0,M.hu)(0===n,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&63===e[i];i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)s+=s4.charAt(e[i]);return(0,M.hu)(20===s.length,"nextPushId: Length should be 20."),s}}();class a4{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,M.Wl)(this.snapshot.exportVal())}}class c4{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class cT{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return(0,M.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class l4{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new M.BH;return Fse(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Jo("OnDisconnect.remove",this._path);const e=new M.BH;return t4(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Jo("OnDisconnect.set",this._path),Js("OnDisconnect.set",e,this._path,!1);const n=new M.BH;return t4(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){Jo("OnDisconnect.setWithPriority",this._path),Js("OnDisconnect.setWithPriority",e,this._path,!1),eT("OnDisconnect.setWithPriority",n,!1);const r=new M.BH;return function Lse(t,e,n,r,i){const o=Rn(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),(s,a)=>{"ok"===s&&mp(t.onDisconnect_,e,o),ul(0,i,s,a)})}(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){Jo("OnDisconnect.update",this._path),qB("OnDisconnect.update",e,this._path,!1);const n=new M.BH;return function Vse(t,e,n,r){if((0,M.xb)(n))return Sr("onDisconnect().update() called with empty data.  Don't do anything."),void ul(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,(i,o)=>{"ok"===i&&Rr(n,(s,a)=>{const c=Rn(a);mp(t.onDisconnect_,In(e,s),c)}),ul(0,r,i,o)})}(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}}class ro{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return gt(this._path)?null:gb(this._path)}get ref(){return new es(this._repo,this._path)}get _queryIdentifier(){const e=pB(this._queryParams),n=ab(e);return"{}"===n?"default":n}get _queryObject(){return pB(this._queryParams)}isEqual(e){if(!((e=(0,M.m9)(e))instanceof ro))return!1;const n=this._repo===e._repo,r=_b(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Vie(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}function S0(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function dl(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Qs){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==nl)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==qa)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===ln){if(null!=e&&!lm(e)||null!=n&&!lm(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,M.hu)(t.getIndex()instanceof wb||t.getIndex()===Pb,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function R0(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class es extends ro{constructor(e,n){super(e,n,new a0,!1)}get parent(){const e=tB(this._path);return null===e?null:new es(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Hu{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Vt(e),r=zu(this.ref,e);return new Hu(this._node.getChild(n),r,ln)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new Hu(i,zu(this.ref,r),ln)))}hasChild(e){const n=new Vt(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function xr(t,e){return(t=(0,M.m9)(t))._checkNotDeleted("ref"),void 0!==e?zu(t._root,e):t._root}function u4(t,e){(t=(0,M.m9)(t))._checkNotDeleted("refFromURL");const n=aT(e,t._repo.repoInfo_.nodeAdmin);KB("refFromURL",n);const r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&Ys("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),xr(t,n.path.toString())}function zu(t,e){return null===ft((t=(0,M.m9)(t))._path)?Ise("child","path",e,!1):hm("child","path",e,!1),new es(t._repo,In(t._path,e))}function Os(t,e){t=(0,M.m9)(t),Jo("set",t._path),Js("set",e,t._path,!1);const n=new M.BH;return nT(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Xse(t,e){qB("update",e,t._path,!1);const n=new M.BH;return function kse(t,e,n,r){wp(t,"update",{path:e.toString(),value:n});let i=!0;const o=pm(t),s={};if(Rr(n,(a,c)=>{i=!1,s[a]=HB(In(e,a),Rn(c),t.serverSyncTree_,o)}),i)Sr("update() called with empty data.  Don't do anything."),ul(0,r,"ok",void 0);else{const a=T0(t),c=function sse(t,e,n,r){!function Eoe(t,e,n,r){(0,M.hu)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Rb(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);const i=un.fromObject(n);return Cp(t,new yp({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,e,s,a);b0(t.eventQueue_,c),t.server_.merge(e.toString(),n,(l,h)=>{const f="ok"===l;f||gi("update at "+e+" failed: "+l);const _=ll(t.serverSyncTree_,a,!f),v=_.length>0?Pp(t,e):e;Eo(t.eventQueue_,v,_),ul(0,r,l,h)}),Rr(n,l=>{const h=oT(t,In(e,l));Pp(t,h)}),Eo(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function fm(t){t=(0,M.m9)(t);const e=new cT(()=>{}),n=new gm(e);return function xse(t,e,n){const r=function dse(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(l,h)=>{const f=Ui(l,n);r=r||al(h,f)});let i=t.syncPointTree_.get(n);i?r=r||al(i,Nt()):(i=new RB,t.syncPointTree_=t.syncPointTree_.set(n,i));const o=null!=r,s=o?new ol(r,!0,!1):null;return function Koe(t){return p0(t.viewCache_)}(xB(i,e,f0(t.pendingWriteTree_,e._path),o?s.getNode():tt.EMPTY_NODE,o))}(t.serverSyncTree_,e);return null!=r?Promise.resolve(r):t.server_.get(e).then(i=>{const o=Rn(i).withIndex(e._queryParams.getIndex());let s;if($b(t.serverSyncTree_,e,n,!0),e._queryParams.loadsAllData())s=om(t.serverSyncTree_,e._path,o);else{const a=sm(t.serverSyncTree_,e);s=VB(t.serverSyncTree_,e._path,o,a)}return Eo(t.eventQueue_,e._path,s),w0(t.serverSyncTree_,e,n,null,!0),o},i=>(wp(t,"get for query "+(0,M.Wl)(e)+" failed: "+i),Promise.reject(new Error(i))))}(t._repo,t,n).then(r=>new Hu(r,new es(t._repo,t._path),t._queryParams.getIndex()))}class gm{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,n){const r=n._queryParams.getIndex();return new a4("value",this,new Hu(e.snapshotNode,new es(n._repo,n._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new c4(this,e,n):null}matches(e){return e instanceof gm&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class x0{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n="children_added"===e?"child_added":e;return n="children_removed"===n?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new c4(this,e,n):null}createEvent(e,n){(0,M.hu)(null!=e.childName,"Child events should have a childName.");const r=zu(new es(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new a4(e.type,this,new Hu(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof x0&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function _m(t,e,n,r,i){let o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){const c=n,l=(h,f)=>{rT(t._repo,t,a),c(h,f)};l.userCallback=n.userCallback,l.context=n.context,n=l}const s=new cT(n,o||void 0),a="value"===e?new gm(s):new x0(e,s);return function Use(t,e,n){let r;r=".info"===ft(e._path)?$b(t.infoSyncTree_,e,n):$b(t.serverSyncTree_,e,n),ZB(t.eventQueue_,e._path,r)}(t._repo,t,a),()=>rT(t._repo,t,a)}function Gu(t,e,n,r){return _m(t,"value",e,n,r)}function d4(t,e,n,r){return _m(t,"child_added",e,n,r)}function h4(t,e,n,r){return _m(t,"child_changed",e,n,r)}function p4(t,e,n,r){return _m(t,"child_moved",e,n,r)}function f4(t,e,n,r){return _m(t,"child_removed",e,n,r)}function g4(t,e,n){let r=null;const i=n?new cT(n):null;"value"===e?r=new gm(i):e&&(r=new x0(e,i)),rT(t._repo,t,r)}class Is{}class _4 extends Is{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Js("endAt",this._value,e._path,!0);const n=Ob(e._queryParams,this._value,this._key);if(R0(n),dl(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ro(e._repo,e._path,n,e._orderByCalled)}}class eae extends Is{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Js("endBefore",this._value,e._path,!1);const n=function uoe(t,e,n){let r;return r=Ob(t,e,t.index_===Qs||n?n:nl),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(R0(n),dl(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ro(e._repo,e._path,n,e._orderByCalled)}}class m4 extends Is{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Js("startAt",this._value,e._path,!0);const n=Mb(e._queryParams,this._value,this._key);if(R0(n),dl(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ro(e._repo,e._path,n,e._orderByCalled)}}class rae extends Is{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Js("startAfter",this._value,e._path,!1);const n=function loe(t,e,n){let r;return r=Mb(t,e,t.index_===Qs||n?n:qa),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(R0(n),dl(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ro(e._repo,e._path,n,e._orderByCalled)}}class oae extends Is{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ro(e._repo,e._path,function aoe(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}class aae extends Is{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ro(e._repo,e._path,function coe(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}class lae extends Is{constructor(e){super(),this._path=e}_apply(e){S0(e,"orderByChild");const n=new Vt(this._path);if(gt(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new wb(n),i=c0(e._queryParams,r);return dl(i),new ro(e._repo,e._path,i,!0)}}class dae extends Is{_apply(e){S0(e,"orderByKey");const n=c0(e._queryParams,Qs);return dl(n),new ro(e._repo,e._path,n,!0)}}class pae extends Is{_apply(e){S0(e,"orderByPriority");const n=c0(e._queryParams,ln);return dl(n),new ro(e._repo,e._path,n,!0)}}class gae extends Is{_apply(e){S0(e,"orderByValue");const n=c0(e._queryParams,Pb);return dl(n),new ro(e._repo,e._path,n,!0)}}class mae extends Is{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){if(Js("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new _4(this._value,this._key)._apply(new m4(this._value,this._key)._apply(e))}}function bs(t,...e){let n=(0,M.m9)(t);for(const r of e)n=r._apply(n);return n}(function Xoe(t){(0,M.hu)(!y0,"__referenceConstructor has already been defined"),y0=t})(es),function rse(t){(0,M.hu)(!C0,"__referenceConstructor has already been defined"),C0=t}(es);const lT={};function uT(t,e,n,r,i){let o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||Ys("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Sr("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let c,l,s=aT(o,i),a=s.repoInfo;typeof process<"u"&&process.env&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=aT(o,i),a=s.repoInfo):c=!s.repoInfo.secure;const h=i&&c?new q_(q_.OWNER):new pie(t.name,t.options,e);KB("Invalid Firebase Database URL",s),gt(s.path)||Ys("Database URL must point to the root of a Firebase Database (not including a child path).");const f=function Pae(t,e,n,r){let i=lT[e.name];i||(i={},lT[e.name]=i);let o=i[t.toURLString()];return o&&Ys("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Dse(t,false,n,r),i[t.toURLString()]=o,o}(a,t,h,new hie(t.name,n));return new Mae(f,t)}class Mae{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Sse(t,e,n){if(t.stats_=hb(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new l0(t.repoInfo_,(r,i,o,s)=>{JB(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>e4(t,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,M.Wl)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Vu(t.repoInfo_,e,(r,i,o,s)=>{JB(t,r,i,o,s)},r=>{e4(t,r)},r=>{!function Rse(t,e){Rr(e,(n,r)=>{tT(t,n,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function _ie(t,e){const n=t.toString();return db[n]||(db[n]=e()),db[n]}(t.repoInfo_,()=>new _oe(t.stats_,t.server_)),t.infoData_=new doe,t.infoSyncTree_=new LB({startListening:(r,i,o,s)=>{let a=[];const c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=om(t.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),tT(t,"connected",!1),t.serverSyncTree_=new LB({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,c)=>{const l=s(a,c);Eo(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new es(this._repo,Nt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function wae(t,e){const n=lT[e];(!n||n[t.key]!==t)&&Ys(`Database ${e}(${t.repoInfo_}) has already been deleted.`),n4(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Ys("Cannot call "+e+" on a deleted database.")}}function v4(){H5.IS_TRANSPORT_INITIALIZED&&gi("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Oae(){v4(),rl.forceDisallow()}function Iae(){v4(),pp.forceDisallow(),rl.forceAllow()}function _i(t=(0,We.getApp)(),e){const n=(0,We._getProvider)(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=(0,M.P0)("database");r&&C4(n,...r)}return n}function C4(t,e,n,r={}){(t=(0,M.m9)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&Ys("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ys('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new q_(q_.OWNER);else if(r.mockUserToken){const s="string"==typeof r.mockUserToken?r.mockUserToken:(0,M.Sg)(r.mockUserToken,t.app.options.projectId);o=new q_(s)}!function Cae(t,e,n,r){t.repoInfo_=new lb(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}(i,e,n,o)}function Aae(t,e){E5(t,e)}const Sae={".sv":"timestamp"};class kae{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Vu.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Vu.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},function Dae(t){ib(We.SDK_VERSION),(0,We._registerComponent)(new Po.wA("database",(e,{instanceIdentifier:n})=>uT(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),(0,We.registerVersion)(m5,"1.0.1",t),(0,We.registerVersion)(m5,"1.0.1","esm2017")}();const kr_firebaseConfig={apiKey:"AIzaSyBAbOn_DL4wzdJtwKluPbbuaigV-4At9WY",authDomain:"photohub-4d669.firebaseapp.com",databaseURL:"https://photohub-4d669-default-rtdb.firebaseio.com",projectId:"photohub-4d669",storageBucket:"photohub-4d669.appspot.com",messagingSenderId:"825330385142",appId:"1:825330385142:web:b2b6add9e9f69aed14acd7",measurementId:"G-6K792J2R3M"};let Ep=(()=>{var t;class e{getUsers(){return new Promise((r,i)=>{Gu(xr(_i((0,We.initializeApp)(kr_firebaseConfig)),"users/"),c=>{const l=c.val(),h=[];for(const f in l)if(l.hasOwnProperty(f)){const _=l[f];h.push({id:_.id,username:_.username||"",password:_.password||"",full_name:_.full_name||"",email:_.email||"",phone_number:_.phone_number||"",address:_.address||"",avatar:_.avatar||"",role_id:_.role_id||0,exp:_.exp||0})}r(h)})})}getUserById(r){var i=this;return(0,k.Z)(function*(){try{return(yield i.getUsers()).find(a=>a.id===r)||null}catch(o){return console.error("Error fetching user by ID:",o),null}})()}getUserByUsername(r){var i=this;return(0,k.Z)(function*(){try{return(yield i.getUsers()).find(a=>a.username===r)||null}catch(o){return console.error("Error fetching user by username",o),null}})()}createUser(r){var i=this;return(0,k.Z)(function*(){try{if(!(yield i.isUsernameUnique(r.username)))return console.log("The username is not unique"),null;const a=_i((0,We.initializeApp)(kr_firebaseConfig)),c=yield i.generateNewId(),l=xr(a,"users/"+c),h={id:c,username:r.username,password:r.password,full_name:r.full_name,email:r.email,phone_number:r.phone_number,address:r.address,exp:r.exp,avatar:r.avatar,role_id:r.role_id};return yield Os(l,h),h}catch(o){return console.error("Error creating user:",o),null}})()}updateUser(r){var i=this;return(0,k.Z)(function*(){try{if(null===(yield i.getUserById(r.id)))return console.error("User information not found for ID:",r.id),null;const a=_i((0,We.initializeApp)(kr_firebaseConfig)),c={id:r.id,username:r.username,password:r.password,full_name:r.full_name,email:r.email,phone_number:r.phone_number,address:r.address,avatar:r.avatar,role_id:r.role_id,exp:r.exp},l=xr(a,`users/${r.id}`);return yield Os(l,c),r}catch(o){return console.error("Error updating user:",o),null}})()}generateNewId(){var r=this;return(0,k.Z)(function*(){const i=yield r.getUsers();return(0===i.length?0:Math.max(...i.map(s=>s.id)))+1})()}isUsernameUnique(r){return(0,k.Z)(function*(){const s=xr(_i((0,We.initializeApp)(kr_firebaseConfig)),"users"),c=(yield fm(s)).val();if(c)for(const l in c)if(c.hasOwnProperty(l)&&c[l].username===r)return!1;return!0})()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),dT=(()=>{var t;class e{getUserInfos(){return new Promise((r,i)=>{Gu(xr(_i((0,We.initializeApp)(kr_firebaseConfig)),"user_info/"),c=>{const l=c.val(),h=[];for(const f in l)if(l.hasOwnProperty(f)){const _=l[f];h.push({id:_.id,user_id:_.user_id,img1:_.img1||"",img2:_.img2||"",img3:_.img3||"",cost:_.cost||0,description:_.description||"",prize:_.prize||"",interest:_.interest||"",language:_.language||"",camera:_.camera||"",portfolio:_.portfolio||[],typeOfPhoto:_.typeOfPhoto||[]})}r(h)})})}getUserInfoById(r){var i=this;return(0,k.Z)(function*(){try{return(yield i.getUserInfos()).find(a=>a.id===r)||null}catch(o){return console.error("Error fetching user info by ID:",o),null}})()}createUserInfo(r){var i=this;return(0,k.Z)(function*(){try{if(!(yield i.isUserIdUnique(r.user_id)))return console.log("The id is not unique"),null;const a=_i((0,We.initializeApp)(kr_firebaseConfig)),c=yield i.generateNewId(),l=xr(a,"user_info/"+c),h={id:c,user_id:r.user_id,img1:r.img1||"",img2:r.img2||"",img3:r.img3||"",cost:r.cost||0,description:r.description||"",prize:r.prize||"",interest:r.interest||"",language:r.language||"",camera:r.camera||"",portfolio:r.portfolio||[],typeOfPhoto:r.typeOfPhoto||[]};return yield Os(l,h),h}catch(o){return console.error("Error creating user:",o),null}})()}updateUserInfo(r){var i=this;return(0,k.Z)(function*(){try{const s=_i((0,We.initializeApp)(kr_firebaseConfig));if(null===(yield i.getUserInfoById(r.id)))return console.error("User information not found for ID:",r.id),null;const c={id:r.id,user_id:r.user_id,img1:r.img1||"",img2:r.img2||"",img3:r.img3||"",cost:r.cost||0,description:r.description||"",prize:r.prize||"",interest:r.interest||"",language:r.language||"",camera:r.camera||"",portfolio:r.portfolio||[],typeOfPhoto:r.typeOfPhoto||[]},l=xr(s,`user_info/${r.id}`);return yield Os(l,c),c}catch(o){return console.error("Error updating user information:",o),null}})()}generateNewId(){var r=this;return(0,k.Z)(function*(){const i=yield r.getUserInfos();return(0===i.length?0:Math.max(...i.map(s=>s.id)))+1})()}isUserIdUnique(r){return(0,k.Z)(function*(){const s=xr(_i((0,We.initializeApp)(kr_firebaseConfig)),"user_info"),c=(yield fm(s)).val();if(c)for(const l in c)if(c.hasOwnProperty(l)&&c[l].user_id===r)return!1;return!0})()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),k0=(()=>{var t;class e{constructor(r,i){this.userService=r,this.userInfoService=i}getUserInfoDTOs(){return Yc([this.userService.getUsers(),this.userInfoService.getUserInfos()]).pipe(_e(([r,i])=>{const o=[];for(const s of r){const a=i.find(c=>c.user_id===s.id);a&&o.push({user:s,userInfo:a})}return o}),Qo(r=>[]))}getUserInfoDTOsByRole(r){return Yc([this.userService.getUsers(),this.userInfoService.getUserInfos()]).pipe(_e(([i,o])=>{const s=[];for(const a of i){const c=o.find(l=>l.user_id===a.id&&a.role_id===r);c&&s.push({user:a,userInfo:c})}return s}),Qo(i=>[]))}getUserInfoDTOsById(r){return Yc([this.userService.getUsers(),this.userInfoService.getUserInfos()]).pipe(_e(([i,o])=>{const s=[];for(const c of i){const l=o.find(h=>h.user_id===c.id);l&&s.push({user:c,userInfo:l})}return s.find(c=>c.user.id===r)||null}),Qo(i=>q(null)))}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(Ep),ie(dT))},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Fae(t,e){if(1&t&&(m(0,"div",80)(1,"a",81)(2,"div",82)(3,"div",83)(4,"div",84),D(5,"img",85),y(),m(6,"div",86)(7,"div",87),D(8,"img",85),y(),m(9,"div",88),D(10,"img",85),y()()(),m(11,"div",89)(12,"div",90)(13,"h4",91),w(14),y(),m(15,"span",92),w(16),y()(),m(17,"div",93)(18,"p",94),w(19),y(),m(20,"div",95)(21,"div",96),D(22,"img",97)(23,"img",97)(24,"img",97)(25,"img",97)(26,"img",97),y(),m(27,"span",98),w(28,"5.0"),y()()()(),m(29,"div",99),D(30,"img",100),y()()()()),2&t){const n=e.$implicit;S(1),ew("routerLink","/profile/",n.user.id,""),S(4),gs("src",n.userInfo.img1,Dr),S(3),gs("src",n.userInfo.img2,Dr),S(2),gs("src",n.userInfo.img3,Dr),S(4),He(n.user.full_name),S(2),He(n.user.address),S(3),At("",n.userInfo.cost,"/h")}}let w4=(()=>{var t;class e{constructor(r){this.userInfoDTOService=r,this.userInfoData=[]}ngOnInit(){this.loadUserInfoData()}loadUserInfoData(){this.userInfoDTOService.getUserInfoDTOsByRole(2).subscribe(r=>{this.userInfoData=r},r=>{console.error("Error fetching user information: ",r)})}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(k0))},t.\u0275cmp=kt({type:t,selectors:[["app-home"]],decls:141,vars:1,consts:[[1,"home-content"],[1,"banner-wrapper"],[1,"banner-container"],[1,"banner-content"],["src","./assets/images/banner.jpg","alt","banner",1,"banner-image"],[1,"banner-search"],[1,"bsearch-title"],[1,"stitle"],[1,"slogan"],[1,"bsearch-content"],[1,"bsearch-quest-wrapper"],["type","text","name","","id","bsearch-quest","placeholder","D\u1ecbch v\u1ee5 b\u1ea1n \u0111ang t\xecm ki\u1ebfm ?"],[1,"bsearch-locate-wrapper"],["href","javascript:void(0)",1,"locate-icon"],[1,"bx","bxs-map"],["type","text","name","","id","bsearch-locate","placeholder","\u0110\u1ecba \u0111i\u1ec3m"],["href","javascript:void(0)","id","bsearch-icon"],[1,"bx","bx-search"],[1,"bsearch-suggest"],[1,"content-wrapper"],[1,"forUs-wrapper"],[1,"forUs-title"],[1,"fu-content-wrapper"],[1,"fu-content"],[1,"icon-wrapper"],["src","./assets/images/icons/icon1.png","alt","",1,"fu-icon"],[1,"fu-txt"],["src","./assets/images/icons/icon2.png","alt","",1,"fu-icon"],["src","./assets/images/icons/icon3.png","alt","",1,"fu-icon"],[1,"photo-popular-wrapper"],[1,"ppopular-title"],[1,"ppopular-wrapper"],["class","ppopular-item ",4,"ngFor","ngForOf"],[1,"ppopular-detail"],["routerLink","/collection",1,"ppopular-detail-link"],[1,"bx","bx-chevron-right"],[1,"category-wrapper"],[1,"category-title"],[1,"cate-content-wrapper"],[1,"cate-content"],["routerLink","/collection"],[1,"cate-picture"],[1,"picture-wrapper"],["src","./assets/images/user/Rectangle 23.png","alt",""],[1,"cate-name"],[1,"text-name"],["src","./assets/images/user/Rectangle 24.png","alt",""],["src","./assets/images/user/Rectangle 25.png","alt",""],["src","./assets/images/user/Rectangle 26.png","alt",""],[1,"description-wrapper"],[1,"des-title"],[1,"des-content-wrapper"],[1,"des-content"],[1,"des-left"],[1,"des-attention"],[1,"des-atten-title"],[1,"des-atten-text"],[1,"bx","bx-calendar-check"],[1,"bx","bx-smile"],[1,"des-right"],[1,"right-picture-first"],[1,"rf-left"],[1,"rf-left-first"],["src","./assets/images/user/Rectangle 28.png","alt",""],[1,"rf-left-second"],["src","./assets/images/user/Rectangle 34.png","alt",""],["src","./assets/images/user/Rectangle 35.png","alt",""],[1,"rf-right"],["src","./assets/images/user/Rectangle 29.png","alt","",1,"rf-right-img1"],["src","./assets/images/user/Rectangle 30.png","alt","",1,"rf-right-img2"],[1,"right-picture-second"],["src","./assets/images/user/Rectangle 32.png","alt",""],["src","./assets/images/user/Rectangle 47.png","alt",""],["src","./assets/images/user/Rectangle 33.png","alt",""],[1,"call-contact-warpper"],[1,"contact-bg"],["src","./assets/images/user/Rectangle 36.png","alt",""],[1,"contact-text"],[1,"contact-title"],["routerLink","",1,"contact-link"],[1,"ppopular-item"],[1,"ppopular-link",3,"routerLink"],[1,"ppopular-content"],[1,"pp-picture"],[1,"picture-1"],["alt","",3,"src"],[1,"picture-right"],[1,"picture-2"],[1,"picture-3"],[1,"pp-info"],[1,"info-left"],[1,"info-title"],[1,"info-address"],[1,"info-right"],[1,"info-price"],[1,"info-rate"],[1,"rate-star"],["src","./assets/images/icons/star-fill.png","alt",""],[1,"rate-text"],[1,"pp-avatar"],["src","./assets/images/avatar/avatar1.jpeg","alt","avatar"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),D(4,"img",4),y()(),m(5,"div",5)(6,"div",6)(7,"h1",7),w(8,"PhotoHub"),y(),m(9,"p",8),w(10,"Picture - Perfect Memory, Just a Click Away"),y()(),m(11,"div",9)(12,"div",10),D(13,"input",11),y(),m(14,"div",12)(15,"a",13),D(16,"i",14),y(),D(17,"input",15),y(),m(18,"a",16),D(19,"i",17),y()(),D(20,"div",18),y()(),m(21,"div",19)(22,"div",20)(23,"h2",21),w(24,"\u0110\u1ebfn v\u1edbi ch\xfang t\xf4i"),y(),m(25,"div",22)(26,"div",23)(27,"div",24),D(28,"img",25),y(),m(29,"p",26),w(30,"\u0110\u1ed9i ng\u0169 nhi\u1ebfp \u1ea3nh chuy\xean nghi\u1ec7p"),y()(),m(31,"div",23)(32,"div",24),D(33,"img",27),y(),m(34,"p",26),w(35,"\u0110\u1ea3m b\u1ea3o h\xe0i l\xf2ng kh\xe1ch h\xe0ng ho\u1eb7c ho\xe0n tr\u1ea3 ti\u1ec1n n\u1ebfu kh\xf4ng \u0111\xe1p \u1ee9ng \u0111\u1ee7 y\xeau c\u1ea7u"),y()(),m(36,"div",23)(37,"div",24),D(38,"img",28),y(),m(39,"p",26),w(40,"C\xf3 \u0111\u1ebfn 800+ nhi\u1ebfp \u1ea3nh tr\xean PhotoHub v\u1edbi 4.5+ start \u0111\xe1nh gi\xe1"),y()()()(),m(41,"div",29)(42,"h2",30),w(43,"Nhi\u1ebfp \u1ea3nh gia ph\u1ed5 bi\u1ebfn"),y(),m(44,"div",31),De(45,Fae,31,7,"div",32),y(),m(46,"div",33)(47,"a",34),w(48,"Xem t\u1ea5t c\u1ea3 "),D(49,"i",35),y()()(),m(50,"div",36)(51,"h2",37),w(52,"Th\u1ec3 lo\u1ea1i"),y(),m(53,"div",38)(54,"div",39)(55,"a",40)(56,"div",41)(57,"div",42),D(58,"img",43),y()(),m(59,"div",44)(60,"div",45)(61,"h4"),w(62,"Du l\u1ecbch"),y()()()()(),m(63,"div",39)(64,"a",40)(65,"div",41)(66,"div",42),D(67,"img",46),y()(),m(68,"div",44)(69,"div",45)(70,"h4"),w(71,"LookBook"),y()()()()(),m(72,"div",39)(73,"a",40)(74,"div",41)(75,"div",42),D(76,"img",47),y()(),m(77,"div",44)(78,"div",45)(79,"h4"),w(80,"Catalogue"),y()()()()(),m(81,"div",39)(82,"a",40)(83,"div",41)(84,"div",42),D(85,"img",48),y()(),m(86,"div",44)(87,"div",45)(88,"h4"),w(89,"Kh\xe1c"),y()()()()()()(),m(90,"div",49)(91,"h2",50),w(92,"N\u1eafm b\u1eaft kho\u1ea3nh kh\u1eafc c\u1ee7a b\u1ea1n "),m(93,"span"),w(94,"ch\u1ec9 v\u1edbi 3 b\u01b0\u1edbc"),y()(),m(95,"div",51)(96,"div",52)(97,"div",53)(98,"div",54)(99,"h4",55),D(100,"i",17),w(101," T\xecm ki\u1ebfm nhi\u1ebfp \u1ea3nh gia "),y(),m(102,"div",56),w(103," T\xecm ki\u1ebfm nh\u1eefng nhi\u1ebfp \u1ea3nh gia xung quanh khu v\u1ef1c b\u1ea1n v\u1edbi gi\xe1 c\u1ea3 h\u1ee3p l\xfd, ph\xf9 h\u1ee3p v\u1edbi nhu c\u1ea7u c\u1ee7a b\u1ea1n. Tham kh\u1ea3o h\u1ed3 s\u01a1 v\xe0 th\xeam ngay c\xe1c nhi\u1ebfp \u1ea3nh gia v\xe0o danh m\u1ee5c y\xeau th\xedch. "),y()(),m(104,"div",54)(105,"h4",55),D(106,"i",57),w(107," \u0110\u1eb7t l\u1ecbch h\u1eb9n "),y(),m(108,"div",56),w(109," Sau khi l\u1ef1a ch\u1ecdn xong nhi\u1ebfp \u1ea3nh gia ph\xf9 h\u1ee3p, nhanh ch\xf3ng \u0111\u1eb7t l\u1ecbch ch\u1ec9 b\u1eb1ng v\xe0i thao t\xe1c chu\u1ed9t. Nhi\u1ebfp \u1ea3nh gia s\u1ebd x\xe1c nh\u1eadn v\xe0 c\xf9ng ch\u1edd \u0111\u1ee3i \u0111\u1ebfn ng\xe0y ch\u1ee5p \u1ea3nh. "),y()(),m(110,"div",54)(111,"h4",55),D(112,"i",58),w(113," Chia s\u1ebb kho\u1ea3nh kh\u1eafc tuy\u1ec7t v\u1eddi c\u1ee7a b\u1ea1n "),y(),m(114,"div",56),w(115," H\xe3y gi\u1eef li\xean l\u1ea1c v\u1edbi nhi\u1ebfp \u1ea3nh gia c\u1ee7a b\u1ea1n trong v\xe0 sau khi nh\u1eadn booking. Sau ng\xe0y ch\u1ee5p \u1ea3nh, b\u1ea1n c\xf3 th\u1ec3 l\u1ef1a ch\u1ecdn v\xe0 chia s\u1ebb c\xe1c b\u1ee9c h\xecnh \u0111\u1eb9p m\xe0 nhi\u1ebfp \u1ea3nh gia \u0111\xe3 ch\u1ee5p v\xe0 x\u1eed l\xfd. "),y()()(),m(116,"div",59)(117,"div",60)(118,"div",61)(119,"div",62),D(120,"img",63),y(),m(121,"div",64),D(122,"img",65)(123,"img",66),y()(),m(124,"div",67),D(125,"img",68)(126,"img",69),y()(),m(127,"div",70),D(128,"img",71)(129,"img",72)(130,"img",73),y()()()()(),m(131,"div",74)(132,"div",75),D(133,"img",76),y(),m(134,"div",77)(135,"h3",78),w(136," B\u1ea1n c\xf3 ph\u1ea3i l\xe0 m\u1ed9t nhi\u1ebfp \u1ea3nh gia chuy\xean nghi\u1ec7p v\xe0 \u0111\u1ea7y tham v\u1ecdng? "),y(),m(137,"p"),w(138,"Tham gia c\u1ed9ng \u0111\u1ed3ng PhotoHub v\xe0 nh\u1eadn booking job ngay h\xf4m nay"),y(),m(139,"a",79),w(140," \u0110\u0103ng k\xfd ngay "),y()()()()()),2&r&&(S(45),J("ngForOf",i.userInfoData))},dependencies:[Zo,pi],styles:['@charset "UTF-8";.banner-wrapper[_ngcontent-%COMP%]{height:calc(100vh - 10.75rem);max-height:800px;position:relative}.banner-wrapper[_ngcontent-%COMP%]   .banner-container[_ngcontent-%COMP%], .banner-wrapper[_ngcontent-%COMP%]   .banner-container[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]{height:100%}.banner-wrapper[_ngcontent-%COMP%]   .banner-container[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-image[_ngcontent-%COMP%]{height:100%;width:100%}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]{width:100%;position:absolute;top:20%;left:50%;transform:translateY(-50%);transform:translate(-50%)}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-title[_ngcontent-%COMP%]{margin-bottom:2rem}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-title[_ngcontent-%COMP%]   .stitle[_ngcontent-%COMP%]{color:var(--color-primary);text-transform:uppercase;margin:1rem 0;text-align:center}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-title[_ngcontent-%COMP%]   .slogan[_ngcontent-%COMP%]{margin:.5rem 0;text-align:center;font-weight:600;font-size:22px}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]{width:80%;margin:0 auto;display:flex;justify-content:center}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-quest-wrapper[_ngcontent-%COMP%]{width:calc(60% - 1.14rem);height:2.25rem;background-color:var(--color-light);border-right:2px solid var(--color-primary);border-top-left-radius:.3rem!important;border-bottom-left-radius:.3rem!important}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-quest-wrapper[_ngcontent-%COMP%]   #bsearch-quest[_ngcontent-%COMP%]{width:100%;height:100%;border:0;outline:none;color:var(--color-text-body);padding-left:1.25rem}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-quest-wrapper[_ngcontent-%COMP%]   #bsearch-quest[_ngcontent-%COMP%]::placeholder{color:var(--color-text-body)}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-locate-wrapper[_ngcontent-%COMP%]{width:calc(40% - 1.14rem);height:2.25rem;background-color:var(--color-light);display:flex;justify-content:center}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-locate-wrapper[_ngcontent-%COMP%]   .locate-icon[_ngcontent-%COMP%]{height:2.25rem;width:2.25rem;color:var(--color-primary);font-size:22px;display:flex;justify-content:center;align-items:center;text-decoration:none}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-locate-wrapper[_ngcontent-%COMP%]   #bsearch-locate[_ngcontent-%COMP%]{width:100%;height:100%;border:0;outline:none;color:var(--color-text-body);padding-left:.25rem}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-locate-wrapper[_ngcontent-%COMP%]   #bsearch-locate[_ngcontent-%COMP%]::placeholder{color:var(--color-text-body)}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   #bsearch-icon[_ngcontent-%COMP%]{height:2.28rem;width:2.28rem;background-color:var(--color-primary);border-top-right-radius:.3rem;border-bottom-right-radius:.3rem;display:flex;justify-content:center;align-items:center;font-size:24px;text-decoration:none;color:var(--color-secondary)}@media (min-width: 1200px){.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]{max-width:600px}}@media (max-width: 575.98px){.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-title[_ngcontent-%COMP%]   .slogan[_ngcontent-%COMP%]{padding-left:10%;padding-right:10%}}.forUs-wrapper[_ngcontent-%COMP%]   .forUs-title[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:700;text-align:center;margin-bottom:2.5rem}.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:2rem}.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]   .fu-content[_ngcontent-%COMP%]{margin-bottom:2rem}.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]   .fu-content[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:.75rem}.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]   .fu-content[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .fu-icon[_ngcontent-%COMP%]{height:40px;object-fit:cover}.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]   .fu-content[_ngcontent-%COMP%]   .fu-txt[_ngcontent-%COMP%]{text-align:center}@media (max-width: 991.98px){.forUs-wrapper[_ngcontent-%COMP%]   .forUs-title[_ngcontent-%COMP%]{text-align:left!important}.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 767.98px){.forUs-wrapper[_ngcontent-%COMP%]{margin-top:1.5rem!important}}@media (max-width: 575.98px){.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}}.photo-popular-wrapper[_ngcontent-%COMP%]{margin-top:4rem;position:relative}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-title[_ngcontent-%COMP%]{color:var(--color-primary);margin-bottom:2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]{position:relative;max-height:300px;border-radius:.3rem;margin-bottom:2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]{color:var(--color-text-body)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]{position:relative;height:100%;width:100%;border-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]{height:100%;display:flex;column-gap:.2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-1[_ngcontent-%COMP%]{flex:calc(60% - .1rem);border-right:1px solid var(--color-light)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-top-left-radius:.3rem;border-bottom-left-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]{flex:calc(40% - .1rem);display:flex;row-gap:.1rem;flex-direction:column}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%], .photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]{height:calc(100% - .1rem)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:calc(100% - .15rem);width:100%;object-fit:cover}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%]{height:40%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-top-right-radius:.3rem;border-bottom:1px solid var(--color-light)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]{height:60%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-bottom-right-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;left:0;min-height:4.5rem;display:flex;justify-content:space-between;background-color:#ededed;border-bottom-left-radius:.3rem;border-bottom-right-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-left[_ngcontent-%COMP%]{padding-left:1rem;padding-top:.75rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-left[_ngcontent-%COMP%]   .info-title[_ngcontent-%COMP%]{flex:0 0 100%;width:100%;margin:0 0 .25rem;font-size:20px}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-left[_ngcontent-%COMP%]   .info-address[_ngcontent-%COMP%]{flex:0 0 100%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]{padding-top:.75rem;padding-right:.5rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-price[_ngcontent-%COMP%]{width:100%;font-size:14px;text-align:right;margin:0;margin-bottom:.75rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]{margin-right:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:12px;object-fit:cover}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]   .rate-text[_ngcontent-%COMP%]{font-size:14px;padding-top:2px}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-avatar[_ngcontent-%COMP%]{width:3em;height:3em;border-radius:50%;position:absolute;bottom:3.75rem;left:1rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]:hover:before{content:"Xem h\\1ed3  s\\1a1";position:absolute;inset:0;background-color:#000000b3;color:var(--color-light);font-size:20px;padding:10px;transition:opacity .3s;opacity:0;z-index:1;border-radius:.3rem;display:flex;justify-content:center;align-items:center}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]:hover:before{opacity:1}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]{position:absolute;right:0;top:2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]{text-decoration:none;display:flex;align-items:center;color:var(--color-primary)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:-1px;left:0;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}@media (max-width: 1100px){.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 767.98px){.photo-popular-wrapper[_ngcontent-%COMP%]{margin-top:1.5rem!important}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]{height:7rem;justify-content:flex-start;flex-direction:column}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;padding-left:1rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-price[_ngcontent-%COMP%]{text-align:left;width:auto;margin-right:1.5rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]{justify-content:flex-start}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-avatar[_ngcontent-%COMP%]{bottom:6.26rem}}@media (max-width: 575.98px){.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}}.category-wrapper[_ngcontent-%COMP%]{margin-top:4rem}.category-wrapper[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]{color:var(--color-primary);margin-bottom:2rem}.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);grid-auto-rows:1fr;column-gap:2rem}.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-text-body)}.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]   .cate-content[_ngcontent-%COMP%]{position:relative;margin-bottom:2rem}.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]   .cate-content[_ngcontent-%COMP%]   .cate-picture[_ngcontent-%COMP%], .category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]   .cate-content[_ngcontent-%COMP%]   .cate-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]{height:100%}.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]   .cate-content[_ngcontent-%COMP%]   .cate-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:.3rem}.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]   .cate-content[_ngcontent-%COMP%]   .cate-name[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;left:0;height:4.5rem;width:100%;background-color:#ededed;display:flex;justify-content:center;align-items:center;border-bottom-left-radius:.3rem;border-bottom-right-radius:.3rem}@media (max-width: 991.98px){.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 767.98px){.category-wrapper[_ngcontent-%COMP%]{margin-top:1.5rem!important}}@media (max-width: 575.98px){.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}}.description-wrapper[_ngcontent-%COMP%]   .des-title[_ngcontent-%COMP%]{color:var(--color-primary);margin-bottom:2rem}.description-wrapper[_ngcontent-%COMP%]   .des-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;color:var(--color-warning)}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:3rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-left[_ngcontent-%COMP%]   .des-attention[_ngcontent-%COMP%]{margin-bottom:2rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-left[_ngcontent-%COMP%]   .des-attention[_ngcontent-%COMP%]   .des-atten-title[_ngcontent-%COMP%]{font-size:19px;margin:0;margin-bottom:1rem;display:flex;align-items:center;color:var(--color-primary);font-weight:600}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-left[_ngcontent-%COMP%]   .des-attention[_ngcontent-%COMP%]   .des-atten-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:25px;margin-right:1rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-left[_ngcontent-%COMP%]   .des-attention[_ngcontent-%COMP%]   .des-atten-text[_ngcontent-%COMP%]{padding-left:2.5rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]{max-height:600px;display:flex;flex-direction:column;row-gap:.5rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]{height:calc(60% - .25rem);width:100%;display:flex;column-gap:.5rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-left[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;row-gap:.5rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-left[_ngcontent-%COMP%]   .rf-left-first[_ngcontent-%COMP%]{width:100%;height:calc(70% - .25rem)}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-left[_ngcontent-%COMP%]   .rf-left-first[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-left[_ngcontent-%COMP%]   .rf-left-second[_ngcontent-%COMP%]{width:100%;height:calc(30% - .25rem);display:grid;grid-template-columns:repeat(2,1fr);grid-auto-rows:1fr;column-gap:.5rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-left[_ngcontent-%COMP%]   .rf-left-second[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-right[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;row-gap:.5rem;img-object-fit:cover}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-right[_ngcontent-%COMP%]   .rf-right-img1[_ngcontent-%COMP%]{height:calc(35% - .25rem);width:100%}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-right[_ngcontent-%COMP%]   .rf-right-img2[_ngcontent-%COMP%]{height:calc(65% - .25rem);width:100%}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-second[_ngcontent-%COMP%]{height:calc(40% - .25rem);width:100%;display:flex;column-gap:.5rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-second[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:calc(33.3333333333% - (.25rem + 1px));height:100%;object-fit:cover}@media (max-width: 991.98px){.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}}@media (max-width: 767.98px){.description-wrapper[_ngcontent-%COMP%]{margin-top:1.5rem!important}}@media (max-width: 575.98px){.description-wrapper[_ngcontent-%COMP%]   .des-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline!important}}.call-contact-warpper[_ngcontent-%COMP%]{margin-top:6rem;position:relative}.call-contact-warpper[_ngcontent-%COMP%]   .contact-bg[_ngcontent-%COMP%]{width:100%}.call-contact-warpper[_ngcontent-%COMP%]   .contact-bg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-height:400px;object-fit:fill;object-position:center}.call-contact-warpper[_ngcontent-%COMP%]   .contact-text[_ngcontent-%COMP%]{height:calc(100% - 3rem);width:80%;position:absolute;top:3rem;left:50%;transform:translate(-50%);text-align:center;display:flex;flex-direction:column}.call-contact-warpper[_ngcontent-%COMP%]   .contact-text[_ngcontent-%COMP%]   .contact-title[_ngcontent-%COMP%]{margin-bottom:0}.call-contact-warpper[_ngcontent-%COMP%]   .contact-text[_ngcontent-%COMP%]   .contact-link[_ngcontent-%COMP%]{margin-top:2rem;font-size:18px;font-weight:700;text-decoration:none;color:var(--color-primary);padding:1rem;border:1px solid var(--color-primary);border-radius:.3rem;width:13rem;margin:0 auto}@media (max-width: 767.98px){.call-contact-warpper[_ngcontent-%COMP%]{margin-top:1.5rem!important}}@media (max-width: 575.98px){.call-contact-warpper[_ngcontent-%COMP%]   .contact-bg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:350px}.call-contact-warpper[_ngcontent-%COMP%]   .contact-text[_ngcontent-%COMP%]{width:95%;top:1rem!important}.call-contact-warpper[_ngcontent-%COMP%]   .contact-text[_ngcontent-%COMP%]   .contact-title[_ngcontent-%COMP%]{font-size:20px}}.home-content[_ngcontent-%COMP%]{position:relative}.home-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 4rem 0}@media (max-width: 767.98px){.home-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 2rem 0!important}}']}),e})();function Lae(t,e){if(1&t&&(m(0,"div",6)(1,"a",7)(2,"div",8)(3,"div",9)(4,"div",10),D(5,"img",11),y(),m(6,"div",12)(7,"div",13),D(8,"img",11),y(),m(9,"div",14),D(10,"img",11),y()()(),m(11,"div",15)(12,"div",16)(13,"h4",17),w(14),y(),m(15,"span",18),w(16),y()(),m(17,"div",19)(18,"p",20),w(19),y(),m(20,"div",21)(21,"div",22),D(22,"img",23)(23,"img",23)(24,"img",23)(25,"img",23)(26,"img",23),y(),m(27,"span",24),w(28,"5.0"),y()()()(),m(29,"div",25),D(30,"img",26),y()()()()),2&t){const n=e.$implicit;S(1),J("routerLink","/profile/"+n.user.id),S(4),J("src",n.userInfo.img1,Dr),S(3),J("src",n.userInfo.img2,Dr),S(2),J("src",n.userInfo.img3,Dr),S(4),He(n.user.full_name),S(2),He(n.user.address),S(3),At("",n.userInfo.cost,"/h"),S(11),J("src",n.user.avatar,Dr)}}let P4=(()=>{var t;class e{constructor(r){this.userInfoDTOService=r,this.userInfoData=[],this.userCount=0}ngOnInit(){this.loadUserInfoData()}loadUserInfoData(){this.userInfoDTOService.getUserInfoDTOsByRole(2).subscribe(r=>{this.userInfoData=r,this.userCount=this.userInfoData.length},r=>{console.error("Error fetching user information: ",r)})}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(k0))},t.\u0275cmp=kt({type:t,selectors:[["app-shop"]],decls:7,vars:2,consts:[[1,"shop-content"],[1,"content-wrapper"],[1,"photo-popular-wrapper"],[1,"ppopular-title"],[1,"ppopular-wrapper"],["class","ppopular-item",4,"ngFor","ngForOf"],[1,"ppopular-item"],[1,"ppopular-link",3,"routerLink"],[1,"ppopular-content"],[1,"pp-picture"],[1,"picture-1"],["alt","",3,"src"],[1,"picture-right"],[1,"picture-2"],[1,"picture-3"],[1,"pp-info"],[1,"info-left"],[1,"info-title"],[1,"info-address"],[1,"info-right"],[1,"info-price"],[1,"info-rate"],[1,"rate-star"],["src","./assets/images/icons/star-fill.png","alt",""],[1,"rate-text"],[1,"pp-avatar"],["alt","avatar",3,"src"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),w(4),y(),m(5,"div",4),De(6,Lae,31,8,"div",5),y()()()()),2&r&&(S(4),At("",i.userCount," nhi\u1ebfp \u1ea3nh gia"),S(2),J("ngForOf",i.userInfoData))},dependencies:[Zo,pi],styles:['@charset "UTF-8";.shop-content[_ngcontent-%COMP%]{position:relative}.shop-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 4rem 0}@media (max-width: 767.98px){.shop-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 2rem 0!important}}.photo-popular-wrapper[_ngcontent-%COMP%]{margin-top:4rem;position:relative}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-title[_ngcontent-%COMP%]{color:var(--color-primary);margin-bottom:2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:3.5rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]{position:relative;max-height:300px;border-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]{color:var(--color-text-body)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]{position:relative;height:100%;width:100%;border-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]{height:100%;display:flex;column-gap:.2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-1[_ngcontent-%COMP%]{flex:calc(60% - .1rem);border-right:1px solid var(--color-light)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-top-left-radius:.3rem;border-bottom-left-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]{flex:calc(40% - .1rem);display:flex;row-gap:.1rem;flex-direction:column}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%], .photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]{height:calc(100% - .1rem)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:calc(100% - .15rem);width:100%;object-fit:cover}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%]{height:40%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-top-right-radius:.3rem;border-bottom:1px solid var(--color-light)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]{height:60%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-bottom-right-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;left:0;min-height:4.5rem;display:flex;justify-content:space-between;background-color:#ededed;border-bottom-left-radius:.3rem;border-bottom-right-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-left[_ngcontent-%COMP%]{padding-left:1rem;padding-top:.75rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-left[_ngcontent-%COMP%]   .info-title[_ngcontent-%COMP%]{flex:0 0 100%;width:100%;margin:0 0 .25rem;font-size:20px}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-left[_ngcontent-%COMP%]   .info-address[_ngcontent-%COMP%]{flex:0 0 100%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]{padding-top:.75rem;padding-right:.5rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-price[_ngcontent-%COMP%]{width:100%;font-size:14px;text-align:right;margin:0;margin-bottom:.75rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]{margin-right:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:12px;object-fit:cover}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]   .rate-text[_ngcontent-%COMP%]{font-size:14px;padding-top:2px}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-avatar[_ngcontent-%COMP%]{width:3em;height:3em;border-radius:50%;position:absolute;bottom:3.75rem;left:1rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]:hover:before{content:"Xem h\\1ed3  s\\1a1";position:absolute;inset:0;background-color:#000000b3;color:var(--color-light);font-size:20px;padding:10px;transition:opacity .3s;opacity:0;z-index:1;border-radius:.3rem;display:flex;justify-content:center;align-items:center}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]:hover:before{opacity:1}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]{position:absolute;right:0;top:2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]{text-decoration:none;display:flex;align-items:center;color:var(--color-primary)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:-1px;left:0;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}@media (max-width: 1350px){.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)!important}}@media (max-width: 1100px){.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 767.98px){.photo-popular-wrapper[_ngcontent-%COMP%]{margin-top:1.5rem!important}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]{height:7rem;justify-content:flex-start;flex-direction:column}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;padding-left:1rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-price[_ngcontent-%COMP%]{text-align:left;width:auto;margin-right:1.5rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]{justify-content:flex-start}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-avatar[_ngcontent-%COMP%]{bottom:6.26rem}}@media (max-width: 575.98px){.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}}']}),e})(),E4=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(Fa),ee(xi))},t.\u0275dir=Ve({type:t}),e})(),Wu=(()=>{var t;class e extends E4{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Pr(t)))(i||t)}}(),t.\u0275dir=Ve({type:t,features:[Bt]}),e})();const ea=new fe("NgValueAccessor"),Bae={provide:ea,useExisting:j(()=>hl),multi:!0},$ae=new fe("CompositionEventMode");let hl=(()=>{var t;class e extends E4{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function jae(){const t=Kc()?Kc().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(Fa),ee(xi),ee($ae,8))},t.\u0275dir=Ve({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&K("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[On([Bae]),Bt]}),e})();const mi=new fe("NgValidators"),fl=new fe("NgAsyncValidators");function T4(t){return function pl(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}(t.value)?{required:!0}:null}function N0(t){return null}function k4(t){return null!=t}function N4(t){return u_(t)?R(t):t}function F4(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function L4(t,e){return e.map(n=>n(t))}function V4(t){return t.map(e=>function zae(t){return!t.validate}(e)?e:n=>e.validate(n))}function hT(t){return null!=t?function U4(t){if(!t)return null;const e=t.filter(k4);return 0==e.length?null:function(n){return F4(L4(n,e))}}(V4(t)):null}function pT(t){return null!=t?function B4(t){if(!t)return null;const e=t.filter(k4);return 0==e.length?null:function(n){return function Vae(...t){const e=ks(t),{args:n,keys:r}=cU(t),i=new st(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let h=0;h<s;h++){let f=!1;Fn(n[h]).subscribe(Ce(o,_=>{f||(f=!0,l--),a[h]=_},()=>c--,void 0,()=>{(!c||!f)&&(l||o.next(r?uU(r,a):a),o.complete())}))}});return e?i.pipe(lU(e)):i}(L4(n,e).map(N4)).pipe(_e(F4))}}(V4(t)):null}function j4(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function fT(t){return t?Array.isArray(t)?t:[t]:[]}function F0(t,e){return Array.isArray(t)?t.includes(e):t===e}function z4(t,e){const n=fT(e);return fT(t).forEach(i=>{F0(n,i)||n.push(i)}),n}function G4(t,e){return fT(e).filter(n=>!F0(t,n))}class W4{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=hT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=pT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Bi extends W4{get formDirective(){return null}get path(){return null}}class gl extends W4{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class q4{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let qu=(()=>{var t;class e extends q4{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(gl,2))},t.\u0275dir=Ve({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Wo("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Bt]}),e})(),mm=(()=>{var t;class e extends q4{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(Bi,10))},t.\u0275dir=Ve({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Wo("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Bt]}),e})();const ym="VALID",V0="INVALID",Mp="PENDING",vm="DISABLED";function mT(t){return(U0(t)?t.validators:t)||null}function yT(t,e){return(U0(e)?e.asyncValidators:t)||null}function U0(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Q4{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ym}get invalid(){return this.status===V0}get pending(){return this.status==Mp}get disabled(){return this.status===vm}get enabled(){return this.status!==vm}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(z4(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(z4(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(G4(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(G4(e,this._rawAsyncValidators))}hasValidator(e){return F0(this._rawValidators,e)}hasAsyncValidator(e){return F0(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Mp,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=vm,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=ym,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ym||this.status===Mp)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vm:ym}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Mp,this._hasOwnPendingAsyncValidator=!0;const n=N4(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Mn,this.statusChanges=new Mn}_calculateStatus(){return this._allControlsDisabled()?vm:this.errors?V0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Mp)?Mp:this._anyControlsHaveStatus(V0)?V0:ym}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){U0(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Kae(t){return Array.isArray(t)?hT(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Zae(t){return Array.isArray(t)?pT(t):t||null}(this._rawAsyncValidators)}}class vT extends Q4{constructor(e,n,r){super(mT(n),yT(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function Y4(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new X(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function Z4(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new X(1e3,"");if(!r[n])throw new X(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Op=new fe("CallSetDisabledState",{providedIn:"root",factory:()=>B0}),B0="always";function Cm(t,e,n=B0){CT(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Xae(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&X4(t,e)})}(t,e),function ece(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Jae(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&X4(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Qae(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function H0(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function CT(t,e){const n=function $4(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(j4(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function H4(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(j4(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();H0(e._rawValidators,i),H0(e._rawAsyncValidators,i)}function X4(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const oce={provide:Bi,useExisting:j(()=>Ku)},wm=(()=>Promise.resolve())();let Ku=(()=>{var t;class e extends Bi{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Mn,this.form=new vT({},hT(r),pT(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){wm.then(()=>{const i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),Cm(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){wm.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){wm.then(()=>{const i=this._findContainer(r.path),o=new vT({});(function J4(t,e){CT(t,e)})(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){wm.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){wm.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,function ej(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(mi,10),ee(fl,10),ee(Op,8))},t.\u0275dir=Ve({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&K("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[On([oce]),Bt]}),e})();function tj(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function nj(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const rj=class extends Q4{constructor(e=null,n,r){super(mT(n),yT(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),U0(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=nj(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){tj(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){tj(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){nj(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},cce={provide:gl,useExisting:j(()=>_l)},sj=(()=>Promise.resolve())();let _l=(()=>{var t;class e extends gl{constructor(r,i,o,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new rj,this._registered=!1,this.name="",this.update=new Mn,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=function ET(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===hl?n=o:function rce(t){return Object.getPrototypeOf(t.constructor)===Wu}(o)?r=o:i=o}),i||r||n||null}(0,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),function PT(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Cm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){sj.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,o=0!==i&&Xh(i);sj.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?function j0(t,e){return[...e.path,t]}(r,this._parent):[r]}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(Bi,9),ee(mi,10),ee(fl,10),ee(ea,10),ee(fw,8),ee(Op,8))},t.\u0275dir=Ve({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[On([cce]),Bt,ci]}),e})(),Pm=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Ve({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),cj=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Vn({type:t}),t.\u0275inj=Yn({}),e})();const yce={provide:ea,useExisting:j(()=>G0),multi:!0};function gj(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let G0=(()=>{var t;class e extends Wu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;const o=gj(this._getOptionId(r),r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){const i=function vce(t){return t.split(":")[0]}(r);return this._optionMap.has(i)?this._optionMap.get(i):r}}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Pr(t)))(i||t)}}(),t.\u0275dir=Ve({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&K("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[On([yce]),Bt]}),e})(),W0=(()=>{var t;class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){null!=this._select&&(this._select._optionMap.set(this.id,r),this._setElementValue(gj(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(xi),ee(Fa),ee(G0,9))},t.\u0275dir=Ve({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const Cce={provide:ea,useExisting:j(()=>bT),multi:!0};function _j(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let bT=(()=>{var t;class e extends Wu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){let i;if(this.value=r,Array.isArray(r)){const o=r.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{const o=[],s=i.selectedOptions;if(void 0!==s){const a=s;for(let c=0;c<a.length;c++){const h=this._getOptionValue(a[c].value);o.push(h)}}else{const a=i.options;for(let c=0;c<a.length;c++){const l=a[c];if(l.selected){const h=this._getOptionValue(l.value);o.push(h)}}}this.value=o,r(o)}}_registerOption(r){const i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){const i=function wce(t){return t.split(":")[0]}(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Pr(t)))(i||t)}}(),t.\u0275dir=Ve({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&K("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[On([Cce]),Bt]}),e})(),q0=(()=>{var t;class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){null!=this._select&&(this._value=r,this._setElementValue(_j(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(_j(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(xi),ee(Fa),ee(bT,9))},t.\u0275dir=Ve({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})(),Zu=(()=>{var t;class e{constructor(){this._validator=N0}ngOnChanges(r){if(this.inputName in r){const i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):N0,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return null!=r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Ve({type:t,features:[ci]}),e})();const Mce={provide:mi,useExisting:j(()=>Em),multi:!0};let Em=(()=>{var t;class e extends Zu{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Xh,this.createValidator=r=>T4}enabled(r){return r}}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Pr(t)))(i||t)}}(),t.\u0275dir=Ve({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&Go("required",i._enabled?"":null)},inputs:{required:"required"},features:[On([Mce]),Bt]}),e})(),Dce=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Vn({type:t}),t.\u0275inj=Yn({imports:[cj]}),e})(),Rce=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:Op,useValue:r.callSetDisabledState??B0}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Vn({type:t}),t.\u0275inj=Yn({imports:[Dce]}),e})();function xce(t,e){1&t&&(m(0,"span",37),w(1,"Vui l\xf2ng nh\u1eadp email h\u1ee3p l\u1ec7."),y())}function kce(t,e){1&t&&(m(0,"span",37),w(1,"M\u1eadt kh\u1ea9u ph\u1ea3i c\xf3 \xedt nh\u1ea5t 6 k\xfd t\u1ef1."),y())}let Nce=(()=>{var t;class e{constructor(r,i){this.userService=r,this.router=i,this.isShowPassword=!1,this.invalidEmail=!1,this.invalidPassword=!1,this.email="",this.password="",this.loginMessage=""}onChangeEmail(r){this.email=r.target.value,this.validateEmail()}onChangePassword(r){this.password=r.target.value,this.validatePassword()}togglePassword(){this.isShowPassword=!this.isShowPassword}onSubmit(){var r=this;return(0,k.Z)(function*(){if(r.validateEmail()&&r.validatePassword()){var i=yield r.userService.getUserByUsername(r.email);i?r.router.navigate(1===i.role_id?["/admin/home"]:2===i.role_id?["/partner/"+i.id]:["/home"]):r.loginMessage="Sai email ho\u1eb7c m\u1eadt kh\u1ea9u"}else r.validateEmail(),r.validatePassword()})()}validateEmail(){const i=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(this.email);return this.invalidEmail=!i,i}validatePassword(){return this.invalidPassword=this.password.length<6,!this.invalidPassword}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(Ep),ee(hi))},t.\u0275cmp=kt({type:t,selectors:[["app-login"]],decls:53,vars:8,consts:[[1,"login-wrapper"],[1,"login-container"],[1,"login-header"],[1,"go-home"],["routerLink","/home",1,"go-home-link"],[1,"bx","bxs-chevron-left"],[1,"login-title"],[1,"brand"],["routerLink","/home",1,"brand-link"],["src","./assets/images/logo2.png","alt","logo",1,"brand-image"],[1,"login-message"],[1,"login-content"],[3,"ngSubmit"],[1,"form-group"],["for","username"],["type","text","id","username","name","username","required","","placeholder","quang@gmail.com",3,"input"],["class","validate-message",4,"ngIf"],["for","password"],[1,"password-wrapper"],["id","password","name","password","required","",3,"type","input"],["id","showPassword","href","javascript:void(0)",3,"click"],[1,"bx","bx-show"],["id","hidePassword","href","javascript:void(0)",3,"click"],[1,"bx","bx-hide"],["routerLink","",1,"forgot-password"],["type","submit"],[1,"wall-login"],[1,"line-left"],[1,"line-right"],[1,"login-footer"],[1,"login-option"],["href","javascript:void(0)",1,"login-option-icon"],[1,"bx","bxl-google"],[1,"bx","bxl-facebook"],[1,"bx","bxl-instagram-alt"],[1,"sign-in"],["routerLink","/auth/register"],[1,"validate-message"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),D(5,"i",5),w(6," Trang ch\u1ee7 "),y()(),m(7,"h3",6),w(8," \u0110\u0103ng nh\u1eadp "),y(),m(9,"div",7)(10,"a",8),D(11,"img",9),y()()(),m(12,"div",10),w(13),y(),m(14,"div",11)(15,"form",12),K("ngSubmit",function(){return i.onSubmit()}),m(16,"div",13)(17,"label",14),w(18,"Email"),y(),m(19,"input",15),K("input",function(s){return i.onChangeEmail(s)}),y(),De(20,xce,2,0,"span",16),y(),m(21,"div",13)(22,"label",17),w(23,"M\u1eadt kh\u1ea9u"),y(),m(24,"div",18)(25,"input",19),K("input",function(s){return i.onChangePassword(s)}),y(),m(26,"a",20),K("click",function(){return i.togglePassword()}),D(27,"i",21),y(),m(28,"a",22),K("click",function(){return i.togglePassword()}),D(29,"i",23),y()(),De(30,kce,2,0,"span",16),m(31,"a",24),w(32,"Qu\xean m\u1eadt kh\u1ea9u?"),y()(),m(33,"button",25),w(34,"\u0110\u0103ng nh\u1eadp"),y()()(),m(35,"div",26),D(36,"div",27),m(37,"span"),w(38,"Ho\u1eb7c \u0111\u0103ng nh\u1eadp b\u1eb1ng"),y(),D(39,"div",28),y(),m(40,"div",29)(41,"div",30)(42,"a",31),D(43,"i",32),y(),m(44,"a",31),D(45,"i",33),y(),m(46,"a",31),D(47,"i",34),y()(),m(48,"div",35)(49,"div"),w(50,"B\u1ea1n ch\u01b0a c\xf3 t\xe0i kho\u1ea3n?"),m(51,"a",36),w(52," \u0110\u0103ng k\xfd"),y()()()()()()),2&r&&(S(13),He(i.loginMessage),S(7),J("ngIf",i.invalidEmail),S(5),J("type",i.isShowPassword?"text":"password"),S(1),Wo("show",i.isShowPassword),S(2),Wo("show",!i.isShowPassword),S(2),J("ngIf",i.invalidPassword))},dependencies:[wo,pi,Pm,mm,Ku],styles:['.login-wrapper[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;min-height:100vh;background-image:url(/assets/images/banner.jpg);background-size:cover;background-repeat:no-repeat;background-position:center;padding:2rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]{padding:2rem;border-radius:.5rem;width:700px;margin:auto;min-height:calc(100vh - 4rem);height:100%;background-color:#ffffffa8;box-shadow:0 0 10px #0000004d}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem;position:relative}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{position:absolute;top:0rem;left:0rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]   .go-home-link[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;text-decoration:none;color:var(--color-primary);font-weight:700;position:relative}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   .login-title[_ngcontent-%COMP%]{text-align:center;color:var(--color-primary);font-size:32px;font-weight:700}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{display:flex;justify-content:center}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]   .brand-image[_ngcontent-%COMP%]{width:5rem;height:5rem;object-fit:cover}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-message[_ngcontent-%COMP%]{color:red;margin-bottom:1.5rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:15px}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:gray;font-weight:600;font-size:18px}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 10px;border:2px solid gray;border-radius:5px;background-color:transparent;outline:none}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--color-primary)}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]{position:relative}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #hidePassword[_ngcontent-%COMP%], .login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #showPassword[_ngcontent-%COMP%]{position:absolute;right:10px;top:calc(50% + 3px);transform:translateY(-50%);text-decoration:none;font-size:20px;color:var(--color-primary);display:none}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #hidePassword.show[_ngcontent-%COMP%], .login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #showPassword.show[_ngcontent-%COMP%]{display:block}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{width:100%;font-size:14px;color:#ff1818}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{position:absolute;top:100%;color:var(--color-primary);width:100%;right:0;text-align:right}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:3rem;display:block;width:100%;padding:15px 10px;background-color:var(--color-primary);color:#fff;border:none;border-radius:5px;font-size:20px;cursor:pointer}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]{margin:2rem 0;display:flex;align-items:center}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]   .line-left[_ngcontent-%COMP%], .login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]   .line-right[_ngcontent-%COMP%]{flex-grow:1;height:2px;background-color:var(--color-primary)}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 10px;white-space:nowrap}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .login-option[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;justify-content:center;column-gap:1.5rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .login-option[_ngcontent-%COMP%]   .login-option-icon[_ngcontent-%COMP%]{font-size:42px;color:var(--color-primary);text-decoration:none}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%]{color:var(--color-primary)}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;text-decoration:none;color:var(--color-primary)}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:-1px;left:0}@media (max-width: 767.98px){.login-wrapper[_ngcontent-%COMP%]{width:100%;left:50%;transform:translate(-50%);padding:1rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]{width:100%;min-height:calc(100vh - 2rem)}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{top:-.5rem;left:-1rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{font-size:12px}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2rem;padding:10px;font-size:17px}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]{margin:1rem 0}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .login-option[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;justify-content:center;column-gap:1.5rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .login-option[_ngcontent-%COMP%]   .login-option-icon[_ngcontent-%COMP%]{font-size:26px;color:var(--color-primary);text-decoration:none}}']}),e})();const Ij={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let K0;const Fce=new Uint8Array(16);function Lce(){if(!K0&&(K0=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!K0))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return K0(Fce)}const Yr=[];for(let t=0;t<256;++t)Yr.push((t+256).toString(16).slice(1));const Z0=function Vce(t,e,n){if(Ij.randomUUID&&!e&&!t)return Ij.randomUUID();const r=(t=t||{}).random||(t.rng||Lce)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return function bj(t,e=0){return Yr[t[e+0]]+Yr[t[e+1]]+Yr[t[e+2]]+Yr[t[e+3]]+"-"+Yr[t[e+4]]+Yr[t[e+5]]+"-"+Yr[t[e+6]]+Yr[t[e+7]]+"-"+Yr[t[e+8]]+Yr[t[e+9]]+"-"+Yr[t[e+10]]+Yr[t[e+11]]+Yr[t[e+12]]+Yr[t[e+13]]+Yr[t[e+14]]+Yr[t[e+15]]}(r)};function Mm(t){return(Mm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Le(t,e,n){return(e=function Bce(t){var e=function Uce(t,e){if("object"!==Mm(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Mm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Mm(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class jce extends Pt{constructor(e,n){super()}schedule(e,n=0){return this}}const Y0={setInterval(t,e,...n){const{delegate:r}=Y0;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Y0;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class Tj extends jce{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Y0.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Y0.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,$e(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const TT={now:()=>(TT.delegate||Date).now(),delegate:void 0};class Om{constructor(e,n=Om.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Om.now=TT.now;class Aj extends Om{constructor(e,n=Om.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const zce=new class Hce extends Aj{}(class $ce extends Tj{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),Q0=new Aj(Tj),ml=new Sh("ANGULARFIRE2_VERSION");const AT=(t,e)=>{const n=e?[e]:(0,We.getApps)(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};class Im{constructor(){return AT(Gce)}}const Gce="app-check";function Ip(){}class Sj{constructor(e,n=zce){Le(this,"zone",void 0),Le(this,"delegate",void 0),this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class Wce{constructor(e){Le(this,"zone",void 0),Le(this,"task",null),this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ip,{},Ip,Ip)),n.pipe(Zr({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let bp=(()=>{var t;class e{constructor(r){Le(this,"ngZone",void 0),Le(this,"outsideAngular",void 0),Le(this,"insideAngular",void 0),this.ngZone=r,this.outsideAngular=r.runOutsideAngular(()=>new Sj(Zone.current)),this.insideAngular=r.run(()=>new Sj(Zone.current,Q0)),globalThis.\u0275AngularFireScheduler||=this}}return t=e,Le(e,"\u0275fac",function(r){return new(r||t)(ie(Tt))}),Le(e,"\u0275prov",be({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();function Tp(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Yu(t){return Tp().ngZone.run(()=>t())}function Rj(t){return t.pipe(mr(Tp().outsideAngular))}function er(t){return function Kce(t){return function(n){return(n=n.lift(new Wce(t.ngZone))).pipe(Hr(t.outsideAngular),mr(t.insideAngular))}}(Tp())(t)}const Zce=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Yu(()=>t.apply(void 0,r))},Yce=(t,e)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(n||=Yu(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ip,{},Ip,Ip))),r[o]=Zce(r[o],n));const i=function qce(t){return Tp().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof st){const o=Tp();return i.pipe(Hr(o.outsideAngular),mr(o.insideAngular))}return Yu(()=>i)}return i instanceof st?i.pipe(er):i instanceof Promise?Yu(()=>new Promise((o,s)=>i.then(a=>Yu(()=>o(a)),a=>Yu(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Yu(()=>i)};var ts=Ze(106);ts.Z.registerVersion("firebase","10.5.2","app-compat");const ele=["ngOnDestroy"];class xj{constructor(e){return e}}const Ap=new fe("angularfire2.app.options"),Dp=new fe("angularfire2.app.name");function bm(t,e,n){const i="object"==typeof n&&n||{};i.name=i.name||"string"==typeof n&&n||"[DEFAULT]";const s=ts.Z.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>ts.Z.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){const a=!!module.hot;rle("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new xj(s)}const rle=(t,...e)=>{},ile={provide:xj,useFactory:bm,deps:[Ap,Tt,[new p,Dp]]};let ole=(()=>{var t;class e{static initializeApp(r,i){return{ngModule:e,providers:[{provide:Ap,useValue:r},{provide:Dp,useValue:i}]}}constructor(r){ts.Z.registerVersion("angularfire",ml.full,"core"),ts.Z.registerVersion("angularfire",ml.full,"app-compat"),ts.Z.registerVersion("angular",WO.full,r.toString())}}return t=e,Le(e,"\u0275fac",function(r){return new(r||t)(ie(_o))}),Le(e,"\u0275mod",Vn({type:t})),Le(e,"\u0275inj",Yn({providers:[ile]})),e})();function X0(t,e,n,r,i){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return function sle(t,e){try{return t.toString()===e.toString()}catch{return t===e}}(i,s)||(kj("error",`${e} was already initialized on the ${n} Firebase App with different settings.${ale?" You may need to reload as Firebase is not HMR aware.":""}`),kj("warn",{is:i,was:s})),o;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}const ale=typeof module<"u"&&!!module.hot,kj=(t,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[];const Nj="firebasestorage.googleapis.com",Fj="storageBucket";class xn extends M.ZR{constructor(e,n,r=0){super(DT(e),`Firebase Storage: ${n} (${DT(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return DT(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var bn=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(bn||{});function DT(t){return"storage/"+t}function ST(){return new xn(bn.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Lj(){return new xn(bn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Vj(){return new xn(bn.CANCELED,"User canceled the upload/download.")}function Uj(){return new xn(bn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Sp(t){return new xn(bn.INVALID_ARGUMENT,t)}function Bj(){return new xn(bn.APP_DELETED,"The Firebase app was deleted.")}function jj(t){return new xn(bn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Tm(t,e){return new xn(bn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Am(t){throw new xn(bn.INTERNAL_ERROR,"Internal error: "+t)}class yi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=yi.makeFromUrl(e,n)}catch{return new yi(e,"")}if(""===r.path)return r;throw function mle(t){return new xn(bn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function l($){$.path_=decodeURIComponent($.path)}const f=n.replace(/[.]/g,"\\."),H=[{regex:a,indices:{bucket:1,path:3},postModify:function o($){"/"===$.path.charAt($.path.length-1)&&($.path_=$.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${f}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:l},{regex:new RegExp(`^https?://${n===Nj?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:l}];for(let $=0;$<H.length;$++){const pe=H[$],Oe=pe.regex.exec(e);if(Oe){let Zt=Oe[pe.indices.path];Zt||(Zt=""),r=new yi(Oe[pe.indices.bucket],Zt),pe.postModify(r);break}}if(null==r)throw function _le(t){return new xn(bn.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r}}class Ple{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function J0(t){return"string"==typeof t||t instanceof String}function $j(t){return RT()&&t instanceof Blob}function RT(){return typeof Blob<"u"&&!(0,M.UG)()}function xT(t,e,n,r){if(r<e)throw Sp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Sp(`Invalid value for '${t}'. Expected ${n} or less.`)}function Za(t,e,n){let r=e;return null==n&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Hj(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}var Rp=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Rp||{});function zj(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),o=-1!==e.indexOf(t);return n||i||o}class Tle{constructor(e,n,r,i,o,s,a,c,l,h,f,_=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=h,this.connectionFactory_=f,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,E)=>{this.resolve_=v,this.reject_=E,this.start_()})}start_(){const n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());!function Ole(t){return void 0!==t}(c)?o():o(c)}catch(c){s(c)}else if(null!==a){const c=ST();c.serverResponse=a.getErrorText(),s(this.errorCallback_?this.errorCallback_(a,c):c)}else s(i.canceled?this.appDelete_?Bj():Vj():Lj())};this.canceled_?n(0,new eP(!1,null,!0)):this.backoffId_=function Ele(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function c(){return 2===a}let l=!1;function h(...b){l||(l=!0,e.apply(null,b))}function f(b){i=setTimeout(()=>{i=null,t(v,c())},b)}function _(){o&&clearTimeout(o)}function v(b,...L){if(l)return void _();if(b)return _(),void h.call(null,b,...L);if(c()||s)return _(),void h.call(null,b,...L);let H;r<64&&(r*=2),1===a?(a=2,H=0):H=1e3*(r+Math.random()),f(H)}let E=!1;function I(b){E||(E=!0,_(),!l&&(null!==i?(b||(a=2),clearTimeout(i),f(0)):b||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,I(!0)},n),I}((r,i)=>{if(i)return void r(!1,new eP(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Rp.NO_ERROR,c=o.getStatus();if(!a||zj(c,this.additionalRetryCodes_)&&this.retry){const h=o.getErrorCode()===Rp.ABORT;return void r(!1,new eP(!1,null,h))}const l=-1!==this.successCodes_.indexOf(c);r(!0,new eP(l,o))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Mle(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class eP{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Nle(...t){const e=function kle(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}if(RT())return new Blob(t);throw new xn(bn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Mo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class kT{constructor(e,n){this.data=e,this.contentType=n||null}}function NT(t,e){switch(t){case Mo.RAW:return new kT(Gj(e));case Mo.BASE64:case Mo.BASE64URL:return new kT(Wj(t,e));case Mo.DATA_URL:return new kT(function Ule(t){const e=new qj(t);return e.base64?Wj(Mo.BASE64,e.rest):function Vle(t){let e;try{e=decodeURIComponent(t)}catch{throw Tm(Mo.DATA_URL,"Malformed data URL.")}return Gj(e)}(e.rest)}(e),function Ble(t){return new qj(t).contentType}(e))}throw ST()}function Gj(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?n<t.length-1&&56320==(64512&t.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Wj(t,e){switch(t){case Mo.BASE64:{const i=-1!==e.indexOf("-"),o=-1!==e.indexOf("_");if(i||o)throw Tm(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Mo.BASE64URL:{const i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw Tm(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function Lle(t){if(typeof atob>"u")throw function wle(t){return new xn(bn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(t)}(e)}catch(i){throw i.message.includes("polyfill")?i:Tm(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class qj{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(null===n)throw Tm(Mo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;null!=r&&(this.base64=function jle(t,e){return t.length>=e.length&&t.substring(t.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class ta{constructor(e,n){let r=0,i="";$j(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if($j(this.data_)){const i=function Fle(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===i?null:new ta(i)}{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ta(r,!0)}}static getBlob(...e){if(RT()){const n=e.map(r=>r instanceof ta?r.data_:r);return new ta(Nle.apply(null,n))}{const n=e.map(s=>J0(s)?NT(Mo.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new ta(i,!0)}}uploadData(){return this.data_}}function FT(t){let e;try{e=JSON.parse(t)}catch{return null}return function ble(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function Kj(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function zle(t,e){return e}class ji{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||zle}}let tP=null;function Dm(){if(tP)return tP;const t=[];t.push(new ji("bucket")),t.push(new ji("generation")),t.push(new ji("metageneration")),t.push(new ji("name","fullPath",!0));const n=new ji("name");n.xform=function e(o,s){return function Gle(t){return!J0(t)||t.length<2?t:Kj(t)}(s)},t.push(n);const i=new ji("size");return i.xform=function r(o,s){return void 0!==s?Number(s):s},t.push(i),t.push(new ji("timeCreated")),t.push(new ji("updated")),t.push(new ji("md5Hash",null,!0)),t.push(new ji("cacheControl",null,!0)),t.push(new ji("contentDisposition",null,!0)),t.push(new ji("contentEncoding",null,!0)),t.push(new ji("contentLanguage",null,!0)),t.push(new ji("contentType",null,!0)),t.push(new ji("metadata","customMetadata",!0)),tP=t,tP}function Zj(t,e,n){const r=FT(e);return null===r?null:function qle(t,e,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return function Wle(t,e){Object.defineProperty(t,"ref",{get:function n(){const o=new yi(t.bucket,t.fullPath);return e._makeStorageReference(o)}})}(r,t),r}(t,r,n)}function LT(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}const Yj="prefixes",Qj="items";class na{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ra(t){if(!t)throw ST()}function nP(t,e){return function n(r,i){const o=Zj(t,i,e);return ra(null!==o),o}}function xp(t){return function e(n,r){let i;return i=401===n.getStatus()?n.getErrorText().includes("Firebase App Check token is invalid")?function fle(){return new xn(bn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function ple(){return new xn(bn.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===n.getStatus()?function hle(t){return new xn(bn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(t.bucket):403===n.getStatus()?function gle(t){return new xn(bn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}(t.path):r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}}function Sm(t){const e=xp(t);return function n(r,i){let o=e(r,i);return 404===r.getStatus()&&(o=function dle(t){return new xn(bn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}(t.path)),o.serverResponse=i.serverResponse,o}}function Xj(t,e,n){const i=Za(e.fullServerUrl(),t.host,t._protocol),s=t.maxOperationRetryTime,a=new na(i,"GET",nP(t,n),s);return a.errorHandler=Sm(e),a}function Jle(t,e,n,r,i){const o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const a=Za(e.bucketOnlyServerUrl(),t.host,t._protocol),l=t.maxOperationRetryTime,h=new na(a,"GET",function Qle(t,e){return function n(r,i){const o=function Yle(t,e,n){const r=FT(n);return null===r?null:function Zle(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Yj])for(const i of n[Yj]){const o=i.replace(/\/$/,""),s=t._makeStorageReference(new yi(e,o));r.prefixes.push(s)}if(n[Qj])for(const i of n[Qj]){const o=t._makeStorageReference(new yi(e,i.name));r.items.push(o)}return r}(t,e,r)}(t,e,i);return ra(null!==o),o}}(t,e.bucket),l);return h.urlParams=o,h.errorHandler=xp(e),h}function e9(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function rue(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class rP{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function VT(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{ra(!1)}return ra(!!n&&-1!==(e||["active"]).indexOf(n)),n}const aue={STATE_CHANGED:"state_changed"},$i={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function UT(t){switch(t){case"running":case"pausing":case"canceling":return $i.RUNNING;case"paused":return $i.PAUSED;case"success":return $i.SUCCESS;case"canceled":return $i.CANCELED;default:return $i.ERROR}}class cue{constructor(e,n,r){if(function Ile(t){return"function"==typeof t}(e)||null!=n||null!=r)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function kp(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}let r9=null;class lue{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Rp.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Rp.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Rp.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Am("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),void 0!==i)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Am("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Am("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Am("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Am("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class uue extends lue{initXhr(){this.xhr_.responseType="text"}}function Ts(){return r9?r9():new uue}class i9{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Dm(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(bn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(zj(i.status,[])){if(!o)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=Lj()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(bn.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,n)=>{const r=function iue(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s=e9(e,r,i),a={name:s.fullPath},c=Za(o,t.host,t._protocol),h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},f=LT(s,n),E=new na(c,"POST",function v(I){let b;VT(I);try{b=I.getResponseHeader("X-Goog-Upload-URL")}catch{ra(!1)}return ra(J0(b)),b},t.maxUploadRetryTime);return E.urlParams=a,E.headers=h,E.body=f,E.errorHandler=xp(e),E}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ts,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=function oue(t,e,n,r){const c=new na(n,"POST",function o(l){const h=VT(l,["active","final"]);let f=null;try{f=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ra(!1)}f||ra(!1);const _=Number(f);return ra(!isNaN(_)),new rP(_,r.size(),"final"===h)},t.maxUploadRetryTime);return c.headers={"X-Goog-Upload-Command":"query"},c.errorHandler=xp(e),c}(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(i,Ts,n,r);this._request=o,o.getPromise().then(s=>{this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,n=new rP(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,o)=>{let s;try{s=function sue(t,e,n,r,i,o,s,a){const c=new rP(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw function vle(){return new xn(bn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const l=c.total-c.current;let h=l;i>0&&(h=Math.min(h,i));const f=c.current;let v="";v=0===h?"finalize":l===h?"upload, finalize":"upload";const E={"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":`${c.current}`},I=r.slice(f,f+h);if(null===I)throw Uj();const H=new na(n,"POST",function b($,pe){const Oe=VT($,["active","final"]),at=c.current+h,Zt=r.size();let co;return co="final"===Oe?nP(e,o)($,pe):null,new rP(at,Zt,"final"===Oe,co)},e.maxUploadRetryTime);return H.headers=E,H.body=I.uploadData(),H.progressCallback=a||null,H.errorHandler=xp(t),H}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(c){return this._error=c,void this._transition("error")}const a=this._ref.storage._makeRequest(s,Ts,i,o,!1);this._request=a,a.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=Xj(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Ts,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=function t9(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},c=function a(){let H="";for(let $=0;$<2;$++)H+=Math.random().toString().slice(2);return H}();s["Content-Type"]="multipart/related; boundary="+c;const l=e9(e,r,i),h=LT(l,n),v=ta.getBlob("--"+c+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+h+"\r\n--"+c+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",r,"\r\n--"+c+"--");if(null===v)throw Uj();const E={name:l.fullPath},I=Za(o,t.host,t._protocol),L=t.maxUploadRetryTime,N=new na(I,"POST",nP(t,n),L);return N.urlParams=E,N.headers=s,N.body=v.uploadData(),N.errorHandler=xp(e),N}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ts,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n="paused"===this._state;this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Vj(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=UT(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const o=new cue(n||void 0,r||void 0,i||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);-1!==n&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(UT(this._state)){case $i.SUCCESS:kp(this._resolve.bind(null,this.snapshot))();break;case $i.CANCELED:case $i.ERROR:kp(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(UT(this._state)){case $i.RUNNING:case $i.PAUSED:e.next&&kp(e.next.bind(e,this.snapshot))();break;case $i.SUCCESS:e.complete&&kp(e.complete.bind(e))();break;default:e.error&&kp(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Qu{constructor(e,n){this._service=e,this._location=n instanceof yi?n:yi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Qu(e,n)}get root(){const e=new yi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Kj(this._location.path)}get storage(){return this._service}get parent(){const e=function $le(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new yi(this._location.bucket,e);return new Qu(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw jj(e)}}function s9(t,e,n){return BT.apply(this,arguments)}function BT(){return(BT=(0,k.Z)(function*(t,e,n){const i=yield a9(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield s9(t,e,i.nextPageToken))})).apply(this,arguments)}function a9(t,e){null!=e&&"number"==typeof e.maxResults&&xT("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=Jle(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,Ts)}function Pue(t){t._throwIfRoot("getDownloadURL");const e=function eue(t,e,n){const i=Za(e.fullServerUrl(),t.host,t._protocol),s=t.maxOperationRetryTime,a=new na(i,"GET",function Xle(t,e){return function n(r,i){const o=Zj(t,i,e);return ra(null!==o),function Kle(t,e,n,r){const i=FT(e);if(null===i||!J0(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map(l=>{const f=t.fullPath;return Za("/b/"+s(t.bucket)+"/o/"+s(f),n,r)+Hj({alt:"media",token:l})})[0]}(o,i,t.host,t._protocol)}}(t,n),s);return a.errorHandler=Sm(e),a}(t.storage,t._location,Dm());return t.storage.makeRequestWithTokens(e,Ts).then(n=>{if(null===n)throw function Cle(){return new xn(bn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return n})}function c9(t,e){const n=function Hle(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new yi(t._location.bucket,n);return new Qu(t.storage,r)}function l9(t,e){if(t instanceof jT){const n=t;if(null==n._bucket)throw function yle(){return new xn(bn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Fj+"' property when initializing the app?")}();const r=new Qu(n,n._bucket);return null!=e?l9(r,e):r}return void 0!==e?c9(t,e):t}function Iue(t,e){if(e&&function Mue(t){return/^[A-Za-z]+:\/\//.test(t)}(e)){if(t instanceof jT)return function Oue(t,e){return new Qu(t,e)}(t,e);throw Sp("To use ref(service, url), the first argument must be a Storage instance.")}return l9(t,e)}function u9(t,e){const n=e?.[Fj];return null==n?null:yi.makeFromBucketSpec(n,t)}class jT{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=Nj,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?yi.makeFromBucketSpec(i,this._host):u9(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?yi.makeFromBucketSpec(this._url,e):u9(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){xT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){xT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,k.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,k.Z)(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Qu(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new Ple(Bj());{const s=function xle(t,e,n,r,i,o,s=!0){const a=Hj(t.urlParams),c=t.url+a,l=Object.assign({},t.headers);return function Sle(t,e){e&&(t["X-Firebase-GMPID"]=e)}(l,e),function Ale(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(l,n),function Dle(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(l,o),function Rle(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(l,r),new Tle(c,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){var r=this;return(0,k.Z)(function*(){const[i,o]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,o).getPromise()})()}}const d9="@firebase/storage";function f9(t,e){return Iue(t=(0,M.m9)(t),e)}function Fue(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new jT(n,r,i,e,We.SDK_VERSION)}!function Lue(){(0,We._registerComponent)(new Po.wA("storage",Fue,"PUBLIC").setMultipleInstances(!0)),(0,We.registerVersion)(d9,"0.11.2",""),(0,We.registerVersion)(d9,"0.11.2","esm2017")}();class iP{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class _9{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new iP(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new iP(r,this,this._ref))},n)}on(e,n,r,i){let o;return n&&(o="function"==typeof n?s=>n(new iP(s,this,this._ref)):{next:n.next?s=>n.next(new iP(s,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,o,r||void 0,i||void 0)}}class m9{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new Ya(e,this._service))}get items(){return this._delegate.items.map(e=>new Ya(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Ya{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=function Nue(t,e){return c9(t,e)}(this._delegate,e);return new Ya(n,this.storage)}get root(){return new Ya(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Ya(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new _9(function Tue(t,e,n){return function mue(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new i9(t,new ta(e),n)}(t=(0,M.m9)(t),e,n)}(this._delegate,e,n),this)}putString(e,n=Mo.RAW,r){this._throwIfRoot("putString");const i=NT(n,e),o=Object.assign({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new _9(new i9(this._delegate,new ta(i.data,!0),o),this)}listAll(){return function Rue(t){return function vue(t){const e={prefixes:[],items:[]};return s9(t,e).then(()=>e)}(t=(0,M.m9)(t))}(this._delegate).then(e=>new m9(e,this.storage))}list(e){return function Sue(t,e){return a9(t=(0,M.m9)(t),e)}(this._delegate,e||void 0).then(n=>new m9(n,this.storage))}getMetadata(){return function Aue(t){return function Cue(t){t._throwIfRoot("getMetadata");const e=Xj(t.storage,t._location,Dm());return t.storage.makeRequestWithTokens(e,Ts)}(t=(0,M.m9)(t))}(this._delegate)}updateMetadata(e){return function Due(t,e){return function wue(t,e){t._throwIfRoot("updateMetadata");const n=function tue(t,e,n,r){const o=Za(e.fullServerUrl(),t.host,t._protocol),a=LT(n,r),l=t.maxOperationRetryTime,h=new na(o,"PATCH",nP(t,r),l);return h.headers={"Content-Type":"application/json; charset=utf-8"},h.body=a,h.errorHandler=Sm(e),h}(t.storage,t._location,e,Dm());return t.storage.makeRequestWithTokens(n,Ts)}(t=(0,M.m9)(t),e)}(this._delegate,e)}getDownloadURL(){return function xue(t){return Pue(t=(0,M.m9)(t))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function kue(t){return function Eue(t){t._throwIfRoot("deleteObject");const e=function nue(t,e){const r=Za(e.fullServerUrl(),t.host,t._protocol),a=new na(r,"DELETE",function s(c,l){},t.maxOperationRetryTime);return a.successCodes=[200,204],a.errorHandler=Sm(e),a}(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Ts)}(t=(0,M.m9)(t))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw jj(e)}}class y9{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(v9(e))throw Sp("ref() expected a child path but got a URL, use refFromURL instead.");return new Ya(f9(this._delegate,e),this)}refFromURL(e){if(!v9(e))throw Sp("refFromURL() expected a full URL but got a child path, use ref() instead.");try{yi.makeFromUrl(e,this._delegate.host)}catch{throw Sp("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ya(f9(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){!function g9(t,e,n,r={}){!function bue(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:(0,M.Sg)(i,t.app.options.projectId))}(t,e,n,r)}(this._delegate,e,n,r)}}function v9(t){return/^[A-Za-z]+:\/\//.test(t)}function jue(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new y9(n,r)}function C9(t){const e=function Hue(t){return new st(e=>{const n=s=>e.next(s);n(t.snapshot);const o=t.on("state_changed",n);return t.then(s=>{n(s),e.complete()},s=>{n(t.snapshot),(s=>{e.error(s)})(s)}),function(){o()}}).pipe(function Qce(t,e=Q0){return Z((n,r)=>{let i=null,o=null,s=null;const a=()=>{if(i){i.unsubscribe(),i=null;const l=o;o=null,r.next(l)}};function c(){const l=s+t,h=e.now();if(h<l)return i=this.schedule(void 0,l-h),void r.add(i);a()}n.subscribe(Ce(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(_e(n=>n.bytesTransferred/n.totalBytes*100))}}function oP(t){return{getDownloadURL:()=>q(void 0).pipe(Rj,Je(()=>t.getDownloadURL()),er),getMetadata:()=>q(void 0).pipe(Rj,Je(()=>t.getMetadata()),er),delete:()=>R(t.delete()),child:e=>oP(t.child(e)),updateMetadata:e=>R(t.updateMetadata(e)),put:(e,n)=>C9(t.put(e,n)),putString:(e,n,r)=>C9(t.putString(e,n,r)),list:e=>R(t.list(e)),listAll:()=>R(t.listAll())}}!function $ue(t){const e={TaskState:$i,TaskEvent:aue,StringFormat:Mo,Storage:y9,Reference:Ya};t.INTERNAL.registerComponent(new Po.wA("storage-compat",jue,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage-compat","0.3.2")}(ts.Z);const zue=new fe("angularfire2.storageBucket"),Gue=new fe("angularfire2.storage.maxUploadRetryTime"),Wue=new fe("angularfire2.storage.maxOperationRetryTime"),que=new fe("angularfire2.storage.use-emulator");let sP=(()=>{var t;class e{constructor(r,i,o,s,a,c,l,h,f,_){Le(this,"storage",void 0);const v=bm(r,a,i);this.storage=X0(`${v.name}.storage.${o}`,"AngularFireStorage",v.name,()=>{const E=a.runOutsideAngular(()=>v.storage(o||void 0)),I=f;return I&&E.useEmulator(...I),l&&E.setMaxUploadRetryTime(l),h&&E.setMaxOperationRetryTime(h),E},[l,h])}ref(r){return oP(this.storage.ref(r))}refFromURL(r){return oP(this.storage.refFromURL(r))}upload(r,i,o){return oP(this.storage.ref(r)).put(i,o)}}return t=e,Le(e,"\u0275fac",function(r){return new(r||t)(ie(Ap),ie(Dp,8),ie(zue,8),ie(_o),ie(Tt),ie(bp),ie(Gue,8),ie(Wue,8),ie(que,8),ie(Im,8))}),Le(e,"\u0275prov",be({token:t,factory:t.\u0275fac,providedIn:"any"})),e})(),Kue=(()=>{var t;class e{}return t=e,Le(e,"\u0275fac",function(r){return new(r||t)}),Le(e,"\u0275mod",Vn({type:t})),Le(e,"\u0275inj",Yn({})),e})(),Zue=(()=>{var t;class e{constructor(){ts.Z.registerVersion("angularfire",ml.full,"gcs-compat")}}return t=e,Le(e,"\u0275fac",function(r){return new(r||t)}),Le(e,"\u0275mod",Vn({type:t})),Le(e,"\u0275inj",Yn({providers:[sP],imports:[Kue]})),e})();function Yue(t,e){1&t&&(m(0,"span",58),w(1,"Vui l\xf2ng nh\u1eadp email h\u1ee3p l\u1ec7."),y())}function Que(t,e){1&t&&(m(0,"span",58),w(1,"Vui l\xf2ng nh\u1eadp h\u1ecd t\xean."),y())}function Xue(t,e){1&t&&(m(0,"span",58),w(1,"M\u1eadt kh\u1ea9u ph\u1ea3i c\xf3 \xedt nh\u1ea5t 6 k\xfd t\u1ef1."),y())}function Jue(t,e){1&t&&(m(0,"span",58),w(1,"M\u1eadt kh\u1ea9u ph\u1ea3i c\xf3 \xedt nh\u1ea5t 6 k\xfd t\u1ef1 v\xe0 tr\xf9ng m\u1edbi m\u1eadt kh\u1ea9u \u1edf tr\xean."),y())}function ede(t,e){1&t&&(m(0,"span",58),w(1,"Vui lo\u0300ng nh\xe2\u0323p s\xf4\u0301 n\u0103m kinh nghi\xea\u0323m"),y())}function tde(t,e){1&t&&(m(0,"span",58),w(1,"Vui lo\u0300ng nh\xe2\u0323p gia\u0301 chu\u0323p a\u0309nh"),y())}function nde(t,e){1&t&&(m(0,"span",58),w(1,"Vui lo\u0300ng nh\xe2\u0323p \u0111i\u0323a chi\u0309"),y())}function rde(t,e){1&t&&(m(0,"span",58),w(1,"Vui lo\u0300ng cho\u0323n a\u0309nh \u0111a\u0323i di\xea\u0323n"),y())}function ide(t,e){if(1&t&&(m(0,"div"),D(1,"img",61),y()),2&t){const n=e.$implicit;S(1),J("src",n,Dr)}}function ode(t,e){if(1&t&&(m(0,"div",59),De(1,ide,2,1,"div",60),y()),2&t){const n=Qt();S(1),J("ngForOf",n.avatarPreview)}}function sde(t,e){1&t&&(m(0,"span",58),w(1,"Vui lo\u0300ng cho\u0323n 3 a\u0309nh bi\u0300a"),y())}function ade(t,e){if(1&t){const n=Ni();m(0,"div"),D(1,"img",61),m(2,"a",63),K("click",function(){const o=cr(n).index;return Un(Qt(2).deletePicture(o))}),D(3,"i",64),y()()}if(2&t){const n=e.$implicit;S(1),J("src",n,Dr)}}function cde(t,e){if(1&t&&(m(0,"div",62),De(1,ade,4,1,"div",60),y()),2&t){const n=Qt();S(1),J("ngForOf",n.picturePreview)}}let lde=(()=>{var t;class e{constructor(r,i,o,s){this.userService=r,this.userInfoService=i,this.router=o,this.fileStorage=s,this.isShowPassword=!1,this.isShowConfirmPassword=!1,this.invalidEmail=!1,this.invalidPassword=!1,this.invalidConfirmPassword=!1,this.invalidFullName=!1,this.invalidExp=!1,this.invalidAvatar=!1,this.invalidPicture=!1,this.invalidCost=!1,this.invalidAddress=!1,this.email="",this.password="",this.confirmPassword="",this.fullName="",this.exp="",this.cost="",this.address="",this.registerMessage="",this.filesAddAvatar=[],this.avatarPreview=[],this.filesAddPicture=[],this.picturePreview=[]}onChangeEmail(r){this.email=r.target.value,this.validateEmail()}onChangePassword(r){this.password=r.target.value,this.validatePassword(),this.confirmPassword.length>0&&this.validateConfirmPassword()}onChangeConfirmPassword(r){this.confirmPassword=r.target.value,this.validateConfirmPassword()}onChangeFullName(r){this.fullName=r.target.value,this.validateFullName()}onChangeExp(r){this.exp=r.target.value,this.validateExp()}onChangeCost(r){this.cost=r.target.value,this.validateExp()}onChangeAddress(r){this.address=r.target.value,this.validateExp()}togglePassword(){this.isShowPassword=!this.isShowPassword}toggleConfirmPassword(){this.isShowConfirmPassword=!this.isShowConfirmPassword}validateEmail(){const i=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(this.email);return this.invalidEmail=!i,i}validateFullName(){return this.invalidFullName=this.fullName.length<1,!this.invalidFullName}validatePassword(){return this.invalidPassword=this.password.length<6,!this.invalidPassword}validateConfirmPassword(){return this.invalidConfirmPassword=this.confirmPassword.length<6||this.confirmPassword!==this.password,!this.invalidConfirmPassword}validateCost(){return this.invalidCost=this.cost.length<1,!this.invalidCost}validateAddress(){return this.invalidAddress=this.address.length<1,!this.invalidAddress}validateExp(){const i=/^\d+$/.test(this.exp);return this.invalidExp=!i,i}previewAvatar(r){const o=r.target.files;if(o&&o.length>0){this.filesAddAvatar=Array.from(o).slice(0,1),this.avatarPreview=[];for(let s=0;s<this.filesAddAvatar.length;s++){const a=this.filesAddAvatar[s],c=new FileReader;c.onload=l=>{this.avatarPreview.push(l.target?.result)},c.readAsDataURL(a)}}else this.avatarPreview=[];this.validateAvatar()}previewPicture(r){const o=r.target.files;if(o&&o.length>0){const s=3-this.filesAddPicture.length;if(s>0){const a=Array.from(o).slice(0,s);this.filesAddPicture.push(...a)}this.picturePreview=[];for(let a=0;a<this.filesAddPicture.length;a++){const c=this.filesAddPicture[a],l=new FileReader;l.onload=h=>{this.picturePreview.push(h.target?.result)},l.readAsDataURL(c)}}else this.picturePreview=[];this.validatePicture()}deletePicture(r){r>=0&&r<this.picturePreview.length&&(this.picturePreview.splice(r,1),this.filesAddPicture.splice(r,1))}onSubmit(){var r=this;return(0,k.Z)(function*(){if(r.validateEmail()&&r.validatePassword()&&r.validateConfirmPassword()&&r.validateFullName()&&r.validateExp()&&r.validateAvatar()&&r.validatePicture()&&r.validateCost()&&r.validateAddress())if(yield r.userService.isUsernameUnique(r.email)){var o=yield r.uploadAvatar();const h={id:0,username:r.email,password:r.password,full_name:r.fullName,role_id:2,email:"",phone_number:"",address:r.address,avatar:o[0],exp:parseFloat(r.exp)};var s=yield r.userService.createUser(h);if(null!=s){var a=yield r.uploadPicture(),c=parseFloat(r.cost);const f={id:0,user_id:s.id,img1:a[0]||"",img2:a[1]||"",img3:a[2]||"",cost:c,description:"T\xf4i \u0111\xe3 ch\u1ee5p \u1ea3nh c\u1ea3 \u0111\u1eddi nh\u01b0ng quy\u1ebft \u0111\u1ecbnh ch\u1ee5p \u1ea3nh chuy\xean nghi\u1ec7p v\xe0o n\u0103m 2010 v\xe0 t\xf4i c\xe0ng y\xeau th\xedch n\xf3 h\u01a1n m\u1ed7i ng\xe0y. T\xf4i r\u1ea5t l\xe0 ng\u01b0\u1eddi c\u1ee7a m\u1ecdi ng\u01b0\u1eddi nh\u01b0ng tr\u1edb tr\xeau thay chuy\xean m\xf4n c\u1ee7a t\xf4i l\u1ea1i l\xe0 ch\u1ee5p \u1ea3nh s\u1ea3n ph\u1ea9m, \u0111\u1ed3 \u0103n v\xe0 \u0111\u1ed3 u\u1ed1ng. Ch\u1ec9 v\xec t\xf4i chuy\xean ch\u1ee5p \u0111\u1ed3 kh\xf4ng c\xf3 ngh\u0129a l\xe0 t\xf4i thi\u1ebfu ch\u1ee5p \u1ea3nh ch\xe2n dung, th\u1ee9 duy nh\u1ea5t t\xf4i kh\xf4ng ch\u1ee5p l\xe0 \u0111\xe1m c\u01b0\u1edbi ;)",prize:"Nhi\u1ebfp \u1ea3nh gia t\xe0i n\u0103ng khu v\u1ef1c mi\u1ec1n B\u1eafc n\u0103m 2023",interest:"T\xf4i b\u1ecb \xe1m \u1ea3nh b\u1edfi m\xe1y \u1ea3nh t\u1eeb khi l\xean 3 v\xe0 m\u1eb9 t\xf4i \u0111\xe3 cho t\xf4i ch\u01a1i v\u1edbi m\xe1y \u1ea3nh Polaroid :)",language:"Ti\xea\u0301ng Vi\xea\u0323t",camera:"Sony A7iii, LUMIX G9, Panasonic GH5",portfolio:[],typeOfPhoto:[{id:1,name:"Ch\u1ee5p ch\xe2n dung",cost:"500000"},{id:2,name:"Ch\u1ee5p s\u1ea3n ph\u1ea9m",cost:"400000"},{id:3,name:"Ch\u1ee5p c\u1ea3nh",cost:"300000"},{id:4,name:"Ch\u1ee5p s\u1ef1 ki\u1ec7n",cost:"800000"},{id:5,name:"Ch\u1ee5p beauty",cost:"550000"}]};(yield r.userInfoService.createUserInfo(f))?(r.registerMessage="Th\xeam ng\u01b0\u1eddi d\xf9ng th\xe0nh c\xf4ng.",window.alert(r.registerMessage),r.router.navigate(["/auth/login"])):(r.registerMessage="Th\xeam th\xf4ng tin kh\xf4ng th\xe0nh c\xf4ng.",window.alert(r.registerMessage))}else r.registerMessage="Th\xeam ng\u01b0\u1eddi d\xf9ng kh\xf4ng th\xe0nh c\xf4ng.",window.alert(r.registerMessage)}else r.registerMessage="Ng\u01b0\u1eddi d\xf9ng \u0111\xe3 t\u1ed3n t\u1ea1i.",window.alert(r.registerMessage);else r.validateEmail(),r.validateFullName(),r.validatePassword(),r.validateConfirmPassword(),r.validateExp(),r.validateAvatar(),r.validatePicture(),r.validateCost(),r.validateAddress()})()}uploadAvatar(){var r=this;return(0,k.Z)(function*(){var i=[],o=[];for(let s=0;s<r.filesAddAvatar.length;s++){const a=r.filesAddAvatar[s],c=a.name.split(".").pop(),l=Z0()+"."+c;o.push(new File([a],l,{type:a.type}))}for(let s=0;s<o.length;s++){const a=o[s],c=`avatar/${a.name}`,h=yield(yield r.fileStorage.upload(c,a)).ref.getDownloadURL();i.push(h)}return i})()}uploadPicture(){var r=this;return(0,k.Z)(function*(){var i=[],o=[];for(let s=0;s<r.filesAddPicture.length;s++){const a=r.filesAddPicture[s],c=a.name.split(".").pop(),l=Z0()+"."+c;o.push(new File([a],l,{type:a.type}))}for(let s=0;s<o.length;s++){const a=o[s],c=`bias/${a.name}`,h=yield(yield r.fileStorage.upload(c,a)).ref.getDownloadURL();i.push(h)}return i})()}validateAvatar(){return this.invalidAvatar=this.filesAddAvatar.length<1,!this.invalidAvatar}validatePicture(){return this.invalidPicture=3!==this.filesAddPicture.length,!this.invalidPicture}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(Ep),ee(dT),ee(hi),ee(sP))},t.\u0275cmp=kt({type:t,selectors:[["app-register"]],decls:100,vars:22,consts:[[1,"register-wrapper"],[1,"register-container"],[1,"register-header"],[1,"go-home"],["routerLink","/home",1,"go-home-link"],[1,"bx","bxs-chevron-left"],[1,"register-title"],[1,"brand"],["routerLink","/home",1,"brand-link"],["src","./assets/images/logo2.png","alt","logo",1,"brand-image"],[1,"register-message"],[1,"register-content"],[3,"ngSubmit"],[1,"form-content"],[1,"form-left"],[1,"form-group"],["for","username"],["type","text","id","username","name","username","required","","placeholder","quang@gmail.com",3,"input"],["class","validate-message",4,"ngIf"],["for","fullName"],["type","text","id","fullName","name","fullName","required","","placeholder","Nguyen Quang Nam",3,"input"],["for","password"],[1,"password-wrapper"],["id","password","name","password","required","",3,"type","input"],["id","showPassword","href","javascript:void(0)",3,"click"],[1,"bx","bx-show"],["id","hidePassword","href","javascript:void(0)",3,"click"],[1,"bx","bx-hide"],["for","confirmPassword"],["name","password","required","",3,"type","input"],["id","showConfirmPassword","href","javascript:void(0)",3,"click"],["id","hideConfirmPassword","href","javascript:void(0)",3,"click"],[1,"form-right"],["for","exprire"],["min","0","type","number","required","",3,"input"],["for","cost"],["for","address"],["type","text","required","",3,"input"],[1,"form-groupk"],["for","avatar",1,"label-input-file"],["type","file","accept","image/*","id","avatar","required","","multiple","",2,"display","none",3,"change"],["class","avatar-preview",4,"ngIf"],["for","picture"],["for","picture-3",1,"label-input-file"],["multiple","","type","file","id","picture-3","accept","image/*","required","","placeholder","Cho\u0323n 3 a\u0309nh bi\u0300a",2,"display","none",3,"change"],["class","picture-review",4,"ngIf"],["type","submit"],[1,"wall-login"],[1,"line-left"],[1,"line-right"],[1,"register-footer"],[1,"register-option"],["href","javascript:void(0)",1,"register-option-icon"],[1,"bx","bxl-google"],[1,"bx","bxl-facebook"],[1,"bx","bxl-instagram-alt"],[1,"login"],["routerLink","/auth/login"],[1,"validate-message"],[1,"avatar-preview"],[4,"ngFor","ngForOf"],["alt","Preview Image",3,"src"],[1,"picture-review"],["href","javascript:void(0)",1,"btn-del-image",3,"click"],[1,"bx","bx-x"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),D(5,"i",5),w(6," Trang ch\u1ee7 "),y()(),m(7,"h3",6),w(8," \u0110\u0103ng k\xfd "),y(),m(9,"div",7)(10,"a",8),D(11,"img",9),y()()(),m(12,"div",10),w(13),y(),m(14,"div",11)(15,"form",12),K("ngSubmit",function(){return i.onSubmit()}),m(16,"div",13)(17,"div",14)(18,"div",15)(19,"label",16),w(20,"Email"),y(),m(21,"input",17),K("input",function(s){return i.onChangeEmail(s)}),y(),De(22,Yue,2,0,"span",18),y(),m(23,"div",15)(24,"label",19),w(25,"H\u1ecd t\xean"),y(),m(26,"input",20),K("input",function(s){return i.onChangeFullName(s)}),y(),De(27,Que,2,0,"span",18),y(),m(28,"div",15)(29,"label",21),w(30,"M\u1eadt kh\u1ea9u"),y(),m(31,"div",22)(32,"input",23),K("input",function(s){return i.onChangePassword(s)}),y(),m(33,"a",24),K("click",function(){return i.togglePassword()}),D(34,"i",25),y(),m(35,"a",26),K("click",function(){return i.togglePassword()}),D(36,"i",27),y()(),De(37,Xue,2,0,"span",18),y(),m(38,"div",15)(39,"label",28),w(40,"X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u"),y(),m(41,"div",22)(42,"input",29),K("input",function(s){return i.onChangeConfirmPassword(s)}),y(),m(43,"a",30),K("click",function(){return i.toggleConfirmPassword()}),D(44,"i",25),y(),m(45,"a",31),K("click",function(){return i.toggleConfirmPassword()}),D(46,"i",27),y()(),De(47,Jue,2,0,"span",18),y()(),m(48,"div",32)(49,"div",15)(50,"label",33),w(51,"S\xf4\u0301 n\u0103m kinh nghi\xea\u0323m"),y(),m(52,"input",34),K("input",function(s){return i.onChangeExp(s)}),y(),De(53,ede,2,0,"span",18),y(),m(54,"div",15)(55,"label",35),w(56,"Gia\u0301 chu\u0323p c\u01a1 ba\u0309n(x/1 ti\xea\u0301ng)"),y(),m(57,"input",34),K("input",function(s){return i.onChangeCost(s)}),y(),De(58,tde,2,0,"span",18),y(),m(59,"div",15)(60,"label",36),w(61,"\u0110i\u0323a chi\u0309 cu\u0309a ba\u0323n"),y(),m(62,"input",37),K("input",function(s){return i.onChangeAddress(s)}),y(),De(63,nde,2,0,"span",18),y()()(),m(64,"div",38)(65,"label"),w(66,"A\u0309nh \u0111a\u0323i di\xea\u0323n"),y(),m(67,"label",39),w(68,"Cho\u0323n"),y(),m(69,"input",40),K("change",function(s){return i.previewAvatar(s)}),y(),De(70,rde,2,0,"span",18),De(71,ode,2,1,"div",41),y(),m(72,"div",38)(73,"label",42),w(74,"A\u0309nh bi\u0300a cu\u0309a ba\u0323n(3/3 a\u0309nh)"),y(),m(75,"label",43),w(76,"Cho\u0323n"),y(),m(77,"input",44),K("change",function(s){return i.previewPicture(s)}),y(),De(78,sde,2,0,"span",18),De(79,cde,2,1,"div",45),y(),m(80,"button",46),w(81,"\u0110\u0103ng k\xfd"),y()()(),m(82,"div",47),D(83,"div",48),m(84,"span"),w(85,"Ho\u1eb7c \u0111\u0103ng nh\u1eadp b\u1eb1ng"),y(),D(86,"div",49),y(),m(87,"div",50)(88,"div",51)(89,"a",52),D(90,"i",53),y(),m(91,"a",52),D(92,"i",54),y(),m(93,"a",52),D(94,"i",55),y()(),m(95,"div",56)(96,"div"),w(97," B\u1ea1n \u0111\xe3 c\xf3 t\xe0i kho\u1ea3n? "),m(98,"a",57),w(99," \u0110\u0103ng nh\u1eadp"),y()()()()()()),2&r&&(S(13),He(i.registerMessage),S(9),J("ngIf",i.invalidEmail),S(5),J("ngIf",i.invalidFullName),S(5),J("type",i.isShowPassword?"text":"password"),S(1),Wo("show",i.isShowPassword),S(2),Wo("show",!i.isShowPassword),S(2),J("ngIf",i.invalidPassword),S(5),J("type",i.isShowConfirmPassword?"text":"password"),S(1),Wo("show",i.isShowConfirmPassword),S(2),Wo("show",!i.isShowConfirmPassword),S(2),J("ngIf",i.invalidConfirmPassword),S(6),J("ngIf",i.invalidExp),S(5),J("ngIf",i.invalidCost),S(5),J("ngIf",i.invalidAddress),S(7),J("ngIf",i.invalidAvatar),S(1),J("ngIf",i.avatarPreview.length>0),S(7),J("ngIf",i.invalidPicture),S(1),J("ngIf",i.picturePreview.length>0))},dependencies:[Zo,wo,pi,Pm,mm,Ku],styles:['.register-wrapper[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;min-height:100vh;background-image:url(/assets/images/banner.jpg);background-size:cover;background-repeat:no-repeat;background-position:center;padding:2rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]{padding:2rem;border-radius:.5rem;width:700px;margin:auto;min-height:calc(100vh - 4rem);height:100%;background-color:#ffffffa8;box-shadow:0 0 10px #0000004d}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem;position:relative}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{position:absolute;top:0rem;left:0rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]   .go-home-link[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;text-decoration:none;color:var(--color-primary);font-weight:700;position:relative}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]   .register-title[_ngcontent-%COMP%]{text-align:center;color:var(--color-primary);font-size:32px;font-weight:700}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{display:flex;justify-content:center}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]   .brand-image[_ngcontent-%COMP%]{width:5rem;height:5rem;object-fit:cover}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-message[_ngcontent-%COMP%]{color:red;margin-bottom:1.5rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:1rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-left[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-right[_ngcontent-%COMP%]{grid-column:span 1}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:15px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:gray;font-weight:600;font-size:18px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 10px;border:2px solid gray;border-radius:5px;background-color:transparent;outline:none}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--color-primary)}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]{position:relative}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #hidePassword[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #showPassword[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #hideConfirmPassword[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #showConfirmPassword[_ngcontent-%COMP%]{position:absolute;right:10px;top:calc(50% + 3px);transform:translateY(-50%);text-decoration:none;font-size:20px;color:var(--color-primary);display:none}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #hidePassword.show[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #showPassword.show[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #hideConfirmPassword.show[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #showConfirmPassword.show[_ngcontent-%COMP%]{display:block}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{width:100%;font-size:14px;color:#ff1818}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{position:absolute;top:100%;color:var(--color-primary);width:100%;right:0;text-align:right}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]{position:relative;margin-bottom:15px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{width:100%;font-size:14px;color:#ff1818}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:gray;font-weight:600;font-size:18px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]   .label-input-file[_ngcontent-%COMP%]{background-color:var(--color-secondary);padding:5px;width:70px;border:1px solid black;border-radius:5px;display:flex;justify-content:center;align-items:center;cursor:pointer;font-size:14px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]   .picture-review[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;gap:1rem;padding-top:1rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]   .picture-review[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:200px;object-fit:cover}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]   .picture-review[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:relative}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]   .picture-review[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .btn-del-image[_ngcontent-%COMP%]{position:absolute;top:-.4rem;right:-.3rem;font-size:22px;width:22px;height:22px;display:flex;justify-content:center;align-items:center;border-radius:50%;background-color:var(--color-secondary);text-decoration:none;color:#000;padding-top:1px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]   .avatar-preview[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]   .avatar-preview[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:200px;object-fit:cover;border-radius:50%}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:3rem;display:block;width:100%;padding:15px 10px;background-color:var(--color-primary);color:#fff;border:none;border-radius:5px;font-size:20px;cursor:pointer}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]{margin:2rem 0;display:flex;align-items:center}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]   .line-left[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]   .line-right[_ngcontent-%COMP%]{flex-grow:1;height:2px;background-color:var(--color-primary)}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 10px;white-space:nowrap}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-footer[_ngcontent-%COMP%]   .register-option[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;justify-content:center;column-gap:1.5rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-footer[_ngcontent-%COMP%]   .register-option[_ngcontent-%COMP%]   .register-option-icon[_ngcontent-%COMP%]{font-size:42px;color:var(--color-primary);text-decoration:none}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-footer[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;text-decoration:none;color:var(--color-primary)}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-footer[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:-1px;left:0}@media (max-width: 767.98px){.register-wrapper[_ngcontent-%COMP%]{width:100%;left:50%;transform:translate(-50%);padding:1rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]{width:100%;min-height:calc(100vh - 2rem)}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{top:-.5rem;left:-1rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{font-size:12px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2rem;padding:10px;font-size:17px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]{margin:1rem 0}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-footer[_ngcontent-%COMP%]   .register-option[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;justify-content:center;column-gap:1.5rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-footer[_ngcontent-%COMP%]   .register-option[_ngcontent-%COMP%]   .register-option-icon[_ngcontent-%COMP%]{font-size:26px;color:var(--color-primary);text-decoration:none}.form-content[_ngcontent-%COMP%]   .form-left[_ngcontent-%COMP%], .form-content[_ngcontent-%COMP%]   .form-right[_ngcontent-%COMP%]{grid-column:span 2!important}}']}),e})();function ude(t,e){if(1&t&&(m(0,"tr")(1,"td"),w(2),y(),m(3,"td"),w(4),y(),m(5,"td"),w(6),y()()),2&t){const n=e.$implicit;S(2),He(n.id),S(2),He(n.username),S(2),He(n.email)}}let w9=(()=>{var t;class e{constructor(r){this.userService=r,this.users=[]}ngOnInit(){var r=this;return(0,k.Z)(function*(){r.users=yield r.userService.getUsers()})()}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(Ep))},t.\u0275cmp=kt({type:t,selectors:[["app-user-list"]],decls:13,vars:1,consts:[[4,"ngFor","ngForOf"]],template:function(r,i){1&r&&(m(0,"h1"),w(1,"User List"),y(),m(2,"table")(3,"thead")(4,"tr")(5,"th"),w(6,"ID"),y(),m(7,"th"),w(8,"Username"),y(),m(9,"th"),w(10,"Email"),y()()(),m(11,"tbody"),De(12,ude,7,3,"tr",0),y()()),2&r&&(S(12),J("ngForOf",i.users))},dependencies:[Zo]}),e})(),P9=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kt({type:t,selectors:[["app-home-admin"]],decls:2,vars:0,template:function(r,i){1&r&&(m(0,"p"),w(1,"home-admin works!"),y())}}),e})(),aP=(()=>{var t;class e{getOrders(){return new Promise((r,i)=>{Gu(xr(_i((0,We.initializeApp)(kr_firebaseConfig)),"orders/"),c=>{const l=c.val(),h=[];for(const f in l)if(l.hasOwnProperty(f)){const _=l[f];h.push({id:_.id,order_date:_.order_date,time:_.time,appoi_time:_.appoi_time,shooting_type:_.shooting_type,partner_id:_.partner_id,cust_name:_.cust_name,cust_email:_.cust_email,cust_phone:_.cust_phone,address:_.address,price:_.price,status:_.status,code:_.code,link_down:_.link_down})}r(h)})})}getOrderById(r){var i=this;return(0,k.Z)(function*(){try{return(yield i.getOrders()).find(a=>a.id===r)||null}catch(o){return console.error("Error fetching Order by ID:",o),null}})()}getOrderByPartnerId(r){var i=this;return(0,k.Z)(function*(){try{return(yield i.getOrders()).find(a=>a.partner_id===r)||null}catch(o){return console.error("Error fetching Order by Ordername",o),null}})()}createOrder(r){var i=this;return(0,k.Z)(function*(){try{const s=_i((0,We.initializeApp)(kr_firebaseConfig)),a=yield i.generateNewId(),c=xr(s,"orders/"+a),l={id:a,order_date:r.order_date,time:r.time,appoi_time:r.appoi_time,shooting_type:r.shooting_type,partner_id:r.partner_id,cust_name:r.cust_name,cust_email:r.cust_email,cust_phone:r.cust_phone,address:r.address,price:r.price,status:r.status,code:r.code,link_down:r.link_down};return yield Os(c,l),l}catch(o){return console.error("Error creating Order:",o),null}})()}updateOrder(r){var i=this;return(0,k.Z)(function*(){try{if(null===(yield i.getOrderById(r.id)))return console.error("Order information not found for ID:",r.id),null;const a=_i((0,We.initializeApp)(kr_firebaseConfig)),c={id:r.id,order_date:r.order_date,time:r.time,appoi_time:r.appoi_time,shooting_type:r.shooting_type,partner_id:r.partner_id,cust_name:r.cust_name,cust_email:r.cust_email,cust_phone:r.cust_phone,address:r.address,price:r.price,status:r.status,code:r.code},l=xr(a,`orders/${r.id}`);return yield Os(l,c),r}catch(o){return console.error("Error updating Order:",o),null}})()}generateNewId(){var r=this;return(0,k.Z)(function*(){const i=yield r.getOrders();return(0===i.length?0:Math.max(...i.map(s=>s.id)))+1})()}isOrderCodeUnique(r){return(0,k.Z)(function*(){const s=xr(_i((0,We.initializeApp)(kr_firebaseConfig)),"orders"),c=(yield fm(s)).val();if(c)for(const l in c)if(c.hasOwnProperty(l)&&c[l].code===r)return!1;return!0})()}generateUniqueOrderCode(){var r=this;return(0,k.Z)(function*(){const i=r.generateRandomOrderCode(6);return(yield r.isOrderCodeUnique(i))?q(i):r.generateUniqueOrderCode()})()}generateRandomOrderCode(r){let o="";for(let s=0;s<r;s++)o+="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(36*Math.random()));return o}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),E9=(()=>{var t;class e{constructor(r,i){this.orderService=r,this.userService=i}getOrderDTOs(){return Yc([this.orderService.getOrders(),this.userService.getUsers()]).pipe(_e(([r,i])=>{const o=[];for(const s of r){const a=i.find(c=>c.id===s.partner_id);a&&o.push({order:s,user:a})}return o}),Qo(r=>[]))}getOrderDTOsByStatus(r){return Yc([this.orderService.getOrders(),this.userService.getUsers()]).pipe(_e(([i,o])=>{const s=[];for(const a of i){const c=o.find(l=>l.id===a.partner_id&&a.status===r);c&&s.push({order:a,user:c})}return s}),Qo(i=>[]))}getOrderDTOsById(r){return this.getOrderDTOs().pipe(_e(i=>i.find(o=>o.order.id===r)||null))}updateOrder(r){var i=this;return(0,k.Z)(function*(){var o=yield i.orderService.getOrderById(r.order.id);return o?(r.order.status="da_duyet",(o=yield i.orderService.updateOrder(r.order))?(r.order=o,q(r)):q(null)):q(null)})()}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(aP),ie(Ep))},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function dde(t,e){if(1&t&&(m(0,"tr",14)(1,"td",15),w(2),y(),m(3,"td",15),w(4),y(),m(5,"td",15),w(6),y(),m(7,"td",15),w(8),y(),m(9,"td",15),w(10),y(),m(11,"td",15),w(12),y(),m(13,"td",15),w(14),y(),m(15,"td",15),w(16),y(),m(17,"td",15),w(18),y(),m(19,"td",15),w(20),y(),m(21,"td",15),w(22),y(),m(23,"td",15),w(24),y()()),2&t){const n=e.$implicit,r=e.index;S(2),He(r+1),S(2),He(n.order.cust_name),S(2),He(n.order.cust_phone),S(2),He(n.order.cust_email),S(2),He(n.order.order_date),S(2),He(n.order.appoi_time),S(2),He(n.order.time),S(2),He(n.order.shooting_type),S(2),He(n.user.full_name),S(2),He(n.order.price),S(2),He(n.order.code),S(2),At("","cho_duyet"===n.order.status?"Ch\u1edd duy\u1ec7t":"da_duyet"===n.order.status?"\u0110\xe3 duy\u1ec7t":"huy"===n.order.status?"H\u1ee7y":""," ")}}let hde=(()=>{var t;class e{constructor(r){this.orderDTOService=r,this.orderData=[]}ngOnInit(){this.loadOrderData()}loadOrderData(){this.orderDTOService.getOrderDTOs().subscribe(r=>{this.orderData=r,console.log("orderData:",this.orderData)},r=>{console.error("Error fetching order: ",r)})}onAccept(r){var i=this;console.log(r),this.orderDTOService.getOrderDTOsById(r).subscribe(function(){var o=(0,k.Z)(function*(s){null!==s?(console.log("D\u1eef li\u1ec7u \u0111\xe3 t\xecm th\u1ea5y:",s),(yield i.orderDTOService.updateOrder(s)).subscribe(a=>{null!==a?i.loadOrderData():console.log("C\u1eadp nh\u1eadt th\u1ea5t b\u1ea1i.")},a=>{console.error("L\u1ed7i khi c\u1eadp nh\u1eadt:",a)})):console.log("D\u1eef li\u1ec7u kh\xf4ng t\u1ed3n t\u1ea1i.")});return function(s){return o.apply(this,arguments)}}(),o=>{console.error("L\u1ed7i x\u1ea3y ra:",o)})}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(E9))},t.\u0275cmp=kt({type:t,selectors:[["app-order-list-admin"]],decls:41,vars:1,consts:[[1,"layout-list-booking"],[1,"list-booking-wrapper"],[1,"list-booking-container"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/admin/home"],["aria-current","page",1,"breadcrumb-item","active"],[1,"list-booking-content"],[1,"table-wrapper"],[1,"table"],[1,"col-header"],[1,"row-header"],["class","col-content",4,"ngFor","ngForOf"],[1,"col-content"],[1,"row-content"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"nav",3)(4,"ol",4)(5,"li",5)(6,"a",6),w(7,"Trang chu"),y()(),m(8,"li",7),w(9,"Danh sach booking"),y()()(),m(10,"div",8)(11,"div",9)(12,"table",10)(13,"thead")(14,"tr",11)(15,"th",12),w(16,"#"),y(),m(17,"th",12),w(18,"T\xean kh\xe1ch"),y(),m(19,"th",12),w(20,"SDT kh\xe1ch"),y(),m(21,"th",12),w(22,"Email kh\xe1ch"),y(),m(23,"th",12),w(24,"Ng\xe0y"),y(),m(25,"th",12),w(26,"Th\u1eddi gian"),y(),m(27,"th",12),w(28,"Th\u1eddi l\u01b0\u1ee3ng"),y(),m(29,"th",12),w(30,"Lo\u1ea1i ch\u1ee5p"),y(),m(31,"th",12),w(32,"Ng\u01b0\u1eddi ch\u1ee5p"),y(),m(33,"th",12),w(34,"T\xf4\u0309ng ti\xea\u0300n"),y(),m(35,"th",12),w(36,"Ma\u0303"),y(),m(37,"th",12),w(38,"Tr\u1ea1ng th\xe1i"),y()()(),m(39,"tbody"),De(40,dde,25,12,"tr",13),y()()()()()()()),2&r&&(S(40),J("ngForOf",i.orderData))},dependencies:[Zo,pi],styles:['@charset "UTF-8";.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{padding:0}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]{display:inline}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item.active[_ngcontent-%COMP%]{color:#333}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{padding:8px;color:#000;content:"/\\a0"}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{width:100%;max-width:100%;overflow-x:auto;position:relative}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;height:12px}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cccccc;border-radius:6px}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#bbbbbb}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border:1px solid #ddd}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:transparent}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-color:inherit;border-style:solid;border-width:0}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr.col-header[_ngcontent-%COMP%]{background-color:#f2f2f2;font-weight:700}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr.col-header[_ngcontent-%COMP%]   th.row-header[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td.row-content[_ngcontent-%COMP%]{padding:.625rem 1.25rem;text-align:left;white-space:nowrap}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td.row-content[_ngcontent-%COMP%]:last-child{text-align:center}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.btn-accept[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:6px 12px;border:none;border-radius:4px;text-align:center;text-decoration:none;display:inline-block;cursor:pointer}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.btn-accept[_ngcontent-%COMP%]:hover{background-color:#45a049}']}),e})();function pde(t,e){if(1&t){const n=Ni();m(0,"tr",15)(1,"td",16),w(2),y(),m(3,"td",16),w(4),y(),m(5,"td",16),w(6),y(),m(7,"td",16),w(8),y(),m(9,"td",16),w(10),y(),m(11,"td",16),w(12),y(),m(13,"td",16),w(14),y(),m(15,"td",16),w(16),y(),m(17,"td",16),w(18),y(),m(19,"td",16),w(20),y(),m(21,"td",16),w(22),y(),m(23,"td",16),w(24),y(),m(25,"td",17)(26,"a",18),K("click",function(){const o=cr(n).$implicit;return Un(Qt().onAccept(o.order.id))}),w(27,"Duy\u1ec7t"),y()()()}if(2&t){const n=e.$implicit,r=e.index;S(2),He(r+1),S(2),He(n.order.cust_name),S(2),He(n.order.cust_phone),S(2),He(n.order.cust_email),S(2),He(n.order.order_date),S(2),He(n.order.appoi_time),S(2),He(n.order.time),S(2),He(n.order.shooting_type),S(1),Go("data-id",n.user.id),S(1),He(n.user.full_name),S(2),He("cho_duyet"===n.order.status?"Ch\u1edd duy\u1ec7t":""),S(2),He(n.order.price),S(2),He(n.order.code)}}let fde=(()=>{var t;class e{constructor(r){this.orderDTOService=r,this.orderData=[]}ngOnInit(){this.loadOrderData()}loadOrderData(){this.orderDTOService.getOrderDTOsByStatus("cho_duyet").subscribe(r=>{this.orderData=r},r=>{console.error("Error fetching order: ",r)})}onAccept(r){var i=this;console.log(r),this.orderDTOService.getOrderDTOsById(r).subscribe(function(){var o=(0,k.Z)(function*(s){null!==s?(console.log("D\u1eef li\u1ec7u \u0111\xe3 t\xecm th\u1ea5y:",s),(yield i.orderDTOService.updateOrder(s)).subscribe(a=>{null!==a?i.loadOrderData():console.log("C\u1eadp nh\u1eadt th\u1ea5t b\u1ea1i.")},a=>{console.error("L\u1ed7i khi c\u1eadp nh\u1eadt:",a)})):console.log("D\u1eef li\u1ec7u kh\xf4ng t\u1ed3n t\u1ea1i.")});return function(s){return o.apply(this,arguments)}}(),o=>{console.error("L\u1ed7i x\u1ea3y ra:",o)})}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(E9))},t.\u0275cmp=kt({type:t,selectors:[["app-order-accept-admin"]],decls:43,vars:1,consts:[[1,"layout-list-booking"],[1,"list-booking-wrapper"],[1,"list-booking-container"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/admin/home"],["aria-current","page",1,"breadcrumb-item","active"],[1,"list-booking-content"],[1,"table-wrapper"],[1,"table"],[1,"col-header"],[1,"row-header"],[1,"row-header",".col-fixed"],["class","col-content",4,"ngFor","ngForOf"],[1,"col-content"],[1,"row-content"],[1,"row-content",".col-fixed"],["href","javascript:void(0)",1,"btn","btn-accept",3,"click"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"nav",3)(4,"ol",4)(5,"li",5)(6,"a",6),w(7,"Trang chu"),y()(),m(8,"li",7),w(9,"Duyet booking"),y()()(),m(10,"div",8)(11,"div",9)(12,"table",10)(13,"thead")(14,"tr",11)(15,"th",12),w(16,"#"),y(),m(17,"th",12),w(18,"T\xean kh\xe1ch"),y(),m(19,"th",12),w(20,"SDT kh\xe1ch"),y(),m(21,"th",12),w(22,"Email kh\xe1ch"),y(),m(23,"th",12),w(24,"Ng\xe0y"),y(),m(25,"th",12),w(26,"Th\u1eddi gian"),y(),m(27,"th",12),w(28,"Th\u1eddi l\u01b0\u1ee3ng"),y(),m(29,"th",12),w(30,"Lo\u1ea1i ch\u1ee5p"),y(),m(31,"th",12),w(32,"Ng\u01b0\u1eddi ch\u1ee5p"),y(),m(33,"th",12),w(34,"Tr\u1ea1ng th\xe1i"),y(),m(35,"th",12),w(36,"T\xf4\u0309ng ti\xea\u0300n"),y(),m(37,"th",12),w(38,"Ma\u0303"),y(),m(39,"th",13),w(40,"Ch\u1ee9c n\u0103ng"),y()()(),m(41,"tbody"),De(42,pde,28,13,"tr",14),y()()()()()()()),2&r&&(S(42),J("ngForOf",i.orderData))},dependencies:[Zo,pi],styles:['@charset "UTF-8";.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{padding:0}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]{display:inline}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item.active[_ngcontent-%COMP%]{color:#333}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{padding:8px;color:#000;content:"/\\a0"}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{width:100%;max-width:100%;overflow-x:auto;position:relative}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;height:12px}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cccccc;border-radius:6px}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#bbbbbb}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border:1px solid #ddd}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:transparent}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-color:inherit;border-style:solid;border-width:0}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr.col-header[_ngcontent-%COMP%]{background-color:#f2f2f2;font-weight:700}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr.col-header[_ngcontent-%COMP%]   th.row-header[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td.row-content[_ngcontent-%COMP%]{padding:.625rem 1.25rem;text-align:left;white-space:nowrap}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td.row-content[_ngcontent-%COMP%]:last-child{text-align:center}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.btn-accept[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:6px 12px;border:none;border-radius:4px;text-align:center;text-decoration:none;display:inline-block;cursor:pointer}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.btn-accept[_ngcontent-%COMP%]:hover{background-color:#45a049}']}),e})(),M9=(()=>{var t;class e{getDeces(){return new Promise((r,i)=>{Gu(xr(_i((0,We.initializeApp)(kr_firebaseConfig)),"deces/"),c=>{const l=c.val(),h=[];for(const f in l)if(l.hasOwnProperty(f)){const _=l[f];h.push({id:_.id,partner_id:_.partner_id,category:_.category})}r(h)})})}getDecesByPartnerId(r){var i=this;return(0,k.Z)(function*(){try{return(yield i.getDeces()).find(a=>a.partner_id===r)||null}catch(o){return console.error("Error fetching user by ID:",o),null}})()}getDecesById(r){var i=this;return(0,k.Z)(function*(){try{return(yield i.getDeces()).find(a=>a.id===r)||null}catch(o){return console.error("Error fetching user by ID:",o),null}})()}createDeces(r){var i=this;return(0,k.Z)(function*(){try{if(!(yield i.isPartnerUnique(r.partner_id)))return console.log("The order is not unique"),null;const a=_i((0,We.initializeApp)(kr_firebaseConfig)),c=yield i.generateNewId(),l=xr(a,"deces/"+c),h={id:c,partner_id:r.partner_id,category:r.category};return yield Os(l,h),h}catch(o){return console.error("Error creating user:",o),null}})()}updateDeces(r){var i=this;return(0,k.Z)(function*(){try{if(null===(yield i.getDecesById(r.id)))return console.error("User information not found for ID:",r.id),null;const a=_i((0,We.initializeApp)(kr_firebaseConfig)),c={id:r.id,partner_id:r.partner_id,category:r.category},l=xr(a,`deces/${r.id}`);return yield Os(l,c),r}catch(o){return console.error("Error updating user:",o),null}})()}generateNewId(){var r=this;return(0,k.Z)(function*(){const i=yield r.getDeces();return(0===i.length?0:Math.max(...i.map(s=>s.id)))+1})()}isPartnerUnique(r){return(0,k.Z)(function*(){const s=xr(_i((0,We.initializeApp)(kr_firebaseConfig)),"deces"),c=(yield fm(s)).val();if(c)for(const l in c)if(c.hasOwnProperty(l)&&c[l].partner_id===r)return!1;return!0})()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function gde(t,e){if(1&t){const n=Ni();m(0,"div",18),K("click",function(){const o=cr(n).$implicit;return Un(Qt(2).selectDate(o))}),w(1),y()}if(2&t){const n=e.$implicit,r=Qt(2);Wo("calendar-day-hover",null!==n)("selected-date",null!==n&&n===r.selectedDay)("curr-date",r.isCurrentDate(n)),S(1),At(" ",n," ")}}function _de(t,e){if(1&t){const n=Ni();m(0,"div",19),K("click",function(){const o=cr(n).index;return Un(Qt(2).selectMonth(o))}),w(1),y()}if(2&t){const n=e.$implicit;S(1),At("",n," ")}}function mde(t,e){if(1&t){const n=Ni();m(0,"div",6)(1,"div",7)(2,"span",8),K("click",function(){return cr(n),Un(Qt().toggleMonthList())}),w(3),y(),m(4,"div",9)(5,"span",10),K("click",function(){return cr(n),Un(Qt().prevYear())}),w(6,"<"),y(),m(7,"span",11),w(8),y(),m(9,"span",10),K("click",function(){return cr(n),Un(Qt().nextYear())}),w(10,">"),y()()(),m(11,"div",12)(12,"div",13)(13,"div"),w(14,"CN"),y(),m(15,"div"),w(16,"T2"),y(),m(17,"div"),w(18,"T3"),y(),m(19,"div"),w(20,"T4"),y(),m(21,"div"),w(22,"T5"),y(),m(23,"div"),w(24,"T6"),y(),m(25,"div"),w(26,"T7"),y()(),m(27,"div",14),De(28,gde,2,7,"div",15),y()(),m(29,"div",16),De(30,_de,2,1,"div",17),y()()}if(2&t){const n=Qt();S(3),He(n.monthNames[n.currMonth]),S(5),He(n.currYear),S(20),J("ngForOf",n.calendarDays),S(1),Wo("show",n.isMonthListVisible),S(1),J("ngForOf",n.monthNames)}}let $T=(()=>{var t;class e{constructor(r){this.el=r,this.textDefault="DD-MM-YYYY",this.selectedDate="",this.selectedDateChange=new Mn,this.isCalendarVisible=!1,this.monthNames=["Th\xe1ng 1","Th\xe1ng 2","Th\xe1ng 3","Th\xe1ng 4","Th\xe1ng 5","Th\xe1ng 6","Th\xe1ng 7","Th\xe1ng 8","Th\xe1ng 9","Th\xe1ng 10","Th\xe1ng 11","Th\xe1ng 12"],this.calendarDays=[],this.isMonthListVisible=!1,this.selectedDay=null}ngAfterViewInit(){}ngOnInit(){const r=new Date;this.currMonth=r.getMonth(),this.currYear=r.getFullYear(),this.generateCalendar(this.currMonth,this.currYear),this.selectedDateChange.subscribe(i=>{const o=new Date;this.currMonth=o.getMonth(),this.currYear=o.getFullYear(),this.generateCalendar(this.currMonth,this.currYear)})}toggleCalendar(){this.isCalendarVisible=!this.isCalendarVisible,this.isCalendarVisible||(this.isMonthListVisible=!1)}prevYear(){this.currYear--,this.generateCalendar(this.currMonth,this.currYear),this.selectedDay=null}nextYear(){this.currYear++,this.generateCalendar(this.currMonth,this.currYear),this.selectedDay=null}toggleMonthList(){this.isMonthListVisible=!this.isMonthListVisible}selectMonth(r){this.isMonthListVisible=!1,this.currMonth=r,this.generateCalendar(this.currMonth,this.currYear),this.selectedDay=null}isLeapYear(r){return r%4==0&&r%100!=0||r%400==0}getFebDays(r){return this.isLeapYear(r)?29:28}generateCalendar(r,i){const o=[31,this.getFebDays(i),31,30,31,30,31,31,30,31,30,31];this.calendarDays=[];const s=new Date(i,r,1);for(let a=0;a<=o[r]+s.getDay()-1;a++)a>=s.getDay()?this.calendarDays.push(a-s.getDay()+1):this.calendarDays.push(null)}selectDate(r){if(null!==r){this.selectedDay=r;const i=new Date(this.currYear,this.currMonth,r);this.selectedDate=i.toLocaleDateString(),this.isCalendarVisible=!1}this.selectedDateChange.emit(this.selectedDate)}isCurrentDate(r){if(null===r)return!1;const i=new Date;return r===i.getDate()&&this.currYear===i.getFullYear()&&this.currMonth===i.getMonth()}onDocumentClick(r){!this.el.nativeElement.contains(r.target)&&this.isCalendarVisible&&(this.isCalendarVisible=!1,this.isMonthListVisible=!1,this.selectedDateChange.subscribe(i=>{const o=new Date;this.currMonth=o.getMonth(),this.currYear=o.getFullYear(),this.generateCalendar(this.currMonth,this.currYear)}))}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(xi))},t.\u0275cmp=kt({type:t,selectors:[["app-date-picker"]],hostBindings:function(r,i){1&r&&K("click",function(s){return i.onDocumentClick(s)},0,Ou)},inputs:{textDefault:"textDefault",selectedDate:"selectedDate"},outputs:{selectedDateChange:"selectedDateChange"},decls:8,vars:3,consts:[[1,"calendar-wrapper"],[1,"select-button",3,"click"],["selectButton",""],[1,"bx","bx-calendar"],["class","calendar",4,"ngIf"],["type","text",2,"display","none",3,"ngModel","ngModelChange"],[1,"calendar"],[1,"calendar-header"],[1,"month-picker",3,"click"],[1,"year-picker"],[1,"year-change",3,"click"],["id","year"],[1,"calendar-body"],[1,"calendar-week-day"],[1,"calendar-days"],[3,"calendar-day-hover","selected-date","curr-date","click",4,"ngFor","ngForOf"],[1,"month-list"],["class","month-item",3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"month-item",3,"click"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1,2),K("click",function(){return i.toggleCalendar()}),m(3,"span"),w(4),y(),D(5,"i",3),y(),De(6,mde,31,6,"div",4),m(7,"input",5),K("ngModelChange",function(s){return i.selectedDate=s}),y()()),2&r&&(S(4),He(i.selectedDate||i.textDefault),S(2),J("ngIf",i.isCalendarVisible),S(1),J("ngModel",i.selectedDate))},dependencies:[Zo,wo,hl,qu,_l],styles:[".calendar-wrapper[_ngcontent-%COMP%]{position:relative;min-width:150px}.calendar-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.calendar-wrapper[_ngcontent-%COMP%]   .select-button[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;padding:8px 12px;border:1px solid var(--color-primary);border-radius:4px;background-color:var(--color-light);display:flex;justify-content:space-between;column-gap:.75rem;align-items:center;color:var(--color-primary)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]{position:absolute;top:calc(100% + .3rem);left:0;background-color:var(--color-bg-body);width:260px;height:290px;border-radius:.5rem;padding:.5rem;overflow:hidden;box-shadow:0 2px 5px #0003;z-index:2}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:17px;font-weight:700;padding:10px 0}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]   .month-picker[_ngcontent-%COMP%]{color:var(--color-primary);padding:5px 10px;border-radius:10px;cursor:pointer}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]   .month-picker[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]   .year-picker[_ngcontent-%COMP%]{display:flex;align-items:center;color:var(--color-primary)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]   .year-picker[_ngcontent-%COMP%]   .year-change[_ngcontent-%COMP%]{height:30px;width:30px;border-radius:50%;display:grid;place-items:center;margin:0 10px;cursor:pointer;color:var(--color-primary)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]   .year-picker[_ngcontent-%COMP%]   .year-change[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]{padding:10px}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-week-day[_ngcontent-%COMP%]{height:30px;display:grid;grid-template-columns:repeat(7,1fr);font-weight:600}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-week-day[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:grid;place-items:center;color:var(--color-dark)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:2px;color:#151426}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:30px;height:30px;display:flex;align-items:center;justify-content:center;padding:5px;position:relative;animation:_ngcontent-%COMP%_to-top 1s forwards}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div.calendar-day-hover[_ngcontent-%COMP%]{cursor:pointer;border-radius:50%}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div.calendar-day-hover[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary);color:var(--color-primary);font-weight:600}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div.curr-date[_ngcontent-%COMP%], .calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div.curr-date[_ngcontent-%COMP%]:hover{background-color:var(--color-primary);color:#fff}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div.selected-date[_ngcontent-%COMP%], .calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div.selected-date[_ngcontent-%COMP%]:hover{background-color:var(--color-info)!important;color:#fff}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month-list[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background-color:var(--color-bg-body);padding:.5rem;grid-template-columns:repeat(3,auto);gap:7px;display:grid;transform:scale(1.5);visibility:hidden;pointer-events:none}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;place-items:center;width:100%;border-radius:10px;cursor:pointer;color:var(--color-primary);font-weight:700}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month-list.show[_ngcontent-%COMP%]{transform:scale(1);visibility:visible;pointer-events:visible;transition:all .2s ease-in-out}@keyframes _ngcontent-%COMP%_to-top{0%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}"]}),e})();const yde=["selectElement"],vde=["selectButton"],Cde=["selectOptions"];function wde(t,e){1&t&&D(0,"i",10)}function Pde(t,e){1&t&&D(0,"i",11)}function Ede(t,e){if(1&t){const n=Ni();m(0,"li",12),K("click",function(){const o=cr(n).$implicit;return Un(Qt().selectOption(o.value))}),w(1),y()}if(2&t){const n=e.$implicit;S(1),At(" ",n.textContent," ")}}const Mde=[[["","custom-option",""]]],Ode=function(t){return{active:t}},Ide=["[custom-option]"];let HT=(()=>{var t;class e{constructor(){this.textDefault="-- Choose --",this.selectedOption="",this.selectedOptionChange=new Mn,this.selectedOptionText="",this.options=[],this.isDropdownOpen=!1,this.dropdownPosition={top:"0",left:"0"}}ngOnInit(){}ngAfterViewInit(){const r=this.selectElement.nativeElement;for(let i=0;i<r.options.length;i++){const o=r.options[i];this.options.push({value:o.value,textContent:o.textContent})}}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen}selectOption(r){this.selectedOption=r,this.selectedOptionText=this.options.find(i=>i.value===this.selectedOption)?.textContent||"",this.selectedOptionChange.emit(this.selectedOption),this.isDropdownOpen=!1}onClickOutside(r){!this.selectButton.nativeElement.contains(r.target)&&!this.selectOptions.nativeElement.contains(r.target)&&(this.isDropdownOpen=!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kt({type:t,selectors:[["app-custom-select"]],viewQuery:function(r,i){if(1&r&&(Xn(yde,5),Xn(vde,5),Xn(Cde,5)),2&r){let o;jn(o=$n())&&(i.selectElement=o.first),jn(o=$n())&&(i.selectButton=o.first),jn(o=$n())&&(i.selectOptions=o.first)}},hostBindings:function(r,i){1&r&&K("click",function(s){return i.onClickOutside(s)},0,Ou)},inputs:{textDefault:"textDefault",selectedOption:"selectedOption"},outputs:{selectedOptionChange:"selectedOptionChange"},ngContentSelectors:Ide,decls:13,vars:8,consts:[[1,"custom-select"],[1,"select-button",3,"click"],["selectButton",""],["class","bx bx-collapse-vertical",4,"ngIf"],["class","bx bx-expand-vertical",4,"ngIf"],[1,"select-options",3,"ngClass"],["selectOptions",""],[3,"click",4,"ngFor","ngForOf"],[2,"display","none",3,"ngModel","ngModelChange"],["selectElement",""],[1,"bx","bx-collapse-vertical"],[1,"bx","bx-expand-vertical"],[3,"click"]],template:function(r,i){1&r&&(function IF(t){const e=ae()[Sn][ar];if(!e.projection){const r=e.projection=Hc(t?t.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=t?HK(o,t):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}(Mde),m(0,"div",0)(1,"div",1,2),K("click",function(){return i.toggleDropdown()}),m(3,"span"),w(4),y(),De(5,wde,1,0,"i",3),De(6,Pde,1,0,"i",4),y(),m(7,"ul",5,6),De(9,Ede,2,1,"li",7),y(),m(10,"select",8,9),K("ngModelChange",function(s){return i.selectedOption=s}),function bF(t,e=0,n){const r=ae(),i=Ct(),o=kh(i,ut+t,16,null,n||null);null===o.projection&&(o.projection=e),gu(),(!r[po]||Aa())&&32!=(32&o.flags)&&function WG(t,e,n){AN(e[qe],0,e,n,mO(t,n,e),EN(n.parent||e[ar],n,e))}(i,r,o)}(12),y()()),2&r&&(S(4),He(i.selectedOptionText||i.textDefault),S(1),J("ngIf",!i.isDropdownOpen),S(1),J("ngIf",i.isDropdownOpen),S(1),J("ngClass",yo(6,Ode,i.isDropdownOpen)),S(2),J("ngForOf",i.options),S(1),J("ngModel",i.selectedOption))},dependencies:[Cs,Zo,wo,G0,qu,_l],styles:[".custom-select[_ngcontent-%COMP%]{position:relative;min-width:150px}.custom-select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{display:none}.custom-select[_ngcontent-%COMP%]   .select-button[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;padding:8px 12px;border:1px solid var(--color-primary);border-radius:4px;background-color:var(--color-light);display:flex;justify-content:space-between;align-items:center;column-gap:.75rem;color:var(--color-primary);text-wrap:nowrap}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;position:absolute;top:calc(100% + .3rem);left:0;background-color:var(--color-light);border-top:none;border-radius:.3rem;box-shadow:0 2px 5px #0003;display:none;z-index:2;min-width:150px;max-height:200px;overflow-y:auto;scrollbar-width:thin;scrollbar-color:var(--color-primary) var(--color-light)}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--color-light)}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#f6f6f6;border-radius:4px;border:2px solid var(--color-light)}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px 12px;cursor:pointer;color:var(--color-primary);text-wrap:nowrap}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-of-type{border-top-right-radius:.3rem;border-top-left-radius:.3rem}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-of-type{border-bottom-right-radius:.3rem;border-bottom-left-radius:.3rem}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f6f6f6}.custom-select[_ngcontent-%COMP%]   .select-options.active[_ngcontent-%COMP%]{display:block}"]}),e})();function bde(t,e){if(1&t){const n=Ni();m(0,"div",166)(1,"a",167)(2,"div",168),D(3,"img",169),y(),m(4,"div",170)(5,"h3",171),w(6),y(),m(7,"span",172),w(8),y(),m(9,"div",173),K("click",function(){const o=cr(n).$implicit;return Un(Qt().toggleAsk(o.name))}),D(10,"i",31),y()()()()}if(2&t){const n=e.$implicit;S(3),gs("src",n.images[0],Dr),S(3),He(n.name),S(2),He(n.images.length)}}function Tde(t,e){if(1&t&&(m(0,"div",174),w(1),y()),2&t){const n=Qt();S(1),At(" ",n.errorMessage," ")}}function Ade(t,e){if(1&t){const n=Ni();m(0,"div",175),D(1,"img",176),m(2,"a",177),K("click",function(){const o=cr(n).index;return Un(Qt().delPicture(o))}),D(3,"i",131),y()()}if(2&t){const n=e.$implicit;S(1),gs("src",n,Dr)}}function Dde(t,e){if(1&t){const n=Ni();m(0,"div",175),D(1,"img",176),m(2,"a",178),K("click",function(){const o=cr(n).index;return Un(Qt().deleteImageFromAsk(o))}),D(3,"i",131),y()()}if(2&t){const n=e.$implicit;S(1),gs("src",n.url,Dr)}}function Sde(t,e){if(1&t){const n=Ni();m(0,"div",179)(1,"div",180),D(2,"img",181),m(3,"a",182),K("click",function(){const o=cr(n).index;return Un(Qt().deleteImageOfNewPortfo(o))}),D(4,"i",131),y()()()}if(2&t){const n=e.$implicit;S(2),J("src",n,Dr)}}let Rde=(()=>{var t;class e{toggleAsk(r){this.isShowAskRepair=!this.isShowAskRepair,this.modalName=r,this.decesData?.category.forEach(i=>{i.name!==r||(this.modalImagesRepair=i.images)})}closeAsk(){this.isShowAskRepair=!1}constructor(r,i,o,s,a,c,l,h){this.router=r,this.route=i,this.orderService=o,this.userInfoDTOService=s,this.userInfoService=a,this.userService=c,this.decesService=l,this.fileStorage=h,this.userData=null,this.decesData=null,this.selectedDateU="",this.selectedOptionTL="",this.selectedOptionType="",this.errorMessage="",this.isError=!1,this.dateVal="",this.selectedOptionTLVal="",this.selectedOptionTypeVal="",this.setTimeVal="",this.partnerId=0,this.isShowOrder=!1,this.isShowForMeEdit=!1,this.isShowIcEdit=!1,this.isShowFeEdit=!1,this.nameText="",this.expText="",this.addressText="",this.desText="",this.prizeText="",this.interestText="",this.languageText="",this.cameraText="",this.isShowAskRepair=!1,this.isShowAddPortfo=!1,this.modalName="",this.modalImagesRepair=[],this.imagePreviews=[],this.filesAddPortfo=[],this.portfo_name="",this.imageData=[],this.route.params.subscribe(f=>{const _=f.id;_?this.partnerId=parseInt(_,10):console.error("ID not found in URL")})}ngOnInit(){this.route.params.subscribe(r=>{const i=r.id;if(i){const o=parseInt(i,10);this.loadUserInfoData(o),this.loadDecesData(o)}else console.error("ID not found in URL")})}loadUserInfoData(r){this.userInfoDTOService.getUserInfoDTOsById(r).subscribe(i=>{this.userData=i,this.nameText=this.userData?.user.full_name||"",this.desText=this.userData?.userInfo.description||"",this.prizeText=this.userData?.userInfo.prize||"",this.interestText=this.userData?.userInfo.interest||"",this.languageText=this.userData?.userInfo.language||"",this.cameraText=this.userData?.userInfo.camera||""},i=>{console.error("Error loading user info:",i)})}loadDecesData(r){var i=this;return(0,k.Z)(function*(){i.decesData=yield i.decesService.getDecesByPartnerId(r),console.log(i.decesData)})()}onDateChange(r){this.dateVal=r}onOptionTLChange(r){this.selectedOptionTLVal=r}onOptionTypeChange(r){this.selectedOptionTypeVal=r}onSubmit(){var r=this;return(0,k.Z)(function*(){if(r.isError=!1,r.selectedDateU&&r.selectedOptionTL&&r.selectedOptionType){if(0!==r.partnerId){console.log("true");const o={id:0,order_date:r.dateVal,time:r.selectedOptionTLVal,appoi_time:r.setTimeVal,shooting_type:r.selectedOptionTypeVal,partner_id:r.partnerId,cust_name:"",cust_email:"",cust_phone:"",code:"",status:"cho_duyet",address:"",price:"",link_down:""};var i=yield r.orderService.createOrder(o);i&&(localStorage.setItem("order_id",i.id.toString()),r.router.navigate(["/contact"]))}}else r.errorMessage="Vui l\xf2ng \u0111i\u1ec1n \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin",r.isError=!0,console.log(r.dateVal),console.log(r.setTimeVal)})()}showOrder(){this.isShowOrder=!0}hideOrder(){this.isShowOrder=!1}showForMeEdit(){this.isShowForMeEdit=!0}showIcEdit(){this.isShowIcEdit=!0}showFeEdit(){this.isShowFeEdit=!0}hideForMeEdit(){this.isShowForMeEdit=!1}hideIcEdit(){this.isShowIcEdit=!1}hideFeEdit(){this.isShowFeEdit=!1}updateValue(r,i){switch(r){case"nameText":this.nameText=i;break;case"desText":this.desText=i;break;case"prizeText":this.prizeText=i;break;case"interestText":this.interestText=i;break;case"addressText":this.addressText=i;break;case"expText":this.expText=i}}saveIc(){var r=this;return(0,k.Z)(function*(){if(void 0!==r.userData?.user.id){const s=r.userData?.userInfo.id;var i=yield r.userInfoService.getUserInfoById(s);if(i)if(void 0!==r.desText&&void 0!==r.prizeText&&void 0!==r.interestText){i.description=r.desText,i.prize=r.prizeText,i.interest=r.interestText,console.log(i);var o=yield r.userInfoService.updateUserInfo(i);o?(console.log("Th\xf4ng tin ng\u01b0\u1eddi d\xf9ng \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt th\xe0nh c\xf4ng",o),window.alert("Th\xf4ng tin ng\u01b0\u1eddi d\xf9ng \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt th\xe0nh c\xf4ng")):(console.error("L\u1ed7i khi c\u1eadp nh\u1eadt th\xf4ng tin ng\u01b0\u1eddi d\xf9ng"),window.alert("L\u1ed7i khi c\u1eadp nh\u1eadt th\xf4ng tin ng\u01b0\u1eddi d\xf9ng"))}else console.error("M\u1ed9t trong c\xe1c tr\u01b0\u1eddng d\u1eef li\u1ec7u l\xe0 undefined"),window.alert("M\u1ed9t trong c\xe1c tr\u01b0\u1eddng d\u1eef li\u1ec7u l\xe0 undefined");else console.error("Kh\xf4ng t\xf4\u0300n ta\u0323i ta\u0323i th\xf4ng tin cu\u0309a ta\u0300i khoa\u0309n na\u0300y"),window.alert("Kh\xf4ng t\xf4\u0300n ta\u0323i ta\u0323i th\xf4ng tin cu\u0309a ta\u0300i khoa\u0309n na\u0300y")}else console.error("User ID is undefined"),window.alert("User ID is undefined")})()}saveForMe(){var r=this;return(0,k.Z)(function*(){if(void 0!==r.userData?.user.id){const s=r.userData?.user.id;var i=yield r.userService.getUserById(s);if(i)if(void 0!==r.nameText&&void 0!==r.addressText&&void 0!==r.expText){i.full_name=r.nameText,i.address=r.addressText,i.exp=parseFloat(r.expText);var o=yield r.userService.updateUser(i);o?(console.log("Th\xf4ng tin ng\u01b0\u1eddi d\xf9ng \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt th\xe0nh c\xf4ng",o),window.alert("Th\xf4ng tin ng\u01b0\u1eddi d\xf9ng \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt th\xe0nh c\xf4ng")):(console.error("L\u1ed7i khi c\u1eadp nh\u1eadt th\xf4ng tin ng\u01b0\u1eddi d\xf9ng"),window.alert("L\u1ed7i khi c\u1eadp nh\u1eadt th\xf4ng tin ng\u01b0\u1eddi d\xf9ng"))}else console.error("M\u1ed9t trong c\xe1c tr\u01b0\u1eddng d\u1eef li\u1ec7u l\xe0 undefined"),window.alert("M\u1ed9t trong c\xe1c tr\u01b0\u1eddng d\u1eef li\u1ec7u l\xe0 undefined");else console.error("Kh\xf4ng t\xf4\u0300n ta\u0323i ta\u0323i th\xf4ng tin cu\u0309a ta\u0300i khoa\u0309n na\u0300y"),window.alert("Kh\xf4ng t\xf4\u0300n ta\u0323i ta\u0323i th\xf4ng tin cu\u0309a ta\u0300i khoa\u0309n na\u0300y")}else console.error("User ID is undefined"),window.alert("User ID is undefined")})()}saveFe(){var r=this;return(0,k.Z)(function*(){if(void 0!==r.userData?.user.id){const s=r.userData?.userInfo.id;var i=yield r.userInfoService.getUserInfoById(s);if(i)if(void 0!==r.languageText&&void 0!==r.cameraText){i.language=r.languageText,i.prize=r.languageText;var o=yield r.userInfoService.updateUserInfo(i);o?(console.log("Th\xf4ng tin ng\u01b0\u1eddi d\xf9ng \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt th\xe0nh c\xf4ng",o),window.alert("Th\xf4ng tin ng\u01b0\u1eddi d\xf9ng \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt th\xe0nh c\xf4ng")):(console.error("L\u1ed7i khi c\u1eadp nh\u1eadt th\xf4ng tin ng\u01b0\u1eddi d\xf9ng"),window.alert("L\u1ed7i khi c\u1eadp nh\u1eadt th\xf4ng tin ng\u01b0\u1eddi d\xf9ng"))}else console.error("M\u1ed9t trong c\xe1c tr\u01b0\u1eddng d\u1eef li\u1ec7u l\xe0 undefined"),window.alert("M\u1ed9t trong c\xe1c tr\u01b0\u1eddng d\u1eef li\u1ec7u l\xe0 undefined");else console.error("Kh\xf4ng t\xf4\u0300n ta\u0323i ta\u0323i th\xf4ng tin cu\u0309a ta\u0300i khoa\u0309n na\u0300y"),window.alert("Kh\xf4ng t\xf4\u0300n ta\u0323i ta\u0323i th\xf4ng tin cu\u0309a ta\u0300i khoa\u0309n na\u0300y")}else console.error("User ID is undefined"),window.alert("User ID is undefined")})()}showAddPortfo(){this.isShowAddPortfo=!this.isShowAddPortfo}closeNewPortfo(){this.isShowAddPortfo=!1}previewImages(r){const o=r.target.files;if(o&&o.length>0){this.filesAddPortfo=Array.from(o),this.imagePreviews=[];for(let s=0;s<o.length;s++){const a=o[s],c=new FileReader;c.onload=l=>{this.imagePreviews.push(l.target?.result)},c.readAsDataURL(a)}}else this.imagePreviews=[]}deleteImageOfNewPortfo(r){r>=0&&r<this.imagePreviews.length&&(this.imagePreviews.splice(r,1),this.filesAddPortfo.splice(r,1),document.getElementById("image").value="")}addNewPortfo(){var r=this;return(0,k.Z)(function*(){if(""!==r.portfo_name&&r.filesAddPortfo.length>0){var i=[],o=[];for(let f=0;f<r.filesAddPortfo.length;f++){const _=r.filesAddPortfo[f],v=_.name.split(".").pop(),E=Z0()+"."+v;o.push(new File([_],E,{type:_.type}))}for(let f=0;f<o.length;f++){const _=o[f],v=`images/${_.name}`,I=yield(yield r.fileStorage.upload(v,_)).ref.getDownloadURL();i.push(I)}var s=yield r.decesService.getDecesByPartnerId(r.partnerId);if(s){var a=!1;s.category.forEach(f=>{f.name!==r.portfo_name||(a=!0)}),a||s.category.push({name:r.portfo_name,images:i}),yield r.decesService.updateDeces(s),window.alert("Category added successfully"),yield r.loadDecesData(r.partnerId)}else{var l=[];l.push({name:r.portfo_name,images:i});var h={id:0,partner_id:r.partnerId,category:l};yield r.decesService.createDeces(h),window.alert("Category added successfully"),yield r.loadDecesData(r.partnerId)}}})()}delPicture(r){r>=0&&r<this.modalImagesRepair.length&&this.modalImagesRepair.splice(r,1)}addImageFromAsk(r,i){this.imageData.push({url:r,file:i})}deleteImageFromAsk(r){r>=0&&r<this.imageData.length&&this.imageData.splice(r,1)}onFileInputChange(r){const i=r.target.files;if(i)for(let o=0;o<i.length;o++){const s=i[o],a=URL.createObjectURL(s);this.addImageFromAsk(a,s)}}triggerFileInput(){document.getElementById("hiddenFileInput").click()}submitRepair(){var r=this;return(0,k.Z)(function*(){if(r.imageData.length>0){var i=[],o=[];for(let c=0;c<r.imageData.length;c++){const l=r.imageData[c].file,h=l.name.split(".").pop(),f=Z0()+"."+h;o.push(new File([l],f,{type:l.type}))}for(let c=0;c<o.length;c++){const l=o[c],h=`images/${l.name}`,_=yield(yield r.fileStorage.upload(h,l)).ref.getDownloadURL();i.push(_)}var s=yield r.decesService.getDecesByPartnerId(r.partnerId);if(s)for(let c=0;c<s.category.length;c++){const l=s.category[c];if(l.name===r.modalName){l.images=[...l.images,...i],yield r.decesService.updateDeces(s),window.alert("Category added successfully"),yield r.loadDecesData(r.partnerId),r.decesData?.category.forEach(h=>{h.name!==r.modalName||(r.modalImagesRepair=h.images)}),r.imageData=[];break}}}})()}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(hi),ee(el),ee(aP),ee(k0),ee(dT),ee(Ep),ee(M9),ee(sP))},t.\u0275cmp=kt({type:t,selectors:[["app-partner-profile"]],decls:338,vars:43,consts:[[1,"profile-content"],[1,"wall-wrapper"],[1,"wall-content"],[1,"wall1"],[1,"wall1-1"],["src","./assets/images/profile/pf1.jpg","alt",""],[1,"wall1-2"],["src","./assets/images/profile/pf2.jpg","alt",""],[1,"wall2"],["src","./assets/images/profile/pf3.jpg","alt",""],[1,"wall3"],[1,"wall3-1"],["src","./assets/images/profile/pf4.jpg","alt",""],[1,"wall3-2"],["src","./assets/images/profile/pf5.jpg","alt",""],[1,"wall4"],["src","./assets/images/profile/pf6.jpg","alt",""],[1,"wall5"],[1,"wall5-1"],["src","./assets/images/profile/pf7.jpg","alt",""],[1,"wall5-2"],["src","./assets/images/profile/pf8.jpg","alt",""],[1,"content-wrapper"],[1,"forMe-wrapper"],[1,"forMe-content"],[1,"avatar-wrapper"],[1,"avatar"],["alt","",1,"avatar-image",3,"src"],[1,"des-forMe-wrapper"],[1,"des-forMe-name"],[1,"btn-edit-forMe",3,"click"],[1,"bx","bx-edit-alt"],[1,"des-forMe-address"],[1,"des-forMe-rate"],[1,"rate-star"],["src","./assets/images/icons/star-fill.png","alt",""],[1,"rate-text"],[1,"des-forMe-exp"],[1,"forMe-edit",3,"ngClass"],[3,"ngModel","ngModelChange"],[1,"des-forMe-address",3,"ngModel","ngModelChange"],[1,"des-forMe-exp",3,"ngModel","ngModelChange"],[1,"btn-edit-control"],["href","javascript:void(0)",1,"btn-save",3,"click"],["href","javascript:void(0)",1,"btn-cancel",3,"click"],[1,"info-wrapper"],[1,"infor-title-list"],[1,"title-list"],[1,"it-item"],["href","javascript:void(0)",1,"it-link"],[1,"deliver-line"],[1,"infor-content-list"],[1,"ic-item"],[1,"text-description"],[1,"prize"],[1,"prize-title"],[1,"interest"],[1,"interest-title"],[1,"btn-ic-edit",3,"click"],[1,"ic-edit",2,"overflow-y","auto",3,"ngClass"],[1,"feature-wrapper"],[1,"feature-title"],[1,"feature-content"],[1,"language"],[1,"language-title"],["src","./assets/images/icons/translate.png","alt",""],[1,"camera"],[1,"camera-title"],["src","./assets/images/icons/camera.png","alt",""],[1,"btn-feature-edit",3,"click"],[1,"feature-edit",3,"ngClass"],[3,"ngModel"],[1,"portfolio"],[1,"portfolio-title"],["href","javascript:void(0);",3,"click"],[1,"bx","bx-plus-circle"],[1,"portfolio-content"],["class","portfolio-item",4,"ngFor","ngForOf"],[1,"appraise"],[1,"appraise-title"],[1,"rate"],[1,"appraise-content"],[1,"appraise-item"],[1,"ai-header"],[1,"header-avatar"],["src","./assets/images/avatar/avatar1.jpeg","alt",""],[1,"header-name"],[1,"ai-comment"],[1,"how-it-works"],[1,"hiw-title"],[1,"hiw-content"],[1,"hiw-item"],[1,"item-title"],[1,"title-icon"],[1,"bx","bx-calendar-check"],[1,"title-text"],[1,"item-content"],[1,"content-deliver"],[1,"content-text"],[1,"bx","bxs-camera"],[1,"bx","bx-happy-alt"],[1,"order-wrapper",3,"ngClass"],[1,"order-container"],["class","mess-valid",4,"ngIf"],[1,"order-content"],[1,"filter-date-picker"],["for","ngay-chup"],[3,"selectedDate","textDefault","selectedDateChange"],[1,"filter-tl"],["for","thoi-luong"],[3,"selectedOption","textDefault","selectedOptionChange"],["custom-option","","value","1"],["custom-option","","value","2"],["custom-option","","value","3"],["custom-option","","value","4"],["custom-option","","value","5"],["custom-option","","value","6"],["custom-option","","value","7"],["custom-option","","value","8"],[1,"set-time"],["for","gio-hen"],["type","time","id","gio-hen","name","gio-hen","required","",3,"ngModel","ngModelChange"],[1,"filter-type"],["custom-option","","value","chup-san-pham"],["custom-option","","value","chup-chan-dung"],["custom-option","","value","chup-canh"],["href","javascript:void(0)",3,"click"],[1,"p-footer"],[1,"sug-foot"],[1,"bx","bx-check"],[1,"btn-close-order",3,"click"],[1,"bx","bx-x"],[1,"toggle-order-wrapper",3,"ngClass","click"],[1,"ask-repair-wrapper",3,"ngClass"],[1,"ask-repair-container"],[1,"ask-repair-content"],[1,"repair-title"],[1,"repair-cont"],[1,"repair-picture"],[1,"picture-wrapper"],["class","picture-item",4,"ngFor","ngForOf"],[1,"ask-repair-button"],[1,"rs-left"],["type","file","id","hiddenFileInput","accept","image/*","multiple","",2,"display","none",3,"change"],["href","javascript:void(0)",1,"btn-upload-repair",3,"click"],[1,"rs-right"],["href","javascript:void(0)",1,"btn-submit-repair",3,"click"],["href","javascript:void(0)",1,"btn-close-ask",3,"click"],[1,"add-new-portfo",3,"ngClass"],[1,"new-portfo-container"],[1,"new-portfo-content"],[1,"new-portfo-title"],[1,"new-portfo-cont"],[1,"name-wapper"],["for","name"],["type","text","name","name","id","name",3,"ngModel","ngModelChange"],[1,"image-wrapper"],[1,"upload-control"],["for","image"],["type","file","name","image","id","image","accept","image/*","multiple","",3,"change"],[1,"list-preview"],["class","preview-item",4,"ngFor","ngForOf"],[1,"submit-portfo-wrapper"],[1,"btn-add-portfo",3,"click"],["href","javascript:void(0);",1,""],["href","javascript:void(0)",1,"btn-close-newPortfo",3,"click"],[1,"portfolio-item"],["href","javascript:void(0);"],[1,"it-header"],["alt","",3,"src"],[1,"it-footer"],[1,"it-cate"],[1,"it-count-picture"],[1,"btn-portfolio-edit",3,"click"],[1,"mess-valid"],[1,"picture-item"],["alt","","srcset","",3,"src"],["href","javascript:void(0;)",1,"btn-del-image",3,"click"],["href","javascript:void(0)",1,"btn-del-image",3,"click"],[1,"preview-item"],[1,"preview-content"],["alt","Preview Image",2,"max-width","100%","max-height","200px",3,"src"],["href","javascript:void(0);",1,"item-close",3,"click"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),D(5,"img",5),y(),m(6,"div",6),D(7,"img",7),y()(),m(8,"div",8),D(9,"img",9),y(),m(10,"div",10)(11,"div",11),D(12,"img",12),y(),m(13,"div",13),D(14,"img",14),y()(),m(15,"div",15),D(16,"img",16),y(),m(17,"div",17)(18,"div",18),D(19,"img",19),y(),m(20,"div",20),D(21,"img",21),y()()()(),m(22,"div",22)(23,"div",23)(24,"div",24)(25,"div",25)(26,"div",26),D(27,"img",27),y()(),m(28,"div",28)(29,"div",29)(30,"h2"),w(31),y(),m(32,"div",30),K("click",function(){return i.showForMeEdit()}),D(33,"i",31),y()(),m(34,"p",32),w(35),y(),m(36,"div",33)(37,"div",34),D(38,"img",35)(39,"img",35)(40,"img",35)(41,"img",35)(42,"img",35),y(),m(43,"span",36),w(44,"5.0"),y()(),m(45,"p",37),w(46),y(),m(47,"div",38)(48,"div",29)(49,"input",39),K("ngModelChange",function(s){return i.updateValue("nameText",s)}),y()(),m(50,"input",40),K("ngModelChange",function(s){return i.updateValue("addressText",s)}),y(),m(51,"input",41),K("ngModelChange",function(s){return i.updateValue("expText",s)}),y(),m(52,"div",42)(53,"a",43),K("click",function(){return i.saveForMe()}),w(54,"L\u01b0u"),y(),m(55,"a",44),K("click",function(){return i.hideForMeEdit()}),w(56,"Hu\u0309y"),y()()()()()(),m(57,"div",45)(58,"div",46)(59,"div",47)(60,"li",48)(61,"a",49),w(62,"V\u1ec1 t\xf4i"),y()(),m(63,"li",48)(64,"a",49),w(65,"H\u1ed3 s\u01a1"),y()(),m(66,"li",48)(67,"a",49),w(68,"\u0110\xe1nh gi\xe1"),y()(),m(69,"li",48)(70,"a",49),w(71,"How it works"),y()()()(),D(72,"div",50),m(73,"div",51)(74,"div",52)(75,"div",53)(76,"p"),w(77),y()(),m(78,"div",54)(79,"h3",55),w(80," Gi\u1ea3i th\u01b0\u1edfng "),y(),m(81,"p"),w(82),y()(),m(83,"div",56)(84,"h3",57),w(85," \u0110i\u1ec1u th\xfa v\u1ecb v\u1ec1 t\xf4i "),y(),m(86,"p"),w(87),y()(),m(88,"div",58),K("click",function(){return i.showIcEdit()}),D(89,"i",31),y(),m(90,"div",59)(91,"div",53)(92,"textarea",39),K("ngModelChange",function(s){return i.updateValue("desText",s)}),w(93),y()(),m(94,"div",54)(95,"h3",55),w(96," Gi\u1ea3i th\u01b0\u1edfng "),y(),m(97,"textarea",39),K("ngModelChange",function(s){return i.updateValue("prizeText",s)}),w(98),y()(),m(99,"div",56)(100,"h3",57),w(101," \u0110i\u1ec1u th\xfa v\u1ecb v\u1ec1 t\xf4i "),y(),m(102,"textarea",39),K("ngModelChange",function(s){return i.updateValue("interestText",s)}),w(103),y()(),m(104,"div",42)(105,"a",43),K("click",function(){return i.saveIc()}),w(106,"L\u01b0u"),y(),m(107,"a",44),K("click",function(){return i.hideIcEdit()}),w(108,"Hu\u0309y"),y()()()()(),D(109,"div",50),m(110,"div",60)(111,"h3",61),w(112,"Ng\xf4n ng\u1eef & M\xe1y \u1ea3nh"),y(),m(113,"div",62)(114,"div",63)(115,"div",64),D(116,"img",65),m(117,"h3"),w(118,"Ng\xf4n ng\u1eef"),y()(),m(119,"p"),w(120),y()(),m(121,"div",66)(122,"div",67),D(123,"img",68),m(124,"h3"),w(125,"M\xe1y \u1ea3nh"),y()(),m(126,"p"),w(127),y()(),m(128,"div",69),K("click",function(){return i.showFeEdit()}),D(129,"i",31),y()(),m(130,"div",70)(131,"h3",61),w(132,"Ng\xf4n ng\u1eef & M\xe1y \u1ea3nh"),y(),m(133,"div",62)(134,"div",63)(135,"div",64),D(136,"img",65),m(137,"h3"),w(138,"Ng\xf4n ng\u1eef"),y()(),m(139,"textarea",71),w(140),y()(),m(141,"div",66)(142,"div",67),D(143,"img",68),m(144,"h3"),w(145,"M\xe1y \u1ea3nh"),y()(),m(146,"textarea",71),w(147),y()()(),m(148,"div",42)(149,"a",43),K("click",function(){return i.saveFe()}),w(150,"L\u01b0u"),y(),m(151,"a",44),K("click",function(){return i.hideFeEdit()}),w(152,"Hu\u0309y"),y()()()(),D(153,"div",50),m(154,"div",72)(155,"div",73)(156,"h3"),w(157," My Portfolio "),y(),m(158,"a",74),K("click",function(){return i.showAddPortfo()}),D(159,"i",75),y()(),m(160,"div",76),De(161,bde,11,3,"div",77),y()(),D(162,"div",50),m(163,"div",78)(164,"div",79)(165,"h3"),w(166,"\u0110\xe1nh Gi\xe1"),y(),m(167,"div",80)(168,"div",34),D(169,"img",35)(170,"img",35)(171,"img",35)(172,"img",35)(173,"img",35),y(),m(174,"span",36),w(175,"5.0"),y()()(),m(176,"div",81)(177,"div",82)(178,"div",83)(179,"div",84),D(180,"img",85),y(),m(181,"span",86),w(182,"Lalisa Manoban "),y()(),m(183,"div",87)(184,"p"),w(185,"Kh\xf4ng c\xf2n nghi ng\u1edd g\xec n\u1eefa, \u0111\xe2y l\xe0 m\u1ed9t trong nh\u1eefng nhi\u1ebfp \u1ea3nh gia tuy\u1ec7t v\u1eddi nh\u1ea5t v\xe0 c\xf3 k\u1ef9 n\u0103ng ch\u1ee5p \u1ea3nh \u0111a d\u1ea1ng! T\xf4i th\u01b0\u1eddng kh\xf4ng \u0111\u0103ng \u0111\xe1nh gi\xe1 nh\u01b0ng c\xf4ng vi\u1ec7c \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n b\u1edfi nhi\u1ebfp \u1ea3nh gia Ph\u1ea1m Vi\u1ec7t C\u01b0\u1eddng x\u1ee9ng \u0111\xe1ng v\xe0 h\u01a1n th\u1ebf n\u1eefa! T\xf4i v\xe0 YG s\u1ebd ti\u1ebfp t\u1ee5c l\xe0m nhi\u1ec1u vi\u1ec7c h\u01a1n v\u1edbi anh \u1ea5y!!"),y()()()()(),D(186,"div",50),m(187,"div",88)(188,"h3",89),w(189,"How it Works"),y(),m(190,"div",90)(191,"div",91)(192,"div",92)(193,"div",93),D(194,"i",94),y(),m(195,"h3",95),w(196,"Book."),y()(),m(197,"div",96)(198,"div",97),D(199,"p"),y(),m(200,"div",98)(201,"p"),w(202,"Nhanh ch\xf3ng t\xecm th\u1ea5y m\u1ed9t nhi\u1ebfp \u1ea3nh gia \u0111\u01b0\u1ee3c x\u1ebfp h\u1ea1ng h\xe0ng \u0111\u1ea7u g\u1ea7n b\u1ea1n. \u0110\u1eb7t ch\u1ed7 ph\xf9 h\u1ee3p cho kho\u1ea3nh kh\u1eafc \u0111\u1eb7c bi\u1ec7t c\u1ee7a b\u1ea1n ch\u1ec9 b\u1eb1ng v\xe0i c\xfa nh\u1ea5p chu\u1ed9t \u0111\u01a1n gi\u1ea3n."),y()()()(),m(203,"div",91)(204,"div",92)(205,"div",93),D(206,"i",99),y(),m(207,"h3",95),w(208,"Sheet."),y()(),m(209,"div",96)(210,"div",97),D(211,"p"),y(),m(212,"div",98)(213,"p"),w(214,"H\xe3y th\u01b0 gi\xe3n v\xe0 t\u1eadn h\u01b0\u1edfng kho\u1ea3nh kh\u1eafc khi m\u1ed9t nhi\u1ebfp \u1ea3nh gia gi\xe0u kinh nghi\u1ec7m ch\u1ee5p \u1ea3nh cho b\u1ea1n. H\u1ecd s\u1ebd ch\u0103m s\xf3c t\u1ea5t c\u1ea3 c\xe1c chi ti\u1ebft."),y()()()(),m(215,"div",91)(216,"div",92)(217,"div",93),D(218,"i",100),y(),m(219,"h3",95),w(220,"Enjoy!."),y()(),m(221,"div",96),D(222,"div",97),m(223,"div",98)(224,"p"),w(225," Trong v\xf2ng 2 ng\xe0y l\xe0m vi\u1ec7c k\u1ec3 t\u1eeb ng\xe0y ch\u1ee5p \u1ea3nh, b\u1ea1n s\u1ebd c\xf3 th\u1ec3 xem, t\u1ea3i xu\u1ed1ng v\xe0 chia s\u1ebb. T\u1eadn h\u01b0\u1edfng t\u1ea5t c\u1ea3 m\u1ed9t l\u1ea7n n\u1eefa v\xe0 m\u1ed9t l\u1ea7n n\u1eefa. "),y()()()()()()()(),m(226,"div",101)(227,"div",102)(228,"h4"),w(229,"\u0110\u1eb7t l\u1ecbch ch\u1ee5p t\u1ef1 \u0111\u1ed9ng"),y(),De(230,Tde,2,1,"div",103),m(231,"div",104)(232,"div",105)(233,"label",106),w(234,"Ng\xe0y ch\u1ee5p:"),y(),m(235,"app-date-picker",107),K("selectedDateChange",function(s){return i.onDateChange(s)})("selectedDateChange",function(s){return i.selectedDateU=s}),y()(),m(236,"div",108)(237,"label",109),w(238,"Th\u1eddi l\u01b0\u1ee3ng (gi\u1edd):"),y(),m(239,"app-custom-select",110),K("selectedOptionChange",function(s){return i.onOptionTLChange(s)})("selectedOptionChange",function(s){return i.selectedOptionTL=s}),m(240,"option",111),w(241,"1 gi\u1edd"),y(),m(242,"option",112),w(243,"2 gi\u1edd"),y(),m(244,"option",113),w(245,"3 gi\u1edd"),y(),m(246,"option",114),w(247,"4 gi\u1edd"),y(),m(248,"option",115),w(249,"5 gi\u1edd"),y(),m(250,"option",116),w(251,"6 gi\u1edd"),y(),m(252,"option",117),w(253,"7 gi\u1edd"),y(),m(254,"option",118),w(255,"8 gi\u1edd"),y()()(),m(256,"div",119)(257,"label",120),w(258,"Gi\u1edd h\u1eb9n:"),y(),m(259,"input",121),K("ngModelChange",function(s){return i.setTimeVal=s}),y()(),m(260,"div",122)(261,"label",109),w(262,"Lo\u1ea1i ch\u1ee5p"),y(),m(263,"app-custom-select",110),K("selectedOptionChange",function(s){return i.onOptionTypeChange(s)})("selectedOptionChange",function(s){return i.selectedOptionType=s}),m(264,"option",123),w(265,"Ch\u1ee5p s\u1ea3n ph\u1ea9m"),y(),m(266,"option",124),w(267,"Ch\u1ee5p ch\xe2n dung"),y(),m(268,"option",125),w(269,"Ch\u1ee5p c\u1ea3nh"),y()()(),m(270,"a",126),K("click",function(){return i.onSubmit()}),w(271,"\u0110\u1eb7t l\u1ecbch"),y(),D(272,"div",50),m(273,"p",127),w(274,"300.000 "),m(275,"span"),w(276,"1 ti\u1ebfng"),y()(),D(277,"div",50),m(278,"span",128),D(279,"i",129),w(280," 15 \u1ea3nh c\xf3 \u0111\u1ed9 ph\xe2n gi\u1ea3i cao \u1edf \u0111\u1ecbnh d\u1ea1ng JPEG "),y(),m(281,"span",128),D(282,"i",129),w(283," \u0110\xe3 ch\u1ec9nh s\u1eeda v\xe0 ch\u1ec9nh m\xe0u "),y(),m(284,"span",128),D(285,"i",129),w(286," Giao h\xe0ng sau 2 ng\xe0y l\xe0m vi\u1ec7c "),y()()(),m(287,"div",130),K("click",function(){return i.hideOrder()}),D(288,"i",131),y()(),m(289,"div",132),K("click",function(){return i.showOrder()}),D(290,"i",75),y(),m(291,"div",133)(292,"div",134)(293,"div",135)(294,"div",136)(295,"h2"),w(296),y(),D(297,"div",50),y(),m(298,"div",137)(299,"div",138)(300,"div",139),De(301,Ade,4,1,"div",140),De(302,Dde,4,1,"div",140),y()()(),m(303,"div",141)(304,"div",142)(305,"input",143),K("change",function(s){return i.onFileInputChange(s)}),y(),m(306,"a",144),K("click",function(){return i.triggerFileInput()}),w(307,"Ta\u0309i l\xean"),y()(),m(308,"div",145)(309,"a",146),K("click",function(){return i.submitRepair()}),w(310,"C\xe2\u0323p nh\xe2\u0323t"),y()()(),m(311,"a",147),K("click",function(){return i.closeAsk()}),D(312,"i",131),y()()()(),m(313,"div",148)(314,"div",149)(315,"div",150)(316,"div",151)(317,"h2"),w(318,"Th\xeam m\u1edbi"),y(),D(319,"div",50),y(),m(320,"div",152)(321,"div",153)(322,"label",154),w(323,"T\xean"),y(),m(324,"input",155),K("ngModelChange",function(s){return i.portfo_name=s}),y()(),m(325,"div",156)(326,"div",157)(327,"label",158),w(328,"\u1ea2nh"),y(),m(329,"input",159),K("change",function(s){return i.previewImages(s)}),y()(),m(330,"div",160),De(331,Sde,5,1,"div",161),y()(),m(332,"div",162)(333,"div",163),K("click",function(){return i.addNewPortfo()}),m(334,"a",164),w(335,"Up"),y()()()(),m(336,"a",165),K("click",function(){return i.closeNewPortfo()}),D(337,"i",131),y()()()()()),2&r&&(S(27),gs("src",null==i.userData||null==i.userData.user?null:i.userData.user.avatar,Dr),S(4),At(" ",i.nameText," "),S(4),At(" ",i.addressText," "),S(11),He(i.expText),S(1),J("ngClass",i.isShowForMeEdit?"show":""),S(2),J("ngModel",i.nameText),S(1),J("ngModel",i.addressText),S(1),J("ngModel",i.expText),S(26),At(" ",i.desText," "),S(5),At(" ",i.prizeText," "),S(5),At(" ",i.interestText," "),S(3),J("ngClass",i.isShowIcEdit?"show":""),S(2),J("ngModel",i.desText),S(1),At("                                ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.description,"\n                            "),S(4),J("ngModel",i.prizeText),S(1),At("                                ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.prize,"\n                            "),S(4),J("ngModel",i.interestText),S(1),At("                                ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.interest,"\n                            "),S(17),At(" ",i.languageText," "),S(7),At(" ",i.cameraText," "),S(3),J("ngClass",i.isShowFeEdit?"show":""),S(9),J("ngModel",i.languageText),S(1),At("                                ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.language,"\n                            "),S(6),J("ngModel",i.cameraText),S(1),At("                                ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.camera,"\n                            "),S(14),J("ngForOf",null==i.decesData?null:i.decesData.category),S(65),J("ngClass",i.isShowOrder?"show":""),S(4),J("ngIf",i.isError),S(5),J("selectedDate",i.selectedDateU)("textDefault","Ng\xe0y"),S(4),J("selectedOption",i.selectedOptionTL)("textDefault","Th\u1eddi l\u01b0\u1ee3ng"),S(20),J("ngModel",i.setTimeVal),S(4),J("selectedOption",i.selectedOptionType)("textDefault","Ch\u1ecdn lo\u1ea1i ch\u1ee5p"),S(26),J("ngClass",i.isShowOrder?"hide":""),S(2),J("ngClass",i.isShowAskRepair?"active":""),S(5),He(i.modalName),S(5),J("ngForOf",i.modalImagesRepair),S(1),J("ngForOf",i.imageData),S(11),J("ngClass",i.isShowAddPortfo?"active":""),S(11),J("ngModel",i.portfo_name),S(7),J("ngForOf",i.imagePreviews))},dependencies:[Cs,Zo,wo,W0,q0,hl,qu,Em,_l,$T,HT],styles:['@charset "UTF-8";.forMe-wrapper[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:5rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:3rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   .avatar-image[_ngcontent-%COMP%]{height:130px;width:130px;object-fit:cover;border-radius:50%}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]{width:100%;position:relative}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-name[_ngcontent-%COMP%]{width:100%;position:relative;display:flex;justify-content:flex-start;align-items:center;column-gap:2rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-name[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:2px 0;color:var(--color-primary);font-weight:700;font-size:28px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-name[_ngcontent-%COMP%]   .btn-edit-forMe[_ngcontent-%COMP%]{cursor:pointer;width:28px;height:28px;font-size:28px;display:flex;justify-content:center;align-items:center}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-address[_ngcontent-%COMP%]{margin:4px 0;font-size:15px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-rate[_ngcontent-%COMP%]{margin:.5rem 0;display:flex;justify-content:flex-start;column-gap:.75rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:16px;width:16px;object-fit:cover}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-rate[_ngcontent-%COMP%]   .rate-text[_ngcontent-%COMP%]{font-size:15px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-exp[_ngcontent-%COMP%]{margin:4px 0}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .forMe-edit[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#e8e8e8;border-radius:.3rem;overflow-y:auto;padding:1rem 2rem;display:none}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .forMe-edit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-top:1em;width:100%;height:40px;border:none;outline:none;border-radius:.3rem;background-color:#ddd;padding:5px 10px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .forMe-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]{position:sticky;right:0;bottom:0rem;display:flex;justify-content:flex-end;column-gap:.5rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .forMe-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{line-height:35px;color:var(--color-light);padding:0 15px;background-color:var(--color-primary);text-decoration:none;border-radius:.3rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .forMe-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background-color:#b8b8b8;color:#000}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .forMe-edit.show[_ngcontent-%COMP%]{display:block}.infor-title-list[_ngcontent-%COMP%]{padding-left:2rem}.infor-title-list[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:4rem;flex-wrap:wrap;row-gap:2rem}.infor-title-list[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]   .it-item[_ngcontent-%COMP%]{list-style:none;display:inline}.infor-title-list[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]   .it-item[_ngcontent-%COMP%]   .it-link[_ngcontent-%COMP%]{text-decoration:none;display:block;font-weight:700;color:var(--color-primary);font-size:20px;text-wrap:nowrap}.infor-content-list[_ngcontent-%COMP%]{padding-top:1.5rem;padding-left:2rem;position:relative}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .prize[_ngcontent-%COMP%]   .prize-title[_ngcontent-%COMP%]{color:var(--color-primary);font-size:20px;font-weight:700}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .interest[_ngcontent-%COMP%]   .interest-title[_ngcontent-%COMP%]{font-weight:700;font-size:20px;color:var(--color-primary)}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .btn-ic-edit[_ngcontent-%COMP%]{cursor:pointer;width:100%;display:flex;justify-content:center;font-size:28px}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .ic-edit[_ngcontent-%COMP%]{display:none;position:absolute;top:0;left:0;width:100%;height:100%;background-color:#e8e8e8;border-radius:.5rem;padding:1.5rem 2rem}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .ic-edit[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin-top:1em;width:100%;height:80px;border:none;outline:none;border-radius:.3rem;background-color:#ddd;padding:5px 10px}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .ic-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]{position:sticky;right:0;bottom:0;display:flex;justify-content:flex-end;column-gap:.5rem}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .ic-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{line-height:35px;color:var(--color-light);padding:0 15px;background-color:var(--color-primary);text-decoration:none;border-radius:.3rem}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .ic-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background-color:#b8b8b8;color:#000}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .ic-edit.show[_ngcontent-%COMP%]{display:block}.feature-wrapper[_ngcontent-%COMP%]{padding-left:2rem;padding-top:.5rem;position:relative}.feature-wrapper[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:700;font-size:20px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]{position:relative}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   .language-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   .language-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   .language-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:var(--color-primary);font-weight:700}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-left:3rem;font-size:18px;margin-top:0}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   .camera-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   .camera-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   .camera-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:var(--color-primary);font-weight:700}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:0;padding-left:3rem;font-size:18px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .btn-feature-edit[_ngcontent-%COMP%]{cursor:pointer;width:100%;display:flex;justify-content:center;font-size:28px}.feature-wrapper[_ngcontent-%COMP%]   .feature-edit[_ngcontent-%COMP%]{display:none;position:absolute;top:0;left:0;width:100%;height:100%;background-color:#e8e8e8;border-radius:.5rem;padding:.5rem 2rem;overflow-y:auto}.feature-wrapper[_ngcontent-%COMP%]   .feature-edit[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin-top:1em;width:100%;height:80px;border:none;outline:none;border-radius:.3rem;background-color:#ddd;padding:5px 10px}.feature-wrapper[_ngcontent-%COMP%]   .feature-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]{position:sticky;right:0;bottom:1rem;display:flex;justify-content:flex-end;column-gap:.5rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{line-height:35px;color:var(--color-light);padding:0 15px;background-color:var(--color-primary);text-decoration:none;border-radius:.3rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background-color:#b8b8b8;color:#000}.feature-wrapper[_ngcontent-%COMP%]   .feature-edit.show[_ngcontent-%COMP%]{display:block}.portfolio[_ngcontent-%COMP%]{padding-left:2rem;padding-right:25%;padding-top:.5rem}.portfolio[_ngcontent-%COMP%]   .portfolio-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:2rem;align-items:center}.portfolio[_ngcontent-%COMP%]   .portfolio-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;color:var(--color-warning)}.portfolio[_ngcontent-%COMP%]   .portfolio-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:25px;display:flex;justify-content:center;align-items:center;text-decoration:none;color:var(--color-text-body)}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-auto-rows:1fr;gap:2rem}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-text-body);text-decoration:none}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   .portfolio-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:250px;object-fit:cover}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   .it-footer[_ngcontent-%COMP%]{position:relative}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   .it-footer[_ngcontent-%COMP%]   .it-cate[_ngcontent-%COMP%]{font-size:20px;margin-bottom:10px}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   .it-footer[_ngcontent-%COMP%]   .btn-portfolio-edit[_ngcontent-%COMP%]{cursor:pointer;width:100%;display:flex;justify-content:flex-end;font-size:28px;position:absolute;right:1.5rem;top:50%;transform:translateY(-50%);z-index:1}.appraise[_ngcontent-%COMP%]{padding-left:2rem;padding-top:.5rem}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--color-warning);font-weight:700}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;column-gap:.5rem}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:15px;width:15px;object-fit:cover}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   .rate-text[_ngcontent-%COMP%]{font-weight:700}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:.75rem}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]   .header-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;object-fit:cover}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]   .header-name[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:700}.how-it-works[_ngcontent-%COMP%]{padding-left:1.5rem;padding-top:.5rem}.how-it-works[_ngcontent-%COMP%]   .hiw-title[_ngcontent-%COMP%]{color:var(--color-warning);font-weight:700}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;flex-direction:column}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{font-size:30px;color:var(--color-primary)}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]   .title-text[_ngcontent-%COMP%]{margin:8px 0;font-size:20px;font-weight:700;color:var(--color-primary)}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:2rem;align-items:center;height:100%}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .content-deliver[_ngcontent-%COMP%]{display:flex;justify-content:center;height:auto;width:3px;margin-left:12px;background-color:var(--color-primary)}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .content-deliver[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;height:100%}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .content-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 400px 0 4rem}.content-wrapper[_ngcontent-%COMP%]   .info-wrapper[_ngcontent-%COMP%]   .deliver-line[_ngcontent-%COMP%]{height:2px;width:100%;margin:1.5rem 0;background-color:var(--color-primary)}.order-wrapper[_ngcontent-%COMP%]{background-color:var(--color-bg-body);position:fixed;top:100px;right:50px;border-radius:.3rem;box-shadow:0 2px 5px #0003;z-index:600}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]{width:300px;min-height:500px;max-height:calc(100vh - 100px);padding:20px;overflow-y:auto}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--color-light)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--color-secondary);border-radius:4px;border:2px solid var(--color-light)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;color:#333;font-size:20px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .mess-valid[_ngcontent-%COMP%]{font-size:14px;color:red}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .filter-date-picker[_ngcontent-%COMP%]{z-index:999}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;margin-top:.5rem}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%], .order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   input[type=time][_ngcontent-%COMP%], .order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:4px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:10px 15px;border:none;border-radius:4px;text-decoration:none;margin-top:1rem;text-align:center}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#0056b3}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .deliver-line[_ngcontent-%COMP%]{height:2px;width:100%;margin:1rem 0;background-color:var(--color-secondary)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .p-footer[_ngcontent-%COMP%]{color:var(--color-warning);font-weight:700;margin:0;padding-left:.5rem}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .p-footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--color-text-body)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .sug-foot[_ngcontent-%COMP%]{font-size:13px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .sug-foot[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--color-warning);font-size:18px}.order-wrapper[_ngcontent-%COMP%]   .btn-close-order[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-8px;font-size:30px;color:#000;cursor:pointer;height:30px;width:30px;border-radius:50%;background-color:var(--color-secondary);display:none}.toggle-order-wrapper[_ngcontent-%COMP%]{position:fixed;bottom:5rem;right:1rem;width:40px;height:40px;background-color:var(--color-primary);z-index:999;display:none;font-size:30px;border-radius:50%;padding-top:3.5px;padding-left:5px;color:var(--color-light)}.ask-repair-wrapper[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;z-index:999}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]{width:100%;height:100vh;padding-top:100px;display:flex;justify-content:center;align-items:center;position:relative}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]{height:80%;width:90%;margin:auto;background-color:var(--color-light);position:absolute;transform:translateY(-200%);padding:0 1rem}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-title[_ngcontent-%COMP%]{height:100px}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .deliver-line[_ngcontent-%COMP%]{height:2px;width:100%;margin:1.5rem 0;background-color:var(--color-primary)}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]{max-height:calc(100% - 150px);overflow-y:auto;padding-top:1rem}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-picture[_ngcontent-%COMP%]{height:100%;padding-right:1rem}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]{height:100%;display:grid;grid-template-columns:repeat(4,1fr);gap:1rem}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-item[_ngcontent-%COMP%]{grid-column:span 1;width:100%;position:relative}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-item[_ngcontent-%COMP%]   .btn-del-image[_ngcontent-%COMP%]{position:absolute;top:-.4rem;right:-.3rem;font-size:22px;width:22px;height:22px;display:flex;justify-content:center;align-items:center;border-radius:50%;background-color:var(--color-secondary);text-decoration:none;color:#000;padding-top:1px}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-item.hide[_ngcontent-%COMP%]{display:none}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .ask-repair-button[_ngcontent-%COMP%]{position:absolute;bottom:1.5rem;right:1.5rem;color:#000;border-radius:50%;display:flex;justify-content:center;align-items:center;column-gap:1rem}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .ask-repair-button[_ngcontent-%COMP%]   .rs-left[_ngcontent-%COMP%]{border-radius:.35rem;background-color:var(--color-warning);display:flex;justify-content:center;align-items:center;padding:5px 8px}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .ask-repair-button[_ngcontent-%COMP%]   .rs-left[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--color-light)}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .ask-repair-button[_ngcontent-%COMP%]   .rs-right[_ngcontent-%COMP%]{border-radius:.35rem;background-color:var(--color-primary);display:flex;justify-content:center;align-items:center;padding:5px 8px}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .ask-repair-button[_ngcontent-%COMP%]   .rs-right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--color-light)}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .btn-close-ask[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;color:#000;font-weight:700;font-size:28px;width:25px;height:25px;border-radius:50%;display:flex;justify-content:center;align-items:center;text-decoration:none}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .btn-close-ask[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary);color:#000;transform:rotate(35deg)}.ask-repair-wrapper.active[_ngcontent-%COMP%]{display:block}.ask-repair-wrapper.active[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]{transform:translateY(0)}.add-new-portfo[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;z-index:999}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]{width:100%;height:100vh;padding-top:100px;display:flex;justify-content:center;align-items:center;position:relative}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]{height:80%;width:90%;margin:auto;background-color:var(--color-light);position:absolute;transform:translateY(-200%);padding:0 1rem;border:1px solid #ddd;border-radius:5px;display:flex;flex-direction:column;gap:20px}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-title[_ngcontent-%COMP%]{text-align:center;font-size:24px;height:100px}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .deliver-line[_ngcontent-%COMP%]{width:100%;height:2px;background-color:#333;margin:10px 0}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]{max-height:calc(100% - 150px);overflow-y:auto;padding-top:1rem;display:flex;flex-direction:column;gap:20px}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .name-wapper[_ngcontent-%COMP%]{display:flex}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .name-wapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-right:1rem}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .name-wapper[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:5px;border:1px solid #ccc;border-radius:3px}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   .upload-control[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-right:1rem}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   .upload-control[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{padding:5px;border:1px solid #ccc;border-radius:3px}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   .list-preview[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;gap:10px}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   .list-preview[_ngcontent-%COMP%]   .preview-item[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]{position:relative}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   .list-preview[_ngcontent-%COMP%]   .preview-item[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:200px;object-fit:cover}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   .list-preview[_ngcontent-%COMP%]   .preview-item[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .item-close[_ngcontent-%COMP%]{position:absolute;top:-.4rem;right:-.3rem;font-size:22px;width:22px;height:22px;display:flex;justify-content:center;align-items:center;border-radius:50%;background-color:var(--color-secondary);text-decoration:none;color:#000;padding-top:1px}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .submit-portfo-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .submit-portfo-wrapper[_ngcontent-%COMP%]   .btn-add-portfo[_ngcontent-%COMP%]{border-radius:.35rem;background-color:var(--color-primary);display:flex;justify-content:center;align-items:center;padding:10px 25px;margin-top:2rem;cursor:pointer}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .submit-portfo-wrapper[_ngcontent-%COMP%]   .btn-add-portfo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--color-light)}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .btn-close-newPortfo[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;color:#000;font-weight:700;font-size:28px;width:25px;height:25px;border-radius:50%;display:flex;justify-content:center;align-items:center;text-decoration:none}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .btn-close-newPortfo[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary);color:#000;transform:rotate(35deg)}.add-new-portfo.active[_ngcontent-%COMP%]{display:block!important}.add-new-portfo.active[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]{transform:translateY(0)}.profile-content[_ngcontent-%COMP%]{position:relative;margin-top:6rem}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(9,1fr);column-gap:.3rem;height:500px}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall2[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall4[_ngcontent-%COMP%]{grid-column:span 2;height:500px}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall4[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:.3rem}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-2[_ngcontent-%COMP%]{height:calc(250px - .15rem)}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-2[_ngcontent-%COMP%]{height:calc(250px - .15rem)}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-2[_ngcontent-%COMP%]{height:calc(250px - .15rem)}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}@media (max-width: 1200px){.picture-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)!important}}@media (max-width: 991.98px){.order-wrapper[_ngcontent-%COMP%]{display:none}.order-wrapper.show[_ngcontent-%COMP%]{display:block}.toggle-order-wrapper[_ngcontent-%COMP%]{display:block!important}.toggle-order-wrapper.hide[_ngcontent-%COMP%]{display:none!important}.btn-close-order[_ngcontent-%COMP%]{display:block!important}.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 2rem 0!important}.profile-content[_ngcontent-%COMP%]   .ic-edit[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .feature-edit[_ngcontent-%COMP%]{padding-right:0!important}.picture-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 767.98px){.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 2rem 0!important}.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]{flex-direction:column;row-gap:2rem}.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .info-wrapper[_ngcontent-%COMP%]   .portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}@media (max-width: 575.98px){.picture-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}}']}),e})();const xde=[{path:"",component:w4,title:"Home"},{path:"home",component:w4,title:"Home"}],kde=[{path:"",component:P4,title:"Collection"},{path:"all",component:P4,title:"Collection"}],Nde=[{path:"login",component:Nce,title:"Login"},{path:"register",component:lde,title:"Register"}],Fde=[{path:"",component:w9,title:"User"},{path:"all",component:w9,title:"User"}],Lde=[{path:"",component:Rde,title:"Partner | Profile"}],Vde=[{path:"",component:P9,title:"Admin | Home"},{path:"home",component:P9,title:"Admin | Home"},{path:"order",component:hde,title:"Admin | Order List"},{path:"order-accept",component:fde,title:"Admin | Order Accept"}];let cP=(()=>{var t;class e{constructor(){this.eventMap={}}registerEvent(r){return this.eventMap[r]||(this.eventMap[r]=new U(null)),this.eventMap[r].asObservable()}emitEvent(r,i){this.eventMap[r]&&this.eventMap[r].next(i)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Ude=["iconToggle"],Bde=["headerContentMobile"],jde=["inputSearchMobile"],$de=["menuDropdown"],Hde=["menuDropdown1"],zde=["itemDropdown"],Gde=["itemDropdown1"];function Wde(t,e){1&t&&(m(0,"div",59)(1,"p"),w(2,"H\xe0 N\u1ed9i"),y(),m(3,"p"),w(4,"H\u1ed3 Ch\xed Minh"),y(),m(5,"p"),w(6,"Ch\xe2n dung"),y(),m(7,"p"),w(8,"S\u1ef1 ki\u1ec7n"),y()())}function qde(t,e){if(1&t){const n=Ni();m(0,"div",64)(1,"a",65),w(2,"Profile"),y(),m(3,"a",66),K("click",function(){return cr(n),Un(Qt(2).logout())}),w(4,"\u0110\u0103ng xu\u1ea5t"),y()()}}function Kde(t,e){if(1&t){const n=Ni();zh(0),m(1,"li",60),K("click",function(){return cr(n),Un(Qt().toggleDropdownLo())}),m(2,"div",61),D(3,"img",62),y(),De(4,qde,5,0,"div",63),y(),Gh()}if(2&t){const n=Qt();S(4),J("ngIf",n.showDropdown)}}function Zde(t,e){1&t&&(m(0,"li",67)(1,"a",68),w(2,"\u1ea2nh c\u1ee7a t\xf4i"),y()(),m(3,"li",67)(4,"a",69),w(5,"\u0110\u0103ng nh\u1eadp"),y()(),m(6,"li",67)(7,"a",70),w(8,"\u0110\u0103ng k\xfd"),y()())}function Yde(t,e){1&t&&(m(0,"div",71)(1,"p"),w(2,"H\xe0 N\u1ed9i"),y(),m(3,"p"),w(4,"H\u1ed3 Ch\xed Minh"),y(),m(5,"p"),w(6,"Ch\xe2n dung"),y(),m(7,"p"),w(8,"S\u1ef1 ki\u1ec7n"),y()())}function Qde(t,e){1&t&&D(0,"i",72)}function Xde(t,e){1&t&&D(0,"i",73)}function Jde(t,e){1&t&&D(0,"i",72)}function ehe(t,e){1&t&&D(0,"i",73)}const Rm=function(t){return{show:t}},O9=function(t){return{active:t}};let zT=(()=>{var t;class e{constructor(r){this.eventService=r,this.isMenuVisible=!1,this.isSearchMobileVisible=!1,this.isDropdownVisible=!1,this.isDropdown1Visible=!1,this.inputSearchMobileValue="",this.inputSearchValue="",this.toggleSuggestMobile=!1,this.toggleSuggest=!1,this.loggedIn=!1,this.showDropdown=!1}showMenu(){this.isMenuVisible=!0}hideMenu(){this.isMenuVisible=!1}showSearchMobile(){this.isSearchMobileVisible=!0,this.isSearchMobileVisible&&setTimeout(()=>{this.inputSearchMobile.nativeElement.focus()})}hideSearchMobile(){this.isSearchMobileVisible=!1,this.toggleSuggestMobile=!1,this.inputSearchMobileValue=""}toggleDropdown(){this.isDropdownVisible=!this.isDropdownVisible}toggleDropdown1(){this.isDropdown1Visible=!this.isDropdown1Visible}onChangeInputSearchMobile(r){this.inputSearchMobileValue=r.target.value,this.toggleSuggestMobile=""!==this.inputSearchMobileValue.trim()}onChangeInputSearch(r){this.inputSearchValue=r.target.value,this.toggleSuggest=""!==this.inputSearchValue.trim()}closeDropdown(r){!this.headerContentMobile.nativeElement.contains(r.target)&&!this.iconToggle.nativeElement.contains(r.target)&&this.isMenuVisible&&(this.isMenuVisible=!1),!this.menuDropdown.nativeElement.contains(r.target)&&!this.itemDropdown.nativeElement.contains(r.target)&&this.isDropdownVisible&&(this.isDropdownVisible=!1),!this.menuDropdown1.nativeElement.contains(r.target)&&!this.itemDropdown1.nativeElement.contains(r.target)&&this.isDropdown1Visible&&(this.isDropdown1Visible=!1)}toggleDropdownLo(){this.showDropdown=!this.showDropdown}logout(){this.loggedIn=!1}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(cP))},t.\u0275cmp=kt({type:t,selectors:[["app-header"]],viewQuery:function(r,i){if(1&r&&(Xn(Ude,5),Xn(Bde,5),Xn(jde,5),Xn($de,5),Xn(Hde,5),Xn(zde,5),Xn(Gde,5)),2&r){let o;jn(o=$n())&&(i.iconToggle=o.first),jn(o=$n())&&(i.headerContentMobile=o.first),jn(o=$n())&&(i.inputSearchMobile=o.first),jn(o=$n())&&(i.menuDropdown=o.first),jn(o=$n())&&(i.menuDropdown1=o.first),jn(o=$n())&&(i.itemDropdown=o.first),jn(o=$n())&&(i.itemDropdown1=o.first)}},hostBindings:function(r,i){1&r&&K("mousedown",function(s){return i.closeDropdown(s)},0,Ou)},decls:103,vars:31,consts:[[1,"layout-header"],[1,"header-container"],[1,"header-content"],[1,"brand"],[1,"brand-logo"],["routerLink","/home"],["src","./assets/images/logoo.png","alt","",1,"brand-image"],[1,"search-bar"],[1,"search-container"],[1,"search-content"],["id","search-input","type","text","placeholder","D\u1ecbch v\u1ee5 b\u1ea1n \u0111ang t\xecm ki\u1ebfm ?",3,"ngModel","ngModelChange","input"],["inputSearch",""],["id","search-icon","href","javascript:void(0)"],[1,"bx","bx-search"],["class","search-suggest",4,"ngIf"],[1,"header-content-right"],[4,"ngIf","ngIfElse"],["notLoggedInBlock",""],[1,"icon-toggle-bar"],["href","javascript:void(0)",1,"toggle-search",3,"click"],["href","javascript:void(0)",1,"toggle-menu",3,"click"],["iconToggle",""],[1,"bx","bx-menu"],[1,"search-mobile",3,"ngClass"],[1,"search-bar-mobile"],["type","text","name","","id","","placeholder","D\u1ecbch v\u1ee5 b\u1ea1n \u0111ang t\xecm ki\u1ebfm ?",1,"search-input-mobile",3,"ngModel","ngModelChange","input"],["inputSearchMobile",""],["href","javascript:void(0)",1,"search-iconClose-mobile",3,"click"],[1,"bx","bx-x"],["class","search-suggest-mobile",4,"ngIf"],[1,"header-content-mobile",3,"ngClass"],["headerContentMobile",""],[1,"header-mobile-inner"],[1,"brand-mobile"],[1,"brand-logo-mobile"],["src","./assets/images/logoo.png","alt","",1,"brand-image-mobile"],[1,"menu-container-mobile"],[1,"menu-item",3,"ngClass"],["itemDropdown",""],["href","javascript:void(0)",1,"menu-link",3,"click"],["class","bx bx-collapse-vertical",4,"ngIf"],["class","bx bx-expand-vertical",4,"ngIf"],[1,"menu-dropdown",3,"ngClass"],["menuDropdown",""],[1,"menu-dropdown-item"],["routerLink","/collection",1,"menu-dropdown-link"],["itemDropdown1",""],["menuDropdown1",""],[1,"menu-item"],["routerLink","/collection",1,"menu-link"],[1,"control-mobile"],[1,"control-item","item-col"],["routerLink","/refund-picture",1,"control-link"],[1,"control-item"],["routerLink","/auth/login",1,"control-link"],["routerLink","/auth/register",1,"control-link"],[1,"close-menu"],["href","javascript:void(0)",1,"close-menu-icon",3,"click"],[1,"header-overlay",3,"ngClass"],[1,"search-suggest"],[1,"cright-item",3,"click"],[1,"avatar"],["src","link_to_user_image.jpg","alt","Avatar"],["class","dropdown-menu",4,"ngIf"],[1,"dropdown-menu"],[1,"dropdown-item"],[1,"dropdown-item",3,"click"],[1,"cright-item"],["routerLink","/refund-picture",1,"cright-link"],["routerLink","/auth/login",1,"cright-link"],["routerLink","/auth/register",1,"cright-link"],[1,"search-suggest-mobile"],[1,"bx","bx-collapse-vertical"],[1,"bx","bx-expand-vertical"]],template:function(r,i){if(1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5),D(6,"img",6),y()()(),m(7,"div",7)(8,"div",8)(9,"div",9)(10,"input",10,11),K("ngModelChange",function(s){return i.inputSearchValue=s})("input",function(s){return i.onChangeInputSearch(s)}),y(),m(12,"a",12),D(13,"i",13),y()(),De(14,Wde,9,0,"div",14),y()(),m(15,"div",15),De(16,Kde,5,1,"ng-container",16),De(17,Zde,9,0,"ng-template",null,17,CV),y(),m(19,"div",18)(20,"a",19),K("click",function(){return i.showSearchMobile()}),D(21,"i",13),y(),m(22,"a",20,21),K("click",function(){return i.showMenu()}),D(24,"i",22),y()(),m(25,"div",23)(26,"div",24)(27,"input",25,26),K("ngModelChange",function(s){return i.inputSearchMobileValue=s})("input",function(s){return i.onChangeInputSearchMobile(s)}),y(),m(29,"a",27),K("click",function(){return i.hideSearchMobile()}),D(30,"i",28),y()(),De(31,Yde,9,0,"div",29),y()(),m(32,"div",30,31)(34,"div",32)(35,"div",33)(36,"div",34)(37,"a",5),D(38,"img",35),y()()(),m(39,"div",36)(40,"li",37,38)(42,"a",39),K("click",function(){return i.toggleDropdown()}),w(43,"Du l\u1ecbch "),De(44,Qde,1,0,"i",40),De(45,Xde,1,0,"i",41),y(),m(46,"ul",42,43)(48,"li",44)(49,"a",45),w(50,"Ch\xe2n dung"),y()(),m(51,"li",44)(52,"a",45),w(53,"Phong c\u1ea3nh"),y()(),m(54,"li",44)(55,"a",45),w(56,"\u0110\u01b0\u1eddng ph\u1ed1"),y()(),m(57,"li",44)(58,"a",45),w(59,"Th\u1ec3 thao"),y()(),m(60,"li",44)(61,"a",45),w(62,"K\u1ef7 y\u1ebfu"),y()()()(),m(63,"li",37,46)(65,"a",39),K("click",function(){return i.toggleDropdown1()}),w(66,"Lookbook "),De(67,Jde,1,0,"i",40),De(68,ehe,1,0,"i",41),y(),m(69,"ul",42,47)(71,"li",44)(72,"a",45),w(73,"Th\u1eddi trang"),y()(),m(74,"li",44)(75,"a",45),w(76,"Ph\u1ee5 ki\u1ec7n"),y()(),m(77,"li",44)(78,"a",45),w(79,"M\u1ef9 ph\u1ea9m"),y()(),m(80,"li",44)(81,"a",45),w(82,"Th\u1ef1c ph\u1ea9m"),y()()()(),m(83,"li",48)(84,"a",49),w(85,"Catalogue"),y()(),m(86,"li",48)(87,"a",49),w(88,"Kh\xe1c"),y()()(),m(89,"div",50)(90,"li",51)(91,"a",52),w(92,"\u1ea2nh c\u1ee7a t\xf4i"),y()(),m(93,"li",53)(94,"a",54),w(95," \u0110\u0103ng nh\u1eadp "),y()(),m(96,"li",53)(97,"a",55),w(98," \u0110\u0103ng k\xfd "),y()()(),m(99,"div",56)(100,"a",57),K("click",function(){return i.hideMenu()}),D(101,"i",28),y()()()()(),D(102,"div",58),y()),2&r){const o=function mF(t){return function Ta(t,e){return t[e]}(function xM(){return je.lFrame.contextLView}(),ut+t)}(18);S(10),J("ngModel",i.inputSearchValue),S(4),J("ngIf",i.toggleSuggest),S(2),J("ngIf",i.loggedIn)("ngIfElse",o),S(9),J("ngClass",yo(17,Rm,i.isSearchMobileVisible)),S(2),J("ngModel",i.inputSearchMobileValue),S(4),J("ngIf",i.toggleSuggestMobile),S(1),J("ngClass",yo(19,Rm,i.isMenuVisible)),S(8),J("ngClass",yo(21,O9,i.isDropdownVisible)),S(4),J("ngIf",!i.isDropdownVisible),S(1),J("ngIf",i.isDropdownVisible),S(1),J("ngClass",yo(23,Rm,i.isDropdownVisible)),S(17),J("ngClass",yo(25,O9,i.isDropdown1Visible)),S(4),J("ngIf",!i.isDropdown1Visible),S(1),J("ngIf",i.isDropdown1Visible),S(1),J("ngClass",yo(27,Rm,i.isDropdown1Visible)),S(33),J("ngClass",yo(29,Rm,i.isMenuVisible))}},dependencies:[Cs,wo,pi,hl,qu,_l],styles:['.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;position:relative}.header-content[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%]{display:flex;align-items:center}.header-content[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%]   .brand-image[_ngcontent-%COMP%]{width:5.5rem;height:5.5rem;margin-left:1.5rem;margin-right:1.5rem}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{width:100%;margin:0 2rem}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{position:relative;width:100%;display:flex;justify-content:center}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]{width:100%;height:3rem;position:relative;display:flex;justify-content:center}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   #search-input[_ngcontent-%COMP%]{width:100%;height:100%;border:0;outline:none;background-color:#f0f0f0;border-radius:.3rem;color:var(--color-text-body);padding-left:1.25rem;padding-right:2.75rem}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   #search-input[_ngcontent-%COMP%]::placeholder{color:var(--color-text-body)}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   #search-icon[_ngcontent-%COMP%]{position:absolute;right:1rem;top:50%;transform:translateY(-50%);color:var(--color-text-body);display:flex;justify-content:center;align-items:center;text-decoration:none;font-weight:700;font-size:26px;border-radius:.3rem;padding-top:2px}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-suggest[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 1.5rem - 1.5px);left:0;background-color:var(--color-bg-body);width:100%;min-height:250px;border-radius:.5rem;box-shadow:0 2px 5px #0003;padding:20px}.header-content[_ngcontent-%COMP%]   .header-content-right[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end}.header-content[_ngcontent-%COMP%]   .header-content-right[_ngcontent-%COMP%]   .cright-item[_ngcontent-%COMP%]{text-wrap:nowrap;list-style:none;padding:0 1rem}.header-content[_ngcontent-%COMP%]   .header-content-right[_ngcontent-%COMP%]   .cright-item[_ngcontent-%COMP%]   .cright-link[_ngcontent-%COMP%]{position:relative;text-decoration:none;color:var(--color-text-body);font-size:18px}.header-content[_ngcontent-%COMP%]   .header-content-right[_ngcontent-%COMP%]   .cright-item[_ngcontent-%COMP%]   .cright-link[_ngcontent-%COMP%]:hover{font-size:600;color:var(--color-primary)}.header-content[_ngcontent-%COMP%]   .header-content-right[_ngcontent-%COMP%]   .cright-item[_ngcontent-%COMP%]   .cright-link[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:-.3rem;left:0;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.header-content[_ngcontent-%COMP%]   .header-content-right[_ngcontent-%COMP%]   .cright-item[_ngcontent-%COMP%]   .cright-link[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.header-content[_ngcontent-%COMP%]   .icon-toggle-bar[_ngcontent-%COMP%]{padding-right:1.5rem;display:flex}.header-content[_ngcontent-%COMP%]   .icon-toggle-bar[_ngcontent-%COMP%]   .toggle-menu[_ngcontent-%COMP%]{color:var(--color-dark);font-size:32px;text-align:center;text-decoration:none;display:none}.header-content[_ngcontent-%COMP%]   .icon-toggle-bar[_ngcontent-%COMP%]   .toggle-search[_ngcontent-%COMP%]{color:var(--color-dark);font-size:28px;text-align:center;text-decoration:none;display:none;margin-top:.25rem;margin-right:.75rem}.header-content[_ngcontent-%COMP%]   .search-mobile[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0rem;right:0;left:0;background-color:var(--color-light);display:none}.header-content[_ngcontent-%COMP%]   .search-mobile[_ngcontent-%COMP%]   .search-bar-mobile[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;justify-content:center;align-items:center;position:relative;padding:.5rem 0}.header-content[_ngcontent-%COMP%]   .search-mobile[_ngcontent-%COMP%]   .search-bar-mobile[_ngcontent-%COMP%]   .search-input-mobile[_ngcontent-%COMP%]{height:100%;width:100%;border:0;outline:none;background-color:#f0f0f0;color:var(--color-text-body);padding-left:1.25rem}.header-content[_ngcontent-%COMP%]   .search-mobile[_ngcontent-%COMP%]   .search-bar-mobile[_ngcontent-%COMP%]   .search-input-mobile[_ngcontent-%COMP%]::placeholder{color:var(--color-text-body)}.header-content[_ngcontent-%COMP%]   .search-mobile[_ngcontent-%COMP%]   .search-bar-mobile[_ngcontent-%COMP%]   .search-iconClose-mobile[_ngcontent-%COMP%]{height:2.25rem;width:3rem;padding-right:.75rem;color:var(--color-dark);font-size:28px;text-align:center;position:absolute;right:0rem;top:50%;transform:translateY(-50%);display:flex;justify-content:center;align-items:center;text-decoration:none;font-weight:700;background-color:#f0f0f0}.header-content[_ngcontent-%COMP%]   .search-mobile[_ngcontent-%COMP%]   .search-suggest-mobile[_ngcontent-%COMP%]{position:absolute;width:100vw;height:100vh;background-color:var(--color-light);padding:20px}@media (max-width:991.98px){.header-content[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%]   .brand-image[_ngcontent-%COMP%]{width:4rem!important;height:4rem!important;margin-left:1.5rem!important;margin-right:1rem!important}.header-content[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.search-bar, .header-content-right)[_ngcontent-%COMP%]{display:none!important}.header-content[_ngcontent-%COMP%]   .search-mobile.show[_ngcontent-%COMP%]{display:block!important}.header-content[_ngcontent-%COMP%]   .icon-toggle-bar[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.toggle-menu, .toggle-search)[_ngcontent-%COMP%]{display:block!important}}.header-content-mobile[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:16.25rem;height:100vh;background-color:var(--color-bg-body);display:none;padding-bottom:2.5rem;z-index:1080}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .brand-mobile[_ngcontent-%COMP%]{padding-top:.5rem;position:sticky;top:0;left:0;right:0;margin-bottom:1.5rem;background-color:var(--color-bg-body)}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .brand-mobile[_ngcontent-%COMP%]   .brand-logo-mobile[_ngcontent-%COMP%]{display:flex;justify-content:center}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .brand-mobile[_ngcontent-%COMP%]   .brand-logo-mobile[_ngcontent-%COMP%]   .brand-image-mobile[_ngcontent-%COMP%]{width:5rem;height:5rem;object-fit:cover}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]{margin-bottom:2rem;min-height:calc(100vh - 17.5rem)}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{display:block;list-style:none}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]{padding-left:1.5rem;line-height:2.5rem;width:100%;display:flex;justify-content:space-between;align-items:center;column-gap:.5rem;text-decoration:none;color:var(--color-primary);font-size:18px;padding-right:1.5rem}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]{display:none;margin:0;padding:0}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-item[_ngcontent-%COMP%]{list-style:none}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-item[_ngcontent-%COMP%]   .menu-dropdown-link[_ngcontent-%COMP%]{padding-left:2.25rem;color:var(--color-primary);line-height:2.5rem;width:100%;display:block;text-decoration:none;font-size:17px}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-dropdown.show[_ngcontent-%COMP%]{display:block!important}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   .menu-dropdown[_ngcontent-%COMP%]{background-color:var(--color-bg-body)}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-item[_ngcontent-%COMP%]:hover, .header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item.active[_ngcontent-%COMP%]{background-color:#f5f5f5}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item.active[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]{background-color:var(--color-bg-body)}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .control-mobile[_ngcontent-%COMP%]{padding:0 1.5rem;display:grid;grid-template-columns:repeat(2,1fr);column-gap:.5rem}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .control-mobile[_ngcontent-%COMP%]   .control-item[_ngcontent-%COMP%]{grid-column:span 1;list-style:none;display:flex;justify-content:flex-start;align-items:center}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .control-mobile[_ngcontent-%COMP%]   .control-item[_ngcontent-%COMP%]   .control-link[_ngcontent-%COMP%]{position:relative;line-height:2.5rem;display:block;text-align:center;text-decoration:none;color:var(--color-primary);font-size:18px}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .control-mobile[_ngcontent-%COMP%]   .control-item[_ngcontent-%COMP%]   .control-link[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:.3rem;left:0;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .control-mobile[_ngcontent-%COMP%]   .control-item[_ngcontent-%COMP%]   .control-link[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .control-mobile[_ngcontent-%COMP%]   .item-col[_ngcontent-%COMP%]{justify-content:flex-start;grid-column:span 2}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .close-menu[_ngcontent-%COMP%]{position:absolute;width:2.25rem;height:2.25rem;top:10px;right:10px;border-radius:50%;background-color:#f6f6f6}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .close-menu[_ngcontent-%COMP%]   .close-menu-icon[_ngcontent-%COMP%]{color:var(--color-primary);text-decoration:none;font-size:28px;display:flex;justify-content:center;align-items:center;padding-top:4px}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .close-menu[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;transform:rotate(22.5deg)}@media (max-width:991.98px){.header-content-mobile[_ngcontent-%COMP%]{display:block!important;transform:translate(-200%)}.header-content-mobile.show[_ngcontent-%COMP%]{transform:translate(0)!important}}.layout-header[_ngcontent-%COMP%]{height:5.75rem;background-color:var(--color-bg-body);width:100%;display:flex;align-items:center;position:fixed;top:0;z-index:1025}.layout-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]{width:100%;margin:0 auto}.layout-header[_ngcontent-%COMP%]   .header-overlay[_ngcontent-%COMP%]{width:100vw;height:100vh;position:fixed;inset:0;display:none;background:#435971;opacity:.5;cursor:pointer;z-index:999}@media (min-width: 1400px){.layout-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.layout-header[_ngcontent-%COMP%]{box-shadow:0 .5rem 1rem #00000013!important}.layout-header[_ngcontent-%COMP%]   .header-overlay.show[_ngcontent-%COMP%]{display:block!important}}']}),e})(),GT=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kt({type:t,selectors:[["app-footer"]],decls:33,vars:0,consts:[[1,"layout-footer"],[1,"footer-wrapper"],[1,"footer-container"],[1,"footer-content"],[1,"ft-content-left"],[1,"ft-l-title"],[1,"ft-l-text"],["routerLink","",1,"ft-l-link"],[1,"ft-content-middle"],[1,"ft-m-item"],["routerLink","",1,"ft-m-link"],[1,"dots"],[1,"bx","bxs-circle"],[1,"ft-content-right"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),w(6,"V\u1ec1 PhotoHub"),y(),m(7,"p",6),w(8,"PhotoHub l\xe0 trang web h\xe0ng \u0111\u1ea7u Vi\u1ec7t Nam v\u1ec1 k\u1ebft n\u1ed1i nh\u1eefng ng\u01b0\u1eddi \u0111am m\xea v\xe0 chuy\xean nghi\u1ec7p v\u1ec1 nhi\u1ebfp \u1ea3nh v\u1edbi nh\u1eefng qu\xfd kh\xe1ch h\xe0ng mu\u1ed1n l\u01b0u gi\u1eef nh\u1eefng kho\u1ea3nh kh\u1eafc \u0111\u1eb9p nh\u1ea5t trong cu\u1ed9c \u0111\u1eddi "),y(),m(9,"a",7),w(10,"Xem th\xeam"),y()(),m(11,"div",8)(12,"li",9)(13,"a",10),w(14,"Blog"),y()(),m(15,"p",11),D(16,"i",12),y(),m(17,"li",9)(18,"a",10),w(19,"Support"),y()(),m(20,"p",11),D(21,"i",12),y(),m(22,"li",9)(23,"a",10),w(24,"Term"),y()(),m(25,"p",11),D(26,"i",12),y(),m(27,"li",9)(28,"a",10),w(29,"Policy"),y()()(),m(30,"div",13)(31,"p"),w(32,"@2003 PhotoHub"),y()()()()()())},dependencies:[pi],styles:['.layout-footer[_ngcontent-%COMP%]{margin-top:4rem;background-color:var(--color-primary)}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]{width:100%;margin:0 auto;padding:1.5rem 0}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]{padding:0 4rem}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(10,1fr);column-gap:2rem;color:var(--color-light)}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-left[_ngcontent-%COMP%]{grid-column:span 5}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-left[_ngcontent-%COMP%]   .ft-l-title[_ngcontent-%COMP%]{font-size:18px;margin-top:0;margin-bottom:.5rem}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-left[_ngcontent-%COMP%]   .ft-l-link[_ngcontent-%COMP%]{color:var(--color-info);text-decoration:none;position:relative}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-left[_ngcontent-%COMP%]   .ft-l-link[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-info);bottom:-1px;left:0;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-left[_ngcontent-%COMP%]   .ft-l-link[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%]{grid-column:span 3;display:flex;justify-content:center;align-items:center}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%]   .ft-m-item[_ngcontent-%COMP%]{display:inline-block}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%]   .ft-m-item[_ngcontent-%COMP%]   .ft-m-link[_ngcontent-%COMP%]{display:block;text-decoration:none;color:var(--color-light);padding:.75rem 1rem;position:relative}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%]   .ft-m-item[_ngcontent-%COMP%]   .ft-m-link[_ngcontent-%COMP%]:after{content:"";position:absolute;width:calc(100% - 2rem);height:1.5px;background-color:var(--color-light);bottom:.6rem;left:1rem;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%]   .ft-m-item[_ngcontent-%COMP%]   .ft-m-link[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%]   .dots[_ngcontent-%COMP%]{font-size:8px;margin:0}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-right[_ngcontent-%COMP%]{grid-column:span 2;display:flex;justify-content:center;align-items:center}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-right[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}@media (min-width: 1400px){.footer-wrapper[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.footer-wrapper[_ngcontent-%COMP%]{padding:1.5rem 0 2.5rem!important}.ft-content-middle[_ngcontent-%COMP%]{display:block!important}.ft-content-middle[_ngcontent-%COMP%]   .ft-m-item[_ngcontent-%COMP%]{width:100%}.ft-content-middle[_ngcontent-%COMP%]   .ft-m-item[_ngcontent-%COMP%]   .ft-m-link[_ngcontent-%COMP%]{padding-top:0!important;text-align:left!important}.ft-content-middle[_ngcontent-%COMP%]   .dots[_ngcontent-%COMP%]{display:none}.ft-content-right[_ngcontent-%COMP%]{align-items:flex-start!important}}@media (max-width: 767.98px){.footer-container[_ngcontent-%COMP%]{padding:0 1.5rem!important}}@media (max-width: 575.98px){.footer-container[_ngcontent-%COMP%]{column-gap:.5rem}.footer-container[_ngcontent-%COMP%]   .ft-content-left[_ngcontent-%COMP%]{grid-column:span 4!important}.footer-container[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%], .footer-container[_ngcontent-%COMP%]   .ft-content-right[_ngcontent-%COMP%]{grid-column:span 3!important}}']}),e})(),the=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kt({type:t,selectors:[["app-menu"]],decls:47,vars:0,consts:[[1,"layout-menu"],[1,"menu-container"],[1,"menu-item","dropdown"],["routerLink","/collection",1,"menu-link"],[1,"bx","bx-collapse-vertical","icon-collapse"],[1,"bx","bx-expand-vertical","icon-expand"],[1,"dropdown-menu"],[1,"dropdown-item"],["routerLink","/collection",1,"dropdown-link"],[1,"menu-item"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"li",2)(3,"a",3),w(4,"Du l\u1ecbch "),D(5,"i",4)(6,"i",5),y(),m(7,"ul",6)(8,"li",7)(9,"a",8),w(10,"Ch\xe2n dung"),y()(),m(11,"li",7)(12,"a",8),w(13,"Th\u1ec3 thao"),y()(),m(14,"li",7)(15,"a",8),w(16,"\u0110\u01b0\u1eddng ph\u1ed1"),y()(),m(17,"li",7)(18,"a",8),w(19,"Phong c\u1ea3nh"),y()(),m(20,"li",7)(21,"a",8),w(22,"K\u1ef7 y\u1ebfu"),y()()()(),m(23,"li",2)(24,"a",3),w(25,"Lookbook "),D(26,"i",4)(27,"i",5),y(),m(28,"ul",6)(29,"li",7)(30,"a",8),w(31,"Th\u1eddi trang"),y()(),m(32,"li",7)(33,"a",8),w(34,"Ph\u1ee5 ki\u1ec7n"),y()(),m(35,"li",7)(36,"a",8),w(37,"M\u1ef9 ph\u1ea9m"),y()(),m(38,"li",7)(39,"a",8),w(40,"Th\u1ef1c ph\u1ea9m"),y()()()(),m(41,"li",9)(42,"a",3),w(43,"Catalogue"),y()(),m(44,"li",9)(45,"a",3),w(46,"Kh\xe1c"),y()()()())},dependencies:[pi],styles:['.layout-menu[_ngcontent-%COMP%]{position:fixed;top:5.75rem;width:100%;height:5rem;background-color:var(--color-bg-body);z-index:1024;box-shadow:0 .5rem 1rem #00000013!important}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]{height:3.25rem;width:100%;margin:0 auto;display:flex;align-items:center;justify-content:center;column-gap:2rem;border:1px solid var(--color-secondary);border-left:0;border-right:0}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{position:relative;list-style:none;height:100%;display:flex;justify-items:flex-start;column-gap:.75rem;align-items:center}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]{height:100%;text-decoration:none;color:var(--color-text-body);font-weight:700;font-size:20px;line-height:3.25rem;display:flex;justify-content:center;align-items:center;column-gap:.5rem}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]   .icon-expand[_ngcontent-%COMP%], .layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]   .icon-collapse[_ngcontent-%COMP%]{font-size:16px;color:var(--color-primary)}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]   .icon-expand[_ngcontent-%COMP%]{display:none}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   .menu-link[_ngcontent-%COMP%]{color:var(--color-primary)}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   .menu-link[_ngcontent-%COMP%]   .icon-expand[_ngcontent-%COMP%]{display:block}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   .menu-link[_ngcontent-%COMP%]   .icon-collapse[_ngcontent-%COMP%]{display:none}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:0;left:0;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.dropdown[_ngcontent-%COMP%]{position:relative;display:inline-block}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{margin:0;padding:0;display:none;position:absolute;top:100%;left:0;background-color:var(--color-bg-body);box-shadow:0 2px 5px #0003;min-width:150px;border-radius:.3rem}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{list-style:none;padding:10px}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .dropdown-link[_ngcontent-%COMP%]{text-decoration:none;color:var(--color-text-body)}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover   .dropdown-link[_ngcontent-%COMP%]{color:var(--color-primary)}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:first-of-type{border-top-right-radius:.3rem;border-top-left-radius:.3rem}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:last-of-type{border-bottom-left-radius:.3rem;border-bottom-right-radius:.3rem}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:100%;left:50%;transform:translate(-50%);border-width:8px;border-style:solid;border-color:transparent transparent var(--color-bg-body) transparent}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-menu[_ngcontent-%COMP%]{display:block}@media (min-width: 1400px){.menu-container[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.layout-menu[_ngcontent-%COMP%]{display:none!important}}']}),e})(),nhe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kt({type:t,selectors:[["app-layout-client"]],decls:8,vars:0,consts:[[1,"layout-wrapper"],[1,"layout-container"],[1,"content-wrapper"],[1,"content-container"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1),D(2,"app-header")(3,"app-menu"),m(4,"div",2)(5,"div",3),D(6,"router-outlet"),y()(),D(7,"app-footer"),y()())},dependencies:[tl,zT,GT,the],styles:[".layout-wrapper[_ngcontent-%COMP%], .layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%], .layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{width:100%}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{width:100%;margin:0 auto;margin-top:10.75rem}@media (min-width: 1400px){.content-container[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.content-container[_ngcontent-%COMP%]{margin-top:5rem!important}}"]}),e})();const rhe=["sortSelectButton"],ihe=["sortSelectOptions"],ohe=["addressButton"],she=["addressBar"];function ahe(t,e){if(1&t&&(m(0,"option",52),w(1),y()),2&t){const n=e.$implicit;J("value",n),S(1),He(n)}}function che(t,e){1&t&&D(0,"i",53)}function lhe(t,e){1&t&&D(0,"i",54)}function uhe(t,e){1&t&&D(0,"i",53)}function dhe(t,e){1&t&&D(0,"i",54)}function hhe(t,e){1&t&&D(0,"i",53)}function phe(t,e){1&t&&D(0,"i",54)}function fhe(t,e){1&t&&D(0,"i",53)}function ghe(t,e){1&t&&D(0,"i",54)}function _he(t,e){1&t&&D(0,"i",53)}function mhe(t,e){1&t&&D(0,"i",54)}const I9=function(t){return{show:t}};let yhe=(()=>{var t;class e{constructor(){this.timeOptions=["12:30 am","1:00 am","1:30 am","2:00 am","2:30 am","3:00 am","4:00 am","4:30 am","5:00 am","5:30 am","6:00 am","6:30 am","7:00 am","7:30 am","8:00 am","8:30 am","9:00 am","9:30 am","10:00 am","10:30 am","11:00 am","11:30 am","12:00 pm","12:30 pm","1:00 pm","1:30 pm","2:00 pm","2:30 pm","3:00 pm","3:30 pm","4:00 pm","4:30 pm","5:00 pm","5:30 pm","6:00 pm","6:30 pm","7:00 pm","7:30 pm","8:00 pm","8:30 pm","9:00 pm","9:30 pm","10:00 pm","10:30 pm","11:00 pm","11:30 pm"],this.selectedDateY="",this.selectedOptionTL="",this.selectedOptionTime="",this.selectedOptionPrice="",this.isShowSortMenu=!1,this.checkedSortText="",this.checkedSortValue=null,this.addressValue="",this.isShowAddressBar=!1}ngAfterViewInit(){}toggleSort(){this.isShowSortMenu=!this.isShowSortMenu}checked(r,i){this.checkedSortValue=r,this.checkedSortText=i,this.isShowSortMenu=!1}toggleAddress(){this.isShowAddressBar=!this.isShowAddressBar}clearAddress(){this.addressValue=""}resetFilter(){this.addressValue="",this.isShowSortMenu=!1,this.selectedOptionTL="",this.selectedOptionTime="",this.selectedDateY=""}onClickOutside(r){!this.sortSelectButton.nativeElement.contains(r.target)&&!this.sortSelectOptions.nativeElement.contains(r.target)&&(this.isShowSortMenu=!1),!this.addressButton.nativeElement.contains(r.target)&&!this.addressBar.nativeElement.contains(r.target)&&(this.isShowAddressBar=!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kt({type:t,selectors:[["app-filter-bar"]],viewQuery:function(r,i){if(1&r&&(Xn(rhe,5),Xn(ihe,5),Xn(ohe,5),Xn(she,5)),2&r){let o;jn(o=$n())&&(i.sortSelectButton=o.first),jn(o=$n())&&(i.sortSelectOptions=o.first),jn(o=$n())&&(i.addressButton=o.first),jn(o=$n())&&(i.addressBar=o.first)}},hostBindings:function(r,i){1&r&&K("mousedown",function(s){return i.onClickOutside(s)},0,Ou)},decls:111,vars:28,consts:[[1,"layout-filter"],[1,"filter-container"],[1,"filter-content"],[1,"filter-left"],[1,"filter-param"],[1,"filter-date-picker"],[3,"selectedDate","textDefault","selectedDateChange"],[1,"filter-tl"],[3,"selectedOption","textDefault","selectedOptionChange"],["custom-option","","value","1"],["custom-option","","value","2"],["custom-option","","value","3"],["custom-option","","value","4"],["custom-option","","value","5"],["custom-option","","value","6"],["custom-option","","value","7"],["custom-option","","value","8"],[1,"filter-time"],["custom-option","",3,"value",4,"ngFor","ngForOf"],[1,"filter-address"],[1,"filter-address-content"],[1,"address-button",3,"click"],["addressButton",""],[1,"bx","bxs-navigation"],[1,"address-bar",3,"ngClass"],["addressBar",""],[1,"address-form"],[1,"address-form-first"],["type","text",1,"address-input",3,"ngModel","ngModelChange"],["id","clearAddress",1,"bx","bx-x",3,"click"],["id","iconAddress",1,"bx","bxs-navigation"],[1,"address-form-second"],[1,"bx","bx-time-five"],[1,"horizontal-line"],[1,"address-suggest"],[1,"suggest-text"],[1,"filter-price"],[1,"filter-reset"],["href","javascript:void(0)","id","filter-icon-reset",3,"click"],[1,"filter-right"],[1,"filter-sort"],[1,"sort-tilte"],[1,"sort-content"],[1,"sort-text",3,"click"],["sortSelectButton",""],[1,"sort-menu",3,"ngClass"],["sortSelectOptions",""],[1,"sort-item",3,"click"],["href","javascript:void(0)",1,"sort-link","sort-default"],["class","bx bxs-check-circle sort-icon-checked",4,"ngIf"],["class","bx bx-circle sort-icon-unchecked",4,"ngIf"],["href","javascript:void(0)",1,"sort-link"],["custom-option","",3,"value"],[1,"bx","bxs-check-circle","sort-icon-checked"],[1,"bx","bx-circle","sort-icon-unchecked"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"app-date-picker",6),K("selectedDateChange",function(s){return i.selectedDateY=s}),y()(),m(7,"div",7)(8,"app-custom-select",8),K("selectedOptionChange",function(s){return i.selectedOptionTL=s}),m(9,"option",9),w(10,"1 gi\u1edd"),y(),m(11,"option",10),w(12,"2 gi\u1edd"),y(),m(13,"option",11),w(14,"3 gi\u1edd"),y(),m(15,"option",12),w(16,"4 gi\u1edd"),y(),m(17,"option",13),w(18,"5 gi\u1edd"),y(),m(19,"option",14),w(20,"6 gi\u1edd"),y(),m(21,"option",15),w(22,"7 gi\u1edd"),y(),m(23,"option",16),w(24,"8 gi\u1edd"),y()()(),m(25,"div",17)(26,"app-custom-select",8),K("selectedOptionChange",function(s){return i.selectedOptionTime=s}),De(27,ahe,2,2,"option",18),y()(),m(28,"div",19)(29,"div",20)(30,"div",21,22),K("click",function(){return i.toggleAddress()}),D(32,"i",23),m(33,"span"),w(34),y()(),m(35,"div",24,25)(37,"div",26)(38,"div",27)(39,"input",28),K("ngModelChange",function(s){return i.addressValue=s}),y(),m(40,"i",29),K("click",function(){return i.clearAddress()}),y(),D(41,"i",30),y(),m(42,"div",31),D(43,"i",32),w(44," H\u1ed3 T\xe2y, H\xe0 N\u1ed9i "),y()(),D(45,"div",33),m(46,"div",34)(47,"p",35),D(48,"i",23),w(49," C\xf4ng vi\xean Y\xean S\u1edf, Ho\xe0ng Mai, H\xe0 N\u1ed9i "),y(),m(50,"p",35),D(51,"i",23),w(52," C\xf4ng vi\xean Th\u1ed1ng Nh\u1ea5t, H\xe0 N\u1ed9i "),y(),m(53,"p",35),D(54,"i",23),w(55," Ph\u1ed1 \u0111i b\u1ed9 Nguy\u1ec5n Hu\u1ec7, H\u1ed3 Ch\xed Minh "),y(),m(56,"p",35),D(57,"i",23),w(58," H\u1ed3 H\xf2a Trung, \u0110\xe0 N\u1eb5ng "),y()()()()(),m(59,"div",36)(60,"app-custom-select",8),K("selectedOptionChange",function(s){return i.selectedOptionPrice=s}),m(61,"option",9),w(62,"D\u01b0\u1edbi 300.000 VN\u0110"),y(),m(63,"option",10),w(64,"300.000 - 500.000 VN\u0110"),y(),m(65,"option",11),w(66,"500.000 - 800.000 VN\u0110"),y(),m(67,"option",12),w(68,"800.000 - 1200.000 VN\u0110"),y(),m(69,"option",13),w(70,"Tr\xean 1200.000 VN\u0110"),y()()(),m(71,"div",37)(72,"a",38),K("click",function(){return i.resetFilter()}),w(73," C\xe0i l\u1ea1i "),y()()()(),m(74,"div",39)(75,"div",40)(76,"div",41)(77,"span"),w(78,"S\u1eafp x\u1ebfp theo"),y()(),m(79,"div",42)(80,"div",43,44),K("click",function(){return i.toggleSort()}),m(82,"span"),w(83),y()(),m(84,"div",45,46)(86,"li",47),K("click",function(){return i.checked(0,"M\u1eb7c \u0111\u1ecbnh")}),m(87,"a",48),De(88,che,1,0,"i",49),De(89,lhe,1,0,"i",50),w(90," M\u1eb7c \u0111\u1ecbnh "),y()(),m(91,"li",47),K("click",function(){return i.checked(1,"Gi\xe1 : Th\u1ea5p - Cao")}),m(92,"a",51),De(93,uhe,1,0,"i",49),De(94,dhe,1,0,"i",50),w(95," Gi\xe1 : Th\u1ea5p - Cao "),y()(),m(96,"li",47),K("click",function(){return i.checked(2,"Gi\xe1: Cao - Th\u1ea5p")}),m(97,"a",51),De(98,hhe,1,0,"i",49),De(99,phe,1,0,"i",50),w(100," Gi\xe1: Cao - Th\u1ea5p "),y()(),m(101,"li",47),K("click",function(){return i.checked(3,"\u0110\xe1nh gi\xe1 : Th\u1ea5p - Cao")}),m(102,"a",51),De(103,fhe,1,0,"i",49),De(104,ghe,1,0,"i",50),w(105," \u0110\xe1nh gi\xe1 : Th\u1ea5p - Cao "),y()(),m(106,"li",47),K("click",function(){return i.checked(4,"\u0110\xe1nh gi\xe1 : Cao - Th\u1ea5p")}),m(107,"a",51),De(108,_he,1,0,"i",49),De(109,mhe,1,0,"i",50),w(110," \u0110\xe1nh gi\xe1 : Cao - Th\u1ea5p "),y()()()()()()()()()),2&r&&(S(6),J("selectedDate",i.selectedDateY)("textDefault","Ng\xe0y"),S(2),J("selectedOption",i.selectedOptionTL)("textDefault","Th\u1eddi l\u01b0\u1ee3ng"),S(18),J("selectedOption",i.selectedOptionTime)("textDefault","Th\u1eddi gian"),S(1),J("ngForOf",i.timeOptions),S(7),He(i.addressValue||"\u0110\u1ecba \u0111i\u1ec3m ch\u1ee5p \u1ea3nh"),S(1),J("ngClass",yo(24,I9,i.isShowAddressBar)),S(4),J("ngModel",i.addressValue),S(21),J("selectedOption",i.selectedOptionPrice)("textDefault","Gi\xe1"),S(23),He(i.checkedSortText||"M\u1eb7c \u0111\u1ecbnh"),S(1),J("ngClass",yo(26,I9,i.isShowSortMenu)),S(4),J("ngIf",!i.checkedSortValue||0===i.checkedSortValue),S(1),J("ngIf",i.checkedSortValue&&0!==i.checkedSortValue),S(4),J("ngIf",i.checkedSortValue&&1===i.checkedSortValue),S(1),J("ngIf",!i.checkedSortValue||1!==i.checkedSortValue),S(4),J("ngIf",i.checkedSortValue&&2===i.checkedSortValue),S(1),J("ngIf",!i.checkedSortValue||2!==i.checkedSortValue),S(4),J("ngIf",i.checkedSortValue&&3===i.checkedSortValue),S(1),J("ngIf",!i.checkedSortValue||3!==i.checkedSortValue),S(4),J("ngIf",i.checkedSortValue&&4===i.checkedSortValue),S(1),J("ngIf",!i.checkedSortValue||4!==i.checkedSortValue))},dependencies:[Cs,Zo,wo,W0,q0,hl,qu,_l,$T,HT],styles:['.filter-left[_ngcontent-%COMP%]{width:calc(100% - 350px)}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(6,1fr);gap:.5rem}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]{position:relative;min-width:12rem}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-button[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;padding:8px 12px;border:1px solid var(--color-primary);border-radius:4px;background-color:var(--color-light);display:flex;justify-content:flex-start;column-gap:.75rem;align-items:center;color:var(--color-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]{position:absolute;top:calc(100% + .3rem);left:0%;min-width:13rem;background-color:var(--color-bg-body);box-shadow:0 2px 5px #0003;border-radius:.3rem;padding:.5rem 1.5rem;z-index:1;display:none}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]{margin-top:1.5rem;width:100%;display:flex;flex-direction:column}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]   .address-form-first[_ngcontent-%COMP%]{position:relative}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]   .address-form-first[_ngcontent-%COMP%]   .address-input[_ngcontent-%COMP%]{width:100%;padding:10px 1.25rem 10px 1.5rem;outline:none;border:1px solid var(--color-primary);color:var(--color-primary);border-radius:.3rem}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]   .address-form-first[_ngcontent-%COMP%]   #iconAddress[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);left:.3rem}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]   .address-form-first[_ngcontent-%COMP%]   #clearAddress[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);right:.3rem;cursor:pointer;border-radius:50%}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]   .address-form-first[_ngcontent-%COMP%]   #clearAddress[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]   .address-form-second[_ngcontent-%COMP%]{padding:8px 0;display:flex;justify-content:flex-start;column-gap:.75rem;align-items:center;color:var(--color-primary);font-size:14px}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .horizontal-line[_ngcontent-%COMP%]{height:2px;background-color:#e6e6e6;margin:.1rem 0}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-suggest[_ngcontent-%COMP%]{margin-top:.5rem}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-suggest[_ngcontent-%COMP%]   .suggest-text[_ngcontent-%COMP%]{margin:5px 0!important;font-size:14px}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar.show[_ngcontent-%COMP%]{display:block!important}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-reset[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-reset[_ngcontent-%COMP%]   #filter-icon-reset[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;text-decoration:none;color:var(--color-primary);font-size:18px;border-radius:.3rem;padding:0 1.5rem;background-color:var(--color-secondary);text-wrap:nowrap}@media (max-width: 1400px){.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)!important}}@media (max-width: 1200px){.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)!important}}@media (max-width: 991.98px){.filter-left[_ngcontent-%COMP%]{width:100%;order:2}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)!important}}@media (max-width: 600px){.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 470px){.filter-left[_ngcontent-%COMP%]{width:200px}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-reset[_ngcontent-%COMP%]   #filter-icon-reset[_ngcontent-%COMP%]{padding:.5rem 1.5rem}}.filter-right[_ngcontent-%COMP%]{min-width:350px}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:8px}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-tilte[_ngcontent-%COMP%]{text-wrap:nowrap;margin-right:1rem;color:var(--color-primary)}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]{position:relative}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-text[_ngcontent-%COMP%]{min-width:200px;font-weight:700;color:var(--color-primary);cursor:pointer}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;display:inline-block}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;bottom:-.25rem;width:100%;height:2px;background-color:#000;transition:all .3s ease}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-text[_ngcontent-%COMP%]   span.active[_ngcontent-%COMP%]:after{width:0}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]{position:absolute;top:calc(100% + .3rem);right:10%;min-width:13rem;background-color:var(--color-bg-body);box-shadow:0 2px 5px #0003;border-radius:.3rem;padding:.5rem 0;z-index:2;display:none}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]   .sort-item[_ngcontent-%COMP%]{list-style:none;display:block;padding-left:1rem}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]   .sort-item[_ngcontent-%COMP%]   .sort-link[_ngcontent-%COMP%]{color:var(--color-primary);display:block;text-decoration:none;text-align:center;line-height:2.5rem;display:flex;flex-wrap:nowrap;align-items:center}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]   .sort-item[_ngcontent-%COMP%]   .sort-link[_ngcontent-%COMP%]   .sort-icon-checked[_ngcontent-%COMP%], .filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]   .sort-item[_ngcontent-%COMP%]   .sort-link[_ngcontent-%COMP%]   .sort-icon-unchecked[_ngcontent-%COMP%]{margin-bottom:3px;margin-right:.5rem}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]   .sort-item[_ngcontent-%COMP%]:hover{background-color:#f6f6f6}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu.show[_ngcontent-%COMP%]{display:block!important}@media (max-width: 991.98px){.filter-right[_ngcontent-%COMP%]{order:1;min-width:auto;width:100%;margin-bottom:2rem}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]{justify-content:flex-start}}.layout-filter[_ngcontent-%COMP%]{margin-top:5.57rem}.layout-filter[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]{width:100%;margin:0 auto}.layout-filter[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   .filter-content[_ngcontent-%COMP%]{padding:2.5rem;display:flex;justify-content:space-between}@media (min-width: 1400px){.filter-container[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.layout-filter[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   .filter-content[_ngcontent-%COMP%]{flex-direction:column}}']}),e})(),b9=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kt({type:t,selectors:[["app-layout-shop"]],decls:8,vars:0,consts:[[1,"layout-wrapper"],[1,"layout-container"],[1,"content-wrapper"],[1,"content-container"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1),D(2,"app-header")(3,"app-filter-bar"),m(4,"div",2)(5,"div",3),D(6,"router-outlet"),y()(),D(7,"app-footer"),y()())},dependencies:[tl,zT,GT,yhe],styles:[".layout-wrapper[_ngcontent-%COMP%], .layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%], .layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{width:100%}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{width:100%;margin:0 auto}@media (min-width: 1400px){.content-container[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.content-container[_ngcontent-%COMP%]{margin-top:5rem!important}}"]}),e})(),WT=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kt({type:t,selectors:[["app-layout-auth"]],decls:3,vars:0,consts:[[1,"layout-auth"],[1,"auth-wrapper"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1),D(2,"router-outlet"),y()())},dependencies:[tl],styles:[".layout-auth[_ngcontent-%COMP%]{width:100%;height:100%}"]}),e})(),T9=(()=>{var t;class e{constructor(r){this.el=r}onInputChange(r){const i=this.el.nativeElement.value,o=i.replace(/[^0-9]/g,"");i!==o&&(this.el.nativeElement.value=o,r.preventDefault())}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(xi))},t.\u0275dir=Ve({type:t,selectors:[["","appOnlyNumbers",""]],hostBindings:function(r,i){1&r&&K("input",function(s){return i.onInputChange(s)})}}),e})();function vhe(t,e){1&t&&(m(0,"span",24),w(1,"Vui l\xf2ng nh\u1eadp t\xean."),y())}function Che(t,e){1&t&&(m(0,"span",24),w(1,"Vui l\xf2ng nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i h\u1ee3p l\u1ec7."),y())}function whe(t,e){1&t&&(m(0,"span",24),w(1,"Vui l\xf2ng nh\u1eadp email h\u1ee3p l\u1ec7."),y())}function Phe(t,e){1&t&&(m(0,"span",24),w(1,"Vui l\xf2ng nh\u1eadp \u0111i\u0323a chi\u0309 h\u1ee3p l\u1ec7."),y())}let Ehe=(()=>{var t;class e{constructor(r){this.orderService=r,this.invalidEmail=!1,this.invalidPhone=!1,this.invalidName=!1,this.invalidAddress=!1,this.email="",this.phone="",this.name="",this.address="",this.messageText="",this.isSuccess=!0}onChangeName(r){this.name=r.target.value,this.validateName()}onChangePhone(r){this.phone=r.target.value,this.validatePhone()}onChangeEmail(r){this.email=r.target.value,this.validateEmail()}onChangeAddress(r){this.address=r.target.value,this.validateAddress()}onSubmit(){var r=this;return(0,k.Z)(function*(){if(r.validateName()&&r.validatePhone()&&r.validateEmail()&&r.validateAddress()){const a=localStorage.getItem("order_id");if(a){const c=parseInt(a,10);var i=yield r.orderService.getOrderById(c);if(i){i.cust_name=r.name,i.cust_email=r.email,i.cust_phone=r.phone,i.address=r.address,i.status="cho_duyet";var o="";(yield r.orderService.generateUniqueOrderCode()).subscribe(l=>{o=l}),i.code=o,(yield r.orderService.updateOrder(i))?(r.isSuccess=!0,r.messageText="Th\xe0nh c\xf4ng."):(r.messageText="Th\u1ea5t b\u1ea1i.",r.isSuccess=!1)}else r.messageText="Th\u1ea5t b\u1ea1i.",r.isSuccess=!1;localStorage.removeItem("order_id")}else r.messageText="Th\u1ea5t b\u1ea1i.",r.isSuccess=!1}else r.validateName(),r.validatePhone(),r.validateEmail(),r.validateAddress()})()}validateName(){return this.invalidName=this.name.length<1,!this.invalidName}validateAddress(){return this.invalidAddress=this.address.length<1,!this.invalidAddress}validatePhone(){const i=/^0[0-9]{9,10}$/.test(this.phone);return this.invalidPhone=!i,i}validateEmail(){const i=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(this.email);return this.invalidEmail=!i,i}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(aP))},t.\u0275cmp=kt({type:t,selectors:[["app-send-contact"]],decls:38,vars:6,consts:[[1,"send-ct-wrapper"],[1,"send-ct-container"],[1,"send-ct-header"],[1,"go-home"],["routerLink","/home",1,"go-home-link"],[1,"bx","bxs-chevron-left"],[1,"brand"],["routerLink","/home",1,"brand-link"],["src","./assets/images/logo2.png","alt","logo",1,"brand-image"],[1,"send-ct-title"],[1,"message",3,"ngClass"],[1,"send-ct-content"],[3,"ngSubmit"],[1,"form-group"],["for","fullname"],["type","text","id","fullname","name","fullname","required","","placeholder","Nguyen Quang Nam",3,"input"],["class","validate-message",4,"ngIf"],["for","phone"],["type","text","id","phone","name","phone","required","","placeholder","0123456789","appOnlyNumbers","",3,"input"],["for","username"],["type","text","id","username","name","username","required","","placeholder","quang@gmail.com",3,"input"],["for","address"],["type","text","id","address","name","address","required","","placeholder","",3,"input"],["type","submit"],[1,"validate-message"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),D(5,"i",5),w(6," Trang ch\u1ee7 "),y()(),m(7,"div",6)(8,"a",7),D(9,"img",8),y()(),m(10,"h3",9),w(11," Vui l\xf2ng \u0111\u1ec3 l\u1ea1i th\xf4ng tin li\xean h\u1ec7. "),y()(),m(12,"div",10),w(13),y(),m(14,"div",11)(15,"form",12),K("ngSubmit",function(){return i.onSubmit()}),m(16,"div",13)(17,"label",14),w(18,"H\u1ecd v\xe0 t\xean"),y(),m(19,"input",15),K("input",function(s){return i.onChangeName(s)}),y(),De(20,vhe,2,0,"span",16),y(),m(21,"div",13)(22,"label",17),w(23,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),y(),m(24,"input",18),K("input",function(s){return i.onChangePhone(s)}),y(),De(25,Che,2,0,"span",16),y(),m(26,"div",13)(27,"label",19),w(28,"Email"),y(),m(29,"input",20),K("input",function(s){return i.onChangeEmail(s)}),y(),De(30,whe,2,0,"span",16),y(),m(31,"div",13)(32,"label",21),w(33,"\u0110i\u0323a chi\u0309 chu\u0323p a\u0309nh"),y(),m(34,"input",22),K("input",function(s){return i.onChangeAddress(s)}),y(),De(35,Phe,2,0,"span",16),y(),m(36,"button",23),w(37,"G\u1eedi"),y()()()()()),2&r&&(S(12),J("ngClass",i.isSuccess?"success":"error"),S(1),At(" ",i.messageText," "),S(7),J("ngIf",i.invalidName),S(5),J("ngIf",i.invalidPhone),S(5),J("ngIf",i.invalidEmail),S(5),J("ngIf",i.invalidAddress))},dependencies:[Cs,wo,pi,Pm,mm,Ku,T9],styles:[".send-ct-wrapper[_ngcontent-%COMP%]{width:100%;margin:0 auto;min-height:500px;min-height:100vh;padding:2rem;background-image:url(/assets/images/banner.jpg);background-size:cover;background-repeat:no-repeat;background-position:center}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]{padding:2rem;border-radius:.5rem;width:700px;margin:auto;min-height:calc(100vh - 4rem);height:100%;background-color:#ffffffa8;box-shadow:0 0 10px #0000004d}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem;position:relative}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{position:absolute;top:0rem;left:0rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]   .go-home-link[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;text-decoration:none;color:var(--color-primary);font-weight:700;position:relative}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .send-ct-title[_ngcontent-%COMP%]{text-align:center;color:var(--color-primary);font-size:32px;font-weight:700}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{display:flex;justify-content:center}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]   .brand-image[_ngcontent-%COMP%]{width:5rem;height:5rem;object-fit:cover}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin-bottom:1rem;font-weight:600}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .message.error[_ngcontent-%COMP%]{color:red}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .message.success[_ngcontent-%COMP%]{color:green}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:15px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:gray;font-weight:600;font-size:18px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 10px;border:2px solid gray;border-radius:5px;background-color:transparent;outline:none}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--color-primary)}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{width:100%;font-size:14px;color:#ff1818}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 auto;margin-top:3rem;display:block;padding:15px 25px;background-color:var(--color-primary);color:#fff;border:none;border-radius:5px;font-size:20px;cursor:pointer}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}@media (max-width: 767.98px){.send-ct-wrapper[_ngcontent-%COMP%]{width:100%!important;padding:1rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]{width:100%;min-height:calc(100vh - 2rem)}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{position:absolute;top:-.5rem;left:-1rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .send-ct-title[_ngcontent-%COMP%]{font-size:26px!important}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{padding-top:1rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{font-size:12px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2rem;padding:10px 15px;font-size:20px!important}}"]}),e})();function Mhe(t,e){if(1&t&&(m(0,"div",115)(1,"a",116)(2,"div",117),D(3,"img",118),y(),m(4,"div",119)(5,"h3",120),w(6),y(),m(7,"span",121),w(8),y()()()()),2&t){const n=e.$implicit;S(3),gs("src",n.images[0],Dr),S(3),He(n.name),S(2),He(n.images.length)}}function Ohe(t,e){if(1&t&&(m(0,"div",122),w(1),y()),2&t){const n=Qt();S(1),At(" ",n.errorMessage," ")}}function Ihe(t,e){if(1&t&&(m(0,"option",124),w(1),y()),2&t){const n=e.$implicit;J("value",n.id),S(1),At(" ",n.name," ")}}function bhe(t,e){if(1&t){const n=Ni();zh(0),m(1,"app-custom-select",94),K("selectedOptionChange",function(i){return cr(n),Un(Qt().onOptionTypeChange(i))})("selectedOptionChange",function(i){return cr(n),Un(Qt().selectedOptionType=i)}),De(2,Ihe,2,2,"option",123),y(),Gh()}if(2&t){const n=Qt();S(1),J("selectedOption",n.selectedOptionType)("textDefault","Ch\u1ecdn lo\u1ea1i ch\u1ee5p"),S(1),J("ngForOf",n.typeOfPhoto)}}function The(t,e){if(1&t&&(zh(0),m(1,"p",125),w(2),m(3,"span"),w(4),y()(),Gh()),2&t){const n=Qt();S(2),At(" ",n.costPreview," "),S(2),At("/",""!==n.selectedOptionTLVal&&""!==n.selectedOptionTypeVal?n.selectedOptionTLVal:1," ti\u1ebfng")}}let Ahe=(()=>{var t;class e{constructor(r,i,o,s,a){this.router=r,this.route=i,this.orderService=o,this.userInfoDTOService=s,this.decesService=a,this.userData=null,this.decesData=null,this.selectedDateU="",this.selectedOptionTL="",this.selectedOptionType="",this.errorMessage="",this.isError=!1,this.dateVal="",this.selectedOptionTLVal="",this.selectedOptionTypeVal="",this.setTimeVal="",this.partnerId=0,this.isShowOrder=!1,this.typeOfPhoto=[],this.costPreview=3e5,this.route.params.subscribe(c=>{const l=c.id;l?this.partnerId=parseInt(l,10):console.error("ID not found in URL")})}ngOnInit(){this.route.params.subscribe(r=>{const i=r.id;if(i){const o=parseInt(i,10);this.loadUserInfoData(o),this.loadDecesData(o)}else console.error("ID not found in URL")})}loadUserInfoData(r){this.userInfoDTOService.getUserInfoDTOsById(r).subscribe(i=>{this.userData=i,this.typeOfPhoto=this.userData?.userInfo.typeOfPhoto||[]},i=>{console.error("Error loading user info:",i)})}loadDecesData(r){var i=this;return(0,k.Z)(function*(){i.decesData=yield i.decesService.getDecesByPartnerId(r),console.log(i.decesData)})()}onDateChange(r){this.dateVal=r}onOptionTLChange(r){this.selectedOptionTLVal=r,console.log(r);var i=parseInt(this.selectedOptionTLVal,10);if(""!==this.selectedOptionTypeVal){var o=parseInt(this.selectedOptionTypeVal,10);const a=this.typeOfPhoto.find(c=>c.id===o);if(a){var s=parseInt(a.cost,10);this.costPreview=s*i}}}onOptionTypeChange(r){this.selectedOptionTypeVal=r;const i=parseInt(r.trim(),10),o=this.typeOfPhoto.find(c=>c.id===i);if(o){var s=parseInt(o.cost,10);if(""!==this.selectedOptionTLVal){var a=parseInt(this.selectedOptionTLVal,10);this.costPreview=s*a}else this.costPreview=s}}onSubmit(){var r=this;return(0,k.Z)(function*(){if(r.isError=!1,r.selectedDateU&&r.selectedOptionTL&&r.selectedOptionType&&!r.setTimeVal){if(0!==r.partnerId){console.log("true");const o=parseInt(r.selectedOptionTLVal,10)*r.costPreview,s=r.typeOfPhoto.find(c=>c.id==parseInt(r.selectedOptionTLVal))?.name,a={id:0,order_date:r.dateVal,time:r.selectedOptionTLVal,appoi_time:r.setTimeVal,shooting_type:s||"",partner_id:r.partnerId,cust_name:"",cust_email:"",cust_phone:"",code:"",status:"chua_dien_tt",address:"",price:o.toString(),link_down:""};var i=yield r.orderService.createOrder(a);i&&(localStorage.setItem("order_id",i.id.toString()),r.router.navigate(["/contact"]))}}else r.errorMessage="Vui l\xf2ng \u0111i\u1ec1n \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin",r.isError=!0})()}showOrder(){this.isShowOrder=!0}hideOrder(){this.isShowOrder=!1}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(hi),ee(el),ee(aP),ee(k0),ee(M9))},t.\u0275cmp=kt({type:t,selectors:[["app-profile"]],decls:220,vars:21,consts:[[1,"profile-content"],[1,"wall-wrapper"],[1,"wall-content"],[1,"wall1"],[1,"wall1-1"],["src","./assets/images/profile/pf1.jpg","alt",""],[1,"wall1-2"],["src","./assets/images/profile/pf2.jpg","alt",""],[1,"wall2"],["src","./assets/images/profile/pf3.jpg","alt",""],[1,"wall3"],[1,"wall3-1"],["src","./assets/images/profile/pf4.jpg","alt",""],[1,"wall3-2"],["src","./assets/images/profile/pf5.jpg","alt",""],[1,"wall4"],["src","./assets/images/profile/pf6.jpg","alt",""],[1,"wall5"],[1,"wall5-1"],["src","./assets/images/profile/pf7.jpg","alt",""],[1,"wall5-2"],["src","./assets/images/profile/pf8.jpg","alt",""],[1,"content-wrapper"],[1,"forMe-wrapper"],[1,"forMe-content"],[1,"avatar-wrapper"],[1,"avatar"],["alt","",1,"avatar-image",3,"src"],[1,"des-forMe-wrapper"],[1,"des-forMe-name"],[1,"des-forMe-address"],[1,"des-forMe-rate"],[1,"rate-star"],["src","./assets/images/icons/star-fill.png","alt",""],[1,"rate-text"],[1,"des-forMe-exp"],[1,"info-wrapper"],[1,"infor-title-list"],[1,"title-list"],[1,"it-item"],["href","javascript:void(0)",1,"it-link"],[1,"deliver-line"],[1,"infor-content-list"],[1,"ic-item"],[1,"text-description"],[1,"prize"],[1,"prize-title"],[1,"interest"],[1,"interest-title"],[1,"feature-wrapper"],[1,"feature-title"],[1,"feature-content"],[1,"language"],[1,"language-title"],["src","./assets/images/icons/translate.png","alt",""],[1,"camera"],[1,"camera-title"],["src","./assets/images/icons/camera.png","alt",""],[1,"portfolio"],[1,"portfolio-title"],[1,"portfolio-content"],["class","portfolio-item",4,"ngFor","ngForOf"],[1,"appraise"],[1,"appraise-title"],[1,"rate"],[1,"appraise-content"],[1,"appraise-item"],[1,"ai-header"],[1,"header-avatar"],["src","./assets/images/avatar/avatar1.jpeg","alt",""],[1,"header-name"],[1,"ai-comment"],[1,"how-it-works"],[1,"hiw-title"],[1,"hiw-content"],[1,"hiw-item"],[1,"item-title"],[1,"title-icon"],[1,"bx","bx-calendar-check"],[1,"title-text"],[1,"item-content"],[1,"content-deliver"],[1,"content-text"],[1,"bx","bxs-camera"],[1,"bx","bx-happy-alt"],[1,"order-wrapper",3,"ngClass"],[1,"order-container"],["class","mess-valid",4,"ngIf"],[1,"order-content"],[1,"filter-date-picker"],["for","ngay-chup"],[3,"selectedDate","textDefault","selectedDateChange"],[1,"filter-tl"],["for","thoi-luong"],[3,"selectedOption","textDefault","selectedOptionChange"],["custom-option","","value","1"],["custom-option","","value","2"],["custom-option","","value","3"],["custom-option","","value","4"],["custom-option","","value","5"],["custom-option","","value","6"],["custom-option","","value","7"],["custom-option","","value","8"],[1,"set-time"],["for","gio-hen"],["type","time","id","gio-hen","name","gio-hen","required","",3,"ngModel","ngModelChange"],[1,"filter-type"],[4,"ngIf"],["href","javascript:void(0)",3,"click"],[1,"sug-foot"],[1,"bx","bx-check"],[1,"btn-close-order",3,"click"],[1,"bx","bx-x"],[1,"toggle-order-wrapper",3,"ngClass","click"],[1,"bx","bx-plus-circle"],[1,"portfolio-item"],["href","javascript:void(0);"],[1,"it-header"],["alt","",3,"src"],[1,"it-footer"],[1,"it-cate"],[1,"it-count-picture"],[1,"mess-valid"],["custom-option","",3,"value",4,"ngFor","ngForOf"],["custom-option","",3,"value"],[1,"p-footer"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),D(5,"img",5),y(),m(6,"div",6),D(7,"img",7),y()(),m(8,"div",8),D(9,"img",9),y(),m(10,"div",10)(11,"div",11),D(12,"img",12),y(),m(13,"div",13),D(14,"img",14),y()(),m(15,"div",15),D(16,"img",16),y(),m(17,"div",17)(18,"div",18),D(19,"img",19),y(),m(20,"div",20),D(21,"img",21),y()()()(),m(22,"div",22)(23,"div",23)(24,"div",24)(25,"div",25)(26,"div",26),D(27,"img",27),y()(),m(28,"div",28)(29,"h2",29),w(30),y(),m(31,"p",30),w(32),y(),m(33,"div",31)(34,"div",32),D(35,"img",33)(36,"img",33)(37,"img",33)(38,"img",33)(39,"img",33),y(),m(40,"span",34),w(41,"5.0"),y()(),m(42,"p",35),w(43),y()()()(),m(44,"div",36)(45,"div",37)(46,"div",38)(47,"li",39)(48,"a",40),w(49,"V\u1ec1 t\xf4i"),y()(),m(50,"li",39)(51,"a",40),w(52,"H\u1ed3 s\u01a1"),y()(),m(53,"li",39)(54,"a",40),w(55,"\u0110\xe1nh gi\xe1"),y()(),m(56,"li",39)(57,"a",40),w(58,"How it works"),y()()()(),D(59,"div",41),m(60,"div",42)(61,"div",43)(62,"div",44)(63,"p"),w(64),y()(),m(65,"div",45)(66,"h3",46),w(67," Gi\u1ea3i th\u01b0\u1edfng "),y(),m(68,"p"),w(69),y()(),m(70,"div",47)(71,"h3",48),w(72," \u0110i\u1ec1u th\xfa v\u1ecb v\u1ec1 t\xf4i "),y(),m(73,"p"),w(74),y()()()(),D(75,"div",41),m(76,"div",49)(77,"h3",50),w(78,"Ng\xf4n ng\u1eef & M\xe1y \u1ea3nh"),y(),m(79,"div",51)(80,"div",52)(81,"div",53),D(82,"img",54),m(83,"h3"),w(84,"Ng\xf4n ng\u1eef"),y()(),m(85,"p"),w(86),y()(),m(87,"div",55)(88,"div",56),D(89,"img",57),m(90,"h3"),w(91,"M\xe1y \u1ea3nh"),y()(),m(92,"p"),w(93),y()()()(),D(94,"div",41),m(95,"div",58)(96,"h3",59),w(97,"My Portfolio"),y(),m(98,"div",60),De(99,Mhe,9,3,"div",61),y()(),D(100,"div",41),m(101,"div",62)(102,"div",63)(103,"h3"),w(104,"\u0110\xe1nh Gi\xe1"),y(),m(105,"div",64)(106,"div",32),D(107,"img",33)(108,"img",33)(109,"img",33)(110,"img",33)(111,"img",33),y(),m(112,"span",34),w(113,"5.0"),y()()(),m(114,"div",65)(115,"div",66)(116,"div",67)(117,"div",68),D(118,"img",69),y(),m(119,"span",70),w(120,"Lalisa Manoban "),y()(),m(121,"div",71)(122,"p"),w(123,"Kh\xf4ng c\xf2n nghi ng\u1edd g\xec n\u1eefa, \u0111\xe2y l\xe0 m\u1ed9t trong nh\u1eefng nhi\u1ebfp \u1ea3nh gia tuy\u1ec7t v\u1eddi nh\u1ea5t v\xe0 c\xf3 k\u1ef9 n\u0103ng ch\u1ee5p \u1ea3nh \u0111a d\u1ea1ng! T\xf4i th\u01b0\u1eddng kh\xf4ng \u0111\u0103ng \u0111\xe1nh gi\xe1 nh\u01b0ng c\xf4ng vi\u1ec7c \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n b\u1edfi nhi\u1ebfp \u1ea3nh gia Ph\u1ea1m Vi\u1ec7t C\u01b0\u1eddng x\u1ee9ng \u0111\xe1ng v\xe0 h\u01a1n th\u1ebf n\u1eefa! T\xf4i v\xe0 YG s\u1ebd ti\u1ebfp t\u1ee5c l\xe0m nhi\u1ec1u vi\u1ec7c h\u01a1n v\u1edbi anh \u1ea5y!!"),y()()()()(),D(124,"div",41),m(125,"div",72)(126,"h3",73),w(127,"How it Works"),y(),m(128,"div",74)(129,"div",75)(130,"div",76)(131,"div",77),D(132,"i",78),y(),m(133,"h3",79),w(134,"Book."),y()(),m(135,"div",80)(136,"div",81),D(137,"p"),y(),m(138,"div",82)(139,"p"),w(140,"Nhanh ch\xf3ng t\xecm th\u1ea5y m\u1ed9t nhi\u1ebfp \u1ea3nh gia \u0111\u01b0\u1ee3c x\u1ebfp h\u1ea1ng h\xe0ng \u0111\u1ea7u g\u1ea7n b\u1ea1n. \u0110\u1eb7t ch\u1ed7 ph\xf9 h\u1ee3p cho kho\u1ea3nh kh\u1eafc \u0111\u1eb7c bi\u1ec7t c\u1ee7a b\u1ea1n ch\u1ec9 b\u1eb1ng v\xe0i c\xfa nh\u1ea5p chu\u1ed9t \u0111\u01a1n gi\u1ea3n."),y()()()(),m(141,"div",75)(142,"div",76)(143,"div",77),D(144,"i",83),y(),m(145,"h3",79),w(146,"Sheet."),y()(),m(147,"div",80)(148,"div",81),D(149,"p"),y(),m(150,"div",82)(151,"p"),w(152,"H\xe3y th\u01b0 gi\xe3n v\xe0 t\u1eadn h\u01b0\u1edfng kho\u1ea3nh kh\u1eafc khi m\u1ed9t nhi\u1ebfp \u1ea3nh gia gi\xe0u kinh nghi\u1ec7m ch\u1ee5p \u1ea3nh cho b\u1ea1n. H\u1ecd s\u1ebd ch\u0103m s\xf3c t\u1ea5t c\u1ea3 c\xe1c chi ti\u1ebft."),y()()()(),m(153,"div",75)(154,"div",76)(155,"div",77),D(156,"i",84),y(),m(157,"h3",79),w(158,"Enjoy!."),y()(),m(159,"div",80),D(160,"div",81),m(161,"div",82)(162,"p"),w(163," Trong v\xf2ng 2 ng\xe0y l\xe0m vi\u1ec7c k\u1ec3 t\u1eeb ng\xe0y ch\u1ee5p \u1ea3nh, b\u1ea1n s\u1ebd c\xf3 th\u1ec3 xem, t\u1ea3i xu\u1ed1ng v\xe0 chia s\u1ebb. T\u1eadn h\u01b0\u1edfng t\u1ea5t c\u1ea3 m\u1ed9t l\u1ea7n n\u1eefa v\xe0 m\u1ed9t l\u1ea7n n\u1eefa. "),y()()()()()()()(),m(164,"div",85)(165,"div",86)(166,"h4"),w(167,"\u0110\u1eb7t l\u1ecbch ch\u1ee5p t\u1ef1 \u0111\u1ed9ng"),y(),De(168,Ohe,2,1,"div",87),m(169,"div",88)(170,"div",89)(171,"label",90),w(172,"Ng\xe0y ch\u1ee5p:"),y(),m(173,"app-date-picker",91),K("selectedDateChange",function(s){return i.onDateChange(s)})("selectedDateChange",function(s){return i.selectedDateU=s}),y()(),m(174,"div",92)(175,"label",93),w(176,"Th\u1eddi l\u01b0\u1ee3ng (gi\u1edd):"),y(),m(177,"app-custom-select",94),K("selectedOptionChange",function(s){return i.onOptionTLChange(s)})("selectedOptionChange",function(s){return i.selectedOptionTL=s}),m(178,"option",95),w(179,"1 gi\u1edd"),y(),m(180,"option",96),w(181,"2 gi\u1edd"),y(),m(182,"option",97),w(183,"3 gi\u1edd"),y(),m(184,"option",98),w(185,"4 gi\u1edd"),y(),m(186,"option",99),w(187,"5 gi\u1edd"),y(),m(188,"option",100),w(189,"6 gi\u1edd"),y(),m(190,"option",101),w(191,"7 gi\u1edd"),y(),m(192,"option",102),w(193,"8 gi\u1edd"),y()()(),m(194,"div",103)(195,"label",104),w(196,"Gi\u1edd h\u1eb9n:"),y(),m(197,"input",105),K("ngModelChange",function(s){return i.setTimeVal=s}),y()(),m(198,"div",106)(199,"label",93),w(200,"Lo\u1ea1i ch\u1ee5p"),y(),De(201,bhe,3,3,"ng-container",107),y(),m(202,"a",108),K("click",function(){return i.onSubmit()}),w(203,"\u0110\u1eb7t l\u1ecbch"),y(),D(204,"div",41),De(205,The,5,2,"ng-container",107),D(206,"div",41),m(207,"span",109),D(208,"i",110),w(209," 15 \u1ea3nh c\xf3 \u0111\u1ed9 ph\xe2n gi\u1ea3i cao \u1edf \u0111\u1ecbnh d\u1ea1ng JPEG "),y(),m(210,"span",109),D(211,"i",110),w(212," \u0110\xe3 ch\u1ec9nh s\u1eeda v\xe0 ch\u1ec9nh m\xe0u "),y(),m(213,"span",109),D(214,"i",110),w(215," Giao h\xe0ng sau 2 ng\xe0y l\xe0m vi\u1ec7c "),y()()(),m(216,"div",111),K("click",function(){return i.hideOrder()}),D(217,"i",112),y()(),m(218,"div",113),K("click",function(){return i.showOrder()}),D(219,"i",114),y()()),2&r&&(S(27),gs("src",null==i.userData||null==i.userData.user?null:i.userData.user.avatar,Dr),S(3),At(" ",null==i.userData||null==i.userData.user?null:i.userData.user.full_name," "),S(2),At(" ",null==i.userData||null==i.userData.user?null:i.userData.user.address," "),S(11),At("",null==i.userData||null==i.userData.user?null:i.userData.user.exp," n\u0103m kinh nghi\u1ec7m"),S(21),At(" ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.description," "),S(5),At(" ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.prize," "),S(5),At(" ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.interest," "),S(12),He(null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.language),S(7),He(null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.camera),S(6),J("ngForOf",null==i.decesData?null:i.decesData.category),S(65),J("ngClass",i.isShowOrder?"show":""),S(2),Go("data-id",null==i.userData||null==i.userData.user?null:i.userData.user.id),S(2),J("ngIf",i.isError),S(5),J("selectedDate",i.selectedDateU)("textDefault","Ng\xe0y"),S(4),J("selectedOption",i.selectedOptionTL)("textDefault","Th\u1eddi l\u01b0\u1ee3ng"),S(20),J("ngModel",i.setTimeVal),S(4),J("ngIf",i.typeOfPhoto.length>0),S(4),J("ngIf",i.costPreview),S(13),J("ngClass",i.isShowOrder?"hide":""))},dependencies:[Cs,Zo,wo,W0,q0,hl,qu,Em,_l,$T,HT],styles:['@charset "UTF-8";.forMe-wrapper[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:5rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:3rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   .avatar-image[_ngcontent-%COMP%]{height:130px;width:130px;object-fit:cover;border-radius:50%}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-name[_ngcontent-%COMP%]{margin:2px 0;color:var(--color-primary);font-weight:700;font-size:28px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-address[_ngcontent-%COMP%]{margin:4px 0;font-size:15px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-rate[_ngcontent-%COMP%]{margin:.5rem 0;display:flex;justify-content:flex-start;column-gap:.75rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:16px;width:16px;object-fit:cover}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-rate[_ngcontent-%COMP%]   .rate-text[_ngcontent-%COMP%]{font-size:15px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-exp[_ngcontent-%COMP%]{margin:4px 0}.infor-title-list[_ngcontent-%COMP%]{padding-left:2rem}.infor-title-list[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:4rem;flex-wrap:wrap;row-gap:2rem}.infor-title-list[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]   .it-item[_ngcontent-%COMP%]{list-style:none;display:inline}.infor-title-list[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]   .it-item[_ngcontent-%COMP%]   .it-link[_ngcontent-%COMP%]{text-decoration:none;display:block;font-weight:700;color:var(--color-primary);font-size:20px;text-wrap:nowrap}.infor-content-list[_ngcontent-%COMP%]{padding-top:1.5rem;padding-left:2rem}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .prize[_ngcontent-%COMP%]   .prize-title[_ngcontent-%COMP%]{color:var(--color-primary);font-size:20px;font-weight:700}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .interest[_ngcontent-%COMP%]   .interest-title[_ngcontent-%COMP%]{font-weight:700;font-size:20px;color:var(--color-primary)}.feature-wrapper[_ngcontent-%COMP%]{padding-left:2rem;padding-top:.5rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:700;font-size:20px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   .language-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   .language-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   .language-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:var(--color-primary);font-weight:700}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-left:3rem;font-size:18px;margin-top:0}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   .camera-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   .camera-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   .camera-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:var(--color-primary);font-weight:700}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:0;padding-left:3rem;font-size:18px}.portfolio[_ngcontent-%COMP%]{padding-left:2rem;padding-right:25%;padding-top:.5rem}.portfolio[_ngcontent-%COMP%]   .portfolio-title[_ngcontent-%COMP%]{font-weight:700;color:var(--color-warning)}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-auto-rows:1fr;gap:2rem}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-text-body);text-decoration:none}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   .portfolio-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:250px;object-fit:cover}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   .it-footer[_ngcontent-%COMP%]   .it-cate[_ngcontent-%COMP%]{font-size:20px;margin-bottom:10px}.appraise[_ngcontent-%COMP%]{padding-left:2rem;padding-top:.5rem}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--color-warning);font-weight:700}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;column-gap:.5rem}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:15px;width:15px;object-fit:cover}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   .rate-text[_ngcontent-%COMP%]{font-weight:700}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:.75rem}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]   .header-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;object-fit:cover}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]   .header-name[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:700}.how-it-works[_ngcontent-%COMP%]{padding-left:1.5rem;padding-top:.5rem}.how-it-works[_ngcontent-%COMP%]   .hiw-title[_ngcontent-%COMP%]{color:var(--color-warning);font-weight:700}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;flex-direction:column}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{font-size:30px;color:var(--color-primary)}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]   .title-text[_ngcontent-%COMP%]{margin:8px 0;font-size:20px;font-weight:700;color:var(--color-primary)}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:2rem;align-items:center;height:100%}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .content-deliver[_ngcontent-%COMP%]{display:flex;justify-content:center;height:auto;width:3px;margin-left:12px;background-color:var(--color-primary)}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .content-deliver[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;height:100%}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .content-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 400px 0 4rem}.content-wrapper[_ngcontent-%COMP%]   .info-wrapper[_ngcontent-%COMP%]   .deliver-line[_ngcontent-%COMP%]{height:2px;width:100%;margin:1.5rem 0;background-color:var(--color-primary)}.order-wrapper[_ngcontent-%COMP%]{background-color:var(--color-bg-body);position:fixed;top:100px;right:50px;border-radius:.3rem;box-shadow:0 2px 5px #0003;z-index:600}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]{width:300px;min-height:500px;max-height:calc(100vh - 100px);padding:20px;overflow-y:auto}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--color-light)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--color-secondary);border-radius:4px;border:2px solid var(--color-light)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;color:#333;font-size:20px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .mess-valid[_ngcontent-%COMP%]{font-size:14px;color:red}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .filter-date-picker[_ngcontent-%COMP%]{z-index:999}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;margin-top:.5rem}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%], .order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   input[type=time][_ngcontent-%COMP%], .order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:4px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:10px 15px;border:none;border-radius:4px;text-decoration:none;margin-top:1rem;text-align:center}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#0056b3}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .deliver-line[_ngcontent-%COMP%]{height:2px;width:100%;margin:1rem 0;background-color:var(--color-secondary)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .p-footer[_ngcontent-%COMP%]{color:var(--color-warning);font-weight:700;margin:0;padding-left:.5rem}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .p-footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--color-text-body)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .sug-foot[_ngcontent-%COMP%]{font-size:13px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .sug-foot[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--color-warning);font-size:18px}.order-wrapper[_ngcontent-%COMP%]   .btn-close-order[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-8px;font-size:30px;color:#000;cursor:pointer;height:30px;width:30px;border-radius:50%;background-color:var(--color-secondary);display:none}.profile-content[_ngcontent-%COMP%]{position:relative;margin-top:6rem}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(9,1fr);column-gap:.3rem;height:500px}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall2[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall4[_ngcontent-%COMP%]{grid-column:span 2;height:500px}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall4[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:.3rem}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-2[_ngcontent-%COMP%]{height:calc(250px - .15rem)}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-2[_ngcontent-%COMP%]{height:calc(250px - .15rem)}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-2[_ngcontent-%COMP%]{height:calc(250px - .15rem)}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .toggle-order-wrapper[_ngcontent-%COMP%]{position:fixed;bottom:5rem;right:1rem;width:40px;height:40px;background-color:var(--color-primary);z-index:999;display:none;font-size:30px;border-radius:50%;padding-top:3.5px;padding-left:5px;color:var(--color-light)}@media (max-width: 991.98px){.order-wrapper[_ngcontent-%COMP%]{display:none}.order-wrapper.show[_ngcontent-%COMP%]{display:block}.toggle-order-wrapper[_ngcontent-%COMP%]{display:block!important}.toggle-order-wrapper.hide[_ngcontent-%COMP%]{display:none!important}.btn-close-order[_ngcontent-%COMP%]{display:block!important}.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 2rem 0!important}}@media (max-width: 767.98px){.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 2rem 0!important}.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]{flex-direction:column;row-gap:2rem}.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .info-wrapper[_ngcontent-%COMP%]   .portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}']}),e})(),A9=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kt({type:t,selectors:[["app-layout-profile"]],decls:7,vars:0,consts:[[1,"layout-wrapper"],[1,"layout-container"],[1,"content-wrapper"],[1,"content-container"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1),D(2,"app-header"),m(3,"div",2)(4,"div",3),D(5,"router-outlet"),y()(),D(6,"app-footer"),y()())},dependencies:[tl,zT,GT],styles:[".layout-wrapper[_ngcontent-%COMP%], .layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%], .layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{width:100%}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{width:100%;margin:0 auto}@media (min-width: 1400px){.content-container[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.content-container[_ngcontent-%COMP%]{margin-top:5rem!important}}"]}),e})();function Dhe(t,e){1&t&&(m(0,"span",22),w(1,"Vui l\xf2ng nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i h\u1ee3p l\u1ec7."),y())}function She(t,e){1&t&&(m(0,"span",22),w(1,"Vui l\xf2ng nh\u1eadp email h\u1ee3p l\u1ec7."),y())}function Rhe(t,e){1&t&&(m(0,"span",22),w(1,"Vui l\xf2ng nh\u1eadp 6 ky\u0301 t\u01b0\u0323."),y())}function xhe(t,e){if(1&t){const n=Ni();m(0,"div",23)(1,"div",24),D(2,"i",25),w(3," B\u1ea1n kh\xf4ng c\xf3 \u1ea3nh tr\u1ea3. "),y(),m(4,"a",26),K("click",function(){return cr(n),Un(Qt().closeError())}),w(5," Th\u1eed l\u1ea1i "),y()()}}let khe=(()=>{var t;class e{constructor(){this.invalidEmail=!1,this.invalidPhone=!1,this.invalidCode=!1,this.isError=!1,this.email="",this.phone="",this.code=""}onChangePhone(r){let i=r.target.value;i=i.replace(/[^0-9]/g,""),this.phone=i,this.validatePhone()}onChangeEmail(r){this.email=r.target.value,this.validateEmail()}onChangeCode(r){this.code=r.target.value,this.validateCode()}onSubmit(){this.validateEmail()&&this.validatePhone()&&this.validateCode()?this.isError=!0:(this.validateEmail(),this.validatePhone(),this.validateCode())}validateEmail(){const i=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(this.email);return this.invalidEmail=!i,i}validatePhone(){const i=/^0[0-9]{9,10}$/.test(this.phone);return this.invalidPhone=!i,i}validateCode(){const r=6===this.code.length;return this.invalidCode=!r,r}closeError(){this.isError=!1}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kt({type:t,selectors:[["app-refund-picture"]],decls:32,vars:4,consts:[[1,"send-ct-wrapper"],[1,"send-ct-container"],[1,"send-ct-header"],[1,"go-home"],["routerLink","/home",1,"go-home-link"],[1,"bx","bxs-chevron-left"],[1,"brand"],["routerLink","/home",1,"brand-link"],["src","./assets/images/logo2.png","alt","logo",1,"brand-image"],[1,"send-ct-title"],[1,"send-ct-content"],[3,"ngSubmit"],[1,"form-group"],["for","phone"],["type","text","id","phone","name","phone","required","","placeholder","0123456789","appOnlyNumbers","",3,"input"],["class","validate-message",4,"ngIf"],["for","username"],["type","text","id","username","name","username","required","","placeholder","quang@gmail.com",3,"input"],["for","code"],["type","text","id","code","name","code","required","","placeholder","xxxxxx",3,"input"],["type","submit"],["class","error",4,"ngIf"],[1,"validate-message"],[1,"error"],[1,"icon-error-wr"],[1,"bx","bx-error-circle","icon-error"],["href","javascript:void(0)",1,"close-error",3,"click"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),D(5,"i",5),w(6," Trang ch\u1ee7 "),y()(),m(7,"div",6)(8,"a",7),D(9,"img",8),y()(),m(10,"h3",9),w(11," Vui l\xf2ng \u0111i\u1ec1n th\xf4ng tin c\u1ee7a b\u1ea1n. "),y()(),m(12,"div",10)(13,"form",11),K("ngSubmit",function(){return i.onSubmit()}),m(14,"div",12)(15,"label",13),w(16,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),y(),m(17,"input",14),K("input",function(s){return i.onChangePhone(s)}),y(),De(18,Dhe,2,0,"span",15),y(),m(19,"div",12)(20,"label",16),w(21,"Email"),y(),m(22,"input",17),K("input",function(s){return i.onChangeEmail(s)}),y(),De(23,She,2,0,"span",15),y(),m(24,"div",12)(25,"label",18),w(26,"Ma\u0303"),y(),m(27,"input",19),K("input",function(s){return i.onChangeCode(s)}),y(),De(28,Rhe,2,0,"span",15),y(),m(29,"button",20),w(30,"G\u1eedi"),y()()(),De(31,xhe,6,0,"div",21),y()()),2&r&&(S(18),J("ngIf",i.invalidPhone),S(5),J("ngIf",i.invalidEmail),S(5),J("ngIf",i.invalidCode),S(3),J("ngIf",i.isError))},dependencies:[wo,pi,Pm,mm,Ku,T9],styles:[".send-ct-wrapper[_ngcontent-%COMP%]{width:100%;margin:0 auto;min-height:100vh;padding:2rem;background-image:url(/assets/images/banner.jpg);background-size:cover;background-repeat:no-repeat;background-position:center}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]{padding:2rem;border-radius:.5rem;width:700px;margin:auto;min-height:calc(100vh - 4rem);background-color:#ffffffa8;box-shadow:0 0 10px #0000004d;position:relative}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem;position:relative}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{position:absolute;top:0rem;left:0rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]   .go-home-link[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;text-decoration:none;color:var(--color-primary);font-weight:700;position:relative}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .send-ct-title[_ngcontent-%COMP%]{text-align:center;color:var(--color-primary);font-size:32px;font-weight:700}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{display:flex;justify-content:center}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]   .brand-image[_ngcontent-%COMP%]{width:5rem;height:5rem;object-fit:cover}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:15px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:gray;font-weight:600;font-size:18px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 10px;border:2px solid gray;border-radius:5px;background-color:transparent;outline:none}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--color-primary)}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{width:100%;font-size:14px;color:#ff1818}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 auto;margin-top:3rem;display:block;padding:15px 25px;background-color:var(--color-primary);color:#fff;border:none;border-radius:5px;font-size:20px;cursor:pointer}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;background-color:#fff;box-shadow:0 0 10px #0000004d;display:flex;flex-direction:column;justify-content:center;row-gap:5rem;align-items:center;border-radius:.5rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]   .icon-error-wr[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:1rem;justify-content:center;align-items:center;font-weight:700;font-size:25px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]   .icon-error-wr[_ngcontent-%COMP%]   .icon-error[_ngcontent-%COMP%]{font-size:100px;color:red}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]   .close-error[_ngcontent-%COMP%]{text-decoration:none;padding:15px 20px;background-color:var(--color-primary);color:#fff;border:none;border-radius:5px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]   .close-error[_ngcontent-%COMP%]:hover{background-color:#0056b3}@media (max-width: 767.98px){.send-ct-wrapper[_ngcontent-%COMP%]{width:100%!important;padding:1rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]{width:100%;min-height:calc(100vh - 2rem)}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{top:-.5rem;left:-1rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .send-ct-title[_ngcontent-%COMP%]{font-size:26px!important}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{font-size:12px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2rem;padding:10px 15px;font-size:20px!important}}"]}),e})();function Nhe(t,e){1&t&&(m(0,"div",55)(1,"li"),D(2,"i",56)(3,"i",25)(4,"i",25)(5,"i",25)(6,"i",25),y(),m(7,"li"),D(8,"i",56)(9,"i",56)(10,"i",25)(11,"i",25)(12,"i",25),y(),m(13,"li"),D(14,"i",56)(15,"i",56)(16,"i",56)(17,"i",25)(18,"i",25),y(),m(19,"li"),D(20,"i",56)(21,"i",56)(22,"i",56)(23,"i",56)(24,"i",25),y(),m(25,"li"),D(26,"i",56)(27,"i",56)(28,"i",56)(29,"i",56)(30,"i",56),y()())}let Fhe=(()=>{var t;class e{constructor(){this.isShowAskRepair=!1,this.isDropdownOpen=!1}toggleAsk(){this.isShowAskRepair=!this.isShowAskRepair}closeAsk(){this.isShowAskRepair=!1}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kt({type:t,selectors:[["app-page-picture-refund"]],decls:99,vars:2,consts:[[1,"page-pr-wrapper"],[1,"page-header"],[1,"header-content"],[1,"header-left"],[1,"header-right"],["routerLink","/home"],[1,"page-content"],[1,"btn-control-wrapper"],["href","javascript:void(0)",1,"btn-control","active"],["href","javascript:void(0)",1,"btn-control"],[1,"picture-wrapper"],[1,"picture-content"],[1,"picture-item"],["src","./assets/images/user/Hy vu\xf4ng 2.jpg","alt",""],["src","./assets/images/user/Thanh B\xecnh 3.jpg","alt",""],[1,"link-dow-wrapper"],[1,"link-dow-content"],["href","javascript:void(0)",1,"btn-get-link"],[1,"link-dow-footer"],["href","javascript:void(0)",3,"click"],[1,"review-wrapper"],[1,"review-title"],[1,"review-content"],[1,"review-content-first"],[1,"rating"],[1,"bx","bx-star"],["class","dropdownRate",4,"ngIf"],[1,"comment"],["name","comment","id","","cols","30","rows","5"],[1,"sub-t"],[1,"review-content-second"],["href","javascript:void(0)",1,"btn","btn-hide-inf"],[1,"bx","bx-toggle-left"],["href","javascript:void(0)",1,"btn","btn-submit"],[1,"ask-repair-wrapper",3,"ngClass"],[1,"ask-repair-container"],[1,"ask-repair-content"],[1,"repair-header"],[1,"bx","bx-chevron-left"],[1,"repair-cont"],[1,"repair-content"],[1,"enter-code-picture"],[1,"ecp-title"],[1,"po-title"],[1,"repair-police"],[1,"ecp-content"],["name","","id","ecp-code","cols","30","rows","10"],[1,"po-content-wr"],[1,"po-content"],[1,"repair-submit"],[1,"rs-left"],[1,"rs-right"],["href","javascript:void(0)",1,"btn-submit-repair"],["href","javascript:void(0)",1,"btn-close-ask",3,"click"],[1,"bx","bx-x"],[1,"dropdownRate"],[1,"bx","bxs-star"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),w(5,"B\u1ed9 s\u01b0u t\u1eadp \u1ea3nh"),y(),m(6,"p"),w(7,"H\xe3y c\xf9ng th\u01b0\u1edfng th\u1ee9c b\u1ee9c h\xecnh tuy\u1ec7t v\u1eddi c\u1ee7a b\u1ea1n!"),y()(),m(8,"div",4)(9,"a",5),w(10,"Trang ch\u1ee7"),y()()()(),m(11,"div",6)(12,"div",7)(13,"a",8),w(14,"23/09/2023"),y(),m(15,"a",9),w(16,"15/09/2023"),y()(),m(17,"div",10)(18,"div",11)(19,"div",12),D(20,"img",13),y(),m(21,"div",12),D(22,"img",14),y(),m(23,"div",12),D(24,"img",13),y(),m(25,"div",12),D(26,"img",14),y(),m(27,"div",12),D(28,"img",13),y()()(),m(29,"div",15)(30,"div",16)(31,"a",17),w(32," Link Download "),y(),m(33,"span"),w(34,"File \u1ea3nh c\xf3 \u0111\u1ecbnh dang JPEG"),y()(),m(35,"div",18)(36,"a",19),K("click",function(){return i.toggleAsk()}),w(37,"Y\xeau c\u1ea7u s\u1eeda \u1ea3nh"),y()()(),m(38,"div",20)(39,"div",21)(40,"p"),w(41," \u0110\xe1nh gi\xe1 c\u1ee7a b\u1ea1n "),y()(),m(42,"div",22)(43,"div",23)(44,"div",24)(45,"span"),w(46,"Ch\u1ea5t l\u01b0\u1ee3ng: "),y(),m(47,"a",19),K("click",function(){return i.toggleDropdown()}),D(48,"i",25)(49,"i",25)(50,"i",25)(51,"i",25)(52,"i",25),y(),De(53,Nhe,31,0,"div",26),y(),m(54,"div",27)(55,"p"),w(56,"Vi\u1ebft \u0111\xe1nh gi\xe1"),y(),D(57,"textarea",28),y(),m(58,"div",29)(59,"span"),w(60,"T\u1ed1i \u0111a 450 ch\u1eef"),y()()(),m(61,"div",30)(62,"a",31),w(63," \u1ea8n danh "),D(64,"i",32),y(),m(65,"a",33),w(66,"\u0110\u0103ng"),y()()()()(),m(67,"div",34)(68,"div",35)(69,"div",36)(70,"div",37)(71,"h2"),D(72,"i",38),w(73,"Y\xeau c\u1ea7u s\u1eeda \u1ea3nh"),y()(),m(74,"div",39)(75,"div",40)(76,"div",41)(77,"div",42),w(78,"Nh\u1eadp m\xe3 \u1ea3nh"),y(),m(79,"div",43),w(80," Ch\xednh s\xe1ch y\xeau c\u1ea7u s\u1eeda \u1ea3nh "),y()(),m(81,"div",44)(82,"div",45),D(83,"textarea",46),y(),m(84,"div",47)(85,"div",48)(86,"li"),w(87,"Kh\xe1ch h\xe0ng \u0111i\u1ec1n m\xe3 \u1ea3nh \u0111\u1ed1i v\u1edbi nh\u1eefng b\u1ee9c \u1ea3nh m\xe0 m\xecnh mu\u1ed1n ch\u1ec9nh s\u1eeda"),y(),m(88,"li"),w(89,"S\u1ed1 l\u01b0\u1ee3ng b\u1ee9c \u1ea3nh \u0111\u01b0\u1ee3c s\u1eeda ph\u1ee5 thu\u1ed9c v\xe0o g\xf3i ch\u1ee5p \u1ea3nh \u0111\xe3 th\u1ecfa thu\u1eadn v\u1edbi nhi\u1ebfp \u1ea3nh gia tr\u01b0\u1edbc \u0111\xf3"),y(),m(90,"li"),w(91,"Truy c\u1eadp l\u1ea1i file nh\u1eadn \u1ea3nh \u0111\u1ec3 nh\u1eefng b\u1ee9c \u1ea3nh \u0111\xe3 \u0111\u01b0\u1ee3c ch\u1ec9nh s\u1eeda sau 2-3 ng\xe0y"),y()()()()(),m(92,"div",49),D(93,"div",50),m(94,"div",51)(95,"a",52),w(96,"G\u1eedi y\xeau c\u1ea7u"),y()()()(),m(97,"a",53),K("click",function(){return i.closeAsk()}),D(98,"i",54),y()()()()()),2&r&&(S(53),J("ngIf",i.isDropdownOpen),S(14),J("ngClass",i.isShowAskRepair?"active":""))},dependencies:[Cs,wo,pi],styles:[".page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{background-color:var(--color-primary);height:140px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;height:100%;padding:0 2rem;margin:0 auto}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{padding-bottom:2rem;display:flex;flex-direction:column;justify-content:flex-end}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:700;color:var(--color-light)}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-light);font-weight:100;margin:.3rem 0 0}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:300;color:var(--color-light);text-decoration:none}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:4rem 2rem;margin:0 auto}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .btn-control-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:.5rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .btn-control-wrapper[_ngcontent-%COMP%]   .btn-control[_ngcontent-%COMP%]{line-height:40px;padding:0 30px;border:2px solid var(--color-primary);border-radius:.3rem;color:#000;background-color:var(--color-light);text-decoration:none}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .btn-control-wrapper[_ngcontent-%COMP%]   .btn-control.active[_ngcontent-%COMP%]{background-color:var(--color-info);border-color:var(--color-info);color:var(--color-light)}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]{padding-top:3.5rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-content[_ngcontent-%COMP%]   .picture-item[_ngcontent-%COMP%]{width:100%}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-content[_ngcontent-%COMP%]   .picture-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .link-dow-wrapper[_ngcontent-%COMP%]{margin-top:3rem;border:2px solid black;border-radius:.3rem;height:250px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .link-dow-wrapper[_ngcontent-%COMP%]   .link-dow-content[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .link-dow-wrapper[_ngcontent-%COMP%]   .link-dow-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{line-height:50px;padding:0 70px;background-color:var(--color-info);border-color:var(--color-info);color:var(--color-light);text-decoration:none;font-size:22px;font-weight:700;border-radius:.2rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .link-dow-wrapper[_ngcontent-%COMP%]   .link-dow-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:1rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .link-dow-wrapper[_ngcontent-%COMP%]   .link-dow-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:.5rem 0}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .link-dow-wrapper[_ngcontent-%COMP%]   .link-dow-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:600}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]{padding:3rem 0}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]{border:2px solid black;border-radius:.3rem;background-color:var(--color-light);height:200px;padding:.3rem 1rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]{position:relative}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-warning)}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]   .dropdownRate[_ngcontent-%COMP%]{position:absolute;left:5rem;background-color:var(--color-light);border-radius:.3rem;box-shadow:0 0 .5rem;padding:0 5px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]   .dropdownRate[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:30px;list-style:none;color:var(--color-warning);cursor:pointer;display:block}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:4px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;border:none;outline:none;resize:none;padding:.25rem 0}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--color-light)}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--color-secondary);border-radius:4px;border:2px solid var(--color-light)}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .sub-t[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;font-size:14px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-second[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:1rem;column-gap:1rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-second[_ngcontent-%COMP%]   .btn-hide-inf[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;text-decoration:none;color:var(--color-text-body)}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-second[_ngcontent-%COMP%]   .btn-hide-inf[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:.3rem;font-size:40px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-second[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]{line-height:40px;background-color:var(--color-primary);color:var(--color-light);border-radius:.3rem;padding:0 25px;text-decoration:none}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;z-index:900}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;justify-content:center;align-items:center;position:relative}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]{height:90%;width:90%;margin:auto;background-color:var(--color-light);position:relative;transform:translateY(-200%)}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-header[_ngcontent-%COMP%]{background-color:var(--color-primary);height:120px;display:flex;justify-content:flex-start;align-items:flex-end;padding:1rem 2rem}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:var(--color-light);font-weight:500;display:flex;align-items:center}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:50px}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]{max-height:calc(100% - 120px);overflow-y:auto;position:relative}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]{padding:2rem 3rem}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .enter-code-picture[_ngcontent-%COMP%]{display:grid;column-gap:1rem;grid-template-columns:repeat(2,1fr);margin-bottom:1.5rem}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .enter-code-picture[_ngcontent-%COMP%]   .ecp-title[_ngcontent-%COMP%], .page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .enter-code-picture[_ngcontent-%COMP%]   .po-title[_ngcontent-%COMP%]{grid-column:span 1}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .repair-police[_ngcontent-%COMP%]{display:grid;column-gap:1rem;grid-template-columns:repeat(2,1fr)}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .repair-police[_ngcontent-%COMP%]   .ecp-content[_ngcontent-%COMP%]{grid-column:span 1;width:100%;height:100%}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .repair-police[_ngcontent-%COMP%]   .ecp-content[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:100%;width:100%;outline:none;border:2px solid var(--color-secondary);padding:.5rem;resize:none}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .repair-police[_ngcontent-%COMP%]   .po-content-wr[_ngcontent-%COMP%]{grid-column:span 1;padding:1rem;display:flex;justify-content:center;align-items:center;background-color:var(--color-secondary);height:100%}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-submit[_ngcontent-%COMP%]{padding:0 3rem;margin-bottom:3rem;display:flex;justify-content:space-between}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-submit[_ngcontent-%COMP%]   .rs-right[_ngcontent-%COMP%]{width:calc(50% - .5rem);height:40px;display:flex}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-submit[_ngcontent-%COMP%]   .rs-right[_ngcontent-%COMP%]   .btn-submit-repair[_ngcontent-%COMP%]{border-radius:.3rem;height:100%;background-color:var(--color-primary);color:var(--color-light);width:100%;text-align:center;text-decoration:none;line-height:40px}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .btn-close-ask[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;color:var(--color-light);font-weight:700;font-size:28px;width:25px;height:25px;border-radius:50%;display:flex;justify-content:center;align-items:center;text-decoration:none}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .btn-close-ask[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary);color:#000;transform:rotate(35deg)}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper.active[_ngcontent-%COMP%]{display:block}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper.active[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]{transform:translateY(0)}@media (min-width: 1400px){.header-content[_ngcontent-%COMP%], .page-content[_ngcontent-%COMP%], .ask-repair-content[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.page-pr-wrapper[_ngcontent-%COMP%]   .picture-content[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}"]}),e})();const Lhe=["iconToggle"],Vhe=["searchInput"],Uhe=["searchBarToggle"],Bhe=["navSearch"];function jhe(t,e){1&t&&(m(0,"div",34)(1,"p"),w(2,"hk"),y(),m(3,"p"),w(4,"hk"),y(),m(5,"p"),w(6,"hk"),y(),m(7,"p"),w(8,"hk"),y()())}const $he=function(t){return{"search-bar-block":t}};let D9=(()=>{var t;class e{constructor(r){this.eventService=r,this.isShowSearchBar=!1,this.isMenuVisible=!1,this.inputValue="",this.toggleSuggest=!1}showMenu(){this.isMenuVisible=!0,this.eventService.emitEvent("showMenuFromNavbar",this.isMenuVisible)}toggleSearch(){this.isShowSearchBar=!this.isShowSearchBar,this.isShowSearchBar&&setTimeout(()=>{this.searchInput.nativeElement.focus()}),this.inputValue="",this.toggleSuggest=!1,this.eventService.emitEvent("toggleSuggestSearch",this.toggleSuggest)}onInputChange(r){this.inputValue=r.target.value,this.toggleSuggest=""!==this.inputValue.trim(),this.eventService.emitEvent("toggleSuggestSearch",this.toggleSuggest)}closeDropdown(r){!this.searchBarToggle.nativeElement.contains(r.target)&&!this.navSearch.nativeElement.contains(r.target)&&this.isShowSearchBar&&(this.toggleSuggest=!1,this.inputValue="",this.isShowSearchBar=!1,this.eventService.emitEvent("toggleSuggestSearch",this.toggleSuggest))}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(cP))},t.\u0275cmp=kt({type:t,selectors:[["app-navbar-admin"]],viewQuery:function(r,i){if(1&r&&(Xn(Lhe,5),Xn(Vhe,5),Xn(Uhe,5),Xn(Bhe,5)),2&r){let o;jn(o=$n())&&(i.iconToggle=o.first),jn(o=$n())&&(i.searchInput=o.first),jn(o=$n())&&(i.searchBarToggle=o.first),jn(o=$n())&&(i.navSearch=o.first)}},hostBindings:function(r,i){1&r&&K("click",function(s){return i.closeDropdown(s)},0,Ou)},decls:39,vars:5,consts:[[1,"navbar-container"],[1,"toggle-menu"],[1,"toggle-icon"],["href","javascript:void(0)",1,"toggle-link","nav-link",3,"click"],["iconToggle",""],[1,"bx","bx-menu","bx-sm"],[1,"navbar-content"],[1,"nav-left"],[1,"nav-search-wrapper"],["navSearch",""],[1,"nav-search-icon"],["href","javascript:void(0)",1,"search-link","nav-link",3,"click"],[1,"bx","bx-search","bx-sm"],[1,"search-placeholder"],[1,"nav-right"],[1,"language","language-dropdown","nav-item"],["href","javascript:void(0)",1,"nav-link"],[1,"bx","bx-globe","bx-sm"],[1,"nav-item"],[1,"bx","bx-grid-alt","bx-sm"],[1,"bx","bx-bell","bx-sm"],[1,"badge-notifications"],[1,"nav-item","navbar-dropdown","dropdown-user","dropdown"],["href","javascript:void(0);","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle","hide-arrow"],[1,"avatar","avatar-online"],["src","./assets/images/avatar.png","alt","",1,"w-px-40","h-auto","rounded-circle"],[1,"search-toggle",3,"ngClass"],["searchBarToggle",""],[1,"search-toggle-content"],["type","text","id","ip","placeholder","Search...",3,"value","input"],["searchInput",""],["href","javascript:void(0)",1,"nav-link","search-close",3,"click"],[1,"bx","bx-x","bx-sm"],["class","search-suggest",4,"ngIf"],[1,"search-suggest"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3,4),K("click",function(){return i.showMenu()}),D(5,"i",5),y()()(),m(6,"div",6)(7,"div",7)(8,"div",8,9)(10,"div",10)(11,"a",11),K("click",function(){return i.toggleSearch()}),D(12,"i",12),m(13,"span",13),w(14,"Search (Ctrl+/)"),y()()()()(),m(15,"div",14)(16,"li",15)(17,"a",16),D(18,"i",17),y()(),m(19,"li",18)(20,"a",16),D(21,"i",19),y()(),m(22,"li",18)(23,"a",16),D(24,"i",20),m(25,"span",21),w(26,"5"),y()()(),m(27,"li",22)(28,"a",23)(29,"div",24),D(30,"img",25),y()()()()(),m(31,"div",26,27)(33,"div",28)(34,"input",29,30),K("input",function(s){return i.onInputChange(s)}),y(),m(36,"a",31),K("click",function(){return i.toggleSearch()}),D(37,"i",32),y(),De(38,jhe,9,0,"div",33),y()()()),2&r&&(S(31),J("ngClass",yo(3,$he,i.isShowSearchBar)),S(3),J("value",i.inputValue),S(4),J("ngIf",i.toggleSuggest))},dependencies:[Cs,wo],styles:['.nav-link[_ngcontent-%COMP%]{padding:.5rem 0;display:flex;align-items:center;text-decoration:none;color:#697a8d}.nav-item[_ngcontent-%COMP%]{list-style-type:none}.search-bar-block[_ngcontent-%COMP%]{display:block!important;opacity:1;transform:translateY(0)}.navbar-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center}.navbar-container[_ngcontent-%COMP%]   i.bx[_ngcontent-%COMP%]{padding-top:.125rem}.navbar-container[_ngcontent-%COMP%]   .toggle-menu[_ngcontent-%COMP%]{margin-right:1.2rem}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]{display:flex;flex-basis:100%}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-left[_ngcontent-%COMP%]{display:flex;align-items:center}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-left[_ngcontent-%COMP%]   .search-placeholder[_ngcontent-%COMP%]{display:none;text-wrap:nowrap;color:#a1acb8!important;opacity:1;padding-left:.25rem}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:auto!important}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{margin-right:1rem;position:relative}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .badge-notifications[_ngcontent-%COMP%]{border-radius:100%;position:absolute;top:3px;right:-7px;background-color:var(--bs-red);width:1.1rem;height:1.1rem;color:var(--bs-white);font-size:10px;display:flex;justify-content:center;align-items:center;font-weight:700}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%]   li.dropdown-user[_ngcontent-%COMP%]{margin-right:0}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%]   li.dropdown-user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:2.375rem;height:2.375rem;position:relative}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%]   li.dropdown-user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;border-radius:50%}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%]   li.dropdown-user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]:after{content:"";width:8px;height:8px;position:absolute;right:3px;bottom:0;background-color:var(--bs-success);border-radius:50%}.navbar-container[_ngcontent-%COMP%]   .search-toggle[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:var(--bs-white);padding-left:1.5rem;padding-right:.5rem;border-radius:.375rem;box-shadow:0 0 .375rem .25rem #a1acb826;display:none}.navbar-container[_ngcontent-%COMP%]   .search-toggle[_ngcontent-%COMP%]   .search-toggle-content[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%}.navbar-container[_ngcontent-%COMP%]   .search-toggle[_ngcontent-%COMP%]   .search-toggle-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:0!important;outline:none!important;font-family:var(--bs-body-font-family);font-size:var(--bs-body-font-size);font-weight:var(--bs-body-font-weight);color:var(--bs-body-color);opacity:1}.navbar-container[_ngcontent-%COMP%]   .search-toggle[_ngcontent-%COMP%]   .search-toggle-content[_ngcontent-%COMP%]   .search-close[_ngcontent-%COMP%]{margin-left:auto;margin-right:.5rem}.navbar-container[_ngcontent-%COMP%]   .search-toggle[_ngcontent-%COMP%]   .search-toggle-content[_ngcontent-%COMP%]   .search-suggest[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 3px);left:0;right:0;background-color:var(--bs-white);border-radius:.375rem;box-shadow:0 0 .375rem .25rem #a1acb826}@media (min-width: 1200px){.navbar-container[_ngcontent-%COMP%]   .toggle-menu[_ngcontent-%COMP%]{display:none}}@media (min-width: 768px){.search-placeholder[_ngcontent-%COMP%]{display:inline-block!important}}']}),e})(),Hhe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kt({type:t,selectors:[["app-footer-admin"]],decls:2,vars:0,template:function(r,i){1&r&&(m(0,"p"),w(1,"footer-admin works!"),y())}}),e})(),zhe=(()=>{var t;class e{constructor(r){this.eventService=r,this.isShow=!1}toggleMenuDropdown(){this.isShow=!this.isShow}hideMenu(){this.eventService.emitEvent("hideMenuFromIconClose",!1)}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(cP))},t.\u0275cmp=kt({type:t,selectors:[["app-menu-admin"]],decls:38,vars:1,consts:[[1,"layout-menu"],[1,"brand-wrapper"],["routerLink","/admin/home",1,"brand-link"],["src","./assets/images/logo2.png","alt","logo",1,"brand-img"],[1,"brand-text"],["href","javascript:void(0)",1,"btn-close-menu",3,"click"],[1,"bx","bx-chevron-left","bx-sm","align-middle"],[1,"menu-container"],[1,"menu-content"],[1,"menu-list"],[1,"menu-item"],["routerLink","/admin/home",1,"menu-link"],[1,"menu-icon","bx","bx-home-circle"],[1,"text-truncate"],[1,"menu-item","menu-dropdown",3,"ngClass","click"],["href","javascript:void(0)",1,"menu-link"],[1,"menu-icon","bx","bx-list-ul"],[1,"menu-dropdown-list"],[1,"menu-dropdown-item"],["routerLink","/admin/order",1,"menu-dropdown-link"],[1,"menu-icon","bx","bxs-circle"],["routerLink","/admin/order-accept",1,"menu-dropdown-link"],["routerLink","",1,"menu-link"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"a",2),D(3,"img",3),m(4,"span",4),w(5,"PhotoHub"),y()(),m(6,"a",5),K("click",function(){return i.hideMenu()}),D(7,"i",6),y()(),m(8,"div",7)(9,"div",8)(10,"ul",9)(11,"li",10)(12,"a",11),D(13,"i",12),m(14,"div",13),w(15,"Trang ch\u1ee7"),y()()(),m(16,"li",14),K("click",function(){return i.toggleMenuDropdown()}),m(17,"a",15),D(18,"i",16),m(19,"div",13),w(20,"Qu\u1ea3n l\xfd booking"),y()(),m(21,"ul",17)(22,"li",18)(23,"a",19),D(24,"i",20),m(25,"div",13),w(26,"Danh s\xe1ch booking"),y()()(),m(27,"li",18)(28,"a",21),D(29,"i",20),m(30,"div",13),w(31,"Duy\u1ec7t booking"),y()()()()(),m(32,"li",10),D(33,"a",22),y(),m(34,"li",10),D(35,"a",22),y(),m(36,"li",10),D(37,"a",22),y()()()()()),2&r&&(S(16),J("ngClass",i.isShow?"show":""))},dependencies:[Cs,pi],styles:['.layout-menu[_ngcontent-%COMP%]{width:100%;position:relative}.layout-menu[_ngcontent-%COMP%]   .brand-wrapper[_ngcontent-%COMP%]{position:relative;padding:0 2rem;display:flex;align-items:center;margin-top:2rem;margin-bottom:1rem}.layout-menu[_ngcontent-%COMP%]   .brand-wrapper[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]{color:#566a7f;text-decoration:none;display:flex;align-items:center}.layout-menu[_ngcontent-%COMP%]   .brand-wrapper[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]   .brand-img[_ngcontent-%COMP%]{height:40px;width:40px;object-fit:cover;border-radius:50%}.layout-menu[_ngcontent-%COMP%]   .brand-wrapper[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]   .brand-text[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700!important;opacity:1;margin-left:.75rem}.layout-menu[_ngcontent-%COMP%]   .brand-wrapper[_ngcontent-%COMP%]   .btn-close-menu[_ngcontent-%COMP%]{position:absolute;right:-10px;background-color:var(--bs-dark);color:var(--bs-white);font-weight:700;border-radius:50%;width:26px;height:26px}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]{margin:0;padding:0}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{display:block}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]{display:block;margin:0 1rem;padding:0 1rem;line-height:2.5rem;text-decoration:none;color:var(--bs-body-color);font-weight:600;display:flex;justify-content:flex-start;align-items:center}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{width:1.5rem;flex-grow:0;flex-shrink:0;margin-right:.5rem;font-size:1.25rem}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]{margin:0;padding:0;display:none}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-item[_ngcontent-%COMP%]{display:block}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-item[_ngcontent-%COMP%]   .menu-dropdown-link[_ngcontent-%COMP%]{position:relative;display:block;margin:0 1rem;padding:0 1rem 0 2rem;line-height:2.5rem;text-decoration:none;color:var(--bs-body-color);font-weight:600;display:flex;justify-content:flex-start;align-items:center}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-item[_ngcontent-%COMP%]   .menu-dropdown-link[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{width:1.5rem;flex-grow:0;flex-shrink:0;margin-right:.5rem;font-size:.75rem}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-link[_ngcontent-%COMP%]{padding-left:3rem}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-link[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{font-size:.5rem}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item.menu-dropdown[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]{position:relative}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item.menu-dropdown[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;display:block;width:.42em;height:.42em;border:1px solid;border-bottom:0;right:.5rem;border-left:0;transform:translateY(-50%) rotate(45deg)}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown-item.menu-dropdown[_ngcontent-%COMP%] > .menu-dropdown-link[_ngcontent-%COMP%]{position:relative}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown-item.menu-dropdown[_ngcontent-%COMP%] > .menu-dropdown-link[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;display:block;width:.42em;height:.42em;border:1px solid;border-bottom:0;right:.5rem;border-left:0;transform:translateY(-50%) rotate(45deg)}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown.show[_ngcontent-%COMP%] > .menu-dropdown-list[_ngcontent-%COMP%]{display:block!important}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown.show[_ngcontent-%COMP%] > .menu-link[_ngcontent-%COMP%]:after{transform:translateY(-50%) rotate(135deg)!important}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown.show[_ngcontent-%COMP%] > .menu-dropdown-link[_ngcontent-%COMP%]:after{transform:translateY(-50%) rotate(135deg)!important}@media (max-width: 1199.98px){.brand-wrapper[_ngcontent-%COMP%]:before{content:"";position:absolute;right:-16px;width:38px;height:38px;background-color:var(--bs-body-bg);border-radius:50%}}@media (min-width: 1200px){.brand-wrapper[_ngcontent-%COMP%]   .btn-close-menu[_ngcontent-%COMP%]{display:none!important}}']}),e})();const Ghe=["layoutMenu"],Whe=function(t){return{"layout-menu-toggle":t}},qhe=function(t,e){return{"layout-overlay-toggle":t,"layout-overlay-increase-zindex":e}},Khe=[{path:"",component:nhe,children:xde},{path:"collection",component:b9,children:kde},{path:"auth",component:WT,children:Nde},{path:"contact",component:WT,children:[{path:"",component:Ehe,title:"Contact send"}]},{path:"refund-picture",component:WT,children:[{path:"",component:khe,title:"Refund pictures"}]},{path:"profile/:id",component:A9,children:[{path:"",component:Ahe,title:"Profile"}]},{path:"user",component:b9,children:Fde},{path:"refund-pc",component:Fhe},{path:"partner/:id",component:A9,children:Lde},{path:"admin",component:(()=>{var t;class e{constructor(r){this.eventService=r,this.isShowOverlay=!1,this.isShowMenu=!1}ngOnInit(){this.eventService.registerEvent("toggleSuggestSearch").subscribe(r=>{this.isShowOverlay=r}),this.eventService.registerEvent("showMenuFromNavbar").subscribe(r=>{this.isShowMenu=r,this.isShowOverlay=r}),this.eventService.registerEvent("hideMenuFromIconClose").subscribe(r=>{this.isShowMenu=r,this.isShowOverlay=r})}closeDropdown(r){const i=this.navbar?.iconToggle.nativeElement;!this.layoutMenu.nativeElement.contains(r.target)&&!i.contains(r.target)&&this.isShowMenu&&(this.isShowMenu=!1,this.isShowOverlay=!1)}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(cP))},t.\u0275cmp=kt({type:t,selectors:[["app-layout-admin"]],viewQuery:function(r,i){if(1&r&&(Xn(D9,5),Xn(Ghe,5)),2&r){let o;jn(o=$n())&&(i.navbar=o.first),jn(o=$n())&&(i.layoutMenu=o.first)}},hostBindings:function(r,i){1&r&&K("click",function(s){return i.closeDropdown(s)},0,Ou)},decls:14,vars:7,consts:[[1,"layout-wrapper"],[1,"layout-container"],[1,"layout-menu",3,"ngClass"],["layoutMenu",""],[1,"layout-page"],[1,"layout-navbar"],[1,"content-wrapper"],[1,"content-container"],[1,"layout-footer"],[1,"layout-overlay",3,"ngClass"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2,3),D(4,"app-menu-admin"),y(),m(5,"div",4)(6,"div",5),D(7,"app-navbar-admin"),y(),m(8,"div",6)(9,"div",7),D(10,"router-outlet"),y(),m(11,"div",8),D(12,"app-footer-admin"),y()()()(),D(13,"div",9),y()),2&r&&(S(2),J("ngClass",yo(2,Whe,i.isShowMenu)),S(11),J("ngClass",JL(4,qhe,i.isShowOverlay,i.isShowMenu)))},dependencies:[Cs,tl,Hhe,zhe,D9],styles:["[_ngcontent-%COMP%]:root{font-size:var(--bs-root-font-size)}@media (prefers-reduced-motion: no-preference){[_ngcontent-%COMP%]:root{scroll-behavior:smooth}}body[_ngcontent-%COMP%]{margin:0;font-family:var(--bs-body-font-family);font-size:var(--bs-body-font-size);font-weight:var(--bs-body-font-weight);line-height:var(--bs-body-line-height);color:var(--bs-body-color);text-align:var(--bs-body-text-align);background-color:var(--bs-body-bg);-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(67,89,113,0)}.bg-light[_ngcontent-%COMP%]{background-color:var(--bs-white)}.layout-overlay-toggle[_ngcontent-%COMP%]{display:block!important}.layout-overlay-increase-zindex[_ngcontent-%COMP%]{z-index:1050!important}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]{display:flex;align-items:stretch}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-menu[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;width:16.25rem;background-color:var(--bs-white);box-shadow:0 .125rem .375rem #a1acb81f;z-index:1080}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]{width:100%;padding:4.625rem 0 0}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]   .layout-navbar[_ngcontent-%COMP%]{position:fixed;top:0;right:0;left:16.25rem;padding:0 1.5rem;margin:.75rem auto 0;width:calc(100% - 19.5rem);height:3.875rem;background-color:var(--bs-white);border-radius:.375rem;box-shadow:0 0 .375rem .25rem #a1acb826;z-index:1024}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding-left:16.25rem;margin-top:0}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{min-height:calc(100vh - 4.625rem);margin:0 auto;padding:1.675rem 1.675rem 0}.layout-wrapper[_ngcontent-%COMP%]   .layout-overlay[_ngcontent-%COMP%]{position:fixed;top:0;right:0;height:100%!important;left:0;display:none;background:#435971;opacity:.5;cursor:pointer;z-index:999}@media (max-width: 1199.98px){.layout-menu-toggle[_ngcontent-%COMP%]{transform:translateZ(0)!important}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-menu[_ngcontent-%COMP%]{position:fixed!important;top:0;left:0;transition:transform .5s ease;transform:translate3d(-200%,0,0);will-change:transform -webkit-transform}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]{width:100%}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]   .layout-navbar[_ngcontent-%COMP%]{left:0;width:calc(100% - 3.25rem)}}@media (min-width: 1400px){.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]   .layout-navbar[_ngcontent-%COMP%]{max-width:calc(1440px - 3.35rem)}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{max-width:1440px}}"]}),e})(),children:Vde},{path:"test",component:(()=>{var t;class e{constructor(r){this.fileStorage=r}onChangeFile(r){this.file=r.target.files[0],this.file&&console.log(this.file)}onUpload(){var r=this;return(0,k.Z)(function*(){const i=`yt/${r.file.name}`,s=yield(yield r.fileStorage.upload(i,r.file)).ref.getDownloadURL();console.log(s)})()}}return(t=e).\u0275fac=function(r){return new(r||t)(ee(sP))},t.\u0275cmp=kt({type:t,selectors:[["app-test1"]],decls:5,vars:0,consts:[["for","ig1"],["type","file","name","image","id","ig1",3,"change"],["type","button",3,"click"]],template:function(r,i){1&r&&(m(0,"label",0),w(1,"Upload"),y(),m(2,"input",1),K("change",function(s){return i.onChangeFile(s)}),y(),m(3,"button",2),K("click",function(){return i.onUpload()}),w(4,"Up"),y())}}),e})()}];let Zhe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Vn({type:t}),t.\u0275inj=Yn({imports:[g5.forRoot(Khe),g5]}),e})(),Yhe=(()=>{var t;class e{constructor(){this.title="photohub"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kt({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&D(0,"router-outlet")},dependencies:[tl]}),e})();class lP{}class uP{}class ia{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof ia?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new ia;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof ia?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(n);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class Qhe{encodeKey(e){return S9(e)}encodeValue(e){return S9(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Jhe=/%(\d[a-f0-9])/gi,epe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function S9(t){return encodeURIComponent(t).replace(Jhe,(e,n)=>epe[n]??e)}function dP(t){return`${t}`}class yl{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Qhe,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Xhe(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(dP):[dP(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new yl({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(dP(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(dP(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class tpe{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function R9(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function x9(t){return typeof Blob<"u"&&t instanceof Blob}function k9(t){return typeof FormData<"u"&&t instanceof FormData}class xm{constructor(e,n,r,i){let o;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function npe(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new ia),this.context||(this.context=new tpe),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new yl,this.urlWithParams=n}serializeBody(){return null===this.body?null:R9(this.body)||x9(this.body)||k9(this.body)||function rpe(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof yl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||k9(this.body)?null:x9(this.body)?this.body.type||null:R9(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof yl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const h=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((f,_)=>f.set(_,e.setHeaders[_]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((f,_)=>f.set(_,e.setParams[_]),l)),new xm(n,r,o,{params:l,headers:c,context:h,reportProgress:a,responseType:i,withCredentials:s})}}var Np=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Np||{});class qT{constructor(e,n=200,r="OK"){this.headers=e.headers||new ia,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class KT extends qT{constructor(e={}){super(e),this.type=Np.ResponseHeader}clone(e={}){return new KT({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Fp extends qT{constructor(e={}){super(e),this.type=Np.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Fp({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class N9 extends qT{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function ZT(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let ipe=(()=>{var t;class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof xm)s=r;else{let l,h;l=o.headers instanceof ia?o.headers:new ia(o.headers),o.params&&(h=o.params instanceof yl?o.params:new yl({fromObject:o.params})),s=new xm(r,i,void 0!==o.body?o.body:null,{headers:l,context:o.context,params:h,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const a=q(s).pipe(tp(l=>this.handler.handle(l)));if(r instanceof xm||"events"===o.observe)return a;const c=a.pipe(Yo(l=>l instanceof Fp));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(_e(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(_e(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(_e(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return c.pipe(_e(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:(new yl).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,ZT(o,i))}post(r,i,o={}){return this.request("POST",r,ZT(o,i))}put(r,i,o={}){return this.request("PUT",r,ZT(o,i))}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(lP))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();function V9(t,e){return e(t)}function spe(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const cpe=new fe(""),km=new fe(""),U9=new fe("");function lpe(){let t=null;return(e,n)=>{null===t&&(t=(we(cpe,{optional:!0})??[]).reduceRight(spe,V9));const r=we(uw),i=r.add();return t(e,n).pipe(b_(()=>r.remove(i)))}}let B9=(()=>{var t;class e extends lP{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=we(uw)}handle(r){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(km),...this.injector.get(U9,[])]));this.chain=o.reduceRight((s,a)=>function ape(t,e,n){return(r,i)=>n.runInContext(()=>e(r,o=>t(o,i)))}(s,a,this.injector),V9)}const i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(b_(()=>this.pendingTasks.remove(i)))}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(uP),ie(go))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const ppe=/^\)\]\}',?\n/;let $9=(()=>{var t;class e{constructor(r){this.xhrFactory=r}handle(r){if("JSONP"===r.method)throw new X(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?R(i.\u0275loadImpl()):q(null)).pipe(Je(()=>new st(s=>{const a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((b,L)=>a.setRequestHeader(b,L.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const b=r.detectContentTypeHeader();null!==b&&a.setRequestHeader("Content-Type",b)}if(r.responseType){const b=r.responseType.toLowerCase();a.responseType="json"!==b?b:"text"}const c=r.serializeBody();let l=null;const h=()=>{if(null!==l)return l;const b=a.statusText||"OK",L=new ia(a.getAllResponseHeaders()),N=function fpe(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(a)||r.url;return l=new KT({headers:L,status:a.status,statusText:b,url:N}),l},f=()=>{let{headers:b,status:L,statusText:N,url:H}=h(),$=null;204!==L&&($=typeof a.response>"u"?a.responseText:a.response),0===L&&(L=$?200:0);let pe=L>=200&&L<300;if("json"===r.responseType&&"string"==typeof $){const Oe=$;$=$.replace(ppe,"");try{$=""!==$?JSON.parse($):null}catch(at){$=Oe,pe&&(pe=!1,$={error:at,text:$})}}pe?(s.next(new Fp({body:$,headers:b,status:L,statusText:N,url:H||void 0})),s.complete()):s.error(new N9({error:$,headers:b,status:L,statusText:N,url:H||void 0}))},_=b=>{const{url:L}=h(),N=new N9({error:b,status:a.status||0,statusText:a.statusText||"Unknown Error",url:L||void 0});s.error(N)};let v=!1;const E=b=>{v||(s.next(h()),v=!0);let L={type:Np.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(L.total=b.total),"text"===r.responseType&&a.responseText&&(L.partialText=a.responseText),s.next(L)},I=b=>{let L={type:Np.UploadProgress,loaded:b.loaded};b.lengthComputable&&(L.total=b.total),s.next(L)};return a.addEventListener("load",f),a.addEventListener("error",_),a.addEventListener("timeout",_),a.addEventListener("abort",_),r.reportProgress&&(a.addEventListener("progress",E),null!==c&&a.upload&&a.upload.addEventListener("progress",I)),a.send(c),s.next({type:Np.Sent}),()=>{a.removeEventListener("error",_),a.removeEventListener("abort",_),a.removeEventListener("load",f),a.removeEventListener("timeout",_),r.reportProgress&&(a.removeEventListener("progress",E),null!==c&&a.upload&&a.upload.removeEventListener("progress",I)),a.readyState!==a.DONE&&a.abort()}})))}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(B3))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const YT=new fe("XSRF_ENABLED"),H9=new fe("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),z9=new fe("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class G9{}let mpe=(()=>{var t;class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=R3(r,this.cookieName),this.lastCookieString=r),this.lastToken}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(vo),ie(_o),ie(H9))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();function ype(t,e){const n=t.url.toLowerCase();if(!we(YT)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=we(G9).getToken(),i=we(z9);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var vl=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(vl||{});function Xu(t,e){return{\u0275kind:t,\u0275providers:e}}function vpe(...t){const e=[ipe,$9,B9,{provide:lP,useExisting:B9},{provide:uP,useExisting:$9},{provide:km,useValue:ype,multi:!0},{provide:YT,useValue:!0},{provide:G9,useClass:mpe}];for(const n of t)e.push(...n.\u0275providers);return function AO(t){return{\u0275providers:t}}(e)}const W9=new fe("LEGACY_INTERCEPTOR_FN");let wpe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Vn({type:t}),t.\u0275inj=Yn({providers:[vpe(Xu(vl.LegacyInterceptors,[{provide:W9,useFactory:lpe},{provide:km,useExisting:W9,multi:!0}]))]}),e})();class Nm{constructor(e){return e}}class q9{constructor(){return(0,We.getApps)()}}const QT=new fe("angularfire2._apps"),Tpe={provide:Nm,useFactory:function bpe(t){return t&&1===t.length?t[0]:new Nm((0,We.getApp)())},deps:[[new p,QT]]},Ape={provide:q9,deps:[[new p,QT]]};function Dpe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Nm(r)}}let Spe=(()=>{var t;class e{constructor(r){(0,We.registerVersion)("angularfire",ml.full,"core"),(0,We.registerVersion)("angularfire",ml.full,"app"),(0,We.registerVersion)("angular",WO.full,r.toString())}}return t=e,Le(e,"\u0275fac",function(r){return new(r||t)(ie(_o))}),Le(e,"\u0275mod",Vn({type:t})),Le(e,"\u0275inj",Yn({providers:[Tpe,Ape]})),e})();function Rpe(t,...e){return{ngModule:Spe,providers:[{provide:QT,useFactory:Dpe(t),multi:!0,deps:[Tt,ki,bp,...e]}]}}const xpe=function K9(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Z9=new M.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),pP=new fi.Yd("@firebase/auth");function fP(t,...e){pP.logLevel<=fi.in.ERROR&&pP.error(`Auth (${We.SDK_VERSION}): ${t}`,...e)}function io(t,...e){throw XT(t,...e)}function oa(t,...e){return XT(t,...e)}function XT(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Z9.create(t,...e)}function ge(t,e,...n){if(!t)throw XT(e,...n)}function sa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw fP(e),new Error(e)}function Cl(t,e){t||sa(e)}function Q9(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Lm{constructor(e,n){this.shortDelay=e,this.longDelay=n,Cl(n>e,"Short delay should be less than long delay!"),this.isMobile=(0,M.uI)()||(0,M.b$)()}get(){return function Npe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function JT(){return"http:"===Q9()||"https:"===Q9()}()||(0,M.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class X9{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void sa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void sa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void sa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Lpe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Vpe=new Lm(3e4,6e4);function kn(t,e,n,r){return tA.apply(this,arguments)}function tA(){return(tA=(0,k.Z)(function*(t,e,n,r,i={}){return J9(t,i,(0,k.Z)(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=(0,M.xO)(Object.assign({key:t.config.apiKey},s)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),X9.fetch()(e6(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function J9(t,e,n){return nA.apply(this,arguments)}function nA(){return(nA=(0,k.Z)(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Lpe),e);try{const i=new Bpe(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw Vm(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw Vm(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw Vm(t,"email-already-in-use",s);if("USER_DISABLED"===c)throw Vm(t,"user-disabled",s);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw function Y9(t,e,n){const r=Object.assign(Object.assign({},xpe()),{[e]:n});return new M.LL("auth","Firebase",r).create(e,{appName:t.name})}(t,h,l);io(t,h)}}catch(i){if(i instanceof M.ZR)throw i;io(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function e6(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function eA(t,e){Cl(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class Bpe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(oa(this.auth,"network-request-failed")),Vpe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=oa(t,e,r);return i.customData._tokenResponse=n,i}function sA(){return(sA=(0,k.Z)(function*(t,e){return kn(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function cA(){return(cA=(0,k.Z)(function*(t,e){return kn(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Um(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function lA(){return(lA=(0,k.Z)(function*(t,e=!1){const n=(0,M.m9)(t),r=yield n.getIdToken(e),i=gP(r);ge(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Um(uA(i.auth_time)),issuedAtTime:Um(uA(i.iat)),expirationTime:Um(uA(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function uA(t){return 1e3*Number(t)}function gP(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return fP("JWT malformed, contained fewer than 3 sections"),null;try{const i=(0,M.tV)(n);return i?JSON.parse(i):(fP("Failed to decode base64 JWT payload"),null)}catch(i){return fP("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Xa(t,e){return dA.apply(this,arguments)}function dA(){return(dA=(0,k.Z)(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof M.ZR&&function qpe({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Kpe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,k.Z)(function*(){yield n.iteration()}),r)}iteration(){var e=this;return(0,k.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class o6{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Um(this.lastLoginAt),this.creationTime=Um(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Bm(t){return hA.apply(this,arguments)}function hA(){return hA=(0,k.Z)(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Xa(t,function zpe(t,e){return cA.apply(this,arguments)}(n,{idToken:r}));ge(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function Qpe(t){return t.map(e=>{var{providerId:n}=e,r=(0,Re._T)(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function Ype(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),h=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new o6(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,f)}),hA.apply(this,arguments)}function pA(){return(pA=(0,k.Z)(function*(t){const e=(0,M.m9)(t);yield Bm(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function fA(){return(fA=(0,k.Z)(function*(t,e){const n=yield J9(t,{},(0,k.Z)(function*(){const r=(0,M.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=e6(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",X9.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class jm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Wpe(t){const e=gP(t);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return(0,k.Z)(function*(){return ge(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return(0,k.Z)(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function Xpe(t,e){return fA.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new jm;return r&&(ge("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(ge("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(ge("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jm,this.toJSON())}_performRefresh(){return sa("not implemented")}}function wl(t,e){ge("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Ju{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=(0,Re._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kpe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new o6(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return(0,k.Z)(function*(){const r=yield Xa(n,n.stsTokenManager.getToken(n.auth,e));return ge(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Gpe(t){return lA.apply(this,arguments)}(this,e)}reload(){return function Zpe(t){return pA.apply(this,arguments)}(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ju(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return(0,k.Z)(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Bm(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,k.Z)(function*(){const n=yield e.getIdToken();return yield Xa(e,function $pe(t,e){return sA.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,h;const f=null!==(r=n.displayName)&&void 0!==r?r:void 0,_=null!==(i=n.email)&&void 0!==i?i:void 0,v=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,E=null!==(s=n.photoURL)&&void 0!==s?s:void 0,I=null!==(a=n.tenantId)&&void 0!==a?a:void 0,b=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,L=null!==(l=n.createdAt)&&void 0!==l?l:void 0,N=null!==(h=n.lastLoginAt)&&void 0!==h?h:void 0,{uid:H,emailVerified:$,isAnonymous:pe,providerData:Oe,stsTokenManager:at}=n;ge(H&&at,e,"internal-error");const Zt=jm.fromJSON(this.name,at);ge("string"==typeof H,e,"internal-error"),wl(f,e.name),wl(_,e.name),ge("boolean"==typeof $,e,"internal-error"),ge("boolean"==typeof pe,e,"internal-error"),wl(v,e.name),wl(E,e.name),wl(I,e.name),wl(b,e.name),wl(L,e.name),wl(N,e.name);const co=new Ju({uid:H,auth:e,email:_,emailVerified:$,displayName:f,isAnonymous:pe,photoURL:E,phoneNumber:v,tenantId:I,stsTokenManager:Zt,createdAt:L,lastLoginAt:N});return Oe&&Array.isArray(Oe)&&(co.providerData=Oe.map(Df=>Object.assign({},Df))),b&&(co._redirectEventId=b),co}static _fromIdTokenResponse(e,n,r=!1){return(0,k.Z)(function*(){const i=new jm;i.updateFromServerResponse(n);const o=new Ju({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Bm(o),o})()}}const s6=new Map;function Ja(t){Cl(t instanceof Function,"Expected a class definition");let e=s6.get(t);return e?(Cl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,s6.set(t,e),e)}const a6=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,k.Z)(function*(){return!0})()}_set(n,r){var i=this;return(0,k.Z)(function*(){i.storage[n]=r})()}_get(n){var r=this;return(0,k.Z)(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return(0,k.Z)(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function _P(t,e,n){return`firebase:${t}:${e}:${n}`}class Vp{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=_P(this.userKey,i.apiKey,o),this.fullPersistenceKey=_P("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,k.Z)(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Ju._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return(0,k.Z)(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return(0,k.Z)(function*(){if(!n.length)return new Vp(Ja(a6),e,r);const i=(yield Promise.all(n.map(function(){var l=(0,k.Z)(function*(h){if(yield h._isAvailable())return h});return function(h){return l.apply(this,arguments)}}()))).filter(l=>l);let o=i[0]||Ja(a6);const s=_P(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const h=yield l._get(s);if(h){const f=Ju._fromJSON(e,h);l!==o&&(a=f),o=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return o._shouldAllowMigration&&c.length?(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var l=(0,k.Z)(function*(h){if(h!==o)try{yield h._remove(s)}catch{}});return function(h){return l.apply(this,arguments)}}())),new Vp(o,e,r)):new Vp(o,e,r)})()}}function c6(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function d6(t=(0,M.z$)()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function l6(t=(0,M.z$)()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function p6(t=(0,M.z$)()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function f6(t=(0,M.z$)()){return/webos/i.test(t)}(e))return"Webos";if(function gA(t=(0,M.z$)()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function u6(t=(0,M.z$)()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function h6(t=(0,M.z$)()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function g6(t,e=[]){let n;switch(t){case"Browser":n=c6((0,M.z$)());break;case"Worker":n=`${c6((0,M.z$)())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${We.SDK_VERSION}/${r}`}class tfe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return(0,k.Z)(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function _A(){return(_A=(0,k.Z)(function*(t,e={}){return kn(t,"GET","/v2/passwordPolicy",function Tn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))})).apply(this,arguments)}class ife{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=s.minPasswordLength)&&void 0!==n?n:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=null===(n=c.meetsMinPasswordLength)||void 0===n||n),c.isValid&&(c.isValid=null===(r=c.meetsMaxPasswordLength)||void 0===r||r),c.isValid&&(c.isValid=null===(i=c.containsLowercaseLetter)||void 0===i||i),c.isValid&&(c.isValid=null===(o=c.containsUppercaseLetter)||void 0===o||o),c.isValid&&(c.isValid=null===(s=c.containsNumericCharacter)||void 0===s||s),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class ofe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _6(this),this.idTokenSubscription=new _6(this),this.beforeStateQueue=new tfe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Z9,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Ja(n)),this._initializationPromise=this.queue((0,k.Z)(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Vp.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,k.Z)(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return(0,k.Z)(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=o?._redirectEventId,l=yield n.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(o=l.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return ge(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return(0,k.Z)(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return(0,k.Z)(function*(){try{yield Bm(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Fpe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return(0,k.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return(0,k.Z)(function*(){const r=e?(0,M.m9)(e):null;return r&&ge(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return(0,k.Z)(function*(){if(!r._deleted)return e&&ge(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,k.Z)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,k.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue((0,k.Z)(function*(){yield n.assertedPersistence.setPersistence(Ja(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return(0,k.Z)(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return(0,k.Z)(function*(){const n=yield function nfe(t){return _A.apply(this,arguments)}(e),r=new ife(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new M.LL("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return(0,k.Z)(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return(0,k.Z)(function*(){if(!n.redirectPersistenceManager){const r=e&&Ja(e)||n._popupRedirectResolver;ge(r,n,"argument-error"),n.redirectPersistenceManager=yield Vp.create(n,[Ja(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return(0,k.Z)(function*(){var r,i;return n._isInitialized&&(yield n.queue((0,k.Z)(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return(0,k.Z)(function*(){if(e===n.currentUser)return n.queue((0,k.Z)(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof n){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}{const c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){var n=this;return(0,k.Z)(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=g6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,k.Z)(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return(0,k.Z)(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function kpe(t,...e){pP.logLevel<=fi.in.WARN&&pP.warn(`Auth (${We.SDK_VERSION}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}class _6{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,M.ne)(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function m6(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new Lm(3e4,6e4),new Lm(2e3,1e4),new Lm(3e4,6e4),new Lm(5e3,15e3),encodeURIComponent("fac");var Z6="@firebase/auth";class o_e{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return(0,k.Z)(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,M.Pz)("authIdTokenMaxAge"),function a_e(t){(0,We._registerComponent)(new Po.wA("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ge(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:g6(t)},l=new ofe(r,i,o,c);return function hfe(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ja);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),(0,We._registerComponent)(new Po.wA("auth-internal",e=>{const n=function ur(t){return(0,M.m9)(t)}(e.getProvider("auth").getImmediate());return new o_e(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,We.registerVersion)(Z6,"1.3.2",function s_e(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),(0,We.registerVersion)(Z6,"1.3.2","esm2017")}("Browser");class J6{constructor(){return AT("auth")}}var Ee,f_e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},As={},aS=aS||{},Xe=f_e||self;function DP(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Wm(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var cS="closure_uid_"+(1e9*Math.random()>>>0),__e=0;function m_e(t,e,n){return t.call.apply(t.bind,arguments)}function y_e(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function vi(t,e,n){return(vi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m_e:y_e).apply(null,arguments)}function SP(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Nr(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Pl(){this.s=this.s,this.o=this.o}Pl.prototype.s=!1,Pl.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function g_e(t){Object.prototype.hasOwnProperty.call(t,cS)&&t[cS]||(t[cS]=++__e)}(this)},Pl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const e$=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function lS(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function t$(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(DP(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Ci(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ci.prototype.h=function(){this.defaultPrevented=!0};var C_e=function(){if(!Xe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Xe.addEventListener("test",()=>{},e),Xe.removeEventListener("test",()=>{},e)}catch{}return t}();function qm(t){return/^[\s\xa0]*$/.test(t)}function RP(){var t=Xe.navigator;return t&&(t=t.userAgent)?t:""}function aa(t){return-1!=RP().indexOf(t)}function uS(t){return uS[" "](t),t}uS[" "]=function(){};var hS,t,P_e=aa("Opera"),Up=aa("Trident")||aa("MSIE"),n$=aa("Edge"),dS=n$||Up,r$=aa("Gecko")&&!(-1!=RP().toLowerCase().indexOf("webkit")&&!aa("Edge"))&&!(aa("Trident")||aa("MSIE"))&&!aa("Edge"),E_e=-1!=RP().toLowerCase().indexOf("webkit")&&!aa("Edge");function i$(){var t=Xe.document;return t?t.documentMode:void 0}e:{var pS="",fS=(t=RP(),r$?/rv:([^\);]+)(\)|;)/.exec(t):n$?/Edge\/([\d\.]+)/.exec(t):Up?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):E_e?/WebKit\/(\S+)/.exec(t):P_e?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(fS&&(pS=fS?fS[1]:""),Up){var gS=i$();if(null!=gS&&gS>parseFloat(pS)){hS=String(gS);break e}}hS=pS}var M_e=Xe.document&&Up&&(i$()||parseInt(hS,10))||void 0;function Km(t,e){if(Ci.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(r$){e:{try{uS(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:O_e[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Km.$.h.call(this)}}Nr(Km,Ci);var O_e={2:"touch",3:"pen",4:"mouse"};Km.prototype.h=function(){Km.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Zm="closure_listenable_"+(1e6*Math.random()|0),I_e=0;function b_e(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++I_e,this.fa=this.ia=!1}function xP(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function mS(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function s$(t){const e={};for(const n in t)e[n]=t[n];return e}const a$="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function c$(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let o=0;o<a$.length;o++)n=a$[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function kP(t){this.src=t,this.g={},this.h=0}function yS(t,e){var n=e.type;if(n in t.g){var o,r=t.g[n],i=e$(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(xP(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function vS(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}kP.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=vS(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):((e=new b_e(e,this.src,o,!!r,i)).ia=n,t.push(e)),e};var CS="closure_lm_"+(1e6*Math.random()|0),wS={};function l$(t,e,n,r,i){if(r&&r.once)return d$(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)l$(t,e[o],n,r,i);return null}return n=OS(n),t&&t[Zm]?t.O(e,n,Wm(r)?!!r.capture:!!r,i):u$(t,e,n,!1,r,i)}function u$(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Wm(i)?!!i.capture:!!i,a=ES(t);if(a||(t[CS]=a=new kP(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function A_e(){const e=D_e;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)C_e||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(p$(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function d$(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)d$(t,e[o],n,r,i);return null}return n=OS(n),t&&t[Zm]?t.P(e,n,Wm(r)?!!r.capture:!!r,i):u$(t,e,n,!0,r,i)}function h$(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)h$(t,e[o],n,r,i);else r=Wm(r)?!!r.capture:!!r,n=OS(n),t&&t[Zm]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=vS(o=t.g[e],n,r,i))&&(xP(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=ES(t))&&(e=t.g[e.toString()],t=-1,e&&(t=vS(e,n,r,i)),(n=-1<t?e[t]:null)&&PS(n))}function PS(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Zm])yS(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(p$(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ES(e))?(yS(n,t),0==n.h&&(n.src=null,e[CS]=null)):xP(t)}}}function p$(t){return t in wS?wS[t]:wS[t]="on"+t}function D_e(t,e){if(t.fa)t=!0;else{e=new Km(e,this);var n=t.listener,r=t.la||t.src;t.ia&&PS(t),t=n.call(r,e)}return t}function ES(t){return(t=t[CS])instanceof kP?t:null}var MS="__closure_events_fn_"+(1e9*Math.random()>>>0);function OS(t){return"function"==typeof t?t:(t[MS]||(t[MS]=function(e){return t.handleEvent(e)}),t[MS])}function Fr(){Pl.call(this),this.i=new kP(this),this.S=this,this.J=null}function Qr(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Ci(e,t);else if(e instanceof Ci)e.target=e.target||t;else{var i=e;c$(e=new Ci(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=NP(s,r,!0,e)&&i}if(i=NP(s=e.g=t,r,!0,e)&&i,i=NP(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=NP(s=e.g=n[o],r,!1,e)&&i}function NP(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&yS(t.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Nr(Fr,Pl),Fr.prototype[Zm]=!0,Fr.prototype.removeEventListener=function(t,e,n,r){h$(this,t,e,n,r)},Fr.prototype.N=function(){if(Fr.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)xP(n[r]);delete t.g[e],t.h--}}this.J=null},Fr.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Fr.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var IS=Xe.JSON.stringify;function R_e(){var t=bS;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var f$=new class S_e{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new k_e,t=>t.reset());class k_e{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function N_e(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function F_e(t){Xe.setTimeout(()=>{throw t},0)}let Ym,Qm=!1,bS=new class x_e{constructor(){this.h=this.g=null}add(e,n){const r=f$.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},g$=()=>{const t=Xe.Promise.resolve(void 0);Ym=()=>{t.then(L_e)}};var L_e=()=>{for(var t;t=R_e();){try{t.h.call(t.g)}catch(n){F_e(n)}var e=f$;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Qm=!1};function FP(t,e){Fr.call(this),this.h=t||1,this.g=e||Xe,this.j=vi(this.qb,this),this.l=Date.now()}function TS(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function AS(t,e,n){if("function"==typeof t)n&&(t=vi(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=vi(t.handleEvent,t)}return 2147483647<Number(e)?-1:Xe.setTimeout(t,e||0)}function _$(t){t.g=AS(()=>{t.g=null,t.i&&(t.i=!1,_$(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Nr(FP,Fr),(Ee=FP.prototype).ga=!1,Ee.T=null,Ee.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Qr(this,"tick"),this.ga&&(TS(this),this.start()))}},Ee.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ee.N=function(){FP.$.N.call(this),TS(this),delete this.g};class V_e extends Pl{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_$(this)}N(){super.N(),this.g&&(Xe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xm(t){Pl.call(this),this.h=t,this.g={}}Nr(Xm,Pl);var m$=[];function y$(t,e,n,r){Array.isArray(n)||(n&&(m$[0]=n.toString()),n=m$);for(var i=0;i<n.length;i++){var o=l$(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function v$(t){mS(t.g,function(e,n){this.g.hasOwnProperty(n)&&PS(e)},t),t.g={}}function LP(){this.g=!0}function Bp(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function $_e(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return IS(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Xm.prototype.N=function(){Xm.$.N.call(this),v$(this)},Xm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},LP.prototype.Ea=function(){this.g=!1},LP.prototype.info=function(){};var rd={},C$=null;function VP(){return C$=C$||new Fr}function w$(t){Ci.call(this,rd.Ta,t)}function Jm(t){const e=VP();Qr(e,new w$(e))}function P$(t,e){Ci.call(this,rd.STAT_EVENT,t),this.stat=e}function Hi(t){const e=VP();Qr(e,new P$(e,t))}function E$(t,e){Ci.call(this,rd.Ua,t),this.size=e}function ey(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Xe.setTimeout(function(){t()},e)}rd.Ta="serverreachability",Nr(w$,Ci),rd.STAT_EVENT="statevent",Nr(P$,Ci),rd.Ua="timingevent",Nr(E$,Ci);var UP={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},M$={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function DS(){}function I$(){}DS.prototype.h=null;var xS,ty={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function SS(){Ci.call(this,"d")}function RS(){Ci.call(this,"c")}function BP(){}function ny(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Xm(this),this.P=H_e,this.V=new FP(t=dS?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new b$}function b$(){this.i=null,this.g="",this.h=!1}Nr(SS,Ci),Nr(RS,Ci),Nr(BP,DS),BP.prototype.g=function(){return new XMLHttpRequest},BP.prototype.i=function(){return{}},xS=new BP;var H_e=45e3,kS={},jP={};function NS(t,e,n){t.L=1,t.v=GP(tc(e)),t.s=n,t.S=!0,T$(t,null)}function T$(t,e){t.G=Date.now(),ry(t),t.A=tc(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),V$(n.i,"t",r),t.C=0,n=t.l.J,t.h=new b$,t.g=cH(t.l,n?e:null,!t.s),0<t.O&&(t.M=new V_e(vi(t.Pa,t,t.g),t.O)),y$(t.U,t.g,"readystatechange",t.nb),e=t.I?s$(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Jm(),function U_e(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var h=l[0];l=l[1];var f=h.split("_");s=2<=f.length&&"type"==f[1]?s+(h+"=")+l+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.W,t.s)}function A$(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function D$(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=z_e(t,n),i==jP){4==e&&(t.o=4,Hi(14),r=!1),Bp(t.j,t.m,null,"[Incomplete Response]");break}if(i==kS){t.o=4,Hi(15),Bp(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Bp(t.j,t.m,i,null),FS(t,i)}A$(t)&&i!=jP&&i!=kS&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Hi(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),HS(e),e.M=!0,Hi(11))):(Bp(t.j,t.m,n,"[Invalid Chunked Response]"),id(t),iy(t))}function z_e(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?jP:(n=Number(e.substring(n,r)),isNaN(n)?kS:(r+=1)+n>e.length?jP:(e=e.slice(r,r+n),t.C=r+n,e))}function ry(t){t.Y=Date.now()+t.P,S$(t,t.P)}function S$(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=ey(vi(t.lb,t),e)}function $P(t){t.B&&(Xe.clearTimeout(t.B),t.B=null)}function iy(t){0==t.l.H||t.J||iH(t.l,t)}function id(t){$P(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,TS(t.V),v$(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function FS(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||LS(n.i,t)))if(!t.K&&LS(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;QP(n),ZP(n)}$S(n),Hi(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=ey(vi(n.ib,n),6e3));if(1>=j$(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else sd(n,11)}else if((t.K||n.g==t)&&QP(n),!qm(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const h=l[3];null!=h&&(n.ra=h,n.l.info("VER="+n.ra));const f=l[4];null!=f&&(n.Ga=f,n.l.info("SVER="+n.Ga));const _=l[5];null!=_&&"number"==typeof _&&0<_&&(n.L=r=1.5*_,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const v=t.g;if(v){const E=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(E){var o=r.i;o.g||-1==E.indexOf("spdy")&&-1==E.indexOf("quic")&&-1==E.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(VS(o,o.h),o.h=null))}if(r.F){const I=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(r.Da=I,vn(r.I,r.F,I))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=t;if((r=n).wa=aH(r,r.J?r.pa:null,r.Y),s.K){$$(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.B&&($P(a),ry(a)),r.g=s}else nH(r);0<n.j.length&&YP(n)}else"stop"!=l[0]&&"close"!=l[0]||sd(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?sd(n,7):jS(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}Jm()}catch{}}function R$(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(DP(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function W_e(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(DP(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function G_e(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(DP(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(Ee=ny.prototype).setTimeout=function(t){this.P=t},Ee.nb=function(t){t=t.target;const e=this.M;e&&3==ca(t)?e.l():this.Pa(t)},Ee.Pa=function(t){try{if(t==this.g)e:{const h=ca(this.g);var e=this.g.Ia();if(this.g.da(),!(3>h)&&(3!=h||dS||this.g&&(this.h.h||this.g.ja()||Y$(this.g)))){this.J||4!=h||7==e||Jm(),$P(this);var n=this.g.da();this.ca=n;t:if(A$(this)){var r=Y$(this.g);t="";var i=r.length,o=4==ca(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){id(this),iy(this);var s="";break t}this.h.i=new Xe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function B_e(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,h,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qm(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,Hi(12),id(this),iy(this);break e}Bp(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,FS(this,n)}this.S?(D$(this,h,s),dS&&this.i&&3==h&&(y$(this.U,this.V,"tick",this.mb),this.V.start())):(Bp(this.j,this.m,s,null),FS(this,s)),4==h&&id(this),this.i&&!this.J&&(4==h?iH(this.l,this):(this.i=!1,ry(this)))}else(function ume(t){const e={};t=(t.g&&2<=ca(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(qm(t[r]))continue;var n=N_e(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}!function T_e(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.o=3,Hi(12)):(this.o=0,Hi(13)),id(this),iy(this)}}}catch{}},Ee.mb=function(){if(this.g){var t=ca(this.g),e=this.g.ja();this.C<e.length&&($P(this),D$(this,t,e),this.i&&4!=t&&ry(this))}},Ee.cancel=function(){this.J=!0,id(this)},Ee.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function j_e(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Jm(),Hi(17)),id(this),this.o=2,iy(this)):S$(this,this.Y-t)};var x$=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function od(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof od){this.h=t.h,HP(this,t.j),this.s=t.s,this.g=t.g,zP(this,t.m),this.l=t.l;var e=t.i,n=new ay;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),k$(this,n),this.o=t.o}else t&&(e=String(t).match(x$))?(this.h=!1,HP(this,e[1]||"",!0),this.s=oy(e[2]||""),this.g=oy(e[3]||"",!0),zP(this,e[4]),this.l=oy(e[5]||"",!0),k$(this,e[6]||"",!0),this.o=oy(e[7]||"")):(this.h=!1,this.i=new ay(null,this.h))}function tc(t){return new od(t)}function HP(t,e,n){t.j=n?oy(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function zP(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function k$(t,e,n){e instanceof ay?(t.i=e,function J_e(t,e){e&&!t.j&&(El(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(F$(this,r),V$(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=sy(e,Q_e)),t.i=new ay(e,t.h))}function vn(t,e,n){t.i.set(e,n)}function GP(t){return vn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function oy(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function sy(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,K_e),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function K_e(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}od.prototype.toString=function(){var t=[],e=this.j;e&&t.push(sy(e,N$,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(sy(e,N$,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(sy(n,"/"==n.charAt(0)?Y_e:Z_e,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",sy(n,X_e)),t.join("")};var N$=/[#\/\?@]/g,Z_e=/[#\?:]/g,Y_e=/[#\?]/g,Q_e=/[#\?@]/g,X_e=/#/g;function ay(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function El(t){t.g||(t.g=new Map,t.h=0,t.i&&function q_e(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function F$(t,e){El(t),e=jp(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function L$(t,e){return El(t),e=jp(t,e),t.g.has(e)}function V$(t,e,n){F$(t,e),0<n.length&&(t.i=null,t.g.set(jp(t,e),lS(n)),t.h+=n.length)}function jp(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function U$(t){this.l=t||tme,t=Xe.PerformanceNavigationTiming?0<(t=Xe.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Xe.g&&Xe.g.Ka&&Xe.g.Ka()&&Xe.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ee=ay.prototype).add=function(t,e){El(this),this.i=null,t=jp(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Ee.forEach=function(t,e){El(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},Ee.ta=function(){El(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n},Ee.Z=function(t){El(this);let e=[];if("string"==typeof t)L$(this,t)&&(e=e.concat(this.g.get(jp(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},Ee.set=function(t,e){return El(this),this.i=null,L$(this,t=jp(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Ee.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},Ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};var tme=10;function B$(t){return!!t.h||!!t.g&&t.g.size>=t.j}function j$(t){return t.h?1:t.g?t.g.size:0}function LS(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function VS(t,e){t.g?t.g.add(e):t.h=e}function $$(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function H$(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return lS(t.i)}U$.prototype.cancel=function(){if(this.i=H$(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var nme=class{stringify(t){return Xe.JSON.stringify(t,void 0)}parse(t){return Xe.JSON.parse(t,void 0)}};function rme(){this.g=new nme}function ime(t,e,n){const r=n||"";try{R$(t,function(i,o){let s=i;Wm(i)&&(s=IS(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function WP(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function cy(t){this.l=t.ec||null,this.j=t.ob||!1}function qP(t,e){Fr.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=US,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Nr(cy,DS),cy.prototype.g=function(){return new qP(this.l,this.j)},cy.prototype.i=function(t){return function(){return t}}({}),Nr(qP,Fr);var US=0;function z$(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function ly(t){t.readyState=4,t.l=null,t.j=null,t.A=null,uy(t)}function uy(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Ee=qP.prototype).open=function(t,e){if(this.readyState!=US)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,uy(this)},Ee.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Xe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ly(this)),this.readyState=US},Ee.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,uy(this)),this.g&&(this.readyState=3,uy(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Xe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;z$(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},Ee.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ly(this):uy(this),3==this.readyState&&z$(this)}},Ee.Za=function(t){this.g&&(this.response=this.responseText=t,ly(this))},Ee.Ya=function(t){this.g&&(this.response=t,ly(this))},Ee.ka=function(){this.g&&ly(this)},Ee.setRequestHeader=function(t,e){this.v.append(t,e)},Ee.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Ee.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(qP.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var sme=Xe.JSON.parse;function zn(t){Fr.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=G$,this.L=this.M=!1}Nr(zn,Fr);var G$="",ame=/^https?$/i,cme=["POST","PUT"];function W$(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,q$(t),KP(t)}function q$(t){t.F||(t.F=!0,Qr(t,"complete"),Qr(t,"error"))}function K$(t){if(t.h&&typeof aS<"u"&&(!t.C[1]||4!=ca(t)||2!=t.da()))if(t.v&&4==ca(t))AS(t.La,0,t);else if(Qr(t,"readystatechange"),4==ca(t)){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===s){var i=String(t.I).match(x$)[1]||null;!i&&Xe.self&&Xe.self.location&&(i=Xe.self.location.protocol.slice(0,-1)),r=!ame.test(i?i.toLowerCase():"")}n=r}if(n)Qr(t,"complete"),Qr(t,"success");else{t.m=6;try{var o=2<ca(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",q$(t)}}finally{KP(t)}}}function KP(t,e){if(t.g){Z$(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Qr(t,"ready");try{n.onreadystatechange=r}catch{}}}function Z$(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Xe.clearTimeout(t.A),t.A=null)}function ca(t){return t.g?t.g.readyState:0}function Y$(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case G$:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Q$(t){let e="";return mS(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function BS(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Q$(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):vn(t,e,n))}function dy(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function X$(t){this.Ga=0,this.j=[],this.l=new LP,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=dy("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=dy("baseRetryDelayMs",5e3,t),this.hb=dy("retryDelaySeedMs",1e4,t),this.eb=dy("forwardChannelMaxRetries",2,t),this.xa=dy("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new U$(t&&t.concurrentRequestLimit),this.Ja=new rme,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function jS(t){if(J$(t),3==t.H){var e=t.W++,n=tc(t.I);if(vn(n,"SID",t.K),vn(n,"RID",e),vn(n,"TYPE","terminate"),hy(t,n),(e=new ny(t,t.l,e)).L=2,e.v=GP(tc(n)),n=!1,Xe.navigator&&Xe.navigator.sendBeacon)try{n=Xe.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Xe.Image&&((new Image).src=e.v,n=!0),n||(e.g=cH(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ry(e)}sH(t)}function ZP(t){t.g&&(HS(t),t.g.cancel(),t.g=null)}function J$(t){ZP(t),t.u&&(Xe.clearTimeout(t.u),t.u=null),QP(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Xe.clearTimeout(t.m),t.m=null)}function YP(t){if(!B$(t.i)&&!t.m){t.m=!0;var e=t.Na;Ym||g$(),Qm||(Ym(),Qm=!0),bS.add(e,t),t.C=0}}function eH(t,e){var n;n=e?e.m:t.W++;const r=tc(t.I);vn(r,"SID",t.K),vn(r,"RID",n),vn(r,"AID",t.V),hy(t,r),t.o&&t.s&&BS(r,t.o,t.s),n=new ny(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=tH(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),VS(t.i,n),NS(n,r,e)}function hy(t,e){t.na&&mS(t.na,function(n,r){vn(e,r,n)}),t.h&&R$({},function(n,r){vn(e,r,n)})}function tH(t,e,n){n=Math.min(t.j.length,n);var r=t.h?vi(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];-1==o?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let l=i[c].g;const h=i[c].map;if(l-=o,0>l)o=Math.max(0,i[c].g-100),a=!1;else try{ime(h,s,"req"+l+"_")}catch{r&&r(h)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function nH(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ym||g$(),Qm||(Ym(),Qm=!0),bS.add(e,t),t.A=0}}function $S(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=ey(vi(t.Ma,t),oH(t,t.A)),t.A++,0))}function HS(t){null!=t.B&&(Xe.clearTimeout(t.B),t.B=null)}function rH(t){t.g=new ny(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=tc(t.wa);vn(e,"RID","rpc"),vn(e,"SID",t.K),vn(e,"AID",t.V),vn(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&vn(e,"TO",t.qa),vn(e,"TYPE","xmlhttp"),hy(t,e),t.o&&t.s&&BS(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=GP(tc(e)),n.s=null,n.S=!0,T$(n,t)}function QP(t){null!=t.v&&(Xe.clearTimeout(t.v),t.v=null)}function iH(t,e){var n=null;if(t.g==e){QP(t),HS(t),t.g=null;var r=2}else{if(!LS(t.i,e))return;n=e.F,$$(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Qr(r=VP(),new E$(r,n)),YP(t)}else nH(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function dme(t,e){return!(j$(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=ey(vi(t.Na,t,e),oH(t,t.C)),t.C++,0)))}(t,e)||2==r&&$S(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:sd(t,5);break;case 4:sd(t,10);break;case 3:sd(t,6);break;default:sd(t,2)}}function oH(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function sd(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=vi(t.pb,t);n||(n=new od("//www.google.com/images/cleardot.gif"),Xe.location&&"http"==Xe.location.protocol||HP(n,"https"),GP(n)),function ome(t,e){const n=new LP;if(Xe.Image){const r=new Image;r.onload=SP(WP,n,r,"TestLoadImage: loaded",!0,e),r.onerror=SP(WP,n,r,"TestLoadImage: error",!1,e),r.onabort=SP(WP,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=SP(WP,n,r,"TestLoadImage: timeout",!1,e),Xe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Hi(2);t.H=0,t.h&&t.h.za(e),sH(t),J$(t)}function sH(t){if(t.H=0,t.ma=[],t.h){const e=H$(t.i);(0!=e.length||0!=t.j.length)&&(t$(t.ma,e),t$(t.ma,t.j),t.i.i.length=0,lS(t.j),t.j.length=0),t.h.ya()}}function aH(t,e,n){var r=n instanceof od?tc(n):new od(n);if(""!=r.g)e&&(r.g=e+"."+r.g),zP(r,r.m);else{var i=Xe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new od(null);r&&HP(o,r),e&&(o.g=e),i&&zP(o,i),n&&(o.l=n),r=o}return e=t.Da,(n=t.F)&&e&&vn(r,n,e),vn(r,"VER",t.ra),hy(t,r),r}function cH(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new zn(n&&t.Ha&&!t.va?new cy({ob:!0}):t.va)).Oa(t.J),e}function lH(){}function XP(){if(Up&&!(10<=Number(M_e)))throw Error("Environmental error: no available transport.")}function Oo(t,e){Fr.call(this),this.g=new X$(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!qm(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!qm(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new $p(this)}function uH(t){SS.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function dH(){RS.call(this),this.status=1}function $p(t){this.g=t}function Ds(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function zS(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var o=t.g[3],s=(e=t.g[0])+(o^(n=t.g[1])&((i=t.g[2])^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=n+((s=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function $t(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}(Ee=zn.prototype).Oa=function(t){this.M=t},Ee.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():xS.g(),this.C=function O$(t){return t.h||(t.h=t.i())}(this.u?this.u:xS),this.g.onreadystatechange=vi(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void W$(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())n.set(o,r.get(o))}r=Array.from(n.keys()).find(o=>"content-type"==o.toLowerCase()),i=Xe.FormData&&t instanceof Xe.FormData,!(0<=e$(cme,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Z$(this),0<this.B&&((this.L=function lme(t){return Up&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=vi(this.ua,this)):this.A=AS(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){W$(this,o)}},Ee.ua=function(){typeof aS<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qr(this,"timeout"),this.abort(8))},Ee.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Qr(this,"complete"),Qr(this,"abort"),KP(this))},Ee.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),KP(this,!0)),zn.$.N.call(this)},Ee.La=function(){this.s||(this.G||this.v||this.l?K$(this):this.kb())},Ee.kb=function(){K$(this)},Ee.isActive=function(){return!!this.g},Ee.da=function(){try{return 2<ca(this)?this.g.status:-1}catch{return-1}},Ee.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ee.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),sme(e)}},Ee.Ia=function(){return this.m},Ee.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ee=X$.prototype).ra=8,Ee.H=1,Ee.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new ny(this,this.l,t);let o=this.s;if(this.U&&(o?(o=s$(o),c$(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=tH(this,i,e),vn(n=tc(this.I),"RID",t),vn(n,"CVER",22),this.F&&vn(n,"X-HTTP-Session-Id",this.F),hy(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(Q$(o)))+"&"+e:this.o&&BS(n,this.o,o)),VS(this.i,i),this.bb&&vn(n,"TYPE","init"),this.P?(vn(n,"$req",e),vn(n,"SID","null"),i.aa=!0,NS(i,n,null)):NS(i,n,e),this.H=2}}else 3==this.H&&(t?eH(this,t):0==this.j.length||B$(this.i)||eH(this))},Ee.Ma=function(){if(this.u=null,rH(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ey(vi(this.jb,this),t)}},Ee.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Hi(10),ZP(this),rH(this))},Ee.ib=function(){null!=this.v&&(this.v=null,ZP(this),$S(this),Hi(19))},Ee.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Hi(2)):(this.l.info("Failed to ping google.com"),Hi(1))},Ee.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ee=lH.prototype).Ba=function(){},Ee.Aa=function(){},Ee.za=function(){},Ee.ya=function(){},Ee.isActive=function(){return!0},Ee.Va=function(){},XP.prototype.g=function(t,e){return new Oo(t,e)},Nr(Oo,Fr),Oo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Hi(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=aH(t,null,t.Y),YP(t)},Oo.prototype.close=function(){jS(this.g)},Oo.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=IS(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&YP(e)},Oo.prototype.N=function(){this.g.h=null,delete this.j,jS(this.g),delete this.g,Oo.$.N.call(this)},Nr(uH,SS),Nr(dH,RS),Nr($p,lH),$p.prototype.Ba=function(){Qr(this.g,"a")},$p.prototype.Aa=function(t){Qr(this.g,new uH(t))},$p.prototype.za=function(t){Qr(this.g,new dH)},$p.prototype.ya=function(){Qr(this.g,"b")},Nr(Ds,function hme(){this.blockSize=-1}),Ds.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ds.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=n;)zS(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){zS(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){zS(this,r),i=0;break}}this.h=i,this.i+=e},Ds.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var pme={};function GS(t){return-128<=t&&128>t?function w_e(t,e){var n=pme;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new $t([0|e],0>e?-1:0)}):new $t([0|t],0>t?-1:0)}function la(t){if(isNaN(t)||!isFinite(t))return Hp;if(0>t)return Xr(la(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=WS;return new $t(e,0)}var WS=4294967296,Hp=GS(0),qS=GS(1),pH=GS(16777216);function nc(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function rs(t){return-1==t.h}function Xr(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new $t(n,~t.h).add(qS)}function JP(t,e){return t.add(Xr(e))}function eE(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function py(t,e){this.g=t,this.h=e}function tE(t,e){if(nc(e))throw Error("division by zero");if(nc(t))return new py(Hp,Hp);if(rs(t))return e=tE(Xr(t),e),new py(Xr(e.g),Xr(e.h));if(rs(e))return e=tE(t,Xr(e)),new py(Xr(e.g),e.h);if(30<t.g.length){if(rs(t)||rs(e))throw Error("slowDivide_ only works with positive integers.");for(var n=qS,r=e;0>=r.X(t);)n=fH(n),r=fH(r);var i=zp(n,1),o=zp(r,1);for(r=zp(r,2),n=zp(n,2);!nc(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=zp(r,1),n=zp(n,1)}return e=JP(t,i.R(e)),new py(i,e)}for(i=Hp;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=la(n)).R(e);rs(s)||0<s.X(t);)s=(o=la(n-=r)).R(e);nc(o)&&(o=qS),i=i.add(o),t=JP(t,s)}return new py(i,t)}function fH(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new $t(n,t.h)}function zp(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new $t(i,t.h)}(Ee=$t.prototype).ea=function(){if(rs(this))return-Xr(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:WS+r)*e,e*=WS}return t},Ee.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(nc(this))return"0";if(rs(this))return"-"+Xr(this).toString(t);for(var e=la(Math.pow(t,6)),n=this,r="";;){var i=tE(n,e).g,o=((0<(n=JP(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(nc(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},Ee.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},Ee.X=function(t){return rs(t=JP(this,t))?-1:nc(t)?0:1},Ee.abs=function(){return rs(this)?Xr(this):this},Ee.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&t.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,n[i]=(s&=65535)<<16|(o&=65535)}return new $t(n,-2147483648&n[n.length-1]?-1:0)},Ee.R=function(t){if(nc(this)||nc(t))return Hp;if(rs(this))return rs(t)?Xr(this).R(Xr(t)):Xr(Xr(this).R(t));if(rs(t))return Xr(this.R(Xr(t)));if(0>this.X(pH)&&0>t.X(pH))return la(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=s*c,eE(n,2*r+2*i),n[2*r+2*i+1]+=o*c,eE(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,eE(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,eE(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new $t(n,0)},Ee.gb=function(t){return tE(this,t).h},Ee.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new $t(n,this.h&t.h)},Ee.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new $t(n,this.h|t.h)},Ee.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new $t(n,this.h^t.h)},XP.prototype.createWebChannel=XP.prototype.g,Oo.prototype.send=Oo.prototype.u,Oo.prototype.open=Oo.prototype.m,Oo.prototype.close=Oo.prototype.close,UP.NO_ERROR=0,UP.TIMEOUT=8,UP.HTTP_ERROR=6,M$.COMPLETE="complete",I$.EventType=ty,ty.OPEN="a",ty.CLOSE="b",ty.ERROR="c",ty.MESSAGE="d",Fr.prototype.listen=Fr.prototype.O,zn.prototype.listenOnce=zn.prototype.P,zn.prototype.getLastError=zn.prototype.Sa,zn.prototype.getLastErrorCode=zn.prototype.Ia,zn.prototype.getStatus=zn.prototype.da,zn.prototype.getResponseJson=zn.prototype.Wa,zn.prototype.getResponseText=zn.prototype.ja,zn.prototype.send=zn.prototype.ha,zn.prototype.setWithCredentials=zn.prototype.Oa,Ds.prototype.digest=Ds.prototype.l,Ds.prototype.reset=Ds.prototype.reset,Ds.prototype.update=Ds.prototype.j,$t.prototype.add=$t.prototype.add,$t.prototype.multiply=$t.prototype.R,$t.prototype.modulo=$t.prototype.gb,$t.prototype.compare=$t.prototype.X,$t.prototype.toNumber=$t.prototype.ea,$t.prototype.toString=$t.prototype.toString,$t.prototype.getBits=$t.prototype.D,$t.fromNumber=la,$t.fromString=function hH(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Xr(hH(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=la(Math.pow(e,8)),r=Hp,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=la(Math.pow(e,o)),r=r.R(o).add(la(s))):r=(r=r.R(n)).add(la(s))}return r};var fme=As.createWebChannelTransport=function(){return new XP},gme=As.getStatEventTarget=function(){return VP()},KS=As.ErrorCode=UP,_me=As.EventType=M$,mme=As.Event=rd,gH=As.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},yme=As.FetchXmlHttpFactory=cy,nE=As.WebChannel=I$,vme=As.XhrIo=zn,Cme=As.Md5=Ds,Gp=As.Integer=$t;const _H="@firebase/firestore";class Lr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lr.UNAUTHENTICATED=new Lr(null),Lr.GOOGLE_CREDENTIALS=new Lr("google-credentials-uid"),Lr.FIRST_PARTY=new Lr("first-party-uid"),Lr.MOCK_USER=new Lr("mock-user");let Wp="10.5.2";const Ml=new fi.Yd("@firebase/firestore");function qp(){return Ml.logLevel}function de(t,...e){if(Ml.logLevel<=fi.in.DEBUG){const n=e.map(ZS);Ml.debug(`Firestore (${Wp}): ${t}`,...n)}}function tr(t,...e){if(Ml.logLevel<=fi.in.ERROR){const n=e.map(ZS);Ml.error(`Firestore (${Wp}): ${t}`,...n)}}function oo(t,...e){if(Ml.logLevel<=fi.in.WARN){const n=e.map(ZS);Ml.warn(`Firestore (${Wp}): ${t}`,...n)}}function ZS(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function Te(t="Unexpected state"){const e=`FIRESTORE (${Wp}) INTERNAL ASSERTION FAILED: `+t;throw tr(e),new Error(e)}function Ne(t,e){t||Te()}function ye(t,e){return t}const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends M.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class mH{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Eme{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lr.UNAUTHENTICATED))}shutdown(){}}class Mme{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Ome{constructor(e){this.t=e,this.currentUser=Lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const o=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Mr,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable((0,k.Z)(function*(){yield l.promise,yield o(r.currentUser)}))},c=l=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Mr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne("string"==typeof r.accessToken),new mH(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ne(null===e||"string"==typeof e),new Lr(e)}}class Ime{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Lr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class bme{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Ime(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Lr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yH{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Tme{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{null!=o.error&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,de("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ne("string"==typeof n.token),this.R=n.token,new yH(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ame(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class vH{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Ame(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function Ke(t,e){return t<e?-1:t>e?1:0}function Kp(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function CH(t){return t+"\0"}class An{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new le(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return An.fromMillis(Date.now())}static fromDate(e){return An.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new An(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Fe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new An(0,0))}static max(){return new Fe(new An(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class fy{constructor(e,n,r){void 0===n?n=0:n>e.length&&Te(),void 0===r?r=e.length-n:r>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===fy.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fy?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Dt extends fy{construct(e,n,r){return new Dt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(G.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Dt(n)}static emptyPath(){return new Dt([])}}const Dme=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cn extends fy{construct(e,n,r){return new Cn(e,n,r)}static isValidIdentifier(e){return Dme.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Cn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new le(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new le(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new le(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new le(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Cn(n)}static emptyPath(){return new Cn([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(Dt.fromString(e))}static fromName(e){return new ve(Dt.fromString(e).popFirst(5))}static empty(){return new ve(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Dt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new Dt(e.slice()))}}class Zp{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function YS(t){return t.fields.find(e=>2===e.kind)}function ad(t){return t.fields.filter(e=>2!==e.kind)}Zp.UNKNOWN_ID=-1;class cd{constructor(e,n){this.fieldPath=e,this.kind=n}}class Yp{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Yp(0,Io.min())}}function wH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Fe.fromTimestamp(1e9===r?new An(n+1,0):new An(n,r));return new Io(i,ve.empty(),e)}function PH(t){return new Io(t.readTime,t.key,-1)}class Io{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Io(Fe.min(),ve.empty(),-1)}static max(){return new Io(Fe.max(),ve.empty(),-1)}}function QS(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=ve.comparator(t.documentKey,e.documentKey),0!==n?n:Ke(t.largestBatchId,e.largestBatchId))}const EH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ol(t){return XS.apply(this,arguments)}function XS(){return XS=(0,k.Z)(function*(t){if(t.code!==G.FAILED_PRECONDITION||t.message!==EH)throw t;de("LocalStore","Unexpectedly lost primary lease")}),XS.apply(this,arguments)}class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const l=c;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new B((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}class rE{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Mr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new gy(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=JS(r.target.error);this.V.reject(new gy(e,i))}}static open(e,n,r,i){try{return new rE(n,e.transaction(i,r))}catch(o){throw new gy(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(de("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new kme(n)}}class Ss{constructor(e,n,r){this.name=e,this.version=n,this.p=r,12.2===Ss.S((0,M.z$)())&&tr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return de("SimpleDb","Removing database:",e),ld(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,M.hl)())return!1;if(Ss.C())return!0;const e=(0,M.z$)(),n=Ss.S(e),r=0<n&&n<10,i=Ss.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var n=this;return(0,k.Z)(function*(){return n.db||(de("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,i)=>{const o=indexedDB.open(n.name,n.version);o.onsuccess=s=>{r(s.target.result)},o.onblocked=()=>{i(new gy(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;i("VersionError"===a.name?new le(G.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new le(G.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new gy(e,a))},o.onupgradeneeded=s=>{de("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',s.oldVersion),n.p.N(s.target.result,o.transaction,s.oldVersion,n.version).next(()=>{de("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=r=>n.B(r)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){var o=this;return(0,k.Z)(function*(){const s="readonly"===n;let a=0;for(;;){++a;try{o.db=yield o.O(e);const c=rE.open(o.db,e,s?"readonly":"readwrite",r),l=i(c).next(h=>(c.g(),h)).catch(h=>(c.abort(h),B.reject(h))).toPromise();return l.catch(()=>{}),yield c.m,l}catch(c){const l=c,h="FirebaseError"!==l.name&&a<3;if(de("SimpleDb","Transaction failed with error:",l.message,"Retrying:",h),o.close(),!h)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class xme{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ld(this.k.delete())}}class gy extends le{constructor(e,n){super(G.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Il(t){return"IndexedDbTransactionError"===t.name}class kme{constructor(e){this.store=e}put(e,n){let r;return void 0!==n?(de("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(de("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ld(r)}add(e){return de("SimpleDb","ADD",this.store.name,e,e),ld(this.store.add(e))}get(e){return ld(this.store.get(e)).next(n=>(void 0===n&&(n=null),de("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return de("SimpleDb","DELETE",this.store.name,e),ld(this.store.delete(e))}count(){return de("SimpleDb","COUNT",this.store.name),ld(this.store.count())}W(e,n){const r=this.options(e,n);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),o=[];return this.G(i,(s,a)=>{o.push(a)}).next(()=>o)}{const i=this.store.getAll(r.range);return new B((o,s)=>{i.onerror=a=>{s(a.target.error)},i.onsuccess=a=>{o(a.target.result)}})}}j(e,n){const r=this.store.getAll(e,null===n?void 0:n);return new B((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){de("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new B((r,i)=>{n.onerror=o=>{const s=JS(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){const r=[];return new B((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const c=new xme(a),l=n(a.primaryKey,a.value,c);if(l instanceof B){const h=l.catch(f=>(c.done(),B.reject(f)));r.push(h)}c.isDone?i():null===c.$?a.continue():a.continue(c.$)}}).next(()=>B.waitFor(r))}options(e,n){let r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ld(t){return new B((e,n)=>{t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{const i=JS(r.target.error);n(i)}})}let OH=!1;function JS(t){const e=Ss.S((0,M.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new le("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return OH||(OH=!0,setTimeout(()=>{throw r},0)),r}}return t}class Nme{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var n=this;de("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,k.Z)(function*(){n.task=null;try{de("IndexBackiller",`Documents written: ${yield n.X.te()}`)}catch(r){Il(r)?de("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Ol(r)}yield n.ee(6e4)}))}}class Fme{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){var n=this;return(0,k.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>n.ne(r,e))})()}ne(e,n){const r=new Set;let i=n,o=!0;return B.doWhile(()=>!0===o&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!r.has(s))return de("IndexBackiller",`Processing collection: ${s}`),this.re(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.ie(i,o)).next(a=>(de("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,o)=>{const s=PH(o);QS(s,r)>0&&(r=s)}),new Io(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}let bo=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function _y(t){return null==t}function my(t){return 0===t&&1/t==-1/0}function IH(t){return"number"==typeof t&&Number.isInteger(t)&&!my(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function wi(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=bH(e)),e=Lme(t.get(n),e);return bH(e)}function Lme(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function bH(t){return t+"\x01\x01"}function ua(t){const e=t.length;if(Ne(e>=2),2===e)return Ne("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Dt.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const s=t.indexOf("\x01",o);switch((s<0||s>n)&&Te(),t.charAt(s+1)){case"\x01":const a=t.substring(o,s);let c;0===i.length?c=a:(i+=a,c=i,i=""),r.push(c);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Te()}o=s+2}return new Dt(r)}const TH=["userId","batchId"];function iE(t,e){return[t,wi(e)]}function AH(t,e,n){return[t,wi(e),n]}const Vme={},Ume=["prefixPath","collectionGroup","readTime","documentId"],Bme=["prefixPath","collectionGroup","documentId"],jme=["collectionGroup","readTime","prefixPath","documentId"],$me=["canonicalId","targetId"],Hme=["targetId","path"],zme=["path","targetId"],Gme=["collectionId","parent"],Wme=["indexId","uid"],qme=["uid","sequenceNumber"],Kme=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Zme=["indexId","uid","orderedDocumentKey"],Yme=["userId","collectionPath","documentId"],Qme=["userId","collectionPath","largestBatchId"],Xme=["userId","collectionGroup","largestBatchId"],DH=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Jme=[...DH,"documentOverlays"],SH=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],RH=SH,eye=[...RH,"indexConfiguration","indexState","indexEntries"];class eR extends MH{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function Vr(t,e){const n=ye(t);return Ss.M(n.ae,e)}function xH(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function kH(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class dn{constructor(e,n){this.comparator=e,this.root=n||Jr.EMPTY}insert(e,n){return new dn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jr.BLACK,null,null))}remove(e){return new dn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oE(this.root,e,this.comparator,!1)}getReverseIterator(){return new oE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oE(this.root,e,this.comparator,!0)}}class oE{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jr{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Jr.RED,this.left=i??Jr.EMPTY,this.right=o??Jr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Jr(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Jr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Jr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Jr.EMPTY=null,Jr.RED=!0,Jr.BLACK=!1,Jr.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Jr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kt{constructor(e){this.comparator=e,this.data=new dn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new NH(this.data.getIterator())}getIteratorFrom(e){return new NH(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Kt(this.comparator);return n.data=e,n}}class NH{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Qp(t){return t.hasNext()?t.getNext():void 0}class so{constructor(e){this.fields=e,e.sort(Cn.comparator)}static empty(){return new so([])}unionWith(e){let n=new Kt(Cn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new so(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Kp(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class FH extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Or{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new FH("Invalid base64 string: "+o):o}}(e);return new Or(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Or(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Or.EMPTY_BYTE_STRING=new Or("");const nye=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tl(t){if(Ne(!!t),"string"==typeof t){let e=0;const n=nye.exec(t);if(Ne(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Gn(t.seconds),nanos:Gn(t.nanos)}}function Gn(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function rc(t){return"string"==typeof t?Or.fromBase64String(t):Or.fromUint8Array(t)}function sE(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function aE(t){const e=t.mapValue.fields.__previous_value__;return sE(e)?aE(e):e}function yy(t){const e=Tl(t.mapValue.fields.__local_write_time__.timestampValue);return new An(e.seconds,e.nanos)}class rye{constructor(e,n,r,i,o,s,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class Al{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Al("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Al&&e.projectId===this.projectId&&e.database===this.database}}const Dl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},cE={nullValue:"NULL_VALUE"};function Sl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sE(t)?4:BH(t)?9007199254740991:10:Te()}function da(t,e){if(t===e)return!0;const n=Sl(t);if(n!==Sl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yy(t).isEqual(yy(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Tl(i.timestampValue),a=Tl(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return o=e,rc(t.bytesValue).isEqual(rc(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Gn(i.geoPointValue.latitude)===Gn(o.geoPointValue.latitude)&&Gn(i.geoPointValue.longitude)===Gn(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Gn(i.integerValue)===Gn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Gn(i.doubleValue),a=Gn(o.doubleValue);return s===a?my(s)===my(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Kp(t.arrayValue.values||[],e.arrayValue.values||[],da);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(xH(s)!==xH(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===a[c]||!da(s[c],a[c])))return!1;return!0}(t,e);default:return Te()}var o}function vy(t,e){return void 0!==(t.values||[]).find(n=>da(n,e))}function Rl(t,e){if(t===e)return 0;const n=Sl(t),r=Sl(e);if(n!==r)return Ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Gn(o.integerValue||o.doubleValue),c=Gn(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return LH(t.timestampValue,e.timestampValue);case 4:return LH(yy(t),yy(e));case 5:return Ke(t.stringValue,e.stringValue);case 6:return function(o,s){const a=rc(o),c=rc(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){const h=Ke(a[l],c[l]);if(0!==h)return h}return Ke(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Ke(Gn(o.latitude),Gn(s.latitude));return 0!==a?a:Ke(Gn(o.longitude),Gn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],c=s.values||[];for(let l=0;l<a.length&&l<c.length;++l){const h=Rl(a[l],c[l]);if(h)return h}return Ke(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Dl.mapValue&&s===Dl.mapValue)return 0;if(o===Dl.mapValue)return 1;if(s===Dl.mapValue)return-1;const a=o.fields||{},c=Object.keys(a),l=s.fields||{},h=Object.keys(l);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const _=Ke(c[f],h[f]);if(0!==_)return _;const v=Rl(a[c[f]],l[h[f]]);if(0!==v)return v}return Ke(c.length,h.length)}(t.mapValue,e.mapValue);default:throw Te()}}function LH(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ke(t,e);const n=Tl(t),r=Tl(e),i=Ke(n.seconds,r.seconds);return 0!==i?i:Ke(n.nanos,r.nanos)}function Xp(t){return tR(t)}function tR(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Tl(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?rc(t.bytesValue).toBase64():"referenceValue"in t?ve.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=tR(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${tR(n.fields[s])}`;return i+"}"}(t.mapValue):Te()}function ud(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function nR(t){return!!t&&"integerValue"in t}function Cy(t){return!!t&&"arrayValue"in t}function VH(t){return!!t&&"nullValue"in t}function UH(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function uE(t){return!!t&&"mapValue"in t}function wy(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return bl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=wy(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wy(t.arrayValue.values[n]);return e}return Object.assign({},t)}function BH(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function iye(t){return"nullValue"in t?cE:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?ud(Al.empty(),ve.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Te()}function oye(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?ud(Al.empty(),ve.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Dl:Te()}function jH(t,e){const n=Rl(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function $H(t,e){const n=Rl(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class ei{constructor(e){this.value=e}static empty(){return new ei({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!uE(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wy(n)}setAll(e){let n=Cn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=wy(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());uE(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return da(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];uE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){bl(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new ei(wy(this.value))}}function HH(t){const e=[];return bl(t.fields,(n,r)=>{const i=new Cn([n]);if(uE(r)){const o=HH(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new so(e)}class wn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new wn(e,0,Fe.min(),Fe.min(),Fe.min(),ei.empty(),0)}static newFoundDocument(e,n,r,i){return new wn(e,1,n,Fe.min(),r,i,0)}static newNoDocument(e,n){return new wn(e,2,n,Fe.min(),Fe.min(),ei.empty(),0)}static newUnknownDocument(e,n){return new wn(e,3,n,Fe.min(),Fe.min(),ei.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Fe.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ei.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xl{constructor(e,n){this.position=e,this.inclusive=n}}function zH(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?ve.comparator(ve.fromName(s.referenceValue),n.key):Rl(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function GH(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!da(t.position[n],e.position[n]))return!1;return!0}class Py{constructor(e,n="asc"){this.field=e,this.dir=n}}function sye(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class WH{}class wt extends WH{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new aye(e,n,r):"array-contains"===n?new uye(e,r):"in"===n?new XH(e,r):"not-in"===n?new dye(e,r):"array-contains-any"===n?new hye(e,r):new wt(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new cye(e,r):new lye(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Rl(n,this.value)):null!==n&&Sl(this.value)===Sl(n)&&this.matchesComparison(Rl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ht extends WH{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Ht(e,n)}matches(e){return Jp(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Jp(t){return"and"===t.op}function rR(t){return"or"===t.op}function iR(t){return qH(t)&&Jp(t)}function qH(t){for(const e of t.filters)if(e instanceof Ht)return!1;return!0}function oR(t){if(t instanceof wt)return t.field.canonicalString()+t.op.toString()+Xp(t.value);if(iR(t))return t.filters.map(e=>oR(e)).join(",");{const e=t.filters.map(n=>oR(n)).join(",");return`${t.op}(${e})`}}function KH(t,e){return t instanceof wt?(r=t,(i=e)instanceof wt&&r.op===i.op&&r.field.isEqual(i.field)&&da(r.value,i.value)):t instanceof Ht?function(r,i){return i instanceof Ht&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&KH(s,i.filters[a]),!0)}(t,e):void Te();var r,i}function ZH(t,e){const n=t.filters.concat(e);return Ht.create(n,t.op)}function YH(t){return t instanceof wt?`${(n=t).field.canonicalString()} ${n.op} ${Xp(n.value)}`:t instanceof Ht?function(n){return n.op.toString()+" {"+n.getFilters().map(YH).join(" ,")+"}"}(t):"Filter";var n}class aye extends wt{constructor(e,n,r){super(e,n,r),this.key=ve.fromName(r.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class cye extends wt{constructor(e,n){super(e,"in",n),this.keys=QH(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class lye extends wt{constructor(e,n){super(e,"not-in",n),this.keys=QH(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function QH(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>ve.fromName(r.referenceValue))}class uye extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Cy(n)&&vy(n.arrayValue,this.value)}}class XH extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&vy(this.value.arrayValue,n)}}class dye extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(vy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!vy(this.value.arrayValue,n)}}class hye extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Cy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>vy(this.value.arrayValue,r))}}class pye{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function sR(t,e=null,n=[],r=[],i=null,o=null,s=null){return new pye(t,e,n,r,i,o,s)}function dd(t){const e=ye(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>oR(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),_y(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xp(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xp(r)).join(",")),e.ce=n}return e.ce}function Ey(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!sye(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!KH(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!GH(t.startAt,e.startAt)&&GH(t.endAt,e.endAt)}function dE(t){return ve.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function hE(t,e){return t.filters.filter(n=>n instanceof wt&&n.field.isEqual(e))}function JH(t,e,n){let r=cE,i=!0;for(const o of hE(t,e)){let s=cE,a=!0;switch(o.op){case"<":case"<=":s=iye(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=cE}jH({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(null!==n)for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];jH({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}return{value:r,inclusive:i}}function ez(t,e,n){let r=Dl,i=!0;for(const o of hE(t,e)){let s=Dl,a=!0;switch(o.op){case">=":case">":s=oye(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Dl}$H({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(null!==n)for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];$H({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}return{value:r,inclusive:i}}class ic{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null}}function tz(t,e,n,r,i,o,s,a){return new ic(t,e,n,r,i,o,s,a)}function ef(t){return new ic(t)}function nz(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function aR(t){return null!==t.collectionGroup}function tf(t){const e=ye(t);if(null===e.le){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Kt(Cn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Py(o,r))}),n.has(Cn.keyField().canonicalString())||e.le.push(new Py(Cn.keyField(),r))}return e.le}function zi(t){const e=ye(t);return e.he||(e.he=function rz(t,e){if("F"===t.limitType)return sR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new Py(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new xl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new xl(t.startAt.position,t.startAt.inclusive):null;return sR(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,tf(t))),e.he}function cR(t,e){const n=t.filters.concat([e]);return new ic(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function pE(t,e,n){return new ic(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function My(t,e){return Ey(zi(t),zi(e))&&t.limitType===e.limitType}function iz(t){return`${dd(zi(t))}|lt:${t.limitType}`}function nf(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>YH(i)).join(", ")}]`),_y(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Xp(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Xp(i)).join(",")),`Target(${r})`}(zi(t))}; limitType=${t.limitType})`}function Oy(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ve.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of tf(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(s,a,c){const l=zH(s,a,c);return s.inclusive?l<=0:l<0}(r.startAt,tf(r),i)||r.endAt&&!function(s,a,c){const l=zH(s,a,c);return s.inclusive?l>=0:l>0}(r.endAt,tf(r),i)));var r,i}function oz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function sz(t){return(e,n)=>{let r=!1;for(const i of tf(t)){const o=fye(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function fye(t,e,n){const r=t.field.isKeyField()?ve.comparator(e.key,n.key):function(o,s,a){const c=s.data.field(o),l=a.data.field(o);return null!==c&&null!==l?Rl(c,l):Te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Te()}}class oc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bl(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return kH(this.inner)}size(){return this.innerSize}}const gye=new dn(ve.comparator);function ao(){return gye}const az=new dn(ve.comparator);function Iy(...t){let e=az;for(const n of t)e=e.insert(n.key,n);return e}function cz(t){let e=az;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ha(){return by()}function lz(){return by()}function by(){return new oc(t=>t.toString(),(t,e)=>t.isEqual(e))}const _ye=new dn(ve.comparator),mye=new Kt(ve.comparator);function ot(...t){let e=mye;for(const n of t)e=e.add(n);return e}const yye=new Kt(Ke);function lR(){return yye}function uz(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:my(e)?"-0":e}}function dz(t){return{integerValue:""+t}}function hz(t,e){return IH(e)?dz(e):uz(t,e)}class fE{constructor(){this._=void 0}}function vye(t,e,n){return t instanceof rf?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&sE(o)&&(o=aE(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof hd?fz(t,e):t instanceof pd?gz(t,e):function(i,o){const s=pz(i,o),a=_z(s)+_z(i.Ie);return nR(s)&&nR(i.Ie)?dz(a):uz(i.serializer,a)}(t,e)}function Cye(t,e,n){return t instanceof hd?fz(t,e):t instanceof pd?gz(t,e):n}function pz(t,e){return t instanceof sf?nR(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class rf extends fE{}class hd extends fE{constructor(e){super(),this.elements=e}}function fz(t,e){const n=mz(e);for(const r of t.elements)n.some(i=>da(i,r))||n.push(r);return{arrayValue:{values:n}}}class pd extends fE{constructor(e){super(),this.elements=e}}function gz(t,e){let n=mz(e);for(const r of t.elements)n=n.filter(i=>!da(i,r));return{arrayValue:{values:n}}}class sf extends fE{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function _z(t){return Gn(t.integerValue||t.doubleValue)}function mz(t){return Cy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Ty{constructor(e,n){this.field=e,this.transform=n}}class Pye{constructor(e,n){this.version=e,this.transformResults=n}}class Dn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Dn}static exists(e){return new Dn(void 0,e)}static updateTime(e){return new Dn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gE(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class _E{}function yz(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new cf(t.key,Dn.none()):new af(t.key,t.data,Dn.none());{const n=t.data,r=ei.empty();let i=new Kt(Cn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new sc(t.key,r,new so(i.toArray()),Dn.none())}}function Eye(t,e,n){t instanceof af?function(i,o,s){const a=i.value.clone(),c=wz(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof sc?function(i,o,s){if(!gE(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=wz(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(Cz(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Ay(t,e,n,r){return t instanceof af?function(o,s,a,c){if(!gE(o.precondition,s))return a;const l=o.value.clone(),h=Pz(o.fieldTransforms,c,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof sc?function(o,s,a,c){if(!gE(o.precondition,s))return a;const l=Pz(o.fieldTransforms,c,s),h=s.data;return h.setAll(Cz(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):(a=n,gE(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function Mye(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=pz(r.transform,i||null);null!=o&&(null===n&&(n=ei.empty()),n.set(r.field,o))}return n||null}function vz(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&Kp(r,i,(o,s)=>function wye(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof hd&&i instanceof hd||r instanceof pd&&i instanceof pd?Kp(r.elements,i.elements,da):r instanceof sf&&i instanceof sf?da(r.Ie,i.Ie):r instanceof rf&&i instanceof rf);var r,i}(o,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class af extends _E{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class sc extends _E{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Cz(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function wz(t,e,n){const r=new Map;Ne(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Cye(s,a,n[i]))}return r}function Pz(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,vye(o,s,e))}return r}class cf extends _E{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uR extends _E{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class dR{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Eye(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ay(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ay(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=lz();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const c=yz(s,a);null!==c&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ot())}isEqual(e){return this.batchId===e.batchId&&Kp(this.mutations,e.mutations,(n,r)=>vz(n,r))&&Kp(this.baseMutations,e.baseMutations,(n,r)=>vz(n,r))}}class hR{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ne(e.mutations.length===r.length);let i=_ye;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new hR(e,n,r,i)}}class pR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Iye{constructor(e,n){this.count=e,this.unchangedNames=n}}var hr,St;function Ez(t){switch(t){default:return Te();case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0}}function Mz(t){if(void 0===t)return tr("GRPC error has no .code"),G.UNKNOWN;switch(t){case hr.OK:return G.OK;case hr.CANCELLED:return G.CANCELLED;case hr.UNKNOWN:return G.UNKNOWN;case hr.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case hr.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case hr.INTERNAL:return G.INTERNAL;case hr.UNAVAILABLE:return G.UNAVAILABLE;case hr.UNAUTHENTICATED:return G.UNAUTHENTICATED;case hr.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case hr.NOT_FOUND:return G.NOT_FOUND;case hr.ALREADY_EXISTS:return G.ALREADY_EXISTS;case hr.PERMISSION_DENIED:return G.PERMISSION_DENIED;case hr.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case hr.ABORTED:return G.ABORTED;case hr.OUT_OF_RANGE:return G.OUT_OF_RANGE;case hr.UNIMPLEMENTED:return G.UNIMPLEMENTED;case hr.DATA_LOSS:return G.DATA_LOSS;default:return Te()}}(St=hr||(hr={}))[St.OK=0]="OK",St[St.CANCELLED=1]="CANCELLED",St[St.UNKNOWN=2]="UNKNOWN",St[St.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",St[St.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",St[St.NOT_FOUND=5]="NOT_FOUND",St[St.ALREADY_EXISTS=6]="ALREADY_EXISTS",St[St.PERMISSION_DENIED=7]="PERMISSION_DENIED",St[St.UNAUTHENTICATED=16]="UNAUTHENTICATED",St[St.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",St[St.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",St[St.ABORTED=10]="ABORTED",St[St.OUT_OF_RANGE=11]="OUT_OF_RANGE",St[St.UNIMPLEMENTED=12]="UNIMPLEMENTED",St[St.INTERNAL=13]="INTERNAL",St[St.UNAVAILABLE=14]="UNAVAILABLE",St[St.DATA_LOSS=15]="DATA_LOSS";function Oz(){return new TextEncoder}const bye=new Gp([4294967295,4294967295],0);function Iz(t){const e=Oz().encode(t),n=new Cme;return n.update(e),new Uint8Array(n.digest())}function bz(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Gp([n,r],0),new Gp([i,o],0)]}class fR{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Dy(`Invalid padding: ${n}`);if(r<0)throw new Dy(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Dy(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Dy(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Gp.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Gp.fromNumber(r)));return 1===i.compare(bye)&&(i=new Gp([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=Iz(e),[r,i]=bz(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new fR(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const n=Iz(e),[r,i]=bz(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Dy extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sy{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ry.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Sy(Fe.min(),i,new dn(Ke),ao(),ot())}}class Ry{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ry(r,n,ot(),ot(),ot())}}class yE{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class Tz{constructor(e,n){this.targetId=e,this.fe=n}}class Az{constructor(e,n,r=Or.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Dz{constructor(){this.ge=0,this.pe=Rz(),this.ye=Or.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ot(),n=ot(),r=ot();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Te()}}),new Ry(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=Rz()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class Tye{constructor(e){this.Le=e,this.ke=new Map,this.qe=ao(),this.Qe=Sz(),this.Ke=new dn(Ke)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(dE(o))if(0===r){const s=new ve(o.path);this.We(n,s,wn.newNoDocument(s,Fe.min()))}else Ne(1===r);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),c=a?this.et(a,e,s):1;0!==c&&(this.He(n),this.Ke=this.Ke.insert(n,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=rc(r).toUint8Array()}catch(c){if(c instanceof FH)return oo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new fR(s,i,o)}catch(c){return oo(c instanceof Dy?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&dE(a.target)){const c=new ve(a.target.path);null!==this.qe.get(c)||this.st(s,c)||this.We(s,c,wn.newNoDocument(c,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=ot();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const l=this.Ye(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new Sy(e,n,this.Ke,this.qe,r);return this.qe=ao(),this.Qe=Sz(),this.Ke=new dn(Ke),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Dz,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Kt(Ke),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||de("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Dz),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Sz(){return new dn(ve.comparator)}function Rz(){return new dn(ve.comparator)}const Aye={asc:"ASCENDING",desc:"DESCENDING"},Dye={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sye={and:"AND",or:"OR"};class Rye{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gR(t,e){return t.useProto3Json||_y(e)?e:{value:e}}function lf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xz(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function xye(t,e){return lf(t,e.toTimestamp())}function nr(t){return Ne(!!t),Fe.fromTimestamp(function(n){const r=Tl(n);return new An(r.seconds,r.nanos)}(t))}function _R(t,e){return(r=t,new Dt(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function kz(t){const e=Dt.fromString(t);return Ne(Hz(e)),e}function xy(t,e){return _R(t.databaseId,e.path)}function pa(t,e){const n=kz(e);if(n.get(1)!==t.databaseId.projectId)throw new le(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(Fz(n))}function mR(t,e){return _R(t.databaseId,e)}function Nz(t){const e=kz(t);return 4===e.length?Dt.emptyPath():Fz(e)}function ky(t){return new Dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Fz(t){return Ne(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Lz(t,e,n){return{name:xy(t,e),fields:n.value.mapValue.fields}}function Vz(t,e,n){const r=pa(t,e.name),i=nr(e.updateTime),o=e.createTime?nr(e.createTime):Fe.min(),s=new ei({mapValue:{fields:e.fields}}),a=wn.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Ny(t,e){let n;if(e instanceof af)n={update:Lz(t,e.key,e.value)};else if(e instanceof cf)n={delete:xy(t,e.key)};else if(e instanceof sc)n={update:Lz(t,e.key,e.data),updateMask:jye(e.fieldMask)};else{if(!(e instanceof uR))return Te();n={verify:xy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof rf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof hd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof pd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof sf)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw Te()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:xye(t,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Te()),n;var o}function yR(t,e){const n=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Dn.updateTime(nr(o.updateTime)):void 0!==o.exists?Dn.exists(o.exists):Dn.none():Dn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let c=null;"setToServerValue"in a?(Ne("REQUEST_TIME"===a.setToServerValue),c=new rf):"appendMissingElements"in a?c=new hd(a.appendMissingElements.values||[]):"removeAllFromArray"in a?c=new pd(a.removeAllFromArray.values||[]):"increment"in a?c=new sf(s,a.increment):Te();const l=Cn.fromServerFormat(a.fieldPath);return new Ty(l,c)}(t,i)):[];var o;if(e.update){const i=pa(t,e.update.name),o=new ei({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new so((e.updateMask.fieldPaths||[]).map(h=>Cn.fromServerFormat(h)));return new sc(i,o,s,n,r)}return new af(i,o,n,r)}if(e.delete){const i=pa(t,e.delete);return new cf(i,n)}if(e.verify){const i=pa(t,e.verify);return new uR(i,n)}return Te()}function Uz(t,e){return{documents:[mR(t,e.path)]}}function vR(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=mR(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=mR(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return $z(Ht.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(0!==c.length)return c.map(l=>{return{field:kl((f=l).field),direction:Vye(f.dir)};var f})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=gR(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n;var c}function Bz(t){let e=Nz(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ne(1===r);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(f){const _=jz(f);return _ instanceof Ht&&iR(_)?_.getFilters():[_]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(_=>{return new Py(uf((E=_).field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction));var E}));let a=null;n.limit&&(a=function(f){let _;return _="object"==typeof f?f.value:f,_y(_)?null:_}(n.limit));let c=null;var f;n.startAt&&(c=new xl((f=n.startAt).values||[],!!f.before));let l=null;return n.endAt&&(l=function(f){return new xl(f.values||[],!f.before)}(n.endAt)),tz(e,i,s,o,a,"F",c,l)}function jz(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=uf(n.unaryFilter.field);return wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=uf(n.unaryFilter.field);return wt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=uf(n.unaryFilter.field);return wt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=uf(n.unaryFilter.field);return wt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(t):void 0!==t.fieldFilter?wt.create(uf((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return Ht.create(n.compositeFilter.filters.map(r=>jz(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(t):Te();var n}function Vye(t){return Aye[t]}function Uye(t){return Dye[t]}function Bye(t){return Sye[t]}function kl(t){return{fieldPath:t.canonicalString()}}function uf(t){return Cn.fromServerFormat(t.fieldPath)}function $z(t){return t instanceof wt?function(n){if("=="===n.op){if(UH(n.value))return{unaryFilter:{field:kl(n.field),op:"IS_NAN"}};if(VH(n.value))return{unaryFilter:{field:kl(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(UH(n.value))return{unaryFilter:{field:kl(n.field),op:"IS_NOT_NAN"}};if(VH(n.value))return{unaryFilter:{field:kl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kl(n.field),op:Uye(n.op),value:n.value}}}(t):t instanceof Ht?function(n){const r=n.getFilters().map(i=>$z(i));return 1===r.length?r[0]:{compositeFilter:{op:Bye(n.op),filters:r}}}(t):Te()}function jye(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Hz(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class ac{constructor(e,n,r,i,o=Fe.min(),s=Fe.min(),a=Or.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new ac(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ac(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ac(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ac(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class zz{constructor(e){this.ut=e}}function Gz(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:vE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:xy(o=t.ut,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:lf(o,s.version.toTimestamp()),createTime:lf(o,s.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:fd(e.version)};else{if(!e.isUnknownDocument())return Te();r.unknownDocument={path:n.path.toArray(),version:fd(e.version)}}var o,s;return r}function vE(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function fd(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function gd(t){const e=new An(t.seconds,t.nanoseconds);return Fe.fromTimestamp(e)}function _d(t,e){const n=(e.baseMutations||[]).map(o=>yR(t.ut,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const r=e.mutations.map(o=>yR(t.ut,o)),i=An.fromMillis(e.localWriteTimeMs);return new dR(e.batchId,i,n,r)}function Fy(t){const e=gd(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?gd(t.lastLimboFreeSnapshotVersion):Fe.min();let r;return r=void 0!==t.query.documents?(Ne(1===(o=t.query).documents.length),zi(ef(Nz(o.documents[0])))):function(o){return zi(Bz(o))}(t.query),new ac(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Or.fromBase64String(t.resumeToken));var o}function Wz(t,e){const n=fd(e.snapshotVersion),r=fd(e.lastLimboFreeSnapshotVersion);let i;i=dE(e.target)?Uz(t.ut,e.target):vR(t.ut,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:dd(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function CR(t){const e=Bz({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?pE(e,e.limit,"L"):e}function wR(t,e){return new pR(e.largestBatchId,yR(t.ut,e.overlayMutation))}function qz(t,e){const n=e.path.lastSegment();return[t,wi(e.path.popLast()),n]}function Kz(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:fd(r.readTime),documentKey:wi(r.documentKey.path),largestBatchId:r.largestBatchId}}class Hye{getBundleMetadata(e,n){return Zz(e).get(n).next(r=>{if(r)return{id:(o=r).bundleId,createTime:gd(o.createTime),version:o.version};var o})}saveBundleMetadata(e,n){return Zz(e).put({bundleId:(i=n).id,createTime:fd(nr(i.createTime)),version:i.version});var i}getNamedQuery(e,n){return Yz(e).get(n).next(r=>{if(r)return{name:(o=r).name,query:CR(o.bundledQuery),readTime:gd(o.readTime)};var o})}saveNamedQuery(e,n){return Yz(e).put({name:(i=n).name,readTime:fd(nr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function Zz(t){return Vr(t,"bundles")}function Yz(t){return Vr(t,"namedQueries")}class CE{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){return new CE(e,n.uid||"")}getOverlay(e,n){return Ly(e).get(qz(this.userId,n)).next(r=>r?wR(this.serializer,r):null)}getOverlays(e,n){const r=ha();return B.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((o,s)=>{const a=new pR(n,s);i.push(this.lt(e,a))}),B.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(s=>i.add(wi(s.getCollectionPath())));const o=[];return i.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(Ly(e).H("collectionPathOverlayIndex",a))}),B.waitFor(o)}getOverlaysForCollection(e,n,r){const i=ha(),o=wi(n),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Ly(e).W("collectionPathOverlayIndex",s).next(a=>{for(const c of a){const l=wR(this.serializer,c);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const o=ha();let s;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Ly(e).Y({index:"collectionGroupOverlayIndex",range:a},(c,l,h)=>{const f=wR(this.serializer,l);o.size()<i||f.largestBatchId===s?(o.set(f.getKey(),f),s=f.largestBatchId):h.done()}).next(()=>o)}lt(e,n){return Ly(e).put(function(i,o,s){const[a,c,l]=qz(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Ny(i.ut,s.mutation)}}(this.serializer,this.userId,n))}}function Ly(t){return Vr(t,"documentOverlays")}class md{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Gn(e.integerValue));else if("doubleValue"in e){const r=Gn(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),my(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),"string"==typeof r?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(rc(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?BH(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):Te()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),ve.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}function zye(t){if(0===t)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function Qz(t){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const s=zye(255&r[o]);if(i+=s,8!==s)break}return i}(t);return Math.ceil(e/8)}md.St=new md;class Gye{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Dt(r.value),r=n.next();this.Ct()}vt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{const i=n.codePointAt(0);this.Dt(240|i>>>18),this.Dt(128|63&i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i)}}this.Ct()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Nt(e){const n=this.Bt(e),r=Qz(n);this.Lt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}kt(e){const n=this.Bt(e),r=Qz(n);this.Lt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=0!=(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Dt(e){const n=255&e;0===n?(this.Qt(0),this.Qt(255)):255===n?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){const n=255&e;0===n?(this.$t(0),this.$t(255)):255===n?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Wye{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class qye{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Vy{constructor(){this.Wt=new Gye,this.Gt=new Wye(this.Wt),this.zt=new qye(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class yd{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Ht(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new yd(this.indexId,this.documentKey,this.arrayValue,r)}}function Nl(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=Xz(t.arrayValue,e.arrayValue),0!==n?n:(n=Xz(t.directionalValue,e.directionalValue),0!==n?n:ve.comparator(t.documentKey,e.documentKey)))}function Xz(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(0!==r)return r}return t.length-e.length}class Jz{constructor(e){this.Jt=new Kt((n,r)=>Cn.comparator(n.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(Ne(e.collectionGroup===this.collectionId),this.Xt)return!1;const n=YS(e);if(void 0!==n&&!this.tn(n))return!1;const r=ad(e);let i=new Set,o=0,s=0;for(;o<r.length&&this.tn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const c=r[o];if(!this.nn(a,c)||!this.rn(this.Yt[s++],c))return!1}++o}for(;o<r.length;++o)if(s>=this.Yt.length||!this.rn(this.Yt[s++],r[o]))return!1;return!0}sn(){if(this.Xt)return null;let e=new Kt(Cn.comparator);const n=[];for(const r of this.Zt)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)n.push(new cd(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new cd(r.field,0))}for(const r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new cd(r.field,"asc"===r.dir?0:1)));return new Zp(Zp.UNKNOWN_ID,this.collectionId,n,Yp.empty())}tn(e){for(const n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function e8(t){var e,n;if(Ne(t instanceof wt||t instanceof Ht),t instanceof wt){if(t instanceof XH){const i=(null===(n=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(o=>wt.create(t.field,"==",o)))||[];return Ht.create(i,"or")}return t}const r=t.filters.map(i=>e8(i));return Ht.create(r,t.op)}function Kye(t){if(0===t.getFilters().length)return[];const e=MR(e8(t));return Ne(t8(e)),PR(e)||ER(e)?[e]:e.getFilters()}function PR(t){return t instanceof wt}function ER(t){return t instanceof Ht&&iR(t)}function t8(t){return PR(t)||ER(t)||function(n){if(n instanceof Ht&&rR(n)){for(const r of n.getFilters())if(!PR(r)&&!ER(r))return!1;return!0}return!1}(t)}function MR(t){if(Ne(t instanceof wt||t instanceof Ht),t instanceof wt)return t;if(1===t.filters.length)return MR(t.filters[0]);const e=t.filters.map(r=>MR(r));let n=Ht.create(e,t.op);return n=wE(n),t8(n)?n:(Ne(n instanceof Ht),Ne(Jp(n)),Ne(n.filters.length>1),n.filters.reduce((r,i)=>OR(r,i)))}function OR(t,e){let n;return Ne(t instanceof wt||t instanceof Ht),Ne(e instanceof wt||e instanceof Ht),n=t instanceof wt?e instanceof wt?Ht.create([t,e],"and"):n8(t,e):e instanceof wt?n8(e,t):function(i,o){if(Ne(i.filters.length>0&&o.filters.length>0),Jp(i)&&Jp(o))return ZH(i,o.getFilters());const s=rR(i)?i:o,a=rR(i)?o:i,c=s.filters.map(l=>OR(l,a));return Ht.create(c,"or")}(t,e),wE(n)}function n8(t,e){if(Jp(e))return ZH(e,t.getFilters());{const n=e.filters.map(r=>OR(t,r));return Ht.create(n,"or")}}function wE(t){if(Ne(t instanceof wt||t instanceof Ht),t instanceof wt)return t;const e=t.getFilters();if(1===e.length)return wE(e[0]);if(qH(t))return t;const n=e.map(i=>wE(i)),r=[];return n.forEach(i=>{i instanceof wt?r.push(i):i instanceof Ht&&(i.op===t.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Ht.create(r,t.op)}class Zye{constructor(){this.on=new IR}addToCollectionParentIndex(e,n){return this.on.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Io.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Io.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class IR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Kt(Dt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Kt(Dt.comparator)).toArray()}}const PE=new Uint8Array(0);class Yye{constructor(e,n){this.user=e,this.databaseId=n,this._n=new IR,this.an=new oc(r=>dd(r),(r,i)=>Ey(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});const o={collectionId:r,parent:wi(i)};return r8(e).put(o)}return B.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[CH(n),""],!1,!0);return r8(e).W(i).next(o=>{for(const s of o){if(s.collectionId!==n)break;r.push(ua(s.parent))}return r})}addFieldIndex(e,n){const r=Uy(e),i={indexId:(a=n).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;delete i.indexId;const o=r.add(i);if(n.indexState){const s=hf(e);return o.next(a=>{s.put(Kz(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const r=Uy(e),i=hf(e),o=df(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Uy(e),r=df(e),i=hf(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return B.forEach(this.un(n),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const o=new Jz(r).sn();if(null!=o)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){const r=df(e);let i=!0;const o=new Map;return B.forEach(this.un(n),s=>this.cn(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=ot();const a=[];return B.forEach(o,(c,l)=>{var H;de("IndexedDbIndexManager",`Using index ${H=c,`id=${H.indexId}|cg=${H.collectionGroup}|f=${H.fields.map($=>`${$.fieldPath}:${$.kind}`).join(",")}`} to execute ${dd(n)}`);const h=function(H,$){const pe=YS($);if(void 0===pe)return null;for(const Oe of hE(H,pe.fieldPath))switch(Oe.op){case"array-contains-any":return Oe.value.arrayValue.values||[];case"array-contains":return[Oe.value]}return null}(l,c),f=function(H,$){const pe=new Map;for(const Oe of ad($))for(const at of hE(H,Oe.fieldPath))switch(at.op){case"==":case"in":pe.set(Oe.fieldPath.canonicalString(),at.value);break;case"not-in":case"!=":return pe.set(Oe.fieldPath.canonicalString(),at.value),Array.from(pe.values())}return null}(l,c),_=function(H,$){const pe=[];let Oe=!0;for(const at of ad($)){const Zt=0===at.kind?JH(H,at.fieldPath,H.startAt):ez(H,at.fieldPath,H.startAt);pe.push(Zt.value),Oe&&(Oe=Zt.inclusive)}return new xl(pe,Oe)}(l,c),v=function(H,$){const pe=[];let Oe=!0;for(const at of ad($)){const Zt=0===at.kind?ez(H,at.fieldPath,H.endAt):JH(H,at.fieldPath,H.endAt);pe.push(Zt.value),Oe&&(Oe=Zt.inclusive)}return new xl(pe,Oe)}(l,c),E=this.ln(c,l,_),I=this.ln(c,l,v),b=this.hn(c,l,f),L=this.Pn(c.indexId,h,E,_.inclusive,I,v.inclusive,b);return B.forEach(L,N=>r.j(N,n.limit).next(H=>{H.forEach($=>{const pe=ve.fromSegments($.documentKey);s.has(pe)||(s=s.add(pe),a.push(pe))})}))}).next(()=>a)}return B.resolve(null)})}un(e){let n=this.an.get(e);return n||(n=0===e.filters.length?[e]:Kye(Ht.create(e.filters,"and")).map(r=>sR(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,r,i,o,s,a){const c=(null!=n?n.length:1)*Math.max(r.length,o.length),l=c/(null!=n?n.length:1),h=[];for(let f=0;f<c;++f){const _=n?this.In(n[f/l]):PE,v=this.Tn(e,_,r[f%l],i),E=this.En(e,_,o[f%l],s),I=a.map(b=>this.Tn(e,_,b,!0));h.push(...this.createRange(v,E,I))}return h}Tn(e,n,r,i){const o=new yd(e,ve.empty(),n,r);return i?o:o.Ht()}En(e,n,r,i){const o=new yd(e,ve.empty(),n,r);return i?o.Ht():o}cn(e,n){const r=new Jz(n),i=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(const a of o)r.en(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let r=2;const i=this.un(n);return B.forEach(i,o=>this.cn(e,o).next(s=>{s?0!==r&&s.fields.length<function(c){let l=new Kt(Cn.comparator),h=!1;for(const f of c.filters)for(const _ of f.getFlattenedFilters())_.field.isKeyField()||("array-contains"===_.op||"array-contains-any"===_.op?h=!0:l=l.add(_.field));for(const f of c.orderBy)f.field.isKeyField()||(l=l.add(f.field));return l.size+(h?1:0)}(o)&&(r=1):r=0})).next(()=>null!==n.limit&&i.length>1&&2===r?1:r)}dn(e,n){const r=new Vy;for(const i of ad(e)){const o=n.data.field(i.fieldPath);if(null==o)return null;const s=r.jt(i.kind);md.St.ht(o,s)}return r.Ut()}In(e){const n=new Vy;return md.St.ht(e,n.jt(0)),n.Ut()}An(e,n){const r=new Vy;return md.St.ht(ud(this.databaseId,n),r.jt(function(o){const s=ad(o);return 0===s.length?0:s[s.length-1].kind}(e))),r.Ut()}hn(e,n,r){if(null===r)return[];let i=[];i.push(new Vy);let o=0;for(const s of ad(e)){const a=r[o++];for(const c of i)if(this.Rn(n,s.fieldPath)&&Cy(a))i=this.Vn(i,s,a);else{const l=c.jt(s.kind);md.St.ht(a,l)}}return this.mn(i)}ln(e,n,r){return this.hn(e,n,r.position)}mn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Ut();return n}Vn(e,n,r){const i=[...e],o=[];for(const s of r.arrayValue.values||[])for(const a of i){const c=new Vy;c.seed(a.Ut()),md.St.ht(s,c.jt(n.kind)),o.push(c)}return o}Rn(e,n){return!!e.filters.find(r=>r instanceof wt&&r.field.isEqual(n)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,n){const r=Uy(e),i=hf(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(o=>{const s=[];return B.forEach(o,a=>i.get([a.indexId,this.uid]).next(c=>{s.push(function(h,f){const _=f?new Yp(f.sequenceNumber,new Io(gd(f.readTime),new ve(ua(f.documentKey)),f.largestBatchId)):Yp.empty(),v=h.fields.map(([E,I])=>new cd(Cn.fromServerFormat(E),I));return new Zp(h.indexId,h.collectionGroup,v,_)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==o?o:Ke(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Uy(e),o=hf(e);return this.fn(e).next(s=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>B.forEach(a,c=>o.put(Kz(c.indexId,this.user,s,r)))))}updateIndexEntries(e,n){const r=new Map;return B.forEach(n,(i,o)=>{const s=r.get(i.collectionGroup);return(s?B.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),B.forEach(a,c=>this.gn(e,i,c).next(l=>{const h=this.pn(o,c);return l.isEqual(h)?B.resolve():this.yn(e,o,c,l,h)}))))})}wn(e,n,r,i){return df(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.An(r,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,r,i){return df(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.An(r,n.key),n.key.path.toArray()])}gn(e,n,r){const i=df(e);let o=new Kt(Nl);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,n)])},(s,a)=>{o=o.add(new yd(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}pn(e,n){let r=new Kt(Nl);const i=this.dn(n,e);if(null==i)return r;const o=YS(n);if(null!=o){const s=e.data.field(o.fieldPath);if(Cy(s))for(const a of s.arrayValue.values||[])r=r.add(new yd(n.indexId,e.key,this.In(a),i))}else r=r.add(new yd(n.indexId,e.key,PE,i));return r}yn(e,n,r,i,o){de("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const s=[];return function(c,l,h,f,_){const v=c.getIterator(),E=l.getIterator();let I=Qp(v),b=Qp(E);for(;I||b;){let L=!1,N=!1;if(I&&b){const H=h(I,b);H<0?N=!0:H>0&&(L=!0)}else null!=I?N=!0:L=!0;L?(f(b),b=Qp(E)):N?(_(I),I=Qp(v)):(I=Qp(v),b=Qp(E))}}(i,o,Nl,a=>{s.push(this.wn(e,n,r,a))},a=>{s.push(this.Sn(e,n,r,a))}),B.waitFor(s)}fn(e){let n=1;return hf(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,a)=>Nl(s,a)).filter((s,a,c)=>!a||0!==Nl(s,c[a-1]));const i=[];i.push(e);for(const s of r){const a=Nl(s,e),c=Nl(s,n);if(0===a)i[0]=e.Ht();else if(a>0&&c<0)i.push(s),i.push(s.Ht());else if(c>0)break}i.push(n);const o=[];for(let s=0;s<i.length;s+=2){if(this.bn(i[s],i[s+1]))return[];o.push(IDBKeyRange.bound([i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,PE,[]],[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,PE,[]]))}return o}bn(e,n){return Nl(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(i8)}getMinOffset(e,n){return B.mapArray(this.un(n),r=>this.cn(e,r).next(i=>i||Te())).next(i8)}}function r8(t){return Vr(t,"collectionParents")}function df(t){return Vr(t,"indexEntries")}function Uy(t){return Vr(t,"indexConfiguration")}function hf(t){return Vr(t,"indexState")}function i8(t){Ne(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;QS(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Io(e.readTime,e.documentKey,n)}const o8={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Pi{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Pi(e,Pi.DEFAULT_COLLECTION_PERCENTILE,Pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function s8(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const c=r.Y({range:s},(h,f,_)=>(a++,_.delete()));o.push(c.next(()=>{Ne(1===a)}));const l=[];for(const h of n.mutations){const f=AH(e,h.key.path,n.batchId);o.push(i.delete(f)),l.push(h.key)}return B.waitFor(o).next(()=>l)}function EE(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Te();e=t.noDocument}return JSON.stringify(e).length}Pi.DEFAULT_COLLECTION_PERCENTILE=10,Pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pi.DEFAULT=new Pi(41943040,Pi.DEFAULT_COLLECTION_PERCENTILE,Pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pi.DISABLED=new Pi(-1,0,0);class ME{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}static ct(e,n,r,i){Ne(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new ME(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fl(e).Y({index:"userMutationsIndex",range:r},(i,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const o=pf(e),s=Fl(e);return s.add({}).next(a=>{Ne("number"==typeof a);const c=new dR(a,n,r,i),l=function(v,E,I){const b=I.baseMutations.map(N=>Ny(v.ut,N)),L=I.mutations.map(N=>Ny(v.ut,N));return{userId:E,batchId:I.batchId,localWriteTimeMs:I.localWriteTime.toMillis(),baseMutations:b,mutations:L}}(this.serializer,this.userId,c),h=[];let f=new Kt((_,v)=>Ke(_.canonicalString(),v.canonicalString()));for(const _ of i){const v=AH(this.userId,_.key.path,a);f=f.add(_.key.path.popLast()),h.push(s.put(l)),h.push(o.put(v,Vme))}return f.forEach(_=>{h.push(this.indexManager.addToCollectionParentIndex(e,_))}),e.addOnCommittedListener(()=>{this.Dn[a]=c.keys()}),B.waitFor(h).next(()=>c)})}lookupMutationBatch(e,n){return Fl(e).get(n).next(r=>r?(Ne(r.userId===this.userId),_d(this.serializer,r)):null)}Cn(e,n){return this.Dn[n]?B.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Dn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Fl(e).Y({index:"userMutationsIndex",range:i},(s,a,c)=>{a.userId===this.userId&&(Ne(a.batchId>=r),o=_d(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Fl(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fl(e).W("userMutationsIndex",n).next(r=>r.map(i=>_d(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=iE(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return pf(e).Y({range:i},(s,a,c)=>{const[l,h,f]=s,_=ua(h);if(l===this.userId&&n.path.isEqual(_))return Fl(e).get(f).next(v=>{if(!v)throw Te();Ne(v.userId===this.userId),o.push(_d(this.serializer,v))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Kt(Ke);const i=[];return n.forEach(o=>{const s=iE(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=pf(e).Y({range:a},(l,h,f)=>{const[_,v,E]=l,I=ua(v);_===this.userId&&o.path.isEqual(I)?r=r.add(E):f.done()});i.push(c)}),B.waitFor(i).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=iE(this.userId,r),s=IDBKeyRange.lowerBound(o);let a=new Kt(Ke);return pf(e).Y({range:s},(c,l,h)=>{const[f,_,v]=c,E=ua(_);f===this.userId&&r.isPrefixOf(E)?E.length===i&&(a=a.add(v)):h.done()}).next(()=>this.vn(e,a))}vn(e,n){const r=[],i=[];return n.forEach(o=>{i.push(Fl(e).get(o).next(s=>{if(null===s)throw Te();Ne(s.userId===this.userId),r.push(_d(this.serializer,s))}))}),B.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return s8(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),B.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return B.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return pf(e).Y({range:r},(o,s,a)=>{if(o[0]===this.userId){const c=ua(o[1]);i.push(c)}else a.done()}).next(()=>{Ne(0===i.length)})})}containsKey(e,n){return a8(e,this.userId,n)}Mn(e){return c8(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function a8(t,e,n){const r=iE(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return pf(t).Y({range:o,J:!0},(a,c,l)=>{const[h,f,_]=a;h===e&&f===i&&(s=!0),l.done()}).next(()=>s)}function Fl(t){return Vr(t,"mutations")}function pf(t){return Vr(t,"documentMutations")}function c8(t){return Vr(t,"mutationQueues")}class vd{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new vd(0)}static Nn(){return new vd(-1)}}class Qye{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new vd(n.highestTargetId);return n.highestTargetId=r.next(),this.Ln(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>Fe.fromTimestamp(new An(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Ln(e,i)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.qn(n,r),this.Ln(e,r))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>ff(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(Ne(r.targetCount>0),r.targetCount-=1,this.Ln(e,r)))}removeTargets(e,n,r){let i=0;const o=[];return ff(e).Y((s,a)=>{const c=Fy(a);c.sequenceNumber<=n&&null===r.get(c.targetId)&&(i++,o.push(this.removeTargetData(e,c)))}).next(()=>B.waitFor(o)).next(()=>i)}forEachTarget(e,n){return ff(e).Y((r,i)=>{const o=Fy(i);n(o)})}Bn(e){return l8(e).get("targetGlobalKey").next(n=>(Ne(null!==n),n))}Ln(e,n){return l8(e).put("targetGlobalKey",n)}kn(e,n){return ff(e).put(Wz(this.serializer,n))}qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=dd(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return ff(e).Y({range:i,index:"queryTargetsIndex"},(s,a,c)=>{const l=Fy(a);Ey(n,l.target)&&(o=l,c.done())}).next(()=>o)}addMatchingKeys(e,n,r){const i=[],o=Ll(e);return n.forEach(s=>{const a=wi(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),B.waitFor(i)}removeMatchingKeys(e,n,r){const i=Ll(e);return B.forEach(n,o=>{const s=wi(o.path);return B.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){const r=Ll(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ll(e);let o=ot();return i.Y({range:r,J:!0},(s,a,c)=>{const l=ua(s[1]),h=new ve(l);o=o.add(h)}).next(()=>o)}containsKey(e,n){const r=wi(n.path),i=IDBKeyRange.bound([r],[CH(r)],!1,!0);let o=0;return Ll(e).Y({index:"documentTargetsIndex",J:!0,range:i},([s,a],c,l)=>{0!==s&&(o++,l.done())}).next(()=>o>0)}_t(e,n){return ff(e).get(n).next(r=>r?Fy(r):null)}}function ff(t){return Vr(t,"targets")}function l8(t){return Vr(t,"targetGlobal")}function Ll(t){return Vr(t,"targetDocuments")}function u8([t,e],[n,r]){const i=Ke(t,n);return 0===i?Ke(e,r):i}class Xye{constructor(e){this.Qn=e,this.buffer=new Kt(u8),this.Kn=0}$n(){return++this.Kn}Un(e){const n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();u8(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class d8{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var n=this;de("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,k.Z)(function*(){n.Wn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){Il(r)?de("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Ol(r)}yield n.Gn(3e5)}))}}class Jye{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return B.resolve(bo._e);const r=new Xye(n);return this.zn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.zn.Hn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(o8)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),o8):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let r,i,o,s,a,c,l;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(l=Date.now(),qp()<=fi.in.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-h}ms\n\tDetermined least recently used ${i} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(c-a)+`ms\n\tRemoved ${f} documents in `+(l-c)+`ms\nTotal Duration: ${l-h}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}class eve{constructor(e,n){this.db=e,this.garbageCollector=function h8(t,e){return new Jye(t,e)}(this,n)}jn(e){const n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Yn(e){let n=0;return this.Hn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(r,i)=>n(i))}addReference(e,n,r){return OE(e,r)}removeReference(e,n,r){return OE(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return OE(e,n)}Xn(e,n){return function(i,o){let s=!1;return c8(i).Z(a=>a8(i,a,o).next(c=>(c&&(s=!0),B.resolve(!c)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Zn(e,(s,a)=>{if(a<=n){const c=this.Xn(e,s).next(l=>{if(!l)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,Fe.min()),Ll(e).delete([0,wi(s.path)])))});i.push(c)}}).next(()=>B.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return OE(e,n)}Zn(e,n){const r=Ll(e);let i,o=bo._e;return r.Y({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:l})=>{0===s?(o!==bo._e&&n(new ve(ua(i)),o),o=l,i=c):o=bo._e}).next(()=>{o!==bo._e&&n(new ve(ua(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function OE(t,e){return Ll(t).put((i=t.currentSequenceNumber,{targetId:0,path:wi(e.path),sequenceNumber:i}));var i}class p8{constructor(){this.changes=new oc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class tve{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Cd(e).put(r)}removeEntry(e,n,r){return Cd(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],vE(s),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.er(e,r)))}getEntry(e,n){let r=wn.newInvalidDocument(n);return Cd(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(By(n))},(i,o)=>{r=this.tr(n,o)}).next(()=>r)}nr(e,n){let r={size:0,document:wn.newInvalidDocument(n)};return Cd(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(By(n))},(i,o)=>{r={document:this.tr(n,o),size:EE(o)}}).next(()=>r)}getEntries(e,n){let r=ao();return this.rr(e,n,(i,o)=>{const s=this.tr(i,o);r=r.insert(i,s)}).next(()=>r)}ir(e,n){let r=ao(),i=new dn(ve.comparator);return this.rr(e,n,(o,s)=>{const a=this.tr(o,s);r=r.insert(o,a),i=i.insert(o,EE(s))}).next(()=>({documents:r,sr:i}))}rr(e,n,r){if(n.isEmpty())return B.resolve();let i=new Kt(m8);n.forEach(c=>i=i.add(c));const o=IDBKeyRange.bound(By(i.first()),By(i.last())),s=i.getIterator();let a=s.getNext();return Cd(e).Y({index:"documentKeyIndex",range:o},(c,l,h)=>{const f=ve.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&m8(a,f)<0;)r(a,null),a=s.getNext();a&&a.isEqual(f)&&(r(a,l),a=s.hasNext()?s.getNext():null),a?h.U(By(a)):h.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,o){const s=n.path,a=[s.popLast().toArray(),s.lastSegment(),vE(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Cd(e).W(IDBKeyRange.bound(a,c,!0)).next(l=>{o?.incrementDocumentReadCount(l.length);let h=ao();for(const f of l){const _=this.tr(ve.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);_.isFoundDocument()&&(Oy(n,_)||i.has(_.key))&&(h=h.insert(_.key,_))}return h})}getAllFromCollectionGroup(e,n,r,i){let o=ao();const s=_8(n,r),a=_8(n,Io.max());return Cd(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,l,h)=>{const f=this.tr(ve.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(f.key,f),o.size===i&&h.done()}).next(()=>o)}newChangeBuffer(e){return new nve(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return g8(e).get("remoteDocumentGlobalKey").next(n=>(Ne(!!n),n))}er(e,n){return g8(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){const r=function $ye(t,e){let n;if(e.document)n=Vz(t.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ve.fromSegments(e.noDocument.path),i=gd(e.noDocument.readTime);n=wn.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Te();{const r=ve.fromSegments(e.unknownDocument.path),i=gd(e.unknownDocument.version);n=wn.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const o=new An(i[0],i[1]);return Fe.fromTimestamp(o)}(e.readTime)),n}(this.serializer,n);if(!r.isNoDocument()||!r.version.isEqual(Fe.min()))return r}return wn.newInvalidDocument(e)}}function f8(t){return new tve(t)}class nve extends p8{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new oc(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Kt((o,s)=>Ke(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ar.get(o);if(n.push(this._r.removeEntry(e,o,a.readTime)),s.isValidDocument()){const c=Gz(this._r.serializer,s);i=i.add(o.path.popLast());const l=EE(c);r+=l-a.size,n.push(this._r.addEntry(e,o,c))}else if(r-=a.size,this.trackRemovals){const c=Gz(this._r.serializer,s.convertToNoDocument(Fe.min()));n.push(this._r.addEntry(e,o,c))}}),i.forEach(o=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,o))}),n.push(this._r.updateMetadata(e,r)),B.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(r=>(this.ar.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:r,sr:i})=>(i.forEach((o,s)=>{this.ar.set(o,{size:s,readTime:r.get(o).readTime})}),r))}}function g8(t){return Vr(t,"remoteDocumentGlobal")}function Cd(t){return Vr(t,"remoteDocumentsV14")}function By(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function _8(t,e){const n=e.documentKey.path.toArray();return[t,vE(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function m8(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=Ke(n[o],r[o]),i)return i;return i=Ke(n.length,r.length),i||(i=Ke(n[n.length-2],r[r.length-2]),i||Ke(n[n.length-1],r[r.length-1]))}class rve{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class y8{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Ay(r.mutation,i,so.empty(),An.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ot()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ot()){const i=ha();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Iy();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=ha();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ot()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=ao();const s=by(),a=by();return n.forEach((c,l)=>{const h=r.get(l.key);i.has(l.key)&&(void 0===h||h.mutation instanceof sc)?o=o.insert(l.key,l):void 0!==h?(s.set(l.key,h.mutation.getFieldMask()),Ay(h.mutation,l,h.mutation.getFieldMask(),An.now())):s.set(l.key,so.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var f;return a.set(l,new rve(h,null!==(f=s.get(l))&&void 0!==f?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=by();let i=new dn((s,a)=>s-a),o=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(c=>{const l=n.get(c);if(null===l)return;let h=r.get(c)||so.empty();h=a.applyToLocalView(l,h),r.set(c,h);const f=(i.get(a.batchId)||ot()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,h=c.value,f=lz();h.forEach(_=>{if(!o.has(_)){const v=yz(n.get(_),r.get(_));null!==v&&f.set(_,v),o=o.add(_)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,f))}return B.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return ve.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):aR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var s}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):B.resolve(ha());let a=-1,c=o;return s.next(l=>B.forEach(l,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(h)?B.resolve():this.remoteDocumentCache.getEntry(e,h).next(_=>{c=c.insert(h,_)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,ot())).next(h=>({batchId:a,changes:cz(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(r=>{let i=Iy();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Iy();return this.indexManager.getCollectionParents(e,o).next(a=>B.forEach(a,c=>{const l=(f=n,_=c.child(o),new ic(_,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt));var f,_;return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((f,_)=>{s=s.insert(f,_)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,l)=>{const h=l.getKey();null===s.get(h)&&(s=s.insert(h,wn.newInvalidDocument(h)))});let a=Iy();return s.forEach((c,l)=>{const h=o.get(c);void 0!==h&&Ay(h.mutation,l,so.empty(),An.now()),Oy(n,l)&&(a=a.insert(c,l))}),a})}}class ive{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return B.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(i=n).id,version:i.version,createTime:nr(i.createTime)}),B.resolve();var i}getNamedQuery(e,n){return B.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(i=n).name,query:CR(i.bundledQuery),readTime:nr(i.readTime)}),B.resolve();var i}}class ove{constructor(){this.overlays=new dn(ve.comparator),this.lr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ha();return B.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.lt(e,n,o)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=ha(),o=n.length+1,s=new ve(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new dn((l,h)=>l-h);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);null===h&&(h=ha(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}const a=ha(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return B.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new pR(n,r));let o=this.lr.get(n);void 0===o&&(o=ot(),this.lr.set(n,o)),this.lr.set(n,o.add(r.key))}}class bR{constructor(){this.hr=new Kt(Ur.Pr),this.Ir=new Kt(Ur.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Ur(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Ur(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new ve(new Dt([])),r=new Ur(n,e),i=new Ur(n,e+1),o=[];return this.Ir.forEachInRange([r,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new ve(new Dt([])),r=new Ur(n,e),i=new Ur(n,e+1);let o=ot();return this.Ir.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Ur(e,0),r=this.hr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Ur{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return ve.comparator(e.key,n.key)||Ke(e.gr,n.gr)}static Tr(e,n){return Ke(e.gr,n.gr)||ve.comparator(e.key,n.key)}}class sve{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Kt(Ur.Pr)}checkEmpty(e){return B.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.pr;this.pr++;const s=new dR(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.yr=this.yr.add(new Ur(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(s)}lookupMutationBatch(e,n){return B.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Sr(n+1),o=i<0?0:i;return B.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ur(n,0),i=new Ur(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,i],s=>{const a=this.wr(s.gr);o.push(a)}),B.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Kt(Ke);return n.forEach(i=>{const o=new Ur(i,0),s=new Ur(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{r=r.add(a.gr)})}),B.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ve.isDocumentKey(o)||(o=o.child(""));const s=new Ur(new ve(o),0);let a=new Kt(Ke);return this.yr.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.gr)),!0)},s),B.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){Ne(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return B.forEach(n.mutations,i=>{const o=new Ur(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Ur(n,0),i=this.yr.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return B.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class ave{constructor(e){this.Cr=e,this.docs=new dn(ve.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():wn.newInvalidDocument(n))}getEntries(e,n){let r=ao();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():wn.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=ao();const s=n.path,a=new ve(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:h}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||QS(PH(h),r)<=0||(i.has(h.key)||Oy(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return B.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Te()}vr(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new cve(this)}getSize(e){return B.resolve(this.size)}}class cve extends p8{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class lve{constructor(e){this.persistence=e,this.Fr=new oc(n=>dd(n),Ey),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.Mr=0,this.Or=new bR,this.targetCount=0,this.Nr=vd.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),B.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new vd(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.kn(n),B.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),B.waitFor(o).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),B.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Or.containsKey(n))}}class TR{constructor(e,n){this.Br={},this.overlays={},this.Lr=new bo(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new lve(this),this.indexManager=new Zye,this.remoteDocumentCache=new ave(r=>this.referenceDelegate.Qr(r)),this.serializer=new zz(n),this.Kr=new ive(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ove,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new sve(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){de("MemoryPersistence","Starting transaction:",e);const i=new uve(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(e,n){return B.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class uve extends MH{constructor(e){super(),this.currentSequenceNumber=e}}class IE{constructor(e){this.persistence=e,this.Gr=new bR,this.zr=null}static jr(e){return new IE(e)}get Hr(){if(this.zr)return this.zr;throw Te()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),B.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Hr,r=>{const i=ve.fromPath(r);return this.Jr(e,i).next(o=>{o||n.removeEntry(i,Fe.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return B.or([()=>B.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class dve{constructor(e){this.serializer=e}N(e,n,r,i){const o=new rE("createOrUpgrade",n);var c;r<1&&i>=1&&(e.createObjectStore("owner"),(c=e).createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",TH,{unique:!0}),c.createObjectStore("documentMutations"),v8(e),function(c){c.createObjectStore("remoteDocuments")}(e));let s=B.resolve();return r<3&&i>=3&&(0!==r&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),v8(e)),s=s.next(()=>function(c){const l=c.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Fe.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",h)}(o))),r<4&&i>=4&&(0!==r&&(s=s.next(()=>function(c,l){return l.store("mutations").W().next(h=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",TH,{unique:!0});const f=l.store("mutations"),_=h.map(v=>f.put(v));return B.waitFor(_)})}(e,o))),s=s.next(()=>{!function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(s=s.next(()=>this.Zr(o))),r<6&&i>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(o)))),r<7&&i>=7&&(s=s.next(()=>this.ei(o))),r<8&&i>=8&&(s=s.next(()=>this.ti(e,o))),r<9&&i>=9&&(s=s.next(()=>{!function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(s=s.next(()=>this.ni(o))),r<11&&i>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{!function(c){const l=c.createObjectStore("documentOverlays",{keyPath:Yme});l.createIndex("collectionPathOverlayIndex",Qme,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",Xme,{unique:!1})}(e)})),r<13&&i>=13&&(s=s.next(()=>function(c){const l=c.createObjectStore("remoteDocumentsV14",{keyPath:Ume});l.createIndex("documentKeyIndex",Bme),l.createIndex("collectionGroupIndex",jme)}(e)).next(()=>this.ri(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.ii(e,o))),r<15&&i>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:Wme}).createIndex("sequenceNumberIndex",qme,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:Kme}).createIndex("documentKeyIndex",Zme,{unique:!1})}(e))),s}Xr(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=EE(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>B.forEach(i,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",s).next(a=>B.forEach(a,c=>{Ne(c.userId===o.userId);const l=_d(this.serializer,c);return s8(e,o.userId,l).next(()=>{})}))}))}ei(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.Y((s,a)=>{const c=new Dt(s),l=[0,wi(c)];o.push(n.get(l).next(h=>h?B.resolve():n.put({targetId:0,path:wi(c),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>B.waitFor(o))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:Gme});const r=n.store("collectionParents"),i=new IR,o=s=>{if(i.add(s)){const a=s.lastSegment(),c=s.popLast();return r.put({collectionId:a,parent:wi(c)})}};return n.store("remoteDocuments").Y({J:!0},(s,a)=>{const c=new Dt(s);return o(c.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([s,a,c],l)=>{const h=ua(a);return o(h.popLast())}))}ni(e){const n=e.store("targets");return n.Y((r,i)=>{const o=Fy(i),s=Wz(this.serializer,o);return n.put(s)})}ri(e,n){const r=n.store("remoteDocuments"),i=[];return r.Y((o,s)=>{const a=n.store("remoteDocumentsV14"),c=(f=s,f.document?new ve(Dt.fromString(f.document.name).popFirst(5)):f.noDocument?ve.fromSegments(f.noDocument.path):f.unknownDocument?ve.fromSegments(f.unknownDocument.path):Te()).path.toArray(),l={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var f;i.push(a.put(l))}).next(()=>B.waitFor(i))}ii(e,n){const r=n.store("mutations"),i=f8(this.serializer),o=new TR(IE.jr,this.serializer.ut);return r.W().next(s=>{const a=new Map;return s.forEach(c=>{var l;let h=null!==(l=a.get(c.userId))&&void 0!==l?l:ot();_d(this.serializer,c).keys().forEach(f=>h=h.add(f)),a.set(c.userId,h)}),B.forEach(a,(c,l)=>{const h=new Lr(l),f=CE.ct(this.serializer,h),_=o.getIndexManager(h),v=ME.ct(h,this.serializer,_,o.referenceDelegate);return new y8(i,v,f,_).recalculateAndSaveOverlaysForDocumentKeys(new eR(n,bo._e),c).next()})})}}function v8(t){t.createObjectStore("targetDocuments",{keyPath:Hme}).createIndex("documentTargetsIndex",zme,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",$me,{unique:!0}),t.createObjectStore("targetGlobal")}const AR="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class DR{constructor(e,n,r,i,o,s,a,c,l,h,f=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.si=o,this.window=s,this.document=a,this.oi=l,this._i=h,this.ai=f,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=_=>Promise.resolve(),!DR.D())throw new le(G.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new eve(this,i),this.Ii=n+"main",this.serializer=new zz(c),this.Ti=new Ss(this.Ii,this.ai,new dve(this.serializer)),this.qr=new Qye(this.referenceDelegate,this.serializer),this.remoteDocumentCache=f8(this.serializer),this.Kr=new Hye,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===h&&tr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new le(G.FAILED_PRECONDITION,AR);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new bo(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var n=this;return this.Pi=function(){var r=(0,k.Z)(function*(i){if(n.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var n=(0,k.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,k.Z)(function*(){n.started&&(yield n.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>TE(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(Il(e))return de("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return de("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return jy(e).get("owner").next(n=>B.resolve(this.wi(n)))}Si(e){return TE(e).delete(this.clientId)}bi(){var e=this;return(0,k.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Vr(r,"clientMetadata");return i.W().next(o=>{const s=e.Ci(o,18e5),a=o.filter(c=>-1===s.indexOf(c));return B.forEach(a,c=>i.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Ei)for(const r of n)e.Ei.removeItem(e.vi(r.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?B.resolve(!0):jy(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new le(G.FAILED_PRECONDITION,AR);return!1}}return!(!this.networkEnabled||!this.inForeground)||TE(e).W().next(r=>void 0===this.Ci(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(n=>(this.isPrimary!==n&&de("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,k.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const r=new eR(n,bo._e);return e.pi(r).next(()=>e.Si(r))}),e.Ti.close(),e.Ni()})()}Ci(e,n){return e.filter(r=>this.Di(r.updateTimeMs,n)&&!this.Fi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>TE(e).W().next(n=>this.Ci(n,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return ME.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Yye(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return CE.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,r){de("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===n?"readonly":"readwrite",o=15===(c=this.ai)?eye:14===c?RH:13===c?SH:12===c?Jme:11===c?DH:void Te();var c;let s;return this.Ti.runTransaction(e,i,o,a=>(s=new eR(a,this.Lr?this.Lr.next():bo._e),"readwrite-primary"===n?this.fi(s).next(c=>!!c||this.gi(s)).next(c=>{if(!c)throw tr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new le(G.FAILED_PRECONDITION,EH);return r(s)}).next(c=>this.yi(s).next(()=>c)):this.Li(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Li(e){return jy(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new le(G.FAILED_PRECONDITION,AR)})}yi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return jy(e).put("owner",n)}static D(){return Ss.D()}pi(e){const n=jy(e);return n.get("owner").next(r=>this.wi(r)?(de("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):B.resolve())}Di(e,n){const r=Date.now();return!(e<r-n||e>r&&(tr(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const n=/(?:Version|Mobile)\/1[456]/;(0,M.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{const r=null!==(null===(n=this.Ei)||void 0===n?void 0:n.getItem(this.vi(e)));return de("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return tr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){tr("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function jy(t){return Vr(t,"owner")}function TE(t){return Vr(t,"clientMetadata")}function SR(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class RR{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=ot(),i=ot();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new RR(e,n.fromCache,r,i)}}class hve{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class C8{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.zi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new hve;return this.Hi(e,n,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,n,s,a.size)})}).next(()=>o.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(qp()<=fi.in.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",nf(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),B.resolve()):(qp()<=fi.in.DEBUG&&de("QueryEngine","Query:",nf(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(qp()<=fi.in.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",nf(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zi(n))):B.resolve())}zi(e,n){if(nz(n))return B.resolve(null);let r=zi(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=pE(n,null,"F"),r=zi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ot(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.Yi(n,a);return this.Zi(n,l,s,c.readTime)?this.zi(e,pE(n,null,"F")):this.Xi(e,l,n,c)}))})))}ji(e,n,r,i){return nz(n)||i.isEqual(Fe.min())?B.resolve(null):this.Gi.getDocuments(e,r).next(o=>{const s=this.Yi(n,o);return this.Zi(n,s,r,i)?B.resolve(null):(qp()<=fi.in.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),nf(n)),this.Xi(e,s,n,wH(i,-1)).next(a=>a))})}Yi(e,n){let r=new Kt(sz(e));return n.forEach((i,o)=>{Oy(e,o)&&(r=r.add(o))}),r}Zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(e,n,r){return qp()<=fi.in.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",nf(n)),this.Gi.getDocumentsMatchingQuery(e,n,Io.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class pve{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new dn(Ke),this.ns=new oc(o=>dd(o),Ey),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new y8(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function w8(t,e,n,r){return new pve(t,e,n,r)}function P8(t,e){return xR.apply(this,arguments)}function xR(){return xR=(0,k.Z)(function*(t,e){const n=ye(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let c=ot();for(const l of i){s.push(l.batchId);for(const h of l.mutations)c=c.add(h.key)}for(const l of o){a.push(l.batchId);for(const h of l.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(l=>({_s:l,removedBatchIds:s,addedBatchIds:a}))})})}),xR.apply(this,arguments)}function E8(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function M8(t,e,n){let r=ot(),i=ot();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=ao();return n.forEach((a,c)=>{const l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Fe.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):de("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{us:s,cs:i}})}function _ve(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function gf(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(o=>o?(i=o,B.resolve(i)):n.qr.allocateTargetId(r).next(s=>(i=new ac(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}function _f(t,e,n){return kR.apply(this,arguments)}function kR(){return kR=(0,k.Z)(function*(t,e,n){const r=ye(t),i=r.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Il(s))throw s;de("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),kR.apply(this,arguments)}function AE(t,e,n){const r=ye(t);let i=Fe.min(),o=ot();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,h){const f=ye(c),_=f.ns.get(h);return void 0!==_?B.resolve(f.ts.get(_)):f.qr.getTargetData(l,h)}(r,s,zi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.es.getDocumentsMatchingQuery(s,e,n?i:Fe.min(),n?o:ot())).next(a=>(b8(r,oz(e),a),{documents:a,ls:o})))}function O8(t,e){const n=ye(t),r=ye(n.qr),i=n.ts.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",o=>r._t(o,e).next(s=>s?s.target:null))}function I8(t,e){const n=ye(t),r=n.rs.get(e)||Fe.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.ss.getAllFromCollectionGroup(i,e,wH(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(b8(n,e,i),i))}function b8(t,e,n){let r=t.rs.get(e)||Fe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.rs.set(e,r)}function NR(){return NR=(0,k.Z)(function*(t,e,n,r){const i=ye(t);let o=ot(),s=ao();for(const l of n){const h=e.hs(l.metadata.name);l.document&&(o=o.add(h));const f=e.Ps(l);f.setReadTime(e.Is(l.metadata.readTime)),s=s.insert(h,f)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),c=yield gf(i,(h=r,zi(ef(Dt.fromString(`__bundle__/docs/${h}`)))));var h;return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>M8(l,a,s).next(h=>(a.apply(l),h)).next(h=>i.qr.removeMatchingKeysForTargetId(l,c.targetId).next(()=>i.qr.addMatchingKeys(l,o,c.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,h.us,h.cs)).next(()=>h.us)))}),NR.apply(this,arguments)}function yve(t,e){return FR.apply(this,arguments)}function FR(){return FR=(0,k.Z)(function*(t,e,n=ot()){const r=yield gf(t,zi(CR(e.bundledQuery))),i=ye(t);return i.persistence.runTransaction("Save named query","readwrite",o=>{const s=nr(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Kr.saveNamedQuery(o,e);const a=r.withResumeToken(Or.EMPTY_BYTE_STRING,s);return i.ts=i.ts.insert(a.targetId,a),i.qr.updateTargetData(o,a).next(()=>i.qr.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.qr.addMatchingKeys(o,n,r.targetId)).next(()=>i.Kr.saveNamedQuery(o,e))})}),FR.apply(this,arguments)}function T8(t,e){return`firestore_clients_${t}_${e}`}function A8(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function LR(t,e){return`firestore_targets_${t}_${e}`}class DE{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ts(e,n,r){const i=JSON.parse(r);let o,s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(o=new le(i.error.code,i.error.message))),s?new DE(e,n,i.state,o):(tr("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class $y{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ts(e,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new le(r.error.code,r.error.message))),o?new $y(e,r.state,i):(tr("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class SE{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ts(e,n){const r=JSON.parse(n);let i="object"==typeof r&&r.activeTargetIds instanceof Array,o=lR();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=IH(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new SE(e,o):(tr("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class VR{constructor(e,n){this.clientId=e,this.onlineState=n}static Ts(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new VR(n.clientId,n.onlineState):(tr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class UR{constructor(){this.activeTargetIds=lR()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BR{constructor(e,n,r,i,o){this.window=e,this.si=n,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new dn(Ke),this.started=!1,this.ps=[];const s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ys=T8(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new UR),this.Ss=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,k.Z)(function*(){const n=yield e.syncEngine.Bi();for(const i of n){if(i===e.Rs)continue;const o=e.getItem(T8(e.persistenceKey,i));if(o){const s=SE.Ts(i,o);s&&(e.gs=e.gs.insert(s.clientId,s))}}e.Fs();const r=e.storage.getItem(e.Cs);if(r){const i=e.Ms(r);i&&e.xs(i)}for(const i of e.ps)e.fs(i);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let n=!1;return this.gs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,n,r){this.Ns(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(LR(this.persistenceKey,e));if(r){const i=$y.Ts(e,r);i&&(n=i.state)}}return this.Ls.ds(e),this.Fs(),n}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(LR(this.persistenceKey,e))}updateQueryState(e,n,r){this.ks(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return de("SharedClientState","READ",e,n),n}setItem(e,n){de("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){de("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var n=this;const r=e;if(r.storageArea===this.storage){if(de("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ys)return void tr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,k.Z)(function*(){if(n.started){if(null!==r.key)if(n.Ss.test(r.key)){if(null==r.newValue){const i=n.Ks(r.key);return n.$s(i,null)}{const i=n.Us(r.key,r.newValue);if(i)return n.$s(i.clientId,i)}}else if(n.bs.test(r.key)){if(null!==r.newValue){const i=n.Ws(r.key,r.newValue);if(i)return n.Gs(i)}}else if(n.Ds.test(r.key)){if(null!==r.newValue){const i=n.zs(r.key,r.newValue);if(i)return n.js(i)}}else if(r.key===n.Cs){if(null!==r.newValue){const i=n.Ms(r.newValue);if(i)return n.xs(i)}}else if(r.key===n.ws){const i=function(s){let a=bo._e;if(null!=s)try{const c=JSON.parse(s);Ne("number"==typeof c),a=c}catch(c){tr("SharedClientState","Failed to read sequence number from WebStorage",c)}return a}(r.newValue);i!==bo._e&&n.sequenceNumberHandler(i)}else if(r.key===n.vs){const i=n.Hs(r.newValue);yield Promise.all(i.map(o=>n.syncEngine.Js(o)))}}else n.ps.push(r)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,n,r){const i=new DE(this.currentUser,e,n,r),o=A8(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Es())}Bs(e){const n=A8(this.persistenceKey,this.currentUser,e);this.removeItem(n)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,n,r){const i=LR(this.persistenceKey,e),o=new $y(e,n,r);this.setItem(i,o.Es())}Qs(e){const n=JSON.stringify(Array.from(e));this.setItem(this.vs,n)}Ks(e){const n=this.Ss.exec(e);return n?n[1]:null}Us(e,n){const r=this.Ks(e);return SE.Ts(r,n)}Ws(e,n){const r=this.bs.exec(e),i=Number(r[1]);return DE.Ts(new Lr(void 0!==r[2]?r[2]:null),i,n)}zs(e,n){const r=this.Ds.exec(e),i=Number(r[1]);return $y.Ts(i,n)}Ms(e){return VR.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var n=this;return(0,k.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Ys(e.batchId,e.state,e.error);de("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,n){const r=n?this.gs.insert(e,n):this.gs.remove(e),i=this.Os(this.gs),o=this.Os(r),s=[],a=[];return o.forEach(c=>{i.has(c)||s.push(c)}),i.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.Xs(s,a).then(()=>{this.gs=r})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let n=lR();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class D8{constructor(){this.eo=new UR,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new UR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vve{ro(e){}shutdown(){}}class S8{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){de("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){de("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let RE=null;function jR(){return null===RE?RE=268435456+Math.round(2147483648*Math.random()):RE++,"0x"+RE.toString(16)}const Cve={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wve{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Ei="WebChannelConnection";class Pve extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${o}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get yo(){return!1}wo(n,r,i,o,s){const a=jR(),c=this.So(n,r);de("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,o,s),this.Do(n,c,l,i).then(h=>(de("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw oo("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",c,"request:",i),h})}Co(n,r,i,o,s,a){return this.wo(n,r,i,o,s)}bo(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+Wp,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}So(n,r){return`${this.mo}/v1/${r}:${Cve[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const o=jR();return new Promise((s,a)=>{const c=new vme;c.setWithCredentials(!0),c.listenOnce(_me.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case KS.NO_ERROR:const h=c.getResponseJson();de(Ei,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case KS.TIMEOUT:de(Ei,`RPC '${e}' ${o} timed out`),a(new le(G.DEADLINE_EXCEEDED,"Request time out"));break;case KS.HTTP_ERROR:const f=c.getStatus();if(de(Ei,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let _=c.getResponseJson();Array.isArray(_)&&(_=_[0]);const v=_?.error;if(v&&v.status&&v.message){const E=function(b){const L=b.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(L)>=0?L:G.UNKNOWN}(v.status);a(new le(E,v.message))}else a(new le(G.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new le(G.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{de(Ei,`RPC '${e}' ${o} completed.`)}});const l=JSON.stringify(i);de(Ei,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",l,r,15)})}vo(e,n,r){const i=jR(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=fme(),a=gme(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new yme({})),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=o.join("");de(Ei,`Creating RPC '${e}' stream ${i}: ${h}`,c);const f=s.createWebChannel(h,c);let _=!1,v=!1;const E=new wve({co:b=>{v?de(Ei,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(_||(de(Ei,`Opening RPC '${e}' stream ${i} transport.`),f.open(),_=!0),de(Ei,`RPC '${e}' stream ${i} sending:`,b),f.send(b))},lo:()=>f.close()}),I=(b,L,N)=>{b.listen(L,H=>{try{N(H)}catch($){setTimeout(()=>{throw $},0)}})};return I(f,nE.EventType.OPEN,()=>{v||de(Ei,`RPC '${e}' stream ${i} transport opened.`)}),I(f,nE.EventType.CLOSE,()=>{v||(v=!0,de(Ei,`RPC '${e}' stream ${i} transport closed`),E.Ro())}),I(f,nE.EventType.ERROR,b=>{v||(v=!0,oo(Ei,`RPC '${e}' stream ${i} transport errored:`,b),E.Ro(new le(G.UNAVAILABLE,"The operation could not be completed")))}),I(f,nE.EventType.MESSAGE,b=>{var L;if(!v){const N=b.data[0];Ne(!!N);const $=N.error||(null===(L=N[0])||void 0===L?void 0:L.error);if($){de(Ei,`RPC '${e}' stream ${i} received error:`,$);const pe=$.status;let Oe=function(co){const Df=hr[co];if(void 0!==Df)return Mz(Df)}(pe),at=$.message;void 0===Oe&&(Oe=G.INTERNAL,at="Unknown error status: "+pe+" with message "+$.message),v=!0,E.Ro(new le(Oe,at)),f.close()}else de(Ei,`RPC '${e}' stream ${i} received:`,N),E.Vo(N)}}),I(a,mme.STAT_EVENT,b=>{b.stat===gH.PROXY?de(Ei,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===gH.NOPROXY&&de(Ei,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.Ao()},0),E}}function R8(){return typeof window<"u"?window:null}function xE(){return typeof document<"u"?document:null}function Hy(t){return new Rye(t,!0)}class $R{constructor(e,n,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&de("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class x8{constructor(e,n,r,i,o,s,a,c){this.si=e,this.Ko=r,this.$o=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new $R(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,k.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,k.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var r=this;return(0,k.Z)(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():n&&n.code===G.RESOURCE_EXHAUSTED?(tr(n.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):n&&n.code===G.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new le(G.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko((0,k.Z)(function*(){e.state=0,e.start()}))}o_(e){return de("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(de("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Eve extends x8{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function Nye(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:Te(),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Ne(void 0===h||"string"==typeof h),Or.fromBase64String(h||"")):(Ne(void 0===h||h instanceof Uint8Array),Or.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const h=void 0===l.code?G.UNKNOWN:Mz(l.code);return new le(h,l.message||"")}(s);n=new Az(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=pa(t,r.document.name),o=nr(r.document.updateTime),s=r.document.createTime?nr(r.document.createTime):Fe.min(),a=new ei({mapValue:{fields:r.document.fields}}),c=wn.newFoundDocument(i,o,s,a);n=new yE(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=pa(t,r.document),o=r.readTime?nr(r.readTime):Fe.min(),s=wn.newNoDocument(i,o);n=new yE([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=pa(t,r.document);n=new yE([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Te();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new Iye(i,o);n=new Tz(r.targetId,s)}}var l;return n}(this.serializer,e),r=function(o){if(!("targetChange"in o))return Fe.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Fe.min():s.readTime?nr(s.readTime):Fe.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=ky(this.serializer),n.addTarget=function(o,s){let a;const c=s.target;if(a=dE(c)?{documents:Uz(o,c)}:{query:vR(o,c)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=xz(o,s.resumeToken);const l=gR(o,s.expectedCount);null!==l&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(Fe.min())>0){a.readTime=lf(o,s.snapshotVersion.toTimestamp());const l=gR(o,s.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,e);const r=function Lye(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=ky(this.serializer),n.removeTarget=e,this.e_(n)}}class Mve extends x8{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Ne(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function Fye(t,e){return t&&t.length>0?(Ne(void 0!==e),t.map(n=>function(i,o){let s=nr(i.updateTime?i.updateTime:o);return s.isEqual(Fe.min())&&(s=nr(o)),new Pye(s,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=nr(e.commitTime);return this.listener.I_(r,n)}return Ne(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=ky(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Ny(this.serializer,r))};this.e_(n)}}class Ove extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new le(G.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.wo(e,n,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new le(G.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,n,r,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new le(G.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class bve{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(tr(n),this.f_=!1):de("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Tve{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{r.enqueueAndForget((0,k.Z)(function*(){var c;Vl(s)&&(de("RemoteStore","Restarting streams for network reachability change."),yield(c=(0,k.Z)(function*(h){const f=ye(h);f.C_.add(4),yield mf(f),f.M_.set("Unknown"),f.C_.delete(4),yield zy(f)}),function l(h){return c.apply(this,arguments)})(s))}))}),this.M_=new bve(r,i)}}function zy(t){return zR.apply(this,arguments)}function zR(){return zR=(0,k.Z)(function*(t){if(Vl(t))for(const e of t.v_)yield e(!0)}),zR.apply(this,arguments)}function mf(t){return GR.apply(this,arguments)}function GR(){return GR=(0,k.Z)(function*(t){for(const e of t.v_)yield e(!1)}),GR.apply(this,arguments)}function kE(t,e){const n=ye(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),KR(n)?qR(n):vf(n).Ho()&&WR(n,e))}function Gy(t,e){const n=ye(t),r=vf(n);n.D_.delete(e),r.Ho()&&k8(n,e),0===n.D_.size&&(r.Ho()?r.Zo():Vl(n)&&n.M_.set("Unknown"))}function WR(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vf(t).u_(e)}function k8(t,e){t.x_.Oe(e),vf(t).c_(e)}function qR(t){t.x_=new Tye({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),vf(t).start(),t.M_.g_()}function KR(t){return Vl(t)&&!vf(t).jo()&&t.D_.size>0}function Vl(t){return 0===ye(t).C_.size}function N8(t){t.x_=void 0}function Ave(t){return ZR.apply(this,arguments)}function ZR(){return ZR=(0,k.Z)(function*(t){t.D_.forEach((e,n)=>{WR(t,e)})}),ZR.apply(this,arguments)}function Dve(t,e){return YR.apply(this,arguments)}function YR(){return YR=(0,k.Z)(function*(t,e){N8(t),KR(t)?(t.M_.w_(e),qR(t)):t.M_.set("Unknown")}),YR.apply(this,arguments)}function Sve(t,e,n){return QR.apply(this,arguments)}function QR(){return QR=(0,k.Z)(function*(t,e,n){if(t.M_.set("Online"),e instanceof Az&&2===e.state&&e.cause)try{yield(r=(0,k.Z)(function*(o,s){const a=s.cause;for(const c of s.targetIds)o.D_.has(c)&&(yield o.remoteSyncer.rejectListen(c,a),o.D_.delete(c),o.x_.removeTarget(c))}),function i(o,s){return r.apply(this,arguments)})(t,e)}catch(r){de("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield NE(t,r)}else if(e instanceof yE?t.x_.$e(e):e instanceof Tz?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(Fe.min()))try{const r=yield E8(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const h=o.D_.get(l);h&&o.D_.set(l,h.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{const h=o.D_.get(c);if(!h)return;o.D_.set(c,h.withResumeToken(Or.EMPTY_BYTE_STRING,h.snapshotVersion)),k8(o,c);const f=new ac(h.target,c,l,h.sequenceNumber);WR(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){de("RemoteStore","Failed to raise snapshot:",r),yield NE(t,r)}var r}),QR.apply(this,arguments)}function NE(t,e,n){return XR.apply(this,arguments)}function XR(){return XR=(0,k.Z)(function*(t,e,n){if(!Il(e))throw e;t.C_.add(1),yield mf(t),t.M_.set("Offline"),n||(n=()=>E8(t.localStore)),t.asyncQueue.enqueueRetryable((0,k.Z)(function*(){de("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield zy(t)}))}),XR.apply(this,arguments)}function F8(t,e){return e().catch(n=>NE(t,n,e))}function yf(t){return JR.apply(this,arguments)}function JR(){return JR=(0,k.Z)(function*(t){const e=ye(t),n=Ul(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Rve(e);)try{const i=yield _ve(e.localStore,r);if(null===i){0===e.b_.length&&n.Zo();break}r=i.batchId,xve(e,i)}catch(i){yield NE(e,i)}L8(e)&&V8(e)}),JR.apply(this,arguments)}function Rve(t){return Vl(t)&&t.b_.length<10}function xve(t,e){t.b_.push(e);const n=Ul(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function L8(t){return Vl(t)&&!Ul(t).jo()&&t.b_.length>0}function V8(t){Ul(t).start()}function kve(t){return ex.apply(this,arguments)}function ex(){return ex=(0,k.Z)(function*(t){Ul(t).E_()}),ex.apply(this,arguments)}function Nve(t){return tx.apply(this,arguments)}function tx(){return tx=(0,k.Z)(function*(t){const e=Ul(t);for(const n of t.b_)e.P_(n.mutations)}),tx.apply(this,arguments)}function Fve(t,e,n){return nx.apply(this,arguments)}function nx(){return nx=(0,k.Z)(function*(t,e,n){const r=t.b_.shift(),i=hR.from(r,e,n);yield F8(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield yf(t)}),nx.apply(this,arguments)}function Lve(t,e){return rx.apply(this,arguments)}function rx(){return rx=(0,k.Z)(function*(t,e){var n;e&&Ul(t).h_&&(yield(n=(0,k.Z)(function*(i,o){if(Ez(a=o.code)&&a!==G.ABORTED){const s=i.b_.shift();Ul(i).Yo(),yield F8(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield yf(i)}var a}),function r(i,o){return n.apply(this,arguments)})(t,e)),L8(t)&&V8(t)}),rx.apply(this,arguments)}function U8(t,e){return ix.apply(this,arguments)}function ix(){return ix=(0,k.Z)(function*(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),de("RemoteStore","RemoteStore received new credentials");const r=Vl(n);n.C_.add(3),yield mf(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield zy(n)}),ix.apply(this,arguments)}function ox(t,e){return sx.apply(this,arguments)}function sx(){return sx=(0,k.Z)(function*(t,e){const n=ye(t);e?(n.C_.delete(2),yield zy(n)):e||(n.C_.add(2),yield mf(n),n.M_.set("Unknown"))}),sx.apply(this,arguments)}function vf(t){return t.O_||(t.O_=function(n,r,i){const o=ye(n);return o.A_(),new Eve(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:Ave.bind(null,t),Io:Dve.bind(null,t),a_:Sve.bind(null,t)}),t.v_.push(function(){var e=(0,k.Z)(function*(n){n?(t.O_.Yo(),KR(t)?qR(t):t.M_.set("Unknown")):(yield t.O_.stop(),N8(t))});return function(n){return e.apply(this,arguments)}}())),t.O_}function Ul(t){return t.N_||(t.N_=function(n,r,i){const o=ye(n);return o.A_(),new Mve(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:kve.bind(null,t),Io:Lve.bind(null,t),T_:Nve.bind(null,t),I_:Fve.bind(null,t)}),t.v_.push(function(){var e=(0,k.Z)(function*(n){n?(t.N_.Yo(),yield yf(t)):(yield t.N_.stop(),t.b_.length>0&&(de("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))});return function(n){return e.apply(this,arguments)}}())),t.N_}class ax{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new ax(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new le(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cf(t,e){if(tr("AsyncQueue",`${e}: ${t}`),Il(t))return new le(G.UNAVAILABLE,`${e}: ${t}`);throw t}class wf{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ve.comparator(n.key,r.key):(n,r)=>ve.comparator(n.key,r.key),this.keyedMap=Iy(),this.sortedSet=new dn(this.comparator)}static emptySet(e){return new wf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wf)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new wf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class B8{constructor(){this.B_=new dn(ve.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(n):1===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Te():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Pf{constructor(e,n,r,i,o,s,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Pf(e,n,wf.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&My(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Vve{constructor(){this.k_=void 0,this.listeners=[]}}class Uve{constructor(){this.queries=new oc(e=>iz(e),My),this.onlineState="Unknown",this.q_=new Set}}function cx(t,e){return lx.apply(this,arguments)}function lx(){return lx=(0,k.Z)(function*(t,e){const n=ye(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Vve),i)try{o.k_=yield n.onListen(r)}catch(s){const a=Cf(s,`Initialization of query '${nf(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Q_(n.onlineState),o.k_&&e.K_(o.k_)&&hx(n)}),lx.apply(this,arguments)}function ux(t,e){return dx.apply(this,arguments)}function dx(){return dx=(0,k.Z)(function*(t,e){const n=ye(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),dx.apply(this,arguments)}function Bve(t,e){const n=ye(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.listeners)a.K_(i)&&(r=!0);s.k_=i}}r&&hx(n)}function jve(t,e,n){const r=ye(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function hx(t){t.q_.forEach(e=>{e.next()})}class px{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Pf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Pf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class $ve{constructor(e,n){this.Y_=e,this.byteLength=n}Z_(){return"metadata"in this.Y_}}class j8{constructor(e){this.serializer=e}hs(e){return pa(this.serializer,e)}Ps(e){return e.metadata.exists?Vz(this.serializer,e.document,!1):wn.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return nr(e)}}class Hve{constructor(e,n,r){this.X_=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=$8(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++n;const r=Dt.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ta(e){const n=new Map,r=new j8(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.hs(i.metadata.name);for(const s of i.metadata.queries){const a=(n.get(s)||ot()).add(o);n.set(s,a)}}return n}complete(){var e=this;return(0,k.Z)(function*(){const n=yield function mve(t,e,n,r){return NR.apply(this,arguments)}(e.localStore,new j8(e.serializer),e.documents,e.X_.id),r=e.ta(e.documents);for(const i of e.queries)yield yve(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:n}})()}}function $8(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class H8{constructor(e){this.key=e}}class z8{constructor(e){this.key=e}}class G8{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ot(),this.mutatedKeys=ot(),this._a=sz(e),this.aa=new wf(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new B8,i=n?n.aa:this.aa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const _=i.get(h),v=Oy(this.query,f)?f:null,E=!!_&&this.mutatedKeys.has(_.key),I=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let b=!1;_&&v?_.data.isEqual(v.data)?E!==I&&(r.track({type:3,doc:v}),b=!0):this.ha(_,v)||(r.track({type:2,doc:v}),b=!0,(c&&this._a(v,c)>0||l&&this._a(v,l)<0)&&(a=!0)):!_&&v?(r.track({type:0,doc:v}),b=!0):_&&!v&&(r.track({type:1,doc:_}),b=!0,(c||l)&&(a=!0)),b&&(v?(s=s.add(v),o=I?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const h="F"===this.query.limitType?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{aa:s,la:r,Zi:a,mutatedKeys:o}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((l,h)=>function(_,v){const E=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return E(_)-E(v)}(l.type,h.type)||this._a(l.doc,h.doc)),this.Pa(r);const s=n?this.Ia():[],a=0===this.oa.size&&this.current?1:0,c=a!==this.sa;return this.sa=a,0!==o.length||c?{snapshot:new Pf(this.query,e.aa,i,o,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new B8,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ot(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new z8(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new H8(r))}),n}da(e){this.ia=e.ls,this.oa=ot();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Pf.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class zve{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Gve{constructor(e){this.key=e,this.Ra=!1}}class Wve{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new oc(a=>iz(a),My),this.fa=new Map,this.ga=new Set,this.pa=new dn(ve.comparator),this.ya=new Map,this.wa=new bR,this.Sa={},this.ba=new Map,this.Da=vd.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function qve(t,e){return fx.apply(this,arguments)}function fx(){return fx=(0,k.Z)(function*(t,e){const n=Lx(t);let r,i;const o=n.ma.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{const s=yield gf(n.localStore,zi(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield gx(n,e,r,"current"===a,s.resumeToken),n.isPrimaryClient&&kE(n.remoteStore,s)}return i}),fx.apply(this,arguments)}function gx(t,e,n,r,i){return _x.apply(this,arguments)}function _x(){return _x=(0,k.Z)(function*(t,e,n,r,i){t.va=(f,_,v)=>{return(E=(0,k.Z)(function*(b,L,N,H){let $=L.view.ca(N);$.Zi&&($=yield AE(b.localStore,L.query,!1).then(({documents:at})=>L.view.ca(at,$)));const pe=H&&H.targetChanges.get(L.targetId),Oe=L.view.applyChanges($,b.isPrimaryClient,pe);return Ix(b,L.targetId,Oe.Ta),Oe.snapshot}),function I(b,L,N,H){return E.apply(this,arguments)})(t,f,_,v);var E};const o=yield AE(t.localStore,e,!0),s=new G8(e,o.ls),a=s.ca(o.documents),c=Ry.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=s.applyChanges(a,t.isPrimaryClient,c);Ix(t,n,l.Ta);const h=new zve(e,n,s);return t.ma.set(e,h),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),l.snapshot}),_x.apply(this,arguments)}function Kve(t,e){return mx.apply(this,arguments)}function mx(){return mx=(0,k.Z)(function*(t,e){const n=ye(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(o=>!My(o,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield _f(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Gy(n.remoteStore,r.targetId),Ef(n,r.targetId)}).catch(Ol))):(Ef(n,r.targetId),yield _f(n.localStore,r.targetId,!0))}),mx.apply(this,arguments)}function yx(){return yx=(0,k.Z)(function*(t,e,n){const r=Vx(t);try{const i=yield function(s,a){const c=ye(s),l=An.now(),h=a.reduce((v,E)=>v.add(E.key),ot());let f,_;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let E=ao(),I=ot();return c.ss.getEntries(v,h).next(b=>{E=b,E.forEach((L,N)=>{N.isValidDocument()||(I=I.add(L))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,E)).next(b=>{f=b;const L=[];for(const N of a){const H=Mye(N,f.get(N.key).overlayedDocument);null!=H&&L.push(new sc(N.key,H,HH(H.value.mapValue),Dn.exists(!0)))}return c.mutationQueue.addMutationBatch(v,l,L,a)}).next(b=>{_=b;const L=b.applyToLocalDocumentSet(f,I);return c.documentOverlayCache.saveOverlays(v,b.batchId,L)})}).then(()=>({batchId:_.batchId,changes:cz(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let l=s.Sa[s.currentUser.toKey()];l||(l=new dn(Ke)),l=l.insert(a,c),s.Sa[s.currentUser.toKey()]=l}(r,i.batchId,n),yield cc(r,i.changes),yield yf(r.remoteStore)}catch(i){const o=Cf(i,"Failed to persist write");n.reject(o)}}),yx.apply(this,arguments)}function W8(t,e){return vx.apply(this,arguments)}function vx(){return vx=(0,k.Z)(function*(t,e){const n=ye(t);try{const r=yield function gve(t,e){const n=ye(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((h,f)=>{const _=i.get(f);if(!_)return;a.push(n.qr.removeMatchingKeys(o,h.removedDocuments,f).next(()=>n.qr.addMatchingKeys(o,h.addedDocuments,f)));let v=_.withSequenceNumber(o.currentSequenceNumber);var I,b,L;null!==e.targetMismatches.get(f)?v=v.withResumeToken(Or.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(f,v),b=v,L=h,(0===(I=_).resumeToken.approximateByteSize()||b.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8||L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0)&&a.push(n.qr.updateTargetData(o,v))});let c=ao(),l=ot();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(M8(o,s,e.documentUpdates).next(h=>{c=h.us,l=h.cs})),!r.isEqual(Fe.min())){const h=n.qr.getLastRemoteSnapshotVersion(o).next(f=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return B.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(n.ts=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.ya.get(o);s&&(Ne(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ra=!0:i.modifiedDocuments.size>0?Ne(s.Ra):i.removedDocuments.size>0&&(Ne(s.Ra),s.Ra=!1))}),yield cc(n,r,e)}catch(r){yield Ol(r)}}),vx.apply(this,arguments)}function q8(t,e,n){const r=ye(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const c=ye(s);c.onlineState=a;let l=!1;c.queries.forEach((h,f)=>{for(const _ of f.listeners)_.Q_(a)&&(l=!0)}),l&&hx(c)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Yve(t,e,n){return Cx.apply(this,arguments)}function Cx(){return Cx=(0,k.Z)(function*(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),o=i&&i.key;if(o){let s=new dn(ve.comparator);s=s.insert(o,wn.newNoDocument(o,Fe.min()));const a=ot().add(o),c=new Sy(Fe.min(),new Map,new dn(Ke),s,a);yield W8(r,c),r.pa=r.pa.remove(o),r.ya.delete(e),bx(r)}else yield _f(r.localStore,e,!1).then(()=>Ef(r,e,n)).catch(Ol)}),Cx.apply(this,arguments)}function Qve(t,e){return wx.apply(this,arguments)}function wx(){return wx=(0,k.Z)(function*(t,e){const n=ye(t),r=e.batch.batchId;try{const i=yield function fve(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,h){const f=l.batch,_=f.keys();let v=B.resolve();return _.forEach(E=>{v=v.next(()=>h.getEntry(c,E)).next(I=>{const b=l.docVersions.get(E);Ne(null!==b),I.version.compareTo(b)<0&&(f.applyToRemoteDocument(I,l),I.isValidDocument()&&(I.setReadTime(l.commitVersion),h.addEntry(I)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=ot();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);Ox(n,r,null),Mx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield cc(n,i)}catch(i){yield Ol(i)}}),wx.apply(this,arguments)}function Xve(t,e,n){return Px.apply(this,arguments)}function Px(){return Px=(0,k.Z)(function*(t,e,n){const r=ye(t);try{const i=yield function(s,a){const c=ye(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return c.mutationQueue.lookupMutationBatch(l,a).next(f=>(Ne(null!==f),h=f.keys(),c.mutationQueue.removeMutationBatch(l,f))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>c.localDocuments.getDocuments(l,h))})}(r.localStore,e);Ox(r,e,n),Mx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield cc(r,i)}catch(i){yield Ol(i)}}),Px.apply(this,arguments)}function Ex(){return Ex=(0,k.Z)(function*(t,e){const n=ye(t);Vl(n.remoteStore)||de("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const a=ye(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(n.localStore);if(-1===r)return void e.resolve();const i=n.ba.get(r)||[];i.push(e),n.ba.set(r,i)}catch(r){const i=Cf(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),Ex.apply(this,arguments)}function Mx(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function Ox(t,e,n){const r=ye(t);let i=r.Sa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Ef(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||K8(t,r)})}function K8(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);null!==n&&(Gy(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),bx(t))}function Ix(t,e,n){for(const r of n)r instanceof H8?(t.wa.addReference(r.key,e),eCe(t,r)):r instanceof z8?(de("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||K8(t,r.key)):Te()}function eCe(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(de("SyncEngine","New document in limbo: "+n),t.ga.add(r),bx(t))}function bx(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new ve(Dt.fromString(e)),r=t.Da.next();t.ya.set(r,new Gve(n)),t.pa=t.pa.insert(n,r),kE(t.remoteStore,new ac(zi(ef(n.path)),r,"TargetPurposeLimboResolution",bo._e))}}function cc(t,e,n){return Tx.apply(this,arguments)}function Tx(){return Tx=(0,k.Z)(function*(t,e,n){const r=ye(t),i=[],o=[],s=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,c)=>{s.push(r.va(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const h=RR.Qi(c.targetId,l);o.push(h)}}))}),yield Promise.all(s),r.Va.a_(i),yield(a=(0,k.Z)(function*(l,h){const f=ye(l);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>B.forEach(h,v=>B.forEach(v.ki,E=>f.persistence.referenceDelegate.addReference(_,v.targetId,E)).next(()=>B.forEach(v.qi,E=>f.persistence.referenceDelegate.removeReference(_,v.targetId,E)))))}catch(_){if(!Il(_))throw _;de("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of h){const v=_.targetId;if(!_.fromCache){const E=f.ts.get(v),b=E.withLastLimboFreeSnapshotVersion(E.snapshotVersion);f.ts=f.ts.insert(v,b)}}}),function c(l,h){return a.apply(this,arguments)})(r.localStore,o))}),Tx.apply(this,arguments)}function tCe(t,e){return Ax.apply(this,arguments)}function Ax(){return Ax=(0,k.Z)(function*(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){de("SyncEngine","User change. New user:",e.toKey());const r=yield P8(n.localStore,e);n.currentUser=e,(o=n).ba.forEach(a=>{a.forEach(c=>{c.reject(new le(G.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ba.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield cc(n,r._s)}var o}),Ax.apply(this,arguments)}function nCe(t,e){const n=ye(t),r=n.ya.get(e);if(r&&r.Ra)return ot().add(r.key);{let i=ot();const o=n.fa.get(e);if(!o)return i;for(const s of o){const a=n.ma.get(s);i=i.unionWith(a.view.ua)}return i}}function rCe(t,e){return Dx.apply(this,arguments)}function Dx(){return Dx=(0,k.Z)(function*(t,e){const n=ye(t),r=yield AE(n.localStore,e.query,!0),i=e.view.da(r);return n.isPrimaryClient&&Ix(n,e.targetId,i.Ta),i}),Dx.apply(this,arguments)}function iCe(t,e){return Sx.apply(this,arguments)}function Sx(){return Sx=(0,k.Z)(function*(t,e){const n=ye(t);return I8(n.localStore,e).then(r=>cc(n,r))}),Sx.apply(this,arguments)}function oCe(t,e,n,r){return Rx.apply(this,arguments)}function Rx(){return Rx=(0,k.Z)(function*(t,e,n,r){const i=ye(t),o=yield function(a,c){const l=ye(a),h=ye(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",f=>h.Cn(f,c).next(_=>_?l.localDocuments.getDocuments(f,_):B.resolve(null)))}(i.localStore,e);var c;null!==o?("pending"===n?yield yf(i.remoteStore):"acknowledged"===n||"rejected"===n?(Ox(i,e,r||null),Mx(i,e),c=e,ye(ye(i.localStore).mutationQueue).Fn(c)):Te(),yield cc(i,o)):de("SyncEngine","Cannot apply mutation batch with id: "+e)}),Rx.apply(this,arguments)}function xx(){return xx=(0,k.Z)(function*(t,e){const n=ye(t);if(Lx(n),Vx(n),!0===e&&!0!==n.Ca){const r=n.sharedClientState.getAllActiveQueryTargets(),i=yield Z8(n,r.toArray());n.Ca=!0,yield ox(n.remoteStore,!0);for(const o of i)kE(n.remoteStore,o)}else if(!1===e&&!1!==n.Ca){const r=[];let i=Promise.resolve();n.fa.forEach((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(Ef(n,s),_f(n.localStore,s,!0))),Gy(n.remoteStore,s)}),yield i,yield Z8(n,r),function(s){const a=ye(s);a.ya.forEach((c,l)=>{Gy(a.remoteStore,l)}),a.wa.Vr(),a.ya=new Map,a.pa=new dn(ve.comparator)}(n),n.Ca=!1,yield ox(n.remoteStore,!1)}}),xx.apply(this,arguments)}function Z8(t,e,n){return kx.apply(this,arguments)}function kx(){return kx=(0,k.Z)(function*(t,e,n){const r=ye(t),i=[],o=[];for(const s of e){let a;const c=r.fa.get(s);if(c&&0!==c.length){a=yield gf(r.localStore,zi(c[0]));for(const l of c){const h=r.ma.get(l),f=yield rCe(r,h);f.snapshot&&o.push(f.snapshot)}}else{const l=yield O8(r.localStore,s);a=yield gf(r.localStore,l),yield gx(r,Y8(l),s,!1,a.resumeToken)}i.push(a)}return r.Va.a_(o),i}),kx.apply(this,arguments)}function Y8(t){return tz(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function aCe(t){return n=ye(t).localStore,ye(ye(n).persistence).Bi();var n}function cCe(t,e,n,r){return Nx.apply(this,arguments)}function Nx(){return Nx=(0,k.Z)(function*(t,e,n,r){const i=ye(t);if(i.Ca)return void de("SyncEngine","Ignoring unexpected query state notification.");const o=i.fa.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{const s=yield I8(i.localStore,oz(o[0])),a=Sy.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,Or.EMPTY_BYTE_STRING);yield cc(i,s,a);break}case"rejected":yield _f(i.localStore,e,!0),Ef(i,e,r);break;default:Te()}}),Nx.apply(this,arguments)}function lCe(t,e,n){return Fx.apply(this,arguments)}function Fx(){return Fx=(0,k.Z)(function*(t,e,n){const r=Lx(t);if(r.Ca){for(const i of e){if(r.fa.has(i)){de("SyncEngine","Adding an already active target "+i);continue}const o=yield O8(r.localStore,i),s=yield gf(r.localStore,o);yield gx(r,Y8(o),s.targetId,!1,s.resumeToken),kE(r.remoteStore,s)}for(const i of n)r.fa.has(i)&&(yield _f(r.localStore,i,!1).then(()=>{Gy(r.remoteStore,i),Ef(r,i)}).catch(Ol))}}),Fx.apply(this,arguments)}function Lx(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=W8.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nCe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Yve.bind(null,e),e.Va.a_=Bve.bind(null,e.eventManager),e.Va.Fa=jve.bind(null,e.eventManager),e}function Vx(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Qve.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Xve.bind(null,e),e}class Wy{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,k.Z)(function*(){n.serializer=Hy(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return w8(this.persistence,new C8,e.initialUser,this.serializer)}createPersistence(e){return new TR(IE.jr,this.serializer)}createSharedClientState(e){return new D8}terminate(){var e=this;return(0,k.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ux extends Wy{constructor(e,n,r){super(),this.xa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,r=this;return(0,k.Z)(function*(){yield n().call(r,e),yield r.xa.initialize(r,e),yield Vx(r.xa.syncEngine),yield yf(r.xa.remoteStore),yield r.persistence.mi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return w8(this.persistence,new C8,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new d8(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new Fme(n,this.persistence);return new Nme(e.asyncQueue,r)}createPersistence(e){const n=SR(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Pi.withCacheSize(this.cacheSizeBytes):Pi.DEFAULT;return new DR(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,R8(),xE(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new D8}}class Q8 extends Ux{constructor(e,n){super(e,n,!1),this.xa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,r=this;return(0,k.Z)(function*(){yield n().call(r,e);const i=r.xa.syncEngine;r.sharedClientState instanceof BR&&(r.sharedClientState.syncEngine={Ys:oCe.bind(null,i),Zs:cCe.bind(null,i),Xs:lCe.bind(null,i),Bi:aCe.bind(null,i),Js:iCe.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.mi(function(){var o=(0,k.Z)(function*(s){yield function sCe(t,e){return xx.apply(this,arguments)}(r.xa.syncEngine,s),r.gcScheduler&&(s&&!r.gcScheduler.started?r.gcScheduler.start():s||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(s&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():s||r.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const n=R8();if(!BR.D(n))throw new le(G.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=SR(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new BR(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Mf{initialize(e,n){var r=this;return(0,k.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>q8(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=tCe.bind(null,r.syncEngine),yield ox(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Uve}createDatastore(e){const n=Hy(e.databaseInfo.databaseId),r=new Pve(e.databaseInfo);return new Ove(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,o=e.asyncQueue,s=n=>q8(this.syncEngine,n,0),a=S8.D()?new S8:new vve,new Tve(r,i,o,s,a);var r,i,o,s,a}createSyncEngine(e,n){return function(i,o,s,a,c,l,h){const f=new Wve(i,o,s,a,c,l);return h&&(f.Ca=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,k.Z)(function*(r){const i=ye(r);de("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield mf(i),i.F_.shutdown(),i.M_.set("Unknown")}),function n(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function X8(t,e=10240){let n=0;return{read:()=>(0,k.Z)(function*(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})(),cancel:()=>(0,k.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class FE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):tr("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class hCe{constructor(e,n){this.Ba=e,this.serializer=n,this.metadata=new Mr,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(r=>{r&&r.Z_()?this.metadata.resolve(r.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Y_)}`))},r=>this.metadata.reject(r))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,k.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,k.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,k.Z)(function*(){const n=yield e.qa();if(null===n)return null;const r=e.La.decode(n),i=Number(r);isNaN(i)&&e.Qa(`length string (${r}) is not valid number`);const o=yield e.Ka(i);return new $ve(JSON.parse(o),n.length+i)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,k.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const n=e.$a();n<0&&e.Qa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),r})()}Ka(e){var n=this;return(0,k.Z)(function*(){for(;n.buffer.length<e;)(yield n.Ua())&&n.Qa("Reached the end of bundle when more is expected.");const r=n.La.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),r})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,k.Z)(function*(){const n=yield e.Ba.read();if(!n.done){const r=new Uint8Array(e.buffer.length+n.value.length);r.set(e.buffer),r.set(n.value,e.buffer.length),e.buffer=r}return n.done})()}}class pCe{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,k.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new le(G.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,k.Z)(function*(s,a){const c=ye(s),l=ky(c.serializer)+"/documents",h={documents:a.map(E=>xy(c.serializer,E))},f=yield c.Co("BatchGetDocuments",l,h,a.length),_=new Map;f.forEach(E=>{const I=function kye(t,e){return"found"in e?function(r,i){Ne(!!i.found);const o=pa(r,i.found.name),s=nr(i.found.updateTime),a=i.found.createTime?nr(i.found.createTime):Fe.min(),c=new ei({mapValue:{fields:i.found.fields}});return wn.newFoundDocument(o,s,a,c)}(t,e):"missing"in e?function(r,i){Ne(!!i.missing),Ne(!!i.readTime);const o=pa(r,i.missing),s=nr(i.readTime);return wn.newNoDocument(o,s)}(t,e):Te()}(c.serializer,E);_.set(I.key.toString(),I)});const v=[];return a.forEach(E=>{const I=_.get(E.toString());Ne(!!I),v.push(I)}),v}),function o(s,a){return i.apply(this,arguments)})(n.datastore,e);var i;return r.forEach(i=>n.recordVersion(i)),r})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new cf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,k.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var r;e.mutations.forEach(r=>{n.delete(r.key.toString())}),n.forEach((r,i)=>{const o=ve.fromPath(i);e.mutations.push(new uR(o,e.precondition(o)))}),yield(r=(0,k.Z)(function*(o,s){const a=ye(o),c=ky(a.serializer)+"/documents",l={writes:s.map(h=>Ny(a.serializer,h))};yield a.wo("Commit",c,l)}),function i(o,s){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Te();n=Fe.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new le(G.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Fe.min())?Dn.exists(!1):Dn.updateTime(n):Dn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Fe.min()))throw new le(G.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dn.updateTime(n)}return Dn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class fCe{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this.Wa=r.maxAttempts,this.zo=new $R(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,k.Z)(function*(){const n=new pCe(e.datastore),r=e.za(n);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(i)}).catch(o=>{e.ja(o)}))}).catch(i=>{e.ja(i)})}))}za(e){try{const n=this.updateFunction(e);return!_y(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!Ez(n)}return!1}}class gCe{constructor(e,n,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Lr.UNAUTHENTICATED,this.clientId=vH.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=(0,k.Z)(function*(a){de("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(de("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return(0,k.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new le(G.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,k.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Cf(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function LE(t,e){return Bx.apply(this,arguments)}function Bx(){return Bx=(0,k.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),de("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=(0,k.Z)(function*(o){r.isEqual(o)||(yield P8(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),Bx.apply(this,arguments)}function jx(t,e){return $x.apply(this,arguments)}function $x(){return $x=(0,k.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield Hx(t);de("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>U8(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>U8(e.remoteStore,o)),t._onlineComponents=e}),$x.apply(this,arguments)}function J8(t){return"FirebaseError"===t.name?t.code===G.FAILED_PRECONDITION||t.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function Hx(t){return zx.apply(this,arguments)}function zx(){return zx=(0,k.Z)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de("FirestoreClient","Using user provided OfflineComponentProvider");try{yield LE(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!J8(n))throw n;oo("Error using user provided cache. Falling back to memory cache: "+n),yield LE(t,new Wy)}}else de("FirestoreClient","Using default OfflineComponentProvider"),yield LE(t,new Wy);return t._offlineComponents}),zx.apply(this,arguments)}function VE(t){return Gx.apply(this,arguments)}function Gx(){return Gx=(0,k.Z)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de("FirestoreClient","Using user provided OnlineComponentProvider"),yield jx(t,t._uninitializedComponentsProvider._online)):(de("FirestoreClient","Using default OnlineComponentProvider"),yield jx(t,new Mf))),t._onlineComponents}),Gx.apply(this,arguments)}function e7(t){return Hx(t).then(e=>e.persistence)}function Of(t){return Hx(t).then(e=>e.localStore)}function t7(t){return VE(t).then(e=>e.remoteStore)}function Wx(t){return VE(t).then(e=>e.syncEngine)}function If(t){return qx.apply(this,arguments)}function qx(){return qx=(0,k.Z)(function*(t){const e=yield VE(t),n=e.eventManager;return n.onListen=qve.bind(null,e.syncEngine),n.onUnlisten=Kve.bind(null,e.syncEngine),n}),qx.apply(this,arguments)}function r7(t,e,n={}){const r=new Mr;return t.asyncQueue.enqueueAndForget((0,k.Z)(function*(){return function(o,s,a,c,l){const h=new FE({next:_=>{s.enqueueAndForget(()=>ux(o,f));const v=_.docs.has(a);!v&&_.fromCache?l.reject(new le(G.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&_.fromCache&&c&&"server"===c.source?l.reject(new le(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(_)},error:_=>l.reject(_)}),f=new px(ef(a.path),h,{includeMetadataChanges:!0,J_:!0});return cx(o,f)}(yield If(t),t.asyncQueue,e,n,r)})),r.promise}function i7(t,e,n={}){const r=new Mr;return t.asyncQueue.enqueueAndForget((0,k.Z)(function*(){return function(o,s,a,c,l){const h=new FE({next:_=>{s.enqueueAndForget(()=>ux(o,f)),_.fromCache&&"server"===c.source?l.reject(new le(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(_)},error:_=>l.reject(_)}),f=new px(a,h,{includeMetadataChanges:!0,J_:!0});return cx(o,f)}(yield If(t),t.asyncQueue,e,n,r)})),r.promise}function o7(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const s7=new Map;function Kx(t,e,n){if(!n)throw new le(G.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function a7(t,e,n,r){if(!0===e&&!0===r)throw new le(G.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function c7(t){if(!ve.isDocumentKey(t))throw new le(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function l7(t){if(ve.isDocumentKey(t))throw new le(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function UE(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":Te()}function vt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=UE(t);throw new le(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function u7(t,e){if(e<=0)throw new le(G.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class d7{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new le(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new le(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}a7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=o7(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new le(G.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new le(G.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new le(G.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d7({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new le(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new le(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d7(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Eme;switch(r.type){case"firstParty":return new bme(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=s7.get(n);r&&(de("ComponentProvider","Removing Datastore"),s7.delete(n),r.terminate())}(this),Promise.resolve()}}function h7(t,e,n,r={}){var i;const o=(t=vt(t,qy))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=Lr.MOCK_USER;else{a=(0,M.Sg)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new le(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Lr(l)}t._authCredentials=new Mme(new mH(a,c))}}class ti{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ti(this.firestore,e,this._query)}}class Pn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}}class fa extends ti{constructor(e,n,r){super(e,n,ef(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new ve(e))}withConverter(e){return new fa(this.firestore,e,this._path)}}function p7(t,e,...n){if(t=(0,M.m9)(t),Kx("collection","path",e),t instanceof qy){const r=Dt.fromString(e,...n);return l7(r),new fa(t,null,r)}{if(!(t instanceof Pn||t instanceof fa))throw new le(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dt.fromString(e,...n));return l7(r),new fa(t.firestore,null,r)}}function BE(t,e,...n){if(t=(0,M.m9)(t),1===arguments.length&&(e=vH.newId()),Kx("doc","path",e),t instanceof qy){const r=Dt.fromString(e,...n);return c7(r),new Pn(t,null,new ve(r))}{if(!(t instanceof Pn||t instanceof fa))throw new le(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dt.fromString(e,...n));return c7(r),new Pn(t.firestore,t instanceof fa?t.converter:null,new ve(r))}}function f7(t,e){return t=(0,M.m9)(t),e=(0,M.m9)(e),(t instanceof Pn||t instanceof fa)&&(e instanceof Pn||e instanceof fa)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Zx(t,e){return t=(0,M.m9)(t),e=(0,M.m9)(e),t instanceof ti&&e instanceof ti&&t.firestore===e.firestore&&My(t._query,e._query)&&t.converter===e.converter}class bCe{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new $R(this,"async_queue_retry"),this.iu=()=>{const n=xE();n&&de("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=xE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=xE();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Mr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,k.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!Il(n))throw n;de("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,tr("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=ax.createAndSchedule(this,e,n,r,o=>this.au(o));return this.Xa.push(i),i}su(){this.eu&&Te()}verifyOperationInProgress(){}uu(){var e=this;return(0,k.Z)(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function Yx(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(t)}class TCe{constructor(){this._progressObserver={},this._taskCompletionResolver=new Mr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class hn extends qy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new bCe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||g7(this),this._firestoreClient.terminate()}}function DCe(t,e){const n="object"==typeof t?t:(0,We.getApp)(),r="string"==typeof t?t:e||"(default)",i=(0,We._getProvider)(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(0,M.P0)("firestore");o&&h7(i,...o)}return i}function Wn(t){return t._firestoreClient||g7(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function g7(t){var e,n,r;const i=t._freezeSettings(),o=(c=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new rye(t._databaseId,c,t._persistenceKey,(h=i).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,o7(h.experimentalLongPollingOptions),h.useFetchStreams));var c,h;t._firestoreClient=new gCe(t._authCredentials,t._appCheckCredentials,t._queue,o),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function _7(t,e,n){const r=new Mr;return t.asyncQueue.enqueue((0,k.Z)(function*(){try{yield LE(t,n),yield jx(t,e),r.resolve()}catch(i){const o=i;if(!J8(o))throw o;oo("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}})).then(()=>r.promise)}function m7(t){if(t._initialized||t._terminated)throw new le(G.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ga{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ga(Or.fromBase64String(e))}catch(n){throw new le(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ga(Or.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class lc{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new le(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class wd{constructor(e){this._methodName=e}}class jE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}}const BCe=/^__.*__$/;class jCe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new sc(e,this.data,this.fieldMask,n,this.fieldTransforms):new af(e,this.data,n,this.fieldTransforms)}}class y7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new sc(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function v7(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class $E{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new $E(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return GE(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(v7(this.Iu)&&BCe.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class $Ce{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hy(e)}pu(e,n,r,i=!1){return new $E({Iu:e,methodName:n,gu:r,path:Cn.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pd(t){const e=t._freezeSettings(),n=Hy(t._databaseId);return new $Ce(t._databaseId,!!e.ignoreUndefinedProperties,n)}function HE(t,e,n,r,i,o={}){const s=t.pu(o.merge||o.mergeFields?2:0,e,n,i);ek("Data must be an object, but it was:",s,r);const a=P7(r,s);let c,l;if(o.merge)c=new so(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const f of o.mergeFields){const _=Yy(e,f,n);if(!s.contains(_))throw new le(G.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);M7(h,_)||h.push(_)}c=new so(h),l=s.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,l=s.fieldTransforms;return new jCe(new ei(a),c,l)}class Zy extends wd{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zy}}function C7(t,e,n){return new $E({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Qx extends wd{_toFieldTransform(e){return new Ty(e.path,new rf)}isEqual(e){return e instanceof Qx}}class HCe extends wd{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=C7(this,e,!0),r=this.yu.map(o=>Ed(o,n)),i=new hd(r);return new Ty(e.path,i)}isEqual(e){return this===e}}class zCe extends wd{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=C7(this,e,!0),r=this.yu.map(o=>Ed(o,n)),i=new pd(r);return new Ty(e.path,i)}isEqual(e){return this===e}}class GCe extends wd{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=new sf(e.serializer,hz(e.serializer,this.wu));return new Ty(e.path,n)}isEqual(e){return this===e}}function Xx(t,e,n,r){const i=t.pu(1,e,n);ek("Data must be an object, but it was:",i,r);const o=[],s=ei.empty();bl(r,(c,l)=>{const h=zE(e,c,n);l=(0,M.m9)(l);const f=i.Ru(h);if(l instanceof Zy)o.push(h);else{const _=Ed(l,f);null!=_&&(o.push(h),s.set(h,_))}});const a=new so(o);return new y7(s,a,i.fieldTransforms)}function Jx(t,e,n,r,i,o){const s=t.pu(1,e,n),a=[Yy(e,r,n)],c=[i];if(o.length%2!=0)throw new le(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)a.push(Yy(e,o[_])),c.push(o[_+1]);const l=[],h=ei.empty();for(let _=a.length-1;_>=0;--_)if(!M7(l,a[_])){const v=a[_];let E=c[_];E=(0,M.m9)(E);const I=s.Ru(v);if(E instanceof Zy)l.push(v);else{const b=Ed(E,I);null!=b&&(l.push(v),h.set(v,b))}}const f=new so(l);return new y7(h,f,s.fieldTransforms)}function w7(t,e,n,r=!1){return Ed(n,t.pu(r?4:3,e))}function Ed(t,e){if(E7(t=(0,M.m9)(t)))return ek("Unsupported field value:",e,t),P7(t,e);if(t instanceof wd)return function(r,i){if(!v7(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let c=Ed(a,i.Vu(s));null==c&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if(null===(r=(0,M.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return hz(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=An.fromDate(r);return{timestampValue:lf(i.serializer,o)}}if(r instanceof An){const o=new An(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lf(i.serializer,o)}}if(r instanceof jE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ga)return{bytesValue:xz(i.serializer,r._byteString)};if(r instanceof Pn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:_R(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${UE(r)}`)}(t,e)}function P7(t,e){const n={};return kH(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bl(t,(r,i)=>{const o=Ed(i,e.Eu(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function E7(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof An||t instanceof jE||t instanceof ga||t instanceof Pn||t instanceof wd)}function ek(t,e,n){if(!E7(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=UE(n);throw e.mu("an object"===r?t+" a custom object":t+" "+r)}var i}function Yy(t,e,n){if((e=(0,M.m9)(e))instanceof lc)return e._internalPath;if("string"==typeof e)return zE(t,e);throw GE("Field path arguments must be of type string or ",t,!1,void 0,n)}const WCe=new RegExp("[~\\*/\\[\\]]");function zE(t,e,n){if(e.search(WCe)>=0)throw GE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new lc(...e.split("."))._internalPath}catch{throw GE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function GE(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new le(G.INVALID_ARGUMENT,a+t+c)}function M7(t,e){return t.some(n=>n.isEqual(e))}class Qy{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new qCe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(WE("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class qCe extends Qy{data(){return super.data()}}function WE(t,e){return"string"==typeof e?zE(t,e):e instanceof lc?e._internalPath:e._delegate._internalPath}function O7(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new le(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tk{}class Xy extends tk{}function Bl(t,e,...n){let r=[];e instanceof tk&&r.push(e),r=r.concat(n),function(o){const s=o.filter(c=>c instanceof bf).length,a=o.filter(c=>c instanceof Jy).length;if(s>1||s>0&&a>0)throw new le(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Jy extends Xy{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Jy(e,n,r)}_apply(e){const n=this._parse(e);return A7(e._query,n),new ti(e.firestore,e.converter,cR(e._query,n))}_parse(e){const n=Pd(e.firestore);return function(o,s,a,c,l,h,f){let _;if(l.isKeyField()){if("array-contains"===h||"array-contains-any"===h)throw new le(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if("in"===h||"not-in"===h){T7(f,h);const v=[];for(const E of f)v.push(b7(c,o,E));_={arrayValue:{values:v}}}else _=b7(c,o,f)}else"in"!==h&&"not-in"!==h&&"array-contains-any"!==h||T7(f,h),_=w7(a,"where",f,"in"===h||"not-in"===h);return wt.create(l,h,_)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class bf extends tk{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new bf(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Ht.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const c of a)A7(s,c),s=cR(s,c)}(e._query,n),new ti(e.firestore,e.converter,cR(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class nk extends Xy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new nk(e,n)}_apply(e){const n=function(i,o,s){if(null!==i.startAt)throw new le(G.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new le(G.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Py(o,s)}(e._query,this._field,this._direction);return new ti(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new ic(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}class qE extends Xy{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new qE(e,n,r)}_apply(e){return new ti(e.firestore,e.converter,pE(e._query,this._limit,this._limitType))}}class KE extends Xy{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new KE(e,n,r)}_apply(e){const n=I7(e,this.type,this._docOrFields,this._inclusive);return new ti(e.firestore,e.converter,(o=n,new ic((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)));var i,o}}class ZE extends Xy{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new ZE(e,n,r)}_apply(e){const n=I7(e,this.type,this._docOrFields,this._inclusive);return new ti(e.firestore,e.converter,(o=n,new ic((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)));var i,o}}function I7(t,e,n,r){if(n[0]=(0,M.m9)(n[0]),n[0]instanceof Qy)return function(o,s,a,c,l){if(!c)throw new le(G.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const f of tf(o))if(f.field.isKeyField())h.push(ud(s,c.key));else{const _=c.data.field(f.field);if(sE(_))throw new le(G.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===_){const v=f.field.canonicalString();throw new le(G.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}h.push(_)}return new xl(h,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Pd(t.firestore);return function(s,a,c,l,h,f){const _=s.explicitOrderBy;if(h.length>_.length)throw new le(G.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const v=[];for(let E=0;E<h.length;E++){const I=h[E];if(_[E].field.isKeyField()){if("string"!=typeof I)throw new le(G.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof I}`);if(!aR(s)&&-1!==I.indexOf("/"))throw new le(G.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${I}' contains a slash.`);const b=s.path.child(Dt.fromString(I));if(!ve.isDocumentKey(b))throw new le(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${b}' is not because it contains an odd number of segments.`);const L=new ve(b);v.push(ud(a,L))}else{const b=w7(c,l,I);v.push(b)}}return new xl(v,f)}(t._query,t.firestore._databaseId,i,e,n,r)}}function b7(t,e,n){if("string"==typeof(n=(0,M.m9)(n))){if(""===n)throw new le(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aR(e)&&-1!==n.indexOf("/"))throw new le(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Dt.fromString(n));if(!ve.isDocumentKey(r))throw new le(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ud(t,new ve(r))}if(n instanceof Pn)return ud(t,n._key);throw new le(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${UE(n)}.`)}function T7(t,e){if(!Array.isArray(t)||0===t.length)throw new le(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function A7(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new le(G.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class rk{convertValue(e,n="none"){switch(Sl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(rc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return bl(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new jE(Gn(e.latitude),Gn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=aE(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yy(e));default:return null}}convertTimestamp(e){const n=Tl(e);return new An(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Dt.fromString(e);Ne(Hz(r));const i=new Al(r.get(1),r.get(3)),o=new ve(r.popFirst(5));return i.isEqual(n)||tr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function YE(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class nwe extends rk{constructor(e){super(),this.firestore=e}convertBytes(e){return new ga(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,n)}}class Md{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uc extends Qy{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ev(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(WE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ev extends uc{data(e={}){return super.data(e)}}class jl{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Md(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ev(this._firestore,this._userDataWriter,r.key,r,new Md(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new ev(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Md(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const c=new ev(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Md(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,h=-1;return 0!==a.type&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:iwe(a.type),doc:c,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function iwe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}function S7(t,e){return t instanceof uc&&e instanceof uc?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof jl&&e instanceof jl&&t._firestore===e._firestore&&Zx(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}class $l extends rk{constructor(e){super(),this.firestore=e}convertBytes(e){return new ga(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,n)}}function R7(t,e,n){t=vt(t,Pn);const r=vt(t.firestore,hn),i=YE(t.converter,e,n);return Tf(r,[HE(Pd(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Dn.none())])}function x7(t,e,n,...r){t=vt(t,Pn);const i=vt(t.firestore,hn),o=Pd(i);let s;return s="string"==typeof(e=(0,M.m9)(e))||e instanceof lc?Jx(o,"updateDoc",t._key,e,n,r):Xx(o,"updateDoc",t._key,e),Tf(i,[s.toMutation(t._key,Dn.exists(!0))])}function k7(t,...e){var n,r,i;t=(0,M.m9)(t);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||Yx(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(Yx(e[s])){const f=e[s];e[s]=null===(n=f.next)||void 0===n?void 0:n.bind(f),e[s+1]=null===(r=f.error)||void 0===r?void 0:r.bind(f),e[s+2]=null===(i=f.complete)||void 0===i?void 0:i.bind(f)}let c,l,h;if(t instanceof Pn)l=vt(t.firestore,hn),h=ef(t._key.path),c={next:f=>{e[s]&&e[s](ik(l,t,f))},error:e[s+1],complete:e[s+2]};else{const f=vt(t,ti);l=vt(f.firestore,hn),h=f._query;const _=new $l(l);c={next:v=>{e[s]&&e[s](new jl(l,_,f,v))},error:e[s+1],complete:e[s+2]},O7(t._query)}return function(_,v,E,I){const b=new FE(I),L=new px(v,b,E);return _.asyncQueue.enqueueAndForget((0,k.Z)(function*(){return cx(yield If(_),L)})),()=>{b.Na(),_.asyncQueue.enqueueAndForget((0,k.Z)(function*(){return ux(yield If(_),L)}))}}(Wn(l),h,a,c)}function Tf(t,e){return function(r,i){const o=new Mr;return r.asyncQueue.enqueueAndForget((0,k.Z)(function*(){return function Zve(t,e,n){return yx.apply(this,arguments)}(yield Wx(r),i,o)})),o.promise}(Wn(t),e)}function ik(t,e,n){const r=n.docs.get(e._key),i=new $l(t);return new uc(t,i,e._key,r,new Md(n.hasPendingWrites,n.fromCache),e.converter)}const Pwe={maxAttempts:5};class N7{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Pd(e)}set(e,n,r){this._verifyNotCommitted();const i=Hl(e,this._firestore),o=YE(i.converter,n,r),s=HE(this._dataReader,"WriteBatch.set",i._key,o,null!==i.converter,r);return this._mutations.push(s.toMutation(i._key,Dn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=Hl(e,this._firestore);let s;return s="string"==typeof(n=(0,M.m9)(n))||n instanceof lc?Jx(this._dataReader,"WriteBatch.update",o._key,n,r,i):Xx(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,Dn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Hl(e,this._firestore);return this._mutations=this._mutations.concat(new cf(n._key,Dn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new le(G.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Hl(t,e){if((t=(0,M.m9)(t)).firestore!==e)throw new le(G.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class Ewe extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Pd(n)}get(n){const r=Hl(n,this._firestore),i=new nwe(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||1!==o.length)return Te();const s=o[0];if(s.isFoundDocument())return new Qy(this._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new Qy(this._firestore,i,r._key,null,r.converter);throw Te()})}set(n,r,i){const o=Hl(n,this._firestore),s=YE(o.converter,r,i),a=HE(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,i);return this._transaction.set(o._key,a),this}update(n,r,i,...o){const s=Hl(n,this._firestore);let a;return a="string"==typeof(r=(0,M.m9)(r))||r instanceof lc?Jx(this._dataReader,"Transaction.update",s._key,r,i,o):Xx(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(n){const r=Hl(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Hl(e,this._firestore),r=new $l(this._firestore);return super.get(e).then(i=>new uc(this._firestore,r,n._key,i._document,new Md(!1,!1),n.converter))}}!function(e,n=!0){Wp=We.SDK_VERSION,(0,We._registerComponent)(new Po.wA("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new hn(new Ome(r.getProvider("auth-internal")),new Tme(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new le(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Al(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,We.registerVersion)(_H,"4.3.2",e),(0,We.registerVersion)(_H,"4.3.2","esm2017")}();class sk{constructor(e){return e}}const U7="firestore",ak=new fe("angularfire2.firestore-instances");function xwe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new sk(r)}}const kwe={provide:class Swe{constructor(){return AT(U7)}},deps:[[new p,ak]]},Nwe={provide:sk,useFactory:function Rwe(t,e){const n=function Dj(t,e,n){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(U7,t,e);return n&&new sk(n)},deps:[[new p,ak],Nm]};let B7=(()=>{var t;class e{constructor(){(0,We.registerVersion)("angularfire",ml.full,"fst")}}return t=e,Le(e,"\u0275fac",function(r){return new(r||t)}),Le(e,"\u0275mod",Vn({type:t})),Le(e,"\u0275inj",Yn({providers:[Nwe,kwe]})),e})();function Fwe(t,...e){return{ngModule:B7,providers:[{provide:ak,useFactory:xwe(t),multi:!0,deps:[Tt,ki,bp,q9,[new p,J6],[new p,Im],...e]}]}}const Lwe=Yce(DCe,!0);Ze(643);class Vwe extends Q{constructor(e=1/0,n=1/0,r=TT){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const s=n.now();let a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}}function j7(t,e,n){let r,i=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t):r=t??1/0,Ge({connector:()=>new Vwe(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function $7(t,e){return O(e)?Je(()=>t,e):Je(()=>t)}const ck=new fe("angularfire2.auth.use-emulator"),lk=new fe("angularfire2.auth.settings"),uk=new fe("angularfire2.auth.tenant-id"),dk=new fe("angularfire2.auth.langugage-code"),hk=new fe("angularfire2.auth.use-device-language"),pk=new fe("angularfire.auth.persistence"),fk=(t,e,n,r,i,o,s,a)=>X0(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const c=e.runOutsideAngular(()=>t.auth());if(n&&c.useEmulator(...n),r&&(c.tenantId=r),c.languageCode=i,o&&c.useDeviceLanguage(),s)for(const[l,h]of Object.entries(s))c.settings[l]=h;return a&&c.setPersistence(a),c},[n,r,i,o,s,a]);let gk=(()=>{var t;class e{constructor(r,i,o,s,a,c,l,h,f,_,v,E){Le(this,"authState",void 0),Le(this,"idToken",void 0),Le(this,"user",void 0),Le(this,"idTokenResult",void 0),Le(this,"credential",void 0);const I=new Q,b=q(void 0).pipe(mr(a.outsideAngular),Je(()=>s.runOutsideAngular(()=>Promise.resolve().then(Ze.bind(Ze,643)))),_e(()=>bm(r,s,i)),_e(L=>fk(L,s,c,h,f,_,l,v)),j7({bufferSize:1,refCount:!1}));if(Aw(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=q(null);else{b.pipe(Qc()).subscribe();const L=b.pipe(Je($=>$.getRedirectResult().then(pe=>pe,()=>null)),er,j7({bufferSize:1,refCount:!1})),N=b.pipe(Je($=>new st(pe=>({unsubscribe:s.runOutsideAngular(()=>$.onAuthStateChanged(Oe=>pe.next(Oe),Oe=>pe.error(Oe),()=>pe.complete()))})))),H=b.pipe(Je($=>new st(pe=>({unsubscribe:s.runOutsideAngular(()=>$.onIdTokenChanged(Oe=>pe.next(Oe),Oe=>pe.error(Oe),()=>pe.complete()))}))));this.authState=L.pipe($7(N),Hr(a.outsideAngular),mr(a.insideAngular)),this.user=L.pipe($7(H),Hr(a.outsideAngular),mr(a.insideAngular)),this.idToken=this.user.pipe(Je($=>$?R($.getIdToken()):q(null))),this.idTokenResult=this.user.pipe(Je($=>$?R($.getIdTokenResult()):q(null))),this.credential=te(L,I,this.authState.pipe(Yo($=>!$))).pipe(_e($=>$?.user?$:null),Hr(a.outsideAngular),mr(a.insideAngular))}return((t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{if(t[o])return r?.spy?.get&&r.spy.get(o,t[o]),t[o];if(ele.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(a=>{const c=a?.[o];return"function"==typeof c?c.bind(a):c?.then?c.then(l=>n.run(()=>l)):n.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,l)=>s.then(h=>{const f=h?.(...l);return r?.spy?.apply&&r.spy.apply(o,l,f),f})})})}))(this,b,s,{spy:{apply:(L,N,H)=>{(L.startsWith("signIn")||L.startsWith("createUser"))&&H.then($=>I.next($))}}})}}return t=e,Le(e,"\u0275fac",function(r){return new(r||t)(ie(Ap),ie(Dp,8),ie(_o),ie(Tt),ie(bp),ie(ck,8),ie(lk,8),ie(uk,8),ie(dk,8),ie(hk,8),ie(pk,8),ie(Im,8))}),Le(e,"\u0275prov",be({token:t,factory:t.\u0275fac,providedIn:"any"})),e})();const zwe=new fi.Yd("@firebase/database-compat"),H7=function(t){zwe.warn("FIREBASE WARNING: "+t)};class qwe{constructor(e){this._delegate=e}cancel(e){(0,M.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,M.Wj)("OnDisconnect.cancel","onComplete",e,!0);const n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){(0,M.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,M.Wj)("OnDisconnect.remove","onComplete",e,!0);const n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){(0,M.Dv)("OnDisconnect.set",1,2,arguments.length),(0,M.Wj)("OnDisconnect.set","onComplete",n,!0);const r=this._delegate.set(e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){(0,M.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,M.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,n);return r&&i.then(()=>r(null),o=>r(o)),i}update(e,n){if((0,M.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,H7("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,M.Wj)("OnDisconnect.update","onComplete",n,!0);const r=this._delegate.update(e);return n&&r.then(()=>n(null),i=>n(i)),r}}class Kwe{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return(0,M.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class zl{constructor(e,n){this._database=e,this._delegate=n}val(){return(0,M.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,M.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,M.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,M.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,M.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),hm("DataSnapshot.child","path",e,!1),new zl(this._database,this._delegate.child(e))}hasChild(e){return(0,M.Dv)("DataSnapshot.hasChild",1,1,arguments.length),hm("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,M.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,M.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,M.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new zl(this._database,n)))}hasChildren(){return(0,M.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,M.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,M.Dv)("DataSnapshot.ref",0,0,arguments.length),new To(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ni{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,i){var o;(0,M.Dv)("Query.on",2,4,arguments.length),(0,M.Wj)("Query.on","callback",n,!1);const s=ni.getCancelAndContextArgs_("Query.on",r,i),a=(l,h)=>{n.call(s.context,new zl(this.database,l),h)};a.userCallback=n,a.context=s.context;const c=null===(o=s.cancel)||void 0===o?void 0:o.bind(s.context);switch(e){case"value":return Gu(this._delegate,a,c),n;case"child_added":return d4(this._delegate,a,c),n;case"child_removed":return f4(this._delegate,a,c),n;case"child_changed":return h4(this._delegate,a,c),n;case"child_moved":return p4(this._delegate,a,c),n;default:throw new Error((0,M.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if((0,M.Dv)("Query.off",0,3,arguments.length),function(t,e,n){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,M.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,M.Wj)("Query.off","callback",n,!0),(0,M.lb)("Query.off","context",r,!0),n){const i=()=>{};i.userCallback=n,i.context=r,g4(this._delegate,e,i)}else g4(this._delegate,e)}get(){return fm(this._delegate).then(e=>new zl(this.database,e))}once(e,n,r,i){(0,M.Dv)("Query.once",1,4,arguments.length),(0,M.Wj)("Query.once","callback",n,!0);const o=ni.getCancelAndContextArgs_("Query.once",r,i),s=new M.BH,a=(l,h)=>{const f=new zl(this.database,l);n&&n.call(o.context,f,h),s.resolve(f)};a.userCallback=n,a.context=o.context;const c=l=>{o.cancel&&o.cancel.call(o.context,l),s.reject(l)};switch(e){case"value":Gu(this._delegate,a,c,{onlyOnce:!0});break;case"child_added":d4(this._delegate,a,c,{onlyOnce:!0});break;case"child_removed":f4(this._delegate,a,c,{onlyOnce:!0});break;case"child_changed":h4(this._delegate,a,c,{onlyOnce:!0});break;case"child_moved":p4(this._delegate,a,c,{onlyOnce:!0});break;default:throw new Error((0,M.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(e){return(0,M.Dv)("Query.limitToFirst",1,1,arguments.length),new ni(this.database,bs(this._delegate,function sae(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new oae(t)}(e)))}limitToLast(e){return(0,M.Dv)("Query.limitToLast",1,1,arguments.length),new ni(this.database,bs(this._delegate,function cae(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new aae(t)}(e)))}orderByChild(e){return(0,M.Dv)("Query.orderByChild",1,1,arguments.length),new ni(this.database,bs(this._delegate,function uae(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return hm("orderByChild","path",t,!1),new lae(t)}(e)))}orderByKey(){return(0,M.Dv)("Query.orderByKey",0,0,arguments.length),new ni(this.database,bs(this._delegate,function hae(){return new dae}()))}orderByPriority(){return(0,M.Dv)("Query.orderByPriority",0,0,arguments.length),new ni(this.database,bs(this._delegate,function fae(){return new pae}()))}orderByValue(){return(0,M.Dv)("Query.orderByValue",0,0,arguments.length),new ni(this.database,bs(this._delegate,function _ae(){return new gae}()))}startAt(e=null,n){return(0,M.Dv)("Query.startAt",0,2,arguments.length),new ni(this.database,bs(this._delegate,function nae(t=null,e){return dm("startAt","key",e,!0),new m4(t,e)}(e,n)))}startAfter(e=null,n){return(0,M.Dv)("Query.startAfter",0,2,arguments.length),new ni(this.database,bs(this._delegate,function iae(t,e){return dm("startAfter","key",e,!0),new rae(t,e)}(e,n)))}endAt(e=null,n){return(0,M.Dv)("Query.endAt",0,2,arguments.length),new ni(this.database,bs(this._delegate,function Jse(t,e){return dm("endAt","key",e,!0),new _4(t,e)}(e,n)))}endBefore(e=null,n){return(0,M.Dv)("Query.endBefore",0,2,arguments.length),new ni(this.database,bs(this._delegate,function tae(t,e){return dm("endBefore","key",e,!0),new eae(t,e)}(e,n)))}equalTo(e,n){return(0,M.Dv)("Query.equalTo",1,2,arguments.length),new ni(this.database,bs(this._delegate,function yae(t,e){return dm("equalTo","key",e,!0),new mae(t,e)}(e,n)))}toString(){return(0,M.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,M.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,M.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof ni))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){const i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,(0,M.Wj)(e,"cancel",i.cancel,!0),i.context=r,(0,M.lb)(e,"context",i.context,!0);else if(n)if("object"==typeof n&&null!==n)i.context=n;else{if("function"!=typeof n)throw new Error((0,M.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=n}return i}get ref(){return new To(this.database,new es(this._delegate._repo,this._delegate._path))}}class To extends ni{constructor(e,n){super(e,new ro(n._repo,n._path,new a0,!1)),this.database=e,this._delegate=n}getKey(){return(0,M.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,M.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new To(this.database,zu(this._delegate,e))}getParent(){(0,M.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new To(this.database,e):null}getRoot(){return(0,M.Dv)("Reference.root",0,0,arguments.length),new To(this.database,this._delegate.root)}set(e,n){(0,M.Dv)("Reference.set",1,2,arguments.length),(0,M.Wj)("Reference.set","onComplete",n,!0);const r=Os(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}update(e,n){if((0,M.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,H7("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Jo("Reference.update",this._delegate._path),(0,M.Wj)("Reference.update","onComplete",n,!0);const r=Xse(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){(0,M.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,M.Wj)("Reference.setWithPriority","onComplete",r,!0);const i=function Qse(t,e,n){if(Jo("setWithPriority",t._path),Js("setWithPriority",e,t._path,!1),eT("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";const r=new M.BH;return nT(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}(this._delegate,e,n);return r&&i.then(()=>r(null),o=>r(o)),i}remove(e){(0,M.Dv)("Reference.remove",0,1,arguments.length),(0,M.Wj)("Reference.remove","onComplete",e,!0);const n=function Zse(t){return Jo("remove",t._path),Os(t,null)}(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){(0,M.Dv)("Reference.transaction",1,3,arguments.length),(0,M.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,M.Wj)("Reference.transaction","onComplete",n,!0),function(t,e,n,r){if(void 0!==n&&"boolean"!=typeof n)throw new Error((0,M.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const i=function Nae(t,e,n){var r;if(t=(0,M.m9)(t),Jo("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";const i=null===(r=n?.applyLocally)||void 0===r||r,o=new M.BH,a=Gu(t,()=>{});return function jse(t,e,n,r,i,o){wp(t,"transaction on "+e);const s={path:e,update:n,onComplete:r,status:null,order:C5(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=iT(t,e,void 0);s.currentInputSnapshot=a;const c=s.update(a.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{um("transaction failed: Data returned ",c,s.path),s.status=0;const l=M0(t.transactionQueueTree_,e),h=$u(l)||[];let f;h.push(s),Qb(l,h),"object"==typeof c&&null!==c&&(0,M.r3)(c,".priority")?(f=(0,M.DV)(c,".priority"),(0,M.hu)(lm(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(P0(t.serverSyncTree_,e)||tt.EMPTY_NODE).getPriority().val();const _=pm(t),v=Rn(c,f),E=Kb(v,a,_);s.currentOutputSnapshotRaw=v,s.currentOutputSnapshotResolved=E,s.currentWriteId=T0(t);const I=jb(t.serverSyncTree_,e,E,s.currentWriteId,s.applyLocally);Eo(t.eventQueue_,e,I),A0(t,t.transactionQueueTree_)}}(t._repo,t._path,e,(c,l,h)=>{let f=null;c?o.reject(c):(f=new Hu(h,new es(t._repo,t._path),ln),o.resolve(new kae(l,f)))},a,i),o.promise}(this._delegate,e,{applyLocally:r}).then(o=>new Kwe(o.committed,new zl(this.database,o.snapshot)));return n&&i.then(o=>n(null,o.committed,o.snapshot),o=>n(o,!1,null)),i}setPriority(e,n){(0,M.Dv)("Reference.setPriority",1,2,arguments.length),(0,M.Wj)("Reference.setPriority","onComplete",n,!0);const r=function Yse(t,e){t=(0,M.m9)(t),Jo("setPriority",t._path),eT("setPriority",e,!1);const n=new M.BH;return nT(t._repo,In(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}push(e,n){(0,M.Dv)("Reference.push",0,2,arguments.length),(0,M.Wj)("Reference.push","onComplete",n,!0);const r=function Kse(t,e){t=(0,M.m9)(t),Jo("push",t._path),Js("push",e,t._path,!0);const n=XB(t._repo),r=qse(n),i=zu(t,r),o=zu(t,r);let s;return s=null!=e?Os(o,e).then(()=>o):Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}(this._delegate,e),i=r.then(s=>new To(this.database,s));n&&i.then(()=>n(null),s=>n(s));const o=new To(this.database,r);return o.then=i.then.bind(i),o.catch=i.catch.bind(i,void 0),o}onDisconnect(){return Jo("Reference.onDisconnect",this._delegate._path),new qwe(new l4(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class tv{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Oae,forceLongPolling:Iae}}useEmulator(e,n,r={}){C4(this._delegate,e,n,r)}ref(e){if((0,M.Dv)("database.ref",0,1,arguments.length),e instanceof To){const n=u4(this._delegate,e.toString());return new To(this,n)}{const n=xr(this._delegate,e);return new To(this,n)}}refFromURL(e){(0,M.Dv)("database.refFromURL",1,1,arguments.length);const r=u4(this._delegate,e);return new To(this,r)}goOffline(){return(0,M.Dv)("database.goOffline",0,0,arguments.length),function bae(t){(t=(0,M.m9)(t))._checkNotDeleted("goOffline"),n4(t._repo)}(this._delegate)}goOnline(){return(0,M.Dv)("database.goOnline",0,0,arguments.length),function Tae(t){(t=(0,M.m9)(t))._checkNotDeleted("goOnline"),function Bse(t){t.persistentConnection_&&t.persistentConnection_.resume(QB)}(t._repo)}(this._delegate)}}tv.ServerValue={TIMESTAMP:function Rae(){return Sae}(),increment:t=>function xae(t){return{".sv":{increment:t}}}(t)};var Ywe=Object.freeze({__proto__:null,initStandalone:function Zwe({app:t,url:e,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:o,nodeAdmin:s=!1}){ib(n);const a=new Po.H0("database-standalone"),c=new Po.zt("auth-internal",a);let l;return c.setComponent(new Po.wA("auth-internal",()=>r,"PRIVATE")),i&&(l=new Po.zt("app-check-internal",a),l.setComponent(new Po.wA("app-check-internal",()=>i,"PRIVATE"))),{instance:new tv(uT(t,c,l,e,s),t),namespace:o}}});const Qwe=tv.ServerValue;function nv(t,e,n="on",r=Q0){return new st(i=>{let o=null;return o=t[n](e,(s,a)=>{r.schedule(()=>{i.next({snapshot:s,prevKey:a})}),"once"===n&&r.schedule(()=>i.complete())},s=>{r.schedule(()=>i.error(s))}),"on"===n?{unsubscribe(){null!=o&&t.off(e,o)}}:{unsubscribe(){}}}).pipe(_e(i=>{const{snapshot:o,prevKey:s}=i;let a=null;return o.exists()&&(a=o.key),{type:e,payload:o,prevKey:s,key:a}}),Ge())}function z7(t){return null==t}function G7(t){return"function"==typeof t.set}function W7(t,e){return G7(e)?e:t.ref(e)}function q7(t,e){if(function Jwe(t){return"string"==typeof t}(t))return e.stringCase();if(G7(t))return e.firebaseCase();if(function e0e(t){return"function"==typeof t.exportVal}(t))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function K7(t){return(z7(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function Z7(t,e,n){return te(...(e=K7(e)).map(i=>nv(t,i,"on",n)))}function Y7(t,e){return function(r,i){return q7(r,{stringCase:()=>t.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function i0e(t){return function(n){return n?q7(n,{stringCase:()=>t.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):t.remove()}}function Q7(t,e){const n=t.length;for(let r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function a0e(t,e){const{payload:n,prevKey:r,key:i}=e,o=Q7(t,i),s=function s0e(t,e){if(z7(e))return 0;{const n=Q7(t,e);return-1===n?t.length:n+1}}(t,r);switch(e.type){case"value":if(e.payload?.exists()){let a=null;e.payload.forEach(c=>{const l={payload:c,type:"value",prevKey:a,key:c.key};return a=c.key,t=[...t,l],!1})}return t;case"child_added":if(o>-1)(t[o-1]?.key||null)!==r&&(t=t.filter(c=>c.payload.key!==n.key)).splice(s,0,e);else{if(null==r)return[e,...t];(t=t.slice()).splice(s,0,e)}return t;case"child_removed":return t.filter(a=>a.payload.key!==n.key);case"child_changed":return t.map(a=>a.payload.key===i?e:a);case"child_moved":if(o>-1){const a=t.splice(o,1)[0];return(t=t.slice()).splice(s,0,a),t}return t;default:return t}}function X7(t,e,n){return function o0e(t,e,n){return nv(t,"value","once",n).pipe(Je(r=>{const i=[q(r)];return e.forEach(o=>i.push(nv(t,o,"on",n))),te(...i).pipe(np(a0e,[]))}),on())}(t,e=K7(e),n)}function J7(t,e){return function(){return nv(t,"value","on",e)}}!function Xwe(t){t.INTERNAL.registerComponent(new Po.wA("database-compat",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new tv(i,r)},"PUBLIC").setServiceProps({Reference:To,Query:ni,Database:tv,DataSnapshot:zl,enableLogging:Aae,INTERNAL:Ywe,ServerValue:Qwe}).setMultipleInstances(!0)),t.registerVersion("@firebase/database-compat","1.0.1")}(ts.Z);const u0e=new fe("angularfire2.realtimeDatabaseURL"),d0e=new fe("angularfire2.database.use-emulator");let h0e=(()=>{var t;class e{constructor(r,i,o,s,a,c,l,h,f,_,v,E,I,b,L){Le(this,"schedulers",void 0),Le(this,"database",void 0),this.schedulers=c;const N=l,H=bm(r,a,i);h&&fk(H,a,f,v,E,I,_,b),this.database=X0(`${H.name}.database.${o}`,"AngularFireDatabase",H.name,()=>{const $=a.runOutsideAngular(()=>H.database(o||void 0));return N&&$.useEmulator(...N),$},[N])}list(r,i){const o=this.schedulers.ngZone.runOutsideAngular(()=>W7(this.database,r));let s=o;return i&&(s=i(o)),function c0e(t,e){const n=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:Y7(r,"update"),set:Y7(r,"set"),push:i=>r.push(i),remove:i0e(r),snapshotChanges:i=>X7(t,i,n).pipe(er),stateChanges:i=>Z7(t,i,n).pipe(er),auditTrail:i=>function t0e(t,e,n){return function r0e(t,e,n){return function n0e(t,e){return nv(t,"value","on",e).pipe(_e(n=>{let r;return n.payload.forEach(i=>(r=i.key,!1)),{data:n,lastKeyToLoad:r}}))}(t,n).pipe(function Bwe(...t){const e=ks(t);return Z((n,r)=>{const i=t.length,o=new Array(i);let s=t.map(()=>!1),a=!1;for(let c=0;c<i;c++)Fn(t[c]).subscribe(Ce(r,l=>{o[c]=l,!a&&!s[c]&&(s[c]=!0,(a=s.every(Nn))&&(s=null))},Ae));n.subscribe(Ce(r,c=>{if(a){const l=[c,...o];r.next(e?e(...l):l)}}))})}(e),_e(([i,o])=>{const s=i.lastKeyToLoad,a=o.map(c=>c.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),function jwe(t){return Z((e,n)=>{let r=!1,i=0;e.subscribe(Ce(n,o=>(r||(r=!t(o,i++)))&&n.next(o)))})}(i=>-1===i.loadedKeys.indexOf(i.lastKeyToLoad)),_e(i=>i.actions))}(t,Z7(t,e).pipe(np((i,o)=>[...i,o],[])),n)}(t,i,n).pipe(er),valueChanges:(i,o)=>X7(t,i,n).pipe(_e(a=>a.map(c=>o&&o.idField?{...c.payload.val(),[o.idField]:c.key}:c.payload.val())),er)}}(s,this)}object(r){return function l0e(t,e){return{query:t,snapshotChanges:()=>J7(t,e.schedulers.outsideAngular)().pipe(er),update:n=>t.ref.update(n),set:n=>t.ref.set(n),remove:()=>t.ref.remove(),valueChanges:()=>J7(t,e.schedulers.outsideAngular)().pipe(er,_e(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>W7(this.database,r)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t=e,Le(e,"\u0275fac",function(r){return new(r||t)(ie(Ap),ie(Dp,8),ie(u0e,8),ie(_o),ie(Tt),ie(bp),ie(d0e,8),ie(gk,8),ie(ck,8),ie(lk,8),ie(uk,8),ie(dk,8),ie(hk,8),ie(pk,8),ie(Im,8))}),Le(e,"\u0275prov",be({token:t,factory:t.\u0275fac,providedIn:"any"})),e})(),p0e=(()=>{var t;class e{constructor(){ts.Z.registerVersion("angularfire",ml.full,"rtdb-compat")}}return t=e,Le(e,"\u0275fac",function(r){return new(r||t)}),Le(e,"\u0275mod",Vn({type:t})),Le(e,"\u0275inj",Yn({providers:[h0e]})),e})();function _k(){return Z((t,e)=>{let n,r=!1;t.subscribe(Ce(e,i=>{const o=n;n=i,r&&e.next([o,i]),r=!0}))})}function mk(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new le("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function eG(){if(typeof Uint8Array>"u")throw new le("unimplemented","Uint8Arrays are not available in this environment.")}function tG(){if(!function tye(){return typeof atob<"u"}())throw new le("unimplemented","Blobs are unavailable in Firestore in this environment.")}class rv{constructor(e){this._delegate=e}static fromBase64String(e){return tG(),new rv(ga.fromBase64String(e))}static fromUint8Array(e){return eG(),new rv(ga.fromUint8Array(e))}toBase64(){return tG(),this._delegate.toBase64()}toUint8Array(){return eG(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function yk(t){return function _0e(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}(t,["next","error","complete"])}class m0e{enableIndexedDbPersistence(e,n){return function SCe(t,e){m7(t=vt(t,hn));const n=Wn(t);if(n._uninitializedComponentsProvider)throw new le(G.FAILED_PRECONDITION,"SDK cache is already specified.");oo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new Mf;return _7(n,i,new Ux(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function RCe(t){m7(t=vt(t,hn));const e=Wn(t);if(e._uninitializedComponentsProvider)throw new le(G.FAILED_PRECONDITION,"SDK cache is already specified.");oo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new Mf;return _7(e,r,new Q8(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function xCe(t){if(t._initialized&&!t._terminated)throw new le(G.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Mr;return t._queue.enqueueAndForgetEvenWhileRestricted((0,k.Z)(function*(){try{yield(n=(0,k.Z)(function*(i){if(!Ss.D())return Promise.resolve();const o=i+"main";yield Ss.delete(o)}),function r(i){return n.apply(this,arguments)})(SR(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class nG{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Al||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&oo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,r={}){h7(this._delegate,e,n,r)}enableNetwork(){return function NCe(t){return function _Ce(t){return t.asyncQueue.enqueue((0,k.Z)(function*(){const e=yield e7(t),n=yield t7(t);return e.setNetworkEnabled(!0),function(i){const o=ye(i);return o.C_.delete(0),zy(o)}(n)}))}(Wn(t=vt(t,hn)))}(this._delegate)}disableNetwork(){return function FCe(t){return function mCe(t){return t.asyncQueue.enqueue((0,k.Z)(function*(){const e=yield e7(t),n=yield t7(t);return e.setNetworkEnabled(!1),(r=(0,k.Z)(function*(o){const s=ye(o);s.C_.add(0),yield mf(s),s.M_.set("Offline")}),function i(o){return r.apply(this,arguments)})(n);var r}))}(Wn(t=vt(t,hn)))}(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,a7("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function kCe(t){return function(n){const r=new Mr;return n.asyncQueue.enqueueAndForget((0,k.Z)(function*(){return function Jve(t,e){return Ex.apply(this,arguments)}(yield Wx(n),r)})),r.promise}(Wn(t=vt(t,hn)))}(this._delegate)}onSnapshotsInSync(e){return function pwe(t,e){return function CCe(t,e){const n=new FE(e);return t.asyncQueue.enqueueAndForget((0,k.Z)(function*(){return i=yield If(t),o=n,ye(i).q_.add(o),void o.next();var i,o})),()=>{n.Na(),t.asyncQueue.enqueueAndForget((0,k.Z)(function*(){return i=yield If(t),o=n,void ye(i).q_.delete(o);var i,o}))}}(Wn(t=vt(t,hn)),Yx(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new le("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Af(this,p7(this._delegate,e))}catch(n){throw Gi(n,"collection()","Firestore.collection()")}}doc(e){try{return new is(this,BE(this._delegate,e))}catch(n){throw Gi(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Wi(this,function ICe(t,e){if(t=vt(t,qy),Kx("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new le(G.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ti(t,null,(r=e,new ic(Dt.emptyPath(),r)));var r}(this._delegate,e))}catch(n){throw Gi(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Mwe(t,e,n){t=vt(t,hn);const r=Object.assign(Object.assign({},Pwe),n);return function(o){if(o.maxAttempts<1)throw new le(G.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){const c=new Mr;return o.asyncQueue.enqueueAndForget((0,k.Z)(function*(){const l=yield function n7(t){return VE(t).then(e=>e.datastore)}(o);new fCe(o.asyncQueue,l,a,s,c).run()})),c.promise}(Wn(t),i=>e(new Ewe(t,i)),r)}(this._delegate,n=>e(new rG(this,n)))}batch(){return Wn(this._delegate),new iG(new N7(this._delegate,e=>Tf(this._delegate,e)))}loadBundle(e){return function LCe(t,e){const n=Wn(t=vt(t,hn)),r=new TCe;return function wCe(t,e,n,r){const i=function(s,a){let c;return c="string"==typeof s?Oz().encode(s):s,h=function(h,f){if(h instanceof Uint8Array)return X8(h,f);if(h instanceof ArrayBuffer)return X8(new Uint8Array(h),f);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),new hCe(h,a);var h}(n,Hy(e));t.asyncQueue.enqueueAndForget((0,k.Z)(function*(){!function uCe(t,e,n){const r=ye(t);var i;(i=(0,k.Z)(function*(s,a,c){try{const l=yield a.getMetadata();if(yield function(E,I){const b=ye(E),L=nr(I.createTime);return b.persistence.runTransaction("hasNewerBundle","readonly",N=>b.Kr.getBundleMetadata(N,I.id)).then(N=>!!N&&N.createTime.compareTo(L)>=0)}(s.localStore,l))return yield a.close(),c._completeWith({taskState:"Success",documentsLoaded:(E=l).totalDocuments,bytesLoaded:E.totalBytes,totalDocuments:E.totalDocuments,totalBytes:E.totalBytes}),Promise.resolve(new Set);c._updateProgress($8(l));const h=new Hve(l,s.localStore,a.serializer);let f=yield a.Ma();for(;f;){const v=yield h.ea(f);v&&c._updateProgress(v),f=yield a.Ma()}const _=yield h.complete();return yield cc(s,_.ra,void 0),yield function(E,I){const b=ye(E);return b.persistence.runTransaction("Save bundle","readwrite",L=>b.Kr.saveBundleMetadata(L,I))}(s.localStore,l),c._completeWith(_.progress),Promise.resolve(_.na)}catch(l){return oo("SyncEngine",`Loading bundle failed with ${l}`),c._failWith(l),Promise.resolve(new Set)}var E}),function o(s,a,c){return i.apply(this,arguments)})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield Wx(t),i,r)}))}(n,t._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function VCe(t,e){return function PCe(t,e){return t.asyncQueue.enqueue((0,k.Z)(function*(){return function(r,i){const o=ye(r);return o.persistence.runTransaction("Get named query","readonly",s=>o.Kr.getNamedQuery(s,i))}(yield Of(t),e)}))}(Wn(t=vt(t,hn)),e).then(n=>n?new ti(t,null,n.query):null)}(this._delegate,e).then(n=>n?new Wi(this,n):null)}}class XE extends rk{constructor(e){super(),this.firestore=e}convertBytes(e){return new rv(new ga(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return is.forKey(n,this.firestore,null)}}class rG{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new XE(e)}get(e){const n=Id(e);return this._delegate.get(n).then(r=>new iv(this._firestore,new uc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Id(e);return r?(mk("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=Id(e);return 2===arguments.length?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=Id(e);return this._delegate.delete(n),this}}class iG{constructor(e){this._delegate=e}set(e,n,r){const i=Id(e);return r?(mk("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=Id(e);return 2===arguments.length?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=Id(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Od{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new ev(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ov(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Od.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(n);return o||(o=new Od(e,new XE(e),n),i.set(n,o)),o}}Od.INSTANCES=new WeakMap;class is{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new XE(e)}static forPath(e,n,r){if(e.length%2!=0)throw new le("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new is(n,new Pn(n._delegate,r,new ve(e)))}static forKey(e,n,r){return new is(n,new Pn(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Af(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Af(this.firestore,p7(this._delegate,e))}catch(n){throw Gi(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,M.m9)(e))instanceof Pn&&f7(this._delegate,e)}set(e,n){n=mk("DocumentReference.set",n);try{return n?R7(this._delegate,e,n):R7(this._delegate,e)}catch(r){throw Gi(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return 1===arguments.length?x7(this._delegate,e):x7(this._delegate,e,n,...r)}catch(i){throw Gi(i,"updateDoc()","DocumentReference.update()")}}delete(){return function dwe(t){return Tf(vt(t.firestore,hn),[new cf(t._key,Dn.none())])}(this._delegate)}onSnapshot(...e){const n=oG(e),r=sG(e,i=>new iv(this.firestore,new uc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return k7(this._delegate,n,r)}get(e){let n;return n="cache"===e?.source?function swe(t){t=vt(t,Pn);const e=vt(t.firestore,hn),n=Wn(e),r=new $l(e);return function yCe(t,e){const n=new Mr;return t.asyncQueue.enqueueAndForget((0,k.Z)(function*(){return(r=(0,k.Z)(function*(o,s,a){try{const c=yield function(h,f){const _=ye(h);return _.persistence.runTransaction("read document","readonly",v=>_.localDocuments.getDocument(v,f))}(o,s);c.isFoundDocument()?a.resolve(c):c.isNoDocument()?a.resolve(null):a.reject(new le(G.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const l=Cf(c,`Failed to get document '${s} from cache`);a.reject(l)}}),function i(o,s,a){return r.apply(this,arguments)})(yield Of(t),e,n);var r})),n.promise}(n,t._key).then(i=>new uc(e,r,t._key,i,new Md(null!==i&&i.hasLocalMutations,!0),t.converter))}(this._delegate):"server"===e?.source?function awe(t){t=vt(t,Pn);const e=vt(t.firestore,hn);return r7(Wn(e),t._key,{source:"server"}).then(n=>ik(e,t,n))}(this._delegate):function owe(t){t=vt(t,Pn);const e=vt(t.firestore,hn);return r7(Wn(e),t._key).then(n=>ik(e,t,n))}(this._delegate),n.then(r=>new iv(this.firestore,new uc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new is(this.firestore,this._delegate.withConverter(e?Od.getInstance(this.firestore,e):null))}}function Gi(t,e,n){return t.message=t.message.replace(e,n),t}function oG(t){for(const e of t)if("object"==typeof e&&!yk(e))return e;return{}}function sG(t,e){var n,r;let i;return i=yk(t[0])?t[0]:yk(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:o=>{i.next&&i.next(e(o))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class iv{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new is(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return S7(this._delegate,e._delegate)}}class ov extends iv{data(e){const n=this._delegate.data(e);return function Pme(t,e){t||Te()}(void 0!==n),n}}class Wi{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new XE(e)}where(e,n,r){try{return new Wi(this.firestore,Bl(this._delegate,function KCe(t,e,n){const r=e,i=WE("where",t);return Jy._create(i,r,n)}(e,n,r)))}catch(i){throw Gi(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Wi(this.firestore,Bl(this._delegate,function ZCe(t,e="asc"){const n=e,r=WE("orderBy",t);return nk._create(r,n)}(e,n)))}catch(r){throw Gi(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Wi(this.firestore,Bl(this._delegate,function YCe(t){return u7("limit",t),qE._create("limit",t,"F")}(e)))}catch(n){throw Gi(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Wi(this.firestore,Bl(this._delegate,function QCe(t){return u7("limitToLast",t),qE._create("limitToLast",t,"L")}(e)))}catch(n){throw Gi(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Wi(this.firestore,Bl(this._delegate,function XCe(...t){return KE._create("startAt",t,!0)}(...e)))}catch(n){throw Gi(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Wi(this.firestore,Bl(this._delegate,function JCe(...t){return KE._create("startAfter",t,!1)}(...e)))}catch(n){throw Gi(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Wi(this.firestore,Bl(this._delegate,function ewe(...t){return ZE._create("endBefore",t,!1)}(...e)))}catch(n){throw Gi(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Wi(this.firestore,Bl(this._delegate,function twe(...t){return ZE._create("endAt",t,!0)}(...e)))}catch(n){throw Gi(n,"endAt()","Query.endAt()")}}isEqual(e){return Zx(this._delegate,e._delegate)}get(e){let n;return n="cache"===e?.source?function lwe(t){t=vt(t,ti);const e=vt(t.firestore,hn),n=Wn(e),r=new $l(e);return function vCe(t,e){const n=new Mr;return t.asyncQueue.enqueueAndForget((0,k.Z)(function*(){return(r=(0,k.Z)(function*(o,s,a){try{const c=yield AE(o,s,!0),l=new G8(s,c.ls),h=l.ca(c.documents),f=l.applyChanges(h,!1);a.resolve(f.snapshot)}catch(c){const l=Cf(c,`Failed to execute query '${s} against cache`);a.reject(l)}}),function i(o,s,a){return r.apply(this,arguments)})(yield Of(t),e,n);var r})),n.promise}(n,t._query).then(i=>new jl(e,r,t,i))}(this._delegate):"server"===e?.source?function uwe(t){t=vt(t,ti);const e=vt(t.firestore,hn),n=Wn(e),r=new $l(e);return i7(n,t._query,{source:"server"}).then(i=>new jl(e,r,t,i))}(this._delegate):function cwe(t){t=vt(t,ti);const e=vt(t.firestore,hn),n=Wn(e),r=new $l(e);return O7(t._query),i7(n,t._query).then(i=>new jl(e,r,t,i))}(this._delegate),n.then(r=>new vk(this.firestore,new jl(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=oG(e),r=sG(e,i=>new vk(this.firestore,new jl(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return k7(this._delegate,n,r)}withConverter(e){return new Wi(this.firestore,this._delegate.withConverter(e?Od.getInstance(this.firestore,e):null))}}class v0e{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new ov(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class vk{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Wi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ov(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new v0e(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new ov(this._firestore,r))})}isEqual(e){return S7(this._delegate,e._delegate)}}class Af extends Wi{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new is(this.firestore,e):null}doc(e){try{return new is(this.firestore,void 0===e?BE(this._delegate):BE(this._delegate,e))}catch(n){throw Gi(n,"doc()","CollectionReference.doc()")}}add(e){return function hwe(t,e){const n=vt(t.firestore,hn),r=BE(t),i=YE(t.converter,e);return Tf(n,[HE(Pd(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Dn.exists(!1))]).then(()=>r)}(this._delegate,e).then(n=>new is(this.firestore,n))}isEqual(e){return f7(this._delegate,e._delegate)}withConverter(e){return new Af(this.firestore,this._delegate.withConverter(e?Od.getInstance(this.firestore,e):null))}}function Id(t){return vt(t,Pn)}class Ck{constructor(...e){this._delegate=new lc(...e)}static documentId(){return new Ck(Cn.keyField().canonicalString())}isEqual(e){return(e=(0,M.m9)(e))instanceof lc&&this._delegate._internalPath.isEqual(e._internalPath)}}class bd{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Iwe(){return new Qx("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new bd(e)}static delete(){const e=function Owe(){return new Zy("deleteField")}();return e._methodName="FieldValue.delete",new bd(e)}static arrayUnion(...e){const n=function bwe(...t){return new HCe("arrayUnion",t)}(...e);return n._methodName="FieldValue.arrayUnion",new bd(n)}static arrayRemove(...e){const n=function Twe(...t){return new zCe("arrayRemove",t)}(...e);return n._methodName="FieldValue.arrayRemove",new bd(n)}static increment(e){const n=function Awe(t){return new GCe("increment",t)}(e);return n._methodName="FieldValue.increment",new bd(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const C0e={Firestore:nG,GeoPoint:jE,Timestamp:An,Blob:rv,Transaction:rG,WriteBatch:iG,DocumentReference:is,DocumentSnapshot:iv,Query:Wi,QueryDocumentSnapshot:ov,QuerySnapshot:vk,CollectionReference:Af,FieldPath:Ck,FieldValue:bd,setLogLevel:function y0e(t){!function wme(t){Ml.setLogLevel(t)}(t)},CACHE_SIZE_UNLIMITED:-1};function aG(t,e){return function E0e(t,e=Q0){return new st(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{r?.()}})}(t,e)}function wk(t,e){return aG(t,e).pipe(_e(n=>({payload:n,type:"query"})))}!function P0e(t){(function w0e(t,e){t.INTERNAL.registerComponent(new Po.wA("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},C0e)))})(t,(e,n)=>new nG(e,n,new m0e)),t.registerVersion("@firebase/firestore-compat","0.3.21")}(ts.Z);class cG{constructor(e,n){Le(this,"ref",void 0),Le(this,"afs",void 0),this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const r=this.ref.collection(e),{ref:i,query:o}=fG(r,n);return new dG(i,o,this.afs)}snapshotChanges(){return function M0e(t,e){return aG(t,e).pipe(kw(void 0),_k(),_e(n=>{const[r,i]=n;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(er)}valueChanges(e={}){return this.snapshotChanges().pipe(_e(({payload:n})=>e.idField?{...n.data(),[e.idField]:n.id}:n.data()))}get(e){return R(this.ref.get(e)).pipe(er)}}function JE(t,e){return wk(t,e).pipe(kw(void 0),_k(),_e(n=>{const[r,i]=n,o=i.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,c)=>{const l=o.find(f=>f.doc.ref.isEqual(a.ref)),h=r?.payload.docs.find(f=>f.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function lG(t,e,n){return JE(t,n).pipe(np((r,i)=>function O0e(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=function I0e(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Pk(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Pk(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Pk(t,e.oldIndex,1)}return t}(t,r))}),t}(r,i.map(o=>o.payload),e),[]),on(),_e(r=>r.map(i=>({type:i.type,payload:i}))))}function Pk(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function uG(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class dG{constructor(e,n,r){Le(this,"ref",void 0),Le(this,"query",void 0),Le(this,"afs",void 0),this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=JE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(_e(r=>r.filter(i=>e.indexOf(i.type)>-1)))),n.pipe(kw(void 0),_k(),Yo(([r,i])=>i.length>0||!r),_e(([,r])=>r),er)}auditTrail(e){return this.stateChanges(e).pipe(np((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=uG(e);return lG(this.query,n,this.afs.schedulers.outsideAngular).pipe(er)}valueChanges(e={}){return wk(this.query,this.afs.schedulers.outsideAngular).pipe(_e(n=>n.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),er)}get(e){return R(this.query.get(e)).pipe(er)}add(e){return this.ref.add(e)}doc(e){return new cG(this.ref.doc(e),this.afs)}}class b0e{constructor(e,n){Le(this,"query",void 0),Le(this,"afs",void 0),this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?JE(this.query,this.afs.schedulers.outsideAngular).pipe(_e(n=>n.filter(r=>e.indexOf(r.type)>-1)),Yo(n=>n.length>0),er):JE(this.query,this.afs.schedulers.outsideAngular).pipe(er)}auditTrail(e){return this.stateChanges(e).pipe(np((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=uG(e);return lG(this.query,n,this.afs.schedulers.outsideAngular).pipe(er)}valueChanges(e={}){return wk(this.query,this.afs.schedulers.outsideAngular).pipe(_e(r=>r.payload.docs.map(i=>e.idField?{[e.idField]:i.id,...i.data()}:i.data())),er)}get(e){return R(this.query.get(e)).pipe(er)}}const hG=new fe("angularfire2.enableFirestorePersistence"),pG=new fe("angularfire2.firestore.persistenceSettings"),T0e=new fe("angularfire2.firestore.settings"),A0e=new fe("angularfire2.firestore.use-emulator");function fG(t,e=(n=>n)){return{query:e(t),ref:t}}let D0e=(()=>{var t;class e{constructor(r,i,o,s,a,c,l,h,f,_,v,E,I,b,L,N,H){Le(this,"schedulers",void 0),Le(this,"firestore",void 0),Le(this,"persistenceEnabled$",void 0),this.schedulers=l;const $=bm(r,c,i),pe=f;_&&fk($,c,v,I,b,L,E,N),[this.firestore,this.persistenceEnabled$]=X0(`${$.name}.firestore`,"AngularFirestore",$.name,()=>{const Oe=c.runOutsideAngular(()=>$.firestore());if(s&&Oe.settings(s),pe&&Oe.useEmulator(...pe),o&&!Aw(a)){const at=()=>{try{return R(Oe.enablePersistence(h||void 0).then(()=>!0,()=>!1))}catch(Zt){return typeof console<"u"&&console.warn(Zt),q(!1)}};return[Oe,c.runOutsideAngular(at)]}return[Oe,q(!1)]},[s,pe,o])}collection(r,i){let o;o="string"==typeof r?this.firestore.collection(r):r;const{ref:s,query:a}=fG(o,i),c=this.schedulers.ngZone.run(()=>s);return new dG(c,a,this)}collectionGroup(r,i){const o=i||(a=>a),s=this.firestore.collectionGroup(r);return new b0e(o(s),this)}doc(r){let i;i="string"==typeof r?this.firestore.doc(r):r;const o=this.schedulers.ngZone.run(()=>i);return new cG(o,this)}createId(){return this.firestore.collection("_").doc().id}}return t=e,Le(e,"\u0275fac",function(r){return new(r||t)(ie(Ap),ie(Dp,8),ie(hG,8),ie(T0e,8),ie(_o),ie(Tt),ie(bp),ie(pG,8),ie(A0e,8),ie(gk,8),ie(ck,8),ie(lk,8),ie(uk,8),ie(dk,8),ie(hk,8),ie(pk,8),ie(Im,8))}),Le(e,"\u0275prov",be({token:t,factory:t.\u0275fac,providedIn:"any"})),e})(),S0e=(()=>{var t;class e{constructor(){ts.Z.registerVersion("angularfire",ml.full,"fst-compat")}static enablePersistence(r){return{ngModule:e,providers:[{provide:hG,useValue:!0},{provide:pG,useValue:r}]}}}return t=e,Le(e,"\u0275fac",function(r){return new(r||t)}),Le(e,"\u0275mod",Vn({type:t})),Le(e,"\u0275inj",Yn({providers:[D0e]})),e})(),R0e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Vn({type:t,bootstrap:[Yhe]}),t.\u0275inj=Yn({imports:[gte,Zhe,Rce,wpe,Rpe(()=>(0,We.initializeApp)(kr_firebaseConfig)),Fwe(()=>Lwe()),ole.initializeApp(kr_firebaseConfig),Zue,B7,p0e,S0e]}),e})();pte().bootstrapModule(R0e).catch(t=>console.error(t))},106:(os,pr,Ze)=>{Ze.d(pr,{Z:()=>fr});var O=Ze(58),Ue=Ze(537),Y=Ze(534),$e=Ze(879);class Pt{constructor(ze,nt){this._delegate=ze,this.firebase=nt,(0,Y._addComponent)(ze,new Ue.wA("app-compat",()=>this,"PUBLIC")),this.container=ze.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ze){this._delegate.automaticDataCollectionEnabled=ze}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ze=>{this._delegate.checkDestroyed(),ze()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Y.deleteApp)(this._delegate)))}_getService(ze,nt=Y._DEFAULT_ENTRY_NAME){var gr;this._delegate.checkDestroyed();const ir=this._delegate.container.getProvider(ze);return!ir.isInitialized()&&"EXPLICIT"===(null===(gr=ir.getComponent())||void 0===gr?void 0:gr.instantiationMode)&&ir.initialize(),ir.getImmediate({identifier:nt})}_removeServiceInstance(ze,nt=Y._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ze).clearInstance(nt)}_addComponent(ze){(0,Y._addComponent)(this._delegate,ze)}_addOrOverwriteComponent(ze){(0,Y._addOrOverwriteComponent)(this._delegate,ze)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const En=new O.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),se=function dt(){const Rt=function rr(Rt){const ze={},nt={__esModule:!0,initializeApp:function tn(rt,or={}){const oe=Y.initializeApp(rt,or);if((0,O.r3)(ze,oe.name))return ze[oe.name];const pn=new Rt(oe,nt);return ze[oe.name]=pn,pn},app:ir,registerVersion:Y.registerVersion,setLogLevel:Y.setLogLevel,onLog:Y.onLog,apps:null,SDK_VERSION:Y.SDK_VERSION,INTERNAL:{registerComponent:function zt(rt){const or=rt.name,oe=or.replace("-compat","");if(Y._registerComponent(rt)&&"PUBLIC"===rt.type){const pn=(nn=ir())=>{if("function"!=typeof nn[oe])throw En.create("invalid-app-argument",{appName:or});return nn[oe]()};void 0!==rt.serviceProps&&(0,O.ZB)(pn,rt.serviceProps),nt[oe]=pn,Rt.prototype[oe]=function(...nn){return this._getService.bind(this,or).apply(this,rt.multipleInstances?nn:[])}}return"PUBLIC"===rt.type?nt[oe]:null},removeApp:function gr(rt){delete ze[rt]},useAsService:function ri(rt,or){return"serverAuth"===or?null:or},modularAPIs:Y}};function ir(rt){if(!(0,O.r3)(ze,rt=rt||Y._DEFAULT_ENTRY_NAME))throw En.create("no-app",{appName:rt});return ze[rt]}return nt.default=nt,Object.defineProperty(nt,"apps",{get:function xt(){return Object.keys(ze).map(rt=>ze[rt])}}),ir.App=Rt,nt}(Pt);return Rt.INTERNAL=Object.assign(Object.assign({},Rt.INTERNAL),{createFirebaseNamespace:dt,extendNamespace:function ze(nt){(0,O.ZB)(Rt,nt)},createSubscribe:O.ne,ErrorFactory:O.LL,deepExtend:O.ZB}),Rt}(),he=new $e.Yd("@firebase/app-compat");if((0,O.jU)()&&void 0!==self.firebase){he.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Rt=self.firebase.SDK_VERSION;Rt&&Rt.indexOf("LITE")>=0&&he.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const fr=se;!function Ot(Rt){(0,Y.registerVersion)("@firebase/app-compat","0.2.22",Rt)}()},534:(os,pr,Ze)=>{Ze.r(pr),Ze.d(pr,{FirebaseError:()=>$e.ZR,SDK_VERSION:()=>cs,_DEFAULT_ENTRY_NAME:()=>lo,_addComponent:()=>xs,_addOrOverwriteComponent:()=>Ir,_apps:()=>$r,_clearComponents:()=>Kn,_components:()=>as,_getProvider:()=>rn,_registerComponent:()=>_a,_removeServiceInstance:()=>qi,deleteApp:()=>mr,getApp:()=>Ns,getApps:()=>fc,initializeApp:()=>ks,onLog:()=>gc,registerVersion:()=>Fs,setLogLevel:()=>Td});var O=Ze(861),Ue=Ze(537),Y=Ze(879),$e=Ze(58);const Pt=(j,F)=>F.some(ue=>j instanceof ue);let en,En;const se=new WeakMap,he=new WeakMap,Ae=new WeakMap,ct=new WeakMap,Ot=new WeakMap;let ze={get(j,F,ue){if(j instanceof IDBTransaction){if("done"===F)return he.get(j);if("objectStoreNames"===F)return j.objectStoreNames||Ae.get(j);if("store"===F)return ue.objectStoreNames[1]?void 0:ue.objectStore(ue.objectStoreNames[0])}return tn(j[F])},set:(j,F,ue)=>(j[F]=ue,!0),has:(j,F)=>j instanceof IDBTransaction&&("done"===F||"store"===F)||F in j};function ir(j){return"function"==typeof j?function gr(j){return j!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function dt(){return En||(En=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(j)?function(...F){return j.apply(xt(this),F),tn(se.get(this))}:function(...F){return tn(j.apply(xt(this),F))}:function(F,...ue){const ke=j.call(xt(this),F,...ue);return Ae.set(ke,F.sort?F.sort():[F]),tn(ke)}}(j):(j instanceof IDBTransaction&&function Rt(j){if(he.has(j))return;const F=new Promise((ue,ke)=>{const Ye=()=>{j.removeEventListener("complete",lt),j.removeEventListener("error",X),j.removeEventListener("abort",X)},lt=()=>{ue(),Ye()},X=()=>{ke(j.error||new DOMException("AbortError","AbortError")),Ye()};j.addEventListener("complete",lt),j.addEventListener("error",X),j.addEventListener("abort",X)});he.set(j,F)}(j),Pt(j,function rr(){return en||(en=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(j,ze):j)}function tn(j){if(j instanceof IDBRequest)return function fr(j){const F=new Promise((ue,ke)=>{const Ye=()=>{j.removeEventListener("success",lt),j.removeEventListener("error",X)},lt=()=>{ue(tn(j.result)),Ye()},X=()=>{ke(j.error),Ye()};j.addEventListener("success",lt),j.addEventListener("error",X)});return F.then(ue=>{ue instanceof IDBCursor&&se.set(ue,j)}).catch(()=>{}),Ot.set(F,j),F}(j);if(ct.has(j))return ct.get(j);const F=ir(j);return F!==j&&(ct.set(j,F),Ot.set(F,j)),F}const xt=j=>Ot.get(j),rt=["get","getKey","getAll","getAllKeys","count"],or=["put","add","delete","clear"],oe=new Map;function pn(j,F){if(!(j instanceof IDBDatabase)||F in j||"string"!=typeof F)return;if(oe.get(F))return oe.get(F);const ue=F.replace(/FromIndex$/,""),ke=F!==ue,Ye=or.includes(ue);if(!(ue in(ke?IDBIndex:IDBObjectStore).prototype)||!Ye&&!rt.includes(ue))return;const lt=function(){var X=(0,O.Z)(function*(Zn,...Se){const ht=this.transaction(Zn,Ye?"readwrite":"readonly");let Kl=ht.store;return ke&&(Kl=Kl.index(Se.shift())),(yield Promise.all([Kl[ue](...Se),Ye&&ht.done]))[0]});return function(Se){return X.apply(this,arguments)}}();return oe.set(F,lt),lt}!function nt(j){ze=j(ze)}(j=>({...j,get:(F,ue,ke)=>pn(F,ue)||j.get(F,ue,ke),has:(F,ue)=>!!pn(F,ue)||j.has(F,ue)}));class nn{constructor(F){this.container=F}getPlatformInfoString(){return this.container.getProviders().map(ue=>{if(function Nn(j){const F=j.getComponent();return"VERSION"===F?.type}(ue)){const ke=ue.getImmediate();return`${ke.library}/${ke.version}`}return null}).filter(ue=>ue).join(" ")}}const Ao="@firebase/app",st=new Y.Yd("@firebase/app"),lo="[DEFAULT]",Wl={[Ao]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},$r=new Map,as=new Map;function xs(j,F){try{j.container.addComponent(F)}catch(ue){st.debug(`Component ${F.name} failed to register with FirebaseApp ${j.name}`,ue)}}function Ir(j,F){j.container.addOrOverwriteComponent(F)}function _a(j){const F=j.name;if(as.has(F))return st.debug(`There were multiple attempts to register component ${F}.`),!1;as.set(F,j);for(const ue of $r.values())xs(ue,j);return!0}function rn(j,F){const ue=j.container.getProvider("heartbeat").getImmediate({optional:!0});return ue&&ue.triggerHeartbeat(),j.container.getProvider(F)}function qi(j,F,ue=lo){rn(j,F).clearInstance(ue)}function Kn(){as.clear()}const Oi=new $e.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ii{constructor(F,ue,ke){this._isDeleted=!1,this._options=Object.assign({},F),this._config=Object.assign({},ue),this._name=ue.name,this._automaticDataCollectionEnabled=ue.automaticDataCollectionEnabled,this._container=ke,this.container.addComponent(new Ue.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(F){this.checkDestroyed(),this._automaticDataCollectionEnabled=F}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(F){this._isDeleted=F}checkDestroyed(){if(this.isDeleted)throw Oi.create("app-deleted",{appName:this._name})}}const cs="10.5.2";function ks(j,F={}){let ue=j;"object"!=typeof F&&(F={name:F});const ke=Object.assign({name:lo,automaticDataCollectionEnabled:!1},F),Ye=ke.name;if("string"!=typeof Ye||!Ye)throw Oi.create("bad-app-name",{appName:String(Ye)});if(ue||(ue=(0,$e.aH)()),!ue)throw Oi.create("no-options");const lt=$r.get(Ye);if(lt){if((0,$e.vZ)(ue,lt.options)&&(0,$e.vZ)(ke,lt.config))return lt;throw Oi.create("duplicate-app",{appName:Ye})}const X=new Ue.H0(Ye);for(const Se of as.values())X.addComponent(Se);const Zn=new Ii(ue,ke,X);return $r.set(Ye,Zn),Zn}function Ns(j=lo){const F=$r.get(j);if(!F&&j===lo&&(0,$e.aH)())return ks();if(!F)throw Oi.create("no-app",{appName:j});return F}function fc(){return Array.from($r.values())}function mr(j){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,O.Z)(function*(j){const F=j.name;$r.has(F)&&($r.delete(F),yield Promise.all(j.container.getProviders().map(ue=>ue.delete())),j.isDeleted=!0)})).apply(this,arguments)}function Fs(j,F,ue){var ke;let Ye=null!==(ke=Wl[j])&&void 0!==ke?ke:j;ue&&(Ye+=`-${ue}`);const lt=Ye.match(/\s|\//),X=F.match(/\s|\//);if(lt||X){const Zn=[`Unable to register library "${Ye}" with version "${F}":`];return lt&&Zn.push(`library name "${Ye}" contains illegal characters (whitespace or "/")`),lt&&X&&Zn.push("and"),X&&Zn.push(`version name "${F}" contains illegal characters (whitespace or "/")`),void st.warn(Zn.join(" "))}_a(new Ue.wA(`${Ye}-version`,()=>({library:Ye,version:F}),"VERSION"))}function gc(j,F){if(null!==j&&"function"!=typeof j)throw Oi.create("invalid-log-argument");(0,Y.Am)(j,F)}function Td(j){(0,Y.Ub)(j)}const ql="firebase-heartbeat-database",_c=1,x="firebase-heartbeat-store";let T=null;function R(){return T||(T=function zt(j,F,{blocked:ue,upgrade:ke,blocking:Ye,terminated:lt}={}){const X=indexedDB.open(j,F),Zn=tn(X);return ke&&X.addEventListener("upgradeneeded",Se=>{ke(tn(X.result),Se.oldVersion,Se.newVersion,tn(X.transaction),Se)}),ue&&X.addEventListener("blocked",Se=>ue(Se.oldVersion,Se.newVersion,Se)),Zn.then(Se=>{lt&&Se.addEventListener("close",()=>lt()),Ye&&Se.addEventListener("versionchange",ht=>Ye(ht.oldVersion,ht.newVersion,ht))}).catch(()=>{}),Zn}(ql,_c,{upgrade:(j,F)=>{0===F&&j.createObjectStore(x)}}).catch(j=>{throw Oi.create("idb-open",{originalErrorMessage:j.message})})),T}function U(){return(U=(0,O.Z)(function*(j){try{return yield(yield R()).transaction(x).objectStore(x).get(Mt(j))}catch(F){if(F instanceof $e.ZR)st.warn(F.message);else{const ue=Oi.create("idb-get",{originalErrorMessage:F?.message});st.warn(ue.message)}}})).apply(this,arguments)}function q(j,F){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,O.Z)(function*(j,F){try{const ke=(yield R()).transaction(x,"readwrite");yield ke.objectStore(x).put(F,Mt(j)),yield ke.done}catch(ue){if(ue instanceof $e.ZR)st.warn(ue.message);else{const ke=Oi.create("idb-set",{originalErrorMessage:ue?.message});st.warn(ke.message)}}})).apply(this,arguments)}function Mt(j){return`${j.name}!${j.options.appId}`}class bi{constructor(F){this.container=F,this._heartbeatsCache=null;const ue=this.container.getProvider("app").getImmediate();this._storage=new Ut(ue),this._heartbeatsCachePromise=this._storage.read().then(ke=>(this._heartbeatsCache=ke,ke))}triggerHeartbeat(){var F=this;return(0,O.Z)(function*(){const ke=F.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ye=xe();if(null===F._heartbeatsCache&&(F._heartbeatsCache=yield F._heartbeatsCachePromise),F._heartbeatsCache.lastSentHeartbeatDate!==Ye&&!F._heartbeatsCache.heartbeats.some(lt=>lt.date===Ye))return F._heartbeatsCache.heartbeats.push({date:Ye,agent:ke}),F._heartbeatsCache.heartbeats=F._heartbeatsCache.heartbeats.filter(lt=>{const X=new Date(lt.date).valueOf();return Date.now()-X<=2592e6}),F._storage.overwrite(F._heartbeatsCache)})()}getHeartbeatsHeader(){var F=this;return(0,O.Z)(function*(){if(null===F._heartbeatsCache&&(yield F._heartbeatsCachePromise),null===F._heartbeatsCache||0===F._heartbeatsCache.heartbeats.length)return"";const ue=xe(),{heartbeatsToSend:ke,unsentEntries:Ye}=function sr(j,F=1024){const ue=[];let ke=j.slice();for(const Ye of j){const lt=ue.find(X=>X.agent===Ye.agent);if(lt){if(lt.dates.push(Ye.date),ls(ue)>F){lt.dates.pop();break}}else if(ue.push({agent:Ye.agent,dates:[Ye.date]}),ls(ue)>F){ue.pop();break}ke=ke.slice(1)}return{heartbeatsToSend:ue,unsentEntries:ke}}(F._heartbeatsCache.heartbeats),lt=(0,$e.L)(JSON.stringify({version:2,heartbeats:ke}));return F._heartbeatsCache.lastSentHeartbeatDate=ue,Ye.length>0?(F._heartbeatsCache.heartbeats=Ye,yield F._storage.overwrite(F._heartbeatsCache)):(F._heartbeatsCache.heartbeats=[],F._storage.overwrite(F._heartbeatsCache)),lt})()}}function xe(){return(new Date).toISOString().substring(0,10)}class Ut{constructor(F){this.app=F,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,O.Z)(function*(){return!!(0,$e.hl)()&&(0,$e.eu)().then(()=>!0).catch(()=>!1)})()}read(){var F=this;return(0,O.Z)(function*(){return(yield F._canUseIndexedDBPromise)&&(yield function te(j){return U.apply(this,arguments)}(F.app))||{heartbeats:[]}})()}overwrite(F){var ue=this;return(0,O.Z)(function*(){var ke;if(yield ue._canUseIndexedDBPromise){const lt=yield ue.read();return q(ue.app,{lastSentHeartbeatDate:null!==(ke=F.lastSentHeartbeatDate)&&void 0!==ke?ke:lt.lastSentHeartbeatDate,heartbeats:F.heartbeats})}})()}add(F){var ue=this;return(0,O.Z)(function*(){var ke;if(yield ue._canUseIndexedDBPromise){const lt=yield ue.read();return q(ue.app,{lastSentHeartbeatDate:null!==(ke=F.lastSentHeartbeatDate)&&void 0!==ke?ke:lt.lastSentHeartbeatDate,heartbeats:[...lt.heartbeats,...F.heartbeats]})}})()}}function ls(j){return(0,$e.L)(JSON.stringify({version:2,heartbeats:j})).length}!function ma(j){_a(new Ue.wA("platform-logger",F=>new nn(F),"PRIVATE")),_a(new Ue.wA("heartbeat",F=>new bi(F),"PRIVATE")),Fs(Ao,"0.9.22",j),Fs(Ao,"0.9.22","esm2017"),Fs("fire-js","")}("")},537:(os,pr,Ze)=>{Ze.d(pr,{H0:()=>rr,wA:()=>Y,zt:()=>Pt});var O=Ze(861),Ue=Ze(58);class Y{constructor(se,he,Ae){this.name=se,this.instanceFactory=he,this.type=Ae,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(se){return this.instantiationMode=se,this}setMultipleInstances(se){return this.multipleInstances=se,this}setServiceProps(se){return this.serviceProps=se,this}setInstanceCreatedCallback(se){return this.onInstanceCreated=se,this}}const $e="[DEFAULT]";class Pt{constructor(se,he){this.name=se,this.container=he,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(se){const he=this.normalizeInstanceIdentifier(se);if(!this.instancesDeferred.has(he)){const Ae=new Ue.BH;if(this.instancesDeferred.set(he,Ae),this.isInitialized(he)||this.shouldAutoInitialize())try{const ct=this.getOrInitializeService({instanceIdentifier:he});ct&&Ae.resolve(ct)}catch{}}return this.instancesDeferred.get(he).promise}getImmediate(se){var he;const Ae=this.normalizeInstanceIdentifier(se?.identifier),ct=null!==(he=se?.optional)&&void 0!==he&&he;if(!this.isInitialized(Ae)&&!this.shouldAutoInitialize()){if(ct)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ae})}catch(Ot){if(ct)return null;throw Ot}}getComponent(){return this.component}setComponent(se){if(se.name!==this.name)throw Error(`Mismatching Component ${se.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=se,this.shouldAutoInitialize()){if(function En(dt){return"EAGER"===dt.instantiationMode}(se))try{this.getOrInitializeService({instanceIdentifier:$e})}catch{}for(const[he,Ae]of this.instancesDeferred.entries()){const ct=this.normalizeInstanceIdentifier(he);try{const Ot=this.getOrInitializeService({instanceIdentifier:ct});Ae.resolve(Ot)}catch{}}}}clearInstance(se=$e){this.instancesDeferred.delete(se),this.instancesOptions.delete(se),this.instances.delete(se)}delete(){var se=this;return(0,O.Z)(function*(){const he=Array.from(se.instances.values());yield Promise.all([...he.filter(Ae=>"INTERNAL"in Ae).map(Ae=>Ae.INTERNAL.delete()),...he.filter(Ae=>"_delete"in Ae).map(Ae=>Ae._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(se=$e){return this.instances.has(se)}getOptions(se=$e){return this.instancesOptions.get(se)||{}}initialize(se={}){const{options:he={}}=se,Ae=this.normalizeInstanceIdentifier(se.instanceIdentifier);if(this.isInitialized(Ae))throw Error(`${this.name}(${Ae}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ct=this.getOrInitializeService({instanceIdentifier:Ae,options:he});for(const[Ot,fr]of this.instancesDeferred.entries())Ae===this.normalizeInstanceIdentifier(Ot)&&fr.resolve(ct);return ct}onInit(se,he){var Ae;const ct=this.normalizeInstanceIdentifier(he),Ot=null!==(Ae=this.onInitCallbacks.get(ct))&&void 0!==Ae?Ae:new Set;Ot.add(se),this.onInitCallbacks.set(ct,Ot);const fr=this.instances.get(ct);return fr&&se(fr,ct),()=>{Ot.delete(se)}}invokeOnInitCallbacks(se,he){const Ae=this.onInitCallbacks.get(he);if(Ae)for(const ct of Ae)try{ct(se,he)}catch{}}getOrInitializeService({instanceIdentifier:se,options:he={}}){let Ae=this.instances.get(se);if(!Ae&&this.component&&(Ae=this.component.instanceFactory(this.container,{instanceIdentifier:(dt=se,dt===$e?void 0:dt),options:he}),this.instances.set(se,Ae),this.instancesOptions.set(se,he),this.invokeOnInitCallbacks(Ae,se),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,se,Ae)}catch{}var dt;return Ae||null}normalizeInstanceIdentifier(se=$e){return this.component?this.component.multipleInstances?se:$e:se}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class rr{constructor(se){this.name=se,this.providers=new Map}addComponent(se){const he=this.getProvider(se.name);if(he.isComponentSet())throw new Error(`Component ${se.name} has already been registered with ${this.name}`);he.setComponent(se)}addOrOverwriteComponent(se){this.getProvider(se.name).isComponentSet()&&this.providers.delete(se.name),this.addComponent(se)}getProvider(se){if(this.providers.has(se))return this.providers.get(se);const he=new Pt(se,this);return this.providers.set(se,he),he}getProviders(){return Array.from(this.providers.values())}}},879:(os,pr,Ze)=>{Ze.d(pr,{Am:()=>dt,Ub:()=>rr,Yd:()=>En,in:()=>Ue});const O=[];var Ue=function(se){return se[se.DEBUG=0]="DEBUG",se[se.VERBOSE=1]="VERBOSE",se[se.INFO=2]="INFO",se[se.WARN=3]="WARN",se[se.ERROR=4]="ERROR",se[se.SILENT=5]="SILENT",se}(Ue||{});const Y={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},$e=Ue.INFO,Pt={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},en=(se,he,...Ae)=>{if(he<se.logLevel)return;const ct=(new Date).toISOString(),Ot=Pt[he];if(!Ot)throw new Error(`Attempted to log a message with an invalid logType (value: ${he})`);console[Ot](`[${ct}]  ${se.name}:`,...Ae)};class En{constructor(he){this.name=he,this._logLevel=$e,this._logHandler=en,this._userLogHandler=null,O.push(this)}get logLevel(){return this._logLevel}set logLevel(he){if(!(he in Ue))throw new TypeError(`Invalid value "${he}" assigned to \`logLevel\``);this._logLevel=he}setLogLevel(he){this._logLevel="string"==typeof he?Y[he]:he}get logHandler(){return this._logHandler}set logHandler(he){if("function"!=typeof he)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=he}get userLogHandler(){return this._userLogHandler}set userLogHandler(he){this._userLogHandler=he}debug(...he){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...he),this._logHandler(this,Ue.DEBUG,...he)}log(...he){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...he),this._logHandler(this,Ue.VERBOSE,...he)}info(...he){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...he),this._logHandler(this,Ue.INFO,...he)}warn(...he){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...he),this._logHandler(this,Ue.WARN,...he)}error(...he){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...he),this._logHandler(this,Ue.ERROR,...he)}}function rr(se){O.forEach(he=>{he.setLogLevel(se)})}function dt(se,he){for(const Ae of O){let ct=null;he&&he.level&&(ct=Y[he.level]),Ae.userLogHandler=null===se?null:(Ot,fr,...Rt)=>{const ze=Rt.map(nt=>{if(null==nt)return null;if("string"==typeof nt)return nt;if("number"==typeof nt||"boolean"==typeof nt)return nt.toString();if(nt instanceof Error)return nt.message;try{return JSON.stringify(nt)}catch{return null}}).filter(nt=>nt).join(" ");fr>=(ct??Ot.logLevel)&&se({level:Ue[fr].toLowerCase(),message:ze,args:Rt,type:Ot.name})}}}},643:(os,pr,Ze)=>{Ze.r(pr);var O=Ze(861),Ue=Ze(106),Y=Ze(58),$e=Ze(534),Pt=Ze(879),en=Ze(582),En=Ze(537);const dt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const fr=function ct(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Rt=function Ot(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ze=new Y.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),gr=new Pt.Yd("@firebase/auth");function tn(p,...u){gr.logLevel<=Pt.in.ERROR&&gr.error(`Auth (${$e.SDK_VERSION}): ${p}`,...u)}function xt(p,...u){throw or(p,...u)}function zt(p,...u){return or(p,...u)}function ri(p,u,d){const g=Object.assign(Object.assign({},Rt()),{[u]:d});return new Y.LL("auth","Firebase",g).create(u,{appName:p.name})}function rt(p,u,d){if(!(u instanceof d))throw d.name!==u.constructor.name&&xt(p,"argument-error"),ri(p,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function or(p,...u){if("string"!=typeof p){const d=u[0],g=[...u.slice(1)];return g[0]&&(g[0].appName=p.name),p._errorFactory.create(d,...g)}return ze.create(p,...u)}function oe(p,u,...d){if(!p)throw or(u,...d)}function pn(p){const u="INTERNAL ASSERTION FAILED: "+p;throw tn(u),new Error(u)}function nn(p,u){p||pn(u)}function Nn(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.href)||""}function Ao(){return"http:"===Do()||"https:"===Do()}function Do(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.protocol)||null}class So{constructor(u,d){this.shortDelay=u,this.longDelay=d,nn(d>u,"Short delay should be less than long delay!"),this.isMobile=(0,Y.uI)()||(0,Y.b$)()}get(){return function st(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ao()||(0,Y.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function z(p,u){nn(p.emulator,"Emulator should always be set here");const{url:d}=p.emulator;return u?`${d}${u.startsWith("/")?u.slice(1):u}`:d}class W{static initialize(u,d,g){this.fetchImpl=u,d&&(this.headersImpl=d),g&&(this.responseImpl=g)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void pn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void pn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void pn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Q={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ne=new So(3e4,6e4);function ce(p,u){return p.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:p.tenantId}):u}function Z(p,u,d,g){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,O.Z)(function*(p,u,d,g,C={}){return yt(p,C,(0,O.Z)(function*(){let P={},A={};g&&("GET"===u?A=g:P={body:JSON.stringify(g)});const V=(0,Y.xO)(Object.assign({key:p.config.apiKey},A)).slice(1),re=yield p._getAdditionalHeaders();return re["Content-Type"]="application/json",p.languageCode&&(re["X-Firebase-Locale"]=p.languageCode),W.fetch()(fn(p,p.config.apiHost,d,V),Object.assign({method:u,headers:re,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function yt(p,u,d){return _e.apply(this,arguments)}function _e(){return(_e=(0,O.Z)(function*(p,u,d){p._canInitEmulator=!1;const g=Object.assign(Object.assign({},Q),u);try{const C=new _r(p),P=yield Promise.race([d(),C.promise]);C.clearNetworkTimeout();const A=yield P.json();if("needConfirmation"in A)throw qn(p,"account-exists-with-different-credential",A);if(P.ok&&!("errorMessage"in A))return A;{const V=P.ok?A.errorMessage:A.error.message,[re,me]=V.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===re)throw qn(p,"credential-already-in-use",A);if("EMAIL_EXISTS"===re)throw qn(p,"email-already-in-use",A);if("USER_DISABLED"===re)throw qn(p,"user-disabled",A);const Me=g[re]||re.toLowerCase().replace(/[_\s]+/g,"-");if(me)throw ri(p,Me,me);xt(p,Me)}}catch(C){if(C instanceof Y.ZR)throw C;xt(p,"network-request-failed",{message:String(C)})}})).apply(this,arguments)}function Re(p,u,d,g){return Et.apply(this,arguments)}function Et(){return(Et=(0,O.Z)(function*(p,u,d,g,C={}){const P=yield Z(p,u,d,g,C);return"mfaPendingCredential"in P&&xt(p,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function fn(p,u,d,g){const C=`${u}${d}?${g}`;return p.config.emulator?z(p.config,C):`${p.config.apiScheme}://${C}`}function Yt(p){switch(p){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _r{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((d,g)=>{this.timer=setTimeout(()=>g(zt(this.auth,"network-request-failed")),ne.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qn(p,u,d){const g={appName:p.name};d.email&&(g.email=d.email),d.phoneNumber&&(g.phoneNumber=d.phoneNumber);const C=zt(p,u,g);return C.customData._tokenResponse=d,C}function Br(p){return void 0!==p&&void 0!==p.getResponse}function jr(p){return void 0!==p&&void 0!==p.enterprise}class Mi{constructor(u){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===u.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=u.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=u.recaptchaEnforcementState}getProviderEnforcementState(u){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const d of this.recaptchaEnforcementState)if(d.provider&&d.provider===u)return Yt(d.enforcementState);return null}isProviderEnabled(u){return"ENFORCE"===this.getProviderEnforcementState(u)||"AUDIT"===this.getProviderEnforcementState(u)}}function ss(){return(ss=(0,O.Z)(function*(p){return(yield Z(p,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Fn(p,u){return hc.apply(this,arguments)}function hc(){return(hc=(0,O.Z)(function*(p,u){return Z(p,"GET","/v2/recaptchaConfig",ce(p,u))})).apply(this,arguments)}function lo(){return(lo=(0,O.Z)(function*(p,u){return Z(p,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function $r(){return($r=(0,O.Z)(function*(p,u){return Z(p,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function xs(){return(xs=(0,O.Z)(function*(p,u){return Z(p,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function Ir(p){if(p)try{const u=new Date(Number(p));if(!isNaN(u.getTime()))return u.toUTCString()}catch{}}function qi(){return(qi=(0,O.Z)(function*(p,u=!1){const d=(0,Y.m9)(p),g=yield d.getIdToken(u),C=pc(g);oe(C&&C.exp&&C.auth_time&&C.iat,d.auth,"internal-error");const P="object"==typeof C.firebase?C.firebase:void 0,A=P?.sign_in_provider;return{claims:C,token:g,authTime:Ir(Kn(C.auth_time)),issuedAtTime:Ir(Kn(C.iat)),expirationTime:Ir(Kn(C.exp)),signInProvider:A||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function Kn(p){return 1e3*Number(p)}function pc(p){const[u,d,g]=p.split(".");if(void 0===u||void 0===d||void 0===g)return tn("JWT malformed, contained fewer than 3 sections"),null;try{const C=(0,Y.tV)(d);return C?JSON.parse(C):(tn("Failed to decode base64 JWT payload"),null)}catch(C){return tn("Caught error parsing JWT payload as JSON",C?.toString()),null}}function Ii(p,u){return cs.apply(this,arguments)}function cs(){return(cs=(0,O.Z)(function*(p,u,d=!1){if(d)return u;try{return yield u}catch(g){throw g instanceof Y.ZR&&function ks({code:p}){return"auth/user-disabled"===p||"auth/user-token-expired"===p}(g)&&p.auth.currentUser===p&&(yield p.auth.signOut()),g}})).apply(this,arguments)}class Ns{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var d;if(u){const g=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),g}{this.errorBackoff=3e4;const C=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,C)}}schedule(u=!1){var d=this;if(!this.isRunning)return;const g=this.getInterval(u);this.timerId=setTimeout((0,O.Z)(function*(){yield d.iteration()}),g)}iteration(){var u=this;return(0,O.Z)(function*(){try{yield u.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&u.schedule(!0))}u.schedule()})()}}class fc{constructor(u,d){this.createdAt=u,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ir(this.lastLoginAt),this.creationTime=Ir(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function mr(p){return Hr.apply(this,arguments)}function Hr(){return Hr=(0,O.Z)(function*(p){var u;const d=p.auth,g=yield p.getIdToken(),C=yield Ii(p,function as(p,u){return xs.apply(this,arguments)}(d,{idToken:g}));oe(C?.users.length,d,"internal-error");const P=C.users[0];p._notifyReloadListener(P);const A=null!==(u=P.providerUserInfo)&&void 0!==u&&u.length?function ql(p){return p.map(u=>{var{providerId:d}=u,g=(0,en._T)(u,["providerId"]);return{providerId:d,uid:g.rawId||"",displayName:g.displayName||null,email:g.email||null,phoneNumber:g.phoneNumber||null,photoURL:g.photoUrl||null}})}(P.providerUserInfo):[],V=function Td(p,u){return[...p.filter(g=>!u.some(C=>C.providerId===g.providerId)),...u]}(p.providerData,A),Me=!!p.isAnonymous&&!(p.email&&P.passwordHash||V?.length),Ie={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:V,metadata:new fc(P.createdAt,P.lastLoginAt),isAnonymous:Me};Object.assign(p,Ie)}),Hr.apply(this,arguments)}function gc(){return(gc=(0,O.Z)(function*(p){const u=(0,Y.m9)(p);yield mr(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function x(){return(x=(0,O.Z)(function*(p,u){const d=yield yt(p,{},(0,O.Z)(function*(){const g=(0,Y.xO)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:C,apiKey:P}=p.config,A=fn(p,C,"/v1/token",`key=${P}`),V=yield p._getAdditionalHeaders();return V["Content-Type"]="application/x-www-form-urlencoded",W.fetch()(A,{method:"POST",headers:V,body:g})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}class T{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){oe(u.idToken,"internal-error"),oe(typeof u.idToken<"u","internal-error"),oe(typeof u.refreshToken<"u","internal-error");const d="expiresIn"in u&&typeof u.expiresIn<"u"?Number(u.expiresIn):function Oi(p){const u=pc(p);return oe(u,"internal-error"),oe(typeof u.exp<"u","internal-error"),oe(typeof u.iat<"u","internal-error"),Number(u.exp)-Number(u.iat)}(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,d)}getToken(u,d=!1){var g=this;return(0,O.Z)(function*(){return oe(!g.accessToken||g.refreshToken,u,"user-token-expired"),d||!g.accessToken||g.isExpired?g.refreshToken?(yield g.refresh(u,g.refreshToken),g.accessToken):null:g.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,d){var g=this;return(0,O.Z)(function*(){const{accessToken:C,refreshToken:P,expiresIn:A}=yield function _c(p,u){return x.apply(this,arguments)}(u,d);g.updateTokensAndExpiration(C,P,Number(A))})()}updateTokensAndExpiration(u,d,g){this.refreshToken=d||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*g}static fromJSON(u,d){const{refreshToken:g,accessToken:C,expirationTime:P}=d,A=new T;return g&&(oe("string"==typeof g,"internal-error",{appName:u}),A.refreshToken=g),C&&(oe("string"==typeof C,"internal-error",{appName:u}),A.accessToken=C),P&&(oe("number"==typeof P,"internal-error",{appName:u}),A.expirationTime=P),A}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new T,this.toJSON())}_performRefresh(){return pn("not implemented")}}function R(p,u){oe("string"==typeof p||typeof p>"u","internal-error",{appName:u})}class te{constructor(u){var{uid:d,auth:g,stsTokenManager:C}=u,P=(0,en._T)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ns(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=g,this.stsTokenManager=C,this.accessToken=C.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new fc(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(u){var d=this;return(0,O.Z)(function*(){const g=yield Ii(d,d.stsTokenManager.getToken(d.auth,u));return oe(g,d.auth,"internal-error"),d.accessToken!==g&&(d.accessToken=g,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),g})()}getIdTokenResult(u){return function rn(p){return qi.apply(this,arguments)}(this,u)}reload(){return function Fs(p){return gc.apply(this,arguments)}(this)}_assign(u){this!==u&&(oe(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(d=>Object.assign({},d)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){const d=new te(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(u){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,d=!1){var g=this;return(0,O.Z)(function*(){let C=!1;u.idToken&&u.idToken!==g.stsTokenManager.accessToken&&(g.stsTokenManager.updateFromServerResponse(u),C=!0),d&&(yield mr(g)),yield g.auth._persistUserIfCurrent(g),C&&g.auth._notifyListenersIfCurrent(g)})()}delete(){var u=this;return(0,O.Z)(function*(){const d=yield u.getIdToken();return yield Ii(u,function Gl(p,u){return lo.apply(this,arguments)}(u.auth,{idToken:d})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,d){var g,C,P,A,V,re,me,Me;const Ie=null!==(g=d.displayName)&&void 0!==g?g:void 0,yn=null!==(C=d.email)&&void 0!==C?C:void 0,Ho=null!==(P=d.phoneNumber)&&void 0!==P?P:void 0,wu=null!==(A=d.photoURL)&&void 0!==A?A:void 0,fC=null!==(V=d.tenantId)&&void 0!==V?V:void 0,gC=null!==(re=d._redirectEventId)&&void 0!==re?re:void 0,_C=null!==(me=d.createdAt)&&void 0!==me?me:void 0,mC=null!==(Me=d.lastLoginAt)&&void 0!==Me?Me:void 0,{uid:jg,emailVerified:Pu,isAnonymous:$g,providerData:Hg,stsTokenManager:zg}=d;oe(jg&&zg,u,"internal-error");const eN=T.fromJSON(this.name,zg);oe("string"==typeof jg,u,"internal-error"),R(Ie,u.name),R(yn,u.name),oe("boolean"==typeof Pu,u,"internal-error"),oe("boolean"==typeof $g,u,"internal-error"),R(Ho,u.name),R(wu,u.name),R(fC,u.name),R(gC,u.name),R(_C,u.name),R(mC,u.name);const wh=new te({uid:jg,auth:u,email:yn,emailVerified:Pu,displayName:Ie,isAnonymous:$g,photoURL:wu,phoneNumber:Ho,tenantId:fC,stsTokenManager:eN,createdAt:_C,lastLoginAt:mC});return Hg&&Array.isArray(Hg)&&(wh.providerData=Hg.map(tN=>Object.assign({},tN))),gC&&(wh._redirectEventId=gC),wh}static _fromIdTokenResponse(u,d,g=!1){return(0,O.Z)(function*(){const C=new T;C.updateFromServerResponse(d);const P=new te({uid:d.localId,auth:u,stsTokenManager:C,isAnonymous:g});return yield mr(P),P})()}}const U=new Map;function q(p){nn(p instanceof Function,"Expected a class definition");let u=U.get(p);return u?(nn(u instanceof p,"Instance stored in cache mismatched with class"),u):(u=new p,U.set(p,u),u)}const Mt=(()=>{class p{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,O.Z)(function*(){return!0})()}_set(d,g){var C=this;return(0,O.Z)(function*(){C.storage[d]=g})()}_get(d){var g=this;return(0,O.Z)(function*(){const C=g.storage[d];return void 0===C?null:C})()}_remove(d){var g=this;return(0,O.Z)(function*(){delete g.storage[d]})()}_addListener(d,g){}_removeListener(d,g){}}return p.type="NONE",p})();function Je(p,u,d){return`firebase:${p}:${u}:${d}`}class on{constructor(u,d,g){this.persistence=u,this.auth=d,this.userKey=g;const{config:C,name:P}=this.auth;this.fullUserKey=Je(this.userKey,C.apiKey,P),this.fullPersistenceKey=Je("persistence",C.apiKey,P),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,O.Z)(function*(){const d=yield u.persistence._get(u.fullUserKey);return d?te._fromJSON(u.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var d=this;return(0,O.Z)(function*(){if(d.persistence===u)return;const g=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=u,g?d.setCurrentUser(g):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,d,g="authUser"){return(0,O.Z)(function*(){if(!d.length)return new on(q(Mt),u,g);const C=(yield Promise.all(d.map(function(){var me=(0,O.Z)(function*(Me){if(yield Me._isAvailable())return Me});return function(Me){return me.apply(this,arguments)}}()))).filter(me=>me);let P=C[0]||q(Mt);const A=Je(g,u.config.apiKey,u.name);let V=null;for(const me of d)try{const Me=yield me._get(A);if(Me){const Ie=te._fromJSON(u,Me);me!==P&&(V=Ie),P=me;break}}catch{}const re=C.filter(me=>me._shouldAllowMigration);return P._shouldAllowMigration&&re.length?(P=re[0],V&&(yield P._set(A,V.toJSON())),yield Promise.all(d.map(function(){var me=(0,O.Z)(function*(Me){if(Me!==P)try{yield Me._remove(A)}catch{}});return function(Me){return me.apply(this,arguments)}}())),new on(P,u,g)):new on(P,u,g)})()}}function bi(p){const u=p.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(ls(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if(xe(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(j(u))return"Blackberry";if(F(u))return"Webos";if(sr(u))return"Safari";if((u.includes("chrome/")||Ut(u))&&!u.includes("edge/"))return"Chrome";if(ma(u))return"Android";{const g=p.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===g?.length)return g[1]}return"Other"}function xe(p=(0,Y.z$)()){return/firefox\//i.test(p)}function sr(p=(0,Y.z$)()){const u=p.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function Ut(p=(0,Y.z$)()){return/crios\//i.test(p)}function ls(p=(0,Y.z$)()){return/iemobile/i.test(p)}function ma(p=(0,Y.z$)()){return/android/i.test(p)}function j(p=(0,Y.z$)()){return/blackberry/i.test(p)}function F(p=(0,Y.z$)()){return/webos/i.test(p)}function ue(p=(0,Y.z$)()){return/iphone|ipad|ipod/i.test(p)||/macintosh/i.test(p)&&/mobile/i.test(p)}function X(p=(0,Y.z$)()){return ue(p)||ma(p)||F(p)||j(p)||/windows phone/i.test(p)||ls(p)}function Se(p,u=[]){let d;switch(p){case"Browser":d=bi((0,Y.z$)());break;case"Worker":d=`${bi((0,Y.z$)())}-${p}`;break;default:d=p}const g=u.length?u.join(","):"FirebaseCore-web";return`${d}/JsCore/${$e.SDK_VERSION}/${g}`}class ht{constructor(u){this.auth=u,this.queue=[]}pushCallback(u,d){const g=P=>new Promise((A,V)=>{try{A(u(P))}catch(re){V(re)}});g.onAbort=d,this.queue.push(g);const C=this.queue.length-1;return()=>{this.queue[C]=()=>Promise.resolve()}}runMiddleware(u){var d=this;return(0,O.Z)(function*(){if(d.auth.currentUser===u)return;const g=[];try{for(const C of d.queue)yield C(u),C.onAbort&&g.push(C.onAbort)}catch(C){g.reverse();for(const P of g)try{P()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:C?.message})}})()}}function sv(){return(sv=(0,O.Z)(function*(p,u={}){return Z(p,"GET","/v2/passwordPolicy",ce(p,u))})).apply(this,arguments)}class Sf{constructor(u){var d,g,C,P;const A=u.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(d=A.minPasswordLength)&&void 0!==d?d:6,A.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=A.maxPasswordLength),void 0!==A.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=A.containsLowercaseCharacter),void 0!==A.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=A.containsUppercaseCharacter),void 0!==A.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=A.containsNumericCharacter),void 0!==A.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=A.containsNonAlphanumericCharacter),this.enforcementState=u.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(C=null===(g=u.allowedNonAlphanumericCharacters)||void 0===g?void 0:g.join(""))&&void 0!==C?C:"",this.forceUpgradeOnSignin=null!==(P=u.forceUpgradeOnSignin)&&void 0!==P&&P,this.schemaVersion=u.schemaVersion}validatePassword(u){var d,g,C,P,A,V;const re={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(u,re),this.validatePasswordCharacterOptions(u,re),re.isValid&&(re.isValid=null===(d=re.meetsMinPasswordLength)||void 0===d||d),re.isValid&&(re.isValid=null===(g=re.meetsMaxPasswordLength)||void 0===g||g),re.isValid&&(re.isValid=null===(C=re.containsLowercaseLetter)||void 0===C||C),re.isValid&&(re.isValid=null===(P=re.containsUppercaseLetter)||void 0===P||P),re.isValid&&(re.isValid=null===(A=re.containsNumericCharacter)||void 0===A||A),re.isValid&&(re.isValid=null===(V=re.containsNonAlphanumericCharacter)||void 0===V||V),re}validatePasswordLengthOptions(u,d){const g=this.customStrengthOptions.minPasswordLength,C=this.customStrengthOptions.maxPasswordLength;g&&(d.meetsMinPasswordLength=u.length>=g),C&&(d.meetsMaxPasswordLength=u.length<=C)}validatePasswordCharacterOptions(u,d){let g;this.updatePasswordCharacterOptionsStatuses(d,!1,!1,!1,!1);for(let C=0;C<u.length;C++)g=u.charAt(C),this.updatePasswordCharacterOptionsStatuses(d,g>="a"&&g<="z",g>="A"&&g<="Z",g>="0"&&g<="9",this.allowedNonAlphanumericCharacters.includes(g))}updatePasswordCharacterOptionsStatuses(u,d,g,C,P){this.customStrengthOptions.containsLowercaseLetter&&(u.containsLowercaseLetter||(u.containsLowercaseLetter=d)),this.customStrengthOptions.containsUppercaseLetter&&(u.containsUppercaseLetter||(u.containsUppercaseLetter=g)),this.customStrengthOptions.containsNumericCharacter&&(u.containsNumericCharacter||(u.containsNumericCharacter=C)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(u.containsNonAlphanumericCharacter||(u.containsNonAlphanumericCharacter=P))}}class Ti{constructor(u,d,g,C){this.app=u,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=g,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new av(this),this.idTokenSubscription=new av(this),this.beforeStateQueue=new ht(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ze,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(u,d){var g=this;return d&&(this._popupRedirectResolver=q(d)),this._initializationPromise=this.queue((0,O.Z)(function*(){var C,P;if(!g._deleted&&(g.persistenceManager=yield on.create(g,u),!g._deleted)){if(null!==(C=g._popupRedirectResolver)&&void 0!==C&&C._shouldInitProactively)try{yield g._popupRedirectResolver._initialize(g)}catch{}yield g.initializeCurrentUser(d),g.lastNotifiedUid=(null===(P=g.currentUser)||void 0===P?void 0:P.uid)||null,!g._deleted&&(g._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,O.Z)(function*(){if(u._deleted)return;const d=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||d){if(u.currentUser&&d&&u.currentUser.uid===d.uid)return u._currentUser._assign(d),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(d,!0)}})()}initializeCurrentUser(u){var d=this;return(0,O.Z)(function*(){var g;const C=yield d.assertedPersistence.getCurrentUser();let P=C,A=!1;if(u&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const V=null===(g=d.redirectUser)||void 0===g?void 0:g._redirectEventId,re=P?._redirectEventId,me=yield d.tryRedirectSignIn(u);(!V||V===re)&&me?.user&&(P=me.user,A=!0)}if(!P)return d.directlySetCurrentUser(null);if(!P._redirectEventId){if(A)try{yield d.beforeStateQueue.runMiddleware(P)}catch(V){P=C,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(V))}return P?d.reloadAndSetCurrentUserOrClear(P):d.directlySetCurrentUser(null)}return oe(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===P._redirectEventId?d.directlySetCurrentUser(P):d.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(u){var d=this;return(0,O.Z)(function*(){let g=null;try{g=yield d._popupRedirectResolver._completeRedirectFn(d,u,!0)}catch{yield d._setRedirectUser(null)}return g})()}reloadAndSetCurrentUserOrClear(u){var d=this;return(0,O.Z)(function*(){try{yield mr(u)}catch(g){if("auth/network-request-failed"!==g?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function Rs(){if(typeof navigator>"u")return null;const p=navigator;return p.languages&&p.languages[0]||p.language||null}()}_delete(){var u=this;return(0,O.Z)(function*(){u._deleted=!0})()}updateCurrentUser(u){var d=this;return(0,O.Z)(function*(){const g=u?(0,Y.m9)(u):null;return g&&oe(g.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(g&&g._clone(d))})()}_updateCurrentUser(u,d=!1){var g=this;return(0,O.Z)(function*(){if(!g._deleted)return u&&oe(g.tenantId===u.tenantId,g,"tenant-id-mismatch"),d||(yield g.beforeStateQueue.runMiddleware(u)),g.queue((0,O.Z)(function*(){yield g.directlySetCurrentUser(u),g.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,O.Z)(function*(){return yield u.beforeStateQueue.runMiddleware(null),(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null,!0)})()}setPersistence(u){var d=this;return this.queue((0,O.Z)(function*(){yield d.assertedPersistence.setPersistence(q(u))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(u){var d=this;return(0,O.Z)(function*(){d._getPasswordPolicyInternal()||(yield d._updatePasswordPolicy());const g=d._getPasswordPolicyInternal();return g.schemaVersion!==d.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(d._errorFactory.create("unsupported-password-policy-schema-version",{})):g.validatePassword(u)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var u=this;return(0,O.Z)(function*(){const d=yield function Kl(p){return sv.apply(this,arguments)}(u),g=new Sf(d);null===u.tenantId?u._projectPasswordPolicy=g:u._tenantPasswordPolicies[u.tenantId]=g})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new Y.LL("auth","Firebase",u())}onAuthStateChanged(u,d,g){return this.registerStateListener(this.authStateSubscription,u,d,g)}beforeAuthStateChanged(u,d){return this.beforeStateQueue.pushCallback(u,d)}onIdTokenChanged(u,d,g){return this.registerStateListener(this.idTokenSubscription,u,d,g)}authStateReady(){return new Promise((u,d)=>{if(this.currentUser)u();else{const g=this.onAuthStateChanged(()=>{g(),u()},d)}})}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,d){var g=this;return(0,O.Z)(function*(){const C=yield g.getOrInitRedirectPersistenceManager(d);return null===u?C.removeCurrentUser():C.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var d=this;return(0,O.Z)(function*(){if(!d.redirectPersistenceManager){const g=u&&q(u)||d._popupRedirectResolver;oe(g,d,"argument-error"),d.redirectPersistenceManager=yield on.create(d,[q(g._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(u){var d=this;return(0,O.Z)(function*(){var g,C;return d._isInitialized&&(yield d.queue((0,O.Z)(function*(){}))),(null===(g=d._currentUser)||void 0===g?void 0:g._redirectEventId)===u?d._currentUser:(null===(C=d.redirectUser)||void 0===C?void 0:C._redirectEventId)===u?d.redirectUser:null})()}_persistUserIfCurrent(u){var d=this;return(0,O.Z)(function*(){if(u===d.currentUser)return d.queue((0,O.Z)(function*(){return d.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const g=null!==(d=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==g&&(this.lastNotifiedUid=g,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,d,g,C){if(this._deleted)return()=>{};const P="function"==typeof d?d:d.next.bind(d);let A=!1;const V=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(V,this,"internal-error"),V.then(()=>{A||P(this.currentUser)}),"function"==typeof d){const re=u.addObserver(d,g,C);return()=>{A=!0,re()}}{const re=u.addObserver(d);return()=>{A=!0,re()}}}directlySetCurrentUser(u){var d=this;return(0,O.Z)(function*(){d.currentUser&&d.currentUser!==u&&d._currentUser._stopProactiveRefresh(),u&&d.isProactiveRefreshEnabled&&u._startProactiveRefresh(),d.currentUser=u,u?yield d.assertedPersistence.setCurrentUser(u):yield d.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=Se(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,O.Z)(function*(){var d;const g={"X-Client-Version":u.clientVersion};u.app.options.appId&&(g["X-Firebase-gmpid"]=u.app.options.appId);const C=yield null===(d=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();C&&(g["X-Firebase-Client"]=C);const P=yield u._getAppCheckToken();return P&&(g["X-Firebase-AppCheck"]=P),g})()}_getAppCheckToken(){var u=this;return(0,O.Z)(function*(){var d;const g=yield null===(d=u.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return g?.error&&function ir(p,...u){gr.logLevel<=Pt.in.WARN&&gr.warn(`Auth (${$e.SDK_VERSION}): ${p}`,...u)}(`Error while retrieving App Check token: ${g.error}`),g?.token})()}}function gn(p){return(0,Y.m9)(p)}class av{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,Y.ne)(d=>this.observer=d)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function us(p){return new Promise((u,d)=>{const g=document.createElement("script");g.setAttribute("src",p),g.onload=u,g.onerror=C=>{const P=zt("internal-error");P.customData=C,d(P)},g.type="text/javascript",g.charset="UTF-8",function Ek(){var p,u;return null!==(u=null===(p=document.getElementsByTagName("head"))||void 0===p?void 0:p[0])&&void 0!==u?u:document}().appendChild(g)})}function tM(p){return`__${p}${Math.floor(1e6*Math.random())}`}class cv{constructor(u){this.type="recaptcha-enterprise",this.auth=gn(u)}verify(u="verify",d=!1){var g=this;return(0,O.Z)(function*(){function P(){return P=(0,O.Z)(function*(V){if(!d){if(null==V.tenantId&&null!=V._agentRecaptchaConfig)return V._agentRecaptchaConfig.siteKey;if(null!=V.tenantId&&void 0!==V._tenantRecaptchaConfigs[V.tenantId])return V._tenantRecaptchaConfigs[V.tenantId].siteKey}return new Promise(function(){var re=(0,O.Z)(function*(me,Me){Fn(V,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ie=>{if(void 0!==Ie.recaptchaKey){const yn=new Mi(Ie);return null==V.tenantId?V._agentRecaptchaConfig=yn:V._tenantRecaptchaConfigs[V.tenantId]=yn,me(yn.siteKey)}Me(new Error("recaptcha Enterprise site key undefined"))}).catch(Ie=>{Me(Ie)})});return function(me,Me){return re.apply(this,arguments)}}())}),P.apply(this,arguments)}function A(V,re,me){const Me=window.grecaptcha;jr(Me)?Me.enterprise.ready(()=>{Me.enterprise.execute(V,{action:u}).then(Ie=>{re(Ie)}).catch(()=>{re("NO_RECAPTCHA")})}):me(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((V,re)=>{(function C(V){return P.apply(this,arguments)})(g.auth).then(me=>{if(!d&&jr(window.grecaptcha))A(me,V,re);else{if(typeof window>"u")return void re(new Error("RecaptchaVerifier is only supported in browser"));us("https://www.google.com/recaptcha/enterprise.js?render="+me).then(()=>{A(me,V,re)}).catch(Me=>{re(Me)})}}).catch(me=>{re(me)})})})()}}function nM(p,u,d){return Rf.apply(this,arguments)}function Rf(){return(Rf=(0,O.Z)(function*(p,u,d,g=!1){const C=new cv(p);let P;try{P=yield C.verify(d)}catch{P=yield C.verify(d,!0)}const A=Object.assign({},u);return Object.assign(A,g?{captchaResp:P}:{captchaResponse:P}),Object.assign(A,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(A,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),A})).apply(this,arguments)}function xf(p,u,d,g){return ii.apply(this,arguments)}function ii(){return ii=(0,O.Z)(function*(p,u,d,g){var C;if(null!==(C=p._getRecaptchaConfig())&&void 0!==C&&C.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const P=yield nM(p,u,d,"getOobCode"===d);return g(p,P)}return g(p,u).catch(function(){var P=(0,O.Z)(function*(A){if("auth/missing-recaptcha-token"===A.code){console.log(`${d} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const V=yield nM(p,u,d,"getOobCode"===d);return g(p,V)}return Promise.reject(A)});return function(A){return P.apply(this,arguments)}}())}),ii.apply(this,arguments)}function rM(p){const u=p.indexOf(":");return u<0?"":p.substr(0,u+1)}function Zl(p){if(!p)return null;const u=Number(p);return isNaN(u)?null:u}class ya{constructor(u,d){this.providerId=u,this.signInMethod=d}toJSON(){return pn("not implemented")}_getIdTokenResponse(u){return pn("not implemented")}_linkToIdToken(u,d){return pn("not implemented")}_getReauthenticationResolver(u){return pn("not implemented")}}function uv(p,u){return mc.apply(this,arguments)}function mc(){return(mc=(0,O.Z)(function*(p,u){return Z(p,"POST","/v1/accounts:resetPassword",ce(p,u))})).apply(this,arguments)}function Yl(p,u){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,O.Z)(function*(p,u){return Z(p,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function kf(){return(kf=(0,O.Z)(function*(p,u){return Z(p,"POST","/v1/accounts:update",ce(p,u))})).apply(this,arguments)}function pt(p,u){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,O.Z)(function*(p,u){return Re(p,"POST","/v1/accounts:signInWithPassword",ce(p,u))})).apply(this,arguments)}function Jl(p,u){return br.apply(this,arguments)}function br(){return(br=(0,O.Z)(function*(p,u){return Z(p,"POST","/v1/accounts:sendOobCode",ce(p,u))})).apply(this,arguments)}function pv(){return(pv=(0,O.Z)(function*(p,u){return Jl(p,u)})).apply(this,arguments)}function Gt(p,u){return fv.apply(this,arguments)}function fv(){return(fv=(0,O.Z)(function*(p,u){return Jl(p,u)})).apply(this,arguments)}function Ak(p,u){return eu.apply(this,arguments)}function eu(){return(eu=(0,O.Z)(function*(p,u){return Jl(p,u)})).apply(this,arguments)}function Ad(){return(Ad=(0,O.Z)(function*(p,u){return Jl(p,u)})).apply(this,arguments)}function Lf(){return(Lf=(0,O.Z)(function*(p,u){return Re(p,"POST","/v1/accounts:signInWithEmailLink",ce(p,u))})).apply(this,arguments)}function gv(){return(gv=(0,O.Z)(function*(p,u){return Re(p,"POST","/v1/accounts:signInWithEmailLink",ce(p,u))})).apply(this,arguments)}class Dd extends ya{constructor(u,d,g,C=null){super("password",g),this._email=u,this._password=d,this._tenantId=C}static _fromEmailAndPassword(u,d){return new Dd(u,d,"password")}static _fromEmailAndCode(u,d,g=null){return new Dd(u,d,"emailLink",g)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(u){var d=this;return(0,O.Z)(function*(){switch(d.signInMethod){case"password":return xf(u,{returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",pt);case"emailLink":return function Ff(p,u){return Lf.apply(this,arguments)}(u,{email:d._email,oobCode:d._password});default:xt(u,"internal-error")}})()}_linkToIdToken(u,d){var g=this;return(0,O.Z)(function*(){switch(g.signInMethod){case"password":return Yl(u,{idToken:d,returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Vf(p,u){return gv.apply(this,arguments)}(u,{idToken:d,email:g._email,oobCode:g._password});default:xt(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function Ls(p,u){return _v.apply(this,arguments)}function _v(){return(_v=(0,O.Z)(function*(p,u){return Re(p,"POST","/v1/accounts:signInWithIdp",ce(p,u))})).apply(this,arguments)}class oi extends ya{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const d=new oi(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(d.idToken=u.idToken),u.accessToken&&(d.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(d.nonce=u.nonce),u.pendingToken&&(d.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(d.accessToken=u.oauthToken,d.secret=u.oauthTokenSecret):xt("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:g,signInMethod:C}=d,P=(0,en._T)(d,["providerId","signInMethod"]);if(!g||!C)return null;const A=new oi(g,C);return A.idToken=P.idToken||void 0,A.accessToken=P.accessToken||void 0,A.secret=P.secret,A.nonce=P.nonce,A.pendingToken=P.pendingToken||null,A}_getIdTokenResponse(u){return Ls(u,this.buildRequest())}_linkToIdToken(u,d){const g=this.buildRequest();return g.idToken=d,Ls(u,g)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,Ls(u,d)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),u.postBody=(0,Y.xO)(d)}return u}}function yc(){return(yc=(0,O.Z)(function*(p,u){return Z(p,"POST","/v1/accounts:sendVerificationCode",ce(p,u))})).apply(this,arguments)}function Bf(){return(Bf=(0,O.Z)(function*(p,u){return Re(p,"POST","/v1/accounts:signInWithPhoneNumber",ce(p,u))})).apply(this,arguments)}function Sd(){return(Sd=(0,O.Z)(function*(p,u){const d=yield Re(p,"POST","/v1/accounts:signInWithPhoneNumber",ce(p,u));if(d.temporaryProof)throw qn(p,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const vc={USER_NOT_FOUND:"user-not-found"};function Ro(){return(Ro=(0,O.Z)(function*(p,u){return Re(p,"POST","/v1/accounts:signInWithPhoneNumber",ce(p,Object.assign(Object.assign({},u),{operation:"REAUTH"})),vc)})).apply(this,arguments)}class va extends ya{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,d){return new va({verificationId:u,verificationCode:d})}static _fromTokenResponse(u,d){return new va({phoneNumber:u,temporaryProof:d})}_getIdTokenResponse(u){return function oM(p,u){return Bf.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,d){return function sM(p,u){return Sd.apply(this,arguments)}(u,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function aM(p,u){return Ro.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:d,verificationId:g,verificationCode:C}=this.params;return u&&d?{temporaryProof:u,phoneNumber:d}:{sessionInfo:g,code:C}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:d,verificationCode:g,phoneNumber:C,temporaryProof:P}=u;return g||d||C||P?new va({verificationId:d,verificationCode:g,phoneNumber:C,temporaryProof:P}):null}}class we{constructor(u){var d,g,C,P,A,V;const re=(0,Y.zd)((0,Y.pd)(u)),me=null!==(d=re.apiKey)&&void 0!==d?d:null,Me=null!==(g=re.oobCode)&&void 0!==g?g:null,Ie=function ie(p){switch(p){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(C=re.mode)&&void 0!==C?C:null);oe(me&&Me&&Ie,"argument-error"),this.apiKey=me,this.operation=Ie,this.code=Me,this.continueUrl=null!==(P=re.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(A=re.languageCode)&&void 0!==A?A:null,this.tenantId=null!==(V=re.tenantId)&&void 0!==V?V:null}static parseLink(u){const d=function mv(p){const u=(0,Y.zd)((0,Y.pd)(p)).link,d=u?(0,Y.zd)((0,Y.pd)(u)).deep_link_id:null,g=(0,Y.zd)((0,Y.pd)(p)).deep_link_id;return(g?(0,Y.zd)((0,Y.pd)(g)).link:null)||g||d||u||p}(u);try{return new we(d)}catch{return null}}}let tu=(()=>{class p{constructor(){this.providerId=p.PROVIDER_ID}static credential(d,g){return Dd._fromEmailAndPassword(d,g)}static credentialWithLink(d,g){const C=we.parseLink(g);return oe(C,"argument-error"),Dd._fromEmailAndCode(d,C.code,C.tenantId)}}return p.PROVIDER_ID="password",p.EMAIL_PASSWORD_SIGN_IN_METHOD="password",p.EMAIL_LINK_SIGN_IN_METHOD="emailLink",p})();class Ai{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class Cc extends Ai{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class wc extends Cc{static credentialFromJSON(u){const d="string"==typeof u?JSON.parse(u):u;return oe("providerId"in d&&"signInMethod"in d,"argument-error"),oi._fromParams(d)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return oe(u.idToken||u.accessToken,"argument-error"),oi._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return wc.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return wc.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:d,oauthAccessToken:g,oauthTokenSecret:C,pendingToken:P,nonce:A,providerId:V}=u;if(!g&&!C&&!d&&!P||!V)return null;try{return new wc(V)._credential({idToken:d,accessToken:g,nonce:A,pendingToken:P})}catch{return null}}}let yv=(()=>{class p extends Cc{constructor(){super("facebook.com")}static credential(d){return oi._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return p.credential(d.oauthAccessToken)}catch{return null}}}return p.FACEBOOK_SIGN_IN_METHOD="facebook.com",p.PROVIDER_ID="facebook.com",p})(),xo=(()=>{class p extends Cc{constructor(){super("google.com"),this.addScope("profile")}static credential(d,g){return oi._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:g})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:g,oauthAccessToken:C}=d;if(!g&&!C)return null;try{return p.credential(g,C)}catch{return null}}}return p.GOOGLE_SIGN_IN_METHOD="google.com",p.PROVIDER_ID="google.com",p})(),nu=(()=>{class p extends Cc{constructor(){super("github.com")}static credential(d){return oi._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return p.credential(d.oauthAccessToken)}catch{return null}}}return p.GITHUB_SIGN_IN_METHOD="github.com",p.PROVIDER_ID="github.com",p})();class zr extends ya{constructor(u,d){super(u,u),this.pendingToken=d}_getIdTokenResponse(u){return Ls(u,this.buildRequest())}_linkToIdToken(u,d){const g=this.buildRequest();return g.idToken=d,Ls(u,g)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,Ls(u,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:g,signInMethod:C,pendingToken:P}=d;return g&&C&&P&&g===C?new zr(g,P):null}static _create(u,d){return new zr(u,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ca extends Ai{constructor(u){oe(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return Ca.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return Ca.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const d=zr.fromJSON(u);return oe(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:d,providerId:g}=u;if(!d||!g)return null;try{return zr._create(g,d)}catch{return null}}}let Rd=(()=>{class p extends Cc{constructor(){super("twitter.com")}static credential(d,g){return oi._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:g})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:g,oauthTokenSecret:C}=d;if(!g||!C)return null;try{return p.credential(g,C)}catch{return null}}}return p.TWITTER_SIGN_IN_METHOD="twitter.com",p.PROVIDER_ID="twitter.com",p})();function xd(p,u){return kd.apply(this,arguments)}function kd(){return(kd=(0,O.Z)(function*(p,u){return Re(p,"POST","/v1/accounts:signUp",ce(p,u))})).apply(this,arguments)}class Ln{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,d,g,C=!1){return(0,O.Z)(function*(){const P=yield te._fromIdTokenResponse(u,g,C),A=Pc(g);return new Ln({user:P,providerId:A,_tokenResponse:g,operationType:d})})()}static _forOperation(u,d,g){return(0,O.Z)(function*(){yield u._updateTokensIfNecessary(g,!0);const C=Pc(g);return new Ln({user:u,providerId:C,_tokenResponse:g,operationType:d})})()}}function Pc(p){return p.providerId?p.providerId:"phoneNumber"in p?"phone":null}function Nd(){return(Nd=(0,O.Z)(function*(p){var u;const d=gn(p);if(yield d._initializationPromise,null!==(u=d.currentUser)&&void 0!==u&&u.isAnonymous)return new Ln({user:d.currentUser,providerId:null,operationType:"signIn"});const g=yield xd(d,{returnSecureToken:!0}),C=yield Ln._fromIdTokenResponse(d,"signIn",g,!0);return yield d._updateCurrentUser(C.user),C})).apply(this,arguments)}class Ec extends Y.ZR{constructor(u,d,g,C){var P;super(d.code,d.message),this.operationType=g,this.user=C,Object.setPrototypeOf(this,Ec.prototype),this.customData={appName:u.name,tenantId:null!==(P=u.tenantId)&&void 0!==P?P:void 0,_serverResponse:d.customData._serverResponse,operationType:g}}static _fromErrorAndOperation(u,d,g,C){return new Ec(u,d,g,C)}}function $f(p,u,d,g){return("reauthenticate"===u?d._getReauthenticationResolver(p):d._getIdTokenResponse(p)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?Ec._fromErrorAndOperation(p,P,u,g):P})}function Hf(p){return new Set(p.map(({providerId:u})=>u).filter(u=>!!u))}function Fd(){return Fd=(0,O.Z)(function*(p,u){const d=(0,Y.m9)(p);yield iu(!0,d,u);const{providerUserInfo:g}=yield function Wl(p,u){return $r.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[u]}),C=Hf(g||[]);return d.providerData=d.providerData.filter(P=>C.has(P.providerId)),C.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),Fd.apply(this,arguments)}function Ld(p,u){return zf.apply(this,arguments)}function zf(){return(zf=(0,O.Z)(function*(p,u,d=!1){const g=yield Ii(p,u._linkToIdToken(p.auth,yield p.getIdToken()),d);return Ln._forOperation(p,"link",g)})).apply(this,arguments)}function iu(p,u,d){return Gf.apply(this,arguments)}function Gf(){return(Gf=(0,O.Z)(function*(p,u,d){yield mr(u);const C=!1===p?"provider-already-linked":"no-such-provider";oe(Hf(u.providerData).has(d)===p,u.auth,C)})).apply(this,arguments)}function Cv(p,u){return Di.apply(this,arguments)}function Di(){return(Di=(0,O.Z)(function*(p,u,d=!1){const{auth:g}=p,C="reauthenticate";try{const P=yield Ii(p,$f(g,C,u,p),d);oe(P.idToken,g,"internal-error");const A=pc(P.idToken);oe(A,g,"internal-error");const{sub:V}=A;return oe(p.uid===V,g,"user-mismatch"),Ln._forOperation(p,C,P)}catch(P){throw"auth/user-not-found"===P?.code&&xt(g,"user-mismatch"),P}})).apply(this,arguments)}function wv(p,u){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,O.Z)(function*(p,u,d=!1){const g="signIn",C=yield $f(p,g,u),P=yield Ln._fromIdTokenResponse(p,g,C);return d||(yield p._updateCurrentUser(P.user)),P})).apply(this,arguments)}function Ud(p,u){return Wf.apply(this,arguments)}function Wf(){return(Wf=(0,O.Z)(function*(p,u){return wv(gn(p),u)})).apply(this,arguments)}function Pv(p,u){return qf.apply(this,arguments)}function qf(){return(qf=(0,O.Z)(function*(p,u){const d=(0,Y.m9)(p);return yield iu(!1,d,u.providerId),Ld(d,u)})).apply(this,arguments)}function Kf(p,u){return Zf.apply(this,arguments)}function Zf(){return(Zf=(0,O.Z)(function*(p,u){return Cv((0,Y.m9)(p),u)})).apply(this,arguments)}function Yf(){return(Yf=(0,O.Z)(function*(p,u){return Re(p,"POST","/v1/accounts:signInWithCustomToken",ce(p,u))})).apply(this,arguments)}function Qf(){return Qf=(0,O.Z)(function*(p,u){const d=gn(p),g=yield function cM(p,u){return Yf.apply(this,arguments)}(d,{token:u,returnSecureToken:!0}),C=yield Ln._fromIdTokenResponse(d,"signIn",g);return yield d._updateCurrentUser(C.user),C}),Qf.apply(this,arguments)}class ou{constructor(u,d){this.factorId=u,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(u,d){return"phoneInfo"in d?Xf._fromServerResponse(u,d):"totpInfo"in d?Vn._fromServerResponse(u,d):xt(u,"internal-error")}}class Xf extends ou{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,d){return new Xf(d)}}class Vn extends ou{constructor(u){super("totp",u)}static _fromServerResponse(u,d){return new Vn(d)}}function Bd(p,u,d){var g;oe((null===(g=d.url)||void 0===g?void 0:g.length)>0,p,"invalid-continue-uri"),oe(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,p,"invalid-dynamic-link-domain"),u.continueUrl=d.url,u.dynamicLinkDomain=d.dynamicLinkDomain,u.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(oe(d.iOS.bundleId.length>0,p,"missing-ios-bundle-id"),u.iOSBundleId=d.iOS.bundleId),d.android&&(oe(d.android.packageName.length>0,p,"missing-android-pkg-name"),u.androidInstallApp=d.android.installApp,u.androidMinimumVersionCode=d.android.minimumVersion,u.androidPackageName=d.android.packageName)}function jd(p){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,O.Z)(function*(p){const u=gn(p);u._getPasswordPolicyInternal()&&(yield u._updatePasswordPolicy())})).apply(this,arguments)}function _t(){return(_t=(0,O.Z)(function*(p,u,d){const g=gn(p),C={requestType:"PASSWORD_RESET",email:u,clientType:"CLIENT_TYPE_WEB"};d&&Bd(g,C,d),yield xf(g,C,"getOobCode",Gt)})).apply(this,arguments)}function vr(){return vr=(0,O.Z)(function*(p,u,d){yield uv((0,Y.m9)(p),{oobCode:u,newPassword:d}).catch(function(){var g=(0,O.Z)(function*(C){throw"auth/password-does-not-meet-requirements"===C.code&&jd(p),C});return function(C){return g.apply(this,arguments)}}())}),vr.apply(this,arguments)}function Gr(){return Gr=(0,O.Z)(function*(p,u){yield function dv(p,u){return kf.apply(this,arguments)}((0,Y.m9)(p),{oobCode:u})}),Gr.apply(this,arguments)}function Jf(p,u){return $d.apply(this,arguments)}function $d(){return($d=(0,O.Z)(function*(p,u){const d=(0,Y.m9)(p),g=yield uv(d,{oobCode:u}),C=g.requestType;switch(oe(C,d,"internal-error"),C){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe(g.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe(g.mfaInfo,d,"internal-error");default:oe(g.email,d,"internal-error")}let P=null;return g.mfaInfo&&(P=ou._fromServerResponse(gn(d),g.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.newEmail:g.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.email:g.newEmail)||null,multiFactorInfo:P},operation:C}})).apply(this,arguments)}function eg(){return(eg=(0,O.Z)(function*(p,u){const{data:d}=yield Jf((0,Y.m9)(p),u);return d.email})).apply(this,arguments)}function sn(){return(sn=(0,O.Z)(function*(p,u,d){const g=gn(p),A=yield xf(g,{returnSecureToken:!0,email:u,password:d,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xd).catch(re=>{throw"auth/password-does-not-meet-requirements"===re.code&&jd(p),re}),V=yield Ln._fromIdTokenResponse(g,"signIn",A);return yield g._updateCurrentUser(V.user),V})).apply(this,arguments)}function Wt(){return(Wt=(0,O.Z)(function*(p,u,d){const g=gn(p),C={requestType:"EMAIL_SIGNIN",email:u,clientType:"CLIENT_TYPE_WEB"};(function P(A,V){oe(V.handleCodeInApp,g,"argument-error"),V&&Bd(g,A,V)})(C,d),yield xf(g,C,"getOobCode",Ak)})).apply(this,arguments)}function ar(){return(ar=(0,O.Z)(function*(p,u,d){const g=(0,Y.m9)(p),C=tu.credentialWithLink(u,d||Nn());return oe(C._tenantId===(g.tenantId||null),g,"tenant-id-mismatch"),Ud(g,C)})).apply(this,arguments)}function _n(){return(_n=(0,O.Z)(function*(p,u){return Z(p,"POST","/v1/accounts:createAuthUri",ce(p,u))})).apply(this,arguments)}function Us(){return Us=(0,O.Z)(function*(p,u){const g={identifier:u,continueUri:Ao()?Nn():"http://localhost"},{signinMethods:C}=yield function Oc(p,u){return _n.apply(this,arguments)}((0,Y.m9)(p),g);return C||[]}),Us.apply(this,arguments)}function wa(){return wa=(0,O.Z)(function*(p,u){const d=(0,Y.m9)(p),C={requestType:"VERIFY_EMAIL",idToken:yield p.getIdToken()};u&&Bd(d.auth,C,u);const{email:P}=yield function hv(p,u){return pv.apply(this,arguments)}(d.auth,C);P!==p.email&&(yield p.reload())}),wa.apply(this,arguments)}function Bs(){return Bs=(0,O.Z)(function*(p,u,d){const g=(0,Y.m9)(p),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield p.getIdToken(),newEmail:u};d&&Bd(g.auth,P,d);const{email:A}=yield function Nf(p,u){return Ad.apply(this,arguments)}(g.auth,P);A!==p.email&&(yield p.reload())}),Bs.apply(this,arguments)}function Pa(){return(Pa=(0,O.Z)(function*(p,u){return Z(p,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Ki(){return Ki=(0,O.Z)(function*(p,{displayName:u,photoURL:d}){if(void 0===u&&void 0===d)return;const g=(0,Y.m9)(p),P={idToken:yield g.getIdToken(),displayName:u,photoUrl:d,returnSecureToken:!0},A=yield Ii(g,function Sn(p,u){return Pa.apply(this,arguments)}(g.auth,P));g.displayName=A.displayName||null,g.photoURL=A.photoUrl||null;const V=g.providerData.find(({providerId:re})=>"password"===re);V&&(V.displayName=g.displayName,V.photoURL=g.photoURL),yield g._updateTokensIfNecessary(A)}),Ki.apply(this,arguments)}function ds(p,u,d){return po.apply(this,arguments)}function po(){return(po=(0,O.Z)(function*(p,u,d){const{auth:g}=p,P={idToken:yield p.getIdToken(),returnSecureToken:!0};u&&(P.email=u),d&&(P.password=d);const A=yield Ii(p,Yl(g,P));yield p._updateTokensIfNecessary(A,!0)})).apply(this,arguments)}class ko{constructor(u,d,g={}){this.isNewUser=u,this.providerId=d,this.profile=g}}class ut extends ko{constructor(u,d,g,C){super(u,d,g),this.username=C}}class Sk extends ko{constructor(u,d){super(u,"facebook.com",d)}}class tg extends ut{constructor(u,d){super(u,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class Ov extends ko{constructor(u,d){super(u,"google.com",d)}}class No extends ut{constructor(u,d,g){super(u,"twitter.com",d,g)}}function zd(p){const{user:u,_tokenResponse:d}=p;return u.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function cu(p){var u,d;if(!p)return null;const{providerId:g}=p,C=p.rawUserInfo?JSON.parse(p.rawUserInfo):{},P=p.isNewUser||"identitytoolkit#SignupNewUserResponse"===p.kind;if(!g&&p?.idToken){const A=null===(d=null===(u=pc(p.idToken))||void 0===u?void 0:u.firebase)||void 0===d?void 0:d.sign_in_provider;if(A)return new ko(P,"anonymous"!==A&&"custom"!==A?A:null)}if(!g)return null;switch(g){case"facebook.com":return new Sk(P,C);case"github.com":return new tg(P,C);case"google.com":return new Ov(P,C);case"twitter.com":return new No(P,C,p.screenName||null);case"custom":case"anonymous":return new ko(P,null);default:return new ko(P,g,C)}}(d)}class Ea{constructor(u,d,g){this.type=u,this.credential=d,this.user=g}static _fromIdtoken(u,d){return new Ea("enroll",u,d)}static _fromMfaPendingCredential(u){return new Ea("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var d,g;if(u?.multiFactorSession){if(null!==(d=u.multiFactorSession)&&void 0!==d&&d.pendingCredential)return Ea._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null!==(g=u.multiFactorSession)&&void 0!==g&&g.idToken)return Ea._fromIdtoken(u.multiFactorSession.idToken)}return null}}class Av{constructor(u,d,g){this.session=u,this.hints=d,this.signInResolver=g}static _fromError(u,d){const g=gn(u),C=d.customData._serverResponse,P=(C.mfaInfo||[]).map(V=>ou._fromServerResponse(g,V));oe(C.mfaPendingCredential,g,"internal-error");const A=Ea._fromMfaPendingCredential(C.mfaPendingCredential);return new Av(A,P,function(){var V=(0,O.Z)(function*(re){const me=yield re._process(g,A);delete C.mfaInfo,delete C.mfaPendingCredential;const Me=Object.assign(Object.assign({},C),{idToken:me.idToken,refreshToken:me.refreshToken});switch(d.operationType){case"signIn":const Ie=yield Ln._fromIdTokenResponse(g,d.operationType,Me);return yield g._updateCurrentUser(Ie.user),Ie;case"reauthenticate":return oe(d.user,g,"internal-error"),Ln._forOperation(d.user,d.operationType,Me);default:xt(g,"internal-error")}});return function(re){return V.apply(this,arguments)}}())}resolveSignIn(u){var d=this;return(0,O.Z)(function*(){return d.signInResolver(u)})()}}class Dv{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(g=>ou._fromServerResponse(u.auth,g)))})}static _fromUser(u){return new Dv(u)}getSession(){var u=this;return(0,O.Z)(function*(){return Ea._fromIdtoken(yield u.user.getIdToken(),u.user)})()}enroll(u,d){var g=this;return(0,O.Z)(function*(){const C=u,P=yield g.getSession(),A=yield Ii(g.user,C._process(g.user.auth,P,d));return yield g.user._updateTokensIfNecessary(A),g.user.reload()})()}unenroll(u){var d=this;return(0,O.Z)(function*(){const g="string"==typeof u?u:u.uid,C=yield d.user.getIdToken();try{const P=yield Ii(d.user,function kk(p,u){return Z(p,"POST","/v2/accounts/mfaEnrollment:withdraw",ce(p,u))}(d.user.auth,{idToken:C,mfaEnrollmentId:g}));d.enrolledFactors=d.enrolledFactors.filter(({uid:A})=>A!==g),yield d.user._updateTokensIfNecessary(P),yield d.user.reload()}catch(P){throw P}})()}}const Sv=new WeakMap,ig="__sak";class hM{constructor(u,d){this.storageRetriever=u,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(ig,"1"),this.storage.removeItem(ig),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(u,d){return this.storage.setItem(u,JSON.stringify(d)),Promise.resolve()}_get(u){const d=this.storage.getItem(u);return Promise.resolve(d?JSON.parse(d):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const uu=(()=>{class p extends hM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,g)=>this.onStorageEvent(d,g),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Fk(){const p=(0,Y.z$)();return sr(p)||ue(p)}()&&function Zn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=X(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const g of Object.keys(this.listeners)){const C=this.storage.getItem(g),P=this.localCache[g];C!==P&&d(g,P,C)}}onStorageEvent(d,g=!1){if(!d.key)return void this.forAllChangedKeys((V,re,me)=>{this.notifyListeners(V,me)});const C=d.key;if(g?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const V=this.storage.getItem(C);if(d.newValue!==V)null!==d.newValue?this.storage.setItem(C,d.newValue):this.storage.removeItem(C);else if(this.localCache[C]===d.newValue&&!g)return}const P=()=>{const V=this.storage.getItem(C);!g&&this.localCache[C]===V||this.notifyListeners(C,V)},A=this.storage.getItem(C);!function lt(){return(0,Y.w1)()&&10===document.documentMode}()||A===d.newValue||d.newValue===d.oldValue?P():setTimeout(P,10)}notifyListeners(d,g){this.localCache[d]=g;const C=this.listeners[d];if(C)for(const P of Array.from(C))P(g&&JSON.parse(g))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,g,C)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:g,newValue:C}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,g){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(g)}_removeListener(d,g){this.listeners[d]&&(this.listeners[d].delete(g),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,g){var C=()=>super._set,P=this;return(0,O.Z)(function*(){yield C().call(P,d,g),P.localCache[d]=JSON.stringify(g)})()}_get(d){var g=()=>super._get,C=this;return(0,O.Z)(function*(){const P=yield g().call(C,d);return C.localCache[d]=JSON.stringify(P),P})()}_remove(d){var g=()=>super._remove,C=this;return(0,O.Z)(function*(){yield g().call(C,d),delete C.localCache[d]})()}}return p.type="LOCAL",p})(),Ma=(()=>{class p extends hM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,g){}_removeListener(d,g){}}return p.type="SESSION",p})();let Oa=(()=>{class p{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const g=this.receivers.find(P=>P.isListeningto(d));if(g)return g;const C=new p(d);return this.receivers.push(C),C}isListeningto(d){return this.eventTarget===d}handleEvent(d){var g=this;return(0,O.Z)(function*(){const C=d,{eventId:P,eventType:A,data:V}=C.data,re=g.handlersMap[A];if(!re?.size)return;C.ports[0].postMessage({status:"ack",eventId:P,eventType:A});const me=Array.from(re).map(function(){var Ie=(0,O.Z)(function*(yn){return yn(C.origin,V)});return function(yn){return Ie.apply(this,arguments)}}()),Me=yield function Uk(p){return Promise.all(p.map(function(){var u=(0,O.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(g){return{fulfilled:!1,reason:g}}});return function(d){return u.apply(this,arguments)}}()))}(me);C.ports[0].postMessage({status:"done",eventId:P,eventType:A,response:Me})})()}_subscribe(d,g){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(g)}_unsubscribe(d,g){this.handlersMap[d]&&g&&this.handlersMap[d].delete(g),(!g||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return p.receivers=[],p})();function Zi(p="",u=10){let d="";for(let g=0;g<u;g++)d+=Math.floor(10*Math.random());return p+d}class Bk{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,d,g=50){var C=this;return(0,O.Z)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let A,V;return new Promise((re,me)=>{const Me=Zi("",20);P.port1.start();const Ie=setTimeout(()=>{me(new Error("unsupported_event"))},g);V={messageChannel:P,onMessage(yn){const Ho=yn;if(Ho.data.eventId===Me)switch(Ho.data.status){case"ack":clearTimeout(Ie),A=setTimeout(()=>{me(new Error("timeout"))},3e3);break;case"done":clearTimeout(A),re(Ho.data.response);break;default:clearTimeout(Ie),clearTimeout(A),me(new Error("invalid_response"))}}},C.handlers.add(V),P.port1.addEventListener("message",V.onMessage),C.target.postMessage({eventType:u,eventId:Me,data:d},[P.port2])}).finally(()=>{V&&C.removeMessageHandler(V)})})()}}function Qn(){return window}function Tc(){return typeof Qn().WorkerGlobalScope<"u"&&"function"==typeof Qn().importScripts}function Wd(){return(Wd=(0,O.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const og="firebaseLocalStorageDb",du="firebaseLocalStorage",qd="fbase_key";class Ia{constructor(u){this.request=u}toPromise(){return new Promise((u,d)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function hu(p,u){return p.transaction([du],u?"readwrite":"readonly").objectStore(du)}function Kd(){const p=indexedDB.open(og,1);return new Promise((u,d)=>{p.addEventListener("error",()=>{d(p.error)}),p.addEventListener("upgradeneeded",()=>{const g=p.result;try{g.createObjectStore(du,{keyPath:qd})}catch(C){d(C)}}),p.addEventListener("success",(0,O.Z)(function*(){const g=p.result;g.objectStoreNames.contains(du)?u(g):(g.close(),yield function kv(){const p=indexedDB.deleteDatabase(og);return new Ia(p).toPromise()}(),u(yield Kd()))}))})}function pu(p,u,d){return ba.apply(this,arguments)}function ba(){return(ba=(0,O.Z)(function*(p,u,d){const g=hu(p,!0).put({[qd]:u,value:d});return new Ia(g).toPromise()})).apply(this,arguments)}function Zd(){return(Zd=(0,O.Z)(function*(p,u){const d=hu(p,!1).get(u),g=yield new Ia(d).toPromise();return void 0===g?null:g.value})).apply(this,arguments)}function fM(p,u){const d=hu(p,!0).delete(u);return new Ia(d).toPromise()}const Dc=(()=>{class p{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,O.Z)(function*(){return d.db||(d.db=yield Kd()),d.db})()}_withRetries(d){var g=this;return(0,O.Z)(function*(){let C=0;for(;;)try{const P=yield g._openDb();return yield d(P)}catch(P){if(C++>3)throw P;g.db&&(g.db.close(),g.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,O.Z)(function*(){return Tc()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,O.Z)(function*(){d.receiver=Oa._getInstance(function xv(){return Tc()?self:null}()),d.receiver._subscribe("keyChanged",function(){var g=(0,O.Z)(function*(C,P){return{keyProcessed:(yield d._poll()).includes(P.key)}});return function(C,P){return g.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var g=(0,O.Z)(function*(C,P){return["keyChanged"]});return function(C,P){return g.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,O.Z)(function*(){var g,C;if(d.activeServiceWorker=yield function Yi(){return Wd.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new Bk(d.activeServiceWorker);const P=yield d.sender._send("ping",{},800);P&&null!==(g=P[0])&&void 0!==g&&g.fulfilled&&null!==(C=P[0])&&void 0!==C&&C.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var g=this;return(0,O.Z)(function*(){if(g.sender&&g.activeServiceWorker&&function Rv(){var p;return(null===(p=navigator?.serviceWorker)||void 0===p?void 0:p.controller)||null}()===g.activeServiceWorker)try{yield g.sender._send("keyChanged",{key:d},g.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,O.Z)(function*(){try{if(!indexedDB)return!1;const d=yield Kd();return yield pu(d,ig,"1"),yield fM(d,ig),!0}catch{}return!1})()}_withPendingWrite(d){var g=this;return(0,O.Z)(function*(){g.pendingWrites++;try{yield d()}finally{g.pendingWrites--}})()}_set(d,g){var C=this;return(0,O.Z)(function*(){return C._withPendingWrite((0,O.Z)(function*(){return yield C._withRetries(P=>pu(P,d,g)),C.localCache[d]=g,C.notifyServiceWorker(d)}))})()}_get(d){var g=this;return(0,O.Z)(function*(){const C=yield g._withRetries(P=>function Ac(p,u){return Zd.apply(this,arguments)}(P,d));return g.localCache[d]=C,C})()}_remove(d){var g=this;return(0,O.Z)(function*(){return g._withPendingWrite((0,O.Z)(function*(){return yield g._withRetries(C=>fM(C,d)),delete g.localCache[d],g.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,O.Z)(function*(){const g=yield d._withRetries(A=>{const V=hu(A,!1).getAll();return new Ia(V).toPromise()});if(!g)return[];if(0!==d.pendingWrites)return[];const C=[],P=new Set;for(const{fbase_key:A,value:V}of g)P.add(A),JSON.stringify(d.localCache[A])!==JSON.stringify(V)&&(d.notifyListeners(A,V),C.push(A));for(const A of Object.keys(d.localCache))d.localCache[A]&&!P.has(A)&&(d.notifyListeners(A,null),C.push(A));return C})()}notifyListeners(d,g){this.localCache[d]=g;const C=this.listeners[d];if(C)for(const P of Array.from(C))P(g)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,O.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,g){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(g)}_removeListener(d,g){this.listeners[d]&&(this.listeners[d].delete(g),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return p.type="LOCAL",p})(),lg=1e12;class Gk{constructor(u){this.auth=u,this.counter=lg,this._widgets=new Map}render(u,d){const g=this.counter;return this._widgets.set(g,new _M(u,this.auth.name,d||{})),this.counter++,g}reset(u){var d;const g=u||lg;null===(d=this._widgets.get(g))||void 0===d||d.delete(),this._widgets.delete(g)}getResponse(u){var d;return(null===(d=this._widgets.get(u||lg))||void 0===d?void 0:d.getResponse())||""}execute(u){var d=this;return(0,O.Z)(function*(){var g;return null===(g=d._widgets.get(u||lg))||void 0===g||g.execute(),""})()}}class _M{constructor(u,d,g){this.params=g,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const C="string"==typeof u?document.getElementById(u):u;oe(C,"argument-error",{appName:d}),this.container=C,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Fv(p){const u=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<p;g++)u.push(d.charAt(Math.floor(62*Math.random())));return u.join("")}(50);const{callback:u,"expired-callback":d}=this.params;if(u)try{u(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Yd=tM("rcb"),mM=new So(3e4,6e4);class vM{constructor(){var u;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(u=Qn().grecaptcha)||void 0===u||!u.render)}load(u,d=""){return oe(function Lv(p){return p.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(p)}(d),u,"argument-error"),this.shouldResolveImmediately(d)&&Br(Qn().grecaptcha)?Promise.resolve(Qn().grecaptcha):new Promise((g,C)=>{const P=Qn().setTimeout(()=>{C(zt(u,"network-request-failed"))},mM.get());Qn()[Yd]=()=>{Qn().clearTimeout(P),delete Qn()[Yd];const V=Qn().grecaptcha;if(!V||!Br(V))return void C(zt(u,"internal-error"));const re=V.render;V.render=(me,Me)=>{const Ie=re(me,Me);return this.counter++,Ie},this.hostLanguage=d,g(V)},us(`https://www.google.com/recaptcha/api.js??${(0,Y.xO)({onload:Yd,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(P),C(zt(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){var d;return!(null===(d=Qn().grecaptcha)||void 0===d||!d.render)&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class CM{load(u){return(0,O.Z)(function*(){return new Gk(u)})()}clearedOneInstance(){}}const ug="recaptcha",wM={theme:"light",type:"image"};class Wk{constructor(u,d,g=Object.assign({},wM)){this.parameters=g,this.type=ug,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=gn(u),this.isInvisible="invisible"===this.parameters.size,oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const C="string"==typeof d?document.getElementById(d):d;oe(C,this.auth,"argument-error"),this.container=C,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new CM:new vM,this.validateStartingState()}verify(){var u=this;return(0,O.Z)(function*(){u.assertNotDestroyed();const d=yield u.render(),g=u.getAssertedRecaptcha();return g.getResponse(d)||new Promise(P=>{const A=V=>{V&&(u.tokenChangeListeners.delete(A),P(V))};u.tokenChangeListeners.add(A),u.isInvisible&&g.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return d=>{if(this.tokenChangeListeners.forEach(g=>g(d)),"function"==typeof u)u(d);else if("string"==typeof u){const g=Qn()[u];"function"==typeof g&&g(d)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,O.Z)(function*(){if(yield u.init(),!u.widgetId){let d=u.container;if(!u.isInvisible){const g=document.createElement("div");d.appendChild(g),d=g}u.widgetId=u.getAssertedRecaptcha().render(d,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,O.Z)(function*(){oe(Ao()&&!Tc(),u.auth,"internal-error"),yield function PM(){let p=null;return new Promise(u=>{"complete"!==document.readyState?(p=()=>u(),window.addEventListener("load",p)):u()}).catch(u=>{throw p&&window.removeEventListener("load",p),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const d=yield function dc(p){return ss.apply(this,arguments)}(u.auth);oe(d,u.auth,"internal-error"),u.parameters.sitekey=d})()}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ci{constructor(u,d){this.verificationId=u,this.onConfirmation=d}confirm(u){const d=va._fromVerification(this.verificationId,u);return this.onConfirmation(d)}}function dg(){return(dg=(0,O.Z)(function*(p,u,d){const g=gn(p),C=yield Sc(g,u,(0,Y.m9)(d));return new ci(C,P=>Ud(g,P))})).apply(this,arguments)}function Qd(){return(Qd=(0,O.Z)(function*(p,u,d){const g=(0,Y.m9)(p);yield iu(!1,g,"phone");const C=yield Sc(g.auth,u,(0,Y.m9)(d));return new ci(C,P=>Pv(g,P))})).apply(this,arguments)}function hg(){return(hg=(0,O.Z)(function*(p,u,d){const g=(0,Y.m9)(p),C=yield Sc(g.auth,u,(0,Y.m9)(d));return new ci(C,P=>Kf(g,P))})).apply(this,arguments)}function Sc(p,u,d){return pg.apply(this,arguments)}function pg(){return pg=(0,O.Z)(function*(p,u,d){var g;const C=yield d.verify();try{let P;if(oe("string"==typeof C,p,"argument-error"),oe(d.type===ug,p,"argument-error"),P="string"==typeof u?{phoneNumber:u}:u,"session"in P){const A=P.session;if("phoneNumber"in P)return oe("enroll"===A.type,p,"internal-error"),(yield function dM(p,u){return Z(p,"POST","/v2/accounts/mfaEnrollment:start",ce(p,u))}(p,{idToken:A.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:C}})).phoneSessionInfo.sessionInfo;{oe("signin"===A.type,p,"internal-error");const V=(null===(g=P.multiFactorHint)||void 0===g?void 0:g.uid)||P.multiFactorUid;return oe(V,p,"missing-multi-factor-info"),(yield function zk(p,u){return Z(p,"POST","/v2/accounts/mfaSignIn:start",ce(p,u))}(p,{mfaPendingCredential:A.credential,mfaEnrollmentId:V,phoneSignInInfo:{recaptchaToken:C}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:A}=yield function Uf(p,u){return yc.apply(this,arguments)}(p,{phoneNumber:P.phoneNumber,recaptchaToken:C});return A}}finally{d._reset()}}),pg.apply(this,arguments)}function Xd(){return(Xd=(0,O.Z)(function*(p,u){yield Ld((0,Y.m9)(p),u)})).apply(this,arguments)}let Rc=(()=>{class p{constructor(d){this.providerId=p.PROVIDER_ID,this.auth=gn(d)}verifyPhoneNumber(d,g){return Sc(this.auth,d,(0,Y.m9)(g))}static credential(d,g){return va._fromVerification(d,g)}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:g,temporaryProof:C}=d;return g&&C?va._fromTokenResponse(g,C):null}}return p.PROVIDER_ID="phone",p.PHONE_SIGN_IN_METHOD="phone",p})();function bt(p,u){return u?q(u):(oe(p._popupRedirectResolver,p,"argument-error"),p._popupRedirectResolver)}class fu extends ya{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return Ls(u,this._buildIdpRequest())}_linkToIdToken(u,d){return Ls(u,this._buildIdpRequest(d))}_getReauthenticationResolver(u){return Ls(u,this._buildIdpRequest())}_buildIdpRequest(u){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(d.idToken=u),d}}function Jd(p){return wv(p.auth,new fu(p),p.bypassAuthState)}function li(p){const{auth:u,user:d}=p;return oe(d,u,"internal-error"),Cv(d,new fu(p),p.bypassAuthState)}function MM(p){return eh.apply(this,arguments)}function eh(){return(eh=(0,O.Z)(function*(p){const{auth:u,user:d}=p;return oe(d,u,"internal-error"),Ld(d,new fu(p),p.bypassAuthState)})).apply(this,arguments)}class Ta{constructor(u,d,g,C,P=!1){this.auth=u,this.resolver=g,this.user=C,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var u=this;return new Promise(function(){var d=(0,O.Z)(function*(g,C){u.pendingPromise={resolve:g,reject:C};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(P){u.reject(P)}});return function(g,C){return d.apply(this,arguments)}}())}onAuthEvent(u){var d=this;return(0,O.Z)(function*(){const{urlResponse:g,sessionId:C,postBody:P,tenantId:A,error:V,type:re}=u;if(V)return void d.reject(V);const me={auth:d.auth,requestUri:g,sessionId:C,tenantId:A||void 0,postBody:P||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(re)(me))}catch(Me){d.reject(Me)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return Jd;case"linkViaPopup":case"linkViaRedirect":return MM;case"reauthViaPopup":case"reauthViaRedirect":return li;default:xt(this.auth,"internal-error")}}resolve(u){nn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){nn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Si=new So(2e3,1e4);function fg(){return(fg=(0,O.Z)(function*(p,u,d){const g=gn(p);rt(p,u,Ai);const C=bt(g,d);return new th(g,"signInViaPopup",u,C).executeNotNull()})).apply(this,arguments)}function Vo(){return(Vo=(0,O.Z)(function*(p,u,d){const g=(0,Y.m9)(p);rt(g.auth,u,Ai);const C=bt(g.auth,d);return new th(g.auth,"reauthViaPopup",u,C,g).executeNotNull()})).apply(this,arguments)}function gg(){return(gg=(0,O.Z)(function*(p,u,d){const g=(0,Y.m9)(p);rt(g.auth,u,Ai);const C=bt(g.auth,d);return new th(g.auth,"linkViaPopup",u,C,g).executeNotNull()})).apply(this,arguments)}let th=(()=>{class p extends Ta{constructor(d,g,C,P,A){super(d,g,P,A),this.provider=C,this.authWindow=null,this.pollId=null,p.currentPopupAction&&p.currentPopupAction.cancel(),p.currentPopupAction=this}executeNotNull(){var d=this;return(0,O.Z)(function*(){const g=yield d.execute();return oe(g,d.auth,"internal-error"),g})()}onExecution(){var d=this;return(0,O.Z)(function*(){nn(1===d.filter.length,"Popup operations only handle one event");const g=Zi();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],g),d.authWindow.associatedEvent=g,d.resolver._originValidation(d.auth).catch(C=>{d.reject(C)}),d.resolver._isIframeWebStorageSupported(d.auth,C=>{C||d.reject(zt(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(zt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,p.currentPopupAction=null}pollUserCancellation(){const d=()=>{var g,C;this.pollId=null!==(C=null===(g=this.authWindow)||void 0===g?void 0:g.window)&&void 0!==C&&C.closed?window.setTimeout(()=>{this.pollId=null,this.reject(zt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,Si.get())};d()}}return p.currentPopupAction=null,p})();const jv="pendingRedirect",xc=new Map;class bM extends Ta{constructor(u,d,g=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,g),this.eventId=null}execute(){var u=()=>super.execute,d=this;return(0,O.Z)(function*(){let g=xc.get(d.auth._key());if(!g){try{const P=(yield function je(p,u){return nh.apply(this,arguments)}(d.resolver,d.auth))?yield u().call(d):null;g=()=>Promise.resolve(P)}catch(C){g=()=>Promise.reject(C)}xc.set(d.auth._key(),g)}return d.bypassAuthState||xc.set(d.auth._key(),()=>Promise.resolve(null)),g()})()}onAuthEvent(u){var d=()=>super.onAuthEvent,g=this;return(0,O.Z)(function*(){if("signInViaRedirect"===u.type)return d().call(g,u);if("unknown"!==u.type){if(u.eventId){const C=yield g.auth._redirectUserForId(u.eventId);if(C)return g.user=C,d().call(g,u);g.resolve(null)}}else g.resolve(null)})()}onExecution(){return(0,O.Z)(function*(){})()}cleanUp(){}}function nh(){return(nh=(0,O.Z)(function*(p,u){const d=Aa(u),g=yg(p);if(!(yield g._isAvailable()))return!1;const C="true"===(yield g._get(d));return yield g._remove(d),C})).apply(this,arguments)}function $v(p,u){return _g.apply(this,arguments)}function _g(){return(_g=(0,O.Z)(function*(p,u){return yg(p)._set(Aa(u),"true")})).apply(this,arguments)}function mg(p,u){xc.set(p._key(),u)}function yg(p){return q(p._redirectPersistence)}function Aa(p){return Je(jv,p.config.apiKey,p.name)}function AM(p,u,d){return function DM(p,u,d){return vg.apply(this,arguments)}(p,u,d)}function vg(){return(vg=(0,O.Z)(function*(p,u,d){const g=gn(p);rt(p,u,Ai),yield g._initializationPromise;const C=bt(g,d);return yield $v(C,g),C._openRedirect(g,u,"signInViaRedirect")})).apply(this,arguments)}function SM(p,u,d){return function RM(p,u,d){return ae.apply(this,arguments)}(p,u,d)}function ae(){return(ae=(0,O.Z)(function*(p,u,d){const g=(0,Y.m9)(p);rt(g.auth,u,Ai),yield g.auth._initializationPromise;const C=bt(g.auth,d);yield $v(C,g.auth);const P=yield ih(g);return C._openRedirect(g.auth,u,"reauthViaRedirect",P)})).apply(this,arguments)}function Ct(p,u,d){return function cr(p,u,d){return Un.apply(this,arguments)}(p,u,d)}function Un(){return(Un=(0,O.Z)(function*(p,u,d){const g=(0,Y.m9)(p);rt(g.auth,u,Ai),yield g.auth._initializationPromise;const C=bt(g.auth,d);yield iu(!1,g,u.providerId),yield $v(C,g.auth);const P=yield ih(g);return C._openRedirect(g.auth,u,"linkViaRedirect",P)})).apply(this,arguments)}function rh(){return(rh=(0,O.Z)(function*(p,u){return yield gn(p)._initializationPromise,js(p,u,!1)})).apply(this,arguments)}function js(p,u){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,O.Z)(function*(p,u,d=!1){const g=gn(p),C=bt(g,u),A=yield new bM(g,C,d).execute();return A&&!d&&(delete A.user._redirectEventId,yield g._persistUserIfCurrent(A.user),yield g._setRedirectUser(null,u)),A})).apply(this,arguments)}function ih(p){return gu.apply(this,arguments)}function gu(){return(gu=(0,O.Z)(function*(p){const u=Zi(`${p.uid}:::`);return p._redirectEventId=u,yield p.auth._setRedirectUser(p),yield p.auth._persistUserIfCurrent(p),u})).apply(this,arguments)}class kM{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let d=!1;return this.consumers.forEach(g=>{this.isEventForConsumer(u,g)&&(d=!0,this.sendToConsumer(u,g),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function hs(p){switch(p.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ar(p);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=u,d=!0)),d}sendToConsumer(u,d){var g;if(u.error&&!Ar(u)){const C=(null===(g=u.error.code)||void 0===g?void 0:g.split("auth/")[1])||"internal-error";d.onError(zt(this.auth,C))}else d.onAuthEvent(u)}isEventForConsumer(u,d){const g=null===d.eventId||!!u.eventId&&u.eventId===d.eventId;return d.filter.includes(u.type)&&g}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cg(u))}saveEventToCache(u){this.cachedEventUids.add(Cg(u)),this.lastProcessedEventTime=Date.now()}}function Cg(p){return[p.type,p.eventId,p.sessionId,p.tenantId].filter(u=>u).join("-")}function Ar({type:p,error:u}){return"unknown"===p&&"auth/no-auth-event"===u?.code}function wg(p){return $s.apply(this,arguments)}function $s(){return($s=(0,O.Z)(function*(p,u={}){return Z(p,"GET","/v1/projects",u)})).apply(this,arguments)}const ps=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NM=/^https?/;function Pg(){return(Pg=(0,O.Z)(function*(p){if(p.config.emulator)return;const{authorizedDomains:u}=yield wg(p);for(const d of u)try{if(FM(d))return}catch{}xt(p,"unauthorized-domain")})).apply(this,arguments)}function FM(p){const u=Nn(),{protocol:d,hostname:g}=new URL(u);if(p.startsWith("chrome-extension://")){const A=new URL(p);return""===A.hostname&&""===g?"chrome-extension:"===d&&p.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===d&&A.hostname===g}if(!NM.test(d))return!1;if(ps.test(p))return g===p;const C=p.replace(/\./g,"\\.");return new RegExp("^(.+\\."+C+"|"+C+")$","i").test(g)}const Eg=new So(3e4,6e4);function oh(){const p=Qn().___jsl;if(p?.H)for(const u of Object.keys(p.H))if(p.H[u].r=p.H[u].r||[],p.H[u].L=p.H[u].L||[],p.H[u].r=[...p.H[u].L],p.CP)for(let d=0;d<p.CP.length;d++)p.CP[d]=null}let kc=null;const Gv=new So(5e3,15e3),Mg="__/auth/iframe",Wv="emulator/auth/iframe",qv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zv(p){const u=p.config;oe(u.authDomain,p,"auth-domain-config-required");const d=u.emulator?z(u,Wv):`https://${p.config.authDomain}/${Mg}`,g={apiKey:u.apiKey,appName:p.name,v:$e.SDK_VERSION},C=Kv.get(p.config.apiHost);C&&(g.eid=C);const P=p._getFrameworks();return P.length&&(g.fw=P.join(",")),`${d}?${(0,Y.xO)(g).slice(1)}`}function Ig(){return Ig=(0,O.Z)(function*(p){const u=yield function LM(p){return kc=kc||function zv(p){return new Promise((u,d)=>{var g,C,P;function A(){oh(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{oh(),d(zt(p,"network-request-failed"))},timeout:Eg.get()})}if(null!==(C=null===(g=Qn().gapi)||void 0===g?void 0:g.iframes)&&void 0!==C&&C.Iframe)u(gapi.iframes.getContext());else{if(null===(P=Qn().gapi)||void 0===P||!P.load){const V=tM("iframefcb");return Qn()[V]=()=>{gapi.load?A():d(zt(p,"network-request-failed"))},us(`https://apis.google.com/js/api.js?onload=${V}`).catch(re=>d(re))}A()}}).catch(u=>{throw kc=null,u})}(p),kc}(p),d=Qn().gapi;return oe(d,p,"internal-error"),u.open({where:document.body,url:Zv(p),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qv,dontclear:!0},g=>new Promise(function(){var C=(0,O.Z)(function*(P,A){yield g.restyle({setHideOnLeave:!1});const V=zt(p,"network-request-failed"),re=Qn().setTimeout(()=>{A(V)},Gv.get());function me(){Qn().clearTimeout(re),P(g)}g.ping(me).then(me,()=>{A(V)})});return function(P,A){return C.apply(this,arguments)}}()))}),Ig.apply(this,arguments)}const VM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Yv{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Qv="__/auth/handler",Xv="emulator/auth/handler",sh=encodeURIComponent("fac");function Uo(p,u,d,g,C,P){return bg.apply(this,arguments)}function bg(){return(bg=(0,O.Z)(function*(p,u,d,g,C,P){oe(p.config.authDomain,p,"auth-domain-config-required"),oe(p.config.apiKey,p,"invalid-api-key");const A={apiKey:p.config.apiKey,appName:p.name,authType:d,redirectUrl:g,v:$e.SDK_VERSION,eventId:C};if(u instanceof Ai){u.setDefaultLanguage(p.languageCode),A.providerId=u.providerId||"",(0,Y.xb)(u.getCustomParameters())||(A.customParameters=JSON.stringify(u.getCustomParameters()));for(const[Me,Ie]of Object.entries(P||{}))A[Me]=Ie}if(u instanceof Cc){const Me=u.getScopes().filter(Ie=>""!==Ie);Me.length>0&&(A.scopes=Me.join(","))}p.tenantId&&(A.tid=p.tenantId);const V=A;for(const Me of Object.keys(V))void 0===V[Me]&&delete V[Me];const re=yield p._getAppCheckToken(),me=re?`#${sh}=${encodeURIComponent(re)}`:"";return`${function ah({config:p}){return p.emulator?z(p,Xv):`https://${p.authDomain}/${Qv}`}(p)}?${(0,Y.xO)(V).slice(1)}${me}`})).apply(this,arguments)}const Nc="webStorageSupport",lh=class ch{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ma,this._completeRedirectFn=js,this._overrideRedirectResult=mg}_openPopup(u,d,g,C){var P=this;return(0,O.Z)(function*(){var A;nn(null===(A=P.eventManagers[u._key()])||void 0===A?void 0:A.manager,"_initialize() not called before _openPopup()");const V=yield Uo(u,d,g,Nn(),C);return function BM(p,u,d,g=500,C=600){const P=Math.max((window.screen.availHeight-C)/2,0).toString(),A=Math.max((window.screen.availWidth-g)/2,0).toString();let V="";const re=Object.assign(Object.assign({},VM),{width:g.toString(),height:C.toString(),top:P,left:A}),me=(0,Y.z$)().toLowerCase();d&&(V=Ut(me)?"_blank":d),xe(me)&&(u=u||"http://localhost",re.scrollbars="yes");const Me=Object.entries(re).reduce((yn,[Ho,wu])=>`${yn}${Ho}=${wu},`,"");if(function Ye(p=(0,Y.z$)()){var u;return ue(p)&&!(null===(u=window.navigator)||void 0===u||!u.standalone)}(me)&&"_self"!==V)return function jM(p,u){const d=document.createElement("a");d.href=p,d.target=u;const g=document.createEvent("MouseEvent");g.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(g)}(u||"",V),new Yv(null);const Ie=window.open(u||"",V,Me);oe(Ie,p,"popup-blocked");try{Ie.focus()}catch{}return new Yv(Ie)}(u,V,Zi())})()}_openRedirect(u,d,g,C){var P=this;return(0,O.Z)(function*(){return yield P._originValidation(u),function Cr(p){Qn().location.href=p}(yield Uo(u,d,g,Nn(),C)),new Promise(()=>{})})()}_initialize(u){const d=u._key();if(this.eventManagers[d]){const{manager:C,promise:P}=this.eventManagers[d];return C?Promise.resolve(C):(nn(P,"If manager is not set, promise should be"),P)}const g=this.initAndGetManager(u);return this.eventManagers[d]={promise:g},g.catch(()=>{delete this.eventManagers[d]}),g}initAndGetManager(u){var d=this;return(0,O.Z)(function*(){const g=yield function Og(p){return Ig.apply(this,arguments)}(u),C=new kM(u);return g.register("authEvent",P=>(oe(P?.authEvent,u,"invalid-auth-event"),{status:C.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[u._key()]={manager:C},d.iframes[u._key()]=g,C})()}_isIframeWebStorageSupported(u,d){this.iframes[u._key()].send(Nc,{type:Nc},C=>{var P;const A=null===(P=C?.[0])||void 0===P?void 0:P[Nc];void 0!==A&&d(!!A),xt(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const d=u._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function Hv(p){return Pg.apply(this,arguments)}(u)),this.originValidationPromises[d]}get _shouldInitProactively(){return X()||sr()||ue()}};class Jv{constructor(u){this.factorId=u}_process(u,d,g){switch(d.type){case"enroll":return this._finalizeEnroll(u,d.credential,g);case"signin":return this._finalizeSignIn(u,d.credential);default:return pn("unexpected MultiFactorSessionType")}}}class uh extends Jv{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new uh(u)}_finalizeEnroll(u,d,g){return function Rk(p,u){return Z(p,"POST","/v2/accounts/mfaEnrollment:finalize",ce(p,u))}(u,{idToken:d,displayName:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,d){return function Nv(p,u){return Z(p,"POST","/v2/accounts/mfaSignIn:finalize",ce(p,u))}(u,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let $M=(()=>{class p{constructor(){}static assertion(d){return uh._fromCredential(d)}}return p.FACTOR_ID="phone",p})();var dh="@firebase/auth";class zM{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var d=this;return(0,O.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const d=this.auth.onIdTokenChanged(g=>{u(g?.stsTokenManager.accessToken||null)});this.internalListeners.set(u,d),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const d=this.internalListeners.get(u);d&&(this.internalListeners.delete(u),d(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function fs(){return window}(0,Y.Pz)("authIdTokenMaxAge"),function qk(p){(0,$e._registerComponent)(new En.wA("auth",(u,{options:d})=>{const g=u.getProvider("app").getImmediate(),C=u.getProvider("heartbeat"),P=u.getProvider("app-check-internal"),{apiKey:A,authDomain:V}=g.options;oe(A&&!A.includes(":"),"invalid-api-key",{appName:g.name});const re={apiKey:A,authDomain:V,clientPlatform:p,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Se(p)},me=new Ti(g,C,P,re);return function Tk(p,u){const d=u?.persistence||[],g=(Array.isArray(d)?d:[d]).map(q);u?.errorMap&&p._updateErrorMap(u.errorMap),p._initializeWithPersistence(g,u?.popupRedirectResolver)}(me,d),me},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,d,g)=>{u.getProvider("auth-internal").initialize()})),(0,$e._registerComponent)(new En.wA("auth-internal",u=>{const d=gn(u.getProvider("auth").getImmediate());return new zM(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,$e.registerVersion)(dh,"1.3.2",function GM(p){switch(p){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(p)),(0,$e.registerVersion)(dh,"1.3.2","esm2017")}("Browser");function fh(){return fh=(0,O.Z)(function*(p,u,d){var g;const{BuildInfo:C}=fs();nn(u.sessionId,"AuthEvent did not contain a session ID");const P=yield function nC(p){return Vc.apply(this,arguments)}(u.sessionId),A={};return ue()?A.ibi=C.packageName:ma()?A.apn=C.packageName:xt(p,"operation-not-supported-in-this-environment"),C.displayName&&(A.appDisplayName=C.displayName),A.sessionId=P,Uo(p,d,u.type,void 0,null!==(g=u.eventId)&&void 0!==g?g:void 0,A)}),fh.apply(this,arguments)}function Dg(){return(Dg=(0,O.Z)(function*(p){const{BuildInfo:u}=fs(),d={};ue()?d.iosBundleId=u.packageName:ma()?d.androidPackageName=u.packageName:xt(p,"operation-not-supported-in-this-environment"),yield wg(p,d)})).apply(this,arguments)}function Lc(){return(Lc=(0,O.Z)(function*(p,u,d){const{cordova:g}=fs();let C=()=>{};try{yield new Promise((P,A)=>{let V=null;function re(){var Ie;P();const yn=null===(Ie=g.plugins.browsertab)||void 0===Ie?void 0:Ie.close;"function"==typeof yn&&yn(),"function"==typeof d?.close&&d.close()}function me(){V||(V=window.setTimeout(()=>{A(zt(p,"redirect-cancelled-by-user"))},2e3))}function Me(){"visible"===document?.visibilityState&&me()}u.addPassiveListener(re),document.addEventListener("resume",me,!1),ma()&&document.addEventListener("visibilitychange",Me,!1),C=()=>{u.removePassiveListener(re),document.removeEventListener("resume",me,!1),document.removeEventListener("visibilitychange",Me,!1),V&&window.clearTimeout(V)}})}finally{C()}})).apply(this,arguments)}function Vc(){return(Vc=(0,O.Z)(function*(p){const u=function Rg(p){if(nn(/[0-9a-zA-Z]+/.test(p),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(p);const u=new ArrayBuffer(p.length),d=new Uint8Array(u);for(let g=0;g<p.length;g++)d[g]=p.charCodeAt(g);return d}(p),d=yield crypto.subtle.digest("SHA-256",u);return Array.from(new Uint8Array(d)).map(C=>C.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class rC extends kM{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(u=>{this.resolveInialized=u})}addPassiveListener(u){this.passiveListeners.add(u)}removePassiveListener(u){this.passiveListeners.delete(u)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(u){return this.resolveInialized(),this.passiveListeners.forEach(d=>d(u)),super.onEvent(u)}initialized(){var u=this;return(0,O.Z)(function*(){yield u.initPromise})()}}function xg(p){return kg.apply(this,arguments)}function kg(){return(kg=(0,O.Z)(function*(p){const u=yield Ng()._get(_h(p));return u&&(yield Ng()._remove(_h(p))),u})).apply(this,arguments)}function Ra(){const p=[];for(let d=0;d<20;d++){const g=Math.floor(62*Math.random());p.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(g))}return p.join("")}function Ng(){return q(uu)}function _h(p){return Je("authEvent",p.config.apiKey,p.name)}function mh(p){if(!p?.includes("?"))return{};const[u,...d]=p.split("?");return(0,Y.zd)(d.join("?"))}const Pr=class ZM{constructor(){this._redirectPersistence=Ma,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=js,this._overrideRedirectResult=mg}_initialize(u){var d=this;return(0,O.Z)(function*(){const g=u._key();let C=d.eventManagers.get(g);return C||(C=new rC(u),d.eventManagers.set(g,C),d.attachCallbackListeners(u,C)),C})()}_openPopup(u){xt(u,"operation-not-supported-in-this-environment")}_openRedirect(u,d,g,C){var P=this;return(0,O.Z)(function*(){!function Sg(p){var u,d,g,C,P,A,V,re,me,Me;const Ie=fs();oe("function"==typeof(null===(u=Ie?.universalLinks)||void 0===u?void 0:u.subscribe),p,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),oe(typeof(null===(d=Ie?.BuildInfo)||void 0===d?void 0:d.packageName)<"u",p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),oe("function"==typeof(null===(P=null===(C=null===(g=Ie?.cordova)||void 0===g?void 0:g.plugins)||void 0===C?void 0:C.browsertab)||void 0===P?void 0:P.openUrl),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oe("function"==typeof(null===(re=null===(V=null===(A=Ie?.cordova)||void 0===A?void 0:A.plugins)||void 0===V?void 0:V.browsertab)||void 0===re?void 0:re.isAvailable),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oe("function"==typeof(null===(Me=null===(me=Ie?.cordova)||void 0===me?void 0:me.InAppBrowser)||void 0===Me?void 0:Me.open),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(u);const A=yield P._initialize(u);yield A.initialized(),A.resetRedirect(),function TM(){xc.clear()}(),yield P._originValidation(u);const V=function iC(p,u,d=null){return{type:u,eventId:d,urlResponse:null,sessionId:Ra(),postBody:null,tenantId:p.tenantId,error:zt(p,"no-auth-event")}}(u,g,C);yield function oC(p,u){return Ng()._set(_h(p),u)}(u,V);const re=yield function Zk(p,u,d){return fh.apply(this,arguments)}(u,V,d),me=yield function Bo(p){const{cordova:u}=fs();return new Promise(d=>{u.plugins.browsertab.isAvailable(g=>{let C=null;g?u.plugins.browsertab.openUrl(p):C=u.InAppBrowser.open(p,function ke(p=(0,Y.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(p)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(p)}()?"_blank":"_system","location=yes"),d(C)})})}(re);return function qM(p,u,d){return Lc.apply(this,arguments)}(u,A,me)})()}_isIframeWebStorageSupported(u,d){throw new Error("Method not implemented.")}_originValidation(u){const d=u._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function tC(p){return Dg.apply(this,arguments)}(u)),this.originValidationPromises[d]}attachCallbackListeners(u,d){const{universalLinks:g,handleOpenURL:C,BuildInfo:P}=fs(),A=setTimeout((0,O.Z)(function*(){yield xg(u),d.onEvent(yh())}),500),V=function(){var Me=(0,O.Z)(function*(Ie){clearTimeout(A);const yn=yield xg(u);let Ho=null;yn&&Ie?.url&&(Ho=function gh(p,u){var d,g;const C=function mu(p){const u=mh(p),d=u.link?decodeURIComponent(u.link):void 0,g=mh(d).link,C=u.deep_link_id?decodeURIComponent(u.deep_link_id):void 0;return mh(C).link||C||g||d||p}(u);if(C.includes("/__/auth/callback")){const P=mh(C),A=P.firebaseError?function sC(p){try{return JSON.parse(p)}catch{return null}}(decodeURIComponent(P.firebaseError)):null,V=null===(g=null===(d=A?.code)||void 0===d?void 0:d.split("auth/"))||void 0===g?void 0:g[1],re=V?zt(V):null;return re?{type:p.type,eventId:p.eventId,tenantId:p.tenantId,error:re,urlResponse:null,sessionId:null,postBody:null}:{type:p.type,eventId:p.eventId,tenantId:p.tenantId,sessionId:p.sessionId,urlResponse:C,postBody:null}}return null}(yn,Ie.url)),d.onEvent(Ho||yh())});return function(yn){return Me.apply(this,arguments)}}();typeof g<"u"&&"function"==typeof g.subscribe&&g.subscribe(null,V);const re=C,me=`${P.packageName.toLowerCase()}://`;fs().handleOpenURL=function(){var Me=(0,O.Z)(function*(Ie){if(Ie.toLowerCase().startsWith(me)&&V({url:Ie}),"function"==typeof re)try{re(Ie)}catch(yn){console.error(yn)}});return function(Ie){return Me.apply(this,arguments)}}()}};function yh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:zt("no-auth-event")}}function jo(){var p;return(null===(p=self?.location)||void 0===p?void 0:p.protocol)||null}function Fg(p=(0,Y.z$)()){return!("file:"!==jo()&&"ionic:"!==jo()&&"capacitor:"!==jo()||!p.toLowerCase().match(/iphone|ipad|ipod|android/))}function XM(){try{const p=self.localStorage,u=Zi();if(p)return p.setItem(u,"1"),p.removeItem(u),!function QM(p=(0,Y.z$)()){return function jc(){return(0,Y.w1)()&&11===document?.documentMode}()||function Yk(p=(0,Y.z$)()){return/Edge\/\d+/.test(p)}(p)}()||(0,Y.hl)()}catch{return cC()&&(0,Y.hl)()}return!1}function cC(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function lC(){return(function Bc(){return"http:"===jo()||"https:"===jo()}()||(0,Y.ru)()||Fg())&&!function Lg(){return(0,Y.b$)()||(0,Y.UG)()}()&&XM()&&!cC()}function JM(){return Fg()&&typeof document<"u"}function uC(){return(uC=(0,O.Z)(function*(){return!!JM()&&new Promise(p=>{const u=setTimeout(()=>{p(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(u),p(!0)})})})).apply(this,arguments)}const Ri={LOCAL:"local",NONE:"none",SESSION:"session"},yu=oe,Bn="persistence";function xa(p){return Vg.apply(this,arguments)}function Vg(){return(Vg=(0,O.Z)(function*(p){yield p._initializationPromise;const u=ka(),d=Je(Bn,p.config.apiKey,p.name);u&&u.setItem(d,p._getPersistence())})).apply(this,arguments)}function ka(){var p;try{return(null===(p=function $c(){return typeof window<"u"?window:null}())||void 0===p?void 0:p.sessionStorage)||null}catch{return null}}const dC=oe;class fo{constructor(){this.browserResolver=q(lh),this.cordovaResolver=q(Pr),this.underlyingResolver=null,this._redirectPersistence=Ma,this._completeRedirectFn=js,this._overrideRedirectResult=mg}_initialize(u){var d=this;return(0,O.Z)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(u)})()}_openPopup(u,d,g,C){var P=this;return(0,O.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(u,d,g,C)})()}_openRedirect(u,d,g,C){var P=this;return(0,O.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(u,d,g,C)})()}_isIframeWebStorageSupported(u,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(u,d)}_originValidation(u){return this.assertedUnderlyingResolver._originValidation(u)}get _shouldInitProactively(){return JM()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return dC(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var u=this;return(0,O.Z)(function*(){if(u.underlyingResolver)return;const d=yield function Qk(){return uC.apply(this,arguments)}();u.underlyingResolver=d?u.cordovaResolver:u.browserResolver})()}}function Hc(p){return p.unwrap()}function Xk(p){return rO(p)}function rO(p){const{_tokenResponse:u}=p instanceof Y.ZR?p.customData:p;if(!u)return null;if(!(p instanceof Y.ZR)&&"temporaryProof"in u&&"phoneNumber"in u)return Rc.credentialFromResult(p);const d=u.providerId;if(!d||d===dt.PASSWORD)return null;let g;switch(d){case dt.GOOGLE:g=xo;break;case dt.FACEBOOK:g=yv;break;case dt.GITHUB:g=nu;break;case dt.TWITTER:g=Rd;break;default:const{oauthIdToken:C,oauthAccessToken:P,oauthTokenSecret:A,pendingToken:V,nonce:re}=u;return P||A||C||V?V?d.startsWith("saml.")?zr._create(d,V):oi._fromParams({providerId:d,signInMethod:d,pendingToken:V,idToken:C,accessToken:P}):new wc(d).credential({idToken:C,accessToken:P,rawNonce:re}):null}return p instanceof Y.ZR?g.credentialFromError(p):g.credentialFromResult(p)}function qt(p,u){return u.catch(d=>{throw d instanceof Y.ZR&&function nO(p,u){var d;const g=null===(d=u.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===u?.code)u.resolver=new Jk(p,function uM(p,u){var d;const g=(0,Y.m9)(p),C=u;return oe(u.customData.operationType,g,"argument-error"),oe(null===(d=C.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,g,"argument-error"),Av._fromError(g,C)}(p,u));else if(g){const C=rO(u),P=u;C&&(P.credential=C,P.tenantId=g.tenantId||void 0,P.email=g.email||void 0,P.phoneNumber=g.phoneNumber||void 0)}}(p,d),d}).then(d=>{const C=d.user;return{operationType:d.operationType,credential:Xk(d),additionalUserInfo:zd(d),user:$o.getOrCreate(C)}})}function vu(p,u){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,O.Z)(function*(p,u){const d=yield u;return{verificationId:d.verificationId,confirm:g=>qt(p,d.confirm(g))}})).apply(this,arguments)}class Jk{constructor(u,d){this.resolver=d,this.auth=function tO(p){return p.wrapped()}(u)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(u){return qt(Hc(this.auth),this.resolver.resolveSignIn(u))}}class $o{constructor(u){this._delegate=u,this.multiFactor=function Nk(p){const u=(0,Y.m9)(p);return Sv.has(u)||Sv.set(u,Dv._fromUser(u)),Sv.get(u)}(u)}static getOrCreate(u){return $o.USER_MAP.has(u)||$o.USER_MAP.set(u,new $o(u)),$o.USER_MAP.get(u)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(u){return this._delegate.getIdTokenResult(u)}getIdToken(u){return this._delegate.getIdToken(u)}linkAndRetrieveDataWithCredential(u){return this.linkWithCredential(u)}linkWithCredential(u){var d=this;return(0,O.Z)(function*(){return qt(d.auth,Pv(d._delegate,u))})()}linkWithPhoneNumber(u,d){var g=this;return(0,O.Z)(function*(){return vu(g.auth,function EM(p,u,d){return Qd.apply(this,arguments)}(g._delegate,u,d))})()}linkWithPopup(u){var d=this;return(0,O.Z)(function*(){return qt(d.auth,function Bv(p,u,d){return gg.apply(this,arguments)}(d._delegate,u,fo))})()}linkWithRedirect(u){var d=this;return(0,O.Z)(function*(){return yield xa(gn(d.auth)),Ct(d._delegate,u,fo)})()}reauthenticateAndRetrieveDataWithCredential(u){return this.reauthenticateWithCredential(u)}reauthenticateWithCredential(u){var d=this;return(0,O.Z)(function*(){return qt(d.auth,Kf(d._delegate,u))})()}reauthenticateWithPhoneNumber(u,d){return vu(this.auth,function Uv(p,u,d){return hg.apply(this,arguments)}(this._delegate,u,d))}reauthenticateWithPopup(u){return qt(this.auth,function IM(p,u,d){return Vo.apply(this,arguments)}(this._delegate,u,fo))}reauthenticateWithRedirect(u){var d=this;return(0,O.Z)(function*(){return yield xa(gn(d.auth)),SM(d._delegate,u,fo)})()}sendEmailVerification(u){return function qe(p,u){return wa.apply(this,arguments)}(this._delegate,u)}unlink(u){var d=this;return(0,O.Z)(function*(){return yield function ru(p,u){return Fd.apply(this,arguments)}(d._delegate,u),d})()}updateEmail(u){return function au(p,u){return ds((0,Y.m9)(p),u,null)}(this._delegate,u)}updatePassword(u){return function Mv(p,u){return ds((0,Y.m9)(p),null,u)}(this._delegate,u)}updatePhoneNumber(u){return function Lo(p,u){return Xd.apply(this,arguments)}(this._delegate,u)}updateProfile(u){return function Ic(p,u){return Ki.apply(this,arguments)}(this._delegate,u)}verifyBeforeUpdateEmail(u,d){return function Ev(p,u,d){return Bs.apply(this,arguments)}(this._delegate,u,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}$o.USER_MAP=new WeakMap;const Cu=oe;let hC=(()=>{class p{constructor(d,g){if(this.app=d,g.isInitialized())return this._delegate=g.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:C}=d.options;Cu(C,"invalid-api-key",{appName:d.name}),Cu(C,"invalid-api-key",{appName:d.name});const P=typeof window<"u"?fo:void 0;this._delegate=g.initialize({options:{persistence:iO(C,d.name),popupRedirectResolver:P}}),this._delegate._updateErrorMap(fr),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?$o.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,g){!function be(p,u,d){const g=gn(p);oe(g._canInitEmulator,g,"emulator-config-failed"),oe(/^https?:\/\//.test(u),g,"invalid-emulator-scheme");const C=!!d?.disableWarnings,P=rM(u),{host:A,port:V}=function Yn(p){const u=rM(p),d=/(\/\/)?([^?#/]+)/.exec(p.substr(u.length));if(!d)return{host:"",port:null};const g=d[2].split("@").pop()||"",C=/^(\[[^\]]+\])(:|$)/.exec(g);if(C){const P=C[1];return{host:P,port:Zl(g.substr(P.length+1))}}{const[P,A]=g.split(":");return{host:P,port:Zl(A)}}}(u);g.config.emulator={url:`${P}//${A}${null===V?"":`:${V}`}/`},g.settings.appVerificationDisabledForTesting=!0,g.emulatorConfig=Object.freeze({host:A,port:V,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:C})}),C||function iM(){function p(){const u=document.createElement("p"),d=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p())}()}(this._delegate,d,g)}applyActionCode(d){return function Mc(p,u){return Gr.apply(this,arguments)}(this._delegate,d)}checkActionCode(d){return Jf(this._delegate,d)}confirmPasswordReset(d,g){return function yr(p,u,d){return vr.apply(this,arguments)}(this._delegate,d,g)}createUserWithEmailAndPassword(d,g){var C=this;return(0,O.Z)(function*(){return qt(C._delegate,function lM(p,u,d){return sn.apply(this,arguments)}(C._delegate,d,g))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return function Vs(p,u){return Us.apply(this,arguments)}(this._delegate,d)}isSignInWithEmailLink(d){return function ho(p,u){const d=we.parseLink(u);return"EMAIL_SIGNIN"===d?.operation}(0,d)}getRedirectResult(){var d=this;return(0,O.Z)(function*(){Cu(lC(),d._delegate,"operation-not-supported-in-this-environment");const g=yield function wr(p,u){return rh.apply(this,arguments)}(d._delegate,fo);return g?qt(d._delegate,Promise.resolve(g)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function YM(p,u){gn(p)._logFramework(u)}(this._delegate,d)}onAuthStateChanged(d,g,C){const{next:P,error:A,complete:V}=pC(d,g,C);return this._delegate.onAuthStateChanged(P,A,V)}onIdTokenChanged(d,g,C){const{next:P,error:A,complete:V}=pC(d,g,C);return this._delegate.onIdTokenChanged(P,A,V)}sendSignInLinkToEmail(d,g){return function Qe(p,u,d){return Wt.apply(this,arguments)}(this._delegate,d,g)}sendPasswordResetEmail(d,g){return function si(p,u,d){return _t.apply(this,arguments)}(this._delegate,d,g||void 0)}setPersistence(d){var g=this;return(0,O.Z)(function*(){let C;switch(function eO(p,u){yu(Object.values(Ri).includes(u),p,"invalid-persistence-type"),(0,Y.b$)()?yu(u!==Ri.SESSION,p,"unsupported-persistence-type"):(0,Y.UG)()?yu(u===Ri.NONE,p,"unsupported-persistence-type"):cC()?yu(u===Ri.NONE||u===Ri.LOCAL&&(0,Y.hl)(),p,"unsupported-persistence-type"):yu(u===Ri.NONE||XM(),p,"unsupported-persistence-type")}(g._delegate,d),d){case Ri.SESSION:C=Ma;break;case Ri.LOCAL:C=(yield q(Dc)._isAvailable())?Dc:uu;break;case Ri.NONE:C=Mt;break;default:return xt("argument-error",{appName:g._delegate.name})}return g._delegate.setPersistence(C)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return qt(this._delegate,function vv(p){return Nd.apply(this,arguments)}(this._delegate))}signInWithCredential(d){return qt(this._delegate,Ud(this._delegate,d))}signInWithCustomToken(d){return qt(this._delegate,function kt(p,u){return Qf.apply(this,arguments)}(this._delegate,d))}signInWithEmailAndPassword(d,g){return qt(this._delegate,function Pe(p,u,d){return Ud((0,Y.m9)(p),tu.credential(u,d)).catch(function(){var g=(0,O.Z)(function*(C){throw"auth/password-does-not-meet-requirements"===C.code&&jd(p),C});return function(C){return g.apply(this,arguments)}}())}(this._delegate,d,g))}signInWithEmailLink(d,g){return qt(this._delegate,function su(p,u,d){return ar.apply(this,arguments)}(this._delegate,d,g))}signInWithPhoneNumber(d,g){return vu(this._delegate,function Vv(p,u,d){return dg.apply(this,arguments)}(this._delegate,d,g))}signInWithPopup(d){var g=this;return(0,O.Z)(function*(){return Cu(lC(),g._delegate,"operation-not-supported-in-this-environment"),qt(g._delegate,function OM(p,u,d){return fg.apply(this,arguments)}(g._delegate,d,fo))})()}signInWithRedirect(d){var g=this;return(0,O.Z)(function*(){return Cu(lC(),g._delegate,"operation-not-supported-in-this-environment"),yield xa(g._delegate),AM(g._delegate,d,fo)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return function Hd(p,u){return eg.apply(this,arguments)}(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return p.Persistence=Ri,p})();function pC(p,u,d){let g=p;"function"!=typeof p&&({next:g,error:u,complete:d}=p);const C=g;return{next:A=>C(A&&$o.getOrCreate(A)),error:u,complete:d}}function iO(p,u){const d=function Xi(p,u){const d=ka();if(!d)return[];const g=Je(Bn,p,u);switch(d.getItem(g)){case Ri.NONE:return[Mt];case Ri.LOCAL:return[Dc,Ma];case Ri.SESSION:return[Ma];default:return[]}}(p,u);if(typeof self<"u"&&!d.includes(Dc)&&d.push(Dc),typeof window<"u")for(const g of[uu,Ma])d.includes(g)||d.push(g);return d.includes(Mt)||d.push(Mt),d}class Ug{constructor(){this.providerId="phone",this._delegate=new Rc(Hc(Ue.Z.auth()))}static credential(u,d){return Rc.credential(u,d)}verifyPhoneNumber(u,d){return this._delegate.verifyPhoneNumber(u,d)}unwrap(){return this._delegate}}Ug.PHONE_SIGN_IN_METHOD=Rc.PHONE_SIGN_IN_METHOD,Ug.PROVIDER_ID=Rc.PROVIDER_ID;const oO=oe;class Bg{constructor(u,d,g=Ue.Z.app()){var C;oO(null===(C=g.options)||void 0===C?void 0:C.apiKey,"invalid-api-key",{appName:g.name}),this._delegate=new Wk(g.auth(),u,d),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function sO(p){p.INTERNAL.registerComponent(new En.wA("auth-compat",u=>{const d=u.getProvider("app-compat").getImmediate(),g=u.getProvider("auth");return new hC(d,g)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:tu,FacebookAuthProvider:yv,GithubAuthProvider:nu,GoogleAuthProvider:xo,OAuthProvider:wc,SAMLAuthProvider:Ca,PhoneAuthProvider:Ug,PhoneMultiFactorGenerator:$M,RecaptchaVerifier:Bg,TwitterAuthProvider:Rd,Auth:hC,AuthCredential:ya,Error:Y.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),p.registerVersion("@firebase/auth-compat","0.4.8")}(Ue.Z)},861:(os,pr,Ze)=>{function O(Y,$e,Pt,en,En,rr,dt){try{var se=Y[rr](dt),he=se.value}catch(Ae){return void Pt(Ae)}se.done?$e(he):Promise.resolve(he).then(en,En)}function Ue(Y){return function(){var $e=this,Pt=arguments;return new Promise(function(en,En){var rr=Y.apply($e,Pt);function dt(he){O(rr,en,En,dt,se,"next",he)}function se(he){O(rr,en,En,dt,se,"throw",he)}dt(void 0)})}}Ze.d(pr,{Z:()=>Ue})},582:(os,pr,Ze)=>{function $e(z,W){var Q={};for(var ne in z)Object.prototype.hasOwnProperty.call(z,ne)&&W.indexOf(ne)<0&&(Q[ne]=z[ne]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var ce=0;for(ne=Object.getOwnPropertySymbols(z);ce<ne.length;ce++)W.indexOf(ne[ce])<0&&Object.prototype.propertyIsEnumerable.call(z,ne[ce])&&(Q[ne[ce]]=z[ne[ce]])}return Q}function Ae(z,W,Q,ne){return new(Q||(Q=Promise))(function(Z,Ce){function yt(Et){try{Re(ne.next(Et))}catch(fn){Ce(fn)}}function _e(Et){try{Re(ne.throw(Et))}catch(fn){Ce(fn)}}function Re(Et){Et.done?Z(Et.value):function ce(Z){return Z instanceof Q?Z:new Q(function(Ce){Ce(Z)})}(Et.value).then(yt,_e)}Re((ne=ne.apply(z,W||[])).next())})}function tn(z){return this instanceof tn?(this.v=z,this):new tn(z)}function xt(z,W,Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,ne=Q.apply(z,W||[]),Z=[];return ce={},Ce("next"),Ce("throw"),Ce("return"),ce[Symbol.asyncIterator]=function(){return this},ce;function Ce(Yt){ne[Yt]&&(ce[Yt]=function(_r){return new Promise(function(qn,Br){Z.push([Yt,_r,qn,Br])>1||yt(Yt,_r)})})}function yt(Yt,_r){try{!function _e(Yt){Yt.value instanceof tn?Promise.resolve(Yt.value.v).then(Re,Et):fn(Z[0][2],Yt)}(ne[Yt](_r))}catch(qn){fn(Z[0][3],qn)}}function Re(Yt){yt("next",Yt)}function Et(Yt){yt("throw",Yt)}function fn(Yt,_r){Yt(_r),Z.shift(),Z.length&&yt(Z[0][0],Z[0][1])}}function ri(z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q,W=z[Symbol.asyncIterator];return W?W.call(z):(z=function Rt(z){var W="function"==typeof Symbol&&Symbol.iterator,Q=W&&z[W],ne=0;if(Q)return Q.call(z);if(z&&"number"==typeof z.length)return{next:function(){return z&&ne>=z.length&&(z=void 0),{value:z&&z[ne++],done:!z}}};throw new TypeError(W?"Object is not iterable.":"Symbol.iterator is not defined.")}(z),Q={},ne("next"),ne("throw"),ne("return"),Q[Symbol.asyncIterator]=function(){return this},Q);function ne(Z){Q[Z]=z[Z]&&function(Ce){return new Promise(function(yt,_e){!function ce(Z,Ce,yt,_e){Promise.resolve(_e).then(function(Re){Z({value:Re,done:yt})},Ce)}(yt,_e,(Ce=z[Z](Ce)).done,Ce.value)})}}}Ze.d(pr,{FC:()=>xt,KL:()=>ri,_T:()=>$e,mG:()=>Ae,qq:()=>tn}),"function"==typeof SuppressedError&&SuppressedError}},os=>{os(os.s=365)}]);