"use strict";(self.webpackChunkphotohub=self.webpackChunkphotohub||[]).push([[179],{58:(ss,gr,Ze)=>{Ze.d(gr,{BH:()=>Wt,DV:()=>zr,Dv:()=>Ki,G6:()=>Ro,GJ:()=>qn,L:()=>dt,LL:()=>Q,P0:()=>or,Pz:()=>kt,Sg:()=>si,UG:()=>oe,UI:()=>pc,US:()=>en,Wj:()=>bi,Wl:()=>Re,Yr:()=>Rs,ZB:()=>De,ZR:()=>ce,aH:()=>tn,b$:()=>Fn,cI:()=>_e,dS:()=>ls,eu:()=>q,g5:()=>X,gK:()=>Kn,gQ:()=>Wr,h$:()=>ir,hl:()=>z,hu:()=>Ue,jU:()=>pn,lb:()=>Ti,m9:()=>yc,ne:()=>cs,p$:()=>he,pd:()=>ql,r3:()=>Hr,ru:()=>nn,tV:()=>se,uI:()=>sr,ug:()=>ks,vZ:()=>as,w1:()=>So,w9:()=>yr,xO:()=>Gl,xb:()=>Ii,z$:()=>rt,zd:()=>uo});const O={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Ue=function(k,T){if(!k)throw X(T)},X=function(k){return new Error("Firebase Database ("+O.SDK_VERSION+") INTERNAL ASSERT FAILED: "+k)},He=function(k){const T=[];let R=0;for(let te=0;te<k.length;te++){let U=k.charCodeAt(te);U<128?T[R++]=U:U<2048?(T[R++]=U>>6|192,T[R++]=63&U|128):55296==(64512&U)&&te+1<k.length&&56320==(64512&k.charCodeAt(te+1))?(U=65536+((1023&U)<<10)+(1023&k.charCodeAt(++te)),T[R++]=U>>18|240,T[R++]=U>>12&63|128,T[R++]=U>>6&63|128,T[R++]=63&U|128):(T[R++]=U>>12|224,T[R++]=U>>6&63|128,T[R++]=63&U|128)}return T},en={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(k,T){if(!Array.isArray(k))throw Error("encodeByteArray takes an array as a parameter");this.init_();const R=T?this.byteToCharMapWebSafe_:this.byteToCharMap_,te=[];for(let U=0;U<k.length;U+=3){const K=k[U],We=U+1<k.length,Mt=We?k[U+1]:0,Je=U+2<k.length,on=Je?k[U+2]:0;let ar=(15&Mt)<<2|on>>6,Bt=63&on;Je||(Bt=64,We||(ar=64)),te.push(R[K>>2],R[(3&K)<<4|Mt>>4],R[ar],R[Bt])}return te.join("")},encodeString(k,T){return this.HAS_NATIVE_SUPPORT&&!T?btoa(k):this.encodeByteArray(He(k),T)},decodeString(k,T){return this.HAS_NATIVE_SUPPORT&&!T?atob(k):function(k){const T=[];let R=0,te=0;for(;R<k.length;){const U=k[R++];if(U<128)T[te++]=String.fromCharCode(U);else if(U>191&&U<224){const K=k[R++];T[te++]=String.fromCharCode((31&U)<<6|63&K)}else if(U>239&&U<365){const Je=((7&U)<<18|(63&k[R++])<<12|(63&k[R++])<<6|63&k[R++])-65536;T[te++]=String.fromCharCode(55296+(Je>>10)),T[te++]=String.fromCharCode(56320+(1023&Je))}else{const K=k[R++],We=k[R++];T[te++]=String.fromCharCode((15&U)<<12|(63&K)<<6|63&We)}}return T.join("")}(this.decodeStringToByteArray(k,T))},decodeStringToByteArray(k,T){this.init_();const R=T?this.charToByteMapWebSafe_:this.charToByteMap_,te=[];for(let U=0;U<k.length;){const K=R[k.charAt(U++)],Mt=U<k.length?R[k.charAt(U)]:0;++U;const on=U<k.length?R[k.charAt(U)]:64;++U;const xe=U<k.length?R[k.charAt(U)]:64;if(++U,null==K||null==Mt||null==on||null==xe)throw new En;te.push(K<<2|Mt>>4),64!==on&&(te.push(Mt<<4&240|on>>2),64!==xe&&te.push(on<<6&192|xe))}return te},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let k=0;k<this.ENCODED_VALS.length;k++)this.byteToCharMap_[k]=this.ENCODED_VALS.charAt(k),this.charToByteMap_[this.byteToCharMap_[k]]=k,this.byteToCharMapWebSafe_[k]=this.ENCODED_VALS_WEBSAFE.charAt(k),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[k]]=k,k>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(k)]=k,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(k)]=k)}}};class En extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ir=function(k){const T=He(k);return en.encodeByteArray(T,!0)},dt=function(k){return ir(k).replace(/\./g,"")},se=function(k){try{return en.decodeString(k,!0)}catch(T){console.error("base64Decode failed: ",T)}return null};function he(k){return De(void 0,k)}function De(k,T){if(!(T instanceof Object))return T;switch(T.constructor){case Date:return new Date(T.getTime());case Object:void 0===k&&(k={});break;case Array:k=[];break;default:return T}for(const R in T)!T.hasOwnProperty(R)||!ct(R)||(k[R]=De(k[R],T[R]));return k}function ct(k){return"__proto__"!==k}const nt=()=>{try{return function It(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const k=process.env.__FIREBASE_DEFAULTS__;return k?JSON.parse(k):void 0})()||(()=>{if(typeof document>"u")return;let k;try{k=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const T=k&&se(k[1]);return T&&JSON.parse(T)})()}catch(k){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${k}`)}},or=k=>{const T=(k=>{var T,R;return null===(R=null===(T=nt())||void 0===T?void 0:T.emulatorHosts)||void 0===R?void 0:R[k]})(k);if(!T)return;const R=T.lastIndexOf(":");if(R<=0||R+1===T.length)throw new Error(`Invalid host ${T} with no separate hostname and port!`);const te=parseInt(T.substring(R+1),10);return"["===T[0]?[T.substring(1,R-1),te]:[T.substring(0,R),te]},tn=()=>{var k;return null===(k=nt())||void 0===k?void 0:k.config},kt=k=>{var T;return null===(T=nt())||void 0===T?void 0:T[`_${k}`]};class Wt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((T,R)=>{this.resolve=T,this.reject=R})}wrapCallback(T){return(R,te)=>{R?this.reject(R):this.resolve(te),"function"==typeof T&&(this.promise.catch(()=>{}),1===T.length?T(R):T(R,te))}}}function si(k,T){if(k.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const te=T||"demo-project",U=k.iat||0,K=k.sub||k.user_id;if(!K)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const We=Object.assign({iss:`https://securetoken.google.com/${te}`,aud:te,iat:U,exp:U+3600,auth_time:U,sub:K,user_id:K,firebase:{sign_in_provider:"custom",identities:{}}},k);return[dt(JSON.stringify({alg:"none",type:"JWT"})),dt(JSON.stringify(We)),""].join(".")}function rt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function sr(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rt())}function oe(){var k;const T=null===(k=nt())||void 0===k?void 0:k.forceEnvironment;if("node"===T)return!0;if("browser"===T)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function pn(){return"object"==typeof self&&self.self===self}function nn(){const k="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof k&&void 0!==k.id}function Fn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function So(){const k=rt();return k.indexOf("MSIE ")>=0||k.indexOf("Trident/")>=0}function Rs(){return!0===O.NODE_CLIENT||!0===O.NODE_ADMIN}function Ro(){return!oe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function z(){try{return"object"==typeof indexedDB}catch{return!1}}function q(){return new Promise((k,T)=>{try{let R=!0;const te="validate-browser-context-for-indexeddb-analytics-module",U=self.indexedDB.open(te);U.onsuccess=()=>{U.result.close(),R||self.indexedDB.deleteDatabase(te),k(!0)},U.onupgradeneeded=()=>{R=!1},U.onerror=()=>{var K;T((null===(K=U.error)||void 0===K?void 0:K.message)||"")}}catch(R){T(R)}})}class ce extends Error{constructor(T,R,te){super(R),this.code=T,this.customData=te,this.name="FirebaseError",Object.setPrototypeOf(this,ce.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Q.prototype.create)}}class Q{constructor(T,R,te){this.service=T,this.serviceName=R,this.errors=te}create(T,...R){const te=R[0]||{},U=`${this.service}/${T}`,K=this.errors[T],We=K?function Ce(k,T){return k.replace(yt,(R,te)=>{const U=T[te];return null!=U?String(U):`<${te}?>`})}(K,te):"Error";return new ce(U,`${this.serviceName}: ${We} (${U}).`,te)}}const yt=/\{\$([^}]+)}/g;function _e(k){return JSON.parse(k)}function Re(k){return JSON.stringify(k)}const Et=function(k){let T={},R={},te={},U="";try{const K=k.split(".");T=_e(se(K[0])||""),R=_e(se(K[1])||""),U=K[2],te=R.d||{},delete R.d}catch{}return{header:T,claims:R,data:te,signature:U}},yr=function(k){const R=Et(k).claims;return!!R&&"object"==typeof R&&R.hasOwnProperty("iat")},qn=function(k){const T=Et(k).claims;return"object"==typeof T&&!0===T.admin};function Hr(k,T){return Object.prototype.hasOwnProperty.call(k,T)}function zr(k,T){if(Object.prototype.hasOwnProperty.call(k,T))return k[T]}function Ii(k){for(const T in k)if(Object.prototype.hasOwnProperty.call(k,T))return!1;return!0}function pc(k,T,R){const te={};for(const U in k)Object.prototype.hasOwnProperty.call(k,U)&&(te[U]=T.call(R,k[U],U,k));return te}function as(k,T){if(k===T)return!0;const R=Object.keys(k),te=Object.keys(T);for(const U of R){if(!te.includes(U))return!1;const K=k[U],We=T[U];if(Ln(K)&&Ln(We)){if(!as(K,We))return!1}else if(K!==We)return!1}for(const U of te)if(!R.includes(U))return!1;return!0}function Ln(k){return null!==k&&"object"==typeof k}function Gl(k){const T=[];for(const[R,te]of Object.entries(k))Array.isArray(te)?te.forEach(U=>{T.push(encodeURIComponent(R)+"="+encodeURIComponent(U))}):T.push(encodeURIComponent(R)+"="+encodeURIComponent(te));return T.length?"&"+T.join("&"):""}function uo(k){const T={};return k.replace(/^\?/,"").split("&").forEach(te=>{if(te){const[U,K]=te.split("=");T[decodeURIComponent(U)]=decodeURIComponent(K)}}),T}function ql(k){const T=k.indexOf("?");if(!T)return"";const R=k.indexOf("#",T);return k.substring(T,R>0?R:void 0)}class Wr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let T=1;T<this.blockSize;++T)this.pad_[T]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(T,R){R||(R=0);const te=this.W_;if("string"==typeof T)for(let xe=0;xe<16;xe++)te[xe]=T.charCodeAt(R)<<24|T.charCodeAt(R+1)<<16|T.charCodeAt(R+2)<<8|T.charCodeAt(R+3),R+=4;else for(let xe=0;xe<16;xe++)te[xe]=T[R]<<24|T[R+1]<<16|T[R+2]<<8|T[R+3],R+=4;for(let xe=16;xe<80;xe++){const ar=te[xe-3]^te[xe-8]^te[xe-14]^te[xe-16];te[xe]=4294967295&(ar<<1|ar>>>31)}let on,Ai,U=this.chain_[0],K=this.chain_[1],We=this.chain_[2],Mt=this.chain_[3],Je=this.chain_[4];for(let xe=0;xe<80;xe++){xe<40?xe<20?(on=Mt^K&(We^Mt),Ai=1518500249):(on=K^We^Mt,Ai=1859775393):xe<60?(on=K&We|Mt&(K|We),Ai=2400959708):(on=K^We^Mt,Ai=3395469782);const ar=(U<<5|U>>>27)+on+Je+Ai+te[xe]&4294967295;Je=Mt,Mt=We,We=4294967295&(K<<30|K>>>2),K=U,U=ar}this.chain_[0]=this.chain_[0]+U&4294967295,this.chain_[1]=this.chain_[1]+K&4294967295,this.chain_[2]=this.chain_[2]+We&4294967295,this.chain_[3]=this.chain_[3]+Mt&4294967295,this.chain_[4]=this.chain_[4]+Je&4294967295}update(T,R){if(null==T)return;void 0===R&&(R=T.length);const te=R-this.blockSize;let U=0;const K=this.buf_;let We=this.inbuf_;for(;U<R;){if(0===We)for(;U<=te;)this.compress_(T,U),U+=this.blockSize;if("string"==typeof T){for(;U<R;)if(K[We]=T.charCodeAt(U),++We,++U,We===this.blockSize){this.compress_(K),We=0;break}}else for(;U<R;)if(K[We]=T[U],++We,++U,We===this.blockSize){this.compress_(K),We=0;break}}this.inbuf_=We,this.total_+=R}digest(){const T=[];let R=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let U=this.blockSize-1;U>=56;U--)this.buf_[U]=255&R,R/=256;this.compress_(this.buf_);let te=0;for(let U=0;U<5;U++)for(let K=24;K>=0;K-=8)T[te]=this.chain_[U]>>K&255,++te;return T}}function cs(k,T){const R=new xs(k,T);return R.subscribe.bind(R)}class xs{constructor(T,R){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=R,this.task.then(()=>{T(this)}).catch(te=>{this.error(te)})}next(T){this.forEachObserver(R=>{R.next(T)})}error(T){this.forEachObserver(R=>{R.error(T)}),this.close(T)}complete(){this.forEachObserver(T=>{T.complete()}),this.close()}subscribe(T,R,te){let U;if(void 0===T&&void 0===R&&void 0===te)throw new Error("Missing Observer.");U=function ma(k,T){if("object"!=typeof k||null===k)return!1;for(const R of T)if(R in k&&"function"==typeof k[R])return!0;return!1}(T,["next","error","complete"])?T:{next:T,error:R,complete:te},void 0===U.next&&(U.next=rn),void 0===U.error&&(U.error=rn),void 0===U.complete&&(U.complete=rn);const K=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?U.error(this.finalError):U.complete()}catch{}}),this.observers.push(U),K}unsubscribeOne(T){void 0===this.observers||void 0===this.observers[T]||(delete this.observers[T],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(T){if(!this.finalized)for(let R=0;R<this.observers.length;R++)this.sendOne(R,T)}sendOne(T,R){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[T])try{R(this.observers[T])}catch(te){typeof console<"u"&&console.error&&console.error(te)}})}close(T){this.finalized||(this.finalized=!0,void 0!==T&&(this.finalError=T),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rn(){}const Ki=function(k,T,R,te){let U;if(te<T?U="at least "+T:te>R&&(U=0===R?"none":"no more than "+R),U)throw new Error(k+" failed: Was called with "+te+(1===te?" argument.":" arguments.")+" Expects "+U+".")};function Kn(k,T){return`${k} failed: ${T} argument `}function bi(k,T,R,te){if((!te||R)&&"function"!=typeof R)throw new Error(Kn(k,T)+"must be a valid function.")}function Ti(k,T,R,te){if((!te||R)&&("object"!=typeof R||null===R))throw new Error(Kn(k,T)+"must be a valid context object.")}const ls=function(k){const T=[];let R=0;for(let te=0;te<k.length;te++){let U=k.charCodeAt(te);if(U>=55296&&U<=56319){const K=U-55296;te++,Ue(te<k.length,"Surrogate pair missing trail surrogate."),U=65536+(K<<10)+(k.charCodeAt(te)-56320)}U<128?T[R++]=U:U<2048?(T[R++]=U>>6|192,T[R++]=63&U|128):U<65536?(T[R++]=U>>12|224,T[R++]=U>>6&63|128,T[R++]=63&U|128):(T[R++]=U>>18|240,T[R++]=U>>12&63|128,T[R++]=U>>6&63|128,T[R++]=63&U|128)}return T},ks=function(k){let T=0;for(let R=0;R<k.length;R++){const te=k.charCodeAt(R);te<128?T++:te<2048?T+=2:te>=55296&&te<=56319?(T+=4,R++):T+=3}return T};function yc(k){return k&&k._delegate?k._delegate:k}},292:(ss,gr,Ze)=>{function O(t){return"function"==typeof t}function Ue(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const X=Ue(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function He(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Pt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(O(r))try{r()}catch(o){e=o instanceof X?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{ir(o)}catch(s){e=e??[],s instanceof X?e=[...e,...s.errors]:e.push(s)}}if(e)throw new X(e)}}add(e){var n;if(e&&e!==this)if(this.closed)ir(e);else{if(e instanceof Pt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&He(n,e)}remove(e){const{_finalizers:n}=this;n&&He(n,e),e instanceof Pt&&e._removeParent(this)}}Pt.EMPTY=(()=>{const t=new Pt;return t.closed=!0,t})();const en=Pt.EMPTY;function En(t){return t instanceof Pt||t&&"closed"in t&&O(t.remove)&&O(t.add)&&O(t.unsubscribe)}function ir(t){O(t)?t():t.unsubscribe()}const dt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},se={setTimeout(t,e,...n){const{delegate:r}=se;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=se;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function he(t){se.setTimeout(()=>{const{onUnhandledError:e}=dt;if(!e)throw t;e(t)})}function De(){}const ct=xt("C",void 0,void 0);function xt(t,e,n){return{kind:t,value:e,error:n}}let ze=null;function nt(t){if(dt.useDeprecatedSynchronousErrorHandling){const e=!ze;if(e&&(ze={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=ze;if(ze=null,n)throw r}}else t()}class or extends Pt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,En(e)&&e.add(this)):this.destination=pn}static create(e,n,r){return new si(e,n,r)}next(e){this.isStopped?oe(function _r(t){return xt("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?oe(function It(t){return xt("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?oe(ct,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const tn=Function.prototype.bind;function kt(t,e){return tn.call(t,e)}class Wt{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){rt(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){rt(r)}else rt(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){rt(n)}}}class si extends or{constructor(e,n,r){let i;if(super(),O(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&dt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&kt(e.next,o),error:e.error&&kt(e.error,o),complete:e.complete&&kt(e.complete,o)}):i=e}this.destination=new Wt(i)}}function rt(t){dt.useDeprecatedSynchronousErrorHandling?function mr(t){dt.useDeprecatedSynchronousErrorHandling&&ze&&(ze.errorThrown=!0,ze.error=t)}(t):he(t)}function oe(t,e){const{onStoppedNotification:n}=dt;n&&se.setTimeout(()=>n(t,e))}const pn={closed:!0,next:De,error:function sr(t){throw t},complete:De},nn="function"==typeof Symbol&&Symbol.observable||"@@observable";function Fn(t){return t}function So(t){return 0===t.length?Fn:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let st=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function z(t){return t&&t instanceof or||function Ro(t){return t&&O(t.next)&&O(t.error)&&O(t.complete)}(t)&&En(t)}(n)?n:new si(n,r,i);return nt(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Rs(r))((i,o)=>{const s=new si({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[nn](){return this}pipe(...n){return So(n)(this)}toPromise(n){return new(n=Rs(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Rs(t){var e;return null!==(e=t??dt.Promise)&&void 0!==e?e:Promise}const q=Ue(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let J=(()=>{class t extends st{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new ne(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new q}next(n){nt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){nt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){nt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?en:(this.currentObservers=null,o.push(n),new Pt(()=>{this.currentObservers=null,He(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new st;return n.source=this,n}}return t.create=(e,n)=>new ne(e,n),t})();class ne extends J{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:en}}function ce(t){return O(t?.lift)}function Q(t){return e=>{if(ce(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ce(t,e,n,r,i){return new yt(t,e,n,r,i)}class yt extends or{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function _e(t,e){return Q((n,r)=>{let i=0;n.subscribe(Ce(r,o=>{r.next(t.call(e,o,i++))}))})}var Re=Ze(582);const Et=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function fn(t){return O(t?.then)}function Qt(t){return O(t[nn])}function yr(t){return Symbol.asyncIterator&&O(t?.[Symbol.asyncIterator])}function qn(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const zr=function Hr(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ii(t){return O(t?.[zr])}function pc(t){return(0,Re.FC)(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield(0,Re.qq)(n.read());if(i)return yield(0,Re.qq)(void 0);yield yield(0,Re.qq)(r)}}finally{n.releaseLock()}})}function as(t){return O(t?.getReader)}function Ln(t){if(t instanceof st)return t;if(null!=t){if(Qt(t))return function fc(t){return new st(e=>{const n=t[nn]();if(O(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Et(t))return function Gl(t){return new st(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(fn(t))return function uo(t){return new st(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,he)})}(t);if(yr(t))return Wr(t);if(Ii(t))return function ql(t){return new st(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(as(t))return function cs(t){return Wr(pc(t))}(t)}throw qn(t)}function Wr(t){return new st(e=>{(function xs(t,e){var n,r,i,o;return(0,Re.mG)(this,void 0,void 0,function*(){try{for(n=(0,Re.KL)(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Dr(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function rn(t,e,n=1/0){return O(e)?rn((r,i)=>_e((o,s)=>e(r,o,i,s))(Ln(t(r,i))),n):("number"==typeof e&&(n=e),Q((r,i)=>function ma(t,e,n,r,i,o,s,a){const c=[];let l=0,h=0,f=!1;const _=()=>{f&&!c.length&&!l&&e.complete()},v=I=>l<r?E(I):c.push(I),E=I=>{o&&e.next(I),l++;let b=!1;Ln(n(I,h++)).subscribe(Ce(e,L=>{i?.(L),o?v(L):e.next(L)},()=>{b=!0},void 0,()=>{if(b)try{for(l--;c.length&&l<r;){const L=c.shift();s?Dr(e,s,()=>E(L)):E(L)}_()}catch(L){e.error(L)}}))};return t.subscribe(Ce(e,v,()=>{f=!0,_()})),()=>{a?.()}}(r,i,t,n)))}function Ki(t=1/0){return rn(Fn,t)}const Kn=new st(t=>t.complete());function ls(t){return t[t.length-1]}function ks(t){return O(ls(t))?t.pop():void 0}function Ns(t){return function Ti(t){return t&&O(t.schedule)}(ls(t))?t.pop():void 0}function vr(t,e=0){return Q((n,r)=>{n.subscribe(Ce(r,i=>Dr(r,t,()=>r.next(i),e),()=>Dr(r,t,()=>r.complete(),e),i=>Dr(r,t,()=>r.error(i),e)))})}function Gr(t,e=0){return Q((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function yc(t,e){if(!t)throw new Error("Iterable cannot be null");return new st(n=>{Dr(n,e,()=>{const r=t[Symbol.asyncIterator]();Dr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function R(t,e){return e?function T(t,e){if(null!=t){if(Qt(t))return function Fs(t,e){return Ln(t).pipe(Gr(e),vr(e))}(t,e);if(Et(t))return function Sd(t,e){return new st(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(fn(t))return function mc(t,e){return Ln(t).pipe(Gr(e),vr(e))}(t,e);if(yr(t))return yc(t,e);if(Ii(t))return function Kl(t,e){return new st(n=>{let r;return Dr(n,e,()=>{r=t[zr](),Dr(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>O(r?.return)&&r.return()})}(t,e);if(as(t))return function k(t,e){return yc(pc(t),e)}(t,e)}throw qn(t)}(t,e):Ln(t)}function te(...t){const e=Ns(t),n=function _c(t,e){return"number"==typeof ls(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Ln(r[0]):Ki(n)(R(r,e)):Kn}class U extends J{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function K(...t){return R(t,Ns(t))}function We(t={}){const{connector:e=(()=>new J),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,c,l=0,h=!1,f=!1;const _=()=>{a?.unsubscribe(),a=void 0},v=()=>{_(),s=c=void 0,h=f=!1},E=()=>{const I=s;v(),I?.unsubscribe()};return Q((I,b)=>{l++,!f&&!h&&_();const L=c=c??e();b.add(()=>{l--,0===l&&!f&&!h&&(a=Mt(E,i))}),L.subscribe(b),!s&&l>0&&(s=new si({next:N=>L.next(N),error:N=>{f=!0,_(),a=Mt(v,n,N),L.error(N)},complete:()=>{h=!0,_(),a=Mt(v,r),L.complete()}}),Ln(I).subscribe(s))})(o)}}function Mt(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new si({next:()=>{r.unsubscribe(),t()}});return Ln(e(...n)).subscribe(r)}function Je(t,e){return Q((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(Ce(r,c=>{i?.unsubscribe();let l=0;const h=o++;Ln(t(c,h)).subscribe(i=Ce(r,f=>r.next(e?e(c,f,h,l++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function on(t,e=Fn){return t=t??Ai,Q((n,r)=>{let i,o=!0;n.subscribe(Ce(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function Ai(t,e){return t===e}function xe(t){for(let e in t)if(t[e]===xe)return e;throw Error("Could not find renamed property on target object.")}function ar(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Bt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Bt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function us(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const ya=xe({__forward_ref__:xe});function j(t){return t.__forward_ref__=j,t.toString=function(){return Bt(this())},t}function F(t){return ue(t)?t():t}function ue(t){return"function"==typeof t&&t.hasOwnProperty(ya)&&t.__forward_ref__===j}function ke(t){return t&&!!t.\u0275providers}const lt="https://g.co/ng/security#xss";class ee extends Error{constructor(e,n){super(function Zn(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Se(t){return"string"==typeof t?t:null==t?"":String(t)}function Rf(t,e){throw new ee(-201,!1)}function ai(t,e){null==t&&function Be(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function Te(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Yn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Yl(t){return va(t,Ql)||va(t,hv)}function va(t,e){return t.hasOwnProperty(e)?t[e]:null}function vc(t){return t&&(t.hasOwnProperty(Xl)||t.hasOwnProperty(Nf))?t[Xl]:null}const Ql=xe({\u0275prov:xe}),Xl=xe({\u0275inj:xe}),hv=xe({ngInjectableDef:xe}),Nf=xe({ngInjectorDef:xe});var pt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(pt||{});let Jl;function Sr(t){const e=Jl;return Jl=t,e}function pv(t,e,n){const r=Yl(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&pt.Optional?null:void 0!==e?e:void Rf(Bt(t))}const Gt=globalThis,ci={},Bf="__NG_DI_FLAG__",Cc="ngTempTokenPath",jf=/\n/gm,kd="__source";let wc;function xo(t){const e=wc;return wc=t,e}function Ca(t,e=pt.Default){if(void 0===wc)throw new ee(-203,!1);return null===wc?pv(t,void 0,e):wc.get(t,e&pt.Optional?null:void 0,e)}function ie(t,e=pt.Default){return(function eu(){return Jl}()||Ca)(F(t),e)}function we(t,e=pt.Default){return ie(t,$f(e))}function $f(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function nu(t){const e=[];for(let n=0;n<t.length;n++){const r=F(t[n]);if(Array.isArray(r)){if(0===r.length)throw new ee(900,!1);let i,o=pt.Default;for(let s=0;s<r.length;s++){const a=r[s],c=Pc(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}e.push(ie(i,o))}else e.push(ie(r))}return e}function Si(t,e){return t[Bf]=e,t.prototype[Bf]=e,t}function Pc(t){return t[Bf]}function ko(t){return{toString:t}.toString()}var ru=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(ru||{}),ho=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ho||{});const qr={},bt=[],wa=xe({\u0275cmp:xe}),Nd=xe({\u0275dir:xe}),Fd=xe({\u0275pipe:xe}),Ld=xe({\u0275mod:xe}),Vn=xe({\u0275fac:xe}),Mc=xe({__NG_ELEMENT_ID__:xe}),Cv=xe({__NG_ENV_ID__:xe});function Vd(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Oc(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];zf(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function Hf(t){return 3===t||4===t||6===t}function zf(t){return 64===t.charCodeAt(0)}function iu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ud(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ud(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const Bd="ng-template";function Wf(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==Vd(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function ou(t){return 4===t.type&&t.value!==Bd}function Gf(t,e,n){return e===(4!==t.type||n?t.value:Bd)}function wv(t,e,n){let r=4;const i=t.attrs||[],o=function qf(t){for(let e=0;e<t.length;e++)if(Hf(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!Gf(t,c,n)||""===c&&1===e.length){if(Ri(r))return!1;s=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!Wf(t.attrs,l,n)){if(Ri(r))return!1;s=!0}continue}const f=Pv(8&r?"class":c,i,ou(t),n);if(-1===f){if(Ri(r))return!1;s=!0;continue}if(""!==l){let _;_=f>o?"":i[f+1].toLowerCase();const v=8&r?_:null;if(v&&-1!==Vd(v,l,0)||2&r&&l!==_){if(Ri(r))return!1;s=!0}}}}else{if(!s&&!Ri(r)&&!Ri(c))return!1;if(s&&Ri(c))continue;s=!1,r=c|1&r}}return Ri(r)||s}function Ri(t){return 0==(1&t)}function Pv(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function Ev(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function jd(t,e,n=!1){for(let r=0;r<e.length;r++)if(wv(t,e[r],n))return!0;return!1}function Kf(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Zf(t,e){return t?":not("+e.trim()+")":e}function Yf(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Ri(s)&&(e+=Zf(o,i),i=""),r=s,o=o||!Ri(r);n++}return""!==i&&(e+=Zf(o,i)),e}function Tt(t){return ko(()=>{const e=eg(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ru.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ho.Emulated,styles:t.styles||bt,_:null,schemas:t.schemas||null,tView:null,id:""};Wd(n);const r=t.dependencies;return n.directiveDefs=Gd(r,!1),n.pipeDefs=Gd(r,!0),n.id=function lM(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function su(t){return _t(t)||Cr(t)}function Jf(t){return null!==t}function Un(t){return ko(()=>({type:t.type,bootstrap:t.bootstrap||bt,declarations:t.declarations||bt,imports:t.imports||bt,exports:t.exports||bt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function zd(t,e){if(null==t)return qr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function Ve(t){return ko(()=>{const e=eg(t);return Wd(e),e})}function _t(t){return t[wa]||null}function Cr(t){return t[Nd]||null}function wr(t){return t[Fd]||null}function Kr(t,e){const n=t[Ld]||null;if(!n&&!0===e)throw new Error(`Type ${Bt(t)} does not have '\u0275mod' property.`);return n}function eg(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||qr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||bt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:zd(t.inputs,e),outputs:zd(t.outputs)}}function Wd(t){t.features?.forEach(e=>e(t))}function Gd(t,e){if(!t)return null;const n=e?wr:su;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(Jf)}const sn=0,Pe=1,Qe=2,qt=3,po=4,au=5,cr=6,bc=7,_n=8,Vs=9,Us=10,qe=11,Pa=12,Mv=13,Bs=14,Sn=15,Ea=16,Tc=17,Zi=18,cu=19,Ov=20,hs=21,fo=22,lu=23,No=24,ut=25,ng=1,Iv=2,Fo=7,uu=9,Rr=11;function ui(t){return Array.isArray(t)&&"object"==typeof t[ng]}function Zr(t){return Array.isArray(t)&&!0===t[ng]}function Tv(t){return 0!=(4&t.flags)}function Ac(t){return t.componentOffset>-1}function rg(t){return 1==(1&t.flags)}function Lo(t){return!!t.template}function Av(t){return 0!=(512&t[Qe])}function Ia(t,e){return t.hasOwnProperty(Vn)?t[Vn]:null}let Pr=null,Dc=!1;function Qi(t){const e=Pr;return Pr=t,e}const Zd={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function kv(t){if(!Ta(t)||t.dirty){if(!t.producerMustRecompute(t)&&!pu(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function hu(t){t.dirty=!0,function sg(t){if(void 0===t.liveConsumerNode)return;const e=Dc;Dc=!0;try{for(const n of t.liveConsumerNode)n.dirty||hu(n)}finally{Dc=e}}(t),t.consumerMarkedDirty?.(t)}function Yd(t){return t&&(t.nextProducerIndex=0),Qi(t)}function ba(t,e){if(Qi(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Ta(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)fu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function pu(t){Sc(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(kv(n),r!==n.version))return!0}return!1}function Nv(t){if(Sc(t),Ta(t))for(let e=0;e<t.producerNode.length;e++)fu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function fu(t,e){if(function Xd(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Sc(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)fu(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Sc(i),i.producerIndexOfThis[r]=e}}function Ta(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Sc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Fv=null;const dg=()=>{},wM=(()=>({...Zd,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:dg}))();class PM{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function di(){return Uv}function Uv(t){return t.type.prototype.ngOnChanges&&(t.setInput=EM),hg}function hg(){const t=Bv(this),e=t?.current;if(e){const n=t.previous;if(n===qr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function EM(t,e,n,r){const i=this.declaredInputs[n],o=Bv(t)||function pg(t,e){return t[eh]=e}(t,{previous:qr,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new PM(c&&c.currentValue,e,a===qr),t[r]=e}di.ngInherit=!0;const eh="__ngSimpleChanges__";function Bv(t){return t[eh]||null}const Vo=function(t,e,n){};function At(t){for(;Array.isArray(t);)t=t[sn];return t}function nh(t,e){return At(e[t])}function hi(t,e){return At(e[t.index])}function rh(t,e){return t.data[e]}function xi(t,e){const n=e[t];return ui(n)?n:n[sn]}function Uo(t,e){return null==e?null:t[e]}function jv(t){t[Tc]=0}function _g(t){1024&t[Qe]||(t[Qe]|=1024,$v(t,1))}function ih(t){1024&t[Qe]&&(t[Qe]&=-1025,$v(t,-1))}function $v(t,e){let n=t[qt];if(null===n)return;n[au]+=e;let r=n;for(n=n[qt];null!==n&&(1===e&&1===r[au]||-1===e&&0===r[au]);)n[au]+=e,r=n,n=n[qt]}const je={lFrame:Kv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function vg(){return je.bindingsEnabled}function Da(){return null!==je.skipHydrationRootTNode}function ae(){return je.lFrame.lView}function Ct(){return je.lFrame.tView}function Xn(t){return je.lFrame.contextLView=t,t[_n]}function Rn(t){return je.lFrame.contextLView=null,t}function Er(){let t=sh();for(;null!==t&&64===t.type;)t=t.parent;return t}function sh(){return je.lFrame.currentTNode}function Xi(t,e){const n=je.lFrame;n.currentTNode=t,n.isParent=e}function ah(){return je.lFrame.isParent}function _u(){je.lFrame.isParent=!1}function xr(){const t=je.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function $s(){return je.lFrame.bindingIndex++}function Eg(t,e){const n=je.lFrame;n.bindingIndex=n.bindingRootIndex=t,Mg(e)}function Mg(t){je.lFrame.currentDirectiveIndex=t}function Wv(){return je.lFrame.currentQueryIndex}function Fc(t){je.lFrame.currentQueryIndex=t}function LM(t){const e=t[Pe];return 2===e.type?e.declTNode:1===e.type?t[cr]:null}function Gv(t,e,n){if(n&pt.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&pt.Host||(i=LM(o),null===i||(o=o[Bs],10&i.type))););if(null===i)return!1;e=i,t=o}const r=je.lFrame=qv();return r.currentTNode=e,r.lView=t,!0}function Og(t){const e=qv(),n=t[Pe];je.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function qv(){const t=je.lFrame,e=null===t?null:t.child;return null===e?Kv(t):e}function Kv(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Zv(){const t=je.lFrame;return je.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Yv=Zv;function Ig(){const t=Zv();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Yr(){return je.lFrame.selectedIndex}function Sa(t){je.lFrame.selectedIndex=t}function mn(){const t=je.lFrame;return rh(t.tView,t.selectedIndex)}let Jv=!0;function lh(){return Jv}function Bo(t){Jv=t}function uh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=h&&(t.destroyHooks??=[]).push(n,h)}}function Lc(t,e,n){eC(t,e,3,n)}function dh(t,e,n,r){(3&t[Qe])===n&&eC(t,e,n,r)}function hh(t,e){let n=t[Qe];(3&n)===e&&(n&=8191,n+=1,t[Qe]=n)}function eC(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let c=void 0!==r?65535&t[Tc]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[Tc]+=65536),(a<o||-1==o)&&($M(t,n,e,c),t[Tc]=(4294901760&t[Tc])+c+2),c++}function ph(t,e){Vo(4,t,e);const n=Qi(null);try{e.call(t)}finally{Qi(n),Vo(5,t,e)}}function $M(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[Qe]>>13<t[Tc]>>16&&(3&t[Qe])===e&&(t[Qe]+=8192,ph(a,o)):ph(a,o)}const mu=-1;class Ra{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Dg(t){return t!==mu}function Vc(t){return 32767&t}function gh(t,e){let n=function GM(t){return t>>16}(t),r=e;for(;n>0;)r=r[Bs],n--;return r}let gs=!0;function _h(t){const e=gs;return gs=t,e}const mh=255,nC=5;let Sg=0;const jo={};function Uc(t,e){const n=rC(t,e);if(-1!==n)return n;const r=e[Pe];r.firstCreatePass&&(t.injectorIndex=e.length,Rg(r.data,t),Rg(e,null),Rg(r.blueprint,null));const i=Bc(t,e),o=t.injectorIndex;if(Dg(i)){const s=Vc(i),a=gh(i,e),c=a[Pe].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Rg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function rC(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Bc(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=cC(i),null===r)return mu;if(n++,i=i[Bs],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return mu}function xg(t,e,n){!function qM(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Mc)&&(r=n[Mc]),null==r&&(r=n[Mc]=Sg++);const i=r&mh;e.data[t+(i>>nC)]|=1<<i}(t,e,n)}function iC(t,e,n){if(n&pt.Optional||void 0!==t)return t;Rf()}function oC(t,e,n,r){if(n&pt.Optional&&void 0===r&&(r=null),!(n&(pt.Self|pt.Host))){const i=t[Vs],o=Sr(void 0);try{return i?i.get(e,r,n&pt.Optional):pv(e,r,n&pt.Optional)}finally{Sr(o)}}return iC(r,0,n)}function sC(t,e,n,r=pt.Default,i){if(null!==t){if(2048&e[Qe]&&!(r&pt.Self)){const s=function YM(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[Qe]&&!(512&s[Qe]);){const a=kg(o,s,n,r|pt.Self,jo);if(a!==jo)return a;let c=o.parent;if(!c){const l=s[Ov];if(l){const h=l.get(n,jo,r);if(h!==jo)return h}c=cC(s),s=s[Bs]}o=c}return i}(t,e,n,r,jo);if(s!==jo)return s}const o=kg(t,e,n,r,jo);if(o!==jo)return o}return oC(e,n,r,i)}function kg(t,e,n,r,i){const o=function Fg(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Mc)?t[Mc]:void 0;return"number"==typeof e?e>=0?e&mh:ZM:e}(n);if("function"==typeof o){if(!Gv(e,t,r))return r&pt.Host?iC(i,0,r):oC(e,n,r,i);try{let s;if(s=o(r),null!=s||r&pt.Optional)return s;Rf()}finally{Yv()}}else if("number"==typeof o){let s=null,a=rC(t,e),c=mu,l=r&pt.Host?e[Sn][cr]:null;for((-1===a||r&pt.SkipSelf)&&(c=-1===a?Bc(t,e):e[a+8],c!==mu&&aC(r,!1)?(s=e[Pe],a=Vc(c),e=gh(c,e)):a=-1);-1!==a;){const h=e[Pe];if(vh(o,a,h.data)){const f=Ng(a,e,n,s,r,l);if(f!==jo)return f}c=e[a+8],c!==mu&&aC(r,e[Pe].data[a+8]===l)&&vh(o,a,e)?(s=h,a=Vc(c),e=gh(c,e)):a=-1}}return i}function Ng(t,e,n,r,i,o){const s=e[Pe],a=s.data[t+8],h=yh(a,s,n,null==r?Ac(a)&&gs:r!=s&&0!=(3&a.type),i&pt.Host&&o===a);return null!==h?xa(e,s,h,a):jo}function yh(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,c=t.directiveStart,h=o>>20,_=i?a+h:t.directiveEnd;for(let v=r?a:a+h;v<_;v++){const E=s[v];if(v<c&&n===E||v>=c&&E.type===n)return v}if(i){const v=s[c];if(v&&Lo(v)&&v.type===n)return c}return null}function xa(t,e,n,r){let i=t[n];const o=e.data;if(function tC(t){return t instanceof Ra}(i)){const s=i;s.resolving&&function Zl(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new ee(-200,`Circular dependency in DI detected for ${t}${n}`)}(function ht(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Se(t)}(o[n]));const a=_h(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Sr(s.injectImpl):null;Gv(t,r,pt.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function Tg(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=Uv(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==l&&Sr(l),_h(a),s.resolving=!1,Yv()}}return i}function vh(t,e,n){return!!(n[e+(t>>nC)]&1<<t)}function aC(t,e){return!(t&pt.Self||t&pt.Host&&e)}class Qr{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return sC(this._tNode,this._lView,e,$f(r),n)}}function ZM(){return new Qr(Er(),ae())}function Mr(t){return ko(()=>{const e=t.prototype.constructor,n=e[Vn]||wh(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[Vn]||wh(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function wh(t){return ue(t)?()=>{const e=wh(F(t));return e&&e()}:Ia(t)}function cC(t){const e=t[Pe],n=e.type;return 2===n?e.declTNode:1===n?t[cr]:null}const $o="__parameters__";function Hc(t,e,n){return ko(()=>{const r=function Vg(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,l,h){const f=c.hasOwnProperty($o)?c[$o]:Object.defineProperty(c,$o,{value:[]})[$o];for(;f.length<=h;)f.push(null);return(f[h]=f[h]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Na(t,e){t.forEach(n=>Array.isArray(n)?Na(n,e):e(n))}function hC(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function go(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Wc(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function Kt(t,e,n){let r=Hs(t,e);return r>=0?t[1|r]=n:(r=~r,function nO(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Cu(t,e){const n=Hs(t,e);if(n>=0)return t[1|n]}function Hs(t,e){return function Ho(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const p=Si(Hc("Optional"),8),d=Si(Hc("SkipSelf"),4);function wC(t){return 128==(128&t.flags)}var Gc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Gc||{});const wW=/^>|^->|<!--|-->|--!>|<!-$/g,PW=/(<|>)/g,EW="\u200b$1\u200b";const lO=new Map;let MW=0;const dO="__ngContext__";function pi(t,e){ui(e)?(t[dO]=e[cu],function IW(t){lO.set(t[cu],t)}(e)):t[dO]=e}let hO;function pO(t,e){return hO(t,e)}function qg(t){const e=t[qt];return Zr(e)?e[qt]:e}function mN(t){return vN(t[Pa])}function yN(t){return vN(t[po])}function vN(t){for(;null!==t&&!Zr(t);)t=t[po];return t}function Ih(t,e,n,r,i){if(null!=r){let o,s=!1;Zr(r)?o=r:ui(r)&&(s=!0,r=r[sn]);const a=At(r);0===t&&null!==n?null==i?EN(e,n,a):Mu(e,n,a,i||null,!0):1===t&&null!==n?Mu(e,n,a,i||null,!0):2===t?function TC(t,e,n){const r=IC(t,e);r&&function WW(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function KW(t,e,n,r,i){const o=n[Fo];o!==At(n)&&Ih(e,t,r,o,i);for(let a=Rr;a<n.length;a++){const c=n[a];Zg(c[Pe],c,t,e,r,o)}}(e,t,o,n,i)}}function fO(t,e){return t.createComment(function lN(t){return t.replace(wW,e=>e.replace(PW,EW))}(e))}function MC(t,e,n){return t.createElement(e,n)}function wN(t,e){const n=t[uu],r=n.indexOf(e);ih(e),n.splice(r,1)}function OC(t,e){if(t.length<=Rr)return;const n=Rr+e,r=t[n];if(r){const i=r[Ea];null!==i&&i!==t&&wN(i,r),e>0&&(t[n-1][po]=r[po]);const o=go(t,Rr+e);!function LW(t,e){Zg(t,e,e[qe],2,null,null),e[sn]=null,e[cr]=null}(r[Pe],r);const s=o[Zi];null!==s&&s.detachView(o[Pe]),r[qt]=null,r[po]=null,r[Qe]&=-129}return r}function gO(t,e){if(!(256&e[Qe])){const n=e[qe];e[lu]&&Nv(e[lu]),e[No]&&Nv(e[No]),n.destroyNode&&Zg(t,e,n,3,null,null),function BW(t){let e=t[Pa];if(!e)return _O(t[Pe],t);for(;e;){let n=null;if(ui(e))n=e[Pa];else{const r=e[Rr];r&&(n=r)}if(!n){for(;e&&!e[po]&&e!==t;)ui(e)&&_O(e[Pe],e),e=e[qt];null===e&&(e=t),ui(e)&&_O(e[Pe],e),n=e&&e[po]}e=n}}(e)}}function _O(t,e){if(!(256&e[Qe])){e[Qe]&=-129,e[Qe]|=256,function zW(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Ra)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];Vo(4,a,c);try{c.call(a)}finally{Vo(5,a,c)}}else{Vo(4,i,o);try{o.call(i)}finally{Vo(5,i,o)}}}}}(t,e),function HW(t,e){const n=t.cleanup,r=e[bc];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[bc]=null);const i=e[hs];if(null!==i){e[hs]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[Pe].type&&e[qe].destroy();const n=e[Ea];if(null!==n&&Zr(e[qt])){n!==e[qt]&&wN(n,e);const r=e[Zi];null!==r&&r.detachView(t)}!function bW(t){lO.delete(t[cu])}(e)}}function mO(t,e,n){return function PN(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[sn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===ho.None||o===ho.Emulated)return null}return hi(r,n)}}(t,e.parent,n)}function Mu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function EN(t,e,n){t.appendChild(e,n)}function MN(t,e,n,r,i){null!==r?Mu(t,e,n,r,i):EN(t,e,n)}function IC(t,e){return t.parentNode(e)}function ON(t,e,n){return bN(t,e,n)}let yO,PO,DC,bN=function IN(t,e,n){return 40&t.type?hi(t,n):null};function bC(t,e,n,r){const i=mO(t,r,e),o=e[qe],a=ON(r.parent||e[cr],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)MN(o,i,n[c],a,!1);else MN(o,i,n,a,!1);void 0!==yO&&yO(o,r,e,n,i)}function Kg(t,e){if(null!==e){const n=e.type;if(3&n)return hi(e,t);if(4&n)return vO(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Kg(t,r);{const i=t[e.index];return Zr(i)?vO(-1,i):At(i)}}if(32&n)return pO(e,t)()||At(t[e.index]);{const r=AN(t,e);return null!==r?Array.isArray(r)?r[0]:Kg(qg(t[Sn]),r):Kg(t,e.next)}}return null}function AN(t,e){return null!==e?t[Sn][cr].projection[e.projection]:null}function vO(t,e){const n=Rr+t+1;if(n<e.length){const r=e[n],i=r[Pe].firstChild;if(null!==i)return Kg(r,i)}return e[Fo]}function CO(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;if(s&&0===e&&(a&&pi(At(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)CO(t,e,n.child,r,i,o,!1),Ih(e,t,i,a,o);else if(32&c){const l=pO(n,r);let h;for(;h=l();)Ih(e,t,i,h,o);Ih(e,t,i,a,o)}else 16&c?SN(t,e,r,n,i,o):Ih(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Zg(t,e,n,r,i,o){CO(n,r,t.firstChild,e,i,o,!1)}function SN(t,e,n,r,i,o){const s=n[Sn],c=s[cr].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Ih(e,t,i,c[l],o);else{let l=c;const h=s[qt];wC(r)&&(l.flags|=128),CO(t,e,l,h,i,o,!0)}}function RN(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function xN(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&Oc(t,e,r),null!==i&&RN(t,e,i),null!==o&&function YW(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}function FN(t){return function EO(){if(void 0===DC&&(DC=null,Gt.trustedTypes))try{DC=Gt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return DC}()?.createScriptURL(t)||t}class LN{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lt})`}}function qc(t){return t instanceof LN?t.changingThisBreaksApplicationSecurity:t}function Yg(t,e){const n=function sG(t){return t instanceof LN&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${lt})`)}return n===e}const uG=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ah=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ah||{});function Or(t){const e=Xg();return e?e.sanitize(Ah.URL,t)||"":Yg(t,"URL")?qc(t):function MO(t){return(t=String(t)).match(uG)?t:"unsafe:"+t}(Se(t))}function zN(t){const e=Xg();if(e)return FN(e.sanitize(Ah.RESOURCE_URL,t)||"");if(Yg(t,"ResourceURL"))return FN(qc(t));throw new ee(904,!1)}function Xg(){const t=ae();return t&&t[Us].sanitizer}class fe{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Te({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Jg=new fe("ENVIRONMENT_INITIALIZER"),GN=new fe("INJECTOR",-1),qN=new fe("INJECTOR_DEF_TYPES");class TO{get(e,n=ci){if(n===ci){const r=new Error(`NullInjectorError: No provider for ${Bt(e)}!`);throw r.name="NullInjectorError",r}return n}}function EG(...t){return{\u0275providers:KN(0,t),\u0275fromNgModule:!0}}function KN(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return Na(e,s=>{const a=s;RC(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&ZN(i,o),n}function ZN(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];DO(i,o=>{e(o,r)})}}function RC(t,e,n,r){if(!(t=F(t)))return!1;let i=null,o=vc(t);const s=!o&&_t(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const c=t.ngModule;if(o=vc(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)RC(l,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;r.add(i);try{Na(o.imports,h=>{RC(h,e,n,r)&&(l||=[],l.push(h))})}finally{}void 0!==l&&ZN(l,e)}if(!a){const l=Ia(i)||(()=>new i);e({provide:i,useFactory:l,deps:bt},i),e({provide:qN,useValue:i,multi:!0},i),e({provide:Jg,useValue:()=>ie(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const l=t;DO(c,h=>{e(h,l)})}}}return i!==t&&void 0!==t.providers}function DO(t,e){for(let n of t)ke(n)&&(n=n.\u0275providers),Array.isArray(n)?DO(n,e):e(n)}const MG=xe({provide:String,useValue:xe});function SO(t){return null!==t&&"object"==typeof t&&MG in t}function Ou(t){return"function"==typeof t}const RO=new fe("Set Injector scope."),xC={},IG={};let xO;function kC(){return void 0===xO&&(xO=new TO),xO}class _o{}class NC extends _o{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,NO(e,s=>this.processProvider(s)),this.records.set(GN,Dh(void 0,this)),i.has("environment")&&this.records.set(_o,Dh(void 0,this));const o=this.records.get(RO);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(qN.multi,bt,pt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=xo(this),r=Sr(void 0);try{return e()}finally{xo(n),Sr(r)}}get(e,n=ci,r=pt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Cv))return e[Cv](this);r=$f(r);const o=xo(this),s=Sr(void 0);try{if(!(r&pt.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function SG(t){return"function"==typeof t||"object"==typeof t&&t instanceof fe}(e)&&Yl(e);c=l&&this.injectableDefInScope(l)?Dh(kO(e),xC):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&pt.Self?kC():this.parent).get(e,n=r&pt.Optional&&n===ci?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Cc]=a[Cc]||[]).unshift(Bt(e)),o)throw a;return function Ec(t,e,n,r){const i=t[Cc];throw e[kd]&&i.unshift(e[kd]),t.message=function vv(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Bt(e);if(Array.isArray(e))i=e.map(Bt).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Bt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(jf,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Cc]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Sr(s),xo(o)}}resolveInjectorInitializers(){const e=xo(this),n=Sr(void 0);try{const i=this.get(Jg.multi,bt,pt.Self);for(const o of i)o()}finally{xo(e),Sr(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Bt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ee(205,!1)}processProvider(e){let n=Ou(e=F(e))?e:F(e&&e.provide);const r=function TG(t){return SO(t)?Dh(void 0,t.useValue):Dh(XN(t),xC)}(e);if(Ou(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Dh(void 0,xC,!0),i.factory=()=>nu(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===xC&&(n.value=IG,n.value=n.factory()),"object"==typeof n.value&&n.value&&function DG(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=F(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function kO(t){const e=Yl(t),n=null!==e?e.factory:Ia(t);if(null!==n)return n;if(t instanceof fe)throw new ee(204,!1);if(t instanceof Function)return function bG(t){const e=t.length;if(e>0)throw Wc(e,"?"),new ee(204,!1);const n=function dv(t){return t&&(t[Ql]||t[hv])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new ee(204,!1)}function XN(t,e,n){let r;if(Ou(t)){const i=F(t);return Ia(i)||kO(i)}if(SO(t))r=()=>F(t.useValue);else if(function QN(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...nu(t.deps||[]));else if(function YN(t){return!(!t||!t.useExisting)}(t))r=()=>ie(F(t.useExisting));else{const i=F(t&&(t.useClass||t.provide));if(!function AG(t){return!!t.deps}(t))return Ia(i)||kO(i);r=()=>new i(...nu(t.deps))}return r}function Dh(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function NO(t,e){for(const n of t)Array.isArray(n)?NO(n,e):n&&ke(n)?NO(n.\u0275providers,e):e(n)}const FC=new fe("AppId",{providedIn:"root",factory:()=>RG}),RG="ng",JN=new fe("Platform Initializer"),mo=new fe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),e2=new fe("CSP nonce",{providedIn:"root",factory:()=>function Th(){if(void 0!==PO)return PO;if(typeof document<"u")return document;throw new ee(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let t2=(t,e,n)=>null;function HO(t,e,n=!1){return t2(t,e,n)}class $G{}class i2{}class zG{resolveComponentFactory(e){throw function HG(t){const e=Error(`No component factory found for ${Bt(t)}.`);return e.ngComponent=t,e}(e)}}let $C=(()=>{class e{}return e.NULL=new zG,e})();function WG(){return xh(Er(),ae())}function xh(t,e){return new Ni(hi(t,e))}let Ni=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=WG,e})();function GG(t){return t instanceof Ni?t.nativeElement:t}class s2{}let La=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function qG(){const t=ae(),n=xi(Er().index,t);return(ui(n)?n:t)[qe]}(),e})(),KG=(()=>{var t;class e{}return(t=e).\u0275prov=Te({token:t,providedIn:"root",factory:()=>null}),e})();class kh{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const GO=new kh("16.2.6"),qO={};function u2(t,e=null,n=null,r){const i=d2(t,e,n,r);return i.resolveInjectorInitializers(),i}function d2(t,e=null,n=null,r,i=new Set){const o=[n||bt,EG(t)];return r=r||("object"==typeof t?void 0:Bt(t)),new NC(o,e||kC(),r||null,i)}let Fi=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return u2({name:""},i,r,"");{const o=r.name??"";return u2({name:o},r.parent,r.providers,o)}}}return(t=e).THROW_IF_NOT_FOUND=ci,t.NULL=new TO,t.\u0275prov=Te({token:t,providedIn:"any",factory:()=>ie(GN)}),t.__NG_ELEMENT_ID__=-1,e})();function ZO(t){return t.ngOriginalError}class Va{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&ZO(e);for(;n&&ZO(n);)n=ZO(n);return n||null}}function QO(t){return e=>{setTimeout(t,void 0,e)}}const Mn=class tq extends J{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=QO(o),i&&(i=QO(i)),s&&(s=QO(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Pt&&e.add(a),a}};function p2(...t){}class Dt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Mn(!1),this.onMicrotaskEmpty=new Mn(!1),this.onStable=new Mn(!1),this.onError=new Mn(!1),typeof Zone>"u")throw new ee(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function nq(){const t="function"==typeof Gt.requestAnimationFrame;let e=Gt[t?"requestAnimationFrame":"setTimeout"],n=Gt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function oq(t){const e=()=>{!function iq(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Gt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,JO(t),t.isCheckStableRunning=!0,XO(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),JO(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function aq(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return f2(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),g2(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return f2(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),g2(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,JO(t),XO(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Dt.isInAngularZone())throw new ee(909,!1)}static assertNotInAngularZone(){if(Dt.isInAngularZone())throw new ee(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,rq,p2,p2);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const rq={};function XO(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function JO(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function f2(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function g2(t){t._nesting--,XO(t)}class sq{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mn,this.onMicrotaskEmpty=new Mn,this.onStable=new Mn,this.onError=new Mn}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const _2=new fe("",{providedIn:"root",factory:m2});function m2(){const t=we(Dt);let e=!0;return te(new st(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new st(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{Dt.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=t.onUnstable.subscribe(()=>{Dt.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(We()))}function Iu(t){return t.ownerDocument}function Ua(t){return t instanceof Function?t():t}let eI=(()=>{var t;class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}}return(t=e).\u0275prov=Te({token:t,providedIn:"root",factory:()=>new t}),e})();function n_(t){for(;t;){t[Qe]|=64;const e=qg(t);if(Av(t)&&!e)return t;t=e}return null}const P2=new fe("",{providedIn:"root",factory:()=>!1});let zC=null;function I2(t,e){return t[e]??A2()}function b2(t,e){const n=A2();n.producerNode?.length&&(t[e]=zC,n.lView=t,zC=T2())}const _q={...Zd,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{n_(t.lView)},lView:null};function T2(){return Object.create(_q)}function A2(){return zC??=T2(),zC}const et={};function S(t){D2(Ct(),ae(),Yr()+t,!1)}function D2(t,e,n,r){if(!r)if(3==(3&e[Qe])){const o=t.preOrderCheckHooks;null!==o&&Lc(e,o,n)}else{const o=t.preOrderHooks;null!==o&&dh(e,o,0,n)}Sa(n)}function Y(t,e=pt.Default){const n=ae();return null===n?ie(t,e):sC(Er(),n,F(t),e)}function WC(t,e,n,r,i,o,s,a,c,l,h){const f=e.blueprint.slice();return f[sn]=i,f[Qe]=140|r,(null!==l||t&&2048&t[Qe])&&(f[Qe]|=2048),jv(f),f[qt]=f[Bs]=t,f[_n]=n,f[Us]=s||t&&t[Us],f[qe]=a||t&&t[qe],f[Vs]=c||t&&t[Vs]||null,f[cr]=o,f[cu]=function OW(){return MW++}(),f[fo]=h,f[Ov]=l,f[Sn]=2==e.type?t[Sn]:f,f}function Lh(t,e,n,r,i){let o=t.data[e];if(null===o)o=function tI(t,e,n,r,i){const o=sh(),s=ah(),c=t.data[e]=function Mq(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Da()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(t,e,n,r,i),function NM(){return je.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function js(){const t=je.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Xi(o,!0),o}function r_(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function R2(t,e,n,r,i){const o=I2(e,lu),s=Yr(),a=2&r;try{Sa(-1),a&&e.length>ut&&D2(t,e,ut,!1),Vo(a?2:0,i);const l=a?o:null,h=Yd(l);try{null!==l&&(l.dirty=!1),n(r,i)}finally{ba(l,h)}}finally{a&&null===e[lu]&&b2(e,lu),Sa(s),Vo(a?3:1,i)}}function nI(t,e,n){if(Tv(e)){const r=Qi(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{Qi(r)}}}function rI(t,e,n){vg()&&(function Sq(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;Ac(n)&&function Vq(t,e,n){const r=hi(e,t),i=x2(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=GC(t,WC(t,i,null,s,r,e,null,t[Us].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Uc(n,e),pi(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const c=t.data[a],l=xa(e,t,a,n);pi(l,e),null!==s&&Uq(0,a-i,l,c,0,s),Lo(c)&&(xi(n.index,e)[_n]=xa(e,t,a,n))}}(t,e,n,hi(n,e)),64==(64&n.flags)&&V2(t,e,n))}function iI(t,e,n=hi){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function x2(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=oI(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function oI(t,e,n,r,i,o,s,a,c,l,h){const f=ut+r,_=f+i,v=function yq(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:et);return n}(f,_),E="function"==typeof l?l():l;return v[Pe]={type:t,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:E,incompleteFirstPass:!1,ssrId:h}}let k2=t=>null;function N2(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const o=t[i];null===r?F2(n,e,i,o):r.hasOwnProperty(i)&&F2(n,e,r[i],o)}return n}function F2(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function yo(t,e,n,r,i,o,s,a){const c=hi(e,n);let h,l=e.inputs;!a&&null!=l&&(h=l[r])?(uI(t,n,h,r,i),Ac(e)&&function bq(t,e){const n=xi(e,t);16&n[Qe]||(n[Qe]|=64)}(n,e.index)):3&e.type&&(r=function Iq(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(c,r,i))}function sI(t,e,n,r){if(vg()){const i=null===r?null:{"":-1},o=function xq(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(jd(e,s.selectors,!1))if(r||(r=[]),Lo(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),aI(t,e,a.length)}else r.unshift(s),aI(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&L2(t,e,n,s,i,a),i&&function kq(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new ee(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=iu(n.mergedAttrs,n.attrs)}function L2(t,e,n,r,i,o){for(let l=0;l<r.length;l++)xg(Uc(n,e),t,r[l].type);!function Fq(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,c=r_(t,e,r.length,null);for(let l=0;l<r.length;l++){const h=r[l];n.mergedAttrs=iu(n.mergedAttrs,h.hostAttrs),Lq(t,n,e,c,h),Nq(c,h,i),null!==h.contentQueries&&(n.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(n.flags|=64);const f=h.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function Oq(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let c=null,l=null;for(let h=e.directiveStart;h<i;h++){const f=o[h],_=n?n.get(f):null,E=_?_.outputs:null;c=N2(f.inputs,h,c,_?_.inputs:null),l=N2(f.outputs,h,l,E);const I=null===c||null===s||ou(e)?null:Bq(c,h,s);a.push(I)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(t,n,o)}function V2(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function FM(){return je.lFrame.currentDirectiveIndex}();try{Sa(o);for(let a=r;a<i;a++){const c=t.data[a],l=e[a];Mg(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&Rq(c,l)}}finally{Sa(-1),Mg(s)}}function Rq(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function aI(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Nq(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Lo(e)&&(n[""]=t)}}function Lq(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=Ia(i.type)),s=new Ra(o,Lo(i),Y);t.blueprint[r]=s,n[r]=s,function Aq(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function Dq(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,r_(t,n,i.hostVars,et),i)}function zs(t,e,n,r,i,o){const s=hi(t,e);!function cI(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?Se(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[qe],s,o,t.value,n,r,i)}function Uq(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)U2(r,n,s[a++],s[a++],s[a++])}function U2(t,e,n,r,i){const o=Qi(null);try{const s=t.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{Qi(o)}}function Bq(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function B2(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function j2(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=t.data[o];Fc(n[r]),s.contentQueries(2,e[o],o)}}}function GC(t,e){return t[Pa]?t[Mv][po]=e:t[Pa]=e,t[Mv]=e,e}function lI(t,e,n){Fc(0);const r=Qi(null);try{e(t,n)}finally{Qi(r)}}function $2(t){return t[bc]||(t[bc]=[])}function H2(t){return t.cleanup||(t.cleanup=[])}function W2(t,e){const n=t[Vs],r=n?n.get(Va,null):null;r&&r.handleError(e)}function uI(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];U2(t.data[s],e[s],r,a,i)}}function jq(t,e){const n=xi(e,t),r=n[Pe];!function $q(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[sn];null!==i&&null===n[fo]&&(n[fo]=HO(i,n[Vs])),dI(r,n,n[_n])}function dI(t,e,n){Og(e);try{const r=t.viewQuery;null!==r&&lI(1,r,n);const i=t.template;null!==i&&R2(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&j2(t,e),t.staticViewQueries&&lI(2,t.viewQuery,n);const o=t.components;null!==o&&function Hq(t,e){for(let n=0;n<e.length;n++)jq(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Qe]&=-5,Ig()}}let G2=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,o){const s=typeof Zone>"u"?null:Zone.current,a=function CM(t,e,n){const r=Object.create(wM);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>hu(r),run:()=>{if(r.dirty=!1,r.hasRun&&!pu(r))return;r.hasRun=!0;const s=Yd(r);try{r.cleanupFn(),r.cleanupFn=dg,r.fn(i)}finally{ba(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(r,h=>{this.all.has(h)&&this.queue.set(h,s)},o);let c;this.all.add(a),a.notify();const l=()=>{a.cleanup(),c?.(),this.all.delete(a),this.queue.delete(a)};return c=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=Te({token:t,providedIn:"root",factory:()=>new t}),e})();function qC(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=us(i,a):2==o&&(r=us(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function i_(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];null!==o&&r.push(At(o)),Zr(o)&&q2(o,r);const s=n.type;if(8&s)i_(t,e,n.child,r);else if(32&s){const a=pO(n,e);let c;for(;c=a();)r.push(c)}else if(16&s){const a=AN(e,n);if(Array.isArray(a))r.push(...a);else{const c=qg(e[Sn]);i_(c[Pe],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function q2(t,e){for(let n=Rr;n<t.length;n++){const r=t[n],i=r[Pe].firstChild;null!==i&&i_(r[Pe],r,i,e)}t[Fo]!==t[sn]&&e.push(t[Fo])}function KC(t,e,n,r=!0){const i=e[Us],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{K2(t,e,t.template,n)}catch(c){throw r&&W2(e,c),c}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function K2(t,e,n,r){const i=e[Qe];if(256!=(256&i)){e[Us].effectManager?.flush(),Og(e);try{jv(e),function Pg(t){return je.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&R2(t,e,n,2,r);const s=3==(3&i);if(s){const l=t.preOrderCheckHooks;null!==l&&Lc(e,l,null)}else{const l=t.preOrderHooks;null!==l&&dh(e,l,0,null),hh(e,0)}if(function Gq(t){for(let e=mN(t);null!==e;e=yN(e)){if(!e[Iv])continue;const n=e[uu];for(let r=0;r<n.length;r++){_g(n[r])}}}(e),Z2(e,2),null!==t.contentQueries&&j2(t,e),s){const l=t.contentCheckHooks;null!==l&&Lc(e,l)}else{const l=t.contentHooks;null!==l&&dh(e,l,1),hh(e,1)}!function mq(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=I2(e,No);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)Sa(~o);else{const s=o,a=n[++i],c=n[++i];Eg(a,s),r.dirty=!1;const l=Yd(r);try{c(2,e[s])}finally{ba(r,l)}}}}finally{null===e[No]&&b2(e,No),Sa(-1)}}(t,e);const a=t.components;null!==a&&Q2(e,a,0);const c=t.viewQuery;if(null!==c&&lI(2,c,r),s){const l=t.viewCheckHooks;null!==l&&Lc(e,l)}else{const l=t.viewHooks;null!==l&&dh(e,l,2),hh(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[Qe]&=-73,ih(e)}finally{Ig()}}}function Z2(t,e){for(let n=mN(t);null!==n;n=yN(n))for(let r=Rr;r<n.length;r++)Y2(n[r],e)}function qq(t,e,n){Y2(xi(e,t),n)}function Y2(t,e){if(!function gg(t){return 128==(128&t[Qe])}(t))return;const n=t[Pe],r=t[Qe];if(80&r&&0===e||1024&r||2===e)K2(n,t,n.template,t[_n]);else if(t[au]>0){Z2(t,1);const i=n.components;null!==i&&Q2(t,i,1)}}function Q2(t,e,n){for(let r=0;r<e.length;r++)qq(t,e[r],n)}class o_{get rootNodes(){const e=this._lView,n=e[Pe];return i_(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[_n]}set context(e){this._lView[_n]=e}get destroyed(){return 256==(256&this._lView[Qe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[qt];if(Zr(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(OC(e,r),go(n,r))}this._attachedToViewContainer=!1}gO(this._lView[Pe],this._lView)}onDestroy(e){!function Nc(t,e){if(256==(256&t[Qe]))throw new ee(911,!1);null===t[hs]&&(t[hs]=[]),t[hs].push(e)}(this._lView,e)}markForCheck(){n_(this._cdRefInjectingView||this._lView)}detach(){this._lView[Qe]&=-129}reattach(){this._lView[Qe]|=128}detectChanges(){KC(this._lView[Pe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function UW(t,e){Zg(t,e,e[qe],2,null,null)}(this._lView[Pe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ee(902,!1);this._appRef=e}}class Kq extends o_{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;KC(e[Pe],e,e[_n],!1)}checkNoChanges(){}get context(){return null}}class X2 extends $C{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=_t(e);return new s_(n,this.ngModule)}}function J2(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Yq{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=$f(r);const i=this.injector.get(e,qO,r);return i!==qO||n===qO?i:this.parentInjector.get(e,n,r)}}class s_ extends i2{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=J2(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return J2(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function cM(t){return t.map(Yf).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof _o?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new Yq(e,o):e,a=s.get(s2,null);if(null===a)throw new ee(407,!1);const f={rendererFactory:a,sanitizer:s.get(KG,null),effectManager:s.get(G2,null),afterRenderEventManager:s.get(eI,null)},_=a.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",E=r?function vq(t,e,n,r){const o=r.get(P2,!1)||n===ho.ShadowDom,s=t.selectRootElement(e,o);return function Cq(t){k2(t)}(s),s}(_,r,this.componentDef.encapsulation,s):MC(_,v,function Zq(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(v)),L=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let N=null;null!==E&&(N=HO(E,s,!0));const H=oI(0,null,null,1,0,null,null,null,null,null,null),$=WC(null,H,null,L,null,null,f,_,s,null,N);let pe,Oe;Og($);try{const at=this.componentDef;let Yt,lo=null;at.findHostDirectiveDefs?(Yt=[],lo=new Map,at.findHostDirectiveDefs(at,Yt,lo),Yt.push(at)):Yt=[at];const Sf=function Xq(t,e){const n=t[Pe],r=ut;return t[r]=e,Lh(n,r,2,"#host",null)}($,E),j0e=function Jq(t,e,n,r,i,o,s){const a=i[Pe];!function eK(t,e,n,r){for(const i of t)e.mergedAttrs=iu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(qC(e,e.mergedAttrs,!0),null!==n&&xN(r,n,e))}(r,t,e,s);let c=null;null!==e&&(c=HO(e,i[Vs]));const l=o.rendererFactory.createRenderer(e,n);let h=16;n.signals?h=4096:n.onPush&&(h=64);const f=WC(i,x2(n),null,h,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&aI(a,t,r.length-1),GC(i,f),i[t.index]=f}(Sf,E,at,Yt,$,f,_);Oe=rh(H,ut),E&&function nK(t,e,n,r){if(r)Oc(t,n,["ng-version",GO.full]);else{const{attrs:i,classes:o}=function Qf(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Ri(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Oc(t,n,i),o&&o.length>0&&RN(t,n,o.join(" "))}}(_,at,E,r),void 0!==n&&function rK(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(Oe,this.ngContentSelectors,n),pe=function tK(t,e,n,r,i,o){const s=Er(),a=i[Pe],c=hi(s,i);L2(a,i,s,n,null,r);for(let h=0;h<n.length;h++)pi(xa(i,a,s.directiveStart+h,s),i);V2(a,i,s),c&&pi(c,i);const l=xa(i,a,s.directiveStart+s.componentOffset,s);if(t[_n]=i[_n]=l,null!==o)for(const h of o)h(l,e);return nI(a,s,t),l}(j0e,at,Yt,lo,$,[iK]),dI(H,$,null)}finally{Ig()}return new Qq(this.componentType,pe,xh(Oe,$),$,Oe)}}class Qq extends $G{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Kq(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;uI(o[Pe],o,i,e,n),this.previousInputValues.set(e,n),n_(xi(this._tNode.index,o))}}get injector(){return new Qr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function iK(){const t=Er();uh(ae()[Pe],t)}function jt(t){let e=function eF(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Lo(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ee(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=ZC(t.inputs),s.inputTransforms=ZC(t.inputTransforms),s.declaredInputs=ZC(t.declaredInputs),s.outputs=ZC(t.outputs);const a=i.hostBindings;a&&cK(t,a);const c=i.viewQuery,l=i.contentQueries;if(c&&sK(t,c),l&&aK(t,l),ar(t.inputs,i.inputs),ar(t.declaredInputs,i.declaredInputs),ar(t.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),ar(s.inputTransforms,i.inputTransforms)),Lo(i)&&i.data.animation){const h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===jt&&(n=!1)}}e=Object.getPrototypeOf(e)}!function oK(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=iu(i.hostAttrs,n=iu(n,i.hostAttrs))}}(r)}function ZC(t){return t===qr?{}:t===bt?[]:t}function sK(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function aK(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function cK(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function iF(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function YC(t){return!!hI(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function hI(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ws(t,e,n){return t[e]=n}function fi(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Go(t,e,n,r){const i=ae();return fi(i,$s(),e)&&(Ct(),zs(mn(),i,t,e,n,r)),Go}function Uh(t,e,n,r){return fi(t,$s(),n)?e+Se(n)+r:et}function be(t,e,n,r,i,o,s,a){const c=ae(),l=Ct(),h=t+ut,f=l.firstCreatePass?function xK(t,e,n,r,i,o,s,a,c){const l=e.consts,h=Lh(e,t,4,s||null,Uo(l,a));sI(e,n,h,Uo(l,c)),uh(e,h);const f=h.tView=oI(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,h),f.queries=e.queries.embeddedTView(h)),h}(h,l,c,e,n,r,i,o,s):l.data[h];Xi(f,!1);const _=mF(l,c,f,t);lh()&&bC(l,c,_,f),pi(_,c),GC(c,c[h]=B2(_,c,_,f)),rg(f)&&rI(l,c,f),null!=s&&iI(c,f,a)}let mF=function yF(t,e,n,r){return Bo(!0),e[qe].createComment("")};function yI(t){return function Aa(t,e){return t[e]}(function xM(){return je.lFrame.contextLView}(),ut+t)}function Z(t,e,n){const r=ae();return fi(r,$s(),e)&&yo(Ct(),mn(),r,t,e,r[qe],n,!1),Z}function vI(t,e,n,r,i){const s=i?"class":"style";uI(t,n,e.inputs[s],s,r)}function m(t,e,n,r){const i=ae(),o=Ct(),s=ut+t,a=i[qe],c=o.firstCreatePass?function LK(t,e,n,r,i,o){const s=e.consts,c=Lh(e,t,2,r,Uo(s,i));return sI(e,n,c,Uo(s,o)),null!==c.attrs&&qC(c,c.attrs,!1),null!==c.mergedAttrs&&qC(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,e,n,r):o.data[s],l=vF(o,i,c,a,e,t);i[s]=l;const h=rg(c);return Xi(c,!0),xN(a,l,c),32!=(32&c.flags)&&lh()&&bC(o,i,l,c),0===function mg(){return je.lFrame.elementDepthCount}()&&pi(l,i),function TM(){je.lFrame.elementDepthCount++}(),h&&(rI(o,i,c),nI(o,c,i)),null!==r&&iI(i,c),m}function y(){let t=Er();ah()?_u():(t=t.parent,Xi(t,!1));const e=t;(function AM(t){return je.skipHydrationRootTNode===t})(e)&&function RM(){je.skipHydrationRootTNode=null}(),function yg(){je.lFrame.elementDepthCount--}();const n=Ct();return n.firstCreatePass&&(uh(n,t),Tv(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function zM(t){return 0!=(8&t.flags)}(e)&&vI(n,e,ae(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function WM(t){return 0!=(16&t.flags)}(e)&&vI(n,e,ae(),e.stylesWithoutHost,!1),y}function A(t,e,n,r){return m(t,e,n,r),y(),A}let vF=(t,e,n,r,i,o)=>(Bo(!0),MC(r,i,function Xv(){return je.lFrame.currentNamespace}()));function Tu(t,e,n){const r=ae(),i=Ct(),o=t+ut,s=i.firstCreatePass?function BK(t,e,n,r,i){const o=e.consts,s=Uo(o,r),a=Lh(e,t,8,"ng-container",s);return null!==s&&qC(a,s,!0),sI(e,n,a,Uo(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];Xi(s,!0);const a=wF(i,r,s,t);return r[o]=a,lh()&&bC(i,r,a,s),pi(a,r),rg(s)&&(rI(i,r,s),nI(i,s,r)),null!=n&&iI(r,s),Tu}function Au(){let t=Er();const e=Ct();return ah()?_u():(t=t.parent,Xi(t,!1)),e.firstCreatePass&&(uh(e,t),Tv(t)&&e.queries.elementEnd(t)),Au}let wF=(t,e,n,r)=>(Bo(!0),fO(e[qe],""));function gi(){return ae()}function d_(t){return!!t&&"function"==typeof t.then}function PF(t){return!!t&&"function"==typeof t.subscribe}function G(t,e,n,r){const i=ae(),o=Ct(),s=Er();return function MF(t,e,n,r,i,o,s){const a=rg(r),l=t.firstCreatePass&&H2(t),h=e[_n],f=$2(e);let _=!0;if(3&r.type||s){const I=hi(r,e),b=s?s(I):I,L=f.length,N=s?$=>s(At($[r.index])):r.index;let H=null;if(!s&&a&&(H=function HK(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[bc],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==H)(H.__ngLastListenerFn__||H).__ngNextListenerFn__=o,H.__ngLastListenerFn__=o,_=!1;else{o=IF(r,e,h,o,!1);const $=n.listen(b,i,o);f.push(o,$),l&&l.push(i,N,L,L+1)}}else o=IF(r,e,h,o,!1);const v=r.outputs;let E;if(_&&null!==v&&(E=v[i])){const I=E.length;if(I)for(let b=0;b<I;b+=2){const pe=e[E[b]][E[b+1]].subscribe(o),Oe=f.length;f.push(o,pe),l&&l.push(i,r.index,Oe,-(Oe+1))}}}(o,i,i[qe],s,t,e,r),G}function OF(t,e,n,r){try{return Vo(6,e,n),!1!==n(r)}catch(i){return W2(t,i),!1}finally{Vo(7,e,n)}}function IF(t,e,n,r,i){return function o(s){if(s===Function)return r;n_(t.componentOffset>-1?xi(t.index,e):e);let c=OF(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)c=OF(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&s.preventDefault(),c}}function Vt(t=1){return function bg(t){return(je.lFrame.contextLView=function VM(t,e){for(;t>0;)e=e[Bs],t--;return e}(t,je.lFrame.contextLView))[_n]}(t)}function zK(t,e){let n=null;const r=function $d(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?jd(t,o,!0):Kf(r,o))return i}else n=i}return n}function qo(t,e,n){return tw(t,"",e,"",n),qo}function tw(t,e,n,r,i){const o=ae(),s=Uh(o,e,n,r);return s!==et&&yo(Ct(),mn(),o,t,s,o[qe],i,!1),tw}function nw(t,e){return t<<17|e<<2}function Kc(t){return t>>17&32767}function CI(t){return 2|t}function Du(t){return(131068&t)>>2}function wI(t,e){return-131069&t|e<<2}function PI(t){return 1|t}function LF(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Kc(o):Du(o),c=!1;for(;0!==a&&(!1===c||s);){const h=t[a+1];YK(t[a],e)&&(c=!0,t[a+1]=r?PI(h):CI(h)),a=r?Kc(h):Du(h)}c&&(t[n+1]=r?CI(o):PI(o))}function YK(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Hs(t,e)>=0}function Ko(t,e){return function _s(t,e,n,r){const i=ae(),o=Ct(),s=function fs(t){const e=je.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);o.firstUpdatePass&&function GF(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Yr()],s=function WF(t,e){return e>=t.expandoStartIndex}(t,n);(function YF(t,e){return 0!=(t.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function oZ(t,e,n,r){const i=function ch(t){const e=je.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=h_(n=EI(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=EI(i,t,e,n,r),null===o){let c=function sZ(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Du(r))return t[Kc(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=EI(null,t,e,c[1],r),c=h_(c,e.attrs,r),function aZ(t,e,n,r){t[Kc(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else o=function cZ(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=h_(r,t[o].hostAttrs,n);return h_(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function KK(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Kc(s),c=Du(s);t[r]=n;let h,l=!1;if(Array.isArray(n)?(h=n[1],(null===h||Hs(n,h)>0)&&(l=!0)):h=n,i)if(0!==c){const _=Kc(t[a+1]);t[r+1]=nw(_,a),0!==_&&(t[_+1]=wI(t[_+1],r)),t[a+1]=function GK(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=nw(a,0),0!==a&&(t[a+1]=wI(t[a+1],r)),a=r;else t[r+1]=nw(c,0),0===a?a=r:t[c+1]=wI(t[c+1],r),c=r;l&&(t[r+1]=CI(t[r+1])),LF(t,h,r,!0),LF(t,h,r,!1),function ZK(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Hs(o,e)>=0&&(n[r+1]=PI(n[r+1]))}(e,h,t,r,o),s=nw(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==et&&fi(i,s,e)&&function KF(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const c=t.data,l=c[a+1],h=function qK(t){return 1==(1&t)}(l)?ZF(c,e,n,i,Du(l),s):void 0;rw(h)||(rw(o)||function WK(t){return 2==(2&t)}(l)&&(o=ZF(c,null,n,i,a,s)),function ZW(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:Gc.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Gc.Important),t.setStyle(n,r,i,o))}}(r,s,nh(Yr(),n),i,o))}(o,o.data[Yr()],i,i[qe],t,i[s+1]=function hZ(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Bt(qc(t)))),t}(e,n),r,s)}(t,e,null,!0),Ko}function EI(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=h_(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function h_(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Kt(t,s,!!n||e[++o]))}return void 0===t?null:t}function ZF(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const c=t[i],l=Array.isArray(c),h=l?c[1]:c,f=null===h;let _=n[i+1];_===et&&(_=f?bt:void 0);let v=f?Cu(_,r):h===r?_:void 0;if(l&&!rw(v)&&(v=Cu(c,r)),rw(v)&&(a=v,s))return a;const E=t[i+1];i=s?Kc(E):Du(E)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=Cu(c,r))}return a}function rw(t){return void 0!==t}function w(t,e=""){const n=ae(),r=Ct(),i=t+ut,o=r.firstCreatePass?Lh(r,i,1,e,null):r.data[i],s=QF(r,n,o,e,t);n[i]=s,lh()&&bC(r,n,s,o),Xi(o,!1)}let QF=(t,e,n,r,i)=>(Bo(!0),function EC(t,e){return t.createText(e)}(e[qe],r));function Ge(t){return Ot("",t,""),Ge}function Ot(t,e,n){const r=ae(),i=Uh(r,t,e,n);return i!==et&&function Ba(t,e,n){const r=nh(e,t);!function CN(t,e,n){t.setValue(e,n)}(t[qe],r,n)}(r,Yr(),i),Ot}const Zh="en-US";let vL=Zh;function II(t,e,n,r,i){if(t=F(t),Array.isArray(t))for(let o=0;o<t.length;o++)II(t[o],e,n,r,i);else{const o=Ct(),s=ae(),a=Er();let c=Ou(t)?t:F(t.provide);const l=XN(t),h=1048575&a.providerIndexes,f=a.directiveStart,_=a.providerIndexes>>20;if(Ou(t)||!t.multi){const v=new Ra(l,i,Y),E=TI(c,e,i?h:h+_,f);-1===E?(xg(Uc(a,s),o,c),bI(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),s.push(v)):(n[E]=v,s[E]=v)}else{const v=TI(c,e,h+_,f),E=TI(c,e,h,h+_),b=E>=0&&n[E];if(i&&!b||!i&&!(v>=0&&n[v])){xg(Uc(a,s),o,c);const L=function xY(t,e,n,r,i){const o=new Ra(t,n,Y);return o.multi=[],o.index=e,o.componentProviders=0,zL(o,i,r&&!n),o}(i?RY:SY,n.length,i,r,l);!i&&b&&(n[E].providerFactory=L),bI(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(L),s.push(L)}else bI(o,t,v>-1?v:E,zL(n[i?E:v],l,!i&&r));!i&&r&&b&&n[E].componentProviders++}}}function bI(t,e,n,r){const i=Ou(e),o=function OG(t){return!!t.useClass}(e);if(i||o){const c=(o?F(e.useClass):e).prototype.ngOnDestroy;if(c){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const h=l.indexOf(n);-1===h?l.push(n,[r,c]):l[h+1].push(r,c)}else l.push(n,c)}}}function zL(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function TI(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function SY(t,e,n,r){return AI(this.multi,[])}function RY(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=xa(n,n[Pe],this.providerFactory.index,r);o=a.slice(0,s),AI(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],AI(i,o);return o}function AI(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function On(t,e=[]){return n=>{n.providersResolver=(r,i)=>function DY(t,e,n){const r=Ct();if(r.firstCreatePass){const i=Lo(t);II(n,r.data,r.blueprint,i,!0),II(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Ru{}class WL{}class DI extends Ru{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new X2(this);const i=Kr(e);this._bootstrapComponents=Ua(i.bootstrap),this._r3Injector=d2(e,n,[{provide:Ru,useValue:this},{provide:$C,useValue:this.componentFactoryResolver},...r],Bt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class SI extends WL{constructor(e){super(),this.moduleType=e}create(e){return new DI(this.moduleType,e,[])}}class GL extends Ru{constructor(e){super(),this.componentFactoryResolver=new X2(this),this.instance=null;const n=new NC([...e.providers,{provide:Ru,useValue:this},{provide:$C,useValue:this.componentFactoryResolver}],e.parent||kC(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function RI(t,e,n=null){return new GL({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let FY=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=KN(0,r.type),o=i.length>0?RI([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=Te({token:t,providedIn:"environment",factory:()=>new t(ie(_o))}),e})();function qL(t){t.getStandaloneInjector=e=>e.get(FY).getOrCreateStandaloneInjector(t)}function _i(t,e,n,r){return function tV(t,e,n,r,i,o){const s=e+n;return fi(t,s,i)?Ws(t,s+1,o?r.call(o,i):r(i)):y_(t,s+1)}(ae(),xr(),t,e,n,r)}function eV(t,e,n,r,i){return function nV(t,e,n,r,i,o,s){const a=e+n;return function bu(t,e,n,r){const i=fi(t,e,n);return fi(t,e+1,r)||i}(t,a,i,o)?Ws(t,a+2,s?r.call(s,i,o):r(i,o)):y_(t,a+2)}(ae(),xr(),t,e,n,r,i)}function y_(t,e){const n=t[e];return n===et?void 0:n}function sQ(){return this._results[Symbol.iterator]()}class kI{get changes(){return this._changes||(this._changes=new Mn)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=kI.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=sQ)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function Ji(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Ug(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function cQ(t,e,n,r=!0){const i=e[Pe];if(function jW(t,e,n,r){const i=Rr+r,o=n.length;r>0&&(n[i-1][po]=e),r<o-Rr?(e[po]=n[i],hC(n,Rr+r,e)):(n.push(e),e[po]=null),e[qt]=n;const s=e[Ea];null!==s&&n!==s&&function $W(t,e){const n=t[uu];e[Sn]!==e[qt][qt][Sn]&&(t[Iv]=!0),null===n?t[uu]=[e]:n.push(e)}(s,e);const a=e[Zi];null!==a&&a.insertView(t),e[Qe]|=128}(i,e,t,n),r){const o=vO(n,t),s=e[qe],a=IC(s,t[Fo]);null!==a&&function VW(t,e,n,r,i,o){r[sn]=i,r[cr]=e,Zg(t,r,n,1,i,o)}(i,t[cr],s,e,a,o)}}let ja=(()=>{class e{}return e.__NG_ELEMENT_ID__=dQ,e})();const lQ=ja,uQ=class extends lQ{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function aQ(t,e,n,r){const i=e.tView,a=WC(t,i,n,4096&t[Qe]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Ea]=t[e.index];const l=t[Zi];return null!==l&&(a[Zi]=l.createEmbeddedView(i)),dI(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new o_(i)}};function dQ(){return cw(Er(),ae())}function cw(t,e){return 4&t.type?new uQ(e,t,xh(t,e)):null}let ys=(()=>{class e{}return e.__NG_ELEMENT_ID__=mQ,e})();function mQ(){return hV(Er(),ae())}const yQ=ys,uV=class extends yQ{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return xh(this._hostTNode,this._hostLView)}get injector(){return new Qr(this._hostTNode,this._hostLView)}get parentInjector(){const e=Bc(this._hostTNode,this._hostLView);if(Dg(e)){const n=gh(e,this._hostLView),r=Vc(e);return new Qr(n[Pe].data[r+8],n)}return new Qr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=dV(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Rr}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,o){const s=e&&!function ka(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const I=n||{};a=I.index,r=I.injector,i=I.projectableNodes,o=I.environmentInjector||I.ngModuleRef}const c=s?e:new s_(_t(e)),l=r||this.parentInjector;if(!o&&null==c.ngModule){const b=(s?l:this.parentInjector).get(_o,null);b&&(o=b)}_t(c.componentType??{});const v=c.create(l,i,null,o);return this.insertImpl(v.hostView,a,false),v}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function IM(t){return Zr(t[qt])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=i[qt],h=new uV(l,l[cr],l[qt]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),a=this._lContainer;return cQ(a,i,s,!r),e.attachToViewContainerRef(),hC(NI(a),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=dV(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=OC(this._lContainer,n);r&&(go(NI(this._lContainer),n),gO(r[Pe],r))}detach(e){const n=this._adjustIndex(e,-1),r=OC(this._lContainer,n);return r&&null!=go(NI(this._lContainer),n)?new o_(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function dV(t){return t[8]}function NI(t){return t[8]||(t[8]=[])}function hV(t,e){let n;const r=e[t.index];return Zr(r)?n=r:(n=B2(r,e,null,t),e[t.index]=n,GC(e,n)),pV(n,e,t,r),new uV(n,t,e)}let pV=function fV(t,e,n,r){if(t[Fo])return;let i;i=8&n.type?At(r):function vQ(t,e){const n=t[qe],r=n.createComment(""),i=hi(e,t);return Mu(n,IC(n,i),r,function GW(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Fo]=i};class FI{constructor(e){this.queryList=e,this.matches=null}clone(){return new FI(this.queryList)}setDirty(){this.queryList.setDirty()}}class LI{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new LI(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==CV(e,n).matches&&this.queries[n].setDirty()}}class gV{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class VI{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new VI(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class UI{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new UI(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,n,PQ(n,o)),this.matchTNodeWithReadOption(e,n,yh(n,e,o,!1,!1))}else r===ja?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,yh(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Ni||i===ys||i===ja&&4&n.type)this.addMatch(n.index,-2);else{const o=yh(n,e,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function PQ(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function MQ(t,e,n,r){return-1===n?function EQ(t,e){return 11&t.type?xh(t,e):4&t.type?cw(t,e):null}(e,t):-2===n?function OQ(t,e,n){return n===Ni?xh(e,t):n===ja?cw(e,t):n===ys?hV(e,t):void 0}(t,e,r):xa(t,t[Pe],n,e)}function _V(t,e,n,r){const i=e[Zi].queries[r];if(null===i.matches){const o=t.data,s=n.matches,a=[];for(let c=0;c<s.length;c+=2){const l=s[c];a.push(l<0?null:MQ(e,o[l],s[c+1],n.metadata.read))}i.matches=a}return i.matches}function BI(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=_V(t,e,i,n);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const l=o[a+1],h=e[-c];for(let f=Rr;f<h.length;f++){const _=h[f];_[Ea]===_[qt]&&BI(_[Pe],_,l,r)}if(null!==h[uu]){const f=h[uu];for(let _=0;_<f.length;_++){const v=f[_];BI(v[Pe],v,l,r)}}}}}return r}function jn(t){const e=ae(),n=Ct(),r=Wv();Fc(r+1);const i=CV(n,r);if(t.dirty&&function OM(t){return 4==(4&t[Qe])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?BI(n,e,r,[]):_V(n,e,i,r);t.reset(o,GG),t.notifyOnChanges()}return!0}return!1}function Jn(t,e,n){const r=Ct();r.firstCreatePass&&(function vV(t,e,n){null===t.queries&&(t.queries=new VI),t.queries.track(new UI(e,n))}(r,new gV(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function yV(t,e,n){const r=new kI(4==(4&n));(function Eq(t,e,n,r){const i=$2(e);i.push(n),t.firstCreatePass&&H2(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[Zi]&&(e[Zi]=new LI),e[Zi].queries.push(new FI(r))}(r,ae(),e)}function $n(){return function IQ(t,e){return t[Zi].queries[e].queryList}(ae(),Wv())}function CV(t,e){return t.queries.getByIndex(e)}function jI(t,e){return cw(t,e)}const qI=new fe("Application Initializer");let KI=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=we(qI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const o of this.appInits){const s=o();if(d_(s))r.push(s);else if(PF(s)){const a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),LV=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const $a=new fe("LocaleId",{providedIn:"root",factory:()=>we($a,pt.Optional|pt.SkipSelf)||function KQ(){return typeof $localize<"u"&&$localize.locale||Zh}()});let dw=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new U(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class QQ{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let VV=(()=>{var t;class e{compileModuleSync(r){return new SI(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),s=Ua(Kr(r).declarations).reduce((a,c)=>{const l=_t(c);return l&&a.push(new s_(l)),a},[]);return new QQ(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const $V=new fe(""),pw=new fe("");let JI,QI=(()=>{var t;class e{constructor(r,i,o){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,JI||(function mX(t){JI=t}(o),o.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Dt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:o})}whenStable(r,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,o){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(Dt),ie(XI),ie(pw))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),e})(),XI=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return JI?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Zc=null;const HV=new fe("AllowMultipleToken"),e1=new fe("PlatformDestroyListeners"),t1=new fe("appBootstrapListener");class WV{constructor(e,n){this.name=e,this.token=n}}function qV(t,e,n=[]){const r=`Platform: ${e}`,i=new fe(r);return(o=[])=>{let s=n1();if(!s||s.injector.get(HV,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function CX(t){if(Zc&&!Zc.get(HV,!1))throw new ee(400,!1);(function zV(){!function gM(t){Fv=t}(()=>{throw new ee(600,!1)})})(),Zc=t;const e=t.get(ZV);(function GV(t){t.get(JN,null)?.forEach(n=>n())})(t)}(function KV(t=[],e){return Fi.create({name:e,providers:[{provide:RO,useValue:"platform"},{provide:e1,useValue:new Set([()=>Zc=null])},...t]})}(a,r))}return function PX(t){const e=n1();if(!e)throw new ee(401,!1);return e}()}}function n1(){return Zc?.get(ZV)??null}let ZV=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const o=function EX(t="zone.js",e){return"noop"===t?new sq:"zone.js"===t?new Dt(e):t}(i?.ngZone,function YV(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return o.run(()=>{const s=function NY(t,e,n){return new DI(t,e,n)}(r.moduleType,this.injector,function t3(t){return[{provide:Dt,useFactory:t},{provide:Jg,multi:!0,useFactory:()=>{const e=we(OX,{optional:!0});return()=>e.initialize()}},{provide:e3,useFactory:MX},{provide:_2,useFactory:m2}]}(()=>o)),a=s.injector.get(Va,null);return o.runOutsideAngular(()=>{const c=o.onError.subscribe({next:l=>{a.handleError(l)}});s.onDestroy(()=>{fw(this._modules,s),c.unsubscribe()})}),function QV(t,e,n){try{const r=n();return d_(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,o,()=>{const c=s.injector.get(KI);return c.runInitializers(),c.donePromise.then(()=>(function CL(t){ai(t,"Expected localeId to be defined"),"string"==typeof t&&(vL=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get($a,Zh)||Zh),this._moduleDoBootstrap(s),s))})})}bootstrapModule(r,i=[]){const o=XV({},i);return function yX(t,e,n){const r=new SI(n);return Promise.resolve(r)}(0,0,r).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(r){const i=r.injector.get(Xh);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(o=>i.bootstrap(o));else{if(!r.instance.ngDoBootstrap)throw new ee(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ee(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(e1,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(Fi))},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function XV(t,e){return Array.isArray(e)?e.reduce(XV,t):{...t,...e}}let Xh=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=we(e3),this.zoneIsStable=we(_2),this.componentTypes=[],this.components=[],this.isStable=we(dw).hasPendingTasks.pipe(Je(r=>r?K(!1):this.zoneIsStable),on(),We()),this._injector=we(_o)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const o=r instanceof i2;if(!this._injector.get(KI).done)throw!o&&function Ic(t){const e=_t(t)||Cr(t)||wr(t);return null!==e&&e.standalone}(r),new ee(405,!1);let a;a=o?r:this._injector.get($C).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const c=function vX(t){return t.isBoundToModule}(a)?void 0:this._injector.get(Ru),h=a.create(Fi.NULL,[],i||a.selector,c),f=h.location.nativeElement,_=h.injector.get($V,null);return _?.registerApplication(f),h.onDestroy(()=>{this.detachView(h.hostView),fw(this.components,h),_?.unregisterApplication(f)}),this._loadComponent(h),h}tick(){if(this._runningTick)throw new ee(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;fw(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(t1,[]);i.push(...this._bootstrapListeners),i.forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>fw(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new ee(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function fw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const e3=new fe("",{providedIn:"root",factory:()=>we(Va).handleError.bind(void 0)});function MX(){const t=we(Dt),e=we(Va);return n=>t.runOutsideAngular(()=>e.handleError(n))}let OX=(()=>{var t;class e{constructor(){this.zone=we(Dt),this.applicationRef=we(Xh)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let gw=(()=>{class e{}return e.__NG_ELEMENT_ID__=bX,e})();function bX(t){return function TX(t,e,n){if(Ac(t)&&!n){const r=xi(t.index,e);return new o_(r,r)}return 47&t.type?new o_(e[Sn],e):null}(Er(),ae(),16==(16&t))}class s3{constructor(){}supports(e){return YC(e)}create(e){return new kX(e)}}const xX=(t,e)=>e;class kX{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||xX}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<c3(r,i,o)?n:r,a=c3(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const l=a-i,h=c-i;if(l!=h){for(let _=0;_<l;_++){const v=_<o.length?o[_]:o[_]=0,E=v+_;h<=E&&E<l&&(o[_]=v+1)}o[s.previousIndex]=h-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!YC(e))throw new ee(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function gK(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new NX(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new a3),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new a3),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class NX{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class FX{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class a3{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new FX,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function c3(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class l3{constructor(){}supports(e){return e instanceof Map||hI(e)}create(){return new LX}}class LX{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||hI(e)))throw new ee(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new VX(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class VX{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function u3(){return new yw([new s3])}let yw=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||u3()),deps:[[e,new d,new p]]}}find(r){const i=this.factories.find(o=>o.supports(r));if(null!=i)return i;throw new ee(901,!1)}}return(t=e).\u0275prov=Te({token:t,providedIn:"root",factory:u3}),e})();function d3(){return new P_([new l3])}let P_=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(i){const o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||d3()),deps:[[e,new d,new p]]}}find(r){const i=this.factories.find(o=>o.supports(r));if(i)return i;throw new ee(901,!1)}}return(t=e).\u0275prov=Te({token:t,providedIn:"root",factory:d3}),e})();const jX=qV(null,"core",[]);let $X=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(Xh))},t.\u0275mod=Un({type:t}),t.\u0275inj=Yn({}),e})();function Jh(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let c1=null;function Yc(){return c1}class nJ{}const vo=new fe("DocumentToken");let l1=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:function(){return we(iJ)},providedIn:"platform"}),e})();const rJ=new fe("Location Initialized");let iJ=(()=>{var t;class e extends l1{constructor(){super(),this._doc=we(vo),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Yc().getBaseHref(this._doc)}onPopState(r){const i=Yc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=Yc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function u1(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function C3(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ha(t){return t&&"?"!==t[0]?"?"+t:t}let ku=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:function(){return we(P3)},providedIn:"root"}),e})();const w3=new fe("appBaseHref");let P3=(()=>{var t;class e extends ku{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??we(vo).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return u1(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+Ha(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){const a=this.prepareExternalUrl(o+Ha(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){const a=this.prepareExternalUrl(o+Ha(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(l1),ie(w3,8))},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),oJ=(()=>{var t;class e extends ku{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(r){const i=u1(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Ha(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Ha(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(l1),ie(w3,8))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),e})(),d1=(()=>{var t;class e{constructor(r){this._subject=new Mn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function cJ(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(C3(E3(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Ha(i))}normalize(r){return e.stripTrailingSlash(function aJ(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,E3(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ha(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ha(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}}return(t=e).normalizeQueryParams=Ha,t.joinWithSlash=u1,t.stripTrailingSlash=C3,t.\u0275fac=function(r){return new(r||t)(ie(ku))},t.\u0275prov=Te({token:t,factory:function(){return function sJ(){return new d1(ie(ku))}()},providedIn:"root"}),e})();function E3(t){return t.replace(/\/index.html$/,"")}function R3(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}const w1=/\s+/,x3=[];let Cs=(()=>{var t;class e{constructor(r,i,o,s){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=o,this._renderer=s,this.initialClasses=x3,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(w1):x3}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(w1):r}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const i of r)this._updateState(i,!0);else if(null!=r)for(const i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){const o=this.stateMap.get(r);void 0!==o?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){(r=r.trim()).length>0&&r.split(w1).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(yw),Y(P_),Y(Ni),Y(La))},t.\u0275dir=Ve({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class qJ{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let wo=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new qJ(o.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const c=i.get(s);i.move(c,a),N3(c,o)}});for(let o=0,s=i.length;o<s;o++){const c=i.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{N3(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(ys),Y(ja),Y(yw))},t.\u0275dir=Ve({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function N3(t,e){t.context.$implicit=e.item}let Po=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new KJ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){F3("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){F3("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(ys),Y(ja))},t.\u0275dir=Ve({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class KJ{constructor(){this.$implicit=null,this.ngIf=null}}function F3(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Bt(e)}'.`)}let vee=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Un({type:t}),t.\u0275inj=Yn({}),e})();function Dw(t){return"server"===t}let Eee=(()=>{var t;class e{}return(t=e).\u0275prov=Te({token:t,providedIn:"root",factory:()=>new Mee(ie(vo),window)}),e})();class Mee{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function Oee(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class B3{}class Kee extends nJ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class T1 extends Kee{static makeCurrent(){!function tJ(t){c1||(c1=t)}(new T1)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Zee(){return I_=I_||document.querySelector("base"),I_?I_.getAttribute("href"):null}();return null==n?null:function Yee(t){xw=xw||document.createElement("a"),xw.setAttribute("href",t);const e=xw.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){I_=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return R3(document.cookie,e)}}let xw,I_=null,Xee=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),e})();const A1=new fe("EventManagerPlugins");let W3=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new ee(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(A1),ie(Dt))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),e})();class G3{constructor(e){this._doc=e}}const D1="ng-app-id";let q3=(()=>{var t;class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Dw(s),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${D1}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(o=>{null!=o.textContent&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){const o=this.styleRef;if(o.has(r)){const s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(D1),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(D1,this.appId),a}}addStyleToHost(r,i){const o=this.getStyleElement(r,i);r.appendChild(o);const s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(vo),ie(FC),ie(e2,8),ie(mo))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),e})();const S1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},R1=/%COMP%/g,nte=new fe("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Z3(t,e){return e.map(n=>n.replace(R1,t))}let Y3=(()=>{var t;class e{constructor(r,i,o,s,a,c,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=Dw(c),this.defaultRenderer=new x1(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===ho.ShadowDom&&(i={...i,encapsulation:ho.Emulated});const o=this.getOrCreateRenderer(r,i);return o instanceof X3?o.applyToHost(r):o instanceof k1&&o.applyStyles(),o}getOrCreateRenderer(r,i){const o=this.rendererByCompId;let s=o.get(i.id);if(!s){const a=this.doc,c=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,_=this.platformIsServer;switch(i.encapsulation){case ho.Emulated:s=new X3(l,h,i,this.appId,f,a,c,_);break;case ho.ShadowDom:return new ste(l,h,r,i,a,c,this.nonce,_);default:s=new k1(l,h,i,f,a,c,_)}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(W3),ie(q3),ie(FC),ie(nte),ie(vo),ie(mo),ie(Dt),ie(e2))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),e})();class x1{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(S1[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Q3(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Q3(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new ee(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=S1[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=S1[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Gc.DashCase|Gc.Important)?e.style.setProperty(n,r,i&Gc.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Gc.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Yc().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function Q3(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class ste extends x1{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Z3(i.id,i.styles);for(const h of l){const f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class k1 extends x1{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?Z3(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class X3 extends k1{constructor(e,n,r,i,o,s,a,c){const l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=function rte(t){return"_ngcontent-%COMP%".replace(R1,t)}(l),this.hostAttr=function ite(t){return"_nghost-%COMP%".replace(R1,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let ate=(()=>{var t;class e extends G3{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(vo))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),e})();const J3=["alt","control","meta","shift"],cte={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lte={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ute=(()=>{var t;class e extends G3{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,o){const s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Yc().onAndCancel(r,s.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const s=e._normalizeKey(i.pop());let a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),J3.forEach(h=>{const f=i.indexOf(h);f>-1&&(i.splice(f,1),a+=h+".")}),a+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=cte[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),J3.forEach(a=>{a!==o&&(0,lte[a])(r)&&(s+=a+".")}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(vo))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),e})();const tU=[{provide:mo,useValue:"browser"},{provide:JN,useValue:function dte(){T1.makeCurrent()},multi:!0},{provide:vo,useFactory:function pte(){return function eG(t){PO=t}(document),document},deps:[]}],fte=qV(jX,"browser",tU),gte=new fe(""),nU=[{provide:pw,useClass:class Qee{addToWindow(e){Gt.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new ee(5103,!1);return o},Gt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Gt.getAllAngularRootElements=()=>e.getAllRootElements(),Gt.frameworkStabilizers||(Gt.frameworkStabilizers=[]),Gt.frameworkStabilizers.push(r=>{const i=Gt.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(c){s=s||c,o--,0==o&&r(s)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Yc().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:$V,useClass:QI,deps:[Dt,XI,pw]},{provide:QI,useClass:QI,deps:[Dt,XI,pw]}],rU=[{provide:RO,useValue:"root"},{provide:Va,useFactory:function hte(){return new Va},deps:[]},{provide:A1,useClass:ate,multi:!0,deps:[vo,Dt,mo]},{provide:A1,useClass:ute,multi:!0,deps:[vo]},Y3,q3,W3,{provide:s2,useExisting:Y3},{provide:B3,useClass:Xee,deps:[]},[]];let _te=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:FC,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(gte,12))},t.\u0275mod=Un({type:t}),t.\u0275inj=Yn({providers:[...rU,...nU],imports:[vee,$X]}),e})(),iU=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(vo))},t.\u0275prov=Te({token:t,factory:function(r){let i=null;return i=r?new r:function yte(){return new iU(ie(vo))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;const{isArray:Mte}=Array,{getPrototypeOf:Ote,prototype:Ite,keys:bte}=Object;function cU(t){if(1===t.length){const e=t[0];if(Mte(e))return{args:e,keys:null};if(function Tte(t){return t&&"object"==typeof t&&Ote(t)===Ite}(e)){const n=bte(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:Ate}=Array;function lU(t){return _e(e=>function Dte(t,e){return Ate(e)?t(...e):t(e)}(t,e))}function uU(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Xc(...t){const e=Ns(t),n=ks(t),{args:r,keys:i}=cU(t);if(0===r.length)return R([],e);const o=new st(function Ste(t,e,n=Fn){return r=>{dU(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)dU(e,()=>{const l=R(t[c],e);let h=!1;l.subscribe(Ce(r,f=>{o[c]=f,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>uU(i,s):Fn));return n?o.pipe(lU(n)):o}function dU(t,e,n){t?Dr(n,t,e):e()}const kw=Ue(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function F1(...t){return function Rte(){return Ki(1)}()(R(t,Ns(t)))}function hU(t){return new st(e=>{Ln(t()).subscribe(e)})}function b_(t,e){const n=O(t)?t:()=>t,r=i=>i.error(n());return new st(e?i=>e.schedule(r,0,i):r)}function L1(){return Q((t,e)=>{let n=null;t._refCount++;const r=Ce(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class pU extends st{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ce(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pt;const n=this.getSubject();e.add(this.source.subscribe(Ce(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pt.EMPTY)}return e}refCount(){return L1()(this)}}function tp(t){return t<=0?()=>Kn:Q((e,n)=>{let r=0;e.subscribe(Ce(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Nw(...t){const e=Ns(t);return Q((n,r)=>{(e?F1(t,n,e):F1(t,n)).subscribe(r)})}function Qo(t,e){return Q((n,r)=>{let i=0;n.subscribe(Ce(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Fw(t){return Q((e,n)=>{let r=!1;e.subscribe(Ce(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function fU(t=xte){return Q((e,n)=>{let r=!1;e.subscribe(Ce(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function xte(){return new kw}function Jc(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Qo((i,o)=>t(i,o,r)):Fn,tp(1),n?Fw(e):fU(()=>new kw))}function np(t,e){return O(e)?rn(t,e,1):rn(t,1)}function Xr(t,e,n){const r=O(t)||e||n?{next:t,error:e,complete:n}:t;return r?Q((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Ce(o,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),o.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Fn}function Xo(t){return Q((e,n)=>{let o,r=null,i=!1;r=e.subscribe(Ce(n,void 0,void 0,s=>{o=Ln(t(s,Xo(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function rp(t,e){return Q(function kte(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(Ce(s,h=>{const f=l++;c=a?t(c,h,f):(a=!0,h),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(t,e,arguments.length>=2,!0))}function V1(t){return t<=0?()=>Kn:Q((e,n)=>{let r=[];e.subscribe(Ce(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function T_(t){return Q((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const it="primary",A_=Symbol("RouteTitle");class Vte{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function ip(t){return new Vte(t)}function Ute(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ks(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!gU(t[i],e[i]))return!1;return!0}function gU(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function _U(t){return t.length>0?t[t.length-1]:null}function el(t){return function Ete(t){return!!t&&(t instanceof st||O(t.lift)&&O(t.subscribe))}(t)?t:d_(t)?R(Promise.resolve(t)):K(t)}const jte={exact:function vU(t,e,n){if(!Nu(t.segments,e.segments)||!Lw(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!vU(t.children[r],e.children[r],n))return!1;return!0},subset:CU},mU={exact:function $te(t,e){return Ks(t,e)},subset:function Hte(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>gU(t[n],e[n]))},ignored:()=>!0};function yU(t,e,n){return jte[n.paths](t.root,e.root,n.matrixParams)&&mU[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function CU(t,e,n){return wU(t,e,e.segments,n)}function wU(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Nu(i,n)||e.hasChildren()||!Lw(i,n,r))}if(t.segments.length===n.length){if(!Nu(t.segments,n)||!Lw(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!CU(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(Nu(t.segments,i)&&Lw(t.segments,i,r)&&t.children[it])&&wU(t.children[it],e,o,r)}}function Lw(t,e,n){return e.every((r,i)=>mU[n](t[i].parameters,r.parameters))}class op{constructor(e=new $t([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ip(this.queryParams)),this._queryParamMap}toString(){return Gte.serialize(this)}}class $t{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vw(this)}}class D_{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=ip(this.parameters)),this._parameterMap}toString(){return MU(this)}}function Nu(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let S_=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:function(){return new U1},providedIn:"root"}),e})();class U1{parse(e){const n=new rne(e);return new op(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${R_(e.root,!0)}`,r=function Zte(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Uw(n)}=${Uw(i)}`).join("&"):`${Uw(n)}=${Uw(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function qte(t){return encodeURI(t)}(e.fragment)}`:""}`}}const Gte=new U1;function Vw(t){return t.segments.map(e=>MU(e)).join("/")}function R_(t,e){if(!t.hasChildren())return Vw(t);if(e){const n=t.children[it]?R_(t.children[it],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==it&&r.push(`${i}:${R_(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Wte(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===it&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==it&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===it?[R_(t.children[it],!1)]:[`${i}:${R_(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[it]?`${Vw(t)}/${n[0]}`:`${Vw(t)}/(${n.join("//")})`}}function PU(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Uw(t){return PU(t).replace(/%3B/gi,";")}function B1(t){return PU(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bw(t){return decodeURIComponent(t)}function EU(t){return Bw(t.replace(/\+/g,"%20"))}function MU(t){return`${B1(t.path)}${function Kte(t){return Object.keys(t).map(e=>`;${B1(e)}=${B1(t[e])}`).join("")}(t.parameters)}`}const Yte=/^[^\/()?;#]+/;function j1(t){const e=t.match(Yte);return e?e[0]:""}const Qte=/^[^\/()?;=#]+/,Jte=/^[^=?&#]+/,tne=/^[^&#]+/;class rne{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $t([],{}):new $t([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[it]=new $t(e,n)),r}parseSegment(){const e=j1(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new ee(4009,!1);return this.capture(e),new D_(Bw(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function Xte(t){const e=t.match(Qte);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=j1(this.remaining);i&&(r=i,this.capture(r))}e[Bw(n)]=Bw(r)}parseQueryParam(e){const n=function ene(t){const e=t.match(Jte);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function nne(t){const e=t.match(tne);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=EU(n),o=EU(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=j1(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new ee(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=it);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[it]:new $t([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new ee(4011,!1)}}function OU(t){return t.segments.length>0?new $t([],{[it]:t}):t}function IU(t){const e={};for(const r of Object.keys(t.children)){const o=IU(t.children[r]);if(r===it&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function ine(t){if(1===t.numberOfChildren&&t.children[it]){const e=t.children[it];return new $t(t.segments.concat(e.segments),e.children)}return t}(new $t(t.segments,e))}function Fu(t){return t instanceof op}function bU(t){let e;const i=OU(function n(o){const s={};for(const c of o.children){const l=n(c);s[c.outlet]=l}const a=new $t(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function TU(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return $1(i,i,i,n,r);const o=function sne(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new DU(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new DU(n,e,r)}(e);if(o.toRoot())return $1(i,i,new $t([],{}),n,r);const s=function ane(t,e,n){if(t.isAbsolute)return new $w(e,!0,0);if(!n)return new $w(e,!1,NaN);if(null===n.parent)return new $w(n,!0,0);const r=jw(t.commands[0])?0:1;return function cne(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new ee(4005,!1);i=r.segments.length}return new $w(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?k_(s.segmentGroup,s.index,o.commands):SU(s.segmentGroup,s.index,o.commands);return $1(i,s.segmentGroup,a,n,r)}function jw(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function x_(t){return"object"==typeof t&&null!=t&&t.outlets}function $1(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`}),s=t===e?n:AU(t,e,n);const a=OU(IU(s));return new op(a,o,i)}function AU(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:AU(o,e,n)}),new $t(t.segments,r)}class DU{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&jw(r[0]))throw new ee(4003,!1);const i=r.find(x_);if(i&&i!==_U(r))throw new ee(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $w{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function SU(t,e,n){if(t||(t=new $t([],{})),0===t.segments.length&&t.hasChildren())return k_(t,e,n);const r=function une(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(x_(a))break;const c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!xU(c,l,s))return o;r+=2}else{if(!xU(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new $t(t.segments.slice(0,r.pathIndex),{});return o.children[it]=new $t(t.segments.slice(r.pathIndex),t.children),k_(o,0,i)}return r.match&&0===i.length?new $t(t.segments,{}):r.match&&!t.hasChildren()?H1(t,e,n):r.match?k_(t,0,i):H1(t,e,n)}function k_(t,e,n){if(0===n.length)return new $t(t.segments,{});{const r=function lne(t){return x_(t[0])?t[0].outlets:{[it]:t}}(n),i={};if(Object.keys(r).some(o=>o!==it)&&t.children[it]&&1===t.numberOfChildren&&0===t.children[it].segments.length){const o=k_(t.children[it],e,n);return new $t(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=SU(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new $t(t.segments,i)}}function H1(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(x_(o)){const c=dne(o.outlets);return new $t(r,c)}if(0===i&&jw(n[0])){r.push(new D_(t.segments[e].path,RU(n[0]))),i++;continue}const s=x_(o)?o.outlets[it]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&jw(a)?(r.push(new D_(s,RU(a))),i+=2):(r.push(new D_(s,{})),i++)}return new $t(r,{})}function dne(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=H1(new $t([],{}),0,r))}),e}function RU(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function xU(t,e,n){return t==n.path&&Ks(e,n.parameters)}const N_="imperative";class Zs{constructor(e,n){this.id=e,this.url=n}}class Hw extends Zs{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class tl extends Zs{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class F_ extends Zs{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class sp extends Zs{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class zw extends Zs{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class kU extends Zs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hne extends Zs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pne extends Zs{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class fne extends Zs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gne extends Zs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _ne{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class mne{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class yne{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vne{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cne{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wne{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class NU{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class z1{}class W1{constructor(e){this.url=e}}class Pne{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new L_,this.attachRef=null}}let L_=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Pne,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class FU{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=G1(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=G1(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=q1(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return q1(e,this._root).map(n=>n.value)}}function G1(t,e){if(t===e.value)return e;for(const n of e.children){const r=G1(t,n);if(r)return r}return null}function q1(t,e){if(t===e.value)return[e];for(const n of e.children){const r=q1(t,n);if(r.length)return r.unshift(e),r}return[]}class Ga{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function ap(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class LU extends FU{constructor(e,n){super(e),this.snapshot=n,K1(this,e)}toString(){return this.snapshot.toString()}}function VU(t,e){const n=function Ene(t,e){const s=new Ww([],{},{},"",{},it,e,null,{});return new BU("",new Ga(s,[]))}(0,e),r=new U([new D_("",{})]),i=new U({}),o=new U({}),s=new U({}),a=new U(""),c=new Ys(r,i,s,a,o,it,e,n.root);return c.snapshot=n.root,new LU(new Ga(c,[]),n)}class Ys{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(_e(l=>l[A_]))??K(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(_e(e=>ip(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(_e(e=>ip(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function UU(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function Mne(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Ww{get title(){return this.data?.[A_]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ip(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ip(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class BU extends FU{constructor(e,n){super(n),this.url=e,K1(this,n)}toString(){return jU(this._root)}}function K1(t,e){e.value._routerState=t,e.children.forEach(n=>K1(t,n))}function jU(t){const e=t.children.length>0?` { ${t.children.map(jU).join(", ")} } `:"";return`${t.value}${e}`}function Z1(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ks(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Ks(e.params,n.params)||t.paramsSubject.next(n.params),function Bte(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ks(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Ks(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Y1(t,e){const n=Ks(t.params,e.params)&&function zte(t,e){return Nu(t,e)&&t.every((n,r)=>Ks(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Y1(t.parent,e.parent))}let nl=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=it,this.activateEvents=new Mn,this.deactivateEvents=new Mn,this.attachEvents=new Mn,this.detachEvents=new Mn,this.parentContexts=we(L_),this.location=we(ys),this.changeDetector=we(gw),this.environmentInjector=we(_o),this.inputBinder=we(Gw,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ee(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ee(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ee(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new ee(4013,!1);this._activatedRoute=r;const o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new One(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Ve({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[di]}),e})();class One{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ys?this.route:e===L_?this.childContexts:this.parent.get(e,n)}}const Gw=new fe("");let $U=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:i}=r,o=Xc([i.queryParams,i.params,i.data]).pipe(Je(([s,a,c],l)=>(c={...s,...a,...c},0===l?K(c):Promise.resolve(c)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(r);const a=function eJ(t){const e=_t(t);if(!e)return null;const n=new s_(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(a)for(const{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,s[c]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,o)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),e})();function V_(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function bne(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return V_(t,r,i);return V_(t,r)})}(t,e,n);return new Ga(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>V_(t,a)),s}}const r=function Tne(t){return new Ys(new U(t.url),new U(t.params),new U(t.queryParams),new U(t.fragment),new U(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>V_(t,o));return new Ga(r,i)}}const Q1="ngNavigationCancelingError";function HU(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Fu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=zU(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function zU(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Q1]=!0,r.cancellationCode=e,n&&(r.url=n),r}function WU(t){return t&&t[Q1]}let GU=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tt({type:t,selectors:[["ng-component"]],standalone:!0,features:[qL],decls:1,vars:0,template:function(r,i){1&r&&A(0,"router-outlet")},dependencies:[nl],encapsulation:2}),e})();function X1(t){const e=t.children&&t.children.map(X1),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==it&&(n.component=GU),n}function Ps(t){return t.outlet||it}function U_(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Fne{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Z1(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=ap(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ap(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ap(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=ap(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new wne(o.value.snapshot))}),e.children.length&&this.forwardEvent(new vne(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(Z1(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Z1(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=U_(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class qU{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class qw{constructor(e,n){this.component=e,this.route=n}}function Lne(t,e,n){const r=t._root;return B_(r,e?e._root:null,n,[r.value])}function cp(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function iM(t){return null!==Yl(t)}(t)?e.get(t):t:r}function B_(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=ap(e);return t.children.forEach(s=>{(function Une(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function Bne(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Nu(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Nu(t.url,e.url)||!Ks(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Y1(t,e)||!Ks(t.queryParams,e.queryParams);default:return!Y1(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new qU(r)):(o.data=s.data,o._resolvedData=s._resolvedData),B_(t,e,o.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new qw(a.outlet.component,s))}else s&&j_(e,a,i),i.canActivateChecks.push(new qU(r)),B_(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>j_(a,n.getContext(s),i)),i}function j_(t,e,n){const r=ap(t),i=t.value;Object.entries(r).forEach(([o,s])=>{j_(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new qw(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function $_(t){return"function"==typeof t}function KU(t){return t instanceof kw||"EmptyError"===t?.name}const Kw=Symbol("INITIAL_VALUE");function lp(){return Je(t=>Xc(t.map(e=>e.pipe(tp(1),Nw(Kw)))).pipe(_e(e=>{for(const n of e)if(!0!==n){if(n===Kw)return Kw;if(!1===n||n instanceof op)return n}return!0}),Qo(e=>e!==Kw),tp(1)))}function ZU(t){return function Do(...t){return So(t)}(Xr(e=>{if(Fu(e))throw HU(0,e)}),_e(e=>!0===e))}class Zw{constructor(e){this.segmentGroup=e||null}}class YU{constructor(e){this.urlTree=e}}function up(t){return b_(new Zw(t))}function QU(t){return b_(new YU(t))}class sre{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new ee(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return K(r);if(i.numberOfChildren>1||!i.children[it])return b_(new ee(4e3,!1));i=i.children[it]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new op(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new $t(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new ee(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const J1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function are(t,e,n,r,i){const o=eb(t,e,n);return o.matched?(r=function Dne(t,e){return t.providers&&!t._injector&&(t._injector=RI(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function rre(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?K(i.map(s=>{const a=cp(s,t);return el(function Gne(t){return t&&$_(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(lp(),ZU()):K(!0)}(r,e,n).pipe(_e(s=>!0===s?o:{...J1}))):K(o)}function eb(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...J1}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Ute)(n,t,e);if(!i)return{...J1};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function XU(t,e,n,r){return n.length>0&&function ure(t,e,n){return n.some(r=>Yw(t,e,r)&&Ps(r)!==it)}(t,n,r)?{segmentGroup:new $t(e,lre(r,new $t(n,t.children))),slicedSegments:[]}:0===n.length&&function dre(t,e,n){return n.some(r=>Yw(t,e,r))}(t,n,r)?{segmentGroup:new $t(t.segments,cre(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new $t(t.segments,t.children),slicedSegments:n}}function cre(t,e,n,r,i){const o={};for(const s of r)if(Yw(t,n,s)&&!i[Ps(s)]){const a=new $t([],{});o[Ps(s)]=a}return{...i,...o}}function lre(t,e){const n={};n[it]=e;for(const r of t)if(""===r.path&&Ps(r)!==it){const i=new $t([],{});n[Ps(r)]=i}return n}function Yw(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class gre{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new sre(this.urlSerializer,this.urlTree)}noMatchError(e){return new ee(4002,!1)}recognize(){const e=XU(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,it).pipe(Xo(n=>{if(n instanceof YU)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Zw?this.noMatchError(n):n}),_e(n=>{const r=new Ww([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},it,this.rootComponentType,null,{}),i=new Ga(r,n),o=new BU("",i),s=function one(t,e,n=null,r=null){return TU(bU(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,it).pipe(Xo(r=>{throw r instanceof Zw?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=UU(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return R(i).pipe(np(o=>{const s=r.children[o],a=function kne(t,e){const n=t.filter(r=>Ps(r)===e);return n.push(...t.filter(r=>Ps(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),rp((o,s)=>(o.push(...s),o)),Fw(null),function Nte(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Qo((i,o)=>t(i,o,r)):Fn,V1(1),n?Fw(e):fU(()=>new kw))}(),rn(o=>{if(null===o)return up(r);const s=JU(o);return function _re(t){t.sort((e,n)=>e.value.outlet===it?-1:n.value.outlet===it?1:e.value.outlet.localeCompare(n.value.outlet))}(s),K(s)}))}processSegment(e,n,r,i,o,s){return R(n).pipe(np(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(Xo(c=>{if(c instanceof Zw)return K(null);throw c}))),Jc(a=>!!a),Xo(a=>{if(KU(a))return function pre(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?K([]):up(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function hre(t,e,n,r){return!!(Ps(t)===r||r!==it&&Yw(e,n,t))&&("**"===t.path||eb(e,t,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):up(i):up(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?QU(o):this.applyRedirects.lineralizeSegments(r,o).pipe(rn(s=>{const a=new $t(s,{});return this.processSegment(e,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:h}=eb(n,i,o);if(!a)return up(n);const f=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,h);return i.redirectTo.startsWith("/")?QU(f):this.applyRedirects.lineralizeSegments(i,f).pipe(rn(_=>this.processSegment(e,r,n,_.concat(l),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a;if("**"===r.path){const c=i.length>0?_U(i).parameters:{};a=K({snapshot:new Ww(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,e5(r),Ps(r),r.component??r._loadedComponent??null,r,t5(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=are(n,r,i,e).pipe(_e(({matched:c,consumedSegments:l,remainingSegments:h,parameters:f})=>c?{snapshot:new Ww(l,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,e5(r),Ps(r),r.component??r._loadedComponent??null,r,t5(r)),consumedSegments:l,remainingSegments:h}:null));return a.pipe(Je(c=>null===c?up(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Je(({routes:l})=>{const h=r._loadedInjector??e,{snapshot:f,consumedSegments:_,remainingSegments:v}=c,{segmentGroup:E,slicedSegments:I}=XU(n,_,v,l);if(0===I.length&&E.hasChildren())return this.processChildren(h,l,E).pipe(_e(L=>null===L?null:[new Ga(f,L)]));if(0===l.length&&0===I.length)return K([new Ga(f,[])]);const b=Ps(r)===o;return this.processSegment(h,l,E,I,b?it:o,!0).pipe(_e(L=>[new Ga(f,L)]))}))))}getChildConfig(e,n,r){return n.children?K({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?K({routes:n._loadedRoutes,injector:n._loadedInjector}):function nre(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?K(!0):K(i.map(s=>{const a=cp(s,t);return el(function $ne(t){return t&&$_(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(lp(),ZU())}(e,n,r).pipe(rn(i=>i?this.configLoader.loadChildren(e,n).pipe(Xr(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function ore(t){return b_(zU(!1,3))}())):K({routes:[],injector:e})}}function mre(t){const e=t.value.routeConfig;return e&&""===e.path}function JU(t){const e=[],n=new Set;for(const r of t){if(!mre(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=JU(r.children);e.push(new Ga(r.value,i))}return e.filter(r=>!n.has(r))}function e5(t){return t.data||{}}function t5(t){return t.resolve||{}}function n5(t){return"string"==typeof t.title||null===t.title}function tb(t){return Je(e=>{const n=t(e);return n?R(n).pipe(_e(()=>e)):K(e)})}const dp=new fe("ROUTES");let nb=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=we(VV)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return K(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=el(r.loadComponent()).pipe(_e(r5),Xr(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),T_(()=>{this.componentLoaders.delete(r)})),o=new pU(i,()=>new J).pipe(L1());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return K({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function Mre(t,e,n,r){return el(t.loadChildren()).pipe(_e(r5),rn(i=>i instanceof WL||Array.isArray(i)?K(i):R(e.compileModuleAsync(i))),_e(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(dp,[],{optional:!0,self:!0}).flat()),{routes:s.map(X1),injector:o}}))}(i,this.compiler,r,this.onLoadEndListener).pipe(T_(()=>{this.childrenLoaders.delete(i)})),a=new pU(s,()=>new J).pipe(L1());return this.childrenLoaders.set(i,a),a}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function r5(t){return function Ore(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Qw=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new J,this.transitionAbortSubject=new J,this.configLoader=we(nb),this.environmentInjector=we(_o),this.urlSerializer=we(S_),this.rootContexts=we(L_),this.inputBindingEnabled=null!==we(Gw,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>K(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new mne(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new _ne(o))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,o){return this.transitions=new U({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:r.urlHandlingStrategy.extract(i),urlAfterRedirects:r.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:N_,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Qo(s=>0!==s.id),_e(s=>({...s,extractedUrl:r.urlHandlingStrategy.extract(s.rawUrl)})),Je(s=>{this.currentTransition=s;let a=!1,c=!1;return K(s).pipe(Xr(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Je(l=>{const h=l.currentBrowserUrl.toString(),f=!r.navigated||l.extractedUrl.toString()!==h||h!==l.currentUrlTree.toString();if(!f&&"reload"!==(l.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const v="";return this.events.next(new sp(l.id,this.urlSerializer.serialize(l.rawUrl),v,0)),l.resolve(null),Kn}if(r.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return K(l).pipe(Je(v=>{const E=this.transitions?.getValue();return this.events.next(new Hw(v.id,this.urlSerializer.serialize(v.extractedUrl),v.source,v.restoredState)),E!==this.transitions?.getValue()?Kn:Promise.resolve(v)}),function yre(t,e,n,r,i,o){return rn(s=>function fre(t,e,n,r,i,o,s="emptyOnly"){return new gre(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(_e(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),Xr(v=>{s.targetSnapshot=v.targetSnapshot,s.urlAfterRedirects=v.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:v.urlAfterRedirects};const E=new kU(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(E)}));if(f&&r.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:v,extractedUrl:E,source:I,restoredState:b,extras:L}=l,N=new Hw(v,this.urlSerializer.serialize(E),I,b);this.events.next(N);const H=VU(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:H,urlAfterRedirects:E,extras:{...L,skipLocationChange:!1,replaceUrl:!1}},K(s)}{const v="";return this.events.next(new sp(l.id,this.urlSerializer.serialize(l.extractedUrl),v,1)),l.resolve(null),Kn}}),Xr(l=>{const h=new hne(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),_e(l=>(this.currentTransition=s={...l,guards:Lne(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function Kne(t,e){return rn(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?K({...n,guardsResult:!0}):function Zne(t,e,n,r){return R(t).pipe(rn(i=>function tre(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?K(o.map(a=>{const c=U_(e)??i,l=cp(a,c);return el(function Wne(t){return t&&$_(t.canDeactivate)}(l)?l.canDeactivate(t,e,n,r):c.runInContext(()=>l(t,e,n,r))).pipe(Jc())})).pipe(lp()):K(!0)}(i.component,i.route,n,e,r)),Jc(i=>!0!==i,!0))}(s,r,i,t).pipe(rn(a=>a&&function jne(t){return"boolean"==typeof t}(a)?function Yne(t,e,n,r){return R(e).pipe(np(i=>F1(function Xne(t,e){return null!==t&&e&&e(new yne(t)),K(!0)}(i.route.parent,r),function Qne(t,e){return null!==t&&e&&e(new Cne(t)),K(!0)}(i.route,r),function ere(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function Vne(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>hU(()=>K(s.guards.map(c=>{const l=U_(s.node)??n,h=cp(c,l);return el(function zne(t){return t&&$_(t.canActivateChild)}(h)?h.canActivateChild(r,t):l.runInContext(()=>h(r,t))).pipe(Jc())})).pipe(lp())));return K(o).pipe(lp())}(t,i.path,n),function Jne(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return K(!0);const i=r.map(o=>hU(()=>{const s=U_(e)??n,a=cp(o,s);return el(function Hne(t){return t&&$_(t.canActivate)}(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t))).pipe(Jc())}));return K(i).pipe(lp())}(t,i.route,n))),Jc(i=>!0!==i,!0))}(r,o,t,e):K(a)),_e(a=>({...n,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Xr(l=>{if(s.guardsResult=l.guardsResult,Fu(l.guardsResult))throw HU(0,l.guardsResult);const h=new pne(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),Qo(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),tb(l=>{if(l.guards.canActivateChecks.length)return K(l).pipe(Xr(h=>{const f=new fne(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}),Je(h=>{let f=!1;return K(h).pipe(function vre(t,e){return rn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return K(n);let o=0;return R(i).pipe(np(s=>function Cre(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!n5(i)&&(o[A_]=i.title),function wre(t,e,n,r){const i=function Pre(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return K({});const o={};return R(i).pipe(rn(s=>function Ere(t,e,n,r){const i=U_(e)??r,o=cp(t,i);return el(o.resolve?o.resolve(e,n):i.runInContext(()=>o(e,n)))}(t[s],e,n,r).pipe(Jc(),Xr(a=>{o[s]=a}))),V1(1),function Fte(t){return _e(()=>t)}(o),Xo(s=>KU(s)?Kn:b_(s)))}(o,t,e,r).pipe(_e(s=>(t._resolvedData=s,t.data=UU(t,n).resolve,i&&n5(i)&&(t.data[A_]=i.title),null)))}(s.route,r,t,e)),Xr(()=>o++),V1(1),rn(s=>o===i.length?K(n):Kn))})}(r.paramsInheritanceStrategy,this.environmentInjector),Xr({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(h,"",2)}}))}),Xr(h=>{const f=new gne(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}))}),tb(l=>{const h=f=>{const _=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(f.routeConfig).pipe(Xr(v=>{f.component=v}),_e(()=>{})));for(const v of f.children)_.push(...h(v));return _};return Xc(h(l.targetSnapshot.root)).pipe(Fw(),tp(1))}),tb(()=>this.afterPreactivation()),_e(l=>{const h=function Ine(t,e,n){const r=V_(t,e._root,n?n._root:void 0);return new LU(r,e)}(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:h},s}),Xr(()=>{this.events.next(new z1)}),((t,e,n,r)=>_e(i=>(new Fne(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),tp(1),Xr({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new tl(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),r.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),function Lte(t){return Q((e,n)=>{Ln(t).subscribe(Ce(n,()=>n.complete(),De)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Xr(l=>{throw l}))),T_(()=>{a||c||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Xo(l=>{if(c=!0,WU(l))this.events.next(new F_(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function Ane(t){return WU(t)&&Fu(t.url)}(l)?this.events.next(new W1(l.url)):s.resolve(!1);else{this.events.next(new zw(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(h){s.reject(h)}}return Kn}))}))}cancelNavigationTransition(r,i,o){const s=new F_(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function i5(t){return t!==N_}let o5=(()=>{var t;class e{buildTitle(r){let i,o=r.root;for(;void 0!==o;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===it);return i}getResolvedTitleForRoute(r){return r.data[A_]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:function(){return we(Ire)},providedIn:"root"}),e})(),Ire=(()=>{var t;class e extends o5{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(iU))},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),bre=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:function(){return we(Are)},providedIn:"root"}),e})();class Tre{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Are=(()=>{var t;class e extends Tre{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Mr(t)))(i||t)}}(),t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Xw=new fe("",{providedIn:"root",factory:()=>({})});let Dre=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:function(){return we(Sre)},providedIn:"root"}),e})(),Sre=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var H_=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(H_||{});function s5(t,e){t.events.pipe(Qo(n=>n instanceof tl||n instanceof F_||n instanceof zw||n instanceof sp),_e(n=>n instanceof tl||n instanceof sp?H_.COMPLETE:n instanceof F_&&(0===n.code||1===n.code)?H_.REDIRECTING:H_.FAILED),Qo(n=>n!==H_.REDIRECTING),tp(1)).subscribe(()=>{e()})}function Rre(t){throw t}function xre(t,e,n){return e.parse("/")}const kre={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Nre={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let br=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=we(LV),this.isNgZoneEnabled=!1,this._events=new J,this.options=we(Xw,{optional:!0})||{},this.pendingTasks=we(dw),this.errorHandler=this.options.errorHandler||Rre,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||xre,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=we(Dre),this.routeReuseStrategy=we(bre),this.titleStrategy=we(o5),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=we(dp,{optional:!0})?.flat()??[],this.navigationTransitions=we(Qw),this.urlSerializer=we(S_),this.location=we(d1),this.componentInputBindingEnabled=!!we(Gw,{optional:!0}),this.eventsSubscription=new Pt,this.isNgZoneEnabled=we(Dt)instanceof Dt&&Dt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new op,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=VU(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:o}=this.navigationTransitions;if(null===o)return void(a5(i)&&this._events.next(i));if(i instanceof Hw)i5(o.source)&&(this.browserUrlTree=o.extractedUrl);else if(i instanceof sp)this.rawUrlTree=o.rawUrl;else if(i instanceof kU){if("eager"===this.urlUpdateStrategy){if(!o.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl);this.setBrowserUrl(s,o)}this.browserUrlTree=o.urlAfterRedirects}}else if(i instanceof z1)this.currentUrlTree=o.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o),this.browserUrlTree=o.urlAfterRedirects);else if(i instanceof F_)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(o);else if(i instanceof W1){const s=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),a={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||i5(o.source)};this.scheduleNavigation(s,N_,null,a,{resolve:o.resolve,reject:o.reject,promise:o.promise})}i instanceof zw&&this.restoreHistory(o,!0),i instanceof tl&&(this.navigated=!0),a5(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),N_,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,o){const s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){const l={...o};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(X1),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a;let _,f=null;switch(c){case"merge":f={...this.currentUrlTree.queryParams,...s};break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}null!==f&&(f=this.removeEmptyProps(f));try{_=bU(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),_=this.currentUrlTree.root}return TU(_,r,f,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){const o=Fu(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,N_,null,i)}navigate(r,i={skipLocationChange:!1}){return function Fre(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new ee(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(o){i=this.malformedUriErrorHandler(o,this.urlSerializer,r)}return i}isActive(r,i){let o;if(o=!0===i?{...kre}:!1===i?{...Nre}:i,Fu(r))return yU(this.currentUrlTree,r,o);const s=this.parseUrl(r);return yU(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.keys(r).reduce((i,o)=>{const s=r[o];return null!=s&&(i[o]=s),i},{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,h;a?(c=a.resolve,l=a.reject,h=a.promise):h=new Promise((_,v)=>{c=_,l=v});const f=this.pendingTasks.add();return s5(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:s,resolve:c,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(_=>Promise.reject(_))}setBrowserUrl(r,i){const o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(o,"",a)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(o,"",s)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function a5(t){return!(t instanceof z1||t instanceof W1)}let kr=(()=>{var t;class e{constructor(r,i,o,s,a,c){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new J,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof tl&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){null!=r?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){return!!(null===this.urlTree||this.isAnchorElement&&(0!==r||i||o||s||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const r=null===this.href?null:function WN(t,e,n){return function PG(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?zN:Or}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){const o=this.renderer,s=this.el.nativeElement;null!==i?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(br),Y(Ys),function Ph(t){return function KM(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(Hf(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}(Er(),t)}("tabindex"),Y(La),Y(Ni),Y(ku))},t.\u0275dir=Ve({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&G("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&Go("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Jh],skipLocationChange:["skipLocationChange","skipLocationChange",Jh],replaceUrl:["replaceUrl","replaceUrl",Jh],routerLink:"routerLink"},standalone:!0,features:[iF,di]}),e})();class c5{}let Ure=(()=>{var t;class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Qo(r=>r instanceof tl),np(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){const o=[];for(const s of i){s.providers&&!s._injector&&(s._injector=RI(s.providers,r,`Route: ${s.path}`));const a=s._injector??r,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(c,s.children??s._loadedRoutes))}return R(o).pipe(Ki())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;o=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(r,i):K(null);const s=o.pipe(rn(a=>null===a?K(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));return i.loadComponent&&!i._loadedComponent?R([s,this.loader.loadComponent(i)]).pipe(Ki()):s})}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(br),ie(VV),ie(_o),ie(c5),ie(nb))},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const rb=new fe("");let l5=(()=>{var t;class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Hw?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof tl?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof sp&&0===r.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof NU&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new NU(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){!function S2(){throw new Error("invalid")}()},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),e})();function qa(t,e){return{\u0275kind:t,\u0275providers:e}}function d5(){const t=we(Fi);return e=>{const n=t.get(Xh);if(e!==n.components[0])return;const r=t.get(br),i=t.get(h5);1===t.get(ib)&&r.initialNavigation(),t.get(p5,null,pt.Optional)?.setUpPreloading(),t.get(rb,null,pt.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const h5=new fe("",{factory:()=>new J}),ib=new fe("",{providedIn:"root",factory:()=>1}),p5=new fe("");function Hre(t){return qa(0,[{provide:p5,useExisting:Ure},{provide:c5,useExisting:t}])}const f5=new fe("ROUTER_FORROOT_GUARD"),Wre=[d1,{provide:S_,useClass:U1},br,L_,{provide:Ys,useFactory:function u5(t){return t.routerState.root},deps:[br]},nb,[]];function Gre(){return new WV("Router",br)}let g5=(()=>{var t;class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[Wre,[],{provide:dp,multi:!0,useValue:r},{provide:f5,useFactory:Yre,deps:[[br,new p,new d]]},{provide:Xw,useValue:i||{}},i?.useHash?{provide:ku,useClass:oJ}:{provide:ku,useClass:P3},{provide:rb,useFactory:()=>{const t=we(Eee),e=we(Dt),n=we(Xw),r=we(Qw),i=we(S_);return n.scrollOffset&&t.setOffset(n.scrollOffset),new l5(i,r,t,e,n)}},i?.preloadingStrategy?Hre(i.preloadingStrategy).\u0275providers:[],{provide:WV,multi:!0,useFactory:Gre},i?.initialNavigation?Qre(i):[],i?.bindToComponentInputs?qa(8,[$U,{provide:Gw,useExisting:$U}]).\u0275providers:[],[{provide:_5,useFactory:d5},{provide:t1,multi:!0,useExisting:_5}]]}}static forChild(r){return{ngModule:e,providers:[{provide:dp,multi:!0,useValue:r}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(f5,8))},t.\u0275mod=Un({type:t}),t.\u0275inj=Yn({}),e})();function Yre(t){return"guarded"}function Qre(t){return["disabled"===t.initialNavigation?qa(3,[{provide:qI,multi:!0,useFactory:()=>{const e=we(br);return()=>{e.setUpLocationChangeListener()}}},{provide:ib,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?qa(2,[{provide:ib,useValue:0},{provide:qI,multi:!0,deps:[Fi],useFactory:e=>{const n=e.get(rJ,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(br),o=e.get(h5);s5(i,()=>{r(!0)}),e.get(Qw).afterPreactivation=()=>(r(!0),o.closed?K(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const _5=new fe("");var x=Ze(861),$e=Ze(534);(0,$e.registerVersion)("firebase","10.5.2","app");var Eo=Ze(537),M=Ze(58),mi=Ze(879);const m5="@firebase/database";let ob="";function sb(t){ob=t}class tie{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,M.Wl)(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:(0,M.cI)(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class nie{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return(0,M.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const v5=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new tie(e)}}catch{}return new nie},Lu=v5("localStorage"),ab=v5("sessionStorage"),hp=new mi.Yd("@firebase/database"),C5=function(){let t=1;return function(){return t++}}(),w5=function(t){const e=(0,M.dS)(t),n=new M.gQ;n.update(e);const r=n.digest();return M.US.encodeByteArray(r)},z_=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=z_.apply(null,r):e+="object"==typeof r?(0,M.Wl)(r):r,e+=" "}return e};let Vu=null,P5=!0;const E5=function(t,e){(0,M.hu)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(hp.logLevel=mi.in.VERBOSE,Vu=hp.log.bind(hp),e&&ab.set("logging_enabled",!0)):"function"==typeof t?Vu=t:(Vu=null,ab.remove("logging_enabled"))},Nr=function(...t){if(!0===P5&&(P5=!1,null===Vu&&!0===ab.get("logging_enabled")&&E5(!0)),Vu){const e=z_.apply(null,t);Vu(e)}},W_=function(t){return function(...e){Nr(t,...e)}},cb=function(...t){const e="FIREBASE INTERNAL ERROR: "+z_(...t);hp.error(e)},Qs=function(...t){const e=`FIREBASE FATAL ERROR: ${z_(...t)}`;throw hp.error(e),new Error(e)},yi=function(...t){const e="FIREBASE WARNING: "+z_(...t);hp.warn(e)},Jw=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},rl="[MIN_NAME]",Ka="[MAX_NAME]",Uu=function(t,e){if(t===e)return 0;if(t===rl||e===Ka)return-1;if(e===rl||t===Ka)return 1;{const n=I5(t),r=I5(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},oie=function(t,e){return t===e?0:t<e?-1:1},G_=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+(0,M.Wl)(e))},lb=function(t){if("object"!=typeof t||null===t)return(0,M.Wl)(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=(0,M.Wl)(e[r]),n+=":",n+=lb(t[e[r]]);return n+="}",n},M5=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function Fr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const O5=function(t){(0,M.hu)(!Jw(t),"Invalid JSON number");const r=1023;let i,o,s,a,c;0===t?(o=0,s=0,i=1/t==-1/0?1:0):(i=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(t/Math.pow(2,-1074))));const l=[];for(c=52;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=11;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();const h=l.join("");let f="";for(c=0;c<64;c+=8){let _=parseInt(h.substr(c,8),2).toString(16);1===_.length&&(_="0"+_),f+=_}return f.toLowerCase()},lie=new RegExp("^-?(0*)\\d{1,10}$"),I5=function(t){if(lie.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},pp=function(t){try{t()}catch(e){setTimeout(()=>{throw yi("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},q_=function(t,e){const n=setTimeout(t,e);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class pie{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){yi(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class fie{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(Nr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',yi(e)}}let K_=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const S5=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,k5="websocket",N5="long_polling";class db{constructor(e,n,r,i,o=!1,s="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Lu.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Lu.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function F5(t,e,n){let r;if((0,M.hu)("string"==typeof e,"typeof type must == string"),(0,M.hu)("object"==typeof n,"typeof params must == object"),e===k5)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==N5)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function gie(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return Fr(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}class _ie{constructor(){this.counters_={}}incrementCounter(e,n=1){(0,M.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return(0,M.p$)(this.counters_)}}const hb={},pb={};function fb(t){const e=t.toString();return hb[e]||(hb[e]=new _ie),hb[e]}class yie{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&pp(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class il{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=W_(e),this.stats_=fb(n),this.urlFn=c=>(this.appCheckToken&&(c.ac=this.appCheckToken),F5(n,N5,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new yie(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if((0,M.Yr)()||"complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new gb((...o)=>{const[s,a,c,l,h]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=c;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&S5.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){il.forceAllow_=!0}static forceDisallow(){il.forceDisallow_=!0}static isAvailable(){return!((0,M.Yr)()||!il.forceAllow_&&(il.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=(0,M.Wl)(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=(0,M.h$)(n),i=M5(r,1840);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if((0,M.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=(0,M.Wl)(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class gb{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,M.Yr)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=C5(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=gb.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Nr("frame writing exception"),a.stack&&Nr(a.stack),Nr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Nr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const s=this.pendingSegs.shift();r=r+"&seg"+i+"="+s.seg+"&ts"+i+"="+s.ts+"&d"+i+"="+s.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,n){(0,M.Yr)()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Nr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let t0=null;typeof MozWebSocket<"u"?t0=MozWebSocket:typeof WebSocket<"u"&&(t0=WebSocket);let fp=(()=>{class t{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=W_(this.connId),this.stats_=fb(r),this.connURL=t.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){const a={v:"5"};return!(0,M.Yr)()&&typeof location<"u"&&location.hostname&&S5.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),o&&(a.ac=o),s&&(a.p=s),F5(n,k5,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Lu.set("previous_websocket_failure",!0);try{let i;if((0,M.Yr)()){i={headers:{"User-Agent":`Firebase/5/${ob}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const s=process.env,a=0===this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new t0(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==t0&&!t.forceDisallow_}static previouslyFailed(){return Lu.isInMemoryStorage||!0===Lu.get("previous_websocket_failure")}markConnectionHealthy(){Lu.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,M.cI)(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if((0,M.hu)(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=(0,M.Wl)(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=M5(r,16384);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),H5=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[il,fp]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=fp&&fp.isAvailable();let i=r&&!fp.previouslyFailed();if(n.webSocketOnly&&(r||yi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[fp];else{const o=this.transports_=[];for(const s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class Y5{constructor(e,n,r,i,o,s,a,c,l,h){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=W_("c:"+this.id+":"),this.transportManager_=new H5(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=q_(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=G_("t",e),r=G_("d",e);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=G_("t",e),r=G_("d",e);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=G_("t",e);if("d"in e){const r=e.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?cb("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):cb("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&yi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),q_(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):q_(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Lu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Q5{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class X5{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,M.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context))return void i.splice(o,1)}validateEventType_(e){(0,M.hu)(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class n0 extends X5{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,M.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new n0}getInitialEvent(e){return(0,M.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Ut{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function Nt(){return new Ut("")}function ft(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ol(t){return t.pieces_.length-t.pieceNum_}function Jt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ut(t.pieces_,e)}function mb(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Z_(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function tB(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ut(e,0)}function In(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ut)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Ut(n,0)}function gt(t){return t.pieceNum_>=t.pieces_.length}function Bi(t,e){const n=ft(t),r=ft(e);if(null===n)return e;if(n===r)return Bi(Jt(t),Jt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Bie(t,e){const n=Z_(t,0),r=Z_(e,0);for(let i=0;i<n.length&&i<r.length;i++){const o=Uu(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function yb(t,e){if(ol(t)!==ol(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Jo(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ol(t)>ol(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class jie{constructor(e,n){this.errorPrefix_=n,this.parts_=Z_(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,M.ug)(this.parts_[r]);nB(this)}}function nB(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Bu(t))}function Bu(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class vb extends X5{constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new vb}getInitialEvent(e){return(0,M.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Y_=1e3;let o0,ju=(()=>{class t extends Q5{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=W_("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Y_,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!(0,M.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");vb.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&n0.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_((0,M.Wl)(s)),(0,M.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();const r=new M.BH,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const c=a.d;"ok"===a.s?r.resolve(c):r.reject(c)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,o){this.initConnection_();const s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),(0,M.hu)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,M.hu)(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);const s={p:i};n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest("q",s,c=>{const l=c.d,h=c.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),"ok"!==h&&this.removeListen_(i,o),n.onComplete&&n.onComplete(h,l))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&(0,M.r3)(n,"w")){const i=(0,M.DV)(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();yi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||(0,M.GJ)(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=(0,M.w9)(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{const s=o.s,a=o.d||"error";this.authToken_===n&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),(0,M.hu)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);const s={p:n};o&&(s.q=i,s.t=o),this.sendRequest("n",s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){const s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();const a={p:r,d:i};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+(0,M.Wl)(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):cb("Unrecognized action received from server: "+(0,M.Wl)(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){(0,M.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Y_,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Y_,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Y_),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return(0,x.Z)(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),o=n.onRealtimeDisconnect_.bind(n),s=n.id+":"+t.nextConnectionId_++,a=n.lastSessionId;let c=!1,l=null;const h=function(){l?l.close():(c=!0,o())};n.realtime_={close:h,sendRequest:function(v){(0,M.hu)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(v)}};const _=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[v,E]=yield Promise.all([n.authTokenProvider_.getToken(_),n.appCheckTokenProvider_.getToken(_)]);c?Nr("getToken() completed but was canceled"):(Nr("getToken() completed. Creating connection."),n.authToken_=v&&v.accessToken,n.appCheckToken_=E&&E.token,l=new Y5(s,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,o,I=>{yi(I+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(v){n.log_("Failed to get token: "+v),c||(n.repoInfo_.nodeAdmin&&yi(v),h())}}})()}interrupt(n){Nr("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Nr("Resuming connection for reason: "+n),delete this.interruptReasons_[n],(0,M.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Y_,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(s=>lb(s)).join("$"):"default";const o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){const i=new Ut(n).toString();let o;if(this.listens.has(i)){const s=this.listens.get(i);o=s.get(r),s.delete(r),0===s.size&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Nr("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Nr("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";(0,M.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),n["sdk."+r+"."+ob.replace(/\./g,"-")]=1,(0,M.uI)()?n["framework.cordova"]=1:(0,M.b$)()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=n0.getInstance().currentlyOnline();return(0,M.xb)(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class mt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new mt(e,n)}}class r0{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new mt(rl,e),i=new mt(rl,n);return 0!==this.compare(r,i)}minPost(){return mt.MIN}}class oB extends r0{static get __EMPTY_NODE(){return o0}static set __EMPTY_NODE(e){o0=e}compare(e,n){return Uu(e.name,n.name)}isDefinedOn(e){throw(0,M.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return mt.MIN}maxPost(){return new mt(Ka,o0)}makePost(e,n){return(0,M.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new mt(e,o0)}toString(){return".key"}}const Xs=new oB;class s0{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,i&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let wb,Es=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??ro.EMPTY_NODE,this.right=s??ro.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this;const s=i(n,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(n,r,i),null):0===s?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return ro.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return ro.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class ro{constructor(e,n=ro.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ro(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Es.BLACK,null,null))}remove(e){return new ro(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Es.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new s0(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new s0(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new s0(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new s0(this.root_,null,this.comparator_,!0,e)}}function Zie(t,e){return Uu(t.name,e.name)}function Cb(t,e){return Uu(t,e)}ro.EMPTY_NODE=new class Kie{copy(e,n,r,i,o){return this}insert(e,n,r){return new Es(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const sB=function(t){return"number"==typeof t?"number:"+O5(t):"string:"+t},aB=function(t){if(t.isLeafNode()){const e=t.val();(0,M.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,M.r3)(e,".sv"),"Priority must be a string or number.")}else(0,M.hu)(t===wb||t.isEmpty(),"priority of unexpected type.");(0,M.hu)(t===wb||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let cB,lB,uB,gp=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,(0,M.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),aB(this.priorityNode_)}static set __childrenNodeConstructor(n){cB=n}static get __childrenNodeConstructor(){return cB}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return gt(n)?this:".priority"===ft(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=ft(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,M.hu)(".priority"!==i||1===ol(n),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Jt(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+sB(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?O5(this.value_):this.value_,this.lazyHash_=w5(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:((0,M.hu)(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return(0,M.hu)(o>=0,"Unknown leaf type: "+r),(0,M.hu)(s>=0,"Unknown leaf type: "+i),o===s?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const ln=new class Jie extends r0{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return 0===o?Uu(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return mt.MIN}maxPost(){return new mt(Ka,new gp("[PRIORITY-POST]",uB))}makePost(e,n){const r=lB(e);return new mt(n,new gp("[PRIORITY-POST]",r))}toString(){return".priority"}},eoe=Math.log(2);class toe{constructor(e){this.count=parseInt(Math.log(e+1)/eoe,10),this.current_=this.count-1;const i=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const a0=function(t,e,n,r){t.sort(e);const i=function(c,l){const h=l-c;let f,_;if(0===h)return null;if(1===h)return f=t[c],_=n?n(f):f,new Es(_,f.node,Es.BLACK,null,null);{const v=parseInt(h/2,10)+c,E=i(c,v),I=i(v+1,l);return f=t[v],_=n?n(f):f,new Es(_,f.node,Es.BLACK,E,I)}},a=function(c){let l=null,h=null,f=t.length;const _=function(E,I){const b=f-E,L=f;f-=E;const N=i(b+1,L),H=t[b],$=n?n(H):H;v(new Es($,H.node,I,null,N))},v=function(E){l?(l.left=E,l=E):(h=E,l=E)};for(let E=0;E<c.count;++E){const I=c.nextBitIsOne(),b=Math.pow(2,c.count-(E+1));I?_(b,Es.BLACK):(_(b,Es.BLACK),_(b,Es.RED))}return h}(new toe(t.length));return new ro(r||e,a)};let Pb;const _p={};class Za{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return(0,M.hu)(_p&&ln,"ChildrenNode.ts has not been loaded"),Pb=Pb||new Za({".priority":_p},{".priority":ln}),Pb}get(e){const n=(0,M.DV)(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ro?n:null}hasIndex(e){return(0,M.r3)(this.indexSet_,e.toString())}addIndex(e,n){(0,M.hu)(e!==Xs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(mt.Wrap);let a,s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();a=i?a0(r,e.getCompare()):_p;const c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;const h=Object.assign({},this.indexes_);return h[c]=a,new Za(h,l)}addToIndexes(e,n){const r=(0,M.UI)(this.indexes_,(i,o)=>{const s=(0,M.DV)(this.indexSet_,o);if((0,M.hu)(s,"Missing index implementation for "+o),i===_p){if(s.isDefinedOn(e.node)){const a=[],c=n.getIterator(mt.Wrap);let l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),a0(a,s.getCompare())}return _p}{const a=n.get(e.name);let c=i;return a&&(c=c.remove(new mt(e.name,a))),c.insert(e,e.node)}});return new Za(r,this.indexSet_)}removeFromIndexes(e,n){const r=(0,M.UI)(this.indexes_,i=>{if(i===_p)return i;{const o=n.get(e.name);return o?i.remove(new mt(e.name,o)):i}});return new Za(r,this.indexSet_)}}let Q_,tt=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&aB(this.priorityNode_),this.children_.isEmpty()&&(0,M.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Q_||(Q_=new t(new ro(Cb),null,Za.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Q_}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?Q_:r}}getChild(n){const r=ft(n);return null===r?this:this.getImmediateChild(r).getChild(Jt(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if((0,M.hu)(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new mt(n,r);let o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));const a=o.isEmpty()?Q_:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){const i=ft(n);if(null===i)return r;{(0,M.hu)(".priority"!==ft(n)||1===ol(n),".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(Jt(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,o=0,s=!0;if(this.forEachChild(ln,(a,c)=>{r[a]=c.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){const a=[];for(const c in r)a[c]=r[c];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+sB(this.getPriority().val())+":"),this.forEachChild(ln,(r,i)=>{const o=i.hash();""!==o&&(n+=":"+r+":"+o)}),this.lazyHash_=""===n?"":w5(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const o=this.resolveIndex_(i);if(o){const s=o.getPredecessorKey(new mt(n,r));return s?s.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new mt(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new mt(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,mt.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,mt.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===X_?-1:0}withIndex(n){if(n===Xs||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Xs||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(ln),o=r.getIterator(ln);let s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(n){return n===Xs?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const X_=new class noe extends tt{constructor(){super(new ro(Cb),tt.EMPTY_NODE,Za.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return tt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(mt,{MIN:{value:new mt(rl,tt.EMPTY_NODE)},MAX:{value:new mt(Ka,X_)}}),oB.__EMPTY_NODE=tt.EMPTY_NODE,gp.__childrenNodeConstructor=tt,function Yie(t){wb=t}(X_),function Xie(t){uB=t}(X_);const roe=!0;function xn(t,e=null){if(null===t)return tt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),(0,M.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new gp(t,xn(e));if(t instanceof Array||!roe){let n=tt.EMPTY_NODE;return Fr(t,(r,i)=>{if((0,M.r3)(t,r)&&"."!==r.substring(0,1)){const o=xn(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(xn(e))}{const n=[];let r=!1;if(Fr(t,(s,a)=>{if("."!==s.substring(0,1)){const c=xn(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new mt(s,c)))}}),0===n.length)return tt.EMPTY_NODE;const o=a0(n,Zie,s=>s.name,Cb);if(r){const s=a0(n,ln.getCompare());return new tt(o,xn(e),new Za({".priority":s},{".priority":ln}))}return new tt(o,xn(e),Za.Default)}}!function Qie(t){lB=t}(xn);class Eb extends r0{constructor(e){super(),this.indexPath_=e,(0,M.hu)(!gt(e)&&".priority"!==ft(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return 0===o?Uu(e.name,n.name):o}makePost(e,n){const r=xn(e),i=tt.EMPTY_NODE.updateChild(this.indexPath_,r);return new mt(n,i)}maxPost(){const e=tt.EMPTY_NODE.updateChild(this.indexPath_,X_);return new mt(Ka,e)}toString(){return Z_(this.indexPath_,0).join("/")}}const Mb=new class ioe extends r0{compare(e,n){const r=e.node.compareTo(n.node);return 0===r?Uu(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return mt.MIN}maxPost(){return mt.MAX}makePost(e,n){const r=xn(e);return new mt(n,r)}toString(){return".value"}};function dB(t){return{type:"value",snapshotNode:t}}function mp(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function J_(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function em(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class Ob{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){(0,M.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(null!=s&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(J_(n,a)):(0,M.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(mp(n,r)):s.trackChildChange(em(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return null!=r&&(e.isLeafNode()||e.forEachChild(ln,(i,o)=>{n.hasChild(i)||r.trackChildChange(J_(i,o))}),n.isLeafNode()||n.forEachChild(ln,(i,o)=>{if(e.hasChild(i)){const s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(em(i,o,s))}else r.trackChildChange(mp(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?tt.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class tm{constructor(e){this.indexedFilter_=new Ob(e.getIndex()),this.index_=e.getIndex(),this.startPost_=tm.getStartPost_(e),this.endPost_=tm.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new mt(n,r))||(r=tt.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=tt.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(tt.EMPTY_NODE);const o=this;return n.forEachChild(ln,(s,a)=>{o.matches(new mt(s,a))||(i=i.updateImmediateChild(s,tt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}return e.getIndex().maxPost()}}class soe{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new tm(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new mt(n,r))||(r=tt.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=tt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<n.numChildren()&&n.isIndexed(this.index_)){let o;i=tt.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;i=i.updateImmediateChild(a.name,a.node),s++}}}else{let o;i=n.withIndex(this.index_),i=i.updatePriority(tt.EMPTY_NODE),o=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,tt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){const f=this.index_.getCompare();s=(_,v)=>f(v,_)}else s=this.index_.getCompare();const a=e;(0,M.hu)(a.numChildren()===this.limit_,"");const c=new mt(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(a.hasChild(n)){const f=a.getImmediateChild(n);let _=i.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=_&&(_.name===n||a.hasChild(_.name));)_=i.getChildAfterChild(this.index_,_,this.reverse_);const v=null==_?1:s(_,c);if(h&&!r.isEmpty()&&v>=0)return o?.trackChildChange(em(n,r,f)),a.updateImmediateChild(n,r);{o?.trackChildChange(J_(n,f));const I=a.updateImmediateChild(n,tt.EMPTY_NODE);return null!=_&&this.rangedFilter_.matches(_)?(o?.trackChildChange(mp(_.name,_.node)),I.updateImmediateChild(_.name,_.node)):I}}return r.isEmpty()?e:h&&s(l,c)>=0?(null!=o&&(o.trackChildChange(J_(l.name,l.node)),o.trackChildChange(mp(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,tt.EMPTY_NODE)):e}}class c0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ln}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,M.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,M.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:rl}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,M.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,M.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ka}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,M.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ln}copy(){const e=new c0;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Ib(t,e,n){const r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function bb(t,e,n){const r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function l0(t,e){const n=t.copy();return n.index_=e,n}function hB(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ln?n="$priority":t.index_===Mb?n="$value":t.index_===Xs?n="$key":((0,M.hu)(t.index_ instanceof Eb,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=(0,M.Wl)(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=(0,M.Wl)(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+(0,M.Wl)(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=(0,M.Wl)(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+(0,M.Wl)(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function pB(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==ln&&(e.i=t.index_.toString()),e}class u0 extends Q5{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=W_("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:((0,M.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=u0.getListenId_(e,r),a={};this.listens_[s]=a;const c=hB(e._queryParams);this.restRequest_(o+".json",c,(l,h)=>{let f=h;if(404===l&&(f=null,l=null),null===l&&this.onDataUpdate_(o,f,!1,r),(0,M.DV)(this.listens_,s)===a){let _;_=l?401===l?"permission_denied":"rest_error:"+l:"ok",i(_,null)}})}unlisten(e,n){const r=u0.getListenId_(e,n);delete this.listens_[r]}get(e){const n=hB(e._queryParams),r=e._path.toString(),i=new M.BH;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,M.xO)(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=(0,M.cI)(a.responseText)}catch{yi("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else 401!==a.status&&404!==a.status&&yi("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}class hoe{constructor(){this.rootNode_=tt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function d0(){return{value:null,children:new Map}}function yp(t,e,n){if(gt(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=ft(e);t.children.has(r)||t.children.set(r,d0()),yp(t.children.get(r),e=Jt(e),n)}}function Tb(t,e){if(gt(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(ln,(r,i)=>{yp(t,new Ut(r),i)}),Tb(t,e)}}if(t.children.size>0){const n=ft(e);return e=Jt(e),t.children.has(n)&&Tb(t.children.get(n),e)&&t.children.delete(n),0===t.children.size}return!0}function Ab(t,e,n){null!==t.value?n(e,t.value):function poe(t,e){t.children.forEach((n,r)=>{e(r,n)})}(t,(r,i)=>{Ab(i,new Ut(e.toString()+"/"+r),n)})}class foe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Fr(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}class moe{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new foe(e);const r=1e4+2e4*Math.random();q_(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Fr(e,(i,o)=>{o>0&&(0,M.r3)(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),q_(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Js=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Js||{});function Rb(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class h0{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Js.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(gt(this.path)){if(null!=this.affectedTree.value)return(0,M.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ut(e));return new h0(Nt(),n,this.revert)}}return(0,M.hu)(ft(this.path)===e,"operationForChild called for unrelated child."),new h0(Jt(this.path),this.affectedTree,this.revert)}}class nm{constructor(e,n){this.source=e,this.path=n,this.type=Js.LISTEN_COMPLETE}operationForChild(e){return gt(this.path)?new nm(this.source,Nt()):new nm(this.source,Jt(this.path))}}class $u{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Js.OVERWRITE}operationForChild(e){return gt(this.path)?new $u(this.source,Nt(),this.snap.getImmediateChild(e)):new $u(this.source,Jt(this.path),this.snap)}}class vp{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Js.MERGE}operationForChild(e){if(gt(this.path)){const n=this.children.subtree(new Ut(e));return n.isEmpty()?null:n.value?new $u(this.source,Nt(),n.value):new vp(this.source,Nt(),n)}return(0,M.hu)(ft(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new vp(this.source,Jt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class sl{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(gt(e))return this.isFullyInitialized()&&!this.filtered_;const n=ft(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class yoe{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function rm(t,e,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,c)=>function woe(t,e,n){if(null==e.childName||null==n.childName)throw(0,M.g5)("Should only compare child_ events.");const r=new mt(e.childName,e.snapshotNode),i=new mt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,a,c)),s.forEach(a=>{const c=function Coe(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,a,o);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,t.query_))})})}function p0(t,e){return{eventCache:t,serverCache:e}}function im(t,e,n,r){return p0(new sl(e,n,r),t.serverCache)}function gB(t,e,n,r){return p0(t.eventCache,new sl(e,n,r))}function f0(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Hu(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let xb;class un{constructor(e,n=(()=>(xb||(xb=new ro(oie)),xb))()){this.value=e,this.children=n}static fromObject(e){let n=new un(null);return Fr(e,(r,i)=>{n=n.set(new Ut(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:Nt(),value:this.value};if(gt(e))return null;{const r=ft(e),i=this.children.get(r);if(null!==i){const o=i.findRootMostMatchingPathAndValue(Jt(e),n);return null!=o?{path:In(new Ut(r),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(gt(e))return this;{const n=ft(e),r=this.children.get(n);return null!==r?r.subtree(Jt(e)):new un(null)}}set(e,n){if(gt(e))return new un(n,this.children);{const r=ft(e),o=(this.children.get(r)||new un(null)).set(Jt(e),n),s=this.children.insert(r,o);return new un(this.value,s)}}remove(e){if(gt(e))return this.children.isEmpty()?new un(null):new un(null,this.children);{const n=ft(e),r=this.children.get(n);if(r){const i=r.remove(Jt(e));let o;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new un(null):new un(this.value,o)}return this}}get(e){if(gt(e))return this.value;{const n=ft(e),r=this.children.get(n);return r?r.get(Jt(e)):null}}setTree(e,n){if(gt(e))return n;{const r=ft(e),o=(this.children.get(r)||new un(null)).setTree(Jt(e),n);let s;return s=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new un(this.value,s)}}fold(e){return this.fold_(Nt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(In(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Nt(),n)}findOnPath_(e,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(gt(e))return null;{const o=ft(e),s=this.children.get(o);return s?s.findOnPath_(Jt(e),In(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Nt(),n)}foreachOnPath_(e,n,r){if(gt(e))return this;{this.value&&r(n,this.value);const i=ft(e),o=this.children.get(i);return o?o.foreachOnPath_(Jt(e),In(n,i),r):new un(null)}}foreach(e){this.foreach_(Nt(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(In(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class Ms{constructor(e){this.writeTree_=e}static empty(){return new Ms(new un(null))}}function om(t,e,n){if(gt(e))return new Ms(new un(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let o=r.value;const s=Bi(i,e);return o=o.updateChild(s,n),new Ms(t.writeTree_.set(i,o))}{const i=new un(n),o=t.writeTree_.setTree(e,i);return new Ms(o)}}}function kb(t,e,n){let r=t;return Fr(n,(i,o)=>{r=om(r,In(e,i),o)}),r}function _B(t,e){if(gt(e))return Ms.empty();{const n=t.writeTree_.setTree(e,new un(null));return new Ms(n)}}function Nb(t,e){return null!=zu(t,e)}function zu(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(Bi(n.path,e)):null}function mB(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(ln,(r,i)=>{e.push(new mt(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new mt(r,i.value))}),e}function al(t,e){if(gt(e))return t;{const n=zu(t,e);return new Ms(null!=n?new un(n):t.writeTree_.subtree(e))}}function Fb(t){return t.writeTree_.isEmpty()}function Cp(t,e){return yB(Nt(),t.writeTree_,e)}function yB(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{".priority"===i?((0,M.hu)(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=yB(In(t,i),o,n)}),!n.getChild(t).isEmpty()&&null!==r&&(n=n.updateChild(In(t,".priority"),r)),n}}function g0(t,e){return EB(e,t)}function boe(t,e){if(t.snap)return Jo(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Jo(In(t.path,n),e))return!0;return!1}function Aoe(t){return t.visible}function vB(t,e,n){let r=Ms.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let a;if(o.snap)Jo(n,s)?(a=Bi(n,s),r=om(r,a,o.snap)):Jo(s,n)&&(a=Bi(s,n),r=om(r,Nt(),o.snap.getChild(a)));else{if(!o.children)throw(0,M.g5)("WriteRecord should have .snap or .children");if(Jo(n,s))a=Bi(n,s),r=kb(r,a,o.children);else if(Jo(s,n))if(a=Bi(s,n),gt(a))r=kb(r,Nt(),o.children);else{const c=(0,M.DV)(o.children,ft(a));if(c){const l=c.getChild(Jt(a));r=om(r,Nt(),l)}}}}}return r}function CB(t,e,n,r,i){if(r||i){const o=al(t.visibleWrites,e);return!i&&Fb(o)?n:i||null!=n||Nb(o,Nt())?Cp(vB(t.allWrites,function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(Jo(l.path,e)||Jo(e,l.path))},e),n||tt.EMPTY_NODE):null}{const o=zu(t.visibleWrites,e);if(null!=o)return o;{const s=al(t.visibleWrites,e);return Fb(s)?n:null!=n||Nb(s,Nt())?Cp(s,n||tt.EMPTY_NODE):null}}}function _0(t,e,n,r){return CB(t.writeTree,t.treePath,e,n,r)}function Lb(t,e){return function Doe(t,e,n){let r=tt.EMPTY_NODE;const i=zu(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ln,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=al(t.visibleWrites,e);return n.forEachChild(ln,(s,a)=>{const c=Cp(al(o,new Ut(s)),a);r=r.updateImmediateChild(s,c)}),mB(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}return mB(al(t.visibleWrites,e)).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}(t.writeTree,t.treePath,e)}function wB(t,e,n,r){return function Soe(t,e,n,r,i){(0,M.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=In(e,n);if(Nb(t.visibleWrites,o))return null;{const s=al(t.visibleWrites,o);return Fb(s)?i.getChild(n):Cp(s,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function m0(t,e){return function xoe(t,e){return zu(t.visibleWrites,e)}(t.writeTree,In(t.treePath,e))}function Vb(t,e,n){return function Roe(t,e,n,r){const i=In(e,n),o=zu(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?Cp(al(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function PB(t,e){return EB(In(t.treePath,e),t.writeTree)}function EB(t,e){return{treePath:t,writeTree:e}}class Loe{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;(0,M.hu)("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),(0,M.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if("child_added"===n&&"child_removed"===o)this.changeMap.set(r,em(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===o)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===o)this.changeMap.set(r,J_(r,i.oldSnap));else if("child_changed"===n&&"child_added"===o)this.changeMap.set(r,mp(r,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==o)throw(0,M.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,em(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const MB=new class Voe{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}};class Ub{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new sl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Vb(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Hu(this.viewCache_),o=function Foe(t,e,n,r,i,o){return function koe(t,e,n,r,i,o,s){let a;const c=al(t.visibleWrites,e),l=zu(c,Nt());if(null!=l)a=l;else{if(null==n)return[];a=Cp(c,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const h=[],f=s.getCompare(),_=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let v=_.getNext();for(;v&&h.length<i;)0!==f(v,r)&&h.push(v),v=_.getNext();return h}}(t.writeTree,t.treePath,e,n,r,i,o)}(this.writes_,i,n,1,r,e);return 0===o.length?null:o[0]}}function OB(t,e,n,r,i,o){const s=e.eventCache;if(null!=m0(r,n))return e;{let a,c;if(gt(n))if((0,M.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const l=Hu(e),f=Lb(r,l instanceof tt?l:tt.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{const l=_0(r,Hu(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{const l=ft(n);if(".priority"===l){(0,M.hu)(1===ol(n),"Can't have a priority with additional path components");const h=s.getNode();c=e.serverCache.getNode();const f=wB(r,n,h,c);a=null!=f?t.filter.updatePriority(h,f):s.getNode()}else{const h=Jt(n);let f;if(s.isCompleteForChild(l)){c=e.serverCache.getNode();const _=wB(r,n,s.getNode(),c);f=null!=_?s.getNode().getImmediateChild(l).updateChild(h,_):s.getNode().getImmediateChild(l)}else f=Vb(r,l,e.serverCache);a=null!=f?t.filter.updateChild(s.getNode(),l,f,h,i,o):s.getNode()}}return im(e,a,s.isFullyInitialized()||gt(n),t.filter.filtersNodes())}}function y0(t,e,n,r,i,o,s,a){const c=e.serverCache;let l;const h=s?t.filter:t.filter.getIndexedFilter();if(gt(n))l=h.updateFullNode(c.getNode(),r,null);else if(h.filtersNodes()&&!c.isFiltered()){const v=c.getNode().updateChild(n,r);l=h.updateFullNode(c.getNode(),v,null)}else{const v=ft(n);if(!c.isCompleteForPath(n)&&ol(n)>1)return e;const E=Jt(n),b=c.getNode().getImmediateChild(v).updateChild(E,r);l=".priority"===v?h.updatePriority(c.getNode(),b):h.updateChild(c.getNode(),v,b,E,MB,null)}const f=gB(e,l,c.isFullyInitialized()||gt(n),h.filtersNodes());return OB(t,f,n,i,new Ub(i,f,o),a)}function Bb(t,e,n,r,i,o,s){const a=e.eventCache;let c,l;const h=new Ub(i,e,o);if(gt(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,s),c=im(e,l,!0,t.filter.filtersNodes());else{const f=ft(n);if(".priority"===f)l=t.filter.updatePriority(e.eventCache.getNode(),r),c=im(e,l,a.isFullyInitialized(),a.isFiltered());else{const _=Jt(n),v=a.getNode().getImmediateChild(f);let E;if(gt(_))E=r;else{const I=h.getCompleteChild(f);E=null!=I?".priority"===mb(_)&&I.getChild(tB(_)).isEmpty()?I:I.updateChild(_,r):tt.EMPTY_NODE}c=v.equals(E)?e:im(e,t.filter.updateChild(a.getNode(),f,E,_,h,s),a.isFullyInitialized(),t.filter.filtersNodes())}}return c}function IB(t,e){return t.eventCache.isCompleteForChild(e)}function bB(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function jb(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l,c=e;l=gt(n)?r:new un(null).setTree(n,r);const h=e.serverCache.getNode();return l.children.inorderTraversal((f,_)=>{if(h.hasChild(f)){const E=bB(0,e.serverCache.getNode().getImmediateChild(f),_);c=y0(t,c,new Ut(f),E,i,o,s,a)}}),l.children.inorderTraversal((f,_)=>{const v=!e.serverCache.isCompleteForChild(f)&&null===_.value;if(!h.hasChild(f)&&!v){const I=bB(0,e.serverCache.getNode().getImmediateChild(f),_);c=y0(t,c,new Ut(f),I,i,o,s,a)}}),c}class qoe{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Ob(r.getIndex()),o=function aoe(t){return t.loadsAllData()?new Ob(t.getIndex()):t.hasLimit()?new soe(t):new tm(t)}(r);this.processor_=function Uoe(t){return{filter:t}}(o);const s=n.serverCache,a=n.eventCache,c=i.updateFullNode(tt.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(tt.EMPTY_NODE,a.getNode(),null),h=new sl(c,s.isFullyInitialized(),i.filtersNodes()),f=new sl(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=p0(f,h),this.eventGenerator_=new yoe(this.query_)}get query(){return this.query_}}function Yoe(t,e){const n=Hu(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!gt(e)&&!n.getImmediateChild(ft(e)).isEmpty())?n.getChild(e):null}function TB(t){return 0===t.eventRegistrations_.length}function AB(t,e,n){const r=[];if(n){(0,M.hu)(null==e,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){const s=t.eventRegistrations_[o];if(s.matches(e)){if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}else i.push(s)}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function DB(t,e,n,r){e.type===Js.MERGE&&null!==e.source.queryId&&((0,M.hu)(Hu(t.viewCache_),"We should always have a full cache before handling merges"),(0,M.hu)(f0(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=function joe(t,e,n,r,i){const o=new Loe;let s,a;if(n.type===Js.OVERWRITE){const l=n;l.source.fromUser?s=Bb(t,e,l.path,l.snap,r,i,o):((0,M.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!gt(l.path),s=y0(t,e,l.path,l.snap,r,i,a,o))}else if(n.type===Js.MERGE){const l=n;l.source.fromUser?s=function Hoe(t,e,n,r,i,o,s){let a=e;return r.foreach((c,l)=>{const h=In(n,c);IB(e,ft(h))&&(a=Bb(t,a,h,l,i,o,s))}),r.foreach((c,l)=>{const h=In(n,c);IB(e,ft(h))||(a=Bb(t,a,h,l,i,o,s))}),a}(t,e,l.path,l.children,r,i,o):((0,M.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=jb(t,e,l.path,l.children,r,i,a,o))}else if(n.type===Js.ACK_USER_WRITE){const l=n;s=l.revert?function Goe(t,e,n,r,i,o){let s;if(null!=m0(r,n))return e;{const a=new Ub(r,e,i),c=e.eventCache.getNode();let l;if(gt(n)||".priority"===ft(n)){let h;if(e.serverCache.isFullyInitialized())h=_0(r,Hu(e));else{const f=e.serverCache.getNode();(0,M.hu)(f instanceof tt,"serverChildren would be complete if leaf node"),h=Lb(r,f)}l=t.filter.updateFullNode(c,h,o)}else{const h=ft(n);let f=Vb(r,h,e.serverCache);null==f&&e.serverCache.isCompleteForChild(h)&&(f=c.getImmediateChild(h)),l=null!=f?t.filter.updateChild(c,h,f,Jt(n),a,o):e.eventCache.getNode().hasChild(h)?t.filter.updateChild(c,h,tt.EMPTY_NODE,Jt(n),a,o):c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=_0(r,Hu(e)),s.isLeafNode()&&(l=t.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||null!=m0(r,Nt()),im(e,l,s,t.filter.filtersNodes())}}(t,e,l.path,r,i,o):function zoe(t,e,n,r,i,o,s){if(null!=m0(i,n))return e;const a=e.serverCache.isFiltered(),c=e.serverCache;if(null!=r.value){if(gt(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return y0(t,e,n,c.getNode().getChild(n),i,o,a,s);if(gt(n)){let l=new un(null);return c.getNode().forEachChild(Xs,(h,f)=>{l=l.set(new Ut(h),f)}),jb(t,e,n,l,i,o,a,s)}return e}{let l=new un(null);return r.foreach((h,f)=>{const _=In(n,h);c.isCompleteForPath(_)&&(l=l.set(h,c.getNode().getChild(_)))}),jb(t,e,n,l,i,o,a,s)}}(t,e,l.path,l.affectedTree,r,i,o)}else{if(n.type!==Js.LISTEN_COMPLETE)throw(0,M.g5)("Unknown operation type: "+n.type);s=function Woe(t,e,n,r,i){const o=e.serverCache;return OB(t,gB(e,o.getNode(),o.isFullyInitialized()||gt(n),o.isFiltered()),n,r,MB,i)}(t,e,n.path,r,o)}const c=o.getChanges();return function $oe(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=f0(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(dB(f0(e)))}}(e,s,c),{viewCache:s,changes:c}}(t.processor_,i,e,n,r);return function Boe(t,e){(0,M.hu)(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),(0,M.hu)(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,o.viewCache),(0,M.hu)(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,SB(t,o.changes,o.viewCache.eventCache.getNode(),null)}function SB(t,e,n,r){return function voe(t,e,n,r){const i=[],o=[];return e.forEach(s=>{"child_changed"===s.type&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function ooe(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(s.childName,s.snapshotNode))}),rm(t,i,"child_removed",e,r,n),rm(t,i,"child_added",e,r,n),rm(t,i,"child_moved",o,r,n),rm(t,i,"child_changed",e,r,n),rm(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}let v0,w0;class RB{constructor(){this.views=new Map}}function $b(t,e,n,r){const i=e.source.queryId;if(null!==i){const o=t.views.get(i);return(0,M.hu)(null!=o,"SyncTree gave us an op for an invalid query."),DB(o,e,n,r)}{let o=[];for(const s of t.views.values())o=o.concat(DB(s,e,n,r));return o}}function xB(t,e,n,r,i){const s=t.views.get(e._queryIdentifier);if(!s){let a=_0(n,i?r:null),c=!1;a?c=!0:r instanceof tt?(a=Lb(n,r),c=!1):(a=tt.EMPTY_NODE,c=!1);const l=p0(new sl(a,c,!1),new sl(r,i,!1));return new qoe(e,l)}return s}function kB(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function cl(t,e){let n=null;for(const r of t.views.values())n=n||Yoe(r,e);return n}function NB(t,e){return e._queryParams.loadsAllData()?C0(t):t.views.get(e._queryIdentifier)}function FB(t,e){return null!=NB(t,e)}function ll(t){return null!=C0(t)}function C0(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let sse=1;class LB{constructor(e){this.listenProvider_=e,this.syncPointTree_=new un(null),this.pendingWriteTree_=function Noe(){return{visibleWrites:Ms.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Hb(t,e,n,r,i){return function Eoe(t,e,n,r,i){(0,M.hu)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=om(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?wp(t,new $u({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function ul(t,e,n=!1){const r=function Ooe(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function Ioe(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);(0,M.hu)(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&boe(a,r.path)?i=!1:Jo(r.path,a.path)&&(o=!0)),s--}return!!i&&(o?(function Toe(t){t.visibleWrites=vB(t.allWrites,Aoe,Nt()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=_B(t.visibleWrites,r.path):Fr(r.children,c=>{t.visibleWrites=_B(t.visibleWrites,In(r.path,c))}),!0))}(t.pendingWriteTree_,e)){let o=new un(null);return null!=r.snap?o=o.set(Nt(),!0):Fr(r.children,s=>{o=o.set(new Ut(s),!0)}),wp(t,new h0(r.path,o,n))}return[]}function sm(t,e,n){return wp(t,new $u({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function P0(t,e,n,r,i=!1){const o=e._path,s=t.syncPointTree_.get(o);let a=[];if(s&&("default"===e._queryIdentifier||FB(s,e))){const c=function rse(t,e,n,r){const i=e._queryIdentifier,o=[];let s=[];const a=ll(t);if("default"===i)for(const[c,l]of t.views.entries())s=s.concat(AB(l,n,r)),TB(l)&&(t.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{const c=t.views.get(i);c&&(s=s.concat(AB(c,n,r)),TB(c)&&(t.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!ll(t)&&o.push(new(function ese(){return(0,M.hu)(v0,"Reference.ts has not been loaded"),v0}())(e._repo,e._path)),{removed:o,events:s}}(s,e,n,r);(function tse(t){return 0===t.views.size})(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const l=c.removed;if(a=c.events,!i){const h=-1!==l.findIndex(_=>_._queryParams.loadsAllData()),f=t.syncPointTree_.findOnPath(o,(_,v)=>ll(v));if(h&&!f){const _=t.syncPointTree_.subtree(o);if(!_.isEmpty()){const v=function pse(t){return t.fold((e,n,r)=>{if(n&&ll(n))return[C0(n)];{let i=[];return n&&(i=kB(n)),Fr(r,(o,s)=>{i=i.concat(s)}),i}})}(_);for(let E=0;E<v.length;++E){const I=v[E],b=I.query,L=jB(t,I);t.listenProvider_.startListening(cm(b),am(t,b),L.hashFn,L.onComplete)}}}!f&&l.length>0&&!r&&(h?t.listenProvider_.stopListening(cm(e),null):l.forEach(_=>{const v=t.queryToTagMap.get(M0(_));t.listenProvider_.stopListening(cm(_),v)}))}!function fse(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=M0(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,l)}return a}function VB(t,e,n,r){const i=Wb(t,r);if(null!=i){const o=Gb(i),s=o.path,a=o.queryId,c=Bi(s,e);return qb(t,s,new $u(Rb(a),c,n))}return[]}function zb(t,e,n,r=!1){const i=e._path;let o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(_,v)=>{const E=Bi(_,i);o=o||cl(v,E),s=s||ll(v)});let c,a=t.syncPointTree_.get(i);a?(s=s||ll(a),o=o||cl(a,Nt())):(a=new RB,t.syncPointTree_=t.syncPointTree_.set(i,a)),null!=o?c=!0:(c=!1,o=tt.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((v,E)=>{const I=cl(E,Nt());I&&(o=o.updateImmediateChild(v,I))}));const l=FB(a,e);if(!l&&!e._queryParams.loadsAllData()){const _=M0(e);(0,M.hu)(!t.queryToTagMap.has(_),"View does not exist, but we have a tag");const v=function gse(){return sse++}();t.queryToTagMap.set(_,v),t.tagToQueryMap.set(v,_)}let f=function nse(t,e,n,r,i,o){const s=xB(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),function Qoe(t,e){t.eventRegistrations_.push(e)}(s,n),function Xoe(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ln,(o,s)=>{r.push(mp(o,s))}),n.isFullyInitialized()&&r.push(dB(n.getNode())),SB(t,r,n.getNode(),e)}(s,n)}(a,e,n,g0(t.pendingWriteTree_,i),o,c);if(!l&&!s&&!r){const _=NB(a,e);f=f.concat(function _se(t,e,n){const r=e._path,i=am(t,e),o=jB(t,n),s=t.listenProvider_.startListening(cm(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)(0,M.hu)(!ll(a.value),"If we're adding a query, it shouldn't be shadowed");else{const c=a.fold((l,h,f)=>{if(!gt(l)&&h&&ll(h))return[C0(h).query];{let _=[];return h&&(_=_.concat(kB(h).map(v=>v.query))),Fr(f,(v,E)=>{_=_.concat(E)}),_}});for(let l=0;l<c.length;++l){const h=c[l];t.listenProvider_.stopListening(cm(h),am(t,h))}}return s}(t,e,_))}return f}function E0(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const l=cl(a,Bi(s,e));if(l)return l});return CB(i,e,o,n,!0)}function wp(t,e){return UB(e,t.syncPointTree_,null,g0(t.pendingWriteTree_,Nt()))}function UB(t,e,n,r){if(gt(t.path))return BB(t,e,n,r);{const i=e.get(Nt());null==n&&null!=i&&(n=cl(i,Nt()));let o=[];const s=ft(t.path),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){const l=n?n.getImmediateChild(s):null,h=PB(r,s);o=o.concat(UB(a,c,l,h))}return i&&(o=o.concat($b(i,t,r,n))),o}}function BB(t,e,n,r){const i=e.get(Nt());null==n&&null!=i&&(n=cl(i,Nt()));let o=[];return e.children.inorderTraversal((s,a)=>{const c=n?n.getImmediateChild(s):null,l=PB(r,s),h=t.operationForChild(s);h&&(o=o.concat(BB(h,a,c,l)))}),i&&(o=o.concat($b(i,t,r,n))),o}function jB(t,e){const n=e.query,r=am(t,n);return{hashFn:()=>(function Koe(t){return t.viewCache_.serverCache.getNode()}(e)||tt.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function use(t,e,n){const r=Wb(t,n);if(r){const i=Gb(r),o=i.path,s=i.queryId,a=Bi(o,e);return qb(t,o,new nm(Rb(s),a))}return[]}(t,n._path,r):function lse(t,e){return wp(t,new nm({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);{const o=function cie(t,e){let n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(i,n);return P0(t,n,null,o)}}}}function am(t,e){const n=M0(e);return t.queryToTagMap.get(n)}function M0(t){return t._path.toString()+"$"+t._queryIdentifier}function Wb(t,e){return t.tagToQueryMap.get(e)}function Gb(t){const e=t.indexOf("$");return(0,M.hu)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ut(t.substr(0,e))}}function qb(t,e,n){const r=t.syncPointTree_.get(e);return(0,M.hu)(r,"Missing sync point for query tag that we're tracking"),$b(r,n,g0(t.pendingWriteTree_,e),null)}function cm(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(function ose(){return(0,M.hu)(w0,"Reference.ts has not been loaded"),w0}())(t._repo,t._path):t}class Kb{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Kb(n)}node(){return this.node_}}class Zb{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=In(this.path_,e);return new Zb(this.syncTree_,n)}node(){return E0(this.syncTree_,this.path_)}}const mse=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},$B=function(t,e,n){return t&&"object"==typeof t?((0,M.hu)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?yse(t[".sv"],e,n):"object"==typeof t[".sv"]?vse(t[".sv"],e):void(0,M.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},yse=function(t,e,n){if("timestamp"===t)return n.timestamp;(0,M.hu)(!1,"Unexpected server value: "+t)},vse=function(t,e,n){t.hasOwnProperty("increment")||(0,M.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&(0,M.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,M.hu)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!=typeof s?r:s+r},HB=function(t,e,n,r){return Qb(e,new Zb(n,t),r)},Yb=function(t,e,n){return Qb(t,new Kb(e),n)};function Qb(t,e,n){const r=t.getPriority().val(),i=$B(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=$B(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new gp(a,xn(i)):t}{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new gp(i))),s.forEachChild(ln,(a,c)=>{const l=Qb(c,e.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}class Xb{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function O0(t,e){let n=e instanceof Ut?e:new Ut(e),r=t,i=ft(n);for(;null!==i;){const o=(0,M.DV)(r.node.children,i)||{children:{},childCount:0};r=new Xb(i,r,o),n=Jt(n),i=ft(n)}return r}function Wu(t){return t.node.value}function Jb(t,e){t.node.value=e,eT(t)}function zB(t){return t.node.childCount>0}function I0(t,e){Fr(t.node.children,(n,r)=>{e(new Xb(n,t,r))})}function WB(t,e,n,r){n&&!r&&e(t),I0(t,i=>{WB(i,e,!0,r)}),n&&r&&e(t)}function lm(t){return new Ut(null===t.parent?t.name:lm(t.parent)+"/"+t.name)}function eT(t){null!==t.parent&&function Pse(t,e,n){const r=function Cse(t){return void 0===Wu(t)&&!zB(t)}(n),i=(0,M.r3)(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,eT(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,eT(t))}(t.parent,t.name,t)}const Ese=/[\[\].#$\/\u0000-\u001F\u007F]/,Mse=/[\[\].#$\u0000-\u001F\u007F]/,tT=10485760,b0=function(t){return"string"==typeof t&&0!==t.length&&!Ese.test(t)},GB=function(t){return"string"==typeof t&&0!==t.length&&!Mse.test(t)},um=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!Jw(t)||t&&"object"==typeof t&&(0,M.r3)(t,".sv")},ea=function(t,e,n,r){r&&void 0===e||dm((0,M.gK)(t,"value"),e,n)},dm=function(t,e,n){const r=n instanceof Ut?new jie(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+Bu(r));if("function"==typeof e)throw new Error(t+"contains a function "+Bu(r)+" with contents = "+e.toString());if(Jw(e))throw new Error(t+"contains "+e.toString()+" "+Bu(r));if("string"==typeof e&&e.length>tT/3&&(0,M.ug)(e)>tT)throw new Error(t+"contains a string greater than "+tT+" utf8 bytes "+Bu(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,o=!1;if(Fr(e,(s,a)=>{if(".value"===s)i=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!b0(s)))throw new Error(t+" contains an invalid key ("+s+") "+Bu(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function $ie(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=(0,M.ug)(e),nB(t)})(r,s),dm(t,a,r),function Hie(t){const e=t.parts_.pop();t.byteLength_-=(0,M.ug)(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&o)throw new Error(t+' contains ".value" child '+Bu(r)+" in addition to actual children.")}},qB=function(t,e,n,r){if(r&&void 0===e)return;const i=(0,M.gK)(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const o=[];Fr(e,(s,a)=>{const c=new Ut(s);if(dm(i,a,In(n,c)),".priority"===mb(c)&&!um(a))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(c)}),function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const o=Z_(r);for(let s=0;s<o.length;s++)if((".priority"!==o[s]||s!==o.length-1)&&!b0(o[s]))throw new Error(t+"contains an invalid key ("+o[s]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(Bie);let i=null;for(n=0;n<e.length;n++){if(r=e[n],null!==i&&Jo(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,o)},nT=function(t,e,n){if(!n||void 0!==e){if(Jw(e))throw new Error((0,M.gK)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!um(e))throw new Error((0,M.gK)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},hm=function(t,e,n,r){if(!(r&&void 0===n||b0(n)))throw new Error((0,M.gK)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},pm=function(t,e,n,r){if(!(r&&void 0===n||GB(n)))throw new Error((0,M.gK)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},bse=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),pm(t,e,n,r)},es=function(t,e){if(".info"===ft(e))throw new Error(t+" failed = Can't modify data under /.info/")},KB=function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!b0(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),GB(t)}(n))throw new Error((0,M.gK)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Tse{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function T0(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();null!==n&&!yb(o,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function ZB(t,e,n){T0(t,n),YB(t,r=>yb(r,e))}function Mo(t,e,n){T0(t,n),YB(t,r=>Jo(r,e)||Jo(e,r))}function YB(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(Ase(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function Ase(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();Vu&&Nr("event: "+n.toString()),pp(r)}}}const QB="repo_interrupt",Dse=25;class Sse{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Tse,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=d0(),this.transactionQueueTree_=new Xb,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function XB(t){const n=t.infoData_.getNode(new Ut(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function fm(t){return mse({timestamp:XB(t)})}function JB(t,e,n,r,i){t.dataUpdateCount++;const o=new Ut(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const c=(0,M.UI)(n,l=>xn(l));s=function dse(t,e,n,r){const i=Wb(t,r);if(i){const o=Gb(i),s=o.path,a=o.queryId,c=Bi(s,e),l=un.fromObject(n);return qb(t,s,new vp(Rb(a),c,l))}return[]}(t.serverSyncTree_,o,c,i)}else{const c=xn(n);s=VB(t.serverSyncTree_,o,c,i)}else if(r){const c=(0,M.UI)(n,l=>xn(l));s=function cse(t,e,n){const r=un.fromObject(n);return wp(t,new vp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,o,c)}else{const c=xn(n);s=sm(t.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=Ep(t,o)),Mo(t.eventQueue_,a,s)}function e4(t,e){rT(t,"connected",e),!1===e&&function Fse(t){Pp(t,"onDisconnectEvents");const e=fm(t),n=d0();Ab(t.onDisconnect_,Nt(),(i,o)=>{const s=HB(i,o,t.serverSyncTree_,e);yp(n,i,s)});let r=[];Ab(n,Nt(),(i,o)=>{r=r.concat(sm(t.serverSyncTree_,i,o));const s=aT(t,i);Ep(t,s)}),t.onDisconnect_=d0(),Mo(t.eventQueue_,Nt(),r)}(t)}function rT(t,e,n){const r=new Ut("/.info/"+e),i=xn(n);t.infoData_.updateSnapshot(r,i);const o=sm(t.infoSyncTree_,r,i);Mo(t.eventQueue_,r,o)}function A0(t){return t.nextWriteId_++}function iT(t,e,n,r,i){Pp(t,"set",{path:e.toString(),value:n,priority:r});const o=fm(t),s=xn(n,r),a=E0(t.serverSyncTree_,e),c=Yb(s,a,o),l=A0(t),h=Hb(t.serverSyncTree_,e,c,l,!0);T0(t.eventQueue_,h),t.server_.put(e.toString(),s.val(!0),(_,v)=>{const E="ok"===_;E||yi("set at "+e+" failed: "+_);const I=ul(t.serverSyncTree_,l,!E);Mo(t.eventQueue_,e,I),dl(0,i,_,v)});const f=aT(t,e);Ep(t,f),Mo(t.eventQueue_,f,[])}function Lse(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{"ok"===r&&Tb(t.onDisconnect_,e),dl(0,n,r,i)})}function t4(t,e,n,r){const i=xn(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(o,s)=>{"ok"===o&&yp(t.onDisconnect_,e,i),dl(0,r,o,s)})}function oT(t,e,n){let r;r=".info"===ft(e._path)?P0(t.infoSyncTree_,e,n):P0(t.serverSyncTree_,e,n),ZB(t.eventQueue_,e._path,r)}function n4(t){t.persistentConnection_&&t.persistentConnection_.interrupt(QB)}function Pp(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Nr(n,...e)}function dl(t,e,n,r){e&&pp(()=>{if("ok"===n)e(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,e(s)}})}function sT(t,e,n){return E0(t.serverSyncTree_,e,n)||tt.EMPTY_NODE}function D0(t,e=t.transactionQueueTree_){if(e||S0(t,e),Wu(e)){const n=i4(t,e);(0,M.hu)(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function Hse(t,e,n){const r=n.map(l=>l.currentWriteId),i=sT(t,e,r);let o=i;const s=i.hash();for(let l=0;l<n.length;l++){const h=n[l];(0,M.hu)(0===h.status,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const f=Bi(e,h.path);o=o.updateChild(f,h.currentOutputSnapshotRaw)}const a=o.val(!0),c=e;t.server_.put(c.toString(),a,l=>{Pp(t,"transaction put response",{path:c.toString(),status:l});let h=[];if("ok"===l){const f=[];for(let _=0;_<n.length;_++)n[_].status=2,h=h.concat(ul(t.serverSyncTree_,n[_].currentWriteId)),n[_].onComplete&&f.push(()=>n[_].onComplete(null,!0,n[_].currentOutputSnapshotResolved)),n[_].unwatcher();S0(t,O0(t.transactionQueueTree_,e)),D0(t,t.transactionQueueTree_),Mo(t.eventQueue_,e,h);for(let _=0;_<f.length;_++)pp(f[_])}else{if("datastale"===l)for(let f=0;f<n.length;f++)n[f].status=3===n[f].status?4:0;else{yi("transaction at "+c.toString()+" failed: "+l);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=l}Ep(t,e)}},s)}(t,lm(e),n)}else zB(e)&&I0(e,n=>{D0(t,n)})}function Ep(t,e){const n=r4(t,e),r=lm(n);return function zse(t,e,n){if(0===e.length)return;const r=[];let i=[];const s=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const c=e[a],l=Bi(n,c.path);let f,h=!1;if((0,M.hu)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)h=!0,f=c.abortReason,i=i.concat(ul(t.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=Dse)h=!0,f="maxretry",i=i.concat(ul(t.serverSyncTree_,c.currentWriteId,!0));else{const _=sT(t,c.path,s);c.currentInputSnapshot=_;const v=e[a].update(_.val());if(void 0!==v){dm("transaction failed: Data returned ",v,c.path);let E=xn(v);"object"==typeof v&&null!=v&&(0,M.r3)(v,".priority")||(E=E.updatePriority(_.getPriority()));const b=c.currentWriteId,L=fm(t),N=Yb(E,_,L);c.currentOutputSnapshotRaw=E,c.currentOutputSnapshotResolved=N,c.currentWriteId=A0(t),s.splice(s.indexOf(b),1),i=i.concat(Hb(t.serverSyncTree_,c.path,N,c.currentWriteId,c.applyLocally)),i=i.concat(ul(t.serverSyncTree_,b,!0))}else h=!0,f="nodata",i=i.concat(ul(t.serverSyncTree_,c.currentWriteId,!0))}Mo(t.eventQueue_,n,i),i=[],h&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===f?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(f),!1,null)))}S0(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)pp(r[a]);D0(t,t.transactionQueueTree_)}(t,i4(t,n),r),r}function r4(t,e){let n,r=t.transactionQueueTree_;for(n=ft(e);null!==n&&void 0===Wu(r);)r=O0(r,n),n=ft(e=Jt(e));return r}function i4(t,e){const n=[];return o4(t,e,n),n.sort((r,i)=>r.order-i.order),n}function o4(t,e,n){const r=Wu(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);I0(e,i=>{o4(t,i,n)})}function S0(t,e){const n=Wu(e);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Jb(e,n.length>0?n:void 0)}I0(e,r=>{S0(t,r)})}function aT(t,e){const n=lm(r4(t,e)),r=O0(t.transactionQueueTree_,e);return function wse(t,e,n){let r=n?t:t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{cT(t,i)}),cT(t,r),WB(r,i=>{cT(t,i)}),n}function cT(t,e){const n=Wu(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,M.hu)(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):((0,M.hu)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(ul(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?Jb(e,void 0):n.length=o+1,Mo(t.eventQueue_,lm(e),i);for(let s=0;s<r.length;s++)pp(r[s])}}const lT=function(t,e){const n=qse(t),r=n.namespace;return"firebase.com"===n.domain&&Qs(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&Qs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&yi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new db(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,e,"",r!==n.subdomain),path:new Ut(n.pathString)}},qse=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",c=443;if("string"==typeof t){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let h=t.indexOf("/");-1===h&&(h=t.length);let f=t.indexOf("?");-1===f&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(i=function Wse(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(t.substring(h,f)));const _=function Gse(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):yi(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,f)));l=e.indexOf(":"),l>=0?(s="https"===a||"wss"===a,c=parseInt(e.substring(l+1),10)):l=e.length;const v=e.slice(0,l);if("localhost"===v.toLowerCase())n="localhost";else if(v.split(".").length<=2)n=v;else{const E=e.indexOf(".");r=e.substring(0,E).toLowerCase(),n=e.substring(E+1),o=r}"ns"in _&&(o=_.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},s4="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Kse=function(){let t=0;const e=[];return function(n){const r=n===t;let i;t=n;const o=new Array(8);for(i=7;i>=0;i--)o[i]=s4.charAt(n%64),n=Math.floor(n/64);(0,M.hu)(0===n,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&63===e[i];i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)s+=s4.charAt(e[i]);return(0,M.hu)(20===s.length,"nextPushId: Length should be 20."),s}}();class a4{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,M.Wl)(this.snapshot.exportVal())}}class c4{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class uT{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return(0,M.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class l4{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new M.BH;return Lse(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){es("OnDisconnect.remove",this._path);const e=new M.BH;return t4(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){es("OnDisconnect.set",this._path),ea("OnDisconnect.set",e,this._path,!1);const n=new M.BH;return t4(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){es("OnDisconnect.setWithPriority",this._path),ea("OnDisconnect.setWithPriority",e,this._path,!1),nT("OnDisconnect.setWithPriority",n,!1);const r=new M.BH;return function Vse(t,e,n,r,i){const o=xn(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),(s,a)=>{"ok"===s&&yp(t.onDisconnect_,e,o),dl(0,i,s,a)})}(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){es("OnDisconnect.update",this._path),qB("OnDisconnect.update",e,this._path,!1);const n=new M.BH;return function Use(t,e,n,r){if((0,M.xb)(n))return Nr("onDisconnect().update() called with empty data.  Don't do anything."),void dl(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,(i,o)=>{"ok"===i&&Fr(n,(s,a)=>{const c=xn(a);yp(t.onDisconnect_,In(e,s),c)}),dl(0,r,i,o)})}(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}}class io{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return gt(this._path)?null:mb(this._path)}get ref(){return new ts(this._repo,this._path)}get _queryIdentifier(){const e=pB(this._queryParams),n=lb(e);return"{}"===n?"default":n}get _queryObject(){return pB(this._queryParams)}isEqual(e){if(!((e=(0,M.m9)(e))instanceof io))return!1;const n=this._repo===e._repo,r=yb(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Uie(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}function R0(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function hl(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Xs){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==rl)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==Ka)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===ln){if(null!=e&&!um(e)||null!=n&&!um(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,M.hu)(t.getIndex()instanceof Eb||t.getIndex()===Mb,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function x0(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ts extends io{constructor(e,n){super(e,n,new c0,!1)}get parent(){const e=tB(this._path);return null===e?null:new ts(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Gu{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ut(e),r=qu(this.ref,e);return new Gu(this._node.getChild(n),r,ln)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new Gu(i,qu(this.ref,r),ln)))}hasChild(e){const n=new Ut(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ur(t,e){return(t=(0,M.m9)(t))._checkNotDeleted("ref"),void 0!==e?qu(t._root,e):t._root}function u4(t,e){(t=(0,M.m9)(t))._checkNotDeleted("refFromURL");const n=lT(e,t._repo.repoInfo_.nodeAdmin);KB("refFromURL",n);const r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&Qs("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),ur(t,n.path.toString())}function qu(t,e){return null===ft((t=(0,M.m9)(t))._path)?bse("child","path",e,!1):pm("child","path",e,!1),new ts(t._repo,In(t._path,e))}function Os(t,e){t=(0,M.m9)(t),es("set",t._path),ea("set",e,t._path,!1);const n=new M.BH;return iT(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Jse(t,e){qB("update",e,t._path,!1);const n=new M.BH;return function Nse(t,e,n,r){Pp(t,"update",{path:e.toString(),value:n});let i=!0;const o=fm(t),s={};if(Fr(n,(a,c)=>{i=!1,s[a]=HB(In(e,a),xn(c),t.serverSyncTree_,o)}),i)Nr("update() called with empty data.  Don't do anything."),dl(0,r,"ok",void 0);else{const a=A0(t),c=function ase(t,e,n,r){!function Moe(t,e,n,r){(0,M.hu)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=kb(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);const i=un.fromObject(n);return wp(t,new vp({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,e,s,a);T0(t.eventQueue_,c),t.server_.merge(e.toString(),n,(l,h)=>{const f="ok"===l;f||yi("update at "+e+" failed: "+l);const _=ul(t.serverSyncTree_,a,!f),v=_.length>0?Ep(t,e):e;Mo(t.eventQueue_,v,_),dl(0,r,l,h)}),Fr(n,l=>{const h=aT(t,In(e,l));Ep(t,h)}),Mo(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function gm(t){t=(0,M.m9)(t);const e=new uT(()=>{}),n=new _m(e);return function kse(t,e,n){const r=function hse(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(l,h)=>{const f=Bi(l,n);r=r||cl(h,f)});let i=t.syncPointTree_.get(n);i?r=r||cl(i,Nt()):(i=new RB,t.syncPointTree_=t.syncPointTree_.set(n,i));const o=null!=r,s=o?new sl(r,!0,!1):null;return function Zoe(t){return f0(t.viewCache_)}(xB(i,e,g0(t.pendingWriteTree_,e._path),o?s.getNode():tt.EMPTY_NODE,o))}(t.serverSyncTree_,e);return null!=r?Promise.resolve(r):t.server_.get(e).then(i=>{const o=xn(i).withIndex(e._queryParams.getIndex());let s;if(zb(t.serverSyncTree_,e,n,!0),e._queryParams.loadsAllData())s=sm(t.serverSyncTree_,e._path,o);else{const a=am(t.serverSyncTree_,e);s=VB(t.serverSyncTree_,e._path,o,a)}return Mo(t.eventQueue_,e._path,s),P0(t.serverSyncTree_,e,n,null,!0),o},i=>(Pp(t,"get for query "+(0,M.Wl)(e)+" failed: "+i),Promise.reject(new Error(i))))}(t._repo,t,n).then(r=>new Gu(r,new ts(t._repo,t._path),t._queryParams.getIndex()))}class _m{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,n){const r=n._queryParams.getIndex();return new a4("value",this,new Gu(e.snapshotNode,new ts(n._repo,n._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new c4(this,e,n):null}matches(e){return e instanceof _m&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class k0{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n="children_added"===e?"child_added":e;return n="children_removed"===n?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new c4(this,e,n):null}createEvent(e,n){(0,M.hu)(null!=e.childName,"Child events should have a childName.");const r=qu(new ts(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new a4(e.type,this,new Gu(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof k0&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function mm(t,e,n,r,i){let o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){const c=n,l=(h,f)=>{oT(t._repo,t,a),c(h,f)};l.userCallback=n.userCallback,l.context=n.context,n=l}const s=new uT(n,o||void 0),a="value"===e?new _m(s):new k0(e,s);return function Bse(t,e,n){let r;r=".info"===ft(e._path)?zb(t.infoSyncTree_,e,n):zb(t.serverSyncTree_,e,n),ZB(t.eventQueue_,e._path,r)}(t._repo,t,a),()=>oT(t._repo,t,a)}function Ya(t,e,n,r){return mm(t,"value",e,n,r)}function d4(t,e,n,r){return mm(t,"child_added",e,n,r)}function h4(t,e,n,r){return mm(t,"child_changed",e,n,r)}function p4(t,e,n,r){return mm(t,"child_moved",e,n,r)}function f4(t,e,n,r){return mm(t,"child_removed",e,n,r)}function g4(t,e,n){let r=null;const i=n?new uT(n):null;"value"===e?r=new _m(i):e&&(r=new k0(e,i)),oT(t._repo,t,r)}class Is{}class _4 extends Is{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){ea("endAt",this._value,e._path,!0);const n=bb(e._queryParams,this._value,this._key);if(x0(n),hl(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new io(e._repo,e._path,n,e._orderByCalled)}}class tae extends Is{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){ea("endBefore",this._value,e._path,!1);const n=function doe(t,e,n){let r;return r=bb(t,e,t.index_===Xs||n?n:rl),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(x0(n),hl(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new io(e._repo,e._path,n,e._orderByCalled)}}class m4 extends Is{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){ea("startAt",this._value,e._path,!0);const n=Ib(e._queryParams,this._value,this._key);if(x0(n),hl(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new io(e._repo,e._path,n,e._orderByCalled)}}class iae extends Is{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){ea("startAfter",this._value,e._path,!1);const n=function uoe(t,e,n){let r;return r=Ib(t,e,t.index_===Xs||n?n:Ka),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(x0(n),hl(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new io(e._repo,e._path,n,e._orderByCalled)}}class sae extends Is{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new io(e._repo,e._path,function coe(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}class cae extends Is{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new io(e._repo,e._path,function loe(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}class uae extends Is{constructor(e){super(),this._path=e}_apply(e){R0(e,"orderByChild");const n=new Ut(this._path);if(gt(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new Eb(n),i=l0(e._queryParams,r);return hl(i),new io(e._repo,e._path,i,!0)}}class hae extends Is{_apply(e){R0(e,"orderByKey");const n=l0(e._queryParams,Xs);return hl(n),new io(e._repo,e._path,n,!0)}}class fae extends Is{_apply(e){R0(e,"orderByPriority");const n=l0(e._queryParams,ln);return hl(n),new io(e._repo,e._path,n,!0)}}class _ae extends Is{_apply(e){R0(e,"orderByValue");const n=l0(e._queryParams,Mb);return hl(n),new io(e._repo,e._path,n,!0)}}class yae extends Is{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){if(ea("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new _4(this._value,this._key)._apply(new m4(this._value,this._key)._apply(e))}}function bs(t,...e){let n=(0,M.m9)(t);for(const r of e)n=r._apply(n);return n}(function Joe(t){(0,M.hu)(!v0,"__referenceConstructor has already been defined"),v0=t})(ts),function ise(t){(0,M.hu)(!w0,"__referenceConstructor has already been defined"),w0=t}(ts);const dT={};function hT(t,e,n,r,i){let o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||Qs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Nr("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let c,l,s=lT(o,i),a=s.repoInfo;typeof process<"u"&&process.env&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=lT(o,i),a=s.repoInfo):c=!s.repoInfo.secure;const h=i&&c?new K_(K_.OWNER):new fie(t.name,t.options,e);KB("Invalid Firebase Database URL",s),gt(s.path)||Qs("Database URL must point to the root of a Firebase Database (not including a child path).");const f=function Eae(t,e,n,r){let i=dT[e.name];i||(i={},dT[e.name]=i);let o=i[t.toURLString()];return o&&Qs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Sse(t,false,n,r),i[t.toURLString()]=o,o}(a,t,h,new pie(t.name,n));return new Oae(f,t)}class Oae{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Rse(t,e,n){if(t.stats_=fb(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new u0(t.repoInfo_,(r,i,o,s)=>{JB(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>e4(t,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,M.Wl)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new ju(t.repoInfo_,e,(r,i,o,s)=>{JB(t,r,i,o,s)},r=>{e4(t,r)},r=>{!function xse(t,e){Fr(e,(n,r)=>{rT(t,n,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function mie(t,e){const n=t.toString();return pb[n]||(pb[n]=e()),pb[n]}(t.repoInfo_,()=>new moe(t.stats_,t.server_)),t.infoData_=new hoe,t.infoSyncTree_=new LB({startListening:(r,i,o,s)=>{let a=[];const c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=sm(t.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),rT(t,"connected",!1),t.serverSyncTree_=new LB({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,c)=>{const l=s(a,c);Mo(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ts(this._repo,Nt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Pae(t,e){const n=dT[e];(!n||n[t.key]!==t)&&Qs(`Database ${e}(${t.repoInfo_}) has already been deleted.`),n4(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Qs("Cannot call "+e+" on a deleted database.")}}function v4(){H5.IS_TRANSPORT_INITIALIZED&&yi("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Iae(){v4(),il.forceDisallow()}function bae(){v4(),fp.forceDisallow(),il.forceAllow()}function Lr(t=(0,$e.getApp)(),e){const n=(0,$e._getProvider)(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=(0,M.P0)("database");r&&C4(n,...r)}return n}function C4(t,e,n,r={}){(t=(0,M.m9)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&Qs("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Qs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new K_(K_.OWNER);else if(r.mockUserToken){const s="string"==typeof r.mockUserToken?r.mockUserToken:(0,M.Sg)(r.mockUserToken,t.app.options.projectId);o=new K_(s)}!function wae(t,e,n,r){t.repoInfo_=new db(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}(i,e,n,o)}function Dae(t,e){E5(t,e)}const Rae={".sv":"timestamp"};class Nae{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}ju.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},ju.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},function Sae(t){sb($e.SDK_VERSION),(0,$e._registerComponent)(new Eo.wA("database",(e,{instanceIdentifier:n})=>hT(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),(0,$e.registerVersion)(m5,"1.0.1",t),(0,$e.registerVersion)(m5,"1.0.1","esm2017")}();const dr_firebaseConfig={apiKey:"AIzaSyBAbOn_DL4wzdJtwKluPbbuaigV-4At9WY",authDomain:"photohub-4d669.firebaseapp.com",databaseURL:"https://photohub-4d669-default-rtdb.firebaseio.com",projectId:"photohub-4d669",storageBucket:"photohub-4d669.appspot.com",messagingSenderId:"825330385142",appId:"1:825330385142:web:b2b6add9e9f69aed14acd7",measurementId:"G-6K792J2R3M"};let Mp=(()=>{var t;class e{getUsers(){return new Promise((r,i)=>{Ya(ur(Lr((0,$e.initializeApp)(dr_firebaseConfig)),"users/"),c=>{const l=c.val(),h=[];for(const f in l)if(l.hasOwnProperty(f)){const _=l[f];h.push({id:_.id,username:_.username||"",password:_.password||"",full_name:_.full_name||"",email:_.email||"",phone_number:_.phone_number||"",address:_.address||"",avatar:_.avatar||"",role_id:_.role_id||0,exp:_.exp||0})}r(h)})})}getUserById(r){var i=this;return(0,x.Z)(function*(){try{return(yield i.getUsers()).find(a=>a.id===r)||null}catch(o){return console.error("Error fetching user by ID:",o),null}})()}getUserByUsername(r){var i=this;return(0,x.Z)(function*(){try{return(yield i.getUsers()).find(a=>a.username===r)||null}catch(o){return console.error("Error fetching user by username",o),null}})()}createUser(r){var i=this;return(0,x.Z)(function*(){try{if(!(yield i.isUsernameUnique(r.username)))return console.log("The username is not unique"),null;const a=Lr((0,$e.initializeApp)(dr_firebaseConfig)),c=yield i.generateNewId(),l=ur(a,"users/"+c),h={id:c,username:r.username,password:r.password,full_name:r.full_name,email:r.email,phone_number:r.phone_number,address:r.address,exp:r.exp,avatar:r.avatar,role_id:r.role_id};return yield Os(l,h),h}catch(o){return console.error("Error creating user:",o),null}})()}updateUser(r){var i=this;return(0,x.Z)(function*(){try{if(null===(yield i.getUserById(r.id)))return console.error("User information not found for ID:",r.id),null;const a=Lr((0,$e.initializeApp)(dr_firebaseConfig)),c={id:r.id,username:r.username,password:r.password,full_name:r.full_name,email:r.email,phone_number:r.phone_number,address:r.address,avatar:r.avatar,role_id:r.role_id,exp:r.exp},l=ur(a,`users/${r.id}`);return yield Os(l,c),r}catch(o){return console.error("Error updating user:",o),null}})()}generateNewId(){var r=this;return(0,x.Z)(function*(){const i=yield r.getUsers();return(0===i.length?0:Math.max(...i.map(s=>s.id)))+1})()}isUsernameUnique(r){return(0,x.Z)(function*(){const s=ur(Lr((0,$e.initializeApp)(dr_firebaseConfig)),"users"),c=(yield gm(s)).val();if(c)for(const l in c)if(c.hasOwnProperty(l)&&c[l].username===r)return!1;return!0})()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),pT=(()=>{var t;class e{getUserInfos(){return new Promise((r,i)=>{Ya(ur(Lr((0,$e.initializeApp)(dr_firebaseConfig)),"user_info/"),c=>{const l=c.val(),h=[];for(const f in l)if(l.hasOwnProperty(f)){const _=l[f];h.push({id:_.id,user_id:_.user_id,img1:_.img1||"",img2:_.img2||"",img3:_.img3||"",cost:_.cost||0,description:_.description||"",prize:_.prize||"",interest:_.interest||"",language:_.language||"",camera:_.camera||"",portfolio:_.portfolio||[],typeOfPhoto:_.typeOfPhoto||[]})}r(h)})})}getUserInfoById(r){var i=this;return(0,x.Z)(function*(){try{return(yield i.getUserInfos()).find(a=>a.id===r)||null}catch(o){return console.error("Error fetching user info by ID:",o),null}})()}createUserInfo(r){var i=this;return(0,x.Z)(function*(){try{if(!(yield i.isUserIdUnique(r.user_id)))return console.log("The id is not unique"),null;const a=Lr((0,$e.initializeApp)(dr_firebaseConfig)),c=yield i.generateNewId(),l=ur(a,"user_info/"+c),h={id:c,user_id:r.user_id,img1:r.img1||"",img2:r.img2||"",img3:r.img3||"",cost:r.cost||0,description:r.description||"",prize:r.prize||"",interest:r.interest||"",language:r.language||"",camera:r.camera||"",portfolio:r.portfolio||[],typeOfPhoto:r.typeOfPhoto||[]};return yield Os(l,h),h}catch(o){return console.error("Error creating user:",o),null}})()}updateUserInfo(r){var i=this;return(0,x.Z)(function*(){try{const s=Lr((0,$e.initializeApp)(dr_firebaseConfig));if(null===(yield i.getUserInfoById(r.id)))return console.error("User information not found for ID:",r.id),null;const c={id:r.id,user_id:r.user_id,img1:r.img1||"",img2:r.img2||"",img3:r.img3||"",cost:r.cost||0,description:r.description||"",prize:r.prize||"",interest:r.interest||"",language:r.language||"",camera:r.camera||"",portfolio:r.portfolio||[],typeOfPhoto:r.typeOfPhoto||[]},l=ur(s,`user_info/${r.id}`);return yield Os(l,c),c}catch(o){return console.error("Error updating user information:",o),null}})()}generateNewId(){var r=this;return(0,x.Z)(function*(){const i=yield r.getUserInfos();return(0===i.length?0:Math.max(...i.map(s=>s.id)))+1})()}isUserIdUnique(r){return(0,x.Z)(function*(){const s=ur(Lr((0,$e.initializeApp)(dr_firebaseConfig)),"user_info"),c=(yield gm(s)).val();if(c)for(const l in c)if(c.hasOwnProperty(l)&&c[l].user_id===r)return!1;return!0})()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),N0=(()=>{var t;class e{constructor(r,i){this.userService=r,this.userInfoService=i}getUserInfoDTOs(){return Xc([this.userService.getUsers(),this.userInfoService.getUserInfos()]).pipe(_e(([r,i])=>{const o=[];for(const s of r){const a=i.find(c=>c.user_id===s.id);a&&o.push({user:s,userInfo:a})}return o}),Xo(r=>[]))}getUserInfoDTOsByRole(r){return Xc([this.userService.getUsers(),this.userInfoService.getUserInfos()]).pipe(_e(([i,o])=>{const s=[];for(const a of i){const c=o.find(l=>l.user_id===a.id&&a.role_id===r);c&&s.push({user:a,userInfo:c})}return s}),Xo(i=>[]))}getUserInfoDTOsById(r){return Xc([this.userService.getUsers(),this.userInfoService.getUserInfos()]).pipe(_e(([i,o])=>{const s=[];for(const c of i){const l=o.find(h=>h.user_id===c.id);l&&s.push({user:c,userInfo:l})}return s.find(c=>c.user.id===r)||null}),Xo(i=>K(null)))}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(Mp),ie(pT))},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Lae(t,e){if(1&t&&(m(0,"div",80)(1,"a",81)(2,"div",82)(3,"div",83)(4,"div",84),A(5,"img",85),y(),m(6,"div",86)(7,"div",87),A(8,"img",85),y(),m(9,"div",88),A(10,"img",85),y()()(),m(11,"div",89)(12,"div",90)(13,"h4",91),w(14),y(),m(15,"span",92),w(16),y()(),m(17,"div",93)(18,"p",94),w(19),y(),m(20,"div",95)(21,"div",96),A(22,"img",97)(23,"img",97)(24,"img",97)(25,"img",97)(26,"img",97),y(),m(27,"span",98),w(28,"5.0"),y()()()(),m(29,"div",99),A(30,"img",100),y()()()()),2&t){const n=e.$implicit;S(1),tw("routerLink","/profile/",n.user.id,""),S(4),qo("src",n.userInfo.img1,Or),S(3),qo("src",n.userInfo.img2,Or),S(2),qo("src",n.userInfo.img3,Or),S(4),Ge(n.user.full_name),S(2),Ge(n.user.address),S(3),Ot("",n.userInfo.cost,"/h")}}let w4=(()=>{var t;class e{constructor(r){this.userInfoDTOService=r,this.userInfoData=[]}ngOnInit(){this.loadUserInfoData()}loadUserInfoData(){this.userInfoDTOService.getUserInfoDTOsByRole(2).subscribe(r=>{this.userInfoData=r},r=>{console.error("Error fetching user information: ",r)})}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(N0))},t.\u0275cmp=Tt({type:t,selectors:[["app-home"]],decls:141,vars:1,consts:[[1,"home-content"],[1,"banner-wrapper"],[1,"banner-container"],[1,"banner-content"],["src","./assets/images/banner.jpg","alt","banner",1,"banner-image"],[1,"banner-search"],[1,"bsearch-title"],[1,"stitle"],[1,"slogan"],[1,"bsearch-content"],[1,"bsearch-quest-wrapper"],["type","text","name","","id","bsearch-quest","placeholder","D\u1ecbch v\u1ee5 b\u1ea1n \u0111ang t\xecm ki\u1ebfm ?"],[1,"bsearch-locate-wrapper"],["href","javascript:void(0)",1,"locate-icon"],[1,"bx","bxs-map"],["type","text","name","","id","bsearch-locate","placeholder","\u0110\u1ecba \u0111i\u1ec3m"],["href","javascript:void(0)","id","bsearch-icon"],[1,"bx","bx-search"],[1,"bsearch-suggest"],[1,"content-wrapper"],[1,"forUs-wrapper"],[1,"forUs-title"],[1,"fu-content-wrapper"],[1,"fu-content"],[1,"icon-wrapper"],["src","./assets/images/icons/icon1.png","alt","",1,"fu-icon"],[1,"fu-txt"],["src","./assets/images/icons/icon2.png","alt","",1,"fu-icon"],["src","./assets/images/icons/icon3.png","alt","",1,"fu-icon"],[1,"photo-popular-wrapper"],[1,"ppopular-title"],[1,"ppopular-wrapper"],["class","ppopular-item ",4,"ngFor","ngForOf"],[1,"ppopular-detail"],["routerLink","/collection",1,"ppopular-detail-link"],[1,"bx","bx-chevron-right"],[1,"category-wrapper"],[1,"category-title"],[1,"cate-content-wrapper"],[1,"cate-content"],["routerLink","/collection"],[1,"cate-picture"],[1,"picture-wrapper"],["src","./assets/images/user/Rectangle 23.png","alt",""],[1,"cate-name"],[1,"text-name"],["src","./assets/images/user/Rectangle 24.png","alt",""],["src","./assets/images/user/Rectangle 25.png","alt",""],["src","./assets/images/user/Rectangle 26.png","alt",""],[1,"description-wrapper"],[1,"des-title"],[1,"des-content-wrapper"],[1,"des-content"],[1,"des-left"],[1,"des-attention"],[1,"des-atten-title"],[1,"des-atten-text"],[1,"bx","bx-calendar-check"],[1,"bx","bx-smile"],[1,"des-right"],[1,"right-picture-first"],[1,"rf-left"],[1,"rf-left-first"],["src","./assets/images/user/Rectangle 28.png","alt",""],[1,"rf-left-second"],["src","./assets/images/user/Rectangle 34.png","alt",""],["src","./assets/images/user/Rectangle 35.png","alt",""],[1,"rf-right"],["src","./assets/images/user/Rectangle 29.png","alt","",1,"rf-right-img1"],["src","./assets/images/user/Rectangle 30.png","alt","",1,"rf-right-img2"],[1,"right-picture-second"],["src","./assets/images/user/Rectangle 32.png","alt",""],["src","./assets/images/user/Rectangle 47.png","alt",""],["src","./assets/images/user/Rectangle 33.png","alt",""],[1,"call-contact-warpper"],[1,"contact-bg"],["src","./assets/images/user/Rectangle 36.png","alt",""],[1,"contact-text"],[1,"contact-title"],["routerLink","",1,"contact-link"],[1,"ppopular-item"],[1,"ppopular-link",3,"routerLink"],[1,"ppopular-content"],[1,"pp-picture"],[1,"picture-1"],["alt","",3,"src"],[1,"picture-right"],[1,"picture-2"],[1,"picture-3"],[1,"pp-info"],[1,"info-left"],[1,"info-title"],[1,"info-address"],[1,"info-right"],[1,"info-price"],[1,"info-rate"],[1,"rate-star"],["src","./assets/images/icons/star-fill.png","alt",""],[1,"rate-text"],[1,"pp-avatar"],["src","./assets/images/avatar/avatar1.jpeg","alt","avatar"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),A(4,"img",4),y()(),m(5,"div",5)(6,"div",6)(7,"h1",7),w(8,"PhotoHub"),y(),m(9,"p",8),w(10,"Picture - Perfect Memory, Just a Click Away"),y()(),m(11,"div",9)(12,"div",10),A(13,"input",11),y(),m(14,"div",12)(15,"a",13),A(16,"i",14),y(),A(17,"input",15),y(),m(18,"a",16),A(19,"i",17),y()(),A(20,"div",18),y()(),m(21,"div",19)(22,"div",20)(23,"h2",21),w(24,"\u0110\u1ebfn v\u1edbi ch\xfang t\xf4i"),y(),m(25,"div",22)(26,"div",23)(27,"div",24),A(28,"img",25),y(),m(29,"p",26),w(30,"\u0110\u1ed9i ng\u0169 nhi\u1ebfp \u1ea3nh chuy\xean nghi\u1ec7p"),y()(),m(31,"div",23)(32,"div",24),A(33,"img",27),y(),m(34,"p",26),w(35,"\u0110\u1ea3m b\u1ea3o h\xe0i l\xf2ng kh\xe1ch h\xe0ng ho\u1eb7c ho\xe0n tr\u1ea3 ti\u1ec1n n\u1ebfu kh\xf4ng \u0111\xe1p \u1ee9ng \u0111\u1ee7 y\xeau c\u1ea7u"),y()(),m(36,"div",23)(37,"div",24),A(38,"img",28),y(),m(39,"p",26),w(40,"C\xf3 \u0111\u1ebfn 800+ nhi\u1ebfp \u1ea3nh tr\xean PhotoHub v\u1edbi 4.5+ start \u0111\xe1nh gi\xe1"),y()()()(),m(41,"div",29)(42,"h2",30),w(43,"Nhi\u1ebfp \u1ea3nh gia ph\u1ed5 bi\u1ebfn"),y(),m(44,"div",31),be(45,Lae,31,7,"div",32),y(),m(46,"div",33)(47,"a",34),w(48,"Xem t\u1ea5t c\u1ea3 "),A(49,"i",35),y()()(),m(50,"div",36)(51,"h2",37),w(52,"Th\u1ec3 lo\u1ea1i"),y(),m(53,"div",38)(54,"div",39)(55,"a",40)(56,"div",41)(57,"div",42),A(58,"img",43),y()(),m(59,"div",44)(60,"div",45)(61,"h4"),w(62,"Du l\u1ecbch"),y()()()()(),m(63,"div",39)(64,"a",40)(65,"div",41)(66,"div",42),A(67,"img",46),y()(),m(68,"div",44)(69,"div",45)(70,"h4"),w(71,"LookBook"),y()()()()(),m(72,"div",39)(73,"a",40)(74,"div",41)(75,"div",42),A(76,"img",47),y()(),m(77,"div",44)(78,"div",45)(79,"h4"),w(80,"Catalogue"),y()()()()(),m(81,"div",39)(82,"a",40)(83,"div",41)(84,"div",42),A(85,"img",48),y()(),m(86,"div",44)(87,"div",45)(88,"h4"),w(89,"Kh\xe1c"),y()()()()()()(),m(90,"div",49)(91,"h2",50),w(92,"N\u1eafm b\u1eaft kho\u1ea3nh kh\u1eafc c\u1ee7a b\u1ea1n "),m(93,"span"),w(94,"ch\u1ec9 v\u1edbi 3 b\u01b0\u1edbc"),y()(),m(95,"div",51)(96,"div",52)(97,"div",53)(98,"div",54)(99,"h4",55),A(100,"i",17),w(101," T\xecm ki\u1ebfm nhi\u1ebfp \u1ea3nh gia "),y(),m(102,"div",56),w(103," T\xecm ki\u1ebfm nh\u1eefng nhi\u1ebfp \u1ea3nh gia xung quanh khu v\u1ef1c b\u1ea1n v\u1edbi gi\xe1 c\u1ea3 h\u1ee3p l\xfd, ph\xf9 h\u1ee3p v\u1edbi nhu c\u1ea7u c\u1ee7a b\u1ea1n. Tham kh\u1ea3o h\u1ed3 s\u01a1 v\xe0 th\xeam ngay c\xe1c nhi\u1ebfp \u1ea3nh gia v\xe0o danh m\u1ee5c y\xeau th\xedch. "),y()(),m(104,"div",54)(105,"h4",55),A(106,"i",57),w(107," \u0110\u1eb7t l\u1ecbch h\u1eb9n "),y(),m(108,"div",56),w(109," Sau khi l\u1ef1a ch\u1ecdn xong nhi\u1ebfp \u1ea3nh gia ph\xf9 h\u1ee3p, nhanh ch\xf3ng \u0111\u1eb7t l\u1ecbch ch\u1ec9 b\u1eb1ng v\xe0i thao t\xe1c chu\u1ed9t. Nhi\u1ebfp \u1ea3nh gia s\u1ebd x\xe1c nh\u1eadn v\xe0 c\xf9ng ch\u1edd \u0111\u1ee3i \u0111\u1ebfn ng\xe0y ch\u1ee5p \u1ea3nh. "),y()(),m(110,"div",54)(111,"h4",55),A(112,"i",58),w(113," Chia s\u1ebb kho\u1ea3nh kh\u1eafc tuy\u1ec7t v\u1eddi c\u1ee7a b\u1ea1n "),y(),m(114,"div",56),w(115," H\xe3y gi\u1eef li\xean l\u1ea1c v\u1edbi nhi\u1ebfp \u1ea3nh gia c\u1ee7a b\u1ea1n trong v\xe0 sau khi nh\u1eadn booking. Sau ng\xe0y ch\u1ee5p \u1ea3nh, b\u1ea1n c\xf3 th\u1ec3 l\u1ef1a ch\u1ecdn v\xe0 chia s\u1ebb c\xe1c b\u1ee9c h\xecnh \u0111\u1eb9p m\xe0 nhi\u1ebfp \u1ea3nh gia \u0111\xe3 ch\u1ee5p v\xe0 x\u1eed l\xfd. "),y()()(),m(116,"div",59)(117,"div",60)(118,"div",61)(119,"div",62),A(120,"img",63),y(),m(121,"div",64),A(122,"img",65)(123,"img",66),y()(),m(124,"div",67),A(125,"img",68)(126,"img",69),y()(),m(127,"div",70),A(128,"img",71)(129,"img",72)(130,"img",73),y()()()()(),m(131,"div",74)(132,"div",75),A(133,"img",76),y(),m(134,"div",77)(135,"h3",78),w(136," B\u1ea1n c\xf3 ph\u1ea3i l\xe0 m\u1ed9t nhi\u1ebfp \u1ea3nh gia chuy\xean nghi\u1ec7p v\xe0 \u0111\u1ea7y tham v\u1ecdng? "),y(),m(137,"p"),w(138,"Tham gia c\u1ed9ng \u0111\u1ed3ng PhotoHub v\xe0 nh\u1eadn booking job ngay h\xf4m nay"),y(),m(139,"a",79),w(140," \u0110\u0103ng k\xfd ngay "),y()()()()()),2&r&&(S(45),Z("ngForOf",i.userInfoData))},dependencies:[wo,kr],styles:['@charset "UTF-8";.banner-wrapper[_ngcontent-%COMP%]{height:calc(100vh - 10.75rem);max-height:800px;position:relative}.banner-wrapper[_ngcontent-%COMP%]   .banner-container[_ngcontent-%COMP%], .banner-wrapper[_ngcontent-%COMP%]   .banner-container[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]{height:100%}.banner-wrapper[_ngcontent-%COMP%]   .banner-container[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-image[_ngcontent-%COMP%]{height:100%;width:100%}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]{width:100%;position:absolute;top:20%;left:50%;transform:translateY(-50%);transform:translate(-50%)}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-title[_ngcontent-%COMP%]{margin-bottom:2rem}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-title[_ngcontent-%COMP%]   .stitle[_ngcontent-%COMP%]{color:var(--color-primary);text-transform:uppercase;margin:1rem 0;text-align:center}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-title[_ngcontent-%COMP%]   .slogan[_ngcontent-%COMP%]{margin:.5rem 0;text-align:center;font-weight:600;font-size:22px}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]{width:80%;margin:0 auto;display:flex;justify-content:center}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-quest-wrapper[_ngcontent-%COMP%]{width:calc(60% - 1.14rem);height:2.25rem;background-color:var(--color-light);border-right:2px solid var(--color-primary);border-top-left-radius:.3rem!important;border-bottom-left-radius:.3rem!important}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-quest-wrapper[_ngcontent-%COMP%]   #bsearch-quest[_ngcontent-%COMP%]{width:100%;height:100%;border:0;outline:none;color:var(--color-text-body);padding-left:1.25rem}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-quest-wrapper[_ngcontent-%COMP%]   #bsearch-quest[_ngcontent-%COMP%]::placeholder{color:var(--color-text-body)}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-locate-wrapper[_ngcontent-%COMP%]{width:calc(40% - 1.14rem);height:2.25rem;background-color:var(--color-light);display:flex;justify-content:center}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-locate-wrapper[_ngcontent-%COMP%]   .locate-icon[_ngcontent-%COMP%]{height:2.25rem;width:2.25rem;color:var(--color-primary);font-size:22px;display:flex;justify-content:center;align-items:center;text-decoration:none}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-locate-wrapper[_ngcontent-%COMP%]   #bsearch-locate[_ngcontent-%COMP%]{width:100%;height:100%;border:0;outline:none;color:var(--color-text-body);padding-left:.25rem}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   .bsearch-locate-wrapper[_ngcontent-%COMP%]   #bsearch-locate[_ngcontent-%COMP%]::placeholder{color:var(--color-text-body)}.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]   #bsearch-icon[_ngcontent-%COMP%]{height:2.28rem;width:2.28rem;background-color:var(--color-primary);border-top-right-radius:.3rem;border-bottom-right-radius:.3rem;display:flex;justify-content:center;align-items:center;font-size:24px;text-decoration:none;color:var(--color-secondary)}@media (min-width: 1200px){.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-content[_ngcontent-%COMP%]{max-width:600px}}@media (max-width: 575.98px){.banner-wrapper[_ngcontent-%COMP%]   .banner-search[_ngcontent-%COMP%]   .bsearch-title[_ngcontent-%COMP%]   .slogan[_ngcontent-%COMP%]{padding-left:10%;padding-right:10%}}.forUs-wrapper[_ngcontent-%COMP%]   .forUs-title[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:700;text-align:center;margin-bottom:2.5rem}.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:2rem}.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]   .fu-content[_ngcontent-%COMP%]{margin-bottom:2rem}.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]   .fu-content[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:.75rem}.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]   .fu-content[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .fu-icon[_ngcontent-%COMP%]{height:40px;object-fit:cover}.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]   .fu-content[_ngcontent-%COMP%]   .fu-txt[_ngcontent-%COMP%]{text-align:center}@media (max-width: 991.98px){.forUs-wrapper[_ngcontent-%COMP%]   .forUs-title[_ngcontent-%COMP%]{text-align:left!important}.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 767.98px){.forUs-wrapper[_ngcontent-%COMP%]{margin-top:1.5rem!important}}@media (max-width: 575.98px){.forUs-wrapper[_ngcontent-%COMP%]   .fu-content-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}}.photo-popular-wrapper[_ngcontent-%COMP%]{margin-top:4rem;position:relative}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-title[_ngcontent-%COMP%]{color:var(--color-primary);margin-bottom:2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]{position:relative;max-height:300px;border-radius:.3rem;margin-bottom:2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]{color:var(--color-text-body)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]{position:relative;height:100%;width:100%;border-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]{height:100%;display:flex;column-gap:.2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-1[_ngcontent-%COMP%]{flex:calc(60% - .1rem);border-right:1px solid var(--color-light)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-top-left-radius:.3rem;border-bottom-left-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]{flex:calc(40% - .1rem);display:flex;row-gap:.1rem;flex-direction:column}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%], .photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]{height:calc(100% - .1rem)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:calc(100% - .15rem);width:100%;object-fit:cover}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%]{height:40%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-top-right-radius:.3rem;border-bottom:1px solid var(--color-light)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]{height:60%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-bottom-right-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;left:0;min-height:4.5rem;display:flex;justify-content:space-between;background-color:#ededed;border-bottom-left-radius:.3rem;border-bottom-right-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-left[_ngcontent-%COMP%]{padding-left:1rem;padding-top:.75rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-left[_ngcontent-%COMP%]   .info-title[_ngcontent-%COMP%]{flex:0 0 100%;width:100%;margin:0 0 .25rem;font-size:20px}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-left[_ngcontent-%COMP%]   .info-address[_ngcontent-%COMP%]{flex:0 0 100%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]{padding-top:.75rem;padding-right:.5rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-price[_ngcontent-%COMP%]{width:100%;font-size:14px;text-align:right;margin:0;margin-bottom:.75rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]{margin-right:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:12px;object-fit:cover}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]   .rate-text[_ngcontent-%COMP%]{font-size:14px;padding-top:2px}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-avatar[_ngcontent-%COMP%]{width:3em;height:3em;border-radius:50%;position:absolute;bottom:3.75rem;left:1rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]:hover:before{content:"Xem h\\1ed3  s\\1a1";position:absolute;inset:0;background-color:#000000b3;color:var(--color-light);font-size:20px;padding:10px;transition:opacity .3s;opacity:0;z-index:1;border-radius:.3rem;display:flex;justify-content:center;align-items:center}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]:hover:before{opacity:1}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]{position:absolute;right:0;top:2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]{text-decoration:none;display:flex;align-items:center;color:var(--color-primary)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:-1px;left:0;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}@media (max-width: 1100px){.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 767.98px){.photo-popular-wrapper[_ngcontent-%COMP%]{margin-top:1.5rem!important}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]{height:7rem;justify-content:flex-start;flex-direction:column}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;padding-left:1rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-price[_ngcontent-%COMP%]{text-align:left;width:auto;margin-right:1.5rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]{justify-content:flex-start}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-avatar[_ngcontent-%COMP%]{bottom:6.26rem}}@media (max-width: 575.98px){.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}}.category-wrapper[_ngcontent-%COMP%]{margin-top:4rem}.category-wrapper[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]{color:var(--color-primary);margin-bottom:2rem}.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);grid-auto-rows:1fr;column-gap:2rem}.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-text-body)}.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]   .cate-content[_ngcontent-%COMP%]{position:relative;margin-bottom:2rem}.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]   .cate-content[_ngcontent-%COMP%]   .cate-picture[_ngcontent-%COMP%], .category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]   .cate-content[_ngcontent-%COMP%]   .cate-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]{height:100%}.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]   .cate-content[_ngcontent-%COMP%]   .cate-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:.3rem}.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]   .cate-content[_ngcontent-%COMP%]   .cate-name[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;left:0;height:4.5rem;width:100%;background-color:#ededed;display:flex;justify-content:center;align-items:center;border-bottom-left-radius:.3rem;border-bottom-right-radius:.3rem}@media (max-width: 991.98px){.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 767.98px){.category-wrapper[_ngcontent-%COMP%]{margin-top:1.5rem!important}}@media (max-width: 575.98px){.category-wrapper[_ngcontent-%COMP%]   .cate-content-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}}.description-wrapper[_ngcontent-%COMP%]   .des-title[_ngcontent-%COMP%]{color:var(--color-primary);margin-bottom:2rem}.description-wrapper[_ngcontent-%COMP%]   .des-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;color:var(--color-warning)}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:3rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-left[_ngcontent-%COMP%]   .des-attention[_ngcontent-%COMP%]{margin-bottom:2rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-left[_ngcontent-%COMP%]   .des-attention[_ngcontent-%COMP%]   .des-atten-title[_ngcontent-%COMP%]{font-size:19px;margin:0;margin-bottom:1rem;display:flex;align-items:center;color:var(--color-primary);font-weight:600}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-left[_ngcontent-%COMP%]   .des-attention[_ngcontent-%COMP%]   .des-atten-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:25px;margin-right:1rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-left[_ngcontent-%COMP%]   .des-attention[_ngcontent-%COMP%]   .des-atten-text[_ngcontent-%COMP%]{padding-left:2.5rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]{max-height:600px;display:flex;flex-direction:column;row-gap:.5rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]{height:calc(60% - .25rem);width:100%;display:flex;column-gap:.5rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-left[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;row-gap:.5rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-left[_ngcontent-%COMP%]   .rf-left-first[_ngcontent-%COMP%]{width:100%;height:calc(70% - .25rem)}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-left[_ngcontent-%COMP%]   .rf-left-first[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-left[_ngcontent-%COMP%]   .rf-left-second[_ngcontent-%COMP%]{width:100%;height:calc(30% - .25rem);display:grid;grid-template-columns:repeat(2,1fr);grid-auto-rows:1fr;column-gap:.5rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-left[_ngcontent-%COMP%]   .rf-left-second[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-right[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;row-gap:.5rem;img-object-fit:cover}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-right[_ngcontent-%COMP%]   .rf-right-img1[_ngcontent-%COMP%]{height:calc(35% - .25rem);width:100%}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-first[_ngcontent-%COMP%]   .rf-right[_ngcontent-%COMP%]   .rf-right-img2[_ngcontent-%COMP%]{height:calc(65% - .25rem);width:100%}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-second[_ngcontent-%COMP%]{height:calc(40% - .25rem);width:100%;display:flex;column-gap:.5rem}.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]   .des-right[_ngcontent-%COMP%]   .right-picture-second[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:calc(33.3333333333% - (.25rem + 1px));height:100%;object-fit:cover}@media (max-width: 991.98px){.description-wrapper[_ngcontent-%COMP%]   .des-content-wrapper[_ngcontent-%COMP%]   .des-content[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}}@media (max-width: 767.98px){.description-wrapper[_ngcontent-%COMP%]{margin-top:1.5rem!important}}@media (max-width: 575.98px){.description-wrapper[_ngcontent-%COMP%]   .des-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline!important}}.call-contact-warpper[_ngcontent-%COMP%]{margin-top:6rem;position:relative}.call-contact-warpper[_ngcontent-%COMP%]   .contact-bg[_ngcontent-%COMP%]{width:100%}.call-contact-warpper[_ngcontent-%COMP%]   .contact-bg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-height:400px;object-fit:fill;object-position:center}.call-contact-warpper[_ngcontent-%COMP%]   .contact-text[_ngcontent-%COMP%]{height:calc(100% - 3rem);width:80%;position:absolute;top:3rem;left:50%;transform:translate(-50%);text-align:center;display:flex;flex-direction:column}.call-contact-warpper[_ngcontent-%COMP%]   .contact-text[_ngcontent-%COMP%]   .contact-title[_ngcontent-%COMP%]{margin-bottom:0}.call-contact-warpper[_ngcontent-%COMP%]   .contact-text[_ngcontent-%COMP%]   .contact-link[_ngcontent-%COMP%]{margin-top:2rem;font-size:18px;font-weight:700;text-decoration:none;color:var(--color-primary);padding:1rem;border:1px solid var(--color-primary);border-radius:.3rem;width:13rem;margin:0 auto}@media (max-width: 767.98px){.call-contact-warpper[_ngcontent-%COMP%]{margin-top:1.5rem!important}}@media (max-width: 575.98px){.call-contact-warpper[_ngcontent-%COMP%]   .contact-bg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:350px}.call-contact-warpper[_ngcontent-%COMP%]   .contact-text[_ngcontent-%COMP%]{width:95%;top:1rem!important}.call-contact-warpper[_ngcontent-%COMP%]   .contact-text[_ngcontent-%COMP%]   .contact-title[_ngcontent-%COMP%]{font-size:20px}}.home-content[_ngcontent-%COMP%]{position:relative}.home-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 4rem 0}@media (max-width: 767.98px){.home-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 2rem 0!important}}']}),e})();function Vae(t,e){if(1&t&&(m(0,"div",6)(1,"a",7)(2,"div",8)(3,"div",9)(4,"div",10),A(5,"img",11),y(),m(6,"div",12)(7,"div",13),A(8,"img",11),y(),m(9,"div",14),A(10,"img",11),y()()(),m(11,"div",15)(12,"div",16)(13,"h4",17),w(14),y(),m(15,"span",18),w(16),y()(),m(17,"div",19)(18,"p",20),w(19),y(),m(20,"div",21)(21,"div",22),A(22,"img",23)(23,"img",23)(24,"img",23)(25,"img",23)(26,"img",23),y(),m(27,"span",24),w(28,"5.0"),y()()()(),m(29,"div",25),A(30,"img",26),y()()()()),2&t){const n=e.$implicit;S(1),Z("routerLink","/profile/"+n.user.id),S(4),Z("src",n.userInfo.img1,Or),S(3),Z("src",n.userInfo.img2,Or),S(2),Z("src",n.userInfo.img3,Or),S(4),Ge(n.user.full_name),S(2),Ge(n.user.address),S(3),Ot("",n.userInfo.cost,"/h"),S(11),Z("src",n.user.avatar,Or)}}let P4=(()=>{var t;class e{constructor(r){this.userInfoDTOService=r,this.userInfoData=[],this.userCount=0}ngOnInit(){this.loadUserInfoData()}loadUserInfoData(){this.userInfoDTOService.getUserInfoDTOsByRole(2).subscribe(r=>{this.userInfoData=r,this.userCount=this.userInfoData.length},r=>{console.error("Error fetching user information: ",r)})}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(N0))},t.\u0275cmp=Tt({type:t,selectors:[["app-shop"]],decls:7,vars:2,consts:[[1,"shop-content"],[1,"content-wrapper"],[1,"photo-popular-wrapper"],[1,"ppopular-title"],[1,"ppopular-wrapper"],["class","ppopular-item",4,"ngFor","ngForOf"],[1,"ppopular-item"],[1,"ppopular-link",3,"routerLink"],[1,"ppopular-content"],[1,"pp-picture"],[1,"picture-1"],["alt","",3,"src"],[1,"picture-right"],[1,"picture-2"],[1,"picture-3"],[1,"pp-info"],[1,"info-left"],[1,"info-title"],[1,"info-address"],[1,"info-right"],[1,"info-price"],[1,"info-rate"],[1,"rate-star"],["src","./assets/images/icons/star-fill.png","alt",""],[1,"rate-text"],[1,"pp-avatar"],["alt","avatar",3,"src"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),w(4),y(),m(5,"div",4),be(6,Vae,31,8,"div",5),y()()()()),2&r&&(S(4),Ot("",i.userCount," nhi\u1ebfp \u1ea3nh gia"),S(2),Z("ngForOf",i.userInfoData))},dependencies:[wo,kr],styles:['@charset "UTF-8";.shop-content[_ngcontent-%COMP%]{position:relative}.shop-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 4rem 0}@media (max-width: 767.98px){.shop-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 2rem 0!important}}.photo-popular-wrapper[_ngcontent-%COMP%]{margin-top:4rem;position:relative}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-title[_ngcontent-%COMP%]{color:var(--color-primary);margin-bottom:2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:3.5rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]{position:relative;max-height:300px;border-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]{color:var(--color-text-body)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]{position:relative;height:100%;width:100%;border-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]{height:100%;display:flex;column-gap:.2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-1[_ngcontent-%COMP%]{flex:calc(60% - .1rem);border-right:1px solid var(--color-light)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-top-left-radius:.3rem;border-bottom-left-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]{flex:calc(40% - .1rem);display:flex;row-gap:.1rem;flex-direction:column}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%], .photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]{height:calc(100% - .1rem)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:calc(100% - .15rem);width:100%;object-fit:cover}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%]{height:40%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-top-right-radius:.3rem;border-bottom:1px solid var(--color-light)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]{height:60%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-picture[_ngcontent-%COMP%]   .picture-right[_ngcontent-%COMP%]   .picture-3[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-bottom-right-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;left:0;min-height:4.5rem;display:flex;justify-content:space-between;background-color:#ededed;border-bottom-left-radius:.3rem;border-bottom-right-radius:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-left[_ngcontent-%COMP%]{padding-left:1rem;padding-top:.75rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-left[_ngcontent-%COMP%]   .info-title[_ngcontent-%COMP%]{flex:0 0 100%;width:100%;margin:0 0 .25rem;font-size:20px}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-left[_ngcontent-%COMP%]   .info-address[_ngcontent-%COMP%]{flex:0 0 100%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]{padding-top:.75rem;padding-right:.5rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-price[_ngcontent-%COMP%]{width:100%;font-size:14px;text-align:right;margin:0;margin-bottom:.75rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]{margin-right:.3rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:12px;object-fit:cover}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]   .rate-text[_ngcontent-%COMP%]{font-size:14px;padding-top:2px}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-avatar[_ngcontent-%COMP%]{width:3em;height:3em;border-radius:50%;position:absolute;bottom:3.75rem;left:1rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]:hover:before{content:"Xem h\\1ed3  s\\1a1";position:absolute;inset:0;background-color:#000000b3;color:var(--color-light);font-size:20px;padding:10px;transition:opacity .3s;opacity:0;z-index:1;border-radius:.3rem;display:flex;justify-content:center;align-items:center}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]:hover:before{opacity:1}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]{position:absolute;right:0;top:2rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]{text-decoration:none;display:flex;align-items:center;color:var(--color-primary)}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:-1px;left:0;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-detail[_ngcontent-%COMP%]   .ppopular-detail-link[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}@media (max-width: 1350px){.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)!important}}@media (max-width: 1100px){.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 767.98px){.photo-popular-wrapper[_ngcontent-%COMP%]{margin-top:1.5rem!important}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]{height:7rem;justify-content:flex-start;flex-direction:column}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;padding-left:1rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-price[_ngcontent-%COMP%]{text-align:left;width:auto;margin-right:1.5rem}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-info[_ngcontent-%COMP%]   .info-right[_ngcontent-%COMP%]   .info-rate[_ngcontent-%COMP%]{justify-content:flex-start}.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]   .ppopular-item[_ngcontent-%COMP%]   .ppopular-link[_ngcontent-%COMP%]   .ppopular-content[_ngcontent-%COMP%]   .pp-avatar[_ngcontent-%COMP%]{bottom:6.26rem}}@media (max-width: 575.98px){.photo-popular-wrapper[_ngcontent-%COMP%]   .ppopular-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}}']}),e})(),E4=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(La),Y(Ni))},t.\u0275dir=Ve({type:t}),e})(),Ku=(()=>{var t;class e extends E4{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Mr(t)))(i||t)}}(),t.\u0275dir=Ve({type:t,features:[jt]}),e})();const ta=new fe("NgValueAccessor"),jae={provide:ta,useExisting:j(()=>pl),multi:!0},Hae=new fe("CompositionEventMode");let pl=(()=>{var t;class e extends E4{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function $ae(){const t=Yc()?Yc().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(La),Y(Ni),Y(Hae,8))},t.\u0275dir=Ve({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&G("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[On([jae]),jt]}),e})();const vi=new fe("NgValidators"),gl=new fe("NgAsyncValidators");function T4(t){return function fl(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}(t.value)?{required:!0}:null}function F0(t){return null}function k4(t){return null!=t}function N4(t){return d_(t)?R(t):t}function F4(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function L4(t,e){return e.map(n=>n(t))}function V4(t){return t.map(e=>function Wae(t){return!t.validate}(e)?e:n=>e.validate(n))}function fT(t){return null!=t?function U4(t){if(!t)return null;const e=t.filter(k4);return 0==e.length?null:function(n){return F4(L4(n,e))}}(V4(t)):null}function gT(t){return null!=t?function B4(t){if(!t)return null;const e=t.filter(k4);return 0==e.length?null:function(n){return function Uae(...t){const e=ks(t),{args:n,keys:r}=cU(t),i=new st(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let h=0;h<s;h++){let f=!1;Ln(n[h]).subscribe(Ce(o,_=>{f||(f=!0,l--),a[h]=_},()=>c--,void 0,()=>{(!c||!f)&&(l||o.next(r?uU(r,a):a),o.complete())}))}});return e?i.pipe(lU(e)):i}(L4(n,e).map(N4)).pipe(_e(F4))}}(V4(t)):null}function j4(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function _T(t){return t?Array.isArray(t)?t:[t]:[]}function L0(t,e){return Array.isArray(t)?t.includes(e):t===e}function z4(t,e){const n=_T(e);return _T(t).forEach(i=>{L0(n,i)||n.push(i)}),n}function W4(t,e){return _T(e).filter(n=>!L0(t,n))}class G4{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=fT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=gT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class ji extends G4{get formDirective(){return null}get path(){return null}}class _l extends G4{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class q4{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Zu=(()=>{var t;class e extends q4{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(_l,2))},t.\u0275dir=Ve({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Ko("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[jt]}),e})(),ym=(()=>{var t;class e extends q4{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(ji,10))},t.\u0275dir=Ve({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Ko("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[jt]}),e})();const vm="VALID",U0="INVALID",Op="PENDING",Cm="DISABLED";function vT(t){return(B0(t)?t.validators:t)||null}function CT(t,e){return(B0(e)?e.asyncValidators:t)||null}function B0(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Q4{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===vm}get invalid(){return this.status===U0}get pending(){return this.status==Op}get disabled(){return this.status===Cm}get enabled(){return this.status!==Cm}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(z4(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(z4(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(W4(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(W4(e,this._rawAsyncValidators))}hasValidator(e){return L0(this._rawValidators,e)}hasAsyncValidator(e){return L0(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Op,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Cm,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=vm,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vm||this.status===Op)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Cm:vm}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Op,this._hasOwnPendingAsyncValidator=!0;const n=N4(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Mn,this.statusChanges=new Mn}_calculateStatus(){return this._allControlsDisabled()?Cm:this.errors?U0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Op)?Op:this._anyControlsHaveStatus(U0)?U0:vm}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){B0(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Zae(t){return Array.isArray(t)?fT(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Yae(t){return Array.isArray(t)?gT(t):t||null}(this._rawAsyncValidators)}}class wT extends Q4{constructor(e,n,r){super(vT(n),CT(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function Y4(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new ee(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function Z4(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new ee(1e3,"");if(!r[n])throw new ee(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Ip=new fe("CallSetDisabledState",{providedIn:"root",factory:()=>j0}),j0="always";function wm(t,e,n=j0){PT(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Jae(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&X4(t,e)})}(t,e),function tce(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function ece(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&X4(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Xae(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function z0(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function PT(t,e){const n=function $4(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(j4(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function H4(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(j4(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();z0(e._rawValidators,i),z0(e._rawAsyncValidators,i)}function X4(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const sce={provide:ji,useExisting:j(()=>Yu)},Pm=(()=>Promise.resolve())();let Yu=(()=>{var t;class e extends ji{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Mn,this.form=new wT({},fT(r),gT(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Pm.then(()=>{const i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),wm(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Pm.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Pm.then(()=>{const i=this._findContainer(r.path),o=new wT({});(function J4(t,e){PT(t,e)})(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Pm.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Pm.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,function ej(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(vi,10),Y(gl,10),Y(Ip,8))},t.\u0275dir=Ve({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&G("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[On([sce]),jt]}),e})();function tj(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function nj(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const rj=class extends Q4{constructor(e=null,n,r){super(vT(n),CT(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),B0(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=nj(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){tj(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){tj(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){nj(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},lce={provide:_l,useExisting:j(()=>ml)},sj=(()=>Promise.resolve())();let ml=(()=>{var t;class e extends _l{constructor(r,i,o,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new rj,this._registered=!1,this.name="",this.update=new Mn,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=function OT(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===pl?n=o:function ice(t){return Object.getPrototypeOf(t.constructor)===Ku}(o)?r=o:i=o}),i||r||n||null}(0,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),function MT(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){wm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){sj.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,o=0!==i&&Jh(i);sj.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?function $0(t,e){return[...e.path,t]}(r,this._parent):[r]}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(ji,9),Y(vi,10),Y(gl,10),Y(ta,10),Y(gw,8),Y(Ip,8))},t.\u0275dir=Ve({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[On([lce]),jt,di]}),e})(),Em=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Ve({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),cj=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Un({type:t}),t.\u0275inj=Yn({}),e})();const vce={provide:ta,useExisting:j(()=>G0),multi:!0};function gj(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let G0=(()=>{var t;class e extends Ku{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;const o=gj(this._getOptionId(r),r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){const i=function Cce(t){return t.split(":")[0]}(r);return this._optionMap.has(i)?this._optionMap.get(i):r}}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Mr(t)))(i||t)}}(),t.\u0275dir=Ve({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&G("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[On([vce]),jt]}),e})(),q0=(()=>{var t;class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){null!=this._select&&(this._select._optionMap.set(this.id,r),this._setElementValue(gj(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(Ni),Y(La),Y(G0,9))},t.\u0275dir=Ve({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const wce={provide:ta,useExisting:j(()=>AT),multi:!0};function _j(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let AT=(()=>{var t;class e extends Ku{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){let i;if(this.value=r,Array.isArray(r)){const o=r.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{const o=[],s=i.selectedOptions;if(void 0!==s){const a=s;for(let c=0;c<a.length;c++){const h=this._getOptionValue(a[c].value);o.push(h)}}else{const a=i.options;for(let c=0;c<a.length;c++){const l=a[c];if(l.selected){const h=this._getOptionValue(l.value);o.push(h)}}}this.value=o,r(o)}}_registerOption(r){const i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){const i=function Pce(t){return t.split(":")[0]}(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Mr(t)))(i||t)}}(),t.\u0275dir=Ve({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&G("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[On([wce]),jt]}),e})(),K0=(()=>{var t;class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){null!=this._select&&(this._value=r,this._setElementValue(_j(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(_j(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(Ni),Y(La),Y(AT,9))},t.\u0275dir=Ve({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})(),Qu=(()=>{var t;class e{constructor(){this._validator=F0}ngOnChanges(r){if(this.inputName in r){const i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):F0,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return null!=r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Ve({type:t,features:[di]}),e})();const Oce={provide:vi,useExisting:j(()=>Mm),multi:!0};let Mm=(()=>{var t;class e extends Qu{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Jh,this.createValidator=r=>T4}enabled(r){return r}}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Mr(t)))(i||t)}}(),t.\u0275dir=Ve({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&Go("required",i._enabled?"":null)},inputs:{required:"required"},features:[On([Oce]),jt]}),e})(),Sce=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Un({type:t}),t.\u0275inj=Yn({imports:[cj]}),e})(),xce=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:Ip,useValue:r.callSetDisabledState??j0}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Un({type:t}),t.\u0275inj=Yn({imports:[Sce]}),e})();function kce(t,e){1&t&&(m(0,"span",37),w(1,"Vui l\xf2ng nh\u1eadp email h\u1ee3p l\u1ec7."),y())}function Nce(t,e){1&t&&(m(0,"span",37),w(1,"M\u1eadt kh\u1ea9u ph\u1ea3i c\xf3 \xedt nh\u1ea5t 6 k\xfd t\u1ef1."),y())}let Fce=(()=>{var t;class e{constructor(r,i){this.userService=r,this.router=i,this.isShowPassword=!1,this.invalidEmail=!1,this.invalidPassword=!1,this.email="",this.password="",this.loginMessage=""}onChangeEmail(r){this.email=r.target.value,this.validateEmail()}onChangePassword(r){this.password=r.target.value,this.validatePassword()}togglePassword(){this.isShowPassword=!this.isShowPassword}onSubmit(){var r=this;return(0,x.Z)(function*(){if(r.validateEmail()&&r.validatePassword()){var i=yield r.userService.getUserByUsername(r.email);i?r.router.navigate(1===i.role_id?["/admin/home"]:2===i.role_id?["/partner/"+i.id]:["/home"]):r.loginMessage="Sai email ho\u1eb7c m\u1eadt kh\u1ea9u"}else r.validateEmail(),r.validatePassword()})()}validateEmail(){const i=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(this.email);return this.invalidEmail=!i,i}validatePassword(){return this.invalidPassword=this.password.length<6,!this.invalidPassword}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(Mp),Y(br))},t.\u0275cmp=Tt({type:t,selectors:[["app-login"]],decls:53,vars:8,consts:[[1,"login-wrapper"],[1,"login-container"],[1,"login-header"],[1,"go-home"],["routerLink","/home",1,"go-home-link"],[1,"bx","bxs-chevron-left"],[1,"login-title"],[1,"brand"],["routerLink","/home",1,"brand-link"],["src","./assets/images/logo2.png","alt","logo",1,"brand-image"],[1,"login-message"],[1,"login-content"],[3,"ngSubmit"],[1,"form-group"],["for","username"],["type","text","id","username","name","username","required","","placeholder","quang@gmail.com",3,"input"],["class","validate-message",4,"ngIf"],["for","password"],[1,"password-wrapper"],["id","password","name","password","required","",3,"type","input"],["id","showPassword","href","javascript:void(0)",3,"click"],[1,"bx","bx-show"],["id","hidePassword","href","javascript:void(0)",3,"click"],[1,"bx","bx-hide"],["routerLink","",1,"forgot-password"],["type","submit"],[1,"wall-login"],[1,"line-left"],[1,"line-right"],[1,"login-footer"],[1,"login-option"],["href","javascript:void(0)",1,"login-option-icon"],[1,"bx","bxl-google"],[1,"bx","bxl-facebook"],[1,"bx","bxl-instagram-alt"],[1,"sign-in"],["routerLink","/auth/register"],[1,"validate-message"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),A(5,"i",5),w(6," Trang ch\u1ee7 "),y()(),m(7,"h3",6),w(8," \u0110\u0103ng nh\u1eadp "),y(),m(9,"div",7)(10,"a",8),A(11,"img",9),y()()(),m(12,"div",10),w(13),y(),m(14,"div",11)(15,"form",12),G("ngSubmit",function(){return i.onSubmit()}),m(16,"div",13)(17,"label",14),w(18,"Email"),y(),m(19,"input",15),G("input",function(s){return i.onChangeEmail(s)}),y(),be(20,kce,2,0,"span",16),y(),m(21,"div",13)(22,"label",17),w(23,"M\u1eadt kh\u1ea9u"),y(),m(24,"div",18)(25,"input",19),G("input",function(s){return i.onChangePassword(s)}),y(),m(26,"a",20),G("click",function(){return i.togglePassword()}),A(27,"i",21),y(),m(28,"a",22),G("click",function(){return i.togglePassword()}),A(29,"i",23),y()(),be(30,Nce,2,0,"span",16),m(31,"a",24),w(32,"Qu\xean m\u1eadt kh\u1ea9u?"),y()(),m(33,"button",25),w(34,"\u0110\u0103ng nh\u1eadp"),y()()(),m(35,"div",26),A(36,"div",27),m(37,"span"),w(38,"Ho\u1eb7c \u0111\u0103ng nh\u1eadp b\u1eb1ng"),y(),A(39,"div",28),y(),m(40,"div",29)(41,"div",30)(42,"a",31),A(43,"i",32),y(),m(44,"a",31),A(45,"i",33),y(),m(46,"a",31),A(47,"i",34),y()(),m(48,"div",35)(49,"div"),w(50,"B\u1ea1n ch\u01b0a c\xf3 t\xe0i kho\u1ea3n?"),m(51,"a",36),w(52," \u0110\u0103ng k\xfd"),y()()()()()()),2&r&&(S(13),Ge(i.loginMessage),S(7),Z("ngIf",i.invalidEmail),S(5),Z("type",i.isShowPassword?"text":"password"),S(1),Ko("show",i.isShowPassword),S(2),Ko("show",!i.isShowPassword),S(2),Z("ngIf",i.invalidPassword))},dependencies:[Po,kr,Em,ym,Yu],styles:['.login-wrapper[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;min-height:100vh;background-image:url(/assets/images/banner.jpg);background-size:cover;background-repeat:no-repeat;background-position:center;padding:2rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]{padding:2rem;border-radius:.5rem;width:700px;margin:auto;min-height:calc(100vh - 4rem);height:100%;background-color:#ffffffa8;box-shadow:0 0 10px #0000004d}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem;position:relative}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{position:absolute;top:0rem;left:0rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]   .go-home-link[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;text-decoration:none;color:var(--color-primary);font-weight:700;position:relative}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   .login-title[_ngcontent-%COMP%]{text-align:center;color:var(--color-primary);font-size:32px;font-weight:700}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{display:flex;justify-content:center}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]   .brand-image[_ngcontent-%COMP%]{width:5rem;height:5rem;object-fit:cover}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-message[_ngcontent-%COMP%]{color:red;margin-bottom:1.5rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:15px}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:gray;font-weight:600;font-size:18px}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 10px;border:2px solid gray;border-radius:5px;background-color:transparent;outline:none}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--color-primary)}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]{position:relative}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #hidePassword[_ngcontent-%COMP%], .login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #showPassword[_ngcontent-%COMP%]{position:absolute;right:10px;top:calc(50% + 3px);transform:translateY(-50%);text-decoration:none;font-size:20px;color:var(--color-primary);display:none}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #hidePassword.show[_ngcontent-%COMP%], .login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #showPassword.show[_ngcontent-%COMP%]{display:block}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{width:100%;font-size:14px;color:#ff1818}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{position:absolute;top:100%;color:var(--color-primary);width:100%;right:0;text-align:right}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:3rem;display:block;width:100%;padding:15px 10px;background-color:var(--color-primary);color:#fff;border:none;border-radius:5px;font-size:20px;cursor:pointer}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]{margin:2rem 0;display:flex;align-items:center}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]   .line-left[_ngcontent-%COMP%], .login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]   .line-right[_ngcontent-%COMP%]{flex-grow:1;height:2px;background-color:var(--color-primary)}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 10px;white-space:nowrap}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .login-option[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;justify-content:center;column-gap:1.5rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .login-option[_ngcontent-%COMP%]   .login-option-icon[_ngcontent-%COMP%]{font-size:42px;color:var(--color-primary);text-decoration:none}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%]{color:var(--color-primary)}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;text-decoration:none;color:var(--color-primary)}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:-1px;left:0}@media (max-width: 767.98px){.login-wrapper[_ngcontent-%COMP%]{width:100%;left:50%;transform:translate(-50%);padding:1rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]{width:100%;min-height:calc(100vh - 2rem)}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{top:-.5rem;left:-1rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{font-size:12px}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2rem;padding:10px;font-size:17px}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]{margin:1rem 0}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .login-option[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;justify-content:center;column-gap:1.5rem}.login-wrapper[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   .login-option[_ngcontent-%COMP%]   .login-option-icon[_ngcontent-%COMP%]{font-size:26px;color:var(--color-primary);text-decoration:none}}']}),e})();const Ij={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Z0;const Lce=new Uint8Array(16);function Vce(){if(!Z0&&(Z0=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Z0))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Z0(Lce)}const Jr=[];for(let t=0;t<256;++t)Jr.push((t+256).toString(16).slice(1));const Y0=function Uce(t,e,n){if(Ij.randomUUID&&!e&&!t)return Ij.randomUUID();const r=(t=t||{}).random||(t.rng||Vce)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return function bj(t,e=0){return Jr[t[e+0]]+Jr[t[e+1]]+Jr[t[e+2]]+Jr[t[e+3]]+"-"+Jr[t[e+4]]+Jr[t[e+5]]+"-"+Jr[t[e+6]]+Jr[t[e+7]]+"-"+Jr[t[e+8]]+Jr[t[e+9]]+"-"+Jr[t[e+10]]+Jr[t[e+11]]+Jr[t[e+12]]+Jr[t[e+13]]+Jr[t[e+14]]+Jr[t[e+15]]}(r)};function Om(t){return(Om="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Le(t,e,n){return(e=function jce(t){var e=function Bce(t,e){if("object"!==Om(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Om(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Om(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class $ce extends Pt{constructor(e,n){super()}schedule(e,n=0){return this}}const Q0={setInterval(t,e,...n){const{delegate:r}=Q0;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Q0;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class Tj extends $ce{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Q0.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Q0.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,He(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const DT={now:()=>(DT.delegate||Date).now(),delegate:void 0};class Im{constructor(e,n=Im.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Im.now=DT.now;class Aj extends Im{constructor(e,n=Im.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Wce=new class zce extends Aj{}(class Hce extends Tj{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),X0=new Aj(Tj),yl=new kh("ANGULARFIRE2_VERSION");const ST=(t,e)=>{const n=e?[e]:(0,$e.getApps)(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};class bm{constructor(){return ST(Gce)}}const Gce="app-check";function bp(){}class Sj{constructor(e,n=Wce){Le(this,"zone",void 0),Le(this,"delegate",void 0),this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class qce{constructor(e){Le(this,"zone",void 0),Le(this,"task",null),this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",bp,{},bp,bp)),n.pipe(Xr({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Tp=(()=>{var t;class e{constructor(r){Le(this,"ngZone",void 0),Le(this,"outsideAngular",void 0),Le(this,"insideAngular",void 0),this.ngZone=r,this.outsideAngular=r.runOutsideAngular(()=>new Sj(Zone.current)),this.insideAngular=r.run(()=>new Sj(Zone.current,X0)),globalThis.\u0275AngularFireScheduler||=this}}return t=e,Le(e,"\u0275fac",function(r){return new(r||t)(ie(Dt))}),Le(e,"\u0275prov",Te({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();function Ap(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Xu(t){return Ap().ngZone.run(()=>t())}function Rj(t){return t.pipe(vr(Ap().outsideAngular))}function tr(t){return function Zce(t){return function(n){return(n=n.lift(new qce(t.ngZone))).pipe(Gr(t.outsideAngular),vr(t.insideAngular))}}(Ap())(t)}const Yce=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Xu(()=>t.apply(void 0,r))},Qce=(t,e)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(n||=Xu(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",bp,{},bp,bp))),r[o]=Yce(r[o],n));const i=function Kce(t){return Ap().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof st){const o=Ap();return i.pipe(Gr(o.outsideAngular),vr(o.insideAngular))}return Xu(()=>i)}return i instanceof st?i.pipe(tr):i instanceof Promise?Xu(()=>new Promise((o,s)=>i.then(a=>Xu(()=>o(a)),a=>Xu(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Xu(()=>i)};var ns=Ze(106);ns.Z.registerVersion("firebase","10.5.2","app-compat");const tle=["ngOnDestroy"];class xj{constructor(e){return e}}const Dp=new fe("angularfire2.app.options"),Sp=new fe("angularfire2.app.name");function Tm(t,e,n){const i="object"==typeof n&&n||{};i.name=i.name||"string"==typeof n&&n||"[DEFAULT]";const s=ns.Z.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>ns.Z.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){const a=!!module.hot;ile("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new xj(s)}const ile=(t,...e)=>{},ole={provide:xj,useFactory:Tm,deps:[Dp,Dt,[new p,Sp]]};let sle=(()=>{var t;class e{static initializeApp(r,i){return{ngModule:e,providers:[{provide:Dp,useValue:r},{provide:Sp,useValue:i}]}}constructor(r){ns.Z.registerVersion("angularfire",yl.full,"core"),ns.Z.registerVersion("angularfire",yl.full,"app-compat"),ns.Z.registerVersion("angular",GO.full,r.toString())}}return t=e,Le(e,"\u0275fac",function(r){return new(r||t)(ie(mo))}),Le(e,"\u0275mod",Un({type:t})),Le(e,"\u0275inj",Yn({providers:[ole]})),e})();function J0(t,e,n,r,i){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return function ale(t,e){try{return t.toString()===e.toString()}catch{return t===e}}(i,s)||(kj("error",`${e} was already initialized on the ${n} Firebase App with different settings.${cle?" You may need to reload as Firebase is not HMR aware.":""}`),kj("warn",{is:i,was:s})),o;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}const cle=typeof module<"u"&&!!module.hot,kj=(t,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[];const Nj="firebasestorage.googleapis.com",Fj="storageBucket";class kn extends M.ZR{constructor(e,n,r=0){super(RT(e),`Firebase Storage: ${n} (${RT(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,kn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return RT(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var bn=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(bn||{});function RT(t){return"storage/"+t}function xT(){return new kn(bn.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Lj(){return new kn(bn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Vj(){return new kn(bn.CANCELED,"User canceled the upload/download.")}function Uj(){return new kn(bn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Rp(t){return new kn(bn.INVALID_ARGUMENT,t)}function Bj(){return new kn(bn.APP_DELETED,"The Firebase app was deleted.")}function jj(t){return new kn(bn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Am(t,e){return new kn(bn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Dm(t){throw new kn(bn.INTERNAL_ERROR,"Internal error: "+t)}class Ci{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ci.makeFromUrl(e,n)}catch{return new Ci(e,"")}if(""===r.path)return r;throw function yle(t){return new kn(bn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function l($){$.path_=decodeURIComponent($.path)}const f=n.replace(/[.]/g,"\\."),H=[{regex:a,indices:{bucket:1,path:3},postModify:function o($){"/"===$.path.charAt($.path.length-1)&&($.path_=$.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${f}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:l},{regex:new RegExp(`^https?://${n===Nj?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:l}];for(let $=0;$<H.length;$++){const pe=H[$],Oe=pe.regex.exec(e);if(Oe){let Yt=Oe[pe.indices.path];Yt||(Yt=""),r=new Ci(Oe[pe.indices.bucket],Yt),pe.postModify(r);break}}if(null==r)throw function mle(t){return new kn(bn.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r}}class Ele{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function eP(t){return"string"==typeof t||t instanceof String}function $j(t){return kT()&&t instanceof Blob}function kT(){return typeof Blob<"u"&&!(0,M.UG)()}function NT(t,e,n,r){if(r<e)throw Rp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Rp(`Invalid value for '${t}'. Expected ${n} or less.`)}function Qa(t,e,n){let r=e;return null==n&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Hj(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}var xp=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(xp||{});function zj(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),o=-1!==e.indexOf(t);return n||i||o}class Ale{constructor(e,n,r,i,o,s,a,c,l,h,f,_=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=h,this.connectionFactory_=f,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,E)=>{this.resolve_=v,this.reject_=E,this.start_()})}start_(){const n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());!function Ile(t){return void 0!==t}(c)?o():o(c)}catch(c){s(c)}else if(null!==a){const c=xT();c.serverResponse=a.getErrorText(),s(this.errorCallback_?this.errorCallback_(a,c):c)}else s(i.canceled?this.appDelete_?Bj():Vj():Lj())};this.canceled_?n(0,new tP(!1,null,!0)):this.backoffId_=function Mle(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function c(){return 2===a}let l=!1;function h(...b){l||(l=!0,e.apply(null,b))}function f(b){i=setTimeout(()=>{i=null,t(v,c())},b)}function _(){o&&clearTimeout(o)}function v(b,...L){if(l)return void _();if(b)return _(),void h.call(null,b,...L);if(c()||s)return _(),void h.call(null,b,...L);let H;r<64&&(r*=2),1===a?(a=2,H=0):H=1e3*(r+Math.random()),f(H)}let E=!1;function I(b){E||(E=!0,_(),!l&&(null!==i?(b||(a=2),clearTimeout(i),f(0)):b||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,I(!0)},n),I}((r,i)=>{if(i)return void r(!1,new tP(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===xp.NO_ERROR,c=o.getStatus();if(!a||zj(c,this.additionalRetryCodes_)&&this.retry){const h=o.getErrorCode()===xp.ABORT;return void r(!1,new tP(!1,null,h))}const l=-1!==this.successCodes_.indexOf(c);r(!0,new tP(l,o))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Ole(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class tP{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Fle(...t){const e=function Nle(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}if(kT())return new Blob(t);throw new kn(bn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Oo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class FT{constructor(e,n){this.data=e,this.contentType=n||null}}function LT(t,e){switch(t){case Oo.RAW:return new FT(Wj(e));case Oo.BASE64:case Oo.BASE64URL:return new FT(Gj(t,e));case Oo.DATA_URL:return new FT(function Ble(t){const e=new qj(t);return e.base64?Gj(Oo.BASE64,e.rest):function Ule(t){let e;try{e=decodeURIComponent(t)}catch{throw Am(Oo.DATA_URL,"Malformed data URL.")}return Wj(e)}(e.rest)}(e),function jle(t){return new qj(t).contentType}(e))}throw xT()}function Wj(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?n<t.length-1&&56320==(64512&t.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Gj(t,e){switch(t){case Oo.BASE64:{const i=-1!==e.indexOf("-"),o=-1!==e.indexOf("_");if(i||o)throw Am(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Oo.BASE64URL:{const i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw Am(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function Vle(t){if(typeof atob>"u")throw function Ple(t){return new kn(bn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(t)}(e)}catch(i){throw i.message.includes("polyfill")?i:Am(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class qj{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(null===n)throw Am(Oo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;null!=r&&(this.base64=function $le(t,e){return t.length>=e.length&&t.substring(t.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class na{constructor(e,n){let r=0,i="";$j(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if($j(this.data_)){const i=function Lle(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===i?null:new na(i)}{const r=new Uint8Array(this.data_.buffer,e,n-e);return new na(r,!0)}}static getBlob(...e){if(kT()){const n=e.map(r=>r instanceof na?r.data_:r);return new na(Fle.apply(null,n))}{const n=e.map(s=>eP(s)?LT(Oo.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new na(i,!0)}}uploadData(){return this.data_}}function VT(t){let e;try{e=JSON.parse(t)}catch{return null}return function Tle(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function Kj(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Wle(t,e){return e}class $i{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Wle}}let nP=null;function Sm(){if(nP)return nP;const t=[];t.push(new $i("bucket")),t.push(new $i("generation")),t.push(new $i("metageneration")),t.push(new $i("name","fullPath",!0));const n=new $i("name");n.xform=function e(o,s){return function Gle(t){return!eP(t)||t.length<2?t:Kj(t)}(s)},t.push(n);const i=new $i("size");return i.xform=function r(o,s){return void 0!==s?Number(s):s},t.push(i),t.push(new $i("timeCreated")),t.push(new $i("updated")),t.push(new $i("md5Hash",null,!0)),t.push(new $i("cacheControl",null,!0)),t.push(new $i("contentDisposition",null,!0)),t.push(new $i("contentEncoding",null,!0)),t.push(new $i("contentLanguage",null,!0)),t.push(new $i("contentType",null,!0)),t.push(new $i("metadata","customMetadata",!0)),nP=t,nP}function Zj(t,e,n){const r=VT(e);return null===r?null:function Kle(t,e,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return function qle(t,e){Object.defineProperty(t,"ref",{get:function n(){const o=new Ci(t.bucket,t.fullPath);return e._makeStorageReference(o)}})}(r,t),r}(t,r,n)}function UT(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}const Yj="prefixes",Qj="items";class ra{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ia(t){if(!t)throw xT()}function rP(t,e){return function n(r,i){const o=Zj(t,i,e);return ia(null!==o),o}}function kp(t){return function e(n,r){let i;return i=401===n.getStatus()?n.getErrorText().includes("Firebase App Check token is invalid")?function gle(){return new kn(bn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function fle(){return new kn(bn.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===n.getStatus()?function ple(t){return new kn(bn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(t.bucket):403===n.getStatus()?function _le(t){return new kn(bn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}(t.path):r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}}function Rm(t){const e=kp(t);return function n(r,i){let o=e(r,i);return 404===r.getStatus()&&(o=function hle(t){return new kn(bn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}(t.path)),o.serverResponse=i.serverResponse,o}}function Xj(t,e,n){const i=Qa(e.fullServerUrl(),t.host,t._protocol),s=t.maxOperationRetryTime,a=new ra(i,"GET",rP(t,n),s);return a.errorHandler=Rm(e),a}function eue(t,e,n,r,i){const o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const a=Qa(e.bucketOnlyServerUrl(),t.host,t._protocol),l=t.maxOperationRetryTime,h=new ra(a,"GET",function Xle(t,e){return function n(r,i){const o=function Qle(t,e,n){const r=VT(n);return null===r?null:function Yle(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Yj])for(const i of n[Yj]){const o=i.replace(/\/$/,""),s=t._makeStorageReference(new Ci(e,o));r.prefixes.push(s)}if(n[Qj])for(const i of n[Qj]){const o=t._makeStorageReference(new Ci(e,i.name));r.items.push(o)}return r}(t,e,r)}(t,e,i);return ia(null!==o),o}}(t,e.bucket),l);return h.urlParams=o,h.errorHandler=kp(e),h}function e9(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function iue(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class iP{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function BT(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{ia(!1)}return ia(!!n&&-1!==(e||["active"]).indexOf(n)),n}const cue={STATE_CHANGED:"state_changed"},Hi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function jT(t){switch(t){case"running":case"pausing":case"canceling":return Hi.RUNNING;case"paused":return Hi.PAUSED;case"success":return Hi.SUCCESS;case"canceled":return Hi.CANCELED;default:return Hi.ERROR}}class lue{constructor(e,n,r){if(function ble(t){return"function"==typeof t}(e)||null!=n||null!=r)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function Np(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}let r9=null;class uue{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xp.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=xp.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=xp.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Dm("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),void 0!==i)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Dm("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Dm("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Dm("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Dm("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class due extends uue{initXhr(){this.xhr_.responseType="text"}}function Ts(){return r9?r9():new due}class i9{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Sm(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(bn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(zj(i.status,[])){if(!o)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=Lj()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(bn.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,n)=>{const r=function oue(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s=e9(e,r,i),a={name:s.fullPath},c=Qa(o,t.host,t._protocol),h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},f=UT(s,n),E=new ra(c,"POST",function v(I){let b;BT(I);try{b=I.getResponseHeader("X-Goog-Upload-URL")}catch{ia(!1)}return ia(eP(b)),b},t.maxUploadRetryTime);return E.urlParams=a,E.headers=h,E.body=f,E.errorHandler=kp(e),E}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ts,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=function sue(t,e,n,r){const c=new ra(n,"POST",function o(l){const h=BT(l,["active","final"]);let f=null;try{f=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ia(!1)}f||ia(!1);const _=Number(f);return ia(!isNaN(_)),new iP(_,r.size(),"final"===h)},t.maxUploadRetryTime);return c.headers={"X-Goog-Upload-Command":"query"},c.errorHandler=kp(e),c}(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(i,Ts,n,r);this._request=o,o.getPromise().then(s=>{this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,n=new iP(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,o)=>{let s;try{s=function aue(t,e,n,r,i,o,s,a){const c=new iP(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw function Cle(){return new kn(bn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const l=c.total-c.current;let h=l;i>0&&(h=Math.min(h,i));const f=c.current;let v="";v=0===h?"finalize":l===h?"upload, finalize":"upload";const E={"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":`${c.current}`},I=r.slice(f,f+h);if(null===I)throw Uj();const H=new ra(n,"POST",function b($,pe){const Oe=BT($,["active","final"]),at=c.current+h,Yt=r.size();let lo;return lo="final"===Oe?rP(e,o)($,pe):null,new iP(at,Yt,"final"===Oe,lo)},e.maxUploadRetryTime);return H.headers=E,H.body=I.uploadData(),H.progressCallback=a||null,H.errorHandler=kp(t),H}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(c){return this._error=c,void this._transition("error")}const a=this._ref.storage._makeRequest(s,Ts,i,o,!1);this._request=a,a.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=Xj(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Ts,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=function t9(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},c=function a(){let H="";for(let $=0;$<2;$++)H+=Math.random().toString().slice(2);return H}();s["Content-Type"]="multipart/related; boundary="+c;const l=e9(e,r,i),h=UT(l,n),v=na.getBlob("--"+c+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+h+"\r\n--"+c+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",r,"\r\n--"+c+"--");if(null===v)throw Uj();const E={name:l.fullPath},I=Qa(o,t.host,t._protocol),L=t.maxUploadRetryTime,N=new ra(I,"POST",rP(t,n),L);return N.urlParams=E,N.headers=s,N.body=v.uploadData(),N.errorHandler=kp(e),N}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ts,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n="paused"===this._state;this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Vj(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=jT(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const o=new lue(n||void 0,r||void 0,i||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);-1!==n&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(jT(this._state)){case Hi.SUCCESS:Np(this._resolve.bind(null,this.snapshot))();break;case Hi.CANCELED:case Hi.ERROR:Np(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(jT(this._state)){case Hi.RUNNING:case Hi.PAUSED:e.next&&Np(e.next.bind(e,this.snapshot))();break;case Hi.SUCCESS:e.complete&&Np(e.complete.bind(e))();break;default:e.error&&Np(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Ju{constructor(e,n){this._service=e,this._location=n instanceof Ci?n:Ci.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ju(e,n)}get root(){const e=new Ci(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Kj(this._location.path)}get storage(){return this._service}get parent(){const e=function Hle(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new Ci(this._location.bucket,e);return new Ju(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw jj(e)}}function s9(t,e,n){return $T.apply(this,arguments)}function $T(){return($T=(0,x.Z)(function*(t,e,n){const i=yield a9(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield s9(t,e,i.nextPageToken))})).apply(this,arguments)}function a9(t,e){null!=e&&"number"==typeof e.maxResults&&NT("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=eue(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,Ts)}function Eue(t){t._throwIfRoot("getDownloadURL");const e=function tue(t,e,n){const i=Qa(e.fullServerUrl(),t.host,t._protocol),s=t.maxOperationRetryTime,a=new ra(i,"GET",function Jle(t,e){return function n(r,i){const o=Zj(t,i,e);return ia(null!==o),function Zle(t,e,n,r){const i=VT(e);if(null===i||!eP(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map(l=>{const f=t.fullPath;return Qa("/b/"+s(t.bucket)+"/o/"+s(f),n,r)+Hj({alt:"media",token:l})})[0]}(o,i,t.host,t._protocol)}}(t,n),s);return a.errorHandler=Rm(e),a}(t.storage,t._location,Sm());return t.storage.makeRequestWithTokens(e,Ts).then(n=>{if(null===n)throw function wle(){return new kn(bn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return n})}function c9(t,e){const n=function zle(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new Ci(t._location.bucket,n);return new Ju(t.storage,r)}function l9(t,e){if(t instanceof HT){const n=t;if(null==n._bucket)throw function vle(){return new kn(bn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Fj+"' property when initializing the app?")}();const r=new Ju(n,n._bucket);return null!=e?l9(r,e):r}return void 0!==e?c9(t,e):t}function bue(t,e){if(e&&function Oue(t){return/^[A-Za-z]+:\/\//.test(t)}(e)){if(t instanceof HT)return function Iue(t,e){return new Ju(t,e)}(t,e);throw Rp("To use ref(service, url), the first argument must be a Storage instance.")}return l9(t,e)}function u9(t,e){const n=e?.[Fj];return null==n?null:Ci.makeFromBucketSpec(n,t)}class HT{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=Nj,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Ci.makeFromBucketSpec(i,this._host):u9(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Ci.makeFromBucketSpec(this._url,e):u9(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){NT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){NT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,x.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,x.Z)(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ju(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new Ele(Bj());{const s=function kle(t,e,n,r,i,o,s=!0){const a=Hj(t.urlParams),c=t.url+a,l=Object.assign({},t.headers);return function Rle(t,e){e&&(t["X-Firebase-GMPID"]=e)}(l,e),function Dle(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(l,n),function Sle(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(l,o),function xle(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(l,r),new Ale(c,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){var r=this;return(0,x.Z)(function*(){const[i,o]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,o).getPromise()})()}}const d9="@firebase/storage";function f9(t,e){return bue(t=(0,M.m9)(t),e)}function Lue(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new HT(n,r,i,e,$e.SDK_VERSION)}!function Vue(){(0,$e._registerComponent)(new Eo.wA("storage",Lue,"PUBLIC").setMultipleInstances(!0)),(0,$e.registerVersion)(d9,"0.11.2",""),(0,$e.registerVersion)(d9,"0.11.2","esm2017")}();class oP{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class _9{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new oP(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new oP(r,this,this._ref))},n)}on(e,n,r,i){let o;return n&&(o="function"==typeof n?s=>n(new oP(s,this,this._ref)):{next:n.next?s=>n.next(new oP(s,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,o,r||void 0,i||void 0)}}class m9{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new Xa(e,this._service))}get items(){return this._delegate.items.map(e=>new Xa(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Xa{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=function Fue(t,e){return c9(t,e)}(this._delegate,e);return new Xa(n,this.storage)}get root(){return new Xa(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Xa(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new _9(function Aue(t,e,n){return function yue(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new i9(t,new na(e),n)}(t=(0,M.m9)(t),e,n)}(this._delegate,e,n),this)}putString(e,n=Oo.RAW,r){this._throwIfRoot("putString");const i=LT(n,e),o=Object.assign({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new _9(new i9(this._delegate,new na(i.data,!0),o),this)}listAll(){return function xue(t){return function Cue(t){const e={prefixes:[],items:[]};return s9(t,e).then(()=>e)}(t=(0,M.m9)(t))}(this._delegate).then(e=>new m9(e,this.storage))}list(e){return function Rue(t,e){return a9(t=(0,M.m9)(t),e)}(this._delegate,e||void 0).then(n=>new m9(n,this.storage))}getMetadata(){return function Due(t){return function wue(t){t._throwIfRoot("getMetadata");const e=Xj(t.storage,t._location,Sm());return t.storage.makeRequestWithTokens(e,Ts)}(t=(0,M.m9)(t))}(this._delegate)}updateMetadata(e){return function Sue(t,e){return function Pue(t,e){t._throwIfRoot("updateMetadata");const n=function nue(t,e,n,r){const o=Qa(e.fullServerUrl(),t.host,t._protocol),a=UT(n,r),l=t.maxOperationRetryTime,h=new ra(o,"PATCH",rP(t,r),l);return h.headers={"Content-Type":"application/json; charset=utf-8"},h.body=a,h.errorHandler=Rm(e),h}(t.storage,t._location,e,Sm());return t.storage.makeRequestWithTokens(n,Ts)}(t=(0,M.m9)(t),e)}(this._delegate,e)}getDownloadURL(){return function kue(t){return Eue(t=(0,M.m9)(t))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Nue(t){return function Mue(t){t._throwIfRoot("deleteObject");const e=function rue(t,e){const r=Qa(e.fullServerUrl(),t.host,t._protocol),a=new ra(r,"DELETE",function s(c,l){},t.maxOperationRetryTime);return a.successCodes=[200,204],a.errorHandler=Rm(e),a}(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Ts)}(t=(0,M.m9)(t))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw jj(e)}}class y9{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(v9(e))throw Rp("ref() expected a child path but got a URL, use refFromURL instead.");return new Xa(f9(this._delegate,e),this)}refFromURL(e){if(!v9(e))throw Rp("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ci.makeFromUrl(e,this._delegate.host)}catch{throw Rp("refFromUrl() expected a valid full URL but got an invalid one.")}return new Xa(f9(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){!function g9(t,e,n,r={}){!function Tue(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:(0,M.Sg)(i,t.app.options.projectId))}(t,e,n,r)}(this._delegate,e,n,r)}}function v9(t){return/^[A-Za-z]+:\/\//.test(t)}function $ue(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new y9(n,r)}function C9(t){const e=function zue(t){return new st(e=>{const n=s=>e.next(s);n(t.snapshot);const o=t.on("state_changed",n);return t.then(s=>{n(s),e.complete()},s=>{n(t.snapshot),(s=>{e.error(s)})(s)}),function(){o()}}).pipe(function Xce(t,e=X0){return Q((n,r)=>{let i=null,o=null,s=null;const a=()=>{if(i){i.unsubscribe(),i=null;const l=o;o=null,r.next(l)}};function c(){const l=s+t,h=e.now();if(h<l)return i=this.schedule(void 0,l-h),void r.add(i);a()}n.subscribe(Ce(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(_e(n=>n.bytesTransferred/n.totalBytes*100))}}function sP(t){return{getDownloadURL:()=>K(void 0).pipe(Rj,Je(()=>t.getDownloadURL()),tr),getMetadata:()=>K(void 0).pipe(Rj,Je(()=>t.getMetadata()),tr),delete:()=>R(t.delete()),child:e=>sP(t.child(e)),updateMetadata:e=>R(t.updateMetadata(e)),put:(e,n)=>C9(t.put(e,n)),putString:(e,n,r)=>C9(t.putString(e,n,r)),list:e=>R(t.list(e)),listAll:()=>R(t.listAll())}}!function Hue(t){const e={TaskState:Hi,TaskEvent:cue,StringFormat:Oo,Storage:y9,Reference:Xa};t.INTERNAL.registerComponent(new Eo.wA("storage-compat",$ue,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage-compat","0.3.2")}(ns.Z);const Wue=new fe("angularfire2.storageBucket"),Gue=new fe("angularfire2.storage.maxUploadRetryTime"),que=new fe("angularfire2.storage.maxOperationRetryTime"),Kue=new fe("angularfire2.storage.use-emulator");let aP=(()=>{var t;class e{constructor(r,i,o,s,a,c,l,h,f,_){Le(this,"storage",void 0);const v=Tm(r,a,i);this.storage=J0(`${v.name}.storage.${o}`,"AngularFireStorage",v.name,()=>{const E=a.runOutsideAngular(()=>v.storage(o||void 0)),I=f;return I&&E.useEmulator(...I),l&&E.setMaxUploadRetryTime(l),h&&E.setMaxOperationRetryTime(h),E},[l,h])}ref(r){return sP(this.storage.ref(r))}refFromURL(r){return sP(this.storage.refFromURL(r))}upload(r,i,o){return sP(this.storage.ref(r)).put(i,o)}}return t=e,Le(e,"\u0275fac",function(r){return new(r||t)(ie(Dp),ie(Sp,8),ie(Wue,8),ie(mo),ie(Dt),ie(Tp),ie(Gue,8),ie(que,8),ie(Kue,8),ie(bm,8))}),Le(e,"\u0275prov",Te({token:t,factory:t.\u0275fac,providedIn:"any"})),e})(),Zue=(()=>{var t;class e{}return t=e,Le(e,"\u0275fac",function(r){return new(r||t)}),Le(e,"\u0275mod",Un({type:t})),Le(e,"\u0275inj",Yn({})),e})(),Yue=(()=>{var t;class e{constructor(){ns.Z.registerVersion("angularfire",yl.full,"gcs-compat")}}return t=e,Le(e,"\u0275fac",function(r){return new(r||t)}),Le(e,"\u0275mod",Un({type:t})),Le(e,"\u0275inj",Yn({providers:[aP],imports:[Zue]})),e})();function Que(t,e){1&t&&(m(0,"span",58),w(1,"Vui l\xf2ng nh\u1eadp email h\u1ee3p l\u1ec7."),y())}function Xue(t,e){1&t&&(m(0,"span",58),w(1,"Vui l\xf2ng nh\u1eadp h\u1ecd t\xean."),y())}function Jue(t,e){1&t&&(m(0,"span",58),w(1,"M\u1eadt kh\u1ea9u ph\u1ea3i c\xf3 \xedt nh\u1ea5t 6 k\xfd t\u1ef1."),y())}function ede(t,e){1&t&&(m(0,"span",58),w(1,"M\u1eadt kh\u1ea9u ph\u1ea3i c\xf3 \xedt nh\u1ea5t 6 k\xfd t\u1ef1 v\xe0 tr\xf9ng m\u1edbi m\u1eadt kh\u1ea9u \u1edf tr\xean."),y())}function tde(t,e){1&t&&(m(0,"span",58),w(1,"Vui lo\u0300ng nh\xe2\u0323p s\xf4\u0301 n\u0103m kinh nghi\xea\u0323m"),y())}function nde(t,e){1&t&&(m(0,"span",58),w(1,"Vui lo\u0300ng nh\xe2\u0323p gia\u0301 chu\u0323p a\u0309nh"),y())}function rde(t,e){1&t&&(m(0,"span",58),w(1,"Vui lo\u0300ng nh\xe2\u0323p \u0111i\u0323a chi\u0309"),y())}function ide(t,e){1&t&&(m(0,"span",58),w(1,"Vui lo\u0300ng cho\u0323n a\u0309nh \u0111a\u0323i di\xea\u0323n"),y())}function ode(t,e){if(1&t&&(m(0,"div"),A(1,"img",61),y()),2&t){const n=e.$implicit;S(1),Z("src",n,Or)}}function sde(t,e){if(1&t&&(m(0,"div",59),be(1,ode,2,1,"div",60),y()),2&t){const n=Vt();S(1),Z("ngForOf",n.avatarPreview)}}function ade(t,e){1&t&&(m(0,"span",58),w(1,"Vui lo\u0300ng cho\u0323n 3 a\u0309nh bi\u0300a"),y())}function cde(t,e){if(1&t){const n=gi();m(0,"div"),A(1,"img",61),m(2,"a",63),G("click",function(){const o=Xn(n).index;return Rn(Vt(2).deletePicture(o))}),A(3,"i",64),y()()}if(2&t){const n=e.$implicit;S(1),Z("src",n,Or)}}function lde(t,e){if(1&t&&(m(0,"div",62),be(1,cde,4,1,"div",60),y()),2&t){const n=Vt();S(1),Z("ngForOf",n.picturePreview)}}let ude=(()=>{var t;class e{constructor(r,i,o,s){this.userService=r,this.userInfoService=i,this.router=o,this.fileStorage=s,this.isShowPassword=!1,this.isShowConfirmPassword=!1,this.invalidEmail=!1,this.invalidPassword=!1,this.invalidConfirmPassword=!1,this.invalidFullName=!1,this.invalidExp=!1,this.invalidAvatar=!1,this.invalidPicture=!1,this.invalidCost=!1,this.invalidAddress=!1,this.email="",this.password="",this.confirmPassword="",this.fullName="",this.exp="",this.cost="",this.address="",this.registerMessage="",this.filesAddAvatar=[],this.avatarPreview=[],this.filesAddPicture=[],this.picturePreview=[]}onChangeEmail(r){this.email=r.target.value,this.validateEmail()}onChangePassword(r){this.password=r.target.value,this.validatePassword(),this.confirmPassword.length>0&&this.validateConfirmPassword()}onChangeConfirmPassword(r){this.confirmPassword=r.target.value,this.validateConfirmPassword()}onChangeFullName(r){this.fullName=r.target.value,this.validateFullName()}onChangeExp(r){this.exp=r.target.value,this.validateExp()}onChangeCost(r){this.cost=r.target.value,this.validateExp()}onChangeAddress(r){this.address=r.target.value,this.validateExp()}togglePassword(){this.isShowPassword=!this.isShowPassword}toggleConfirmPassword(){this.isShowConfirmPassword=!this.isShowConfirmPassword}validateEmail(){const i=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(this.email);return this.invalidEmail=!i,i}validateFullName(){return this.invalidFullName=this.fullName.length<1,!this.invalidFullName}validatePassword(){return this.invalidPassword=this.password.length<6,!this.invalidPassword}validateConfirmPassword(){return this.invalidConfirmPassword=this.confirmPassword.length<6||this.confirmPassword!==this.password,!this.invalidConfirmPassword}validateCost(){return this.invalidCost=this.cost.length<1,!this.invalidCost}validateAddress(){return this.invalidAddress=this.address.length<1,!this.invalidAddress}validateExp(){const i=/^\d+$/.test(this.exp);return this.invalidExp=!i,i}previewAvatar(r){const o=r.target.files;if(o&&o.length>0){this.filesAddAvatar=Array.from(o).slice(0,1),this.avatarPreview=[];for(let s=0;s<this.filesAddAvatar.length;s++){const a=this.filesAddAvatar[s],c=new FileReader;c.onload=l=>{this.avatarPreview.push(l.target?.result)},c.readAsDataURL(a)}}else this.avatarPreview=[];this.validateAvatar()}previewPicture(r){const o=r.target.files;if(o&&o.length>0){const s=3-this.filesAddPicture.length;if(s>0){const a=Array.from(o).slice(0,s);this.filesAddPicture.push(...a)}this.picturePreview=[];for(let a=0;a<this.filesAddPicture.length;a++){const c=this.filesAddPicture[a],l=new FileReader;l.onload=h=>{this.picturePreview.push(h.target?.result)},l.readAsDataURL(c)}}else this.picturePreview=[];this.validatePicture()}deletePicture(r){r>=0&&r<this.picturePreview.length&&(this.picturePreview.splice(r,1),this.filesAddPicture.splice(r,1))}onSubmit(){var r=this;return(0,x.Z)(function*(){if(r.validateEmail()&&r.validatePassword()&&r.validateConfirmPassword()&&r.validateFullName()&&r.validateExp()&&r.validateAvatar()&&r.validatePicture()&&r.validateCost()&&r.validateAddress())if(yield r.userService.isUsernameUnique(r.email)){var o=yield r.uploadAvatar();const h={id:0,username:r.email,password:r.password,full_name:r.fullName,role_id:2,email:"",phone_number:"",address:r.address,avatar:o[0],exp:parseFloat(r.exp)};var s=yield r.userService.createUser(h);if(null!=s){var a=yield r.uploadPicture(),c=parseFloat(r.cost);const f={id:0,user_id:s.id,img1:a[0]||"",img2:a[1]||"",img3:a[2]||"",cost:c,description:"T\xf4i \u0111\xe3 ch\u1ee5p \u1ea3nh c\u1ea3 \u0111\u1eddi nh\u01b0ng quy\u1ebft \u0111\u1ecbnh ch\u1ee5p \u1ea3nh chuy\xean nghi\u1ec7p v\xe0o n\u0103m 2010 v\xe0 t\xf4i c\xe0ng y\xeau th\xedch n\xf3 h\u01a1n m\u1ed7i ng\xe0y. T\xf4i r\u1ea5t l\xe0 ng\u01b0\u1eddi c\u1ee7a m\u1ecdi ng\u01b0\u1eddi nh\u01b0ng tr\u1edb tr\xeau thay chuy\xean m\xf4n c\u1ee7a t\xf4i l\u1ea1i l\xe0 ch\u1ee5p \u1ea3nh s\u1ea3n ph\u1ea9m, \u0111\u1ed3 \u0103n v\xe0 \u0111\u1ed3 u\u1ed1ng. Ch\u1ec9 v\xec t\xf4i chuy\xean ch\u1ee5p \u0111\u1ed3 kh\xf4ng c\xf3 ngh\u0129a l\xe0 t\xf4i thi\u1ebfu ch\u1ee5p \u1ea3nh ch\xe2n dung, th\u1ee9 duy nh\u1ea5t t\xf4i kh\xf4ng ch\u1ee5p l\xe0 \u0111\xe1m c\u01b0\u1edbi ;)",prize:"Nhi\u1ebfp \u1ea3nh gia t\xe0i n\u0103ng khu v\u1ef1c mi\u1ec1n B\u1eafc n\u0103m 2023",interest:"T\xf4i b\u1ecb \xe1m \u1ea3nh b\u1edfi m\xe1y \u1ea3nh t\u1eeb khi l\xean 3 v\xe0 m\u1eb9 t\xf4i \u0111\xe3 cho t\xf4i ch\u01a1i v\u1edbi m\xe1y \u1ea3nh Polaroid :)",language:"Ti\xea\u0301ng Vi\xea\u0323t",camera:"Sony A7iii, LUMIX G9, Panasonic GH5",portfolio:[],typeOfPhoto:[{id:1,name:"Ch\u1ee5p ch\xe2n dung",cost:"500000"},{id:2,name:"Ch\u1ee5p s\u1ea3n ph\u1ea9m",cost:"400000"},{id:3,name:"Ch\u1ee5p c\u1ea3nh",cost:"300000"},{id:4,name:"Ch\u1ee5p s\u1ef1 ki\u1ec7n",cost:"800000"},{id:5,name:"Ch\u1ee5p beauty",cost:"550000"}]};(yield r.userInfoService.createUserInfo(f))?(r.registerMessage="Th\xeam ng\u01b0\u1eddi d\xf9ng th\xe0nh c\xf4ng.",window.alert(r.registerMessage),r.router.navigate(["/auth/login"])):(r.registerMessage="Th\xeam th\xf4ng tin kh\xf4ng th\xe0nh c\xf4ng.",window.alert(r.registerMessage))}else r.registerMessage="Th\xeam ng\u01b0\u1eddi d\xf9ng kh\xf4ng th\xe0nh c\xf4ng.",window.alert(r.registerMessage)}else r.registerMessage="Ng\u01b0\u1eddi d\xf9ng \u0111\xe3 t\u1ed3n t\u1ea1i.",window.alert(r.registerMessage);else r.validateEmail(),r.validateFullName(),r.validatePassword(),r.validateConfirmPassword(),r.validateExp(),r.validateAvatar(),r.validatePicture(),r.validateCost(),r.validateAddress()})()}uploadAvatar(){var r=this;return(0,x.Z)(function*(){var i=[],o=[];for(let s=0;s<r.filesAddAvatar.length;s++){const a=r.filesAddAvatar[s],c=a.name.split(".").pop(),l=Y0()+"."+c;o.push(new File([a],l,{type:a.type}))}for(let s=0;s<o.length;s++){const a=o[s],c=`avatar/${a.name}`,h=yield(yield r.fileStorage.upload(c,a)).ref.getDownloadURL();i.push(h)}return i})()}uploadPicture(){var r=this;return(0,x.Z)(function*(){var i=[],o=[];for(let s=0;s<r.filesAddPicture.length;s++){const a=r.filesAddPicture[s],c=a.name.split(".").pop(),l=Y0()+"."+c;o.push(new File([a],l,{type:a.type}))}for(let s=0;s<o.length;s++){const a=o[s],c=`bias/${a.name}`,h=yield(yield r.fileStorage.upload(c,a)).ref.getDownloadURL();i.push(h)}return i})()}validateAvatar(){return this.invalidAvatar=this.filesAddAvatar.length<1,!this.invalidAvatar}validatePicture(){return this.invalidPicture=3!==this.filesAddPicture.length,!this.invalidPicture}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(Mp),Y(pT),Y(br),Y(aP))},t.\u0275cmp=Tt({type:t,selectors:[["app-register"]],decls:100,vars:22,consts:[[1,"register-wrapper"],[1,"register-container"],[1,"register-header"],[1,"go-home"],["routerLink","/home",1,"go-home-link"],[1,"bx","bxs-chevron-left"],[1,"register-title"],[1,"brand"],["routerLink","/home",1,"brand-link"],["src","./assets/images/logo2.png","alt","logo",1,"brand-image"],[1,"register-message"],[1,"register-content"],[3,"ngSubmit"],[1,"form-content"],[1,"form-left"],[1,"form-group"],["for","username"],["type","text","id","username","name","username","required","","placeholder","quang@gmail.com",3,"input"],["class","validate-message",4,"ngIf"],["for","fullName"],["type","text","id","fullName","name","fullName","required","","placeholder","Nguyen Quang Nam",3,"input"],["for","password"],[1,"password-wrapper"],["id","password","name","password","required","",3,"type","input"],["id","showPassword","href","javascript:void(0)",3,"click"],[1,"bx","bx-show"],["id","hidePassword","href","javascript:void(0)",3,"click"],[1,"bx","bx-hide"],["for","confirmPassword"],["name","password","required","",3,"type","input"],["id","showConfirmPassword","href","javascript:void(0)",3,"click"],["id","hideConfirmPassword","href","javascript:void(0)",3,"click"],[1,"form-right"],["for","exprire"],["min","0","type","number","required","",3,"input"],["for","cost"],["for","address"],["type","text","required","",3,"input"],[1,"form-groupk"],["for","avatar",1,"label-input-file"],["type","file","accept","image/*","id","avatar","required","","multiple","",2,"display","none",3,"change"],["class","avatar-preview",4,"ngIf"],["for","picture"],["for","picture-3",1,"label-input-file"],["multiple","","type","file","id","picture-3","accept","image/*","required","","placeholder","Cho\u0323n 3 a\u0309nh bi\u0300a",2,"display","none",3,"change"],["class","picture-review",4,"ngIf"],["type","submit"],[1,"wall-login"],[1,"line-left"],[1,"line-right"],[1,"register-footer"],[1,"register-option"],["href","javascript:void(0)",1,"register-option-icon"],[1,"bx","bxl-google"],[1,"bx","bxl-facebook"],[1,"bx","bxl-instagram-alt"],[1,"login"],["routerLink","/auth/login"],[1,"validate-message"],[1,"avatar-preview"],[4,"ngFor","ngForOf"],["alt","Preview Image",3,"src"],[1,"picture-review"],["href","javascript:void(0)",1,"btn-del-image",3,"click"],[1,"bx","bx-x"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),A(5,"i",5),w(6," Trang ch\u1ee7 "),y()(),m(7,"h3",6),w(8," \u0110\u0103ng k\xfd "),y(),m(9,"div",7)(10,"a",8),A(11,"img",9),y()()(),m(12,"div",10),w(13),y(),m(14,"div",11)(15,"form",12),G("ngSubmit",function(){return i.onSubmit()}),m(16,"div",13)(17,"div",14)(18,"div",15)(19,"label",16),w(20,"Email"),y(),m(21,"input",17),G("input",function(s){return i.onChangeEmail(s)}),y(),be(22,Que,2,0,"span",18),y(),m(23,"div",15)(24,"label",19),w(25,"H\u1ecd t\xean"),y(),m(26,"input",20),G("input",function(s){return i.onChangeFullName(s)}),y(),be(27,Xue,2,0,"span",18),y(),m(28,"div",15)(29,"label",21),w(30,"M\u1eadt kh\u1ea9u"),y(),m(31,"div",22)(32,"input",23),G("input",function(s){return i.onChangePassword(s)}),y(),m(33,"a",24),G("click",function(){return i.togglePassword()}),A(34,"i",25),y(),m(35,"a",26),G("click",function(){return i.togglePassword()}),A(36,"i",27),y()(),be(37,Jue,2,0,"span",18),y(),m(38,"div",15)(39,"label",28),w(40,"X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u"),y(),m(41,"div",22)(42,"input",29),G("input",function(s){return i.onChangeConfirmPassword(s)}),y(),m(43,"a",30),G("click",function(){return i.toggleConfirmPassword()}),A(44,"i",25),y(),m(45,"a",31),G("click",function(){return i.toggleConfirmPassword()}),A(46,"i",27),y()(),be(47,ede,2,0,"span",18),y()(),m(48,"div",32)(49,"div",15)(50,"label",33),w(51,"S\xf4\u0301 n\u0103m kinh nghi\xea\u0323m"),y(),m(52,"input",34),G("input",function(s){return i.onChangeExp(s)}),y(),be(53,tde,2,0,"span",18),y(),m(54,"div",15)(55,"label",35),w(56,"Gia\u0301 chu\u0323p c\u01a1 ba\u0309n(x/1 ti\xea\u0301ng)"),y(),m(57,"input",34),G("input",function(s){return i.onChangeCost(s)}),y(),be(58,nde,2,0,"span",18),y(),m(59,"div",15)(60,"label",36),w(61,"\u0110i\u0323a chi\u0309 cu\u0309a ba\u0323n"),y(),m(62,"input",37),G("input",function(s){return i.onChangeAddress(s)}),y(),be(63,rde,2,0,"span",18),y()()(),m(64,"div",38)(65,"label"),w(66,"A\u0309nh \u0111a\u0323i di\xea\u0323n"),y(),m(67,"label",39),w(68,"Cho\u0323n"),y(),m(69,"input",40),G("change",function(s){return i.previewAvatar(s)}),y(),be(70,ide,2,0,"span",18),be(71,sde,2,1,"div",41),y(),m(72,"div",38)(73,"label",42),w(74,"A\u0309nh bi\u0300a cu\u0309a ba\u0323n(3/3 a\u0309nh)"),y(),m(75,"label",43),w(76,"Cho\u0323n"),y(),m(77,"input",44),G("change",function(s){return i.previewPicture(s)}),y(),be(78,ade,2,0,"span",18),be(79,lde,2,1,"div",45),y(),m(80,"button",46),w(81,"\u0110\u0103ng k\xfd"),y()()(),m(82,"div",47),A(83,"div",48),m(84,"span"),w(85,"Ho\u1eb7c \u0111\u0103ng nh\u1eadp b\u1eb1ng"),y(),A(86,"div",49),y(),m(87,"div",50)(88,"div",51)(89,"a",52),A(90,"i",53),y(),m(91,"a",52),A(92,"i",54),y(),m(93,"a",52),A(94,"i",55),y()(),m(95,"div",56)(96,"div"),w(97," B\u1ea1n \u0111\xe3 c\xf3 t\xe0i kho\u1ea3n? "),m(98,"a",57),w(99," \u0110\u0103ng nh\u1eadp"),y()()()()()()),2&r&&(S(13),Ge(i.registerMessage),S(9),Z("ngIf",i.invalidEmail),S(5),Z("ngIf",i.invalidFullName),S(5),Z("type",i.isShowPassword?"text":"password"),S(1),Ko("show",i.isShowPassword),S(2),Ko("show",!i.isShowPassword),S(2),Z("ngIf",i.invalidPassword),S(5),Z("type",i.isShowConfirmPassword?"text":"password"),S(1),Ko("show",i.isShowConfirmPassword),S(2),Ko("show",!i.isShowConfirmPassword),S(2),Z("ngIf",i.invalidConfirmPassword),S(6),Z("ngIf",i.invalidExp),S(5),Z("ngIf",i.invalidCost),S(5),Z("ngIf",i.invalidAddress),S(7),Z("ngIf",i.invalidAvatar),S(1),Z("ngIf",i.avatarPreview.length>0),S(7),Z("ngIf",i.invalidPicture),S(1),Z("ngIf",i.picturePreview.length>0))},dependencies:[wo,Po,kr,Em,ym,Yu],styles:['.register-wrapper[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;min-height:100vh;background-image:url(/assets/images/banner.jpg);background-size:cover;background-repeat:no-repeat;background-position:center;padding:2rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]{padding:2rem;border-radius:.5rem;width:700px;margin:auto;min-height:calc(100vh - 4rem);height:100%;background-color:#ffffffa8;box-shadow:0 0 10px #0000004d}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem;position:relative}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{position:absolute;top:0rem;left:0rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]   .go-home-link[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;text-decoration:none;color:var(--color-primary);font-weight:700;position:relative}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]   .register-title[_ngcontent-%COMP%]{text-align:center;color:var(--color-primary);font-size:32px;font-weight:700}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{display:flex;justify-content:center}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]   .brand-image[_ngcontent-%COMP%]{width:5rem;height:5rem;object-fit:cover}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-message[_ngcontent-%COMP%]{color:red;margin-bottom:1.5rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:1rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-left[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-right[_ngcontent-%COMP%]{grid-column:span 1}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:15px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:gray;font-weight:600;font-size:18px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 10px;border:2px solid gray;border-radius:5px;background-color:transparent;outline:none}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--color-primary)}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]{position:relative}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #hidePassword[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #showPassword[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #hideConfirmPassword[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #showConfirmPassword[_ngcontent-%COMP%]{position:absolute;right:10px;top:calc(50% + 3px);transform:translateY(-50%);text-decoration:none;font-size:20px;color:var(--color-primary);display:none}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #hidePassword.show[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #showPassword.show[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #hideConfirmPassword.show[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   #showConfirmPassword.show[_ngcontent-%COMP%]{display:block}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{width:100%;font-size:14px;color:#ff1818}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{position:absolute;top:100%;color:var(--color-primary);width:100%;right:0;text-align:right}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]{position:relative;margin-bottom:15px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{width:100%;font-size:14px;color:#ff1818}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:gray;font-weight:600;font-size:18px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]   .label-input-file[_ngcontent-%COMP%]{background-color:var(--color-secondary);padding:5px;width:70px;border:1px solid black;border-radius:5px;display:flex;justify-content:center;align-items:center;cursor:pointer;font-size:14px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]   .picture-review[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;gap:1rem;padding-top:1rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]   .picture-review[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:200px;object-fit:cover}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]   .picture-review[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:relative}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]   .picture-review[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .btn-del-image[_ngcontent-%COMP%]{position:absolute;top:-.4rem;right:-.3rem;font-size:22px;width:22px;height:22px;display:flex;justify-content:center;align-items:center;border-radius:50%;background-color:var(--color-secondary);text-decoration:none;color:#000;padding-top:1px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]   .avatar-preview[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-groupk[_ngcontent-%COMP%]   .avatar-preview[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:200px;object-fit:cover;border-radius:50%}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:3rem;display:block;width:100%;padding:15px 10px;background-color:var(--color-primary);color:#fff;border:none;border-radius:5px;font-size:20px;cursor:pointer}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]{margin:2rem 0;display:flex;align-items:center}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]   .line-left[_ngcontent-%COMP%], .register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]   .line-right[_ngcontent-%COMP%]{flex-grow:1;height:2px;background-color:var(--color-primary)}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 10px;white-space:nowrap}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-footer[_ngcontent-%COMP%]   .register-option[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;justify-content:center;column-gap:1.5rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-footer[_ngcontent-%COMP%]   .register-option[_ngcontent-%COMP%]   .register-option-icon[_ngcontent-%COMP%]{font-size:42px;color:var(--color-primary);text-decoration:none}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-footer[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;text-decoration:none;color:var(--color-primary)}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-footer[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:-1px;left:0}@media (max-width: 767.98px){.register-wrapper[_ngcontent-%COMP%]{width:100%;left:50%;transform:translate(-50%);padding:1rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]{width:100%;min-height:calc(100vh - 2rem)}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{top:-.5rem;left:-1rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{font-size:12px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2rem;padding:10px;font-size:17px}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .wall-login[_ngcontent-%COMP%]{margin:1rem 0}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-footer[_ngcontent-%COMP%]   .register-option[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;justify-content:center;column-gap:1.5rem}.register-wrapper[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]   .register-footer[_ngcontent-%COMP%]   .register-option[_ngcontent-%COMP%]   .register-option-icon[_ngcontent-%COMP%]{font-size:26px;color:var(--color-primary);text-decoration:none}.form-content[_ngcontent-%COMP%]   .form-left[_ngcontent-%COMP%], .form-content[_ngcontent-%COMP%]   .form-right[_ngcontent-%COMP%]{grid-column:span 2!important}}']}),e})();function dde(t,e){if(1&t&&(m(0,"tr")(1,"td"),w(2),y(),m(3,"td"),w(4),y(),m(5,"td"),w(6),y()()),2&t){const n=e.$implicit;S(2),Ge(n.id),S(2),Ge(n.username),S(2),Ge(n.email)}}let w9=(()=>{var t;class e{constructor(r){this.userService=r,this.users=[]}ngOnInit(){var r=this;return(0,x.Z)(function*(){r.users=yield r.userService.getUsers()})()}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(Mp))},t.\u0275cmp=Tt({type:t,selectors:[["app-user-list"]],decls:13,vars:1,consts:[[4,"ngFor","ngForOf"]],template:function(r,i){1&r&&(m(0,"h1"),w(1,"User List"),y(),m(2,"table")(3,"thead")(4,"tr")(5,"th"),w(6,"ID"),y(),m(7,"th"),w(8,"Username"),y(),m(9,"th"),w(10,"Email"),y()()(),m(11,"tbody"),be(12,dde,7,3,"tr",0),y()()),2&r&&(S(12),Z("ngForOf",i.users))},dependencies:[wo]}),e})(),P9=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tt({type:t,selectors:[["app-home-admin"]],decls:2,vars:0,template:function(r,i){1&r&&(m(0,"p"),w(1,"home-admin works!"),y())}}),e})(),ed=(()=>{var t;class e{getOrders(){return new Promise((r,i)=>{Ya(ur(Lr((0,$e.initializeApp)(dr_firebaseConfig)),"orders/"),c=>{const l=c.val(),h=[];for(const f in l)if(l.hasOwnProperty(f)){const _=l[f];h.push({id:_.id,order_date:_.order_date,time:_.time,appoi_time:_.appoi_time,shooting_type:_.shooting_type,partner_id:_.partner_id,cust_name:_.cust_name,cust_email:_.cust_email,cust_phone:_.cust_phone,address:_.address,price:_.price,status:_.status,code:_.code,link_down:_.link_down,des_refund:_.des_refund})}r(h)})})}getOrderByPartnerId(r){return new Promise((i,o)=>{Ya(ur(Lr((0,$e.initializeApp)(dr_firebaseConfig)),"orders/"),l=>{const h=l.val(),f=[];for(const _ in h)if(h.hasOwnProperty(_)){const v=h[_];v.partner_id===r&&f.push({id:v.id,order_date:v.order_date,time:v.time,appoi_time:v.appoi_time,shooting_type:v.shooting_type,partner_id:v.partner_id,cust_name:v.cust_name,cust_email:v.cust_email,cust_phone:v.cust_phone,address:v.address,price:v.price,status:v.status,code:v.code,link_down:v.link_down,des_refund:v.des_refund})}i(f)})})}getOrderByStatus(r){return new Promise((i,o)=>{Ya(ur(Lr((0,$e.initializeApp)(dr_firebaseConfig)),"orders/"),l=>{const h=l.val(),f=[];for(const _ in h)if(h.hasOwnProperty(_)){const v=h[_];v.status===r&&f.push({id:v.id,order_date:v.order_date,time:v.time,appoi_time:v.appoi_time,shooting_type:v.shooting_type,partner_id:v.partner_id,cust_name:v.cust_name,cust_email:v.cust_email,cust_phone:v.cust_phone,address:v.address,price:v.price,status:v.status,code:v.code,link_down:v.link_down,des_refund:v.des_refund})}i(f)})})}getOrderById(r){var i=this;return(0,x.Z)(function*(){try{return(yield i.getOrders()).find(a=>a.id===r)||null}catch(o){return console.error("Error fetching Order by ID:",o),null}})()}getOrderByCode(r){var i=this;return(0,x.Z)(function*(){try{return(yield i.getOrders()).find(a=>a.code===r)||null}catch(o){return console.error("Error fetching Order by code:",o),null}})()}createOrder(r){var i=this;return(0,x.Z)(function*(){try{const s=Lr((0,$e.initializeApp)(dr_firebaseConfig)),a=yield i.generateNewId(),c=ur(s,"orders/"+a),l={id:a,order_date:r.order_date,time:r.time,appoi_time:r.appoi_time,shooting_type:r.shooting_type,partner_id:r.partner_id,cust_name:r.cust_name,cust_email:r.cust_email,cust_phone:r.cust_phone,address:r.address,price:r.price,status:r.status,code:r.code,link_down:r.link_down,des_refund:r.des_refund};return yield Os(c,l),l}catch(o){return console.error("Error creating Order:",o),null}})()}updateOrder(r){var i=this;return(0,x.Z)(function*(){try{if(null===(yield i.getOrderById(r.id)))return console.error("Order information not found for ID:",r.id),null;const a=Lr((0,$e.initializeApp)(dr_firebaseConfig)),c={id:r.id,order_date:r.order_date,time:r.time,appoi_time:r.appoi_time,shooting_type:r.shooting_type,partner_id:r.partner_id,cust_name:r.cust_name,cust_email:r.cust_email,cust_phone:r.cust_phone,address:r.address,price:r.price,status:r.status,code:r.code,link_down:r.link_down,des_refund:r.des_refund},l=ur(a,`orders/${r.id}`);return yield Os(l,c),r}catch(o){return console.error("Error updating Order:",o),null}})()}generateNewId(){var r=this;return(0,x.Z)(function*(){const i=yield r.getOrders();return(0===i.length?0:Math.max(...i.map(s=>s.id)))+1})()}isOrderCodeUnique(r){return(0,x.Z)(function*(){const s=ur(Lr((0,$e.initializeApp)(dr_firebaseConfig)),"orders"),c=(yield gm(s)).val();if(c)for(const l in c)if(c.hasOwnProperty(l)&&c[l].code===r)return!1;return!0})()}generateUniqueOrderCode(){var r=this;return(0,x.Z)(function*(){const i=r.generateRandomOrderCode(6);return(yield r.isOrderCodeUnique(i))?K(i):r.generateUniqueOrderCode()})()}generateRandomOrderCode(r){let o="";for(let s=0;s<r;s++)o+="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(36*Math.random()));return o}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),E9=(()=>{var t;class e{constructor(r,i){this.orderService=r,this.userService=i}getOrderDTOs(){return Xc([this.orderService.getOrders(),this.userService.getUsers()]).pipe(_e(([r,i])=>{const o=[];for(const s of r){const a=i.find(c=>c.id===s.partner_id);a&&o.push({order:s,user:a})}return o}),Xo(r=>[]))}getOrderDTOsByStatus(r){return Xc([this.orderService.getOrders(),this.userService.getUsers()]).pipe(_e(([i,o])=>{const s=[];for(const a of i){const c=o.find(l=>l.id===a.partner_id&&a.status===r);c&&s.push({order:a,user:c})}return s}),Xo(i=>[]))}getOrderDTOsById(r){return this.getOrderDTOs().pipe(_e(i=>i.find(o=>o.order.id===r)||null))}updateOrder(r){var i=this;return(0,x.Z)(function*(){var o=yield i.orderService.getOrderById(r.order.id);return o?(r.order.status="da_duyet",(o=yield i.orderService.updateOrder(r.order))?(r.order=o,K(r)):K(null)):K(null)})()}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(ed),ie(Mp))},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function hde(t,e){if(1&t&&(m(0,"tr",14)(1,"td",15),w(2),y(),m(3,"td",15),w(4),y(),m(5,"td",15),w(6),y(),m(7,"td",15),w(8),y(),m(9,"td",15),w(10),y(),m(11,"td",15),w(12),y(),m(13,"td",15),w(14),y(),m(15,"td",15),w(16),y(),m(17,"td",15),w(18),y(),m(19,"td",15),w(20),y(),m(21,"td",15),w(22),y(),m(23,"td",15),w(24),y()()),2&t){const n=e.$implicit,r=e.index;S(2),Ge(r+1),S(2),Ge(n.order.cust_name),S(2),Ge(n.order.cust_phone),S(2),Ge(n.order.cust_email),S(2),Ge(n.order.order_date),S(2),Ge(n.order.appoi_time),S(2),Ge(n.order.time),S(2),Ge(n.order.shooting_type),S(2),Ge(n.user.full_name),S(2),Ge(n.order.price),S(2),Ge(n.order.code),S(2),Ot("","cho_duyet"===n.order.status?"Ch\u1edd duy\u1ec7t":"da_duyet"===n.order.status?"\u0110\xe3 duy\u1ec7t":"huy"===n.order.status?"H\u1ee7y":""," ")}}let pde=(()=>{var t;class e{constructor(r){this.orderDTOService=r,this.orderData=[]}ngOnInit(){this.loadOrderData()}loadOrderData(){this.orderDTOService.getOrderDTOs().subscribe(r=>{this.orderData=r,console.log("orderData:",this.orderData)},r=>{console.error("Error fetching order: ",r)})}onAccept(r){var i=this;console.log(r),this.orderDTOService.getOrderDTOsById(r).subscribe(function(){var o=(0,x.Z)(function*(s){null!==s?(console.log("D\u1eef li\u1ec7u \u0111\xe3 t\xecm th\u1ea5y:",s),(yield i.orderDTOService.updateOrder(s)).subscribe(a=>{null!==a?i.loadOrderData():console.log("C\u1eadp nh\u1eadt th\u1ea5t b\u1ea1i.")},a=>{console.error("L\u1ed7i khi c\u1eadp nh\u1eadt:",a)})):console.log("D\u1eef li\u1ec7u kh\xf4ng t\u1ed3n t\u1ea1i.")});return function(s){return o.apply(this,arguments)}}(),o=>{console.error("L\u1ed7i x\u1ea3y ra:",o)})}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(E9))},t.\u0275cmp=Tt({type:t,selectors:[["app-order-list-admin"]],decls:41,vars:1,consts:[[1,"layout-list-booking"],[1,"list-booking-wrapper"],[1,"list-booking-container"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/admin/home"],["aria-current","page",1,"breadcrumb-item","active"],[1,"list-booking-content"],[1,"table-wrapper"],[1,"table"],[1,"col-header"],[1,"row-header"],["class","col-content",4,"ngFor","ngForOf"],[1,"col-content"],[1,"row-content"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"nav",3)(4,"ol",4)(5,"li",5)(6,"a",6),w(7,"Trang chu"),y()(),m(8,"li",7),w(9,"Danh sach booking"),y()()(),m(10,"div",8)(11,"div",9)(12,"table",10)(13,"thead")(14,"tr",11)(15,"th",12),w(16,"#"),y(),m(17,"th",12),w(18,"T\xean kh\xe1ch"),y(),m(19,"th",12),w(20,"SDT kh\xe1ch"),y(),m(21,"th",12),w(22,"Email kh\xe1ch"),y(),m(23,"th",12),w(24,"Ng\xe0y"),y(),m(25,"th",12),w(26,"Th\u1eddi gian"),y(),m(27,"th",12),w(28,"Th\u1eddi l\u01b0\u1ee3ng"),y(),m(29,"th",12),w(30,"Lo\u1ea1i ch\u1ee5p"),y(),m(31,"th",12),w(32,"Ng\u01b0\u1eddi ch\u1ee5p"),y(),m(33,"th",12),w(34,"T\xf4\u0309ng ti\xea\u0300n"),y(),m(35,"th",12),w(36,"Ma\u0303"),y(),m(37,"th",12),w(38,"Tr\u1ea1ng th\xe1i"),y()()(),m(39,"tbody"),be(40,hde,25,12,"tr",13),y()()()()()()()),2&r&&(S(40),Z("ngForOf",i.orderData))},dependencies:[wo,kr],styles:['@charset "UTF-8";.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{padding:0}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]{display:inline}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item.active[_ngcontent-%COMP%]{color:#333}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{padding:8px;color:#000;content:"/\\a0"}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{width:100%;max-width:100%;overflow-x:auto;position:relative}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;height:12px}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cccccc;border-radius:6px}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#bbbbbb}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border:1px solid #ddd}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:transparent}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-color:inherit;border-style:solid;border-width:0}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr.col-header[_ngcontent-%COMP%]{background-color:#f2f2f2;font-weight:700}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr.col-header[_ngcontent-%COMP%]   th.row-header[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td.row-content[_ngcontent-%COMP%]{padding:.625rem 1.25rem;text-align:left;white-space:nowrap}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td.row-content[_ngcontent-%COMP%]:last-child{text-align:center}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.btn-accept[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:6px 12px;border:none;border-radius:4px;text-align:center;text-decoration:none;display:inline-block;cursor:pointer}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.btn-accept[_ngcontent-%COMP%]:hover{background-color:#45a049}']}),e})();function fde(t,e){if(1&t){const n=gi();m(0,"tr",15)(1,"td",16),w(2),y(),m(3,"td",16),w(4),y(),m(5,"td",16),w(6),y(),m(7,"td",16),w(8),y(),m(9,"td",16),w(10),y(),m(11,"td",16),w(12),y(),m(13,"td",16),w(14),y(),m(15,"td",16),w(16),y(),m(17,"td",16),w(18),y(),m(19,"td",16),w(20),y(),m(21,"td",16),w(22),y(),m(23,"td",16),w(24),y(),m(25,"td",17)(26,"a",18),G("click",function(){const o=Xn(n).$implicit;return Rn(Vt().onAccept(o.order.id))}),w(27,"Duy\u1ec7t"),y()()()}if(2&t){const n=e.$implicit,r=e.index;S(2),Ge(r+1),S(2),Ge(n.order.cust_name),S(2),Ge(n.order.cust_phone),S(2),Ge(n.order.cust_email),S(2),Ge(n.order.order_date),S(2),Ge(n.order.appoi_time),S(2),Ge(n.order.time),S(2),Ge(n.order.shooting_type),S(1),Go("data-id",n.user.id),S(1),Ge(n.user.full_name),S(2),Ge("cho_duyet"===n.order.status?"Ch\u1edd duy\u1ec7t":""),S(2),Ge(n.order.price),S(2),Ge(n.order.code)}}let gde=(()=>{var t;class e{constructor(r){this.orderDTOService=r,this.orderData=[]}ngOnInit(){this.loadOrderData()}loadOrderData(){this.orderDTOService.getOrderDTOsByStatus("cho_duyet").subscribe(r=>{this.orderData=r},r=>{console.error("Error fetching order: ",r)})}onAccept(r){var i=this;console.log(r),this.orderDTOService.getOrderDTOsById(r).subscribe(function(){var o=(0,x.Z)(function*(s){null!==s?(console.log("D\u1eef li\u1ec7u \u0111\xe3 t\xecm th\u1ea5y:",s),(yield i.orderDTOService.updateOrder(s)).subscribe(a=>{null!==a?i.loadOrderData():console.log("C\u1eadp nh\u1eadt th\u1ea5t b\u1ea1i.")},a=>{console.error("L\u1ed7i khi c\u1eadp nh\u1eadt:",a)})):console.log("D\u1eef li\u1ec7u kh\xf4ng t\u1ed3n t\u1ea1i.")});return function(s){return o.apply(this,arguments)}}(),o=>{console.error("L\u1ed7i x\u1ea3y ra:",o)})}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(E9))},t.\u0275cmp=Tt({type:t,selectors:[["app-order-accept-admin"]],decls:43,vars:1,consts:[[1,"layout-list-booking"],[1,"list-booking-wrapper"],[1,"list-booking-container"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/admin/home"],["aria-current","page",1,"breadcrumb-item","active"],[1,"list-booking-content"],[1,"table-wrapper"],[1,"table"],[1,"col-header"],[1,"row-header"],[1,"row-header",".col-fixed"],["class","col-content",4,"ngFor","ngForOf"],[1,"col-content"],[1,"row-content"],[1,"row-content",".col-fixed"],["href","javascript:void(0)",1,"btn","btn-accept",3,"click"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"nav",3)(4,"ol",4)(5,"li",5)(6,"a",6),w(7,"Trang chu"),y()(),m(8,"li",7),w(9,"Duyet booking"),y()()(),m(10,"div",8)(11,"div",9)(12,"table",10)(13,"thead")(14,"tr",11)(15,"th",12),w(16,"#"),y(),m(17,"th",12),w(18,"T\xean kh\xe1ch"),y(),m(19,"th",12),w(20,"SDT kh\xe1ch"),y(),m(21,"th",12),w(22,"Email kh\xe1ch"),y(),m(23,"th",12),w(24,"Ng\xe0y"),y(),m(25,"th",12),w(26,"Th\u1eddi gian"),y(),m(27,"th",12),w(28,"Th\u1eddi l\u01b0\u1ee3ng"),y(),m(29,"th",12),w(30,"Lo\u1ea1i ch\u1ee5p"),y(),m(31,"th",12),w(32,"Ng\u01b0\u1eddi ch\u1ee5p"),y(),m(33,"th",12),w(34,"Tr\u1ea1ng th\xe1i"),y(),m(35,"th",12),w(36,"T\xf4\u0309ng ti\xea\u0300n"),y(),m(37,"th",12),w(38,"Ma\u0303"),y(),m(39,"th",13),w(40,"Ch\u1ee9c n\u0103ng"),y()()(),m(41,"tbody"),be(42,fde,28,13,"tr",14),y()()()()()()()),2&r&&(S(42),Z("ngForOf",i.orderData))},dependencies:[wo,kr],styles:['@charset "UTF-8";.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{padding:0}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]{display:inline}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item.active[_ngcontent-%COMP%]{color:#333}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-wrapper[_ngcontent-%COMP%]   .list-booking-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{padding:8px;color:#000;content:"/\\a0"}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{width:100%;max-width:100%;overflow-x:auto;position:relative}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;height:12px}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cccccc;border-radius:6px}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#bbbbbb}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border:1px solid #ddd}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:transparent}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-color:inherit;border-style:solid;border-width:0}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr.col-header[_ngcontent-%COMP%]{background-color:#f2f2f2;font-weight:700}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr.col-header[_ngcontent-%COMP%]   th.row-header[_ngcontent-%COMP%], .layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td.row-content[_ngcontent-%COMP%]{padding:.625rem 1.25rem;text-align:left;white-space:nowrap}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td.row-content[_ngcontent-%COMP%]:last-child{text-align:center}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.btn-accept[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:6px 12px;border:none;border-radius:4px;text-align:center;text-decoration:none;display:inline-block;cursor:pointer}.layout-list-booking[_ngcontent-%COMP%]   .list-booking-content[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.col-content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.btn-accept[_ngcontent-%COMP%]:hover{background-color:#45a049}']}),e})(),M9=(()=>{var t;class e{getDeces(){return new Promise((r,i)=>{Ya(ur(Lr((0,$e.initializeApp)(dr_firebaseConfig)),"deces/"),c=>{const l=c.val(),h=[];for(const f in l)if(l.hasOwnProperty(f)){const _=l[f];h.push({id:_.id,partner_id:_.partner_id,category:_.category})}r(h)})})}getDecesByPartnerId(r){var i=this;return(0,x.Z)(function*(){try{return(yield i.getDeces()).find(a=>a.partner_id===r)||null}catch(o){return console.error("Error fetching user by ID:",o),null}})()}getDecesById(r){var i=this;return(0,x.Z)(function*(){try{return(yield i.getDeces()).find(a=>a.id===r)||null}catch(o){return console.error("Error fetching user by ID:",o),null}})()}createDeces(r){var i=this;return(0,x.Z)(function*(){try{if(!(yield i.isPartnerUnique(r.partner_id)))return console.log("The order is not unique"),null;const a=Lr((0,$e.initializeApp)(dr_firebaseConfig)),c=yield i.generateNewId(),l=ur(a,"deces/"+c),h={id:c,partner_id:r.partner_id,category:r.category};return yield Os(l,h),h}catch(o){return console.error("Error creating user:",o),null}})()}updateDeces(r){var i=this;return(0,x.Z)(function*(){try{if(null===(yield i.getDecesById(r.id)))return console.error("User information not found for ID:",r.id),null;const a=Lr((0,$e.initializeApp)(dr_firebaseConfig)),c={id:r.id,partner_id:r.partner_id,category:r.category},l=ur(a,`deces/${r.id}`);return yield Os(l,c),r}catch(o){return console.error("Error updating user:",o),null}})()}generateNewId(){var r=this;return(0,x.Z)(function*(){const i=yield r.getDeces();return(0===i.length?0:Math.max(...i.map(s=>s.id)))+1})()}isPartnerUnique(r){return(0,x.Z)(function*(){const s=ur(Lr((0,$e.initializeApp)(dr_firebaseConfig)),"deces"),c=(yield gm(s)).val();if(c)for(const l in c)if(c.hasOwnProperty(l)&&c[l].partner_id===r)return!1;return!0})()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function _de(t,e){if(1&t){const n=gi();m(0,"div",18),G("click",function(){const o=Xn(n).$implicit;return Rn(Vt(2).selectDate(o))}),w(1),y()}if(2&t){const n=e.$implicit,r=Vt(2);Ko("calendar-day-hover",null!==n)("selected-date",null!==n&&n===r.selectedDay)("curr-date",r.isCurrentDate(n)),S(1),Ot(" ",n," ")}}function mde(t,e){if(1&t){const n=gi();m(0,"div",19),G("click",function(){const o=Xn(n).index;return Rn(Vt(2).selectMonth(o))}),w(1),y()}if(2&t){const n=e.$implicit;S(1),Ot("",n," ")}}function yde(t,e){if(1&t){const n=gi();m(0,"div",6)(1,"div",7)(2,"span",8),G("click",function(){return Xn(n),Rn(Vt().toggleMonthList())}),w(3),y(),m(4,"div",9)(5,"span",10),G("click",function(){return Xn(n),Rn(Vt().prevYear())}),w(6,"<"),y(),m(7,"span",11),w(8),y(),m(9,"span",10),G("click",function(){return Xn(n),Rn(Vt().nextYear())}),w(10,">"),y()()(),m(11,"div",12)(12,"div",13)(13,"div"),w(14,"CN"),y(),m(15,"div"),w(16,"T2"),y(),m(17,"div"),w(18,"T3"),y(),m(19,"div"),w(20,"T4"),y(),m(21,"div"),w(22,"T5"),y(),m(23,"div"),w(24,"T6"),y(),m(25,"div"),w(26,"T7"),y()(),m(27,"div",14),be(28,_de,2,7,"div",15),y()(),m(29,"div",16),be(30,mde,2,1,"div",17),y()()}if(2&t){const n=Vt();S(3),Ge(n.monthNames[n.currMonth]),S(5),Ge(n.currYear),S(20),Z("ngForOf",n.calendarDays),S(1),Ko("show",n.isMonthListVisible),S(1),Z("ngForOf",n.monthNames)}}let zT=(()=>{var t;class e{constructor(r){this.el=r,this.textDefault="DD-MM-YYYY",this.selectedDate="",this.selectedDateChange=new Mn,this.isCalendarVisible=!1,this.monthNames=["Th\xe1ng 1","Th\xe1ng 2","Th\xe1ng 3","Th\xe1ng 4","Th\xe1ng 5","Th\xe1ng 6","Th\xe1ng 7","Th\xe1ng 8","Th\xe1ng 9","Th\xe1ng 10","Th\xe1ng 11","Th\xe1ng 12"],this.calendarDays=[],this.isMonthListVisible=!1,this.selectedDay=null}ngAfterViewInit(){}ngOnInit(){const r=new Date;this.currMonth=r.getMonth(),this.currYear=r.getFullYear(),this.generateCalendar(this.currMonth,this.currYear),this.selectedDateChange.subscribe(i=>{const o=new Date;this.currMonth=o.getMonth(),this.currYear=o.getFullYear(),this.generateCalendar(this.currMonth,this.currYear)})}toggleCalendar(){this.isCalendarVisible=!this.isCalendarVisible,this.isCalendarVisible||(this.isMonthListVisible=!1)}prevYear(){this.currYear--,this.generateCalendar(this.currMonth,this.currYear),this.selectedDay=null}nextYear(){this.currYear++,this.generateCalendar(this.currMonth,this.currYear),this.selectedDay=null}toggleMonthList(){this.isMonthListVisible=!this.isMonthListVisible}selectMonth(r){this.isMonthListVisible=!1,this.currMonth=r,this.generateCalendar(this.currMonth,this.currYear),this.selectedDay=null}isLeapYear(r){return r%4==0&&r%100!=0||r%400==0}getFebDays(r){return this.isLeapYear(r)?29:28}generateCalendar(r,i){const o=[31,this.getFebDays(i),31,30,31,30,31,31,30,31,30,31];this.calendarDays=[];const s=new Date(i,r,1);for(let a=0;a<=o[r]+s.getDay()-1;a++)a>=s.getDay()?this.calendarDays.push(a-s.getDay()+1):this.calendarDays.push(null)}selectDate(r){if(null!==r){this.selectedDay=r;const i=new Date(this.currYear,this.currMonth,r);this.selectedDate=i.toLocaleDateString(),this.isCalendarVisible=!1}this.selectedDateChange.emit(this.selectedDate)}isCurrentDate(r){if(null===r)return!1;const i=new Date;return r===i.getDate()&&this.currYear===i.getFullYear()&&this.currMonth===i.getMonth()}onDocumentClick(r){!this.el.nativeElement.contains(r.target)&&this.isCalendarVisible&&(this.isCalendarVisible=!1,this.isMonthListVisible=!1,this.selectedDateChange.subscribe(i=>{const o=new Date;this.currMonth=o.getMonth(),this.currYear=o.getFullYear(),this.generateCalendar(this.currMonth,this.currYear)}))}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(Ni))},t.\u0275cmp=Tt({type:t,selectors:[["app-date-picker"]],hostBindings:function(r,i){1&r&&G("click",function(s){return i.onDocumentClick(s)},0,Iu)},inputs:{textDefault:"textDefault",selectedDate:"selectedDate"},outputs:{selectedDateChange:"selectedDateChange"},decls:8,vars:3,consts:[[1,"calendar-wrapper"],[1,"select-button",3,"click"],["selectButton",""],[1,"bx","bx-calendar"],["class","calendar",4,"ngIf"],["type","text",2,"display","none",3,"ngModel","ngModelChange"],[1,"calendar"],[1,"calendar-header"],[1,"month-picker",3,"click"],[1,"year-picker"],[1,"year-change",3,"click"],["id","year"],[1,"calendar-body"],[1,"calendar-week-day"],[1,"calendar-days"],[3,"calendar-day-hover","selected-date","curr-date","click",4,"ngFor","ngForOf"],[1,"month-list"],["class","month-item",3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"month-item",3,"click"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1,2),G("click",function(){return i.toggleCalendar()}),m(3,"span"),w(4),y(),A(5,"i",3),y(),be(6,yde,31,6,"div",4),m(7,"input",5),G("ngModelChange",function(s){return i.selectedDate=s}),y()()),2&r&&(S(4),Ge(i.selectedDate||i.textDefault),S(2),Z("ngIf",i.isCalendarVisible),S(1),Z("ngModel",i.selectedDate))},dependencies:[wo,Po,pl,Zu,ml],styles:[".calendar-wrapper[_ngcontent-%COMP%]{position:relative;min-width:150px}.calendar-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.calendar-wrapper[_ngcontent-%COMP%]   .select-button[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;padding:8px 12px;border:1px solid var(--color-primary);border-radius:4px;background-color:var(--color-light);display:flex;justify-content:space-between;column-gap:.75rem;align-items:center;color:var(--color-primary)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]{position:absolute;top:calc(100% + .3rem);left:0;background-color:var(--color-bg-body);width:260px;height:290px;border-radius:.5rem;padding:.5rem;overflow:hidden;box-shadow:0 2px 5px #0003;z-index:2}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:17px;font-weight:700;padding:10px 0}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]   .month-picker[_ngcontent-%COMP%]{color:var(--color-primary);padding:5px 10px;border-radius:10px;cursor:pointer}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]   .month-picker[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]   .year-picker[_ngcontent-%COMP%]{display:flex;align-items:center;color:var(--color-primary)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]   .year-picker[_ngcontent-%COMP%]   .year-change[_ngcontent-%COMP%]{height:30px;width:30px;border-radius:50%;display:grid;place-items:center;margin:0 10px;cursor:pointer;color:var(--color-primary)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]   .year-picker[_ngcontent-%COMP%]   .year-change[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]{padding:10px}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-week-day[_ngcontent-%COMP%]{height:30px;display:grid;grid-template-columns:repeat(7,1fr);font-weight:600}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-week-day[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:grid;place-items:center;color:var(--color-dark)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:2px;color:#151426}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:30px;height:30px;display:flex;align-items:center;justify-content:center;padding:5px;position:relative;animation:_ngcontent-%COMP%_to-top 1s forwards}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div.calendar-day-hover[_ngcontent-%COMP%]{cursor:pointer;border-radius:50%}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div.calendar-day-hover[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary);color:var(--color-primary);font-weight:600}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div.curr-date[_ngcontent-%COMP%], .calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div.curr-date[_ngcontent-%COMP%]:hover{background-color:var(--color-primary);color:#fff}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div.selected-date[_ngcontent-%COMP%], .calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-days[_ngcontent-%COMP%]   div.selected-date[_ngcontent-%COMP%]:hover{background-color:var(--color-info)!important;color:#fff}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month-list[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background-color:var(--color-bg-body);padding:.5rem;grid-template-columns:repeat(3,auto);gap:7px;display:grid;transform:scale(1.5);visibility:hidden;pointer-events:none}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;place-items:center;width:100%;border-radius:10px;cursor:pointer;color:var(--color-primary);font-weight:700}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary)}.calendar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month-list.show[_ngcontent-%COMP%]{transform:scale(1);visibility:visible;pointer-events:visible;transition:all .2s ease-in-out}@keyframes _ngcontent-%COMP%_to-top{0%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}"]}),e})();const vde=["selectElement"],Cde=["selectButton"],wde=["selectOptions"];function Pde(t,e){1&t&&A(0,"i",10)}function Ede(t,e){1&t&&A(0,"i",11)}function Mde(t,e){if(1&t){const n=gi();m(0,"li",12),G("click",function(){const o=Xn(n).$implicit;return Rn(Vt().selectOption(o.value))}),w(1),y()}if(2&t){const n=e.$implicit;S(1),Ot(" ",n.textContent," ")}}const Ode=[[["","custom-option",""]]],Ide=function(t){return{active:t}},bde=["[custom-option]"];let WT=(()=>{var t;class e{constructor(){this.textDefault="-- Choose --",this.selectedOption="",this.selectedOptionChange=new Mn,this.selectedOptionText="",this.options=[],this.isDropdownOpen=!1,this.dropdownPosition={top:"0",left:"0"}}ngOnInit(){}ngAfterViewInit(){const r=this.selectElement.nativeElement;for(let i=0;i<r.options.length;i++){const o=r.options[i];this.options.push({value:o.value,textContent:o.textContent})}}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen}selectOption(r){this.selectedOption=r,this.selectedOptionText=this.options.find(i=>i.value===this.selectedOption)?.textContent||"",this.selectedOptionChange.emit(this.selectedOption),this.isDropdownOpen=!1}onClickOutside(r){!this.selectButton.nativeElement.contains(r.target)&&!this.selectOptions.nativeElement.contains(r.target)&&(this.isDropdownOpen=!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tt({type:t,selectors:[["app-custom-select"]],viewQuery:function(r,i){if(1&r&&(Jn(vde,5),Jn(Cde,5),Jn(wde,5)),2&r){let o;jn(o=$n())&&(i.selectElement=o.first),jn(o=$n())&&(i.selectButton=o.first),jn(o=$n())&&(i.selectOptions=o.first)}},hostBindings:function(r,i){1&r&&G("click",function(s){return i.onClickOutside(s)},0,Iu)},inputs:{textDefault:"textDefault",selectedOption:"selectedOption"},outputs:{selectedOptionChange:"selectedOptionChange"},ngContentSelectors:bde,decls:13,vars:8,consts:[[1,"custom-select"],[1,"select-button",3,"click"],["selectButton",""],["class","bx bx-collapse-vertical",4,"ngIf"],["class","bx bx-expand-vertical",4,"ngIf"],[1,"select-options",3,"ngClass"],["selectOptions",""],[3,"click",4,"ngFor","ngForOf"],[2,"display","none",3,"ngModel","ngModelChange"],["selectElement",""],[1,"bx","bx-collapse-vertical"],[1,"bx","bx-expand-vertical"],[3,"click"]],template:function(r,i){1&r&&(function bF(t){const e=ae()[Sn][cr];if(!e.projection){const r=e.projection=Wc(t?t.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=t?zK(o,t):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}(Ode),m(0,"div",0)(1,"div",1,2),G("click",function(){return i.toggleDropdown()}),m(3,"span"),w(4),y(),be(5,Pde,1,0,"i",3),be(6,Ede,1,0,"i",4),y(),m(7,"ul",5,6),be(9,Mde,2,1,"li",7),y(),m(10,"select",8,9),G("ngModelChange",function(s){return i.selectedOption=s}),function TF(t,e=0,n){const r=ae(),i=Ct(),o=Lh(i,ut+t,16,null,n||null);null===o.projection&&(o.projection=e),_u(),(!r[fo]||Da())&&32!=(32&o.flags)&&function qW(t,e,n){SN(e[qe],0,e,n,mO(t,n,e),ON(n.parent||e[cr],n,e))}(i,r,o)}(12),y()()),2&r&&(S(4),Ge(i.selectedOptionText||i.textDefault),S(1),Z("ngIf",!i.isDropdownOpen),S(1),Z("ngIf",i.isDropdownOpen),S(1),Z("ngClass",_i(6,Ide,i.isDropdownOpen)),S(2),Z("ngForOf",i.options),S(1),Z("ngModel",i.selectedOption))},dependencies:[Cs,wo,Po,G0,Zu,ml],styles:[".custom-select[_ngcontent-%COMP%]{position:relative;min-width:150px}.custom-select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{display:none}.custom-select[_ngcontent-%COMP%]   .select-button[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;padding:8px 12px;border:1px solid var(--color-primary);border-radius:4px;background-color:var(--color-light);display:flex;justify-content:space-between;align-items:center;column-gap:.75rem;color:var(--color-primary);text-wrap:nowrap}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;position:absolute;top:calc(100% + .3rem);left:0;background-color:var(--color-light);border-top:none;border-radius:.3rem;box-shadow:0 2px 5px #0003;display:none;z-index:2;min-width:150px;max-height:200px;overflow-y:auto;scrollbar-width:thin;scrollbar-color:var(--color-primary) var(--color-light)}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--color-light)}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#f6f6f6;border-radius:4px;border:2px solid var(--color-light)}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px 12px;cursor:pointer;color:var(--color-primary);text-wrap:nowrap}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-of-type{border-top-right-radius:.3rem;border-top-left-radius:.3rem}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-of-type{border-bottom-right-radius:.3rem;border-bottom-left-radius:.3rem}.custom-select[_ngcontent-%COMP%]   .select-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f6f6f6}.custom-select[_ngcontent-%COMP%]   .select-options.active[_ngcontent-%COMP%]{display:block}"]}),e})();function Tde(t,e){if(1&t){const n=gi();m(0,"div",169)(1,"a",170)(2,"div",171),A(3,"img",172),y(),m(4,"div",173)(5,"h3",174),w(6),y(),m(7,"span",175),w(8),y(),m(9,"div",176),G("click",function(){const o=Xn(n).$implicit;return Rn(Vt().toggleAsk(o.name))}),A(10,"i",31),y()()()()}if(2&t){const n=e.$implicit;S(3),qo("src",n.images[0],Or),S(3),Ge(n.name),S(2),Ge(n.images.length)}}function Ade(t,e){if(1&t&&(m(0,"div",177),w(1),y()),2&t){const n=Vt();S(1),Ot(" ",n.errorMessage," ")}}function Dde(t,e){if(1&t){const n=gi();m(0,"div",178),A(1,"img",179),m(2,"a",180),G("click",function(){const o=Xn(n).index;return Rn(Vt().delPicture(o))}),A(3,"i",131),y()()}if(2&t){const n=e.$implicit;S(1),qo("src",n,Or)}}function Sde(t,e){if(1&t){const n=gi();m(0,"div",178),A(1,"img",179),m(2,"a",181),G("click",function(){const o=Xn(n).index;return Rn(Vt().deleteImageFromAsk(o))}),A(3,"i",131),y()()}if(2&t){const n=e.$implicit;S(1),qo("src",n.url,Or)}}function Rde(t,e){if(1&t){const n=gi();m(0,"div",182)(1,"div",183),A(2,"img",184),m(3,"a",185),G("click",function(){const o=Xn(n).index;return Rn(Vt().deleteImageOfNewPortfo(o))}),A(4,"i",131),y()()()}if(2&t){const n=e.$implicit;S(2),Z("src",n,Or)}}const xde=function(t){return["/ware-house",t]};function kde(t,e){if(1&t){const n=gi();m(0,"div",186)(1,"div")(2,"a",187),w(3,"Kho a\u0309nh tra\u0309"),y()(),m(4,"div")(5,"a",188),w(6,"Kho a\u0309nh y\xeau c\xe2\u0300u s\u01b0\u0309a"),y()(),m(7,"a",189),G("click",function(){return Xn(n),Rn(Vt().hideWarehouse())}),A(8,"i",131),y()()}if(2&t){const n=Vt();S(2),Z("routerLink",_i(1,xde,n.partnerId))}}let Nde=(()=>{var t;class e{toggleAsk(r){this.isShowAskRepair=!this.isShowAskRepair,this.modalName=r,this.decesData?.category.forEach(i=>{i.name!==r||(this.modalImagesRepair=i.images)})}closeAsk(){this.isShowAskRepair=!1}constructor(r,i,o,s,a,c,l,h){this.router=r,this.route=i,this.orderService=o,this.userInfoDTOService=s,this.userInfoService=a,this.userService=c,this.decesService=l,this.fileStorage=h,this.userData=null,this.decesData=null,this.selectedDateU="",this.selectedOptionTL="",this.selectedOptionType="",this.errorMessage="",this.isError=!1,this.dateVal="",this.selectedOptionTLVal="",this.selectedOptionTypeVal="",this.setTimeVal="",this.partnerId=0,this.isShowOrder=!1,this.isShowForMeEdit=!1,this.isShowIcEdit=!1,this.isShowFeEdit=!1,this.nameText="",this.expText="",this.addressText="",this.desText="",this.prizeText="",this.interestText="",this.languageText="",this.cameraText="",this.isShowAskRepair=!1,this.isShowAddPortfo=!1,this.isShowWarehouse=!1,this.modalName="",this.modalImagesRepair=[],this.imagePreviews=[],this.filesAddPortfo=[],this.portfo_name="",this.imageData=[],this.route.params.subscribe(f=>{const _=f.id;_?this.partnerId=parseInt(_,10):console.error("ID not found in URL")})}ngOnInit(){this.route.params.subscribe(r=>{const i=r.id;if(i){const o=parseInt(i,10);this.loadUserInfoData(o),this.loadDecesData(o)}else console.error("ID not found in URL")})}loadUserInfoData(r){this.userInfoDTOService.getUserInfoDTOsById(r).subscribe(i=>{this.userData=i,this.nameText=this.userData?.user.full_name||"",this.addressText=this.userData?.user.address||"",this.expText=this.userData?.user.exp.toString()||"",this.desText=this.userData?.userInfo.description||"",this.prizeText=this.userData?.userInfo.prize||"",this.interestText=this.userData?.userInfo.interest||"",this.languageText=this.userData?.userInfo.language||"",this.cameraText=this.userData?.userInfo.camera||""},i=>{console.error("Error loading user info:",i)})}loadDecesData(r){var i=this;return(0,x.Z)(function*(){i.decesData=yield i.decesService.getDecesByPartnerId(r),console.log(i.decesData)})()}onDateChange(r){this.dateVal=r}onOptionTLChange(r){this.selectedOptionTLVal=r}onOptionTypeChange(r){this.selectedOptionTypeVal=r}onSubmit(){var r=this;return(0,x.Z)(function*(){if(r.isError=!1,r.selectedDateU&&r.selectedOptionTL&&r.selectedOptionType){if(0!==r.partnerId){console.log("true");const o={id:0,order_date:r.dateVal,time:r.selectedOptionTLVal,appoi_time:r.setTimeVal,shooting_type:r.selectedOptionTypeVal,partner_id:r.partnerId,cust_name:"",cust_email:"",cust_phone:"",code:"",status:"cho_duyet",address:"",price:"",link_down:"",des_refund:""};var i=yield r.orderService.createOrder(o);i&&(localStorage.setItem("order_id",i.id.toString()),r.router.navigate(["/contact"]))}}else r.errorMessage="Vui l\xf2ng \u0111i\u1ec1n \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin",r.isError=!0,console.log(r.dateVal),console.log(r.setTimeVal)})()}showOrder(){this.isShowOrder=!0}hideOrder(){this.isShowOrder=!1}showForMeEdit(){this.isShowForMeEdit=!0}showIcEdit(){this.isShowIcEdit=!0}showFeEdit(){this.isShowFeEdit=!0}hideForMeEdit(){this.isShowForMeEdit=!1}hideIcEdit(){this.isShowIcEdit=!1}hideFeEdit(){this.isShowFeEdit=!1}toggleWarehouse(){this.isShowWarehouse=!this.isShowWarehouse}hideWarehouse(){this.isShowWarehouse=!0}updateValue(r,i){switch(r){case"nameText":this.nameText=i;break;case"desText":this.desText=i;break;case"prizeText":this.prizeText=i;break;case"interestText":this.interestText=i;break;case"addressText":this.addressText=i;break;case"expText":this.expText=i}}saveIc(){var r=this;return(0,x.Z)(function*(){if(void 0!==r.userData?.user.id){const s=r.userData?.userInfo.id;var i=yield r.userInfoService.getUserInfoById(s);if(i)if(void 0!==r.desText&&void 0!==r.prizeText&&void 0!==r.interestText){i.description=r.desText,i.prize=r.prizeText,i.interest=r.interestText,console.log(i);var o=yield r.userInfoService.updateUserInfo(i);o?(console.log("Th\xf4ng tin ng\u01b0\u1eddi d\xf9ng \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt th\xe0nh c\xf4ng",o),window.alert("Th\xf4ng tin ng\u01b0\u1eddi d\xf9ng \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt th\xe0nh c\xf4ng")):(console.error("L\u1ed7i khi c\u1eadp nh\u1eadt th\xf4ng tin ng\u01b0\u1eddi d\xf9ng"),window.alert("L\u1ed7i khi c\u1eadp nh\u1eadt th\xf4ng tin ng\u01b0\u1eddi d\xf9ng"))}else console.error("M\u1ed9t trong c\xe1c tr\u01b0\u1eddng d\u1eef li\u1ec7u l\xe0 undefined"),window.alert("M\u1ed9t trong c\xe1c tr\u01b0\u1eddng d\u1eef li\u1ec7u l\xe0 undefined");else console.error("Kh\xf4ng t\xf4\u0300n ta\u0323i ta\u0323i th\xf4ng tin cu\u0309a ta\u0300i khoa\u0309n na\u0300y"),window.alert("Kh\xf4ng t\xf4\u0300n ta\u0323i ta\u0323i th\xf4ng tin cu\u0309a ta\u0300i khoa\u0309n na\u0300y")}else console.error("User ID is undefined"),window.alert("User ID is undefined")})()}saveForMe(){var r=this;return(0,x.Z)(function*(){if(void 0!==r.userData?.user.id){const s=r.userData?.user.id;var i=yield r.userService.getUserById(s);if(i)if(void 0!==r.nameText&&void 0!==r.addressText&&void 0!==r.expText){i.full_name=r.nameText,i.address=r.addressText,i.exp=parseFloat(r.expText);var o=yield r.userService.updateUser(i);o?(console.log("Th\xf4ng tin ng\u01b0\u1eddi d\xf9ng \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt th\xe0nh c\xf4ng",o),window.alert("Th\xf4ng tin ng\u01b0\u1eddi d\xf9ng \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt th\xe0nh c\xf4ng")):(console.error("L\u1ed7i khi c\u1eadp nh\u1eadt th\xf4ng tin ng\u01b0\u1eddi d\xf9ng"),window.alert("L\u1ed7i khi c\u1eadp nh\u1eadt th\xf4ng tin ng\u01b0\u1eddi d\xf9ng"))}else console.error("M\u1ed9t trong c\xe1c tr\u01b0\u1eddng d\u1eef li\u1ec7u l\xe0 undefined"),window.alert("M\u1ed9t trong c\xe1c tr\u01b0\u1eddng d\u1eef li\u1ec7u l\xe0 undefined");else console.error("Kh\xf4ng t\xf4\u0300n ta\u0323i ta\u0323i th\xf4ng tin cu\u0309a ta\u0300i khoa\u0309n na\u0300y"),window.alert("Kh\xf4ng t\xf4\u0300n ta\u0323i ta\u0323i th\xf4ng tin cu\u0309a ta\u0300i khoa\u0309n na\u0300y")}else console.error("User ID is undefined"),window.alert("User ID is undefined")})()}saveFe(){var r=this;return(0,x.Z)(function*(){if(void 0!==r.userData?.user.id){const s=r.userData?.userInfo.id;var i=yield r.userInfoService.getUserInfoById(s);if(i)if(void 0!==r.languageText&&void 0!==r.cameraText){i.language=r.languageText,i.prize=r.languageText;var o=yield r.userInfoService.updateUserInfo(i);o?(console.log("Th\xf4ng tin ng\u01b0\u1eddi d\xf9ng \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt th\xe0nh c\xf4ng",o),window.alert("Th\xf4ng tin ng\u01b0\u1eddi d\xf9ng \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt th\xe0nh c\xf4ng")):(console.error("L\u1ed7i khi c\u1eadp nh\u1eadt th\xf4ng tin ng\u01b0\u1eddi d\xf9ng"),window.alert("L\u1ed7i khi c\u1eadp nh\u1eadt th\xf4ng tin ng\u01b0\u1eddi d\xf9ng"))}else console.error("M\u1ed9t trong c\xe1c tr\u01b0\u1eddng d\u1eef li\u1ec7u l\xe0 undefined"),window.alert("M\u1ed9t trong c\xe1c tr\u01b0\u1eddng d\u1eef li\u1ec7u l\xe0 undefined");else console.error("Kh\xf4ng t\xf4\u0300n ta\u0323i ta\u0323i th\xf4ng tin cu\u0309a ta\u0300i khoa\u0309n na\u0300y"),window.alert("Kh\xf4ng t\xf4\u0300n ta\u0323i ta\u0323i th\xf4ng tin cu\u0309a ta\u0300i khoa\u0309n na\u0300y")}else console.error("User ID is undefined"),window.alert("User ID is undefined")})()}showAddPortfo(){this.isShowAddPortfo=!this.isShowAddPortfo}closeNewPortfo(){this.isShowAddPortfo=!1}previewImages(r){const o=r.target.files;if(o&&o.length>0){this.filesAddPortfo=Array.from(o),this.imagePreviews=[];for(let s=0;s<o.length;s++){const a=o[s],c=new FileReader;c.onload=l=>{this.imagePreviews.push(l.target?.result)},c.readAsDataURL(a)}}else this.imagePreviews=[]}deleteImageOfNewPortfo(r){r>=0&&r<this.imagePreviews.length&&(this.imagePreviews.splice(r,1),this.filesAddPortfo.splice(r,1),document.getElementById("image").value="")}addNewPortfo(){var r=this;return(0,x.Z)(function*(){if(""!==r.portfo_name&&r.filesAddPortfo.length>0){var i=[],o=[];for(let f=0;f<r.filesAddPortfo.length;f++){const _=r.filesAddPortfo[f],v=_.name.split(".").pop(),E=Y0()+"."+v;o.push(new File([_],E,{type:_.type}))}for(let f=0;f<o.length;f++){const _=o[f],v=`images/${_.name}`,I=yield(yield r.fileStorage.upload(v,_)).ref.getDownloadURL();i.push(I)}var s=yield r.decesService.getDecesByPartnerId(r.partnerId);if(s){var a=!1;s.category.forEach(f=>{f.name!==r.portfo_name||(a=!0)}),a||s.category.push({name:r.portfo_name,images:i}),yield r.decesService.updateDeces(s),window.alert("Category added successfully"),yield r.loadDecesData(r.partnerId)}else{var l=[];l.push({name:r.portfo_name,images:i});var h={id:0,partner_id:r.partnerId,category:l};yield r.decesService.createDeces(h),window.alert("Category added successfully"),yield r.loadDecesData(r.partnerId)}}})()}delPicture(r){r>=0&&r<this.modalImagesRepair.length&&this.modalImagesRepair.splice(r,1)}addImageFromAsk(r,i){this.imageData.push({url:r,file:i})}deleteImageFromAsk(r){r>=0&&r<this.imageData.length&&this.imageData.splice(r,1)}onFileInputChange(r){const i=r.target.files;if(i)for(let o=0;o<i.length;o++){const s=i[o],a=URL.createObjectURL(s);this.addImageFromAsk(a,s)}}triggerFileInput(){document.getElementById("hiddenFileInput").click()}submitRepair(){var r=this;return(0,x.Z)(function*(){if(r.imageData.length>0){var i=[],o=[];for(let c=0;c<r.imageData.length;c++){const l=r.imageData[c].file,h=l.name.split(".").pop(),f=Y0()+"."+h;o.push(new File([l],f,{type:l.type}))}for(let c=0;c<o.length;c++){const l=o[c],h=`images/${l.name}`,_=yield(yield r.fileStorage.upload(h,l)).ref.getDownloadURL();i.push(_)}var s=yield r.decesService.getDecesByPartnerId(r.partnerId);if(s)for(let c=0;c<s.category.length;c++){const l=s.category[c];if(l.name===r.modalName){l.images=[...l.images,...i],yield r.decesService.updateDeces(s),window.alert("Category added successfully"),yield r.loadDecesData(r.partnerId),r.decesData?.category.forEach(h=>{h.name!==r.modalName||(r.modalImagesRepair=h.images)}),r.imageData=[];break}}}})()}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(br),Y(Ys),Y(ed),Y(N0),Y(pT),Y(Mp),Y(M9),Y(aP))},t.\u0275cmp=Tt({type:t,selectors:[["app-partner-profile"]],decls:341,vars:44,consts:[[1,"profile-content"],[1,"wall-wrapper"],[1,"wall-content"],[1,"wall1"],[1,"wall1-1"],["src","./assets/images/profile/pf1.jpg","alt",""],[1,"wall1-2"],["src","./assets/images/profile/pf2.jpg","alt",""],[1,"wall2"],["src","./assets/images/profile/pf3.jpg","alt",""],[1,"wall3"],[1,"wall3-1"],["src","./assets/images/profile/pf4.jpg","alt",""],[1,"wall3-2"],["src","./assets/images/profile/pf5.jpg","alt",""],[1,"wall4"],["src","./assets/images/profile/pf6.jpg","alt",""],[1,"wall5"],[1,"wall5-1"],["src","./assets/images/profile/pf7.jpg","alt",""],[1,"wall5-2"],["src","./assets/images/profile/pf8.jpg","alt",""],[1,"content-wrapper"],[1,"forMe-wrapper"],[1,"forMe-content"],[1,"avatar-wrapper"],[1,"avatar"],["alt","",1,"avatar-image",3,"src"],[1,"des-forMe-wrapper"],[1,"des-forMe-name"],[1,"btn-edit-forMe",3,"click"],[1,"bx","bx-edit-alt"],[1,"des-forMe-address"],[1,"des-forMe-rate"],[1,"rate-star"],["src","./assets/images/icons/star-fill.png","alt",""],[1,"rate-text"],[1,"des-forMe-exp"],[1,"forMe-edit",3,"ngClass"],[3,"ngModel","ngModelChange"],[1,"des-forMe-address",3,"ngModel","ngModelChange"],[1,"des-forMe-exp",3,"ngModel","ngModelChange"],[1,"btn-edit-control"],["href","javascript:void(0)",1,"btn-save",3,"click"],["href","javascript:void(0)",1,"btn-cancel",3,"click"],[1,"info-wrapper"],[1,"infor-title-list"],[1,"title-list"],[1,"it-item"],["href","javascript:void(0)",1,"it-link"],[1,"deliver-line"],[1,"infor-content-list"],[1,"ic-item"],[1,"text-description"],[1,"prize"],[1,"prize-title"],[1,"interest"],[1,"interest-title"],[1,"btn-ic-edit",3,"click"],[1,"ic-edit",2,"overflow-y","auto",3,"ngClass"],[1,"feature-wrapper"],[1,"feature-title"],[1,"feature-content"],[1,"language"],[1,"language-title"],["src","./assets/images/icons/translate.png","alt",""],[1,"camera"],[1,"camera-title"],["src","./assets/images/icons/camera.png","alt",""],[1,"btn-feature-edit",3,"click"],[1,"feature-edit",3,"ngClass"],[3,"ngModel"],[1,"portfolio"],[1,"portfolio-title"],["href","javascript:void(0);",3,"click"],[1,"bx","bx-plus-circle"],[1,"portfolio-content"],["class","portfolio-item",4,"ngFor","ngForOf"],[1,"appraise"],[1,"appraise-title"],[1,"rate"],[1,"appraise-content"],[1,"appraise-item"],[1,"ai-header"],[1,"header-avatar"],["src","./assets/images/avatar/avatar1.jpeg","alt",""],[1,"header-name"],[1,"ai-comment"],[1,"how-it-works"],[1,"hiw-title"],[1,"hiw-content"],[1,"hiw-item"],[1,"item-title"],[1,"title-icon"],[1,"bx","bx-calendar-check"],[1,"title-text"],[1,"item-content"],[1,"content-deliver"],[1,"content-text"],[1,"bx","bxs-camera"],[1,"bx","bx-happy-alt"],[1,"order-wrapper",3,"ngClass"],[1,"order-container"],["class","mess-valid",4,"ngIf"],[1,"order-content"],[1,"filter-date-picker"],["for","ngay-chup"],[3,"selectedDate","textDefault","selectedDateChange"],[1,"filter-tl"],["for","thoi-luong"],[3,"selectedOption","textDefault","selectedOptionChange"],["custom-option","","value","1"],["custom-option","","value","2"],["custom-option","","value","3"],["custom-option","","value","4"],["custom-option","","value","5"],["custom-option","","value","6"],["custom-option","","value","7"],["custom-option","","value","8"],[1,"set-time"],["for","gio-hen"],["type","time","id","gio-hen","name","gio-hen","required","",3,"ngModel","ngModelChange"],[1,"filter-type"],["custom-option","","value","chup-san-pham"],["custom-option","","value","chup-chan-dung"],["custom-option","","value","chup-canh"],["href","javascript:void(0)",3,"click"],[1,"p-footer"],[1,"sug-foot"],[1,"bx","bx-check"],[1,"btn-close-order",3,"click"],[1,"bx","bx-x"],[1,"toggle-order-wrapper",3,"ngClass","click"],[1,"ask-repair-wrapper",3,"ngClass"],[1,"ask-repair-container"],[1,"ask-repair-content"],[1,"repair-title"],[1,"repair-cont"],[1,"repair-picture"],[1,"picture-wrapper"],["class","picture-item",4,"ngFor","ngForOf"],[1,"ask-repair-button"],[1,"rs-left"],["type","file","id","hiddenFileInput","accept","image/*","multiple","",2,"display","none",3,"change"],["href","javascript:void(0)",1,"btn-upload-repair",3,"click"],[1,"rs-right"],["href","javascript:void(0)",1,"btn-submit-repair",3,"click"],["href","javascript:void(0)",1,"btn-close-ask",3,"click"],[1,"add-new-portfo",3,"ngClass"],[1,"new-portfo-container"],[1,"new-portfo-content"],[1,"new-portfo-title"],[1,"new-portfo-cont"],[1,"name-wapper"],["for","name"],["type","text","name","name","id","name",3,"ngModel","ngModelChange"],[1,"image-wrapper"],[1,"upload-control"],["for","image"],["type","file","name","image","id","image","accept","image/*","multiple","",3,"change"],[1,"list-preview"],["class","preview-item",4,"ngFor","ngForOf"],[1,"submit-portfo-wrapper"],[1,"btn-add-portfo",3,"click"],["href","javascript:void(0);",1,""],["href","javascript:void(0)",1,"btn-close-newPortfo",3,"click"],[1,"toggle-warehouse-wrapper",3,"click"],[1,"bx","bx-left-arrow-circle"],["class","warehouse-menu",4,"ngIf"],[1,"portfolio-item"],["href","javascript:void(0);"],[1,"it-header"],["alt","",3,"src"],[1,"it-footer"],[1,"it-cate"],[1,"it-count-picture"],[1,"btn-portfolio-edit",3,"click"],[1,"mess-valid"],[1,"picture-item"],["alt","","srcset","",3,"src"],["href","javascript:void(0;)",1,"btn-del-image",3,"click"],["href","javascript:void(0)",1,"btn-del-image",3,"click"],[1,"preview-item"],[1,"preview-content"],["alt","Preview Image",2,"max-width","100%","max-height","200px",3,"src"],["href","javascript:void(0);",1,"item-close",3,"click"],[1,"warehouse-menu"],[3,"routerLink"],["routerLink",""],["href","javascript:void(0);",1,"close-warehouse",3,"click"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),A(5,"img",5),y(),m(6,"div",6),A(7,"img",7),y()(),m(8,"div",8),A(9,"img",9),y(),m(10,"div",10)(11,"div",11),A(12,"img",12),y(),m(13,"div",13),A(14,"img",14),y()(),m(15,"div",15),A(16,"img",16),y(),m(17,"div",17)(18,"div",18),A(19,"img",19),y(),m(20,"div",20),A(21,"img",21),y()()()(),m(22,"div",22)(23,"div",23)(24,"div",24)(25,"div",25)(26,"div",26),A(27,"img",27),y()(),m(28,"div",28)(29,"div",29)(30,"h2"),w(31),y(),m(32,"div",30),G("click",function(){return i.showForMeEdit()}),A(33,"i",31),y()(),m(34,"p",32),w(35),y(),m(36,"div",33)(37,"div",34),A(38,"img",35)(39,"img",35)(40,"img",35)(41,"img",35)(42,"img",35),y(),m(43,"span",36),w(44,"5.0"),y()(),m(45,"p",37),w(46),y(),m(47,"div",38)(48,"div",29)(49,"input",39),G("ngModelChange",function(s){return i.updateValue("nameText",s)}),y()(),m(50,"input",40),G("ngModelChange",function(s){return i.updateValue("addressText",s)}),y(),m(51,"input",41),G("ngModelChange",function(s){return i.updateValue("expText",s)}),y(),m(52,"div",42)(53,"a",43),G("click",function(){return i.saveForMe()}),w(54,"L\u01b0u"),y(),m(55,"a",44),G("click",function(){return i.hideForMeEdit()}),w(56,"Hu\u0309y"),y()()()()()(),m(57,"div",45)(58,"div",46)(59,"div",47)(60,"li",48)(61,"a",49),w(62,"V\u1ec1 t\xf4i"),y()(),m(63,"li",48)(64,"a",49),w(65,"H\u1ed3 s\u01a1"),y()(),m(66,"li",48)(67,"a",49),w(68,"\u0110\xe1nh gi\xe1"),y()(),m(69,"li",48)(70,"a",49),w(71,"How it works"),y()()()(),A(72,"div",50),m(73,"div",51)(74,"div",52)(75,"div",53)(76,"p"),w(77),y()(),m(78,"div",54)(79,"h3",55),w(80," Gi\u1ea3i th\u01b0\u1edfng "),y(),m(81,"p"),w(82),y()(),m(83,"div",56)(84,"h3",57),w(85," \u0110i\u1ec1u th\xfa v\u1ecb v\u1ec1 t\xf4i "),y(),m(86,"p"),w(87),y()(),m(88,"div",58),G("click",function(){return i.showIcEdit()}),A(89,"i",31),y(),m(90,"div",59)(91,"div",53)(92,"textarea",39),G("ngModelChange",function(s){return i.updateValue("desText",s)}),w(93),y()(),m(94,"div",54)(95,"h3",55),w(96," Gi\u1ea3i th\u01b0\u1edfng "),y(),m(97,"textarea",39),G("ngModelChange",function(s){return i.updateValue("prizeText",s)}),w(98),y()(),m(99,"div",56)(100,"h3",57),w(101," \u0110i\u1ec1u th\xfa v\u1ecb v\u1ec1 t\xf4i "),y(),m(102,"textarea",39),G("ngModelChange",function(s){return i.updateValue("interestText",s)}),w(103),y()(),m(104,"div",42)(105,"a",43),G("click",function(){return i.saveIc()}),w(106,"L\u01b0u"),y(),m(107,"a",44),G("click",function(){return i.hideIcEdit()}),w(108,"Hu\u0309y"),y()()()()(),A(109,"div",50),m(110,"div",60)(111,"h3",61),w(112,"Ng\xf4n ng\u1eef & M\xe1y \u1ea3nh"),y(),m(113,"div",62)(114,"div",63)(115,"div",64),A(116,"img",65),m(117,"h3"),w(118,"Ng\xf4n ng\u1eef"),y()(),m(119,"p"),w(120),y()(),m(121,"div",66)(122,"div",67),A(123,"img",68),m(124,"h3"),w(125,"M\xe1y \u1ea3nh"),y()(),m(126,"p"),w(127),y()(),m(128,"div",69),G("click",function(){return i.showFeEdit()}),A(129,"i",31),y()(),m(130,"div",70)(131,"h3",61),w(132,"Ng\xf4n ng\u1eef & M\xe1y \u1ea3nh"),y(),m(133,"div",62)(134,"div",63)(135,"div",64),A(136,"img",65),m(137,"h3"),w(138,"Ng\xf4n ng\u1eef"),y()(),m(139,"textarea",71),w(140),y()(),m(141,"div",66)(142,"div",67),A(143,"img",68),m(144,"h3"),w(145,"M\xe1y \u1ea3nh"),y()(),m(146,"textarea",71),w(147),y()()(),m(148,"div",42)(149,"a",43),G("click",function(){return i.saveFe()}),w(150,"L\u01b0u"),y(),m(151,"a",44),G("click",function(){return i.hideFeEdit()}),w(152,"Hu\u0309y"),y()()()(),A(153,"div",50),m(154,"div",72)(155,"div",73)(156,"h3"),w(157," My Portfolio "),y(),m(158,"a",74),G("click",function(){return i.showAddPortfo()}),A(159,"i",75),y()(),m(160,"div",76),be(161,Tde,11,3,"div",77),y()(),A(162,"div",50),m(163,"div",78)(164,"div",79)(165,"h3"),w(166,"\u0110\xe1nh Gi\xe1"),y(),m(167,"div",80)(168,"div",34),A(169,"img",35)(170,"img",35)(171,"img",35)(172,"img",35)(173,"img",35),y(),m(174,"span",36),w(175,"5.0"),y()()(),m(176,"div",81)(177,"div",82)(178,"div",83)(179,"div",84),A(180,"img",85),y(),m(181,"span",86),w(182,"Lalisa Manoban "),y()(),m(183,"div",87)(184,"p"),w(185,"Kh\xf4ng c\xf2n nghi ng\u1edd g\xec n\u1eefa, \u0111\xe2y l\xe0 m\u1ed9t trong nh\u1eefng nhi\u1ebfp \u1ea3nh gia tuy\u1ec7t v\u1eddi nh\u1ea5t v\xe0 c\xf3 k\u1ef9 n\u0103ng ch\u1ee5p \u1ea3nh \u0111a d\u1ea1ng! T\xf4i th\u01b0\u1eddng kh\xf4ng \u0111\u0103ng \u0111\xe1nh gi\xe1 nh\u01b0ng c\xf4ng vi\u1ec7c \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n b\u1edfi nhi\u1ebfp \u1ea3nh gia Ph\u1ea1m Vi\u1ec7t C\u01b0\u1eddng x\u1ee9ng \u0111\xe1ng v\xe0 h\u01a1n th\u1ebf n\u1eefa! T\xf4i v\xe0 YG s\u1ebd ti\u1ebfp t\u1ee5c l\xe0m nhi\u1ec1u vi\u1ec7c h\u01a1n v\u1edbi anh \u1ea5y!!"),y()()()()(),A(186,"div",50),m(187,"div",88)(188,"h3",89),w(189,"How it Works"),y(),m(190,"div",90)(191,"div",91)(192,"div",92)(193,"div",93),A(194,"i",94),y(),m(195,"h3",95),w(196,"Book."),y()(),m(197,"div",96)(198,"div",97),A(199,"p"),y(),m(200,"div",98)(201,"p"),w(202,"Nhanh ch\xf3ng t\xecm th\u1ea5y m\u1ed9t nhi\u1ebfp \u1ea3nh gia \u0111\u01b0\u1ee3c x\u1ebfp h\u1ea1ng h\xe0ng \u0111\u1ea7u g\u1ea7n b\u1ea1n. \u0110\u1eb7t ch\u1ed7 ph\xf9 h\u1ee3p cho kho\u1ea3nh kh\u1eafc \u0111\u1eb7c bi\u1ec7t c\u1ee7a b\u1ea1n ch\u1ec9 b\u1eb1ng v\xe0i c\xfa nh\u1ea5p chu\u1ed9t \u0111\u01a1n gi\u1ea3n."),y()()()(),m(203,"div",91)(204,"div",92)(205,"div",93),A(206,"i",99),y(),m(207,"h3",95),w(208,"Sheet."),y()(),m(209,"div",96)(210,"div",97),A(211,"p"),y(),m(212,"div",98)(213,"p"),w(214,"H\xe3y th\u01b0 gi\xe3n v\xe0 t\u1eadn h\u01b0\u1edfng kho\u1ea3nh kh\u1eafc khi m\u1ed9t nhi\u1ebfp \u1ea3nh gia gi\xe0u kinh nghi\u1ec7m ch\u1ee5p \u1ea3nh cho b\u1ea1n. H\u1ecd s\u1ebd ch\u0103m s\xf3c t\u1ea5t c\u1ea3 c\xe1c chi ti\u1ebft."),y()()()(),m(215,"div",91)(216,"div",92)(217,"div",93),A(218,"i",100),y(),m(219,"h3",95),w(220,"Enjoy!."),y()(),m(221,"div",96),A(222,"div",97),m(223,"div",98)(224,"p"),w(225," Trong v\xf2ng 2 ng\xe0y l\xe0m vi\u1ec7c k\u1ec3 t\u1eeb ng\xe0y ch\u1ee5p \u1ea3nh, b\u1ea1n s\u1ebd c\xf3 th\u1ec3 xem, t\u1ea3i xu\u1ed1ng v\xe0 chia s\u1ebb. T\u1eadn h\u01b0\u1edfng t\u1ea5t c\u1ea3 m\u1ed9t l\u1ea7n n\u1eefa v\xe0 m\u1ed9t l\u1ea7n n\u1eefa. "),y()()()()()()()(),m(226,"div",101)(227,"div",102)(228,"h4"),w(229,"\u0110\u1eb7t l\u1ecbch ch\u1ee5p t\u1ef1 \u0111\u1ed9ng"),y(),be(230,Ade,2,1,"div",103),m(231,"div",104)(232,"div",105)(233,"label",106),w(234,"Ng\xe0y ch\u1ee5p:"),y(),m(235,"app-date-picker",107),G("selectedDateChange",function(s){return i.onDateChange(s)})("selectedDateChange",function(s){return i.selectedDateU=s}),y()(),m(236,"div",108)(237,"label",109),w(238,"Th\u1eddi l\u01b0\u1ee3ng (gi\u1edd):"),y(),m(239,"app-custom-select",110),G("selectedOptionChange",function(s){return i.onOptionTLChange(s)})("selectedOptionChange",function(s){return i.selectedOptionTL=s}),m(240,"option",111),w(241,"1 gi\u1edd"),y(),m(242,"option",112),w(243,"2 gi\u1edd"),y(),m(244,"option",113),w(245,"3 gi\u1edd"),y(),m(246,"option",114),w(247,"4 gi\u1edd"),y(),m(248,"option",115),w(249,"5 gi\u1edd"),y(),m(250,"option",116),w(251,"6 gi\u1edd"),y(),m(252,"option",117),w(253,"7 gi\u1edd"),y(),m(254,"option",118),w(255,"8 gi\u1edd"),y()()(),m(256,"div",119)(257,"label",120),w(258,"Gi\u1edd h\u1eb9n:"),y(),m(259,"input",121),G("ngModelChange",function(s){return i.setTimeVal=s}),y()(),m(260,"div",122)(261,"label",109),w(262,"Lo\u1ea1i ch\u1ee5p"),y(),m(263,"app-custom-select",110),G("selectedOptionChange",function(s){return i.onOptionTypeChange(s)})("selectedOptionChange",function(s){return i.selectedOptionType=s}),m(264,"option",123),w(265,"Ch\u1ee5p s\u1ea3n ph\u1ea9m"),y(),m(266,"option",124),w(267,"Ch\u1ee5p ch\xe2n dung"),y(),m(268,"option",125),w(269,"Ch\u1ee5p c\u1ea3nh"),y()()(),m(270,"a",126),G("click",function(){return i.onSubmit()}),w(271,"\u0110\u1eb7t l\u1ecbch"),y(),A(272,"div",50),m(273,"p",127),w(274,"300.000 "),m(275,"span"),w(276,"1 ti\u1ebfng"),y()(),A(277,"div",50),m(278,"span",128),A(279,"i",129),w(280," 15 \u1ea3nh c\xf3 \u0111\u1ed9 ph\xe2n gi\u1ea3i cao \u1edf \u0111\u1ecbnh d\u1ea1ng JPEG "),y(),m(281,"span",128),A(282,"i",129),w(283," \u0110\xe3 ch\u1ec9nh s\u1eeda v\xe0 ch\u1ec9nh m\xe0u "),y(),m(284,"span",128),A(285,"i",129),w(286," Giao h\xe0ng sau 2 ng\xe0y l\xe0m vi\u1ec7c "),y()()(),m(287,"div",130),G("click",function(){return i.hideOrder()}),A(288,"i",131),y()(),m(289,"div",132),G("click",function(){return i.showOrder()}),A(290,"i",75),y(),m(291,"div",133)(292,"div",134)(293,"div",135)(294,"div",136)(295,"h2"),w(296),y(),A(297,"div",50),y(),m(298,"div",137)(299,"div",138)(300,"div",139),be(301,Dde,4,1,"div",140),be(302,Sde,4,1,"div",140),y()()(),m(303,"div",141)(304,"div",142)(305,"input",143),G("change",function(s){return i.onFileInputChange(s)}),y(),m(306,"a",144),G("click",function(){return i.triggerFileInput()}),w(307,"Ta\u0309i l\xean"),y()(),m(308,"div",145)(309,"a",146),G("click",function(){return i.submitRepair()}),w(310,"C\xe2\u0323p nh\xe2\u0323t"),y()()(),m(311,"a",147),G("click",function(){return i.closeAsk()}),A(312,"i",131),y()()()(),m(313,"div",148)(314,"div",149)(315,"div",150)(316,"div",151)(317,"h2"),w(318,"Th\xeam m\u1edbi"),y(),A(319,"div",50),y(),m(320,"div",152)(321,"div",153)(322,"label",154),w(323,"T\xean"),y(),m(324,"input",155),G("ngModelChange",function(s){return i.portfo_name=s}),y()(),m(325,"div",156)(326,"div",157)(327,"label",158),w(328,"\u1ea2nh"),y(),m(329,"input",159),G("change",function(s){return i.previewImages(s)}),y()(),m(330,"div",160),be(331,Rde,5,1,"div",161),y()(),m(332,"div",162)(333,"div",163),G("click",function(){return i.addNewPortfo()}),m(334,"a",164),w(335,"Up"),y()()()(),m(336,"a",165),G("click",function(){return i.closeNewPortfo()}),A(337,"i",131),y()()()(),m(338,"div",166),G("click",function(){return i.toggleWarehouse()}),A(339,"i",167),be(340,kde,9,3,"div",168),y()()),2&r&&(S(27),qo("src",null==i.userData||null==i.userData.user?null:i.userData.user.avatar,Or),S(4),Ot(" ",i.nameText," "),S(4),Ot(" ",i.addressText," "),S(11),Ot("",i.expText," n\u0103m kinh nghi\xea\u0323m"),S(1),Z("ngClass",i.isShowForMeEdit?"show":""),S(2),Z("ngModel",i.nameText),S(1),Z("ngModel",i.addressText),S(1),Z("ngModel",i.expText),S(26),Ot(" ",i.desText," "),S(5),Ot(" ",i.prizeText," "),S(5),Ot(" ",i.interestText," "),S(3),Z("ngClass",i.isShowIcEdit?"show":""),S(2),Z("ngModel",i.desText),S(1),Ot("                                ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.description,"\n                            "),S(4),Z("ngModel",i.prizeText),S(1),Ot("                                ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.prize,"\n                            "),S(4),Z("ngModel",i.interestText),S(1),Ot("                                ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.interest,"\n                            "),S(17),Ot(" ",i.languageText," "),S(7),Ot(" ",i.cameraText," "),S(3),Z("ngClass",i.isShowFeEdit?"show":""),S(9),Z("ngModel",i.languageText),S(1),Ot("                                ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.language,"\n                            "),S(6),Z("ngModel",i.cameraText),S(1),Ot("                                ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.camera,"\n                            "),S(14),Z("ngForOf",null==i.decesData?null:i.decesData.category),S(65),Z("ngClass",i.isShowOrder?"show":""),S(4),Z("ngIf",i.isError),S(5),Z("selectedDate",i.selectedDateU)("textDefault","Ng\xe0y"),S(4),Z("selectedOption",i.selectedOptionTL)("textDefault","Th\u1eddi l\u01b0\u1ee3ng"),S(20),Z("ngModel",i.setTimeVal),S(4),Z("selectedOption",i.selectedOptionType)("textDefault","Ch\u1ecdn lo\u1ea1i ch\u1ee5p"),S(26),Z("ngClass",i.isShowOrder?"hide":""),S(2),Z("ngClass",i.isShowAskRepair?"active":""),S(5),Ge(i.modalName),S(5),Z("ngForOf",i.modalImagesRepair),S(1),Z("ngForOf",i.imageData),S(11),Z("ngClass",i.isShowAddPortfo?"active":""),S(11),Z("ngModel",i.portfo_name),S(7),Z("ngForOf",i.imagePreviews),S(9),Z("ngIf",i.isShowWarehouse))},dependencies:[Cs,wo,Po,kr,q0,K0,pl,Zu,Mm,ml,zT,WT],styles:['@charset "UTF-8";.forMe-wrapper[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:5rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:3rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   .avatar-image[_ngcontent-%COMP%]{height:130px;width:130px;object-fit:cover;border-radius:50%}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]{width:100%;position:relative}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-name[_ngcontent-%COMP%]{width:100%;position:relative;display:flex;justify-content:flex-start;align-items:center;column-gap:2rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-name[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:2px 0;color:var(--color-primary);font-weight:700;font-size:28px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-name[_ngcontent-%COMP%]   .btn-edit-forMe[_ngcontent-%COMP%]{cursor:pointer;width:28px;height:28px;font-size:28px;display:flex;justify-content:center;align-items:center}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-address[_ngcontent-%COMP%]{margin:4px 0;font-size:15px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-rate[_ngcontent-%COMP%]{margin:.5rem 0;display:flex;justify-content:flex-start;column-gap:.75rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:16px;width:16px;object-fit:cover}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-rate[_ngcontent-%COMP%]   .rate-text[_ngcontent-%COMP%]{font-size:15px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-exp[_ngcontent-%COMP%]{margin:4px 0}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .forMe-edit[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#e8e8e8;border-radius:.3rem;overflow-y:auto;padding:1rem 2rem;display:none}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .forMe-edit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-top:1em;width:100%;height:40px;border:none;outline:none;border-radius:.3rem;background-color:#ddd;padding:5px 10px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .forMe-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]{position:sticky;right:0;bottom:0rem;display:flex;justify-content:flex-end;column-gap:.5rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .forMe-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{line-height:35px;color:var(--color-light);padding:0 15px;background-color:var(--color-primary);text-decoration:none;border-radius:.3rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .forMe-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background-color:#b8b8b8;color:#000}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .forMe-edit.show[_ngcontent-%COMP%]{display:block}.infor-title-list[_ngcontent-%COMP%]{padding-left:2rem}.infor-title-list[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:4rem;flex-wrap:wrap;row-gap:2rem}.infor-title-list[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]   .it-item[_ngcontent-%COMP%]{list-style:none;display:inline}.infor-title-list[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]   .it-item[_ngcontent-%COMP%]   .it-link[_ngcontent-%COMP%]{text-decoration:none;display:block;font-weight:700;color:var(--color-primary);font-size:20px;text-wrap:nowrap}.infor-content-list[_ngcontent-%COMP%]{padding-top:1.5rem;padding-left:2rem;position:relative}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .prize[_ngcontent-%COMP%]   .prize-title[_ngcontent-%COMP%]{color:var(--color-primary);font-size:20px;font-weight:700}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .interest[_ngcontent-%COMP%]   .interest-title[_ngcontent-%COMP%]{font-weight:700;font-size:20px;color:var(--color-primary)}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .btn-ic-edit[_ngcontent-%COMP%]{cursor:pointer;width:100%;display:flex;justify-content:center;font-size:28px}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .ic-edit[_ngcontent-%COMP%]{display:none;position:absolute;top:0;left:0;width:100%;height:100%;background-color:#e8e8e8;border-radius:.5rem;padding:1.5rem 2rem}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .ic-edit[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin-top:1em;width:100%;height:80px;border:none;outline:none;border-radius:.3rem;background-color:#ddd;padding:5px 10px}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .ic-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]{position:sticky;right:0;bottom:0;display:flex;justify-content:flex-end;column-gap:.5rem}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .ic-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{line-height:35px;color:var(--color-light);padding:0 15px;background-color:var(--color-primary);text-decoration:none;border-radius:.3rem}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .ic-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background-color:#b8b8b8;color:#000}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .ic-edit.show[_ngcontent-%COMP%]{display:block}.feature-wrapper[_ngcontent-%COMP%]{padding-left:2rem;padding-top:.5rem;position:relative}.feature-wrapper[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:700;font-size:20px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]{position:relative}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   .language-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   .language-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   .language-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:var(--color-primary);font-weight:700}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-left:3rem;font-size:18px;margin-top:0}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   .camera-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   .camera-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   .camera-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:var(--color-primary);font-weight:700}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:0;padding-left:3rem;font-size:18px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .btn-feature-edit[_ngcontent-%COMP%]{cursor:pointer;width:100%;display:flex;justify-content:center;font-size:28px}.feature-wrapper[_ngcontent-%COMP%]   .feature-edit[_ngcontent-%COMP%]{display:none;position:absolute;top:0;left:0;width:100%;height:100%;background-color:#e8e8e8;border-radius:.5rem;padding:.5rem 2rem;overflow-y:auto}.feature-wrapper[_ngcontent-%COMP%]   .feature-edit[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin-top:1em;width:100%;height:80px;border:none;outline:none;border-radius:.3rem;background-color:#ddd;padding:5px 10px}.feature-wrapper[_ngcontent-%COMP%]   .feature-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]{position:sticky;right:0;bottom:1rem;display:flex;justify-content:flex-end;column-gap:.5rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{line-height:35px;color:var(--color-light);padding:0 15px;background-color:var(--color-primary);text-decoration:none;border-radius:.3rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-edit[_ngcontent-%COMP%]   .btn-edit-control[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background-color:#b8b8b8;color:#000}.feature-wrapper[_ngcontent-%COMP%]   .feature-edit.show[_ngcontent-%COMP%]{display:block}.portfolio[_ngcontent-%COMP%]{padding-left:2rem;padding-right:25%;padding-top:.5rem}.portfolio[_ngcontent-%COMP%]   .portfolio-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:2rem;align-items:center}.portfolio[_ngcontent-%COMP%]   .portfolio-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;color:var(--color-warning)}.portfolio[_ngcontent-%COMP%]   .portfolio-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:25px;display:flex;justify-content:center;align-items:center;text-decoration:none;color:var(--color-text-body)}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-auto-rows:1fr;gap:2rem}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-text-body);text-decoration:none}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   .portfolio-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:250px;object-fit:cover}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   .it-footer[_ngcontent-%COMP%]{position:relative}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   .it-footer[_ngcontent-%COMP%]   .it-cate[_ngcontent-%COMP%]{font-size:20px;margin-bottom:10px}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   .it-footer[_ngcontent-%COMP%]   .btn-portfolio-edit[_ngcontent-%COMP%]{cursor:pointer;width:100%;display:flex;justify-content:flex-end;font-size:28px;position:absolute;right:1.5rem;top:50%;transform:translateY(-50%);z-index:1}.appraise[_ngcontent-%COMP%]{padding-left:2rem;padding-top:.5rem}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--color-warning);font-weight:700}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;column-gap:.5rem}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:15px;width:15px;object-fit:cover}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   .rate-text[_ngcontent-%COMP%]{font-weight:700}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:.75rem}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]   .header-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;object-fit:cover}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]   .header-name[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:700}.how-it-works[_ngcontent-%COMP%]{padding-left:1.5rem;padding-top:.5rem}.how-it-works[_ngcontent-%COMP%]   .hiw-title[_ngcontent-%COMP%]{color:var(--color-warning);font-weight:700}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;flex-direction:column}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{font-size:30px;color:var(--color-primary)}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]   .title-text[_ngcontent-%COMP%]{margin:8px 0;font-size:20px;font-weight:700;color:var(--color-primary)}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:2rem;align-items:center;height:100%}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .content-deliver[_ngcontent-%COMP%]{display:flex;justify-content:center;height:auto;width:3px;margin-left:12px;background-color:var(--color-primary)}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .content-deliver[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;height:100%}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .content-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 400px 0 4rem}.content-wrapper[_ngcontent-%COMP%]   .info-wrapper[_ngcontent-%COMP%]   .deliver-line[_ngcontent-%COMP%]{height:2px;width:100%;margin:1.5rem 0;background-color:var(--color-primary)}.order-wrapper[_ngcontent-%COMP%]{background-color:var(--color-bg-body);position:fixed;top:100px;right:50px;border-radius:.3rem;box-shadow:0 2px 5px #0003;z-index:600}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]{width:300px;min-height:500px;max-height:calc(100vh - 100px);padding:20px;overflow-y:auto}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--color-light)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--color-secondary);border-radius:4px;border:2px solid var(--color-light)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;color:#333;font-size:20px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .mess-valid[_ngcontent-%COMP%]{font-size:14px;color:red}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .filter-date-picker[_ngcontent-%COMP%]{z-index:999}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;margin-top:.5rem}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%], .order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   input[type=time][_ngcontent-%COMP%], .order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:4px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:10px 15px;border:none;border-radius:4px;text-decoration:none;margin-top:1rem;text-align:center}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#0056b3}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .deliver-line[_ngcontent-%COMP%]{height:2px;width:100%;margin:1rem 0;background-color:var(--color-secondary)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .p-footer[_ngcontent-%COMP%]{color:var(--color-warning);font-weight:700;margin:0;padding-left:.5rem}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .p-footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--color-text-body)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .sug-foot[_ngcontent-%COMP%]{font-size:13px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .sug-foot[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--color-warning);font-size:18px}.order-wrapper[_ngcontent-%COMP%]   .btn-close-order[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-8px;font-size:30px;color:#000;cursor:pointer;height:30px;width:30px;border-radius:50%;background-color:var(--color-secondary);display:none}.toggle-order-wrapper[_ngcontent-%COMP%]{position:fixed;bottom:5rem;right:1rem;width:40px;height:40px;background-color:var(--color-primary);z-index:999;display:none;font-size:30px;border-radius:50%;padding-top:3.5px;padding-left:5px;color:var(--color-light)}.ask-repair-wrapper[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;z-index:999}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]{width:100%;height:100vh;padding-top:100px;display:flex;justify-content:center;align-items:center;position:relative}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]{height:80%;width:90%;margin:auto;background-color:var(--color-light);position:absolute;transform:translateY(-200%);padding:0 1rem}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-title[_ngcontent-%COMP%]{height:100px}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .deliver-line[_ngcontent-%COMP%]{height:2px;width:100%;margin:1.5rem 0;background-color:var(--color-primary)}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]{max-height:calc(100% - 150px);overflow-y:auto;padding-top:1rem}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-picture[_ngcontent-%COMP%]{height:100%;padding-right:1rem}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]{height:100%;display:grid;grid-template-columns:repeat(4,1fr);gap:1rem}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-item[_ngcontent-%COMP%]{grid-column:span 1;width:100%;position:relative}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-item[_ngcontent-%COMP%]   .btn-del-image[_ngcontent-%COMP%]{position:absolute;top:-.4rem;right:-.3rem;font-size:22px;width:22px;height:22px;display:flex;justify-content:center;align-items:center;border-radius:50%;background-color:var(--color-secondary);text-decoration:none;color:#000;padding-top:1px}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-picture[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-item.hide[_ngcontent-%COMP%]{display:none}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .ask-repair-button[_ngcontent-%COMP%]{position:absolute;bottom:1.5rem;right:1.5rem;color:#000;border-radius:50%;display:flex;justify-content:center;align-items:center;column-gap:1rem}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .ask-repair-button[_ngcontent-%COMP%]   .rs-left[_ngcontent-%COMP%]{border-radius:.35rem;background-color:var(--color-warning);display:flex;justify-content:center;align-items:center;padding:5px 8px}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .ask-repair-button[_ngcontent-%COMP%]   .rs-left[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--color-light)}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .ask-repair-button[_ngcontent-%COMP%]   .rs-right[_ngcontent-%COMP%]{border-radius:.35rem;background-color:var(--color-primary);display:flex;justify-content:center;align-items:center;padding:5px 8px}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .ask-repair-button[_ngcontent-%COMP%]   .rs-right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--color-light)}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .btn-close-ask[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;color:#000;font-weight:700;font-size:28px;width:25px;height:25px;border-radius:50%;display:flex;justify-content:center;align-items:center;text-decoration:none}.ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .btn-close-ask[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary);color:#000;transform:rotate(35deg)}.ask-repair-wrapper.active[_ngcontent-%COMP%]{display:block}.ask-repair-wrapper.active[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]{transform:translateY(0)}.add-new-portfo[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;z-index:999}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]{width:100%;height:100vh;padding-top:100px;display:flex;justify-content:center;align-items:center;position:relative}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]{height:80%;width:90%;margin:auto;background-color:var(--color-light);position:absolute;transform:translateY(-200%);padding:0 1rem;border:1px solid #ddd;border-radius:5px;display:flex;flex-direction:column;gap:20px}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-title[_ngcontent-%COMP%]{text-align:center;font-size:24px;height:100px}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .deliver-line[_ngcontent-%COMP%]{width:100%;height:2px;background-color:#333;margin:10px 0}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]{max-height:calc(100% - 150px);overflow-y:auto;padding-top:1rem;display:flex;flex-direction:column;gap:20px}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .name-wapper[_ngcontent-%COMP%]{display:flex}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .name-wapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-right:1rem}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .name-wapper[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:5px;border:1px solid #ccc;border-radius:3px}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   .upload-control[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-right:1rem}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   .upload-control[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{padding:5px;border:1px solid #ccc;border-radius:3px}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   .list-preview[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;gap:10px}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   .list-preview[_ngcontent-%COMP%]   .preview-item[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]{position:relative}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   .list-preview[_ngcontent-%COMP%]   .preview-item[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:200px;object-fit:cover}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   .list-preview[_ngcontent-%COMP%]   .preview-item[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .item-close[_ngcontent-%COMP%]{position:absolute;top:-.4rem;right:-.3rem;font-size:22px;width:22px;height:22px;display:flex;justify-content:center;align-items:center;border-radius:50%;background-color:var(--color-secondary);text-decoration:none;color:#000;padding-top:1px}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .submit-portfo-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .submit-portfo-wrapper[_ngcontent-%COMP%]   .btn-add-portfo[_ngcontent-%COMP%]{border-radius:.35rem;background-color:var(--color-primary);display:flex;justify-content:center;align-items:center;padding:10px 25px;margin-top:2rem;cursor:pointer}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .new-portfo-cont[_ngcontent-%COMP%]   .submit-portfo-wrapper[_ngcontent-%COMP%]   .btn-add-portfo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--color-light)}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .btn-close-newPortfo[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;color:#000;font-weight:700;font-size:28px;width:25px;height:25px;border-radius:50%;display:flex;justify-content:center;align-items:center;text-decoration:none}.add-new-portfo[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]   .btn-close-newPortfo[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary);color:#000;transform:rotate(35deg)}.add-new-portfo.active[_ngcontent-%COMP%]{display:block!important}.add-new-portfo.active[_ngcontent-%COMP%]   .new-portfo-container[_ngcontent-%COMP%]   .new-portfo-content[_ngcontent-%COMP%]{transform:translateY(0)}.profile-content[_ngcontent-%COMP%]{position:relative;margin-top:6rem}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(9,1fr);column-gap:.3rem;height:500px}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall2[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall4[_ngcontent-%COMP%]{grid-column:span 2;height:500px}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall4[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:.3rem}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-2[_ngcontent-%COMP%]{height:calc(250px - .15rem)}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-2[_ngcontent-%COMP%]{height:calc(250px - .15rem)}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-2[_ngcontent-%COMP%]{height:calc(250px - .15rem)}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.toggle-warehouse-wrapper[_ngcontent-%COMP%]{position:fixed;bottom:2rem;right:1rem;width:40px;height:40px;background-color:var(--color-primary);z-index:999;font-size:30px;border-radius:50%;padding-top:3.5px;padding-left:5px;color:var(--color-light)}.toggle-warehouse-wrapper[_ngcontent-%COMP%]   .warehouse-menu[_ngcontent-%COMP%]{position:absolute;right:calc(100% + 1rem);bottom:50%;display:flex;flex-direction:column;min-width:200px;background-color:var(--color-warning);padding:.25rem 1rem;border-radius:.35rem}.toggle-warehouse-wrapper[_ngcontent-%COMP%]   .warehouse-menu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:16px;text-decoration:none;color:var(--color-light);line-height:2.5em;position:relative}.toggle-warehouse-wrapper[_ngcontent-%COMP%]   .warehouse-menu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-light);bottom:-1px;left:0;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.toggle-warehouse-wrapper[_ngcontent-%COMP%]   .warehouse-menu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.toggle-warehouse-wrapper[_ngcontent-%COMP%]   .warehouse-menu[_ngcontent-%COMP%]   .close-warehouse[_ngcontent-%COMP%]{position:absolute;top:-.4rem;right:-.3rem;font-size:22px;width:22px;height:22px;display:flex;justify-content:center;align-items:center;border-radius:50%;background-color:var(--color-warning);text-decoration:none;color:var(--color-light);padding-top:1px}@media (max-width: 1200px){.picture-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)!important}}@media (max-width: 991.98px){.order-wrapper[_ngcontent-%COMP%]{display:none}.order-wrapper.show[_ngcontent-%COMP%]{display:block}.toggle-order-wrapper[_ngcontent-%COMP%]{display:block!important}.toggle-order-wrapper.hide[_ngcontent-%COMP%]{display:none!important}.btn-close-order[_ngcontent-%COMP%]{display:block!important}.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 2rem 0!important}.profile-content[_ngcontent-%COMP%]   .ic-edit[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .feature-edit[_ngcontent-%COMP%]{padding-right:0!important}.picture-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 767.98px){.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 2rem 0!important}.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]{flex-direction:column;row-gap:2rem}.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .info-wrapper[_ngcontent-%COMP%]   .portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}@media (max-width: 575.98px){.picture-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}}']}),e})();const Fde=[{path:"",component:w4,title:"Home"},{path:"home",component:w4,title:"Home"}],Lde=[{path:"",component:P4,title:"Collection"},{path:"all",component:P4,title:"Collection"}],Vde=[{path:"login",component:Fce,title:"Login"},{path:"register",component:ude,title:"Register"}],Ude=[{path:"",component:w9,title:"User"},{path:"all",component:w9,title:"User"}],Bde=[{path:"",component:Nde,title:"Partner | Profile"}],jde=[{path:"",component:P9,title:"Admin | Home"},{path:"home",component:P9,title:"Admin | Home"},{path:"order",component:pde,title:"Admin | Order List"},{path:"order-accept",component:gde,title:"Admin | Order Accept"}];let cP=(()=>{var t;class e{constructor(){this.eventMap={}}registerEvent(r){return this.eventMap[r]||(this.eventMap[r]=new U(null)),this.eventMap[r].asObservable()}emitEvent(r,i){this.eventMap[r]&&this.eventMap[r].next(i)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const $de=["iconToggle"],Hde=["headerContentMobile"],zde=["inputSearchMobile"],Wde=["menuDropdown"],Gde=["menuDropdown1"],qde=["itemDropdown"],Kde=["itemDropdown1"];function Zde(t,e){1&t&&(m(0,"div",59)(1,"p"),w(2,"H\xe0 N\u1ed9i"),y(),m(3,"p"),w(4,"H\u1ed3 Ch\xed Minh"),y(),m(5,"p"),w(6,"Ch\xe2n dung"),y(),m(7,"p"),w(8,"S\u1ef1 ki\u1ec7n"),y()())}function Yde(t,e){if(1&t){const n=gi();m(0,"div",64)(1,"a",65),w(2,"Profile"),y(),m(3,"a",66),G("click",function(){return Xn(n),Rn(Vt(2).logout())}),w(4,"\u0110\u0103ng xu\u1ea5t"),y()()}}function Qde(t,e){if(1&t){const n=gi();Tu(0),m(1,"li",60),G("click",function(){return Xn(n),Rn(Vt().toggleDropdownLo())}),m(2,"div",61),A(3,"img",62),y(),be(4,Yde,5,0,"div",63),y(),Au()}if(2&t){const n=Vt();S(4),Z("ngIf",n.showDropdown)}}function Xde(t,e){1&t&&(m(0,"li",67)(1,"a",68),w(2,"\u1ea2nh c\u1ee7a t\xf4i"),y()(),m(3,"li",67)(4,"a",69),w(5,"\u0110\u0103ng nh\u1eadp"),y()(),m(6,"li",67)(7,"a",70),w(8,"\u0110\u0103ng k\xfd"),y()())}function Jde(t,e){1&t&&(m(0,"div",71)(1,"p"),w(2,"H\xe0 N\u1ed9i"),y(),m(3,"p"),w(4,"H\u1ed3 Ch\xed Minh"),y(),m(5,"p"),w(6,"Ch\xe2n dung"),y(),m(7,"p"),w(8,"S\u1ef1 ki\u1ec7n"),y()())}function ehe(t,e){1&t&&A(0,"i",72)}function the(t,e){1&t&&A(0,"i",73)}function nhe(t,e){1&t&&A(0,"i",72)}function rhe(t,e){1&t&&A(0,"i",73)}const xm=function(t){return{show:t}},O9=function(t){return{active:t}};let GT=(()=>{var t;class e{constructor(r){this.eventService=r,this.isMenuVisible=!1,this.isSearchMobileVisible=!1,this.isDropdownVisible=!1,this.isDropdown1Visible=!1,this.inputSearchMobileValue="",this.inputSearchValue="",this.toggleSuggestMobile=!1,this.toggleSuggest=!1,this.loggedIn=!1,this.showDropdown=!1}showMenu(){this.isMenuVisible=!0}hideMenu(){this.isMenuVisible=!1}showSearchMobile(){this.isSearchMobileVisible=!0,this.isSearchMobileVisible&&setTimeout(()=>{this.inputSearchMobile.nativeElement.focus()})}hideSearchMobile(){this.isSearchMobileVisible=!1,this.toggleSuggestMobile=!1,this.inputSearchMobileValue=""}toggleDropdown(){this.isDropdownVisible=!this.isDropdownVisible}toggleDropdown1(){this.isDropdown1Visible=!this.isDropdown1Visible}onChangeInputSearchMobile(r){this.inputSearchMobileValue=r.target.value,this.toggleSuggestMobile=""!==this.inputSearchMobileValue.trim()}onChangeInputSearch(r){this.inputSearchValue=r.target.value,this.toggleSuggest=""!==this.inputSearchValue.trim()}closeDropdown(r){!this.headerContentMobile.nativeElement.contains(r.target)&&!this.iconToggle.nativeElement.contains(r.target)&&this.isMenuVisible&&(this.isMenuVisible=!1),!this.menuDropdown.nativeElement.contains(r.target)&&!this.itemDropdown.nativeElement.contains(r.target)&&this.isDropdownVisible&&(this.isDropdownVisible=!1),!this.menuDropdown1.nativeElement.contains(r.target)&&!this.itemDropdown1.nativeElement.contains(r.target)&&this.isDropdown1Visible&&(this.isDropdown1Visible=!1)}toggleDropdownLo(){this.showDropdown=!this.showDropdown}logout(){this.loggedIn=!1}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(cP))},t.\u0275cmp=Tt({type:t,selectors:[["app-header"]],viewQuery:function(r,i){if(1&r&&(Jn($de,5),Jn(Hde,5),Jn(zde,5),Jn(Wde,5),Jn(Gde,5),Jn(qde,5),Jn(Kde,5)),2&r){let o;jn(o=$n())&&(i.iconToggle=o.first),jn(o=$n())&&(i.headerContentMobile=o.first),jn(o=$n())&&(i.inputSearchMobile=o.first),jn(o=$n())&&(i.menuDropdown=o.first),jn(o=$n())&&(i.menuDropdown1=o.first),jn(o=$n())&&(i.itemDropdown=o.first),jn(o=$n())&&(i.itemDropdown1=o.first)}},hostBindings:function(r,i){1&r&&G("mousedown",function(s){return i.closeDropdown(s)},0,Iu)},decls:103,vars:31,consts:[[1,"layout-header"],[1,"header-container"],[1,"header-content"],[1,"brand"],[1,"brand-logo"],["routerLink","/home"],["src","./assets/images/logoo.png","alt","",1,"brand-image"],[1,"search-bar"],[1,"search-container"],[1,"search-content"],["id","search-input","type","text","placeholder","D\u1ecbch v\u1ee5 b\u1ea1n \u0111ang t\xecm ki\u1ebfm ?",3,"ngModel","ngModelChange","input"],["inputSearch",""],["id","search-icon","href","javascript:void(0)"],[1,"bx","bx-search"],["class","search-suggest",4,"ngIf"],[1,"header-content-right"],[4,"ngIf","ngIfElse"],["notLoggedInBlock",""],[1,"icon-toggle-bar"],["href","javascript:void(0)",1,"toggle-search",3,"click"],["href","javascript:void(0)",1,"toggle-menu",3,"click"],["iconToggle",""],[1,"bx","bx-menu"],[1,"search-mobile",3,"ngClass"],[1,"search-bar-mobile"],["type","text","name","","id","","placeholder","D\u1ecbch v\u1ee5 b\u1ea1n \u0111ang t\xecm ki\u1ebfm ?",1,"search-input-mobile",3,"ngModel","ngModelChange","input"],["inputSearchMobile",""],["href","javascript:void(0)",1,"search-iconClose-mobile",3,"click"],[1,"bx","bx-x"],["class","search-suggest-mobile",4,"ngIf"],[1,"header-content-mobile",3,"ngClass"],["headerContentMobile",""],[1,"header-mobile-inner"],[1,"brand-mobile"],[1,"brand-logo-mobile"],["src","./assets/images/logoo.png","alt","",1,"brand-image-mobile"],[1,"menu-container-mobile"],[1,"menu-item",3,"ngClass"],["itemDropdown",""],["href","javascript:void(0)",1,"menu-link",3,"click"],["class","bx bx-collapse-vertical",4,"ngIf"],["class","bx bx-expand-vertical",4,"ngIf"],[1,"menu-dropdown",3,"ngClass"],["menuDropdown",""],[1,"menu-dropdown-item"],["routerLink","/collection",1,"menu-dropdown-link"],["itemDropdown1",""],["menuDropdown1",""],[1,"menu-item"],["routerLink","/collection",1,"menu-link"],[1,"control-mobile"],[1,"control-item","item-col"],["routerLink","/refund-picture",1,"control-link"],[1,"control-item"],["routerLink","/auth/login",1,"control-link"],["routerLink","/auth/register",1,"control-link"],[1,"close-menu"],["href","javascript:void(0)",1,"close-menu-icon",3,"click"],[1,"header-overlay",3,"ngClass"],[1,"search-suggest"],[1,"cright-item",3,"click"],[1,"avatar"],["src","link_to_user_image.jpg","alt","Avatar"],["class","dropdown-menu",4,"ngIf"],[1,"dropdown-menu"],[1,"dropdown-item"],[1,"dropdown-item",3,"click"],[1,"cright-item"],["routerLink","/refund-picture",1,"cright-link"],["routerLink","/auth/login",1,"cright-link"],["routerLink","/auth/register",1,"cright-link"],[1,"search-suggest-mobile"],[1,"bx","bx-collapse-vertical"],[1,"bx","bx-expand-vertical"]],template:function(r,i){if(1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5),A(6,"img",6),y()()(),m(7,"div",7)(8,"div",8)(9,"div",9)(10,"input",10,11),G("ngModelChange",function(s){return i.inputSearchValue=s})("input",function(s){return i.onChangeInputSearch(s)}),y(),m(12,"a",12),A(13,"i",13),y()(),be(14,Zde,9,0,"div",14),y()(),m(15,"div",15),be(16,Qde,5,1,"ng-container",16),be(17,Xde,9,0,"ng-template",null,17,jI),y(),m(19,"div",18)(20,"a",19),G("click",function(){return i.showSearchMobile()}),A(21,"i",13),y(),m(22,"a",20,21),G("click",function(){return i.showMenu()}),A(24,"i",22),y()(),m(25,"div",23)(26,"div",24)(27,"input",25,26),G("ngModelChange",function(s){return i.inputSearchMobileValue=s})("input",function(s){return i.onChangeInputSearchMobile(s)}),y(),m(29,"a",27),G("click",function(){return i.hideSearchMobile()}),A(30,"i",28),y()(),be(31,Jde,9,0,"div",29),y()(),m(32,"div",30,31)(34,"div",32)(35,"div",33)(36,"div",34)(37,"a",5),A(38,"img",35),y()()(),m(39,"div",36)(40,"li",37,38)(42,"a",39),G("click",function(){return i.toggleDropdown()}),w(43,"Du l\u1ecbch "),be(44,ehe,1,0,"i",40),be(45,the,1,0,"i",41),y(),m(46,"ul",42,43)(48,"li",44)(49,"a",45),w(50,"Ch\xe2n dung"),y()(),m(51,"li",44)(52,"a",45),w(53,"Phong c\u1ea3nh"),y()(),m(54,"li",44)(55,"a",45),w(56,"\u0110\u01b0\u1eddng ph\u1ed1"),y()(),m(57,"li",44)(58,"a",45),w(59,"Th\u1ec3 thao"),y()(),m(60,"li",44)(61,"a",45),w(62,"K\u1ef7 y\u1ebfu"),y()()()(),m(63,"li",37,46)(65,"a",39),G("click",function(){return i.toggleDropdown1()}),w(66,"Lookbook "),be(67,nhe,1,0,"i",40),be(68,rhe,1,0,"i",41),y(),m(69,"ul",42,47)(71,"li",44)(72,"a",45),w(73,"Th\u1eddi trang"),y()(),m(74,"li",44)(75,"a",45),w(76,"Ph\u1ee5 ki\u1ec7n"),y()(),m(77,"li",44)(78,"a",45),w(79,"M\u1ef9 ph\u1ea9m"),y()(),m(80,"li",44)(81,"a",45),w(82,"Th\u1ef1c ph\u1ea9m"),y()()()(),m(83,"li",48)(84,"a",49),w(85,"Catalogue"),y()(),m(86,"li",48)(87,"a",49),w(88,"Kh\xe1c"),y()()(),m(89,"div",50)(90,"li",51)(91,"a",52),w(92,"\u1ea2nh c\u1ee7a t\xf4i"),y()(),m(93,"li",53)(94,"a",54),w(95," \u0110\u0103ng nh\u1eadp "),y()(),m(96,"li",53)(97,"a",55),w(98," \u0110\u0103ng k\xfd "),y()()(),m(99,"div",56)(100,"a",57),G("click",function(){return i.hideMenu()}),A(101,"i",28),y()()()()(),A(102,"div",58),y()),2&r){const o=yI(18);S(10),Z("ngModel",i.inputSearchValue),S(4),Z("ngIf",i.toggleSuggest),S(2),Z("ngIf",i.loggedIn)("ngIfElse",o),S(9),Z("ngClass",_i(17,xm,i.isSearchMobileVisible)),S(2),Z("ngModel",i.inputSearchMobileValue),S(4),Z("ngIf",i.toggleSuggestMobile),S(1),Z("ngClass",_i(19,xm,i.isMenuVisible)),S(8),Z("ngClass",_i(21,O9,i.isDropdownVisible)),S(4),Z("ngIf",!i.isDropdownVisible),S(1),Z("ngIf",i.isDropdownVisible),S(1),Z("ngClass",_i(23,xm,i.isDropdownVisible)),S(17),Z("ngClass",_i(25,O9,i.isDropdown1Visible)),S(4),Z("ngIf",!i.isDropdown1Visible),S(1),Z("ngIf",i.isDropdown1Visible),S(1),Z("ngClass",_i(27,xm,i.isDropdown1Visible)),S(33),Z("ngClass",_i(29,xm,i.isMenuVisible))}},dependencies:[Cs,Po,kr,pl,Zu,ml],styles:['.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;position:relative}.header-content[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%]{display:flex;align-items:center}.header-content[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%]   .brand-image[_ngcontent-%COMP%]{width:5.5rem;height:5.5rem;margin-left:1.5rem;margin-right:1.5rem}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{width:100%;margin:0 2rem}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{position:relative;width:100%;display:flex;justify-content:center}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]{width:100%;height:3rem;position:relative;display:flex;justify-content:center}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   #search-input[_ngcontent-%COMP%]{width:100%;height:100%;border:0;outline:none;background-color:#f0f0f0;border-radius:.3rem;color:var(--color-text-body);padding-left:1.25rem;padding-right:2.75rem}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   #search-input[_ngcontent-%COMP%]::placeholder{color:var(--color-text-body)}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   #search-icon[_ngcontent-%COMP%]{position:absolute;right:1rem;top:50%;transform:translateY(-50%);color:var(--color-text-body);display:flex;justify-content:center;align-items:center;text-decoration:none;font-weight:700;font-size:26px;border-radius:.3rem;padding-top:2px}.header-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-suggest[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 1.5rem - 1.5px);left:0;background-color:var(--color-bg-body);width:100%;min-height:250px;border-radius:.5rem;box-shadow:0 2px 5px #0003;padding:20px}.header-content[_ngcontent-%COMP%]   .header-content-right[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end}.header-content[_ngcontent-%COMP%]   .header-content-right[_ngcontent-%COMP%]   .cright-item[_ngcontent-%COMP%]{text-wrap:nowrap;list-style:none;padding:0 1rem}.header-content[_ngcontent-%COMP%]   .header-content-right[_ngcontent-%COMP%]   .cright-item[_ngcontent-%COMP%]   .cright-link[_ngcontent-%COMP%]{position:relative;text-decoration:none;color:var(--color-text-body);font-size:18px}.header-content[_ngcontent-%COMP%]   .header-content-right[_ngcontent-%COMP%]   .cright-item[_ngcontent-%COMP%]   .cright-link[_ngcontent-%COMP%]:hover{font-size:600;color:var(--color-primary)}.header-content[_ngcontent-%COMP%]   .header-content-right[_ngcontent-%COMP%]   .cright-item[_ngcontent-%COMP%]   .cright-link[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:-.3rem;left:0;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.header-content[_ngcontent-%COMP%]   .header-content-right[_ngcontent-%COMP%]   .cright-item[_ngcontent-%COMP%]   .cright-link[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.header-content[_ngcontent-%COMP%]   .icon-toggle-bar[_ngcontent-%COMP%]{padding-right:1.5rem;display:flex}.header-content[_ngcontent-%COMP%]   .icon-toggle-bar[_ngcontent-%COMP%]   .toggle-menu[_ngcontent-%COMP%]{color:var(--color-dark);font-size:32px;text-align:center;text-decoration:none;display:none}.header-content[_ngcontent-%COMP%]   .icon-toggle-bar[_ngcontent-%COMP%]   .toggle-search[_ngcontent-%COMP%]{color:var(--color-dark);font-size:28px;text-align:center;text-decoration:none;display:none;margin-top:.25rem;margin-right:.75rem}.header-content[_ngcontent-%COMP%]   .search-mobile[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0rem;right:0;left:0;background-color:var(--color-light);display:none}.header-content[_ngcontent-%COMP%]   .search-mobile[_ngcontent-%COMP%]   .search-bar-mobile[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;justify-content:center;align-items:center;position:relative;padding:.5rem 0}.header-content[_ngcontent-%COMP%]   .search-mobile[_ngcontent-%COMP%]   .search-bar-mobile[_ngcontent-%COMP%]   .search-input-mobile[_ngcontent-%COMP%]{height:100%;width:100%;border:0;outline:none;background-color:#f0f0f0;color:var(--color-text-body);padding-left:1.25rem}.header-content[_ngcontent-%COMP%]   .search-mobile[_ngcontent-%COMP%]   .search-bar-mobile[_ngcontent-%COMP%]   .search-input-mobile[_ngcontent-%COMP%]::placeholder{color:var(--color-text-body)}.header-content[_ngcontent-%COMP%]   .search-mobile[_ngcontent-%COMP%]   .search-bar-mobile[_ngcontent-%COMP%]   .search-iconClose-mobile[_ngcontent-%COMP%]{height:2.25rem;width:3rem;padding-right:.75rem;color:var(--color-dark);font-size:28px;text-align:center;position:absolute;right:0rem;top:50%;transform:translateY(-50%);display:flex;justify-content:center;align-items:center;text-decoration:none;font-weight:700;background-color:#f0f0f0}.header-content[_ngcontent-%COMP%]   .search-mobile[_ngcontent-%COMP%]   .search-suggest-mobile[_ngcontent-%COMP%]{position:absolute;width:100vw;height:100vh;background-color:var(--color-light);padding:20px}@media (max-width:991.98px){.header-content[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%]   .brand-image[_ngcontent-%COMP%]{width:4rem!important;height:4rem!important;margin-left:1.5rem!important;margin-right:1rem!important}.header-content[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.search-bar, .header-content-right)[_ngcontent-%COMP%]{display:none!important}.header-content[_ngcontent-%COMP%]   .search-mobile.show[_ngcontent-%COMP%]{display:block!important}.header-content[_ngcontent-%COMP%]   .icon-toggle-bar[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.toggle-menu, .toggle-search)[_ngcontent-%COMP%]{display:block!important}}.header-content-mobile[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:16.25rem;height:100vh;background-color:var(--color-bg-body);display:none;padding-bottom:2.5rem;z-index:1080}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .brand-mobile[_ngcontent-%COMP%]{padding-top:.5rem;position:sticky;top:0;left:0;right:0;margin-bottom:1.5rem;background-color:var(--color-bg-body)}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .brand-mobile[_ngcontent-%COMP%]   .brand-logo-mobile[_ngcontent-%COMP%]{display:flex;justify-content:center}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .brand-mobile[_ngcontent-%COMP%]   .brand-logo-mobile[_ngcontent-%COMP%]   .brand-image-mobile[_ngcontent-%COMP%]{width:5rem;height:5rem;object-fit:cover}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]{margin-bottom:2rem;min-height:calc(100vh - 17.5rem)}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{display:block;list-style:none}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]{padding-left:1.5rem;line-height:2.5rem;width:100%;display:flex;justify-content:space-between;align-items:center;column-gap:.5rem;text-decoration:none;color:var(--color-primary);font-size:18px;padding-right:1.5rem}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]{display:none;margin:0;padding:0}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-item[_ngcontent-%COMP%]{list-style:none}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-item[_ngcontent-%COMP%]   .menu-dropdown-link[_ngcontent-%COMP%]{padding-left:2.25rem;color:var(--color-primary);line-height:2.5rem;width:100%;display:block;text-decoration:none;font-size:17px}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-dropdown.show[_ngcontent-%COMP%]{display:block!important}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   .menu-dropdown[_ngcontent-%COMP%]{background-color:var(--color-bg-body)}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-item[_ngcontent-%COMP%]:hover, .header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item.active[_ngcontent-%COMP%]{background-color:#f5f5f5}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .menu-container-mobile[_ngcontent-%COMP%]   .menu-item.active[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]{background-color:var(--color-bg-body)}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .control-mobile[_ngcontent-%COMP%]{padding:0 1.5rem;display:grid;grid-template-columns:repeat(2,1fr);column-gap:.5rem}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .control-mobile[_ngcontent-%COMP%]   .control-item[_ngcontent-%COMP%]{grid-column:span 1;list-style:none;display:flex;justify-content:flex-start;align-items:center}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .control-mobile[_ngcontent-%COMP%]   .control-item[_ngcontent-%COMP%]   .control-link[_ngcontent-%COMP%]{position:relative;line-height:2.5rem;display:block;text-align:center;text-decoration:none;color:var(--color-primary);font-size:18px}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .control-mobile[_ngcontent-%COMP%]   .control-item[_ngcontent-%COMP%]   .control-link[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:.3rem;left:0;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .control-mobile[_ngcontent-%COMP%]   .control-item[_ngcontent-%COMP%]   .control-link[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .control-mobile[_ngcontent-%COMP%]   .item-col[_ngcontent-%COMP%]{justify-content:flex-start;grid-column:span 2}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .close-menu[_ngcontent-%COMP%]{position:absolute;width:2.25rem;height:2.25rem;top:10px;right:10px;border-radius:50%;background-color:#f6f6f6}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .close-menu[_ngcontent-%COMP%]   .close-menu-icon[_ngcontent-%COMP%]{color:var(--color-primary);text-decoration:none;font-size:28px;display:flex;justify-content:center;align-items:center;padding-top:4px}.header-content-mobile[_ngcontent-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%]   .close-menu[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;transform:rotate(22.5deg)}@media (max-width:991.98px){.header-content-mobile[_ngcontent-%COMP%]{display:block!important;transform:translate(-200%)}.header-content-mobile.show[_ngcontent-%COMP%]{transform:translate(0)!important}}.layout-header[_ngcontent-%COMP%]{height:5.75rem;background-color:var(--color-bg-body);width:100%;display:flex;align-items:center;position:fixed;top:0;z-index:1025}.layout-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]{width:100%;margin:0 auto}.layout-header[_ngcontent-%COMP%]   .header-overlay[_ngcontent-%COMP%]{width:100vw;height:100vh;position:fixed;inset:0;display:none;background:#435971;opacity:.5;cursor:pointer;z-index:999}@media (min-width: 1400px){.layout-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.layout-header[_ngcontent-%COMP%]{box-shadow:0 .5rem 1rem #00000013!important}.layout-header[_ngcontent-%COMP%]   .header-overlay.show[_ngcontent-%COMP%]{display:block!important}}']}),e})(),qT=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tt({type:t,selectors:[["app-footer"]],decls:33,vars:0,consts:[[1,"layout-footer"],[1,"footer-wrapper"],[1,"footer-container"],[1,"footer-content"],[1,"ft-content-left"],[1,"ft-l-title"],[1,"ft-l-text"],["routerLink","",1,"ft-l-link"],[1,"ft-content-middle"],[1,"ft-m-item"],["routerLink","",1,"ft-m-link"],[1,"dots"],[1,"bx","bxs-circle"],[1,"ft-content-right"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),w(6,"V\u1ec1 PhotoHub"),y(),m(7,"p",6),w(8,"PhotoHub l\xe0 trang web h\xe0ng \u0111\u1ea7u Vi\u1ec7t Nam v\u1ec1 k\u1ebft n\u1ed1i nh\u1eefng ng\u01b0\u1eddi \u0111am m\xea v\xe0 chuy\xean nghi\u1ec7p v\u1ec1 nhi\u1ebfp \u1ea3nh v\u1edbi nh\u1eefng qu\xfd kh\xe1ch h\xe0ng mu\u1ed1n l\u01b0u gi\u1eef nh\u1eefng kho\u1ea3nh kh\u1eafc \u0111\u1eb9p nh\u1ea5t trong cu\u1ed9c \u0111\u1eddi "),y(),m(9,"a",7),w(10,"Xem th\xeam"),y()(),m(11,"div",8)(12,"li",9)(13,"a",10),w(14,"Blog"),y()(),m(15,"p",11),A(16,"i",12),y(),m(17,"li",9)(18,"a",10),w(19,"Support"),y()(),m(20,"p",11),A(21,"i",12),y(),m(22,"li",9)(23,"a",10),w(24,"Term"),y()(),m(25,"p",11),A(26,"i",12),y(),m(27,"li",9)(28,"a",10),w(29,"Policy"),y()()(),m(30,"div",13)(31,"p"),w(32,"@2003 PhotoHub"),y()()()()()())},dependencies:[kr],styles:['.layout-footer[_ngcontent-%COMP%]{margin-top:4rem;background-color:var(--color-primary)}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]{width:100%;margin:0 auto;padding:1.5rem 0}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]{padding:0 4rem}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(10,1fr);column-gap:2rem;color:var(--color-light)}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-left[_ngcontent-%COMP%]{grid-column:span 5}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-left[_ngcontent-%COMP%]   .ft-l-title[_ngcontent-%COMP%]{font-size:18px;margin-top:0;margin-bottom:.5rem}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-left[_ngcontent-%COMP%]   .ft-l-link[_ngcontent-%COMP%]{color:var(--color-info);text-decoration:none;position:relative}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-left[_ngcontent-%COMP%]   .ft-l-link[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-info);bottom:-1px;left:0;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-left[_ngcontent-%COMP%]   .ft-l-link[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%]{grid-column:span 3;display:flex;justify-content:center;align-items:center}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%]   .ft-m-item[_ngcontent-%COMP%]{display:inline-block}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%]   .ft-m-item[_ngcontent-%COMP%]   .ft-m-link[_ngcontent-%COMP%]{display:block;text-decoration:none;color:var(--color-light);padding:.75rem 1rem;position:relative}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%]   .ft-m-item[_ngcontent-%COMP%]   .ft-m-link[_ngcontent-%COMP%]:after{content:"";position:absolute;width:calc(100% - 2rem);height:1.5px;background-color:var(--color-light);bottom:.6rem;left:1rem;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%]   .ft-m-item[_ngcontent-%COMP%]   .ft-m-link[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%]   .dots[_ngcontent-%COMP%]{font-size:8px;margin:0}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-right[_ngcontent-%COMP%]{grid-column:span 2;display:flex;justify-content:center;align-items:center}.layout-footer[_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .ft-content-right[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}@media (min-width: 1400px){.footer-wrapper[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.footer-wrapper[_ngcontent-%COMP%]{padding:1.5rem 0 2.5rem!important}.ft-content-middle[_ngcontent-%COMP%]{display:block!important}.ft-content-middle[_ngcontent-%COMP%]   .ft-m-item[_ngcontent-%COMP%]{width:100%}.ft-content-middle[_ngcontent-%COMP%]   .ft-m-item[_ngcontent-%COMP%]   .ft-m-link[_ngcontent-%COMP%]{padding-top:0!important;text-align:left!important}.ft-content-middle[_ngcontent-%COMP%]   .dots[_ngcontent-%COMP%]{display:none}.ft-content-right[_ngcontent-%COMP%]{align-items:flex-start!important}}@media (max-width: 767.98px){.footer-container[_ngcontent-%COMP%]{padding:0 1.5rem!important}}@media (max-width: 575.98px){.footer-container[_ngcontent-%COMP%]{column-gap:.5rem}.footer-container[_ngcontent-%COMP%]   .ft-content-left[_ngcontent-%COMP%]{grid-column:span 4!important}.footer-container[_ngcontent-%COMP%]   .ft-content-middle[_ngcontent-%COMP%], .footer-container[_ngcontent-%COMP%]   .ft-content-right[_ngcontent-%COMP%]{grid-column:span 3!important}}']}),e})(),ihe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tt({type:t,selectors:[["app-menu"]],decls:47,vars:0,consts:[[1,"layout-menu"],[1,"menu-container"],[1,"menu-item","dropdown"],["routerLink","/collection",1,"menu-link"],[1,"bx","bx-collapse-vertical","icon-collapse"],[1,"bx","bx-expand-vertical","icon-expand"],[1,"dropdown-menu"],[1,"dropdown-item"],["routerLink","/collection",1,"dropdown-link"],[1,"menu-item"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"li",2)(3,"a",3),w(4,"Du l\u1ecbch "),A(5,"i",4)(6,"i",5),y(),m(7,"ul",6)(8,"li",7)(9,"a",8),w(10,"Ch\xe2n dung"),y()(),m(11,"li",7)(12,"a",8),w(13,"Th\u1ec3 thao"),y()(),m(14,"li",7)(15,"a",8),w(16,"\u0110\u01b0\u1eddng ph\u1ed1"),y()(),m(17,"li",7)(18,"a",8),w(19,"Phong c\u1ea3nh"),y()(),m(20,"li",7)(21,"a",8),w(22,"K\u1ef7 y\u1ebfu"),y()()()(),m(23,"li",2)(24,"a",3),w(25,"Lookbook "),A(26,"i",4)(27,"i",5),y(),m(28,"ul",6)(29,"li",7)(30,"a",8),w(31,"Th\u1eddi trang"),y()(),m(32,"li",7)(33,"a",8),w(34,"Ph\u1ee5 ki\u1ec7n"),y()(),m(35,"li",7)(36,"a",8),w(37,"M\u1ef9 ph\u1ea9m"),y()(),m(38,"li",7)(39,"a",8),w(40,"Th\u1ef1c ph\u1ea9m"),y()()()(),m(41,"li",9)(42,"a",3),w(43,"Catalogue"),y()(),m(44,"li",9)(45,"a",3),w(46,"Kh\xe1c"),y()()()())},dependencies:[kr],styles:['.layout-menu[_ngcontent-%COMP%]{position:fixed;top:5.75rem;width:100%;height:5rem;background-color:var(--color-bg-body);z-index:1024;box-shadow:0 .5rem 1rem #00000013!important}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]{height:3.25rem;width:100%;margin:0 auto;display:flex;align-items:center;justify-content:center;column-gap:2rem;border:1px solid var(--color-secondary);border-left:0;border-right:0}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{position:relative;list-style:none;height:100%;display:flex;justify-items:flex-start;column-gap:.75rem;align-items:center}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]{height:100%;text-decoration:none;color:var(--color-text-body);font-weight:700;font-size:20px;line-height:3.25rem;display:flex;justify-content:center;align-items:center;column-gap:.5rem}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]   .icon-expand[_ngcontent-%COMP%], .layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]   .icon-collapse[_ngcontent-%COMP%]{font-size:16px;color:var(--color-primary)}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]   .icon-expand[_ngcontent-%COMP%]{display:none}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   .menu-link[_ngcontent-%COMP%]{color:var(--color-primary)}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   .menu-link[_ngcontent-%COMP%]   .icon-expand[_ngcontent-%COMP%]{display:block}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   .menu-link[_ngcontent-%COMP%]   .icon-collapse[_ngcontent-%COMP%]{display:none}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:1.5px;background-color:var(--color-primary);bottom:0;left:0;transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.dropdown[_ngcontent-%COMP%]{position:relative;display:inline-block}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{margin:0;padding:0;display:none;position:absolute;top:100%;left:0;background-color:var(--color-bg-body);box-shadow:0 2px 5px #0003;min-width:150px;border-radius:.3rem}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{list-style:none;padding:10px}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .dropdown-link[_ngcontent-%COMP%]{text-decoration:none;color:var(--color-text-body)}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover   .dropdown-link[_ngcontent-%COMP%]{color:var(--color-primary)}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:first-of-type{border-top-right-radius:.3rem;border-top-left-radius:.3rem}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:last-of-type{border-bottom-left-radius:.3rem;border-bottom-right-radius:.3rem}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:100%;left:50%;transform:translate(-50%);border-width:8px;border-style:solid;border-color:transparent transparent var(--color-bg-body) transparent}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-menu[_ngcontent-%COMP%]{display:block}@media (min-width: 1400px){.menu-container[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.layout-menu[_ngcontent-%COMP%]{display:none!important}}']}),e})(),ohe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tt({type:t,selectors:[["app-layout-client"]],decls:8,vars:0,consts:[[1,"layout-wrapper"],[1,"layout-container"],[1,"content-wrapper"],[1,"content-container"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1),A(2,"app-header")(3,"app-menu"),m(4,"div",2)(5,"div",3),A(6,"router-outlet"),y()(),A(7,"app-footer"),y()())},dependencies:[nl,GT,qT,ihe],styles:[".layout-wrapper[_ngcontent-%COMP%], .layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%], .layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{width:100%}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{width:100%;margin:0 auto;margin-top:10.75rem}@media (min-width: 1400px){.content-container[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.content-container[_ngcontent-%COMP%]{margin-top:5rem!important}}"]}),e})();const she=["sortSelectButton"],ahe=["sortSelectOptions"],che=["addressButton"],lhe=["addressBar"];function uhe(t,e){if(1&t&&(m(0,"option",52),w(1),y()),2&t){const n=e.$implicit;Z("value",n),S(1),Ge(n)}}function dhe(t,e){1&t&&A(0,"i",53)}function hhe(t,e){1&t&&A(0,"i",54)}function phe(t,e){1&t&&A(0,"i",53)}function fhe(t,e){1&t&&A(0,"i",54)}function ghe(t,e){1&t&&A(0,"i",53)}function _he(t,e){1&t&&A(0,"i",54)}function mhe(t,e){1&t&&A(0,"i",53)}function yhe(t,e){1&t&&A(0,"i",54)}function vhe(t,e){1&t&&A(0,"i",53)}function Che(t,e){1&t&&A(0,"i",54)}const I9=function(t){return{show:t}};let whe=(()=>{var t;class e{constructor(){this.timeOptions=["12:30 am","1:00 am","1:30 am","2:00 am","2:30 am","3:00 am","4:00 am","4:30 am","5:00 am","5:30 am","6:00 am","6:30 am","7:00 am","7:30 am","8:00 am","8:30 am","9:00 am","9:30 am","10:00 am","10:30 am","11:00 am","11:30 am","12:00 pm","12:30 pm","1:00 pm","1:30 pm","2:00 pm","2:30 pm","3:00 pm","3:30 pm","4:00 pm","4:30 pm","5:00 pm","5:30 pm","6:00 pm","6:30 pm","7:00 pm","7:30 pm","8:00 pm","8:30 pm","9:00 pm","9:30 pm","10:00 pm","10:30 pm","11:00 pm","11:30 pm"],this.selectedDateY="",this.selectedOptionTL="",this.selectedOptionTime="",this.selectedOptionPrice="",this.isShowSortMenu=!1,this.checkedSortText="",this.checkedSortValue=null,this.addressValue="",this.isShowAddressBar=!1}ngAfterViewInit(){}toggleSort(){this.isShowSortMenu=!this.isShowSortMenu}checked(r,i){this.checkedSortValue=r,this.checkedSortText=i,this.isShowSortMenu=!1}toggleAddress(){this.isShowAddressBar=!this.isShowAddressBar}clearAddress(){this.addressValue=""}resetFilter(){this.addressValue="",this.isShowSortMenu=!1,this.selectedOptionTL="",this.selectedOptionTime="",this.selectedDateY=""}onClickOutside(r){!this.sortSelectButton.nativeElement.contains(r.target)&&!this.sortSelectOptions.nativeElement.contains(r.target)&&(this.isShowSortMenu=!1),!this.addressButton.nativeElement.contains(r.target)&&!this.addressBar.nativeElement.contains(r.target)&&(this.isShowAddressBar=!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tt({type:t,selectors:[["app-filter-bar"]],viewQuery:function(r,i){if(1&r&&(Jn(she,5),Jn(ahe,5),Jn(che,5),Jn(lhe,5)),2&r){let o;jn(o=$n())&&(i.sortSelectButton=o.first),jn(o=$n())&&(i.sortSelectOptions=o.first),jn(o=$n())&&(i.addressButton=o.first),jn(o=$n())&&(i.addressBar=o.first)}},hostBindings:function(r,i){1&r&&G("mousedown",function(s){return i.onClickOutside(s)},0,Iu)},decls:111,vars:28,consts:[[1,"layout-filter"],[1,"filter-container"],[1,"filter-content"],[1,"filter-left"],[1,"filter-param"],[1,"filter-date-picker"],[3,"selectedDate","textDefault","selectedDateChange"],[1,"filter-tl"],[3,"selectedOption","textDefault","selectedOptionChange"],["custom-option","","value","1"],["custom-option","","value","2"],["custom-option","","value","3"],["custom-option","","value","4"],["custom-option","","value","5"],["custom-option","","value","6"],["custom-option","","value","7"],["custom-option","","value","8"],[1,"filter-time"],["custom-option","",3,"value",4,"ngFor","ngForOf"],[1,"filter-address"],[1,"filter-address-content"],[1,"address-button",3,"click"],["addressButton",""],[1,"bx","bxs-navigation"],[1,"address-bar",3,"ngClass"],["addressBar",""],[1,"address-form"],[1,"address-form-first"],["type","text",1,"address-input",3,"ngModel","ngModelChange"],["id","clearAddress",1,"bx","bx-x",3,"click"],["id","iconAddress",1,"bx","bxs-navigation"],[1,"address-form-second"],[1,"bx","bx-time-five"],[1,"horizontal-line"],[1,"address-suggest"],[1,"suggest-text"],[1,"filter-price"],[1,"filter-reset"],["href","javascript:void(0)","id","filter-icon-reset",3,"click"],[1,"filter-right"],[1,"filter-sort"],[1,"sort-tilte"],[1,"sort-content"],[1,"sort-text",3,"click"],["sortSelectButton",""],[1,"sort-menu",3,"ngClass"],["sortSelectOptions",""],[1,"sort-item",3,"click"],["href","javascript:void(0)",1,"sort-link","sort-default"],["class","bx bxs-check-circle sort-icon-checked",4,"ngIf"],["class","bx bx-circle sort-icon-unchecked",4,"ngIf"],["href","javascript:void(0)",1,"sort-link"],["custom-option","",3,"value"],[1,"bx","bxs-check-circle","sort-icon-checked"],[1,"bx","bx-circle","sort-icon-unchecked"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"app-date-picker",6),G("selectedDateChange",function(s){return i.selectedDateY=s}),y()(),m(7,"div",7)(8,"app-custom-select",8),G("selectedOptionChange",function(s){return i.selectedOptionTL=s}),m(9,"option",9),w(10,"1 gi\u1edd"),y(),m(11,"option",10),w(12,"2 gi\u1edd"),y(),m(13,"option",11),w(14,"3 gi\u1edd"),y(),m(15,"option",12),w(16,"4 gi\u1edd"),y(),m(17,"option",13),w(18,"5 gi\u1edd"),y(),m(19,"option",14),w(20,"6 gi\u1edd"),y(),m(21,"option",15),w(22,"7 gi\u1edd"),y(),m(23,"option",16),w(24,"8 gi\u1edd"),y()()(),m(25,"div",17)(26,"app-custom-select",8),G("selectedOptionChange",function(s){return i.selectedOptionTime=s}),be(27,uhe,2,2,"option",18),y()(),m(28,"div",19)(29,"div",20)(30,"div",21,22),G("click",function(){return i.toggleAddress()}),A(32,"i",23),m(33,"span"),w(34),y()(),m(35,"div",24,25)(37,"div",26)(38,"div",27)(39,"input",28),G("ngModelChange",function(s){return i.addressValue=s}),y(),m(40,"i",29),G("click",function(){return i.clearAddress()}),y(),A(41,"i",30),y(),m(42,"div",31),A(43,"i",32),w(44," H\u1ed3 T\xe2y, H\xe0 N\u1ed9i "),y()(),A(45,"div",33),m(46,"div",34)(47,"p",35),A(48,"i",23),w(49," C\xf4ng vi\xean Y\xean S\u1edf, Ho\xe0ng Mai, H\xe0 N\u1ed9i "),y(),m(50,"p",35),A(51,"i",23),w(52," C\xf4ng vi\xean Th\u1ed1ng Nh\u1ea5t, H\xe0 N\u1ed9i "),y(),m(53,"p",35),A(54,"i",23),w(55," Ph\u1ed1 \u0111i b\u1ed9 Nguy\u1ec5n Hu\u1ec7, H\u1ed3 Ch\xed Minh "),y(),m(56,"p",35),A(57,"i",23),w(58," H\u1ed3 H\xf2a Trung, \u0110\xe0 N\u1eb5ng "),y()()()()(),m(59,"div",36)(60,"app-custom-select",8),G("selectedOptionChange",function(s){return i.selectedOptionPrice=s}),m(61,"option",9),w(62,"D\u01b0\u1edbi 300.000 VN\u0110"),y(),m(63,"option",10),w(64,"300.000 - 500.000 VN\u0110"),y(),m(65,"option",11),w(66,"500.000 - 800.000 VN\u0110"),y(),m(67,"option",12),w(68,"800.000 - 1200.000 VN\u0110"),y(),m(69,"option",13),w(70,"Tr\xean 1200.000 VN\u0110"),y()()(),m(71,"div",37)(72,"a",38),G("click",function(){return i.resetFilter()}),w(73," C\xe0i l\u1ea1i "),y()()()(),m(74,"div",39)(75,"div",40)(76,"div",41)(77,"span"),w(78,"S\u1eafp x\u1ebfp theo"),y()(),m(79,"div",42)(80,"div",43,44),G("click",function(){return i.toggleSort()}),m(82,"span"),w(83),y()(),m(84,"div",45,46)(86,"li",47),G("click",function(){return i.checked(0,"M\u1eb7c \u0111\u1ecbnh")}),m(87,"a",48),be(88,dhe,1,0,"i",49),be(89,hhe,1,0,"i",50),w(90," M\u1eb7c \u0111\u1ecbnh "),y()(),m(91,"li",47),G("click",function(){return i.checked(1,"Gi\xe1 : Th\u1ea5p - Cao")}),m(92,"a",51),be(93,phe,1,0,"i",49),be(94,fhe,1,0,"i",50),w(95," Gi\xe1 : Th\u1ea5p - Cao "),y()(),m(96,"li",47),G("click",function(){return i.checked(2,"Gi\xe1: Cao - Th\u1ea5p")}),m(97,"a",51),be(98,ghe,1,0,"i",49),be(99,_he,1,0,"i",50),w(100," Gi\xe1: Cao - Th\u1ea5p "),y()(),m(101,"li",47),G("click",function(){return i.checked(3,"\u0110\xe1nh gi\xe1 : Th\u1ea5p - Cao")}),m(102,"a",51),be(103,mhe,1,0,"i",49),be(104,yhe,1,0,"i",50),w(105," \u0110\xe1nh gi\xe1 : Th\u1ea5p - Cao "),y()(),m(106,"li",47),G("click",function(){return i.checked(4,"\u0110\xe1nh gi\xe1 : Cao - Th\u1ea5p")}),m(107,"a",51),be(108,vhe,1,0,"i",49),be(109,Che,1,0,"i",50),w(110," \u0110\xe1nh gi\xe1 : Cao - Th\u1ea5p "),y()()()()()()()()()),2&r&&(S(6),Z("selectedDate",i.selectedDateY)("textDefault","Ng\xe0y"),S(2),Z("selectedOption",i.selectedOptionTL)("textDefault","Th\u1eddi l\u01b0\u1ee3ng"),S(18),Z("selectedOption",i.selectedOptionTime)("textDefault","Th\u1eddi gian"),S(1),Z("ngForOf",i.timeOptions),S(7),Ge(i.addressValue||"\u0110\u1ecba \u0111i\u1ec3m ch\u1ee5p \u1ea3nh"),S(1),Z("ngClass",_i(24,I9,i.isShowAddressBar)),S(4),Z("ngModel",i.addressValue),S(21),Z("selectedOption",i.selectedOptionPrice)("textDefault","Gi\xe1"),S(23),Ge(i.checkedSortText||"M\u1eb7c \u0111\u1ecbnh"),S(1),Z("ngClass",_i(26,I9,i.isShowSortMenu)),S(4),Z("ngIf",!i.checkedSortValue||0===i.checkedSortValue),S(1),Z("ngIf",i.checkedSortValue&&0!==i.checkedSortValue),S(4),Z("ngIf",i.checkedSortValue&&1===i.checkedSortValue),S(1),Z("ngIf",!i.checkedSortValue||1!==i.checkedSortValue),S(4),Z("ngIf",i.checkedSortValue&&2===i.checkedSortValue),S(1),Z("ngIf",!i.checkedSortValue||2!==i.checkedSortValue),S(4),Z("ngIf",i.checkedSortValue&&3===i.checkedSortValue),S(1),Z("ngIf",!i.checkedSortValue||3!==i.checkedSortValue),S(4),Z("ngIf",i.checkedSortValue&&4===i.checkedSortValue),S(1),Z("ngIf",!i.checkedSortValue||4!==i.checkedSortValue))},dependencies:[Cs,wo,Po,q0,K0,pl,Zu,ml,zT,WT],styles:['.filter-left[_ngcontent-%COMP%]{width:calc(100% - 350px)}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(6,1fr);gap:.5rem}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]{position:relative;min-width:12rem}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-button[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;padding:8px 12px;border:1px solid var(--color-primary);border-radius:4px;background-color:var(--color-light);display:flex;justify-content:flex-start;column-gap:.75rem;align-items:center;color:var(--color-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]{position:absolute;top:calc(100% + .3rem);left:0%;min-width:13rem;background-color:var(--color-bg-body);box-shadow:0 2px 5px #0003;border-radius:.3rem;padding:.5rem 1.5rem;z-index:1;display:none}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]{margin-top:1.5rem;width:100%;display:flex;flex-direction:column}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]   .address-form-first[_ngcontent-%COMP%]{position:relative}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]   .address-form-first[_ngcontent-%COMP%]   .address-input[_ngcontent-%COMP%]{width:100%;padding:10px 1.25rem 10px 1.5rem;outline:none;border:1px solid var(--color-primary);color:var(--color-primary);border-radius:.3rem}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]   .address-form-first[_ngcontent-%COMP%]   #iconAddress[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);left:.3rem}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]   .address-form-first[_ngcontent-%COMP%]   #clearAddress[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);right:.3rem;cursor:pointer;border-radius:50%}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]   .address-form-first[_ngcontent-%COMP%]   #clearAddress[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-form[_ngcontent-%COMP%]   .address-form-second[_ngcontent-%COMP%]{padding:8px 0;display:flex;justify-content:flex-start;column-gap:.75rem;align-items:center;color:var(--color-primary);font-size:14px}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .horizontal-line[_ngcontent-%COMP%]{height:2px;background-color:#e6e6e6;margin:.1rem 0}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-suggest[_ngcontent-%COMP%]{margin-top:.5rem}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar[_ngcontent-%COMP%]   .address-suggest[_ngcontent-%COMP%]   .suggest-text[_ngcontent-%COMP%]{margin:5px 0!important;font-size:14px}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-address[_ngcontent-%COMP%]   .filter-address-content[_ngcontent-%COMP%]   .address-bar.show[_ngcontent-%COMP%]{display:block!important}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-reset[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-reset[_ngcontent-%COMP%]   #filter-icon-reset[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;text-decoration:none;color:var(--color-primary);font-size:18px;border-radius:.3rem;padding:0 1.5rem;background-color:var(--color-secondary);text-wrap:nowrap}@media (max-width: 1400px){.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)!important}}@media (max-width: 1200px){.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)!important}}@media (max-width: 991.98px){.filter-left[_ngcontent-%COMP%]{width:100%;order:2}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)!important}}@media (max-width: 600px){.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 470px){.filter-left[_ngcontent-%COMP%]{width:200px}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)!important}.filter-left[_ngcontent-%COMP%]   .filter-param[_ngcontent-%COMP%]   .filter-reset[_ngcontent-%COMP%]   #filter-icon-reset[_ngcontent-%COMP%]{padding:.5rem 1.5rem}}.filter-right[_ngcontent-%COMP%]{min-width:350px}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:8px}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-tilte[_ngcontent-%COMP%]{text-wrap:nowrap;margin-right:1rem;color:var(--color-primary)}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]{position:relative}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-text[_ngcontent-%COMP%]{min-width:200px;font-weight:700;color:var(--color-primary);cursor:pointer}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;display:inline-block}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;bottom:-.25rem;width:100%;height:2px;background-color:#000;transition:all .3s ease}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-text[_ngcontent-%COMP%]   span.active[_ngcontent-%COMP%]:after{width:0}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]{position:absolute;top:calc(100% + .3rem);right:10%;min-width:13rem;background-color:var(--color-bg-body);box-shadow:0 2px 5px #0003;border-radius:.3rem;padding:.5rem 0;z-index:2;display:none}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]   .sort-item[_ngcontent-%COMP%]{list-style:none;display:block;padding-left:1rem}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]   .sort-item[_ngcontent-%COMP%]   .sort-link[_ngcontent-%COMP%]{color:var(--color-primary);display:block;text-decoration:none;text-align:center;line-height:2.5rem;display:flex;flex-wrap:nowrap;align-items:center}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]   .sort-item[_ngcontent-%COMP%]   .sort-link[_ngcontent-%COMP%]   .sort-icon-checked[_ngcontent-%COMP%], .filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]   .sort-item[_ngcontent-%COMP%]   .sort-link[_ngcontent-%COMP%]   .sort-icon-unchecked[_ngcontent-%COMP%]{margin-bottom:3px;margin-right:.5rem}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]   .sort-item[_ngcontent-%COMP%]:hover{background-color:#f6f6f6}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]   .sort-content[_ngcontent-%COMP%]   .sort-menu.show[_ngcontent-%COMP%]{display:block!important}@media (max-width: 991.98px){.filter-right[_ngcontent-%COMP%]{order:1;min-width:auto;width:100%;margin-bottom:2rem}.filter-right[_ngcontent-%COMP%]   .filter-sort[_ngcontent-%COMP%]{justify-content:flex-start}}.layout-filter[_ngcontent-%COMP%]{margin-top:5.57rem}.layout-filter[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]{width:100%;margin:0 auto}.layout-filter[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   .filter-content[_ngcontent-%COMP%]{padding:2.5rem;display:flex;justify-content:space-between}@media (min-width: 1400px){.filter-container[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.layout-filter[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   .filter-content[_ngcontent-%COMP%]{flex-direction:column}}']}),e})(),b9=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tt({type:t,selectors:[["app-layout-shop"]],decls:8,vars:0,consts:[[1,"layout-wrapper"],[1,"layout-container"],[1,"content-wrapper"],[1,"content-container"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1),A(2,"app-header")(3,"app-filter-bar"),m(4,"div",2)(5,"div",3),A(6,"router-outlet"),y()(),A(7,"app-footer"),y()())},dependencies:[nl,GT,qT,whe],styles:[".layout-wrapper[_ngcontent-%COMP%], .layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%], .layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{width:100%}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{width:100%;margin:0 auto}@media (min-width: 1400px){.content-container[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.content-container[_ngcontent-%COMP%]{margin-top:5rem!important}}"]}),e})(),KT=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tt({type:t,selectors:[["app-layout-auth"]],decls:3,vars:0,consts:[[1,"layout-auth"],[1,"auth-wrapper"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1),A(2,"router-outlet"),y()())},dependencies:[nl],styles:[".layout-auth[_ngcontent-%COMP%]{width:100%;height:100%}"]}),e})(),T9=(()=>{var t;class e{constructor(r){this.el=r}onInputChange(r){const i=this.el.nativeElement.value,o=i.replace(/[^0-9]/g,"");i!==o&&(this.el.nativeElement.value=o,r.preventDefault())}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(Ni))},t.\u0275dir=Ve({type:t,selectors:[["","appOnlyNumbers",""]],hostBindings:function(r,i){1&r&&G("input",function(s){return i.onInputChange(s)})}}),e})();function Phe(t,e){1&t&&(m(0,"span",24),w(1,"Vui l\xf2ng nh\u1eadp t\xean."),y())}function Ehe(t,e){1&t&&(m(0,"span",24),w(1,"Vui l\xf2ng nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i h\u1ee3p l\u1ec7."),y())}function Mhe(t,e){1&t&&(m(0,"span",24),w(1,"Vui l\xf2ng nh\u1eadp email h\u1ee3p l\u1ec7."),y())}function Ohe(t,e){1&t&&(m(0,"span",24),w(1,"Vui l\xf2ng nh\u1eadp \u0111i\u0323a chi\u0309 h\u1ee3p l\u1ec7."),y())}let Ihe=(()=>{var t;class e{constructor(r){this.orderService=r,this.invalidEmail=!1,this.invalidPhone=!1,this.invalidName=!1,this.invalidAddress=!1,this.email="",this.phone="",this.name="",this.address="",this.messageText="",this.isSuccess=!0}onChangeName(r){this.name=r.target.value,this.validateName()}onChangePhone(r){this.phone=r.target.value,this.validatePhone()}onChangeEmail(r){this.email=r.target.value,this.validateEmail()}onChangeAddress(r){this.address=r.target.value,this.validateAddress()}onSubmit(){var r=this;return(0,x.Z)(function*(){if(r.validateName()&&r.validatePhone()&&r.validateEmail()&&r.validateAddress()){const a=localStorage.getItem("order_id");if(a){const c=parseInt(a,10);var i=yield r.orderService.getOrderById(c);if(i){i.cust_name=r.name,i.cust_email=r.email,i.cust_phone=r.phone,i.address=r.address,i.status="cho_duyet";var o="";(yield r.orderService.generateUniqueOrderCode()).subscribe(l=>{o=l}),i.code=o,(yield r.orderService.updateOrder(i))?(r.isSuccess=!0,r.messageText="Th\xe0nh c\xf4ng."):(r.messageText="Th\u1ea5t b\u1ea1i.",r.isSuccess=!1)}else r.messageText="Th\u1ea5t b\u1ea1i.",r.isSuccess=!1;localStorage.removeItem("order_id")}else r.messageText="Th\u1ea5t b\u1ea1i.",r.isSuccess=!1}else r.validateName(),r.validatePhone(),r.validateEmail(),r.validateAddress()})()}validateName(){return this.invalidName=this.name.length<1,!this.invalidName}validateAddress(){return this.invalidAddress=this.address.length<1,!this.invalidAddress}validatePhone(){const i=/^0[0-9]{9,10}$/.test(this.phone);return this.invalidPhone=!i,i}validateEmail(){const i=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(this.email);return this.invalidEmail=!i,i}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(ed))},t.\u0275cmp=Tt({type:t,selectors:[["app-send-contact"]],decls:38,vars:6,consts:[[1,"send-ct-wrapper"],[1,"send-ct-container"],[1,"send-ct-header"],[1,"go-home"],["routerLink","/home",1,"go-home-link"],[1,"bx","bxs-chevron-left"],[1,"brand"],["routerLink","/home",1,"brand-link"],["src","./assets/images/logo2.png","alt","logo",1,"brand-image"],[1,"send-ct-title"],[1,"message",3,"ngClass"],[1,"send-ct-content"],[3,"ngSubmit"],[1,"form-group"],["for","fullname"],["type","text","id","fullname","name","fullname","required","","placeholder","Nguyen Quang Nam",3,"input"],["class","validate-message",4,"ngIf"],["for","phone"],["type","text","id","phone","name","phone","required","","placeholder","0123456789","appOnlyNumbers","",3,"input"],["for","username"],["type","text","id","username","name","username","required","","placeholder","quang@gmail.com",3,"input"],["for","address"],["type","text","id","address","name","address","required","","placeholder","",3,"input"],["type","submit"],[1,"validate-message"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),A(5,"i",5),w(6," Trang ch\u1ee7 "),y()(),m(7,"div",6)(8,"a",7),A(9,"img",8),y()(),m(10,"h3",9),w(11," Vui l\xf2ng \u0111\u1ec3 l\u1ea1i th\xf4ng tin li\xean h\u1ec7. "),y()(),m(12,"div",10),w(13),y(),m(14,"div",11)(15,"form",12),G("ngSubmit",function(){return i.onSubmit()}),m(16,"div",13)(17,"label",14),w(18,"H\u1ecd v\xe0 t\xean"),y(),m(19,"input",15),G("input",function(s){return i.onChangeName(s)}),y(),be(20,Phe,2,0,"span",16),y(),m(21,"div",13)(22,"label",17),w(23,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),y(),m(24,"input",18),G("input",function(s){return i.onChangePhone(s)}),y(),be(25,Ehe,2,0,"span",16),y(),m(26,"div",13)(27,"label",19),w(28,"Email"),y(),m(29,"input",20),G("input",function(s){return i.onChangeEmail(s)}),y(),be(30,Mhe,2,0,"span",16),y(),m(31,"div",13)(32,"label",21),w(33,"\u0110i\u0323a chi\u0309 chu\u0323p a\u0309nh"),y(),m(34,"input",22),G("input",function(s){return i.onChangeAddress(s)}),y(),be(35,Ohe,2,0,"span",16),y(),m(36,"button",23),w(37,"G\u1eedi"),y()()()()()),2&r&&(S(12),Z("ngClass",i.isSuccess?"success":"error"),S(1),Ot(" ",i.messageText," "),S(7),Z("ngIf",i.invalidName),S(5),Z("ngIf",i.invalidPhone),S(5),Z("ngIf",i.invalidEmail),S(5),Z("ngIf",i.invalidAddress))},dependencies:[Cs,Po,kr,Em,ym,Yu,T9],styles:[".send-ct-wrapper[_ngcontent-%COMP%]{width:100%;margin:0 auto;min-height:500px;min-height:100vh;padding:2rem;background-image:url(/assets/images/banner.jpg);background-size:cover;background-repeat:no-repeat;background-position:center}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]{padding:2rem;border-radius:.5rem;width:700px;margin:auto;min-height:calc(100vh - 4rem);height:100%;background-color:#ffffffa8;box-shadow:0 0 10px #0000004d}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem;position:relative}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{position:absolute;top:0rem;left:0rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]   .go-home-link[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;text-decoration:none;color:var(--color-primary);font-weight:700;position:relative}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .send-ct-title[_ngcontent-%COMP%]{text-align:center;color:var(--color-primary);font-size:32px;font-weight:700}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{display:flex;justify-content:center}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]   .brand-image[_ngcontent-%COMP%]{width:5rem;height:5rem;object-fit:cover}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin-bottom:1rem;font-weight:600}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .message.error[_ngcontent-%COMP%]{color:red}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .message.success[_ngcontent-%COMP%]{color:green}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:15px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:gray;font-weight:600;font-size:18px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 10px;border:2px solid gray;border-radius:5px;background-color:transparent;outline:none}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--color-primary)}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{width:100%;font-size:14px;color:#ff1818}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 auto;margin-top:3rem;display:block;padding:15px 25px;background-color:var(--color-primary);color:#fff;border:none;border-radius:5px;font-size:20px;cursor:pointer}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}@media (max-width: 767.98px){.send-ct-wrapper[_ngcontent-%COMP%]{width:100%!important;padding:1rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]{width:100%;min-height:calc(100vh - 2rem)}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{position:absolute;top:-.5rem;left:-1rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .send-ct-title[_ngcontent-%COMP%]{font-size:26px!important}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{padding-top:1rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{font-size:12px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2rem;padding:10px 15px;font-size:20px!important}}"]}),e})();function bhe(t,e){if(1&t&&(m(0,"div",115)(1,"a",116)(2,"div",117),A(3,"img",118),y(),m(4,"div",119)(5,"h3",120),w(6),y(),m(7,"span",121),w(8),y()()()()),2&t){const n=e.$implicit;S(3),qo("src",n.images[0],Or),S(3),Ge(n.name),S(2),Ge(n.images.length)}}function The(t,e){if(1&t&&(m(0,"div",122),w(1),y()),2&t){const n=Vt();S(1),Ot(" ",n.errorMessage," ")}}function Ahe(t,e){if(1&t&&(m(0,"option",124),w(1),y()),2&t){const n=e.$implicit;Z("value",n.id),S(1),Ot(" ",n.name," ")}}function Dhe(t,e){if(1&t){const n=gi();Tu(0),m(1,"app-custom-select",94),G("selectedOptionChange",function(i){return Xn(n),Rn(Vt().onOptionTypeChange(i))})("selectedOptionChange",function(i){return Xn(n),Rn(Vt().selectedOptionType=i)}),be(2,Ahe,2,2,"option",123),y(),Au()}if(2&t){const n=Vt();S(1),Z("selectedOption",n.selectedOptionType)("textDefault","Ch\u1ecdn lo\u1ea1i ch\u1ee5p"),S(1),Z("ngForOf",n.typeOfPhoto)}}function She(t,e){if(1&t&&(Tu(0),m(1,"p",125),w(2),m(3,"span"),w(4),y()(),Au()),2&t){const n=Vt();S(2),Ot(" ",n.costPreview," "),S(2),Ot("/",""!==n.selectedOptionTLVal&&""!==n.selectedOptionTypeVal?n.selectedOptionTLVal:1," ti\u1ebfng")}}let Rhe=(()=>{var t;class e{constructor(r,i,o,s,a){this.router=r,this.route=i,this.orderService=o,this.userInfoDTOService=s,this.decesService=a,this.userData=null,this.decesData=null,this.selectedDateU="",this.selectedOptionTL="",this.selectedOptionType="",this.errorMessage="",this.isError=!1,this.dateVal="",this.selectedOptionTLVal="",this.selectedOptionTypeVal="",this.setTimeVal="",this.partnerId=0,this.isShowOrder=!1,this.typeOfPhoto=[],this.costPreview=3e5,this.route.params.subscribe(c=>{const l=c.id;l?this.partnerId=parseInt(l,10):console.error("ID not found in URL")})}ngOnInit(){this.route.params.subscribe(r=>{const i=r.id;if(i){const o=parseInt(i,10);this.loadUserInfoData(o),this.loadDecesData(o)}else console.error("ID not found in URL")})}loadUserInfoData(r){this.userInfoDTOService.getUserInfoDTOsById(r).subscribe(i=>{this.userData=i,this.typeOfPhoto=this.userData?.userInfo.typeOfPhoto||[]},i=>{console.error("Error loading user info:",i)})}loadDecesData(r){var i=this;return(0,x.Z)(function*(){i.decesData=yield i.decesService.getDecesByPartnerId(r),console.log(i.decesData)})()}onDateChange(r){this.dateVal=r}onOptionTLChange(r){this.selectedOptionTLVal=r,console.log(r);var i=parseInt(this.selectedOptionTLVal,10);if(""!==this.selectedOptionTypeVal){var o=parseInt(this.selectedOptionTypeVal,10);const a=this.typeOfPhoto.find(c=>c.id===o);if(a){var s=parseInt(a.cost,10);this.costPreview=s*i}}}onOptionTypeChange(r){this.selectedOptionTypeVal=r;const i=parseInt(r.trim(),10),o=this.typeOfPhoto.find(c=>c.id===i);if(o){var s=parseInt(o.cost,10);if(""!==this.selectedOptionTLVal){var a=parseInt(this.selectedOptionTLVal,10);this.costPreview=s*a}else this.costPreview=s}}onSubmit(){var r=this;return(0,x.Z)(function*(){if(r.isError=!1,r.selectedDateU&&r.selectedOptionTL&&r.selectedOptionType&&!r.setTimeVal){if(0!==r.partnerId){console.log("true");const o=parseInt(r.selectedOptionTLVal,10)*r.costPreview,s=r.typeOfPhoto.find(c=>c.id==parseInt(r.selectedOptionTLVal))?.name,a={id:0,order_date:r.dateVal,time:r.selectedOptionTLVal,appoi_time:r.setTimeVal,shooting_type:s||"",partner_id:r.partnerId,cust_name:"",cust_email:"",cust_phone:"",code:"",status:"chua_dien_tt",address:"",price:o.toString(),link_down:"",des_refund:""};var i=yield r.orderService.createOrder(a);i&&(localStorage.setItem("order_id",i.id.toString()),r.router.navigate(["/contact"]))}}else r.errorMessage="Vui l\xf2ng \u0111i\u1ec1n \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin",r.isError=!0})()}showOrder(){this.isShowOrder=!0}hideOrder(){this.isShowOrder=!1}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(br),Y(Ys),Y(ed),Y(N0),Y(M9))},t.\u0275cmp=Tt({type:t,selectors:[["app-profile"]],decls:220,vars:21,consts:[[1,"profile-content"],[1,"wall-wrapper"],[1,"wall-content"],[1,"wall1"],[1,"wall1-1"],["src","./assets/images/profile/pf1.jpg","alt",""],[1,"wall1-2"],["src","./assets/images/profile/pf2.jpg","alt",""],[1,"wall2"],["src","./assets/images/profile/pf3.jpg","alt",""],[1,"wall3"],[1,"wall3-1"],["src","./assets/images/profile/pf4.jpg","alt",""],[1,"wall3-2"],["src","./assets/images/profile/pf5.jpg","alt",""],[1,"wall4"],["src","./assets/images/profile/pf6.jpg","alt",""],[1,"wall5"],[1,"wall5-1"],["src","./assets/images/profile/pf7.jpg","alt",""],[1,"wall5-2"],["src","./assets/images/profile/pf8.jpg","alt",""],[1,"content-wrapper"],[1,"forMe-wrapper"],[1,"forMe-content"],[1,"avatar-wrapper"],[1,"avatar"],["alt","",1,"avatar-image",3,"src"],[1,"des-forMe-wrapper"],[1,"des-forMe-name"],[1,"des-forMe-address"],[1,"des-forMe-rate"],[1,"rate-star"],["src","./assets/images/icons/star-fill.png","alt",""],[1,"rate-text"],[1,"des-forMe-exp"],[1,"info-wrapper"],[1,"infor-title-list"],[1,"title-list"],[1,"it-item"],["href","javascript:void(0)",1,"it-link"],[1,"deliver-line"],[1,"infor-content-list"],[1,"ic-item"],[1,"text-description"],[1,"prize"],[1,"prize-title"],[1,"interest"],[1,"interest-title"],[1,"feature-wrapper"],[1,"feature-title"],[1,"feature-content"],[1,"language"],[1,"language-title"],["src","./assets/images/icons/translate.png","alt",""],[1,"camera"],[1,"camera-title"],["src","./assets/images/icons/camera.png","alt",""],[1,"portfolio"],[1,"portfolio-title"],[1,"portfolio-content"],["class","portfolio-item",4,"ngFor","ngForOf"],[1,"appraise"],[1,"appraise-title"],[1,"rate"],[1,"appraise-content"],[1,"appraise-item"],[1,"ai-header"],[1,"header-avatar"],["src","./assets/images/avatar/avatar1.jpeg","alt",""],[1,"header-name"],[1,"ai-comment"],[1,"how-it-works"],[1,"hiw-title"],[1,"hiw-content"],[1,"hiw-item"],[1,"item-title"],[1,"title-icon"],[1,"bx","bx-calendar-check"],[1,"title-text"],[1,"item-content"],[1,"content-deliver"],[1,"content-text"],[1,"bx","bxs-camera"],[1,"bx","bx-happy-alt"],[1,"order-wrapper",3,"ngClass"],[1,"order-container"],["class","mess-valid",4,"ngIf"],[1,"order-content"],[1,"filter-date-picker"],["for","ngay-chup"],[3,"selectedDate","textDefault","selectedDateChange"],[1,"filter-tl"],["for","thoi-luong"],[3,"selectedOption","textDefault","selectedOptionChange"],["custom-option","","value","1"],["custom-option","","value","2"],["custom-option","","value","3"],["custom-option","","value","4"],["custom-option","","value","5"],["custom-option","","value","6"],["custom-option","","value","7"],["custom-option","","value","8"],[1,"set-time"],["for","gio-hen"],["type","time","id","gio-hen","name","gio-hen","required","",3,"ngModel","ngModelChange"],[1,"filter-type"],[4,"ngIf"],["href","javascript:void(0)",3,"click"],[1,"sug-foot"],[1,"bx","bx-check"],[1,"btn-close-order",3,"click"],[1,"bx","bx-x"],[1,"toggle-order-wrapper",3,"ngClass","click"],[1,"bx","bx-plus-circle"],[1,"portfolio-item"],["href","javascript:void(0);"],[1,"it-header"],["alt","",3,"src"],[1,"it-footer"],[1,"it-cate"],[1,"it-count-picture"],[1,"mess-valid"],["custom-option","",3,"value",4,"ngFor","ngForOf"],["custom-option","",3,"value"],[1,"p-footer"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),A(5,"img",5),y(),m(6,"div",6),A(7,"img",7),y()(),m(8,"div",8),A(9,"img",9),y(),m(10,"div",10)(11,"div",11),A(12,"img",12),y(),m(13,"div",13),A(14,"img",14),y()(),m(15,"div",15),A(16,"img",16),y(),m(17,"div",17)(18,"div",18),A(19,"img",19),y(),m(20,"div",20),A(21,"img",21),y()()()(),m(22,"div",22)(23,"div",23)(24,"div",24)(25,"div",25)(26,"div",26),A(27,"img",27),y()(),m(28,"div",28)(29,"h2",29),w(30),y(),m(31,"p",30),w(32),y(),m(33,"div",31)(34,"div",32),A(35,"img",33)(36,"img",33)(37,"img",33)(38,"img",33)(39,"img",33),y(),m(40,"span",34),w(41,"5.0"),y()(),m(42,"p",35),w(43),y()()()(),m(44,"div",36)(45,"div",37)(46,"div",38)(47,"li",39)(48,"a",40),w(49,"V\u1ec1 t\xf4i"),y()(),m(50,"li",39)(51,"a",40),w(52,"H\u1ed3 s\u01a1"),y()(),m(53,"li",39)(54,"a",40),w(55,"\u0110\xe1nh gi\xe1"),y()(),m(56,"li",39)(57,"a",40),w(58,"How it works"),y()()()(),A(59,"div",41),m(60,"div",42)(61,"div",43)(62,"div",44)(63,"p"),w(64),y()(),m(65,"div",45)(66,"h3",46),w(67," Gi\u1ea3i th\u01b0\u1edfng "),y(),m(68,"p"),w(69),y()(),m(70,"div",47)(71,"h3",48),w(72," \u0110i\u1ec1u th\xfa v\u1ecb v\u1ec1 t\xf4i "),y(),m(73,"p"),w(74),y()()()(),A(75,"div",41),m(76,"div",49)(77,"h3",50),w(78,"Ng\xf4n ng\u1eef & M\xe1y \u1ea3nh"),y(),m(79,"div",51)(80,"div",52)(81,"div",53),A(82,"img",54),m(83,"h3"),w(84,"Ng\xf4n ng\u1eef"),y()(),m(85,"p"),w(86),y()(),m(87,"div",55)(88,"div",56),A(89,"img",57),m(90,"h3"),w(91,"M\xe1y \u1ea3nh"),y()(),m(92,"p"),w(93),y()()()(),A(94,"div",41),m(95,"div",58)(96,"h3",59),w(97,"My Portfolio"),y(),m(98,"div",60),be(99,bhe,9,3,"div",61),y()(),A(100,"div",41),m(101,"div",62)(102,"div",63)(103,"h3"),w(104,"\u0110\xe1nh Gi\xe1"),y(),m(105,"div",64)(106,"div",32),A(107,"img",33)(108,"img",33)(109,"img",33)(110,"img",33)(111,"img",33),y(),m(112,"span",34),w(113,"5.0"),y()()(),m(114,"div",65)(115,"div",66)(116,"div",67)(117,"div",68),A(118,"img",69),y(),m(119,"span",70),w(120,"Lalisa Manoban "),y()(),m(121,"div",71)(122,"p"),w(123,"Kh\xf4ng c\xf2n nghi ng\u1edd g\xec n\u1eefa, \u0111\xe2y l\xe0 m\u1ed9t trong nh\u1eefng nhi\u1ebfp \u1ea3nh gia tuy\u1ec7t v\u1eddi nh\u1ea5t v\xe0 c\xf3 k\u1ef9 n\u0103ng ch\u1ee5p \u1ea3nh \u0111a d\u1ea1ng! T\xf4i th\u01b0\u1eddng kh\xf4ng \u0111\u0103ng \u0111\xe1nh gi\xe1 nh\u01b0ng c\xf4ng vi\u1ec7c \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n b\u1edfi nhi\u1ebfp \u1ea3nh gia Ph\u1ea1m Vi\u1ec7t C\u01b0\u1eddng x\u1ee9ng \u0111\xe1ng v\xe0 h\u01a1n th\u1ebf n\u1eefa! T\xf4i v\xe0 YG s\u1ebd ti\u1ebfp t\u1ee5c l\xe0m nhi\u1ec1u vi\u1ec7c h\u01a1n v\u1edbi anh \u1ea5y!!"),y()()()()(),A(124,"div",41),m(125,"div",72)(126,"h3",73),w(127,"How it Works"),y(),m(128,"div",74)(129,"div",75)(130,"div",76)(131,"div",77),A(132,"i",78),y(),m(133,"h3",79),w(134,"Book."),y()(),m(135,"div",80)(136,"div",81),A(137,"p"),y(),m(138,"div",82)(139,"p"),w(140,"Nhanh ch\xf3ng t\xecm th\u1ea5y m\u1ed9t nhi\u1ebfp \u1ea3nh gia \u0111\u01b0\u1ee3c x\u1ebfp h\u1ea1ng h\xe0ng \u0111\u1ea7u g\u1ea7n b\u1ea1n. \u0110\u1eb7t ch\u1ed7 ph\xf9 h\u1ee3p cho kho\u1ea3nh kh\u1eafc \u0111\u1eb7c bi\u1ec7t c\u1ee7a b\u1ea1n ch\u1ec9 b\u1eb1ng v\xe0i c\xfa nh\u1ea5p chu\u1ed9t \u0111\u01a1n gi\u1ea3n."),y()()()(),m(141,"div",75)(142,"div",76)(143,"div",77),A(144,"i",83),y(),m(145,"h3",79),w(146,"Sheet."),y()(),m(147,"div",80)(148,"div",81),A(149,"p"),y(),m(150,"div",82)(151,"p"),w(152,"H\xe3y th\u01b0 gi\xe3n v\xe0 t\u1eadn h\u01b0\u1edfng kho\u1ea3nh kh\u1eafc khi m\u1ed9t nhi\u1ebfp \u1ea3nh gia gi\xe0u kinh nghi\u1ec7m ch\u1ee5p \u1ea3nh cho b\u1ea1n. H\u1ecd s\u1ebd ch\u0103m s\xf3c t\u1ea5t c\u1ea3 c\xe1c chi ti\u1ebft."),y()()()(),m(153,"div",75)(154,"div",76)(155,"div",77),A(156,"i",84),y(),m(157,"h3",79),w(158,"Enjoy!."),y()(),m(159,"div",80),A(160,"div",81),m(161,"div",82)(162,"p"),w(163," Trong v\xf2ng 2 ng\xe0y l\xe0m vi\u1ec7c k\u1ec3 t\u1eeb ng\xe0y ch\u1ee5p \u1ea3nh, b\u1ea1n s\u1ebd c\xf3 th\u1ec3 xem, t\u1ea3i xu\u1ed1ng v\xe0 chia s\u1ebb. T\u1eadn h\u01b0\u1edfng t\u1ea5t c\u1ea3 m\u1ed9t l\u1ea7n n\u1eefa v\xe0 m\u1ed9t l\u1ea7n n\u1eefa. "),y()()()()()()()(),m(164,"div",85)(165,"div",86)(166,"h4"),w(167,"\u0110\u1eb7t l\u1ecbch ch\u1ee5p t\u1ef1 \u0111\u1ed9ng"),y(),be(168,The,2,1,"div",87),m(169,"div",88)(170,"div",89)(171,"label",90),w(172,"Ng\xe0y ch\u1ee5p:"),y(),m(173,"app-date-picker",91),G("selectedDateChange",function(s){return i.onDateChange(s)})("selectedDateChange",function(s){return i.selectedDateU=s}),y()(),m(174,"div",92)(175,"label",93),w(176,"Th\u1eddi l\u01b0\u1ee3ng (gi\u1edd):"),y(),m(177,"app-custom-select",94),G("selectedOptionChange",function(s){return i.onOptionTLChange(s)})("selectedOptionChange",function(s){return i.selectedOptionTL=s}),m(178,"option",95),w(179,"1 gi\u1edd"),y(),m(180,"option",96),w(181,"2 gi\u1edd"),y(),m(182,"option",97),w(183,"3 gi\u1edd"),y(),m(184,"option",98),w(185,"4 gi\u1edd"),y(),m(186,"option",99),w(187,"5 gi\u1edd"),y(),m(188,"option",100),w(189,"6 gi\u1edd"),y(),m(190,"option",101),w(191,"7 gi\u1edd"),y(),m(192,"option",102),w(193,"8 gi\u1edd"),y()()(),m(194,"div",103)(195,"label",104),w(196,"Gi\u1edd h\u1eb9n:"),y(),m(197,"input",105),G("ngModelChange",function(s){return i.setTimeVal=s}),y()(),m(198,"div",106)(199,"label",93),w(200,"Lo\u1ea1i ch\u1ee5p"),y(),be(201,Dhe,3,3,"ng-container",107),y(),m(202,"a",108),G("click",function(){return i.onSubmit()}),w(203,"\u0110\u1eb7t l\u1ecbch"),y(),A(204,"div",41),be(205,She,5,2,"ng-container",107),A(206,"div",41),m(207,"span",109),A(208,"i",110),w(209," 15 \u1ea3nh c\xf3 \u0111\u1ed9 ph\xe2n gi\u1ea3i cao \u1edf \u0111\u1ecbnh d\u1ea1ng JPEG "),y(),m(210,"span",109),A(211,"i",110),w(212," \u0110\xe3 ch\u1ec9nh s\u1eeda v\xe0 ch\u1ec9nh m\xe0u "),y(),m(213,"span",109),A(214,"i",110),w(215," Giao h\xe0ng sau 2 ng\xe0y l\xe0m vi\u1ec7c "),y()()(),m(216,"div",111),G("click",function(){return i.hideOrder()}),A(217,"i",112),y()(),m(218,"div",113),G("click",function(){return i.showOrder()}),A(219,"i",114),y()()),2&r&&(S(27),qo("src",null==i.userData||null==i.userData.user?null:i.userData.user.avatar,Or),S(3),Ot(" ",null==i.userData||null==i.userData.user?null:i.userData.user.full_name," "),S(2),Ot(" ",null==i.userData||null==i.userData.user?null:i.userData.user.address," "),S(11),Ot("",null==i.userData||null==i.userData.user?null:i.userData.user.exp," n\u0103m kinh nghi\u1ec7m"),S(21),Ot(" ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.description," "),S(5),Ot(" ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.prize," "),S(5),Ot(" ",null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.interest," "),S(12),Ge(null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.language),S(7),Ge(null==i.userData||null==i.userData.userInfo?null:i.userData.userInfo.camera),S(6),Z("ngForOf",null==i.decesData?null:i.decesData.category),S(65),Z("ngClass",i.isShowOrder?"show":""),S(2),Go("data-id",null==i.userData||null==i.userData.user?null:i.userData.user.id),S(2),Z("ngIf",i.isError),S(5),Z("selectedDate",i.selectedDateU)("textDefault","Ng\xe0y"),S(4),Z("selectedOption",i.selectedOptionTL)("textDefault","Th\u1eddi l\u01b0\u1ee3ng"),S(20),Z("ngModel",i.setTimeVal),S(4),Z("ngIf",i.typeOfPhoto.length>0),S(4),Z("ngIf",i.costPreview),S(13),Z("ngClass",i.isShowOrder?"hide":""))},dependencies:[Cs,wo,Po,q0,K0,pl,Zu,Mm,ml,zT,WT],styles:['@charset "UTF-8";.forMe-wrapper[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:5rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:3rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   .avatar-image[_ngcontent-%COMP%]{height:130px;width:130px;object-fit:cover;border-radius:50%}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-name[_ngcontent-%COMP%]{margin:2px 0;color:var(--color-primary);font-weight:700;font-size:28px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-address[_ngcontent-%COMP%]{margin:4px 0;font-size:15px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-rate[_ngcontent-%COMP%]{margin:.5rem 0;display:flex;justify-content:flex-start;column-gap:.75rem}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:16px;width:16px;object-fit:cover}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-rate[_ngcontent-%COMP%]   .rate-text[_ngcontent-%COMP%]{font-size:15px}.forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]   .des-forMe-wrapper[_ngcontent-%COMP%]   .des-forMe-exp[_ngcontent-%COMP%]{margin:4px 0}.infor-title-list[_ngcontent-%COMP%]{padding-left:2rem}.infor-title-list[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:4rem;flex-wrap:wrap;row-gap:2rem}.infor-title-list[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]   .it-item[_ngcontent-%COMP%]{list-style:none;display:inline}.infor-title-list[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]   .it-item[_ngcontent-%COMP%]   .it-link[_ngcontent-%COMP%]{text-decoration:none;display:block;font-weight:700;color:var(--color-primary);font-size:20px;text-wrap:nowrap}.infor-content-list[_ngcontent-%COMP%]{padding-top:1.5rem;padding-left:2rem}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .prize[_ngcontent-%COMP%]   .prize-title[_ngcontent-%COMP%]{color:var(--color-primary);font-size:20px;font-weight:700}.infor-content-list[_ngcontent-%COMP%]   .ic-item[_ngcontent-%COMP%]   .interest[_ngcontent-%COMP%]   .interest-title[_ngcontent-%COMP%]{font-weight:700;font-size:20px;color:var(--color-primary)}.feature-wrapper[_ngcontent-%COMP%]{padding-left:2rem;padding-top:.5rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:700;font-size:20px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   .language-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   .language-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   .language-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:var(--color-primary);font-weight:700}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-left:3rem;font-size:18px;margin-top:0}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   .camera-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   .camera-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   .camera-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:var(--color-primary);font-weight:700}.feature-wrapper[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:0;padding-left:3rem;font-size:18px}.portfolio[_ngcontent-%COMP%]{padding-left:2rem;padding-right:25%;padding-top:.5rem}.portfolio[_ngcontent-%COMP%]   .portfolio-title[_ngcontent-%COMP%]{font-weight:700;color:var(--color-warning)}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-auto-rows:1fr;gap:2rem}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-text-body);text-decoration:none}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   .portfolio-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:250px;object-fit:cover}.portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]   .it-footer[_ngcontent-%COMP%]   .it-cate[_ngcontent-%COMP%]{font-size:20px;margin-bottom:10px}.appraise[_ngcontent-%COMP%]{padding-left:2rem;padding-top:.5rem}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--color-warning);font-weight:700}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;column-gap:.5rem}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   .rate-star[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:15px;width:15px;object-fit:cover}.appraise[_ngcontent-%COMP%]   .appraise-title[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   .rate-text[_ngcontent-%COMP%]{font-weight:700}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:.75rem}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]   .header-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;object-fit:cover}.appraise[_ngcontent-%COMP%]   .appraise-content[_ngcontent-%COMP%]   .appraise-item[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]   .header-name[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:700}.how-it-works[_ngcontent-%COMP%]{padding-left:1.5rem;padding-top:.5rem}.how-it-works[_ngcontent-%COMP%]   .hiw-title[_ngcontent-%COMP%]{color:var(--color-warning);font-weight:700}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;flex-direction:column}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:1rem}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{font-size:30px;color:var(--color-primary)}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]   .title-text[_ngcontent-%COMP%]{margin:8px 0;font-size:20px;font-weight:700;color:var(--color-primary)}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:2rem;align-items:center;height:100%}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .content-deliver[_ngcontent-%COMP%]{display:flex;justify-content:center;height:auto;width:3px;margin-left:12px;background-color:var(--color-primary)}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .content-deliver[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;height:100%}.how-it-works[_ngcontent-%COMP%]   .hiw-content[_ngcontent-%COMP%]   .hiw-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .content-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 400px 0 4rem}.content-wrapper[_ngcontent-%COMP%]   .info-wrapper[_ngcontent-%COMP%]   .deliver-line[_ngcontent-%COMP%]{height:2px;width:100%;margin:1.5rem 0;background-color:var(--color-primary)}.order-wrapper[_ngcontent-%COMP%]{background-color:var(--color-bg-body);position:fixed;top:100px;right:50px;border-radius:.3rem;box-shadow:0 2px 5px #0003;z-index:600}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]{width:300px;min-height:500px;max-height:calc(100vh - 100px);padding:20px;overflow-y:auto}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--color-light)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--color-secondary);border-radius:4px;border:2px solid var(--color-light)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;color:#333;font-size:20px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .mess-valid[_ngcontent-%COMP%]{font-size:14px;color:red}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .filter-date-picker[_ngcontent-%COMP%]{z-index:999}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;margin-top:.5rem}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%], .order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   input[type=time][_ngcontent-%COMP%], .order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:4px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:10px 15px;border:none;border-radius:4px;text-decoration:none;margin-top:1rem;text-align:center}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#0056b3}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .deliver-line[_ngcontent-%COMP%]{height:2px;width:100%;margin:1rem 0;background-color:var(--color-secondary)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .p-footer[_ngcontent-%COMP%]{color:var(--color-warning);font-weight:700;margin:0;padding-left:.5rem}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .p-footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--color-text-body)}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .sug-foot[_ngcontent-%COMP%]{font-size:13px}.order-wrapper[_ngcontent-%COMP%]   .order-container[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .sug-foot[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--color-warning);font-size:18px}.order-wrapper[_ngcontent-%COMP%]   .btn-close-order[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-8px;font-size:30px;color:#000;cursor:pointer;height:30px;width:30px;border-radius:50%;background-color:var(--color-secondary);display:none}.profile-content[_ngcontent-%COMP%]{position:relative;margin-top:6rem}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(9,1fr);column-gap:.3rem;height:500px}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall2[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall4[_ngcontent-%COMP%]{grid-column:span 2;height:500px}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall4[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:.3rem}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-2[_ngcontent-%COMP%]{height:calc(250px - .15rem)}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall1[_ngcontent-%COMP%]   .wall1-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-2[_ngcontent-%COMP%]{height:calc(250px - .15rem)}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall3[_ngcontent-%COMP%]   .wall3-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-1[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-2[_ngcontent-%COMP%]{height:calc(250px - .15rem)}.profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   .wall-wrapper[_ngcontent-%COMP%]   .wall-content[_ngcontent-%COMP%]   .wall5[_ngcontent-%COMP%]   .wall5-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-content[_ngcontent-%COMP%]   .toggle-order-wrapper[_ngcontent-%COMP%]{position:fixed;bottom:5rem;right:1rem;width:40px;height:40px;background-color:var(--color-primary);z-index:999;display:none;font-size:30px;border-radius:50%;padding-top:3.5px;padding-left:5px;color:var(--color-light)}@media (max-width: 991.98px){.order-wrapper[_ngcontent-%COMP%]{display:none}.order-wrapper.show[_ngcontent-%COMP%]{display:block}.toggle-order-wrapper[_ngcontent-%COMP%]{display:block!important}.toggle-order-wrapper.hide[_ngcontent-%COMP%]{display:none!important}.btn-close-order[_ngcontent-%COMP%]{display:block!important}.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 2rem 0!important}}@media (max-width: 767.98px){.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:2.5rem 2rem 0!important}.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .forMe-wrapper[_ngcontent-%COMP%]   .forMe-content[_ngcontent-%COMP%]{flex-direction:column;row-gap:2rem}.profile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .info-wrapper[_ngcontent-%COMP%]   .portfolio[_ngcontent-%COMP%]   .portfolio-content[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}']}),e})(),A9=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tt({type:t,selectors:[["app-layout-profile"]],decls:7,vars:0,consts:[[1,"layout-wrapper"],[1,"layout-container"],[1,"content-wrapper"],[1,"content-container"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1),A(2,"app-header"),m(3,"div",2)(4,"div",3),A(5,"router-outlet"),y()(),A(6,"app-footer"),y()())},dependencies:[nl,GT,qT],styles:[".layout-wrapper[_ngcontent-%COMP%], .layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%], .layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{width:100%}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{width:100%;margin:0 auto}@media (min-width: 1400px){.content-container[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.content-container[_ngcontent-%COMP%]{margin-top:5rem!important}}"]}),e})();function xhe(t,e){1&t&&(m(0,"span",22),w(1,"Vui l\xf2ng nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i h\u1ee3p l\u1ec7."),y())}function khe(t,e){1&t&&(m(0,"span",22),w(1,"Vui l\xf2ng nh\u1eadp email h\u1ee3p l\u1ec7."),y())}function Nhe(t,e){1&t&&(m(0,"span",22),w(1,"Vui l\xf2ng nh\u1eadp 6 ky\u0301 t\u01b0\u0323."),y())}function Fhe(t,e){if(1&t){const n=gi();m(0,"div",23)(1,"div",24),A(2,"i",25),w(3," B\u1ea1n kh\xf4ng c\xf3 \u1ea3nh tr\u1ea3. "),y(),m(4,"a",26),G("click",function(){return Xn(n),Rn(Vt().closeError())}),w(5," Th\u1eed l\u1ea1i "),y()()}}let Lhe=(()=>{var t;class e{constructor(r,i){this.orderService=r,this.router=i,this.invalidEmail=!1,this.invalidPhone=!1,this.invalidCode=!1,this.isError=!1,this.email="",this.phone="",this.code=""}onChangePhone(r){let i=r.target.value;i=i.replace(/[^0-9]/g,""),this.phone=i,this.validatePhone()}onChangeEmail(r){this.email=r.target.value,this.validateEmail()}onChangeCode(r){this.code=r.target.value,this.validateCode()}onSubmit(){var r=this;return(0,x.Z)(function*(){if(r.validateEmail()&&r.validatePhone()&&r.validateCode()){const o=yield r.orderService.getOrderByCode(r.code);if(o){var i="/refund-pc/"+o.id;window.alert("true"),r.router.navigate([i])}else r.isError=!0}else r.validateEmail(),r.validatePhone(),r.validateCode()})()}validateEmail(){const i=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(this.email);return this.invalidEmail=!i,i}validatePhone(){const i=/^0[0-9]{9,10}$/.test(this.phone);return this.invalidPhone=!i,i}validateCode(){const r=6===this.code.length;return this.invalidCode=!r,r}closeError(){this.isError=!1}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(ed),Y(br))},t.\u0275cmp=Tt({type:t,selectors:[["app-refund-picture"]],decls:32,vars:4,consts:[[1,"send-ct-wrapper"],[1,"send-ct-container"],[1,"send-ct-header"],[1,"go-home"],["routerLink","/home",1,"go-home-link"],[1,"bx","bxs-chevron-left"],[1,"brand"],["routerLink","/home",1,"brand-link"],["src","./assets/images/logo2.png","alt","logo",1,"brand-image"],[1,"send-ct-title"],[1,"send-ct-content"],[3,"ngSubmit"],[1,"form-group"],["for","phone"],["type","text","id","phone","name","phone","required","","placeholder","0123456789","appOnlyNumbers","",3,"input"],["class","validate-message",4,"ngIf"],["for","username"],["type","text","id","username","name","username","required","","placeholder","quang@gmail.com",3,"input"],["for","code"],["type","text","id","code","name","code","required","","placeholder","xxxxxx",3,"input"],["type","submit"],["class","error",4,"ngIf"],[1,"validate-message"],[1,"error"],[1,"icon-error-wr"],[1,"bx","bx-error-circle","icon-error"],["href","javascript:void(0)",1,"close-error",3,"click"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),A(5,"i",5),w(6," Trang ch\u1ee7 "),y()(),m(7,"div",6)(8,"a",7),A(9,"img",8),y()(),m(10,"h3",9),w(11," Vui l\xf2ng \u0111i\u1ec1n th\xf4ng tin c\u1ee7a b\u1ea1n. "),y()(),m(12,"div",10)(13,"form",11),G("ngSubmit",function(){return i.onSubmit()}),m(14,"div",12)(15,"label",13),w(16,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),y(),m(17,"input",14),G("input",function(s){return i.onChangePhone(s)}),y(),be(18,xhe,2,0,"span",15),y(),m(19,"div",12)(20,"label",16),w(21,"Email"),y(),m(22,"input",17),G("input",function(s){return i.onChangeEmail(s)}),y(),be(23,khe,2,0,"span",15),y(),m(24,"div",12)(25,"label",18),w(26,"Ma\u0303"),y(),m(27,"input",19),G("input",function(s){return i.onChangeCode(s)}),y(),be(28,Nhe,2,0,"span",15),y(),m(29,"button",20),w(30,"G\u1eedi"),y()()(),be(31,Fhe,6,0,"div",21),y()()),2&r&&(S(18),Z("ngIf",i.invalidPhone),S(5),Z("ngIf",i.invalidEmail),S(5),Z("ngIf",i.invalidCode),S(3),Z("ngIf",i.isError))},dependencies:[Po,kr,Em,ym,Yu,T9],styles:[".send-ct-wrapper[_ngcontent-%COMP%]{width:100%;margin:0 auto;min-height:100vh;padding:2rem;background-image:url(/assets/images/banner.jpg);background-size:cover;background-repeat:no-repeat;background-position:center}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]{padding:2rem;border-radius:.5rem;width:700px;margin:auto;min-height:calc(100vh - 4rem);background-color:#ffffffa8;box-shadow:0 0 10px #0000004d;position:relative}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem;position:relative}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{position:absolute;top:0rem;left:0rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]   .go-home-link[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;text-decoration:none;color:var(--color-primary);font-weight:700;position:relative}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .send-ct-title[_ngcontent-%COMP%]{text-align:center;color:var(--color-primary);font-size:32px;font-weight:700}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{display:flex;justify-content:center}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]   .brand-image[_ngcontent-%COMP%]{width:5rem;height:5rem;object-fit:cover}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:15px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:gray;font-weight:600;font-size:18px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 10px;border:2px solid gray;border-radius:5px;background-color:transparent;outline:none}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--color-primary)}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{width:100%;font-size:14px;color:#ff1818}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 auto;margin-top:3rem;display:block;padding:15px 25px;background-color:var(--color-primary);color:#fff;border:none;border-radius:5px;font-size:20px;cursor:pointer}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;background-color:#fff;box-shadow:0 0 10px #0000004d;display:flex;flex-direction:column;justify-content:center;row-gap:5rem;align-items:center;border-radius:.5rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]   .icon-error-wr[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:1rem;justify-content:center;align-items:center;font-weight:700;font-size:25px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]   .icon-error-wr[_ngcontent-%COMP%]   .icon-error[_ngcontent-%COMP%]{font-size:100px;color:red}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]   .close-error[_ngcontent-%COMP%]{text-decoration:none;padding:15px 20px;background-color:var(--color-primary);color:#fff;border:none;border-radius:5px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]   .close-error[_ngcontent-%COMP%]:hover{background-color:#0056b3}@media (max-width: 767.98px){.send-ct-wrapper[_ngcontent-%COMP%]{width:100%!important;padding:1rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]{width:100%;min-height:calc(100vh - 2rem)}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .go-home[_ngcontent-%COMP%]{top:-.5rem;left:-1rem}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-header[_ngcontent-%COMP%]   .send-ct-title[_ngcontent-%COMP%]{font-size:26px!important}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validate-message[_ngcontent-%COMP%]{font-size:12px}.send-ct-wrapper[_ngcontent-%COMP%]   .send-ct-container[_ngcontent-%COMP%]   .send-ct-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2rem;padding:10px 15px;font-size:20px!important}}"]}),e})();function Vhe(t,e){if(1&t&&(Tu(0),m(1,"a",53),w(2," Link Download "),y(),Au()),2&t){const n=Vt();S(1),qo("href",n.order.link_down,Or)}}function Uhe(t,e){1&t&&(m(0,"a",54),w(1," Link Download "),y())}function Bhe(t,e){1&t&&(m(0,"div",55)(1,"li"),A(2,"i",56)(3,"i",23)(4,"i",23)(5,"i",23)(6,"i",23),y(),m(7,"li"),A(8,"i",56)(9,"i",56)(10,"i",23)(11,"i",23)(12,"i",23),y(),m(13,"li"),A(14,"i",56)(15,"i",56)(16,"i",56)(17,"i",23)(18,"i",23),y(),m(19,"li"),A(20,"i",56)(21,"i",56)(22,"i",56)(23,"i",56)(24,"i",23),y(),m(25,"li"),A(26,"i",56)(27,"i",56)(28,"i",56)(29,"i",56)(30,"i",56),y()())}let jhe=(()=>{var t;class e{constructor(r,i,o){this.router=r,this.route=i,this.orderService=o,this.isShowAskRepair=!1,this.isDropdownOpen=!1,this.route.params.subscribe(s=>{const a=s.id;a?this.orderId=parseInt(a,10):console.error("ID not found in URL")})}ngOnInit(){var r=this;this.route.params.subscribe(function(){var i=(0,x.Z)(function*(o){const s=o.id;if(s){const a=parseInt(s,10);r.orderService.getOrderById(a).then(c=>{null!==c&&(r.order=c)}).catch(c=>{console.error("Error:",c)})}else console.error("ID not found in URL")});return function(o){return i.apply(this,arguments)}}())}toggleAsk(){this.isShowAskRepair=!this.isShowAskRepair}closeAsk(){this.isShowAskRepair=!1}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(br),Y(Ys),Y(ed))},t.\u0275cmp=Tt({type:t,selectors:[["app-page-picture-refund"]],decls:95,vars:4,consts:[[1,"page-pr-wrapper"],[1,"page-header"],[1,"header-content"],[1,"header-left"],[1,"header-right"],["routerLink","/home"],[1,"page-content"],[1,"picture-wrapper"],[1,"picture-content"],[1,"picture-item"],["src","./assets/images/user/Hy vu\xf4ng 2.jpg","alt",""],["src","./assets/images/user/Thanh B\xecnh 3.jpg","alt",""],[1,"link-dow-wrapper"],[1,"link-dow-content"],[4,"ngIf","ngIfElse"],["elseBlock",""],[1,"link-dow-footer"],["href","javascript:void(0)",3,"click"],[1,"review-wrapper"],[1,"review-title"],[1,"review-content"],[1,"review-content-first"],[1,"rating"],[1,"bx","bx-star"],["class","dropdownRate",4,"ngIf"],[1,"comment"],["name","comment","id","","cols","30","rows","5"],[1,"sub-t"],[1,"review-content-second"],["href","javascript:void(0)",1,"btn","btn-hide-inf"],[1,"bx","bx-toggle-left"],["href","javascript:void(0)",1,"btn","btn-submit"],[1,"ask-repair-wrapper",3,"ngClass"],[1,"ask-repair-container"],[1,"ask-repair-content"],[1,"repair-header"],[1,"bx","bx-chevron-left"],[1,"repair-cont"],[1,"repair-content"],[1,"enter-code-picture"],[1,"ecp-title"],[1,"po-title"],[1,"repair-police"],[1,"ecp-content"],["name","","id","ecp-code","cols","30","rows","10"],[1,"po-content-wr"],[1,"po-content"],[1,"repair-submit"],[1,"rs-left"],[1,"rs-right"],["href","javascript:void(0)",1,"btn-submit-repair"],["href","javascript:void(0)",1,"btn-close-ask",3,"click"],[1,"bx","bx-x"],["target","_blank",1,"btn-get-link",3,"href"],["href","javascript:void(0);",1,"btn-get-link"],[1,"dropdownRate"],[1,"bx","bxs-star"]],template:function(r,i){if(1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),w(5,"B\u1ed9 s\u01b0u t\u1eadp \u1ea3nh"),y(),m(6,"p"),w(7,"H\xe3y c\xf9ng th\u01b0\u1edfng th\u1ee9c b\u1ee9c h\xecnh tuy\u1ec7t v\u1eddi c\u1ee7a b\u1ea1n!"),y()(),m(8,"div",4)(9,"a",5),w(10,"Trang ch\u1ee7"),y()()()(),m(11,"div",6)(12,"div",7)(13,"div",8)(14,"div",9),A(15,"img",10),y(),m(16,"div",9),A(17,"img",11),y(),m(18,"div",9),A(19,"img",10),y(),m(20,"div",9),A(21,"img",11),y(),m(22,"div",9),A(23,"img",10),y()()(),m(24,"div",12)(25,"div",13),be(26,Vhe,3,1,"ng-container",14),be(27,Uhe,2,0,"ng-template",null,15,jI),m(29,"span"),w(30,"File \u1ea3nh c\xf3 \u0111\u1ecbnh dang JPEG"),y()(),m(31,"div",16)(32,"a",17),G("click",function(){return i.toggleAsk()}),w(33,"Y\xeau c\u1ea7u s\u1eeda \u1ea3nh"),y()()(),m(34,"div",18)(35,"div",19)(36,"p"),w(37," \u0110\xe1nh gi\xe1 c\u1ee7a b\u1ea1n "),y()(),m(38,"div",20)(39,"div",21)(40,"div",22)(41,"span"),w(42,"Ch\u1ea5t l\u01b0\u1ee3ng: "),y(),m(43,"a",17),G("click",function(){return i.toggleDropdown()}),A(44,"i",23)(45,"i",23)(46,"i",23)(47,"i",23)(48,"i",23),y(),be(49,Bhe,31,0,"div",24),y(),m(50,"div",25)(51,"p"),w(52,"Vi\u1ebft \u0111\xe1nh gi\xe1"),y(),A(53,"textarea",26),y(),m(54,"div",27)(55,"span"),w(56,"T\u1ed1i \u0111a 450 ch\u1eef"),y()()(),m(57,"div",28)(58,"a",29),w(59," \u1ea8n danh "),A(60,"i",30),y(),m(61,"a",31),w(62,"\u0110\u0103ng"),y()()()()(),m(63,"div",32)(64,"div",33)(65,"div",34)(66,"div",35)(67,"h2"),A(68,"i",36),w(69,"Y\xeau c\u1ea7u s\u1eeda \u1ea3nh"),y()(),m(70,"div",37)(71,"div",38)(72,"div",39)(73,"div",40),w(74,"Nh\u1eadp m\xe3 \u1ea3nh"),y(),m(75,"div",41),w(76," Ch\xednh s\xe1ch y\xeau c\u1ea7u s\u1eeda \u1ea3nh "),y()(),m(77,"div",42)(78,"div",43),A(79,"textarea",44),y(),m(80,"div",45)(81,"div",46)(82,"li"),w(83,"Kh\xe1ch h\xe0ng \u0111i\u1ec1n m\xe3 \u1ea3nh \u0111\u1ed1i v\u1edbi nh\u1eefng b\u1ee9c \u1ea3nh m\xe0 m\xecnh mu\u1ed1n ch\u1ec9nh s\u1eeda"),y(),m(84,"li"),w(85,"S\u1ed1 l\u01b0\u1ee3ng b\u1ee9c \u1ea3nh \u0111\u01b0\u1ee3c s\u1eeda ph\u1ee5 thu\u1ed9c v\xe0o g\xf3i ch\u1ee5p \u1ea3nh \u0111\xe3 th\u1ecfa thu\u1eadn v\u1edbi nhi\u1ebfp \u1ea3nh gia tr\u01b0\u1edbc \u0111\xf3"),y(),m(86,"li"),w(87,"Truy c\u1eadp l\u1ea1i file nh\u1eadn \u1ea3nh \u0111\u1ec3 nh\u1eefng b\u1ee9c \u1ea3nh \u0111\xe3 \u0111\u01b0\u1ee3c ch\u1ec9nh s\u1eeda sau 2-3 ng\xe0y"),y()()()()(),m(88,"div",47),A(89,"div",48),m(90,"div",49)(91,"a",50),w(92,"G\u1eedi y\xeau c\u1ea7u"),y()()()(),m(93,"a",51),G("click",function(){return i.closeAsk()}),A(94,"i",52),y()()()()()),2&r){const o=yI(28);S(26),Z("ngIf",""!==i.order.link_down)("ngIfElse",o),S(23),Z("ngIf",i.isDropdownOpen),S(14),Z("ngClass",i.isShowAskRepair?"active":"")}},dependencies:[Cs,Po,kr],styles:[".page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{background-color:var(--color-primary);height:140px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;height:100%;padding:0 2rem;margin:0 auto}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{padding-bottom:2rem;display:flex;flex-direction:column;justify-content:flex-end}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:700;color:var(--color-light)}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-light);font-weight:100;margin:.3rem 0 0}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:300;color:var(--color-light);text-decoration:none}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:4rem 2rem;margin:0 auto}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .btn-control-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;column-gap:.5rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .btn-control-wrapper[_ngcontent-%COMP%]   .btn-control[_ngcontent-%COMP%]{line-height:40px;padding:0 30px;border:2px solid var(--color-primary);border-radius:.3rem;color:#000;background-color:var(--color-light);text-decoration:none}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .btn-control-wrapper[_ngcontent-%COMP%]   .btn-control.active[_ngcontent-%COMP%]{background-color:var(--color-info);border-color:var(--color-info);color:var(--color-light)}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]{padding-top:3.5rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-content[_ngcontent-%COMP%]   .picture-item[_ngcontent-%COMP%]{width:100%}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .picture-content[_ngcontent-%COMP%]   .picture-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .link-dow-wrapper[_ngcontent-%COMP%]{margin-top:3rem;border:2px solid black;border-radius:.3rem;height:250px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .link-dow-wrapper[_ngcontent-%COMP%]   .link-dow-content[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .link-dow-wrapper[_ngcontent-%COMP%]   .link-dow-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{line-height:50px;padding:0 70px;background-color:var(--color-info);border-color:var(--color-info);color:var(--color-light);text-decoration:none;font-size:22px;font-weight:700;border-radius:.2rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .link-dow-wrapper[_ngcontent-%COMP%]   .link-dow-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:1rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .link-dow-wrapper[_ngcontent-%COMP%]   .link-dow-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:.5rem 0}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .link-dow-wrapper[_ngcontent-%COMP%]   .link-dow-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:600}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]{padding:3rem 0}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]{border:2px solid black;border-radius:.3rem;background-color:var(--color-light);height:200px;padding:.3rem 1rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]{position:relative}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-warning)}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]   .dropdownRate[_ngcontent-%COMP%]{position:absolute;left:5rem;background-color:var(--color-light);border-radius:.3rem;box-shadow:0 0 .5rem;padding:0 5px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]   .dropdownRate[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:30px;list-style:none;color:var(--color-warning);cursor:pointer;display:block}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:4px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;border:none;outline:none;resize:none;padding:.25rem 0}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--color-light)}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--color-secondary);border-radius:4px;border:2px solid var(--color-light)}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-first[_ngcontent-%COMP%]   .sub-t[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;font-size:14px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-second[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:1rem;column-gap:1rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-second[_ngcontent-%COMP%]   .btn-hide-inf[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;text-decoration:none;color:var(--color-text-body)}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-second[_ngcontent-%COMP%]   .btn-hide-inf[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:.3rem;font-size:40px}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .review-wrapper[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-content-second[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]{line-height:40px;background-color:var(--color-primary);color:var(--color-light);border-radius:.3rem;padding:0 25px;text-decoration:none}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;z-index:900}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;justify-content:center;align-items:center;position:relative}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]{height:90%;width:90%;margin:auto;background-color:var(--color-light);position:relative;transform:translateY(-200%)}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-header[_ngcontent-%COMP%]{background-color:var(--color-primary);height:120px;display:flex;justify-content:flex-start;align-items:flex-end;padding:1rem 2rem}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:var(--color-light);font-weight:500;display:flex;align-items:center}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:50px}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]{max-height:calc(100% - 120px);overflow-y:auto;position:relative}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]{padding:2rem 3rem}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .enter-code-picture[_ngcontent-%COMP%]{display:grid;column-gap:1rem;grid-template-columns:repeat(2,1fr);margin-bottom:1.5rem}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .enter-code-picture[_ngcontent-%COMP%]   .ecp-title[_ngcontent-%COMP%], .page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .enter-code-picture[_ngcontent-%COMP%]   .po-title[_ngcontent-%COMP%]{grid-column:span 1}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .repair-police[_ngcontent-%COMP%]{display:grid;column-gap:1rem;grid-template-columns:repeat(2,1fr)}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .repair-police[_ngcontent-%COMP%]   .ecp-content[_ngcontent-%COMP%]{grid-column:span 1;width:100%;height:100%}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .repair-police[_ngcontent-%COMP%]   .ecp-content[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:100%;width:100%;outline:none;border:2px solid var(--color-secondary);padding:.5rem;resize:none}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-content[_ngcontent-%COMP%]   .repair-police[_ngcontent-%COMP%]   .po-content-wr[_ngcontent-%COMP%]{grid-column:span 1;padding:1rem;display:flex;justify-content:center;align-items:center;background-color:var(--color-secondary);height:100%}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-submit[_ngcontent-%COMP%]{padding:0 3rem;margin-bottom:3rem;display:flex;justify-content:space-between}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-submit[_ngcontent-%COMP%]   .rs-right[_ngcontent-%COMP%]{width:calc(50% - .5rem);height:40px;display:flex}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .repair-cont[_ngcontent-%COMP%]   .repair-submit[_ngcontent-%COMP%]   .rs-right[_ngcontent-%COMP%]   .btn-submit-repair[_ngcontent-%COMP%]{border-radius:.3rem;height:100%;background-color:var(--color-primary);color:var(--color-light);width:100%;text-align:center;text-decoration:none;line-height:40px}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .btn-close-ask[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;color:var(--color-light);font-weight:700;font-size:28px;width:25px;height:25px;border-radius:50%;display:flex;justify-content:center;align-items:center;text-decoration:none}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]   .btn-close-ask[_ngcontent-%COMP%]:hover{background-color:var(--color-secondary);color:#000;transform:rotate(35deg)}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper.active[_ngcontent-%COMP%]{display:block}.page-pr-wrapper[_ngcontent-%COMP%]   .ask-repair-wrapper.active[_ngcontent-%COMP%]   .ask-repair-container[_ngcontent-%COMP%]   .ask-repair-content[_ngcontent-%COMP%]{transform:translateY(0)}@media (min-width: 1400px){.header-content[_ngcontent-%COMP%], .page-content[_ngcontent-%COMP%], .ask-repair-content[_ngcontent-%COMP%]{max-width:1440px}}@media (max-width: 991.98px){.page-pr-wrapper[_ngcontent-%COMP%]   .picture-content[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}"]}),e})();const $he=["iconToggle"],Hhe=["searchInput"],zhe=["searchBarToggle"],Whe=["navSearch"];function Ghe(t,e){1&t&&(m(0,"div",34)(1,"p"),w(2,"hk"),y(),m(3,"p"),w(4,"hk"),y(),m(5,"p"),w(6,"hk"),y(),m(7,"p"),w(8,"hk"),y()())}const qhe=function(t){return{"search-bar-block":t}};let D9=(()=>{var t;class e{constructor(r){this.eventService=r,this.isShowSearchBar=!1,this.isMenuVisible=!1,this.inputValue="",this.toggleSuggest=!1}showMenu(){this.isMenuVisible=!0,this.eventService.emitEvent("showMenuFromNavbar",this.isMenuVisible)}toggleSearch(){this.isShowSearchBar=!this.isShowSearchBar,this.isShowSearchBar&&setTimeout(()=>{this.searchInput.nativeElement.focus()}),this.inputValue="",this.toggleSuggest=!1,this.eventService.emitEvent("toggleSuggestSearch",this.toggleSuggest)}onInputChange(r){this.inputValue=r.target.value,this.toggleSuggest=""!==this.inputValue.trim(),this.eventService.emitEvent("toggleSuggestSearch",this.toggleSuggest)}closeDropdown(r){!this.searchBarToggle.nativeElement.contains(r.target)&&!this.navSearch.nativeElement.contains(r.target)&&this.isShowSearchBar&&(this.toggleSuggest=!1,this.inputValue="",this.isShowSearchBar=!1,this.eventService.emitEvent("toggleSuggestSearch",this.toggleSuggest))}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(cP))},t.\u0275cmp=Tt({type:t,selectors:[["app-navbar-admin"]],viewQuery:function(r,i){if(1&r&&(Jn($he,5),Jn(Hhe,5),Jn(zhe,5),Jn(Whe,5)),2&r){let o;jn(o=$n())&&(i.iconToggle=o.first),jn(o=$n())&&(i.searchInput=o.first),jn(o=$n())&&(i.searchBarToggle=o.first),jn(o=$n())&&(i.navSearch=o.first)}},hostBindings:function(r,i){1&r&&G("click",function(s){return i.closeDropdown(s)},0,Iu)},decls:39,vars:5,consts:[[1,"navbar-container"],[1,"toggle-menu"],[1,"toggle-icon"],["href","javascript:void(0)",1,"toggle-link","nav-link",3,"click"],["iconToggle",""],[1,"bx","bx-menu","bx-sm"],[1,"navbar-content"],[1,"nav-left"],[1,"nav-search-wrapper"],["navSearch",""],[1,"nav-search-icon"],["href","javascript:void(0)",1,"search-link","nav-link",3,"click"],[1,"bx","bx-search","bx-sm"],[1,"search-placeholder"],[1,"nav-right"],[1,"language","language-dropdown","nav-item"],["href","javascript:void(0)",1,"nav-link"],[1,"bx","bx-globe","bx-sm"],[1,"nav-item"],[1,"bx","bx-grid-alt","bx-sm"],[1,"bx","bx-bell","bx-sm"],[1,"badge-notifications"],[1,"nav-item","navbar-dropdown","dropdown-user","dropdown"],["href","javascript:void(0);","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle","hide-arrow"],[1,"avatar","avatar-online"],["src","./assets/images/avatar.png","alt","",1,"w-px-40","h-auto","rounded-circle"],[1,"search-toggle",3,"ngClass"],["searchBarToggle",""],[1,"search-toggle-content"],["type","text","id","ip","placeholder","Search...",3,"value","input"],["searchInput",""],["href","javascript:void(0)",1,"nav-link","search-close",3,"click"],[1,"bx","bx-x","bx-sm"],["class","search-suggest",4,"ngIf"],[1,"search-suggest"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3,4),G("click",function(){return i.showMenu()}),A(5,"i",5),y()()(),m(6,"div",6)(7,"div",7)(8,"div",8,9)(10,"div",10)(11,"a",11),G("click",function(){return i.toggleSearch()}),A(12,"i",12),m(13,"span",13),w(14,"Search (Ctrl+/)"),y()()()()(),m(15,"div",14)(16,"li",15)(17,"a",16),A(18,"i",17),y()(),m(19,"li",18)(20,"a",16),A(21,"i",19),y()(),m(22,"li",18)(23,"a",16),A(24,"i",20),m(25,"span",21),w(26,"5"),y()()(),m(27,"li",22)(28,"a",23)(29,"div",24),A(30,"img",25),y()()()()(),m(31,"div",26,27)(33,"div",28)(34,"input",29,30),G("input",function(s){return i.onInputChange(s)}),y(),m(36,"a",31),G("click",function(){return i.toggleSearch()}),A(37,"i",32),y(),be(38,Ghe,9,0,"div",33),y()()()),2&r&&(S(31),Z("ngClass",_i(3,qhe,i.isShowSearchBar)),S(3),Z("value",i.inputValue),S(4),Z("ngIf",i.toggleSuggest))},dependencies:[Cs,Po],styles:['.nav-link[_ngcontent-%COMP%]{padding:.5rem 0;display:flex;align-items:center;text-decoration:none;color:#697a8d}.nav-item[_ngcontent-%COMP%]{list-style-type:none}.search-bar-block[_ngcontent-%COMP%]{display:block!important;opacity:1;transform:translateY(0)}.navbar-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center}.navbar-container[_ngcontent-%COMP%]   i.bx[_ngcontent-%COMP%]{padding-top:.125rem}.navbar-container[_ngcontent-%COMP%]   .toggle-menu[_ngcontent-%COMP%]{margin-right:1.2rem}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]{display:flex;flex-basis:100%}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-left[_ngcontent-%COMP%]{display:flex;align-items:center}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-left[_ngcontent-%COMP%]   .search-placeholder[_ngcontent-%COMP%]{display:none;text-wrap:nowrap;color:#a1acb8!important;opacity:1;padding-left:.25rem}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:auto!important}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{margin-right:1rem;position:relative}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .badge-notifications[_ngcontent-%COMP%]{border-radius:100%;position:absolute;top:3px;right:-7px;background-color:var(--bs-red);width:1.1rem;height:1.1rem;color:var(--bs-white);font-size:10px;display:flex;justify-content:center;align-items:center;font-weight:700}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%]   li.dropdown-user[_ngcontent-%COMP%]{margin-right:0}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%]   li.dropdown-user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:2.375rem;height:2.375rem;position:relative}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%]   li.dropdown-user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;border-radius:50%}.navbar-container[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%]   li.dropdown-user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]:after{content:"";width:8px;height:8px;position:absolute;right:3px;bottom:0;background-color:var(--bs-success);border-radius:50%}.navbar-container[_ngcontent-%COMP%]   .search-toggle[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:var(--bs-white);padding-left:1.5rem;padding-right:.5rem;border-radius:.375rem;box-shadow:0 0 .375rem .25rem #a1acb826;display:none}.navbar-container[_ngcontent-%COMP%]   .search-toggle[_ngcontent-%COMP%]   .search-toggle-content[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%}.navbar-container[_ngcontent-%COMP%]   .search-toggle[_ngcontent-%COMP%]   .search-toggle-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:0!important;outline:none!important;font-family:var(--bs-body-font-family);font-size:var(--bs-body-font-size);font-weight:var(--bs-body-font-weight);color:var(--bs-body-color);opacity:1}.navbar-container[_ngcontent-%COMP%]   .search-toggle[_ngcontent-%COMP%]   .search-toggle-content[_ngcontent-%COMP%]   .search-close[_ngcontent-%COMP%]{margin-left:auto;margin-right:.5rem}.navbar-container[_ngcontent-%COMP%]   .search-toggle[_ngcontent-%COMP%]   .search-toggle-content[_ngcontent-%COMP%]   .search-suggest[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 3px);left:0;right:0;background-color:var(--bs-white);border-radius:.375rem;box-shadow:0 0 .375rem .25rem #a1acb826}@media (min-width: 1200px){.navbar-container[_ngcontent-%COMP%]   .toggle-menu[_ngcontent-%COMP%]{display:none}}@media (min-width: 768px){.search-placeholder[_ngcontent-%COMP%]{display:inline-block!important}}']}),e})(),Khe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tt({type:t,selectors:[["app-footer-admin"]],decls:2,vars:0,template:function(r,i){1&r&&(m(0,"p"),w(1,"footer-admin works!"),y())}}),e})(),Zhe=(()=>{var t;class e{constructor(r){this.eventService=r,this.isShow=!1}toggleMenuDropdown(){this.isShow=!this.isShow}hideMenu(){this.eventService.emitEvent("hideMenuFromIconClose",!1)}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(cP))},t.\u0275cmp=Tt({type:t,selectors:[["app-menu-admin"]],decls:38,vars:1,consts:[[1,"layout-menu"],[1,"brand-wrapper"],["routerLink","/admin/home",1,"brand-link"],["src","./assets/images/logo2.png","alt","logo",1,"brand-img"],[1,"brand-text"],["href","javascript:void(0)",1,"btn-close-menu",3,"click"],[1,"bx","bx-chevron-left","bx-sm","align-middle"],[1,"menu-container"],[1,"menu-content"],[1,"menu-list"],[1,"menu-item"],["routerLink","/admin/home",1,"menu-link"],[1,"menu-icon","bx","bx-home-circle"],[1,"text-truncate"],[1,"menu-item","menu-dropdown",3,"ngClass","click"],["href","javascript:void(0)",1,"menu-link"],[1,"menu-icon","bx","bx-list-ul"],[1,"menu-dropdown-list"],[1,"menu-dropdown-item"],["routerLink","/admin/order",1,"menu-dropdown-link"],[1,"menu-icon","bx","bxs-circle"],["routerLink","/admin/order-accept",1,"menu-dropdown-link"],["routerLink","",1,"menu-link"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"a",2),A(3,"img",3),m(4,"span",4),w(5,"PhotoHub"),y()(),m(6,"a",5),G("click",function(){return i.hideMenu()}),A(7,"i",6),y()(),m(8,"div",7)(9,"div",8)(10,"ul",9)(11,"li",10)(12,"a",11),A(13,"i",12),m(14,"div",13),w(15,"Trang ch\u1ee7"),y()()(),m(16,"li",14),G("click",function(){return i.toggleMenuDropdown()}),m(17,"a",15),A(18,"i",16),m(19,"div",13),w(20,"Qu\u1ea3n l\xfd booking"),y()(),m(21,"ul",17)(22,"li",18)(23,"a",19),A(24,"i",20),m(25,"div",13),w(26,"Danh s\xe1ch booking"),y()()(),m(27,"li",18)(28,"a",21),A(29,"i",20),m(30,"div",13),w(31,"Duy\u1ec7t booking"),y()()()()(),m(32,"li",10),A(33,"a",22),y(),m(34,"li",10),A(35,"a",22),y(),m(36,"li",10),A(37,"a",22),y()()()()()),2&r&&(S(16),Z("ngClass",i.isShow?"show":""))},dependencies:[Cs,kr],styles:['.layout-menu[_ngcontent-%COMP%]{width:100%;position:relative}.layout-menu[_ngcontent-%COMP%]   .brand-wrapper[_ngcontent-%COMP%]{position:relative;padding:0 2rem;display:flex;align-items:center;margin-top:2rem;margin-bottom:1rem}.layout-menu[_ngcontent-%COMP%]   .brand-wrapper[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]{color:#566a7f;text-decoration:none;display:flex;align-items:center}.layout-menu[_ngcontent-%COMP%]   .brand-wrapper[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]   .brand-img[_ngcontent-%COMP%]{height:40px;width:40px;object-fit:cover;border-radius:50%}.layout-menu[_ngcontent-%COMP%]   .brand-wrapper[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]   .brand-text[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700!important;opacity:1;margin-left:.75rem}.layout-menu[_ngcontent-%COMP%]   .brand-wrapper[_ngcontent-%COMP%]   .btn-close-menu[_ngcontent-%COMP%]{position:absolute;right:-10px;background-color:var(--bs-dark);color:var(--bs-white);font-weight:700;border-radius:50%;width:26px;height:26px}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]{margin:0;padding:0}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{display:block}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]{display:block;margin:0 1rem;padding:0 1rem;line-height:2.5rem;text-decoration:none;color:var(--bs-body-color);font-weight:600;display:flex;justify-content:flex-start;align-items:center}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{width:1.5rem;flex-grow:0;flex-shrink:0;margin-right:.5rem;font-size:1.25rem}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]{margin:0;padding:0;display:none}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-item[_ngcontent-%COMP%]{display:block}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-item[_ngcontent-%COMP%]   .menu-dropdown-link[_ngcontent-%COMP%]{position:relative;display:block;margin:0 1rem;padding:0 1rem 0 2rem;line-height:2.5rem;text-decoration:none;color:var(--bs-body-color);font-weight:600;display:flex;justify-content:flex-start;align-items:center}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-item[_ngcontent-%COMP%]   .menu-dropdown-link[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{width:1.5rem;flex-grow:0;flex-shrink:0;margin-right:.5rem;font-size:.75rem}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-link[_ngcontent-%COMP%]{padding-left:3rem}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-list[_ngcontent-%COMP%]   .menu-dropdown-link[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{font-size:.5rem}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item.menu-dropdown[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]{position:relative}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item.menu-dropdown[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;display:block;width:.42em;height:.42em;border:1px solid;border-bottom:0;right:.5rem;border-left:0;transform:translateY(-50%) rotate(45deg)}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown-item.menu-dropdown[_ngcontent-%COMP%] > .menu-dropdown-link[_ngcontent-%COMP%]{position:relative}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown-item.menu-dropdown[_ngcontent-%COMP%] > .menu-dropdown-link[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;display:block;width:.42em;height:.42em;border:1px solid;border-bottom:0;right:.5rem;border-left:0;transform:translateY(-50%) rotate(45deg)}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown.show[_ngcontent-%COMP%] > .menu-dropdown-list[_ngcontent-%COMP%]{display:block!important}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown.show[_ngcontent-%COMP%] > .menu-link[_ngcontent-%COMP%]:after{transform:translateY(-50%) rotate(135deg)!important}.layout-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-dropdown.show[_ngcontent-%COMP%] > .menu-dropdown-link[_ngcontent-%COMP%]:after{transform:translateY(-50%) rotate(135deg)!important}@media (max-width: 1199.98px){.brand-wrapper[_ngcontent-%COMP%]:before{content:"";position:absolute;right:-16px;width:38px;height:38px;background-color:var(--bs-body-bg);border-radius:50%}}@media (min-width: 1200px){.brand-wrapper[_ngcontent-%COMP%]   .btn-close-menu[_ngcontent-%COMP%]{display:none!important}}']}),e})();const Yhe=["layoutMenu"],Qhe=function(t){return{"layout-menu-toggle":t}},Xhe=function(t,e){return{"layout-overlay-toggle":t,"layout-overlay-increase-zindex":e}};let Jhe=(()=>{var t;class e{constructor(r){this.eventService=r,this.isShowOverlay=!1,this.isShowMenu=!1}ngOnInit(){this.eventService.registerEvent("toggleSuggestSearch").subscribe(r=>{this.isShowOverlay=r}),this.eventService.registerEvent("showMenuFromNavbar").subscribe(r=>{this.isShowMenu=r,this.isShowOverlay=r}),this.eventService.registerEvent("hideMenuFromIconClose").subscribe(r=>{this.isShowMenu=r,this.isShowOverlay=r})}closeDropdown(r){const i=this.navbar?.iconToggle.nativeElement;!this.layoutMenu.nativeElement.contains(r.target)&&!i.contains(r.target)&&this.isShowMenu&&(this.isShowMenu=!1,this.isShowOverlay=!1)}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(cP))},t.\u0275cmp=Tt({type:t,selectors:[["app-layout-admin"]],viewQuery:function(r,i){if(1&r&&(Jn(D9,5),Jn(Yhe,5)),2&r){let o;jn(o=$n())&&(i.navbar=o.first),jn(o=$n())&&(i.layoutMenu=o.first)}},hostBindings:function(r,i){1&r&&G("click",function(s){return i.closeDropdown(s)},0,Iu)},decls:14,vars:7,consts:[[1,"layout-wrapper"],[1,"layout-container"],[1,"layout-menu",3,"ngClass"],["layoutMenu",""],[1,"layout-page"],[1,"layout-navbar"],[1,"content-wrapper"],[1,"content-container"],[1,"layout-footer"],[1,"layout-overlay",3,"ngClass"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2,3),A(4,"app-menu-admin"),y(),m(5,"div",4)(6,"div",5),A(7,"app-navbar-admin"),y(),m(8,"div",6)(9,"div",7),A(10,"router-outlet"),y(),m(11,"div",8),A(12,"app-footer-admin"),y()()()(),A(13,"div",9),y()),2&r&&(S(2),Z("ngClass",_i(2,Qhe,i.isShowMenu)),S(11),Z("ngClass",eV(4,Xhe,i.isShowOverlay,i.isShowMenu)))},dependencies:[Cs,nl,Khe,Zhe,D9],styles:["[_ngcontent-%COMP%]:root{font-size:var(--bs-root-font-size)}@media (prefers-reduced-motion: no-preference){[_ngcontent-%COMP%]:root{scroll-behavior:smooth}}body[_ngcontent-%COMP%]{margin:0;font-family:var(--bs-body-font-family);font-size:var(--bs-body-font-size);font-weight:var(--bs-body-font-weight);line-height:var(--bs-body-line-height);color:var(--bs-body-color);text-align:var(--bs-body-text-align);background-color:var(--bs-body-bg);-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(67,89,113,0)}.bg-light[_ngcontent-%COMP%]{background-color:var(--bs-white)}.layout-overlay-toggle[_ngcontent-%COMP%]{display:block!important}.layout-overlay-increase-zindex[_ngcontent-%COMP%]{z-index:1050!important}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]{display:flex;align-items:stretch}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-menu[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;width:16.25rem;background-color:var(--bs-white);box-shadow:0 .125rem .375rem #a1acb81f;z-index:1080}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]{width:100%;padding:4.625rem 0 0}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]   .layout-navbar[_ngcontent-%COMP%]{position:fixed;top:0;right:0;left:16.25rem;padding:0 1.5rem;margin:.75rem auto 0;width:calc(100% - 19.5rem);height:3.875rem;background-color:var(--bs-white);border-radius:.375rem;box-shadow:0 0 .375rem .25rem #a1acb826;z-index:1024}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding-left:16.25rem;margin-top:0}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{min-height:calc(100vh - 4.625rem);margin:0 auto;padding:1.675rem 1.675rem 0}.layout-wrapper[_ngcontent-%COMP%]   .layout-overlay[_ngcontent-%COMP%]{position:fixed;top:0;right:0;height:100%!important;left:0;display:none;background:#435971;opacity:.5;cursor:pointer;z-index:999}@media (max-width: 1199.98px){.layout-menu-toggle[_ngcontent-%COMP%]{transform:translateZ(0)!important}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-menu[_ngcontent-%COMP%]{position:fixed!important;top:0;left:0;transition:transform .5s ease;transform:translate3d(-200%,0,0);will-change:transform -webkit-transform}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]{width:100%}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]   .layout-navbar[_ngcontent-%COMP%]{left:0;width:calc(100% - 3.25rem)}}@media (min-width: 1400px){.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]   .layout-navbar[_ngcontent-%COMP%]{max-width:calc(1440px - 3.35rem)}.layout-wrapper[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   .layout-page[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{max-width:1440px}}"]}),e})(),epe=(()=>{var t;class e{constructor(r){this.fileStorage=r}onChangeFile(r){this.file=r.target.files[0],this.file&&console.log(this.file)}onUpload(){var r=this;return(0,x.Z)(function*(){const i=`yt/${r.file.name}`,s=yield(yield r.fileStorage.upload(i,r.file)).ref.getDownloadURL();console.log(s)})()}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(aP))},t.\u0275cmp=Tt({type:t,selectors:[["app-test1"]],decls:5,vars:0,consts:[["for","ig1"],["type","file","name","image","id","ig1",3,"change"],["type","button",3,"click"]],template:function(r,i){1&r&&(m(0,"label",0),w(1,"Upload"),y(),m(2,"input",1),G("change",function(s){return i.onChangeFile(s)}),y(),m(3,"button",2),G("click",function(){return i.onUpload()}),w(4,"Up"),y())}}),e})();function tpe(t,e){1&t&&(m(0,"div",12),A(1,"div",13)(2,"div",13)(3,"div",13)(4,"div",13),y())}const S9=function(t){return["/partner",t]},npe=[{path:"",component:ohe,children:Fde},{path:"collection",component:b9,children:Lde},{path:"auth",component:KT,children:Vde},{path:"contact",component:KT,children:[{path:"",component:Ihe,title:"Contact send"}]},{path:"refund-picture",component:KT,children:[{path:"",component:Lhe,title:"Refund pictures"}]},{path:"profile/:id",component:A9,children:[{path:"",component:Rhe,title:"Profile"}]},{path:"user",component:b9,children:Ude},{path:"refund-pc/:id",component:jhe},{path:"partner/:id",component:A9,children:Bde},{path:"ware-house/:id",component:(()=>{var t;class e{constructor(r,i,o){this.router=r,this.route=i,this.orderService=o,this.orders=[],this.isShowAskRepair=!1,this.isDropdownOpen=!1,this.route.params.subscribe(s=>{const a=s.id;a?this.partnerId=parseInt(a,10):console.error("ID not found in URL")})}ngOnInit(){var r=this;this.route.params.subscribe(function(){var i=(0,x.Z)(function*(o){const s=o.id;if(s){const a=parseInt(s,10);r.orders=yield r.orderService.getOrderByPartnerId(a),r.orders=r.orders.filter(c=>"da_duyet"===c.status)}else console.error("ID not found in URL")});return function(o){return i.apply(this,arguments)}}())}toggleAsk(){this.isShowAskRepair=!this.isShowAskRepair}closeAsk(){this.isShowAskRepair=!1}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(br),Y(Ys),Y(ed))},t.\u0275cmp=Tt({type:t,selectors:[["app-warehouse-picture"]],decls:18,vars:7,consts:[[1,"page-pr-wrapper"],[1,"page-header"],[1,"header-content"],[1,"header-left"],[3,"routerLink"],[1,"bx","bx-left-arrow-alt"],[1,"header-right"],[1,"bx","bx-chevron-left"],[1,"page-content"],[1,"list-order-wrapper"],[1,"order-content"],["class","order-item",4,"ngFor","ngForOf"],[1,"order-item"],[1,"item-info"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2")(5,"a",4),A(6,"i",5),y(),w(7," Kho tra\u0309 a\u0309nh kha\u0301ch ha\u0300ng "),y(),m(8,"p"),w(9,"Nhi\xea\u0301p a\u0309nh gia tra\u0309 a\u0309nh cho kha\u0301ch ha\u0300ng cu\u0309a mi\u0300nh ta\u0323i \u0111\xe2y."),y()(),m(10,"div",6)(11,"a",4),A(12,"i",7),w(13,"Quay la\u0323i"),y()()()(),m(14,"div",8)(15,"div",9)(16,"div",10),be(17,tpe,5,0,"div",11),y()()()()),2&r&&(S(5),Z("routerLink",_i(3,S9,i.partnerId)),S(6),Z("routerLink",_i(5,S9,i.partnerId)),S(6),Z("ngForOf",i.orders))},dependencies:[wo,kr],styles:[".page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{background-color:var(--color-light);height:140px;position:fixed;top:0;left:0;right:0;box-shadow:0 3px 3px #a4a4a433}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;height:100%;padding:0 2rem;margin:0 auto}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{padding-bottom:2rem;display:flex;flex-direction:column;justify-content:flex-end}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:700;color:var(--color-primary);display:flex;align-items:center}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-primary);text-decoration:none;margin-right:1rem}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-primary);padding-left:2.5rem;margin:.3rem 0 0}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.page-pr-wrapper[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-primary);text-decoration:none;font-weight:600;display:flex;align-items:center}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:2rem;margin:140px auto 0}.page-pr-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]   .list-order-wrapper[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(10,1fr)}@media (min-width: 1400px){.header-content[_ngcontent-%COMP%], .page-content[_ngcontent-%COMP%]{max-width:1440px}}"]}),e})()},{path:"admin",component:Jhe,children:jde},{path:"test",component:epe}];let rpe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Un({type:t}),t.\u0275inj=Yn({imports:[g5.forRoot(npe),g5]}),e})(),ipe=(()=>{var t;class e{constructor(){this.title="photohub"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tt({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&A(0,"router-outlet")},dependencies:[nl]}),e})();class lP{}class uP{}class oa{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof oa?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new oa;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof oa?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(n);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class ope{encodeKey(e){return R9(e)}encodeValue(e){return R9(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const ape=/%(\d[a-f0-9])/gi,cpe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function R9(t){return encodeURIComponent(t).replace(ape,(e,n)=>cpe[n]??e)}function dP(t){return`${t}`}class vl{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new ope,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function spe(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(dP):[dP(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new vl({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(dP(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(dP(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class lpe{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function x9(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function k9(t){return typeof Blob<"u"&&t instanceof Blob}function N9(t){return typeof FormData<"u"&&t instanceof FormData}class km{constructor(e,n,r,i){let o;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function upe(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new oa),this.context||(this.context=new lpe),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new vl,this.urlWithParams=n}serializeBody(){return null===this.body?null:x9(this.body)||k9(this.body)||N9(this.body)||function dpe(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof vl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||N9(this.body)?null:k9(this.body)?this.body.type||null:x9(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof vl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const h=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((f,_)=>f.set(_,e.setHeaders[_]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((f,_)=>f.set(_,e.setParams[_]),l)),new km(n,r,o,{params:l,headers:c,context:h,reportProgress:a,responseType:i,withCredentials:s})}}var Fp=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Fp||{});class ZT{constructor(e,n=200,r="OK"){this.headers=e.headers||new oa,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class YT extends ZT{constructor(e={}){super(e),this.type=Fp.ResponseHeader}clone(e={}){return new YT({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Lp extends ZT{constructor(e={}){super(e),this.type=Fp.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Lp({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class F9 extends ZT{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function QT(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let hpe=(()=>{var t;class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof km)s=r;else{let l,h;l=o.headers instanceof oa?o.headers:new oa(o.headers),o.params&&(h=o.params instanceof vl?o.params:new vl({fromObject:o.params})),s=new km(r,i,void 0!==o.body?o.body:null,{headers:l,context:o.context,params:h,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const a=K(s).pipe(np(l=>this.handler.handle(l)));if(r instanceof km||"events"===o.observe)return a;const c=a.pipe(Qo(l=>l instanceof Lp));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(_e(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(_e(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(_e(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return c.pipe(_e(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:(new vl).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,QT(o,i))}post(r,i,o={}){return this.request("POST",r,QT(o,i))}put(r,i,o={}){return this.request("PUT",r,QT(o,i))}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(lP))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),e})();function U9(t,e){return e(t)}function fpe(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const _pe=new fe(""),Nm=new fe(""),B9=new fe("");function mpe(){let t=null;return(e,n)=>{null===t&&(t=(we(_pe,{optional:!0})??[]).reduceRight(fpe,U9));const r=we(dw),i=r.add();return t(e,n).pipe(T_(()=>r.remove(i)))}}let j9=(()=>{var t;class e extends lP{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=we(dw)}handle(r){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(Nm),...this.injector.get(B9,[])]));this.chain=o.reduceRight((s,a)=>function gpe(t,e,n){return(r,i)=>n.runInContext(()=>e(r,o=>t(o,i)))}(s,a,this.injector),U9)}const i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(T_(()=>this.pendingTasks.remove(i)))}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(uP),ie(_o))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),e})();const wpe=/^\)\]\}',?\n/;let H9=(()=>{var t;class e{constructor(r){this.xhrFactory=r}handle(r){if("JSONP"===r.method)throw new ee(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?R(i.\u0275loadImpl()):K(null)).pipe(Je(()=>new st(s=>{const a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((b,L)=>a.setRequestHeader(b,L.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const b=r.detectContentTypeHeader();null!==b&&a.setRequestHeader("Content-Type",b)}if(r.responseType){const b=r.responseType.toLowerCase();a.responseType="json"!==b?b:"text"}const c=r.serializeBody();let l=null;const h=()=>{if(null!==l)return l;const b=a.statusText||"OK",L=new oa(a.getAllResponseHeaders()),N=function Ppe(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(a)||r.url;return l=new YT({headers:L,status:a.status,statusText:b,url:N}),l},f=()=>{let{headers:b,status:L,statusText:N,url:H}=h(),$=null;204!==L&&($=typeof a.response>"u"?a.responseText:a.response),0===L&&(L=$?200:0);let pe=L>=200&&L<300;if("json"===r.responseType&&"string"==typeof $){const Oe=$;$=$.replace(wpe,"");try{$=""!==$?JSON.parse($):null}catch(at){$=Oe,pe&&(pe=!1,$={error:at,text:$})}}pe?(s.next(new Lp({body:$,headers:b,status:L,statusText:N,url:H||void 0})),s.complete()):s.error(new F9({error:$,headers:b,status:L,statusText:N,url:H||void 0}))},_=b=>{const{url:L}=h(),N=new F9({error:b,status:a.status||0,statusText:a.statusText||"Unknown Error",url:L||void 0});s.error(N)};let v=!1;const E=b=>{v||(s.next(h()),v=!0);let L={type:Fp.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(L.total=b.total),"text"===r.responseType&&a.responseText&&(L.partialText=a.responseText),s.next(L)},I=b=>{let L={type:Fp.UploadProgress,loaded:b.loaded};b.lengthComputable&&(L.total=b.total),s.next(L)};return a.addEventListener("load",f),a.addEventListener("error",_),a.addEventListener("timeout",_),a.addEventListener("abort",_),r.reportProgress&&(a.addEventListener("progress",E),null!==c&&a.upload&&a.upload.addEventListener("progress",I)),a.send(c),s.next({type:Fp.Sent}),()=>{a.removeEventListener("error",_),a.removeEventListener("abort",_),a.removeEventListener("load",f),a.removeEventListener("timeout",_),r.reportProgress&&(a.removeEventListener("progress",E),null!==c&&a.upload&&a.upload.removeEventListener("progress",I)),a.readyState!==a.DONE&&a.abort()}})))}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(B3))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),e})();const XT=new fe("XSRF_ENABLED"),z9=new fe("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),W9=new fe("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class G9{}let Ope=(()=>{var t;class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=R3(r,this.cookieName),this.lastCookieString=r),this.lastToken}}return(t=e).\u0275fac=function(r){return new(r||t)(ie(vo),ie(mo),ie(z9))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),e})();function Ipe(t,e){const n=t.url.toLowerCase();if(!we(XT)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=we(G9).getToken(),i=we(W9);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var Cl=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Cl||{});function td(t,e){return{\u0275kind:t,\u0275providers:e}}function bpe(...t){const e=[hpe,H9,j9,{provide:lP,useExisting:j9},{provide:uP,useExisting:H9},{provide:Nm,useValue:Ipe,multi:!0},{provide:XT,useValue:!0},{provide:G9,useClass:Ope}];for(const n of t)e.push(...n.\u0275providers);return function AO(t){return{\u0275providers:t}}(e)}const q9=new fe("LEGACY_INTERCEPTOR_FN");let Ape=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Un({type:t}),t.\u0275inj=Yn({providers:[bpe(td(Cl.LegacyInterceptors,[{provide:q9,useFactory:mpe},{provide:Nm,useExisting:q9,multi:!0}]))]}),e})();class Fm{constructor(e){return e}}class K9{constructor(){return(0,$e.getApps)()}}const JT=new fe("angularfire2._apps"),Fpe={provide:Fm,useFactory:function Npe(t){return t&&1===t.length?t[0]:new Fm((0,$e.getApp)())},deps:[[new p,JT]]},Lpe={provide:K9,deps:[[new p,JT]]};function Vpe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Fm(r)}}let Upe=(()=>{var t;class e{constructor(r){(0,$e.registerVersion)("angularfire",yl.full,"core"),(0,$e.registerVersion)("angularfire",yl.full,"app"),(0,$e.registerVersion)("angular",GO.full,r.toString())}}return t=e,Le(e,"\u0275fac",function(r){return new(r||t)(ie(mo))}),Le(e,"\u0275mod",Un({type:t})),Le(e,"\u0275inj",Yn({providers:[Fpe,Lpe]})),e})();function Bpe(t,...e){return{ngModule:Upe,providers:[{provide:JT,useFactory:Vpe(t),multi:!0,deps:[Dt,Fi,Tp,...e]}]}}const jpe=function Z9(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Y9=new M.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),pP=new mi.Yd("@firebase/auth");function fP(t,...e){pP.logLevel<=mi.in.ERROR&&pP.error(`Auth (${$e.SDK_VERSION}): ${t}`,...e)}function oo(t,...e){throw eA(t,...e)}function sa(t,...e){return eA(t,...e)}function eA(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Y9.create(t,...e)}function ge(t,e,...n){if(!t)throw eA(e,...n)}function aa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw fP(e),new Error(e)}function wl(t,e){t||aa(e)}function X9(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Vm{constructor(e,n){this.shortDelay=e,this.longDelay=n,wl(n>e,"Short delay should be less than long delay!"),this.isMobile=(0,M.uI)()||(0,M.b$)()}get(){return function Hpe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function tA(){return"http:"===X9()||"https:"===X9()}()||(0,M.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class J9{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void aa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void aa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void aa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Wpe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Gpe=new Vm(3e4,6e4);function Nn(t,e,n,r){return rA.apply(this,arguments)}function rA(){return(rA=(0,x.Z)(function*(t,e,n,r,i={}){return e6(t,i,(0,x.Z)(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=(0,M.xO)(Object.assign({key:t.config.apiKey},s)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),J9.fetch()(t6(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function e6(t,e,n){return iA.apply(this,arguments)}function iA(){return(iA=(0,x.Z)(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Wpe),e);try{const i=new Kpe(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw Um(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw Um(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw Um(t,"email-already-in-use",s);if("USER_DISABLED"===c)throw Um(t,"user-disabled",s);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw function Q9(t,e,n){const r=Object.assign(Object.assign({},jpe()),{[e]:n});return new M.LL("auth","Firebase",r).create(e,{appName:t.name})}(t,h,l);oo(t,h)}}catch(i){if(i instanceof M.ZR)throw i;oo(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function t6(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function nA(t,e){wl(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class Kpe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(sa(this.auth,"network-request-failed")),Gpe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Um(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=sa(t,e,r);return i.customData._tokenResponse=n,i}function cA(){return(cA=(0,x.Z)(function*(t,e){return Nn(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function uA(){return(uA=(0,x.Z)(function*(t,e){return Nn(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Bm(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function dA(){return(dA=(0,x.Z)(function*(t,e=!1){const n=(0,M.m9)(t),r=yield n.getIdToken(e),i=gP(r);ge(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Bm(hA(i.auth_time)),issuedAtTime:Bm(hA(i.iat)),expirationTime:Bm(hA(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function hA(t){return 1e3*Number(t)}function gP(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return fP("JWT malformed, contained fewer than 3 sections"),null;try{const i=(0,M.tV)(n);return i?JSON.parse(i):(fP("Failed to decode base64 JWT payload"),null)}catch(i){return fP("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ec(t,e){return pA.apply(this,arguments)}function pA(){return(pA=(0,x.Z)(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof M.ZR&&function tfe({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class nfe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,x.Z)(function*(){yield n.iteration()}),r)}iteration(){var e=this;return(0,x.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class s6{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bm(this.lastLoginAt),this.creationTime=Bm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function jm(t){return fA.apply(this,arguments)}function fA(){return fA=(0,x.Z)(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield ec(t,function Xpe(t,e){return uA.apply(this,arguments)}(n,{idToken:r}));ge(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function ofe(t){return t.map(e=>{var{providerId:n}=e,r=(0,Re._T)(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function ife(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),h=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new s6(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,f)}),fA.apply(this,arguments)}function gA(){return(gA=(0,x.Z)(function*(t){const e=(0,M.m9)(t);yield jm(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function _A(){return(_A=(0,x.Z)(function*(t,e){const n=yield e6(t,{},(0,x.Z)(function*(){const r=(0,M.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=t6(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",J9.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class $m{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function efe(t){const e=gP(t);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return(0,x.Z)(function*(){return ge(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return(0,x.Z)(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function sfe(t,e){return _A.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new $m;return r&&(ge("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(ge("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(ge("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $m,this.toJSON())}_performRefresh(){return aa("not implemented")}}function Pl(t,e){ge("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class nd{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=(0,Re._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nfe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new s6(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return(0,x.Z)(function*(){const r=yield ec(n,n.stsTokenManager.getToken(n.auth,e));return ge(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Jpe(t){return dA.apply(this,arguments)}(this,e)}reload(){return function rfe(t){return gA.apply(this,arguments)}(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new nd(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return(0,x.Z)(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield jm(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,x.Z)(function*(){const n=yield e.getIdToken();return yield ec(e,function Ype(t,e){return cA.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,h;const f=null!==(r=n.displayName)&&void 0!==r?r:void 0,_=null!==(i=n.email)&&void 0!==i?i:void 0,v=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,E=null!==(s=n.photoURL)&&void 0!==s?s:void 0,I=null!==(a=n.tenantId)&&void 0!==a?a:void 0,b=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,L=null!==(l=n.createdAt)&&void 0!==l?l:void 0,N=null!==(h=n.lastLoginAt)&&void 0!==h?h:void 0,{uid:H,emailVerified:$,isAnonymous:pe,providerData:Oe,stsTokenManager:at}=n;ge(H&&at,e,"internal-error");const Yt=$m.fromJSON(this.name,at);ge("string"==typeof H,e,"internal-error"),Pl(f,e.name),Pl(_,e.name),ge("boolean"==typeof $,e,"internal-error"),ge("boolean"==typeof pe,e,"internal-error"),Pl(v,e.name),Pl(E,e.name),Pl(I,e.name),Pl(b,e.name),Pl(L,e.name),Pl(N,e.name);const lo=new nd({uid:H,auth:e,email:_,emailVerified:$,displayName:f,isAnonymous:pe,photoURL:E,phoneNumber:v,tenantId:I,stsTokenManager:Yt,createdAt:L,lastLoginAt:N});return Oe&&Array.isArray(Oe)&&(lo.providerData=Oe.map(Sf=>Object.assign({},Sf))),b&&(lo._redirectEventId=b),lo}static _fromIdTokenResponse(e,n,r=!1){return(0,x.Z)(function*(){const i=new $m;i.updateFromServerResponse(n);const o=new nd({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield jm(o),o})()}}const a6=new Map;function tc(t){wl(t instanceof Function,"Expected a class definition");let e=a6.get(t);return e?(wl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,a6.set(t,e),e)}const c6=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,x.Z)(function*(){return!0})()}_set(n,r){var i=this;return(0,x.Z)(function*(){i.storage[n]=r})()}_get(n){var r=this;return(0,x.Z)(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return(0,x.Z)(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function _P(t,e,n){return`firebase:${t}:${e}:${n}`}class Up{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=_P(this.userKey,i.apiKey,o),this.fullPersistenceKey=_P("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,x.Z)(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?nd._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return(0,x.Z)(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return(0,x.Z)(function*(){if(!n.length)return new Up(tc(c6),e,r);const i=(yield Promise.all(n.map(function(){var l=(0,x.Z)(function*(h){if(yield h._isAvailable())return h});return function(h){return l.apply(this,arguments)}}()))).filter(l=>l);let o=i[0]||tc(c6);const s=_P(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const h=yield l._get(s);if(h){const f=nd._fromJSON(e,h);l!==o&&(a=f),o=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return o._shouldAllowMigration&&c.length?(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var l=(0,x.Z)(function*(h){if(h!==o)try{yield h._remove(s)}catch{}});return function(h){return l.apply(this,arguments)}}())),new Up(o,e,r)):new Up(o,e,r)})()}}function l6(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function h6(t=(0,M.z$)()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function u6(t=(0,M.z$)()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function f6(t=(0,M.z$)()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function g6(t=(0,M.z$)()){return/webos/i.test(t)}(e))return"Webos";if(function mA(t=(0,M.z$)()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function d6(t=(0,M.z$)()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function p6(t=(0,M.z$)()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function _6(t,e=[]){let n;switch(t){case"Browser":n=l6((0,M.z$)());break;case"Worker":n=`${l6((0,M.z$)())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$e.SDK_VERSION}/${r}`}class lfe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return(0,x.Z)(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function yA(){return(yA=(0,x.Z)(function*(t,e={}){return Nn(t,"GET","/v2/passwordPolicy",function Tn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))})).apply(this,arguments)}class hfe{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=s.minPasswordLength)&&void 0!==n?n:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=null===(n=c.meetsMinPasswordLength)||void 0===n||n),c.isValid&&(c.isValid=null===(r=c.meetsMaxPasswordLength)||void 0===r||r),c.isValid&&(c.isValid=null===(i=c.containsLowercaseLetter)||void 0===i||i),c.isValid&&(c.isValid=null===(o=c.containsUppercaseLetter)||void 0===o||o),c.isValid&&(c.isValid=null===(s=c.containsNumericCharacter)||void 0===s||s),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class pfe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new m6(this),this.idTokenSubscription=new m6(this),this.beforeStateQueue=new lfe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Y9,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=tc(n)),this._initializationPromise=this.queue((0,x.Z)(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Up.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,x.Z)(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return(0,x.Z)(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=o?._redirectEventId,l=yield n.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(o=l.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return ge(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return(0,x.Z)(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return(0,x.Z)(function*(){try{yield jm(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function zpe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return(0,x.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return(0,x.Z)(function*(){const r=e?(0,M.m9)(e):null;return r&&ge(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return(0,x.Z)(function*(){if(!r._deleted)return e&&ge(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,x.Z)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,x.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue((0,x.Z)(function*(){yield n.assertedPersistence.setPersistence(tc(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return(0,x.Z)(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return(0,x.Z)(function*(){const n=yield function ufe(t){return yA.apply(this,arguments)}(e),r=new hfe(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new M.LL("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return(0,x.Z)(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return(0,x.Z)(function*(){if(!n.redirectPersistenceManager){const r=e&&tc(e)||n._popupRedirectResolver;ge(r,n,"argument-error"),n.redirectPersistenceManager=yield Up.create(n,[tc(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return(0,x.Z)(function*(){var r,i;return n._isInitialized&&(yield n.queue((0,x.Z)(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return(0,x.Z)(function*(){if(e===n.currentUser)return n.queue((0,x.Z)(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof n){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}{const c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){var n=this;return(0,x.Z)(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,x.Z)(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return(0,x.Z)(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function $pe(t,...e){pP.logLevel<=mi.in.WARN&&pP.warn(`Auth (${$e.SDK_VERSION}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}class m6{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,M.ne)(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function y6(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new Vm(3e4,6e4),new Vm(2e3,1e4),new Vm(3e4,6e4),new Vm(5e3,15e3),encodeURIComponent("fac");var Y6="@firebase/auth";class p_e{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return(0,x.Z)(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,M.Pz)("authIdTokenMaxAge"),function g_e(t){(0,$e._registerComponent)(new Eo.wA("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ge(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_6(t)},l=new pfe(r,i,o,c);return function Cfe(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(tc);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),(0,$e._registerComponent)(new Eo.wA("auth-internal",e=>{const n=function hr(t){return(0,M.m9)(t)}(e.getProvider("auth").getImmediate());return new p_e(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,$e.registerVersion)(Y6,"1.3.2",function f_e(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),(0,$e.registerVersion)(Y6,"1.3.2","esm2017")}("Browser");class e${constructor(){return ST("auth")}}var Ee,P_e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},As={},lS=lS||{},Xe=P_e||self;function DP(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function qm(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var uS="closure_uid_"+(1e9*Math.random()>>>0),M_e=0;function O_e(t,e,n){return t.call.apply(t.bind,arguments)}function I_e(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function wi(t,e,n){return(wi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?O_e:I_e).apply(null,arguments)}function SP(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Vr(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function El(){this.s=this.s,this.o=this.o}El.prototype.s=!1,El.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function E_e(t){Object.prototype.hasOwnProperty.call(t,uS)&&t[uS]||(t[uS]=++M_e)}(this)},El.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const t$=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function dS(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function n$(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(DP(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Pi(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Pi.prototype.h=function(){this.defaultPrevented=!0};var T_e=function(){if(!Xe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Xe.addEventListener("test",()=>{},e),Xe.removeEventListener("test",()=>{},e)}catch{}return t}();function Km(t){return/^[\s\xa0]*$/.test(t)}function RP(){var t=Xe.navigator;return t&&(t=t.userAgent)?t:""}function ca(t){return-1!=RP().indexOf(t)}function hS(t){return hS[" "](t),t}hS[" "]=function(){};var fS,t,D_e=ca("Opera"),Bp=ca("Trident")||ca("MSIE"),r$=ca("Edge"),pS=r$||Bp,i$=ca("Gecko")&&!(-1!=RP().toLowerCase().indexOf("webkit")&&!ca("Edge"))&&!(ca("Trident")||ca("MSIE"))&&!ca("Edge"),S_e=-1!=RP().toLowerCase().indexOf("webkit")&&!ca("Edge");function o$(){var t=Xe.document;return t?t.documentMode:void 0}e:{var gS="",_S=(t=RP(),i$?/rv:([^\);]+)(\)|;)/.exec(t):r$?/Edge\/([\d\.]+)/.exec(t):Bp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):S_e?/WebKit\/(\S+)/.exec(t):D_e?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(_S&&(gS=_S?_S[1]:""),Bp){var mS=o$();if(null!=mS&&mS>parseFloat(gS)){fS=String(mS);break e}}fS=gS}var R_e=Xe.document&&Bp&&(o$()||parseInt(fS,10))||void 0;function Zm(t,e){if(Pi.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(i$){e:{try{hS(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:x_e[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Zm.$.h.call(this)}}Vr(Zm,Pi);var x_e={2:"touch",3:"pen",4:"mouse"};Zm.prototype.h=function(){Zm.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ym="closure_listenable_"+(1e6*Math.random()|0),k_e=0;function N_e(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++k_e,this.fa=this.ia=!1}function xP(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function vS(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function a$(t){const e={};for(const n in t)e[n]=t[n];return e}const c$="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function l$(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let o=0;o<c$.length;o++)n=c$[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function kP(t){this.src=t,this.g={},this.h=0}function CS(t,e){var n=e.type;if(n in t.g){var o,r=t.g[n],i=t$(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(xP(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function wS(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}kP.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=wS(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):((e=new N_e(e,this.src,o,!!r,i)).ia=n,t.push(e)),e};var PS="closure_lm_"+(1e6*Math.random()|0),ES={};function u$(t,e,n,r,i){if(r&&r.once)return h$(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)u$(t,e[o],n,r,i);return null}return n=bS(n),t&&t[Ym]?t.O(e,n,qm(r)?!!r.capture:!!r,i):d$(t,e,n,!1,r,i)}function d$(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=qm(i)?!!i.capture:!!i,a=OS(t);if(a||(t[PS]=a=new kP(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function L_e(){const e=V_e;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)T_e||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(f$(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function h$(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)h$(t,e[o],n,r,i);return null}return n=bS(n),t&&t[Ym]?t.P(e,n,qm(r)?!!r.capture:!!r,i):d$(t,e,n,!0,r,i)}function p$(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)p$(t,e[o],n,r,i);else r=qm(r)?!!r.capture:!!r,n=bS(n),t&&t[Ym]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=wS(o=t.g[e],n,r,i))&&(xP(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=OS(t))&&(e=t.g[e.toString()],t=-1,e&&(t=wS(e,n,r,i)),(n=-1<t?e[t]:null)&&MS(n))}function MS(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Ym])CS(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(f$(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=OS(e))?(CS(n,t),0==n.h&&(n.src=null,e[PS]=null)):xP(t)}}}function f$(t){return t in ES?ES[t]:ES[t]="on"+t}function V_e(t,e){if(t.fa)t=!0;else{e=new Zm(e,this);var n=t.listener,r=t.la||t.src;t.ia&&MS(t),t=n.call(r,e)}return t}function OS(t){return(t=t[PS])instanceof kP?t:null}var IS="__closure_events_fn_"+(1e9*Math.random()>>>0);function bS(t){return"function"==typeof t?t:(t[IS]||(t[IS]=function(e){return t.handleEvent(e)}),t[IS])}function Ur(){El.call(this),this.i=new kP(this),this.S=this,this.J=null}function ei(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Pi(e,t);else if(e instanceof Pi)e.target=e.target||t;else{var i=e;l$(e=new Pi(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=NP(s,r,!0,e)&&i}if(i=NP(s=e.g=t,r,!0,e)&&i,i=NP(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=NP(s=e.g=n[o],r,!1,e)&&i}function NP(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&CS(t.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Vr(Ur,El),Ur.prototype[Ym]=!0,Ur.prototype.removeEventListener=function(t,e,n,r){p$(this,t,e,n,r)},Ur.prototype.N=function(){if(Ur.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)xP(n[r]);delete t.g[e],t.h--}}this.J=null},Ur.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Ur.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var TS=Xe.JSON.stringify;function B_e(){var t=AS;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var g$=new class U_e{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new $_e,t=>t.reset());class $_e{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function H_e(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function z_e(t){Xe.setTimeout(()=>{throw t},0)}let Qm,Xm=!1,AS=new class j_e{constructor(){this.h=this.g=null}add(e,n){const r=g$.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},_$=()=>{const t=Xe.Promise.resolve(void 0);Qm=()=>{t.then(W_e)}};var W_e=()=>{for(var t;t=B_e();){try{t.h.call(t.g)}catch(n){z_e(n)}var e=g$;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Xm=!1};function FP(t,e){Ur.call(this),this.h=t||1,this.g=e||Xe,this.j=wi(this.qb,this),this.l=Date.now()}function DS(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function SS(t,e,n){if("function"==typeof t)n&&(t=wi(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=wi(t.handleEvent,t)}return 2147483647<Number(e)?-1:Xe.setTimeout(t,e||0)}function m$(t){t.g=SS(()=>{t.g=null,t.i&&(t.i=!1,m$(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Vr(FP,Ur),(Ee=FP.prototype).ga=!1,Ee.T=null,Ee.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ei(this,"tick"),this.ga&&(DS(this),this.start()))}},Ee.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ee.N=function(){FP.$.N.call(this),DS(this),delete this.g};class G_e extends El{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:m$(this)}N(){super.N(),this.g&&(Xe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jm(t){El.call(this),this.h=t,this.g={}}Vr(Jm,El);var y$=[];function v$(t,e,n,r){Array.isArray(n)||(n&&(y$[0]=n.toString()),n=y$);for(var i=0;i<n.length;i++){var o=u$(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function C$(t){vS(t.g,function(e,n){this.g.hasOwnProperty(n)&&MS(e)},t),t.g={}}function LP(){this.g=!0}function jp(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Y_e(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return TS(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Jm.prototype.N=function(){Jm.$.N.call(this),C$(this)},Jm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},LP.prototype.Ea=function(){this.g=!1},LP.prototype.info=function(){};var sd={},w$=null;function VP(){return w$=w$||new Ur}function P$(t){Pi.call(this,sd.Ta,t)}function ey(t){const e=VP();ei(e,new P$(e))}function E$(t,e){Pi.call(this,sd.STAT_EVENT,t),this.stat=e}function zi(t){const e=VP();ei(e,new E$(e,t))}function M$(t,e){Pi.call(this,sd.Ua,t),this.size=e}function ty(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Xe.setTimeout(function(){t()},e)}sd.Ta="serverreachability",Vr(P$,Pi),sd.STAT_EVENT="statevent",Vr(E$,Pi),sd.Ua="timingevent",Vr(M$,Pi);var UP={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},O$={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function RS(){}function b$(){}RS.prototype.h=null;var NS,ny={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function xS(){Pi.call(this,"d")}function kS(){Pi.call(this,"c")}function BP(){}function ry(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Jm(this),this.P=Q_e,this.V=new FP(t=pS?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new T$}function T$(){this.i=null,this.g="",this.h=!1}Vr(xS,Pi),Vr(kS,Pi),Vr(BP,RS),BP.prototype.g=function(){return new XMLHttpRequest},BP.prototype.i=function(){return{}},NS=new BP;var Q_e=45e3,FS={},jP={};function LS(t,e,n){t.L=1,t.v=WP(rc(e)),t.s=n,t.S=!0,A$(t,null)}function A$(t,e){t.G=Date.now(),iy(t),t.A=rc(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),U$(n.i,"t",r),t.C=0,n=t.l.J,t.h=new T$,t.g=lH(t.l,n?e:null,!t.s),0<t.O&&(t.M=new G_e(wi(t.Pa,t,t.g),t.O)),v$(t.U,t.g,"readystatechange",t.nb),e=t.I?a$(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),ey(),function q_e(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var h=l[0];l=l[1];var f=h.split("_");s=2<=f.length&&"type"==f[1]?s+(h+"=")+l+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.W,t.s)}function D$(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function S$(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=X_e(t,n),i==jP){4==e&&(t.o=4,zi(14),r=!1),jp(t.j,t.m,null,"[Incomplete Response]");break}if(i==FS){t.o=4,zi(15),jp(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}jp(t.j,t.m,i,null),VS(t,i)}D$(t)&&i!=jP&&i!=FS&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,zi(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),WS(e),e.M=!0,zi(11))):(jp(t.j,t.m,n,"[Invalid Chunked Response]"),ad(t),oy(t))}function X_e(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?jP:(n=Number(e.substring(n,r)),isNaN(n)?FS:(r+=1)+n>e.length?jP:(e=e.slice(r,r+n),t.C=r+n,e))}function iy(t){t.Y=Date.now()+t.P,R$(t,t.P)}function R$(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=ty(wi(t.lb,t),e)}function $P(t){t.B&&(Xe.clearTimeout(t.B),t.B=null)}function oy(t){0==t.l.H||t.J||oH(t.l,t)}function ad(t){$P(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,DS(t.V),C$(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function VS(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||US(n.i,t)))if(!t.K&&US(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;QP(n),ZP(n)}zS(n),zi(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=ty(wi(n.ib,n),6e3));if(1>=$$(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ld(n,11)}else if((t.K||n.g==t)&&QP(n),!Km(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const h=l[3];null!=h&&(n.ra=h,n.l.info("VER="+n.ra));const f=l[4];null!=f&&(n.Ga=f,n.l.info("SVER="+n.Ga));const _=l[5];null!=_&&"number"==typeof _&&0<_&&(n.L=r=1.5*_,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const v=t.g;if(v){const E=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(E){var o=r.i;o.g||-1==E.indexOf("spdy")&&-1==E.indexOf("quic")&&-1==E.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(BS(o,o.h),o.h=null))}if(r.F){const I=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(r.Da=I,vn(r.I,r.F,I))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=t;if((r=n).wa=cH(r,r.J?r.pa:null,r.Y),s.K){H$(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.B&&($P(a),iy(a)),r.g=s}else rH(r);0<n.j.length&&YP(n)}else"stop"!=l[0]&&"close"!=l[0]||ld(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?ld(n,7):HS(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}ey()}catch{}}function x$(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(DP(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function eme(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(DP(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function J_e(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(DP(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(Ee=ry.prototype).setTimeout=function(t){this.P=t},Ee.nb=function(t){t=t.target;const e=this.M;e&&3==la(t)?e.l():this.Pa(t)},Ee.Pa=function(t){try{if(t==this.g)e:{const h=la(this.g);var e=this.g.Ia();if(this.g.da(),!(3>h)&&(3!=h||pS||this.g&&(this.h.h||this.g.ja()||Q$(this.g)))){this.J||4!=h||7==e||ey(),$P(this);var n=this.g.da();this.ca=n;t:if(D$(this)){var r=Q$(this.g);t="";var i=r.length,o=4==la(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ad(this),oy(this);var s="";break t}this.h.i=new Xe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function K_e(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,h,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Km(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,zi(12),ad(this),oy(this);break e}jp(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,VS(this,n)}this.S?(S$(this,h,s),pS&&this.i&&3==h&&(v$(this.U,this.V,"tick",this.mb),this.V.start())):(jp(this.j,this.m,s,null),VS(this,s)),4==h&&ad(this),this.i&&!this.J&&(4==h?oH(this.l,this):(this.i=!1,iy(this)))}else(function yme(t){const e={};t=(t.g&&2<=la(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Km(t[r]))continue;var n=H_e(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}!function F_e(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.o=3,zi(12)):(this.o=0,zi(13)),ad(this),oy(this)}}}catch{}},Ee.mb=function(){if(this.g){var t=la(this.g),e=this.g.ja();this.C<e.length&&($P(this),S$(this,t,e),this.i&&4!=t&&iy(this))}},Ee.cancel=function(){this.J=!0,ad(this)},Ee.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function Z_e(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(ey(),zi(17)),ad(this),this.o=2,oy(this)):R$(this,this.Y-t)};var k$=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cd(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof cd){this.h=t.h,HP(this,t.j),this.s=t.s,this.g=t.g,zP(this,t.m),this.l=t.l;var e=t.i,n=new cy;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),N$(this,n),this.o=t.o}else t&&(e=String(t).match(k$))?(this.h=!1,HP(this,e[1]||"",!0),this.s=sy(e[2]||""),this.g=sy(e[3]||"",!0),zP(this,e[4]),this.l=sy(e[5]||"",!0),N$(this,e[6]||"",!0),this.o=sy(e[7]||"")):(this.h=!1,this.i=new cy(null,this.h))}function rc(t){return new cd(t)}function HP(t,e,n){t.j=n?sy(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function zP(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function N$(t,e,n){e instanceof cy?(t.i=e,function ame(t,e){e&&!t.j&&(Ml(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(L$(this,r),U$(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=ay(e,ome)),t.i=new cy(e,t.h))}function vn(t,e,n){t.i.set(e,n)}function WP(t){return vn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function sy(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ay(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,nme),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function nme(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}cd.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ay(e,F$,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(ay(e,F$,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(ay(n,"/"==n.charAt(0)?ime:rme,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ay(n,sme)),t.join("")};var F$=/[#\/\?@]/g,rme=/[#\?:]/g,ime=/[#\?]/g,ome=/[#\?@]/g,sme=/#/g;function cy(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ml(t){t.g||(t.g=new Map,t.h=0,t.i&&function tme(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function L$(t,e){Ml(t),e=$p(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function V$(t,e){return Ml(t),e=$p(t,e),t.g.has(e)}function U$(t,e,n){L$(t,e),0<n.length&&(t.i=null,t.g.set($p(t,e),dS(n)),t.h+=n.length)}function $p(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function B$(t){this.l=t||lme,t=Xe.PerformanceNavigationTiming?0<(t=Xe.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Xe.g&&Xe.g.Ka&&Xe.g.Ka()&&Xe.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ee=cy.prototype).add=function(t,e){Ml(this),this.i=null,t=$p(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Ee.forEach=function(t,e){Ml(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},Ee.ta=function(){Ml(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n},Ee.Z=function(t){Ml(this);let e=[];if("string"==typeof t)V$(this,t)&&(e=e.concat(this.g.get($p(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},Ee.set=function(t,e){return Ml(this),this.i=null,V$(this,t=$p(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Ee.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},Ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};var lme=10;function j$(t){return!!t.h||!!t.g&&t.g.size>=t.j}function $$(t){return t.h?1:t.g?t.g.size:0}function US(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function BS(t,e){t.g?t.g.add(e):t.h=e}function H$(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function z$(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return dS(t.i)}B$.prototype.cancel=function(){if(this.i=z$(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var ume=class{stringify(t){return Xe.JSON.stringify(t,void 0)}parse(t){return Xe.JSON.parse(t,void 0)}};function dme(){this.g=new ume}function hme(t,e,n){const r=n||"";try{x$(t,function(i,o){let s=i;qm(i)&&(s=TS(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function GP(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ly(t){this.l=t.ec||null,this.j=t.ob||!1}function qP(t,e){Ur.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=jS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vr(ly,RS),ly.prototype.g=function(){return new qP(this.l,this.j)},ly.prototype.i=function(t){return function(){return t}}({}),Vr(qP,Ur);var jS=0;function W$(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function uy(t){t.readyState=4,t.l=null,t.j=null,t.A=null,dy(t)}function dy(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Ee=qP.prototype).open=function(t,e){if(this.readyState!=jS)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,dy(this)},Ee.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Xe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,uy(this)),this.readyState=jS},Ee.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,dy(this)),this.g&&(this.readyState=3,dy(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Xe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;W$(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},Ee.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?uy(this):dy(this),3==this.readyState&&W$(this)}},Ee.Za=function(t){this.g&&(this.response=this.responseText=t,uy(this))},Ee.Ya=function(t){this.g&&(this.response=t,uy(this))},Ee.ka=function(){this.g&&uy(this)},Ee.setRequestHeader=function(t,e){this.v.append(t,e)},Ee.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Ee.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(qP.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var fme=Xe.JSON.parse;function zn(t){Ur.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=G$,this.L=this.M=!1}Vr(zn,Ur);var G$="",gme=/^https?$/i,_me=["POST","PUT"];function q$(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,K$(t),KP(t)}function K$(t){t.F||(t.F=!0,ei(t,"complete"),ei(t,"error"))}function Z$(t){if(t.h&&typeof lS<"u"&&(!t.C[1]||4!=la(t)||2!=t.da()))if(t.v&&4==la(t))SS(t.La,0,t);else if(ei(t,"readystatechange"),4==la(t)){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===s){var i=String(t.I).match(k$)[1]||null;!i&&Xe.self&&Xe.self.location&&(i=Xe.self.location.protocol.slice(0,-1)),r=!gme.test(i?i.toLowerCase():"")}n=r}if(n)ei(t,"complete"),ei(t,"success");else{t.m=6;try{var o=2<la(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",K$(t)}}finally{KP(t)}}}function KP(t,e){if(t.g){Y$(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ei(t,"ready");try{n.onreadystatechange=r}catch{}}}function Y$(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Xe.clearTimeout(t.A),t.A=null)}function la(t){return t.g?t.g.readyState:0}function Q$(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case G$:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function X$(t){let e="";return vS(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function $S(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=X$(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):vn(t,e,n))}function hy(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function J$(t){this.Ga=0,this.j=[],this.l=new LP,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=hy("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=hy("baseRetryDelayMs",5e3,t),this.hb=hy("retryDelaySeedMs",1e4,t),this.eb=hy("forwardChannelMaxRetries",2,t),this.xa=hy("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new B$(t&&t.concurrentRequestLimit),this.Ja=new dme,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function HS(t){if(eH(t),3==t.H){var e=t.W++,n=rc(t.I);if(vn(n,"SID",t.K),vn(n,"RID",e),vn(n,"TYPE","terminate"),py(t,n),(e=new ry(t,t.l,e)).L=2,e.v=WP(rc(n)),n=!1,Xe.navigator&&Xe.navigator.sendBeacon)try{n=Xe.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Xe.Image&&((new Image).src=e.v,n=!0),n||(e.g=lH(e.l,null),e.g.ha(e.v)),e.G=Date.now(),iy(e)}aH(t)}function ZP(t){t.g&&(WS(t),t.g.cancel(),t.g=null)}function eH(t){ZP(t),t.u&&(Xe.clearTimeout(t.u),t.u=null),QP(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Xe.clearTimeout(t.m),t.m=null)}function YP(t){if(!j$(t.i)&&!t.m){t.m=!0;var e=t.Na;Qm||_$(),Xm||(Qm(),Xm=!0),AS.add(e,t),t.C=0}}function tH(t,e){var n;n=e?e.m:t.W++;const r=rc(t.I);vn(r,"SID",t.K),vn(r,"RID",n),vn(r,"AID",t.V),py(t,r),t.o&&t.s&&$S(r,t.o,t.s),n=new ry(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=nH(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),BS(t.i,n),LS(n,r,e)}function py(t,e){t.na&&vS(t.na,function(n,r){vn(e,r,n)}),t.h&&x$({},function(n,r){vn(e,r,n)})}function nH(t,e,n){n=Math.min(t.j.length,n);var r=t.h?wi(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];-1==o?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let l=i[c].g;const h=i[c].map;if(l-=o,0>l)o=Math.max(0,i[c].g-100),a=!1;else try{hme(h,s,"req"+l+"_")}catch{r&&r(h)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function rH(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Qm||_$(),Xm||(Qm(),Xm=!0),AS.add(e,t),t.A=0}}function zS(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=ty(wi(t.Ma,t),sH(t,t.A)),t.A++,0))}function WS(t){null!=t.B&&(Xe.clearTimeout(t.B),t.B=null)}function iH(t){t.g=new ry(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=rc(t.wa);vn(e,"RID","rpc"),vn(e,"SID",t.K),vn(e,"AID",t.V),vn(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&vn(e,"TO",t.qa),vn(e,"TYPE","xmlhttp"),py(t,e),t.o&&t.s&&$S(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=WP(rc(e)),n.s=null,n.S=!0,A$(n,t)}function QP(t){null!=t.v&&(Xe.clearTimeout(t.v),t.v=null)}function oH(t,e){var n=null;if(t.g==e){QP(t),WS(t),t.g=null;var r=2}else{if(!US(t.i,e))return;n=e.F,H$(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;ei(r=VP(),new M$(r,n)),YP(t)}else rH(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function vme(t,e){return!($$(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=ty(wi(t.Na,t,e),sH(t,t.C)),t.C++,0)))}(t,e)||2==r&&zS(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ld(t,5);break;case 4:ld(t,10);break;case 3:ld(t,6);break;default:ld(t,2)}}function sH(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ld(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=wi(t.pb,t);n||(n=new cd("//www.google.com/images/cleardot.gif"),Xe.location&&"http"==Xe.location.protocol||HP(n,"https"),WP(n)),function pme(t,e){const n=new LP;if(Xe.Image){const r=new Image;r.onload=SP(GP,n,r,"TestLoadImage: loaded",!0,e),r.onerror=SP(GP,n,r,"TestLoadImage: error",!1,e),r.onabort=SP(GP,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=SP(GP,n,r,"TestLoadImage: timeout",!1,e),Xe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else zi(2);t.H=0,t.h&&t.h.za(e),aH(t),eH(t)}function aH(t){if(t.H=0,t.ma=[],t.h){const e=z$(t.i);(0!=e.length||0!=t.j.length)&&(n$(t.ma,e),n$(t.ma,t.j),t.i.i.length=0,dS(t.j),t.j.length=0),t.h.ya()}}function cH(t,e,n){var r=n instanceof cd?rc(n):new cd(n);if(""!=r.g)e&&(r.g=e+"."+r.g),zP(r,r.m);else{var i=Xe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new cd(null);r&&HP(o,r),e&&(o.g=e),i&&zP(o,i),n&&(o.l=n),r=o}return e=t.Da,(n=t.F)&&e&&vn(r,n,e),vn(r,"VER",t.ra),py(t,r),r}function lH(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new zn(n&&t.Ha&&!t.va?new ly({ob:!0}):t.va)).Oa(t.J),e}function uH(){}function XP(){if(Bp&&!(10<=Number(R_e)))throw Error("Environmental error: no available transport.")}function Io(t,e){Ur.call(this),this.g=new J$(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Km(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Km(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Hp(this)}function dH(t){xS.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function hH(){kS.call(this),this.status=1}function Hp(t){this.g=t}function Ds(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function GS(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var o=t.g[3],s=(e=t.g[0])+(o^(n=t.g[1])&((i=t.g[2])^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=n+((s=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function Ht(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}(Ee=zn.prototype).Oa=function(t){this.M=t},Ee.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():NS.g(),this.C=function I$(t){return t.h||(t.h=t.i())}(this.u?this.u:NS),this.g.onreadystatechange=wi(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void q$(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())n.set(o,r.get(o))}r=Array.from(n.keys()).find(o=>"content-type"==o.toLowerCase()),i=Xe.FormData&&t instanceof Xe.FormData,!(0<=t$(_me,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Y$(this),0<this.B&&((this.L=function mme(t){return Bp&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wi(this.ua,this)):this.A=SS(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){q$(this,o)}},Ee.ua=function(){typeof lS<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ei(this,"timeout"),this.abort(8))},Ee.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ei(this,"complete"),ei(this,"abort"),KP(this))},Ee.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),KP(this,!0)),zn.$.N.call(this)},Ee.La=function(){this.s||(this.G||this.v||this.l?Z$(this):this.kb())},Ee.kb=function(){Z$(this)},Ee.isActive=function(){return!!this.g},Ee.da=function(){try{return 2<la(this)?this.g.status:-1}catch{return-1}},Ee.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ee.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),fme(e)}},Ee.Ia=function(){return this.m},Ee.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ee=J$.prototype).ra=8,Ee.H=1,Ee.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new ry(this,this.l,t);let o=this.s;if(this.U&&(o?(o=a$(o),l$(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=nH(this,i,e),vn(n=rc(this.I),"RID",t),vn(n,"CVER",22),this.F&&vn(n,"X-HTTP-Session-Id",this.F),py(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(X$(o)))+"&"+e:this.o&&$S(n,this.o,o)),BS(this.i,i),this.bb&&vn(n,"TYPE","init"),this.P?(vn(n,"$req",e),vn(n,"SID","null"),i.aa=!0,LS(i,n,null)):LS(i,n,e),this.H=2}}else 3==this.H&&(t?tH(this,t):0==this.j.length||j$(this.i)||tH(this))},Ee.Ma=function(){if(this.u=null,iH(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ty(wi(this.jb,this),t)}},Ee.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,zi(10),ZP(this),iH(this))},Ee.ib=function(){null!=this.v&&(this.v=null,ZP(this),zS(this),zi(19))},Ee.pb=function(t){t?(this.l.info("Successfully pinged google.com"),zi(2)):(this.l.info("Failed to ping google.com"),zi(1))},Ee.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ee=uH.prototype).Ba=function(){},Ee.Aa=function(){},Ee.za=function(){},Ee.ya=function(){},Ee.isActive=function(){return!0},Ee.Va=function(){},XP.prototype.g=function(t,e){return new Io(t,e)},Vr(Io,Ur),Io.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;zi(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=cH(t,null,t.Y),YP(t)},Io.prototype.close=function(){HS(this.g)},Io.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=TS(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&YP(e)},Io.prototype.N=function(){this.g.h=null,delete this.j,HS(this.g),delete this.g,Io.$.N.call(this)},Vr(dH,xS),Vr(hH,kS),Vr(Hp,uH),Hp.prototype.Ba=function(){ei(this.g,"a")},Hp.prototype.Aa=function(t){ei(this.g,new dH(t))},Hp.prototype.za=function(t){ei(this.g,new hH)},Hp.prototype.ya=function(){ei(this.g,"b")},Vr(Ds,function Cme(){this.blockSize=-1}),Ds.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ds.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=n;)GS(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){GS(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){GS(this,r),i=0;break}}this.h=i,this.i+=e},Ds.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var wme={};function qS(t){return-128<=t&&128>t?function A_e(t,e){var n=wme;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Ht([0|e],0>e?-1:0)}):new Ht([0|t],0>t?-1:0)}function ua(t){if(isNaN(t)||!isFinite(t))return zp;if(0>t)return ti(ua(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=KS;return new Ht(e,0)}var KS=4294967296,zp=qS(0),ZS=qS(1),fH=qS(16777216);function ic(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function is(t){return-1==t.h}function ti(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ht(n,~t.h).add(ZS)}function JP(t,e){return t.add(ti(e))}function eE(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function fy(t,e){this.g=t,this.h=e}function tE(t,e){if(ic(e))throw Error("division by zero");if(ic(t))return new fy(zp,zp);if(is(t))return e=tE(ti(t),e),new fy(ti(e.g),ti(e.h));if(is(e))return e=tE(t,ti(e)),new fy(ti(e.g),e.h);if(30<t.g.length){if(is(t)||is(e))throw Error("slowDivide_ only works with positive integers.");for(var n=ZS,r=e;0>=r.X(t);)n=gH(n),r=gH(r);var i=Wp(n,1),o=Wp(r,1);for(r=Wp(r,2),n=Wp(n,2);!ic(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Wp(r,1),n=Wp(n,1)}return e=JP(t,i.R(e)),new fy(i,e)}for(i=zp;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=ua(n)).R(e);is(s)||0<s.X(t);)s=(o=ua(n-=r)).R(e);ic(o)&&(o=ZS),i=i.add(o),t=JP(t,s)}return new fy(i,t)}function gH(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ht(n,t.h)}function Wp(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Ht(i,t.h)}(Ee=Ht.prototype).ea=function(){if(is(this))return-ti(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:KS+r)*e,e*=KS}return t},Ee.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(ic(this))return"0";if(is(this))return"-"+ti(this).toString(t);for(var e=ua(Math.pow(t,6)),n=this,r="";;){var i=tE(n,e).g,o=((0<(n=JP(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(ic(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},Ee.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},Ee.X=function(t){return is(t=JP(this,t))?-1:ic(t)?0:1},Ee.abs=function(){return is(this)?ti(this):this},Ee.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&t.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,n[i]=(s&=65535)<<16|(o&=65535)}return new Ht(n,-2147483648&n[n.length-1]?-1:0)},Ee.R=function(t){if(ic(this)||ic(t))return zp;if(is(this))return is(t)?ti(this).R(ti(t)):ti(ti(this).R(t));if(is(t))return ti(this.R(ti(t)));if(0>this.X(fH)&&0>t.X(fH))return ua(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=s*c,eE(n,2*r+2*i),n[2*r+2*i+1]+=o*c,eE(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,eE(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,eE(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ht(n,0)},Ee.gb=function(t){return tE(this,t).h},Ee.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ht(n,this.h&t.h)},Ee.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ht(n,this.h|t.h)},Ee.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ht(n,this.h^t.h)},XP.prototype.createWebChannel=XP.prototype.g,Io.prototype.send=Io.prototype.u,Io.prototype.open=Io.prototype.m,Io.prototype.close=Io.prototype.close,UP.NO_ERROR=0,UP.TIMEOUT=8,UP.HTTP_ERROR=6,O$.COMPLETE="complete",b$.EventType=ny,ny.OPEN="a",ny.CLOSE="b",ny.ERROR="c",ny.MESSAGE="d",Ur.prototype.listen=Ur.prototype.O,zn.prototype.listenOnce=zn.prototype.P,zn.prototype.getLastError=zn.prototype.Sa,zn.prototype.getLastErrorCode=zn.prototype.Ia,zn.prototype.getStatus=zn.prototype.da,zn.prototype.getResponseJson=zn.prototype.Wa,zn.prototype.getResponseText=zn.prototype.ja,zn.prototype.send=zn.prototype.ha,zn.prototype.setWithCredentials=zn.prototype.Oa,Ds.prototype.digest=Ds.prototype.l,Ds.prototype.reset=Ds.prototype.reset,Ds.prototype.update=Ds.prototype.j,Ht.prototype.add=Ht.prototype.add,Ht.prototype.multiply=Ht.prototype.R,Ht.prototype.modulo=Ht.prototype.gb,Ht.prototype.compare=Ht.prototype.X,Ht.prototype.toNumber=Ht.prototype.ea,Ht.prototype.toString=Ht.prototype.toString,Ht.prototype.getBits=Ht.prototype.D,Ht.fromNumber=ua,Ht.fromString=function pH(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return ti(pH(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ua(Math.pow(e,8)),r=zp,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=ua(Math.pow(e,o)),r=r.R(o).add(ua(s))):r=(r=r.R(n)).add(ua(s))}return r};var Pme=As.createWebChannelTransport=function(){return new XP},Eme=As.getStatEventTarget=function(){return VP()},YS=As.ErrorCode=UP,Mme=As.EventType=O$,Ome=As.Event=sd,_H=As.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ime=As.FetchXmlHttpFactory=ly,nE=As.WebChannel=b$,bme=As.XhrIo=zn,Tme=As.Md5=Ds,Gp=As.Integer=Ht;const mH="@firebase/firestore";class Br{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Br.UNAUTHENTICATED=new Br(null),Br.GOOGLE_CREDENTIALS=new Br("google-credentials-uid"),Br.FIRST_PARTY=new Br("first-party-uid"),Br.MOCK_USER=new Br("mock-user");let qp="10.5.2";const Ol=new mi.Yd("@firebase/firestore");function Kp(){return Ol.logLevel}function de(t,...e){if(Ol.logLevel<=mi.in.DEBUG){const n=e.map(QS);Ol.debug(`Firestore (${qp}): ${t}`,...n)}}function nr(t,...e){if(Ol.logLevel<=mi.in.ERROR){const n=e.map(QS);Ol.error(`Firestore (${qp}): ${t}`,...n)}}function so(t,...e){if(Ol.logLevel<=mi.in.WARN){const n=e.map(QS);Ol.warn(`Firestore (${qp}): ${t}`,...n)}}function QS(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function Ae(t="Unexpected state"){const e=`FIRESTORE (${qp}) INTERNAL ASSERTION FAILED: `+t;throw nr(e),new Error(e)}function Ne(t,e){t||Ae()}function ye(t,e){return t}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends M.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Tr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class yH{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Sme{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Br.UNAUTHENTICATED))}shutdown(){}}class Rme{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class xme{constructor(e){this.t=e,this.currentUser=Br.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const o=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new Tr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Tr,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable((0,x.Z)(function*(){yield l.promise,yield o(r.currentUser)}))},c=l=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Tr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne("string"==typeof r.accessToken),new yH(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ne(null===e||"string"==typeof e),new Br(e)}}class kme{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Br.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Nme{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new kme(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Br.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vH{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Fme{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{null!=o.error&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,de("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ne("string"==typeof n.token),this.R=n.token,new vH(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Lme(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class CH{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Lme(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function Ke(t,e){return t<e?-1:t>e?1:0}function Zp(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function wH(t){return t+"\0"}class An{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return An.fromMillis(Date.now())}static fromDate(e){return An.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new An(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Fe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new An(0,0))}static max(){return new Fe(new An(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class gy{constructor(e,n,r){void 0===n?n=0:n>e.length&&Ae(),void 0===r?r=e.length-n:r>e.length-n&&Ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===gy.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gy?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class St extends gy{construct(e,n,r){return new St(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new St(n)}static emptyPath(){return new St([])}}const Vme=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cn extends gy{construct(e,n,r){return new Cn(e,n,r)}static isValidIdentifier(e){return Vme.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Cn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new le(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new le(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new le(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new le(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Cn(n)}static emptyPath(){return new Cn([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(St.fromString(e))}static fromName(e){return new ve(St.fromString(e).popFirst(5))}static empty(){return new ve(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===St.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return St.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new St(e.slice()))}}class Yp{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function XS(t){return t.fields.find(e=>2===e.kind)}function ud(t){return t.fields.filter(e=>2!==e.kind)}Yp.UNKNOWN_ID=-1;class dd{constructor(e,n){this.fieldPath=e,this.kind=n}}class Qp{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Qp(0,bo.min())}}function PH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Fe.fromTimestamp(1e9===r?new An(n+1,0):new An(n,r));return new bo(i,ve.empty(),e)}function EH(t){return new bo(t.readTime,t.key,-1)}class bo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new bo(Fe.min(),ve.empty(),-1)}static max(){return new bo(Fe.max(),ve.empty(),-1)}}function JS(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=ve.comparator(t.documentKey,e.documentKey),0!==n?n:Ke(t.largestBatchId,e.largestBatchId))}const MH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Il(t){return eR.apply(this,arguments)}function eR(){return eR=(0,x.Z)(function*(t){if(t.code!==W.FAILED_PRECONDITION||t.message!==MH)throw t;de("LocalStore","Unexpectedly lost primary lease")}),eR.apply(this,arguments)}class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const l=c;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new B((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}class rE{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Tr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new _y(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=tR(r.target.error);this.V.reject(new _y(e,i))}}static open(e,n,r,i){try{return new rE(n,e.transaction(i,r))}catch(o){throw new _y(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(de("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new $me(n)}}class Ss{constructor(e,n,r){this.name=e,this.version=n,this.p=r,12.2===Ss.S((0,M.z$)())&&nr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return de("SimpleDb","Removing database:",e),hd(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,M.hl)())return!1;if(Ss.C())return!0;const e=(0,M.z$)(),n=Ss.S(e),r=0<n&&n<10,i=Ss.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var n=this;return(0,x.Z)(function*(){return n.db||(de("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,i)=>{const o=indexedDB.open(n.name,n.version);o.onsuccess=s=>{r(s.target.result)},o.onblocked=()=>{i(new _y(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;i("VersionError"===a.name?new le(W.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new le(W.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new _y(e,a))},o.onupgradeneeded=s=>{de("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',s.oldVersion),n.p.N(s.target.result,o.transaction,s.oldVersion,n.version).next(()=>{de("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=r=>n.B(r)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){var o=this;return(0,x.Z)(function*(){const s="readonly"===n;let a=0;for(;;){++a;try{o.db=yield o.O(e);const c=rE.open(o.db,e,s?"readonly":"readwrite",r),l=i(c).next(h=>(c.g(),h)).catch(h=>(c.abort(h),B.reject(h))).toPromise();return l.catch(()=>{}),yield c.m,l}catch(c){const l=c,h="FirebaseError"!==l.name&&a<3;if(de("SimpleDb","Transaction failed with error:",l.message,"Retrying:",h),o.close(),!h)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class jme{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return hd(this.k.delete())}}class _y extends le{constructor(e,n){super(W.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function bl(t){return"IndexedDbTransactionError"===t.name}class $me{constructor(e){this.store=e}put(e,n){let r;return void 0!==n?(de("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(de("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),hd(r)}add(e){return de("SimpleDb","ADD",this.store.name,e,e),hd(this.store.add(e))}get(e){return hd(this.store.get(e)).next(n=>(void 0===n&&(n=null),de("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return de("SimpleDb","DELETE",this.store.name,e),hd(this.store.delete(e))}count(){return de("SimpleDb","COUNT",this.store.name),hd(this.store.count())}W(e,n){const r=this.options(e,n);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),o=[];return this.G(i,(s,a)=>{o.push(a)}).next(()=>o)}{const i=this.store.getAll(r.range);return new B((o,s)=>{i.onerror=a=>{s(a.target.error)},i.onsuccess=a=>{o(a.target.result)}})}}j(e,n){const r=this.store.getAll(e,null===n?void 0:n);return new B((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){de("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new B((r,i)=>{n.onerror=o=>{const s=tR(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){const r=[];return new B((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const c=new jme(a),l=n(a.primaryKey,a.value,c);if(l instanceof B){const h=l.catch(f=>(c.done(),B.reject(f)));r.push(h)}c.isDone?i():null===c.$?a.continue():a.continue(c.$)}}).next(()=>B.waitFor(r))}options(e,n){let r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function hd(t){return new B((e,n)=>{t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{const i=tR(r.target.error);n(i)}})}let IH=!1;function tR(t){const e=Ss.S((0,M.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new le("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return IH||(IH=!0,setTimeout(()=>{throw r},0)),r}}return t}class Hme{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var n=this;de("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,x.Z)(function*(){n.task=null;try{de("IndexBackiller",`Documents written: ${yield n.X.te()}`)}catch(r){bl(r)?de("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Il(r)}yield n.ee(6e4)}))}}class zme{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){var n=this;return(0,x.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>n.ne(r,e))})()}ne(e,n){const r=new Set;let i=n,o=!0;return B.doWhile(()=>!0===o&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!r.has(s))return de("IndexBackiller",`Processing collection: ${s}`),this.re(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.ie(i,o)).next(a=>(de("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,o)=>{const s=EH(o);JS(s,r)>0&&(r=s)}),new bo(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}let To=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function my(t){return null==t}function yy(t){return 0===t&&1/t==-1/0}function bH(t){return"number"==typeof t&&Number.isInteger(t)&&!yy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Ei(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=TH(e)),e=Wme(t.get(n),e);return TH(e)}function Wme(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function TH(t){return t+"\x01\x01"}function da(t){const e=t.length;if(Ne(e>=2),2===e)return Ne("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),St.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const s=t.indexOf("\x01",o);switch((s<0||s>n)&&Ae(),t.charAt(s+1)){case"\x01":const a=t.substring(o,s);let c;0===i.length?c=a:(i+=a,c=i,i=""),r.push(c);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Ae()}o=s+2}return new St(r)}const AH=["userId","batchId"];function iE(t,e){return[t,Ei(e)]}function DH(t,e,n){return[t,Ei(e),n]}const Gme={},qme=["prefixPath","collectionGroup","readTime","documentId"],Kme=["prefixPath","collectionGroup","documentId"],Zme=["collectionGroup","readTime","prefixPath","documentId"],Yme=["canonicalId","targetId"],Qme=["targetId","path"],Xme=["path","targetId"],Jme=["collectionId","parent"],eye=["indexId","uid"],tye=["uid","sequenceNumber"],nye=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],rye=["indexId","uid","orderedDocumentKey"],iye=["userId","collectionPath","documentId"],oye=["userId","collectionPath","largestBatchId"],sye=["userId","collectionGroup","largestBatchId"],SH=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],aye=[...SH,"documentOverlays"],RH=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],xH=RH,cye=[...xH,"indexConfiguration","indexState","indexEntries"];class nR extends OH{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function jr(t,e){const n=ye(t);return Ss.M(n.ae,e)}function kH(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Tl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function NH(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class dn{constructor(e,n){this.comparator=e,this.root=n||ni.EMPTY}insert(e,n){return new dn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ni.BLACK,null,null))}remove(e){return new dn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ni.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oE(this.root,e,this.comparator,!1)}getReverseIterator(){return new oE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oE(this.root,e,this.comparator,!0)}}class oE{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ni{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??ni.RED,this.left=i??ni.EMPTY,this.right=o??ni.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new ni(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ni.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return ni.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ni.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ni.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}ni.EMPTY=null,ni.RED=!0,ni.BLACK=!1,ni.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,n,r,i,o){return this}insert(e,n,r){return new ni(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zt{constructor(e){this.comparator=e,this.data=new dn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new FH(this.data.getIterator())}getIteratorFrom(e){return new FH(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Zt(this.comparator);return n.data=e,n}}class FH{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Xp(t){return t.hasNext()?t.getNext():void 0}class ao{constructor(e){this.fields=e,e.sort(Cn.comparator)}static empty(){return new ao([])}unionWith(e){let n=new Zt(Cn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ao(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zp(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class LH extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ar{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new LH("Invalid base64 string: "+o):o}}(e);return new Ar(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Ar(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ar.EMPTY_BYTE_STRING=new Ar("");const uye=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Al(t){if(Ne(!!t),"string"==typeof t){let e=0;const n=uye.exec(t);if(Ne(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Wn(t.seconds),nanos:Wn(t.nanos)}}function Wn(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function oc(t){return"string"==typeof t?Ar.fromBase64String(t):Ar.fromUint8Array(t)}function sE(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function aE(t){const e=t.mapValue.fields.__previous_value__;return sE(e)?aE(e):e}function vy(t){const e=Al(t.mapValue.fields.__local_write_time__.timestampValue);return new An(e.seconds,e.nanos)}class dye{constructor(e,n,r,i,o,s,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class Dl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Dl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Dl&&e.projectId===this.projectId&&e.database===this.database}}const Sl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},cE={nullValue:"NULL_VALUE"};function Rl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sE(t)?4:jH(t)?9007199254740991:10:Ae()}function ha(t,e){if(t===e)return!0;const n=Rl(t);if(n!==Rl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vy(t).isEqual(vy(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Al(i.timestampValue),a=Al(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return o=e,oc(t.bytesValue).isEqual(oc(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Wn(i.geoPointValue.latitude)===Wn(o.geoPointValue.latitude)&&Wn(i.geoPointValue.longitude)===Wn(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Wn(i.integerValue)===Wn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Wn(i.doubleValue),a=Wn(o.doubleValue);return s===a?yy(s)===yy(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Zp(t.arrayValue.values||[],e.arrayValue.values||[],ha);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(kH(s)!==kH(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===a[c]||!ha(s[c],a[c])))return!1;return!0}(t,e);default:return Ae()}var o}function Cy(t,e){return void 0!==(t.values||[]).find(n=>ha(n,e))}function xl(t,e){if(t===e)return 0;const n=Rl(t),r=Rl(e);if(n!==r)return Ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Wn(o.integerValue||o.doubleValue),c=Wn(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return VH(t.timestampValue,e.timestampValue);case 4:return VH(vy(t),vy(e));case 5:return Ke(t.stringValue,e.stringValue);case 6:return function(o,s){const a=oc(o),c=oc(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){const h=Ke(a[l],c[l]);if(0!==h)return h}return Ke(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Ke(Wn(o.latitude),Wn(s.latitude));return 0!==a?a:Ke(Wn(o.longitude),Wn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],c=s.values||[];for(let l=0;l<a.length&&l<c.length;++l){const h=xl(a[l],c[l]);if(h)return h}return Ke(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Sl.mapValue&&s===Sl.mapValue)return 0;if(o===Sl.mapValue)return 1;if(s===Sl.mapValue)return-1;const a=o.fields||{},c=Object.keys(a),l=s.fields||{},h=Object.keys(l);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const _=Ke(c[f],h[f]);if(0!==_)return _;const v=xl(a[c[f]],l[h[f]]);if(0!==v)return v}return Ke(c.length,h.length)}(t.mapValue,e.mapValue);default:throw Ae()}}function VH(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ke(t,e);const n=Al(t),r=Al(e),i=Ke(n.seconds,r.seconds);return 0!==i?i:Ke(n.nanos,r.nanos)}function Jp(t){return rR(t)}function rR(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Al(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?oc(t.bytesValue).toBase64():"referenceValue"in t?ve.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=rR(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${rR(n.fields[s])}`;return i+"}"}(t.mapValue):Ae()}function pd(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function iR(t){return!!t&&"integerValue"in t}function wy(t){return!!t&&"arrayValue"in t}function UH(t){return!!t&&"nullValue"in t}function BH(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function uE(t){return!!t&&"mapValue"in t}function Py(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Tl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Py(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Py(t.arrayValue.values[n]);return e}return Object.assign({},t)}function jH(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function hye(t){return"nullValue"in t?cE:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?pd(Dl.empty(),ve.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Ae()}function pye(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?pd(Dl.empty(),ve.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Sl:Ae()}function $H(t,e){const n=xl(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function HH(t,e){const n=xl(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class ri{constructor(e){this.value=e}static empty(){return new ri({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!uE(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Py(n)}setAll(e){let n=Cn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Py(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());uE(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ha(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];uE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Tl(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new ri(Py(this.value))}}function zH(t){const e=[];return Tl(t.fields,(n,r)=>{const i=new Cn([n]);if(uE(r)){const o=zH(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new ao(e)}class wn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new wn(e,0,Fe.min(),Fe.min(),Fe.min(),ri.empty(),0)}static newFoundDocument(e,n,r,i){return new wn(e,1,n,Fe.min(),r,i,0)}static newNoDocument(e,n){return new wn(e,2,n,Fe.min(),Fe.min(),ri.empty(),0)}static newUnknownDocument(e,n){return new wn(e,3,n,Fe.min(),Fe.min(),ri.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Fe.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ri.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ri.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class kl{constructor(e,n){this.position=e,this.inclusive=n}}function WH(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?ve.comparator(ve.fromName(s.referenceValue),n.key):xl(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function GH(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ha(t.position[n],e.position[n]))return!1;return!0}class Ey{constructor(e,n="asc"){this.field=e,this.dir=n}}function fye(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class qH{}class wt extends qH{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new gye(e,n,r):"array-contains"===n?new yye(e,r):"in"===n?new JH(e,r):"not-in"===n?new vye(e,r):"array-contains-any"===n?new Cye(e,r):new wt(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new _ye(e,r):new mye(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(xl(n,this.value)):null!==n&&Rl(this.value)===Rl(n)&&this.matchesComparison(xl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zt extends qH{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new zt(e,n)}matches(e){return ef(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function ef(t){return"and"===t.op}function oR(t){return"or"===t.op}function sR(t){return KH(t)&&ef(t)}function KH(t){for(const e of t.filters)if(e instanceof zt)return!1;return!0}function aR(t){if(t instanceof wt)return t.field.canonicalString()+t.op.toString()+Jp(t.value);if(sR(t))return t.filters.map(e=>aR(e)).join(",");{const e=t.filters.map(n=>aR(n)).join(",");return`${t.op}(${e})`}}function ZH(t,e){return t instanceof wt?(r=t,(i=e)instanceof wt&&r.op===i.op&&r.field.isEqual(i.field)&&ha(r.value,i.value)):t instanceof zt?function(r,i){return i instanceof zt&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&ZH(s,i.filters[a]),!0)}(t,e):void Ae();var r,i}function YH(t,e){const n=t.filters.concat(e);return zt.create(n,t.op)}function QH(t){return t instanceof wt?`${(n=t).field.canonicalString()} ${n.op} ${Jp(n.value)}`:t instanceof zt?function(n){return n.op.toString()+" {"+n.getFilters().map(QH).join(" ,")+"}"}(t):"Filter";var n}class gye extends wt{constructor(e,n,r){super(e,n,r),this.key=ve.fromName(r.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class _ye extends wt{constructor(e,n){super(e,"in",n),this.keys=XH(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class mye extends wt{constructor(e,n){super(e,"not-in",n),this.keys=XH(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function XH(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>ve.fromName(r.referenceValue))}class yye extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wy(n)&&Cy(n.arrayValue,this.value)}}class JH extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Cy(this.value.arrayValue,n)}}class vye extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Cy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Cy(this.value.arrayValue,n)}}class Cye extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Cy(this.value.arrayValue,r))}}class wye{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function cR(t,e=null,n=[],r=[],i=null,o=null,s=null){return new wye(t,e,n,r,i,o,s)}function fd(t){const e=ye(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>aR(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),my(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Jp(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Jp(r)).join(",")),e.ce=n}return e.ce}function My(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!fye(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ZH(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!GH(t.startAt,e.startAt)&&GH(t.endAt,e.endAt)}function dE(t){return ve.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function hE(t,e){return t.filters.filter(n=>n instanceof wt&&n.field.isEqual(e))}function ez(t,e,n){let r=cE,i=!0;for(const o of hE(t,e)){let s=cE,a=!0;switch(o.op){case"<":case"<=":s=hye(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=cE}$H({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(null!==n)for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];$H({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}return{value:r,inclusive:i}}function tz(t,e,n){let r=Sl,i=!0;for(const o of hE(t,e)){let s=Sl,a=!0;switch(o.op){case">=":case">":s=pye(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Sl}HH({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(null!==n)for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];HH({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}return{value:r,inclusive:i}}class sc{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null}}function nz(t,e,n,r,i,o,s,a){return new sc(t,e,n,r,i,o,s,a)}function tf(t){return new sc(t)}function rz(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function lR(t){return null!==t.collectionGroup}function nf(t){const e=ye(t);if(null===e.le){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Zt(Cn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Ey(o,r))}),n.has(Cn.keyField().canonicalString())||e.le.push(new Ey(Cn.keyField(),r))}return e.le}function Wi(t){const e=ye(t);return e.he||(e.he=function iz(t,e){if("F"===t.limitType)return cR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new Ey(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new kl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new kl(t.startAt.position,t.startAt.inclusive):null;return cR(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,nf(t))),e.he}function uR(t,e){const n=t.filters.concat([e]);return new sc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function pE(t,e,n){return new sc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Oy(t,e){return My(Wi(t),Wi(e))&&t.limitType===e.limitType}function oz(t){return`${fd(Wi(t))}|lt:${t.limitType}`}function rf(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>QH(i)).join(", ")}]`),my(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Jp(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Jp(i)).join(",")),`Target(${r})`}(Wi(t))}; limitType=${t.limitType})`}function Iy(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ve.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of nf(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(s,a,c){const l=WH(s,a,c);return s.inclusive?l<=0:l<0}(r.startAt,nf(r),i)||r.endAt&&!function(s,a,c){const l=WH(s,a,c);return s.inclusive?l>=0:l>0}(r.endAt,nf(r),i)));var r,i}function sz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function az(t){return(e,n)=>{let r=!1;for(const i of nf(t)){const o=Pye(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function Pye(t,e,n){const r=t.field.isKeyField()?ve.comparator(e.key,n.key):function(o,s,a){const c=s.data.field(o),l=a.data.field(o);return null!==c&&null!==l?xl(c,l):Ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ae()}}class ac{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Tl(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return NH(this.inner)}size(){return this.innerSize}}const Eye=new dn(ve.comparator);function co(){return Eye}const cz=new dn(ve.comparator);function by(...t){let e=cz;for(const n of t)e=e.insert(n.key,n);return e}function lz(t){let e=cz;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function pa(){return Ty()}function uz(){return Ty()}function Ty(){return new ac(t=>t.toString(),(t,e)=>t.isEqual(e))}const Mye=new dn(ve.comparator),Oye=new Zt(ve.comparator);function ot(...t){let e=Oye;for(const n of t)e=e.add(n);return e}const Iye=new Zt(Ke);function dR(){return Iye}function dz(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yy(e)?"-0":e}}function hz(t){return{integerValue:""+t}}function pz(t,e){return bH(e)?hz(e):dz(t,e)}class fE{constructor(){this._=void 0}}function bye(t,e,n){return t instanceof sf?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&sE(o)&&(o=aE(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof gd?gz(t,e):t instanceof _d?_z(t,e):function(i,o){const s=fz(i,o),a=mz(s)+mz(i.Ie);return iR(s)&&iR(i.Ie)?hz(a):dz(i.serializer,a)}(t,e)}function Tye(t,e,n){return t instanceof gd?gz(t,e):t instanceof _d?_z(t,e):n}function fz(t,e){return t instanceof af?iR(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class sf extends fE{}class gd extends fE{constructor(e){super(),this.elements=e}}function gz(t,e){const n=yz(e);for(const r of t.elements)n.some(i=>ha(i,r))||n.push(r);return{arrayValue:{values:n}}}class _d extends fE{constructor(e){super(),this.elements=e}}function _z(t,e){let n=yz(e);for(const r of t.elements)n=n.filter(i=>!ha(i,r));return{arrayValue:{values:n}}}class af extends fE{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function mz(t){return Wn(t.integerValue||t.doubleValue)}function yz(t){return wy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Ay{constructor(e,n){this.field=e,this.transform=n}}class Dye{constructor(e,n){this.version=e,this.transformResults=n}}class Dn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Dn}static exists(e){return new Dn(void 0,e)}static updateTime(e){return new Dn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gE(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class _E{}function vz(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new lf(t.key,Dn.none()):new cf(t.key,t.data,Dn.none());{const n=t.data,r=ri.empty();let i=new Zt(Cn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new cc(t.key,r,new ao(i.toArray()),Dn.none())}}function Sye(t,e,n){t instanceof cf?function(i,o,s){const a=i.value.clone(),c=Pz(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof cc?function(i,o,s){if(!gE(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=Pz(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(wz(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Dy(t,e,n,r){return t instanceof cf?function(o,s,a,c){if(!gE(o.precondition,s))return a;const l=o.value.clone(),h=Ez(o.fieldTransforms,c,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof cc?function(o,s,a,c){if(!gE(o.precondition,s))return a;const l=Ez(o.fieldTransforms,c,s),h=s.data;return h.setAll(wz(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):(a=n,gE(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function Rye(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=fz(r.transform,i||null);null!=o&&(null===n&&(n=ri.empty()),n.set(r.field,o))}return n||null}function Cz(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&Zp(r,i,(o,s)=>function Aye(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof gd&&i instanceof gd||r instanceof _d&&i instanceof _d?Zp(r.elements,i.elements,ha):r instanceof af&&i instanceof af?ha(r.Ie,i.Ie):r instanceof sf&&i instanceof sf);var r,i}(o,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class cf extends _E{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class cc extends _E{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function wz(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Pz(t,e,n){const r=new Map;Ne(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Tye(s,a,n[i]))}return r}function Ez(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,bye(o,s,e))}return r}class lf extends _E{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hR extends _E{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class pR{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Sye(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Dy(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Dy(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=uz();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const c=vz(s,a);null!==c&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ot())}isEqual(e){return this.batchId===e.batchId&&Zp(this.mutations,e.mutations,(n,r)=>Cz(n,r))&&Zp(this.baseMutations,e.baseMutations,(n,r)=>Cz(n,r))}}class fR{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ne(e.mutations.length===r.length);let i=Mye;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new fR(e,n,r,i)}}class gR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class kye{constructor(e,n){this.count=e,this.unchangedNames=n}}var fr,Rt;function Mz(t){switch(t){default:return Ae();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function Oz(t){if(void 0===t)return nr("GRPC error has no .code"),W.UNKNOWN;switch(t){case fr.OK:return W.OK;case fr.CANCELLED:return W.CANCELLED;case fr.UNKNOWN:return W.UNKNOWN;case fr.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case fr.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case fr.INTERNAL:return W.INTERNAL;case fr.UNAVAILABLE:return W.UNAVAILABLE;case fr.UNAUTHENTICATED:return W.UNAUTHENTICATED;case fr.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case fr.NOT_FOUND:return W.NOT_FOUND;case fr.ALREADY_EXISTS:return W.ALREADY_EXISTS;case fr.PERMISSION_DENIED:return W.PERMISSION_DENIED;case fr.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case fr.ABORTED:return W.ABORTED;case fr.OUT_OF_RANGE:return W.OUT_OF_RANGE;case fr.UNIMPLEMENTED:return W.UNIMPLEMENTED;case fr.DATA_LOSS:return W.DATA_LOSS;default:return Ae()}}(Rt=fr||(fr={}))[Rt.OK=0]="OK",Rt[Rt.CANCELLED=1]="CANCELLED",Rt[Rt.UNKNOWN=2]="UNKNOWN",Rt[Rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rt[Rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rt[Rt.NOT_FOUND=5]="NOT_FOUND",Rt[Rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rt[Rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rt[Rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rt[Rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rt[Rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rt[Rt.ABORTED=10]="ABORTED",Rt[Rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rt[Rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rt[Rt.INTERNAL=13]="INTERNAL",Rt[Rt.UNAVAILABLE=14]="UNAVAILABLE",Rt[Rt.DATA_LOSS=15]="DATA_LOSS";function Iz(){return new TextEncoder}const Nye=new Gp([4294967295,4294967295],0);function bz(t){const e=Iz().encode(t),n=new Tme;return n.update(e),new Uint8Array(n.digest())}function Tz(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Gp([n,r],0),new Gp([i,o],0)]}class _R{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Sy(`Invalid padding: ${n}`);if(r<0)throw new Sy(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Sy(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Sy(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Gp.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Gp.fromNumber(r)));return 1===i.compare(Nye)&&(i=new Gp([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=bz(e),[r,i]=Tz(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new _R(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const n=bz(e),[r,i]=Tz(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Sy extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ry{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,xy.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ry(Fe.min(),i,new dn(Ke),co(),ot())}}class xy{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xy(r,n,ot(),ot(),ot())}}class yE{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class Az{constructor(e,n){this.targetId=e,this.fe=n}}class Dz{constructor(e,n,r=Ar.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Sz{constructor(){this.ge=0,this.pe=xz(),this.ye=Ar.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ot(),n=ot(),r=ot();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ae()}}),new xy(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=xz()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class Fye{constructor(e){this.Le=e,this.ke=new Map,this.qe=co(),this.Qe=Rz(),this.Ke=new dn(Ke)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(dE(o))if(0===r){const s=new ve(o.path);this.We(n,s,wn.newNoDocument(s,Fe.min()))}else Ne(1===r);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),c=a?this.et(a,e,s):1;0!==c&&(this.He(n),this.Ke=this.Ke.insert(n,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=oc(r).toUint8Array()}catch(c){if(c instanceof LH)return so("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new _R(s,i,o)}catch(c){return so(c instanceof Sy?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&dE(a.target)){const c=new ve(a.target.path);null!==this.qe.get(c)||this.st(s,c)||this.We(s,c,wn.newNoDocument(c,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=ot();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const l=this.Ye(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new Ry(e,n,this.Ke,this.qe,r);return this.qe=co(),this.Qe=Rz(),this.Ke=new dn(Ke),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Sz,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Zt(Ke),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||de("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Sz),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Rz(){return new dn(ve.comparator)}function xz(){return new dn(ve.comparator)}const Lye={asc:"ASCENDING",desc:"DESCENDING"},Vye={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Uye={and:"AND",or:"OR"};class Bye{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mR(t,e){return t.useProto3Json||my(e)?e:{value:e}}function uf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kz(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function jye(t,e){return uf(t,e.toTimestamp())}function rr(t){return Ne(!!t),Fe.fromTimestamp(function(n){const r=Al(n);return new An(r.seconds,r.nanos)}(t))}function yR(t,e){return(r=t,new St(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function Nz(t){const e=St.fromString(t);return Ne(zz(e)),e}function ky(t,e){return yR(t.databaseId,e.path)}function fa(t,e){const n=Nz(e);if(n.get(1)!==t.databaseId.projectId)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(Lz(n))}function vR(t,e){return yR(t.databaseId,e)}function Fz(t){const e=Nz(t);return 4===e.length?St.emptyPath():Lz(e)}function Ny(t){return new St(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Lz(t){return Ne(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Vz(t,e,n){return{name:ky(t,e),fields:n.value.mapValue.fields}}function Uz(t,e,n){const r=fa(t,e.name),i=rr(e.updateTime),o=e.createTime?rr(e.createTime):Fe.min(),s=new ri({mapValue:{fields:e.fields}}),a=wn.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Fy(t,e){let n;if(e instanceof cf)n={update:Vz(t,e.key,e.value)};else if(e instanceof lf)n={delete:ky(t,e.key)};else if(e instanceof cc)n={update:Vz(t,e.key,e.data),updateMask:Zye(e.fieldMask)};else{if(!(e instanceof hR))return Ae();n={verify:ky(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof sf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof gd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof _d)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof af)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw Ae()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:jye(t,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Ae()),n;var o}function CR(t,e){const n=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Dn.updateTime(rr(o.updateTime)):void 0!==o.exists?Dn.exists(o.exists):Dn.none():Dn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let c=null;"setToServerValue"in a?(Ne("REQUEST_TIME"===a.setToServerValue),c=new sf):"appendMissingElements"in a?c=new gd(a.appendMissingElements.values||[]):"removeAllFromArray"in a?c=new _d(a.removeAllFromArray.values||[]):"increment"in a?c=new af(s,a.increment):Ae();const l=Cn.fromServerFormat(a.fieldPath);return new Ay(l,c)}(t,i)):[];var o;if(e.update){const i=fa(t,e.update.name),o=new ri({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new ao((e.updateMask.fieldPaths||[]).map(h=>Cn.fromServerFormat(h)));return new cc(i,o,s,n,r)}return new cf(i,o,n,r)}if(e.delete){const i=fa(t,e.delete);return new lf(i,n)}if(e.verify){const i=fa(t,e.verify);return new hR(i,n)}return Ae()}function Bz(t,e){return{documents:[vR(t,e.path)]}}function wR(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=vR(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=vR(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return Hz(zt.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(0!==c.length)return c.map(l=>{return{field:Nl((f=l).field),direction:Gye(f.dir)};var f})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=mR(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n;var c}function jz(t){let e=Fz(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ne(1===r);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(f){const _=$z(f);return _ instanceof zt&&sR(_)?_.getFilters():[_]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(_=>{return new Ey(df((E=_).field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction));var E}));let a=null;n.limit&&(a=function(f){let _;return _="object"==typeof f?f.value:f,my(_)?null:_}(n.limit));let c=null;var f;n.startAt&&(c=new kl((f=n.startAt).values||[],!!f.before));let l=null;return n.endAt&&(l=function(f){return new kl(f.values||[],!f.before)}(n.endAt)),nz(e,i,s,o,a,"F",c,l)}function $z(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=df(n.unaryFilter.field);return wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=df(n.unaryFilter.field);return wt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=df(n.unaryFilter.field);return wt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=df(n.unaryFilter.field);return wt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(t):void 0!==t.fieldFilter?wt.create(df((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return zt.create(n.compositeFilter.filters.map(r=>$z(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ae()}}(n.compositeFilter.op))}(t):Ae();var n}function Gye(t){return Lye[t]}function qye(t){return Vye[t]}function Kye(t){return Uye[t]}function Nl(t){return{fieldPath:t.canonicalString()}}function df(t){return Cn.fromServerFormat(t.fieldPath)}function Hz(t){return t instanceof wt?function(n){if("=="===n.op){if(BH(n.value))return{unaryFilter:{field:Nl(n.field),op:"IS_NAN"}};if(UH(n.value))return{unaryFilter:{field:Nl(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(BH(n.value))return{unaryFilter:{field:Nl(n.field),op:"IS_NOT_NAN"}};if(UH(n.value))return{unaryFilter:{field:Nl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nl(n.field),op:qye(n.op),value:n.value}}}(t):t instanceof zt?function(n){const r=n.getFilters().map(i=>Hz(i));return 1===r.length?r[0]:{compositeFilter:{op:Kye(n.op),filters:r}}}(t):Ae()}function Zye(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zz(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class lc{constructor(e,n,r,i,o=Fe.min(),s=Fe.min(),a=Ar.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new lc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new lc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Wz{constructor(e){this.ut=e}}function Gz(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:vE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:ky(o=t.ut,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:uf(o,s.version.toTimestamp()),createTime:uf(o,s.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:md(e.version)};else{if(!e.isUnknownDocument())return Ae();r.unknownDocument={path:n.path.toArray(),version:md(e.version)}}var o,s;return r}function vE(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function md(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function yd(t){const e=new An(t.seconds,t.nanoseconds);return Fe.fromTimestamp(e)}function vd(t,e){const n=(e.baseMutations||[]).map(o=>CR(t.ut,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const r=e.mutations.map(o=>CR(t.ut,o)),i=An.fromMillis(e.localWriteTimeMs);return new pR(e.batchId,i,n,r)}function Ly(t){const e=yd(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?yd(t.lastLimboFreeSnapshotVersion):Fe.min();let r;return r=void 0!==t.query.documents?(Ne(1===(o=t.query).documents.length),Wi(tf(Fz(o.documents[0])))):function(o){return Wi(jz(o))}(t.query),new lc(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Ar.fromBase64String(t.resumeToken));var o}function qz(t,e){const n=md(e.snapshotVersion),r=md(e.lastLimboFreeSnapshotVersion);let i;i=dE(e.target)?Bz(t.ut,e.target):wR(t.ut,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:fd(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function PR(t){const e=jz({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?pE(e,e.limit,"L"):e}function ER(t,e){return new gR(e.largestBatchId,CR(t.ut,e.overlayMutation))}function Kz(t,e){const n=e.path.lastSegment();return[t,Ei(e.path.popLast()),n]}function Zz(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:md(r.readTime),documentKey:Ei(r.documentKey.path),largestBatchId:r.largestBatchId}}class Qye{getBundleMetadata(e,n){return Yz(e).get(n).next(r=>{if(r)return{id:(o=r).bundleId,createTime:yd(o.createTime),version:o.version};var o})}saveBundleMetadata(e,n){return Yz(e).put({bundleId:(i=n).id,createTime:md(rr(i.createTime)),version:i.version});var i}getNamedQuery(e,n){return Qz(e).get(n).next(r=>{if(r)return{name:(o=r).name,query:PR(o.bundledQuery),readTime:yd(o.readTime)};var o})}saveNamedQuery(e,n){return Qz(e).put({name:(i=n).name,readTime:md(rr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function Yz(t){return jr(t,"bundles")}function Qz(t){return jr(t,"namedQueries")}class CE{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){return new CE(e,n.uid||"")}getOverlay(e,n){return Vy(e).get(Kz(this.userId,n)).next(r=>r?ER(this.serializer,r):null)}getOverlays(e,n){const r=pa();return B.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((o,s)=>{const a=new gR(n,s);i.push(this.lt(e,a))}),B.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(s=>i.add(Ei(s.getCollectionPath())));const o=[];return i.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(Vy(e).H("collectionPathOverlayIndex",a))}),B.waitFor(o)}getOverlaysForCollection(e,n,r){const i=pa(),o=Ei(n),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Vy(e).W("collectionPathOverlayIndex",s).next(a=>{for(const c of a){const l=ER(this.serializer,c);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const o=pa();let s;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Vy(e).Y({index:"collectionGroupOverlayIndex",range:a},(c,l,h)=>{const f=ER(this.serializer,l);o.size()<i||f.largestBatchId===s?(o.set(f.getKey(),f),s=f.largestBatchId):h.done()}).next(()=>o)}lt(e,n){return Vy(e).put(function(i,o,s){const[a,c,l]=Kz(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Fy(i.ut,s.mutation)}}(this.serializer,this.userId,n))}}function Vy(t){return jr(t,"documentOverlays")}class Cd{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Wn(e.integerValue));else if("doubleValue"in e){const r=Wn(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),yy(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),"string"==typeof r?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(oc(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?jH(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):Ae()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),ve.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}function Xye(t){if(0===t)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function Xz(t){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const s=Xye(255&r[o]);if(i+=s,8!==s)break}return i}(t);return Math.ceil(e/8)}Cd.St=new Cd;class Jye{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Dt(r.value),r=n.next();this.Ct()}vt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{const i=n.codePointAt(0);this.Dt(240|i>>>18),this.Dt(128|63&i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i)}}this.Ct()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Nt(e){const n=this.Bt(e),r=Xz(n);this.Lt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}kt(e){const n=this.Bt(e),r=Xz(n);this.Lt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=0!=(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Dt(e){const n=255&e;0===n?(this.Qt(0),this.Qt(255)):255===n?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){const n=255&e;0===n?(this.$t(0),this.$t(255)):255===n?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class eve{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class tve{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Uy{constructor(){this.Wt=new Jye,this.Gt=new eve(this.Wt),this.zt=new tve(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class wd{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Ht(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new wd(this.indexId,this.documentKey,this.arrayValue,r)}}function Fl(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=Jz(t.arrayValue,e.arrayValue),0!==n?n:(n=Jz(t.directionalValue,e.directionalValue),0!==n?n:ve.comparator(t.documentKey,e.documentKey)))}function Jz(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(0!==r)return r}return t.length-e.length}class e8{constructor(e){this.Jt=new Zt((n,r)=>Cn.comparator(n.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(Ne(e.collectionGroup===this.collectionId),this.Xt)return!1;const n=XS(e);if(void 0!==n&&!this.tn(n))return!1;const r=ud(e);let i=new Set,o=0,s=0;for(;o<r.length&&this.tn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const c=r[o];if(!this.nn(a,c)||!this.rn(this.Yt[s++],c))return!1}++o}for(;o<r.length;++o)if(s>=this.Yt.length||!this.rn(this.Yt[s++],r[o]))return!1;return!0}sn(){if(this.Xt)return null;let e=new Zt(Cn.comparator);const n=[];for(const r of this.Zt)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)n.push(new dd(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new dd(r.field,0))}for(const r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new dd(r.field,"asc"===r.dir?0:1)));return new Yp(Yp.UNKNOWN_ID,this.collectionId,n,Qp.empty())}tn(e){for(const n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function t8(t){var e,n;if(Ne(t instanceof wt||t instanceof zt),t instanceof wt){if(t instanceof JH){const i=(null===(n=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(o=>wt.create(t.field,"==",o)))||[];return zt.create(i,"or")}return t}const r=t.filters.map(i=>t8(i));return zt.create(r,t.op)}function nve(t){if(0===t.getFilters().length)return[];const e=IR(t8(t));return Ne(n8(e)),MR(e)||OR(e)?[e]:e.getFilters()}function MR(t){return t instanceof wt}function OR(t){return t instanceof zt&&sR(t)}function n8(t){return MR(t)||OR(t)||function(n){if(n instanceof zt&&oR(n)){for(const r of n.getFilters())if(!MR(r)&&!OR(r))return!1;return!0}return!1}(t)}function IR(t){if(Ne(t instanceof wt||t instanceof zt),t instanceof wt)return t;if(1===t.filters.length)return IR(t.filters[0]);const e=t.filters.map(r=>IR(r));let n=zt.create(e,t.op);return n=wE(n),n8(n)?n:(Ne(n instanceof zt),Ne(ef(n)),Ne(n.filters.length>1),n.filters.reduce((r,i)=>bR(r,i)))}function bR(t,e){let n;return Ne(t instanceof wt||t instanceof zt),Ne(e instanceof wt||e instanceof zt),n=t instanceof wt?e instanceof wt?zt.create([t,e],"and"):r8(t,e):e instanceof wt?r8(e,t):function(i,o){if(Ne(i.filters.length>0&&o.filters.length>0),ef(i)&&ef(o))return YH(i,o.getFilters());const s=oR(i)?i:o,a=oR(i)?o:i,c=s.filters.map(l=>bR(l,a));return zt.create(c,"or")}(t,e),wE(n)}function r8(t,e){if(ef(e))return YH(e,t.getFilters());{const n=e.filters.map(r=>bR(t,r));return zt.create(n,"or")}}function wE(t){if(Ne(t instanceof wt||t instanceof zt),t instanceof wt)return t;const e=t.getFilters();if(1===e.length)return wE(e[0]);if(KH(t))return t;const n=e.map(i=>wE(i)),r=[];return n.forEach(i=>{i instanceof wt?r.push(i):i instanceof zt&&(i.op===t.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:zt.create(r,t.op)}class rve{constructor(){this.on=new TR}addToCollectionParentIndex(e,n){return this.on.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(bo.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(bo.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class TR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Zt(St.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Zt(St.comparator)).toArray()}}const PE=new Uint8Array(0);class ive{constructor(e,n){this.user=e,this.databaseId=n,this._n=new TR,this.an=new ac(r=>fd(r),(r,i)=>My(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});const o={collectionId:r,parent:Ei(i)};return i8(e).put(o)}return B.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[wH(n),""],!1,!0);return i8(e).W(i).next(o=>{for(const s of o){if(s.collectionId!==n)break;r.push(da(s.parent))}return r})}addFieldIndex(e,n){const r=By(e),i={indexId:(a=n).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;delete i.indexId;const o=r.add(i);if(n.indexState){const s=pf(e);return o.next(a=>{s.put(Zz(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const r=By(e),i=pf(e),o=hf(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=By(e),r=hf(e),i=pf(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return B.forEach(this.un(n),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const o=new e8(r).sn();if(null!=o)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){const r=hf(e);let i=!0;const o=new Map;return B.forEach(this.un(n),s=>this.cn(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=ot();const a=[];return B.forEach(o,(c,l)=>{var H;de("IndexedDbIndexManager",`Using index ${H=c,`id=${H.indexId}|cg=${H.collectionGroup}|f=${H.fields.map($=>`${$.fieldPath}:${$.kind}`).join(",")}`} to execute ${fd(n)}`);const h=function(H,$){const pe=XS($);if(void 0===pe)return null;for(const Oe of hE(H,pe.fieldPath))switch(Oe.op){case"array-contains-any":return Oe.value.arrayValue.values||[];case"array-contains":return[Oe.value]}return null}(l,c),f=function(H,$){const pe=new Map;for(const Oe of ud($))for(const at of hE(H,Oe.fieldPath))switch(at.op){case"==":case"in":pe.set(Oe.fieldPath.canonicalString(),at.value);break;case"not-in":case"!=":return pe.set(Oe.fieldPath.canonicalString(),at.value),Array.from(pe.values())}return null}(l,c),_=function(H,$){const pe=[];let Oe=!0;for(const at of ud($)){const Yt=0===at.kind?ez(H,at.fieldPath,H.startAt):tz(H,at.fieldPath,H.startAt);pe.push(Yt.value),Oe&&(Oe=Yt.inclusive)}return new kl(pe,Oe)}(l,c),v=function(H,$){const pe=[];let Oe=!0;for(const at of ud($)){const Yt=0===at.kind?tz(H,at.fieldPath,H.endAt):ez(H,at.fieldPath,H.endAt);pe.push(Yt.value),Oe&&(Oe=Yt.inclusive)}return new kl(pe,Oe)}(l,c),E=this.ln(c,l,_),I=this.ln(c,l,v),b=this.hn(c,l,f),L=this.Pn(c.indexId,h,E,_.inclusive,I,v.inclusive,b);return B.forEach(L,N=>r.j(N,n.limit).next(H=>{H.forEach($=>{const pe=ve.fromSegments($.documentKey);s.has(pe)||(s=s.add(pe),a.push(pe))})}))}).next(()=>a)}return B.resolve(null)})}un(e){let n=this.an.get(e);return n||(n=0===e.filters.length?[e]:nve(zt.create(e.filters,"and")).map(r=>cR(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,r,i,o,s,a){const c=(null!=n?n.length:1)*Math.max(r.length,o.length),l=c/(null!=n?n.length:1),h=[];for(let f=0;f<c;++f){const _=n?this.In(n[f/l]):PE,v=this.Tn(e,_,r[f%l],i),E=this.En(e,_,o[f%l],s),I=a.map(b=>this.Tn(e,_,b,!0));h.push(...this.createRange(v,E,I))}return h}Tn(e,n,r,i){const o=new wd(e,ve.empty(),n,r);return i?o:o.Ht()}En(e,n,r,i){const o=new wd(e,ve.empty(),n,r);return i?o.Ht():o}cn(e,n){const r=new e8(n),i=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(const a of o)r.en(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let r=2;const i=this.un(n);return B.forEach(i,o=>this.cn(e,o).next(s=>{s?0!==r&&s.fields.length<function(c){let l=new Zt(Cn.comparator),h=!1;for(const f of c.filters)for(const _ of f.getFlattenedFilters())_.field.isKeyField()||("array-contains"===_.op||"array-contains-any"===_.op?h=!0:l=l.add(_.field));for(const f of c.orderBy)f.field.isKeyField()||(l=l.add(f.field));return l.size+(h?1:0)}(o)&&(r=1):r=0})).next(()=>null!==n.limit&&i.length>1&&2===r?1:r)}dn(e,n){const r=new Uy;for(const i of ud(e)){const o=n.data.field(i.fieldPath);if(null==o)return null;const s=r.jt(i.kind);Cd.St.ht(o,s)}return r.Ut()}In(e){const n=new Uy;return Cd.St.ht(e,n.jt(0)),n.Ut()}An(e,n){const r=new Uy;return Cd.St.ht(pd(this.databaseId,n),r.jt(function(o){const s=ud(o);return 0===s.length?0:s[s.length-1].kind}(e))),r.Ut()}hn(e,n,r){if(null===r)return[];let i=[];i.push(new Uy);let o=0;for(const s of ud(e)){const a=r[o++];for(const c of i)if(this.Rn(n,s.fieldPath)&&wy(a))i=this.Vn(i,s,a);else{const l=c.jt(s.kind);Cd.St.ht(a,l)}}return this.mn(i)}ln(e,n,r){return this.hn(e,n,r.position)}mn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Ut();return n}Vn(e,n,r){const i=[...e],o=[];for(const s of r.arrayValue.values||[])for(const a of i){const c=new Uy;c.seed(a.Ut()),Cd.St.ht(s,c.jt(n.kind)),o.push(c)}return o}Rn(e,n){return!!e.filters.find(r=>r instanceof wt&&r.field.isEqual(n)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,n){const r=By(e),i=pf(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(o=>{const s=[];return B.forEach(o,a=>i.get([a.indexId,this.uid]).next(c=>{s.push(function(h,f){const _=f?new Qp(f.sequenceNumber,new bo(yd(f.readTime),new ve(da(f.documentKey)),f.largestBatchId)):Qp.empty(),v=h.fields.map(([E,I])=>new dd(Cn.fromServerFormat(E),I));return new Yp(h.indexId,h.collectionGroup,v,_)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==o?o:Ke(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=By(e),o=pf(e);return this.fn(e).next(s=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>B.forEach(a,c=>o.put(Zz(c.indexId,this.user,s,r)))))}updateIndexEntries(e,n){const r=new Map;return B.forEach(n,(i,o)=>{const s=r.get(i.collectionGroup);return(s?B.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),B.forEach(a,c=>this.gn(e,i,c).next(l=>{const h=this.pn(o,c);return l.isEqual(h)?B.resolve():this.yn(e,o,c,l,h)}))))})}wn(e,n,r,i){return hf(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.An(r,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,r,i){return hf(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.An(r,n.key),n.key.path.toArray()])}gn(e,n,r){const i=hf(e);let o=new Zt(Fl);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,n)])},(s,a)=>{o=o.add(new wd(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}pn(e,n){let r=new Zt(Fl);const i=this.dn(n,e);if(null==i)return r;const o=XS(n);if(null!=o){const s=e.data.field(o.fieldPath);if(wy(s))for(const a of s.arrayValue.values||[])r=r.add(new wd(n.indexId,e.key,this.In(a),i))}else r=r.add(new wd(n.indexId,e.key,PE,i));return r}yn(e,n,r,i,o){de("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const s=[];return function(c,l,h,f,_){const v=c.getIterator(),E=l.getIterator();let I=Xp(v),b=Xp(E);for(;I||b;){let L=!1,N=!1;if(I&&b){const H=h(I,b);H<0?N=!0:H>0&&(L=!0)}else null!=I?N=!0:L=!0;L?(f(b),b=Xp(E)):N?(_(I),I=Xp(v)):(I=Xp(v),b=Xp(E))}}(i,o,Fl,a=>{s.push(this.wn(e,n,r,a))},a=>{s.push(this.Sn(e,n,r,a))}),B.waitFor(s)}fn(e){let n=1;return pf(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,a)=>Fl(s,a)).filter((s,a,c)=>!a||0!==Fl(s,c[a-1]));const i=[];i.push(e);for(const s of r){const a=Fl(s,e),c=Fl(s,n);if(0===a)i[0]=e.Ht();else if(a>0&&c<0)i.push(s),i.push(s.Ht());else if(c>0)break}i.push(n);const o=[];for(let s=0;s<i.length;s+=2){if(this.bn(i[s],i[s+1]))return[];o.push(IDBKeyRange.bound([i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,PE,[]],[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,PE,[]]))}return o}bn(e,n){return Fl(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(o8)}getMinOffset(e,n){return B.mapArray(this.un(n),r=>this.cn(e,r).next(i=>i||Ae())).next(o8)}}function i8(t){return jr(t,"collectionParents")}function hf(t){return jr(t,"indexEntries")}function By(t){return jr(t,"indexConfiguration")}function pf(t){return jr(t,"indexState")}function o8(t){Ne(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;JS(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new bo(e.readTime,e.documentKey,n)}const s8={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Mi{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Mi(e,Mi.DEFAULT_COLLECTION_PERCENTILE,Mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function a8(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const c=r.Y({range:s},(h,f,_)=>(a++,_.delete()));o.push(c.next(()=>{Ne(1===a)}));const l=[];for(const h of n.mutations){const f=DH(e,h.key.path,n.batchId);o.push(i.delete(f)),l.push(h.key)}return B.waitFor(o).next(()=>l)}function EE(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ae();e=t.noDocument}return JSON.stringify(e).length}Mi.DEFAULT_COLLECTION_PERCENTILE=10,Mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mi.DEFAULT=new Mi(41943040,Mi.DEFAULT_COLLECTION_PERCENTILE,Mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mi.DISABLED=new Mi(-1,0,0);class ME{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}static ct(e,n,r,i){Ne(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new ME(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ll(e).Y({index:"userMutationsIndex",range:r},(i,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const o=ff(e),s=Ll(e);return s.add({}).next(a=>{Ne("number"==typeof a);const c=new pR(a,n,r,i),l=function(v,E,I){const b=I.baseMutations.map(N=>Fy(v.ut,N)),L=I.mutations.map(N=>Fy(v.ut,N));return{userId:E,batchId:I.batchId,localWriteTimeMs:I.localWriteTime.toMillis(),baseMutations:b,mutations:L}}(this.serializer,this.userId,c),h=[];let f=new Zt((_,v)=>Ke(_.canonicalString(),v.canonicalString()));for(const _ of i){const v=DH(this.userId,_.key.path,a);f=f.add(_.key.path.popLast()),h.push(s.put(l)),h.push(o.put(v,Gme))}return f.forEach(_=>{h.push(this.indexManager.addToCollectionParentIndex(e,_))}),e.addOnCommittedListener(()=>{this.Dn[a]=c.keys()}),B.waitFor(h).next(()=>c)})}lookupMutationBatch(e,n){return Ll(e).get(n).next(r=>r?(Ne(r.userId===this.userId),vd(this.serializer,r)):null)}Cn(e,n){return this.Dn[n]?B.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Dn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Ll(e).Y({index:"userMutationsIndex",range:i},(s,a,c)=>{a.userId===this.userId&&(Ne(a.batchId>=r),o=vd(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ll(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ll(e).W("userMutationsIndex",n).next(r=>r.map(i=>vd(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=iE(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return ff(e).Y({range:i},(s,a,c)=>{const[l,h,f]=s,_=da(h);if(l===this.userId&&n.path.isEqual(_))return Ll(e).get(f).next(v=>{if(!v)throw Ae();Ne(v.userId===this.userId),o.push(vd(this.serializer,v))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Zt(Ke);const i=[];return n.forEach(o=>{const s=iE(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=ff(e).Y({range:a},(l,h,f)=>{const[_,v,E]=l,I=da(v);_===this.userId&&o.path.isEqual(I)?r=r.add(E):f.done()});i.push(c)}),B.waitFor(i).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=iE(this.userId,r),s=IDBKeyRange.lowerBound(o);let a=new Zt(Ke);return ff(e).Y({range:s},(c,l,h)=>{const[f,_,v]=c,E=da(_);f===this.userId&&r.isPrefixOf(E)?E.length===i&&(a=a.add(v)):h.done()}).next(()=>this.vn(e,a))}vn(e,n){const r=[],i=[];return n.forEach(o=>{i.push(Ll(e).get(o).next(s=>{if(null===s)throw Ae();Ne(s.userId===this.userId),r.push(vd(this.serializer,s))}))}),B.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return a8(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),B.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return B.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return ff(e).Y({range:r},(o,s,a)=>{if(o[0]===this.userId){const c=da(o[1]);i.push(c)}else a.done()}).next(()=>{Ne(0===i.length)})})}containsKey(e,n){return c8(e,this.userId,n)}Mn(e){return l8(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function c8(t,e,n){const r=iE(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return ff(t).Y({range:o,J:!0},(a,c,l)=>{const[h,f,_]=a;h===e&&f===i&&(s=!0),l.done()}).next(()=>s)}function Ll(t){return jr(t,"mutations")}function ff(t){return jr(t,"documentMutations")}function l8(t){return jr(t,"mutationQueues")}class Pd{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Pd(0)}static Nn(){return new Pd(-1)}}class ove{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new Pd(n.highestTargetId);return n.highestTargetId=r.next(),this.Ln(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>Fe.fromTimestamp(new An(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Ln(e,i)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.qn(n,r),this.Ln(e,r))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>gf(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(Ne(r.targetCount>0),r.targetCount-=1,this.Ln(e,r)))}removeTargets(e,n,r){let i=0;const o=[];return gf(e).Y((s,a)=>{const c=Ly(a);c.sequenceNumber<=n&&null===r.get(c.targetId)&&(i++,o.push(this.removeTargetData(e,c)))}).next(()=>B.waitFor(o)).next(()=>i)}forEachTarget(e,n){return gf(e).Y((r,i)=>{const o=Ly(i);n(o)})}Bn(e){return u8(e).get("targetGlobalKey").next(n=>(Ne(null!==n),n))}Ln(e,n){return u8(e).put("targetGlobalKey",n)}kn(e,n){return gf(e).put(qz(this.serializer,n))}qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=fd(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return gf(e).Y({range:i,index:"queryTargetsIndex"},(s,a,c)=>{const l=Ly(a);My(n,l.target)&&(o=l,c.done())}).next(()=>o)}addMatchingKeys(e,n,r){const i=[],o=Vl(e);return n.forEach(s=>{const a=Ei(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),B.waitFor(i)}removeMatchingKeys(e,n,r){const i=Vl(e);return B.forEach(n,o=>{const s=Ei(o.path);return B.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){const r=Vl(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Vl(e);let o=ot();return i.Y({range:r,J:!0},(s,a,c)=>{const l=da(s[1]),h=new ve(l);o=o.add(h)}).next(()=>o)}containsKey(e,n){const r=Ei(n.path),i=IDBKeyRange.bound([r],[wH(r)],!1,!0);let o=0;return Vl(e).Y({index:"documentTargetsIndex",J:!0,range:i},([s,a],c,l)=>{0!==s&&(o++,l.done())}).next(()=>o>0)}_t(e,n){return gf(e).get(n).next(r=>r?Ly(r):null)}}function gf(t){return jr(t,"targets")}function u8(t){return jr(t,"targetGlobal")}function Vl(t){return jr(t,"targetDocuments")}function d8([t,e],[n,r]){const i=Ke(t,n);return 0===i?Ke(e,r):i}class sve{constructor(e){this.Qn=e,this.buffer=new Zt(d8),this.Kn=0}$n(){return++this.Kn}Un(e){const n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();d8(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class h8{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var n=this;de("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,x.Z)(function*(){n.Wn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){bl(r)?de("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Il(r)}yield n.Gn(3e5)}))}}class ave{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return B.resolve(To._e);const r=new sve(n);return this.zn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.zn.Hn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(s8)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),s8):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let r,i,o,s,a,c,l;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(l=Date.now(),Kp()<=mi.in.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-h}ms\n\tDetermined least recently used ${i} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(c-a)+`ms\n\tRemoved ${f} documents in `+(l-c)+`ms\nTotal Duration: ${l-h}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}class cve{constructor(e,n){this.db=e,this.garbageCollector=function p8(t,e){return new ave(t,e)}(this,n)}jn(e){const n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Yn(e){let n=0;return this.Hn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(r,i)=>n(i))}addReference(e,n,r){return OE(e,r)}removeReference(e,n,r){return OE(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return OE(e,n)}Xn(e,n){return function(i,o){let s=!1;return l8(i).Z(a=>c8(i,a,o).next(c=>(c&&(s=!0),B.resolve(!c)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Zn(e,(s,a)=>{if(a<=n){const c=this.Xn(e,s).next(l=>{if(!l)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,Fe.min()),Vl(e).delete([0,Ei(s.path)])))});i.push(c)}}).next(()=>B.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return OE(e,n)}Zn(e,n){const r=Vl(e);let i,o=To._e;return r.Y({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:l})=>{0===s?(o!==To._e&&n(new ve(da(i)),o),o=l,i=c):o=To._e}).next(()=>{o!==To._e&&n(new ve(da(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function OE(t,e){return Vl(t).put((i=t.currentSequenceNumber,{targetId:0,path:Ei(e.path),sequenceNumber:i}));var i}class f8{constructor(){this.changes=new ac(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class lve{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ed(e).put(r)}removeEntry(e,n,r){return Ed(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],vE(s),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.er(e,r)))}getEntry(e,n){let r=wn.newInvalidDocument(n);return Ed(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(jy(n))},(i,o)=>{r=this.tr(n,o)}).next(()=>r)}nr(e,n){let r={size:0,document:wn.newInvalidDocument(n)};return Ed(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(jy(n))},(i,o)=>{r={document:this.tr(n,o),size:EE(o)}}).next(()=>r)}getEntries(e,n){let r=co();return this.rr(e,n,(i,o)=>{const s=this.tr(i,o);r=r.insert(i,s)}).next(()=>r)}ir(e,n){let r=co(),i=new dn(ve.comparator);return this.rr(e,n,(o,s)=>{const a=this.tr(o,s);r=r.insert(o,a),i=i.insert(o,EE(s))}).next(()=>({documents:r,sr:i}))}rr(e,n,r){if(n.isEmpty())return B.resolve();let i=new Zt(y8);n.forEach(c=>i=i.add(c));const o=IDBKeyRange.bound(jy(i.first()),jy(i.last())),s=i.getIterator();let a=s.getNext();return Ed(e).Y({index:"documentKeyIndex",range:o},(c,l,h)=>{const f=ve.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&y8(a,f)<0;)r(a,null),a=s.getNext();a&&a.isEqual(f)&&(r(a,l),a=s.hasNext()?s.getNext():null),a?h.U(jy(a)):h.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,o){const s=n.path,a=[s.popLast().toArray(),s.lastSegment(),vE(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ed(e).W(IDBKeyRange.bound(a,c,!0)).next(l=>{o?.incrementDocumentReadCount(l.length);let h=co();for(const f of l){const _=this.tr(ve.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);_.isFoundDocument()&&(Iy(n,_)||i.has(_.key))&&(h=h.insert(_.key,_))}return h})}getAllFromCollectionGroup(e,n,r,i){let o=co();const s=m8(n,r),a=m8(n,bo.max());return Ed(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,l,h)=>{const f=this.tr(ve.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(f.key,f),o.size===i&&h.done()}).next(()=>o)}newChangeBuffer(e){return new uve(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return _8(e).get("remoteDocumentGlobalKey").next(n=>(Ne(!!n),n))}er(e,n){return _8(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){const r=function Yye(t,e){let n;if(e.document)n=Uz(t.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ve.fromSegments(e.noDocument.path),i=yd(e.noDocument.readTime);n=wn.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ae();{const r=ve.fromSegments(e.unknownDocument.path),i=yd(e.unknownDocument.version);n=wn.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const o=new An(i[0],i[1]);return Fe.fromTimestamp(o)}(e.readTime)),n}(this.serializer,n);if(!r.isNoDocument()||!r.version.isEqual(Fe.min()))return r}return wn.newInvalidDocument(e)}}function g8(t){return new lve(t)}class uve extends f8{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new ac(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Zt((o,s)=>Ke(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ar.get(o);if(n.push(this._r.removeEntry(e,o,a.readTime)),s.isValidDocument()){const c=Gz(this._r.serializer,s);i=i.add(o.path.popLast());const l=EE(c);r+=l-a.size,n.push(this._r.addEntry(e,o,c))}else if(r-=a.size,this.trackRemovals){const c=Gz(this._r.serializer,s.convertToNoDocument(Fe.min()));n.push(this._r.addEntry(e,o,c))}}),i.forEach(o=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,o))}),n.push(this._r.updateMetadata(e,r)),B.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(r=>(this.ar.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:r,sr:i})=>(i.forEach((o,s)=>{this.ar.set(o,{size:s,readTime:r.get(o).readTime})}),r))}}function _8(t){return jr(t,"remoteDocumentGlobal")}function Ed(t){return jr(t,"remoteDocumentsV14")}function jy(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function m8(t,e){const n=e.documentKey.path.toArray();return[t,vE(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function y8(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=Ke(n[o],r[o]),i)return i;return i=Ke(n.length,r.length),i||(i=Ke(n[n.length-2],r[r.length-2]),i||Ke(n[n.length-1],r[r.length-1]))}class dve{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class v8{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Dy(r.mutation,i,ao.empty(),An.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ot()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ot()){const i=pa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=by();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=pa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ot()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=co();const s=Ty(),a=Ty();return n.forEach((c,l)=>{const h=r.get(l.key);i.has(l.key)&&(void 0===h||h.mutation instanceof cc)?o=o.insert(l.key,l):void 0!==h?(s.set(l.key,h.mutation.getFieldMask()),Dy(h.mutation,l,h.mutation.getFieldMask(),An.now())):s.set(l.key,ao.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var f;return a.set(l,new dve(h,null!==(f=s.get(l))&&void 0!==f?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ty();let i=new dn((s,a)=>s-a),o=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(c=>{const l=n.get(c);if(null===l)return;let h=r.get(c)||ao.empty();h=a.applyToLocalView(l,h),r.set(c,h);const f=(i.get(a.batchId)||ot()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,h=c.value,f=uz();h.forEach(_=>{if(!o.has(_)){const v=vz(n.get(_),r.get(_));null!==v&&f.set(_,v),o=o.add(_)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,f))}return B.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return ve.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):lR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var s}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):B.resolve(pa());let a=-1,c=o;return s.next(l=>B.forEach(l,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(h)?B.resolve():this.remoteDocumentCache.getEntry(e,h).next(_=>{c=c.insert(h,_)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,ot())).next(h=>({batchId:a,changes:lz(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(r=>{let i=by();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=by();return this.indexManager.getCollectionParents(e,o).next(a=>B.forEach(a,c=>{const l=(f=n,_=c.child(o),new sc(_,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt));var f,_;return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((f,_)=>{s=s.insert(f,_)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,l)=>{const h=l.getKey();null===s.get(h)&&(s=s.insert(h,wn.newInvalidDocument(h)))});let a=by();return s.forEach((c,l)=>{const h=o.get(c);void 0!==h&&Dy(h.mutation,l,ao.empty(),An.now()),Iy(n,l)&&(a=a.insert(c,l))}),a})}}class hve{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return B.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(i=n).id,version:i.version,createTime:rr(i.createTime)}),B.resolve();var i}getNamedQuery(e,n){return B.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(i=n).name,query:PR(i.bundledQuery),readTime:rr(i.readTime)}),B.resolve();var i}}class pve{constructor(){this.overlays=new dn(ve.comparator),this.lr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=pa();return B.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.lt(e,n,o)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=pa(),o=n.length+1,s=new ve(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new dn((l,h)=>l-h);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);null===h&&(h=pa(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}const a=pa(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return B.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new gR(n,r));let o=this.lr.get(n);void 0===o&&(o=ot(),this.lr.set(n,o)),this.lr.set(n,o.add(r.key))}}class AR{constructor(){this.hr=new Zt($r.Pr),this.Ir=new Zt($r.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new $r(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new $r(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new ve(new St([])),r=new $r(n,e),i=new $r(n,e+1),o=[];return this.Ir.forEachInRange([r,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new ve(new St([])),r=new $r(n,e),i=new $r(n,e+1);let o=ot();return this.Ir.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new $r(e,0),r=this.hr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class $r{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return ve.comparator(e.key,n.key)||Ke(e.gr,n.gr)}static Tr(e,n){return Ke(e.gr,n.gr)||ve.comparator(e.key,n.key)}}class fve{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Zt($r.Pr)}checkEmpty(e){return B.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.pr;this.pr++;const s=new pR(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.yr=this.yr.add(new $r(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(s)}lookupMutationBatch(e,n){return B.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Sr(n+1),o=i<0?0:i;return B.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new $r(n,0),i=new $r(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,i],s=>{const a=this.wr(s.gr);o.push(a)}),B.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Zt(Ke);return n.forEach(i=>{const o=new $r(i,0),s=new $r(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{r=r.add(a.gr)})}),B.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ve.isDocumentKey(o)||(o=o.child(""));const s=new $r(new ve(o),0);let a=new Zt(Ke);return this.yr.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.gr)),!0)},s),B.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){Ne(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return B.forEach(n.mutations,i=>{const o=new $r(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new $r(n,0),i=this.yr.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return B.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class gve{constructor(e){this.Cr=e,this.docs=new dn(ve.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():wn.newInvalidDocument(n))}getEntries(e,n){let r=co();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():wn.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=co();const s=n.path,a=new ve(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:h}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||JS(EH(h),r)<=0||(i.has(h.key)||Iy(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return B.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ae()}vr(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new _ve(this)}getSize(e){return B.resolve(this.size)}}class _ve extends f8{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class mve{constructor(e){this.persistence=e,this.Fr=new ac(n=>fd(n),My),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.Mr=0,this.Or=new AR,this.targetCount=0,this.Nr=Pd.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),B.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Pd(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.kn(n),B.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),B.waitFor(o).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),B.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Or.containsKey(n))}}class DR{constructor(e,n){this.Br={},this.overlays={},this.Lr=new To(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new mve(this),this.indexManager=new rve,this.remoteDocumentCache=new gve(r=>this.referenceDelegate.Qr(r)),this.serializer=new Wz(n),this.Kr=new hve(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pve,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new fve(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){de("MemoryPersistence","Starting transaction:",e);const i=new yve(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(e,n){return B.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class yve extends OH{constructor(e){super(),this.currentSequenceNumber=e}}class IE{constructor(e){this.persistence=e,this.Gr=new AR,this.zr=null}static jr(e){return new IE(e)}get Hr(){if(this.zr)return this.zr;throw Ae()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),B.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Hr,r=>{const i=ve.fromPath(r);return this.Jr(e,i).next(o=>{o||n.removeEntry(i,Fe.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return B.or([()=>B.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class vve{constructor(e){this.serializer=e}N(e,n,r,i){const o=new rE("createOrUpgrade",n);var c;r<1&&i>=1&&(e.createObjectStore("owner"),(c=e).createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",AH,{unique:!0}),c.createObjectStore("documentMutations"),C8(e),function(c){c.createObjectStore("remoteDocuments")}(e));let s=B.resolve();return r<3&&i>=3&&(0!==r&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),C8(e)),s=s.next(()=>function(c){const l=c.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Fe.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",h)}(o))),r<4&&i>=4&&(0!==r&&(s=s.next(()=>function(c,l){return l.store("mutations").W().next(h=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",AH,{unique:!0});const f=l.store("mutations"),_=h.map(v=>f.put(v));return B.waitFor(_)})}(e,o))),s=s.next(()=>{!function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(s=s.next(()=>this.Zr(o))),r<6&&i>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(o)))),r<7&&i>=7&&(s=s.next(()=>this.ei(o))),r<8&&i>=8&&(s=s.next(()=>this.ti(e,o))),r<9&&i>=9&&(s=s.next(()=>{!function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(s=s.next(()=>this.ni(o))),r<11&&i>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{!function(c){const l=c.createObjectStore("documentOverlays",{keyPath:iye});l.createIndex("collectionPathOverlayIndex",oye,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",sye,{unique:!1})}(e)})),r<13&&i>=13&&(s=s.next(()=>function(c){const l=c.createObjectStore("remoteDocumentsV14",{keyPath:qme});l.createIndex("documentKeyIndex",Kme),l.createIndex("collectionGroupIndex",Zme)}(e)).next(()=>this.ri(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.ii(e,o))),r<15&&i>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:eye}).createIndex("sequenceNumberIndex",tye,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:nye}).createIndex("documentKeyIndex",rye,{unique:!1})}(e))),s}Xr(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=EE(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>B.forEach(i,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",s).next(a=>B.forEach(a,c=>{Ne(c.userId===o.userId);const l=vd(this.serializer,c);return a8(e,o.userId,l).next(()=>{})}))}))}ei(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.Y((s,a)=>{const c=new St(s),l=[0,Ei(c)];o.push(n.get(l).next(h=>h?B.resolve():n.put({targetId:0,path:Ei(c),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>B.waitFor(o))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:Jme});const r=n.store("collectionParents"),i=new TR,o=s=>{if(i.add(s)){const a=s.lastSegment(),c=s.popLast();return r.put({collectionId:a,parent:Ei(c)})}};return n.store("remoteDocuments").Y({J:!0},(s,a)=>{const c=new St(s);return o(c.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([s,a,c],l)=>{const h=da(a);return o(h.popLast())}))}ni(e){const n=e.store("targets");return n.Y((r,i)=>{const o=Ly(i),s=qz(this.serializer,o);return n.put(s)})}ri(e,n){const r=n.store("remoteDocuments"),i=[];return r.Y((o,s)=>{const a=n.store("remoteDocumentsV14"),c=(f=s,f.document?new ve(St.fromString(f.document.name).popFirst(5)):f.noDocument?ve.fromSegments(f.noDocument.path):f.unknownDocument?ve.fromSegments(f.unknownDocument.path):Ae()).path.toArray(),l={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var f;i.push(a.put(l))}).next(()=>B.waitFor(i))}ii(e,n){const r=n.store("mutations"),i=g8(this.serializer),o=new DR(IE.jr,this.serializer.ut);return r.W().next(s=>{const a=new Map;return s.forEach(c=>{var l;let h=null!==(l=a.get(c.userId))&&void 0!==l?l:ot();vd(this.serializer,c).keys().forEach(f=>h=h.add(f)),a.set(c.userId,h)}),B.forEach(a,(c,l)=>{const h=new Br(l),f=CE.ct(this.serializer,h),_=o.getIndexManager(h),v=ME.ct(h,this.serializer,_,o.referenceDelegate);return new v8(i,v,f,_).recalculateAndSaveOverlaysForDocumentKeys(new nR(n,To._e),c).next()})})}}function C8(t){t.createObjectStore("targetDocuments",{keyPath:Qme}).createIndex("documentTargetsIndex",Xme,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Yme,{unique:!0}),t.createObjectStore("targetGlobal")}const SR="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class RR{constructor(e,n,r,i,o,s,a,c,l,h,f=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.si=o,this.window=s,this.document=a,this.oi=l,this._i=h,this.ai=f,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=_=>Promise.resolve(),!RR.D())throw new le(W.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new cve(this,i),this.Ii=n+"main",this.serializer=new Wz(c),this.Ti=new Ss(this.Ii,this.ai,new vve(this.serializer)),this.qr=new ove(this.referenceDelegate,this.serializer),this.remoteDocumentCache=g8(this.serializer),this.Kr=new Qye,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===h&&nr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new le(W.FAILED_PRECONDITION,SR);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new To(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var n=this;return this.Pi=function(){var r=(0,x.Z)(function*(i){if(n.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var n=(0,x.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,x.Z)(function*(){n.started&&(yield n.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>TE(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(bl(e))return de("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return de("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return $y(e).get("owner").next(n=>B.resolve(this.wi(n)))}Si(e){return TE(e).delete(this.clientId)}bi(){var e=this;return(0,x.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=jr(r,"clientMetadata");return i.W().next(o=>{const s=e.Ci(o,18e5),a=o.filter(c=>-1===s.indexOf(c));return B.forEach(a,c=>i.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Ei)for(const r of n)e.Ei.removeItem(e.vi(r.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?B.resolve(!0):$y(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new le(W.FAILED_PRECONDITION,SR);return!1}}return!(!this.networkEnabled||!this.inForeground)||TE(e).W().next(r=>void 0===this.Ci(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(n=>(this.isPrimary!==n&&de("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,x.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const r=new nR(n,To._e);return e.pi(r).next(()=>e.Si(r))}),e.Ti.close(),e.Ni()})()}Ci(e,n){return e.filter(r=>this.Di(r.updateTimeMs,n)&&!this.Fi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>TE(e).W().next(n=>this.Ci(n,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return ME.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ive(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return CE.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,r){de("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===n?"readonly":"readwrite",o=15===(c=this.ai)?cye:14===c?xH:13===c?RH:12===c?aye:11===c?SH:void Ae();var c;let s;return this.Ti.runTransaction(e,i,o,a=>(s=new nR(a,this.Lr?this.Lr.next():To._e),"readwrite-primary"===n?this.fi(s).next(c=>!!c||this.gi(s)).next(c=>{if(!c)throw nr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new le(W.FAILED_PRECONDITION,MH);return r(s)}).next(c=>this.yi(s).next(()=>c)):this.Li(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Li(e){return $y(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new le(W.FAILED_PRECONDITION,SR)})}yi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return $y(e).put("owner",n)}static D(){return Ss.D()}pi(e){const n=$y(e);return n.get("owner").next(r=>this.wi(r)?(de("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):B.resolve())}Di(e,n){const r=Date.now();return!(e<r-n||e>r&&(nr(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const n=/(?:Version|Mobile)\/1[456]/;(0,M.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{const r=null!==(null===(n=this.Ei)||void 0===n?void 0:n.getItem(this.vi(e)));return de("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return nr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){nr("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function $y(t){return jr(t,"owner")}function TE(t){return jr(t,"clientMetadata")}function xR(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class kR{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=ot(),i=ot();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new kR(e,n.fromCache,r,i)}}class Cve{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class w8{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.zi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Cve;return this.Hi(e,n,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,n,s,a.size)})}).next(()=>o.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Kp()<=mi.in.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",rf(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),B.resolve()):(Kp()<=mi.in.DEBUG&&de("QueryEngine","Query:",rf(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Kp()<=mi.in.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",rf(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wi(n))):B.resolve())}zi(e,n){if(rz(n))return B.resolve(null);let r=Wi(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=pE(n,null,"F"),r=Wi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ot(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.Yi(n,a);return this.Zi(n,l,s,c.readTime)?this.zi(e,pE(n,null,"F")):this.Xi(e,l,n,c)}))})))}ji(e,n,r,i){return rz(n)||i.isEqual(Fe.min())?B.resolve(null):this.Gi.getDocuments(e,r).next(o=>{const s=this.Yi(n,o);return this.Zi(n,s,r,i)?B.resolve(null):(Kp()<=mi.in.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),rf(n)),this.Xi(e,s,n,PH(i,-1)).next(a=>a))})}Yi(e,n){let r=new Zt(az(e));return n.forEach((i,o)=>{Iy(e,o)&&(r=r.add(o))}),r}Zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(e,n,r){return Kp()<=mi.in.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",rf(n)),this.Gi.getDocumentsMatchingQuery(e,n,bo.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class wve{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new dn(Ke),this.ns=new ac(o=>fd(o),My),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new v8(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function P8(t,e,n,r){return new wve(t,e,n,r)}function E8(t,e){return NR.apply(this,arguments)}function NR(){return NR=(0,x.Z)(function*(t,e){const n=ye(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let c=ot();for(const l of i){s.push(l.batchId);for(const h of l.mutations)c=c.add(h.key)}for(const l of o){a.push(l.batchId);for(const h of l.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(l=>({_s:l,removedBatchIds:s,addedBatchIds:a}))})})}),NR.apply(this,arguments)}function M8(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function O8(t,e,n){let r=ot(),i=ot();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=co();return n.forEach((a,c)=>{const l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Fe.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):de("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{us:s,cs:i}})}function Mve(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _f(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(o=>o?(i=o,B.resolve(i)):n.qr.allocateTargetId(r).next(s=>(i=new lc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}function mf(t,e,n){return FR.apply(this,arguments)}function FR(){return FR=(0,x.Z)(function*(t,e,n){const r=ye(t),i=r.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!bl(s))throw s;de("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),FR.apply(this,arguments)}function AE(t,e,n){const r=ye(t);let i=Fe.min(),o=ot();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,h){const f=ye(c),_=f.ns.get(h);return void 0!==_?B.resolve(f.ts.get(_)):f.qr.getTargetData(l,h)}(r,s,Wi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.es.getDocumentsMatchingQuery(s,e,n?i:Fe.min(),n?o:ot())).next(a=>(T8(r,sz(e),a),{documents:a,ls:o})))}function I8(t,e){const n=ye(t),r=ye(n.qr),i=n.ts.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",o=>r._t(o,e).next(s=>s?s.target:null))}function b8(t,e){const n=ye(t),r=n.rs.get(e)||Fe.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.ss.getAllFromCollectionGroup(i,e,PH(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(T8(n,e,i),i))}function T8(t,e,n){let r=t.rs.get(e)||Fe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.rs.set(e,r)}function LR(){return LR=(0,x.Z)(function*(t,e,n,r){const i=ye(t);let o=ot(),s=co();for(const l of n){const h=e.hs(l.metadata.name);l.document&&(o=o.add(h));const f=e.Ps(l);f.setReadTime(e.Is(l.metadata.readTime)),s=s.insert(h,f)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),c=yield _f(i,(h=r,Wi(tf(St.fromString(`__bundle__/docs/${h}`)))));var h;return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>O8(l,a,s).next(h=>(a.apply(l),h)).next(h=>i.qr.removeMatchingKeysForTargetId(l,c.targetId).next(()=>i.qr.addMatchingKeys(l,o,c.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,h.us,h.cs)).next(()=>h.us)))}),LR.apply(this,arguments)}function Ive(t,e){return VR.apply(this,arguments)}function VR(){return VR=(0,x.Z)(function*(t,e,n=ot()){const r=yield _f(t,Wi(PR(e.bundledQuery))),i=ye(t);return i.persistence.runTransaction("Save named query","readwrite",o=>{const s=rr(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Kr.saveNamedQuery(o,e);const a=r.withResumeToken(Ar.EMPTY_BYTE_STRING,s);return i.ts=i.ts.insert(a.targetId,a),i.qr.updateTargetData(o,a).next(()=>i.qr.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.qr.addMatchingKeys(o,n,r.targetId)).next(()=>i.Kr.saveNamedQuery(o,e))})}),VR.apply(this,arguments)}function A8(t,e){return`firestore_clients_${t}_${e}`}function D8(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function UR(t,e){return`firestore_targets_${t}_${e}`}class DE{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ts(e,n,r){const i=JSON.parse(r);let o,s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(o=new le(i.error.code,i.error.message))),s?new DE(e,n,i.state,o):(nr("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Hy{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ts(e,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new le(r.error.code,r.error.message))),o?new Hy(e,r.state,i):(nr("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class SE{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ts(e,n){const r=JSON.parse(n);let i="object"==typeof r&&r.activeTargetIds instanceof Array,o=dR();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=bH(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new SE(e,o):(nr("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class BR{constructor(e,n){this.clientId=e,this.onlineState=n}static Ts(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new BR(n.clientId,n.onlineState):(nr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class jR{constructor(){this.activeTargetIds=dR()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $R{constructor(e,n,r,i,o){this.window=e,this.si=n,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new dn(Ke),this.started=!1,this.ps=[];const s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ys=A8(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new jR),this.Ss=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,x.Z)(function*(){const n=yield e.syncEngine.Bi();for(const i of n){if(i===e.Rs)continue;const o=e.getItem(A8(e.persistenceKey,i));if(o){const s=SE.Ts(i,o);s&&(e.gs=e.gs.insert(s.clientId,s))}}e.Fs();const r=e.storage.getItem(e.Cs);if(r){const i=e.Ms(r);i&&e.xs(i)}for(const i of e.ps)e.fs(i);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let n=!1;return this.gs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,n,r){this.Ns(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(UR(this.persistenceKey,e));if(r){const i=Hy.Ts(e,r);i&&(n=i.state)}}return this.Ls.ds(e),this.Fs(),n}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(UR(this.persistenceKey,e))}updateQueryState(e,n,r){this.ks(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return de("SharedClientState","READ",e,n),n}setItem(e,n){de("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){de("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var n=this;const r=e;if(r.storageArea===this.storage){if(de("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ys)return void nr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,x.Z)(function*(){if(n.started){if(null!==r.key)if(n.Ss.test(r.key)){if(null==r.newValue){const i=n.Ks(r.key);return n.$s(i,null)}{const i=n.Us(r.key,r.newValue);if(i)return n.$s(i.clientId,i)}}else if(n.bs.test(r.key)){if(null!==r.newValue){const i=n.Ws(r.key,r.newValue);if(i)return n.Gs(i)}}else if(n.Ds.test(r.key)){if(null!==r.newValue){const i=n.zs(r.key,r.newValue);if(i)return n.js(i)}}else if(r.key===n.Cs){if(null!==r.newValue){const i=n.Ms(r.newValue);if(i)return n.xs(i)}}else if(r.key===n.ws){const i=function(s){let a=To._e;if(null!=s)try{const c=JSON.parse(s);Ne("number"==typeof c),a=c}catch(c){nr("SharedClientState","Failed to read sequence number from WebStorage",c)}return a}(r.newValue);i!==To._e&&n.sequenceNumberHandler(i)}else if(r.key===n.vs){const i=n.Hs(r.newValue);yield Promise.all(i.map(o=>n.syncEngine.Js(o)))}}else n.ps.push(r)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,n,r){const i=new DE(this.currentUser,e,n,r),o=D8(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Es())}Bs(e){const n=D8(this.persistenceKey,this.currentUser,e);this.removeItem(n)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,n,r){const i=UR(this.persistenceKey,e),o=new Hy(e,n,r);this.setItem(i,o.Es())}Qs(e){const n=JSON.stringify(Array.from(e));this.setItem(this.vs,n)}Ks(e){const n=this.Ss.exec(e);return n?n[1]:null}Us(e,n){const r=this.Ks(e);return SE.Ts(r,n)}Ws(e,n){const r=this.bs.exec(e),i=Number(r[1]);return DE.Ts(new Br(void 0!==r[2]?r[2]:null),i,n)}zs(e,n){const r=this.Ds.exec(e),i=Number(r[1]);return Hy.Ts(i,n)}Ms(e){return BR.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var n=this;return(0,x.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Ys(e.batchId,e.state,e.error);de("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,n){const r=n?this.gs.insert(e,n):this.gs.remove(e),i=this.Os(this.gs),o=this.Os(r),s=[],a=[];return o.forEach(c=>{i.has(c)||s.push(c)}),i.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.Xs(s,a).then(()=>{this.gs=r})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let n=dR();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class S8{constructor(){this.eo=new jR,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new jR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class bve{ro(e){}shutdown(){}}class R8{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){de("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){de("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let RE=null;function HR(){return null===RE?RE=268435456+Math.round(2147483648*Math.random()):RE++,"0x"+RE.toString(16)}const Tve={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ave{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Oi="WebChannelConnection";class Dve extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${o}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get yo(){return!1}wo(n,r,i,o,s){const a=HR(),c=this.So(n,r);de("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,o,s),this.Do(n,c,l,i).then(h=>(de("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw so("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",c,"request:",i),h})}Co(n,r,i,o,s,a){return this.wo(n,r,i,o,s)}bo(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+qp,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}So(n,r){return`${this.mo}/v1/${r}:${Tve[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const o=HR();return new Promise((s,a)=>{const c=new bme;c.setWithCredentials(!0),c.listenOnce(Mme.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case YS.NO_ERROR:const h=c.getResponseJson();de(Oi,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case YS.TIMEOUT:de(Oi,`RPC '${e}' ${o} timed out`),a(new le(W.DEADLINE_EXCEEDED,"Request time out"));break;case YS.HTTP_ERROR:const f=c.getStatus();if(de(Oi,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let _=c.getResponseJson();Array.isArray(_)&&(_=_[0]);const v=_?.error;if(v&&v.status&&v.message){const E=function(b){const L=b.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(L)>=0?L:W.UNKNOWN}(v.status);a(new le(E,v.message))}else a(new le(W.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new le(W.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{de(Oi,`RPC '${e}' ${o} completed.`)}});const l=JSON.stringify(i);de(Oi,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",l,r,15)})}vo(e,n,r){const i=HR(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Pme(),a=Eme(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new Ime({})),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=o.join("");de(Oi,`Creating RPC '${e}' stream ${i}: ${h}`,c);const f=s.createWebChannel(h,c);let _=!1,v=!1;const E=new Ave({co:b=>{v?de(Oi,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(_||(de(Oi,`Opening RPC '${e}' stream ${i} transport.`),f.open(),_=!0),de(Oi,`RPC '${e}' stream ${i} sending:`,b),f.send(b))},lo:()=>f.close()}),I=(b,L,N)=>{b.listen(L,H=>{try{N(H)}catch($){setTimeout(()=>{throw $},0)}})};return I(f,nE.EventType.OPEN,()=>{v||de(Oi,`RPC '${e}' stream ${i} transport opened.`)}),I(f,nE.EventType.CLOSE,()=>{v||(v=!0,de(Oi,`RPC '${e}' stream ${i} transport closed`),E.Ro())}),I(f,nE.EventType.ERROR,b=>{v||(v=!0,so(Oi,`RPC '${e}' stream ${i} transport errored:`,b),E.Ro(new le(W.UNAVAILABLE,"The operation could not be completed")))}),I(f,nE.EventType.MESSAGE,b=>{var L;if(!v){const N=b.data[0];Ne(!!N);const $=N.error||(null===(L=N[0])||void 0===L?void 0:L.error);if($){de(Oi,`RPC '${e}' stream ${i} received error:`,$);const pe=$.status;let Oe=function(lo){const Sf=fr[lo];if(void 0!==Sf)return Oz(Sf)}(pe),at=$.message;void 0===Oe&&(Oe=W.INTERNAL,at="Unknown error status: "+pe+" with message "+$.message),v=!0,E.Ro(new le(Oe,at)),f.close()}else de(Oi,`RPC '${e}' stream ${i} received:`,N),E.Vo(N)}}),I(a,Ome.STAT_EVENT,b=>{b.stat===_H.PROXY?de(Oi,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===_H.NOPROXY&&de(Oi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.Ao()},0),E}}function x8(){return typeof window<"u"?window:null}function xE(){return typeof document<"u"?document:null}function zy(t){return new Bye(t,!0)}class zR{constructor(e,n,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&de("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class k8{constructor(e,n,r,i,o,s,a,c){this.si=e,this.Ko=r,this.$o=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new zR(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,x.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,x.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var r=this;return(0,x.Z)(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(nr(n.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):n&&n.code===W.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new le(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko((0,x.Z)(function*(){e.state=0,e.start()}))}o_(e){return de("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(de("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Sve extends k8{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function Hye(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:Ae(),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Ne(void 0===h||"string"==typeof h),Ar.fromBase64String(h||"")):(Ne(void 0===h||h instanceof Uint8Array),Ar.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const h=void 0===l.code?W.UNKNOWN:Oz(l.code);return new le(h,l.message||"")}(s);n=new Dz(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=fa(t,r.document.name),o=rr(r.document.updateTime),s=r.document.createTime?rr(r.document.createTime):Fe.min(),a=new ri({mapValue:{fields:r.document.fields}}),c=wn.newFoundDocument(i,o,s,a);n=new yE(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=fa(t,r.document),o=r.readTime?rr(r.readTime):Fe.min(),s=wn.newNoDocument(i,o);n=new yE([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=fa(t,r.document);n=new yE([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Ae();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new kye(i,o);n=new Az(r.targetId,s)}}var l;return n}(this.serializer,e),r=function(o){if(!("targetChange"in o))return Fe.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Fe.min():s.readTime?rr(s.readTime):Fe.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=Ny(this.serializer),n.addTarget=function(o,s){let a;const c=s.target;if(a=dE(c)?{documents:Bz(o,c)}:{query:wR(o,c)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=kz(o,s.resumeToken);const l=mR(o,s.expectedCount);null!==l&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(Fe.min())>0){a.readTime=uf(o,s.snapshotVersion.toTimestamp());const l=mR(o,s.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,e);const r=function Wye(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=Ny(this.serializer),n.removeTarget=e,this.e_(n)}}class Rve extends k8{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Ne(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function zye(t,e){return t&&t.length>0?(Ne(void 0!==e),t.map(n=>function(i,o){let s=rr(i.updateTime?i.updateTime:o);return s.isEqual(Fe.min())&&(s=rr(o)),new Dye(s,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=rr(e.commitTime);return this.listener.I_(r,n)}return Ne(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Ny(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Fy(this.serializer,r))};this.e_(n)}}class xve extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.wo(e,n,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new le(W.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,n,r,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new le(W.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class Nve{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(nr(n),this.f_=!1):de("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Fve{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{r.enqueueAndForget((0,x.Z)(function*(){var c;Ul(s)&&(de("RemoteStore","Restarting streams for network reachability change."),yield(c=(0,x.Z)(function*(h){const f=ye(h);f.C_.add(4),yield yf(f),f.M_.set("Unknown"),f.C_.delete(4),yield Wy(f)}),function l(h){return c.apply(this,arguments)})(s))}))}),this.M_=new Nve(r,i)}}function Wy(t){return GR.apply(this,arguments)}function GR(){return GR=(0,x.Z)(function*(t){if(Ul(t))for(const e of t.v_)yield e(!0)}),GR.apply(this,arguments)}function yf(t){return qR.apply(this,arguments)}function qR(){return qR=(0,x.Z)(function*(t){for(const e of t.v_)yield e(!1)}),qR.apply(this,arguments)}function kE(t,e){const n=ye(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),YR(n)?ZR(n):Cf(n).Ho()&&KR(n,e))}function Gy(t,e){const n=ye(t),r=Cf(n);n.D_.delete(e),r.Ho()&&N8(n,e),0===n.D_.size&&(r.Ho()?r.Zo():Ul(n)&&n.M_.set("Unknown"))}function KR(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Cf(t).u_(e)}function N8(t,e){t.x_.Oe(e),Cf(t).c_(e)}function ZR(t){t.x_=new Fye({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Cf(t).start(),t.M_.g_()}function YR(t){return Ul(t)&&!Cf(t).jo()&&t.D_.size>0}function Ul(t){return 0===ye(t).C_.size}function F8(t){t.x_=void 0}function Lve(t){return QR.apply(this,arguments)}function QR(){return QR=(0,x.Z)(function*(t){t.D_.forEach((e,n)=>{KR(t,e)})}),QR.apply(this,arguments)}function Vve(t,e){return XR.apply(this,arguments)}function XR(){return XR=(0,x.Z)(function*(t,e){F8(t),YR(t)?(t.M_.w_(e),ZR(t)):t.M_.set("Unknown")}),XR.apply(this,arguments)}function Uve(t,e,n){return JR.apply(this,arguments)}function JR(){return JR=(0,x.Z)(function*(t,e,n){if(t.M_.set("Online"),e instanceof Dz&&2===e.state&&e.cause)try{yield(r=(0,x.Z)(function*(o,s){const a=s.cause;for(const c of s.targetIds)o.D_.has(c)&&(yield o.remoteSyncer.rejectListen(c,a),o.D_.delete(c),o.x_.removeTarget(c))}),function i(o,s){return r.apply(this,arguments)})(t,e)}catch(r){de("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield NE(t,r)}else if(e instanceof yE?t.x_.$e(e):e instanceof Az?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(Fe.min()))try{const r=yield M8(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const h=o.D_.get(l);h&&o.D_.set(l,h.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{const h=o.D_.get(c);if(!h)return;o.D_.set(c,h.withResumeToken(Ar.EMPTY_BYTE_STRING,h.snapshotVersion)),N8(o,c);const f=new lc(h.target,c,l,h.sequenceNumber);KR(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){de("RemoteStore","Failed to raise snapshot:",r),yield NE(t,r)}var r}),JR.apply(this,arguments)}function NE(t,e,n){return ex.apply(this,arguments)}function ex(){return ex=(0,x.Z)(function*(t,e,n){if(!bl(e))throw e;t.C_.add(1),yield yf(t),t.M_.set("Offline"),n||(n=()=>M8(t.localStore)),t.asyncQueue.enqueueRetryable((0,x.Z)(function*(){de("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield Wy(t)}))}),ex.apply(this,arguments)}function L8(t,e){return e().catch(n=>NE(t,n,e))}function vf(t){return tx.apply(this,arguments)}function tx(){return tx=(0,x.Z)(function*(t){const e=ye(t),n=Bl(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Bve(e);)try{const i=yield Mve(e.localStore,r);if(null===i){0===e.b_.length&&n.Zo();break}r=i.batchId,jve(e,i)}catch(i){yield NE(e,i)}V8(e)&&U8(e)}),tx.apply(this,arguments)}function Bve(t){return Ul(t)&&t.b_.length<10}function jve(t,e){t.b_.push(e);const n=Bl(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function V8(t){return Ul(t)&&!Bl(t).jo()&&t.b_.length>0}function U8(t){Bl(t).start()}function $ve(t){return nx.apply(this,arguments)}function nx(){return nx=(0,x.Z)(function*(t){Bl(t).E_()}),nx.apply(this,arguments)}function Hve(t){return rx.apply(this,arguments)}function rx(){return rx=(0,x.Z)(function*(t){const e=Bl(t);for(const n of t.b_)e.P_(n.mutations)}),rx.apply(this,arguments)}function zve(t,e,n){return ix.apply(this,arguments)}function ix(){return ix=(0,x.Z)(function*(t,e,n){const r=t.b_.shift(),i=fR.from(r,e,n);yield L8(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield vf(t)}),ix.apply(this,arguments)}function Wve(t,e){return ox.apply(this,arguments)}function ox(){return ox=(0,x.Z)(function*(t,e){var n;e&&Bl(t).h_&&(yield(n=(0,x.Z)(function*(i,o){if(Mz(a=o.code)&&a!==W.ABORTED){const s=i.b_.shift();Bl(i).Yo(),yield L8(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield vf(i)}var a}),function r(i,o){return n.apply(this,arguments)})(t,e)),V8(t)&&U8(t)}),ox.apply(this,arguments)}function B8(t,e){return sx.apply(this,arguments)}function sx(){return sx=(0,x.Z)(function*(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),de("RemoteStore","RemoteStore received new credentials");const r=Ul(n);n.C_.add(3),yield yf(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield Wy(n)}),sx.apply(this,arguments)}function ax(t,e){return cx.apply(this,arguments)}function cx(){return cx=(0,x.Z)(function*(t,e){const n=ye(t);e?(n.C_.delete(2),yield Wy(n)):e||(n.C_.add(2),yield yf(n),n.M_.set("Unknown"))}),cx.apply(this,arguments)}function Cf(t){return t.O_||(t.O_=function(n,r,i){const o=ye(n);return o.A_(),new Sve(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:Lve.bind(null,t),Io:Vve.bind(null,t),a_:Uve.bind(null,t)}),t.v_.push(function(){var e=(0,x.Z)(function*(n){n?(t.O_.Yo(),YR(t)?ZR(t):t.M_.set("Unknown")):(yield t.O_.stop(),F8(t))});return function(n){return e.apply(this,arguments)}}())),t.O_}function Bl(t){return t.N_||(t.N_=function(n,r,i){const o=ye(n);return o.A_(),new Rve(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:$ve.bind(null,t),Io:Wve.bind(null,t),T_:Hve.bind(null,t),I_:zve.bind(null,t)}),t.v_.push(function(){var e=(0,x.Z)(function*(n){n?(t.N_.Yo(),yield vf(t)):(yield t.N_.stop(),t.b_.length>0&&(de("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))});return function(n){return e.apply(this,arguments)}}())),t.N_}class lx{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new lx(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new le(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wf(t,e){if(nr("AsyncQueue",`${e}: ${t}`),bl(t))return new le(W.UNAVAILABLE,`${e}: ${t}`);throw t}class Pf{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ve.comparator(n.key,r.key):(n,r)=>ve.comparator(n.key,r.key),this.keyedMap=by(),this.sortedSet=new dn(this.comparator)}static emptySet(e){return new Pf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Pf)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Pf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class j8{constructor(){this.B_=new dn(ve.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(n):1===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Ae():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ef{constructor(e,n,r,i,o,s,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Ef(e,n,Pf.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Gve{constructor(){this.k_=void 0,this.listeners=[]}}class qve{constructor(){this.queries=new ac(e=>oz(e),Oy),this.onlineState="Unknown",this.q_=new Set}}function ux(t,e){return dx.apply(this,arguments)}function dx(){return dx=(0,x.Z)(function*(t,e){const n=ye(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Gve),i)try{o.k_=yield n.onListen(r)}catch(s){const a=wf(s,`Initialization of query '${rf(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Q_(n.onlineState),o.k_&&e.K_(o.k_)&&fx(n)}),dx.apply(this,arguments)}function hx(t,e){return px.apply(this,arguments)}function px(){return px=(0,x.Z)(function*(t,e){const n=ye(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),px.apply(this,arguments)}function Kve(t,e){const n=ye(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.listeners)a.K_(i)&&(r=!0);s.k_=i}}r&&fx(n)}function Zve(t,e,n){const r=ye(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function fx(t){t.q_.forEach(e=>{e.next()})}class gx{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ef(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Ef.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class Yve{constructor(e,n){this.Y_=e,this.byteLength=n}Z_(){return"metadata"in this.Y_}}class $8{constructor(e){this.serializer=e}hs(e){return fa(this.serializer,e)}Ps(e){return e.metadata.exists?Uz(this.serializer,e.document,!1):wn.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return rr(e)}}class Qve{constructor(e,n,r){this.X_=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=H8(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++n;const r=St.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ta(e){const n=new Map,r=new $8(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.hs(i.metadata.name);for(const s of i.metadata.queries){const a=(n.get(s)||ot()).add(o);n.set(s,a)}}return n}complete(){var e=this;return(0,x.Z)(function*(){const n=yield function Ove(t,e,n,r){return LR.apply(this,arguments)}(e.localStore,new $8(e.serializer),e.documents,e.X_.id),r=e.ta(e.documents);for(const i of e.queries)yield Ive(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:n}})()}}function H8(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class z8{constructor(e){this.key=e}}class W8{constructor(e){this.key=e}}class G8{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ot(),this.mutatedKeys=ot(),this._a=az(e),this.aa=new Pf(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new j8,i=n?n.aa:this.aa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const _=i.get(h),v=Iy(this.query,f)?f:null,E=!!_&&this.mutatedKeys.has(_.key),I=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let b=!1;_&&v?_.data.isEqual(v.data)?E!==I&&(r.track({type:3,doc:v}),b=!0):this.ha(_,v)||(r.track({type:2,doc:v}),b=!0,(c&&this._a(v,c)>0||l&&this._a(v,l)<0)&&(a=!0)):!_&&v?(r.track({type:0,doc:v}),b=!0):_&&!v&&(r.track({type:1,doc:_}),b=!0,(c||l)&&(a=!0)),b&&(v?(s=s.add(v),o=I?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const h="F"===this.query.limitType?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{aa:s,la:r,Zi:a,mutatedKeys:o}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((l,h)=>function(_,v){const E=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return E(_)-E(v)}(l.type,h.type)||this._a(l.doc,h.doc)),this.Pa(r);const s=n?this.Ia():[],a=0===this.oa.size&&this.current?1:0,c=a!==this.sa;return this.sa=a,0!==o.length||c?{snapshot:new Ef(this.query,e.aa,i,o,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new j8,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ot(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new W8(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new z8(r))}),n}da(e){this.ia=e.ls,this.oa=ot();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Ef.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Xve{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Jve{constructor(e){this.key=e,this.Ra=!1}}class eCe{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new ac(a=>oz(a),Oy),this.fa=new Map,this.ga=new Set,this.pa=new dn(ve.comparator),this.ya=new Map,this.wa=new AR,this.Sa={},this.ba=new Map,this.Da=Pd.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function tCe(t,e){return _x.apply(this,arguments)}function _x(){return _x=(0,x.Z)(function*(t,e){const n=Ux(t);let r,i;const o=n.ma.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{const s=yield _f(n.localStore,Wi(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield mx(n,e,r,"current"===a,s.resumeToken),n.isPrimaryClient&&kE(n.remoteStore,s)}return i}),_x.apply(this,arguments)}function mx(t,e,n,r,i){return yx.apply(this,arguments)}function yx(){return yx=(0,x.Z)(function*(t,e,n,r,i){t.va=(f,_,v)=>{return(E=(0,x.Z)(function*(b,L,N,H){let $=L.view.ca(N);$.Zi&&($=yield AE(b.localStore,L.query,!1).then(({documents:at})=>L.view.ca(at,$)));const pe=H&&H.targetChanges.get(L.targetId),Oe=L.view.applyChanges($,b.isPrimaryClient,pe);return Tx(b,L.targetId,Oe.Ta),Oe.snapshot}),function I(b,L,N,H){return E.apply(this,arguments)})(t,f,_,v);var E};const o=yield AE(t.localStore,e,!0),s=new G8(e,o.ls),a=s.ca(o.documents),c=xy.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=s.applyChanges(a,t.isPrimaryClient,c);Tx(t,n,l.Ta);const h=new Xve(e,n,s);return t.ma.set(e,h),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),l.snapshot}),yx.apply(this,arguments)}function nCe(t,e){return vx.apply(this,arguments)}function vx(){return vx=(0,x.Z)(function*(t,e){const n=ye(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(o=>!Oy(o,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield mf(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Gy(n.remoteStore,r.targetId),Mf(n,r.targetId)}).catch(Il))):(Mf(n,r.targetId),yield mf(n.localStore,r.targetId,!0))}),vx.apply(this,arguments)}function Cx(){return Cx=(0,x.Z)(function*(t,e,n){const r=Bx(t);try{const i=yield function(s,a){const c=ye(s),l=An.now(),h=a.reduce((v,E)=>v.add(E.key),ot());let f,_;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let E=co(),I=ot();return c.ss.getEntries(v,h).next(b=>{E=b,E.forEach((L,N)=>{N.isValidDocument()||(I=I.add(L))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,E)).next(b=>{f=b;const L=[];for(const N of a){const H=Rye(N,f.get(N.key).overlayedDocument);null!=H&&L.push(new cc(N.key,H,zH(H.value.mapValue),Dn.exists(!0)))}return c.mutationQueue.addMutationBatch(v,l,L,a)}).next(b=>{_=b;const L=b.applyToLocalDocumentSet(f,I);return c.documentOverlayCache.saveOverlays(v,b.batchId,L)})}).then(()=>({batchId:_.batchId,changes:lz(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let l=s.Sa[s.currentUser.toKey()];l||(l=new dn(Ke)),l=l.insert(a,c),s.Sa[s.currentUser.toKey()]=l}(r,i.batchId,n),yield uc(r,i.changes),yield vf(r.remoteStore)}catch(i){const o=wf(i,"Failed to persist write");n.reject(o)}}),Cx.apply(this,arguments)}function q8(t,e){return wx.apply(this,arguments)}function wx(){return wx=(0,x.Z)(function*(t,e){const n=ye(t);try{const r=yield function Eve(t,e){const n=ye(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((h,f)=>{const _=i.get(f);if(!_)return;a.push(n.qr.removeMatchingKeys(o,h.removedDocuments,f).next(()=>n.qr.addMatchingKeys(o,h.addedDocuments,f)));let v=_.withSequenceNumber(o.currentSequenceNumber);var I,b,L;null!==e.targetMismatches.get(f)?v=v.withResumeToken(Ar.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(f,v),b=v,L=h,(0===(I=_).resumeToken.approximateByteSize()||b.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8||L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0)&&a.push(n.qr.updateTargetData(o,v))});let c=co(),l=ot();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(O8(o,s,e.documentUpdates).next(h=>{c=h.us,l=h.cs})),!r.isEqual(Fe.min())){const h=n.qr.getLastRemoteSnapshotVersion(o).next(f=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return B.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(n.ts=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.ya.get(o);s&&(Ne(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ra=!0:i.modifiedDocuments.size>0?Ne(s.Ra):i.removedDocuments.size>0&&(Ne(s.Ra),s.Ra=!1))}),yield uc(n,r,e)}catch(r){yield Il(r)}}),wx.apply(this,arguments)}function K8(t,e,n){const r=ye(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const c=ye(s);c.onlineState=a;let l=!1;c.queries.forEach((h,f)=>{for(const _ of f.listeners)_.Q_(a)&&(l=!0)}),l&&fx(c)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function iCe(t,e,n){return Px.apply(this,arguments)}function Px(){return Px=(0,x.Z)(function*(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),o=i&&i.key;if(o){let s=new dn(ve.comparator);s=s.insert(o,wn.newNoDocument(o,Fe.min()));const a=ot().add(o),c=new Ry(Fe.min(),new Map,new dn(Ke),s,a);yield q8(r,c),r.pa=r.pa.remove(o),r.ya.delete(e),Ax(r)}else yield mf(r.localStore,e,!1).then(()=>Mf(r,e,n)).catch(Il)}),Px.apply(this,arguments)}function oCe(t,e){return Ex.apply(this,arguments)}function Ex(){return Ex=(0,x.Z)(function*(t,e){const n=ye(t),r=e.batch.batchId;try{const i=yield function Pve(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,h){const f=l.batch,_=f.keys();let v=B.resolve();return _.forEach(E=>{v=v.next(()=>h.getEntry(c,E)).next(I=>{const b=l.docVersions.get(E);Ne(null!==b),I.version.compareTo(b)<0&&(f.applyToRemoteDocument(I,l),I.isValidDocument()&&(I.setReadTime(l.commitVersion),h.addEntry(I)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=ot();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);bx(n,r,null),Ix(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield uc(n,i)}catch(i){yield Il(i)}}),Ex.apply(this,arguments)}function sCe(t,e,n){return Mx.apply(this,arguments)}function Mx(){return Mx=(0,x.Z)(function*(t,e,n){const r=ye(t);try{const i=yield function(s,a){const c=ye(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return c.mutationQueue.lookupMutationBatch(l,a).next(f=>(Ne(null!==f),h=f.keys(),c.mutationQueue.removeMutationBatch(l,f))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>c.localDocuments.getDocuments(l,h))})}(r.localStore,e);bx(r,e,n),Ix(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield uc(r,i)}catch(i){yield Il(i)}}),Mx.apply(this,arguments)}function Ox(){return Ox=(0,x.Z)(function*(t,e){const n=ye(t);Ul(n.remoteStore)||de("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const a=ye(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(n.localStore);if(-1===r)return void e.resolve();const i=n.ba.get(r)||[];i.push(e),n.ba.set(r,i)}catch(r){const i=wf(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),Ox.apply(this,arguments)}function Ix(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function bx(t,e,n){const r=ye(t);let i=r.Sa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Mf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||Z8(t,r)})}function Z8(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);null!==n&&(Gy(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),Ax(t))}function Tx(t,e,n){for(const r of n)r instanceof z8?(t.wa.addReference(r.key,e),cCe(t,r)):r instanceof W8?(de("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||Z8(t,r.key)):Ae()}function cCe(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(de("SyncEngine","New document in limbo: "+n),t.ga.add(r),Ax(t))}function Ax(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new ve(St.fromString(e)),r=t.Da.next();t.ya.set(r,new Jve(n)),t.pa=t.pa.insert(n,r),kE(t.remoteStore,new lc(Wi(tf(n.path)),r,"TargetPurposeLimboResolution",To._e))}}function uc(t,e,n){return Dx.apply(this,arguments)}function Dx(){return Dx=(0,x.Z)(function*(t,e,n){const r=ye(t),i=[],o=[],s=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,c)=>{s.push(r.va(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const h=kR.Qi(c.targetId,l);o.push(h)}}))}),yield Promise.all(s),r.Va.a_(i),yield(a=(0,x.Z)(function*(l,h){const f=ye(l);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>B.forEach(h,v=>B.forEach(v.ki,E=>f.persistence.referenceDelegate.addReference(_,v.targetId,E)).next(()=>B.forEach(v.qi,E=>f.persistence.referenceDelegate.removeReference(_,v.targetId,E)))))}catch(_){if(!bl(_))throw _;de("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of h){const v=_.targetId;if(!_.fromCache){const E=f.ts.get(v),b=E.withLastLimboFreeSnapshotVersion(E.snapshotVersion);f.ts=f.ts.insert(v,b)}}}),function c(l,h){return a.apply(this,arguments)})(r.localStore,o))}),Dx.apply(this,arguments)}function lCe(t,e){return Sx.apply(this,arguments)}function Sx(){return Sx=(0,x.Z)(function*(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){de("SyncEngine","User change. New user:",e.toKey());const r=yield E8(n.localStore,e);n.currentUser=e,(o=n).ba.forEach(a=>{a.forEach(c=>{c.reject(new le(W.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ba.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield uc(n,r._s)}var o}),Sx.apply(this,arguments)}function uCe(t,e){const n=ye(t),r=n.ya.get(e);if(r&&r.Ra)return ot().add(r.key);{let i=ot();const o=n.fa.get(e);if(!o)return i;for(const s of o){const a=n.ma.get(s);i=i.unionWith(a.view.ua)}return i}}function dCe(t,e){return Rx.apply(this,arguments)}function Rx(){return Rx=(0,x.Z)(function*(t,e){const n=ye(t),r=yield AE(n.localStore,e.query,!0),i=e.view.da(r);return n.isPrimaryClient&&Tx(n,e.targetId,i.Ta),i}),Rx.apply(this,arguments)}function hCe(t,e){return xx.apply(this,arguments)}function xx(){return xx=(0,x.Z)(function*(t,e){const n=ye(t);return b8(n.localStore,e).then(r=>uc(n,r))}),xx.apply(this,arguments)}function pCe(t,e,n,r){return kx.apply(this,arguments)}function kx(){return kx=(0,x.Z)(function*(t,e,n,r){const i=ye(t),o=yield function(a,c){const l=ye(a),h=ye(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",f=>h.Cn(f,c).next(_=>_?l.localDocuments.getDocuments(f,_):B.resolve(null)))}(i.localStore,e);var c;null!==o?("pending"===n?yield vf(i.remoteStore):"acknowledged"===n||"rejected"===n?(bx(i,e,r||null),Ix(i,e),c=e,ye(ye(i.localStore).mutationQueue).Fn(c)):Ae(),yield uc(i,o)):de("SyncEngine","Cannot apply mutation batch with id: "+e)}),kx.apply(this,arguments)}function Nx(){return Nx=(0,x.Z)(function*(t,e){const n=ye(t);if(Ux(n),Bx(n),!0===e&&!0!==n.Ca){const r=n.sharedClientState.getAllActiveQueryTargets(),i=yield Y8(n,r.toArray());n.Ca=!0,yield ax(n.remoteStore,!0);for(const o of i)kE(n.remoteStore,o)}else if(!1===e&&!1!==n.Ca){const r=[];let i=Promise.resolve();n.fa.forEach((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(Mf(n,s),mf(n.localStore,s,!0))),Gy(n.remoteStore,s)}),yield i,yield Y8(n,r),function(s){const a=ye(s);a.ya.forEach((c,l)=>{Gy(a.remoteStore,l)}),a.wa.Vr(),a.ya=new Map,a.pa=new dn(ve.comparator)}(n),n.Ca=!1,yield ax(n.remoteStore,!1)}}),Nx.apply(this,arguments)}function Y8(t,e,n){return Fx.apply(this,arguments)}function Fx(){return Fx=(0,x.Z)(function*(t,e,n){const r=ye(t),i=[],o=[];for(const s of e){let a;const c=r.fa.get(s);if(c&&0!==c.length){a=yield _f(r.localStore,Wi(c[0]));for(const l of c){const h=r.ma.get(l),f=yield dCe(r,h);f.snapshot&&o.push(f.snapshot)}}else{const l=yield I8(r.localStore,s);a=yield _f(r.localStore,l),yield mx(r,Q8(l),s,!1,a.resumeToken)}i.push(a)}return r.Va.a_(o),i}),Fx.apply(this,arguments)}function Q8(t){return nz(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function gCe(t){return n=ye(t).localStore,ye(ye(n).persistence).Bi();var n}function _Ce(t,e,n,r){return Lx.apply(this,arguments)}function Lx(){return Lx=(0,x.Z)(function*(t,e,n,r){const i=ye(t);if(i.Ca)return void de("SyncEngine","Ignoring unexpected query state notification.");const o=i.fa.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{const s=yield b8(i.localStore,sz(o[0])),a=Ry.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,Ar.EMPTY_BYTE_STRING);yield uc(i,s,a);break}case"rejected":yield mf(i.localStore,e,!0),Mf(i,e,r);break;default:Ae()}}),Lx.apply(this,arguments)}function mCe(t,e,n){return Vx.apply(this,arguments)}function Vx(){return Vx=(0,x.Z)(function*(t,e,n){const r=Ux(t);if(r.Ca){for(const i of e){if(r.fa.has(i)){de("SyncEngine","Adding an already active target "+i);continue}const o=yield I8(r.localStore,i),s=yield _f(r.localStore,o);yield mx(r,Q8(o),s.targetId,!1,s.resumeToken),kE(r.remoteStore,s)}for(const i of n)r.fa.has(i)&&(yield mf(r.localStore,i,!1).then(()=>{Gy(r.remoteStore,i),Mf(r,i)}).catch(Il))}}),Vx.apply(this,arguments)}function Ux(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=q8.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uCe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iCe.bind(null,e),e.Va.a_=Kve.bind(null,e.eventManager),e.Va.Fa=Zve.bind(null,e.eventManager),e}function Bx(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oCe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sCe.bind(null,e),e}class qy{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,x.Z)(function*(){n.serializer=zy(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return P8(this.persistence,new w8,e.initialUser,this.serializer)}createPersistence(e){return new DR(IE.jr,this.serializer)}createSharedClientState(e){return new S8}terminate(){var e=this;return(0,x.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class jx extends qy{constructor(e,n,r){super(),this.xa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,r=this;return(0,x.Z)(function*(){yield n().call(r,e),yield r.xa.initialize(r,e),yield Bx(r.xa.syncEngine),yield vf(r.xa.remoteStore),yield r.persistence.mi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return P8(this.persistence,new w8,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new h8(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new zme(n,this.persistence);return new Hme(e.asyncQueue,r)}createPersistence(e){const n=xR(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Mi.withCacheSize(this.cacheSizeBytes):Mi.DEFAULT;return new RR(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,x8(),xE(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new S8}}class X8 extends jx{constructor(e,n){super(e,n,!1),this.xa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,r=this;return(0,x.Z)(function*(){yield n().call(r,e);const i=r.xa.syncEngine;r.sharedClientState instanceof $R&&(r.sharedClientState.syncEngine={Ys:pCe.bind(null,i),Zs:_Ce.bind(null,i),Xs:mCe.bind(null,i),Bi:gCe.bind(null,i),Js:hCe.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.mi(function(){var o=(0,x.Z)(function*(s){yield function fCe(t,e){return Nx.apply(this,arguments)}(r.xa.syncEngine,s),r.gcScheduler&&(s&&!r.gcScheduler.started?r.gcScheduler.start():s||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(s&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():s||r.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const n=x8();if(!$R.D(n))throw new le(W.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=xR(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new $R(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Of{initialize(e,n){var r=this;return(0,x.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>K8(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=lCe.bind(null,r.syncEngine),yield ax(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new qve}createDatastore(e){const n=zy(e.databaseInfo.databaseId),r=new Dve(e.databaseInfo);return new xve(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,o=e.asyncQueue,s=n=>K8(this.syncEngine,n,0),a=R8.D()?new R8:new bve,new Fve(r,i,o,s,a);var r,i,o,s,a}createSyncEngine(e,n){return function(i,o,s,a,c,l,h){const f=new eCe(i,o,s,a,c,l);return h&&(f.Ca=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,x.Z)(function*(r){const i=ye(r);de("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield yf(i),i.F_.shutdown(),i.M_.set("Unknown")}),function n(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function J8(t,e=10240){let n=0;return{read:()=>(0,x.Z)(function*(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})(),cancel:()=>(0,x.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class FE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):nr("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class CCe{constructor(e,n){this.Ba=e,this.serializer=n,this.metadata=new Tr,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(r=>{r&&r.Z_()?this.metadata.resolve(r.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Y_)}`))},r=>this.metadata.reject(r))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,x.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,x.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,x.Z)(function*(){const n=yield e.qa();if(null===n)return null;const r=e.La.decode(n),i=Number(r);isNaN(i)&&e.Qa(`length string (${r}) is not valid number`);const o=yield e.Ka(i);return new Yve(JSON.parse(o),n.length+i)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,x.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const n=e.$a();n<0&&e.Qa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),r})()}Ka(e){var n=this;return(0,x.Z)(function*(){for(;n.buffer.length<e;)(yield n.Ua())&&n.Qa("Reached the end of bundle when more is expected.");const r=n.La.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),r})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,x.Z)(function*(){const n=yield e.Ba.read();if(!n.done){const r=new Uint8Array(e.buffer.length+n.value.length);r.set(e.buffer),r.set(n.value,e.buffer.length),e.buffer=r}return n.done})()}}class wCe{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,x.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new le(W.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,x.Z)(function*(s,a){const c=ye(s),l=Ny(c.serializer)+"/documents",h={documents:a.map(E=>ky(c.serializer,E))},f=yield c.Co("BatchGetDocuments",l,h,a.length),_=new Map;f.forEach(E=>{const I=function $ye(t,e){return"found"in e?function(r,i){Ne(!!i.found);const o=fa(r,i.found.name),s=rr(i.found.updateTime),a=i.found.createTime?rr(i.found.createTime):Fe.min(),c=new ri({mapValue:{fields:i.found.fields}});return wn.newFoundDocument(o,s,a,c)}(t,e):"missing"in e?function(r,i){Ne(!!i.missing),Ne(!!i.readTime);const o=fa(r,i.missing),s=rr(i.readTime);return wn.newNoDocument(o,s)}(t,e):Ae()}(c.serializer,E);_.set(I.key.toString(),I)});const v=[];return a.forEach(E=>{const I=_.get(E.toString());Ne(!!I),v.push(I)}),v}),function o(s,a){return i.apply(this,arguments)})(n.datastore,e);var i;return r.forEach(i=>n.recordVersion(i)),r})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new lf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,x.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var r;e.mutations.forEach(r=>{n.delete(r.key.toString())}),n.forEach((r,i)=>{const o=ve.fromPath(i);e.mutations.push(new hR(o,e.precondition(o)))}),yield(r=(0,x.Z)(function*(o,s){const a=ye(o),c=Ny(a.serializer)+"/documents",l={writes:s.map(h=>Fy(a.serializer,h))};yield a.wo("Commit",c,l)}),function i(o,s){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Ae();n=Fe.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new le(W.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Fe.min())?Dn.exists(!1):Dn.updateTime(n):Dn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Fe.min()))throw new le(W.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dn.updateTime(n)}return Dn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class PCe{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this.Wa=r.maxAttempts,this.zo=new zR(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,x.Z)(function*(){const n=new wCe(e.datastore),r=e.za(n);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(i)}).catch(o=>{e.ja(o)}))}).catch(i=>{e.ja(i)})}))}za(e){try{const n=this.updateFunction(e);return!my(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!Mz(n)}return!1}}class ECe{constructor(e,n,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Br.UNAUTHENTICATED,this.clientId=CH.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=(0,x.Z)(function*(a){de("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(de("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return(0,x.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,x.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=wf(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function LE(t,e){return $x.apply(this,arguments)}function $x(){return $x=(0,x.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),de("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=(0,x.Z)(function*(o){r.isEqual(o)||(yield E8(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),$x.apply(this,arguments)}function Hx(t,e){return zx.apply(this,arguments)}function zx(){return zx=(0,x.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield Wx(t);de("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>B8(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>B8(e.remoteStore,o)),t._onlineComponents=e}),zx.apply(this,arguments)}function e7(t){return"FirebaseError"===t.name?t.code===W.FAILED_PRECONDITION||t.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function Wx(t){return Gx.apply(this,arguments)}function Gx(){return Gx=(0,x.Z)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de("FirestoreClient","Using user provided OfflineComponentProvider");try{yield LE(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!e7(n))throw n;so("Error using user provided cache. Falling back to memory cache: "+n),yield LE(t,new qy)}}else de("FirestoreClient","Using default OfflineComponentProvider"),yield LE(t,new qy);return t._offlineComponents}),Gx.apply(this,arguments)}function VE(t){return qx.apply(this,arguments)}function qx(){return qx=(0,x.Z)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de("FirestoreClient","Using user provided OnlineComponentProvider"),yield Hx(t,t._uninitializedComponentsProvider._online)):(de("FirestoreClient","Using default OnlineComponentProvider"),yield Hx(t,new Of))),t._onlineComponents}),qx.apply(this,arguments)}function t7(t){return Wx(t).then(e=>e.persistence)}function If(t){return Wx(t).then(e=>e.localStore)}function n7(t){return VE(t).then(e=>e.remoteStore)}function Kx(t){return VE(t).then(e=>e.syncEngine)}function bf(t){return Zx.apply(this,arguments)}function Zx(){return Zx=(0,x.Z)(function*(t){const e=yield VE(t),n=e.eventManager;return n.onListen=tCe.bind(null,e.syncEngine),n.onUnlisten=nCe.bind(null,e.syncEngine),n}),Zx.apply(this,arguments)}function i7(t,e,n={}){const r=new Tr;return t.asyncQueue.enqueueAndForget((0,x.Z)(function*(){return function(o,s,a,c,l){const h=new FE({next:_=>{s.enqueueAndForget(()=>hx(o,f));const v=_.docs.has(a);!v&&_.fromCache?l.reject(new le(W.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&_.fromCache&&c&&"server"===c.source?l.reject(new le(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(_)},error:_=>l.reject(_)}),f=new gx(tf(a.path),h,{includeMetadataChanges:!0,J_:!0});return ux(o,f)}(yield bf(t),t.asyncQueue,e,n,r)})),r.promise}function o7(t,e,n={}){const r=new Tr;return t.asyncQueue.enqueueAndForget((0,x.Z)(function*(){return function(o,s,a,c,l){const h=new FE({next:_=>{s.enqueueAndForget(()=>hx(o,f)),_.fromCache&&"server"===c.source?l.reject(new le(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(_)},error:_=>l.reject(_)}),f=new gx(a,h,{includeMetadataChanges:!0,J_:!0});return ux(o,f)}(yield bf(t),t.asyncQueue,e,n,r)})),r.promise}function s7(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const a7=new Map;function Yx(t,e,n){if(!n)throw new le(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function c7(t,e,n,r){if(!0===e&&!0===r)throw new le(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function l7(t){if(!ve.isDocumentKey(t))throw new le(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function u7(t){if(ve.isDocumentKey(t))throw new le(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function UE(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":Ae()}function vt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=UE(t);throw new le(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function d7(t,e){if(e<=0)throw new le(W.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class h7{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new le(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new le(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}c7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=s7(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ky{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new h7({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new le(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new le(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new h7(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Sme;switch(r.type){case"firstParty":return new Nme(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=a7.get(n);r&&(de("ComponentProvider","Removing Datastore"),a7.delete(n),r.terminate())}(this),Promise.resolve()}}function p7(t,e,n,r={}){var i;const o=(t=vt(t,Ky))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&so("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=Br.MOCK_USER;else{a=(0,M.Sg)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new le(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Br(l)}t._authCredentials=new Rme(new yH(a,c))}}class ii{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ii(this.firestore,e,this._query)}}class Pn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}}class ga extends ii{constructor(e,n,r){super(e,n,tf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new ve(e))}withConverter(e){return new ga(this.firestore,e,this._path)}}function f7(t,e,...n){if(t=(0,M.m9)(t),Yx("collection","path",e),t instanceof Ky){const r=St.fromString(e,...n);return u7(r),new ga(t,null,r)}{if(!(t instanceof Pn||t instanceof ga))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(St.fromString(e,...n));return u7(r),new ga(t.firestore,null,r)}}function BE(t,e,...n){if(t=(0,M.m9)(t),1===arguments.length&&(e=CH.newId()),Yx("doc","path",e),t instanceof Ky){const r=St.fromString(e,...n);return l7(r),new Pn(t,null,new ve(r))}{if(!(t instanceof Pn||t instanceof ga))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(St.fromString(e,...n));return l7(r),new Pn(t.firestore,t instanceof ga?t.converter:null,new ve(r))}}function g7(t,e){return t=(0,M.m9)(t),e=(0,M.m9)(e),(t instanceof Pn||t instanceof ga)&&(e instanceof Pn||e instanceof ga)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Qx(t,e){return t=(0,M.m9)(t),e=(0,M.m9)(e),t instanceof ii&&e instanceof ii&&t.firestore===e.firestore&&Oy(t._query,e._query)&&t.converter===e.converter}class NCe{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new zR(this,"async_queue_retry"),this.iu=()=>{const n=xE();n&&de("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=xE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=xE();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Tr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,x.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!bl(n))throw n;de("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,nr("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=lx.createAndSchedule(this,e,n,r,o=>this.au(o));return this.Xa.push(i),i}su(){this.eu&&Ae()}verifyOperationInProgress(){}uu(){var e=this;return(0,x.Z)(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function Xx(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(t)}class FCe{constructor(){this._progressObserver={},this._taskCompletionResolver=new Tr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class hn extends Ky{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new NCe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||_7(this),this._firestoreClient.terminate()}}function VCe(t,e){const n="object"==typeof t?t:(0,$e.getApp)(),r="string"==typeof t?t:e||"(default)",i=(0,$e._getProvider)(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(0,M.P0)("firestore");o&&p7(i,...o)}return i}function Gn(t){return t._firestoreClient||_7(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function _7(t){var e,n,r;const i=t._freezeSettings(),o=(c=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new dye(t._databaseId,c,t._persistenceKey,(h=i).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,s7(h.experimentalLongPollingOptions),h.useFetchStreams));var c,h;t._firestoreClient=new ECe(t._authCredentials,t._appCheckCredentials,t._queue,o),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function m7(t,e,n){const r=new Tr;return t.asyncQueue.enqueue((0,x.Z)(function*(){try{yield LE(t,n),yield Hx(t,e),r.resolve()}catch(i){const o=i;if(!e7(o))throw o;so("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}})).then(()=>r.promise)}function y7(t){if(t._initialized||t._terminated)throw new le(W.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class _a{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _a(Ar.fromBase64String(e))}catch(n){throw new le(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _a(Ar.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class dc{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new le(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Md{constructor(e){this._methodName=e}}class jE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}}const KCe=/^__.*__$/;class ZCe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new cc(e,this.data,this.fieldMask,n,this.fieldTransforms):new cf(e,this.data,n,this.fieldTransforms)}}class v7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new cc(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function C7(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class $E{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new $E(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return WE(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(C7(this.Iu)&&KCe.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class YCe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zy(e)}pu(e,n,r,i=!1){return new $E({Iu:e,methodName:n,gu:r,path:Cn.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Od(t){const e=t._freezeSettings(),n=zy(t._databaseId);return new YCe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function HE(t,e,n,r,i,o={}){const s=t.pu(o.merge||o.mergeFields?2:0,e,n,i);nk("Data must be an object, but it was:",s,r);const a=E7(r,s);let c,l;if(o.merge)c=new ao(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const f of o.mergeFields){const _=Qy(e,f,n);if(!s.contains(_))throw new le(W.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);O7(h,_)||h.push(_)}c=new ao(h),l=s.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,l=s.fieldTransforms;return new ZCe(new ri(a),c,l)}class Yy extends Md{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yy}}function w7(t,e,n){return new $E({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Jx extends Md{_toFieldTransform(e){return new Ay(e.path,new sf)}isEqual(e){return e instanceof Jx}}class QCe extends Md{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=w7(this,e,!0),r=this.yu.map(o=>Id(o,n)),i=new gd(r);return new Ay(e.path,i)}isEqual(e){return this===e}}class XCe extends Md{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=w7(this,e,!0),r=this.yu.map(o=>Id(o,n)),i=new _d(r);return new Ay(e.path,i)}isEqual(e){return this===e}}class JCe extends Md{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=new af(e.serializer,pz(e.serializer,this.wu));return new Ay(e.path,n)}isEqual(e){return this===e}}function ek(t,e,n,r){const i=t.pu(1,e,n);nk("Data must be an object, but it was:",i,r);const o=[],s=ri.empty();Tl(r,(c,l)=>{const h=zE(e,c,n);l=(0,M.m9)(l);const f=i.Ru(h);if(l instanceof Yy)o.push(h);else{const _=Id(l,f);null!=_&&(o.push(h),s.set(h,_))}});const a=new ao(o);return new v7(s,a,i.fieldTransforms)}function tk(t,e,n,r,i,o){const s=t.pu(1,e,n),a=[Qy(e,r,n)],c=[i];if(o.length%2!=0)throw new le(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)a.push(Qy(e,o[_])),c.push(o[_+1]);const l=[],h=ri.empty();for(let _=a.length-1;_>=0;--_)if(!O7(l,a[_])){const v=a[_];let E=c[_];E=(0,M.m9)(E);const I=s.Ru(v);if(E instanceof Yy)l.push(v);else{const b=Id(E,I);null!=b&&(l.push(v),h.set(v,b))}}const f=new ao(l);return new v7(h,f,s.fieldTransforms)}function P7(t,e,n,r=!1){return Id(n,t.pu(r?4:3,e))}function Id(t,e){if(M7(t=(0,M.m9)(t)))return nk("Unsupported field value:",e,t),E7(t,e);if(t instanceof Md)return function(r,i){if(!C7(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let c=Id(a,i.Vu(s));null==c&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if(null===(r=(0,M.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return pz(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=An.fromDate(r);return{timestampValue:uf(i.serializer,o)}}if(r instanceof An){const o=new An(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uf(i.serializer,o)}}if(r instanceof jE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _a)return{bytesValue:kz(i.serializer,r._byteString)};if(r instanceof Pn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:yR(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${UE(r)}`)}(t,e)}function E7(t,e){const n={};return NH(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tl(t,(r,i)=>{const o=Id(i,e.Eu(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function M7(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof An||t instanceof jE||t instanceof _a||t instanceof Pn||t instanceof Md)}function nk(t,e,n){if(!M7(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=UE(n);throw e.mu("an object"===r?t+" a custom object":t+" "+r)}var i}function Qy(t,e,n){if((e=(0,M.m9)(e))instanceof dc)return e._internalPath;if("string"==typeof e)return zE(t,e);throw WE("Field path arguments must be of type string or ",t,!1,void 0,n)}const ewe=new RegExp("[~\\*/\\[\\]]");function zE(t,e,n){if(e.search(ewe)>=0)throw WE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new dc(...e.split("."))._internalPath}catch{throw WE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function WE(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new le(W.INVALID_ARGUMENT,a+t+c)}function O7(t,e){return t.some(n=>n.isEqual(e))}class Xy{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new twe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(GE("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class twe extends Xy{data(){return super.data()}}function GE(t,e){return"string"==typeof e?zE(t,e):e instanceof dc?e._internalPath:e._delegate._internalPath}function I7(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new le(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rk{}class Jy extends rk{}function jl(t,e,...n){let r=[];e instanceof rk&&r.push(e),r=r.concat(n),function(o){const s=o.filter(c=>c instanceof Tf).length,a=o.filter(c=>c instanceof ev).length;if(s>1||s>0&&a>0)throw new le(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class ev extends Jy{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ev(e,n,r)}_apply(e){const n=this._parse(e);return D7(e._query,n),new ii(e.firestore,e.converter,uR(e._query,n))}_parse(e){const n=Od(e.firestore);return function(o,s,a,c,l,h,f){let _;if(l.isKeyField()){if("array-contains"===h||"array-contains-any"===h)throw new le(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if("in"===h||"not-in"===h){A7(f,h);const v=[];for(const E of f)v.push(T7(c,o,E));_={arrayValue:{values:v}}}else _=T7(c,o,f)}else"in"!==h&&"not-in"!==h&&"array-contains-any"!==h||A7(f,h),_=P7(a,"where",f,"in"===h||"not-in"===h);return wt.create(l,h,_)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class Tf extends rk{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Tf(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:zt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const c of a)D7(s,c),s=uR(s,c)}(e._query,n),new ii(e.firestore,e.converter,uR(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ik extends Jy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ik(e,n)}_apply(e){const n=function(i,o,s){if(null!==i.startAt)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ey(o,s)}(e._query,this._field,this._direction);return new ii(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new sc(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}class qE extends Jy{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new qE(e,n,r)}_apply(e){return new ii(e.firestore,e.converter,pE(e._query,this._limit,this._limitType))}}class KE extends Jy{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new KE(e,n,r)}_apply(e){const n=b7(e,this.type,this._docOrFields,this._inclusive);return new ii(e.firestore,e.converter,(o=n,new sc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)));var i,o}}class ZE extends Jy{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new ZE(e,n,r)}_apply(e){const n=b7(e,this.type,this._docOrFields,this._inclusive);return new ii(e.firestore,e.converter,(o=n,new sc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)));var i,o}}function b7(t,e,n,r){if(n[0]=(0,M.m9)(n[0]),n[0]instanceof Xy)return function(o,s,a,c,l){if(!c)throw new le(W.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const f of nf(o))if(f.field.isKeyField())h.push(pd(s,c.key));else{const _=c.data.field(f.field);if(sE(_))throw new le(W.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===_){const v=f.field.canonicalString();throw new le(W.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}h.push(_)}return new kl(h,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Od(t.firestore);return function(s,a,c,l,h,f){const _=s.explicitOrderBy;if(h.length>_.length)throw new le(W.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const v=[];for(let E=0;E<h.length;E++){const I=h[E];if(_[E].field.isKeyField()){if("string"!=typeof I)throw new le(W.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof I}`);if(!lR(s)&&-1!==I.indexOf("/"))throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${I}' contains a slash.`);const b=s.path.child(St.fromString(I));if(!ve.isDocumentKey(b))throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${b}' is not because it contains an odd number of segments.`);const L=new ve(b);v.push(pd(a,L))}else{const b=P7(c,l,I);v.push(b)}}return new kl(v,f)}(t._query,t.firestore._databaseId,i,e,n,r)}}function T7(t,e,n){if("string"==typeof(n=(0,M.m9)(n))){if(""===n)throw new le(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lR(e)&&-1!==n.indexOf("/"))throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(St.fromString(n));if(!ve.isDocumentKey(r))throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return pd(t,new ve(r))}if(n instanceof Pn)return pd(t,n._key);throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${UE(n)}.`)}function A7(t,e){if(!Array.isArray(t)||0===t.length)throw new le(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function D7(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new le(W.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ok{convertValue(e,n="none"){switch(Rl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(oc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Tl(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new jE(Wn(e.latitude),Wn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=aE(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(vy(e));default:return null}}convertTimestamp(e){const n=Al(e);return new An(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=St.fromString(e);Ne(zz(r));const i=new Dl(r.get(1),r.get(3)),o=new ve(r.popFirst(5));return i.isEqual(n)||nr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function YE(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class uwe extends ok{constructor(e){super(),this.firestore=e}convertBytes(e){return new _a(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,n)}}class bd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hc extends Xy{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new tv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(GE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class tv extends hc{data(e={}){return super.data(e)}}class $l{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new bd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new tv(this._firestore,this._userDataWriter,r.key,r,new bd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new tv(i._firestore,i._userDataWriter,a.doc.key,a.doc,new bd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const c=new tv(i._firestore,i._userDataWriter,a.doc.key,a.doc,new bd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,h=-1;return 0!==a.type&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:hwe(a.type),doc:c,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function hwe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}function R7(t,e){return t instanceof hc&&e instanceof hc?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof $l&&e instanceof $l&&t._firestore===e._firestore&&Qx(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}class Hl extends ok{constructor(e){super(),this.firestore=e}convertBytes(e){return new _a(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,n)}}function x7(t,e,n){t=vt(t,Pn);const r=vt(t.firestore,hn),i=YE(t.converter,e,n);return Af(r,[HE(Od(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Dn.none())])}function k7(t,e,n,...r){t=vt(t,Pn);const i=vt(t.firestore,hn),o=Od(i);let s;return s="string"==typeof(e=(0,M.m9)(e))||e instanceof dc?tk(o,"updateDoc",t._key,e,n,r):ek(o,"updateDoc",t._key,e),Af(i,[s.toMutation(t._key,Dn.exists(!0))])}function N7(t,...e){var n,r,i;t=(0,M.m9)(t);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||Xx(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(Xx(e[s])){const f=e[s];e[s]=null===(n=f.next)||void 0===n?void 0:n.bind(f),e[s+1]=null===(r=f.error)||void 0===r?void 0:r.bind(f),e[s+2]=null===(i=f.complete)||void 0===i?void 0:i.bind(f)}let c,l,h;if(t instanceof Pn)l=vt(t.firestore,hn),h=tf(t._key.path),c={next:f=>{e[s]&&e[s](sk(l,t,f))},error:e[s+1],complete:e[s+2]};else{const f=vt(t,ii);l=vt(f.firestore,hn),h=f._query;const _=new Hl(l);c={next:v=>{e[s]&&e[s](new $l(l,_,f,v))},error:e[s+1],complete:e[s+2]},I7(t._query)}return function(_,v,E,I){const b=new FE(I),L=new gx(v,b,E);return _.asyncQueue.enqueueAndForget((0,x.Z)(function*(){return ux(yield bf(_),L)})),()=>{b.Na(),_.asyncQueue.enqueueAndForget((0,x.Z)(function*(){return hx(yield bf(_),L)}))}}(Gn(l),h,a,c)}function Af(t,e){return function(r,i){const o=new Tr;return r.asyncQueue.enqueueAndForget((0,x.Z)(function*(){return function rCe(t,e,n){return Cx.apply(this,arguments)}(yield Kx(r),i,o)})),o.promise}(Gn(t),e)}function sk(t,e,n){const r=n.docs.get(e._key),i=new Hl(t);return new hc(t,i,e._key,r,new bd(n.hasPendingWrites,n.fromCache),e.converter)}const Dwe={maxAttempts:5};class F7{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Od(e)}set(e,n,r){this._verifyNotCommitted();const i=zl(e,this._firestore),o=YE(i.converter,n,r),s=HE(this._dataReader,"WriteBatch.set",i._key,o,null!==i.converter,r);return this._mutations.push(s.toMutation(i._key,Dn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=zl(e,this._firestore);let s;return s="string"==typeof(n=(0,M.m9)(n))||n instanceof dc?tk(this._dataReader,"WriteBatch.update",o._key,n,r,i):ek(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,Dn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=zl(e,this._firestore);return this._mutations=this._mutations.concat(new lf(n._key,Dn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new le(W.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function zl(t,e){if((t=(0,M.m9)(t)).firestore!==e)throw new le(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class Swe extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Od(n)}get(n){const r=zl(n,this._firestore),i=new uwe(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||1!==o.length)return Ae();const s=o[0];if(s.isFoundDocument())return new Xy(this._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new Xy(this._firestore,i,r._key,null,r.converter);throw Ae()})}set(n,r,i){const o=zl(n,this._firestore),s=YE(o.converter,r,i),a=HE(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,i);return this._transaction.set(o._key,a),this}update(n,r,i,...o){const s=zl(n,this._firestore);let a;return a="string"==typeof(r=(0,M.m9)(r))||r instanceof dc?tk(this._dataReader,"Transaction.update",s._key,r,i,o):ek(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(n){const r=zl(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=zl(e,this._firestore),r=new Hl(this._firestore);return super.get(e).then(i=>new hc(this._firestore,r,n._key,i._document,new bd(!1,!1),n.converter))}}!function(e,n=!0){qp=$e.SDK_VERSION,(0,$e._registerComponent)(new Eo.wA("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new hn(new xme(r.getProvider("auth-internal")),new Fme(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new le(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,$e.registerVersion)(mH,"4.3.2",e),(0,$e.registerVersion)(mH,"4.3.2","esm2017")}();class ck{constructor(e){return e}}const B7="firestore",lk=new fe("angularfire2.firestore-instances");function jwe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new ck(r)}}const $we={provide:class Uwe{constructor(){return ST(B7)}},deps:[[new p,lk]]},Hwe={provide:ck,useFactory:function Bwe(t,e){const n=function Dj(t,e,n){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(B7,t,e);return n&&new ck(n)},deps:[[new p,lk],Fm]};let j7=(()=>{var t;class e{constructor(){(0,$e.registerVersion)("angularfire",yl.full,"fst")}}return t=e,Le(e,"\u0275fac",function(r){return new(r||t)}),Le(e,"\u0275mod",Un({type:t})),Le(e,"\u0275inj",Yn({providers:[Hwe,$we]})),e})();function zwe(t,...e){return{ngModule:j7,providers:[{provide:lk,useFactory:jwe(t),multi:!0,deps:[Dt,Fi,Tp,K9,[new p,e$],[new p,bm],...e]}]}}const Wwe=Qce(VCe,!0);Ze(643);class Gwe extends J{constructor(e=1/0,n=1/0,r=DT){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const s=n.now();let a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}}function $7(t,e,n){let r,i=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t):r=t??1/0,We({connector:()=>new Gwe(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function H7(t,e){return O(e)?Je(()=>t,e):Je(()=>t)}const uk=new fe("angularfire2.auth.use-emulator"),dk=new fe("angularfire2.auth.settings"),hk=new fe("angularfire2.auth.tenant-id"),pk=new fe("angularfire2.auth.langugage-code"),fk=new fe("angularfire2.auth.use-device-language"),gk=new fe("angularfire.auth.persistence"),_k=(t,e,n,r,i,o,s,a)=>J0(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const c=e.runOutsideAngular(()=>t.auth());if(n&&c.useEmulator(...n),r&&(c.tenantId=r),c.languageCode=i,o&&c.useDeviceLanguage(),s)for(const[l,h]of Object.entries(s))c.settings[l]=h;return a&&c.setPersistence(a),c},[n,r,i,o,s,a]);let mk=(()=>{var t;class e{constructor(r,i,o,s,a,c,l,h,f,_,v,E){Le(this,"authState",void 0),Le(this,"idToken",void 0),Le(this,"user",void 0),Le(this,"idTokenResult",void 0),Le(this,"credential",void 0);const I=new J,b=K(void 0).pipe(vr(a.outsideAngular),Je(()=>s.runOutsideAngular(()=>Promise.resolve().then(Ze.bind(Ze,643)))),_e(()=>Tm(r,s,i)),_e(L=>_k(L,s,c,h,f,_,l,v)),$7({bufferSize:1,refCount:!1}));if(Dw(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=K(null);else{b.pipe(Jc()).subscribe();const L=b.pipe(Je($=>$.getRedirectResult().then(pe=>pe,()=>null)),tr,$7({bufferSize:1,refCount:!1})),N=b.pipe(Je($=>new st(pe=>({unsubscribe:s.runOutsideAngular(()=>$.onAuthStateChanged(Oe=>pe.next(Oe),Oe=>pe.error(Oe),()=>pe.complete()))})))),H=b.pipe(Je($=>new st(pe=>({unsubscribe:s.runOutsideAngular(()=>$.onIdTokenChanged(Oe=>pe.next(Oe),Oe=>pe.error(Oe),()=>pe.complete()))}))));this.authState=L.pipe(H7(N),Gr(a.outsideAngular),vr(a.insideAngular)),this.user=L.pipe(H7(H),Gr(a.outsideAngular),vr(a.insideAngular)),this.idToken=this.user.pipe(Je($=>$?R($.getIdToken()):K(null))),this.idTokenResult=this.user.pipe(Je($=>$?R($.getIdTokenResult()):K(null))),this.credential=te(L,I,this.authState.pipe(Qo($=>!$))).pipe(_e($=>$?.user?$:null),Gr(a.outsideAngular),vr(a.insideAngular))}return((t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{if(t[o])return r?.spy?.get&&r.spy.get(o,t[o]),t[o];if(tle.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(a=>{const c=a?.[o];return"function"==typeof c?c.bind(a):c?.then?c.then(l=>n.run(()=>l)):n.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,l)=>s.then(h=>{const f=h?.(...l);return r?.spy?.apply&&r.spy.apply(o,l,f),f})})})}))(this,b,s,{spy:{apply:(L,N,H)=>{(L.startsWith("signIn")||L.startsWith("createUser"))&&H.then($=>I.next($))}}})}}return t=e,Le(e,"\u0275fac",function(r){return new(r||t)(ie(Dp),ie(Sp,8),ie(mo),ie(Dt),ie(Tp),ie(uk,8),ie(dk,8),ie(hk,8),ie(pk,8),ie(fk,8),ie(gk,8),ie(bm,8))}),Le(e,"\u0275prov",Te({token:t,factory:t.\u0275fac,providedIn:"any"})),e})();const Xwe=new mi.Yd("@firebase/database-compat"),z7=function(t){Xwe.warn("FIREBASE WARNING: "+t)};class t0e{constructor(e){this._delegate=e}cancel(e){(0,M.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,M.Wj)("OnDisconnect.cancel","onComplete",e,!0);const n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){(0,M.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,M.Wj)("OnDisconnect.remove","onComplete",e,!0);const n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){(0,M.Dv)("OnDisconnect.set",1,2,arguments.length),(0,M.Wj)("OnDisconnect.set","onComplete",n,!0);const r=this._delegate.set(e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){(0,M.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,M.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,n);return r&&i.then(()=>r(null),o=>r(o)),i}update(e,n){if((0,M.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,z7("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,M.Wj)("OnDisconnect.update","onComplete",n,!0);const r=this._delegate.update(e);return n&&r.then(()=>n(null),i=>n(i)),r}}class n0e{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return(0,M.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Wl{constructor(e,n){this._database=e,this._delegate=n}val(){return(0,M.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,M.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,M.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,M.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,M.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),pm("DataSnapshot.child","path",e,!1),new Wl(this._database,this._delegate.child(e))}hasChild(e){return(0,M.Dv)("DataSnapshot.hasChild",1,1,arguments.length),pm("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,M.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,M.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,M.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new Wl(this._database,n)))}hasChildren(){return(0,M.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,M.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,M.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ao(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class oi{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,i){var o;(0,M.Dv)("Query.on",2,4,arguments.length),(0,M.Wj)("Query.on","callback",n,!1);const s=oi.getCancelAndContextArgs_("Query.on",r,i),a=(l,h)=>{n.call(s.context,new Wl(this.database,l),h)};a.userCallback=n,a.context=s.context;const c=null===(o=s.cancel)||void 0===o?void 0:o.bind(s.context);switch(e){case"value":return Ya(this._delegate,a,c),n;case"child_added":return d4(this._delegate,a,c),n;case"child_removed":return f4(this._delegate,a,c),n;case"child_changed":return h4(this._delegate,a,c),n;case"child_moved":return p4(this._delegate,a,c),n;default:throw new Error((0,M.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if((0,M.Dv)("Query.off",0,3,arguments.length),function(t,e,n){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,M.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,M.Wj)("Query.off","callback",n,!0),(0,M.lb)("Query.off","context",r,!0),n){const i=()=>{};i.userCallback=n,i.context=r,g4(this._delegate,e,i)}else g4(this._delegate,e)}get(){return gm(this._delegate).then(e=>new Wl(this.database,e))}once(e,n,r,i){(0,M.Dv)("Query.once",1,4,arguments.length),(0,M.Wj)("Query.once","callback",n,!0);const o=oi.getCancelAndContextArgs_("Query.once",r,i),s=new M.BH,a=(l,h)=>{const f=new Wl(this.database,l);n&&n.call(o.context,f,h),s.resolve(f)};a.userCallback=n,a.context=o.context;const c=l=>{o.cancel&&o.cancel.call(o.context,l),s.reject(l)};switch(e){case"value":Ya(this._delegate,a,c,{onlyOnce:!0});break;case"child_added":d4(this._delegate,a,c,{onlyOnce:!0});break;case"child_removed":f4(this._delegate,a,c,{onlyOnce:!0});break;case"child_changed":h4(this._delegate,a,c,{onlyOnce:!0});break;case"child_moved":p4(this._delegate,a,c,{onlyOnce:!0});break;default:throw new Error((0,M.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(e){return(0,M.Dv)("Query.limitToFirst",1,1,arguments.length),new oi(this.database,bs(this._delegate,function aae(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new sae(t)}(e)))}limitToLast(e){return(0,M.Dv)("Query.limitToLast",1,1,arguments.length),new oi(this.database,bs(this._delegate,function lae(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new cae(t)}(e)))}orderByChild(e){return(0,M.Dv)("Query.orderByChild",1,1,arguments.length),new oi(this.database,bs(this._delegate,function dae(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return pm("orderByChild","path",t,!1),new uae(t)}(e)))}orderByKey(){return(0,M.Dv)("Query.orderByKey",0,0,arguments.length),new oi(this.database,bs(this._delegate,function pae(){return new hae}()))}orderByPriority(){return(0,M.Dv)("Query.orderByPriority",0,0,arguments.length),new oi(this.database,bs(this._delegate,function gae(){return new fae}()))}orderByValue(){return(0,M.Dv)("Query.orderByValue",0,0,arguments.length),new oi(this.database,bs(this._delegate,function mae(){return new _ae}()))}startAt(e=null,n){return(0,M.Dv)("Query.startAt",0,2,arguments.length),new oi(this.database,bs(this._delegate,function rae(t=null,e){return hm("startAt","key",e,!0),new m4(t,e)}(e,n)))}startAfter(e=null,n){return(0,M.Dv)("Query.startAfter",0,2,arguments.length),new oi(this.database,bs(this._delegate,function oae(t,e){return hm("startAfter","key",e,!0),new iae(t,e)}(e,n)))}endAt(e=null,n){return(0,M.Dv)("Query.endAt",0,2,arguments.length),new oi(this.database,bs(this._delegate,function eae(t,e){return hm("endAt","key",e,!0),new _4(t,e)}(e,n)))}endBefore(e=null,n){return(0,M.Dv)("Query.endBefore",0,2,arguments.length),new oi(this.database,bs(this._delegate,function nae(t,e){return hm("endBefore","key",e,!0),new tae(t,e)}(e,n)))}equalTo(e,n){return(0,M.Dv)("Query.equalTo",1,2,arguments.length),new oi(this.database,bs(this._delegate,function vae(t,e){return hm("equalTo","key",e,!0),new yae(t,e)}(e,n)))}toString(){return(0,M.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,M.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,M.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof oi))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){const i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,(0,M.Wj)(e,"cancel",i.cancel,!0),i.context=r,(0,M.lb)(e,"context",i.context,!0);else if(n)if("object"==typeof n&&null!==n)i.context=n;else{if("function"!=typeof n)throw new Error((0,M.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=n}return i}get ref(){return new Ao(this.database,new ts(this._delegate._repo,this._delegate._path))}}class Ao extends oi{constructor(e,n){super(e,new io(n._repo,n._path,new c0,!1)),this.database=e,this._delegate=n}getKey(){return(0,M.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,M.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new Ao(this.database,qu(this._delegate,e))}getParent(){(0,M.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Ao(this.database,e):null}getRoot(){return(0,M.Dv)("Reference.root",0,0,arguments.length),new Ao(this.database,this._delegate.root)}set(e,n){(0,M.Dv)("Reference.set",1,2,arguments.length),(0,M.Wj)("Reference.set","onComplete",n,!0);const r=Os(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}update(e,n){if((0,M.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,z7("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}es("Reference.update",this._delegate._path),(0,M.Wj)("Reference.update","onComplete",n,!0);const r=Jse(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){(0,M.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,M.Wj)("Reference.setWithPriority","onComplete",r,!0);const i=function Xse(t,e,n){if(es("setWithPriority",t._path),ea("setWithPriority",e,t._path,!1),nT("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";const r=new M.BH;return iT(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}(this._delegate,e,n);return r&&i.then(()=>r(null),o=>r(o)),i}remove(e){(0,M.Dv)("Reference.remove",0,1,arguments.length),(0,M.Wj)("Reference.remove","onComplete",e,!0);const n=function Yse(t){return es("remove",t._path),Os(t,null)}(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){(0,M.Dv)("Reference.transaction",1,3,arguments.length),(0,M.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,M.Wj)("Reference.transaction","onComplete",n,!0),function(t,e,n,r){if(void 0!==n&&"boolean"!=typeof n)throw new Error((0,M.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const i=function Fae(t,e,n){var r;if(t=(0,M.m9)(t),es("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";const i=null===(r=n?.applyLocally)||void 0===r||r,o=new M.BH,a=Ya(t,()=>{});return function $se(t,e,n,r,i,o){Pp(t,"transaction on "+e);const s={path:e,update:n,onComplete:r,status:null,order:C5(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=sT(t,e,void 0);s.currentInputSnapshot=a;const c=s.update(a.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{dm("transaction failed: Data returned ",c,s.path),s.status=0;const l=O0(t.transactionQueueTree_,e),h=Wu(l)||[];let f;h.push(s),Jb(l,h),"object"==typeof c&&null!==c&&(0,M.r3)(c,".priority")?(f=(0,M.DV)(c,".priority"),(0,M.hu)(um(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(E0(t.serverSyncTree_,e)||tt.EMPTY_NODE).getPriority().val();const _=fm(t),v=xn(c,f),E=Yb(v,a,_);s.currentOutputSnapshotRaw=v,s.currentOutputSnapshotResolved=E,s.currentWriteId=A0(t);const I=Hb(t.serverSyncTree_,e,E,s.currentWriteId,s.applyLocally);Mo(t.eventQueue_,e,I),D0(t,t.transactionQueueTree_)}}(t._repo,t._path,e,(c,l,h)=>{let f=null;c?o.reject(c):(f=new Gu(h,new ts(t._repo,t._path),ln),o.resolve(new Nae(l,f)))},a,i),o.promise}(this._delegate,e,{applyLocally:r}).then(o=>new n0e(o.committed,new Wl(this.database,o.snapshot)));return n&&i.then(o=>n(null,o.committed,o.snapshot),o=>n(o,!1,null)),i}setPriority(e,n){(0,M.Dv)("Reference.setPriority",1,2,arguments.length),(0,M.Wj)("Reference.setPriority","onComplete",n,!0);const r=function Qse(t,e){t=(0,M.m9)(t),es("setPriority",t._path),nT("setPriority",e,!1);const n=new M.BH;return iT(t._repo,In(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}push(e,n){(0,M.Dv)("Reference.push",0,2,arguments.length),(0,M.Wj)("Reference.push","onComplete",n,!0);const r=function Zse(t,e){t=(0,M.m9)(t),es("push",t._path),ea("push",e,t._path,!0);const n=XB(t._repo),r=Kse(n),i=qu(t,r),o=qu(t,r);let s;return s=null!=e?Os(o,e).then(()=>o):Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}(this._delegate,e),i=r.then(s=>new Ao(this.database,s));n&&i.then(()=>n(null),s=>n(s));const o=new Ao(this.database,r);return o.then=i.then.bind(i),o.catch=i.catch.bind(i,void 0),o}onDisconnect(){return es("Reference.onDisconnect",this._delegate._path),new t0e(new l4(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class nv{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Iae,forceLongPolling:bae}}useEmulator(e,n,r={}){C4(this._delegate,e,n,r)}ref(e){if((0,M.Dv)("database.ref",0,1,arguments.length),e instanceof Ao){const n=u4(this._delegate,e.toString());return new Ao(this,n)}{const n=ur(this._delegate,e);return new Ao(this,n)}}refFromURL(e){(0,M.Dv)("database.refFromURL",1,1,arguments.length);const r=u4(this._delegate,e);return new Ao(this,r)}goOffline(){return(0,M.Dv)("database.goOffline",0,0,arguments.length),function Tae(t){(t=(0,M.m9)(t))._checkNotDeleted("goOffline"),n4(t._repo)}(this._delegate)}goOnline(){return(0,M.Dv)("database.goOnline",0,0,arguments.length),function Aae(t){(t=(0,M.m9)(t))._checkNotDeleted("goOnline"),function jse(t){t.persistentConnection_&&t.persistentConnection_.resume(QB)}(t._repo)}(this._delegate)}}nv.ServerValue={TIMESTAMP:function xae(){return Rae}(),increment:t=>function kae(t){return{".sv":{increment:t}}}(t)};var i0e=Object.freeze({__proto__:null,initStandalone:function r0e({app:t,url:e,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:o,nodeAdmin:s=!1}){sb(n);const a=new Eo.H0("database-standalone"),c=new Eo.zt("auth-internal",a);let l;return c.setComponent(new Eo.wA("auth-internal",()=>r,"PRIVATE")),i&&(l=new Eo.zt("app-check-internal",a),l.setComponent(new Eo.wA("app-check-internal",()=>i,"PRIVATE"))),{instance:new nv(hT(t,c,l,e,s),t),namespace:o}}});const o0e=nv.ServerValue;function rv(t,e,n="on",r=X0){return new st(i=>{let o=null;return o=t[n](e,(s,a)=>{r.schedule(()=>{i.next({snapshot:s,prevKey:a})}),"once"===n&&r.schedule(()=>i.complete())},s=>{r.schedule(()=>i.error(s))}),"on"===n?{unsubscribe(){null!=o&&t.off(e,o)}}:{unsubscribe(){}}}).pipe(_e(i=>{const{snapshot:o,prevKey:s}=i;let a=null;return o.exists()&&(a=o.key),{type:e,payload:o,prevKey:s,key:a}}),We())}function W7(t){return null==t}function G7(t){return"function"==typeof t.set}function q7(t,e){return G7(e)?e:t.ref(e)}function K7(t,e){if(function a0e(t){return"string"==typeof t}(t))return e.stringCase();if(G7(t))return e.firebaseCase();if(function c0e(t){return"function"==typeof t.exportVal}(t))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function Z7(t){return(W7(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function Y7(t,e,n){return te(...(e=Z7(e)).map(i=>rv(t,i,"on",n)))}function Q7(t,e){return function(r,i){return K7(r,{stringCase:()=>t.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function h0e(t){return function(n){return n?K7(n,{stringCase:()=>t.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):t.remove()}}function X7(t,e){const n=t.length;for(let r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function g0e(t,e){const{payload:n,prevKey:r,key:i}=e,o=X7(t,i),s=function f0e(t,e){if(W7(e))return 0;{const n=X7(t,e);return-1===n?t.length:n+1}}(t,r);switch(e.type){case"value":if(e.payload?.exists()){let a=null;e.payload.forEach(c=>{const l={payload:c,type:"value",prevKey:a,key:c.key};return a=c.key,t=[...t,l],!1})}return t;case"child_added":if(o>-1)(t[o-1]?.key||null)!==r&&(t=t.filter(c=>c.payload.key!==n.key)).splice(s,0,e);else{if(null==r)return[e,...t];(t=t.slice()).splice(s,0,e)}return t;case"child_removed":return t.filter(a=>a.payload.key!==n.key);case"child_changed":return t.map(a=>a.payload.key===i?e:a);case"child_moved":if(o>-1){const a=t.splice(o,1)[0];return(t=t.slice()).splice(s,0,a),t}return t;default:return t}}function J7(t,e,n){return function p0e(t,e,n){return rv(t,"value","once",n).pipe(Je(r=>{const i=[K(r)];return e.forEach(o=>i.push(rv(t,o,"on",n))),te(...i).pipe(rp(g0e,[]))}),on())}(t,e=Z7(e),n)}function eW(t,e){return function(){return rv(t,"value","on",e)}}!function s0e(t){t.INTERNAL.registerComponent(new Eo.wA("database-compat",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new nv(i,r)},"PUBLIC").setServiceProps({Reference:Ao,Query:oi,Database:nv,DataSnapshot:Wl,enableLogging:Dae,INTERNAL:i0e,ServerValue:o0e}).setMultipleInstances(!0)),t.registerVersion("@firebase/database-compat","1.0.1")}(ns.Z);const y0e=new fe("angularfire2.realtimeDatabaseURL"),v0e=new fe("angularfire2.database.use-emulator");let C0e=(()=>{var t;class e{constructor(r,i,o,s,a,c,l,h,f,_,v,E,I,b,L){Le(this,"schedulers",void 0),Le(this,"database",void 0),this.schedulers=c;const N=l,H=Tm(r,a,i);h&&_k(H,a,f,v,E,I,_,b),this.database=J0(`${H.name}.database.${o}`,"AngularFireDatabase",H.name,()=>{const $=a.runOutsideAngular(()=>H.database(o||void 0));return N&&$.useEmulator(...N),$},[N])}list(r,i){const o=this.schedulers.ngZone.runOutsideAngular(()=>q7(this.database,r));let s=o;return i&&(s=i(o)),function _0e(t,e){const n=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:Q7(r,"update"),set:Q7(r,"set"),push:i=>r.push(i),remove:h0e(r),snapshotChanges:i=>J7(t,i,n).pipe(tr),stateChanges:i=>Y7(t,i,n).pipe(tr),auditTrail:i=>function l0e(t,e,n){return function d0e(t,e,n){return function u0e(t,e){return rv(t,"value","on",e).pipe(_e(n=>{let r;return n.payload.forEach(i=>(r=i.key,!1)),{data:n,lastKeyToLoad:r}}))}(t,n).pipe(function Kwe(...t){const e=ks(t);return Q((n,r)=>{const i=t.length,o=new Array(i);let s=t.map(()=>!1),a=!1;for(let c=0;c<i;c++)Ln(t[c]).subscribe(Ce(r,l=>{o[c]=l,!a&&!s[c]&&(s[c]=!0,(a=s.every(Fn))&&(s=null))},De));n.subscribe(Ce(r,c=>{if(a){const l=[c,...o];r.next(e?e(...l):l)}}))})}(e),_e(([i,o])=>{const s=i.lastKeyToLoad,a=o.map(c=>c.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),function Zwe(t){return Q((e,n)=>{let r=!1,i=0;e.subscribe(Ce(n,o=>(r||(r=!t(o,i++)))&&n.next(o)))})}(i=>-1===i.loadedKeys.indexOf(i.lastKeyToLoad)),_e(i=>i.actions))}(t,Y7(t,e).pipe(rp((i,o)=>[...i,o],[])),n)}(t,i,n).pipe(tr),valueChanges:(i,o)=>J7(t,i,n).pipe(_e(a=>a.map(c=>o&&o.idField?{...c.payload.val(),[o.idField]:c.key}:c.payload.val())),tr)}}(s,this)}object(r){return function m0e(t,e){return{query:t,snapshotChanges:()=>eW(t,e.schedulers.outsideAngular)().pipe(tr),update:n=>t.ref.update(n),set:n=>t.ref.set(n),remove:()=>t.ref.remove(),valueChanges:()=>eW(t,e.schedulers.outsideAngular)().pipe(tr,_e(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>q7(this.database,r)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t=e,Le(e,"\u0275fac",function(r){return new(r||t)(ie(Dp),ie(Sp,8),ie(y0e,8),ie(mo),ie(Dt),ie(Tp),ie(v0e,8),ie(mk,8),ie(uk,8),ie(dk,8),ie(hk,8),ie(pk,8),ie(fk,8),ie(gk,8),ie(bm,8))}),Le(e,"\u0275prov",Te({token:t,factory:t.\u0275fac,providedIn:"any"})),e})(),w0e=(()=>{var t;class e{constructor(){ns.Z.registerVersion("angularfire",yl.full,"rtdb-compat")}}return t=e,Le(e,"\u0275fac",function(r){return new(r||t)}),Le(e,"\u0275mod",Un({type:t})),Le(e,"\u0275inj",Yn({providers:[C0e]})),e})();function yk(){return Q((t,e)=>{let n,r=!1;t.subscribe(Ce(e,i=>{const o=n;n=i,r&&e.next([o,i]),r=!0}))})}function vk(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new le("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function tW(){if(typeof Uint8Array>"u")throw new le("unimplemented","Uint8Arrays are not available in this environment.")}function nW(){if(!function lye(){return typeof atob<"u"}())throw new le("unimplemented","Blobs are unavailable in Firestore in this environment.")}class iv{constructor(e){this._delegate=e}static fromBase64String(e){return nW(),new iv(_a.fromBase64String(e))}static fromUint8Array(e){return tW(),new iv(_a.fromUint8Array(e))}toBase64(){return nW(),this._delegate.toBase64()}toUint8Array(){return tW(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ck(t){return function M0e(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}(t,["next","error","complete"])}class O0e{enableIndexedDbPersistence(e,n){return function UCe(t,e){y7(t=vt(t,hn));const n=Gn(t);if(n._uninitializedComponentsProvider)throw new le(W.FAILED_PRECONDITION,"SDK cache is already specified.");so("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new Of;return m7(n,i,new jx(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function BCe(t){y7(t=vt(t,hn));const e=Gn(t);if(e._uninitializedComponentsProvider)throw new le(W.FAILED_PRECONDITION,"SDK cache is already specified.");so("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new Of;return m7(e,r,new X8(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function jCe(t){if(t._initialized&&!t._terminated)throw new le(W.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Tr;return t._queue.enqueueAndForgetEvenWhileRestricted((0,x.Z)(function*(){try{yield(n=(0,x.Z)(function*(i){if(!Ss.D())return Promise.resolve();const o=i+"main";yield Ss.delete(o)}),function r(i){return n.apply(this,arguments)})(xR(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class rW{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Dl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&so("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,r={}){p7(this._delegate,e,n,r)}enableNetwork(){return function HCe(t){return function MCe(t){return t.asyncQueue.enqueue((0,x.Z)(function*(){const e=yield t7(t),n=yield n7(t);return e.setNetworkEnabled(!0),function(i){const o=ye(i);return o.C_.delete(0),Wy(o)}(n)}))}(Gn(t=vt(t,hn)))}(this._delegate)}disableNetwork(){return function zCe(t){return function OCe(t){return t.asyncQueue.enqueue((0,x.Z)(function*(){const e=yield t7(t),n=yield n7(t);return e.setNetworkEnabled(!1),(r=(0,x.Z)(function*(o){const s=ye(o);s.C_.add(0),yield yf(s),s.M_.set("Offline")}),function i(o){return r.apply(this,arguments)})(n);var r}))}(Gn(t=vt(t,hn)))}(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,c7("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function $Ce(t){return function(n){const r=new Tr;return n.asyncQueue.enqueueAndForget((0,x.Z)(function*(){return function aCe(t,e){return Ox.apply(this,arguments)}(yield Kx(n),r)})),r.promise}(Gn(t=vt(t,hn)))}(this._delegate)}onSnapshotsInSync(e){return function wwe(t,e){return function TCe(t,e){const n=new FE(e);return t.asyncQueue.enqueueAndForget((0,x.Z)(function*(){return i=yield bf(t),o=n,ye(i).q_.add(o),void o.next();var i,o})),()=>{n.Na(),t.asyncQueue.enqueueAndForget((0,x.Z)(function*(){return i=yield bf(t),o=n,void ye(i).q_.delete(o);var i,o}))}}(Gn(t=vt(t,hn)),Xx(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new le("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Df(this,f7(this._delegate,e))}catch(n){throw Gi(n,"collection()","Firestore.collection()")}}doc(e){try{return new os(this,BE(this._delegate,e))}catch(n){throw Gi(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new qi(this,function kCe(t,e){if(t=vt(t,Ky),Yx("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new le(W.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ii(t,null,(r=e,new sc(St.emptyPath(),r)));var r}(this._delegate,e))}catch(n){throw Gi(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Rwe(t,e,n){t=vt(t,hn);const r=Object.assign(Object.assign({},Dwe),n);return function(o){if(o.maxAttempts<1)throw new le(W.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){const c=new Tr;return o.asyncQueue.enqueueAndForget((0,x.Z)(function*(){const l=yield function r7(t){return VE(t).then(e=>e.datastore)}(o);new PCe(o.asyncQueue,l,a,s,c).run()})),c.promise}(Gn(t),i=>e(new Swe(t,i)),r)}(this._delegate,n=>e(new iW(this,n)))}batch(){return Gn(this._delegate),new oW(new F7(this._delegate,e=>Af(this._delegate,e)))}loadBundle(e){return function WCe(t,e){const n=Gn(t=vt(t,hn)),r=new FCe;return function ACe(t,e,n,r){const i=function(s,a){let c;return c="string"==typeof s?Iz().encode(s):s,h=function(h,f){if(h instanceof Uint8Array)return J8(h,f);if(h instanceof ArrayBuffer)return J8(new Uint8Array(h),f);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),new CCe(h,a);var h}(n,zy(e));t.asyncQueue.enqueueAndForget((0,x.Z)(function*(){!function yCe(t,e,n){const r=ye(t);var i;(i=(0,x.Z)(function*(s,a,c){try{const l=yield a.getMetadata();if(yield function(E,I){const b=ye(E),L=rr(I.createTime);return b.persistence.runTransaction("hasNewerBundle","readonly",N=>b.Kr.getBundleMetadata(N,I.id)).then(N=>!!N&&N.createTime.compareTo(L)>=0)}(s.localStore,l))return yield a.close(),c._completeWith({taskState:"Success",documentsLoaded:(E=l).totalDocuments,bytesLoaded:E.totalBytes,totalDocuments:E.totalDocuments,totalBytes:E.totalBytes}),Promise.resolve(new Set);c._updateProgress(H8(l));const h=new Qve(l,s.localStore,a.serializer);let f=yield a.Ma();for(;f;){const v=yield h.ea(f);v&&c._updateProgress(v),f=yield a.Ma()}const _=yield h.complete();return yield uc(s,_.ra,void 0),yield function(E,I){const b=ye(E);return b.persistence.runTransaction("Save bundle","readwrite",L=>b.Kr.saveBundleMetadata(L,I))}(s.localStore,l),c._completeWith(_.progress),Promise.resolve(_.na)}catch(l){return so("SyncEngine",`Loading bundle failed with ${l}`),c._failWith(l),Promise.resolve(new Set)}var E}),function o(s,a,c){return i.apply(this,arguments)})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield Kx(t),i,r)}))}(n,t._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function GCe(t,e){return function DCe(t,e){return t.asyncQueue.enqueue((0,x.Z)(function*(){return function(r,i){const o=ye(r);return o.persistence.runTransaction("Get named query","readonly",s=>o.Kr.getNamedQuery(s,i))}(yield If(t),e)}))}(Gn(t=vt(t,hn)),e).then(n=>n?new ii(t,null,n.query):null)}(this._delegate,e).then(n=>n?new qi(this,n):null)}}class XE extends ok{constructor(e){super(),this.firestore=e}convertBytes(e){return new iv(new _a(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return os.forKey(n,this.firestore,null)}}class iW{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new XE(e)}get(e){const n=Ad(e);return this._delegate.get(n).then(r=>new ov(this._firestore,new hc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Ad(e);return r?(vk("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=Ad(e);return 2===arguments.length?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=Ad(e);return this._delegate.delete(n),this}}class oW{constructor(e){this._delegate=e}set(e,n,r){const i=Ad(e);return r?(vk("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=Ad(e);return 2===arguments.length?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=Ad(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Td{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new tv(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new sv(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Td.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(n);return o||(o=new Td(e,new XE(e),n),i.set(n,o)),o}}Td.INSTANCES=new WeakMap;class os{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new XE(e)}static forPath(e,n,r){if(e.length%2!=0)throw new le("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new os(n,new Pn(n._delegate,r,new ve(e)))}static forKey(e,n,r){return new os(n,new Pn(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Df(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Df(this.firestore,f7(this._delegate,e))}catch(n){throw Gi(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,M.m9)(e))instanceof Pn&&g7(this._delegate,e)}set(e,n){n=vk("DocumentReference.set",n);try{return n?x7(this._delegate,e,n):x7(this._delegate,e)}catch(r){throw Gi(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return 1===arguments.length?k7(this._delegate,e):k7(this._delegate,e,n,...r)}catch(i){throw Gi(i,"updateDoc()","DocumentReference.update()")}}delete(){return function vwe(t){return Af(vt(t.firestore,hn),[new lf(t._key,Dn.none())])}(this._delegate)}onSnapshot(...e){const n=sW(e),r=aW(e,i=>new ov(this.firestore,new hc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return N7(this._delegate,n,r)}get(e){let n;return n="cache"===e?.source?function fwe(t){t=vt(t,Pn);const e=vt(t.firestore,hn),n=Gn(e),r=new Hl(e);return function ICe(t,e){const n=new Tr;return t.asyncQueue.enqueueAndForget((0,x.Z)(function*(){return(r=(0,x.Z)(function*(o,s,a){try{const c=yield function(h,f){const _=ye(h);return _.persistence.runTransaction("read document","readonly",v=>_.localDocuments.getDocument(v,f))}(o,s);c.isFoundDocument()?a.resolve(c):c.isNoDocument()?a.resolve(null):a.reject(new le(W.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const l=wf(c,`Failed to get document '${s} from cache`);a.reject(l)}}),function i(o,s,a){return r.apply(this,arguments)})(yield If(t),e,n);var r})),n.promise}(n,t._key).then(i=>new hc(e,r,t._key,i,new bd(null!==i&&i.hasLocalMutations,!0),t.converter))}(this._delegate):"server"===e?.source?function gwe(t){t=vt(t,Pn);const e=vt(t.firestore,hn);return i7(Gn(e),t._key,{source:"server"}).then(n=>sk(e,t,n))}(this._delegate):function pwe(t){t=vt(t,Pn);const e=vt(t.firestore,hn);return i7(Gn(e),t._key).then(n=>sk(e,t,n))}(this._delegate),n.then(r=>new ov(this.firestore,new hc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new os(this.firestore,this._delegate.withConverter(e?Td.getInstance(this.firestore,e):null))}}function Gi(t,e,n){return t.message=t.message.replace(e,n),t}function sW(t){for(const e of t)if("object"==typeof e&&!Ck(e))return e;return{}}function aW(t,e){var n,r;let i;return i=Ck(t[0])?t[0]:Ck(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:o=>{i.next&&i.next(e(o))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class ov{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new os(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return R7(this._delegate,e._delegate)}}class sv extends ov{data(e){const n=this._delegate.data(e);return function Dme(t,e){t||Ae()}(void 0!==n),n}}class qi{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new XE(e)}where(e,n,r){try{return new qi(this.firestore,jl(this._delegate,function nwe(t,e,n){const r=e,i=GE("where",t);return ev._create(i,r,n)}(e,n,r)))}catch(i){throw Gi(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new qi(this.firestore,jl(this._delegate,function rwe(t,e="asc"){const n=e,r=GE("orderBy",t);return ik._create(r,n)}(e,n)))}catch(r){throw Gi(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new qi(this.firestore,jl(this._delegate,function iwe(t){return d7("limit",t),qE._create("limit",t,"F")}(e)))}catch(n){throw Gi(n,"limit()","Query.limit()")}}limitToLast(e){try{return new qi(this.firestore,jl(this._delegate,function owe(t){return d7("limitToLast",t),qE._create("limitToLast",t,"L")}(e)))}catch(n){throw Gi(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new qi(this.firestore,jl(this._delegate,function swe(...t){return KE._create("startAt",t,!0)}(...e)))}catch(n){throw Gi(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new qi(this.firestore,jl(this._delegate,function awe(...t){return KE._create("startAfter",t,!1)}(...e)))}catch(n){throw Gi(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new qi(this.firestore,jl(this._delegate,function cwe(...t){return ZE._create("endBefore",t,!1)}(...e)))}catch(n){throw Gi(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new qi(this.firestore,jl(this._delegate,function lwe(...t){return ZE._create("endAt",t,!0)}(...e)))}catch(n){throw Gi(n,"endAt()","Query.endAt()")}}isEqual(e){return Qx(this._delegate,e._delegate)}get(e){let n;return n="cache"===e?.source?function mwe(t){t=vt(t,ii);const e=vt(t.firestore,hn),n=Gn(e),r=new Hl(e);return function bCe(t,e){const n=new Tr;return t.asyncQueue.enqueueAndForget((0,x.Z)(function*(){return(r=(0,x.Z)(function*(o,s,a){try{const c=yield AE(o,s,!0),l=new G8(s,c.ls),h=l.ca(c.documents),f=l.applyChanges(h,!1);a.resolve(f.snapshot)}catch(c){const l=wf(c,`Failed to execute query '${s} against cache`);a.reject(l)}}),function i(o,s,a){return r.apply(this,arguments)})(yield If(t),e,n);var r})),n.promise}(n,t._query).then(i=>new $l(e,r,t,i))}(this._delegate):"server"===e?.source?function ywe(t){t=vt(t,ii);const e=vt(t.firestore,hn),n=Gn(e),r=new Hl(e);return o7(n,t._query,{source:"server"}).then(i=>new $l(e,r,t,i))}(this._delegate):function _we(t){t=vt(t,ii);const e=vt(t.firestore,hn),n=Gn(e),r=new Hl(e);return I7(t._query),o7(n,t._query).then(i=>new $l(e,r,t,i))}(this._delegate),n.then(r=>new wk(this.firestore,new $l(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=sW(e),r=aW(e,i=>new wk(this.firestore,new $l(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return N7(this._delegate,n,r)}withConverter(e){return new qi(this.firestore,this._delegate.withConverter(e?Td.getInstance(this.firestore,e):null))}}class b0e{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new sv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class wk{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new qi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new sv(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new b0e(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new sv(this._firestore,r))})}isEqual(e){return R7(this._delegate,e._delegate)}}class Df extends qi{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new os(this.firestore,e):null}doc(e){try{return new os(this.firestore,void 0===e?BE(this._delegate):BE(this._delegate,e))}catch(n){throw Gi(n,"doc()","CollectionReference.doc()")}}add(e){return function Cwe(t,e){const n=vt(t.firestore,hn),r=BE(t),i=YE(t.converter,e);return Af(n,[HE(Od(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Dn.exists(!1))]).then(()=>r)}(this._delegate,e).then(n=>new os(this.firestore,n))}isEqual(e){return g7(this._delegate,e._delegate)}withConverter(e){return new Df(this.firestore,this._delegate.withConverter(e?Td.getInstance(this.firestore,e):null))}}function Ad(t){return vt(t,Pn)}class Pk{constructor(...e){this._delegate=new dc(...e)}static documentId(){return new Pk(Cn.keyField().canonicalString())}isEqual(e){return(e=(0,M.m9)(e))instanceof dc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Dd{constructor(e){this._delegate=e}static serverTimestamp(){const e=function kwe(){return new Jx("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Dd(e)}static delete(){const e=function xwe(){return new Yy("deleteField")}();return e._methodName="FieldValue.delete",new Dd(e)}static arrayUnion(...e){const n=function Nwe(...t){return new QCe("arrayUnion",t)}(...e);return n._methodName="FieldValue.arrayUnion",new Dd(n)}static arrayRemove(...e){const n=function Fwe(...t){return new XCe("arrayRemove",t)}(...e);return n._methodName="FieldValue.arrayRemove",new Dd(n)}static increment(e){const n=function Lwe(t){return new JCe("increment",t)}(e);return n._methodName="FieldValue.increment",new Dd(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const T0e={Firestore:rW,GeoPoint:jE,Timestamp:An,Blob:iv,Transaction:iW,WriteBatch:oW,DocumentReference:os,DocumentSnapshot:ov,Query:qi,QueryDocumentSnapshot:sv,QuerySnapshot:wk,CollectionReference:Df,FieldPath:Pk,FieldValue:Dd,setLogLevel:function I0e(t){!function Ame(t){Ol.setLogLevel(t)}(t)},CACHE_SIZE_UNLIMITED:-1};function cW(t,e){return function S0e(t,e=X0){return new st(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{r?.()}})}(t,e)}function Ek(t,e){return cW(t,e).pipe(_e(n=>({payload:n,type:"query"})))}!function D0e(t){(function A0e(t,e){t.INTERNAL.registerComponent(new Eo.wA("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},T0e)))})(t,(e,n)=>new rW(e,n,new O0e)),t.registerVersion("@firebase/firestore-compat","0.3.21")}(ns.Z);class lW{constructor(e,n){Le(this,"ref",void 0),Le(this,"afs",void 0),this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const r=this.ref.collection(e),{ref:i,query:o}=gW(r,n);return new hW(i,o,this.afs)}snapshotChanges(){return function R0e(t,e){return cW(t,e).pipe(Nw(void 0),yk(),_e(n=>{const[r,i]=n;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(tr)}valueChanges(e={}){return this.snapshotChanges().pipe(_e(({payload:n})=>e.idField?{...n.data(),[e.idField]:n.id}:n.data()))}get(e){return R(this.ref.get(e)).pipe(tr)}}function JE(t,e){return Ek(t,e).pipe(Nw(void 0),yk(),_e(n=>{const[r,i]=n,o=i.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,c)=>{const l=o.find(f=>f.doc.ref.isEqual(a.ref)),h=r?.payload.docs.find(f=>f.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function uW(t,e,n){return JE(t,n).pipe(rp((r,i)=>function x0e(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=function k0e(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Mk(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Mk(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Mk(t,e.oldIndex,1)}return t}(t,r))}),t}(r,i.map(o=>o.payload),e),[]),on(),_e(r=>r.map(i=>({type:i.type,payload:i}))))}function Mk(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function dW(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class hW{constructor(e,n,r){Le(this,"ref",void 0),Le(this,"query",void 0),Le(this,"afs",void 0),this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=JE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(_e(r=>r.filter(i=>e.indexOf(i.type)>-1)))),n.pipe(Nw(void 0),yk(),Qo(([r,i])=>i.length>0||!r),_e(([,r])=>r),tr)}auditTrail(e){return this.stateChanges(e).pipe(rp((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=dW(e);return uW(this.query,n,this.afs.schedulers.outsideAngular).pipe(tr)}valueChanges(e={}){return Ek(this.query,this.afs.schedulers.outsideAngular).pipe(_e(n=>n.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),tr)}get(e){return R(this.query.get(e)).pipe(tr)}add(e){return this.ref.add(e)}doc(e){return new lW(this.ref.doc(e),this.afs)}}class N0e{constructor(e,n){Le(this,"query",void 0),Le(this,"afs",void 0),this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?JE(this.query,this.afs.schedulers.outsideAngular).pipe(_e(n=>n.filter(r=>e.indexOf(r.type)>-1)),Qo(n=>n.length>0),tr):JE(this.query,this.afs.schedulers.outsideAngular).pipe(tr)}auditTrail(e){return this.stateChanges(e).pipe(rp((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=dW(e);return uW(this.query,n,this.afs.schedulers.outsideAngular).pipe(tr)}valueChanges(e={}){return Ek(this.query,this.afs.schedulers.outsideAngular).pipe(_e(r=>r.payload.docs.map(i=>e.idField?{[e.idField]:i.id,...i.data()}:i.data())),tr)}get(e){return R(this.query.get(e)).pipe(tr)}}const pW=new fe("angularfire2.enableFirestorePersistence"),fW=new fe("angularfire2.firestore.persistenceSettings"),F0e=new fe("angularfire2.firestore.settings"),L0e=new fe("angularfire2.firestore.use-emulator");function gW(t,e=(n=>n)){return{query:e(t),ref:t}}let V0e=(()=>{var t;class e{constructor(r,i,o,s,a,c,l,h,f,_,v,E,I,b,L,N,H){Le(this,"schedulers",void 0),Le(this,"firestore",void 0),Le(this,"persistenceEnabled$",void 0),this.schedulers=l;const $=Tm(r,c,i),pe=f;_&&_k($,c,v,I,b,L,E,N),[this.firestore,this.persistenceEnabled$]=J0(`${$.name}.firestore`,"AngularFirestore",$.name,()=>{const Oe=c.runOutsideAngular(()=>$.firestore());if(s&&Oe.settings(s),pe&&Oe.useEmulator(...pe),o&&!Dw(a)){const at=()=>{try{return R(Oe.enablePersistence(h||void 0).then(()=>!0,()=>!1))}catch(Yt){return typeof console<"u"&&console.warn(Yt),K(!1)}};return[Oe,c.runOutsideAngular(at)]}return[Oe,K(!1)]},[s,pe,o])}collection(r,i){let o;o="string"==typeof r?this.firestore.collection(r):r;const{ref:s,query:a}=gW(o,i),c=this.schedulers.ngZone.run(()=>s);return new hW(c,a,this)}collectionGroup(r,i){const o=i||(a=>a),s=this.firestore.collectionGroup(r);return new N0e(o(s),this)}doc(r){let i;i="string"==typeof r?this.firestore.doc(r):r;const o=this.schedulers.ngZone.run(()=>i);return new lW(o,this)}createId(){return this.firestore.collection("_").doc().id}}return t=e,Le(e,"\u0275fac",function(r){return new(r||t)(ie(Dp),ie(Sp,8),ie(pW,8),ie(F0e,8),ie(mo),ie(Dt),ie(Tp),ie(fW,8),ie(L0e,8),ie(mk,8),ie(uk,8),ie(dk,8),ie(hk,8),ie(pk,8),ie(fk,8),ie(gk,8),ie(bm,8))}),Le(e,"\u0275prov",Te({token:t,factory:t.\u0275fac,providedIn:"any"})),e})(),U0e=(()=>{var t;class e{constructor(){ns.Z.registerVersion("angularfire",yl.full,"fst-compat")}static enablePersistence(r){return{ngModule:e,providers:[{provide:pW,useValue:!0},{provide:fW,useValue:r}]}}}return t=e,Le(e,"\u0275fac",function(r){return new(r||t)}),Le(e,"\u0275mod",Un({type:t})),Le(e,"\u0275inj",Yn({providers:[V0e]})),e})(),B0e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Un({type:t,bootstrap:[ipe]}),t.\u0275inj=Yn({imports:[_te,rpe,xce,Ape,Bpe(()=>(0,$e.initializeApp)(dr_firebaseConfig)),zwe(()=>Wwe()),sle.initializeApp(dr_firebaseConfig),Yue,j7,w0e,U0e]}),e})();fte().bootstrapModule(B0e).catch(t=>console.error(t))},106:(ss,gr,Ze)=>{Ze.d(gr,{Z:()=>_r});var O=Ze(58),Ue=Ze(537),X=Ze(534),He=Ze(879);class Pt{constructor(ze,nt){this._delegate=ze,this.firebase=nt,(0,X._addComponent)(ze,new Ue.wA("app-compat",()=>this,"PUBLIC")),this.container=ze.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ze){this._delegate.automaticDataCollectionEnabled=ze}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ze=>{this._delegate.checkDestroyed(),ze()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,X.deleteApp)(this._delegate)))}_getService(ze,nt=X._DEFAULT_ENTRY_NAME){var mr;this._delegate.checkDestroyed();const or=this._delegate.container.getProvider(ze);return!or.isInitialized()&&"EXPLICIT"===(null===(mr=or.getComponent())||void 0===mr?void 0:mr.instantiationMode)&&or.initialize(),or.getImmediate({identifier:nt})}_removeServiceInstance(ze,nt=X._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ze).clearInstance(nt)}_addComponent(ze){(0,X._addComponent)(this._delegate,ze)}_addOrOverwriteComponent(ze){(0,X._addOrOverwriteComponent)(this._delegate,ze)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const En=new O.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),se=function dt(){const xt=function ir(xt){const ze={},nt={__esModule:!0,initializeApp:function tn(rt,sr={}){const oe=X.initializeApp(rt,sr);if((0,O.r3)(ze,oe.name))return ze[oe.name];const pn=new xt(oe,nt);return ze[oe.name]=pn,pn},app:or,registerVersion:X.registerVersion,setLogLevel:X.setLogLevel,onLog:X.onLog,apps:null,SDK_VERSION:X.SDK_VERSION,INTERNAL:{registerComponent:function Wt(rt){const sr=rt.name,oe=sr.replace("-compat","");if(X._registerComponent(rt)&&"PUBLIC"===rt.type){const pn=(nn=or())=>{if("function"!=typeof nn[oe])throw En.create("invalid-app-argument",{appName:sr});return nn[oe]()};void 0!==rt.serviceProps&&(0,O.ZB)(pn,rt.serviceProps),nt[oe]=pn,xt.prototype[oe]=function(...nn){return this._getService.bind(this,sr).apply(this,rt.multipleInstances?nn:[])}}return"PUBLIC"===rt.type?nt[oe]:null},removeApp:function mr(rt){delete ze[rt]},useAsService:function si(rt,sr){return"serverAuth"===sr?null:sr},modularAPIs:X}};function or(rt){if(!(0,O.r3)(ze,rt=rt||X._DEFAULT_ENTRY_NAME))throw En.create("no-app",{appName:rt});return ze[rt]}return nt.default=nt,Object.defineProperty(nt,"apps",{get:function kt(){return Object.keys(ze).map(rt=>ze[rt])}}),or.App=xt,nt}(Pt);return xt.INTERNAL=Object.assign(Object.assign({},xt.INTERNAL),{createFirebaseNamespace:dt,extendNamespace:function ze(nt){(0,O.ZB)(xt,nt)},createSubscribe:O.ne,ErrorFactory:O.LL,deepExtend:O.ZB}),xt}(),he=new He.Yd("@firebase/app-compat");if((0,O.jU)()&&void 0!==self.firebase){he.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const xt=self.firebase.SDK_VERSION;xt&&xt.indexOf("LITE")>=0&&he.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const _r=se;!function It(xt){(0,X.registerVersion)("@firebase/app-compat","0.2.22",xt)}()},534:(ss,gr,Ze)=>{Ze.r(gr),Ze.d(gr,{FirebaseError:()=>He.ZR,SDK_VERSION:()=>ls,_DEFAULT_ENTRY_NAME:()=>uo,_addComponent:()=>xs,_addOrOverwriteComponent:()=>Dr,_apps:()=>Wr,_clearComponents:()=>Kn,_components:()=>cs,_getProvider:()=>rn,_registerComponent:()=>ma,_removeServiceInstance:()=>Ki,deleteApp:()=>vr,getApp:()=>Ns,getApps:()=>_c,initializeApp:()=>ks,onLog:()=>mc,registerVersion:()=>Fs,setLogLevel:()=>Sd});var O=Ze(861),Ue=Ze(537),X=Ze(879),He=Ze(58);const Pt=(j,F)=>F.some(ue=>j instanceof ue);let en,En;const se=new WeakMap,he=new WeakMap,De=new WeakMap,ct=new WeakMap,It=new WeakMap;let ze={get(j,F,ue){if(j instanceof IDBTransaction){if("done"===F)return he.get(j);if("objectStoreNames"===F)return j.objectStoreNames||De.get(j);if("store"===F)return ue.objectStoreNames[1]?void 0:ue.objectStore(ue.objectStoreNames[0])}return tn(j[F])},set:(j,F,ue)=>(j[F]=ue,!0),has:(j,F)=>j instanceof IDBTransaction&&("done"===F||"store"===F)||F in j};function or(j){return"function"==typeof j?function mr(j){return j!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function dt(){return En||(En=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(j)?function(...F){return j.apply(kt(this),F),tn(se.get(this))}:function(...F){return tn(j.apply(kt(this),F))}:function(F,...ue){const ke=j.call(kt(this),F,...ue);return De.set(ke,F.sort?F.sort():[F]),tn(ke)}}(j):(j instanceof IDBTransaction&&function xt(j){if(he.has(j))return;const F=new Promise((ue,ke)=>{const Ye=()=>{j.removeEventListener("complete",lt),j.removeEventListener("error",ee),j.removeEventListener("abort",ee)},lt=()=>{ue(),Ye()},ee=()=>{ke(j.error||new DOMException("AbortError","AbortError")),Ye()};j.addEventListener("complete",lt),j.addEventListener("error",ee),j.addEventListener("abort",ee)});he.set(j,F)}(j),Pt(j,function ir(){return en||(en=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(j,ze):j)}function tn(j){if(j instanceof IDBRequest)return function _r(j){const F=new Promise((ue,ke)=>{const Ye=()=>{j.removeEventListener("success",lt),j.removeEventListener("error",ee)},lt=()=>{ue(tn(j.result)),Ye()},ee=()=>{ke(j.error),Ye()};j.addEventListener("success",lt),j.addEventListener("error",ee)});return F.then(ue=>{ue instanceof IDBCursor&&se.set(ue,j)}).catch(()=>{}),It.set(F,j),F}(j);if(ct.has(j))return ct.get(j);const F=or(j);return F!==j&&(ct.set(j,F),It.set(F,j)),F}const kt=j=>It.get(j),rt=["get","getKey","getAll","getAllKeys","count"],sr=["put","add","delete","clear"],oe=new Map;function pn(j,F){if(!(j instanceof IDBDatabase)||F in j||"string"!=typeof F)return;if(oe.get(F))return oe.get(F);const ue=F.replace(/FromIndex$/,""),ke=F!==ue,Ye=sr.includes(ue);if(!(ue in(ke?IDBIndex:IDBObjectStore).prototype)||!Ye&&!rt.includes(ue))return;const lt=function(){var ee=(0,O.Z)(function*(Zn,...Se){const ht=this.transaction(Zn,Ye?"readwrite":"readonly");let Zl=ht.store;return ke&&(Zl=Zl.index(Se.shift())),(yield Promise.all([Zl[ue](...Se),Ye&&ht.done]))[0]});return function(Se){return ee.apply(this,arguments)}}();return oe.set(F,lt),lt}!function nt(j){ze=j(ze)}(j=>({...j,get:(F,ue,ke)=>pn(F,ue)||j.get(F,ue,ke),has:(F,ue)=>!!pn(F,ue)||j.has(F,ue)}));class nn{constructor(F){this.container=F}getPlatformInfoString(){return this.container.getProviders().map(ue=>{if(function Fn(j){const F=j.getComponent();return"VERSION"===F?.type}(ue)){const ke=ue.getImmediate();return`${ke.library}/${ke.version}`}return null}).filter(ue=>ue).join(" ")}}const Do="@firebase/app",st=new X.Yd("@firebase/app"),uo="[DEFAULT]",ql={[Do]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Wr=new Map,cs=new Map;function xs(j,F){try{j.container.addComponent(F)}catch(ue){st.debug(`Component ${F.name} failed to register with FirebaseApp ${j.name}`,ue)}}function Dr(j,F){j.container.addOrOverwriteComponent(F)}function ma(j){const F=j.name;if(cs.has(F))return st.debug(`There were multiple attempts to register component ${F}.`),!1;cs.set(F,j);for(const ue of Wr.values())xs(ue,j);return!0}function rn(j,F){const ue=j.container.getProvider("heartbeat").getImmediate({optional:!0});return ue&&ue.triggerHeartbeat(),j.container.getProvider(F)}function Ki(j,F,ue=uo){rn(j,F).clearInstance(ue)}function Kn(){cs.clear()}const bi=new He.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ti{constructor(F,ue,ke){this._isDeleted=!1,this._options=Object.assign({},F),this._config=Object.assign({},ue),this._name=ue.name,this._automaticDataCollectionEnabled=ue.automaticDataCollectionEnabled,this._container=ke,this.container.addComponent(new Ue.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(F){this.checkDestroyed(),this._automaticDataCollectionEnabled=F}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(F){this._isDeleted=F}checkDestroyed(){if(this.isDeleted)throw bi.create("app-deleted",{appName:this._name})}}const ls="10.5.2";function ks(j,F={}){let ue=j;"object"!=typeof F&&(F={name:F});const ke=Object.assign({name:uo,automaticDataCollectionEnabled:!1},F),Ye=ke.name;if("string"!=typeof Ye||!Ye)throw bi.create("bad-app-name",{appName:String(Ye)});if(ue||(ue=(0,He.aH)()),!ue)throw bi.create("no-options");const lt=Wr.get(Ye);if(lt){if((0,He.vZ)(ue,lt.options)&&(0,He.vZ)(ke,lt.config))return lt;throw bi.create("duplicate-app",{appName:Ye})}const ee=new Ue.H0(Ye);for(const Se of cs.values())ee.addComponent(Se);const Zn=new Ti(ue,ke,ee);return Wr.set(Ye,Zn),Zn}function Ns(j=uo){const F=Wr.get(j);if(!F&&j===uo&&(0,He.aH)())return ks();if(!F)throw bi.create("no-app",{appName:j});return F}function _c(){return Array.from(Wr.values())}function vr(j){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,O.Z)(function*(j){const F=j.name;Wr.has(F)&&(Wr.delete(F),yield Promise.all(j.container.getProviders().map(ue=>ue.delete())),j.isDeleted=!0)})).apply(this,arguments)}function Fs(j,F,ue){var ke;let Ye=null!==(ke=ql[j])&&void 0!==ke?ke:j;ue&&(Ye+=`-${ue}`);const lt=Ye.match(/\s|\//),ee=F.match(/\s|\//);if(lt||ee){const Zn=[`Unable to register library "${Ye}" with version "${F}":`];return lt&&Zn.push(`library name "${Ye}" contains illegal characters (whitespace or "/")`),lt&&ee&&Zn.push("and"),ee&&Zn.push(`version name "${F}" contains illegal characters (whitespace or "/")`),void st.warn(Zn.join(" "))}ma(new Ue.wA(`${Ye}-version`,()=>({library:Ye,version:F}),"VERSION"))}function mc(j,F){if(null!==j&&"function"!=typeof j)throw bi.create("invalid-log-argument");(0,X.Am)(j,F)}function Sd(j){(0,X.Ub)(j)}const Kl="firebase-heartbeat-database",yc=1,k="firebase-heartbeat-store";let T=null;function R(){return T||(T=function Wt(j,F,{blocked:ue,upgrade:ke,blocking:Ye,terminated:lt}={}){const ee=indexedDB.open(j,F),Zn=tn(ee);return ke&&ee.addEventListener("upgradeneeded",Se=>{ke(tn(ee.result),Se.oldVersion,Se.newVersion,tn(ee.transaction),Se)}),ue&&ee.addEventListener("blocked",Se=>ue(Se.oldVersion,Se.newVersion,Se)),Zn.then(Se=>{lt&&Se.addEventListener("close",()=>lt()),Ye&&Se.addEventListener("versionchange",ht=>Ye(ht.oldVersion,ht.newVersion,ht))}).catch(()=>{}),Zn}(Kl,yc,{upgrade:(j,F)=>{0===F&&j.createObjectStore(k)}}).catch(j=>{throw bi.create("idb-open",{originalErrorMessage:j.message})})),T}function U(){return(U=(0,O.Z)(function*(j){try{return yield(yield R()).transaction(k).objectStore(k).get(Mt(j))}catch(F){if(F instanceof He.ZR)st.warn(F.message);else{const ue=bi.create("idb-get",{originalErrorMessage:F?.message});st.warn(ue.message)}}})).apply(this,arguments)}function K(j,F){return We.apply(this,arguments)}function We(){return(We=(0,O.Z)(function*(j,F){try{const ke=(yield R()).transaction(k,"readwrite");yield ke.objectStore(k).put(F,Mt(j)),yield ke.done}catch(ue){if(ue instanceof He.ZR)st.warn(ue.message);else{const ke=bi.create("idb-set",{originalErrorMessage:ue?.message});st.warn(ke.message)}}})).apply(this,arguments)}function Mt(j){return`${j.name}!${j.options.appId}`}class Ai{constructor(F){this.container=F,this._heartbeatsCache=null;const ue=this.container.getProvider("app").getImmediate();this._storage=new Bt(ue),this._heartbeatsCachePromise=this._storage.read().then(ke=>(this._heartbeatsCache=ke,ke))}triggerHeartbeat(){var F=this;return(0,O.Z)(function*(){const ke=F.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ye=xe();if(null===F._heartbeatsCache&&(F._heartbeatsCache=yield F._heartbeatsCachePromise),F._heartbeatsCache.lastSentHeartbeatDate!==Ye&&!F._heartbeatsCache.heartbeats.some(lt=>lt.date===Ye))return F._heartbeatsCache.heartbeats.push({date:Ye,agent:ke}),F._heartbeatsCache.heartbeats=F._heartbeatsCache.heartbeats.filter(lt=>{const ee=new Date(lt.date).valueOf();return Date.now()-ee<=2592e6}),F._storage.overwrite(F._heartbeatsCache)})()}getHeartbeatsHeader(){var F=this;return(0,O.Z)(function*(){if(null===F._heartbeatsCache&&(yield F._heartbeatsCachePromise),null===F._heartbeatsCache||0===F._heartbeatsCache.heartbeats.length)return"";const ue=xe(),{heartbeatsToSend:ke,unsentEntries:Ye}=function ar(j,F=1024){const ue=[];let ke=j.slice();for(const Ye of j){const lt=ue.find(ee=>ee.agent===Ye.agent);if(lt){if(lt.dates.push(Ye.date),us(ue)>F){lt.dates.pop();break}}else if(ue.push({agent:Ye.agent,dates:[Ye.date]}),us(ue)>F){ue.pop();break}ke=ke.slice(1)}return{heartbeatsToSend:ue,unsentEntries:ke}}(F._heartbeatsCache.heartbeats),lt=(0,He.L)(JSON.stringify({version:2,heartbeats:ke}));return F._heartbeatsCache.lastSentHeartbeatDate=ue,Ye.length>0?(F._heartbeatsCache.heartbeats=Ye,yield F._storage.overwrite(F._heartbeatsCache)):(F._heartbeatsCache.heartbeats=[],F._storage.overwrite(F._heartbeatsCache)),lt})()}}function xe(){return(new Date).toISOString().substring(0,10)}class Bt{constructor(F){this.app=F,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,O.Z)(function*(){return!!(0,He.hl)()&&(0,He.eu)().then(()=>!0).catch(()=>!1)})()}read(){var F=this;return(0,O.Z)(function*(){return(yield F._canUseIndexedDBPromise)&&(yield function te(j){return U.apply(this,arguments)}(F.app))||{heartbeats:[]}})()}overwrite(F){var ue=this;return(0,O.Z)(function*(){var ke;if(yield ue._canUseIndexedDBPromise){const lt=yield ue.read();return K(ue.app,{lastSentHeartbeatDate:null!==(ke=F.lastSentHeartbeatDate)&&void 0!==ke?ke:lt.lastSentHeartbeatDate,heartbeats:F.heartbeats})}})()}add(F){var ue=this;return(0,O.Z)(function*(){var ke;if(yield ue._canUseIndexedDBPromise){const lt=yield ue.read();return K(ue.app,{lastSentHeartbeatDate:null!==(ke=F.lastSentHeartbeatDate)&&void 0!==ke?ke:lt.lastSentHeartbeatDate,heartbeats:[...lt.heartbeats,...F.heartbeats]})}})()}}function us(j){return(0,He.L)(JSON.stringify({version:2,heartbeats:j})).length}!function ya(j){ma(new Ue.wA("platform-logger",F=>new nn(F),"PRIVATE")),ma(new Ue.wA("heartbeat",F=>new Ai(F),"PRIVATE")),Fs(Do,"0.9.22",j),Fs(Do,"0.9.22","esm2017"),Fs("fire-js","")}("")},537:(ss,gr,Ze)=>{Ze.d(gr,{H0:()=>ir,wA:()=>X,zt:()=>Pt});var O=Ze(861),Ue=Ze(58);class X{constructor(se,he,De){this.name=se,this.instanceFactory=he,this.type=De,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(se){return this.instantiationMode=se,this}setMultipleInstances(se){return this.multipleInstances=se,this}setServiceProps(se){return this.serviceProps=se,this}setInstanceCreatedCallback(se){return this.onInstanceCreated=se,this}}const He="[DEFAULT]";class Pt{constructor(se,he){this.name=se,this.container=he,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(se){const he=this.normalizeInstanceIdentifier(se);if(!this.instancesDeferred.has(he)){const De=new Ue.BH;if(this.instancesDeferred.set(he,De),this.isInitialized(he)||this.shouldAutoInitialize())try{const ct=this.getOrInitializeService({instanceIdentifier:he});ct&&De.resolve(ct)}catch{}}return this.instancesDeferred.get(he).promise}getImmediate(se){var he;const De=this.normalizeInstanceIdentifier(se?.identifier),ct=null!==(he=se?.optional)&&void 0!==he&&he;if(!this.isInitialized(De)&&!this.shouldAutoInitialize()){if(ct)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:De})}catch(It){if(ct)return null;throw It}}getComponent(){return this.component}setComponent(se){if(se.name!==this.name)throw Error(`Mismatching Component ${se.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=se,this.shouldAutoInitialize()){if(function En(dt){return"EAGER"===dt.instantiationMode}(se))try{this.getOrInitializeService({instanceIdentifier:He})}catch{}for(const[he,De]of this.instancesDeferred.entries()){const ct=this.normalizeInstanceIdentifier(he);try{const It=this.getOrInitializeService({instanceIdentifier:ct});De.resolve(It)}catch{}}}}clearInstance(se=He){this.instancesDeferred.delete(se),this.instancesOptions.delete(se),this.instances.delete(se)}delete(){var se=this;return(0,O.Z)(function*(){const he=Array.from(se.instances.values());yield Promise.all([...he.filter(De=>"INTERNAL"in De).map(De=>De.INTERNAL.delete()),...he.filter(De=>"_delete"in De).map(De=>De._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(se=He){return this.instances.has(se)}getOptions(se=He){return this.instancesOptions.get(se)||{}}initialize(se={}){const{options:he={}}=se,De=this.normalizeInstanceIdentifier(se.instanceIdentifier);if(this.isInitialized(De))throw Error(`${this.name}(${De}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ct=this.getOrInitializeService({instanceIdentifier:De,options:he});for(const[It,_r]of this.instancesDeferred.entries())De===this.normalizeInstanceIdentifier(It)&&_r.resolve(ct);return ct}onInit(se,he){var De;const ct=this.normalizeInstanceIdentifier(he),It=null!==(De=this.onInitCallbacks.get(ct))&&void 0!==De?De:new Set;It.add(se),this.onInitCallbacks.set(ct,It);const _r=this.instances.get(ct);return _r&&se(_r,ct),()=>{It.delete(se)}}invokeOnInitCallbacks(se,he){const De=this.onInitCallbacks.get(he);if(De)for(const ct of De)try{ct(se,he)}catch{}}getOrInitializeService({instanceIdentifier:se,options:he={}}){let De=this.instances.get(se);if(!De&&this.component&&(De=this.component.instanceFactory(this.container,{instanceIdentifier:(dt=se,dt===He?void 0:dt),options:he}),this.instances.set(se,De),this.instancesOptions.set(se,he),this.invokeOnInitCallbacks(De,se),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,se,De)}catch{}var dt;return De||null}normalizeInstanceIdentifier(se=He){return this.component?this.component.multipleInstances?se:He:se}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ir{constructor(se){this.name=se,this.providers=new Map}addComponent(se){const he=this.getProvider(se.name);if(he.isComponentSet())throw new Error(`Component ${se.name} has already been registered with ${this.name}`);he.setComponent(se)}addOrOverwriteComponent(se){this.getProvider(se.name).isComponentSet()&&this.providers.delete(se.name),this.addComponent(se)}getProvider(se){if(this.providers.has(se))return this.providers.get(se);const he=new Pt(se,this);return this.providers.set(se,he),he}getProviders(){return Array.from(this.providers.values())}}},879:(ss,gr,Ze)=>{Ze.d(gr,{Am:()=>dt,Ub:()=>ir,Yd:()=>En,in:()=>Ue});const O=[];var Ue=function(se){return se[se.DEBUG=0]="DEBUG",se[se.VERBOSE=1]="VERBOSE",se[se.INFO=2]="INFO",se[se.WARN=3]="WARN",se[se.ERROR=4]="ERROR",se[se.SILENT=5]="SILENT",se}(Ue||{});const X={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},He=Ue.INFO,Pt={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},en=(se,he,...De)=>{if(he<se.logLevel)return;const ct=(new Date).toISOString(),It=Pt[he];if(!It)throw new Error(`Attempted to log a message with an invalid logType (value: ${he})`);console[It](`[${ct}]  ${se.name}:`,...De)};class En{constructor(he){this.name=he,this._logLevel=He,this._logHandler=en,this._userLogHandler=null,O.push(this)}get logLevel(){return this._logLevel}set logLevel(he){if(!(he in Ue))throw new TypeError(`Invalid value "${he}" assigned to \`logLevel\``);this._logLevel=he}setLogLevel(he){this._logLevel="string"==typeof he?X[he]:he}get logHandler(){return this._logHandler}set logHandler(he){if("function"!=typeof he)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=he}get userLogHandler(){return this._userLogHandler}set userLogHandler(he){this._userLogHandler=he}debug(...he){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...he),this._logHandler(this,Ue.DEBUG,...he)}log(...he){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...he),this._logHandler(this,Ue.VERBOSE,...he)}info(...he){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...he),this._logHandler(this,Ue.INFO,...he)}warn(...he){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...he),this._logHandler(this,Ue.WARN,...he)}error(...he){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...he),this._logHandler(this,Ue.ERROR,...he)}}function ir(se){O.forEach(he=>{he.setLogLevel(se)})}function dt(se,he){for(const De of O){let ct=null;he&&he.level&&(ct=X[he.level]),De.userLogHandler=null===se?null:(It,_r,...xt)=>{const ze=xt.map(nt=>{if(null==nt)return null;if("string"==typeof nt)return nt;if("number"==typeof nt||"boolean"==typeof nt)return nt.toString();if(nt instanceof Error)return nt.message;try{return JSON.stringify(nt)}catch{return null}}).filter(nt=>nt).join(" ");_r>=(ct??It.logLevel)&&se({level:Ue[_r].toLowerCase(),message:ze,args:xt,type:It.name})}}}},643:(ss,gr,Ze)=>{Ze.r(gr);var O=Ze(861),Ue=Ze(106),X=Ze(58),He=Ze(534),Pt=Ze(879),en=Ze(582),En=Ze(537);const dt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const _r=function ct(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},xt=function It(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ze=new X.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),mr=new Pt.Yd("@firebase/auth");function tn(p,...u){mr.logLevel<=Pt.in.ERROR&&mr.error(`Auth (${He.SDK_VERSION}): ${p}`,...u)}function kt(p,...u){throw sr(p,...u)}function Wt(p,...u){return sr(p,...u)}function si(p,u,d){const g=Object.assign(Object.assign({},xt()),{[u]:d});return new X.LL("auth","Firebase",g).create(u,{appName:p.name})}function rt(p,u,d){if(!(u instanceof d))throw d.name!==u.constructor.name&&kt(p,"argument-error"),si(p,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function sr(p,...u){if("string"!=typeof p){const d=u[0],g=[...u.slice(1)];return g[0]&&(g[0].appName=p.name),p._errorFactory.create(d,...g)}return ze.create(p,...u)}function oe(p,u,...d){if(!p)throw sr(u,...d)}function pn(p){const u="INTERNAL ASSERTION FAILED: "+p;throw tn(u),new Error(u)}function nn(p,u){p||pn(u)}function Fn(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.href)||""}function Do(){return"http:"===So()||"https:"===So()}function So(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.protocol)||null}class Ro{constructor(u,d){this.shortDelay=u,this.longDelay=d,nn(d>u,"Short delay should be less than long delay!"),this.isMobile=(0,X.uI)()||(0,X.b$)()}get(){return function st(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Do()||(0,X.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function z(p,u){nn(p.emulator,"Emulator should always be set here");const{url:d}=p.emulator;return u?`${d}${u.startsWith("/")?u.slice(1):u}`:d}class q{static initialize(u,d,g){this.fetchImpl=u,d&&(this.headersImpl=d),g&&(this.responseImpl=g)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void pn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void pn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void pn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const J={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ne=new Ro(3e4,6e4);function ce(p,u){return p.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:p.tenantId}):u}function Q(p,u,d,g){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,O.Z)(function*(p,u,d,g,C={}){return yt(p,C,(0,O.Z)(function*(){let P={},D={};g&&("GET"===u?D=g:P={body:JSON.stringify(g)});const V=(0,X.xO)(Object.assign({key:p.config.apiKey},D)).slice(1),re=yield p._getAdditionalHeaders();return re["Content-Type"]="application/json",p.languageCode&&(re["X-Firebase-Locale"]=p.languageCode),q.fetch()(fn(p,p.config.apiHost,d,V),Object.assign({method:u,headers:re,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function yt(p,u,d){return _e.apply(this,arguments)}function _e(){return(_e=(0,O.Z)(function*(p,u,d){p._canInitEmulator=!1;const g=Object.assign(Object.assign({},J),u);try{const C=new yr(p),P=yield Promise.race([d(),C.promise]);C.clearNetworkTimeout();const D=yield P.json();if("needConfirmation"in D)throw qn(p,"account-exists-with-different-credential",D);if(P.ok&&!("errorMessage"in D))return D;{const V=P.ok?D.errorMessage:D.error.message,[re,me]=V.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===re)throw qn(p,"credential-already-in-use",D);if("EMAIL_EXISTS"===re)throw qn(p,"email-already-in-use",D);if("USER_DISABLED"===re)throw qn(p,"user-disabled",D);const Me=g[re]||re.toLowerCase().replace(/[_\s]+/g,"-");if(me)throw si(p,Me,me);kt(p,Me)}}catch(C){if(C instanceof X.ZR)throw C;kt(p,"network-request-failed",{message:String(C)})}})).apply(this,arguments)}function Re(p,u,d,g){return Et.apply(this,arguments)}function Et(){return(Et=(0,O.Z)(function*(p,u,d,g,C={}){const P=yield Q(p,u,d,g,C);return"mfaPendingCredential"in P&&kt(p,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function fn(p,u,d,g){const C=`${u}${d}?${g}`;return p.config.emulator?z(p.config,C):`${p.config.apiScheme}://${C}`}function Qt(p){switch(p){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yr{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((d,g)=>{this.timer=setTimeout(()=>g(Wt(this.auth,"network-request-failed")),ne.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qn(p,u,d){const g={appName:p.name};d.email&&(g.email=d.email),d.phoneNumber&&(g.phoneNumber=d.phoneNumber);const C=Wt(p,u,g);return C.customData._tokenResponse=d,C}function Hr(p){return void 0!==p&&void 0!==p.getResponse}function zr(p){return void 0!==p&&void 0!==p.enterprise}class Ii{constructor(u){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===u.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=u.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=u.recaptchaEnforcementState}getProviderEnforcementState(u){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const d of this.recaptchaEnforcementState)if(d.provider&&d.provider===u)return Qt(d.enforcementState);return null}isProviderEnabled(u){return"ENFORCE"===this.getProviderEnforcementState(u)||"AUDIT"===this.getProviderEnforcementState(u)}}function as(){return(as=(0,O.Z)(function*(p){return(yield Q(p,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ln(p,u){return fc.apply(this,arguments)}function fc(){return(fc=(0,O.Z)(function*(p,u){return Q(p,"GET","/v2/recaptchaConfig",ce(p,u))})).apply(this,arguments)}function uo(){return(uo=(0,O.Z)(function*(p,u){return Q(p,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function Wr(){return(Wr=(0,O.Z)(function*(p,u){return Q(p,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function xs(){return(xs=(0,O.Z)(function*(p,u){return Q(p,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function Dr(p){if(p)try{const u=new Date(Number(p));if(!isNaN(u.getTime()))return u.toUTCString()}catch{}}function Ki(){return(Ki=(0,O.Z)(function*(p,u=!1){const d=(0,X.m9)(p),g=yield d.getIdToken(u),C=gc(g);oe(C&&C.exp&&C.auth_time&&C.iat,d.auth,"internal-error");const P="object"==typeof C.firebase?C.firebase:void 0,D=P?.sign_in_provider;return{claims:C,token:g,authTime:Dr(Kn(C.auth_time)),issuedAtTime:Dr(Kn(C.iat)),expirationTime:Dr(Kn(C.exp)),signInProvider:D||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function Kn(p){return 1e3*Number(p)}function gc(p){const[u,d,g]=p.split(".");if(void 0===u||void 0===d||void 0===g)return tn("JWT malformed, contained fewer than 3 sections"),null;try{const C=(0,X.tV)(d);return C?JSON.parse(C):(tn("Failed to decode base64 JWT payload"),null)}catch(C){return tn("Caught error parsing JWT payload as JSON",C?.toString()),null}}function Ti(p,u){return ls.apply(this,arguments)}function ls(){return(ls=(0,O.Z)(function*(p,u,d=!1){if(d)return u;try{return yield u}catch(g){throw g instanceof X.ZR&&function ks({code:p}){return"auth/user-disabled"===p||"auth/user-token-expired"===p}(g)&&p.auth.currentUser===p&&(yield p.auth.signOut()),g}})).apply(this,arguments)}class Ns{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var d;if(u){const g=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),g}{this.errorBackoff=3e4;const C=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,C)}}schedule(u=!1){var d=this;if(!this.isRunning)return;const g=this.getInterval(u);this.timerId=setTimeout((0,O.Z)(function*(){yield d.iteration()}),g)}iteration(){var u=this;return(0,O.Z)(function*(){try{yield u.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&u.schedule(!0))}u.schedule()})()}}class _c{constructor(u,d){this.createdAt=u,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dr(this.lastLoginAt),this.creationTime=Dr(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function vr(p){return Gr.apply(this,arguments)}function Gr(){return Gr=(0,O.Z)(function*(p){var u;const d=p.auth,g=yield p.getIdToken(),C=yield Ti(p,function cs(p,u){return xs.apply(this,arguments)}(d,{idToken:g}));oe(C?.users.length,d,"internal-error");const P=C.users[0];p._notifyReloadListener(P);const D=null!==(u=P.providerUserInfo)&&void 0!==u&&u.length?function Kl(p){return p.map(u=>{var{providerId:d}=u,g=(0,en._T)(u,["providerId"]);return{providerId:d,uid:g.rawId||"",displayName:g.displayName||null,email:g.email||null,phoneNumber:g.phoneNumber||null,photoURL:g.photoUrl||null}})}(P.providerUserInfo):[],V=function Sd(p,u){return[...p.filter(g=>!u.some(C=>C.providerId===g.providerId)),...u]}(p.providerData,D),Me=!!p.isAnonymous&&!(p.email&&P.passwordHash||V?.length),Ie={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:V,metadata:new _c(P.createdAt,P.lastLoginAt),isAnonymous:Me};Object.assign(p,Ie)}),Gr.apply(this,arguments)}function mc(){return(mc=(0,O.Z)(function*(p){const u=(0,X.m9)(p);yield vr(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function k(){return(k=(0,O.Z)(function*(p,u){const d=yield yt(p,{},(0,O.Z)(function*(){const g=(0,X.xO)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:C,apiKey:P}=p.config,D=fn(p,C,"/v1/token",`key=${P}`),V=yield p._getAdditionalHeaders();return V["Content-Type"]="application/x-www-form-urlencoded",q.fetch()(D,{method:"POST",headers:V,body:g})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}class T{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){oe(u.idToken,"internal-error"),oe(typeof u.idToken<"u","internal-error"),oe(typeof u.refreshToken<"u","internal-error");const d="expiresIn"in u&&typeof u.expiresIn<"u"?Number(u.expiresIn):function bi(p){const u=gc(p);return oe(u,"internal-error"),oe(typeof u.exp<"u","internal-error"),oe(typeof u.iat<"u","internal-error"),Number(u.exp)-Number(u.iat)}(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,d)}getToken(u,d=!1){var g=this;return(0,O.Z)(function*(){return oe(!g.accessToken||g.refreshToken,u,"user-token-expired"),d||!g.accessToken||g.isExpired?g.refreshToken?(yield g.refresh(u,g.refreshToken),g.accessToken):null:g.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,d){var g=this;return(0,O.Z)(function*(){const{accessToken:C,refreshToken:P,expiresIn:D}=yield function yc(p,u){return k.apply(this,arguments)}(u,d);g.updateTokensAndExpiration(C,P,Number(D))})()}updateTokensAndExpiration(u,d,g){this.refreshToken=d||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*g}static fromJSON(u,d){const{refreshToken:g,accessToken:C,expirationTime:P}=d,D=new T;return g&&(oe("string"==typeof g,"internal-error",{appName:u}),D.refreshToken=g),C&&(oe("string"==typeof C,"internal-error",{appName:u}),D.accessToken=C),P&&(oe("number"==typeof P,"internal-error",{appName:u}),D.expirationTime=P),D}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new T,this.toJSON())}_performRefresh(){return pn("not implemented")}}function R(p,u){oe("string"==typeof p||typeof p>"u","internal-error",{appName:u})}class te{constructor(u){var{uid:d,auth:g,stsTokenManager:C}=u,P=(0,en._T)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ns(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=g,this.stsTokenManager=C,this.accessToken=C.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new _c(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(u){var d=this;return(0,O.Z)(function*(){const g=yield Ti(d,d.stsTokenManager.getToken(d.auth,u));return oe(g,d.auth,"internal-error"),d.accessToken!==g&&(d.accessToken=g,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),g})()}getIdTokenResult(u){return function rn(p){return Ki.apply(this,arguments)}(this,u)}reload(){return function Fs(p){return mc.apply(this,arguments)}(this)}_assign(u){this!==u&&(oe(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(d=>Object.assign({},d)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){const d=new te(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(u){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,d=!1){var g=this;return(0,O.Z)(function*(){let C=!1;u.idToken&&u.idToken!==g.stsTokenManager.accessToken&&(g.stsTokenManager.updateFromServerResponse(u),C=!0),d&&(yield vr(g)),yield g.auth._persistUserIfCurrent(g),C&&g.auth._notifyListenersIfCurrent(g)})()}delete(){var u=this;return(0,O.Z)(function*(){const d=yield u.getIdToken();return yield Ti(u,function Gl(p,u){return uo.apply(this,arguments)}(u.auth,{idToken:d})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,d){var g,C,P,D,V,re,me,Me;const Ie=null!==(g=d.displayName)&&void 0!==g?g:void 0,yn=null!==(C=d.email)&&void 0!==C?C:void 0,zo=null!==(P=d.phoneNumber)&&void 0!==P?P:void 0,Pu=null!==(D=d.photoURL)&&void 0!==D?D:void 0,gC=null!==(V=d.tenantId)&&void 0!==V?V:void 0,_C=null!==(re=d._redirectEventId)&&void 0!==re?re:void 0,mC=null!==(me=d.createdAt)&&void 0!==me?me:void 0,yC=null!==(Me=d.lastLoginAt)&&void 0!==Me?Me:void 0,{uid:$g,emailVerified:Eu,isAnonymous:Hg,providerData:zg,stsTokenManager:Wg}=d;oe($g&&Wg,u,"internal-error");const nN=T.fromJSON(this.name,Wg);oe("string"==typeof $g,u,"internal-error"),R(Ie,u.name),R(yn,u.name),oe("boolean"==typeof Eu,u,"internal-error"),oe("boolean"==typeof Hg,u,"internal-error"),R(zo,u.name),R(Pu,u.name),R(gC,u.name),R(_C,u.name),R(mC,u.name),R(yC,u.name);const Mh=new te({uid:$g,auth:u,email:yn,emailVerified:Eu,displayName:Ie,isAnonymous:Hg,photoURL:Pu,phoneNumber:zo,tenantId:gC,stsTokenManager:nN,createdAt:mC,lastLoginAt:yC});return zg&&Array.isArray(zg)&&(Mh.providerData=zg.map(rN=>Object.assign({},rN))),_C&&(Mh._redirectEventId=_C),Mh}static _fromIdTokenResponse(u,d,g=!1){return(0,O.Z)(function*(){const C=new T;C.updateFromServerResponse(d);const P=new te({uid:d.localId,auth:u,stsTokenManager:C,isAnonymous:g});return yield vr(P),P})()}}const U=new Map;function K(p){nn(p instanceof Function,"Expected a class definition");let u=U.get(p);return u?(nn(u instanceof p,"Instance stored in cache mismatched with class"),u):(u=new p,U.set(p,u),u)}const Mt=(()=>{class p{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,O.Z)(function*(){return!0})()}_set(d,g){var C=this;return(0,O.Z)(function*(){C.storage[d]=g})()}_get(d){var g=this;return(0,O.Z)(function*(){const C=g.storage[d];return void 0===C?null:C})()}_remove(d){var g=this;return(0,O.Z)(function*(){delete g.storage[d]})()}_addListener(d,g){}_removeListener(d,g){}}return p.type="NONE",p})();function Je(p,u,d){return`firebase:${p}:${u}:${d}`}class on{constructor(u,d,g){this.persistence=u,this.auth=d,this.userKey=g;const{config:C,name:P}=this.auth;this.fullUserKey=Je(this.userKey,C.apiKey,P),this.fullPersistenceKey=Je("persistence",C.apiKey,P),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,O.Z)(function*(){const d=yield u.persistence._get(u.fullUserKey);return d?te._fromJSON(u.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var d=this;return(0,O.Z)(function*(){if(d.persistence===u)return;const g=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=u,g?d.setCurrentUser(g):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,d,g="authUser"){return(0,O.Z)(function*(){if(!d.length)return new on(K(Mt),u,g);const C=(yield Promise.all(d.map(function(){var me=(0,O.Z)(function*(Me){if(yield Me._isAvailable())return Me});return function(Me){return me.apply(this,arguments)}}()))).filter(me=>me);let P=C[0]||K(Mt);const D=Je(g,u.config.apiKey,u.name);let V=null;for(const me of d)try{const Me=yield me._get(D);if(Me){const Ie=te._fromJSON(u,Me);me!==P&&(V=Ie),P=me;break}}catch{}const re=C.filter(me=>me._shouldAllowMigration);return P._shouldAllowMigration&&re.length?(P=re[0],V&&(yield P._set(D,V.toJSON())),yield Promise.all(d.map(function(){var me=(0,O.Z)(function*(Me){if(Me!==P)try{yield Me._remove(D)}catch{}});return function(Me){return me.apply(this,arguments)}}())),new on(P,u,g)):new on(P,u,g)})()}}function Ai(p){const u=p.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(us(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if(xe(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(j(u))return"Blackberry";if(F(u))return"Webos";if(ar(u))return"Safari";if((u.includes("chrome/")||Bt(u))&&!u.includes("edge/"))return"Chrome";if(ya(u))return"Android";{const g=p.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===g?.length)return g[1]}return"Other"}function xe(p=(0,X.z$)()){return/firefox\//i.test(p)}function ar(p=(0,X.z$)()){const u=p.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function Bt(p=(0,X.z$)()){return/crios\//i.test(p)}function us(p=(0,X.z$)()){return/iemobile/i.test(p)}function ya(p=(0,X.z$)()){return/android/i.test(p)}function j(p=(0,X.z$)()){return/blackberry/i.test(p)}function F(p=(0,X.z$)()){return/webos/i.test(p)}function ue(p=(0,X.z$)()){return/iphone|ipad|ipod/i.test(p)||/macintosh/i.test(p)&&/mobile/i.test(p)}function ee(p=(0,X.z$)()){return ue(p)||ya(p)||F(p)||j(p)||/windows phone/i.test(p)||us(p)}function Se(p,u=[]){let d;switch(p){case"Browser":d=Ai((0,X.z$)());break;case"Worker":d=`${Ai((0,X.z$)())}-${p}`;break;default:d=p}const g=u.length?u.join(","):"FirebaseCore-web";return`${d}/JsCore/${He.SDK_VERSION}/${g}`}class ht{constructor(u){this.auth=u,this.queue=[]}pushCallback(u,d){const g=P=>new Promise((D,V)=>{try{D(u(P))}catch(re){V(re)}});g.onAbort=d,this.queue.push(g);const C=this.queue.length-1;return()=>{this.queue[C]=()=>Promise.resolve()}}runMiddleware(u){var d=this;return(0,O.Z)(function*(){if(d.auth.currentUser===u)return;const g=[];try{for(const C of d.queue)yield C(u),C.onAbort&&g.push(C.onAbort)}catch(C){g.reverse();for(const P of g)try{P()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:C?.message})}})()}}function av(){return(av=(0,O.Z)(function*(p,u={}){return Q(p,"GET","/v2/passwordPolicy",ce(p,u))})).apply(this,arguments)}class Rf{constructor(u){var d,g,C,P;const D=u.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(d=D.minPasswordLength)&&void 0!==d?d:6,D.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=D.maxPasswordLength),void 0!==D.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=D.containsLowercaseCharacter),void 0!==D.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=D.containsUppercaseCharacter),void 0!==D.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=D.containsNumericCharacter),void 0!==D.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=D.containsNonAlphanumericCharacter),this.enforcementState=u.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(C=null===(g=u.allowedNonAlphanumericCharacters)||void 0===g?void 0:g.join(""))&&void 0!==C?C:"",this.forceUpgradeOnSignin=null!==(P=u.forceUpgradeOnSignin)&&void 0!==P&&P,this.schemaVersion=u.schemaVersion}validatePassword(u){var d,g,C,P,D,V;const re={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(u,re),this.validatePasswordCharacterOptions(u,re),re.isValid&&(re.isValid=null===(d=re.meetsMinPasswordLength)||void 0===d||d),re.isValid&&(re.isValid=null===(g=re.meetsMaxPasswordLength)||void 0===g||g),re.isValid&&(re.isValid=null===(C=re.containsLowercaseLetter)||void 0===C||C),re.isValid&&(re.isValid=null===(P=re.containsUppercaseLetter)||void 0===P||P),re.isValid&&(re.isValid=null===(D=re.containsNumericCharacter)||void 0===D||D),re.isValid&&(re.isValid=null===(V=re.containsNonAlphanumericCharacter)||void 0===V||V),re}validatePasswordLengthOptions(u,d){const g=this.customStrengthOptions.minPasswordLength,C=this.customStrengthOptions.maxPasswordLength;g&&(d.meetsMinPasswordLength=u.length>=g),C&&(d.meetsMaxPasswordLength=u.length<=C)}validatePasswordCharacterOptions(u,d){let g;this.updatePasswordCharacterOptionsStatuses(d,!1,!1,!1,!1);for(let C=0;C<u.length;C++)g=u.charAt(C),this.updatePasswordCharacterOptionsStatuses(d,g>="a"&&g<="z",g>="A"&&g<="Z",g>="0"&&g<="9",this.allowedNonAlphanumericCharacters.includes(g))}updatePasswordCharacterOptionsStatuses(u,d,g,C,P){this.customStrengthOptions.containsLowercaseLetter&&(u.containsLowercaseLetter||(u.containsLowercaseLetter=d)),this.customStrengthOptions.containsUppercaseLetter&&(u.containsUppercaseLetter||(u.containsUppercaseLetter=g)),this.customStrengthOptions.containsNumericCharacter&&(u.containsNumericCharacter||(u.containsNumericCharacter=C)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(u.containsNonAlphanumericCharacter||(u.containsNonAlphanumericCharacter=P))}}class Di{constructor(u,d,g,C){this.app=u,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=g,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cv(this),this.idTokenSubscription=new cv(this),this.beforeStateQueue=new ht(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ze,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(u,d){var g=this;return d&&(this._popupRedirectResolver=K(d)),this._initializationPromise=this.queue((0,O.Z)(function*(){var C,P;if(!g._deleted&&(g.persistenceManager=yield on.create(g,u),!g._deleted)){if(null!==(C=g._popupRedirectResolver)&&void 0!==C&&C._shouldInitProactively)try{yield g._popupRedirectResolver._initialize(g)}catch{}yield g.initializeCurrentUser(d),g.lastNotifiedUid=(null===(P=g.currentUser)||void 0===P?void 0:P.uid)||null,!g._deleted&&(g._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,O.Z)(function*(){if(u._deleted)return;const d=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||d){if(u.currentUser&&d&&u.currentUser.uid===d.uid)return u._currentUser._assign(d),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(d,!0)}})()}initializeCurrentUser(u){var d=this;return(0,O.Z)(function*(){var g;const C=yield d.assertedPersistence.getCurrentUser();let P=C,D=!1;if(u&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const V=null===(g=d.redirectUser)||void 0===g?void 0:g._redirectEventId,re=P?._redirectEventId,me=yield d.tryRedirectSignIn(u);(!V||V===re)&&me?.user&&(P=me.user,D=!0)}if(!P)return d.directlySetCurrentUser(null);if(!P._redirectEventId){if(D)try{yield d.beforeStateQueue.runMiddleware(P)}catch(V){P=C,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(V))}return P?d.reloadAndSetCurrentUserOrClear(P):d.directlySetCurrentUser(null)}return oe(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===P._redirectEventId?d.directlySetCurrentUser(P):d.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(u){var d=this;return(0,O.Z)(function*(){let g=null;try{g=yield d._popupRedirectResolver._completeRedirectFn(d,u,!0)}catch{yield d._setRedirectUser(null)}return g})()}reloadAndSetCurrentUserOrClear(u){var d=this;return(0,O.Z)(function*(){try{yield vr(u)}catch(g){if("auth/network-request-failed"!==g?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function Rs(){if(typeof navigator>"u")return null;const p=navigator;return p.languages&&p.languages[0]||p.language||null}()}_delete(){var u=this;return(0,O.Z)(function*(){u._deleted=!0})()}updateCurrentUser(u){var d=this;return(0,O.Z)(function*(){const g=u?(0,X.m9)(u):null;return g&&oe(g.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(g&&g._clone(d))})()}_updateCurrentUser(u,d=!1){var g=this;return(0,O.Z)(function*(){if(!g._deleted)return u&&oe(g.tenantId===u.tenantId,g,"tenant-id-mismatch"),d||(yield g.beforeStateQueue.runMiddleware(u)),g.queue((0,O.Z)(function*(){yield g.directlySetCurrentUser(u),g.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,O.Z)(function*(){return yield u.beforeStateQueue.runMiddleware(null),(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null,!0)})()}setPersistence(u){var d=this;return this.queue((0,O.Z)(function*(){yield d.assertedPersistence.setPersistence(K(u))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(u){var d=this;return(0,O.Z)(function*(){d._getPasswordPolicyInternal()||(yield d._updatePasswordPolicy());const g=d._getPasswordPolicyInternal();return g.schemaVersion!==d.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(d._errorFactory.create("unsupported-password-policy-schema-version",{})):g.validatePassword(u)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var u=this;return(0,O.Z)(function*(){const d=yield function Zl(p){return av.apply(this,arguments)}(u),g=new Rf(d);null===u.tenantId?u._projectPasswordPolicy=g:u._tenantPasswordPolicies[u.tenantId]=g})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new X.LL("auth","Firebase",u())}onAuthStateChanged(u,d,g){return this.registerStateListener(this.authStateSubscription,u,d,g)}beforeAuthStateChanged(u,d){return this.beforeStateQueue.pushCallback(u,d)}onIdTokenChanged(u,d,g){return this.registerStateListener(this.idTokenSubscription,u,d,g)}authStateReady(){return new Promise((u,d)=>{if(this.currentUser)u();else{const g=this.onAuthStateChanged(()=>{g(),u()},d)}})}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,d){var g=this;return(0,O.Z)(function*(){const C=yield g.getOrInitRedirectPersistenceManager(d);return null===u?C.removeCurrentUser():C.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var d=this;return(0,O.Z)(function*(){if(!d.redirectPersistenceManager){const g=u&&K(u)||d._popupRedirectResolver;oe(g,d,"argument-error"),d.redirectPersistenceManager=yield on.create(d,[K(g._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(u){var d=this;return(0,O.Z)(function*(){var g,C;return d._isInitialized&&(yield d.queue((0,O.Z)(function*(){}))),(null===(g=d._currentUser)||void 0===g?void 0:g._redirectEventId)===u?d._currentUser:(null===(C=d.redirectUser)||void 0===C?void 0:C._redirectEventId)===u?d.redirectUser:null})()}_persistUserIfCurrent(u){var d=this;return(0,O.Z)(function*(){if(u===d.currentUser)return d.queue((0,O.Z)(function*(){return d.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const g=null!==(d=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==g&&(this.lastNotifiedUid=g,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,d,g,C){if(this._deleted)return()=>{};const P="function"==typeof d?d:d.next.bind(d);let D=!1;const V=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(V,this,"internal-error"),V.then(()=>{D||P(this.currentUser)}),"function"==typeof d){const re=u.addObserver(d,g,C);return()=>{D=!0,re()}}{const re=u.addObserver(d);return()=>{D=!0,re()}}}directlySetCurrentUser(u){var d=this;return(0,O.Z)(function*(){d.currentUser&&d.currentUser!==u&&d._currentUser._stopProactiveRefresh(),u&&d.isProactiveRefreshEnabled&&u._startProactiveRefresh(),d.currentUser=u,u?yield d.assertedPersistence.setCurrentUser(u):yield d.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=Se(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,O.Z)(function*(){var d;const g={"X-Client-Version":u.clientVersion};u.app.options.appId&&(g["X-Firebase-gmpid"]=u.app.options.appId);const C=yield null===(d=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();C&&(g["X-Firebase-Client"]=C);const P=yield u._getAppCheckToken();return P&&(g["X-Firebase-AppCheck"]=P),g})()}_getAppCheckToken(){var u=this;return(0,O.Z)(function*(){var d;const g=yield null===(d=u.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return g?.error&&function or(p,...u){mr.logLevel<=Pt.in.WARN&&mr.warn(`Auth (${He.SDK_VERSION}): ${p}`,...u)}(`Error while retrieving App Check token: ${g.error}`),g?.token})()}}function gn(p){return(0,X.m9)(p)}class cv{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,X.ne)(d=>this.observer=d)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ds(p){return new Promise((u,d)=>{const g=document.createElement("script");g.setAttribute("src",p),g.onload=u,g.onerror=C=>{const P=Wt("internal-error");P.customData=C,d(P)},g.type="text/javascript",g.charset="UTF-8",function Ok(){var p,u;return null!==(u=null===(p=document.getElementsByTagName("head"))||void 0===p?void 0:p[0])&&void 0!==u?u:document}().appendChild(g)})}function tM(p){return`__${p}${Math.floor(1e6*Math.random())}`}class lv{constructor(u){this.type="recaptcha-enterprise",this.auth=gn(u)}verify(u="verify",d=!1){var g=this;return(0,O.Z)(function*(){function P(){return P=(0,O.Z)(function*(V){if(!d){if(null==V.tenantId&&null!=V._agentRecaptchaConfig)return V._agentRecaptchaConfig.siteKey;if(null!=V.tenantId&&void 0!==V._tenantRecaptchaConfigs[V.tenantId])return V._tenantRecaptchaConfigs[V.tenantId].siteKey}return new Promise(function(){var re=(0,O.Z)(function*(me,Me){Ln(V,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ie=>{if(void 0!==Ie.recaptchaKey){const yn=new Ii(Ie);return null==V.tenantId?V._agentRecaptchaConfig=yn:V._tenantRecaptchaConfigs[V.tenantId]=yn,me(yn.siteKey)}Me(new Error("recaptcha Enterprise site key undefined"))}).catch(Ie=>{Me(Ie)})});return function(me,Me){return re.apply(this,arguments)}}())}),P.apply(this,arguments)}function D(V,re,me){const Me=window.grecaptcha;zr(Me)?Me.enterprise.ready(()=>{Me.enterprise.execute(V,{action:u}).then(Ie=>{re(Ie)}).catch(()=>{re("NO_RECAPTCHA")})}):me(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((V,re)=>{(function C(V){return P.apply(this,arguments)})(g.auth).then(me=>{if(!d&&zr(window.grecaptcha))D(me,V,re);else{if(typeof window>"u")return void re(new Error("RecaptchaVerifier is only supported in browser"));ds("https://www.google.com/recaptcha/enterprise.js?render="+me).then(()=>{D(me,V,re)}).catch(Me=>{re(Me)})}}).catch(me=>{re(me)})})})()}}function nM(p,u,d){return xf.apply(this,arguments)}function xf(){return(xf=(0,O.Z)(function*(p,u,d,g=!1){const C=new lv(p);let P;try{P=yield C.verify(d)}catch{P=yield C.verify(d,!0)}const D=Object.assign({},u);return Object.assign(D,g?{captchaResp:P}:{captchaResponse:P}),Object.assign(D,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(D,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),D})).apply(this,arguments)}function kf(p,u,d,g){return ai.apply(this,arguments)}function ai(){return ai=(0,O.Z)(function*(p,u,d,g){var C;if(null!==(C=p._getRecaptchaConfig())&&void 0!==C&&C.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const P=yield nM(p,u,d,"getOobCode"===d);return g(p,P)}return g(p,u).catch(function(){var P=(0,O.Z)(function*(D){if("auth/missing-recaptcha-token"===D.code){console.log(`${d} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const V=yield nM(p,u,d,"getOobCode"===d);return g(p,V)}return Promise.reject(D)});return function(D){return P.apply(this,arguments)}}())}),ai.apply(this,arguments)}function rM(p){const u=p.indexOf(":");return u<0?"":p.substr(0,u+1)}function Yl(p){if(!p)return null;const u=Number(p);return isNaN(u)?null:u}class va{constructor(u,d){this.providerId=u,this.signInMethod=d}toJSON(){return pn("not implemented")}_getIdTokenResponse(u){return pn("not implemented")}_linkToIdToken(u,d){return pn("not implemented")}_getReauthenticationResolver(u){return pn("not implemented")}}function dv(p,u){return vc.apply(this,arguments)}function vc(){return(vc=(0,O.Z)(function*(p,u){return Q(p,"POST","/v1/accounts:resetPassword",ce(p,u))})).apply(this,arguments)}function Ql(p,u){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,O.Z)(function*(p,u){return Q(p,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Nf(){return(Nf=(0,O.Z)(function*(p,u){return Q(p,"POST","/v1/accounts:update",ce(p,u))})).apply(this,arguments)}function pt(p,u){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,O.Z)(function*(p,u){return Re(p,"POST","/v1/accounts:signInWithPassword",ce(p,u))})).apply(this,arguments)}function eu(p,u){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,O.Z)(function*(p,u){return Q(p,"POST","/v1/accounts:sendOobCode",ce(p,u))})).apply(this,arguments)}function fv(){return(fv=(0,O.Z)(function*(p,u){return eu(p,u)})).apply(this,arguments)}function Gt(p,u){return gv.apply(this,arguments)}function gv(){return(gv=(0,O.Z)(function*(p,u){return eu(p,u)})).apply(this,arguments)}function Sk(p,u){return tu.apply(this,arguments)}function tu(){return(tu=(0,O.Z)(function*(p,u){return eu(p,u)})).apply(this,arguments)}function Rd(){return(Rd=(0,O.Z)(function*(p,u){return eu(p,u)})).apply(this,arguments)}function Vf(){return(Vf=(0,O.Z)(function*(p,u){return Re(p,"POST","/v1/accounts:signInWithEmailLink",ce(p,u))})).apply(this,arguments)}function _v(){return(_v=(0,O.Z)(function*(p,u){return Re(p,"POST","/v1/accounts:signInWithEmailLink",ce(p,u))})).apply(this,arguments)}class xd extends va{constructor(u,d,g,C=null){super("password",g),this._email=u,this._password=d,this._tenantId=C}static _fromEmailAndPassword(u,d){return new xd(u,d,"password")}static _fromEmailAndCode(u,d,g=null){return new xd(u,d,"emailLink",g)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(u){var d=this;return(0,O.Z)(function*(){switch(d.signInMethod){case"password":return kf(u,{returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",pt);case"emailLink":return function Lf(p,u){return Vf.apply(this,arguments)}(u,{email:d._email,oobCode:d._password});default:kt(u,"internal-error")}})()}_linkToIdToken(u,d){var g=this;return(0,O.Z)(function*(){switch(g.signInMethod){case"password":return Ql(u,{idToken:d,returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Uf(p,u){return _v.apply(this,arguments)}(u,{idToken:d,email:g._email,oobCode:g._password});default:kt(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function Ls(p,u){return mv.apply(this,arguments)}function mv(){return(mv=(0,O.Z)(function*(p,u){return Re(p,"POST","/v1/accounts:signInWithIdp",ce(p,u))})).apply(this,arguments)}class ci extends va{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const d=new ci(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(d.idToken=u.idToken),u.accessToken&&(d.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(d.nonce=u.nonce),u.pendingToken&&(d.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(d.accessToken=u.oauthToken,d.secret=u.oauthTokenSecret):kt("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:g,signInMethod:C}=d,P=(0,en._T)(d,["providerId","signInMethod"]);if(!g||!C)return null;const D=new ci(g,C);return D.idToken=P.idToken||void 0,D.accessToken=P.accessToken||void 0,D.secret=P.secret,D.nonce=P.nonce,D.pendingToken=P.pendingToken||null,D}_getIdTokenResponse(u){return Ls(u,this.buildRequest())}_linkToIdToken(u,d){const g=this.buildRequest();return g.idToken=d,Ls(u,g)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,Ls(u,d)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),u.postBody=(0,X.xO)(d)}return u}}function Cc(){return(Cc=(0,O.Z)(function*(p,u){return Q(p,"POST","/v1/accounts:sendVerificationCode",ce(p,u))})).apply(this,arguments)}function jf(){return(jf=(0,O.Z)(function*(p,u){return Re(p,"POST","/v1/accounts:signInWithPhoneNumber",ce(p,u))})).apply(this,arguments)}function kd(){return(kd=(0,O.Z)(function*(p,u){const d=yield Re(p,"POST","/v1/accounts:signInWithPhoneNumber",ce(p,u));if(d.temporaryProof)throw qn(p,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const wc={USER_NOT_FOUND:"user-not-found"};function xo(){return(xo=(0,O.Z)(function*(p,u){return Re(p,"POST","/v1/accounts:signInWithPhoneNumber",ce(p,Object.assign(Object.assign({},u),{operation:"REAUTH"})),wc)})).apply(this,arguments)}class Ca extends va{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,d){return new Ca({verificationId:u,verificationCode:d})}static _fromTokenResponse(u,d){return new Ca({phoneNumber:u,temporaryProof:d})}_getIdTokenResponse(u){return function oM(p,u){return jf.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,d){return function sM(p,u){return kd.apply(this,arguments)}(u,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function aM(p,u){return xo.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:d,verificationId:g,verificationCode:C}=this.params;return u&&d?{temporaryProof:u,phoneNumber:d}:{sessionInfo:g,code:C}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:d,verificationCode:g,phoneNumber:C,temporaryProof:P}=u;return g||d||C||P?new Ca({verificationId:d,verificationCode:g,phoneNumber:C,temporaryProof:P}):null}}class we{constructor(u){var d,g,C,P,D,V;const re=(0,X.zd)((0,X.pd)(u)),me=null!==(d=re.apiKey)&&void 0!==d?d:null,Me=null!==(g=re.oobCode)&&void 0!==g?g:null,Ie=function ie(p){switch(p){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(C=re.mode)&&void 0!==C?C:null);oe(me&&Me&&Ie,"argument-error"),this.apiKey=me,this.operation=Ie,this.code=Me,this.continueUrl=null!==(P=re.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(D=re.languageCode)&&void 0!==D?D:null,this.tenantId=null!==(V=re.tenantId)&&void 0!==V?V:null}static parseLink(u){const d=function yv(p){const u=(0,X.zd)((0,X.pd)(p)).link,d=u?(0,X.zd)((0,X.pd)(u)).deep_link_id:null,g=(0,X.zd)((0,X.pd)(p)).deep_link_id;return(g?(0,X.zd)((0,X.pd)(g)).link:null)||g||d||u||p}(u);try{return new we(d)}catch{return null}}}let nu=(()=>{class p{constructor(){this.providerId=p.PROVIDER_ID}static credential(d,g){return xd._fromEmailAndPassword(d,g)}static credentialWithLink(d,g){const C=we.parseLink(g);return oe(C,"argument-error"),xd._fromEmailAndCode(d,C.code,C.tenantId)}}return p.PROVIDER_ID="password",p.EMAIL_PASSWORD_SIGN_IN_METHOD="password",p.EMAIL_LINK_SIGN_IN_METHOD="emailLink",p})();class Si{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class Pc extends Si{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class Ec extends Pc{static credentialFromJSON(u){const d="string"==typeof u?JSON.parse(u):u;return oe("providerId"in d&&"signInMethod"in d,"argument-error"),ci._fromParams(d)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return oe(u.idToken||u.accessToken,"argument-error"),ci._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return Ec.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return Ec.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:d,oauthAccessToken:g,oauthTokenSecret:C,pendingToken:P,nonce:D,providerId:V}=u;if(!g&&!C&&!d&&!P||!V)return null;try{return new Ec(V)._credential({idToken:d,accessToken:g,nonce:D,pendingToken:P})}catch{return null}}}let vv=(()=>{class p extends Pc{constructor(){super("facebook.com")}static credential(d){return ci._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return p.credential(d.oauthAccessToken)}catch{return null}}}return p.FACEBOOK_SIGN_IN_METHOD="facebook.com",p.PROVIDER_ID="facebook.com",p})(),ko=(()=>{class p extends Pc{constructor(){super("google.com"),this.addScope("profile")}static credential(d,g){return ci._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:g})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:g,oauthAccessToken:C}=d;if(!g&&!C)return null;try{return p.credential(g,C)}catch{return null}}}return p.GOOGLE_SIGN_IN_METHOD="google.com",p.PROVIDER_ID="google.com",p})(),ru=(()=>{class p extends Pc{constructor(){super("github.com")}static credential(d){return ci._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return p.credential(d.oauthAccessToken)}catch{return null}}}return p.GITHUB_SIGN_IN_METHOD="github.com",p.PROVIDER_ID="github.com",p})();class qr extends va{constructor(u,d){super(u,u),this.pendingToken=d}_getIdTokenResponse(u){return Ls(u,this.buildRequest())}_linkToIdToken(u,d){const g=this.buildRequest();return g.idToken=d,Ls(u,g)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,Ls(u,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:g,signInMethod:C,pendingToken:P}=d;return g&&C&&P&&g===C?new qr(g,P):null}static _create(u,d){return new qr(u,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class wa extends Si{constructor(u){oe(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return wa.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return wa.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const d=qr.fromJSON(u);return oe(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:d,providerId:g}=u;if(!d||!g)return null;try{return qr._create(g,d)}catch{return null}}}let Nd=(()=>{class p extends Pc{constructor(){super("twitter.com")}static credential(d,g){return ci._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:g})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:g,oauthTokenSecret:C}=d;if(!g||!C)return null;try{return p.credential(g,C)}catch{return null}}}return p.TWITTER_SIGN_IN_METHOD="twitter.com",p.PROVIDER_ID="twitter.com",p})();function Fd(p,u){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,O.Z)(function*(p,u){return Re(p,"POST","/v1/accounts:signUp",ce(p,u))})).apply(this,arguments)}class Vn{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,d,g,C=!1){return(0,O.Z)(function*(){const P=yield te._fromIdTokenResponse(u,g,C),D=Mc(g);return new Vn({user:P,providerId:D,_tokenResponse:g,operationType:d})})()}static _forOperation(u,d,g){return(0,O.Z)(function*(){yield u._updateTokensIfNecessary(g,!0);const C=Mc(g);return new Vn({user:u,providerId:C,_tokenResponse:g,operationType:d})})()}}function Mc(p){return p.providerId?p.providerId:"phoneNumber"in p?"phone":null}function Vd(){return(Vd=(0,O.Z)(function*(p){var u;const d=gn(p);if(yield d._initializationPromise,null!==(u=d.currentUser)&&void 0!==u&&u.isAnonymous)return new Vn({user:d.currentUser,providerId:null,operationType:"signIn"});const g=yield Fd(d,{returnSecureToken:!0}),C=yield Vn._fromIdTokenResponse(d,"signIn",g,!0);return yield d._updateCurrentUser(C.user),C})).apply(this,arguments)}class Oc extends X.ZR{constructor(u,d,g,C){var P;super(d.code,d.message),this.operationType=g,this.user=C,Object.setPrototypeOf(this,Oc.prototype),this.customData={appName:u.name,tenantId:null!==(P=u.tenantId)&&void 0!==P?P:void 0,_serverResponse:d.customData._serverResponse,operationType:g}}static _fromErrorAndOperation(u,d,g,C){return new Oc(u,d,g,C)}}function Hf(p,u,d,g){return("reauthenticate"===u?d._getReauthenticationResolver(p):d._getIdTokenResponse(p)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?Oc._fromErrorAndOperation(p,P,u,g):P})}function zf(p){return new Set(p.map(({providerId:u})=>u).filter(u=>!!u))}function Ud(){return Ud=(0,O.Z)(function*(p,u){const d=(0,X.m9)(p);yield ou(!0,d,u);const{providerUserInfo:g}=yield function ql(p,u){return Wr.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[u]}),C=zf(g||[]);return d.providerData=d.providerData.filter(P=>C.has(P.providerId)),C.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),Ud.apply(this,arguments)}function Bd(p,u){return Wf.apply(this,arguments)}function Wf(){return(Wf=(0,O.Z)(function*(p,u,d=!1){const g=yield Ti(p,u._linkToIdToken(p.auth,yield p.getIdToken()),d);return Vn._forOperation(p,"link",g)})).apply(this,arguments)}function ou(p,u,d){return Gf.apply(this,arguments)}function Gf(){return(Gf=(0,O.Z)(function*(p,u,d){yield vr(u);const C=!1===p?"provider-already-linked":"no-such-provider";oe(zf(u.providerData).has(d)===p,u.auth,C)})).apply(this,arguments)}function wv(p,u){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,O.Z)(function*(p,u,d=!1){const{auth:g}=p,C="reauthenticate";try{const P=yield Ti(p,Hf(g,C,u,p),d);oe(P.idToken,g,"internal-error");const D=gc(P.idToken);oe(D,g,"internal-error");const{sub:V}=D;return oe(p.uid===V,g,"user-mismatch"),Vn._forOperation(p,C,P)}catch(P){throw"auth/user-not-found"===P?.code&&kt(g,"user-mismatch"),P}})).apply(this,arguments)}function Pv(p,u){return jd.apply(this,arguments)}function jd(){return(jd=(0,O.Z)(function*(p,u,d=!1){const g="signIn",C=yield Hf(p,g,u),P=yield Vn._fromIdTokenResponse(p,g,C);return d||(yield p._updateCurrentUser(P.user)),P})).apply(this,arguments)}function $d(p,u){return qf.apply(this,arguments)}function qf(){return(qf=(0,O.Z)(function*(p,u){return Pv(gn(p),u)})).apply(this,arguments)}function Ev(p,u){return Kf.apply(this,arguments)}function Kf(){return(Kf=(0,O.Z)(function*(p,u){const d=(0,X.m9)(p);return yield ou(!1,d,u.providerId),Bd(d,u)})).apply(this,arguments)}function Zf(p,u){return Yf.apply(this,arguments)}function Yf(){return(Yf=(0,O.Z)(function*(p,u){return wv((0,X.m9)(p),u)})).apply(this,arguments)}function Qf(){return(Qf=(0,O.Z)(function*(p,u){return Re(p,"POST","/v1/accounts:signInWithCustomToken",ce(p,u))})).apply(this,arguments)}function Xf(){return Xf=(0,O.Z)(function*(p,u){const d=gn(p),g=yield function cM(p,u){return Qf.apply(this,arguments)}(d,{token:u,returnSecureToken:!0}),C=yield Vn._fromIdTokenResponse(d,"signIn",g);return yield d._updateCurrentUser(C.user),C}),Xf.apply(this,arguments)}class su{constructor(u,d){this.factorId=u,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(u,d){return"phoneInfo"in d?Jf._fromServerResponse(u,d):"totpInfo"in d?Un._fromServerResponse(u,d):kt(u,"internal-error")}}class Jf extends su{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,d){return new Jf(d)}}class Un extends su{constructor(u){super("totp",u)}static _fromServerResponse(u,d){return new Un(d)}}function Hd(p,u,d){var g;oe((null===(g=d.url)||void 0===g?void 0:g.length)>0,p,"invalid-continue-uri"),oe(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,p,"invalid-dynamic-link-domain"),u.continueUrl=d.url,u.dynamicLinkDomain=d.dynamicLinkDomain,u.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(oe(d.iOS.bundleId.length>0,p,"missing-ios-bundle-id"),u.iOSBundleId=d.iOS.bundleId),d.android&&(oe(d.android.packageName.length>0,p,"missing-android-pkg-name"),u.androidInstallApp=d.android.installApp,u.androidMinimumVersionCode=d.android.minimumVersion,u.androidPackageName=d.android.packageName)}function zd(p){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,O.Z)(function*(p){const u=gn(p);u._getPasswordPolicyInternal()&&(yield u._updatePasswordPolicy())})).apply(this,arguments)}function _t(){return(_t=(0,O.Z)(function*(p,u,d){const g=gn(p),C={requestType:"PASSWORD_RESET",email:u,clientType:"CLIENT_TYPE_WEB"};d&&Hd(g,C,d),yield kf(g,C,"getOobCode",Gt)})).apply(this,arguments)}function wr(){return wr=(0,O.Z)(function*(p,u,d){yield dv((0,X.m9)(p),{oobCode:u,newPassword:d}).catch(function(){var g=(0,O.Z)(function*(C){throw"auth/password-does-not-meet-requirements"===C.code&&zd(p),C});return function(C){return g.apply(this,arguments)}}())}),wr.apply(this,arguments)}function Kr(){return Kr=(0,O.Z)(function*(p,u){yield function hv(p,u){return Nf.apply(this,arguments)}((0,X.m9)(p),{oobCode:u})}),Kr.apply(this,arguments)}function eg(p,u){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,O.Z)(function*(p,u){const d=(0,X.m9)(p),g=yield dv(d,{oobCode:u}),C=g.requestType;switch(oe(C,d,"internal-error"),C){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe(g.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe(g.mfaInfo,d,"internal-error");default:oe(g.email,d,"internal-error")}let P=null;return g.mfaInfo&&(P=su._fromServerResponse(gn(d),g.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.newEmail:g.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.email:g.newEmail)||null,multiFactorInfo:P},operation:C}})).apply(this,arguments)}function tg(){return(tg=(0,O.Z)(function*(p,u){const{data:d}=yield eg((0,X.m9)(p),u);return d.email})).apply(this,arguments)}function sn(){return(sn=(0,O.Z)(function*(p,u,d){const g=gn(p),D=yield kf(g,{returnSecureToken:!0,email:u,password:d,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Fd).catch(re=>{throw"auth/password-does-not-meet-requirements"===re.code&&zd(p),re}),V=yield Vn._fromIdTokenResponse(g,"signIn",D);return yield g._updateCurrentUser(V.user),V})).apply(this,arguments)}function qt(){return(qt=(0,O.Z)(function*(p,u,d){const g=gn(p),C={requestType:"EMAIL_SIGNIN",email:u,clientType:"CLIENT_TYPE_WEB"};(function P(D,V){oe(V.handleCodeInApp,g,"argument-error"),V&&Hd(g,D,V)})(C,d),yield kf(g,C,"getOobCode",Sk)})).apply(this,arguments)}function cr(){return(cr=(0,O.Z)(function*(p,u,d){const g=(0,X.m9)(p),C=nu.credentialWithLink(u,d||Fn());return oe(C._tenantId===(g.tenantId||null),g,"tenant-id-mismatch"),$d(g,C)})).apply(this,arguments)}function _n(){return(_n=(0,O.Z)(function*(p,u){return Q(p,"POST","/v1/accounts:createAuthUri",ce(p,u))})).apply(this,arguments)}function Us(){return Us=(0,O.Z)(function*(p,u){const g={identifier:u,continueUri:Do()?Fn():"http://localhost"},{signinMethods:C}=yield function bc(p,u){return _n.apply(this,arguments)}((0,X.m9)(p),g);return C||[]}),Us.apply(this,arguments)}function Pa(){return Pa=(0,O.Z)(function*(p,u){const d=(0,X.m9)(p),C={requestType:"VERIFY_EMAIL",idToken:yield p.getIdToken()};u&&Hd(d.auth,C,u);const{email:P}=yield function pv(p,u){return fv.apply(this,arguments)}(d.auth,C);P!==p.email&&(yield p.reload())}),Pa.apply(this,arguments)}function Bs(){return Bs=(0,O.Z)(function*(p,u,d){const g=(0,X.m9)(p),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield p.getIdToken(),newEmail:u};d&&Hd(g.auth,P,d);const{email:D}=yield function Ff(p,u){return Rd.apply(this,arguments)}(g.auth,P);D!==p.email&&(yield p.reload())}),Bs.apply(this,arguments)}function Ea(){return(Ea=(0,O.Z)(function*(p,u){return Q(p,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Zi(){return Zi=(0,O.Z)(function*(p,{displayName:u,photoURL:d}){if(void 0===u&&void 0===d)return;const g=(0,X.m9)(p),P={idToken:yield g.getIdToken(),displayName:u,photoUrl:d,returnSecureToken:!0},D=yield Ti(g,function Sn(p,u){return Ea.apply(this,arguments)}(g.auth,P));g.displayName=D.displayName||null,g.photoURL=D.photoUrl||null;const V=g.providerData.find(({providerId:re})=>"password"===re);V&&(V.displayName=g.displayName,V.photoURL=g.photoURL),yield g._updateTokensIfNecessary(D)}),Zi.apply(this,arguments)}function hs(p,u,d){return fo.apply(this,arguments)}function fo(){return(fo=(0,O.Z)(function*(p,u,d){const{auth:g}=p,P={idToken:yield p.getIdToken(),returnSecureToken:!0};u&&(P.email=u),d&&(P.password=d);const D=yield Ti(p,Ql(g,P));yield p._updateTokensIfNecessary(D,!0)})).apply(this,arguments)}class No{constructor(u,d,g={}){this.isNewUser=u,this.providerId=d,this.profile=g}}class ut extends No{constructor(u,d,g,C){super(u,d,g),this.username=C}}class xk extends No{constructor(u,d){super(u,"facebook.com",d)}}class ng extends ut{constructor(u,d){super(u,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class Iv extends No{constructor(u,d){super(u,"google.com",d)}}class Fo extends ut{constructor(u,d,g){super(u,"twitter.com",d,g)}}function qd(p){const{user:u,_tokenResponse:d}=p;return u.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function lu(p){var u,d;if(!p)return null;const{providerId:g}=p,C=p.rawUserInfo?JSON.parse(p.rawUserInfo):{},P=p.isNewUser||"identitytoolkit#SignupNewUserResponse"===p.kind;if(!g&&p?.idToken){const D=null===(d=null===(u=gc(p.idToken))||void 0===u?void 0:u.firebase)||void 0===d?void 0:d.sign_in_provider;if(D)return new No(P,"anonymous"!==D&&"custom"!==D?D:null)}if(!g)return null;switch(g){case"facebook.com":return new xk(P,C);case"github.com":return new ng(P,C);case"google.com":return new Iv(P,C);case"twitter.com":return new Fo(P,C,p.screenName||null);case"custom":case"anonymous":return new No(P,null);default:return new No(P,g,C)}}(d)}class Ma{constructor(u,d,g){this.type=u,this.credential=d,this.user=g}static _fromIdtoken(u,d){return new Ma("enroll",u,d)}static _fromMfaPendingCredential(u){return new Ma("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var d,g;if(u?.multiFactorSession){if(null!==(d=u.multiFactorSession)&&void 0!==d&&d.pendingCredential)return Ma._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null!==(g=u.multiFactorSession)&&void 0!==g&&g.idToken)return Ma._fromIdtoken(u.multiFactorSession.idToken)}return null}}class Dv{constructor(u,d,g){this.session=u,this.hints=d,this.signInResolver=g}static _fromError(u,d){const g=gn(u),C=d.customData._serverResponse,P=(C.mfaInfo||[]).map(V=>su._fromServerResponse(g,V));oe(C.mfaPendingCredential,g,"internal-error");const D=Ma._fromMfaPendingCredential(C.mfaPendingCredential);return new Dv(D,P,function(){var V=(0,O.Z)(function*(re){const me=yield re._process(g,D);delete C.mfaInfo,delete C.mfaPendingCredential;const Me=Object.assign(Object.assign({},C),{idToken:me.idToken,refreshToken:me.refreshToken});switch(d.operationType){case"signIn":const Ie=yield Vn._fromIdTokenResponse(g,d.operationType,Me);return yield g._updateCurrentUser(Ie.user),Ie;case"reauthenticate":return oe(d.user,g,"internal-error"),Vn._forOperation(d.user,d.operationType,Me);default:kt(g,"internal-error")}});return function(re){return V.apply(this,arguments)}}())}resolveSignIn(u){var d=this;return(0,O.Z)(function*(){return d.signInResolver(u)})()}}class Sv{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(g=>su._fromServerResponse(u.auth,g)))})}static _fromUser(u){return new Sv(u)}getSession(){var u=this;return(0,O.Z)(function*(){return Ma._fromIdtoken(yield u.user.getIdToken(),u.user)})()}enroll(u,d){var g=this;return(0,O.Z)(function*(){const C=u,P=yield g.getSession(),D=yield Ti(g.user,C._process(g.user.auth,P,d));return yield g.user._updateTokensIfNecessary(D),g.user.reload()})()}unenroll(u){var d=this;return(0,O.Z)(function*(){const g="string"==typeof u?u:u.uid,C=yield d.user.getIdToken();try{const P=yield Ti(d.user,function Fk(p,u){return Q(p,"POST","/v2/accounts/mfaEnrollment:withdraw",ce(p,u))}(d.user.auth,{idToken:C,mfaEnrollmentId:g}));d.enrolledFactors=d.enrolledFactors.filter(({uid:D})=>D!==g),yield d.user._updateTokensIfNecessary(P),yield d.user.reload()}catch(P){throw P}})()}}const Rv=new WeakMap,og="__sak";class hM{constructor(u,d){this.storageRetriever=u,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(og,"1"),this.storage.removeItem(og),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(u,d){return this.storage.setItem(u,JSON.stringify(d)),Promise.resolve()}_get(u){const d=this.storage.getItem(u);return Promise.resolve(d?JSON.parse(d):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const du=(()=>{class p extends hM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,g)=>this.onStorageEvent(d,g),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Vk(){const p=(0,X.z$)();return ar(p)||ue(p)}()&&function Zn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ee(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const g of Object.keys(this.listeners)){const C=this.storage.getItem(g),P=this.localCache[g];C!==P&&d(g,P,C)}}onStorageEvent(d,g=!1){if(!d.key)return void this.forAllChangedKeys((V,re,me)=>{this.notifyListeners(V,me)});const C=d.key;if(g?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const V=this.storage.getItem(C);if(d.newValue!==V)null!==d.newValue?this.storage.setItem(C,d.newValue):this.storage.removeItem(C);else if(this.localCache[C]===d.newValue&&!g)return}const P=()=>{const V=this.storage.getItem(C);!g&&this.localCache[C]===V||this.notifyListeners(C,V)},D=this.storage.getItem(C);!function lt(){return(0,X.w1)()&&10===document.documentMode}()||D===d.newValue||d.newValue===d.oldValue?P():setTimeout(P,10)}notifyListeners(d,g){this.localCache[d]=g;const C=this.listeners[d];if(C)for(const P of Array.from(C))P(g&&JSON.parse(g))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,g,C)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:g,newValue:C}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,g){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(g)}_removeListener(d,g){this.listeners[d]&&(this.listeners[d].delete(g),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,g){var C=()=>super._set,P=this;return(0,O.Z)(function*(){yield C().call(P,d,g),P.localCache[d]=JSON.stringify(g)})()}_get(d){var g=()=>super._get,C=this;return(0,O.Z)(function*(){const P=yield g().call(C,d);return C.localCache[d]=JSON.stringify(P),P})()}_remove(d){var g=()=>super._remove,C=this;return(0,O.Z)(function*(){yield g().call(C,d),delete C.localCache[d]})()}}return p.type="LOCAL",p})(),Oa=(()=>{class p extends hM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,g){}_removeListener(d,g){}}return p.type="SESSION",p})();let Ia=(()=>{class p{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const g=this.receivers.find(P=>P.isListeningto(d));if(g)return g;const C=new p(d);return this.receivers.push(C),C}isListeningto(d){return this.eventTarget===d}handleEvent(d){var g=this;return(0,O.Z)(function*(){const C=d,{eventId:P,eventType:D,data:V}=C.data,re=g.handlersMap[D];if(!re?.size)return;C.ports[0].postMessage({status:"ack",eventId:P,eventType:D});const me=Array.from(re).map(function(){var Ie=(0,O.Z)(function*(yn){return yn(C.origin,V)});return function(yn){return Ie.apply(this,arguments)}}()),Me=yield function jk(p){return Promise.all(p.map(function(){var u=(0,O.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(g){return{fulfilled:!1,reason:g}}});return function(d){return u.apply(this,arguments)}}()))}(me);C.ports[0].postMessage({status:"done",eventId:P,eventType:D,response:Me})})()}_subscribe(d,g){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(g)}_unsubscribe(d,g){this.handlersMap[d]&&g&&this.handlersMap[d].delete(g),(!g||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return p.receivers=[],p})();function Yi(p="",u=10){let d="";for(let g=0;g<u;g++)d+=Math.floor(10*Math.random());return p+d}class $k{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,d,g=50){var C=this;return(0,O.Z)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let D,V;return new Promise((re,me)=>{const Me=Yi("",20);P.port1.start();const Ie=setTimeout(()=>{me(new Error("unsupported_event"))},g);V={messageChannel:P,onMessage(yn){const zo=yn;if(zo.data.eventId===Me)switch(zo.data.status){case"ack":clearTimeout(Ie),D=setTimeout(()=>{me(new Error("timeout"))},3e3);break;case"done":clearTimeout(D),re(zo.data.response);break;default:clearTimeout(Ie),clearTimeout(D),me(new Error("invalid_response"))}}},C.handlers.add(V),P.port1.addEventListener("message",V.onMessage),C.target.postMessage({eventType:u,eventId:Me,data:d},[P.port2])}).finally(()=>{V&&C.removeMessageHandler(V)})})()}}function Qn(){return window}function Dc(){return typeof Qn().WorkerGlobalScope<"u"&&"function"==typeof Qn().importScripts}function Zd(){return(Zd=(0,O.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const sg="firebaseLocalStorageDb",hu="firebaseLocalStorage",Yd="fbase_key";class ba{constructor(u){this.request=u}toPromise(){return new Promise((u,d)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function pu(p,u){return p.transaction([hu],u?"readwrite":"readonly").objectStore(hu)}function Qd(){const p=indexedDB.open(sg,1);return new Promise((u,d)=>{p.addEventListener("error",()=>{d(p.error)}),p.addEventListener("upgradeneeded",()=>{const g=p.result;try{g.createObjectStore(hu,{keyPath:Yd})}catch(C){d(C)}}),p.addEventListener("success",(0,O.Z)(function*(){const g=p.result;g.objectStoreNames.contains(hu)?u(g):(g.close(),yield function Nv(){const p=indexedDB.deleteDatabase(sg);return new ba(p).toPromise()}(),u(yield Qd()))}))})}function fu(p,u,d){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,O.Z)(function*(p,u,d){const g=pu(p,!0).put({[Yd]:u,value:d});return new ba(g).toPromise()})).apply(this,arguments)}function Xd(){return(Xd=(0,O.Z)(function*(p,u){const d=pu(p,!1).get(u),g=yield new ba(d).toPromise();return void 0===g?null:g.value})).apply(this,arguments)}function fM(p,u){const d=pu(p,!0).delete(u);return new ba(d).toPromise()}const Rc=(()=>{class p{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,O.Z)(function*(){return d.db||(d.db=yield Qd()),d.db})()}_withRetries(d){var g=this;return(0,O.Z)(function*(){let C=0;for(;;)try{const P=yield g._openDb();return yield d(P)}catch(P){if(C++>3)throw P;g.db&&(g.db.close(),g.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,O.Z)(function*(){return Dc()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,O.Z)(function*(){d.receiver=Ia._getInstance(function kv(){return Dc()?self:null}()),d.receiver._subscribe("keyChanged",function(){var g=(0,O.Z)(function*(C,P){return{keyProcessed:(yield d._poll()).includes(P.key)}});return function(C,P){return g.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var g=(0,O.Z)(function*(C,P){return["keyChanged"]});return function(C,P){return g.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,O.Z)(function*(){var g,C;if(d.activeServiceWorker=yield function Qi(){return Zd.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new $k(d.activeServiceWorker);const P=yield d.sender._send("ping",{},800);P&&null!==(g=P[0])&&void 0!==g&&g.fulfilled&&null!==(C=P[0])&&void 0!==C&&C.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var g=this;return(0,O.Z)(function*(){if(g.sender&&g.activeServiceWorker&&function xv(){var p;return(null===(p=navigator?.serviceWorker)||void 0===p?void 0:p.controller)||null}()===g.activeServiceWorker)try{yield g.sender._send("keyChanged",{key:d},g.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,O.Z)(function*(){try{if(!indexedDB)return!1;const d=yield Qd();return yield fu(d,og,"1"),yield fM(d,og),!0}catch{}return!1})()}_withPendingWrite(d){var g=this;return(0,O.Z)(function*(){g.pendingWrites++;try{yield d()}finally{g.pendingWrites--}})()}_set(d,g){var C=this;return(0,O.Z)(function*(){return C._withPendingWrite((0,O.Z)(function*(){return yield C._withRetries(P=>fu(P,d,g)),C.localCache[d]=g,C.notifyServiceWorker(d)}))})()}_get(d){var g=this;return(0,O.Z)(function*(){const C=yield g._withRetries(P=>function Sc(p,u){return Xd.apply(this,arguments)}(P,d));return g.localCache[d]=C,C})()}_remove(d){var g=this;return(0,O.Z)(function*(){return g._withPendingWrite((0,O.Z)(function*(){return yield g._withRetries(C=>fM(C,d)),delete g.localCache[d],g.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,O.Z)(function*(){const g=yield d._withRetries(D=>{const V=pu(D,!1).getAll();return new ba(V).toPromise()});if(!g)return[];if(0!==d.pendingWrites)return[];const C=[],P=new Set;for(const{fbase_key:D,value:V}of g)P.add(D),JSON.stringify(d.localCache[D])!==JSON.stringify(V)&&(d.notifyListeners(D,V),C.push(D));for(const D of Object.keys(d.localCache))d.localCache[D]&&!P.has(D)&&(d.notifyListeners(D,null),C.push(D));return C})()}notifyListeners(d,g){this.localCache[d]=g;const C=this.listeners[d];if(C)for(const P of Array.from(C))P(g)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,O.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,g){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(g)}_removeListener(d,g){this.listeners[d]&&(this.listeners[d].delete(g),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return p.type="LOCAL",p})(),ug=1e12;class qk{constructor(u){this.auth=u,this.counter=ug,this._widgets=new Map}render(u,d){const g=this.counter;return this._widgets.set(g,new _M(u,this.auth.name,d||{})),this.counter++,g}reset(u){var d;const g=u||ug;null===(d=this._widgets.get(g))||void 0===d||d.delete(),this._widgets.delete(g)}getResponse(u){var d;return(null===(d=this._widgets.get(u||ug))||void 0===d?void 0:d.getResponse())||""}execute(u){var d=this;return(0,O.Z)(function*(){var g;return null===(g=d._widgets.get(u||ug))||void 0===g||g.execute(),""})()}}class _M{constructor(u,d,g){this.params=g,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const C="string"==typeof u?document.getElementById(u):u;oe(C,"argument-error",{appName:d}),this.container=C,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Lv(p){const u=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<p;g++)u.push(d.charAt(Math.floor(62*Math.random())));return u.join("")}(50);const{callback:u,"expired-callback":d}=this.params;if(u)try{u(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Jd=tM("rcb"),mM=new Ro(3e4,6e4);class vM{constructor(){var u;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(u=Qn().grecaptcha)||void 0===u||!u.render)}load(u,d=""){return oe(function Vv(p){return p.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(p)}(d),u,"argument-error"),this.shouldResolveImmediately(d)&&Hr(Qn().grecaptcha)?Promise.resolve(Qn().grecaptcha):new Promise((g,C)=>{const P=Qn().setTimeout(()=>{C(Wt(u,"network-request-failed"))},mM.get());Qn()[Jd]=()=>{Qn().clearTimeout(P),delete Qn()[Jd];const V=Qn().grecaptcha;if(!V||!Hr(V))return void C(Wt(u,"internal-error"));const re=V.render;V.render=(me,Me)=>{const Ie=re(me,Me);return this.counter++,Ie},this.hostLanguage=d,g(V)},ds(`https://www.google.com/recaptcha/api.js??${(0,X.xO)({onload:Jd,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(P),C(Wt(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){var d;return!(null===(d=Qn().grecaptcha)||void 0===d||!d.render)&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class CM{load(u){return(0,O.Z)(function*(){return new qk(u)})()}clearedOneInstance(){}}const dg="recaptcha",wM={theme:"light",type:"image"};class Kk{constructor(u,d,g=Object.assign({},wM)){this.parameters=g,this.type=dg,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=gn(u),this.isInvisible="invisible"===this.parameters.size,oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const C="string"==typeof d?document.getElementById(d):d;oe(C,this.auth,"argument-error"),this.container=C,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new CM:new vM,this.validateStartingState()}verify(){var u=this;return(0,O.Z)(function*(){u.assertNotDestroyed();const d=yield u.render(),g=u.getAssertedRecaptcha();return g.getResponse(d)||new Promise(P=>{const D=V=>{V&&(u.tokenChangeListeners.delete(D),P(V))};u.tokenChangeListeners.add(D),u.isInvisible&&g.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return d=>{if(this.tokenChangeListeners.forEach(g=>g(d)),"function"==typeof u)u(d);else if("string"==typeof u){const g=Qn()[u];"function"==typeof g&&g(d)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,O.Z)(function*(){if(yield u.init(),!u.widgetId){let d=u.container;if(!u.isInvisible){const g=document.createElement("div");d.appendChild(g),d=g}u.widgetId=u.getAssertedRecaptcha().render(d,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,O.Z)(function*(){oe(Do()&&!Dc(),u.auth,"internal-error"),yield function PM(){let p=null;return new Promise(u=>{"complete"!==document.readyState?(p=()=>u(),window.addEventListener("load",p)):u()}).catch(u=>{throw p&&window.removeEventListener("load",p),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const d=yield function pc(p){return as.apply(this,arguments)}(u.auth);oe(d,u.auth,"internal-error"),u.parameters.sitekey=d})()}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class di{constructor(u,d){this.verificationId=u,this.onConfirmation=d}confirm(u){const d=Ca._fromVerification(this.verificationId,u);return this.onConfirmation(d)}}function hg(){return(hg=(0,O.Z)(function*(p,u,d){const g=gn(p),C=yield xc(g,u,(0,X.m9)(d));return new di(C,P=>$d(g,P))})).apply(this,arguments)}function eh(){return(eh=(0,O.Z)(function*(p,u,d){const g=(0,X.m9)(p);yield ou(!1,g,"phone");const C=yield xc(g.auth,u,(0,X.m9)(d));return new di(C,P=>Ev(g,P))})).apply(this,arguments)}function pg(){return(pg=(0,O.Z)(function*(p,u,d){const g=(0,X.m9)(p),C=yield xc(g.auth,u,(0,X.m9)(d));return new di(C,P=>Zf(g,P))})).apply(this,arguments)}function xc(p,u,d){return fg.apply(this,arguments)}function fg(){return fg=(0,O.Z)(function*(p,u,d){var g;const C=yield d.verify();try{let P;if(oe("string"==typeof C,p,"argument-error"),oe(d.type===dg,p,"argument-error"),P="string"==typeof u?{phoneNumber:u}:u,"session"in P){const D=P.session;if("phoneNumber"in P)return oe("enroll"===D.type,p,"internal-error"),(yield function dM(p,u){return Q(p,"POST","/v2/accounts/mfaEnrollment:start",ce(p,u))}(p,{idToken:D.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:C}})).phoneSessionInfo.sessionInfo;{oe("signin"===D.type,p,"internal-error");const V=(null===(g=P.multiFactorHint)||void 0===g?void 0:g.uid)||P.multiFactorUid;return oe(V,p,"missing-multi-factor-info"),(yield function Gk(p,u){return Q(p,"POST","/v2/accounts/mfaSignIn:start",ce(p,u))}(p,{mfaPendingCredential:D.credential,mfaEnrollmentId:V,phoneSignInInfo:{recaptchaToken:C}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:D}=yield function Bf(p,u){return Cc.apply(this,arguments)}(p,{phoneNumber:P.phoneNumber,recaptchaToken:C});return D}}finally{d._reset()}}),fg.apply(this,arguments)}function th(){return(th=(0,O.Z)(function*(p,u){yield Bd((0,X.m9)(p),u)})).apply(this,arguments)}let kc=(()=>{class p{constructor(d){this.providerId=p.PROVIDER_ID,this.auth=gn(d)}verifyPhoneNumber(d,g){return xc(this.auth,d,(0,X.m9)(g))}static credential(d,g){return Ca._fromVerification(d,g)}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:g,temporaryProof:C}=d;return g&&C?Ca._fromTokenResponse(g,C):null}}return p.PROVIDER_ID="phone",p.PHONE_SIGN_IN_METHOD="phone",p})();function At(p,u){return u?K(u):(oe(p._popupRedirectResolver,p,"argument-error"),p._popupRedirectResolver)}class gu extends va{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return Ls(u,this._buildIdpRequest())}_linkToIdToken(u,d){return Ls(u,this._buildIdpRequest(d))}_getReauthenticationResolver(u){return Ls(u,this._buildIdpRequest())}_buildIdpRequest(u){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(d.idToken=u),d}}function nh(p){return Pv(p.auth,new gu(p),p.bypassAuthState)}function hi(p){const{auth:u,user:d}=p;return oe(d,u,"internal-error"),wv(d,new gu(p),p.bypassAuthState)}function MM(p){return rh.apply(this,arguments)}function rh(){return(rh=(0,O.Z)(function*(p){const{auth:u,user:d}=p;return oe(d,u,"internal-error"),Bd(d,new gu(p),p.bypassAuthState)})).apply(this,arguments)}class Aa{constructor(u,d,g,C,P=!1){this.auth=u,this.resolver=g,this.user=C,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var u=this;return new Promise(function(){var d=(0,O.Z)(function*(g,C){u.pendingPromise={resolve:g,reject:C};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(P){u.reject(P)}});return function(g,C){return d.apply(this,arguments)}}())}onAuthEvent(u){var d=this;return(0,O.Z)(function*(){const{urlResponse:g,sessionId:C,postBody:P,tenantId:D,error:V,type:re}=u;if(V)return void d.reject(V);const me={auth:d.auth,requestUri:g,sessionId:C,tenantId:D||void 0,postBody:P||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(re)(me))}catch(Me){d.reject(Me)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return nh;case"linkViaPopup":case"linkViaRedirect":return MM;case"reauthViaPopup":case"reauthViaRedirect":return hi;default:kt(this.auth,"internal-error")}}resolve(u){nn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){nn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xi=new Ro(2e3,1e4);function gg(){return(gg=(0,O.Z)(function*(p,u,d){const g=gn(p);rt(p,u,Si);const C=At(g,d);return new ih(g,"signInViaPopup",u,C).executeNotNull()})).apply(this,arguments)}function Uo(){return(Uo=(0,O.Z)(function*(p,u,d){const g=(0,X.m9)(p);rt(g.auth,u,Si);const C=At(g.auth,d);return new ih(g.auth,"reauthViaPopup",u,C,g).executeNotNull()})).apply(this,arguments)}function _g(){return(_g=(0,O.Z)(function*(p,u,d){const g=(0,X.m9)(p);rt(g.auth,u,Si);const C=At(g.auth,d);return new ih(g.auth,"linkViaPopup",u,C,g).executeNotNull()})).apply(this,arguments)}let ih=(()=>{class p extends Aa{constructor(d,g,C,P,D){super(d,g,P,D),this.provider=C,this.authWindow=null,this.pollId=null,p.currentPopupAction&&p.currentPopupAction.cancel(),p.currentPopupAction=this}executeNotNull(){var d=this;return(0,O.Z)(function*(){const g=yield d.execute();return oe(g,d.auth,"internal-error"),g})()}onExecution(){var d=this;return(0,O.Z)(function*(){nn(1===d.filter.length,"Popup operations only handle one event");const g=Yi();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],g),d.authWindow.associatedEvent=g,d.resolver._originValidation(d.auth).catch(C=>{d.reject(C)}),d.resolver._isIframeWebStorageSupported(d.auth,C=>{C||d.reject(Wt(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(Wt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,p.currentPopupAction=null}pollUserCancellation(){const d=()=>{var g,C;this.pollId=null!==(C=null===(g=this.authWindow)||void 0===g?void 0:g.window)&&void 0!==C&&C.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Wt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,xi.get())};d()}}return p.currentPopupAction=null,p})();const $v="pendingRedirect",Nc=new Map;class bM extends Aa{constructor(u,d,g=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,g),this.eventId=null}execute(){var u=()=>super.execute,d=this;return(0,O.Z)(function*(){let g=Nc.get(d.auth._key());if(!g){try{const P=(yield function je(p,u){return oh.apply(this,arguments)}(d.resolver,d.auth))?yield u().call(d):null;g=()=>Promise.resolve(P)}catch(C){g=()=>Promise.reject(C)}Nc.set(d.auth._key(),g)}return d.bypassAuthState||Nc.set(d.auth._key(),()=>Promise.resolve(null)),g()})()}onAuthEvent(u){var d=()=>super.onAuthEvent,g=this;return(0,O.Z)(function*(){if("signInViaRedirect"===u.type)return d().call(g,u);if("unknown"!==u.type){if(u.eventId){const C=yield g.auth._redirectUserForId(u.eventId);if(C)return g.user=C,d().call(g,u);g.resolve(null)}}else g.resolve(null)})()}onExecution(){return(0,O.Z)(function*(){})()}cleanUp(){}}function oh(){return(oh=(0,O.Z)(function*(p,u){const d=Da(u),g=vg(p);if(!(yield g._isAvailable()))return!1;const C="true"===(yield g._get(d));return yield g._remove(d),C})).apply(this,arguments)}function Hv(p,u){return mg.apply(this,arguments)}function mg(){return(mg=(0,O.Z)(function*(p,u){return vg(p)._set(Da(u),"true")})).apply(this,arguments)}function yg(p,u){Nc.set(p._key(),u)}function vg(p){return K(p._redirectPersistence)}function Da(p){return Je($v,p.config.apiKey,p.name)}function AM(p,u,d){return function DM(p,u,d){return Cg.apply(this,arguments)}(p,u,d)}function Cg(){return(Cg=(0,O.Z)(function*(p,u,d){const g=gn(p);rt(p,u,Si),yield g._initializationPromise;const C=At(g,d);return yield Hv(C,g),C._openRedirect(g,u,"signInViaRedirect")})).apply(this,arguments)}function SM(p,u,d){return function RM(p,u,d){return ae.apply(this,arguments)}(p,u,d)}function ae(){return(ae=(0,O.Z)(function*(p,u,d){const g=(0,X.m9)(p);rt(g.auth,u,Si),yield g.auth._initializationPromise;const C=At(g.auth,d);yield Hv(C,g.auth);const P=yield ah(g);return C._openRedirect(g.auth,u,"reauthViaRedirect",P)})).apply(this,arguments)}function Ct(p,u,d){return function Xn(p,u,d){return Rn.apply(this,arguments)}(p,u,d)}function Rn(){return(Rn=(0,O.Z)(function*(p,u,d){const g=(0,X.m9)(p);rt(g.auth,u,Si),yield g.auth._initializationPromise;const C=At(g.auth,d);yield ou(!1,g,u.providerId),yield Hv(C,g.auth);const P=yield ah(g);return C._openRedirect(g.auth,u,"linkViaRedirect",P)})).apply(this,arguments)}function sh(){return(sh=(0,O.Z)(function*(p,u){return yield gn(p)._initializationPromise,js(p,u,!1)})).apply(this,arguments)}function js(p,u){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,O.Z)(function*(p,u,d=!1){const g=gn(p),C=At(g,u),D=yield new bM(g,C,d).execute();return D&&!d&&(delete D.user._redirectEventId,yield g._persistUserIfCurrent(D.user),yield g._setRedirectUser(null,u)),D})).apply(this,arguments)}function ah(p){return _u.apply(this,arguments)}function _u(){return(_u=(0,O.Z)(function*(p){const u=Yi(`${p.uid}:::`);return p._redirectEventId=u,yield p.auth._setRedirectUser(p),yield p.auth._persistUserIfCurrent(p),u})).apply(this,arguments)}class kM{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let d=!1;return this.consumers.forEach(g=>{this.isEventForConsumer(u,g)&&(d=!0,this.sendToConsumer(u,g),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function ps(p){switch(p.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xr(p);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=u,d=!0)),d}sendToConsumer(u,d){var g;if(u.error&&!xr(u)){const C=(null===(g=u.error.code)||void 0===g?void 0:g.split("auth/")[1])||"internal-error";d.onError(Wt(this.auth,C))}else d.onAuthEvent(u)}isEventForConsumer(u,d){const g=null===d.eventId||!!u.eventId&&u.eventId===d.eventId;return d.filter.includes(u.type)&&g}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(wg(u))}saveEventToCache(u){this.cachedEventUids.add(wg(u)),this.lastProcessedEventTime=Date.now()}}function wg(p){return[p.type,p.eventId,p.sessionId,p.tenantId].filter(u=>u).join("-")}function xr({type:p,error:u}){return"unknown"===p&&"auth/no-auth-event"===u?.code}function Pg(p){return $s.apply(this,arguments)}function $s(){return($s=(0,O.Z)(function*(p,u={}){return Q(p,"GET","/v1/projects",u)})).apply(this,arguments)}const fs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NM=/^https?/;function Eg(){return(Eg=(0,O.Z)(function*(p){if(p.config.emulator)return;const{authorizedDomains:u}=yield Pg(p);for(const d of u)try{if(FM(d))return}catch{}kt(p,"unauthorized-domain")})).apply(this,arguments)}function FM(p){const u=Fn(),{protocol:d,hostname:g}=new URL(u);if(p.startsWith("chrome-extension://")){const D=new URL(p);return""===D.hostname&&""===g?"chrome-extension:"===d&&p.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===d&&D.hostname===g}if(!NM.test(d))return!1;if(fs.test(p))return g===p;const C=p.replace(/\./g,"\\.");return new RegExp("^(.+\\."+C+"|"+C+")$","i").test(g)}const Mg=new Ro(3e4,6e4);function ch(){const p=Qn().___jsl;if(p?.H)for(const u of Object.keys(p.H))if(p.H[u].r=p.H[u].r||[],p.H[u].L=p.H[u].L||[],p.H[u].r=[...p.H[u].L],p.CP)for(let d=0;d<p.CP.length;d++)p.CP[d]=null}let Fc=null;const Gv=new Ro(5e3,15e3),Og="__/auth/iframe",qv="emulator/auth/iframe",Kv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yv(p){const u=p.config;oe(u.authDomain,p,"auth-domain-config-required");const d=u.emulator?z(u,qv):`https://${p.config.authDomain}/${Og}`,g={apiKey:u.apiKey,appName:p.name,v:He.SDK_VERSION},C=Zv.get(p.config.apiHost);C&&(g.eid=C);const P=p._getFrameworks();return P.length&&(g.fw=P.join(",")),`${d}?${(0,X.xO)(g).slice(1)}`}function bg(){return bg=(0,O.Z)(function*(p){const u=yield function LM(p){return Fc=Fc||function Wv(p){return new Promise((u,d)=>{var g,C,P;function D(){ch(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{ch(),d(Wt(p,"network-request-failed"))},timeout:Mg.get()})}if(null!==(C=null===(g=Qn().gapi)||void 0===g?void 0:g.iframes)&&void 0!==C&&C.Iframe)u(gapi.iframes.getContext());else{if(null===(P=Qn().gapi)||void 0===P||!P.load){const V=tM("iframefcb");return Qn()[V]=()=>{gapi.load?D():d(Wt(p,"network-request-failed"))},ds(`https://apis.google.com/js/api.js?onload=${V}`).catch(re=>d(re))}D()}}).catch(u=>{throw Fc=null,u})}(p),Fc}(p),d=Qn().gapi;return oe(d,p,"internal-error"),u.open({where:document.body,url:Yv(p),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kv,dontclear:!0},g=>new Promise(function(){var C=(0,O.Z)(function*(P,D){yield g.restyle({setHideOnLeave:!1});const V=Wt(p,"network-request-failed"),re=Qn().setTimeout(()=>{D(V)},Gv.get());function me(){Qn().clearTimeout(re),P(g)}g.ping(me).then(me,()=>{D(V)})});return function(P,D){return C.apply(this,arguments)}}()))}),bg.apply(this,arguments)}const VM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Qv{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Xv="__/auth/handler",Jv="emulator/auth/handler",lh=encodeURIComponent("fac");function Bo(p,u,d,g,C,P){return Tg.apply(this,arguments)}function Tg(){return(Tg=(0,O.Z)(function*(p,u,d,g,C,P){oe(p.config.authDomain,p,"auth-domain-config-required"),oe(p.config.apiKey,p,"invalid-api-key");const D={apiKey:p.config.apiKey,appName:p.name,authType:d,redirectUrl:g,v:He.SDK_VERSION,eventId:C};if(u instanceof Si){u.setDefaultLanguage(p.languageCode),D.providerId=u.providerId||"",(0,X.xb)(u.getCustomParameters())||(D.customParameters=JSON.stringify(u.getCustomParameters()));for(const[Me,Ie]of Object.entries(P||{}))D[Me]=Ie}if(u instanceof Pc){const Me=u.getScopes().filter(Ie=>""!==Ie);Me.length>0&&(D.scopes=Me.join(","))}p.tenantId&&(D.tid=p.tenantId);const V=D;for(const Me of Object.keys(V))void 0===V[Me]&&delete V[Me];const re=yield p._getAppCheckToken(),me=re?`#${lh}=${encodeURIComponent(re)}`:"";return`${function uh({config:p}){return p.emulator?z(p,Jv):`https://${p.authDomain}/${Xv}`}(p)}?${(0,X.xO)(V).slice(1)}${me}`})).apply(this,arguments)}const Lc="webStorageSupport",hh=class dh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Oa,this._completeRedirectFn=js,this._overrideRedirectResult=yg}_openPopup(u,d,g,C){var P=this;return(0,O.Z)(function*(){var D;nn(null===(D=P.eventManagers[u._key()])||void 0===D?void 0:D.manager,"_initialize() not called before _openPopup()");const V=yield Bo(u,d,g,Fn(),C);return function BM(p,u,d,g=500,C=600){const P=Math.max((window.screen.availHeight-C)/2,0).toString(),D=Math.max((window.screen.availWidth-g)/2,0).toString();let V="";const re=Object.assign(Object.assign({},VM),{width:g.toString(),height:C.toString(),top:P,left:D}),me=(0,X.z$)().toLowerCase();d&&(V=Bt(me)?"_blank":d),xe(me)&&(u=u||"http://localhost",re.scrollbars="yes");const Me=Object.entries(re).reduce((yn,[zo,Pu])=>`${yn}${zo}=${Pu},`,"");if(function Ye(p=(0,X.z$)()){var u;return ue(p)&&!(null===(u=window.navigator)||void 0===u||!u.standalone)}(me)&&"_self"!==V)return function jM(p,u){const d=document.createElement("a");d.href=p,d.target=u;const g=document.createEvent("MouseEvent");g.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(g)}(u||"",V),new Qv(null);const Ie=window.open(u||"",V,Me);oe(Ie,p,"popup-blocked");try{Ie.focus()}catch{}return new Qv(Ie)}(u,V,Yi())})()}_openRedirect(u,d,g,C){var P=this;return(0,O.Z)(function*(){return yield P._originValidation(u),function Pr(p){Qn().location.href=p}(yield Bo(u,d,g,Fn(),C)),new Promise(()=>{})})()}_initialize(u){const d=u._key();if(this.eventManagers[d]){const{manager:C,promise:P}=this.eventManagers[d];return C?Promise.resolve(C):(nn(P,"If manager is not set, promise should be"),P)}const g=this.initAndGetManager(u);return this.eventManagers[d]={promise:g},g.catch(()=>{delete this.eventManagers[d]}),g}initAndGetManager(u){var d=this;return(0,O.Z)(function*(){const g=yield function Ig(p){return bg.apply(this,arguments)}(u),C=new kM(u);return g.register("authEvent",P=>(oe(P?.authEvent,u,"invalid-auth-event"),{status:C.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[u._key()]={manager:C},d.iframes[u._key()]=g,C})()}_isIframeWebStorageSupported(u,d){this.iframes[u._key()].send(Lc,{type:Lc},C=>{var P;const D=null===(P=C?.[0])||void 0===P?void 0:P[Lc];void 0!==D&&d(!!D),kt(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const d=u._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function zv(p){return Eg.apply(this,arguments)}(u)),this.originValidationPromises[d]}get _shouldInitProactively(){return ee()||ar()||ue()}};class eC{constructor(u){this.factorId=u}_process(u,d,g){switch(d.type){case"enroll":return this._finalizeEnroll(u,d.credential,g);case"signin":return this._finalizeSignIn(u,d.credential);default:return pn("unexpected MultiFactorSessionType")}}}class ph extends eC{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new ph(u)}_finalizeEnroll(u,d,g){return function kk(p,u){return Q(p,"POST","/v2/accounts/mfaEnrollment:finalize",ce(p,u))}(u,{idToken:d,displayName:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,d){return function Fv(p,u){return Q(p,"POST","/v2/accounts/mfaSignIn:finalize",ce(p,u))}(u,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let $M=(()=>{class p{constructor(){}static assertion(d){return ph._fromCredential(d)}}return p.FACTOR_ID="phone",p})();var fh="@firebase/auth";class zM{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var d=this;return(0,O.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const d=this.auth.onIdTokenChanged(g=>{u(g?.stsTokenManager.accessToken||null)});this.internalListeners.set(u,d),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const d=this.internalListeners.get(u);d&&(this.internalListeners.delete(u),d(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function gs(){return window}(0,X.Pz)("authIdTokenMaxAge"),function Zk(p){(0,He._registerComponent)(new En.wA("auth",(u,{options:d})=>{const g=u.getProvider("app").getImmediate(),C=u.getProvider("heartbeat"),P=u.getProvider("app-check-internal"),{apiKey:D,authDomain:V}=g.options;oe(D&&!D.includes(":"),"invalid-api-key",{appName:g.name});const re={apiKey:D,authDomain:V,clientPlatform:p,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Se(p)},me=new Di(g,C,P,re);return function Dk(p,u){const d=u?.persistence||[],g=(Array.isArray(d)?d:[d]).map(K);u?.errorMap&&p._updateErrorMap(u.errorMap),p._initializeWithPersistence(g,u?.popupRedirectResolver)}(me,d),me},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,d,g)=>{u.getProvider("auth-internal").initialize()})),(0,He._registerComponent)(new En.wA("auth-internal",u=>{const d=gn(u.getProvider("auth").getImmediate());return new zM(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,He.registerVersion)(fh,"1.3.2",function WM(p){switch(p){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(p)),(0,He.registerVersion)(fh,"1.3.2","esm2017")}("Browser");function mh(){return mh=(0,O.Z)(function*(p,u,d){var g;const{BuildInfo:C}=gs();nn(u.sessionId,"AuthEvent did not contain a session ID");const P=yield function rC(p){return Bc.apply(this,arguments)}(u.sessionId),D={};return ue()?D.ibi=C.packageName:ya()?D.apn=C.packageName:kt(p,"operation-not-supported-in-this-environment"),C.displayName&&(D.appDisplayName=C.displayName),D.sessionId=P,Bo(p,d,u.type,void 0,null!==(g=u.eventId)&&void 0!==g?g:void 0,D)}),mh.apply(this,arguments)}function Sg(){return(Sg=(0,O.Z)(function*(p){const{BuildInfo:u}=gs(),d={};ue()?d.iosBundleId=u.packageName:ya()?d.androidPackageName=u.packageName:kt(p,"operation-not-supported-in-this-environment"),yield Pg(p,d)})).apply(this,arguments)}function Uc(){return(Uc=(0,O.Z)(function*(p,u,d){const{cordova:g}=gs();let C=()=>{};try{yield new Promise((P,D)=>{let V=null;function re(){var Ie;P();const yn=null===(Ie=g.plugins.browsertab)||void 0===Ie?void 0:Ie.close;"function"==typeof yn&&yn(),"function"==typeof d?.close&&d.close()}function me(){V||(V=window.setTimeout(()=>{D(Wt(p,"redirect-cancelled-by-user"))},2e3))}function Me(){"visible"===document?.visibilityState&&me()}u.addPassiveListener(re),document.addEventListener("resume",me,!1),ya()&&document.addEventListener("visibilitychange",Me,!1),C=()=>{u.removePassiveListener(re),document.removeEventListener("resume",me,!1),document.removeEventListener("visibilitychange",Me,!1),V&&window.clearTimeout(V)}})}finally{C()}})).apply(this,arguments)}function Bc(){return(Bc=(0,O.Z)(function*(p){const u=function xg(p){if(nn(/[0-9a-zA-Z]+/.test(p),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(p);const u=new ArrayBuffer(p.length),d=new Uint8Array(u);for(let g=0;g<p.length;g++)d[g]=p.charCodeAt(g);return d}(p),d=yield crypto.subtle.digest("SHA-256",u);return Array.from(new Uint8Array(d)).map(C=>C.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class iC extends kM{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(u=>{this.resolveInialized=u})}addPassiveListener(u){this.passiveListeners.add(u)}removePassiveListener(u){this.passiveListeners.delete(u)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(u){return this.resolveInialized(),this.passiveListeners.forEach(d=>d(u)),super.onEvent(u)}initialized(){var u=this;return(0,O.Z)(function*(){yield u.initPromise})()}}function kg(p){return Ng.apply(this,arguments)}function Ng(){return(Ng=(0,O.Z)(function*(p){const u=yield Fg()._get(vh(p));return u&&(yield Fg()._remove(vh(p))),u})).apply(this,arguments)}function xa(){const p=[];for(let d=0;d<20;d++){const g=Math.floor(62*Math.random());p.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(g))}return p.join("")}function Fg(){return K(du)}function vh(p){return Je("authEvent",p.config.apiKey,p.name)}function Ch(p){if(!p?.includes("?"))return{};const[u,...d]=p.split("?");return(0,X.zd)(d.join("?"))}const Mr=class ZM{constructor(){this._redirectPersistence=Oa,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=js,this._overrideRedirectResult=yg}_initialize(u){var d=this;return(0,O.Z)(function*(){const g=u._key();let C=d.eventManagers.get(g);return C||(C=new iC(u),d.eventManagers.set(g,C),d.attachCallbackListeners(u,C)),C})()}_openPopup(u){kt(u,"operation-not-supported-in-this-environment")}_openRedirect(u,d,g,C){var P=this;return(0,O.Z)(function*(){!function Rg(p){var u,d,g,C,P,D,V,re,me,Me;const Ie=gs();oe("function"==typeof(null===(u=Ie?.universalLinks)||void 0===u?void 0:u.subscribe),p,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),oe(typeof(null===(d=Ie?.BuildInfo)||void 0===d?void 0:d.packageName)<"u",p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),oe("function"==typeof(null===(P=null===(C=null===(g=Ie?.cordova)||void 0===g?void 0:g.plugins)||void 0===C?void 0:C.browsertab)||void 0===P?void 0:P.openUrl),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oe("function"==typeof(null===(re=null===(V=null===(D=Ie?.cordova)||void 0===D?void 0:D.plugins)||void 0===V?void 0:V.browsertab)||void 0===re?void 0:re.isAvailable),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oe("function"==typeof(null===(Me=null===(me=Ie?.cordova)||void 0===me?void 0:me.InAppBrowser)||void 0===Me?void 0:Me.open),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(u);const D=yield P._initialize(u);yield D.initialized(),D.resetRedirect(),function TM(){Nc.clear()}(),yield P._originValidation(u);const V=function oC(p,u,d=null){return{type:u,eventId:d,urlResponse:null,sessionId:xa(),postBody:null,tenantId:p.tenantId,error:Wt(p,"no-auth-event")}}(u,g,C);yield function sC(p,u){return Fg()._set(vh(p),u)}(u,V);const re=yield function Qk(p,u,d){return mh.apply(this,arguments)}(u,V,d),me=yield function jo(p){const{cordova:u}=gs();return new Promise(d=>{u.plugins.browsertab.isAvailable(g=>{let C=null;g?u.plugins.browsertab.openUrl(p):C=u.InAppBrowser.open(p,function ke(p=(0,X.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(p)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(p)}()?"_blank":"_system","location=yes"),d(C)})})}(re);return function qM(p,u,d){return Uc.apply(this,arguments)}(u,D,me)})()}_isIframeWebStorageSupported(u,d){throw new Error("Method not implemented.")}_originValidation(u){const d=u._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function nC(p){return Sg.apply(this,arguments)}(u)),this.originValidationPromises[d]}attachCallbackListeners(u,d){const{universalLinks:g,handleOpenURL:C,BuildInfo:P}=gs(),D=setTimeout((0,O.Z)(function*(){yield kg(u),d.onEvent(wh())}),500),V=function(){var Me=(0,O.Z)(function*(Ie){clearTimeout(D);const yn=yield kg(u);let zo=null;yn&&Ie?.url&&(zo=function yh(p,u){var d,g;const C=function yu(p){const u=Ch(p),d=u.link?decodeURIComponent(u.link):void 0,g=Ch(d).link,C=u.deep_link_id?decodeURIComponent(u.deep_link_id):void 0;return Ch(C).link||C||g||d||p}(u);if(C.includes("/__/auth/callback")){const P=Ch(C),D=P.firebaseError?function aC(p){try{return JSON.parse(p)}catch{return null}}(decodeURIComponent(P.firebaseError)):null,V=null===(g=null===(d=D?.code)||void 0===d?void 0:d.split("auth/"))||void 0===g?void 0:g[1],re=V?Wt(V):null;return re?{type:p.type,eventId:p.eventId,tenantId:p.tenantId,error:re,urlResponse:null,sessionId:null,postBody:null}:{type:p.type,eventId:p.eventId,tenantId:p.tenantId,sessionId:p.sessionId,urlResponse:C,postBody:null}}return null}(yn,Ie.url)),d.onEvent(zo||wh())});return function(yn){return Me.apply(this,arguments)}}();typeof g<"u"&&"function"==typeof g.subscribe&&g.subscribe(null,V);const re=C,me=`${P.packageName.toLowerCase()}://`;gs().handleOpenURL=function(){var Me=(0,O.Z)(function*(Ie){if(Ie.toLowerCase().startsWith(me)&&V({url:Ie}),"function"==typeof re)try{re(Ie)}catch(yn){console.error(yn)}});return function(Ie){return Me.apply(this,arguments)}}()}};function wh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Wt("no-auth-event")}}function $o(){var p;return(null===(p=self?.location)||void 0===p?void 0:p.protocol)||null}function Lg(p=(0,X.z$)()){return!("file:"!==$o()&&"ionic:"!==$o()&&"capacitor:"!==$o()||!p.toLowerCase().match(/iphone|ipad|ipod|android/))}function XM(){try{const p=self.localStorage,u=Yi();if(p)return p.setItem(u,"1"),p.removeItem(u),!function QM(p=(0,X.z$)()){return function Hc(){return(0,X.w1)()&&11===document?.documentMode}()||function Xk(p=(0,X.z$)()){return/Edge\/\d+/.test(p)}(p)}()||(0,X.hl)()}catch{return lC()&&(0,X.hl)()}return!1}function lC(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function uC(){return(function $c(){return"http:"===$o()||"https:"===$o()}()||(0,X.ru)()||Lg())&&!function Vg(){return(0,X.b$)()||(0,X.UG)()}()&&XM()&&!lC()}function JM(){return Lg()&&typeof document<"u"}function dC(){return(dC=(0,O.Z)(function*(){return!!JM()&&new Promise(p=>{const u=setTimeout(()=>{p(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(u),p(!0)})})})).apply(this,arguments)}const ki={LOCAL:"local",NONE:"none",SESSION:"session"},vu=oe,Bn="persistence";function ka(p){return Ug.apply(this,arguments)}function Ug(){return(Ug=(0,O.Z)(function*(p){yield p._initializationPromise;const u=Na(),d=Je(Bn,p.config.apiKey,p.name);u&&u.setItem(d,p._getPersistence())})).apply(this,arguments)}function Na(){var p;try{return(null===(p=function zc(){return typeof window<"u"?window:null}())||void 0===p?void 0:p.sessionStorage)||null}catch{return null}}const hC=oe;class go{constructor(){this.browserResolver=K(hh),this.cordovaResolver=K(Mr),this.underlyingResolver=null,this._redirectPersistence=Oa,this._completeRedirectFn=js,this._overrideRedirectResult=yg}_initialize(u){var d=this;return(0,O.Z)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(u)})()}_openPopup(u,d,g,C){var P=this;return(0,O.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(u,d,g,C)})()}_openRedirect(u,d,g,C){var P=this;return(0,O.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(u,d,g,C)})()}_isIframeWebStorageSupported(u,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(u,d)}_originValidation(u){return this.assertedUnderlyingResolver._originValidation(u)}get _shouldInitProactively(){return JM()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return hC(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var u=this;return(0,O.Z)(function*(){if(u.underlyingResolver)return;const d=yield function Jk(){return dC.apply(this,arguments)}();u.underlyingResolver=d?u.cordovaResolver:u.browserResolver})()}}function Wc(p){return p.unwrap()}function eN(p){return rO(p)}function rO(p){const{_tokenResponse:u}=p instanceof X.ZR?p.customData:p;if(!u)return null;if(!(p instanceof X.ZR)&&"temporaryProof"in u&&"phoneNumber"in u)return kc.credentialFromResult(p);const d=u.providerId;if(!d||d===dt.PASSWORD)return null;let g;switch(d){case dt.GOOGLE:g=ko;break;case dt.FACEBOOK:g=vv;break;case dt.GITHUB:g=ru;break;case dt.TWITTER:g=Nd;break;default:const{oauthIdToken:C,oauthAccessToken:P,oauthTokenSecret:D,pendingToken:V,nonce:re}=u;return P||D||C||V?V?d.startsWith("saml.")?qr._create(d,V):ci._fromParams({providerId:d,signInMethod:d,pendingToken:V,idToken:C,accessToken:P}):new Ec(d).credential({idToken:C,accessToken:P,rawNonce:re}):null}return p instanceof X.ZR?g.credentialFromError(p):g.credentialFromResult(p)}function Kt(p,u){return u.catch(d=>{throw d instanceof X.ZR&&function nO(p,u){var d;const g=null===(d=u.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===u?.code)u.resolver=new tN(p,function uM(p,u){var d;const g=(0,X.m9)(p),C=u;return oe(u.customData.operationType,g,"argument-error"),oe(null===(d=C.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,g,"argument-error"),Dv._fromError(g,C)}(p,u));else if(g){const C=rO(u),P=u;C&&(P.credential=C,P.tenantId=g.tenantId||void 0,P.email=g.email||void 0,P.phoneNumber=g.phoneNumber||void 0)}}(p,d),d}).then(d=>{const C=d.user;return{operationType:d.operationType,credential:eN(d),additionalUserInfo:qd(d),user:Ho.getOrCreate(C)}})}function Cu(p,u){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,O.Z)(function*(p,u){const d=yield u;return{verificationId:d.verificationId,confirm:g=>Kt(p,d.confirm(g))}})).apply(this,arguments)}class tN{constructor(u,d){this.resolver=d,this.auth=function tO(p){return p.wrapped()}(u)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(u){return Kt(Wc(this.auth),this.resolver.resolveSignIn(u))}}class Ho{constructor(u){this._delegate=u,this.multiFactor=function Lk(p){const u=(0,X.m9)(p);return Rv.has(u)||Rv.set(u,Sv._fromUser(u)),Rv.get(u)}(u)}static getOrCreate(u){return Ho.USER_MAP.has(u)||Ho.USER_MAP.set(u,new Ho(u)),Ho.USER_MAP.get(u)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(u){return this._delegate.getIdTokenResult(u)}getIdToken(u){return this._delegate.getIdToken(u)}linkAndRetrieveDataWithCredential(u){return this.linkWithCredential(u)}linkWithCredential(u){var d=this;return(0,O.Z)(function*(){return Kt(d.auth,Ev(d._delegate,u))})()}linkWithPhoneNumber(u,d){var g=this;return(0,O.Z)(function*(){return Cu(g.auth,function EM(p,u,d){return eh.apply(this,arguments)}(g._delegate,u,d))})()}linkWithPopup(u){var d=this;return(0,O.Z)(function*(){return Kt(d.auth,function jv(p,u,d){return _g.apply(this,arguments)}(d._delegate,u,go))})()}linkWithRedirect(u){var d=this;return(0,O.Z)(function*(){return yield ka(gn(d.auth)),Ct(d._delegate,u,go)})()}reauthenticateAndRetrieveDataWithCredential(u){return this.reauthenticateWithCredential(u)}reauthenticateWithCredential(u){var d=this;return(0,O.Z)(function*(){return Kt(d.auth,Zf(d._delegate,u))})()}reauthenticateWithPhoneNumber(u,d){return Cu(this.auth,function Bv(p,u,d){return pg.apply(this,arguments)}(this._delegate,u,d))}reauthenticateWithPopup(u){return Kt(this.auth,function IM(p,u,d){return Uo.apply(this,arguments)}(this._delegate,u,go))}reauthenticateWithRedirect(u){var d=this;return(0,O.Z)(function*(){return yield ka(gn(d.auth)),SM(d._delegate,u,go)})()}sendEmailVerification(u){return function qe(p,u){return Pa.apply(this,arguments)}(this._delegate,u)}unlink(u){var d=this;return(0,O.Z)(function*(){return yield function iu(p,u){return Ud.apply(this,arguments)}(d._delegate,u),d})()}updateEmail(u){return function cu(p,u){return hs((0,X.m9)(p),u,null)}(this._delegate,u)}updatePassword(u){return function Ov(p,u){return hs((0,X.m9)(p),null,u)}(this._delegate,u)}updatePhoneNumber(u){return function Vo(p,u){return th.apply(this,arguments)}(this._delegate,u)}updateProfile(u){return function Tc(p,u){return Zi.apply(this,arguments)}(this._delegate,u)}verifyBeforeUpdateEmail(u,d){return function Mv(p,u,d){return Bs.apply(this,arguments)}(this._delegate,u,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ho.USER_MAP=new WeakMap;const wu=oe;let pC=(()=>{class p{constructor(d,g){if(this.app=d,g.isInitialized())return this._delegate=g.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:C}=d.options;wu(C,"invalid-api-key",{appName:d.name}),wu(C,"invalid-api-key",{appName:d.name});const P=typeof window<"u"?go:void 0;this._delegate=g.initialize({options:{persistence:iO(C,d.name),popupRedirectResolver:P}}),this._delegate._updateErrorMap(_r),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ho.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,g){!function Te(p,u,d){const g=gn(p);oe(g._canInitEmulator,g,"emulator-config-failed"),oe(/^https?:\/\//.test(u),g,"invalid-emulator-scheme");const C=!!d?.disableWarnings,P=rM(u),{host:D,port:V}=function Yn(p){const u=rM(p),d=/(\/\/)?([^?#/]+)/.exec(p.substr(u.length));if(!d)return{host:"",port:null};const g=d[2].split("@").pop()||"",C=/^(\[[^\]]+\])(:|$)/.exec(g);if(C){const P=C[1];return{host:P,port:Yl(g.substr(P.length+1))}}{const[P,D]=g.split(":");return{host:P,port:Yl(D)}}}(u);g.config.emulator={url:`${P}//${D}${null===V?"":`:${V}`}/`},g.settings.appVerificationDisabledForTesting=!0,g.emulatorConfig=Object.freeze({host:D,port:V,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:C})}),C||function iM(){function p(){const u=document.createElement("p"),d=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p())}()}(this._delegate,d,g)}applyActionCode(d){return function Ic(p,u){return Kr.apply(this,arguments)}(this._delegate,d)}checkActionCode(d){return eg(this._delegate,d)}confirmPasswordReset(d,g){return function Cr(p,u,d){return wr.apply(this,arguments)}(this._delegate,d,g)}createUserWithEmailAndPassword(d,g){var C=this;return(0,O.Z)(function*(){return Kt(C._delegate,function lM(p,u,d){return sn.apply(this,arguments)}(C._delegate,d,g))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return function Vs(p,u){return Us.apply(this,arguments)}(this._delegate,d)}isSignInWithEmailLink(d){return function po(p,u){const d=we.parseLink(u);return"EMAIL_SIGNIN"===d?.operation}(0,d)}getRedirectResult(){var d=this;return(0,O.Z)(function*(){wu(uC(),d._delegate,"operation-not-supported-in-this-environment");const g=yield function Er(p,u){return sh.apply(this,arguments)}(d._delegate,go);return g?Kt(d._delegate,Promise.resolve(g)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function YM(p,u){gn(p)._logFramework(u)}(this._delegate,d)}onAuthStateChanged(d,g,C){const{next:P,error:D,complete:V}=fC(d,g,C);return this._delegate.onAuthStateChanged(P,D,V)}onIdTokenChanged(d,g,C){const{next:P,error:D,complete:V}=fC(d,g,C);return this._delegate.onIdTokenChanged(P,D,V)}sendSignInLinkToEmail(d,g){return function Qe(p,u,d){return qt.apply(this,arguments)}(this._delegate,d,g)}sendPasswordResetEmail(d,g){return function li(p,u,d){return _t.apply(this,arguments)}(this._delegate,d,g||void 0)}setPersistence(d){var g=this;return(0,O.Z)(function*(){let C;switch(function eO(p,u){vu(Object.values(ki).includes(u),p,"invalid-persistence-type"),(0,X.b$)()?vu(u!==ki.SESSION,p,"unsupported-persistence-type"):(0,X.UG)()?vu(u===ki.NONE,p,"unsupported-persistence-type"):lC()?vu(u===ki.NONE||u===ki.LOCAL&&(0,X.hl)(),p,"unsupported-persistence-type"):vu(u===ki.NONE||XM(),p,"unsupported-persistence-type")}(g._delegate,d),d){case ki.SESSION:C=Oa;break;case ki.LOCAL:C=(yield K(Rc)._isAvailable())?Rc:du;break;case ki.NONE:C=Mt;break;default:return kt("argument-error",{appName:g._delegate.name})}return g._delegate.setPersistence(C)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return Kt(this._delegate,function Cv(p){return Vd.apply(this,arguments)}(this._delegate))}signInWithCredential(d){return Kt(this._delegate,$d(this._delegate,d))}signInWithCustomToken(d){return Kt(this._delegate,function Tt(p,u){return Xf.apply(this,arguments)}(this._delegate,d))}signInWithEmailAndPassword(d,g){return Kt(this._delegate,function Pe(p,u,d){return $d((0,X.m9)(p),nu.credential(u,d)).catch(function(){var g=(0,O.Z)(function*(C){throw"auth/password-does-not-meet-requirements"===C.code&&zd(p),C});return function(C){return g.apply(this,arguments)}}())}(this._delegate,d,g))}signInWithEmailLink(d,g){return Kt(this._delegate,function au(p,u,d){return cr.apply(this,arguments)}(this._delegate,d,g))}signInWithPhoneNumber(d,g){return Cu(this._delegate,function Uv(p,u,d){return hg.apply(this,arguments)}(this._delegate,d,g))}signInWithPopup(d){var g=this;return(0,O.Z)(function*(){return wu(uC(),g._delegate,"operation-not-supported-in-this-environment"),Kt(g._delegate,function OM(p,u,d){return gg.apply(this,arguments)}(g._delegate,d,go))})()}signInWithRedirect(d){var g=this;return(0,O.Z)(function*(){return wu(uC(),g._delegate,"operation-not-supported-in-this-environment"),yield ka(g._delegate),AM(g._delegate,d,go)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return function Gd(p,u){return tg.apply(this,arguments)}(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return p.Persistence=ki,p})();function fC(p,u,d){let g=p;"function"!=typeof p&&({next:g,error:u,complete:d}=p);const C=g;return{next:D=>C(D&&Ho.getOrCreate(D)),error:u,complete:d}}function iO(p,u){const d=function Ji(p,u){const d=Na();if(!d)return[];const g=Je(Bn,p,u);switch(d.getItem(g)){case ki.NONE:return[Mt];case ki.LOCAL:return[Rc,Oa];case ki.SESSION:return[Oa];default:return[]}}(p,u);if(typeof self<"u"&&!d.includes(Rc)&&d.push(Rc),typeof window<"u")for(const g of[du,Oa])d.includes(g)||d.push(g);return d.includes(Mt)||d.push(Mt),d}class Bg{constructor(){this.providerId="phone",this._delegate=new kc(Wc(Ue.Z.auth()))}static credential(u,d){return kc.credential(u,d)}verifyPhoneNumber(u,d){return this._delegate.verifyPhoneNumber(u,d)}unwrap(){return this._delegate}}Bg.PHONE_SIGN_IN_METHOD=kc.PHONE_SIGN_IN_METHOD,Bg.PROVIDER_ID=kc.PROVIDER_ID;const oO=oe;class jg{constructor(u,d,g=Ue.Z.app()){var C;oO(null===(C=g.options)||void 0===C?void 0:C.apiKey,"invalid-api-key",{appName:g.name}),this._delegate=new Kk(g.auth(),u,d),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function sO(p){p.INTERNAL.registerComponent(new En.wA("auth-compat",u=>{const d=u.getProvider("app-compat").getImmediate(),g=u.getProvider("auth");return new pC(d,g)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:nu,FacebookAuthProvider:vv,GithubAuthProvider:ru,GoogleAuthProvider:ko,OAuthProvider:Ec,SAMLAuthProvider:wa,PhoneAuthProvider:Bg,PhoneMultiFactorGenerator:$M,RecaptchaVerifier:jg,TwitterAuthProvider:Nd,Auth:pC,AuthCredential:va,Error:X.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),p.registerVersion("@firebase/auth-compat","0.4.8")}(Ue.Z)},861:(ss,gr,Ze)=>{function O(X,He,Pt,en,En,ir,dt){try{var se=X[ir](dt),he=se.value}catch(De){return void Pt(De)}se.done?He(he):Promise.resolve(he).then(en,En)}function Ue(X){return function(){var He=this,Pt=arguments;return new Promise(function(en,En){var ir=X.apply(He,Pt);function dt(he){O(ir,en,En,dt,se,"next",he)}function se(he){O(ir,en,En,dt,se,"throw",he)}dt(void 0)})}}Ze.d(gr,{Z:()=>Ue})},582:(ss,gr,Ze)=>{function He(z,q){var J={};for(var ne in z)Object.prototype.hasOwnProperty.call(z,ne)&&q.indexOf(ne)<0&&(J[ne]=z[ne]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var ce=0;for(ne=Object.getOwnPropertySymbols(z);ce<ne.length;ce++)q.indexOf(ne[ce])<0&&Object.prototype.propertyIsEnumerable.call(z,ne[ce])&&(J[ne[ce]]=z[ne[ce]])}return J}function De(z,q,J,ne){return new(J||(J=Promise))(function(Q,Ce){function yt(Et){try{Re(ne.next(Et))}catch(fn){Ce(fn)}}function _e(Et){try{Re(ne.throw(Et))}catch(fn){Ce(fn)}}function Re(Et){Et.done?Q(Et.value):function ce(Q){return Q instanceof J?Q:new J(function(Ce){Ce(Q)})}(Et.value).then(yt,_e)}Re((ne=ne.apply(z,q||[])).next())})}function tn(z){return this instanceof tn?(this.v=z,this):new tn(z)}function kt(z,q,J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,ne=J.apply(z,q||[]),Q=[];return ce={},Ce("next"),Ce("throw"),Ce("return"),ce[Symbol.asyncIterator]=function(){return this},ce;function Ce(Qt){ne[Qt]&&(ce[Qt]=function(yr){return new Promise(function(qn,Hr){Q.push([Qt,yr,qn,Hr])>1||yt(Qt,yr)})})}function yt(Qt,yr){try{!function _e(Qt){Qt.value instanceof tn?Promise.resolve(Qt.value.v).then(Re,Et):fn(Q[0][2],Qt)}(ne[Qt](yr))}catch(qn){fn(Q[0][3],qn)}}function Re(Qt){yt("next",Qt)}function Et(Qt){yt("throw",Qt)}function fn(Qt,yr){Qt(yr),Q.shift(),Q.length&&yt(Q[0][0],Q[0][1])}}function si(z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J,q=z[Symbol.asyncIterator];return q?q.call(z):(z=function xt(z){var q="function"==typeof Symbol&&Symbol.iterator,J=q&&z[q],ne=0;if(J)return J.call(z);if(z&&"number"==typeof z.length)return{next:function(){return z&&ne>=z.length&&(z=void 0),{value:z&&z[ne++],done:!z}}};throw new TypeError(q?"Object is not iterable.":"Symbol.iterator is not defined.")}(z),J={},ne("next"),ne("throw"),ne("return"),J[Symbol.asyncIterator]=function(){return this},J);function ne(Q){J[Q]=z[Q]&&function(Ce){return new Promise(function(yt,_e){!function ce(Q,Ce,yt,_e){Promise.resolve(_e).then(function(Re){Q({value:Re,done:yt})},Ce)}(yt,_e,(Ce=z[Q](Ce)).done,Ce.value)})}}}Ze.d(gr,{FC:()=>kt,KL:()=>si,_T:()=>He,mG:()=>De,qq:()=>tn}),"function"==typeof SuppressedError&&SuppressedError}},ss=>{ss(ss.s=292)}]);